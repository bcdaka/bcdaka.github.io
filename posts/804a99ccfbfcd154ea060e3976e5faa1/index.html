<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【动态规划】简单多状态 dp 问题 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/804a99ccfbfcd154ea060e3976e5faa1/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="【动态规划】简单多状态 dp 问题">
  <meta property="og:description" content="简单多状态 dp 问题 1.面试题 17.16. 按摩师2.打家劫舍 II3.删除并获得点数4.粉刷房子4.买卖股票的最佳时机含冷冻期5.买卖股票的最佳时机含手续费6.买卖股票的最佳时机 III7.买卖股票的最佳时机 IV 点赞👍👍收藏🌟🌟关注💖💖
你的支持是对我最大的鼓励，我们一起努力吧!😃😃
1.面试题 17.16. 按摩师 题目链接： 面试题 17.16. 按摩师
题目分析：
圆圈表示预约，每个预约可以接或不接，不能接受相邻的预约，最优的预约集合（总预约时间最长），返回总的分钟数。
算法原理：
1.状态表示
经验 &#43; 题目要求
dp[i] 表示：选择到 i 位置的时候，此时最长预约时长。
但是 i 位置可以选或者不选，因此继续细化
f[i] 表示：选择到 i 位置的时候，nums[i] 必选，此时最长预约时长
g[i] 表示：选择到 i 位置的时候，nums[i] 不选，此时最长预约时长
2.状态转移方程
f[i] 表示 必选 i 位置，此时最长预约时长。i 位置可以选，那 i - 1 位置就不能选了，而我们想要的是最长预约时长，那就把 0 ~ i- 1 区间内最长预约时长给我，这个最长预约时长保证 i - 1 位置必不选。而 g[i-1] 表示 i -1位置不选此时最长预约时长。当然也别忘记 i 位置的预约时长
g[i] 表示 不选 i 位置，此时最长预约时长。 i 位置不选，那 i - 1 位置可选可不选，我们要找的是 0 ~ i - 1区间最长预约时长，有两种情况，选 i - 1 位置 ，而 f[i - 1] 表示必选 i - 1 位置此时最长预约时长， 不选 i - 1 位置，g[i - 1] 表示 不选 i - 1 位置此时最长预约时长">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-08-24T09:55:52+08:00">
    <meta property="article:modified_time" content="2024-08-24T09:55:52+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【动态规划】简单多状态 dp 问题</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>简单多状态 dp 问题</h4> 
 <ul><li><a href="#1_1716__8" rel="nofollow">1.面试题 17.16. 按摩师</a></li><li><a href="#2_II_88" rel="nofollow">2.打家劫舍 II</a></li><li><a href="#3_175" rel="nofollow">3.删除并获得点数</a></li><li><a href="#4_280" rel="nofollow">4.粉刷房子</a></li><li><a href="#4_364" rel="nofollow">4.买卖股票的最佳时机含冷冻期</a></li><li><a href="#5_475" rel="nofollow">5.买卖股票的最佳时机含手续费</a></li><li><a href="#6_III_581" rel="nofollow">6.买卖股票的最佳时机 III</a></li><li><a href="#7_IV_734" rel="nofollow">7.买卖股票的最佳时机 IV</a></li></ul> 
</div> 
<p></p> 
<p><img src="https://images2.imgbox.com/d7/c0/5DIxaX2M_o.jpg" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p><strong>点赞</strong>👍👍<strong>收藏</strong>🌟🌟<strong>关注</strong>💖💖<br> <font color="red"><strong>你的支持是对我最大的鼓励，我们一起努力吧!😃😃</strong></font></p> 
</blockquote> 
<h2><a id="1_1716__8"></a>1.面试题 17.16. 按摩师</h2> 
<p><strong>题目链接：</strong> <a href="https://leetcode.cn/problems/the-masseuse-lcci/description/" rel="nofollow">面试题 17.16. 按摩师</a></p> 
<p><strong>题目分析：</strong></p> 
<p><img src="https://images2.imgbox.com/5e/d8/571Pyxf1_o.png" alt="在这里插入图片描述"></p> 
<p>圆圈表示预约，每个预约可以接或不接，不能接受相邻的预约，最优的预约集合（总预约时间最长），返回总的分钟数。<br> <img src="https://images2.imgbox.com/ff/ae/QbhhZqjQ_o.png" alt="在这里插入图片描述"></p> 
<p><strong>算法原理：</strong></p> 
<blockquote> 
 <p>1.状态表示</p> 
</blockquote> 
<p>经验 + 题目要求</p> 
<p>dp[i] 表示：选择到 i 位置的时候，此时最长预约时长。</p> 
<p>但是 i 位置可以选或者不选，因此继续细化</p> 
<p>f[i] 表示：选择到 i 位置的时候，nums[i] 必选，此时最长预约时长</p> 
<p>g[i] 表示：选择到 i 位置的时候，nums[i] 不选，此时最长预约时长</p> 
<p><img src="https://images2.imgbox.com/cf/eb/pLNDSogq_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>2.状态转移方程</p> 
</blockquote> 
<p>f[i] 表示 必选 i 位置，此时最长预约时长。i 位置可以选，那 i - 1 位置就不能选了，而我们想要的是最长预约时长，那就把 0 ~ i- 1 区间内最长预约时长给我，这个最长预约时长保证 i - 1 位置必不选。而 g[i-1] 表示 i -1位置不选此时最长预约时长。当然也别忘记 i 位置的预约时长</p> 
<p><img src="https://images2.imgbox.com/68/f3/4P9QZoaZ_o.png" alt="在这里插入图片描述"><br> g[i] 表示 不选 i 位置，此时最长预约时长。 i 位置不选，那 i - 1 位置可选可不选，我们要找的是 0 ~ i - 1区间最长预约时长，有两种情况，选 i - 1 位置 ，而 f[i - 1] 表示必选 i - 1 位置此时最长预约时长， 不选 i - 1 位置，g[i - 1] 表示 不选 i - 1 位置此时最长预约时长</p> 
<p><img src="https://images2.imgbox.com/ab/63/KRmmYbTk_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>3.初始化</p> 
</blockquote> 
<p>填表时不越界</p> 
<p>这里我们也可以添加虚拟节点，但是这道题初始化太简单了，因此就不要添加虚拟节点。填f[0]，g[0] 会越界，而f[0]表示必选0位置，g[0]表示不选0位置，因此</p> 
<p>f[0] = nums[0] ，g[0] = 0</p> 
<blockquote> 
 <p>4.填表</p> 
</blockquote> 
<p>从左往右两个表一起填</p> 
<blockquote> 
 <p>5.返回值</p> 
</blockquote> 
<p>返回到达最后一个位置时最长预约时长</p> 
<p>max( f[n - 1]，g[n - 1] )</p> 
<pre><code class="prism language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">int</span> <span class="token function">massage</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> nums<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 1.创建dp表</span>
        <span class="token comment">// 2.初始化</span>
        <span class="token comment">// 3.填表</span>
        <span class="token comment">// 4.返回值</span>

        <span class="token keyword">int</span> n <span class="token operator">=</span> nums<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>n <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//处理边界情况</span>
        vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">fdp</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
        vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">gdp</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
        fdp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> gdp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            fdp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> gdp<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
            gdp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>fdp<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>gdp<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> <span class="token function">max</span><span class="token punctuation">(</span>fdp<span class="token punctuation">[</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> gdp<span class="token punctuation">[</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<h2><a id="2_II_88"></a>2.打家劫舍 II</h2> 
<p><strong>题目链接：</strong> <a href="https://leetcode.cn/problems/house-robber-ii/description/" rel="nofollow">213. 打家劫舍 II</a></p> 
<p><strong>题目分析：</strong></p> 
<p><img src="https://images2.imgbox.com/cd/ad/aJnuueas_o.png" alt="在这里插入图片描述"></p> 
<p>这道题相比于打家劫舍I 多了这个条件：这个地方所有的房屋都 <strong>围成一圈</strong> ，这意味着第一个房屋和最后一个房屋是紧挨着的，也就是说现在成了一个环路了。</p> 
<p>同时，相邻的房屋装有相互连通的防盗系统，<strong>如果两间相邻的房屋在同一晚上被小偷闯入，系统会自动报警 。</strong></p> 
<p><strong>算法原理：</strong></p> 
<p>分类讨论：</p> 
<p>根据第一个位置选or不选可以把问题从环形问题转化为线性问题</p> 
<p><img src="https://images2.imgbox.com/2e/f3/K2B9j0KN_o.png" alt="在这里插入图片描述"><br> 接下来是打家劫舍I的分析，和上面那道题几乎一模一样</p> 
<blockquote> 
 <p>1.状态表示</p> 
</blockquote> 
<p>经验 + 题目要求</p> 
<p>f[i] 表示：偷到 i 位置的时候，偷 nums[i] ，此时的最大金额</p> 
<p>g[i] 表示：偷到 i 位置的时候，不偷 nums[i] ，此时的最大金额</p> 
<blockquote> 
 <p>2.状态转移方程</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/12/55/OoF9O6K7_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>3.初始化</p> 
</blockquote> 
<p>填表时不越界</p> 
<p>f[0] = nums[0] ，g[0] = 0</p> 
<blockquote> 
 <p>4.填表</p> 
</blockquote> 
<p>从左往右两个表一起填</p> 
<blockquote> 
 <p>5.返回值</p> 
</blockquote> 
<p>返回偷到最后一个位置时最大金额</p> 
<p>max( f[n - 1]，g[n - 1] )</p> 
<pre><code class="prism language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">int</span> <span class="token function">rob</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> nums<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">int</span> n <span class="token operator">=</span> nums<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//分类讨论两种情况下最大值</span>
        <span class="token keyword">return</span> <span class="token function">max</span><span class="token punctuation">(</span><span class="token function">dp</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> n<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token function">dp</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">int</span> <span class="token function">dp</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> nums<span class="token punctuation">,</span> <span class="token keyword">int</span> left<span class="token punctuation">,</span> <span class="token keyword">int</span> right<span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>left <span class="token operator">&gt;</span> right<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token comment">// 1.创建 dp 表</span>
        <span class="token comment">// 2.初始化</span>
        <span class="token comment">// 3.填表</span>
        <span class="token comment">// 4.返回值</span>

        <span class="token keyword">int</span> n <span class="token operator">=</span> nums<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">f</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
        vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">g</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
        f<span class="token punctuation">[</span>left<span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">,</span> g<span class="token punctuation">[</span>left<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> left <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> right<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            f<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> g<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
            g<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>f<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> g<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> <span class="token function">max</span><span class="token punctuation">(</span>f<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">,</span> g<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<h2><a id="3_175"></a>3.删除并获得点数</h2> 
<p><strong>题目链接：</strong> <a href="https://leetcode.cn/problems/delete-and-earn/description/" rel="nofollow">740. 删除并获得点数</a></p> 
<p><strong>题目分析：</strong></p> 
<p><img src="https://images2.imgbox.com/14/08/H9slJlj2_o.png" alt="在这里插入图片描述"></p> 
<p>给你一个整数数组 nums ，你可以对它进行一些操作。</p> 
<p>每次操作中，选择任意一个 nums[i] ，删除它并获得 nums[i] 的点数。之后，你必须删除 所有 等于 nums[i] - 1 和 nums[i] + 1 的元素。</p> 
<p>开始你拥有 0 个点数。返回你能通过这些操作获得的最大点数。</p> 
<p>对于删除它并获得 nums[i] 的点数。之后，你必须删除 所有 等于 nums[i] - 1 和 nums[i] + 1 的元素。删除 所有 等于 nums[i] - 1 和 nums[i] + 1 的元素也就是说值等于这两个的数不能选了。因此我们可以先对数组排一下序，方便找到 nums[i] - 1 和 nums[i] + 1 的 元素。</p> 
<p><img src="https://images2.imgbox.com/a7/51/JM2bgyCw_o.png" alt="在这里插入图片描述"></p> 
<p><strong>算法原理：</strong></p> 
<p><strong>一定要有这样的能力，碰到一个新题的时候，可以往之前做过的题方向靠！</strong></p> 
<p>比如这道题如果是有序的并且中间数没有少，就像打家劫舍的问题。比如说1、2、3、4、5。 选 1 之后不能选 2 了，是不是就是不能选择相邻的两个数并且要最终选择的数最大。</p> 
<p><img src="https://images2.imgbox.com/bf/cc/yFmsq48q_o.png" alt="在这里插入图片描述"></p> 
<p>所以如果说，数组是有序的话并且中间没有间隔，就是 “打家劫舍” 问题。</p> 
<p>但是这里的数并不是那么连续的。如果中间数断了，就不是 “打家劫舍” 问题。<br> 比如这里选 2 之后，还能选 4.</p> 
<p><img src="https://images2.imgbox.com/90/3e/J3rGhLCL_o.png" alt="在这里插入图片描述"></p> 
<p>所以我们可以先用数组arr，把这些数先统计一下。下标 i 表示这个数是几，arr[i] 表示 " i " 这个数出现的总和。为什么预处理到数组中，因为 下标 i 是有序的。</p> 
<p><img src="https://images2.imgbox.com/20/a6/3SIlMR8q_o.png" alt="在这里插入图片描述"></p> 
<p>然后就可以不要nums了，相当于在arr数组做一次 “打家劫舍” 。比如说选了下标1里面的数，那下标 2 里面的数就不能要了，也就相当于选择当前这个数，相邻的数不能选了。可以选后面其他的数。</p> 
<p><img src="https://images2.imgbox.com/b7/ed/QvuMDsbN_o.png" alt="在这里插入图片描述"></p> 
<p><strong>预处理：将数组中的数，统计到 arr 中，然后在 arr 中，做一次 “打家劫舍” 问题即可</strong></p> 
<blockquote> 
 <p>1.状态表示</p> 
</blockquote> 
<p>经验 + 题目要求</p> 
<p>f[i] 表示：选到 i 位置的时候， nums[i] 必选 ，此时能获得的最大点数</p> 
<p>g[i] 表示：偷到 i 位置的时候，nums[i] 不选，此时能获得的最大点数</p> 
<blockquote> 
 <p>2.状态转移方程</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/b9/e8/iNSjvnxE_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>3.初始化</p> 
</blockquote> 
<p>填表时不越界</p> 
<p>f[0] = arr[0] ，g[0] = 0</p> 
<blockquote> 
 <p>4.填表</p> 
</blockquote> 
<p>从左往右两个表一起填</p> 
<blockquote> 
 <p>5.返回值</p> 
</blockquote> 
<p>返回偷到最后一个位置时最大金额</p> 
<p>max( f[n - 1]，g[n - 1] )</p> 
<pre><code class="prism language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">int</span> <span class="token function">deleteAndEarn</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> nums<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 1. 预处理</span>
        <span class="token keyword">const</span> <span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token number">10001</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> arr<span class="token punctuation">[</span>n<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">auto</span> e <span class="token operator">:</span> nums<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            arr<span class="token punctuation">[</span>e<span class="token punctuation">]</span> <span class="token operator">+=</span> e<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 2.在 arr 数组上，做一次 "打家劫舍" 问题</span>

        <span class="token comment">// 1. 创建 dp 表</span>
        <span class="token comment">// 2. 初始化</span>
        <span class="token comment">// 3. 填表</span>
        <span class="token comment">// 4. 返回值</span>
        vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">f</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
        vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">g</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//这道题可以不用初始化</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n <span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            f<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> g<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
            g<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>f<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> g<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token function">max</span><span class="token punctuation">(</span>f<span class="token punctuation">[</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> g<span class="token punctuation">[</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<h2><a id="4_280"></a>4.粉刷房子</h2> 
<p><strong>题目链接：</strong> <a href="https://leetcode.cn/problems/JEj789/description/" rel="nofollow">LCR 091. 粉刷房子</a></p> 
<p><strong>题目分析：</strong></p> 
<p><img src="https://images2.imgbox.com/ae/50/Iy7tyvN4_o.png" alt="在这里插入图片描述"></p> 
<p>有n个房子，每个房子都可以被粉刷成红色，蓝色，绿色，相邻的房子颜色不能相同。每个房子粉刷成不同颜色的价格由一个3*n的矩阵给出，左边0 ~ 2表示房子，上面0 ~ 2表示每个房子被粉刷不能颜色的价格。要找到粉刷完所有房子最少的价格。</p> 
<p><img src="https://images2.imgbox.com/65/31/SKNKgi4x_o.png" alt="在这里插入图片描述"></p> 
<p><strong>算法原理：</strong></p> 
<blockquote> 
 <p>1.状态表示</p> 
</blockquote> 
<p>经验 + 题目要求</p> 
<p>以 i 位置为结尾，当涂到 i 位置的时候此时的最小花费，但是涂到 i 位置还可以细分，涂成红色，蓝色，绿色。</p> 
<p>dp[i][0] 表示：粉刷到 i 位置的时候，最后一个位置粉刷上 红色，此时的最小花费</p> 
<p>dp[i][1] 表示：粉刷到 i 位置的时候，最后一个位置粉刷上 蓝色，此时的最小花费</p> 
<p>dp[i][2] 表示：粉刷到 i 位置的时候，最后一个位置粉刷上 绿色，此时的最小花费</p> 
<p><img src="https://images2.imgbox.com/d5/38/B6CH0q5S_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>2.状态转移方程</p> 
</blockquote> 
<p>此时分三种情况讨论：</p> 
<p>如果 i 位置涂成红色这个位置花费已经固定了 cost[i][0]，我要的是最小花费，只要保证 0 ~ i -1 区间花费最小就行了。涂到 i - 1 位置只能涂成蓝色、绿色，dp[i-1][1]表示涂到 i - 1 位置涂蓝色此时最小花费，dp[i-1][2]表示涂到 i - 1 位置涂绿色此时最小花费，因此 i 位置涂成红色状态转移方程就处理了，剩下也是这样的处理：</p> 
<p><img src="https://images2.imgbox.com/ab/49/NALSDbQF_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>3.初始化</p> 
</blockquote> 
<p>填表时不越界</p> 
<p>这里我们可以多申请一个空间。这样就可以把初始化放到填表里面了。但是要注意两点：</p> 
<ol><li>虚拟节点里面的值，要保证后序填表时正确的</li><li>下标的映射关系</li></ol> 
<p>首先看虚拟节点里面的值应该填多少，可以先考虑没有虚拟节点第一个位置应该填多少，是不是填的是自己本身啊，因此虚拟节点里面的值我们给0。</p> 
<p>因为我们多开一个空间，相当于整体向右移一位，如果要回去应该 下标应该减 1。</p> 
<p><img src="https://images2.imgbox.com/dd/78/LFWj1fir_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>4.填表</p> 
</blockquote> 
<p>从左往右三个表一起填</p> 
<blockquote> 
 <p>5.返回值</p> 
</blockquote> 
<p>返回涂到最后一个位置，涂成红，蓝，绿最小花费</p> 
<p>min（dp[n][0]，dp[n][1]，dp[n][2]）</p> 
<pre><code class="prism language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">int</span> <span class="token function">minCost</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;&gt;</span><span class="token operator">&amp;</span> costs<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 1. 创建 dp 表</span>
        <span class="token comment">// 2. 初始化</span>
        <span class="token comment">// 3. 填表</span>
        <span class="token comment">// 4. 返回值</span>

        <span class="token keyword">int</span> n <span class="token operator">=</span> costs<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;&gt;</span> <span class="token function">dp</span><span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token generic-function"><span class="token function">vector</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">min</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> costs<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">min</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> costs<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">min</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> costs<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> <span class="token function">min</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token function">min</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<h2><a id="4_364"></a>4.买卖股票的最佳时机含冷冻期</h2> 
<p><strong>题目链接：</strong> <a href="https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-with-cooldown/description/" rel="nofollow">309. 买卖股票的最佳时机含冷冻期<br> </a></p> 
<p><strong>题目分析：</strong></p> 
<p><img src="https://images2.imgbox.com/24/1e/5bnOTeBS_o.png" alt="在这里插入图片描述"></p> 
<p>卖出股票后，你无法在第二天买入股票 (即冷冻期为 1 天)。</p> 
<p><strong>这里的「处于冷冻期」指的是在第 i 天结束之后的状态。也就是说：如果第 i 天结束之后处于冷冻期，那么第 i+1 天无法买入股票。</strong></p> 
<p>注意：你不能同时参与多笔交易（你必须在再次购买前出售掉之前的股票）<br> <img src="https://images2.imgbox.com/ae/f1/eXcNW5HZ_o.png" alt="在这里插入图片描述"></p> 
<p><strong>算法原理：</strong></p> 
<blockquote> 
 <p>1.状态表示</p> 
</blockquote> 
<p>经验 + 题目要求</p> 
<p>dp[i] 表示 第 i 天结束之后，此时最大利润。继续细分：</p> 
<p>i 天结束之后，此时处于 " 买入" 状态</p> 
<p>i 天结束之后，此时处于 " 可交易（卖出后手里没有股票了并且此时不处于冷冻期）" 状态</p> 
<p>i 天结束之后，此时处于 " 冷冻期 " 状态</p> 
<p>dp[i][0] 表示： 第 i 天结束之后，处于 " 买入 " 状态，此时的最大利润<br> dp[i][1] 表示： 第 i 天结束之后，处于 " 可交易 " 状态，此时的最大利润<br> dp[i][2] 表示： 第 i 天结束之后，处于 " 冷冻期" 状态，此时的最大利润</p> 
<p><img src="https://images2.imgbox.com/41/2f/69SwU1A2_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>2.状态转移方程</p> 
</blockquote> 
<p>此时分三种情况讨论：</p> 
<p>可以画一个<strong>状态机</strong>，看自己能不能到自己，自己能不能到其他。</p> 
<p><img src="https://images2.imgbox.com/1b/89/im69Z2zt_o.png" alt="在这里插入图片描述"><br> 比如在 i 天结束处于买入状态，看 i - 1 天是什么状态然后满足 i 天结束处于买入状态。</p> 
<p>如果 i - 1 天结束处于买入状态，那 i 天啥也不干，依旧处于 买入状态。<br> 如果 i - 1 天结束处于冷冻期，也就说 i 天不能进行任何操作，所以进不了 买入状态。<br> 如果 i - 1 天结束处于可交易状态，只要把 i 天 股票买了就进入买入状态。</p> 
<p><img src="https://images2.imgbox.com/1a/8d/vQkXRQao_o.png" alt="在这里插入图片描述"><br> 在 i 天结束处于冷冻期状态，看 i - 1 天是什么状态然后满足 i 天结束处于冷冻期</p> 
<p>i - 1 天结束处于冷冻期不能 i 天也处于冷冻期，不能卖了还卖只有一支股票。<br> i - 1 天结束处于买入状态，i 天卖掉股票，i天之后就处于冷冻期了。<br> i - 1 天结束处于可交易，手里没有股票可以卖，不能到冷冻期</p> 
<p><img src="https://images2.imgbox.com/fa/45/4RU6xOvS_o.png" alt="在这里插入图片描述"><br> 在 i 天结束处于可交易状态，看 i - 1 天是什么状态然后满足 i 天结束处于可交易</p> 
<p>i - 1 天结束处于可交易，i 天啥也不干，还是可交易状态。<br> i - 1 天结束处于买入状态，i天先要把股票卖了i天结束之后处于冷冻期，才能进入可交易。<br> i - 1 天结束处于冷冻期，i 天啥也不干，就进入i天结束处于可交易</p> 
<p><img src="https://images2.imgbox.com/b7/0a/ZU0DF9YS_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/e1/b7/nHmleAdF_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>3.初始化</p> 
</blockquote> 
<p>填表时不越界</p> 
<p>dp[0][0] (买入状态) = -p[0]<br> dp[0][1] (可交易) = 0<br> dp[0][2] (冷冻状态) = 0</p> 
<blockquote> 
 <p>4.填表</p> 
</blockquote> 
<p>从左往右三个表一起填</p> 
<blockquote> 
 <p>5.返回值</p> 
</blockquote> 
<p>返回最后一个位置最大利润，i 天 还买股票肯定是不行的。</p> 
<p>max（dp[n-1][1]，dp[n-1][2]）</p> 
<pre><code class="prism language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">int</span> <span class="token function">maxProfit</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> prices<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 1.创建 dp 表</span>
        <span class="token comment">// 2.初始化</span>
        <span class="token comment">// 3.填表</span>
        <span class="token comment">// 4.返回值</span>

        <span class="token keyword">int</span> n <span class="token operator">=</span> prices<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;&gt;</span> <span class="token function">dp</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span><span class="token generic-function"><span class="token function">vector</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span>prices<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>dp<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> prices<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>dp<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> dp<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> prices<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token function">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>dp<span class="token punctuation">[</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<h2><a id="5_475"></a>5.买卖股票的最佳时机含手续费</h2> 
<p><strong>题目链接：</strong> <a href="https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-with-transaction-fee/description/" rel="nofollow">714. 买卖股票的最佳时机含手续费v</a></p> 
<p><strong>题目分析：</strong></p> 
<p><img src="https://images2.imgbox.com/c9/12/f8GibFDK_o.png" alt="在这里插入图片描述"></p> 
<p>给定一个整数数组 prices，其中 prices[i]表示第 i 天的股票价格 ；整数 fee 代表了交易股票的手续费用。</p> 
<p>你可以无限次地完成交易，但是你每笔交易都需要付手续费。如果你已经购买了一个股票，在卖出它之前你就不能再继续购买股票了。</p> 
<p>返回获得利润的最大值。</p> 
<p>注意：这里的一笔交易指买入持有并卖出股票的整个过程，每笔交易你只需要为支付一次手续费。</p> 
<p>上面意思是，买卖一次股票，要支付手续费，要不就是买支付要么就是卖支付，只用支付一次。并且手里只能有一支股票，卖出去之前不能再次买入。你可以无限次完成交易，返回获得利润的最大值。</p> 
<p><img src="https://images2.imgbox.com/68/fd/ofWM3uy3_o.png" alt="在这里插入图片描述"></p> 
<p><strong>算法原理：</strong></p> 
<blockquote> 
 <p>1.状态表示</p> 
</blockquote> 
<p>经验 + 题目要求</p> 
<p>dp[i] 表示 第 i 天结束之后，此时最大利润。但第 i 天结束之后可以细化为两种状态：</p> 
<p>f[i] 表示：第 i 天结束之后，处于 “买入” 状态，此时的最大利润<br> g[i] 表示：第 i 天结束之后，处于 “卖入” 状态，此时的最大利润</p> 
<p>我们可以搞两个dp表或者开一个dp(2*n)表<br> <img src="https://images2.imgbox.com/f0/67/1GGAvhaA_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>2.状态转移方程</p> 
</blockquote> 
<p><strong>如果是多状态，并且多状态之间可以相互转移，为了可以不重不漏的把所有情况都考虑到，建议画一个状态机，先看自己能不能到自己，在看其他的能不能到自己。</strong> 这样就可以把所有情况不重不漏的找出来。然后状态转移方程就可以根据这个图直接得到。</p> 
<p><img src="https://images2.imgbox.com/5d/08/k5xnmD0V_o.png" alt="在这里插入图片描述"><br> i 天结束之后处于买入状态，就看 i - 1 天结束的状态。</p> 
<p>i - 1 天结束处于买入状态，i 天啥也不干，也处于买入状态<br> i - 1 天结束处于卖出状态，i 天把股票买了，i 天结束处于买入状态</p> 
<p><img src="https://images2.imgbox.com/a0/f7/KUlhzKe4_o.png" alt="在这里插入图片描述"></p> 
<p>i 天结束之后处于卖出状态，就看 i - 1 天结束的状态。</p> 
<p>i - 1 天结束处于卖出状态，i 天啥也不干，i 天结束之后也处于卖出状态<br> i - 1 天结束处于买入状态，i 天把股票卖掉，i 天结束之后处于卖出状态</p> 
<p>别忘记买卖股票是有手续费的，这里我们在卖出股票交手续费。</p> 
<p><img src="https://images2.imgbox.com/31/65/6DI8DuTH_o.png" alt="在这里插入图片描述"></p> 
<p>状态转移方程就出来了<br> <img src="https://images2.imgbox.com/5c/9f/GjX2MAlR_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>3.初始化</p> 
</blockquote> 
<p>可以申请虚拟节点，但是没必要。<br> 这里填f[0] 和 g[0] 会越界。我们处理一下。</p> 
<p>f[0] 表示第 0 天结束之后，处于 “买入” 状态，那就把股票买了就行了，<br> f[0] = -p[0]</p> 
<p>g[0] 表示第 0 天结束之后，处于 “卖出” 状态，卖出手里得有股票啊但是并没有，那第 0 天啥也不干不，不还是处于卖出状态吗<br> g[0] = 0</p> 
<blockquote> 
 <p>4.填表</p> 
</blockquote> 
<p>从左往右，两个表一起填</p> 
<blockquote> 
 <p>5.返回值</p> 
</blockquote> 
<p>如果最后一天处于买入状态，你能获得最大利润吗？肯定不如最后一天卖入状态！</p> 
<p>返回 g[n-1]</p> 
<pre><code class="prism language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">int</span> <span class="token function">maxProfit</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> prices<span class="token punctuation">,</span> <span class="token keyword">int</span> fee<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 1. 创建 dp 表</span>
        <span class="token comment">// 2. 初始化</span>
        <span class="token comment">// 3. 填表</span>
        <span class="token comment">// 4. 返回值</span>

        <span class="token keyword">int</span> n <span class="token operator">=</span> prices<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">f</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
        vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">g</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
        f<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span>prices<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            f<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>f<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> g<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> prices<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            g<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>g<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> f<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> prices<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> fee<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> g<span class="token punctuation">[</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<h2><a id="6_III_581"></a>6.买卖股票的最佳时机 III</h2> 
<p><strong>题目链接：</strong> <a href="https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-iii/description/" rel="nofollow">123. 买卖股票的最佳时机 III</a></p> 
<p><strong>题目分析：</strong></p> 
<p><img src="https://images2.imgbox.com/11/b2/Wl6mwMn4_o.png" alt="在这里插入图片描述"></p> 
<p>这道题还是买卖股票求最大利润，但是和前面无限次交易相比，你最多可以完成 <strong>两笔</strong> 交易。也就是说只能买卖两次！并且手里股票卖了之后才能在买股票。</p> 
<p><img src="https://images2.imgbox.com/d2/42/IOR8SiPo_o.png" alt="在这里插入图片描述"></p> 
<p><strong>算法原理：</strong></p> 
<blockquote> 
 <p>1.状态表示</p> 
</blockquote> 
<p>经验 + 题目要求</p> 
<p>dp[i] 表示 第 i 天结束之后，所获得得最大利润，但是股票问题在第 i 天结束之后可以划分很多子状态，比如第 i 天结束手里有股票或者没有股票，此时就可以分为"卖入" 和 “卖出” 状态，而且这道题更为特殊最多只能完成两笔交易，所以我们可以有更多子状态：</p> 
<p>第 i 天结束 ，完成 0 笔交易 此时处于 买入 状态、完成 1 笔交易 此时处于 买入 状态、完成 2 笔交易 此时处于 买入 状态。</p> 
<p>第 i 结束，完成 0 笔交易 此时处于 卖出 状态，完成 1 笔交易 此时处于 卖出 状态，完成 2 笔交易 此时处于 卖出 状态。</p> 
<p>所以不仅要有买入、卖出状态还要加上交易次数。因此我们定义两个二维数组，<br> i 表示天数，j表示交易次数。<br> <img src="https://images2.imgbox.com/56/ba/4W0MtHYj_o.png" alt="在这里插入图片描述"></p> 
<p><strong>f[i][j] 表示： 第 i 天结束之后，完成了 j 次交易，此时处于 “买入” 状态下的，最大利润</strong></p> 
<p><strong>g[i][j] 表示： 第 i 天结束之后，完成了 j 次交易，此时处于 “卖入” 状态下的，最大利润</strong></p> 
<blockquote> 
 <p>2.状态转移方程</p> 
</blockquote> 
<p>如果有多个状态并且多个状态之间还能相互转化，建议画个状态机。</p> 
<p>这条线的起点表示 i - 1 天结束之后的状态，线表示 i 天的操作，箭头所指的是当天结束之后的状态。</p> 
<p><img src="https://images2.imgbox.com/6e/4f/sRogzdW1_o.png" alt="在这里插入图片描述"><br> i 天结束之后处于买入状态：</p> 
<p>i - 1 天结束之后也处于买入状态，i 天啥也不干， i 天结束之后还是处于买入状态<br> i - 1 天结束之后处于卖出状态，i 天买入当天股票，i 天结束之后处于买入状态</p> 
<p><img src="https://images2.imgbox.com/f4/29/0ZwNcW8B_o.png" alt="在这里插入图片描述"></p> 
<p>i 天结束之后处于卖出状态:</p> 
<p>i - 1 天结束之后处于卖出状态，i 天啥也不干，i 天结束之后还是处于卖出状态<br> i -1 天结束之后处于买入状态，i 天卖出股票，i 天结束之后处于卖出状态</p> 
<p>但是这道题要注意，这道题要把交易次数加上，在转化的过程那一步会改变交易的次数呢？<br> 前一天买了股票，如果今天把股票给卖了之后，在今天结束之后，是不是相当于完成了一笔交易，然后交易次数+1。</p> 
<p><img src="https://images2.imgbox.com/0e/c5/rNIPp4Nf_o.png" alt="在这里插入图片描述"></p> 
<p>此时状态转移方程就出来了：</p> 
<p>f[i][j] = max（f[i-1][j]（前一天处于买入状态，今天啥也不干，交易次数不变），g[i-1][j]（前一天处于卖出状态， 今天只是买股票，并没有卖，没有完成交易，因此交易次数不变）- p[i]）</p> 
<p><img src="https://images2.imgbox.com/3f/5d/NuIDxkJQ_o.png" alt="在这里插入图片描述"></p> 
<p>g[i][j] = max(g[i-1][j]（前一天完成了一笔交易，但是今天啥也不干，交易次数不变），f[i-1][j-1]（第 i 天结束之后 j 的交易次数要 + 1，我要找到昨天的交易次数那是不是 j 要 -1。也就是说今天是交易2次的话，我要找到昨天交易1次的次数买入，今天卖掉交易次数不就是变成2次了， 所以是 j - 1）+ p[i])</p> 
<p><img src="https://images2.imgbox.com/62/7d/oiS3VEV7_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>3.初始化</p> 
</blockquote> 
<p>f 要用到 f的 i-1，g的 i-1，因此要初始化 f 第一行 和 g 第一行。<br> g要用到 g的i-1，f的 i-1，j-1。<br> 总结来说 f 要初始化第一行第一列，g 初始化第一行。<br> <strong>碰到这种情况其实有一种技巧，通过<font color="red">修改状态转移方程</font></strong><br> g[i][j]，当 j = 0的时候，f[i-1][j-1] j - 1会越界，表示在 i - 1 天完成了 -1 笔交易，这种状态根本不存在，所以可以修改状态转移方程，满足的情况的时候在比较。</p> 
<p><img src="https://images2.imgbox.com/e7/f8/v0JZqnyX_o.png" alt="在这里插入图片描述"></p> 
<p>为什么这样初始化，分析f表发现初始f和g表第一行就可以，分析g表发现某个位置会影响初始化，所以就把这个位置单独处理。所以初始化只用初始化第一行就可以了。如何处理，加一个判断即可！</p> 
<p>目前我们已经学了三个初始化技巧！</p> 
<p>不过这里还没有完，f表和g表第一行初始看给什么。</p> 
<p>因为我们交易次数是有限制的，所以要珍惜交易次数，尽量不要当天买了之后又卖。所以第 0 天的时候，完成一笔交易、两笔交易是不存在的，并且因为我们求得是max不想它们干扰后面的结果，所以我们可以给第 0 天给买和卖 第一笔交易、两笔交易都给－∞。</p> 
<p><img src="https://images2.imgbox.com/2a/22/Q8rrZTje_o.png" alt="在这里插入图片描述"></p> 
<p>f[0][0]表示： 第 0 天结束之后，完成了 0 次交易，此时处于 “买入” 状态下的，是不是把第 0 天股票买了才行 ，所以 <strong>f[0][0] = -p[0]</strong></p> 
<p>g[0][0] 表示： 第 0 天结束之后，完成了 0 次交易，此时处于 “卖入” 状态下的，卖出是手里没有股票的状态，那第 0 天我什么都不敢不就好了，所以<strong>g[0][0] = 0</strong></p> 
<p>但是这里有个<strong>细节</strong>：</p> 
<p>如果你选的是 INI_MIN 去初始化，这里发生减操作，INI_MIN - 1 绝对会越界！！！超出int的范围。因此：</p> 
<p>如果是求<strong>最大值</strong> 不要选 INI_MIN，选择<font color="red"> <strong>- 0x3f3f3f3f</strong> </font>去初始化，（0x3f3f3f3f是是int最大值的一半）。<strong>这个数的好处在于足够小。并且在这个数上做加减操作不会越界！</strong></p> 
<p>求最小值，不要选 INI_MAX，选择 <font color="red"> <strong>-0x3f3f3f3f</strong> </font>去初始化。</p> 
<p><img src="https://images2.imgbox.com/b6/fd/D3nI7aEk_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>4.填表顺序</p> 
</blockquote> 
<p>从上到下填写每一行，每一行从左往右，两个表一起填</p> 
<blockquote> 
 <p>5.返回值</p> 
</blockquote> 
<p>最大利润可能是交易0次、1次、2次，所以返回g表的最后一行里面的最大值。<br> f 表第 i 填处于买入状态，根本不可能比 g 表第 i 填处于卖出状态利润大。</p> 
<pre><code class="prism language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">int</span> <span class="token function">maxProfit</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> prices<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 1.创建 dp 表</span>
        <span class="token comment">// 2.初始化</span>
        <span class="token comment">// 3.填表</span>
        <span class="token comment">// 4.返回值</span>
        <span class="token keyword">const</span> <span class="token keyword">int</span> INF <span class="token operator">=</span> <span class="token number">0x3f3f3f3f</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> n <span class="token operator">=</span> prices<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;&gt;</span> <span class="token function">f</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> <span class="token generic-function"><span class="token function">vector</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token operator">-</span>INF<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">auto</span> g <span class="token operator">=</span> f<span class="token punctuation">;</span>
        f<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span>prices<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        g<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token operator">++</span>j<span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                f<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>f<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> g<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">-</span> prices<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                g<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> g<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>j <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">//如果该状态存在</span>
                    g<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>g<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> f<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> prices<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token comment">//找到最后一行最大值</span>
        <span class="token keyword">int</span> ret <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">auto</span><span class="token operator">&amp;</span> e <span class="token operator">:</span> g<span class="token punctuation">[</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            ret <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span>ret<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> ret<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<h2><a id="7_IV_734"></a>7.买卖股票的最佳时机 IV</h2> 
<p><strong>题目链接：</strong> <a href="https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-iv/description/" rel="nofollow">188. 买卖股票的最佳时机 IV</a></p> 
<p><strong>题目分析：</strong></p> 
<p><img src="https://images2.imgbox.com/6f/81/BEPiouai_o.png" alt="在这里插入图片描述"></p> 
<p>这道题和上面的题几乎完全一模一样，上面最多只能进行两笔交易，而这道题<strong>最多</strong>能完成 k 笔交易。也就是小于等于k笔交易都行</p> 
<p><img src="https://images2.imgbox.com/4b/25/89Tfsaf0_o.png" alt="在这里插入图片描述"></p> 
<p><strong>算法原理：</strong></p> 
<p>和上面几乎一模一样，不过可以这里可以处理一个细节问题，可以提高时间复杂度和空间复杂度</p> 
<p>如果给了 20 天 ， k = 30，可以进行30笔交易。但是 20 天最多只能进行 20 / 2 =10笔交易，k 给多了就是浪费，因此处理一下k， k = min（k，n / 2）</p> 
<pre><code class="prism language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">int</span> <span class="token function">maxProfit</span><span class="token punctuation">(</span><span class="token keyword">int</span> k<span class="token punctuation">,</span> vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> prices<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

        <span class="token comment">//处理细节问题</span>
        <span class="token keyword">int</span> n <span class="token operator">=</span> prices<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        k <span class="token operator">=</span> <span class="token function">min</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span> n <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 1.创建 dp 表</span>
        <span class="token comment">// 2.初始化</span>
        <span class="token comment">// 3.填表</span>
        <span class="token comment">// 4.返回值</span>

        <span class="token keyword">const</span> <span class="token keyword">int</span> INF <span class="token operator">=</span> <span class="token number">0x3f3f3f3f</span><span class="token punctuation">;</span>
        vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;&gt;</span> <span class="token function">f</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> <span class="token generic-function"><span class="token function">vector</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>k <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span>INF<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">auto</span> g <span class="token operator">=</span> f<span class="token punctuation">;</span>
        f<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span>prices<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> g<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> k <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token operator">++</span>j<span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                f<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>f<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> g<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">-</span> prices<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                g<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> g<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>j <span class="token operator">&gt;=</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token comment">//如果状态存在</span>
                    g<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>g<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> f<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> prices<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">int</span> ret <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">auto</span><span class="token operator">&amp;</span> e <span class="token operator">:</span> g<span class="token punctuation">[</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
            ret <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>ret<span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> ret<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/9c2bc5d28d87e55e0ee439f201de6e8d/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">当外接硬盘接入到macOS上，只读不可写时，应当格式化</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a222c5cfb49f7ebb07120a544b0e2f9c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">树莓派开发笔记13-树莓派环境下的CSI摄像头实验</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>