<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【Python】自定义修改pip下载模块默认的安装路径 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/b02d14c9b1bf85e8fc809211ec190665/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="【Python】自定义修改pip下载模块默认的安装路径">
  <meta property="og:description" content="因为电脑下载了Anaconda提供的默认Python 3.9 以及后期下载的python3.10所以在Pychram进行项目开发时，发现一些库怎么导入都导入不了，手动install也是失败，后期在cmd里面发现python以及pip配置有点儿混乱，导致执行命令时，下载的Lib库都在3.9下，但是Pychram编译环境是在3.10下，所以一直报红
一、对于 Windows 系统： 右键点击“计算机”或“此电脑”，选择“属性”。点击“高级系统设置”。在“系统属性”窗口中选择“环境变量”。在“系统变量”或“用户变量”中找到 Path 变量，选择它，然后点击“编辑”。添加 pip 的路径到列表中，例如：C:\Python310\Scripts\。点击“确定”保存更改。 之后，你可以直接在命令行中使用 pip --version 命令，因为现在系统会知道去哪里找 pip 可执行文件。
需要重新配置python3.10的环境变量，将之前安装Anaconda的python3.9给覆盖掉
配置成功后，发现pip的版本才22.0.4太低了，不足以下载tensorflow相关的库
没配好环境变量前，pip的version是24.0，但是path是python 3.9下的（所以提示pip版本太低，一直没发现猫腻，原来是path对不上）
配置成功后，可以执行 pip install tensorflow
安装成功！！！
二、修改pip文件下载模块的默认存储路径 pip.ini文件位置一般在C盘C:\Users…\AppData\Roaming\pip
方式一、在cmd下执行指令，其中：C:\Users\Cappuccino\AppData\Local\Programs\Python\Python310\Lib\site-packages 为需要安装的pip安装源位置，具体如下所示： pip config set global.target C:\Users\Cappuccino\AppData\Local\Programs\Python\Python310\Lib\site-packages 方式二、直接在pip.ini文件中直接修改，第一行是镜像源，第二行是pip文件修改位置。 [global] index-url = https://mirrors.aliyun.com/pypi/simple/ target = C:\Users\Cappuccino\AppData\Local\Programs\Python\Python310\Lib\site-packages 如果是刚配置的python环境，pip.ini文件是没有的，需要在执行完cmd执行指令之后才会生成，如果没有这个文件也可以手动创建该文件，文件路径：C:\Users…\AppData\Roaming\pip,具体如下图所示：
修改cmd情况下pip指令显示的模块地址与pycharm配置的环境中显示的文件地址： 步骤一：找到site.py文件位置 执行指令：python -m site -help
我的路径是在这块，一般都是在python路径下面，也可以执行指令：where python来查看python路径
步骤二、修改USER_SITE及USER_BASE值 未修改前一般是于python同一目录，因其为python文件，建议路径前面加r以免出现转义字符（r的作用：表示双引号当中为字符串，忽视当中可能出现的转义字符）具体如下所示：
USER_SITE = r&#34;C:\Users\Cappuccino\AppData\Local\Programs\Python\Python310\Lib\site-packages&#34; USER_BASE = r&#34;C:\Users\Cappuccino\AppData\Local\Programs\Python\Python310&#34; 步骤三：验证是否成功，执行指令：python -m site 说明 两个操作修改的作用位置不同，只修改pip.ini文件，在cmd情况下下载的模块包依旧会默认下载到需要的位置，但是如果未配置site.py文件，则pycharm读取的模块地址及cmd指令下如：pip list显示的模块位置默认还是python解析器下的地址，并非一回事。
该操作主要是考虑到自己的代码因为同步git的原因，在公司及自己的电脑上敲代码时为了避免每次都要下载模块包，为了避免麻烦而将模块包连同项目一并上传到git进行了托管，配置pip读取位置可以有效的避免模块读取位置及模块下载位置均可同步到git中。
三、镜像源 解决使用pip安装时报错Could not fetch URL https://pypi.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-04-21T19:51:42+08:00">
    <meta property="article:modified_time" content="2024-04-21T19:51:42+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【Python】自定义修改pip下载模块默认的安装路径</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <blockquote> 
 <p>因为电脑下载了Anaconda提供的默认Python 3.9 以及后期下载的python3.10所以在Pychram进行项目开发时，发现一些库怎么导入都导入不了，手动install也是失败，后期在cmd里面发现python以及pip配置有点儿混乱，导致执行命令时，下载的Lib库都在3.9下，但是Pychram编译环境是在3.10下，所以一直报红</p> 
</blockquote> 
<h3><a id="_Windows__1"></a>一、对于 Windows 系统：</h3> 
<ol><li>右键点击“计算机”或“此电脑”，选择“属性”。</li><li>点击“高级系统设置”。</li><li>在“系统属性”窗口中选择“环境变量”。</li><li>在“系统变量”或“用户变量”中找到 Path 变量，选择它，然后点击“编辑”。</li><li>添加 pip 的路径到列表中，例如：C:\Python310\Scripts\。</li><li>点击“确定”保存更改。</li></ol> 
<p>之后，你可以直接在命令行中使用 <code>pip --version</code> 命令，因为现在系统会知道去哪里找 pip 可执行文件。</p> 
<p>需要重新配置python3.10的环境变量，将之前安装Anaconda的python3.9给覆盖掉<br> <img src="https://images2.imgbox.com/78/3c/q5h66bjf_o.png" alt="在这里插入图片描述"><br> 配置成功后，发现pip的版本才22.0.4太低了，不足以下载tensorflow相关的库<br> <img src="https://images2.imgbox.com/e5/0c/uoQQSEim_o.png" alt="在这里插入图片描述"><br> 没配好环境变量前，pip的version是24.0，但是path是python 3.9下的（所以提示pip版本太低，一直没发现猫腻，原来是path对不上）<br> <img src="https://images2.imgbox.com/78/bd/VJMlRILg_o.png" alt="在这里插入图片描述"><br> 配置成功后，可以执行 <code>pip install tensorflow</code><br> <img src="https://images2.imgbox.com/f5/16/AOuhL9hh_o.png" alt="在这里插入图片描述"><br> 安装成功！！！<br> <img src="https://images2.imgbox.com/19/60/P9FUVQFJ_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="pip_23"></a>二、修改pip文件下载模块的默认存储路径</h3> 
<p>pip.ini文件位置一般在C盘C:\Users…\AppData\Roaming\pip</p> 
<h6><a id="cmdCUsersCappuccinoAppDataLocalProgramsPythonPython310Libsitepackages_pip_26"></a>方式一、在cmd下执行指令，其中：C:\Users\Cappuccino\AppData\Local\Programs\Python\Python310\Lib\site-packages 为需要安装的pip安装源位置，具体如下所示：</h6> 
<pre><code class="prism language-cpp">pip config set global<span class="token punctuation">.</span>target C<span class="token operator">:</span>\Users\Cappuccino\AppData\Local\Programs\Python\Python310\Lib\site<span class="token operator">-</span>packages
</code></pre> 
<h6><a id="pipinipip_32"></a>方式二、直接在pip.ini文件中直接修改，第一行是镜像源，第二行是pip文件修改位置。</h6> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>global<span class="token punctuation">]</span>
index-url <span class="token operator">=</span> https://mirrors.aliyun.com/pypi/simple/
target <span class="token operator">=</span> C:<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Cappuccino<span class="token punctuation">\</span>AppData<span class="token punctuation">\</span>Local<span class="token punctuation">\</span>Programs<span class="token punctuation">\</span>Python<span class="token punctuation">\</span>Python310<span class="token punctuation">\</span>Lib<span class="token punctuation">\</span>site-packages
</code></pre> 
<p><img src="https://images2.imgbox.com/29/a3/gjt6jQXC_o.png" alt="在这里插入图片描述"><br> <strong>如果是刚配置的python环境，pip.ini文件是没有的，需要在执行完cmd执行指令之后才会生成</strong>，如果没有这个文件也可以手动创建该文件，文件路径：C:\Users…\AppData\Roaming\pip,具体如下图所示：<br> <img src="https://images2.imgbox.com/bf/de/t0jkVYmL_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="cmdpippycharm_43"></a>修改cmd情况下pip指令显示的模块地址与pycharm配置的环境中显示的文件地址：</h5> 
<h6><a id="sitepy_44"></a>步骤一：找到site.py文件位置</h6> 
<p>执行指令：<code>python -m site -help</code></p> 
<p>我的路径是在这块，一般都是在python路径下面，也可以执行指令：where python来查看python路径<br> <img src="https://images2.imgbox.com/20/c7/Hl9lZkXG_o.png" alt="在这里插入图片描述"></p> 
<h6><a id="USER_SITEUSER_BASE_51"></a>步骤二、修改USER_SITE及USER_BASE值</h6> 
<p>未修改前一般是于python同一目录，因其为python文件，建议路径前面加r以免出现转义字符（r的作用：表示双引号当中为字符串，忽视当中可能出现的转义字符）具体如下所示：</p> 
<pre><code class="prism language-bash">USER_SITE <span class="token operator">=</span> r<span class="token string">"C:\Users\Cappuccino\AppData\Local\Programs\Python\Python310\Lib\site-packages"</span>
USER_BASE <span class="token operator">=</span> r<span class="token string">"C:\Users\Cappuccino\AppData\Local\Programs\Python\Python310"</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/be/92/imkDetCE_o.png" alt="在这里插入图片描述"></p> 
<h6><a id="python_m_site_61"></a>步骤三：验证是否成功，执行指令：<code>python -m site</code></h6> 
<p><img src="https://images2.imgbox.com/7c/b7/bYI9038u_o.png" alt="在这里插入图片描述"></p> 
<h6><a id="_64"></a>说明</h6> 
<p>两个操作修改的作用位置不同，只修改pip.ini文件，在cmd情况下下载的模块包依旧会默认下载到需要的位置，但是如果未配置site.py文件，则pycharm读取的模块地址及cmd指令下如：pip list显示的模块位置默认还是python解析器下的地址，并非一回事。</p> 
<p>该操作主要是考虑到自己的代码因为同步git的原因，在公司及自己的电脑上敲代码时为了避免每次都要下载模块包，为了避免麻烦而将模块包连同项目一并上传到git进行了托管，配置pip读取位置可以有效的避免模块读取位置及模块下载位置均可同步到git中。</p> 
<h3><a id="_69"></a>三、镜像源</h3> 
<blockquote> 
 <p>解决使用pip安装时报错Could not fetch URL https://pypi.org/simple/tensorflow/: There was a problem confirming the ssl certificate: HTTPSConnectionPool…</p> 
</blockquote> 
<p>windows环境pip安装tensorflow报错<code>Could not fetch URL https://pypi.org/simple/tensorflow/: There was a problem confirming the ssl certificate: HTTPSConnectionPool(host='pypi.org', port=443): Max retries exceeded with url:</code></p> 
<pre><code class="prism language-bash">pip <span class="token function">install</span> package_name <span class="token parameter variable">-i</span> http://pypi.douban.com/simple --trusted-host pypi.douban.com
</code></pre> 
<p>可已替换用的镜像源</p> 
<ol><li>http://mirrors.aliyun.com/pypi/simple/ 阿里云</li><li>https://pypi.mirrors.ustc.edu.cn/simple/ 中国科技大学</li><li>http://pypi.douban.com/simple/ 豆瓣</li><li>https://pypi.tuna.tsinghua.edu.cn/simple/ 清华大学</li><li>http://pypi.mirrors.ustc.edu.cn/simple/ 中国科学技术大学</li></ol> 
<p>比默认的下载速度快。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/3ebec16b60e10175b027feab6dfcf2fe/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">2024最好用的11个AI搜索引擎工具盘点！</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/df3d41f327a1e5e7ad996e77a865c103/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">运筹学基础（六）：列生成算法（Column generation）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>