<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>ã€C&#43;&#43;ã€‘ç”¨çº¢é»‘æ ‘å°è£…mapã€set - ç¼–ç¨‹å¤§å’–</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/792d3c2d173f69c03c163b6e1baca27c/">
  <meta property="og:site_name" content="ç¼–ç¨‹å¤§å’–">
  <meta property="og:title" content="ã€C&#43;&#43;ã€‘ç”¨çº¢é»‘æ ‘å°è£…mapã€set">
  <meta property="og:description" content="ç”¨çº¢é»‘æ ‘å°è£…mapã€set 1. çº¢é»‘æ ‘1.1 æ¨¡æ¿å‚æ•°çš„æ§åˆ¶1.1.1 Value1.1.2 KeyOfValue 1.2 æ­£å‘è¿­ä»£å™¨1.2.1 æ„é€ å‡½æ•°1.2.2 begin()&#43;end()1.2.3 operator&#43;&#43;()1.2.4 operator--()1.2.5 operator*()1.2.6 operator-&gt;()1.2.7 operator==()1.2.8 operator!=()1.2.9 æ€»ä»£ç  1.3 åå‘è¿­ä»£å™¨1.3.1 rbegin()&#43;rend()1.3.2 æ€»ä»£ç  1.4 find()1.5 insert() 2. Map2.1 operator[] 3. typenameä½œç”¨4. å®Œæ•´ä»£ç 4.1 Map.h4.2 Set.h4.3 RBTree.h 1. çº¢é»‘æ ‘ setæ˜¯Kæ¨¡å‹ï¼Œmapæ˜¯KVæ¨¡å‹ï¼ŒäºŒè€…åº•å±‚éƒ½æ˜¯ä½¿ç”¨çº¢é»‘æ ‘æ¥å®ç°çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å°†çº¢é»‘æ ‘è®¾ç½®ä¸ºæ¨¡æ¿ï¼Œå³ï¼šsetã€mapå¤ç”¨åŒä¸€ä¸ªç±»æ¨¡æ¿çš„çº¢é»‘æ ‘ã€‚ 1.1 æ¨¡æ¿å‚æ•°çš„æ§åˆ¶ 1.1.1 Value Valueå†³å®šä½ æ˜¯kæ¨¡å‹çš„setã€è¿˜æ˜¯KVæ¨¡å‹çš„mapã€‚ enum Color { //æšä¸¾ï¼Œä¸€ä¸€åˆ—ä¸¾å‡ºäº‹ç‰©å…·æœ‰çš„æ‰€æœ‰å¯èƒ½ Red, //æšä¸¾å¸¸é‡ï¼Œç»™æšä¸¾å˜é‡è¿›è¡Œèµ‹å€¼ Black, }; template&lt;class T&gt;//çº¢é»‘æ ‘çš„èŠ‚ç‚¹ struct RBTreeNode { typedef RBTreeNode&lt;T&gt; Node; //ä¸‰å‰é“¾-ã€‹ä¼˜ç‚¹ï¼šä¾¿äºæŸ¥æ‰¾å­©å­ã€çˆ¶äº²èŠ‚ç‚¹ Node* _left; //è¯¥èŠ‚ç‚¹çš„å·¦å­©å­ Node* _right; //è¯¥èŠ‚ç‚¹çš„å³å­©å­ Node* _parent; //è¯¥èŠ‚ç‚¹çš„çˆ¶äº²ï¼Œä¾¿äºå‘ä¸Šæ›´æ–° T _data; Color _col; RBTreeNode(const T&amp; data, Color col = Red) //æ„é€ å‡½æ•° :_data(data) , _left(nullptr) , _right(nullptr) , _parent(nullptr) , _col(col) //é»˜è®¤æ–°æ’å…¥èŠ‚ç‚¹çš„é¢œè‰²ä¸ºçº¢è‰² { } }; //Valueå†³å®šä½ æ˜¯kæ¨¡å‹çš„setã€è¿˜æ˜¯KVæ¨¡å‹çš„map template&lt;class K, class T, class KeyOfT&gt; class RBTree { public: typedef RBTreeNode&lt;T&gt; Node; }; template&lt;class K&gt; class set{ //Kæ¨¡å‹ public: private: //setä¸­çš„keyä¸å…è®¸è¢«ä¿®æ”¹ RBTree&lt;K, const K, SetKeyOfT&gt; _t; //çº¢é»‘æ ‘å¯¹è±¡ }; } template&lt;class K, class V&gt; class map { //KVæ¨¡å‹ public: private: //mapä¸­çš„keyä¸å…è®¸è¢«ä¿®æ”¹ RBTree&lt;K, pair&lt;const K, V&gt;, MapKeyOfT&gt; _t; //çº¢é»‘æ ‘å¯¹è±¡ }; }; 1.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-06-08T10:27:05+08:00">
    <meta property="article:modified_time" content="2024-06-08T10:27:05+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ç¼–ç¨‹å¤§å’–" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ç¼–ç¨‹å¤§å’–</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">ã€C&#43;&#43;ã€‘ç”¨çº¢é»‘æ ‘å°è£…mapã€set</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>ç”¨çº¢é»‘æ ‘å°è£…mapã€set</h4> 
 <ul><li><a href="#1__1" rel="nofollow">1. çº¢é»‘æ ‘</a></li><li><ul><li><a href="#11__4" rel="nofollow">1.1 æ¨¡æ¿å‚æ•°çš„æ§åˆ¶</a></li><li><ul><li><a href="#111_Value_5" rel="nofollow">1.1.1 Value</a></li><li><a href="#112_KeyOfValue_67" rel="nofollow">1.1.2 KeyOfValue</a></li></ul> 
   </li><li><a href="#12__94" rel="nofollow">1.2 æ­£å‘è¿­ä»£å™¨</a></li><li><ul><li><a href="#121__96" rel="nofollow">1.2.1 æ„é€ å‡½æ•°</a></li><li><a href="#122_beginend_106" rel="nofollow">1.2.2 begin()+end()</a></li><li><a href="#123_operator_131" rel="nofollow">1.2.3 operator++()</a></li><li><a href="#124_operator_167" rel="nofollow">1.2.4 operator--()</a></li><li><a href="#125_operator_197" rel="nofollow">1.2.5 operator*()</a></li><li><a href="#126_operator_205" rel="nofollow">1.2.6 operator-&gt;()</a></li><li><a href="#127_operator_213" rel="nofollow">1.2.7 operator==()</a></li><li><a href="#128_operator_221" rel="nofollow">1.2.8 operator!=()</a></li><li><a href="#129__229" rel="nofollow">1.2.9 æ€»ä»£ç </a></li></ul> 
   </li><li><a href="#13__319" rel="nofollow">1.3 åå‘è¿­ä»£å™¨</a></li><li><ul><li><a href="#131_rbeginrend_320" rel="nofollow">1.3.1 rbegin()+rend()</a></li><li><a href="#132__344" rel="nofollow">1.3.2 æ€»ä»£ç </a></li></ul> 
   </li><li><a href="#14_find_390" rel="nofollow">1.4 find()</a></li><li><a href="#15_insert_414" rel="nofollow">1.5 insert()</a></li></ul> 
  </li><li><a href="#2_Map_538" rel="nofollow">2. Map</a></li><li><ul><li><a href="#21_operator_540" rel="nofollow">2.1 operator[]</a></li></ul> 
  </li><li><a href="#3_typename_554" rel="nofollow">3. typenameä½œç”¨</a></li><li><a href="#4__563" rel="nofollow">4. å®Œæ•´ä»£ç </a></li><li><ul><li><a href="#41_Maph_564" rel="nofollow">4.1 Map.h</a></li><li><a href="#42_Seth_631" rel="nofollow">4.2 Set.h</a></li><li><a href="#43_RBTreeh_689" rel="nofollow">4.3 RBTree.h</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="1__1"></a>1. çº¢é»‘æ ‘</h2> 
<ul><li>setæ˜¯Kæ¨¡å‹ï¼Œmapæ˜¯KVæ¨¡å‹ï¼ŒäºŒè€…åº•å±‚éƒ½æ˜¯ä½¿ç”¨çº¢é»‘æ ‘æ¥å®ç°çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å°†çº¢é»‘æ ‘è®¾ç½®ä¸ºæ¨¡æ¿ï¼Œå³ï¼šsetã€mapå¤ç”¨åŒä¸€ä¸ªç±»æ¨¡æ¿çš„çº¢é»‘æ ‘ã€‚</li></ul> 
<h3><a id="11__4"></a>1.1 æ¨¡æ¿å‚æ•°çš„æ§åˆ¶</h3> 
<h4><a id="111_Value_5"></a>1.1.1 Value</h4> 
<ul><li>Valueå†³å®šä½ æ˜¯kæ¨¡å‹çš„setã€è¿˜æ˜¯KVæ¨¡å‹çš„mapã€‚</li></ul> 
<p><img src="https://images2.imgbox.com/f1/f9/mh1G9m7b_o.png" alt="mapã€setçš„æ¨¡æ¿å‚æ•°value.png"></p> 
<pre><code class="prism language-cpp"><span class="token keyword">enum</span> <span class="token class-name">Color</span> <span class="token punctuation">{<!-- --></span>  <span class="token comment">//æšä¸¾ï¼Œä¸€ä¸€åˆ—ä¸¾å‡ºäº‹ç‰©å…·æœ‰çš„æ‰€æœ‰å¯èƒ½</span>
	Red<span class="token punctuation">,</span>  <span class="token comment">//æšä¸¾å¸¸é‡ï¼Œç»™æšä¸¾å˜é‡è¿›è¡Œèµ‹å€¼</span>
	Black<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">&gt;</span><span class="token comment">//çº¢é»‘æ ‘çš„èŠ‚ç‚¹</span>
<span class="token keyword">struct</span> <span class="token class-name">RBTreeNode</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">typedef</span> RBTreeNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> Node<span class="token punctuation">;</span>

	<span class="token comment">//ä¸‰å‰é“¾-ã€‹ä¼˜ç‚¹ï¼šä¾¿äºæŸ¥æ‰¾å­©å­ã€çˆ¶äº²èŠ‚ç‚¹</span>
	Node<span class="token operator">*</span> _left<span class="token punctuation">;</span>      <span class="token comment">//è¯¥èŠ‚ç‚¹çš„å·¦å­©å­</span>
	Node<span class="token operator">*</span> _right<span class="token punctuation">;</span>    <span class="token comment">//è¯¥èŠ‚ç‚¹çš„å³å­©å­</span>
	Node<span class="token operator">*</span> _parent<span class="token punctuation">;</span>  <span class="token comment">//è¯¥èŠ‚ç‚¹çš„çˆ¶äº²ï¼Œä¾¿äºå‘ä¸Šæ›´æ–°</span>
	T _data<span class="token punctuation">;</span>
	Color _col<span class="token punctuation">;</span>

	<span class="token function">RBTreeNode</span><span class="token punctuation">(</span><span class="token keyword">const</span> T<span class="token operator">&amp;</span> data<span class="token punctuation">,</span> Color col <span class="token operator">=</span> Red<span class="token punctuation">)</span>  <span class="token comment">//æ„é€ å‡½æ•°</span>
		<span class="token operator">:</span><span class="token function">_data</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
		<span class="token punctuation">,</span> <span class="token function">_left</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span>
		<span class="token punctuation">,</span> <span class="token function">_right</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span>
		<span class="token punctuation">,</span> <span class="token function">_parent</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span>
		<span class="token punctuation">,</span> <span class="token function">_col</span><span class="token punctuation">(</span>col<span class="token punctuation">)</span>  <span class="token comment">//é»˜è®¤æ–°æ’å…¥èŠ‚ç‚¹çš„é¢œè‰²ä¸ºçº¢è‰²</span>
	<span class="token punctuation">{<!-- --></span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre> 
<pre><code class="prism language-cpp"><span class="token comment">//Valueå†³å®šä½ æ˜¯kæ¨¡å‹çš„setã€è¿˜æ˜¯KVæ¨¡å‹çš„map</span>
<span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">KeyOfT</span><span class="token operator">&gt;</span> 
<span class="token keyword">class</span> <span class="token class-name">RBTree</span> <span class="token punctuation">{<!-- --></span>  
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token keyword">typedef</span> RBTreeNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> Node<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<pre><code class="prism language-cpp"><span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">K</span><span class="token operator">&gt;</span>
<span class="token keyword">class</span> <span class="token class-name">set</span><span class="token punctuation">{<!-- --></span>   <span class="token comment">//Kæ¨¡å‹</span>
<span class="token keyword">public</span><span class="token operator">:</span>   
       
<span class="token keyword">private</span><span class="token operator">:</span>  <span class="token comment">//setä¸­çš„keyä¸å…è®¸è¢«ä¿®æ”¹</span>
		RBTree<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> <span class="token keyword">const</span> K<span class="token punctuation">,</span> SetKeyOfT<span class="token operator">&gt;</span> _t<span class="token punctuation">;</span>  <span class="token comment">//çº¢é»‘æ ‘å¯¹è±¡</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<pre><code class="prism language-cpp"><span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">V</span><span class="token operator">&gt;</span>
<span class="token keyword">class</span> <span class="token class-name">map</span> <span class="token punctuation">{<!-- --></span>   <span class="token comment">//KVæ¨¡å‹  </span>
<span class="token keyword">public</span><span class="token operator">:</span>

<span class="token keyword">private</span><span class="token operator">:</span>   <span class="token comment">//mapä¸­çš„keyä¸å…è®¸è¢«ä¿®æ”¹</span>
		RBTree<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> pair<span class="token operator">&lt;</span><span class="token keyword">const</span> K<span class="token punctuation">,</span> V<span class="token operator">&gt;</span><span class="token punctuation">,</span> MapKeyOfT<span class="token operator">&gt;</span> _t<span class="token punctuation">;</span>  <span class="token comment">//çº¢é»‘æ ‘å¯¹è±¡</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<p></p> 
<h4><a id="112_KeyOfValue_67"></a>1.1.2 KeyOfValue</h4> 
<ul><li>KeyOfT : å–å‡ºValueå¯¹è±¡ä¸­çš„keyã€‚</li></ul> 
<p><img src="https://images2.imgbox.com/0c/76/53lkCeKm_o.png" alt="image.png"></p> 
<pre><code class="prism language-cpp"><span class="token comment">// KeyOfT : å–å‡ºValueå¯¹è±¡ä¸­çš„key</span>
<span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">KeyOfT</span><span class="token operator">&gt;</span> 
<span class="token keyword">class</span> <span class="token class-name">RBTree</span> <span class="token punctuation">{<!-- --></span>  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<pre><code class="prism language-cpp"><span class="token keyword">struct</span> <span class="token class-name">SetKeyOfT</span><span class="token punctuation">{<!-- --></span>   
	<span class="token keyword">const</span> K<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">const</span> K<span class="token operator">&amp;</span> key<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> key<span class="token punctuation">;</span>  <span class="token comment">//key</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<pre><code class="prism language-cpp"><span class="token keyword">struct</span> <span class="token class-name">MapKeyOfT</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">const</span> K<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">const</span> pair<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> V<span class="token operator">&gt;</span><span class="token operator">&amp;</span> kv<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> kv<span class="token punctuation">.</span>first<span class="token punctuation">;</span>  <span class="token comment">//pairä¸­çš„key</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<p></p> 
<h3><a id="12__94"></a>1.2 æ­£å‘è¿­ä»£å™¨</h3> 
<p></p> 
<h4><a id="121__96"></a>1.2.1 æ„é€ å‡½æ•°</h4> 
<blockquote> 
 <p>ğŸ’¡RBTreeIterator(Node* node) ï¼›</p> 
</blockquote> 
<pre><code class="prism language-cpp"><span class="token function">RBTreeIterator</span><span class="token punctuation">(</span>Node<span class="token operator">*</span> node<span class="token punctuation">)</span> <span class="token comment">//æ„é€ å‡½æ•°ï¼Œå•å‚æ•°æ„é€ å‡½æ•°æ”¯æŒéšå¼ç±»å‹è½¬åŒ–</span>
		<span class="token operator">:</span><span class="token function">_node</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span> <span class="token punctuation">}</span>
</code></pre> 
<ul><li>Tips : å•å‚æ•°æ„é€ å‡½æ•°æ”¯æŒéšå¼ç±»å‹è½¬æ¢ Node*-&gt;iterator ã€‚</li></ul> 
<h4><a id="122_beginend_106"></a>1.2.2 begin()+end()</h4> 
<blockquote> 
 <p>ğŸ’¡iterator begin( ) ï¼›</p> 
</blockquote> 
<ul><li>åŠŸèƒ½ï¼šè¿”å›çº¢é»‘æ ‘ä¸­æœ€å·¦èŠ‚ç‚¹(å·¦å­©å­å¿…ä¸ºç©º)çš„è¿­ä»£å™¨ã€‚</li><li>Tipsï¼šsetã€mapå¯¹è±¡ä¸ºéconstå¯¹è±¡ï¼Œå°±è°ƒç”¨begin()ã€end()ã€‚</li></ul> 
<pre><code class="prism language-cpp">iterator <span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">//çº¢é»‘æ ‘æœ€å·¦èŠ‚ç‚¹</span>
<span class="token punctuation">{<!-- --></span> 
	Node<span class="token operator">*</span> subLeft <span class="token operator">=</span> _root<span class="token punctuation">;</span>   
	<span class="token keyword">while</span> <span class="token punctuation">(</span>subLeft <span class="token operator">&amp;&amp;</span> subLeft<span class="token operator">-&gt;</span>_left<span class="token punctuation">)</span>
		subLeft <span class="token operator">=</span> subLeft<span class="token operator">-&gt;</span>_left<span class="token punctuation">;</span>

	<span class="token keyword">return</span> <span class="token function">iterator</span><span class="token punctuation">(</span>subLeft<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>	
</code></pre> 
<blockquote> 
 <p>ğŸ’¡iterator end( ) ï¼›</p> 
</blockquote> 
<ul><li>åŠŸèƒ½ï¼šè¿”å›æœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä¸ªçš„è¿­ä»£å™¨(ç©ºæŒ‡é’ˆ)ã€‚</li></ul> 
<pre><code class="prism language-cpp">iterator <span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">//ç©ºæŒ‡é’ˆ å·¦é—­å³å¼€[begin,end)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> <span class="token function">iterator</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/4e/22/1uLjzm0W_o.png" alt="image.png"></p> 
<h4><a id="123_operator_131"></a>1.2.3 operator++()</h4> 
<pre><code class="prism language-cpp"><span class="token comment">/*1.å³ä¸ä¸ºç©ºï¼Œä¸‹ä¸€ä¸ªä¸ºè¯¥èŠ‚ç‚¹å³å­æ ‘çš„æœ€å·¦èŠ‚ç‚¹ ;
	* 2.å³ä¸ºç©ºï¼Œè¯´æ˜è¯¥èŠ‚ç‚¹æ‰€åœ¨çš„å­æ ‘å·²ç»è®¿é—®å®Œäº†ï¼Œè‹¥è¯¥èŠ‚ç‚¹ä¸ºçˆ¶äº²çš„å³ï¼Œè¯´æ˜è¯¥çˆ¶äº²æ‰€åœ¨çš„å­æ ‘ä¹Ÿè®¿é—®å®Œäº†ï¼Œç»§ç»­å¾€ä¸Šæ‰¾ï¼Œ
	* ç›´åˆ°è¯¥èŠ‚ç‚¹ä¸ºçˆ¶äº²çš„å·¦ï¼Œåˆ™è¦è®¿é—®çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æ˜¯å®ƒçš„çˆ¶äº²ï¼Œå³ï¼šæ‰¾ç¥–å…ˆé‡Œé¢çš„å­©çº¸ = çˆ¶äº²å·¦*/</span>
Self<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">++</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">//ä¸­åº å·¦ã€æ ¹ã€å³</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>_node<span class="token operator">-&gt;</span>_right<span class="token punctuation">)</span>  <span class="token comment">//1</span>
	<span class="token punctuation">{<!-- --></span>
		Node<span class="token operator">*</span> subLeft <span class="token operator">=</span> _node<span class="token operator">-&gt;</span>_right<span class="token punctuation">;</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>subLeft<span class="token operator">-&gt;</span>_left<span class="token punctuation">)</span>
			subLeft <span class="token operator">=</span> subLeft<span class="token operator">-&gt;</span>_left<span class="token punctuation">;</span>

		_node <span class="token operator">=</span> subLeft<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">else</span>  <span class="token comment">//2</span>
	<span class="token punctuation">{<!-- --></span>
		Node<span class="token operator">*</span> cur <span class="token operator">=</span> _node<span class="token punctuation">;</span>
		Node<span class="token operator">*</span> parent <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_parent<span class="token punctuation">;</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>parent <span class="token operator">&amp;&amp;</span> parent<span class="token operator">-&gt;</span>_left <span class="token operator">!=</span> cur<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			cur <span class="token operator">=</span> parent<span class="token punctuation">;</span>
			parent <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_parent<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		_node <span class="token operator">=</span> parent<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<ul><li>ä¸­åºéå†ï¼Œå·¦ã€æ ¹ã€å³ã€‚<br> æƒ…å†µä¸€ï¼šå³ä¸ä¸ºç©ºï¼Œä¸‹ä¸€ä¸ªä¸ºè¯¥èŠ‚ç‚¹å³å­æ ‘çš„æœ€å·¦èŠ‚ç‚¹ ;<br> æƒ…å†µäºŒï¼šå³ä¸ºç©ºï¼Œè¯´æ˜è¯¥èŠ‚ç‚¹æ‰€åœ¨çš„å­æ ‘å·²ç»è®¿é—®å®Œäº†ï¼Œè‹¥è¯¥èŠ‚ç‚¹ä¸ºçˆ¶äº²çš„å³ï¼Œè¯´æ˜è¯¥çˆ¶äº²æ‰€åœ¨çš„å­æ ‘ä¹Ÿè®¿é—®å®Œäº†ï¼Œç»§ç»­å¾€ä¸Šæ‰¾ï¼Œç›´åˆ°è¯¥èŠ‚ç‚¹ä¸ºçˆ¶äº²çš„å·¦ï¼Œåˆ™è¦è®¿é—®çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æ˜¯å®ƒçš„çˆ¶äº²ï¼Œå³ï¼šæ‰¾ç¥–å…ˆé‡Œé¢çš„å­©çº¸ = çˆ¶äº²å·¦ã€‚</li></ul> 
<p><img src="https://images2.imgbox.com/9f/f8/SfJTpli7_o.png" alt="image.png"><br> </p> 
<h4><a id="124_operator_167"></a>1.2.4 operatorâ€“()</h4> 
<pre><code class="prism language-cpp"><span class="token comment">/*1.å·¦ä¸ä¸ºç©ºï¼Œä¸‹ä¸€ä¸ªä¸ºè¯¥èŠ‚ç‚¹å·¦å­æ ‘çš„æœ€å³èŠ‚ç‚¹ ;
	* 2.å·¦ä¸ºç©ºï¼Œè¯´æ˜è¯¥èŠ‚ç‚¹æ‰€åœ¨çš„å­æ ‘å·²ç»è®¿é—®å®Œäº†ï¼Œè‹¥è¯¥èŠ‚ç‚¹ä¸ºçˆ¶äº²çš„å·¦ï¼Œè¯´æ˜è¯¥çˆ¶äº²æ‰€åœ¨çš„å­æ ‘ä¹Ÿè®¿é—®å®Œäº†ï¼Œç»§ç»­å¾€ä¸Šæ‰¾ï¼Œ
	* ç›´åˆ°è¯¥èŠ‚ç‚¹ä¸ºçˆ¶äº²çš„å³ï¼Œåˆ™è¦è®¿é—®çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æ˜¯å®ƒçš„çˆ¶äº²ï¼Œå³ï¼šæ‰¾ç¥–å…ˆé‡Œé¢çš„å­©çº¸ = çˆ¶äº²å³*/</span>
Self<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">--</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//ä¸­åº å·¦ã€æ ¹ã€å³  --ä¸++é€»è¾‘ç›¸å</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>_node<span class="token operator">-&gt;</span>_left<span class="token punctuation">)</span>  <span class="token comment">//1</span>
	<span class="token punctuation">{<!-- --></span>
		Node<span class="token operator">*</span> subRight <span class="token operator">=</span> _node<span class="token operator">-&gt;</span>_left<span class="token punctuation">;</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>subRight<span class="token operator">-&gt;</span>_right<span class="token punctuation">)</span>
			subRight <span class="token operator">=</span> subRight<span class="token operator">-&gt;</span>_right<span class="token punctuation">;</span>

		_node <span class="token operator">=</span> subRight<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">else</span>  <span class="token comment">//2</span>
	<span class="token punctuation">{<!-- --></span>
		Node<span class="token operator">*</span> cur <span class="token operator">=</span> _node<span class="token punctuation">;</span>
		Node<span class="token operator">*</span> parent <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_parent<span class="token punctuation">;</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>parent <span class="token operator">&amp;&amp;</span> parent<span class="token operator">-&gt;</span>_right <span class="token operator">!=</span> cur<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			cur <span class="token operator">=</span> parent<span class="token punctuation">;</span>
			parent <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_parent<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		_node <span class="token operator">=</span> parent<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/ac/8b/Cc7v69C3_o.png" alt="image.png"></p> 
<h4><a id="125_operator_197"></a>1.2.5 operator*()</h4> 
<pre><code class="prism language-cpp">Ref <span class="token keyword">operator</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> _node<span class="token operator">-&gt;</span>_data<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p></p> 
<h4><a id="126_operator_205"></a>1.2.6 operator-&gt;()</h4> 
<pre><code class="prism language-cpp">Ptr <span class="token keyword">operator</span><span class="token operator">-&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//ç»“æ„ä½“æŒ‡é’ˆï¼Œdataä¸ºç»“æ„ä½“</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> <span class="token operator">&amp;</span>_node<span class="token operator">-&gt;</span>_data<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p></p> 
<h4><a id="127_operator_213"></a>1.2.7 operator==()</h4> 
<pre><code class="prism language-cpp"><span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token operator">==</span><span class="token punctuation">(</span><span class="token keyword">const</span> Self<span class="token operator">&amp;</span> rb<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> _node <span class="token operator">==</span> rb<span class="token punctuation">.</span>_node<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p></p> 
<h4><a id="128_operator_221"></a>1.2.8 operator!=()</h4> 
<pre><code class="prism language-cpp"><span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token operator">!=</span><span class="token punctuation">(</span><span class="token keyword">const</span> Self<span class="token operator">&amp;</span> rb<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> _node <span class="token operator">!=</span> rb<span class="token punctuation">.</span>_node<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p></p> 
<h4><a id="129__229"></a>1.2.9 æ€»ä»£ç </h4> 
<pre><code class="prism language-cpp"><span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">Ref</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">Ptr</span><span class="token operator">&gt;</span> 
<span class="token keyword">struct</span> <span class="token class-name">RBTreeIterator</span>   <span class="token comment">//çº¢é»‘æ ‘çš„æ­£å‘è¿­ä»£å™¨</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">typedef</span> RBTreeNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> Node<span class="token punctuation">;</span>
	<span class="token keyword">typedef</span> RBTreeIterator<span class="token operator">&lt;</span>T<span class="token punctuation">,</span> Ref<span class="token punctuation">,</span> Ptr<span class="token operator">&gt;</span> Self<span class="token punctuation">;</span>

	Node<span class="token operator">*</span> _node<span class="token punctuation">;</span>

	<span class="token function">RBTreeIterator</span><span class="token punctuation">(</span>Node<span class="token operator">*</span> node<span class="token punctuation">)</span> <span class="token comment">//æ„é€ å‡½æ•°ï¼Œå•å‚æ•°æ„é€ å‡½æ•°æ”¯æŒéšå¼ç±»å‹è½¬åŒ–</span>
		<span class="token operator">:</span><span class="token function">_node</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span> <span class="token punctuation">}</span>

	Ref <span class="token keyword">operator</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> _node<span class="token operator">-&gt;</span>_data<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	Ptr <span class="token keyword">operator</span><span class="token operator">-&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//ç»“æ„ä½“æŒ‡é’ˆï¼Œdataä¸ºç»“æ„ä½“</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token operator">&amp;</span>_node<span class="token operator">-&gt;</span>_data<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">/*1.å³ä¸ä¸ºç©ºï¼Œä¸‹ä¸€ä¸ªä¸ºè¯¥èŠ‚ç‚¹å³å­æ ‘çš„æœ€å·¦èŠ‚ç‚¹ ;
	* 2.å³ä¸ºç©ºï¼Œè¯´æ˜è¯¥èŠ‚ç‚¹æ‰€åœ¨çš„å­æ ‘å·²ç»è®¿é—®å®Œäº†ï¼Œè‹¥è¯¥èŠ‚ç‚¹ä¸ºçˆ¶äº²çš„å³ï¼Œè¯´æ˜è¯¥çˆ¶äº²æ‰€åœ¨çš„å­æ ‘ä¹Ÿè®¿é—®å®Œäº†ï¼Œç»§ç»­å¾€ä¸Šæ‰¾ï¼Œ
	* ç›´åˆ°è¯¥èŠ‚ç‚¹ä¸ºçˆ¶äº²çš„å·¦ï¼Œåˆ™è¦è®¿é—®çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æ˜¯å®ƒçš„çˆ¶äº²ï¼Œå³ï¼šæ‰¾ç¥–å…ˆé‡Œé¢çš„å­©çº¸ = çˆ¶äº²å·¦*/</span>
	Self<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">++</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">//ä¸­åº å·¦ã€æ ¹ã€å³</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>_node<span class="token operator">-&gt;</span>_right<span class="token punctuation">)</span>  <span class="token comment">//1</span>
		<span class="token punctuation">{<!-- --></span>
			Node<span class="token operator">*</span> subLeft <span class="token operator">=</span> _node<span class="token operator">-&gt;</span>_right<span class="token punctuation">;</span>
			<span class="token keyword">while</span> <span class="token punctuation">(</span>subLeft<span class="token operator">-&gt;</span>_left<span class="token punctuation">)</span>
				subLeft <span class="token operator">=</span> subLeft<span class="token operator">-&gt;</span>_left<span class="token punctuation">;</span>

			_node <span class="token operator">=</span> subLeft<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span>  <span class="token comment">//2</span>
		<span class="token punctuation">{<!-- --></span>
			Node<span class="token operator">*</span> cur <span class="token operator">=</span> _node<span class="token punctuation">;</span>
			Node<span class="token operator">*</span> parent <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_parent<span class="token punctuation">;</span>
			<span class="token keyword">while</span> <span class="token punctuation">(</span>parent <span class="token operator">&amp;&amp;</span> parent<span class="token operator">-&gt;</span>_left <span class="token operator">!=</span> cur<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				cur <span class="token operator">=</span> parent<span class="token punctuation">;</span>
				parent <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_parent<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			_node <span class="token operator">=</span> parent<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">/*1.å·¦ä¸ä¸ºç©ºï¼Œä¸‹ä¸€ä¸ªä¸ºè¯¥èŠ‚ç‚¹å·¦å­æ ‘çš„æœ€å³èŠ‚ç‚¹ ;
	* 2.å·¦ä¸ºç©ºï¼Œè¯´æ˜è¯¥èŠ‚ç‚¹æ‰€åœ¨çš„å­æ ‘å·²ç»è®¿é—®å®Œäº†ï¼Œè‹¥è¯¥èŠ‚ç‚¹ä¸ºçˆ¶äº²çš„å·¦ï¼Œè¯´æ˜è¯¥çˆ¶äº²æ‰€åœ¨çš„å­æ ‘ä¹Ÿè®¿é—®å®Œäº†ï¼Œç»§ç»­å¾€ä¸Šæ‰¾ï¼Œ
	* ç›´åˆ°è¯¥èŠ‚ç‚¹ä¸ºçˆ¶äº²çš„å³ï¼Œåˆ™è¦è®¿é—®çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æ˜¯å®ƒçš„çˆ¶äº²ï¼Œå³ï¼šæ‰¾ç¥–å…ˆé‡Œé¢çš„å­©çº¸ = çˆ¶äº²å³*/</span>
	Self<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">--</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//ä¸­åº å·¦ã€æ ¹ã€å³  --ä¸++é€»è¾‘ç›¸å</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>_node<span class="token operator">-&gt;</span>_left<span class="token punctuation">)</span>  <span class="token comment">//1</span>
		<span class="token punctuation">{<!-- --></span>
			Node<span class="token operator">*</span> subRight <span class="token operator">=</span> _node<span class="token operator">-&gt;</span>_left<span class="token punctuation">;</span>
			<span class="token keyword">while</span> <span class="token punctuation">(</span>subRight<span class="token operator">-&gt;</span>_right<span class="token punctuation">)</span>
				subRight <span class="token operator">=</span> subRight<span class="token operator">-&gt;</span>_right<span class="token punctuation">;</span>

			_node <span class="token operator">=</span> subRight<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span>  <span class="token comment">//2</span>
		<span class="token punctuation">{<!-- --></span>
			Node<span class="token operator">*</span> cur <span class="token operator">=</span> _node<span class="token punctuation">;</span>
			Node<span class="token operator">*</span> parent <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_parent<span class="token punctuation">;</span>
			<span class="token keyword">while</span> <span class="token punctuation">(</span>parent <span class="token operator">&amp;&amp;</span> parent<span class="token operator">-&gt;</span>_right <span class="token operator">!=</span> cur<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				cur <span class="token operator">=</span> parent<span class="token punctuation">;</span>
				parent <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_parent<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			_node <span class="token operator">=</span> parent<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token operator">!=</span><span class="token punctuation">(</span><span class="token keyword">const</span> Self<span class="token operator">&amp;</span> rb<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> _node <span class="token operator">!=</span> rb<span class="token punctuation">.</span>_node<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token operator">==</span><span class="token punctuation">(</span><span class="token keyword">const</span> Self<span class="token operator">&amp;</span> rb<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> _node <span class="token operator">==</span> rb<span class="token punctuation">.</span>_node<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<p></p> 
<h3><a id="13__319"></a>1.3 åå‘è¿­ä»£å™¨</h3> 
<h4><a id="131_rbeginrend_320"></a>1.3.1 rbegin()+rend()</h4> 
<blockquote> 
 <p>ğŸ’¡reverse_iterator rbegin( ) ï¼›</p> 
</blockquote> 
<ul><li>åŠŸèƒ½ï¼šè¿”å›çº¢é»‘æ ‘ä¸­æœ€å³èŠ‚ç‚¹(å³å­©å­å¿…ä¸ºç©º)çš„è¿­ä»£å™¨ã€‚</li></ul> 
<pre><code class="prism language-cpp">reverse_iterator <span class="token function">rbegin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">//çº¢é»‘æ ‘æœ€å³èŠ‚ç‚¹ï¼Œå› ä¸ºæ­¤å¤„åå‘è¿­ä»£å™¨*ï¼Œæ˜¯ç›´æ¥è°ƒç”¨æ­£å‘è¿­ä»£å™¨* [rbegin,erend)</span>
<span class="token punctuation">{<!-- --></span>
	Node<span class="token operator">*</span> subRight <span class="token operator">=</span> _root<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>subRight <span class="token operator">&amp;&amp;</span> subRight<span class="token operator">-&gt;</span>_right<span class="token punctuation">)</span>
		subRight <span class="token operator">=</span> subRight<span class="token operator">-&gt;</span>_right<span class="token punctuation">;</span>

	<span class="token keyword">return</span> <span class="token function">reverse_iterator</span><span class="token punctuation">(</span>subRight<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<blockquote> 
 <p>ğŸ’¡reverse_iterator rend( ) ï¼›</p> 
</blockquote> 
<ul><li>åŠŸèƒ½ï¼šè¿”å›ç¬¬ä¸€ä¸ªå…ƒç´ çš„å‰ä¸€ä¸ªçš„è¿­ä»£å™¨(ç©ºæŒ‡é’ˆ)ã€‚</li></ul> 
<pre><code class="prism language-cpp">reverse_iterator <span class="token function">rend</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> <span class="token function">reverse_iterator</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p></p> 
<h4><a id="132__344"></a>1.3.2 æ€»ä»£ç </h4> 
<pre><code class="prism language-cpp"><span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">iterator</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">Ref</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">Ptr</span><span class="token operator">&gt;</span>
<span class="token keyword">struct</span> <span class="token class-name">ReverseIterator</span>  <span class="token comment">//çº¢é»‘æ ‘çš„åå‘è¿­ä»£å™¨â€”â€”é€‚é…å™¨ begin = rendã€end = rbegin</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">typedef</span> ReverseIterator<span class="token operator">&lt;</span>iterator<span class="token punctuation">,</span> Ref<span class="token punctuation">,</span> Ptr<span class="token operator">&gt;</span> Self<span class="token punctuation">;</span>  
	iterator _it<span class="token punctuation">;</span>   <span class="token comment">//é€‚é…å™¨</span>

	<span class="token function">ReverseIterator</span><span class="token punctuation">(</span>iterator it<span class="token punctuation">)</span>
		<span class="token operator">:</span><span class="token function">_it</span><span class="token punctuation">(</span>it<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span> <span class="token punctuation">}</span>

	Ref <span class="token keyword">operator</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token operator">*</span>_it<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	Ptr <span class="token keyword">operator</span><span class="token operator">-&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token operator">&amp;</span><span class="token punctuation">(</span><span class="token keyword">operator</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//</span>
	<span class="token punctuation">}</span>

	Self<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">++</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token operator">--</span>_it<span class="token punctuation">;</span>
		<span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	Self<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">--</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token operator">++</span>_it<span class="token punctuation">;</span>
		<span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token operator">==</span><span class="token punctuation">(</span><span class="token keyword">const</span> Self<span class="token operator">&amp;</span> rb<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> _it <span class="token operator">==</span> rb<span class="token punctuation">.</span>_it<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token operator">!=</span><span class="token punctuation">(</span><span class="token keyword">const</span> Self<span class="token operator">&amp;</span> rb<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> _it <span class="token operator">!=</span> rb<span class="token punctuation">.</span>_it<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<p></p> 
<h3><a id="14_find_390"></a>1.4 find()</h3> 
<blockquote> 
 <p>ğŸ’¡iterator find(const K&amp; key) ;</p> 
</blockquote> 
<ul><li>åŠŸèƒ½ï¼šæŸ¥æ‰¾ã€‚</li><li>è‹¥keyåœ¨çº¢é»‘æ ‘ä¸­ï¼Œåˆ™è¿”å›æ ‘ä¸­ä¸keyå€¼ç›¸ç­‰å…ƒç´ çš„è¿­ä»£å™¨ï¼Œå¦åˆ™ï¼Œå°±è¿”å›end( )ã€‚</li></ul> 
<pre><code class="prism language-cpp">iterator <span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">const</span> K<span class="token operator">&amp;</span> key<span class="token punctuation">)</span>  <span class="token comment">//æŸ¥æ‰¾  æ¨¡æ¿å‚æ•°Kçš„ä½œç”¨</span>
<span class="token punctuation">{<!-- --></span>
	KeyOfT kot<span class="token punctuation">;</span>

	Node<span class="token operator">*</span> cur <span class="token operator">=</span> _root<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>cur<span class="token punctuation">)</span>  <span class="token comment">//å…ˆæŒ‰ç…§äºŒå‰æœç´¢æ ‘çš„æ–¹å¼æ’å…¥</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">kot</span><span class="token punctuation">(</span>cur<span class="token operator">-&gt;</span>_data<span class="token punctuation">)</span> <span class="token operator">&lt;</span> key<span class="token punctuation">)</span>  <span class="token comment">//é€šä»¿å‡½æ•°å¯¹è±¡è°ƒç”¨operator()æ¥è·å–Tä¸­çš„key</span>
			cur <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_right<span class="token punctuation">;</span>
		<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">kot</span><span class="token punctuation">(</span>cur<span class="token operator">-&gt;</span>_data<span class="token punctuation">)</span> <span class="token operator">&gt;</span> key<span class="token punctuation">)</span>
			cur <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_left<span class="token punctuation">;</span>
		<span class="token keyword">else</span>
			<span class="token keyword">return</span> <span class="token function">iterator</span><span class="token punctuation">(</span>cur<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//æ‰¾åˆ°äº†</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> <span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//æ‰¾ä¸åˆ°</span>
<span class="token punctuation">}</span>
</code></pre> 
<p></p> 
<h3><a id="15_insert_414"></a>1.5 insert()</h3> 
<blockquote> 
 <p>ğŸ’¡pair&lt;iteratorï¼Œbool&gt; insert(const T&amp; data) ;</p> 
</blockquote> 
<ul><li>åŠŸèƒ½ï¼šå‘çº¢é»‘æ ‘ä¸­æ’å…¥dataã€‚</li></ul> 
<p><img src="https://images2.imgbox.com/1e/a5/vklAnkWe_o.png" alt="image.png"></p> 
<ul><li>insertè¿”å›å€¼ä¸ºpair&lt;iterator, bool&gt;,è‹¥key(setçš„keyã€mapçš„pairçš„first)åœ¨æ ‘ä¸­å­˜åœ¨ï¼Œå› ä¸ºæœç´¢æ ‘ä¸­ä¸èƒ½å‡ºç°é‡å¤çš„é”®å€¼keyï¼Œæ‰€ä»¥pair::firstæŒ‡å‘åœ¨æ ‘ä¸­ä¸keyå€¼ç›¸ç­‰çš„è¿­ä»£å™¨ï¼Œpair::secondä¸ºfalseã€‚è‹¥keyåœ¨æ ‘ä¸­ä¸å­˜åœ¨ï¼Œpair::firstæŒ‡å‘åœ¨æ ‘ä¸­æ–°æ’å…¥å…ƒç´ çš„è¿­ä»£å™¨ï¼Œpair::secondä¸ºtrueã€‚insertç›¸å½“äºæŸ¥æ‰¾ã€‚</li></ul> 
<pre><code class="prism language-cpp">pair<span class="token operator">&lt;</span>iterator<span class="token punctuation">,</span> <span class="token keyword">bool</span><span class="token operator">&gt;</span> <span class="token function">insert</span><span class="token punctuation">(</span><span class="token keyword">const</span> T<span class="token operator">&amp;</span> data<span class="token punctuation">)</span>  <span class="token comment">//æ’å…¥  </span>
<span class="token punctuation">{<!-- --></span>   <span class="token comment">//ä¸èƒ½ä½¿ç”¨å¼•ç”¨æ”¾å›ï¼Œå› ä¸ºè¿”å›å€¼ä½œç”¨åŸŸä¸ºæ ˆåŒºï¼Œä¼ å€¼è¿”å›</span>
	KeyOfT kot<span class="token punctuation">;</span>  <span class="token comment">//ä»¿å‡½æ•°ç±»åˆ›å»ºçš„å¯¹è±¡ï¼Œå¯¹è±¡å»è°ƒç”¨operator()</span>

	Node<span class="token operator">*</span> parent <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>
	Node<span class="token operator">*</span> cur <span class="token operator">=</span> _root<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>cur<span class="token punctuation">)</span>  <span class="token comment">//å…ˆæŒ‰ç…§äºŒå‰æœç´¢æ ‘çš„æ–¹å¼æ’å…¥</span>
    <span class="token punctuation">{<!-- --></span>
    	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">kot</span><span class="token punctuation">(</span>cur<span class="token operator">-&gt;</span>_data<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token function">kot</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">//é€šä»¿å‡½æ•°å¯¹è±¡è°ƒç”¨operator()æ¥è·å–Tä¸­çš„keyå€¼</span>
    	<span class="token punctuation">{<!-- --></span>
    		parent <span class="token operator">=</span> cur<span class="token punctuation">;</span>
    		cur <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_right<span class="token punctuation">;</span>
    	<span class="token punctuation">}</span>
    	<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">kot</span><span class="token punctuation">(</span>cur<span class="token operator">-&gt;</span>_data<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token function">kot</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span>
    	<span class="token punctuation">{<!-- --></span>
    		parent <span class="token operator">=</span> cur<span class="token punctuation">;</span>
    		cur <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_left<span class="token punctuation">;</span>
    	<span class="token punctuation">}</span>
    	<span class="token keyword">else</span>
    	<span class="token punctuation">{<!-- --></span>
    		<span class="token keyword">return</span> <span class="token function">make_pair</span><span class="token punctuation">(</span><span class="token function">iterator</span><span class="token punctuation">(</span>cur<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//æ’å…¥èŠ‚ç‚¹å·²å­˜åœ¨ï¼Œæ’å…¥å¤±è´¥ï¼Œè¿”å›åœ¨æ ‘ä¸­ä¸è¯¥èŠ‚ç‚¹å€¼ç›¸åŒçš„è¿­ä»£å™¨</span>
    	<span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    cur <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Node</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//æ³¨æ„ insert</span>
		
	Node<span class="token operator">*</span> newnode <span class="token operator">=</span> cur<span class="token punctuation">;</span>  <span class="token comment">//éç©ºæ ‘ï¼Œæ’å…¥æˆåŠŸï¼Œå› ä¸ºè¦åšæ—‹è½¬å¤„ç†ï¼Œä¼šå¯¼è‡´curå€¼å‘ç”Ÿæ”¹å˜ï¼Œéœ€æå‰å°†æ–°èŠ‚ç‚¹çš„ä½ç½®å­˜å‚¨èµ·æ¥</span>

	<span class="token keyword">if</span> <span class="token punctuation">(</span>parent <span class="token operator">==</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span> <span class="token comment">//ç©ºæ ‘</span>
	<span class="token punctuation">{<!-- --></span>
		_root <span class="token operator">=</span> cur<span class="token punctuation">;</span>
		_root<span class="token operator">-&gt;</span>_col <span class="token operator">=</span> Black<span class="token punctuation">;</span>  <span class="token comment">//è·ŸèŠ‚ç‚¹ä¸ºé»‘</span>
		<span class="token keyword">return</span> <span class="token function">make_pair</span><span class="token punctuation">(</span><span class="token function">iterator</span><span class="token punctuation">(</span>_root<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//ç©ºæ ‘ï¼Œæ’å…¥æˆåŠŸï¼Œè¿”å›æ–°æ’å…¥èŠ‚ç‚¹åœ¨æ ‘ä¸­çš„è¿­ä»£å™¨</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">kot</span><span class="token punctuation">(</span>parent<span class="token operator">-&gt;</span>_data<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token function">kot</span><span class="token punctuation">(</span>cur<span class="token operator">-&gt;</span>_data<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		parent<span class="token operator">-&gt;</span>_right <span class="token operator">=</span> cur<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">else</span>
	<span class="token punctuation">{<!-- --></span>
		parent<span class="token operator">-&gt;</span>_left <span class="token operator">=</span> cur<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	cur<span class="token operator">-&gt;</span>_parent <span class="token operator">=</span> parent<span class="token punctuation">;</span>  <span class="token comment">//è®°å½•å½“å‰èŠ‚ç‚¹çš„çˆ¶äº²</span>

	<span class="token comment">//æ›´æ–°é¢œè‰²</span>
	<span class="token comment">//æ’å…¥ç»“æŸï¼š1.æ’å…¥èŠ‚ç‚¹çš„çˆ¶äº²æ˜¯é»‘è‰²ï¼Œå› ä¸ºæ’å…¥å‰è¯¥æ ‘å°±ä¸ºçº¢é»‘æ ‘ 2.æƒ…å†µä¸€å¤„ç†å®Œåï¼Œcurä¸ºæ ¹èŠ‚ç‚¹ï¼Œä¸”ä¸ºé»‘è‰²</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>parent <span class="token operator">&amp;&amp;</span> parent<span class="token operator">-&gt;</span>_col <span class="token operator">==</span> Red<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span> <span class="token comment">//çˆ·çˆ·ä¸€å®šå­˜åœ¨ï¼Œå› ä¸ºcä¸ºçº¢ï¼Œpä¸ºçº¢ï¼Œæ‰€ä»¥pä¸€å®šä¸æ˜¯æ ¹èŠ‚ç‚¹ï¼Œä¸”ä¸€å®šæœ‰çˆ¶èŠ‚ç‚¹</span>
		Node<span class="token operator">*</span> grandfather <span class="token operator">=</span> parent<span class="token operator">-&gt;</span>_parent<span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>parent <span class="token operator">==</span> grandfather<span class="token operator">-&gt;</span>_left<span class="token punctuation">)</span>  <span class="token comment">//æ—‹è½¬éœ€è¦ç¡®å®šæ–¹å‘</span>
		<span class="token punctuation">{<!-- --></span>
			Node<span class="token operator">*</span> uncle <span class="token operator">=</span> grandfather<span class="token operator">-&gt;</span>_right<span class="token punctuation">;</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>uncle <span class="token operator">&amp;&amp;</span> uncle<span class="token operator">-&gt;</span>_col <span class="token operator">==</span> Red<span class="token punctuation">)</span> <span class="token comment">//æƒ…å†µä¸€ï¼šå”å”å­˜åœ¨ä¸”ä¸ºçº¢-&gt;æ— æ–¹å‘(pã€uä¸ºgçš„ä»»æ„è¾¹ï¼Œcä¸ºpçš„ä»»ä¸€è¾¹)</span>
			<span class="token punctuation">{<!-- --></span>  <span class="token comment">//curå¯èƒ½ä¸ºæ–°å¢èŠ‚ç‚¹ï¼Œä¹Ÿå¯èƒ½ä¸€å¼€å§‹ä¸ºé»‘è‰²ï¼Œcurçš„å­æ ‘(ä¸‹ä¸€å±‚ä¸ºçº¢ï¼Œä¸‹ä¸€å±‚ä¸ºæ–°æ’å…¥èŠ‚ç‚¹)åœ¨è°ƒæ•´è¿‡ç¨‹ä¸­å°†curç”±é»‘å˜ä¸ºçº¢</span>
				parent<span class="token operator">-&gt;</span>_col <span class="token operator">=</span> uncle<span class="token operator">-&gt;</span>_col <span class="token operator">=</span> Black<span class="token punctuation">;</span> <span class="token comment">//pã€uå˜ä¸ºé»‘ï¼Œgå˜ä¸ºçº¢</span>
				grandfather<span class="token operator">-&gt;</span>_col <span class="token operator">=</span> Red<span class="token punctuation">;</span>

				<span class="token comment">//gå¯èƒ½ä¸ºæ ¹èŠ‚ç‚¹(æ›´æ–°ç»“æŸ)ï¼Œä¹Ÿå¯èƒ½ä¸ºå­æ ‘(ç»§ç»­å‘ä¸Šæ›´æ–°)</span>
				cur <span class="token operator">=</span> grandfather<span class="token punctuation">;</span>
				parent <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_parent<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">else</span>  <span class="token comment">//æƒ…å†µäºŒï¼šå”å”ä¸å­˜åœ¨ æˆ–è€… å”å”å­˜åœ¨ä¸”ä¸ºé»‘</span>
			<span class="token punctuation">{<!-- --></span>  <span class="token comment">//å”å”ä¸å­˜åœ¨ï¼Œcurä¸ºæ–°å¢èŠ‚ç‚¹ æˆ– curåŸæ¥ä¸ºé»‘ï¼Œç»å­æ ‘è°ƒæ•´ç”±é»‘å˜çº¢</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span>parent<span class="token operator">-&gt;</span>_left <span class="token operator">==</span> cur<span class="token punctuation">)</span>  <span class="token comment">//å·¦å·¦â€”â€”å³å•æ—‹</span>
				<span class="token punctuation">{<!-- --></span>
					<span class="token function">RotateR</span><span class="token punctuation">(</span>grandfather<span class="token punctuation">)</span><span class="token punctuation">;</span>
					parent<span class="token operator">-&gt;</span>_col <span class="token operator">=</span> Black<span class="token punctuation">;</span> <span class="token comment">//på˜ä¸ºé»‘ï¼Œgå˜ä¸ºçº¢</span>
					grandfather<span class="token operator">-&gt;</span>_col <span class="token operator">=</span> Red<span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				<span class="token keyword">else</span>    <span class="token comment">//å·¦å³â€”â€”å·¦å³å•æ—‹ </span>
				<span class="token punctuation">{<!-- --></span>
					<span class="token function">RotateL</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token function">RotateR</span><span class="token punctuation">(</span>grandfather<span class="token punctuation">)</span><span class="token punctuation">;</span>
					cur<span class="token operator">-&gt;</span>_col <span class="token operator">=</span> Black<span class="token punctuation">;</span>  <span class="token comment">//cå˜é»‘ï¼Œgå˜çº¢</span>
					grandfather<span class="token operator">-&gt;</span>_col <span class="token operator">=</span> Red<span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				<span class="token keyword">break</span><span class="token punctuation">;</span>  <span class="token comment">//æ›´æ–°ç»“æŸï¼š3.æ—‹è½¬+é¢œè‰²å¤„ç†åå°±æ˜¯çº¢é»‘æ ‘äº†</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span>
		<span class="token punctuation">{<!-- --></span>
			Node<span class="token operator">*</span> uncle <span class="token operator">=</span> grandfather<span class="token operator">-&gt;</span>_left<span class="token punctuation">;</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>uncle <span class="token operator">&amp;&amp;</span> uncle<span class="token operator">-&gt;</span>_col <span class="token operator">==</span> Red<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				parent<span class="token operator">-&gt;</span>_col <span class="token operator">=</span> uncle<span class="token operator">-&gt;</span>_col <span class="token operator">=</span> Black<span class="token punctuation">;</span>
				grandfather<span class="token operator">-&gt;</span>_col <span class="token operator">=</span> Red<span class="token punctuation">;</span>

				cur <span class="token operator">=</span> grandfather<span class="token punctuation">;</span>
				parent <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_parent<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">else</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span>parent<span class="token operator">-&gt;</span>_right <span class="token operator">==</span> cur<span class="token punctuation">)</span>  <span class="token comment">//å³å³â€”â€”å·¦å•æ—‹</span>
				<span class="token punctuation">{<!-- --></span>
					<span class="token function">RotateL</span><span class="token punctuation">(</span>grandfather<span class="token punctuation">)</span><span class="token punctuation">;</span>
					parent<span class="token operator">-&gt;</span>_col <span class="token operator">=</span> Black<span class="token punctuation">;</span>
					grandfather<span class="token operator">-&gt;</span>_col <span class="token operator">=</span> Red<span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				<span class="token keyword">else</span>   <span class="token comment">//å³å·¦â€”â€”å³å·¦å•æ—‹</span>
				<span class="token punctuation">{<!-- --></span>
					<span class="token function">RotateR</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token function">RotateL</span><span class="token punctuation">(</span>grandfather<span class="token punctuation">)</span><span class="token punctuation">;</span>
					cur<span class="token operator">-&gt;</span>_col <span class="token operator">=</span> Black<span class="token punctuation">;</span>
					grandfather<span class="token operator">-&gt;</span>_col <span class="token operator">=</span> Red<span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				<span class="token keyword">break</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	_root<span class="token operator">-&gt;</span>_col <span class="token operator">=</span> Black<span class="token punctuation">;</span>  <span class="token comment">//gä¸ºæ ¹ï¼Œé¢œè‰²å˜ä¸ºé»‘ï¼Œæ›´æ–°ç»“æŸ</span>
	<span class="token keyword">return</span> <span class="token function">make_pair</span><span class="token punctuation">(</span><span class="token function">iterator</span><span class="token punctuation">(</span>newnode<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//æƒ…å†µä¸€ï¼Œæ’å…¥èŠ‚ç‚¹çš„çˆ¶äº²ä¸ºé»‘ï¼Œæ’å…¥ç»“æŸ</span>
<span class="token punctuation">}</span>
</code></pre> 
<p></p> 
<h2><a id="2_Map_538"></a>2. Map</h2> 
<p></p> 
<h3><a id="21_operator_540"></a>2.1 operator[]</h3> 
<blockquote> 
 <p>ğŸ’¡V&amp; operator[ ](const K&amp; key) ;</p> 
</blockquote> 
<ul><li>åŠŸèƒ½ï¼šè®¿é—®ä¸keyç›¸å¯¹åº”çš„valueå€¼ã€‚å³å¯è¯»åˆå¯å†™ã€‚</li><li>åŸç†ï¼šoperator[ ]åº•å±‚æ˜¯é€šè¿‡è°ƒç”¨insert( )å°†é”®å€¼é˜Ÿæ’å…¥åˆ°mapä¸­ã€‚å¦‚æœkeyå­˜åœ¨ï¼Œæ’å…¥å¤±è´¥ï¼Œinsertè¿”å›ä¸mapä¸­keyå€¼ç›¸åŒå…ƒç´ çš„è¿­ä»£å™¨ã€‚å¦‚æœkeyä¸å­˜åœ¨ï¼Œæ’å…¥æˆåŠŸï¼Œinsertè¿”å›åœ¨mapä¸­æ–°æ’å…¥å…ƒç´ çš„è¿­ä»£å™¨ã€‚operator[ ]æœ€åè¿”å›ä¸keyå€¼ç›¸å¯¹åº”çš„valueå€¼çš„å¼•ç”¨ã€‚</li><li>operator[ ] å…·æœ‰æ’å…¥ã€æŸ¥æ‰¾ã€æ’å…¥+ä¿®æ”¹ã€æŸ¥æ‰¾+ä¿®æ”¹åŠŸèƒ½ã€‚</li></ul> 
<pre><code class="prism language-cpp">V<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">const</span> K<span class="token operator">&amp;</span> key<span class="token punctuation">)</span> <span class="token comment">//åŠŸèƒ½:æŸ¥æ‰¾+ä¿®æ”¹ã€æ’å…¥+ä¿®æ”¹</span>
<span class="token punctuation">{<!-- --></span>
	pair<span class="token operator">&lt;</span>iterator<span class="token punctuation">,</span> <span class="token keyword">bool</span><span class="token operator">&gt;</span> ret <span class="token operator">=</span> _t<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token function">make_pair</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> <span class="token function">V</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> ret<span class="token punctuation">.</span>first<span class="token operator">-&gt;</span>second<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p></p> 
<h2><a id="3_typename_554"></a>3. typenameä½œç”¨</h2> 
<ol><li>ä½¿ç”¨åŸŸä½œç”¨é™å®šç¬¦(: : )çš„ä¸¤ç§æƒ…å†µï¼šé™æ€å˜é‡ã€ç±»ä¸­typedefçš„ç±»å‹ã€‚</li><li>ä½¿ç”¨typenameè¡¨ç¤º: :åé¢ä¸ºç±»å‹ï¼Œä¸æ˜¯é™æ€æˆå‘˜</li></ol> 
<pre><code class="prism language-cpp"><span class="token comment">//ä½¿ç”¨::ä¸¤ç§æƒ…å†µï¼šé™æ€å˜é‡ã€ç±»ä¸­typedefçš„ç±»å‹  typenameè¡¨ç¤º::å‰é¢ä¸ºç±»å‹ï¼Œä¸æ˜¯é™æ€æˆå‘˜</span>
<span class="token keyword">typedef</span> <span class="token keyword">typename</span> <span class="token class-name">RBTree</span><span class="token operator">&lt;</span>K<span class="token punctuation">,</span> pair<span class="token operator">&lt;</span><span class="token keyword">const</span> K<span class="token punctuation">,</span> V<span class="token operator">&gt;</span><span class="token punctuation">,</span> MapKeyOfT<span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>iterator iterator<span class="token punctuation">;</span> 
</code></pre> 
<p></p> 
<h2><a id="4__563"></a>4. å®Œæ•´ä»£ç </h2> 
<h3><a id="41_Maph_564"></a>4.1 Map.h</h3> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">_CRT_SECURE_NO_WARNINGS</span> <span class="token expression"><span class="token number">1</span></span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">"RBTree.h"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;string&gt;</span></span>

<span class="token keyword">namespace</span> zzx <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">V</span><span class="token operator">&gt;</span>
	<span class="token keyword">class</span> <span class="token class-name">map</span> <span class="token punctuation">{<!-- --></span>   <span class="token comment">//KVæ¨¡å‹  </span>
	<span class="token keyword">public</span><span class="token operator">:</span>

		<span class="token keyword">struct</span> <span class="token class-name">MapKeyOfT</span> <span class="token punctuation">{<!-- --></span>
			<span class="token keyword">const</span> K<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">const</span> pair<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> V<span class="token operator">&gt;</span><span class="token operator">&amp;</span> kv<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token keyword">return</span> kv<span class="token punctuation">.</span>first<span class="token punctuation">;</span>  <span class="token comment">//pairä¸­çš„key</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">;</span>

		<span class="token comment">//ä½¿ç”¨::ä¸¤ç§æƒ…å†µï¼šé™æ€å˜é‡ã€ç±»ä¸­typedefçš„ç±»å‹  typenameè¡¨ç¤º::å‰é¢ä¸ºç±»å‹ï¼Œä¸æ˜¯é™æ€æˆå‘˜</span>
		<span class="token keyword">typedef</span> <span class="token keyword">typename</span> <span class="token class-name">RBTree</span><span class="token operator">&lt;</span>K<span class="token punctuation">,</span> pair<span class="token operator">&lt;</span><span class="token keyword">const</span> K<span class="token punctuation">,</span> V<span class="token operator">&gt;</span><span class="token punctuation">,</span> MapKeyOfT<span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>iterator iterator<span class="token punctuation">;</span>   <span class="token comment">//æ­£å‘è¿­ä»£å™¨</span>
		<span class="token keyword">typedef</span> <span class="token keyword">typename</span> <span class="token class-name">RBTree</span><span class="token operator">&lt;</span>K<span class="token punctuation">,</span> pair<span class="token operator">&lt;</span><span class="token keyword">const</span> K<span class="token punctuation">,</span> V<span class="token operator">&gt;</span><span class="token punctuation">,</span> MapKeyOfT<span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>reverse_iterator reverse_iterator<span class="token punctuation">;</span>  <span class="token comment">//åå‘è¿­ä»£å™¨</span>

		iterator <span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _t<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		iterator <span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _t<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		reverse_iterator <span class="token function">rbegin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _t<span class="token punctuation">.</span><span class="token function">rbegin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		reverse_iterator <span class="token function">rend</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _t<span class="token punctuation">.</span><span class="token function">rend</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		iterator <span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">const</span> K<span class="token operator">&amp;</span> key<span class="token punctuation">)</span>  <span class="token comment">//æŸ¥æ‰¾</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _t<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		pair<span class="token operator">&lt;</span>iterator<span class="token punctuation">,</span> <span class="token keyword">bool</span><span class="token operator">&gt;</span> <span class="token function">insert</span><span class="token punctuation">(</span>pair<span class="token operator">&lt;</span><span class="token keyword">const</span> K<span class="token punctuation">,</span> V<span class="token operator">&gt;</span><span class="token operator">&amp;</span> kv<span class="token punctuation">)</span>  <span class="token comment">//æ’å…¥</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _t<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>kv<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		V<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">const</span> K<span class="token operator">&amp;</span> key<span class="token punctuation">)</span> <span class="token comment">//åŠŸèƒ½:æŸ¥æ‰¾+ä¿®æ”¹ã€æ’å…¥+ä¿®æ”¹</span>
		<span class="token punctuation">{<!-- --></span>
			pair<span class="token operator">&lt;</span>iterator<span class="token punctuation">,</span> <span class="token keyword">bool</span><span class="token operator">&gt;</span> ret <span class="token operator">=</span> _t<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token function">make_pair</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> <span class="token function">V</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span> ret<span class="token punctuation">.</span>first<span class="token operator">-&gt;</span>second<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

	<span class="token keyword">private</span><span class="token operator">:</span>   <span class="token comment">//mapä¸­çš„keyä¸å…è®¸è¢«ä¿®æ”¹</span>
		RBTree<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> pair<span class="token operator">&lt;</span><span class="token keyword">const</span> K<span class="token punctuation">,</span> V<span class="token operator">&gt;</span><span class="token punctuation">,</span> MapKeyOfT<span class="token operator">&gt;</span> _t<span class="token punctuation">;</span>  <span class="token comment">//çº¢é»‘æ ‘å¯¹è±¡</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<p></p> 
<h3><a id="42_Seth_631"></a>4.2 Set.h</h3> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">_CRT_SECURE_NO_WARNINGS</span> <span class="token expression"><span class="token number">1</span></span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">"RBTree.h"</span></span>

<span class="token keyword">namespace</span> zzx<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">K</span><span class="token operator">&gt;</span>
	<span class="token keyword">class</span> <span class="token class-name">set</span><span class="token punctuation">{<!-- --></span>   <span class="token comment">//Kæ¨¡å‹</span>
	<span class="token keyword">public</span><span class="token operator">:</span>   <span class="token comment">//ä»¿å‡½æ•°ç±»:æ¯”è¾ƒå¯¹è±¡å¤§å°ï¼Œè·å–å¯¹è±¡ä¸­çš„å…ƒç´ â€”è‡ªå·±æ‰‹åŠ¨ä¼ é€’æ¯”è¾ƒé€»è¾‘</span>
		<span class="token keyword">struct</span> <span class="token class-name">SetKeyOfT</span><span class="token punctuation">{<!-- --></span>   
			<span class="token keyword">const</span> K<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">const</span> K<span class="token operator">&amp;</span> key<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token keyword">return</span> key<span class="token punctuation">;</span>  <span class="token comment">//key</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">;</span>

		<span class="token comment">//ä½¿ç”¨::ä¸¤ç§æƒ…å†µï¼šé™æ€å˜é‡ã€ç±»ä¸­typedefçš„ç±»å‹  typenameè¡¨ç¤º::åé¢ä¸ºç±»å‹ï¼Œä¸æ˜¯é™æ€æˆå‘˜</span>
		<span class="token keyword">typedef</span> <span class="token keyword">typename</span> <span class="token class-name">RBTree</span><span class="token operator">&lt;</span>K<span class="token punctuation">,</span> <span class="token keyword">const</span> K<span class="token punctuation">,</span> SetKeyOfT<span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>iterator iterator<span class="token punctuation">;</span>   <span class="token comment">//æ­£å‘è¿­ä»£å™¨</span>
		<span class="token keyword">typedef</span> <span class="token keyword">typename</span> <span class="token class-name">RBTree</span><span class="token operator">&lt;</span>K<span class="token punctuation">,</span> <span class="token keyword">const</span> K<span class="token punctuation">,</span> SetKeyOfT<span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>reverse_iterator reverse_iterator<span class="token punctuation">;</span>  <span class="token comment">//åå‘è¿­ä»£å™¨</span>

		iterator <span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _t<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		iterator <span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _t<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		reverse_iterator <span class="token function">rbegin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _t<span class="token punctuation">.</span><span class="token function">rbegin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		reverse_iterator <span class="token function">rend</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _t<span class="token punctuation">.</span><span class="token function">rend</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		iterator <span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">const</span> K<span class="token operator">&amp;</span> key<span class="token punctuation">)</span>  <span class="token comment">//æŸ¥æ‰¾</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _t<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		pair<span class="token operator">&lt;</span>iterator<span class="token punctuation">,</span> <span class="token keyword">bool</span><span class="token operator">&gt;</span> <span class="token function">insert</span><span class="token punctuation">(</span><span class="token keyword">const</span> K<span class="token operator">&amp;</span> key<span class="token punctuation">)</span>  <span class="token comment">//æ’å…¥</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _t<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

	<span class="token keyword">private</span><span class="token operator">:</span>  <span class="token comment">//setä¸­çš„keyä¸å…è®¸è¢«ä¿®æ”¹</span>
		RBTree<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> <span class="token keyword">const</span> K<span class="token punctuation">,</span> SetKeyOfT<span class="token operator">&gt;</span> _t<span class="token punctuation">;</span>  <span class="token comment">//çº¢é»‘æ ‘å¯¹è±¡</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="43_RBTreeh_689"></a>4.3 RBTree.h</h3> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">_CRT_SECURE_NO_WARNINGS</span> <span class="token expression"><span class="token number">1</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>

<span class="token keyword">enum</span> <span class="token class-name">Color</span> <span class="token punctuation">{<!-- --></span>  <span class="token comment">//æšä¸¾ï¼Œä¸€ä¸€åˆ—ä¸¾å‡ºäº‹ç‰©å…·æœ‰çš„æ‰€æœ‰å¯èƒ½</span>
	Red<span class="token punctuation">,</span>  <span class="token comment">//æšä¸¾å¸¸é‡ï¼Œç»™æšä¸¾å˜é‡è¿›è¡Œèµ‹å€¼</span>
	Black<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">&gt;</span><span class="token comment">//çº¢é»‘æ ‘çš„èŠ‚ç‚¹</span>
<span class="token keyword">struct</span> <span class="token class-name">RBTreeNode</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">typedef</span> RBTreeNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> Node<span class="token punctuation">;</span>

	<span class="token comment">//ä¸‰å‰é“¾-ã€‹ä¼˜ç‚¹ï¼šä¾¿äºæŸ¥æ‰¾å­©å­ã€çˆ¶äº²èŠ‚ç‚¹</span>
	Node<span class="token operator">*</span> _left<span class="token punctuation">;</span>      <span class="token comment">//è¯¥èŠ‚ç‚¹çš„å·¦å­©å­</span>
	Node<span class="token operator">*</span> _right<span class="token punctuation">;</span>    <span class="token comment">//è¯¥èŠ‚ç‚¹çš„å³å­©å­</span>
	Node<span class="token operator">*</span> _parent<span class="token punctuation">;</span>  <span class="token comment">//è¯¥èŠ‚ç‚¹çš„çˆ¶äº²ï¼Œä¾¿äºå‘ä¸Šæ›´æ–°</span>
	T _data<span class="token punctuation">;</span>
	Color _col<span class="token punctuation">;</span>

	<span class="token function">RBTreeNode</span><span class="token punctuation">(</span><span class="token keyword">const</span> T<span class="token operator">&amp;</span> data<span class="token punctuation">,</span> Color col <span class="token operator">=</span> Red<span class="token punctuation">)</span>  <span class="token comment">//æ„é€ å‡½æ•°</span>
		<span class="token operator">:</span><span class="token function">_data</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
		<span class="token punctuation">,</span> <span class="token function">_left</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span>
		<span class="token punctuation">,</span> <span class="token function">_right</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span>
		<span class="token punctuation">,</span> <span class="token function">_parent</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span>
		<span class="token punctuation">,</span> <span class="token function">_col</span><span class="token punctuation">(</span>col<span class="token punctuation">)</span>  <span class="token comment">//é»˜è®¤æ–°æ’å…¥èŠ‚ç‚¹çš„é¢œè‰²ä¸ºçº¢è‰²</span>
	<span class="token punctuation">{<!-- --></span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">Ref</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">Ptr</span><span class="token operator">&gt;</span> 
<span class="token keyword">struct</span> <span class="token class-name">RBTreeIterator</span>   <span class="token comment">//çº¢é»‘æ ‘çš„æ­£å‘è¿­ä»£å™¨</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">typedef</span> RBTreeNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> Node<span class="token punctuation">;</span>
	<span class="token keyword">typedef</span> RBTreeIterator<span class="token operator">&lt;</span>T<span class="token punctuation">,</span> Ref<span class="token punctuation">,</span> Ptr<span class="token operator">&gt;</span> Self<span class="token punctuation">;</span>

	Node<span class="token operator">*</span> _node<span class="token punctuation">;</span>

	<span class="token function">RBTreeIterator</span><span class="token punctuation">(</span>Node<span class="token operator">*</span> node<span class="token punctuation">)</span> <span class="token comment">//æ„é€ å‡½æ•°ï¼Œå•å‚æ•°æ„é€ å‡½æ•°æ”¯æŒéšå¼ç±»å‹è½¬åŒ–</span>
		<span class="token operator">:</span><span class="token function">_node</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span> <span class="token punctuation">}</span>

	Ref <span class="token keyword">operator</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> _node<span class="token operator">-&gt;</span>_data<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	Ptr <span class="token keyword">operator</span><span class="token operator">-&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//ç»“æ„ä½“æŒ‡é’ˆï¼Œdataä¸ºç»“æ„ä½“</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token operator">&amp;</span>_node<span class="token operator">-&gt;</span>_data<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">/*1.å³ä¸ä¸ºç©ºï¼Œä¸‹ä¸€ä¸ªä¸ºè¯¥èŠ‚ç‚¹å³å­æ ‘çš„æœ€å·¦èŠ‚ç‚¹ ;
	* 2.å³ä¸ºç©ºï¼Œè¯´æ˜è¯¥èŠ‚ç‚¹æ‰€åœ¨çš„å­æ ‘å·²ç»è®¿é—®å®Œäº†ï¼Œè‹¥è¯¥èŠ‚ç‚¹ä¸ºçˆ¶äº²çš„å³ï¼Œè¯´æ˜è¯¥çˆ¶äº²æ‰€åœ¨çš„å­æ ‘ä¹Ÿè®¿é—®å®Œäº†ï¼Œç»§ç»­å¾€ä¸Šæ‰¾ï¼Œ
	* ç›´åˆ°è¯¥èŠ‚ç‚¹ä¸ºçˆ¶äº²çš„å·¦ï¼Œåˆ™è¦è®¿é—®çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æ˜¯å®ƒçš„çˆ¶äº²ï¼Œå³ï¼šæ‰¾ç¥–å…ˆé‡Œé¢çš„å­©çº¸ = çˆ¶äº²å·¦*/</span>
	Self<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">++</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">//ä¸­åº å·¦ã€æ ¹ã€å³</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>_node<span class="token operator">-&gt;</span>_right<span class="token punctuation">)</span>  <span class="token comment">//1</span>
		<span class="token punctuation">{<!-- --></span>
			Node<span class="token operator">*</span> subLeft <span class="token operator">=</span> _node<span class="token operator">-&gt;</span>_right<span class="token punctuation">;</span>
			<span class="token keyword">while</span> <span class="token punctuation">(</span>subLeft<span class="token operator">-&gt;</span>_left<span class="token punctuation">)</span>
				subLeft <span class="token operator">=</span> subLeft<span class="token operator">-&gt;</span>_left<span class="token punctuation">;</span>

			_node <span class="token operator">=</span> subLeft<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span>  <span class="token comment">//2</span>
		<span class="token punctuation">{<!-- --></span>
			Node<span class="token operator">*</span> cur <span class="token operator">=</span> _node<span class="token punctuation">;</span>
			Node<span class="token operator">*</span> parent <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_parent<span class="token punctuation">;</span>
			<span class="token keyword">while</span> <span class="token punctuation">(</span>parent <span class="token operator">&amp;&amp;</span> parent<span class="token operator">-&gt;</span>_left <span class="token operator">!=</span> cur<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				cur <span class="token operator">=</span> parent<span class="token punctuation">;</span>
				parent <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_parent<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			_node <span class="token operator">=</span> parent<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">/*1.å·¦ä¸ä¸ºç©ºï¼Œä¸‹ä¸€ä¸ªä¸ºè¯¥èŠ‚ç‚¹å·¦å­æ ‘çš„æœ€å³èŠ‚ç‚¹ ;
	* 2.å·¦ä¸ºç©ºï¼Œè¯´æ˜è¯¥èŠ‚ç‚¹æ‰€åœ¨çš„å­æ ‘å·²ç»è®¿é—®å®Œäº†ï¼Œè‹¥è¯¥èŠ‚ç‚¹ä¸ºçˆ¶äº²çš„å·¦ï¼Œè¯´æ˜è¯¥çˆ¶äº²æ‰€åœ¨çš„å­æ ‘ä¹Ÿè®¿é—®å®Œäº†ï¼Œç»§ç»­å¾€ä¸Šæ‰¾ï¼Œ
	* ç›´åˆ°è¯¥èŠ‚ç‚¹ä¸ºçˆ¶äº²çš„å³ï¼Œåˆ™è¦è®¿é—®çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æ˜¯å®ƒçš„çˆ¶äº²ï¼Œå³ï¼šæ‰¾ç¥–å…ˆé‡Œé¢çš„å­©çº¸ = çˆ¶äº²å³*/</span>
	Self<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">--</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//ä¸­åº å·¦ã€æ ¹ã€å³  --ä¸++é€»è¾‘ç›¸å</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>_node<span class="token operator">-&gt;</span>_left<span class="token punctuation">)</span>  <span class="token comment">//1</span>
		<span class="token punctuation">{<!-- --></span>
			Node<span class="token operator">*</span> subRight <span class="token operator">=</span> _node<span class="token operator">-&gt;</span>_left<span class="token punctuation">;</span>
			<span class="token keyword">while</span> <span class="token punctuation">(</span>subRight<span class="token operator">-&gt;</span>_right<span class="token punctuation">)</span>
				subRight <span class="token operator">=</span> subRight<span class="token operator">-&gt;</span>_right<span class="token punctuation">;</span>

			_node <span class="token operator">=</span> subRight<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span>  <span class="token comment">//2</span>
		<span class="token punctuation">{<!-- --></span>
			Node<span class="token operator">*</span> cur <span class="token operator">=</span> _node<span class="token punctuation">;</span>
			Node<span class="token operator">*</span> parent <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_parent<span class="token punctuation">;</span>
			<span class="token keyword">while</span> <span class="token punctuation">(</span>parent <span class="token operator">&amp;&amp;</span> parent<span class="token operator">-&gt;</span>_right <span class="token operator">!=</span> cur<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				cur <span class="token operator">=</span> parent<span class="token punctuation">;</span>
				parent <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_parent<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			_node <span class="token operator">=</span> parent<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token operator">!=</span><span class="token punctuation">(</span><span class="token keyword">const</span> Self<span class="token operator">&amp;</span> rb<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> _node <span class="token operator">!=</span> rb<span class="token punctuation">.</span>_node<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token operator">==</span><span class="token punctuation">(</span><span class="token keyword">const</span> Self<span class="token operator">&amp;</span> rb<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> _node <span class="token operator">==</span> rb<span class="token punctuation">.</span>_node<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">iterator</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">Ref</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">Ptr</span><span class="token operator">&gt;</span>
<span class="token keyword">struct</span> <span class="token class-name">ReverseIterator</span>  <span class="token comment">//çº¢é»‘æ ‘çš„åå‘è¿­ä»£å™¨â€”â€”é€‚é…å™¨ begin = rendã€end = rbegin</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">typedef</span> ReverseIterator<span class="token operator">&lt;</span>iterator<span class="token punctuation">,</span> Ref<span class="token punctuation">,</span> Ptr<span class="token operator">&gt;</span> Self<span class="token punctuation">;</span>  
	iterator _it<span class="token punctuation">;</span>   <span class="token comment">//é€‚é…å™¨</span>

	<span class="token function">ReverseIterator</span><span class="token punctuation">(</span>iterator it<span class="token punctuation">)</span>
		<span class="token operator">:</span><span class="token function">_it</span><span class="token punctuation">(</span>it<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span> <span class="token punctuation">}</span>

	Ref <span class="token keyword">operator</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token operator">*</span>_it<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	Ptr <span class="token keyword">operator</span><span class="token operator">-&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token operator">&amp;</span><span class="token punctuation">(</span><span class="token keyword">operator</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//</span>
	<span class="token punctuation">}</span>

	Self<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">++</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token operator">--</span>_it<span class="token punctuation">;</span>
		<span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	Self<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">--</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token operator">++</span>_it<span class="token punctuation">;</span>
		<span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token operator">==</span><span class="token punctuation">(</span><span class="token keyword">const</span> Self<span class="token operator">&amp;</span> rb<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> _it <span class="token operator">==</span> rb<span class="token punctuation">.</span>_it<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token operator">!=</span><span class="token punctuation">(</span><span class="token keyword">const</span> Self<span class="token operator">&amp;</span> rb<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> _it <span class="token operator">!=</span> rb<span class="token punctuation">.</span>_it<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//çº¢é»‘æ ‘çš„æ¨¡æ¿å‚æ•°:Tå†³å®šä½ æ˜¯kæ¨¡å‹çš„setã€è¿˜æ˜¯KVæ¨¡å‹çš„map ; KeyOfT:å–å‡ºTå¯¹è±¡ä¸­çš„key ; pairæ¯”è¾ƒ:å…ˆæ¯”è¾ƒfirst,åœ¨æ¯”è¾ƒsecond</span>
<span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">KeyOfT</span><span class="token operator">&gt;</span> 
<span class="token keyword">class</span> <span class="token class-name">RBTree</span> <span class="token punctuation">{<!-- --></span>  
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token keyword">typedef</span> RBTreeNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> Node<span class="token punctuation">;</span>

	<span class="token comment">//æ­£å‘è¿­ä»£å™¨</span>
	<span class="token keyword">typedef</span> RBTreeIterator<span class="token operator">&lt;</span>T<span class="token punctuation">,</span> T<span class="token operator">&amp;</span><span class="token punctuation">,</span> T<span class="token operator">*</span><span class="token operator">&gt;</span> iterator<span class="token punctuation">;</span>  <span class="token comment">//æ™®é€šè¿­ä»£å™¨</span>
	<span class="token keyword">typedef</span> RBTreeIterator<span class="token operator">&lt;</span>T<span class="token punctuation">,</span><span class="token keyword">const</span> T<span class="token operator">&amp;</span><span class="token punctuation">,</span> <span class="token keyword">const</span> T<span class="token operator">*</span><span class="token operator">&gt;</span> const_iterator<span class="token punctuation">;</span> <span class="token comment">//constè¿­ä»£å™¨</span>

	<span class="token comment">//åå‘è¿­ä»£å™¨</span>
	<span class="token keyword">typedef</span> ReverseIterator<span class="token operator">&lt;</span>iterator<span class="token punctuation">,</span> T<span class="token operator">&amp;</span><span class="token punctuation">,</span> T<span class="token operator">*</span><span class="token operator">&gt;</span> reverse_iterator<span class="token punctuation">;</span>
	<span class="token keyword">typedef</span> ReverseIterator<span class="token operator">&lt;</span>const_iterator<span class="token punctuation">,</span> <span class="token keyword">const</span> T<span class="token operator">&amp;</span><span class="token punctuation">,</span> <span class="token keyword">const</span> T<span class="token operator">*</span><span class="token operator">&gt;</span> const_reverse_iterator<span class="token punctuation">;</span>

	iterator <span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">//çº¢é»‘æ ‘æœ€å·¦èŠ‚ç‚¹</span>
	<span class="token punctuation">{<!-- --></span> 
		Node<span class="token operator">*</span> subLeft <span class="token operator">=</span> _root<span class="token punctuation">;</span>   
		<span class="token keyword">while</span> <span class="token punctuation">(</span>subLeft <span class="token operator">&amp;&amp;</span> subLeft<span class="token operator">-&gt;</span>_left<span class="token punctuation">)</span>
			subLeft <span class="token operator">=</span> subLeft<span class="token operator">-&gt;</span>_left<span class="token punctuation">;</span>

		<span class="token keyword">return</span> <span class="token function">iterator</span><span class="token punctuation">(</span>subLeft<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	iterator <span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">//ç©ºæŒ‡é’ˆ å·¦é—­å³å¼€[begin,end)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token function">iterator</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	const_iterator <span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">const</span>  
	<span class="token punctuation">{<!-- --></span>
		Node<span class="token operator">*</span> subLeft <span class="token operator">=</span> _root<span class="token punctuation">;</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>subLeft <span class="token operator">&amp;&amp;</span> subLeft<span class="token operator">-&gt;</span>_left<span class="token punctuation">)</span>
			subLeft <span class="token operator">=</span> subLeft<span class="token operator">-&gt;</span>_left<span class="token punctuation">;</span>

		<span class="token keyword">return</span> <span class="token function">const_iterator</span><span class="token punctuation">(</span>subLeft<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	const_iterator <span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">const</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token function">const_iterator</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	reverse_iterator <span class="token function">rbegin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">//çº¢é»‘æ ‘æœ€å³èŠ‚ç‚¹ï¼Œå› ä¸ºæ­¤å¤„åå‘è¿­ä»£å™¨*ï¼Œæ˜¯ç›´æ¥è°ƒç”¨æ­£å‘è¿­ä»£å™¨* [rbegin,erend)</span>
	<span class="token punctuation">{<!-- --></span>
		Node<span class="token operator">*</span> subRight <span class="token operator">=</span> _root<span class="token punctuation">;</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>subRight <span class="token operator">&amp;&amp;</span> subRight<span class="token operator">-&gt;</span>_right<span class="token punctuation">)</span>
			subRight <span class="token operator">=</span> subRight<span class="token operator">-&gt;</span>_right<span class="token punctuation">;</span>

		<span class="token keyword">return</span> <span class="token function">reverse_iterator</span><span class="token punctuation">(</span>subRight<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	reverse_iterator <span class="token function">rend</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token function">reverse_iterator</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	const_reverse_iterator <span class="token function">rbegin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">const</span>
	<span class="token punctuation">{<!-- --></span>
		Node<span class="token operator">*</span> subRight <span class="token operator">=</span> _root<span class="token punctuation">;</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>subRight <span class="token operator">&amp;&amp;</span> subRight<span class="token operator">-&gt;</span>_right<span class="token punctuation">)</span>
			subRight <span class="token operator">=</span> subRight<span class="token operator">-&gt;</span>_right<span class="token punctuation">;</span>

		<span class="token keyword">return</span> <span class="token function">const_reverse_iterator</span><span class="token punctuation">(</span>subRight<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	const_reverse_iterator <span class="token function">rend</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">const</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token function">const_reverse_iterator</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	iterator <span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">const</span> K<span class="token operator">&amp;</span> key<span class="token punctuation">)</span>  <span class="token comment">//æŸ¥æ‰¾  æ¨¡æ¿å‚æ•°Kçš„ä½œç”¨</span>
	<span class="token punctuation">{<!-- --></span>
		KeyOfT kot<span class="token punctuation">;</span>

		Node<span class="token operator">*</span> cur <span class="token operator">=</span> _root<span class="token punctuation">;</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>cur<span class="token punctuation">)</span>  <span class="token comment">//å…ˆæŒ‰ç…§äºŒå‰æœç´¢æ ‘çš„æ–¹å¼æ’å…¥</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">kot</span><span class="token punctuation">(</span>cur<span class="token operator">-&gt;</span>_data<span class="token punctuation">)</span> <span class="token operator">&lt;</span> key<span class="token punctuation">)</span>  <span class="token comment">//é€šä»¿å‡½æ•°å¯¹è±¡è°ƒç”¨operator()æ¥è·å–Tä¸­çš„key</span>
				cur <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_right<span class="token punctuation">;</span>
			<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">kot</span><span class="token punctuation">(</span>cur<span class="token operator">-&gt;</span>_data<span class="token punctuation">)</span> <span class="token operator">&gt;</span> key<span class="token punctuation">)</span>
				cur <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_left<span class="token punctuation">;</span>
			<span class="token keyword">else</span>
				<span class="token keyword">return</span> <span class="token function">iterator</span><span class="token punctuation">(</span>cur<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//æ‰¾åˆ°äº†</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">return</span> <span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//æ‰¾ä¸åˆ°</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">void</span> <span class="token function">RotateL</span><span class="token punctuation">(</span>Node<span class="token operator">*</span> parent<span class="token punctuation">)</span>  <span class="token comment">//å³å³â€”å·¦å•æ—‹</span>
	<span class="token punctuation">{<!-- --></span>
		Node<span class="token operator">*</span> subR <span class="token operator">=</span> parent<span class="token operator">-&gt;</span>_right<span class="token punctuation">;</span>
		Node<span class="token operator">*</span> subRL <span class="token operator">=</span> subR<span class="token operator">-&gt;</span>_left<span class="token punctuation">;</span>

		Node<span class="token operator">*</span> pphead <span class="token operator">=</span> parent<span class="token operator">-&gt;</span>_parent<span class="token punctuation">;</span>

		parent<span class="token operator">-&gt;</span>_right <span class="token operator">=</span> subRL<span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>subRL<span class="token punctuation">)</span>
			subRL<span class="token operator">-&gt;</span>_parent <span class="token operator">=</span> parent<span class="token punctuation">;</span>
		subR<span class="token operator">-&gt;</span>_left <span class="token operator">=</span> parent<span class="token punctuation">;</span>
		parent<span class="token operator">-&gt;</span>_parent <span class="token operator">=</span> subR<span class="token punctuation">;</span>


		<span class="token keyword">if</span> <span class="token punctuation">(</span>parent <span class="token operator">==</span> _root<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			_root <span class="token operator">=</span> subR<span class="token punctuation">;</span>
			subR<span class="token operator">-&gt;</span>_parent <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>pphead<span class="token operator">-&gt;</span>_left <span class="token operator">==</span> parent<span class="token punctuation">)</span>
				pphead<span class="token operator">-&gt;</span>_left <span class="token operator">=</span> subR<span class="token punctuation">;</span>
			<span class="token keyword">else</span>
				pphead<span class="token operator">-&gt;</span>_right <span class="token operator">=</span> subR<span class="token punctuation">;</span>

			subR<span class="token operator">-&gt;</span>_parent <span class="token operator">=</span> pphead<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">void</span> <span class="token function">RotateR</span><span class="token punctuation">(</span>Node<span class="token operator">*</span> parent<span class="token punctuation">)</span>  <span class="token comment">//å·¦å·¦â€”å³å•æ—‹</span>
	<span class="token punctuation">{<!-- --></span>
		Node<span class="token operator">*</span> subL <span class="token operator">=</span> parent<span class="token operator">-&gt;</span>_left<span class="token punctuation">;</span>
		Node<span class="token operator">*</span> subLR <span class="token operator">=</span> subL<span class="token operator">-&gt;</span>_right<span class="token punctuation">;</span>

		Node<span class="token operator">*</span> pphead <span class="token operator">=</span> parent<span class="token operator">-&gt;</span>_parent<span class="token punctuation">;</span>

		parent<span class="token operator">-&gt;</span>_left <span class="token operator">=</span> subLR<span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>subLR<span class="token punctuation">)</span>
			subLR<span class="token operator">-&gt;</span>_parent <span class="token operator">=</span> parent<span class="token punctuation">;</span>
		subL<span class="token operator">-&gt;</span>_right <span class="token operator">=</span> parent<span class="token punctuation">;</span>
		parent<span class="token operator">-&gt;</span>_parent <span class="token operator">=</span> subL<span class="token punctuation">;</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span>parent <span class="token operator">==</span> _root<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			_root <span class="token operator">=</span> subL<span class="token punctuation">;</span>
			subL<span class="token operator">-&gt;</span>_parent <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>pphead<span class="token operator">-&gt;</span>_left <span class="token operator">==</span> parent<span class="token punctuation">)</span>
				pphead<span class="token operator">-&gt;</span>_left <span class="token operator">=</span> subL<span class="token punctuation">;</span>
			<span class="token keyword">else</span>
				pphead<span class="token operator">-&gt;</span>_right <span class="token operator">=</span> subL<span class="token punctuation">;</span>

			subL<span class="token operator">-&gt;</span>_parent <span class="token operator">=</span> pphead<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">void</span> <span class="token function">RotateRL</span><span class="token punctuation">(</span>Node<span class="token operator">*</span> parent<span class="token punctuation">)</span>  <span class="token comment">//å³å·¦â€”å…ˆå³æ—‹å†å·¦æ—‹</span>
	<span class="token punctuation">{<!-- --></span>
		Node<span class="token operator">*</span> subR <span class="token operator">=</span> parent<span class="token operator">-&gt;</span>_right<span class="token punctuation">;</span>
		Node<span class="token operator">*</span> subRL <span class="token operator">=</span> subR<span class="token operator">-&gt;</span>_left<span class="token punctuation">;</span>

		<span class="token function">RotateR</span><span class="token punctuation">(</span>subR<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">RotateL</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">void</span> <span class="token function">RotateLR</span><span class="token punctuation">(</span>Node<span class="token operator">*</span> parent<span class="token punctuation">)</span>  <span class="token comment">//å·¦å³â€”å…ˆå·¦æ—‹å†å³æ—‹</span>
	<span class="token punctuation">{<!-- --></span>
		Node<span class="token operator">*</span> subL <span class="token operator">=</span> parent<span class="token operator">-&gt;</span>_left<span class="token punctuation">;</span>
		Node<span class="token operator">*</span> subLR <span class="token operator">=</span> subL<span class="token operator">-&gt;</span>_right<span class="token punctuation">;</span>

		<span class="token function">RotateL</span><span class="token punctuation">(</span>subL<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">RotateR</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	pair<span class="token operator">&lt;</span>iterator<span class="token punctuation">,</span> <span class="token keyword">bool</span><span class="token operator">&gt;</span> <span class="token function">insert</span><span class="token punctuation">(</span><span class="token keyword">const</span> T<span class="token operator">&amp;</span> data<span class="token punctuation">)</span>  <span class="token comment">//æ’å…¥  </span>
	<span class="token punctuation">{<!-- --></span>   <span class="token comment">//ä¸èƒ½ä½¿ç”¨å¼•ç”¨æ”¾å›ï¼Œå› ä¸ºè¿”å›å€¼ä½œç”¨åŸŸä¸ºæ ˆåŒºï¼Œä¼ å€¼è¿”å›</span>
		KeyOfT kot<span class="token punctuation">;</span>  <span class="token comment">//ä»¿å‡½æ•°ç±»åˆ›å»ºçš„å¯¹è±¡ï¼Œå¯¹è±¡å»è°ƒç”¨operator()</span>

		Node<span class="token operator">*</span> parent <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>
		Node<span class="token operator">*</span> cur <span class="token operator">=</span> _root<span class="token punctuation">;</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>cur<span class="token punctuation">)</span>  <span class="token comment">//å…ˆæŒ‰ç…§äºŒå‰æœç´¢æ ‘çš„æ–¹å¼æ’å…¥</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">kot</span><span class="token punctuation">(</span>cur<span class="token operator">-&gt;</span>_data<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token function">kot</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">//é€šä»¿å‡½æ•°å¯¹è±¡è°ƒç”¨operator()æ¥è·å–Tä¸­çš„keyå€¼</span>
			<span class="token punctuation">{<!-- --></span>
				parent <span class="token operator">=</span> cur<span class="token punctuation">;</span>
				cur <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_right<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">kot</span><span class="token punctuation">(</span>cur<span class="token operator">-&gt;</span>_data<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token function">kot</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				parent <span class="token operator">=</span> cur<span class="token punctuation">;</span>
				cur <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_left<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">else</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token keyword">return</span> <span class="token function">make_pair</span><span class="token punctuation">(</span><span class="token function">iterator</span><span class="token punctuation">(</span>cur<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//æ’å…¥èŠ‚ç‚¹å·²å­˜åœ¨ï¼Œæ’å…¥å¤±è´¥ï¼Œè¿”å›åœ¨æ ‘ä¸­ä¸è¯¥èŠ‚ç‚¹å€¼ç›¸åŒçš„è¿­ä»£å™¨</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

		cur <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Node</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//æ³¨æ„ insert</span>
		
		Node<span class="token operator">*</span> newnode <span class="token operator">=</span> cur<span class="token punctuation">;</span>  <span class="token comment">//éç©ºæ ‘ï¼Œæ’å…¥æˆåŠŸï¼Œå› ä¸ºè¦åšæ—‹è½¬å¤„ç†ï¼Œä¼šå¯¼è‡´curå€¼å‘ç”Ÿæ”¹å˜ï¼Œéœ€æå‰å°†æ–°èŠ‚ç‚¹çš„ä½ç½®å­˜å‚¨èµ·æ¥</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span>parent <span class="token operator">==</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span> <span class="token comment">//ç©ºæ ‘</span>
		<span class="token punctuation">{<!-- --></span>
			_root <span class="token operator">=</span> cur<span class="token punctuation">;</span>
			_root<span class="token operator">-&gt;</span>_col <span class="token operator">=</span> Black<span class="token punctuation">;</span>  <span class="token comment">//è·ŸèŠ‚ç‚¹ä¸ºé»‘</span>
			<span class="token keyword">return</span> <span class="token function">make_pair</span><span class="token punctuation">(</span><span class="token function">iterator</span><span class="token punctuation">(</span>_root<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//ç©ºæ ‘ï¼Œæ’å…¥æˆåŠŸï¼Œè¿”å›æ–°æ’å…¥èŠ‚ç‚¹åœ¨æ ‘ä¸­çš„è¿­ä»£å™¨</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">kot</span><span class="token punctuation">(</span>parent<span class="token operator">-&gt;</span>_data<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token function">kot</span><span class="token punctuation">(</span>cur<span class="token operator">-&gt;</span>_data<span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			parent<span class="token operator">-&gt;</span>_right <span class="token operator">=</span> cur<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span>
		<span class="token punctuation">{<!-- --></span>
			parent<span class="token operator">-&gt;</span>_left <span class="token operator">=</span> cur<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		cur<span class="token operator">-&gt;</span>_parent <span class="token operator">=</span> parent<span class="token punctuation">;</span>  <span class="token comment">//è®°å½•å½“å‰èŠ‚ç‚¹çš„çˆ¶äº²</span>

		<span class="token comment">//æ›´æ–°é¢œè‰²</span>
		<span class="token comment">//æ’å…¥ç»“æŸï¼š1.æ’å…¥èŠ‚ç‚¹çš„çˆ¶äº²æ˜¯é»‘è‰²ï¼Œå› ä¸ºæ’å…¥å‰è¯¥æ ‘å°±ä¸ºçº¢é»‘æ ‘ 2.æƒ…å†µä¸€å¤„ç†å®Œåï¼Œcurä¸ºæ ¹èŠ‚ç‚¹ï¼Œä¸”ä¸ºé»‘è‰²</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>parent <span class="token operator">&amp;&amp;</span> parent<span class="token operator">-&gt;</span>_col <span class="token operator">==</span> Red<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span> <span class="token comment">//çˆ·çˆ·ä¸€å®šå­˜åœ¨ï¼Œå› ä¸ºcä¸ºçº¢ï¼Œpä¸ºçº¢ï¼Œæ‰€ä»¥pä¸€å®šä¸æ˜¯æ ¹èŠ‚ç‚¹ï¼Œä¸”ä¸€å®šæœ‰çˆ¶èŠ‚ç‚¹</span>
			Node<span class="token operator">*</span> grandfather <span class="token operator">=</span> parent<span class="token operator">-&gt;</span>_parent<span class="token punctuation">;</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>parent <span class="token operator">==</span> grandfather<span class="token operator">-&gt;</span>_left<span class="token punctuation">)</span>  <span class="token comment">//æ—‹è½¬éœ€è¦ç¡®å®šæ–¹å‘</span>
			<span class="token punctuation">{<!-- --></span>
				Node<span class="token operator">*</span> uncle <span class="token operator">=</span> grandfather<span class="token operator">-&gt;</span>_right<span class="token punctuation">;</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span>uncle <span class="token operator">&amp;&amp;</span> uncle<span class="token operator">-&gt;</span>_col <span class="token operator">==</span> Red<span class="token punctuation">)</span> <span class="token comment">//æƒ…å†µä¸€ï¼šå”å”å­˜åœ¨ä¸”ä¸ºçº¢-&gt;æ— æ–¹å‘(pã€uä¸ºgçš„ä»»æ„è¾¹ï¼Œcä¸ºpçš„ä»»ä¸€è¾¹)</span>
				<span class="token punctuation">{<!-- --></span>  <span class="token comment">//curå¯èƒ½ä¸ºæ–°å¢èŠ‚ç‚¹ï¼Œä¹Ÿå¯èƒ½ä¸€å¼€å§‹ä¸ºé»‘è‰²ï¼Œcurçš„å­æ ‘(ä¸‹ä¸€å±‚ä¸ºçº¢ï¼Œä¸‹ä¸€å±‚ä¸ºæ–°æ’å…¥èŠ‚ç‚¹)åœ¨è°ƒæ•´è¿‡ç¨‹ä¸­å°†curç”±é»‘å˜ä¸ºçº¢</span>
					parent<span class="token operator">-&gt;</span>_col <span class="token operator">=</span> uncle<span class="token operator">-&gt;</span>_col <span class="token operator">=</span> Black<span class="token punctuation">;</span> <span class="token comment">//pã€uå˜ä¸ºé»‘ï¼Œgå˜ä¸ºçº¢</span>
					grandfather<span class="token operator">-&gt;</span>_col <span class="token operator">=</span> Red<span class="token punctuation">;</span>

					<span class="token comment">//gå¯èƒ½ä¸ºæ ¹èŠ‚ç‚¹(æ›´æ–°ç»“æŸ)ï¼Œä¹Ÿå¯èƒ½ä¸ºå­æ ‘(ç»§ç»­å‘ä¸Šæ›´æ–°)</span>
					cur <span class="token operator">=</span> grandfather<span class="token punctuation">;</span>
					parent <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_parent<span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				<span class="token keyword">else</span>  <span class="token comment">//æƒ…å†µäºŒï¼šå”å”ä¸å­˜åœ¨ æˆ–è€… å”å”å­˜åœ¨ä¸”ä¸ºé»‘</span>
				<span class="token punctuation">{<!-- --></span>  <span class="token comment">//å”å”ä¸å­˜åœ¨ï¼Œcurä¸ºæ–°å¢èŠ‚ç‚¹ æˆ– curåŸæ¥ä¸ºé»‘ï¼Œç»å­æ ‘è°ƒæ•´ç”±é»‘å˜çº¢</span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span>parent<span class="token operator">-&gt;</span>_left <span class="token operator">==</span> cur<span class="token punctuation">)</span>  <span class="token comment">//å·¦å·¦â€”â€”å³å•æ—‹</span>
					<span class="token punctuation">{<!-- --></span>
						<span class="token function">RotateR</span><span class="token punctuation">(</span>grandfather<span class="token punctuation">)</span><span class="token punctuation">;</span>
						parent<span class="token operator">-&gt;</span>_col <span class="token operator">=</span> Black<span class="token punctuation">;</span> <span class="token comment">//på˜ä¸ºé»‘ï¼Œgå˜ä¸ºçº¢</span>
						grandfather<span class="token operator">-&gt;</span>_col <span class="token operator">=</span> Red<span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
					<span class="token keyword">else</span>    <span class="token comment">//å·¦å³â€”â€”å·¦å³å•æ—‹ </span>
					<span class="token punctuation">{<!-- --></span>
						<span class="token function">RotateL</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">;</span>
						<span class="token function">RotateR</span><span class="token punctuation">(</span>grandfather<span class="token punctuation">)</span><span class="token punctuation">;</span>
						cur<span class="token operator">-&gt;</span>_col <span class="token operator">=</span> Black<span class="token punctuation">;</span>  <span class="token comment">//cå˜é»‘ï¼Œgå˜çº¢</span>
						grandfather<span class="token operator">-&gt;</span>_col <span class="token operator">=</span> Red<span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
					<span class="token keyword">break</span><span class="token punctuation">;</span>  <span class="token comment">//æ›´æ–°ç»“æŸï¼š3.æ—‹è½¬+é¢œè‰²å¤„ç†åå°±æ˜¯çº¢é»‘æ ‘äº†</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">else</span>
			<span class="token punctuation">{<!-- --></span>
				Node<span class="token operator">*</span> uncle <span class="token operator">=</span> grandfather<span class="token operator">-&gt;</span>_left<span class="token punctuation">;</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span>uncle <span class="token operator">&amp;&amp;</span> uncle<span class="token operator">-&gt;</span>_col <span class="token operator">==</span> Red<span class="token punctuation">)</span>
				<span class="token punctuation">{<!-- --></span>
					parent<span class="token operator">-&gt;</span>_col <span class="token operator">=</span> uncle<span class="token operator">-&gt;</span>_col <span class="token operator">=</span> Black<span class="token punctuation">;</span>
					grandfather<span class="token operator">-&gt;</span>_col <span class="token operator">=</span> Red<span class="token punctuation">;</span>

					cur <span class="token operator">=</span> grandfather<span class="token punctuation">;</span>
					parent <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_parent<span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				<span class="token keyword">else</span>
				<span class="token punctuation">{<!-- --></span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span>parent<span class="token operator">-&gt;</span>_right <span class="token operator">==</span> cur<span class="token punctuation">)</span>  <span class="token comment">//å³å³â€”â€”å·¦å•æ—‹</span>
					<span class="token punctuation">{<!-- --></span>
						<span class="token function">RotateL</span><span class="token punctuation">(</span>grandfather<span class="token punctuation">)</span><span class="token punctuation">;</span>
						parent<span class="token operator">-&gt;</span>_col <span class="token operator">=</span> Black<span class="token punctuation">;</span>
						grandfather<span class="token operator">-&gt;</span>_col <span class="token operator">=</span> Red<span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
					<span class="token keyword">else</span>   <span class="token comment">//å³å·¦â€”â€”å³å·¦å•æ—‹</span>
					<span class="token punctuation">{<!-- --></span>
						<span class="token function">RotateR</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">;</span>
						<span class="token function">RotateL</span><span class="token punctuation">(</span>grandfather<span class="token punctuation">)</span><span class="token punctuation">;</span>
						cur<span class="token operator">-&gt;</span>_col <span class="token operator">=</span> Black<span class="token punctuation">;</span>
						grandfather<span class="token operator">-&gt;</span>_col <span class="token operator">=</span> Red<span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
					<span class="token keyword">break</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		_root<span class="token operator">-&gt;</span>_col <span class="token operator">=</span> Black<span class="token punctuation">;</span>  <span class="token comment">//gä¸ºæ ¹ï¼Œé¢œè‰²å˜ä¸ºé»‘ï¼Œæ›´æ–°ç»“æŸ</span>
		<span class="token keyword">return</span> <span class="token function">make_pair</span><span class="token punctuation">(</span><span class="token function">iterator</span><span class="token punctuation">(</span>newnode<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//æƒ…å†µä¸€ï¼Œæ’å…¥èŠ‚ç‚¹çš„çˆ¶äº²ä¸ºé»‘ï¼Œæ’å…¥ç»“æŸ</span>
	<span class="token punctuation">}</span>

<span class="token keyword">private</span><span class="token operator">:</span>
	Node<span class="token operator">*</span> _root <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/55d3930e9ec904a56f97aa85f374049a/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">ã€CVE-2024-4577ã€‘PHP CGI è¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/7916506bb9e40cf368eabcb70c683511/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">Cè¯­è¨€è¯¦è§£ï¼ˆåŠ¨æ€å†…å­˜ç®¡ç†ï¼‰1</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ç¼–ç¨‹å¤§å’–.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>