<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>数据可视化插件echarts【前端】 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/f884457c2c1ea88f9aac0db0cb7d8a29/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="数据可视化插件echarts【前端】">
  <meta property="og:description" content="数据可视化插件echarts【前端】 前言版权开源推荐数据可视化插件echarts一、如何使用1.1 下载1.2 找到js文件1.3 入门使用1.4 我的使用 二、前后端交互：入门demo2.1 前端htmljs 2.2 后端entitycontrollerservicemapper 三、前后端交互：动态数据3.1 前端js 3.2 后端service 四、前后端交互：动态数据4.1 前端js 4.2 后端ChineseName注解EldDataDataService 五、测试扩展性5.0 开发说明5.1 测试结果5.2 Eld多加一个属性5.3 加入测试数据 六、注解优化6.0 开发说明6.1 测试结果6.2 前端6.2 后端ChineseNameEldDataDataService 七、实际项目开发EldDataConstant测试数据 最后 前言 2024-4-12 16:08:09
以下内容源自《【前端】》
仅供学习交流使用
版权 禁止其他平台发布时删除以下此话
本文首次发布于CSDN平台
作者是CSDN@日星月云
博客主页是https://jsss-1.blog.csdn.net
禁止其他平台发布时删除以上此话
开源 日星月云 / echarts数据可视化
v1：二、入门demo
v2：三、动态数据
v3：四、动态数据
v4：六、注解优化
v5：七、项目开发
推荐 echarts入门教程（超级详细带案例）
数据可视化插件echarts 一、如何使用 1.1 下载 （1）从 npm 获取
npm install echarts --save
（2）从 CDN 获取
（3）从 GitHub 获取">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-04-13T19:16:39+08:00">
    <meta property="article:modified_time" content="2024-04-13T19:16:39+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">数据可视化插件echarts【前端】</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>数据可视化插件echarts【前端】</h4> 
 <ul><li><a href="#_2" rel="nofollow">前言</a></li><li><a href="#_8" rel="nofollow">版权</a></li><li><a href="#_16" rel="nofollow">开源</a></li><li><a href="#_30" rel="nofollow">推荐</a></li><li><a href="#echarts_33" rel="nofollow">数据可视化插件echarts</a></li><li><ul><li><a href="#_37" rel="nofollow">一、如何使用</a></li><li><ul><li><a href="#11__38" rel="nofollow">1.1 下载</a></li><li><a href="#12_js_45" rel="nofollow">1.2 找到js文件</a></li><li><a href="#13__54" rel="nofollow">1.3 入门使用</a></li><li><a href="#14__118" rel="nofollow">1.4 我的使用</a></li></ul> 
   </li><li><a href="#demo_317" rel="nofollow">二、前后端交互：入门demo</a></li><li><ul><li><a href="#21__319" rel="nofollow">2.1 前端</a></li><li><ul><li><a href="#html_321" rel="nofollow">html</a></li><li><a href="#js_330" rel="nofollow">js</a></li></ul> 
    </li><li><a href="#22__525" rel="nofollow">2.2 后端</a></li><li><ul><li><a href="#entity_527" rel="nofollow">entity</a></li><li><a href="#controller_540" rel="nofollow">controller</a></li><li><a href="#service_549" rel="nofollow">service</a></li><li><a href="#mapper_576" rel="nofollow">mapper</a></li></ul> 
   </li></ul> 
   </li><li><a href="#_585" rel="nofollow">三、前后端交互：动态数据</a></li><li><ul><li><a href="#31__593" rel="nofollow">3.1 前端</a></li><li><ul><li><a href="#js_594" rel="nofollow">js</a></li></ul> 
    </li><li><a href="#32__799" rel="nofollow">3.2 后端</a></li><li><ul><li><a href="#service_801" rel="nofollow">service</a></li></ul> 
   </li></ul> 
   </li><li><a href="#_847" rel="nofollow">四、前后端交互：动态数据</a></li><li><ul><li><a href="#41__893" rel="nofollow">4.1 前端</a></li><li><ul><li><a href="#js_896" rel="nofollow">js</a></li></ul> 
    </li><li><a href="#42__1135" rel="nofollow">4.2 后端</a></li><li><ul><li><a href="#ChineseName_1138" rel="nofollow">ChineseName注解</a></li><li><a href="#EldData_1155" rel="nofollow">EldData</a></li><li><a href="#DataService_1213" rel="nofollow">DataService</a></li></ul> 
   </li></ul> 
   </li><li><a href="#_1325" rel="nofollow">五、测试扩展性</a></li><li><ul><li><a href="#50__1327" rel="nofollow">5.0 开发说明</a></li><li><a href="#51__1375" rel="nofollow">5.1 测试结果</a></li><li><a href="#52_Eld_1381" rel="nofollow">5.2 Eld多加一个属性</a></li><li><a href="#53__1433" rel="nofollow">5.3 加入测试数据</a></li></ul> 
   </li><li><a href="#_1488" rel="nofollow">六、注解优化</a></li><li><ul><li><a href="#60__1491" rel="nofollow">6.0 开发说明</a></li><li><a href="#61__1523" rel="nofollow">6.1 测试结果</a></li><li><a href="#62__1531" rel="nofollow">6.2 前端</a></li><li><a href="#62__1544" rel="nofollow">6.2 后端</a></li><li><ul><li><a href="#ChineseName_1545" rel="nofollow">ChineseName</a></li><li><a href="#EldData_1562" rel="nofollow">EldData</a></li><li><a href="#DataService_1603" rel="nofollow">DataService</a></li></ul> 
   </li></ul> 
   </li><li><a href="#_1659" rel="nofollow">七、实际项目开发</a></li><li><ul><li><a href="#EldData_1665" rel="nofollow">EldData</a></li><li><a href="#Constant_1772" rel="nofollow">Constant</a></li><li><a href="#_1817" rel="nofollow">测试数据</a></li></ul> 
  </li></ul> 
  </li><li><a href="#_1927" rel="nofollow">最后</a></li></ul> 
</div> 
<p></p> 
<h2><a id="_2"></a>前言</h2> 
<p>2024-4-12 16:08:09</p> 
<p><strong>以下内容源自《【前端】》</strong><br> <strong>仅供学习交流使用</strong></p> 
<h2><a id="_8"></a>版权</h2> 
<p><font color="red"><strong>禁止其他平台发布时删除以下此话</strong></font><br> <strong>本文首次发布于CSDN平台</strong><br> <strong>作者是CSDN@日星月云</strong><br> <strong>博客主页是https://jsss-1.blog.csdn.net</strong><br> <font color="red"><strong>禁止其他平台发布时删除以上此话</strong></font></p> 
<h2><a id="_16"></a>开源</h2> 
<p><a href="https://gitee.com/jsss-1/echarts-data-visualization/tree/master" rel="nofollow">日星月云 / echarts数据可视化</a></p> 
<p>v1：二、入门demo<br> v2：三、动态数据<br> v3：四、动态数据<br> v4：六、注解优化<br> v5：七、项目开发</p> 
<h2><a id="_30"></a>推荐</h2> 
<p><a href="https://blog.csdn.net/m0_55734030/article/details/127559434">echarts入门教程（超级详细带案例）</a></p> 
<h2><a id="echarts_33"></a>数据可视化插件echarts</h2> 
<h3><a id="_37"></a>一、如何使用</h3> 
<h4><a id="11__38"></a>1.1 下载</h4> 
<p>（1）从 npm 获取<br> npm install echarts --save<br> （2）从 CDN 获取<br> （3）从 GitHub 获取</p> 
<h4><a id="12_js_45"></a>1.2 找到js文件</h4> 
<p><img src="https://images2.imgbox.com/a6/3e/Sd9A45YX_o.png" alt="在这里插入图片描述"></p> 
<p>在<code>node_modules\echarts\dist</code>中找到<br> <code>echart.js</code>或<code>echarts.min,js</code></p> 
<p><img src="https://images2.imgbox.com/db/cb/9PDH86uz_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="13__54"></a>1.3 入门使用</h4> 
<pre><code class="prism language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
		<span class="token comment">&lt;!-- 01 导入js --&gt;</span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>js/echarts.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
		<span class="token comment">&lt;!-- 03 设置容器的样式 --&gt;</span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
            <span class="token selector">#container</span><span class="token punctuation">{<!-- --></span>
                <span class="token property">width</span><span class="token punctuation">:</span> 800px<span class="token punctuation">;</span>
                <span class="token property">height</span><span class="token punctuation">:</span> 600px<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
		</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
		<span class="token comment">&lt;!-- 02 创建个容器 --&gt;</span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
        <span class="token comment">//04 实例化echarts</span>
        <span class="token comment">// 4.1 创建一个实例</span>
        <span class="token keyword">var</span> echart <span class="token operator">=</span> echarts<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"container"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token comment">// 4.2 定义配置项</span>
        <span class="token keyword">var</span> option <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// 图表的标题</span>
            <span class="token literal-property property">title</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
                <span class="token literal-property property">text</span><span class="token operator">:</span><span class="token string">"我的第一个图表"</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token comment">// 图表的提示</span>
            <span class="token literal-property property">tooltip</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token comment">// 图例</span>
            <span class="token literal-property property">legend</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span><span class="token literal-property property">data</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">"睡眠时长"</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token comment">// x轴线</span>
            <span class="token literal-property property">xAxis</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span><span class="token literal-property property">data</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">"周一"</span><span class="token punctuation">,</span><span class="token string">"周二"</span><span class="token punctuation">,</span><span class="token string">"周三"</span><span class="token punctuation">,</span><span class="token string">"周四"</span><span class="token punctuation">,</span><span class="token string">"周五"</span><span class="token punctuation">,</span><span class="token string">"周六"</span><span class="token punctuation">,</span><span class="token string">"周日"</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token comment">// y轴线</span>
            <span class="token literal-property property">yAxis</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token comment">// 设置数据</span>
            <span class="token literal-property property">series</span><span class="token operator">:</span><span class="token punctuation">[</span>
                <span class="token punctuation">{<!-- --></span>
                    <span class="token comment">// 数据名称</span>
                    <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">"睡眠时长"</span><span class="token punctuation">,</span>
                    <span class="token comment">// 类型为柱状图</span>
                    <span class="token literal-property property">type</span><span class="token operator">:</span><span class="token string">"bar"</span><span class="token punctuation">,</span>
                    <span class="token comment">// 数据data</span>
                    <span class="token literal-property property">data</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">]</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// 4.3 更新配置</span>
        echart<span class="token punctuation">.</span><span class="token function">setOption</span><span class="token punctuation">(</span>option<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// chart图表，set设置 Option选项  data数据 type类型 bar条（柱状条），series系列（数据） Axis轴线 xAxis水平轴线</span>
        <span class="token comment">// legend传奇（图例） tooltip 提示 init初始化 document文档</span>
	</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>

</code></pre> 
<h4><a id="14__118"></a>1.4 我的使用</h4> 
<p>下面的代码根据此代码修改</p> 
<p>https://www.isqqw.com/?t=line</p> 
<p><img src="https://images2.imgbox.com/d7/1d/SgQZ8l2R_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
		<span class="token comment">&lt;!-- 01 导入js --&gt;</span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>js/echarts.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
		<span class="token comment">&lt;!-- 03 设置容器的样式 --&gt;</span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
            <span class="token selector">#container</span><span class="token punctuation">{<!-- --></span>
                <span class="token property">width</span><span class="token punctuation">:</span> 800px<span class="token punctuation">;</span>
                <span class="token property">height</span><span class="token punctuation">:</span> 600px<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
		</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
		<span class="token comment">&lt;!-- 02 创建个容器 --&gt;</span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
        <span class="token comment">//实例化echarts</span>
        <span class="token comment">// 1 创建一个实例</span>
        <span class="token keyword">var</span> echart <span class="token operator">=</span> echarts<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"container"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">let</span> data1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">175</span><span class="token punctuation">,</span> <span class="token number">160</span><span class="token punctuation">,</span> <span class="token number">153</span><span class="token punctuation">,</span> <span class="token number">121</span><span class="token punctuation">,</span> <span class="token number">156</span><span class="token punctuation">]</span>
        <span class="token keyword">let</span> data2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">140</span><span class="token punctuation">,</span> <span class="token number">205</span><span class="token punctuation">,</span> <span class="token number">162</span><span class="token punctuation">,</span> <span class="token number">175</span><span class="token punctuation">]</span>
        <span class="token keyword">let</span> data3 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token keyword">let</span> data4 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'13:00'</span><span class="token punctuation">,</span> <span class="token string">'14:00'</span><span class="token punctuation">,</span> <span class="token string">'15:00'</span><span class="token punctuation">,</span> <span class="token string">'16:00'</span><span class="token punctuation">,</span> <span class="token string">'17:00'</span><span class="token punctuation">]</span>
        data1<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item1<span class="token punctuation">,</span>index</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>item1<span class="token operator">&gt;</span>data2<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                data3<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>
                    <span class="token punctuation">{<!-- --></span>
                        <span class="token literal-property property">yAxis</span><span class="token operator">:</span> item1<span class="token punctuation">,</span>  <span class="token comment">//标注的Y轴位置</span>
                        <span class="token literal-property property">xAxis</span><span class="token operator">:</span> data4<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">//标注的X轴位置</span>
                        <span class="token literal-property property">value</span><span class="token operator">:</span> item1  <span class="token comment">//标注的value值</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
                data3<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>
                    <span class="token punctuation">{<!-- --></span>
                        <span class="token literal-property property">yAxis</span><span class="token operator">:</span> data2<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token comment">//标注的Y轴位置</span>
                        <span class="token literal-property property">xAxis</span><span class="token operator">:</span> data4<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">//标注的X轴位置</span>
                        <span class="token literal-property property">value</span><span class="token operator">:</span> data2<span class="token punctuation">[</span>index<span class="token punctuation">]</span>  <span class="token comment">//标注的value值</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>

        <span class="token comment">// 2 定义配置项</span>
        <span class="token keyword">var</span> option <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">backgroundColor</span><span class="token operator">:</span> <span class="token string">'white'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">grid</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                <span class="token literal-property property">top</span><span class="token operator">:</span> <span class="token string">'20%'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">left</span><span class="token operator">:</span> <span class="token string">'5%'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">right</span><span class="token operator">:</span> <span class="token string">'5%'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">bottom</span><span class="token operator">:</span> <span class="token string">'8%'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">containLabel</span><span class="token operator">:</span> <span class="token boolean">true</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token literal-property property">tooltip</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                <span class="token literal-property property">trigger</span><span class="token operator">:</span> <span class="token string">'axis'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">borderWidth</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                <span class="token literal-property property">axisPointer</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'shadow'</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token literal-property property">extraCssText</span><span class="token operator">:</span> <span class="token string">'z-index:2'</span>

            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token literal-property property">legend</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{<!-- --></span>
                <span class="token literal-property property">top</span><span class="token operator">:</span> <span class="token string">'top'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">left</span><span class="token operator">:</span> <span class="token string">'center'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">orient</span><span class="token operator">:</span> <span class="token string">'horizontal'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'进水量'</span><span class="token punctuation">,</span> <span class="token string">'出水量'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token literal-property property">itemWidth</span><span class="token operator">:</span> <span class="token number">15</span><span class="token punctuation">,</span>
                <span class="token literal-property property">itemHeight</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
                <span class="token literal-property property">itemGap</span><span class="token operator">:</span> <span class="token number">15</span><span class="token punctuation">,</span>
                <span class="token literal-property property">borderRadius</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
                <span class="token literal-property property">textStyle</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'#000'</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">fontFamily</span><span class="token operator">:</span> <span class="token string">'Alibaba PuHuiTi'</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">fontSize</span><span class="token operator">:</span> <span class="token number">14</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">fontWeight</span><span class="token operator">:</span> <span class="token number">400</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token literal-property property">xAxis</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'category'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">data</span><span class="token operator">:</span> data4<span class="token punctuation">,</span>
                <span class="token literal-property property">axisLine</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token literal-property property">show</span><span class="token operator">:</span> <span class="token boolean">false</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token literal-property property">axisTick</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token literal-property property">show</span><span class="token operator">:</span> <span class="token boolean">false</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token literal-property property">axisLabel</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token literal-property property">show</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">textStyle</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                        <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'#393939'</span> <span class="token comment">//X轴文字颜色</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token literal-property property">yAxis</span><span class="token operator">:</span> <span class="token punctuation">[</span>

                <span class="token punctuation">{<!-- --></span>
                    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'value'</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">nameTextStyle</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                        <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'#000'</span><span class="token punctuation">,</span>
                        <span class="token literal-property property">fontFamily</span><span class="token operator">:</span> <span class="token string">'Alibaba PuHuiTi'</span><span class="token punctuation">,</span>
                        <span class="token literal-property property">fontSize</span><span class="token operator">:</span> <span class="token number">14</span><span class="token punctuation">,</span>
                        <span class="token literal-property property">fontWeight</span><span class="token operator">:</span> <span class="token number">600</span>
                        <span class="token comment">// padding: [0, 0, 0, 40], // 四个数字分别为上右下左与原位置距离</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">nameGap</span><span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span>  <span class="token comment">// 表现为上下位置</span>
                    <span class="token literal-property property">axisLine</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                        <span class="token literal-property property">show</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                        <span class="token literal-property property">lineStyle</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                            <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'#eeeeee'</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">axisTick</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                        <span class="token literal-property property">show</span><span class="token operator">:</span> <span class="token boolean">false</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">axisLabel</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                        <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'#393939'</span><span class="token punctuation">,</span>
                        <span class="token literal-property property">fontSize</span><span class="token operator">:</span> <span class="token number">14</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">splitLine</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                        <span class="token literal-property property">show</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                        <span class="token literal-property property">lineStyle</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                            <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'#eeeeee'</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span>

                <span class="token punctuation">}</span>

            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token literal-property property">series</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{<!-- --></span>
                    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'进水量'</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'line'</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">showAllSymbol</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//显示所有图形。</span>
                    <span class="token comment">//标记的图形为实心圆</span>
                    <span class="token literal-property property">symbolSize</span><span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token comment">//标记的大小</span>
                    <span class="token literal-property property">itemStyle</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                        <span class="token comment">//折线拐点标志的样式</span>
                        <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'white'</span><span class="token punctuation">,</span>
                        <span class="token literal-property property">borderWidth</span><span class="token operator">:</span> <span class="token string">'2'</span><span class="token punctuation">,</span>
                        <span class="token literal-property property">borderColor</span><span class="token operator">:</span> <span class="token string">'#5470c6'</span><span class="token punctuation">,</span>
                        <span class="token literal-property property">normal</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                            <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'#5470c6'</span><span class="token comment">//拐点颜色</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">lineStyle</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                        <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'#5470c6'</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">markPoint</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
                        <span class="token literal-property property">data</span><span class="token operator">:</span> data3
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">data</span><span class="token operator">:</span> data1
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{<!-- --></span>
                    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'出水量'</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'line'</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">showAllSymbol</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//显示所有图形。</span>
                    <span class="token literal-property property">symbolSize</span><span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token comment">//标记的大小</span>
                    <span class="token literal-property property">itemStyle</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                        <span class="token comment">//折线拐点标志的样式</span>
                        <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'white'</span><span class="token punctuation">,</span>
                        <span class="token literal-property property">borderWidth</span><span class="token operator">:</span> <span class="token string">'2'</span><span class="token punctuation">,</span>
                        <span class="token literal-property property">borderColor</span><span class="token operator">:</span> <span class="token string">'#91cc75'</span><span class="token punctuation">,</span>
                        <span class="token literal-property property">normal</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                            <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'#91cc75'</span><span class="token comment">//拐点颜色</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">lineStyle</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                        <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'#91cc75'</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">data</span><span class="token operator">:</span> data2
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// 3 更新配置</span>
        echart<span class="token punctuation">.</span><span class="token function">setOption</span><span class="token punctuation">(</span>option<span class="token punctuation">)</span><span class="token punctuation">;</span>

	</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>

</code></pre> 
<h3><a id="demo_317"></a>二、前后端交互：入门demo</h3> 
<h4><a id="21__319"></a>2.1 前端</h4> 
<h5><a id="html_321"></a>html</h5> 
<pre><code class="prism language-java">		<span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"data-container"</span><span class="token operator">&gt;</span>


		<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</code></pre> 
<h5><a id="js_330"></a>js</h5> 
<pre><code class="prism language-js"><span class="token function">$</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ready</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
   
    <span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token keyword">function</span> <span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">"GET"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token constant">SERVER_PATH</span> <span class="token operator">+</span> <span class="token string">"/data/list"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">xhrFields</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span><span class="token literal-property property">withCredentials</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">result</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token punctuation">.</span>status<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token function">alertBox</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>data<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token function">init</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token parameter">dataLists</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">//实例化echarts</span>
    <span class="token comment">// 1 创建一个实例</span>
    <span class="token keyword">var</span> echart <span class="token operator">=</span> echarts<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">".data-container"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//进水量</span>
    <span class="token keyword">let</span> data1 <span class="token operator">=</span> dataLists<span class="token punctuation">.</span>inWaterList<span class="token punctuation">;</span>
    <span class="token comment">//出水量</span>
    <span class="token keyword">let</span> data2 <span class="token operator">=</span> dataLists<span class="token punctuation">.</span>outWaterList<span class="token punctuation">;</span>
    <span class="token comment">//标注</span>
    <span class="token keyword">let</span> data3 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token comment">//横轴时间</span>
    <span class="token keyword">let</span> data4 <span class="token operator">=</span> dataLists<span class="token punctuation">.</span>dateList<span class="token punctuation">;</span>
    data1<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item1<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>item1 <span class="token operator">&gt;</span> data2<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            data3<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>
                <span class="token punctuation">{<!-- --></span>
                    <span class="token literal-property property">yAxis</span><span class="token operator">:</span> item1<span class="token punctuation">,</span>  <span class="token comment">//标注的Y轴位置</span>
                    <span class="token literal-property property">xAxis</span><span class="token operator">:</span> data4<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">//标注的X轴位置</span>
                    <span class="token literal-property property">value</span><span class="token operator">:</span> item1  <span class="token comment">//标注的value值</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            data3<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>
                <span class="token punctuation">{<!-- --></span>
                    <span class="token literal-property property">yAxis</span><span class="token operator">:</span> data2<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token comment">//标注的Y轴位置</span>
                    <span class="token literal-property property">xAxis</span><span class="token operator">:</span> data4<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">//标注的X轴位置</span>
                    <span class="token literal-property property">value</span><span class="token operator">:</span> data2<span class="token punctuation">[</span>index<span class="token punctuation">]</span>  <span class="token comment">//标注的value值</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token comment">// 2 定义配置项</span>
    <span class="token keyword">var</span> option <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">backgroundColor</span><span class="token operator">:</span> <span class="token string">'white'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">grid</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">top</span><span class="token operator">:</span> <span class="token string">'20%'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">left</span><span class="token operator">:</span> <span class="token string">'5%'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">right</span><span class="token operator">:</span> <span class="token string">'5%'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">bottom</span><span class="token operator">:</span> <span class="token string">'8%'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">containLabel</span><span class="token operator">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">tooltip</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">trigger</span><span class="token operator">:</span> <span class="token string">'axis'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">borderWidth</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token literal-property property">axisPointer</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'shadow'</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token literal-property property">extraCssText</span><span class="token operator">:</span> <span class="token string">'z-index:2'</span>

        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">legend</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">top</span><span class="token operator">:</span> <span class="token string">'top'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">left</span><span class="token operator">:</span> <span class="token string">'center'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">orient</span><span class="token operator">:</span> <span class="token string">'horizontal'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'进水量'</span><span class="token punctuation">,</span> <span class="token string">'出水量'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token literal-property property">itemWidth</span><span class="token operator">:</span> <span class="token number">15</span><span class="token punctuation">,</span>
            <span class="token literal-property property">itemHeight</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
            <span class="token literal-property property">itemGap</span><span class="token operator">:</span> <span class="token number">15</span><span class="token punctuation">,</span>
            <span class="token literal-property property">borderRadius</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
            <span class="token literal-property property">textStyle</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'#000'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">fontFamily</span><span class="token operator">:</span> <span class="token string">'Alibaba PuHuiTi'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">fontSize</span><span class="token operator">:</span> <span class="token number">14</span><span class="token punctuation">,</span>
                <span class="token literal-property property">fontWeight</span><span class="token operator">:</span> <span class="token number">400</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">xAxis</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'category'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">data</span><span class="token operator">:</span> data4<span class="token punctuation">,</span>
            <span class="token literal-property property">axisLine</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                <span class="token literal-property property">show</span><span class="token operator">:</span> <span class="token boolean">false</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token literal-property property">axisTick</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                <span class="token literal-property property">show</span><span class="token operator">:</span> <span class="token boolean">false</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token literal-property property">axisLabel</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                <span class="token literal-property property">show</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                <span class="token literal-property property">textStyle</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'#393939'</span> <span class="token comment">//X轴文字颜色</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">yAxis</span><span class="token operator">:</span> <span class="token punctuation">[</span>

            <span class="token punctuation">{<!-- --></span>
                <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'value'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
                <span class="token literal-property property">nameTextStyle</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'#000'</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">fontFamily</span><span class="token operator">:</span> <span class="token string">'Alibaba PuHuiTi'</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">fontSize</span><span class="token operator">:</span> <span class="token number">14</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">fontWeight</span><span class="token operator">:</span> <span class="token number">600</span>
                    <span class="token comment">// padding: [0, 0, 0, 40], // 四个数字分别为上右下左与原位置距离</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token literal-property property">nameGap</span><span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span>  <span class="token comment">// 表现为上下位置</span>
                <span class="token literal-property property">axisLine</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token literal-property property">show</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">lineStyle</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                        <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'#eeeeee'</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token literal-property property">axisTick</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token literal-property property">show</span><span class="token operator">:</span> <span class="token boolean">false</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token literal-property property">axisLabel</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'#393939'</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">fontSize</span><span class="token operator">:</span> <span class="token number">14</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token literal-property property">splitLine</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token literal-property property">show</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">lineStyle</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                        <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'#eeeeee'</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>

            <span class="token punctuation">}</span>

        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">series</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{<!-- --></span>
                <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'进水量'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'line'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">showAllSymbol</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//显示所有图形。</span>
                <span class="token comment">//标记的图形为实心圆</span>
                <span class="token literal-property property">symbolSize</span><span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token comment">//标记的大小</span>
                <span class="token literal-property property">itemStyle</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token comment">//折线拐点标志的样式</span>
                    <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'white'</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">borderWidth</span><span class="token operator">:</span> <span class="token string">'2'</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">borderColor</span><span class="token operator">:</span> <span class="token string">'#5470c6'</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">normal</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                        <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'#5470c6'</span><span class="token comment">//拐点颜色</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token literal-property property">lineStyle</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'#5470c6'</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token literal-property property">markPoint</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token literal-property property">data</span><span class="token operator">:</span> data3
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token literal-property property">data</span><span class="token operator">:</span> data1
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{<!-- --></span>
                <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'出水量'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'line'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">showAllSymbol</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//显示所有图形。</span>
                <span class="token literal-property property">symbolSize</span><span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token comment">//标记的大小</span>
                <span class="token literal-property property">itemStyle</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token comment">//折线拐点标志的样式</span>
                    <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'white'</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">borderWidth</span><span class="token operator">:</span> <span class="token string">'2'</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">borderColor</span><span class="token operator">:</span> <span class="token string">'#91cc75'</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">normal</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                        <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'#91cc75'</span><span class="token comment">//拐点颜色</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token literal-property property">lineStyle</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'#91cc75'</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token literal-property property">data</span><span class="token operator">:</span> data2
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 3 更新配置</span>
    echart<span class="token punctuation">.</span><span class="token function">setOption</span><span class="token punctuation">(</span>option<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="22__525"></a>2.2 后端</h4> 
<h5><a id="entity_527"></a>entity</h5> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@lombok.Data</span>
<span class="token annotation punctuation">@NoArgsConstructor</span>
<span class="token annotation punctuation">@AllArgsConstructor</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Data</span> <span class="token punctuation">{<!-- --></span>
    <span class="token class-name">Integer</span> <span class="token class-name">InWater</span><span class="token punctuation">;</span>
    <span class="token class-name">Integer</span> <span class="token class-name">OutWater</span><span class="token punctuation">;</span>
    <span class="token class-name">Date</span> date<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> 
<h5><a id="controller_540"></a>controller</h5> 
<pre><code class="prism language-java">    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/list"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">ResponseModel</span> <span class="token function">getDataList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> search <span class="token operator">=</span> dataService<span class="token punctuation">.</span><span class="token function">searchMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ResponseModel</span><span class="token punctuation">(</span>search<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre> 
<h5><a id="service_549"></a>service</h5> 
<pre><code class="prism language-java">	<span class="token keyword">public</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> <span class="token function">searchMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> map<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Data</span><span class="token punctuation">&gt;</span></span> dataList <span class="token operator">=</span> <span class="token function">search</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> inWaterList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> outWaterList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Date</span><span class="token punctuation">&gt;</span></span> dateList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">Data</span> data <span class="token operator">:</span> dataList<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            inWaterList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">getInWater</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            outWaterList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">getOutWater</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            dateList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"inWaterList"</span><span class="token punctuation">,</span>inWaterList<span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"outWaterList"</span><span class="token punctuation">,</span>outWaterList<span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"dateList"</span><span class="token punctuation">,</span>dateList<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> map<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Data</span><span class="token punctuation">&gt;</span></span> <span class="token function">search</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> dataDao<span class="token punctuation">.</span><span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre> 
<h5><a id="mapper_576"></a>mapper</h5> 
<pre><code class="prism language-java">
    <span class="token annotation punctuation">@Select</span><span class="token punctuation">(</span><span class="token string">"SELECT * FROM test limit 20"</span><span class="token punctuation">)</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Data</span><span class="token punctuation">&gt;</span></span> <span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h3><a id="_585"></a>三、前后端交互：动态数据</h3> 
<p><img src="https://images2.imgbox.com/36/68/kRr84KoC_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="31__593"></a>3.1 前端</h4> 
<h5><a id="js_594"></a>js</h5> 
<pre><code class="prism language-java">$<span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ready</span><span class="token punctuation">(</span>function <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
   
    <span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


function <span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
        type<span class="token operator">:</span> <span class="token string">"GET"</span><span class="token punctuation">,</span>
        url<span class="token operator">:</span> <span class="token constant">SERVER_PATH</span> <span class="token operator">+</span> <span class="token string">"/data/list"</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
            userId<span class="token operator">:</span> <span class="token number">1</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        xhrFields<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>withCredentials<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        success<span class="token operator">:</span> function <span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token punctuation">.</span>status<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token function">alertBox</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>data<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token function">init</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

function <span class="token function">init</span><span class="token punctuation">(</span>dataLists<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

    
    
    <span class="token comment">//实例化echarts</span>
    <span class="token comment">// 1 创建一个实例</span>
    <span class="token keyword">var</span> echart <span class="token operator">=</span> echarts<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">".data-container"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//进水量</span>
    let data1 <span class="token operator">=</span> dataLists<span class="token punctuation">.</span>rate1<span class="token punctuation">;</span>
    <span class="token comment">//出水量</span>
    let data2 <span class="token operator">=</span> dataLists<span class="token punctuation">.</span>rate2<span class="token punctuation">;</span>
    <span class="token comment">//横轴时间</span>
    let data4 <span class="token operator">=</span> dataLists<span class="token punctuation">.</span>date<span class="token punctuation">;</span>

    <span class="token comment">//标注数据</span>
    let data3 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    
    <span class="token comment">//只需修改以下对应</span>
    let names<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"rate1"</span><span class="token punctuation">,</span><span class="token string">"rate2"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    let datas<span class="token operator">=</span><span class="token punctuation">[</span>data1<span class="token punctuation">,</span>data2<span class="token punctuation">]</span><span class="token punctuation">;</span>
    let colors<span class="token operator">=</span><span class="token punctuation">[</span>
        '#<span class="token number">5470</span>c6<span class="token char">','</span>#<span class="token number">91</span>cc75'
    <span class="token punctuation">]</span>

    <span class="token comment">//动态生成下面的数据</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span>let i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>names<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        data3<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    datas<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> index<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{<!-- --></span>
        data<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> i<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{<!-- --></span>
            data3<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
                yAxis<span class="token operator">:</span> item<span class="token punctuation">,</span>  <span class="token comment">// 标注的Y轴位置</span>
                xAxis<span class="token operator">:</span> data4<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 标注的X轴位置</span>
                value<span class="token operator">:</span> item  <span class="token comment">// 标注的value值</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


    let seriesData<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> datas<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        seriesData<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
            name<span class="token operator">:</span> names<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>
            type<span class="token operator">:</span> <span class="token char">'line'</span><span class="token punctuation">,</span>
            showAllSymbol<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//显示所有图形。</span>
            <span class="token comment">//标记的图形为实心圆</span>
            symbolSize<span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token comment">//标记的大小</span>
            itemStyle<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                <span class="token comment">//折线拐点标志的样式</span>
                color<span class="token operator">:</span> <span class="token char">'white'</span><span class="token punctuation">,</span>
                borderWidth<span class="token operator">:</span> <span class="token char">'2'</span><span class="token punctuation">,</span>
                borderColor<span class="token operator">:</span> colors<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>
                normal<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                    color<span class="token operator">:</span> colors<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token comment">//拐点颜色</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            lineStyle<span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
                color<span class="token operator">:</span> colors<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            markPoint<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                data<span class="token operator">:</span> data3<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            data<span class="token operator">:</span> datas<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    


    <span class="token comment">// 2 定义配置项</span>
    <span class="token keyword">var</span> option <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
        backgroundColor<span class="token operator">:</span> <span class="token char">'white'</span><span class="token punctuation">,</span>
        grid<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
            top<span class="token operator">:</span> <span class="token char">'20%'</span><span class="token punctuation">,</span>
            left<span class="token operator">:</span> <span class="token char">'5%'</span><span class="token punctuation">,</span>
            right<span class="token operator">:</span> <span class="token char">'5%'</span><span class="token punctuation">,</span>
            bottom<span class="token operator">:</span> <span class="token char">'8%'</span><span class="token punctuation">,</span>
            containLabel<span class="token operator">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        tooltip<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
            trigger<span class="token operator">:</span> <span class="token char">'axis'</span><span class="token punctuation">,</span>
            borderWidth<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            axisPointer<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                type<span class="token operator">:</span> <span class="token char">'shadow'</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            extraCssText<span class="token operator">:</span> 'z<span class="token operator">-</span>index<span class="token operator">:</span><span class="token number">2</span>'<span class="token punctuation">,</span>
            <span class="token comment">// formatter: function(params) {<!-- --></span>
            <span class="token comment">//     var tooltipContent = params[0].name + '&lt;br/&gt;'; // 显示日期</span>
            <span class="token comment">//     params.forEach(function(param) {<!-- --></span>
            <span class="token comment">//         tooltipContent += param.seriesName + ': ' + param.value + '&lt;br&gt;';</span>
            <span class="token comment">//     });</span>
            <span class="token comment">//     return tooltipContent;</span>
            <span class="token comment">// }</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        legend<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{<!-- --></span>
            top<span class="token operator">:</span> <span class="token char">'top'</span><span class="token punctuation">,</span>
            left<span class="token operator">:</span> <span class="token char">'center'</span><span class="token punctuation">,</span>
            orient<span class="token operator">:</span> 'horizontal'<span class="token punctuation">,</span>
            data<span class="token operator">:</span> names<span class="token punctuation">,</span>
            itemWidth<span class="token operator">:</span> <span class="token number">15</span><span class="token punctuation">,</span>
            itemHeight<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
            itemGap<span class="token operator">:</span> <span class="token number">15</span><span class="token punctuation">,</span>
            borderRadius<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
            textStyle<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                color<span class="token operator">:</span> <span class="token char">'#000'</span><span class="token punctuation">,</span>
                fontFamily<span class="token operator">:</span> '<span class="token class-name">Alibaba</span> <span class="token class-name">PuHuiTi</span>'<span class="token punctuation">,</span>
                fontSize<span class="token operator">:</span> <span class="token number">14</span><span class="token punctuation">,</span>
                fontWeight<span class="token operator">:</span> <span class="token number">400</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        xAxis<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
            type<span class="token operator">:</span> 'category'<span class="token punctuation">,</span>
            data<span class="token operator">:</span> data4<span class="token punctuation">,</span>
            axisLine<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                show<span class="token operator">:</span> <span class="token boolean">false</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            axisTick<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                show<span class="token operator">:</span> <span class="token boolean">false</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            axisLabel<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                show<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                textStyle<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                    color<span class="token operator">:</span> '#<span class="token number">393939</span>' <span class="token comment">//X轴文字颜色</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        yAxis<span class="token operator">:</span> <span class="token punctuation">[</span>

            <span class="token punctuation">{<!-- --></span>
                type<span class="token operator">:</span> <span class="token char">'value'</span><span class="token punctuation">,</span>
                name<span class="token operator">:</span> ''<span class="token punctuation">,</span>
                nameTextStyle<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                    color<span class="token operator">:</span> <span class="token char">'#000'</span><span class="token punctuation">,</span>
                    fontFamily<span class="token operator">:</span> '<span class="token class-name">Alibaba</span> <span class="token class-name">PuHuiTi</span>'<span class="token punctuation">,</span>
                    fontSize<span class="token operator">:</span> <span class="token number">14</span><span class="token punctuation">,</span>
                    fontWeight<span class="token operator">:</span> <span class="token number">600</span>
                    <span class="token comment">// padding: [0, 0, 0, 40], // 四个数字分别为上右下左与原位置距离</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                nameGap<span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span>  <span class="token comment">// 表现为上下位置</span>
                axisLine<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                    show<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                    lineStyle<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                        color<span class="token operator">:</span> '#eeeeee'
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                axisTick<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                    show<span class="token operator">:</span> <span class="token boolean">false</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                axisLabel<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                    color<span class="token operator">:</span> '#<span class="token number">393939</span>'<span class="token punctuation">,</span>
                    fontSize<span class="token operator">:</span> <span class="token number">14</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                splitLine<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                    show<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                    lineStyle<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                        color<span class="token operator">:</span> '#eeeeee'
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>

            <span class="token punctuation">}</span>

        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        series<span class="token operator">:</span> seriesData
    <span class="token punctuation">}</span>
    <span class="token comment">// 3 更新配置</span>
    echart<span class="token punctuation">.</span><span class="token function">setOption</span><span class="token punctuation">(</span>option<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>

</code></pre> 
<h4><a id="32__799"></a>3.2 后端</h4> 
<h5><a id="service_801"></a>service</h5> 
<pre><code class="prism language-java">	<span class="token comment">//返回数据链表</span>
    <span class="token keyword">public</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">ArrayList</span><span class="token punctuation">&gt;</span></span> <span class="token function">searchMap</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> userId<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">ArrayList</span><span class="token punctuation">&gt;</span></span> map<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">EldData</span><span class="token punctuation">&gt;</span></span> dataList <span class="token operator">=</span> <span class="token function">search</span><span class="token punctuation">(</span>userId<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> fieldNames <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> dataClass <span class="token operator">=</span> <span class="token class-name">EldData</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span>

        <span class="token comment">// 获取 OldData 类的所有属性名</span>
        <span class="token class-name">Field</span><span class="token punctuation">[</span><span class="token punctuation">]</span> fields <span class="token operator">=</span> dataClass<span class="token punctuation">.</span><span class="token function">getDeclaredFields</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Field</span> field <span class="token operator">:</span> fields<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            fieldNames<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>field<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>field<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>


        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">EldData</span> data <span class="token operator">:</span> dataList<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> fieldName <span class="token operator">:</span> fieldNames<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> rowData <span class="token operator">=</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>fieldName<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token class-name">Field</span> field <span class="token operator">=</span> dataClass<span class="token punctuation">.</span><span class="token function">getDeclaredField</span><span class="token punctuation">(</span>fieldName<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    field<span class="token punctuation">.</span><span class="token function">setAccessible</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    rowData<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>field<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">NoSuchFieldException</span> <span class="token operator">|</span> <span class="token class-name">IllegalAccessException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>fieldName<span class="token punctuation">,</span>rowData<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> map<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//搜索数据</span>
    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">EldData</span><span class="token punctuation">&gt;</span></span> <span class="token function">search</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> userId<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">String</span> key<span class="token operator">=</span> <span class="token constant">ELD_DATA</span> <span class="token operator">+</span>userId<span class="token punctuation">;</span>
        <span class="token class-name">Set</span> set <span class="token operator">=</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForZSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reverseRange</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 获取分数最高的20个数据</span>

        <span class="token keyword">return</span> set <span class="token operator">!=</span><span class="token keyword">null</span><span class="token operator">?</span><span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>set<span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>
</code></pre> 
<h3><a id="_847"></a>四、前后端交互：动态数据</h3> 
<p>后端name根据注解ChineseName<br> 前端颜色是随机生成的</p> 
<p><img src="https://images2.imgbox.com/d3/18/i0AMoBxi_o.png" alt="在这里插入图片描述"><br> hashMap导致没有顺序，换成LinkedHashMap</p> 
<p>在seachMap()中，重新定义</p> 
<pre><code class="prism language-java"><span class="token comment">//        HashMap&lt;String,ArrayList&gt; map=new HashMap&lt;&gt;();</span>
        <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">ArrayList</span><span class="token punctuation">&gt;</span></span> map<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">LinkedHashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/64/f8/dbrzMw7L_o.png" alt="在这里插入图片描述"><br> 发现它是时间顺序是反这的<br> 修改一下</p> 
<pre><code class="prism language-java">    <span class="token comment">//搜索数据</span>
<span class="token comment">//    public List&lt;EldData&gt; search(Integer userId) {<!-- --></span>
<span class="token comment">//        String key= ELD_DATA +userId;</span>
<span class="token comment">//        Set set = redisTemplate.opsForZSet().reverseRange(key, 0, limit-1);// 获取分数最高的20个数据</span>
<span class="token comment">//</span>
<span class="token comment">//        return set !=null?new ArrayList&lt;&gt;(set):new ArrayList&lt;&gt;();</span>
<span class="token comment">//</span>
<span class="token comment">//    }</span>
    
    <span class="token comment">//搜索数据</span>
    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">EldData</span><span class="token punctuation">&gt;</span></span> <span class="token function">search</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> userId<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">String</span> key<span class="token operator">=</span> <span class="token constant">ELD_DATA</span> <span class="token operator">+</span>userId<span class="token punctuation">;</span>
        <span class="token class-name">Set</span> set <span class="token operator">=</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForZSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reverseRange</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> limit<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 获取分数最高的limit个数据</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>set<span class="token operator">==</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">EldData</span><span class="token punctuation">&gt;</span></span> resList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>set<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span>resList<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> resList<span class="token punctuation">;</span>

    <span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/bc/2f/IHVPLAKl_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="41__893"></a>4.1 前端</h4> 
<h5><a id="js_896"></a>js</h5> 
<p>变成真实登录的用户<br> 而不是固定userId是1</p> 
<pre><code class="prism language-js"><span class="token function">$</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ready</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
   
    <span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token keyword">function</span> <span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

    <span class="token keyword">var</span> id<span class="token operator">=</span>sessionStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">"GET"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token constant">SERVER_PATH</span> <span class="token operator">+</span> <span class="token string">"/data/list"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// userId: 1</span>
            <span class="token literal-property property">userId</span><span class="token operator">:</span> id
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">xhrFields</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span><span class="token literal-property property">withCredentials</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">result</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token punctuation">.</span>status<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token function">alertBox</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>data<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token function">init</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token parameter">dataLists</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

    
    <span class="token comment">//实例化echarts</span>
    <span class="token comment">// 1 创建一个实例</span>
    <span class="token keyword">var</span> echart <span class="token operator">=</span> echarts<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">".data-container"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//横轴时间</span>
    <span class="token keyword">let</span> datax <span class="token operator">=</span> dataLists<span class="token punctuation">.</span>date<span class="token punctuation">;</span>
    <span class="token comment">//标注数据</span>
    <span class="token keyword">let</span> data0 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    
    <span class="token comment">//只需修改不需要展示的name</span>
    <span class="token keyword">var</span> noNeed<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"id"</span><span class="token punctuation">,</span><span class="token string">"date"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token comment">//原始数据的所有name</span>
    <span class="token keyword">let</span> keys<span class="token operator">=</span>Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>dataLists<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//只需添加足够的颜色</span>
    <span class="token comment">// let colors=[</span>
    <span class="token comment">//     '#5470c6','#91cc75'</span>
    <span class="token comment">// ]</span>

    <span class="token comment">//动态生成下面的数据，不需要修改</span>
    <span class="token comment">//随机生成相同数量的颜色</span>
    <span class="token keyword">let</span> colors<span class="token operator">=</span><span class="token function">generateRandomColors</span><span class="token punctuation">(</span>keys<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
   
    <span class="token comment">//名称和对应的数据</span>
    <span class="token keyword">let</span> names <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">let</span> datas <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    keys<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>noNeed<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            names<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
            datas<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>dataLists<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>names<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        data0<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    datas<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">data<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        data<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
            data0<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
                <span class="token literal-property property">yAxis</span><span class="token operator">:</span> item<span class="token punctuation">,</span>  <span class="token comment">// 标注的Y轴位置</span>
                <span class="token literal-property property">xAxis</span><span class="token operator">:</span> datax<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 标注的X轴位置</span>
                <span class="token literal-property property">value</span><span class="token operator">:</span> item  <span class="token comment">// 标注的value值</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


    <span class="token keyword">let</span> seriesData<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> datas<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        seriesData<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">name</span><span class="token operator">:</span> names<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'line'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">showAllSymbol</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//显示所有图形。</span>
            <span class="token comment">//标记的图形为实心圆</span>
            <span class="token literal-property property">symbolSize</span><span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token comment">//标记的大小</span>
            <span class="token literal-property property">itemStyle</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                <span class="token comment">//折线拐点标志的样式</span>
                <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'white'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">borderWidth</span><span class="token operator">:</span> <span class="token string">'2'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">borderColor</span><span class="token operator">:</span> colors<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token literal-property property">normal</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token literal-property property">color</span><span class="token operator">:</span> colors<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token comment">//拐点颜色</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token literal-property property">lineStyle</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
                <span class="token literal-property property">color</span><span class="token operator">:</span> colors<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token literal-property property">markPoint</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                <span class="token literal-property property">data</span><span class="token operator">:</span> data0<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token literal-property property">data</span><span class="token operator">:</span> datas<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    


    <span class="token comment">// 2 定义配置项</span>
    <span class="token keyword">var</span> option <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">backgroundColor</span><span class="token operator">:</span> <span class="token string">'white'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">grid</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">top</span><span class="token operator">:</span> <span class="token string">'20%'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">left</span><span class="token operator">:</span> <span class="token string">'5%'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">right</span><span class="token operator">:</span> <span class="token string">'5%'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">bottom</span><span class="token operator">:</span> <span class="token string">'8%'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">containLabel</span><span class="token operator">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">tooltip</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">trigger</span><span class="token operator">:</span> <span class="token string">'axis'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">borderWidth</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token literal-property property">axisPointer</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'shadow'</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token literal-property property">extraCssText</span><span class="token operator">:</span> <span class="token string">'z-index:2'</span><span class="token punctuation">,</span>
            <span class="token comment">// formatter: function(params) {<!-- --></span>
            <span class="token comment">//     var tooltipContent = params[0].name + '&lt;br/&gt;'; // 显示日期</span>
            <span class="token comment">//     params.forEach(function(param) {<!-- --></span>
            <span class="token comment">//         tooltipContent += param.seriesName + ': ' + param.value + '&lt;br&gt;';</span>
            <span class="token comment">//     });</span>
            <span class="token comment">//     return tooltipContent;</span>
            <span class="token comment">// }</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">legend</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">top</span><span class="token operator">:</span> <span class="token string">'top'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">left</span><span class="token operator">:</span> <span class="token string">'center'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">orient</span><span class="token operator">:</span> <span class="token string">'horizontal'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">data</span><span class="token operator">:</span> names<span class="token punctuation">,</span>
            <span class="token literal-property property">itemWidth</span><span class="token operator">:</span> <span class="token number">15</span><span class="token punctuation">,</span>
            <span class="token literal-property property">itemHeight</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
            <span class="token literal-property property">itemGap</span><span class="token operator">:</span> <span class="token number">15</span><span class="token punctuation">,</span>
            <span class="token literal-property property">borderRadius</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
            <span class="token literal-property property">textStyle</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'#000'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">fontFamily</span><span class="token operator">:</span> <span class="token string">'Alibaba PuHuiTi'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">fontSize</span><span class="token operator">:</span> <span class="token number">14</span><span class="token punctuation">,</span>
                <span class="token literal-property property">fontWeight</span><span class="token operator">:</span> <span class="token number">400</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">xAxis</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'category'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">data</span><span class="token operator">:</span> datax<span class="token punctuation">,</span>
            <span class="token literal-property property">axisLine</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                <span class="token literal-property property">show</span><span class="token operator">:</span> <span class="token boolean">false</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token literal-property property">axisTick</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                <span class="token literal-property property">show</span><span class="token operator">:</span> <span class="token boolean">false</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token literal-property property">axisLabel</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                <span class="token literal-property property">show</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                <span class="token literal-property property">textStyle</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'#393939'</span> <span class="token comment">//X轴文字颜色</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">yAxis</span><span class="token operator">:</span> <span class="token punctuation">[</span>

            <span class="token punctuation">{<!-- --></span>
                <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'value'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
                <span class="token literal-property property">nameTextStyle</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'#000'</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">fontFamily</span><span class="token operator">:</span> <span class="token string">'Alibaba PuHuiTi'</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">fontSize</span><span class="token operator">:</span> <span class="token number">14</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">fontWeight</span><span class="token operator">:</span> <span class="token number">600</span>
                    <span class="token comment">// padding: [0, 0, 0, 40], // 四个数字分别为上右下左与原位置距离</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token literal-property property">nameGap</span><span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span>  <span class="token comment">// 表现为上下位置</span>
                <span class="token literal-property property">axisLine</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token literal-property property">show</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">lineStyle</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                        <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'#eeeeee'</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token literal-property property">axisTick</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token literal-property property">show</span><span class="token operator">:</span> <span class="token boolean">false</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token literal-property property">axisLabel</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'#393939'</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">fontSize</span><span class="token operator">:</span> <span class="token number">14</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token literal-property property">splitLine</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token literal-property property">show</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">lineStyle</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                        <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'#eeeeee'</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>

            <span class="token punctuation">}</span>

        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">series</span><span class="token operator">:</span> seriesData
    <span class="token punctuation">}</span>
    <span class="token comment">// 3 更新配置</span>
    echart<span class="token punctuation">.</span><span class="token function">setOption</span><span class="token punctuation">(</span>option<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">generateRandomColors</span><span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">let</span> randomColors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> characters <span class="token operator">=</span> <span class="token string">'0123456789ABCDEF'</span><span class="token punctuation">;</span>
    
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> num<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">let</span> color <span class="token operator">=</span> <span class="token string">'#'</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> <span class="token number">6</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            color <span class="token operator">+=</span> characters<span class="token punctuation">[</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        randomColors<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">return</span> randomColors<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="42__1135"></a>4.2 后端</h4> 
<h5><a id="ChineseName_1138"></a>ChineseName注解</h5> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>jsss<span class="token punctuation">.</span>echarts<span class="token punctuation">.</span>annotation</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">ElementType</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Retention</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RetentionPolicy</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Target</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Retention</span><span class="token punctuation">(</span><span class="token class-name">RetentionPolicy</span><span class="token punctuation">.</span><span class="token constant">RUNTIME</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span><span class="token class-name">ElementType</span><span class="token punctuation">.</span><span class="token constant">FIELD</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token annotation punctuation">@interface</span> <span class="token class-name">ChineseName</span> <span class="token punctuation">{<!-- --></span>
    <span class="token class-name">String</span> <span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h5><a id="EldData_1155"></a>EldData</h5> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>jsss<span class="token punctuation">.</span>echarts<span class="token punctuation">.</span>entity</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>jsss<span class="token punctuation">.</span>echarts<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">ChineseName</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">AllArgsConstructor</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">Data</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">EqualsAndHashCode</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">NoArgsConstructor</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">Date</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Objects</span></span><span class="token punctuation">;</span>


<span class="token annotation punctuation">@Data</span>
<span class="token annotation punctuation">@NoArgsConstructor</span>
<span class="token annotation punctuation">@AllArgsConstructor</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">EldData</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@ChineseName</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span>
    <span class="token class-name">String</span> id<span class="token punctuation">;</span>


    <span class="token annotation punctuation">@ChineseName</span><span class="token punctuation">(</span><span class="token string">"率1"</span><span class="token punctuation">)</span>
    <span class="token class-name">Integer</span> rate1<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@ChineseName</span><span class="token punctuation">(</span><span class="token string">"率2"</span><span class="token punctuation">)</span>
    <span class="token class-name">Integer</span> rate2<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@ChineseName</span><span class="token punctuation">(</span><span class="token string">"date"</span><span class="token punctuation">)</span>
    <span class="token class-name">Date</span> date<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">equals</span><span class="token punctuation">(</span><span class="token class-name">Object</span> o<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">==</span> o<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>o <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> <span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> o<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token class-name">EldData</span> eldData <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">EldData</span><span class="token punctuation">)</span> o<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span> eldData<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>date<span class="token punctuation">,</span> eldData<span class="token punctuation">.</span>date<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">hash</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span> date<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token string">"EldData{"</span> <span class="token operator">+</span>
                <span class="token string">"rate1="</span> <span class="token operator">+</span> rate1 <span class="token operator">+</span>
                <span class="token string">", rate2="</span> <span class="token operator">+</span> rate2 <span class="token operator">+</span>
                <span class="token string">", date="</span> <span class="token operator">+</span> date <span class="token operator">+</span>
                <span class="token char">'}'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre> 
<h5><a id="DataService_1213"></a>DataService</h5> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>jsss<span class="token punctuation">.</span>echarts<span class="token punctuation">.</span>service</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>jsss<span class="token punctuation">.</span>echarts<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">ChineseName</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>jsss<span class="token punctuation">.</span>echarts<span class="token punctuation">.</span>entity<span class="token punctuation">.</span></span><span class="token class-name">EldData</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>jsss<span class="token punctuation">.</span>utils<span class="token punctuation">.</span></span><span class="token class-name">Constant</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>data<span class="token punctuation">.</span>redis<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">RedisTemplate</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>data<span class="token punctuation">.</span>redis<span class="token punctuation">.</span>serializer<span class="token punctuation">.</span></span><span class="token class-name">StringRedisSerializer</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Service</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span></span><span class="token class-name">Field</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DataService</span> <span class="token keyword">implements</span> <span class="token class-name">Constant</span> <span class="token punctuation">{<!-- --></span>


    <span class="token annotation punctuation">@Autowired</span>
    <span class="token class-name">RedisTemplate</span> redisTemplate<span class="token punctuation">;</span>


    <span class="token comment">//返回数据链表</span>
    <span class="token keyword">public</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">ArrayList</span><span class="token punctuation">&gt;</span></span> <span class="token function">searchMap</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> userId<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
<span class="token comment">//        HashMap&lt;String,ArrayList&gt; map=new HashMap&lt;&gt;();</span>
        <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">ArrayList</span><span class="token punctuation">&gt;</span></span> map<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">LinkedHashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">EldData</span><span class="token punctuation">&gt;</span></span> dataList <span class="token operator">=</span> <span class="token function">search</span><span class="token punctuation">(</span>userId<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> fieldNames <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> dataClass <span class="token operator">=</span> <span class="token class-name">EldData</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span>

        <span class="token comment">// 获取 OldData 类的所有属性名</span>
        <span class="token class-name">Field</span><span class="token punctuation">[</span><span class="token punctuation">]</span> fields <span class="token operator">=</span> dataClass<span class="token punctuation">.</span><span class="token function">getDeclaredFields</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Field</span> field <span class="token operator">:</span> fields<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            fieldNames<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>field<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//            map.put(field.getName(),new ArrayList&lt;&gt;());</span>
            map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>field<span class="token punctuation">.</span><span class="token function">getAnnotation</span><span class="token punctuation">(</span><span class="token class-name">ChineseName</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>


        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">EldData</span> data <span class="token operator">:</span> dataList<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> fieldName <span class="token operator">:</span> fieldNames<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
<span class="token comment">//                ArrayList&lt;Object&gt; rowData = map.get(fieldName);</span>

                <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token class-name">Field</span> field <span class="token operator">=</span> dataClass<span class="token punctuation">.</span><span class="token function">getDeclaredField</span><span class="token punctuation">(</span>fieldName<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> rowData <span class="token operator">=</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>field<span class="token punctuation">.</span><span class="token function">getAnnotation</span><span class="token punctuation">(</span><span class="token class-name">ChineseName</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    field<span class="token punctuation">.</span><span class="token function">setAccessible</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    rowData<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>field<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                    map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>field<span class="token punctuation">.</span><span class="token function">getAnnotation</span><span class="token punctuation">(</span><span class="token class-name">ChineseName</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>rowData<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">NoSuchFieldException</span> <span class="token operator">|</span> <span class="token class-name">IllegalAccessException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
<span class="token comment">//                map.put(fieldName, rowData);</span>
            <span class="token punctuation">}</span>

        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> map<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//搜索数据</span>
<span class="token comment">//    public List&lt;EldData&gt; search(Integer userId) {<!-- --></span>
<span class="token comment">//        String key= ELD_DATA +userId;</span>
<span class="token comment">//        Set set = redisTemplate.opsForZSet().reverseRange(key, 0, 19);// 获取分数最高的20个数据</span>
<span class="token comment">//</span>
<span class="token comment">//        return set !=null?new ArrayList&lt;&gt;(set):new ArrayList&lt;&gt;();</span>
<span class="token comment">//</span>
<span class="token comment">//    }</span>
    
    <span class="token comment">//搜索数据</span>
    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">EldData</span><span class="token punctuation">&gt;</span></span> <span class="token function">search</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> userId<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">String</span> key<span class="token operator">=</span> <span class="token constant">ELD_DATA</span> <span class="token operator">+</span>userId<span class="token punctuation">;</span>
        <span class="token class-name">Set</span> set <span class="token operator">=</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForZSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reverseRange</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> limit<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 获取分数最高的limit个数据</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>set<span class="token operator">==</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">EldData</span><span class="token punctuation">&gt;</span></span> resList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>set<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span>resList<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> resList<span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

    <span class="token comment">// 将数据存储到有序集合中，分数为日期的时间戳</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">addData</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> userId<span class="token punctuation">,</span> <span class="token class-name">EldData</span> data<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">String</span> key<span class="token operator">=</span> <span class="token constant">ELD_DATA</span> <span class="token operator">+</span>userId<span class="token punctuation">;</span>
        <span class="token keyword">return</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForZSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> data<span class="token punctuation">,</span>data<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 更新数据，先删除数据，后增加新数据</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">updateData</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> userId<span class="token punctuation">,</span><span class="token class-name">EldData</span> oldData<span class="token punctuation">,</span><span class="token class-name">EldData</span> newData<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">long</span> res<span class="token operator">=</span><span class="token function">removeData</span><span class="token punctuation">(</span>userId<span class="token punctuation">,</span>oldData<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token comment">//没有旧数据，就修改失败</span>
            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token function">addData</span><span class="token punctuation">(</span>userId<span class="token punctuation">,</span> newData<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 删除指定的数据</span>
    <span class="token keyword">public</span> <span class="token keyword">long</span> <span class="token function">removeData</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> userId<span class="token punctuation">,</span> <span class="token class-name">EldData</span> data<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">String</span> key<span class="token operator">=</span> <span class="token constant">ELD_DATA</span> <span class="token operator">+</span>userId<span class="token punctuation">;</span>
        <span class="token keyword">return</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForZSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>



<span class="token punctuation">}</span>

</code></pre> 
<h3><a id="_1325"></a>五、测试扩展性</h3> 
<h4><a id="50__1327"></a>5.0 开发说明</h4> 
<p><strong>后端：</strong></p> 
<p>只需要更改EldData的属性就好了<br> 并且添加对应注解</p> 
<p>如果有一个属性没有注解会报错，由于searchMap()中默认是所有属性都有此注解。</p> 
<p>如果有属性不需要前端展示，可以在前端noNeed中添加<br> 也可以后端修改注解，增加need属性，增加代码逻辑<br> 另外：注解也可增加：x轴属性</p> 
<pre><code class="prism language-java">    <span class="token annotation punctuation">@ChineseName</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span>
    <span class="token class-name">String</span> id<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@ChineseName</span><span class="token punctuation">(</span><span class="token string">"率1"</span><span class="token punctuation">)</span>
    <span class="token class-name">Integer</span> rate1<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@ChineseName</span><span class="token punctuation">(</span><span class="token string">"率2"</span><span class="token punctuation">)</span>
    <span class="token class-name">Integer</span> rate2<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@ChineseName</span><span class="token punctuation">(</span><span class="token string">"率3"</span><span class="token punctuation">)</span>
    <span class="token class-name">Integer</span> rate3<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@ChineseName</span><span class="token punctuation">(</span><span class="token string">"date"</span><span class="token punctuation">)</span>
    <span class="token class-name">Date</span> date<span class="token punctuation">;</span>

</code></pre> 
<p><strong>前端：</strong></p> 
<p>修改横轴：<code>datax</code><br> 怎么标注数据：<code>data0</code><br> 以及不需要展示的<code>name</code>链表：<code>noNeed</code></p> 
<pre><code>    //横轴时间
    let datax = dataLists.date;
    //标注数据
    let data0 = [];

    
    //只需修改不需要展示的name
    var noNeed=["id","date"];
</code></pre> 
<h4><a id="51__1375"></a>5.1 测试结果</h4> 
<p><img src="https://images2.imgbox.com/77/30/j5XW8Y06_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="52_Eld_1381"></a>5.2 Eld多加一个属性</h4> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>jsss<span class="token punctuation">.</span>echarts<span class="token punctuation">.</span>entity</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>jsss<span class="token punctuation">.</span>echarts<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">ChineseName</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">AllArgsConstructor</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">Data</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">NoArgsConstructor</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">Date</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Objects</span></span><span class="token punctuation">;</span>


<span class="token annotation punctuation">@Data</span>
<span class="token annotation punctuation">@NoArgsConstructor</span>
<span class="token annotation punctuation">@AllArgsConstructor</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">EldData</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@ChineseName</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span>
    <span class="token class-name">String</span> id<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@ChineseName</span><span class="token punctuation">(</span><span class="token string">"率1"</span><span class="token punctuation">)</span>
    <span class="token class-name">Integer</span> rate1<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@ChineseName</span><span class="token punctuation">(</span><span class="token string">"率2"</span><span class="token punctuation">)</span>
    <span class="token class-name">Integer</span> rate2<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@ChineseName</span><span class="token punctuation">(</span><span class="token string">"率3"</span><span class="token punctuation">)</span>
    <span class="token class-name">Integer</span> rate3<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@ChineseName</span><span class="token punctuation">(</span><span class="token string">"date"</span><span class="token punctuation">)</span>
    <span class="token class-name">Date</span> date<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">equals</span><span class="token punctuation">(</span><span class="token class-name">Object</span> o<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">==</span> o<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>o <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> <span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> o<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token class-name">EldData</span> eldData <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">EldData</span><span class="token punctuation">)</span> o<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span> eldData<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>date<span class="token punctuation">,</span> eldData<span class="token punctuation">.</span>date<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">hash</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span> date<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


<span class="token punctuation">}</span>

</code></pre> 
<h4><a id="53__1433"></a>5.3 加入测试数据</h4> 
<pre><code class="prism language-java">
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token class-name">RedisTemplate</span> redisTemplate<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Autowired</span>
    <span class="token class-name">DataService</span> dataService<span class="token punctuation">;</span>

    <span class="token class-name">Integer</span> userId<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>


    <span class="token comment">//清空数据</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">restore</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">String</span> key<span class="token operator">=</span> <span class="token constant">ELD_DATA</span> <span class="token operator">+</span>userId<span class="token punctuation">;</span>
        redisTemplate<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">testSearchMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>


    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testSearchMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">ArrayList</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> dataService<span class="token punctuation">.</span><span class="token function">searchMap</span><span class="token punctuation">(</span>userId<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testValidAdd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token class-name">EldData</span> eldData<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">EldData</span><span class="token punctuation">(</span><span class="token class-name">Toolbox</span><span class="token punctuation">.</span><span class="token function">getRandomString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">175</span><span class="token punctuation">,</span><span class="token number">160</span><span class="token punctuation">,</span><span class="token number">111</span><span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2024</span><span class="token operator">-</span><span class="token number">1900</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        dataService<span class="token punctuation">.</span><span class="token function">addData</span><span class="token punctuation">(</span>userId<span class="token punctuation">,</span>eldData<span class="token punctuation">)</span><span class="token punctuation">;</span>
        eldData<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">EldData</span><span class="token punctuation">(</span><span class="token class-name">Toolbox</span><span class="token punctuation">.</span><span class="token function">getRandomString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">160</span><span class="token punctuation">,</span><span class="token number">140</span><span class="token punctuation">,</span><span class="token number">121</span><span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2024</span><span class="token operator">-</span><span class="token number">1900</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        dataService<span class="token punctuation">.</span><span class="token function">addData</span><span class="token punctuation">(</span>userId<span class="token punctuation">,</span>eldData<span class="token punctuation">)</span><span class="token punctuation">;</span>
        eldData<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">EldData</span><span class="token punctuation">(</span><span class="token class-name">Toolbox</span><span class="token punctuation">.</span><span class="token function">getRandomString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">153</span><span class="token punctuation">,</span><span class="token number">205</span><span class="token punctuation">,</span><span class="token number">131</span><span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2024</span><span class="token operator">-</span><span class="token number">1900</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        dataService<span class="token punctuation">.</span><span class="token function">addData</span><span class="token punctuation">(</span>userId<span class="token punctuation">,</span>eldData<span class="token punctuation">)</span><span class="token punctuation">;</span>
        eldData<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">EldData</span><span class="token punctuation">(</span><span class="token class-name">Toolbox</span><span class="token punctuation">.</span><span class="token function">getRandomString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">121</span><span class="token punctuation">,</span><span class="token number">162</span><span class="token punctuation">,</span><span class="token number">141</span><span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2024</span><span class="token operator">-</span><span class="token number">1900</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        dataService<span class="token punctuation">.</span><span class="token function">addData</span><span class="token punctuation">(</span>userId<span class="token punctuation">,</span>eldData<span class="token punctuation">)</span><span class="token punctuation">;</span>
        eldData<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">EldData</span><span class="token punctuation">(</span><span class="token class-name">Toolbox</span><span class="token punctuation">.</span><span class="token function">getRandomString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">156</span><span class="token punctuation">,</span><span class="token number">175</span><span class="token punctuation">,</span><span class="token number">151</span><span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2024</span><span class="token operator">-</span><span class="token number">1900</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        dataService<span class="token punctuation">.</span><span class="token function">addData</span><span class="token punctuation">(</span>userId<span class="token punctuation">,</span>eldData<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">testSearchMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre> 
<p>运行前端，登录admin：admin用户</p> 
<p>在加入测试数据</p> 
<p>userId=2</p> 
<p>登录jsss：123456，也是可以的<br> <img src="https://images2.imgbox.com/ff/2d/KRuyOp1j_o.png" alt="在这里插入图片描述"><br> 2024-4-13 16:26:41</p> 
<h3><a id="_1488"></a>六、注解优化</h3> 
<h4><a id="60__1491"></a>6.0 开发说明</h4> 
<p>后端：<br> 在EldData中</p> 
<p>如果某个属性需要前端展示，就添加<code>ChineseName</code>注解<br> 如果某个属性是横轴数据，其<code>value</code>值就是<code>datax</code></p> 
<p>前端：<br> 不需要修改任何代码</p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">EldData</span> <span class="token punctuation">{<!-- --></span>


    <span class="token annotation punctuation">@ChineseName</span><span class="token punctuation">(</span><span class="token string">"率1"</span><span class="token punctuation">)</span>
    <span class="token class-name">Integer</span> rate1<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@ChineseName</span><span class="token punctuation">(</span><span class="token string">"率2"</span><span class="token punctuation">)</span>
    <span class="token class-name">Integer</span> rate2<span class="token punctuation">;</span>

    <span class="token comment">//没有注解，就不展示</span>
    <span class="token class-name">Integer</span> rate3<span class="token punctuation">;</span>

    <span class="token comment">//横轴的注解的值是datax</span>
    <span class="token annotation punctuation">@ChineseName</span><span class="token punctuation">(</span><span class="token string">"datax"</span><span class="token punctuation">)</span>
    <span class="token class-name">Date</span> date<span class="token punctuation">;</span>
    
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="61__1523"></a>6.1 测试结果</h4> 
<p>rate3没有注解<br> <img src="https://images2.imgbox.com/00/0f/trPbcAEa_o.png" alt="在这里插入图片描述"><br> rate3添加注解<br> <img src="https://images2.imgbox.com/7a/aa/qUEvTYyz_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="62__1531"></a>6.2 前端</h4> 
<p>对应的改一下这两个就行了</p> 
<pre><code class="prism language-js">    <span class="token comment">//横轴数据</span>
    <span class="token keyword">let</span> datax <span class="token operator">=</span> dataLists<span class="token punctuation">.</span>datax<span class="token punctuation">;</span>

    <span class="token comment">//不需要展示的name</span>
    <span class="token keyword">var</span> noNeed<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"datax"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="62__1544"></a>6.2 后端</h4> 
<h5><a id="ChineseName_1545"></a>ChineseName</h5> 
<pre><code class="prism language-java"><span class="token comment">/**
 * 如果某个属性需要展示，就添加`ChineseName`注解 &lt;br&gt;
 * 如果某个属性是横轴数据，其`value`值是`datax` &lt;br&gt;
 */</span>
<span class="token annotation punctuation">@Retention</span><span class="token punctuation">(</span><span class="token class-name">RetentionPolicy</span><span class="token punctuation">.</span><span class="token constant">RUNTIME</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span><span class="token class-name">ElementType</span><span class="token punctuation">.</span><span class="token constant">FIELD</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token annotation punctuation">@interface</span> <span class="token class-name">ChineseName</span> <span class="token punctuation">{<!-- --></span>

    <span class="token comment">//中文name</span>
    <span class="token class-name">String</span> <span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre> 
<h5><a id="EldData_1562"></a>EldData</h5> 
<p>redis判断是根据序列化的结果判断是否相同，<br> equals和hashCode不起作用</p> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>jsss<span class="token punctuation">.</span>echarts<span class="token punctuation">.</span>entity</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>jsss<span class="token punctuation">.</span>echarts<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">ChineseName</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">AllArgsConstructor</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">Data</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">NoArgsConstructor</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">ToString</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">Date</span></span><span class="token punctuation">;</span>


<span class="token annotation punctuation">@Data</span>
<span class="token annotation punctuation">@NoArgsConstructor</span>
<span class="token annotation punctuation">@AllArgsConstructor</span>
<span class="token annotation punctuation">@ToString</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">EldData</span> <span class="token punctuation">{<!-- --></span>


    <span class="token annotation punctuation">@ChineseName</span><span class="token punctuation">(</span><span class="token string">"率1"</span><span class="token punctuation">)</span>
    <span class="token class-name">Integer</span> rate1<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@ChineseName</span><span class="token punctuation">(</span><span class="token string">"率2"</span><span class="token punctuation">)</span>
    <span class="token class-name">Integer</span> rate2<span class="token punctuation">;</span>

    <span class="token comment">//没有注解，就不展示</span>
    <span class="token class-name">Integer</span> rate3<span class="token punctuation">;</span>

    <span class="token comment">//横轴的注解的值是datax</span>
    <span class="token annotation punctuation">@ChineseName</span><span class="token punctuation">(</span><span class="token string">"datax"</span><span class="token punctuation">)</span>
    <span class="token class-name">Date</span> date<span class="token punctuation">;</span>
    
<span class="token punctuation">}</span>

</code></pre> 
<h5><a id="DataService_1603"></a>DataService</h5> 
<pre><code class="prism language-java">	<span class="token comment">//返回数据链表</span>
    <span class="token keyword">public</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">ArrayList</span><span class="token punctuation">&gt;</span></span> <span class="token function">searchMap</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> userId<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">ArrayList</span><span class="token punctuation">&gt;</span></span> map<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">LinkedHashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">EldData</span><span class="token punctuation">&gt;</span></span> dataList <span class="token operator">=</span> <span class="token function">search</span><span class="token punctuation">(</span>userId<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> fieldNames <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> dataClass <span class="token operator">=</span> <span class="token class-name">EldData</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span>

        <span class="token comment">// 获取 OldData 类的所有被ChineseName注解的属性名</span>
        <span class="token class-name">Field</span><span class="token punctuation">[</span><span class="token punctuation">]</span> fields <span class="token operator">=</span> dataClass<span class="token punctuation">.</span><span class="token function">getDeclaredFields</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Field</span> field <span class="token operator">:</span> fields<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        	<span class="token comment">//添加是否有注解的判断</span>
            <span class="token class-name">ChineseName</span> chineseNameAnnotation <span class="token operator">=</span> field<span class="token punctuation">.</span><span class="token function">getAnnotation</span><span class="token punctuation">(</span><span class="token class-name">ChineseName</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>chineseNameAnnotation<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                fieldNames<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>field<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>field<span class="token punctuation">.</span><span class="token function">getAnnotation</span><span class="token punctuation">(</span><span class="token class-name">ChineseName</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>


        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">EldData</span> data <span class="token operator">:</span> dataList<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> fieldName <span class="token operator">:</span> fieldNames<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token class-name">Field</span> field <span class="token operator">=</span> dataClass<span class="token punctuation">.</span><span class="token function">getDeclaredField</span><span class="token punctuation">(</span>fieldName<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    field<span class="token punctuation">.</span><span class="token function">setAccessible</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> rowData <span class="token operator">=</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>field<span class="token punctuation">.</span><span class="token function">getAnnotation</span><span class="token punctuation">(</span><span class="token class-name">ChineseName</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    rowData<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>field<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                    map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>field<span class="token punctuation">.</span><span class="token function">getAnnotation</span><span class="token punctuation">(</span><span class="token class-name">ChineseName</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>rowData<span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">NoSuchFieldException</span> <span class="token operator">|</span> <span class="token class-name">IllegalAccessException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>

        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> map<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//搜索数据</span>
    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">EldData</span><span class="token punctuation">&gt;</span></span> <span class="token function">search</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> userId<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">String</span> key<span class="token operator">=</span> <span class="token constant">ELD_DATA</span> <span class="token operator">+</span>userId<span class="token punctuation">;</span>
        <span class="token class-name">Set</span> set <span class="token operator">=</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForZSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reverseRange</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> limit<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 获取分数最高的limit个数据</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>set<span class="token operator">==</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">EldData</span><span class="token punctuation">&gt;</span></span> resList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>set<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span>resList<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> resList<span class="token punctuation">;</span>

    <span class="token punctuation">}</span>
</code></pre> 
<h3><a id="_1659"></a>七、实际项目开发</h3> 
<p>加入分栏就更好了<br> <img src="https://images2.imgbox.com/58/2a/Q8tie9mo_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="EldData_1665"></a>EldData</h4> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>jsss<span class="token punctuation">.</span>echarts<span class="token punctuation">.</span>entity</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>jsss<span class="token punctuation">.</span>echarts<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">ChineseName</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">AllArgsConstructor</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">Data</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">NoArgsConstructor</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">ToString</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">Date</span></span><span class="token punctuation">;</span>

<span class="token comment">/**
 * 字段名称	类型	        字段说明	                    备注
 * &lt;p&gt;
 * HT	    Integer	    通用-身高（HT）	            单位:m
 * WT	    Integer	    通用-体重（WT）	            单位:kg
 * BMI	    Double	    通用-身高体重指数（BMI）	    正常范围 18.5~23.9，超重24.0~27.9，肥胖≥28.0
 * SBP	    Integer	    血压-收缩压（SBP）	            正常成年人的收缩压范围为90-140毫米汞柱（mmHg）。
 * DBP	    Integer	    血压-舒张压（DBP）	            正常成年人的舒张压范围为60-90毫米汞柱（mmHg）。
 * Hb	    Integer	    血常规-血红蛋白（Hb）	        正常成年人的正常范围为120-175克/升。
 * WBC	    Integer	    血常规-白细胞计数（WBC）	    正常成年人的白细胞计数范围为4-10 × 10^9/L。
 * PLT	    Integer	    血常规-血小板计数（PLT）	    正常成年人的血小板计数范围为100-300 × 10^9/L。
 * ALT	    Integer	    肝功能-谷丙转氨酶（ALT）	    正常成年人的ALT范围为10-40单位/升。
 * AST	    Integer	    肝功能-谷草转氨酶（AST）	    正常成年人的AST范围为10-35单位/升。
 * TBIL	    Double	    肝功能-总胆红素（TBIL）	        正常成年人的总胆红素范围为3.4-17.1毫摩尔/升。
 * BUN	    Double	    肾功能-血尿素氮（BUN）	        正常成年人的BUN范围为2.5-7.1毫摩尔/升。
 * Cr	    Integer	    肾功能-血肌酐（Cr）	        正常成年人的血肌酐范围为53-115微摩尔/升。
 * TC	    Double	    血脂-总胆固醇（TC）	        正常成年人的总胆固醇范围为3.1-5.2毫摩尔/升。
 * TG	    Double	    血脂-甘油三酯（TG）	        正常成年人的甘油三酯范围为0.4-1.7毫摩尔/升。
 * LDL_C	Double	    血脂-低密度脂蛋白胆固醇（LDL-C）	正常成年人的LDL-C范围为2.6-3.4毫摩尔/升。
 * FPG	    Double	    血糖-空腹血糖（FPG）	        正常成年人的空腹血糖范围为3.9-6.1毫摩尔/升。
 * twohPG	Double	    血糖-餐后2小时血糖（2hPG）	    正常成年人的餐后2小时血糖范围为3.9-7.8毫摩尔/升。
 */</span>
<span class="token annotation punctuation">@Data</span>
<span class="token annotation punctuation">@NoArgsConstructor</span>
<span class="token annotation punctuation">@AllArgsConstructor</span>
<span class="token annotation punctuation">@ToString</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">EldData</span> <span class="token punctuation">{<!-- --></span>


    <span class="token annotation punctuation">@ChineseName</span><span class="token punctuation">(</span><span class="token string">"通用-身高(米)"</span><span class="token punctuation">)</span>
    <span class="token class-name">Integer</span> <span class="token constant">HT</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@ChineseName</span><span class="token punctuation">(</span><span class="token string">"通用-体重(千克)"</span><span class="token punctuation">)</span>
    <span class="token class-name">Integer</span> <span class="token constant">WT</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@ChineseName</span><span class="token punctuation">(</span><span class="token string">"通用-身高体重指数(千克/米2)"</span><span class="token punctuation">)</span>
    <span class="token class-name">Double</span> <span class="token constant">BMI</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@ChineseName</span><span class="token punctuation">(</span><span class="token string">"血压-收缩压(毫米汞柱)"</span><span class="token punctuation">)</span>
    <span class="token class-name">Integer</span> <span class="token constant">SBP</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@ChineseName</span><span class="token punctuation">(</span><span class="token string">"血压-舒张压(毫米汞柱)"</span><span class="token punctuation">)</span>
    <span class="token class-name">Integer</span> <span class="token constant">DBP</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@ChineseName</span><span class="token punctuation">(</span><span class="token string">"血常规-血红蛋白(克/升)"</span><span class="token punctuation">)</span>
    <span class="token class-name">Integer</span> <span class="token class-name">Hb</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@ChineseName</span><span class="token punctuation">(</span><span class="token string">"血常规-白细胞计数(10^9/升)"</span><span class="token punctuation">)</span>
    <span class="token class-name">Integer</span> <span class="token constant">WBC</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@ChineseName</span><span class="token punctuation">(</span><span class="token string">"血常规-血小板计数(10^9/升)"</span><span class="token punctuation">)</span>
    <span class="token class-name">Integer</span> <span class="token constant">PLT</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@ChineseName</span><span class="token punctuation">(</span><span class="token string">"肝功能-谷丙转氨酶(单位/升)"</span><span class="token punctuation">)</span>
    <span class="token class-name">Integer</span> <span class="token constant">ALT</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@ChineseName</span><span class="token punctuation">(</span><span class="token string">"肝功能-谷草转氨酶(单位/升)"</span><span class="token punctuation">)</span>
    <span class="token class-name">Integer</span> <span class="token constant">AST</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@ChineseName</span><span class="token punctuation">(</span><span class="token string">"肝功能-总胆红素(毫摩尔/升)"</span><span class="token punctuation">)</span>
    <span class="token class-name">Double</span> <span class="token constant">TBIL</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@ChineseName</span><span class="token punctuation">(</span><span class="token string">"肾功能-血尿素氮(毫摩尔/升)"</span><span class="token punctuation">)</span>
    <span class="token class-name">Double</span> <span class="token constant">BUN</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@ChineseName</span><span class="token punctuation">(</span><span class="token string">"肾功能-血肌酐(微摩尔/升)"</span><span class="token punctuation">)</span>
    <span class="token class-name">Integer</span> <span class="token class-name">Cr</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@ChineseName</span><span class="token punctuation">(</span><span class="token string">"血脂-总胆固醇(毫摩尔/升)"</span><span class="token punctuation">)</span>
    <span class="token class-name">Double</span> <span class="token constant">TC</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@ChineseName</span><span class="token punctuation">(</span><span class="token string">"血脂-甘油三酯(毫摩尔/升)"</span><span class="token punctuation">)</span>
    <span class="token class-name">Double</span> <span class="token constant">TG</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@ChineseName</span><span class="token punctuation">(</span><span class="token string">"血脂-低密度脂蛋白胆固醇(毫摩尔/升)"</span><span class="token punctuation">)</span>
    <span class="token class-name">Double</span> <span class="token constant">LDL_C</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@ChineseName</span><span class="token punctuation">(</span><span class="token string">"血糖-空腹血糖(毫摩尔/升)"</span><span class="token punctuation">)</span>
    <span class="token class-name">Double</span> <span class="token constant">FPG</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@ChineseName</span><span class="token punctuation">(</span><span class="token string">"血糖-餐后2小时血糖(毫摩尔/升)"</span><span class="token punctuation">)</span>
    <span class="token class-name">Double</span> twohPG<span class="token punctuation">;</span>

    <span class="token comment">//横轴的注解的值是datax</span>
    <span class="token annotation punctuation">@ChineseName</span><span class="token punctuation">(</span><span class="token string">"datax"</span><span class="token punctuation">)</span>
    <span class="token class-name">Date</span> date<span class="token punctuation">;</span>




<span class="token punctuation">}</span>

</code></pre> 
<h4><a id="Constant_1772"></a>Constant</h4> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>jsss<span class="token punctuation">.</span>utils</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>jsss<span class="token punctuation">.</span>echarts<span class="token punctuation">.</span>entity<span class="token punctuation">.</span></span><span class="token class-name">EldData</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">Date</span></span><span class="token punctuation">;</span>


<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Constant</span> <span class="token punctuation">{<!-- --></span>


    <span class="token comment">/**
     * redis键：老人的体检数据
     */</span>
    <span class="token class-name">String</span> <span class="token constant">ELD_DATA</span> <span class="token operator">=</span> <span class="token string">"eld_data:"</span><span class="token punctuation">;</span>

    <span class="token class-name">EldData</span> <span class="token constant">MIN_DATA</span><span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">EldData</span><span class="token punctuation">(</span>
            <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token constant">MIN_VALUE</span><span class="token punctuation">,</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token constant">MIN_VALUE</span><span class="token punctuation">,</span><span class="token number">18.5</span><span class="token punctuation">,</span>
            <span class="token number">90</span><span class="token punctuation">,</span><span class="token number">60</span><span class="token punctuation">,</span>
            <span class="token number">120</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span>
            <span class="token number">10</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">3.4</span><span class="token punctuation">,</span>
            <span class="token number">2.5</span><span class="token punctuation">,</span><span class="token number">53</span><span class="token punctuation">,</span>
            <span class="token number">3.1</span><span class="token punctuation">,</span><span class="token number">0.4</span><span class="token punctuation">,</span><span class="token number">2.6</span><span class="token punctuation">,</span>
            <span class="token number">63.9</span><span class="token punctuation">,</span><span class="token number">7.8</span><span class="token punctuation">,</span>
            <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">EldData</span> <span class="token constant">MAX_DATA</span><span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">EldData</span><span class="token punctuation">(</span>
            <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token constant">MAX_VALUE</span><span class="token punctuation">,</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token constant">MAX_VALUE</span><span class="token punctuation">,</span><span class="token number">23.9</span><span class="token punctuation">,</span>
            <span class="token number">140</span><span class="token punctuation">,</span><span class="token number">90</span><span class="token punctuation">,</span>
            <span class="token number">175</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">300</span><span class="token punctuation">,</span>
            <span class="token number">40</span><span class="token punctuation">,</span><span class="token number">35</span><span class="token punctuation">,</span><span class="token number">17.1</span><span class="token punctuation">,</span>
            <span class="token number">7.1</span><span class="token punctuation">,</span><span class="token number">115</span><span class="token punctuation">,</span>
            <span class="token number">5.2</span><span class="token punctuation">,</span><span class="token number">1.7</span><span class="token punctuation">,</span><span class="token number">2.4</span><span class="token punctuation">,</span>
            <span class="token number">6.1</span><span class="token punctuation">,</span><span class="token number">7.8</span><span class="token punctuation">,</span>
            <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token punctuation">}</span>

</code></pre> 
<h4><a id="_1817"></a>测试数据</h4> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>jsss<span class="token punctuation">.</span>echarts</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>jsss<span class="token punctuation">.</span>echarts<span class="token punctuation">.</span>entity<span class="token punctuation">.</span></span><span class="token class-name">EldData</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>jsss<span class="token punctuation">.</span>echarts<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">DataService</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>jsss<span class="token punctuation">.</span>utils<span class="token punctuation">.</span></span><span class="token class-name">Constant</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>jupiter<span class="token punctuation">.</span>api<span class="token punctuation">.</span></span><span class="token class-name">Test</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>test<span class="token punctuation">.</span>context<span class="token punctuation">.</span></span><span class="token class-name">SpringBootTest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>data<span class="token punctuation">.</span>redis<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">RedisTemplate</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">Date</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">HashMap</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Random</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@SpringBootTest</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">EchartsTest</span> <span class="token keyword">implements</span> <span class="token class-name">Constant</span> <span class="token punctuation">{<!-- --></span>

    <span class="token annotation punctuation">@Autowired</span>
    <span class="token class-name">RedisTemplate</span> redisTemplate<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Autowired</span>
    <span class="token class-name">DataService</span> dataService<span class="token punctuation">;</span>

    <span class="token class-name">Integer</span> userId<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>

    <span class="token class-name">Date</span> date<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2024</span><span class="token operator">-</span><span class="token number">1900</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//清空数据</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">restore</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">String</span> key<span class="token operator">=</span> <span class="token constant">ELD_DATA</span> <span class="token operator">+</span>userId<span class="token punctuation">;</span>
        redisTemplate<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">testSearchMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>


    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testSearchMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">ArrayList</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> dataService<span class="token punctuation">.</span><span class="token function">searchMap</span><span class="token punctuation">(</span>userId<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>



    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testValidAdd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>

        <span class="token class-name">EldData</span> eldData<span class="token operator">=</span><span class="token function">randomData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        eldData<span class="token punctuation">.</span><span class="token function">setDate</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2024</span><span class="token operator">-</span><span class="token number">1900</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        dataService<span class="token punctuation">.</span><span class="token function">addData</span><span class="token punctuation">(</span>userId<span class="token punctuation">,</span>eldData<span class="token punctuation">)</span><span class="token punctuation">;</span>
        eldData<span class="token operator">=</span><span class="token function">randomData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        eldData<span class="token punctuation">.</span><span class="token function">setDate</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2024</span><span class="token operator">-</span><span class="token number">1900</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        dataService<span class="token punctuation">.</span><span class="token function">addData</span><span class="token punctuation">(</span>userId<span class="token punctuation">,</span>eldData<span class="token punctuation">)</span><span class="token punctuation">;</span>
        eldData<span class="token operator">=</span><span class="token function">randomData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        eldData<span class="token punctuation">.</span><span class="token function">setDate</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2024</span><span class="token operator">-</span><span class="token number">1900</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        dataService<span class="token punctuation">.</span><span class="token function">addData</span><span class="token punctuation">(</span>userId<span class="token punctuation">,</span>eldData<span class="token punctuation">)</span><span class="token punctuation">;</span>
        eldData<span class="token operator">=</span><span class="token function">randomData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        eldData<span class="token punctuation">.</span><span class="token function">setDate</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2024</span><span class="token operator">-</span><span class="token number">1900</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        dataService<span class="token punctuation">.</span><span class="token function">addData</span><span class="token punctuation">(</span>userId<span class="token punctuation">,</span>eldData<span class="token punctuation">)</span><span class="token punctuation">;</span>
        eldData<span class="token operator">=</span><span class="token function">randomData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        eldData<span class="token punctuation">.</span><span class="token function">setDate</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2024</span><span class="token operator">-</span><span class="token number">1900</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        dataService<span class="token punctuation">.</span><span class="token function">addData</span><span class="token punctuation">(</span>userId<span class="token punctuation">,</span>eldData<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">testSearchMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token class-name">EldData</span> minData<span class="token operator">=</span><span class="token constant">MIN_DATA</span><span class="token punctuation">;</span>
    <span class="token class-name">EldData</span> maxData<span class="token operator">=</span><span class="token constant">MAX_DATA</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">EldData</span> <span class="token function">randomData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token class-name">EldData</span> data<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">EldData</span><span class="token punctuation">(</span>
                <span class="token function">randomInt</span><span class="token punctuation">(</span><span class="token number">160</span><span class="token punctuation">,</span><span class="token number">190</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">randomInt</span><span class="token punctuation">(</span><span class="token number">45</span><span class="token punctuation">,</span><span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">randomDouble</span><span class="token punctuation">(</span>minData<span class="token punctuation">.</span><span class="token function">getBMI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>maxData<span class="token punctuation">.</span><span class="token function">getBMI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token function">randomInt</span><span class="token punctuation">(</span>minData<span class="token punctuation">.</span><span class="token function">getSBP</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>maxData<span class="token punctuation">.</span><span class="token function">getSBP</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">randomInt</span><span class="token punctuation">(</span>minData<span class="token punctuation">.</span><span class="token function">getDBP</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>maxData<span class="token punctuation">.</span><span class="token function">getDBP</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token function">randomInt</span><span class="token punctuation">(</span>minData<span class="token punctuation">.</span><span class="token function">getHb</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>maxData<span class="token punctuation">.</span><span class="token function">getHb</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">randomInt</span><span class="token punctuation">(</span>minData<span class="token punctuation">.</span><span class="token function">getWBC</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>maxData<span class="token punctuation">.</span><span class="token function">getWBC</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">randomInt</span><span class="token punctuation">(</span>minData<span class="token punctuation">.</span><span class="token function">getPLT</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>maxData<span class="token punctuation">.</span><span class="token function">getPLT</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token function">randomInt</span><span class="token punctuation">(</span>minData<span class="token punctuation">.</span><span class="token function">getALT</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>maxData<span class="token punctuation">.</span><span class="token function">getALT</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">randomInt</span><span class="token punctuation">(</span>minData<span class="token punctuation">.</span><span class="token function">getAST</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>maxData<span class="token punctuation">.</span><span class="token function">getAST</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">randomDouble</span><span class="token punctuation">(</span>minData<span class="token punctuation">.</span><span class="token function">getTBIL</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>maxData<span class="token punctuation">.</span><span class="token function">getTBIL</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token function">randomDouble</span><span class="token punctuation">(</span>minData<span class="token punctuation">.</span><span class="token function">getBUN</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>maxData<span class="token punctuation">.</span><span class="token function">getBUN</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">randomInt</span><span class="token punctuation">(</span>minData<span class="token punctuation">.</span><span class="token function">getCr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>maxData<span class="token punctuation">.</span><span class="token function">getCr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token function">randomDouble</span><span class="token punctuation">(</span>minData<span class="token punctuation">.</span><span class="token function">getTC</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>maxData<span class="token punctuation">.</span><span class="token function">getTC</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">randomDouble</span><span class="token punctuation">(</span>minData<span class="token punctuation">.</span><span class="token function">getTG</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>maxData<span class="token punctuation">.</span><span class="token function">getTG</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">randomDouble</span><span class="token punctuation">(</span>minData<span class="token punctuation">.</span><span class="token function">getLDL_C</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>maxData<span class="token punctuation">.</span><span class="token function">getLDL_C</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token function">randomDouble</span><span class="token punctuation">(</span>minData<span class="token punctuation">.</span><span class="token function">getFPG</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>maxData<span class="token punctuation">.</span><span class="token function">getFPG</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">randomDouble</span><span class="token punctuation">(</span>minData<span class="token punctuation">.</span><span class="token function">getTwohPG</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>maxData<span class="token punctuation">.</span><span class="token function">getTwohPG</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> data<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">randomInt</span><span class="token punctuation">(</span><span class="token keyword">int</span> min<span class="token punctuation">,</span><span class="token keyword">int</span> max<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token class-name">Random</span> random <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> random<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span>max <span class="token operator">-</span> min <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> min<span class="token punctuation">;</span> <span class="token comment">// 生成 min 到 max 范围内的随机 int 数</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Double</span> <span class="token function">randomDouble</span><span class="token punctuation">(</span><span class="token keyword">double</span> min<span class="token punctuation">,</span><span class="token keyword">double</span> max<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token class-name">Random</span> random <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> min <span class="token operator">+</span> <span class="token punctuation">(</span>max <span class="token operator">-</span> min<span class="token punctuation">)</span> <span class="token operator">*</span> random<span class="token punctuation">.</span><span class="token function">nextDouble</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 生成 min 到 max 范围内的随机 double 值</span>
    <span class="token punctuation">}</span>


<span class="token punctuation">}</span>

</code></pre> 
<h2><a id="_1927"></a>最后</h2> 
<p>2024-4-13 18:49:18</p> 
<p><font color="red"><strong>迎着日光月光星光，直面风霜雨霜雪霜。</strong></font></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/76a1ec1c6fb027f071a2d90e97d82471/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Xcode 15.0 新 #Preview 预览让 SwiftUI 界面调试更加悠然自得</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/3a40464826bd8dde44215098a9497002/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">某短视频sig3算法详解</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>