<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Gazebo Harmonic 和 ROS2 jazzy 安装和测试 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/64f1ee06a4391e4db200cb82d0f784e6/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="Gazebo Harmonic 和 ROS2 jazzy 安装和测试">
  <meta property="og:description" content="之前，提及使用CoppeliaSim_Edu_V4_7_0，那么备选Gazebo一定不能缺席！
使用大模型撰写移动机器人模拟器（CoppeliaSim、Gazebo、MORSE和Webots）的定量比较研究报告-CSDN博客
CoppeliaSim &#43; Gazebo &#43; ROS2 Jazzy
安装： 简洁： 179 sudo apt-get install lsb-release gnupg 180 sudo curl https://packages.osrfoundation.org/gazebo.gpg --output /usr/share/keyrings/pkgs-osrf-archive-keyring.gpg 181 echo &#34;deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/pkgs-osrf-archive-keyring.gpg] http://packages.osrfoundation.org/gazebo/ubuntu-stable $(lsb_release -cs) main&#34; | sudo tee /etc/apt/sources.list.d/gazebo-stable.list &gt; /dev/null 182 sudo apt-get update 183 sudo apt-get install gz-harmonic sudo apt-get install lsb-release gnupg
sudo curl https://packages.osrfoundation.org/gazebo.gpg --output /usr/share/keyrings/pkgs-osrf-archive-keyring.gpg
echo &#34;deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/pkgs-osrf-archive-keyring.gpg] http://packages.osrfoundation.org/gazebo/ubuntu-stable $(lsb_release -cs) main&#34; | sudo tee /etc/apt/sources.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-08-22T14:24:46+08:00">
    <meta property="article:modified_time" content="2024-08-22T14:24:46+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Gazebo Harmonic 和 ROS2 jazzy 安装和测试</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>之前，提及使用CoppeliaSim_Edu_V4_7_0，那么备选Gazebo一定不能缺席！</p> 
<p><a href="https://blog.csdn.net/ZhangRelay/article/details/141324864" title="使用大模型撰写移动机器人模拟器（CoppeliaSim、Gazebo、MORSE和Webots）的定量比较研究报告-CSDN博客">使用大模型撰写移动机器人模拟器（CoppeliaSim、Gazebo、MORSE和Webots）的定量比较研究报告-CSDN博客</a></p> 
<hr> 
<blockquote> 
 <p><strong>CoppeliaSim + Gazebo + ROS2 Jazzy</strong></p> 
</blockquote> 
<hr> 
<h2>安装：</h2> 
<h3>简洁：</h3> 
<pre><code class="language-bash">  179  sudo apt-get install lsb-release gnupg
  180  sudo curl https://packages.osrfoundation.org/gazebo.gpg --output /usr/share/keyrings/pkgs-osrf-archive-keyring.gpg
  181  echo "deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/pkgs-osrf-archive-keyring.gpg] http://packages.osrfoundation.org/gazebo/ubuntu-stable $(lsb_release -cs) main" | sudo tee /etc/apt/sources.list.d/gazebo-stable.list &gt; /dev/null
  182  sudo apt-get update
  183  sudo apt-get install gz-harmonic</code></pre> 
<blockquote> 
 <p>sudo apt-get install lsb-release gnupg<br> sudo curl https://packages.osrfoundation.org/gazebo.gpg --output /usr/share/keyrings/pkgs-osrf-archive-keyring.gpg<br> echo "deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/pkgs-osrf-archive-keyring.gpg] http://packages.osrfoundation.org/gazebo/ubuntu-stable $(lsb_release -cs) main" | sudo tee /etc/apt/sources.list.d/gazebo-stable.list &gt; /dev/null<br> sudo apt-get update<br> sudo apt-get install gz-harmonic </p> 
</blockquote> 
<p>参考179-183行即可。</p> 
<h3>详细：</h3> 
<h4>Ubuntu 上 Gazebo Harmonic 的二进制安装</h4> 
<p id="">Gazebo Harmonic 是为 Ubuntu Jammy (22.04) 和 Ubuntu Noble (24.04) 提供的二进制版本。这些二进制文件托管在 <code>packages.osrfoundation.org</code> 仓库中。为了方便安装，提供了一个名为 <code>gz-harmonic</code> 的元包，该包包含了 Gazebo Harmonic 所需的所有依赖和库。</p> 
<h5>警告</h5> 
<p id="">对于使用 <code>gazebo-classic</code>（如 <code>gazebo11</code>）的用户，请注意 <code>gz-harmonic</code> 默认不能与 <code>gazebo11</code> 并存。若需要同时安装，请参考[与 Gazebo11 并行安装 Gazebo](Installing Gazebo11 side by side with new Gazebo) 的详细指导。</p> 
<h5>安装步骤</h5> 
<ol><li> <p id=""><strong>安装必要的工具</strong></p> <p id="">首先，确保你的系统是最新的，并安装必要的工具：</p> <p><code>bash</code></p> 
  <table><tbody><tr><td></td><td><code>sudo apt-get update </code></td></tr><tr><td></td><td><code>sudo apt-get install lsb-release gnupg</code></td></tr></tbody></table></li><li> <p id=""><strong>添加 Gazebo 仓库的 GPG 密钥</strong></p> <p id="">从 OSRF 的服务器下载 GPG 密钥，并将其添加到系统的密钥环中：</p> <p><code>bash</code></p> 
  <table><tbody><tr><td></td><td><code>sudo curl https://packages.osrfoundation.org/gazebo.gpg --output /usr/share/keyrings/pkgs-osrf-archive-keyring.gpg</code></td></tr></tbody></table></li><li> <p id=""><strong>配置 Gazebo 的 APT 仓库</strong></p> <p id="">将 Gazebo 的仓库地址添加到你的 <code>sources.list</code> 文件中，并指定使用前面下载的 GPG 密钥进行签名验证：</p> <p><code>bash</code></p> 
  <table><tbody><tr><td></td><td><code>echo "deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/pkgs-osrf-archive-keyring.gpg] http://packages.osrfoundation.org/gazebo/ubuntu-stable $(lsb_release -cs) main" | sudo tee /etc/apt/sources.list.d/gazebo-stable.list &gt; /dev/null</code></td></tr></tbody></table></li><li> <p id=""><strong>更新包列表并安装 Gazebo Harmonic</strong></p> <p id="">更新你的包列表，并安装 <code>gz-harmonic</code> 元包：</p> <p><code>bash</code></p> 
  <table><tbody><tr><td></td><td><code>sudo apt-get update </code></td></tr><tr><td></td><td><code>sudo apt-get install gz-harmonic</code></td></tr></tbody></table><p id="">安装完成后，所有相关的库和应用程序都应该已经就绪，你可以开始使用 Gazebo Harmonic 了。</p> </li></ol> 
<h5>卸载二进制安装</h5> 
<p id="">如果你需要卸载 Gazebo Harmonic 或切换到基于源代码的安装方式，可以使用以下命令：</p> 
<p><code>bash</code></p> 
<table><tbody><tr><td></td><td><code>sudo apt remove gz-harmonic &amp;&amp; sudo apt autoremove</code></td></tr></tbody></table> 
<p id="">这条命令会移除 <code>gz-harmonic</code> 包及其所有依赖项（如果有的话），并清理不再需要的软件包。</p> 
<h5>回到开始</h5> 
<p id="">完成安装后，你可以回到[开始页面](Getting started page)来进一步学习如何使用 Gazebo Harmonic。该页面提供了关于如何启动 Gazebo、加载世界文件、添加模型等的基本指导。</p> 
<hr> 
<h2>使用说明</h2> 
<h3>简洁：</h3> 
<pre><code class="language-bash">gz sim shapes.sdf  # Fortress and Citadel use "ign gazebo" instead of "gz sim"</code></pre> 
<p><img alt="" height="32" src="https://images2.imgbox.com/cb/3d/YS38cPBf_o.png" width="490"></p> 
<p><img alt="" height="900" src="https://images2.imgbox.com/98/f9/5AyGAy9x_o.png" width="1200"></p> 
<p>加入光源对比差异，注意蓝球的阴影部分：</p> 
<p>未添加：</p> 
<p><img alt="" height="535" src="https://images2.imgbox.com/8f/9b/OU0LcNHs_o.png" width="555"></p> 
<p>添加后：</p> 
<p><img alt="" height="553" src="https://images2.imgbox.com/9a/b6/WYAKeXzc_o.png" width="572"></p> 
<p>全部：</p> 
<p><img alt="" height="900" src="https://images2.imgbox.com/c6/f9/VeMXRxcg_o.png" width="1200"></p> 
<h3>详细：</h3> 
<h4>Gazebo 入门指南中文详细总结</h4> 
<h5>第一步：安装</h5> 
<p id=""><strong>重要提示</strong>：</p> 
<ul><li>如果你是ROS用户，请先阅读ROS/Gazebo安装教程。</li></ul> 
<p id=""><strong>推荐安装</strong>：</p> 
<ul><li>新用户建议使用平台提供的二进制包进行安装。</li></ul> 
<p id=""><strong>不同平台支持的Gazebo版本</strong>：</p> 
<ul><li><strong><span style="background-color:#4da8ee;">Ubuntu 24.04 Noble</span></strong><span style="background-color:#4da8ee;">：推荐使用Gazebo Harmonic（如果使用ROS 2 Jazzy则更推荐）。</span></li><li><strong>Ubuntu 22.04 Jammy</strong>：推荐使用Gazebo Harmonic，同时支持Gazebo Garden和Gazebo Fortress（如果使用ROS 2 Humble或Iron则推荐后者）。</li><li><strong>Ubuntu 20.04 Focal</strong>：推荐Gazebo Garden，也支持Gazebo Fortress和Gazebo Citadel。</li><li><strong>Ubuntu 18.04 Bionic</strong>：仅支持Gazebo Citadel。</li><li><strong>Mac Ventura/Monterey</strong>：推荐Gazebo Harmonic，也支持Gazebo Garden、Gazebo Fortress和Gazebo Citadel。</li><li><strong>Windows</strong>：通过Conda-Forge的支持尚不完全，存在运行时问题，建议查看相关issue获取详情。</li></ul> 
<p id=""><strong>其他安装选项</strong>：</p> 
<ul><li>如果所需平台不在列表中或需要特定版本的Gazebo功能，可访问各版本的安装页面获取更多安装选项。</li></ul> 
<h5>第二步：运行Gazebo</h5> 
<p id=""><strong>在Linux/macOS上</strong>：</p> 
<ul><li>安装完成后，可以从终端启动Gazebo Sim，一个3D机器人仿真器。</li><li>使用命令<code>gz sim shapes.sdf</code>（对于Fortress和Citadel版本，使用<code>ign gazebo</code>代替<code>gz sim</code>）来启动仿真服务器和GUI，并加载一个包含三个简单形状的世界。</li><li>可以添加<code>-v 4</code>参数来生成错误、警告、信息和调试消息。</li><li>可以使用<code>-s</code>（仅服务器）或<code>-g</code>（仅GUI）参数来分别运行服务器或GUI。</li></ul> 
<p id=""><strong>在macOS上的特别说明</strong>：</p> 
<ul><li>由于GUI在macOS上可能不稳定，建议分别在不同终端中启动服务器和GUI。</li><li>如果遇到GUI问题，请在<code>gazebosim/gz-sim</code>仓库中提交issue。</li></ul> 
<h5>第三步：创建自己的世界</h5> 
<ul><li><strong>SDF（Simulation Description Format）</strong> 用于指定仿真的内容。</li><li>可以查看SDF教程或修改Gazebo自带的示例SDF文件来开始。</li><li>示例SDF文件通常包含如何运行仿真以体验特定功能的说明。</li><li>可以在Gazebo Fuel（<a href="https://app.gazebosim.org/fuel%EF%BC%89%E4%B8%8A%E6%89%BE%E5%88%B0%E5%90%84%E7%A7%8D%E4%BB%BF%E7%9C%9F%E8%B5%84%E6%BA%90%EF%BC%8C%E7%82%B9%E5%87%BB%E6%A8%A1%E5%9E%8B%E6%8F%8F%E8%BF%B0%E9%A1%B5%E4%B8%AD%E7%9A%84" rel="nofollow" title="https://app.gazebosim.org/fuel）上找到各种仿真资源，点击模型描述页中的">https://app.gazebosim.org/fuel）上找到各种仿真资源，点击模型描述页中的</a>&lt;&gt;图标可复制SDF代码片段，然后粘贴到自己的SDF文件中。</li></ul> 
<h5>第四步：探索和学习</h5> 
<ul><li>本教程涵盖了Gazebo入门的基本知识。</li><li>从Citadel版本开始，有更多分版本的教程，涵盖GUI基础、创建世界和机器人等内容。</li><li>每个Gazebo库都包含一套教程和示例，建议深入探索这些资源。</li><li>遇到问题时，可以在answers.gazebosim.org上提问并寻找解决方案。</li></ul> 
<p id="">通过以上步骤，你可以开始使用Gazebo进行机器人仿真了。</p> 
<hr> 
<h2>ROS2 Jazzy</h2> 
<p id="">以下是一个包含当前支持版本的ROS和Gazebo组合的中文表格概述。请注意，所有其他版本的ROS和Gazebo都已被视为生命周期结束，我们不建议继续使用它们。</p> 
<p></p> 
<table><thead><tr><th>Gazebo版本</th><th>ROS 2 Jazzy (LTS)</th><th>ROS 2 Rolling</th><th>ROS 2 Iron</th><th>ROS 2 Humble (LTS)</th><th>ROS 2 Foxy (LTS)</th><th>ROS 1 Noetic (LTS)</th></tr></thead><tbody><tr><td>GZ Citadel (LTS)</td><td>❌</td><td>❌</td><td>⚡</td><td>⚡</td><td>✅</td><td>❌</td></tr><tr><td>GZ Fortress (LTS)</td><td>❌</td><td>❌</td><td>✅</td><td>⚡</td><td>❌</td><td>⚡</td></tr><tr><td>GZ Garden</td><td>⚡</td><td>⚡</td><td>⚡</td><td>❌</td><td>❌</td><td>❌</td></tr><tr><td>GZ Harmonic (LTS)</td><td>✅</td><td>✅</td><td>⚡</td><td>⚡</td><td>❌</td><td>❌</td></tr></tbody></table> 
<p id="">说明：</p> 
<ul><li><strong>✅ - 推荐组合</strong>：这些ROS和Gazebo版本的组合是推荐的，因为它们经过了充分的测试和支持。</li><li><strong>❌ - 不兼容/不可能</strong>：这些ROS和Gazebo版本之间不兼容，无法一起使用。</li><li><strong>⚡ - 可用但需谨慎</strong>：这些ROS和Gazebo版本可以组合使用，但需要额外的努力或配置，并且可能面临一些不稳定因素。</li></ul> 
<p id="">请注意，随着ROS和Gazebo的发展，这些兼容性信息可能会发生变化。建议查阅最新的官方文档或社区资源以获取最新信息。</p> 
<h2>安装</h2> 
<h3>接口 </h3> 
<blockquote> 
 <p>sudo apt install ros-jazzy-ros-gz ros-jazzy-ros-gz-sim-demos ros-jazzy-ros-gz-bridge ros-jazzy-ros-gz-image ros-jazzy-ros-gz-interfaces ros-jazzy-ros-gz-sim</p> 
</blockquote> 
<h3>空环境</h3> 
<blockquote> 
 <p>ros2 launch ros_gz_sim gz_sim.launch.py gz_args:=empty.sdf<br>  </p> 
</blockquote> 
<p><img alt="" height="900" src="https://images2.imgbox.com/20/7e/q01Cj3Ev_o.png" width="1200"> </p> 
<h2>图像管道</h2> 
<blockquote> 
 <p>ros2 launch ros_gz_sim_demos image_bridge.launch.py </p> 
</blockquote> 
<p><img alt="" height="900" src="https://images2.imgbox.com/58/ab/sGlv6Mrh_o.png" width="1200"></p> 
<p><img alt="" height="900" src="https://images2.imgbox.com/30/fd/UNFx12e3_o.png" width="1200"> </p> 
<h3>详细介绍</h3> 
<p id="">以下是关于安装ROS与Gazebo默认配对的中文详细总结：</p> 
<h4>1. 使用ROS仓库中的默认Gazebo版本</h4> 
<p id="">当您计划使用特定版本的ROS，且没有特定理由需要特定版本的Gazebo时，我们推荐从ROS仓库安装与该ROS版本兼容的默认Gazebo版本。这可以确保您获得的是经过测试且稳定的组合。</p> 
<h5>安装命令</h5> 
<p id="">在Linux系统上，您可以使用以下命令来安装与您的ROS发行版相匹配的Gazebo版本。请将<code>${ROS_DISTRO}</code>替换为您的ROS发行版名称（如<code>humble</code>、<code>rolling</code>、<code>foxy</code>、<code>noetic</code>等）：</p> 
<p><code>bash</code></p> 
<table><tbody><tr><td></td><td><code>sudo apt-get install ros-${ROS_DISTRO}-ros-gz</code></td></tr></tbody></table> 
<p id="">这个命令将安装与您的ROS安装相匹配的Gazebo库。</p> 
<h4>2. ROS 2中的Gazebo Vendor包</h4> 
<p id="">从ROS 2 Jazzy开始，Gazebo通过vendor包的形式在ROS包仓库中可用。如果您的包直接依赖于Gazebo库，而不是仅依赖于<code>ros_gz</code>，请参考相关文档学习如何使用Gazebo vendor包。</p> 
<h4>3. 特定ROS和Gazebo的配对</h4> 
<p id="">Gazebo是一个独立的项目，类似于Boost、Ogre等ROS使用的其他项目。在每个ROS发布周期的开始，通常会有最新版本的Gazebo与之配套（例如ROS 2 Humble与Gazebo Fortress）。这个版本被选为该ROS发行版的官方Gazebo版本，并且在其生命周期内得到全面集成、测试和支持。</p> 
<h4>4. Gazebo的语义版本控制和兼容性</h4> 
<p id="">Gazebo的所有库都遵循语义版本控制（Semantic Versioning）的原则来保证ABI（Application Binary Interface）的稳定性。这意味着只要Gazebo版本号的主要数字相同（例如<code>gz-sim7_7.0.0</code>、<code>gz-sim7_7.1.0</code>、<code>gz-sim7_7.0.1</code>等），它们就是二进制兼容的，可以在给定的ROS发行版中互换使用。</p> 
<h4>5. 在Ubuntu上安装Gazebo</h4> 
<h5>使用二进制包安装</h5> 
<p id="">在Ubuntu上安装Gazebo的最简单方法是使用二进制包。主要有两个仓库提供Gazebo模拟器和库：<code>packages.ros.org</code>和<code>packages.osrfoundation.org</code>。</p> 
<ul><li><strong>packages.ros.org</strong>： 
  <ul><li>ROS1 Noetic：Gazebo Citadel</li><li>ROS2 Foxy：Gazebo Citadel</li><li>ROS2 Humble：Gazebo Fortress</li><li>ROS2 Iron：Gazebo Fortress</li><li>ROS2 Rolling：Gazebo Fortress（经常变化）</li></ul></li><li><strong>packages.osrfoundation.org</strong>： 
  <ul><li>Gazebo Citadel</li><li>Gazebo Fortress</li><li>Gazebo Garden</li><li>Gazebo Harmonic</li></ul></li></ul> 
<p id="">由于您可以从ROS仓库安装Gazebo，因此通常不需要特别添加<code>osrfoundation.org</code>仓库。</p> 
<h4>结论</h4> 
<p id="">选择与您的ROS发行版相匹配的Gazebo版本可以确保稳定性和兼容性。对于大多数用户来说，使用ROS仓库中的默认Gazebo版本是最简单且推荐的方法。</p> 
<h3> </h3> 
<hr> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/c3d49396e1a4ed2166f61d0b5ff4fa03/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">冗余电源装VMware系统电源警告</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/0137d776111339eff414b9b235836e61/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">JAVA基础知识总结（上）（初识Java）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>