<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>java与mysql连接 使用mysql-connector-java连接msql - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/b132f08ee7de60fbd283514ce2c10000/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="java与mysql连接 使用mysql-connector-java连接msql">
  <meta property="og:description" content="文章简介 本文章讲解使用 mysql-connector-java-8.0.30 建立java程序和mysql本地数据库的连接。
自用文章，仅作参考。
库 mysql-connect-java-8.0.30 (来自Maven)
IDE：IntelliJ IDEA
安装方法(任选其一) 通过IDEA项目结构安装 1.打开项目的项目结构(Project Structure)
2.在弹出的窗口选择 &#34;库(Libraries)&#34;-&gt; &#34;&#43;&#34; -&gt;&#34;来自Maven(From Maven)&#34;
3.输入 mysql-connector-java，
并点击搜索开始搜索，
等待搜索结果后展开搜索结果，
选择mysql:mysql-connector-java:8.0.30
（建议、可选）勾选&#34;下载到(Download to)
4.至此，外部库下载完成。
通过外部链接下载并添加 1.进入Maven官网：Maven 存储库：搜索/浏览/浏览 --- Maven Repository: Search/Browse/Explore (mvnrepository.com)
2.顶部搜索框输入mysql-connector-java,回车搜索。得到结果与下图类似,根据相关信息选择第二个
3.根据自身需求选择下载版本，本文章使用8.0.30版本，点击版本号进入页面
4.根据自身需求选择下载jar包或者添加依赖，本文章选择下载jar包，添加依赖不需要再下载jar包
5.回到IDEA，在项目下创建一个&#34;lib&#34;目录，目录名字可自取，建议&#34;lib&#34;存放外部库。
将下载好的jar包粘贴至&#34;lib&#34;目录，右键jar包选择&#34;添加为库(Add as Library ...)&#34;
弹出的窗口再选择 &#34;OK&#34; 即可
6.至此，添加完成。
使用方法 导入 import com.mysql.cj.jdbc.MysqlDataSource; import javax.sql.DataSource; import java.sql.Connection; import java.sql.PreparedStatement; import java.sql.ResultSet; import java.sql.SQLException; 连接mysql数据库 DataSource dataSource = new MysqlDataSource();//创建数据库资源对象 //强制转换，原因自查 setUrl()参数自定义，对于windows系统一般格式是: //jdbc:mysql://localhost:3306/创建的数据库名，此处我创建了一个名为accounts的数据库(creat database) ((MysqlDataSource) dataSource).">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-07-17T10:34:02+08:00">
    <meta property="article:modified_time" content="2024-07-17T10:34:02+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">java与mysql连接 使用mysql-connector-java连接msql</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>文章简介</h2> 
<p>本文章讲解使用 <span style="color:#faa572;"><u>mysql-connector-java-8.0.30</u></span> 建立java程序和mysql本地数据库的连接。</p> 
<p>自用文章，<span style="color:#fe2c24;">仅作参考。</span></p> 
<h2>库</h2> 
<p>mysql-connect-java-8.0.30   (来自Maven)</p> 
<p>IDE：IntelliJ IDEA</p> 
<h3>安装方法(任选其一)</h3> 
<h4>通过IDEA项目结构安装</h4> 
<p>1.打开项目的项目结构(Project Structure)</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/4f/15/ffuZxxHr_o.png"></p> 
<p>2.在弹出的窗口选择 "库(Libraries)"-&gt; "+" -&gt;"来自Maven(From Maven)"</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/7b/9b/B7DD5HcH_o.png"></p> 
<p>3.<span style="color:#fe2c24;">输入 mysql-connector-java</span>，</p> 
<p>并<span style="color:#fe2c24;">点击搜索</span>开始搜索，</p> 
<p>等待搜索结果后<span style="color:#fe2c24;">展开搜索结果</span>，</p> 
<p><span style="color:#fe2c24;">选择mysql:mysql-connector-java:8.0.30</span></p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/6a/42/C1PxMXqe_o.png"></p> 
<p style="text-align:center;"><span style="background-color:#fe2c24;">（建议、可选）勾选"下载到(Download to)</span></p> 
<p><img alt="" src="https://images2.imgbox.com/1b/6e/5PrvPl4Y_o.png"></p> 
<p>4.至此，外部库下载完成。</p> 
<hr> 
<hr> 
<h4 style="background-color:transparent;">通过外部链接下载并添加</h4> 
<p>1.进入Maven官网：<a href="https://mvnrepository.com/" rel="nofollow" title="Maven 存储库：搜索/浏览/浏览 --- Maven Repository: Search/Browse/Explore (mvnrepository.com)">Maven 存储库：搜索/浏览/浏览 --- Maven Repository: Search/Browse/Explore (mvnrepository.com)</a></p> 
<p>2.顶部<span style="color:#fe2c24;">搜索框输入<u>mysql-connector-java</u></span>,回车搜索。得到结果与下图类似,根据相关信息选择第二个</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/72/4e/iXurgGQn_o.png"></p> 
<p>3.根据自身需求选择下载版本，本文章使用8.0.30版本，<span style="color:#fe2c24;">点击版本号进入页面</span></p> 
<p><img alt="" src="https://images2.imgbox.com/eb/1e/PdTyoo1f_o.png"></p> 
<p>4.根据自身需求选择下载jar包或者添加依赖，<span style="color:#fe2c24;">本文章选择下载jar包</span>，添加依赖不需要再下载jar包</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/7a/12/fH5bKOcT_o.png"></p> 
<p>5.回到IDEA，在项目下<span style="color:#fe2c24;">创建一个"lib"目录</span>，目录名字可自取，建议"lib"存放外部库。</p> 
<p><span style="color:#fe2c24;">将下载好的jar包粘贴至"lib"目录，右键jar包选择"添加为库(Add as Library ...)"</span></p> 
<p><span style="color:#0d0016;">弹出的窗口再</span><span style="color:#fe2c24;">选择 "OK" 即可</span></p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/32/ff/RVsxC4F9_o.png"></p> 
<p>6.至此，添加完成。</p> 
<h2>使用方法</h2> 
<h3 style="background-color:transparent;">导入</h3> 
<pre><code class="language-java">import com.mysql.cj.jdbc.MysqlDataSource;

import javax.sql.DataSource;
import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;</code></pre> 
<h3>连接mysql数据库</h3> 
<pre><code class="language-java">DataSource dataSource = new MysqlDataSource();//创建数据库资源对象
//强制转换，原因自查 setUrl()参数自定义，对于windows系统一般格式是:  
//jdbc:mysql://localhost:3306/创建的数据库名，此处我创建了一个名为accounts的数据库(creat database)
((MysqlDataSource) dataSource).setUrl("jdbc:mysql://localhost:3306/accounts");</code></pre> 
<p>设置连接数据库的用户名即密码(数据库的用户名和密码在安装时已设置)</p> 
<pre><code class="language-java">((MysqlDataSource) dataSource).setUser("root");//此处设置用户名，windows系统默认root
((MysqlDataSource) dataSource).setPassword("50314");//密码在安装mysql时已经设置</code></pre> 
<p>建议连接，获得连接需要处理<span style="color:#fe2c24;">SQLException</span><span style="color:#0d0016;">异常</span></p> 
<pre><code class="language-java">try {
        Connection connection = dataSource.getConnection();//获得与数据库的连接
       
    }
catch (SQLException e) {
     e.printStackTrace();
    }</code></pre> 
<h3>使用预处理语句</h3> 
<p>创建一个预处理对象</p> 
<pre><code class="language-java">PreparedStatement preparedStatement;</code></pre> 
<p>定义一个String变量，用于存储mysql的代码,如下所示</p> 
<p><span style="background-color:#a2e043;">命令执行的是"select * from accounts where account_name=" + username +" and account_password=" + password;</span></p> 
<p><span style="background-color:#fe2c24;">输入mysql命令时请确保无任何符号遗漏</span></p> 
<pre><code class="language-java">String sql = "select * from accounts where account_name=" + username +" and account_password=" + password;</code></pre> 
<p>执行命令，并获得结果</p> 
<pre><code class="language-java">try {
     preparedStatement = connection.prepareStatement(sql);//预处理
     ResultSet resultSet = preparedStatement.executeQuery();//执行处理并返回结果
}catch (SQLException e) {
       e.printStackTrace();
}</code></pre> 
<p>现在上述resultSet存储了来自mysql筛选后的结果。</p> 
<h2>本章示例完整代码：(演示如何在数据库中是否保存有某个账号)</h2> 
<pre><code class="language-java">package database;

import com.mysql.cj.jdbc.MysqlDataSource;

import javax.sql.DataSource;
import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;

public class AccountDataBase {
    private PreparedStatement preparedStatement;
    private Connection connection;
    private static AccountDataBase accountDataBase;
    private AccountDataBase() {
        preparedStatement = null;
        DataSource dataSource = new MysqlDataSource();
        ((MysqlDataSource) dataSource).setUrl("jdbc:mysql://localhost:3306/accounts");
        ((MysqlDataSource) dataSource).setUser("root");
        ((MysqlDataSource) dataSource).setPassword("50314");
        try {
             connection = dataSource.getConnection();
            preparedStatement = connection.prepareStatement("insert into account values(?,?,?,?)");
        }
        catch (SQLException e) {
            e.printStackTrace();
        }
    }
    public boolean checkAccount(String username, String password) {
        String sql = "select * from accounts where account_name=" + username +" and account_password=" + password;
        try {
            preparedStatement = connection.prepareStatement(sql);
            ResultSet resultSet = preparedStatement.executeQuery();
            if (resultSet.next()) {
                return true;
            }
        }catch (SQLException e) {
            e.printStackTrace();
        }
        return false;
    }
    public static AccountDataBase getAccountDataBase() {
        accountDataBase = new AccountDataBase();
        return accountDataBase;
    }
}
</code></pre> 
<h2>总结</h2> 
<p>本文章简单讲解了如何在java中直接使用mysql的语法筛选数据库信息。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/10f9c916cf1a8f13d57fded1642ee12a/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【乐吾乐2D可视化组态编辑器】事件</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/af1573dfcf02312f79c215e0b5097fe3/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">window11 部署llama.cpp并运行Qwen2-0.5B-Instruct-GGUF</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>