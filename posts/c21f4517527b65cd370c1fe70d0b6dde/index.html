<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Selenium自动化测试（基于Java） - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/c21f4517527b65cd370c1fe70d0b6dde/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="Selenium自动化测试（基于Java）">
  <meta property="og:description" content="目录
一. 了解Selenium
✅1.1 概念
✅1.2 作用
✅1.3 特点
✅1.4 工作原理
二. Selenium &#43; Java 环境搭建
✅2.1 下载 Chrome 浏览器
✅2.2 查看浏览器的版本
✅2.3 下载浏览器驱动
✅2.4 验证环境是否搭建成功
三. Selenium 常用 API
✅3.1 定位元素
✅3.2 操作对象
✅3.3 添加等待
✅3.4 打印信息
✅3.5 浏览器操作
✅3.6 键盘操作
✅3.7 鼠标操作
✅3.8 定位一组元素
✅3.9 下拉框处理
✅3.10 切换窗口句柄
✅3.11 截图操作
✅3.12 上传文件操作
✅面试题：quit 和 close的区别
一. 了解Selenium ✅1.1 概念 Selenium是一个免费的/开源自动化测试框架，是一个Web应用程序测试工具；
✅1.2 作用 用于测试Web应用程序在不同的浏览器和不同平台上是否能工作正常；
✅1.3 特点 可以使用多种编程语言来编写Selenium测试脚本，如java, C#, Python等编程语言。自动化测试工具Selenium内置有记录和回放功能，用于记录和回放Web应用程序测试过程，且可在不同的浏览器上运行多个脚本；">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2023-05-28T11:14:00+08:00">
    <meta property="article:modified_time" content="2023-05-28T11:14:00+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Selenium自动化测试（基于Java）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="%E4%B8%80.%20%E4%BA%86%E8%A7%A3Selenium-toc" style="margin-left:0px;"><a href="#%E4%B8%80.%20%E4%BA%86%E8%A7%A3Selenium" rel="nofollow">一. 了解Selenium</a></p> 
<p id="%E2%9C%851.1%20%E6%A6%82%E5%BF%B5-toc" style="margin-left:80px;"><a href="#%E2%9C%851.1%20%E6%A6%82%E5%BF%B5" rel="nofollow">✅1.1 概念</a></p> 
<p id="%E2%9C%851.2%20%E4%BD%9C%E7%94%A8-toc" style="margin-left:80px;"><a href="#%E2%9C%851.2%20%E4%BD%9C%E7%94%A8" rel="nofollow">✅1.2 作用</a></p> 
<p id="%E2%9C%851.3%20%E7%89%B9%E7%82%B9-toc" style="margin-left:80px;"><a href="#%E2%9C%851.3%20%E7%89%B9%E7%82%B9" rel="nofollow">✅1.3 特点</a></p> 
<p id="%E2%9C%85%20%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86-toc" style="margin-left:80px;"><a href="#%E2%9C%85%20%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86" rel="nofollow">✅1.4 工作原理</a></p> 
<p id="%C2%A0%E4%BA%8C.%C2%A0Selenium%20%2B%20Java%20%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA-toc" style="margin-left:0px;"><a href="#%C2%A0%E4%BA%8C.%C2%A0Selenium%20%2B%20Java%20%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA" rel="nofollow"> 二. Selenium + Java 环境搭建</a></p> 
<p id="%E2%9C%852.1%20%E4%B8%8B%E8%BD%BD%20Chrome%20%E6%B5%8F%E8%A7%88%E5%99%A8-toc" style="margin-left:80px;"><a href="#%E2%9C%852.1%20%E4%B8%8B%E8%BD%BD%20Chrome%20%E6%B5%8F%E8%A7%88%E5%99%A8" rel="nofollow">✅2.1 下载 Chrome 浏览器</a></p> 
<p id="%E2%9C%852.2%20%E6%9F%A5%E7%9C%8B%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E7%89%88%E6%9C%AC-toc" style="margin-left:80px;"><a href="#%E2%9C%852.2%20%E6%9F%A5%E7%9C%8B%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E7%89%88%E6%9C%AC" rel="nofollow">✅2.2 查看浏览器的版本</a></p> 
<p id="%E2%9C%852.3%20%E4%B8%8B%E8%BD%BD%E6%B5%8F%E8%A7%88%E5%99%A8%E9%A9%B1%E5%8A%A8-toc" style="margin-left:80px;"><a href="#%E2%9C%852.3%20%E4%B8%8B%E8%BD%BD%E6%B5%8F%E8%A7%88%E5%99%A8%E9%A9%B1%E5%8A%A8" rel="nofollow">✅2.3 下载浏览器驱动</a></p> 
<p id="%E2%9C%852.4%20%E9%AA%8C%E8%AF%81%E7%8E%AF%E5%A2%83%E6%98%AF%E5%90%A6%E6%90%AD%E5%BB%BA%E6%88%90%E5%8A%9F-toc" style="margin-left:80px;"><a href="#%E2%9C%852.4%20%E9%AA%8C%E8%AF%81%E7%8E%AF%E5%A2%83%E6%98%AF%E5%90%A6%E6%90%AD%E5%BB%BA%E6%88%90%E5%8A%9F" rel="nofollow">✅2.4 验证环境是否搭建成功</a></p> 
<p id="%E4%B8%89.%C2%A0Selenium%20%E5%B8%B8%E7%94%A8%20API-toc" style="margin-left:0px;"><a href="#%E4%B8%89.%C2%A0Selenium%20%E5%B8%B8%E7%94%A8%20API" rel="nofollow">三. Selenium 常用 API</a></p> 
<p id="%E2%9C%853.1%20%E5%AE%9A%E4%BD%8D%E5%85%83%E7%B4%A0-toc" style="margin-left:80px;"><a href="#%E2%9C%853.1%20%E5%AE%9A%E4%BD%8D%E5%85%83%E7%B4%A0" rel="nofollow">✅3.1 定位元素</a></p> 
<p id="%E2%9C%853.2%20%E6%93%8D%E4%BD%9C%E5%AF%B9%E8%B1%A1-toc" style="margin-left:80px;"><a href="#%E2%9C%853.2%20%E6%93%8D%E4%BD%9C%E5%AF%B9%E8%B1%A1" rel="nofollow">✅3.2 操作对象</a></p> 
<p id="%E2%9C%853.4%20%E6%B7%BB%E5%8A%A0%E7%AD%89%E5%BE%85-toc" style="margin-left:80px;"><a href="#%E2%9C%853.4%20%E6%B7%BB%E5%8A%A0%E7%AD%89%E5%BE%85" rel="nofollow">✅3.3 添加等待</a></p> 
<p id="%E2%9C%853.5%20%E6%89%93%E5%8D%B0%E4%BF%A1%E6%81%AF-toc" style="margin-left:80px;"><a href="#%E2%9C%853.5%20%E6%89%93%E5%8D%B0%E4%BF%A1%E6%81%AF" rel="nofollow">✅3.4 打印信息</a></p> 
<p id="%E2%9C%853.6%20%E6%B5%8F%E8%A7%88%E5%99%A8%E6%93%8D%E4%BD%9C-toc" style="margin-left:80px;"><a href="#%E2%9C%853.6%20%E6%B5%8F%E8%A7%88%E5%99%A8%E6%93%8D%E4%BD%9C" rel="nofollow">✅3.5 浏览器操作</a></p> 
<p id="%C2%A0%E2%9C%853.7%20%E9%94%AE%E7%9B%98%E6%93%8D%E4%BD%9C-toc" style="margin-left:80px;"><a href="#%C2%A0%E2%9C%853.7%20%E9%94%AE%E7%9B%98%E6%93%8D%E4%BD%9C" rel="nofollow">✅3.6 键盘操作</a></p> 
<p id="%E2%9C%853.8%20%E9%BC%A0%E6%A0%87%E6%93%8D%E4%BD%9C-toc" style="margin-left:80px;"><a href="#%E2%9C%853.8%20%E9%BC%A0%E6%A0%87%E6%93%8D%E4%BD%9C" rel="nofollow">✅3.7 鼠标操作</a></p> 
<p id="%E2%9C%853.9%20%E5%AE%9A%E4%BD%8D%E4%B8%80%E7%BB%84%E5%85%83%E7%B4%A0-toc" style="margin-left:80px;"><a href="#%E2%9C%853.9%20%E5%AE%9A%E4%BD%8D%E4%B8%80%E7%BB%84%E5%85%83%E7%B4%A0" rel="nofollow">✅3.8 定位一组元素</a></p> 
<p id="%E2%9C%853.10%20%E4%B8%8B%E6%8B%89%E6%A1%86%E5%A4%84%E7%90%86-toc" style="margin-left:80px;"><a href="#%E2%9C%853.10%20%E4%B8%8B%E6%8B%89%E6%A1%86%E5%A4%84%E7%90%86" rel="nofollow">✅3.9 下拉框处理</a></p> 
<p id="%E2%9C%853.10%C2%A0%E5%88%87%E6%8D%A2%E7%AA%97%E5%8F%A3%E5%8F%A5%E6%9F%84-toc" style="margin-left:80px;"><a href="#%E2%9C%853.10%C2%A0%E5%88%87%E6%8D%A2%E7%AA%97%E5%8F%A3%E5%8F%A5%E6%9F%84" rel="nofollow">✅3.10 切换窗口句柄</a></p> 
<p id="%E2%9C%853.12%20%E6%88%AA%E5%9B%BE%E6%93%8D%E4%BD%9C-toc" style="margin-left:80px;"><a href="#%E2%9C%853.12%20%E6%88%AA%E5%9B%BE%E6%93%8D%E4%BD%9C" rel="nofollow">✅3.11 截图操作</a></p> 
<p id="%E2%9C%853.13%20%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C-toc" style="margin-left:80px;"><a href="#%E2%9C%853.13%20%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C" rel="nofollow">✅3.12 上传文件操作</a></p> 
<p id="%E2%9C%85%E9%9D%A2%E8%AF%95%E9%A2%98%EF%BC%9Aquit%20%E5%92%8C%20close%E7%9A%84%E5%8C%BA%E5%88%AB-toc" style="margin-left:80px;"><a href="#%E2%9C%85%E9%9D%A2%E8%AF%95%E9%A2%98%EF%BC%9Aquit%20%E5%92%8C%20close%E7%9A%84%E5%8C%BA%E5%88%AB" rel="nofollow">✅面试题：quit 和 close的区别</a></p> 
<hr id="hr-toc"> 
<p></p> 
<h2 id="%E4%B8%80.%20%E4%BA%86%E8%A7%A3Selenium">一. 了解Selenium</h2> 
<blockquote> 
 <h4 id="%E2%9C%851.1%20%E6%A6%82%E5%BF%B5">✅1.1 概念</h4> 
 <p>Selenium是一个免费的/开源自动化测试框架，是一个Web应用程序测试工具；</p> 
 <p></p> 
 <h4 id="%E2%9C%851.2%20%E4%BD%9C%E7%94%A8">✅1.2 作用</h4> 
 <p>用于测试Web应用程序在不同的浏览器和不同平台上是否能工作正常；</p> 
 <p></p> 
 <h4 id="%E2%9C%851.3%20%E7%89%B9%E7%82%B9">✅1.3 特点</h4> 
 <p>可以使用多种编程语言来编写Selenium测试脚本，如java, C#, Python等编程语言。自动化测试工具Selenium内置有记录和回放功能，用于记录和回放Web应用程序测试过程，且可在不同的浏览器上运行多个脚本；</p> 
 <p></p> 
 <h4 id="%E2%9C%85%20%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86">✅1.4 工作原理</h4> 
 <p><img alt="" height="877" src="https://images2.imgbox.com/fc/a8/lMsGtmHr_o.png" width="1200"></p> 
 <p></p> 
 <p>浏览器自动化测试工具Selenium：可以帮测试人员实现浏览器的自动化测试。借助Selenium WebDriver自动化测试工具，测试人员可以同时选择Google Chrome、Mozilla Firefox，Safari、Microsoft Edge、Opera等所有主要浏览器来执行浏览器自动化测试。每个浏览器都有各自的浏览器驱动程序，而这些浏览器驱动程序都有各自的HTTP服务器；</p> 
 <p></p> 
 <p>Selenium脚本会为每个Selenium命令创建一个HTTP请求，并且将HTTP请求发送给浏览器驱动程序。浏览器驱动程序会将HTTP请求发送到服务器。这些步骤都是在HTTP服务器上执行的。被发送到HTTP服务器上的执行状态最终由自动化脚本记录。</p> 
</blockquote> 
<hr> 
<h2 id="%C2%A0%E4%BA%8C.%C2%A0Selenium%20%2B%20Java%20%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA"> 二. Selenium + Java 环境搭建</h2> 
<blockquote> 
 <h4 id="%E2%9C%852.1%20%E4%B8%8B%E8%BD%BD%20Chrome%20%E6%B5%8F%E8%A7%88%E5%99%A8">✅2.1 下载 Chrome 浏览器</h4> 
 <p><a class="has-card" href="http://bb.yiliwl.top/" rel="nofollow" title="Google Chrome 谷歌浏览器下载 (yiliwl.top)"><span class="link-card-box"><span class="link-title">Google Chrome 谷歌浏览器下载 (yiliwl.top)</span><span class="link-link"><img alt="" class="link-link-icon" src="https://images2.imgbox.com/fe/d1/3zyOFeBu_o.png">http://bb.yiliwl.top/</span></span></a>第一步就是下载一个浏览器，这里推荐使用 Chrome 浏览器，可以自行去下载；</p> 
 <hr> 
 <h4 id="%E2%9C%852.2%20%E6%9F%A5%E7%9C%8B%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E7%89%88%E6%9C%AC">✅2.2 查看浏览器的版本</h4> 
 <p><img alt="" height="1200" src="https://images2.imgbox.com/15/5d/x4r9avaE_o.png" width="1200"></p> 
 <p> 这里需要记住你的浏览器版本；</p> 
 <hr> 
 <h4 id="%E2%9C%852.3%20%E4%B8%8B%E8%BD%BD%E6%B5%8F%E8%A7%88%E5%99%A8%E9%A9%B1%E5%8A%A8">✅2.3 下载浏览器驱动</h4> 
 <p><a class="has-card" href="https://registry.npmmirror.com/binary.html?path=chromedriver/" rel="nofollow" title="CNPM Binaries Mirror (npmmirror.com)"><span class="link-card-box"><span class="link-title">CNPM Binaries Mirror (npmmirror.com)</span><span class="link-link"><img alt="" class="link-link-icon" src="https://images2.imgbox.com/57/26/Agesn3bY_o.png">https://registry.npmmirror.com/binary.html?path=chromedriver/</span></span></a></p> 
 <p><img alt="" height="442" src="https://images2.imgbox.com/3a/7f/g9YlCO0C_o.png" width="1193"></p> 
 <p> <img alt="" height="458" src="https://images2.imgbox.com/c8/af/Ibk9H0eo_o.png" width="1077"></p> 
 <p><img alt="" height="724" src="https://images2.imgbox.com/56/d2/Kq47HC9G_o.png" width="1200"></p> 
 <p></p> 
 <p>点击上面的链接，根据你浏览器的版本，选择相应的压缩包进行下载就可，将下载好的压缩包解压放到你安装JDK的bin目录下就OK了；</p> 
 <hr> 
 <h4 id="%E2%9C%852.4%20%E9%AA%8C%E8%AF%81%E7%8E%AF%E5%A2%83%E6%98%AF%E5%90%A6%E6%90%AD%E5%BB%BA%E6%88%90%E5%8A%9F">✅2.4 验证环境是否搭建成功</h4> 
 <p>第一步：在IDEA里创建一个Maven工程项目，在 pro.xml 文件加入相应的依赖：</p> 
 <pre><code class="language-java">&lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;
    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;
    &lt;version&gt;3.141.59&lt;/version&gt;
&lt;/dependency&gt;
</code></pre> 
 <p>第二部，创建一个java文件，写入相应代码，执行查看结果：</p> 
 <pre><code class="language-java">public class Demo2 {
    public static void main(String[] args) {
        // 谷歌驱动
        ChromeOptions options = new ChromeOptions();
        // 允许所有请求
        options.addArguments("--remote-allow-origins=*");
        WebDriver webDriver = new ChromeDriver(options);
        // 启动需要打开的网页
        webDriver.get("https://www.baidu.com");
    }
}</code></pre> 
 <p><img alt="" height="842" src="https://images2.imgbox.com/a6/cf/JOLNVBsc_o.png" width="1200"></p> 
 <p></p> 
 <p>运行一下代码可以看到弹出一个百度的浏览器界面，这里就是一个简单的，通过自动化来打开一个百度的网页，到这里的话，你的自动化测试环境就搭建好了，如果上述安装环境遇到啥问题，可以私信我帮忙解决；</p> 
</blockquote> 
<hr> 
<h2 id="%E4%B8%89.%C2%A0Selenium%20%E5%B8%B8%E7%94%A8%20API">三. Selenium 常用 API</h2> 
<blockquote> 
 <h4 id="%E2%9C%853.1%20%E5%AE%9A%E4%BD%8D%E5%85%83%E7%B4%A0">✅3.1 定位元素</h4> 
 <p>对象的定位应该是自动化测试的核心，要想操作一个对象，首先应该识别这个对象；</p> 
 <p>Selenium提供了8种定位方式。</p> 
 <ul><li>id</li><li>name</li><li>class name</li><li>tag name</li><li>link text</li><li>partial link text</li><li>xpath</li><li>css selector</li></ul> 
 <p>这8种定位方式在Java selenium中所对应的方法为：</p> 
 <ul><li>findElement(By.id())</li><li>findElement(By.name())</li><li>findElement(By.className())</li><li>findElement(By.tagName())</li><li>findElement(By.linkText())</li><li>findElement(By.partialLinkText())</li><li>findElement(By.xpath())</li><li>findElement(By.cssSelector())</li></ul> 
 <hr> 
 <p>我们可以通过借助浏览器的开发者工具，去获取我们想要去定位元素的值，假设我们要对百度页面的输入框进行测试，我们可以点击点击输入框打开开发者工具，去获取我们要的值，这里代码给大家演示：</p> 
 <p><img alt="" height="1200" src="https://images2.imgbox.com/03/32/H5U79EvT_o.png" width="1200"></p> 
 <p> <img alt="" height="1046" src="https://images2.imgbox.com/b2/94/TSQXvo4O_o.png" width="1200"></p> 
 <p></p> 
 <pre><code class="language-java"> public static void main(String[] args) {
        // 谷歌驱动
        ChromeOptions options = new ChromeOptions();
        // 允许所有请求
        options.addArguments("--remote-allow-origins=*");
        WebDriver webDriver = new ChromeDriver(options);
        // 启动需要打开的网页
        webDriver.get("https://www.baidu.com");
        // 通过id来定位，在输入框输入你好
        webDriver.findElement(By.id("kw")).sendKeys("你好");
        // 通过name来定位
        webDriver.findElement(By.name("wd")).sendKeys("你好");
        // 通过Xpath来定位
        webDriver.findElement(By.xpath("//*[@id=\"kw\"]")).sendKeys("你好");
        // 通过css选择器来定位
        webDriver.findElement(By.cssSelector("#kw")).sendKeys("你好");
    }</code></pre> 
 <p><img alt="" height="777" src="https://images2.imgbox.com/3d/6b/63QABXD1_o.png" width="1200"> 这里我们就是通过定位到输入框的元素，然后在输入框内输入你好字段；</p> 
 <hr> 
 <h4 id="%E2%9C%853.2%20%E6%93%8D%E4%BD%9C%E5%AF%B9%E8%B1%A1">✅3.2 操作对象</h4> 
 <p>webdriver 中比较常用的操作对象的方法有下面几个：</p> 
 <ul><li>click 点击对象</li><li>send_keys 在对象上模拟按键输入</li><li>clear 清除对象输入的文本内容</li><li>submit 提交</li><li>text 用于获取元素的文本信息</li></ul> 
 <pre><code class="language-java"> private static void test2() throws InterruptedException {
        // 谷歌驱动
        ChromeOptions options = new ChromeOptions();
        // 允许所有请求
        options.addArguments("--remote-allow-origins=*");
        WebDriver webDriver = new ChromeDriver(options);
        // 启动需要打开的网页
        webDriver.get("https://www.baidu.com");
        // 利用类选择器定位元素，百度输入框
        WebElement element = webDriver.findElement(By.cssSelector("#kw"));

        // 利用Xpath路径去定位元素
        //WebElement element = webDriver.findElement(By.xpath("//*[@id=\"kw\"]"));
        element.sendKeys("你好");
        sleep(2000);

        // 输入内容进行点击
        webDriver.findElement(By.cssSelector("#su")).click();
        sleep(2000);
    }</code></pre> 
 <p><img alt="" height="767" src="https://images2.imgbox.com/1c/c2/oIBTPyNR_o.png" width="1200">这里就是通过代码在输入框里输入你好，然后点击百度一下的按钮，实现的一个自动化操作过程；</p> 
 <p><span style="background-color:#38d8f0;">这里需要注意的是click 和 submit 的区别：</span></p> 
 <ol><li><span style="background-color:#38d8f0;">如果点击的元素放在form标签中，此时使用submit实现的效果和click是一样的；</span></li><li><span style="background-color:#38d8f0;">如果点击的元素放在form标签外，此时使用submit就会摆错；</span></li></ol> 
 <hr> 
 <h4 id="%E2%9C%853.4%20%E6%B7%BB%E5%8A%A0%E7%AD%89%E5%BE%85">✅3.3 添加等待</h4> 
 <p>1）sleep休眠</p> 
 <p>添加休眠非常简单，我们需要引入time 包，就可以在脚本中自由的添加休眠时间了，这里的休眠指固定休眠；</p> 
 <p>2）隐式等待</p> 
 <p>通过添加driver.manage().timeouts().implicitlyWait(5, TimeUnit.SECONDS)的方法去添加隐式等待，通过隐式等待，WebDriver在试图查找_任何_元素时在一定时间内轮询DOM。当网页上的某些元素不是立即可用并且需要一些时间来加载时是很有用的，这块比较抽象，可以参考一下官方文档：</p> 
 <p><a class="has-card" href="https://www.selenium.dev/zh-cn/documentation/webdriver/waits/" rel="nofollow" title="等待 | Selenium"><span class="link-card-box"><span class="link-title">等待 | Selenium</span><span class="link-link"><img alt="" class="link-link-icon" src="https://images2.imgbox.com/9a/ae/2LMT5jA8_o.png">https://www.selenium.dev/zh-cn/documentation/webdriver/waits/</span></span></a></p> 
 <hr> 
 <h4 id="%E2%9C%853.5%20%E6%89%93%E5%8D%B0%E4%BF%A1%E6%81%AF">✅3.4 打印信息</h4> 
 <p>不管是在做功能测试还是自动化测试，最后一步需要拿实际结果与预期进行比较。这个比较的称之为断言。 我们通常可以通过获取title 、URL和text等信息进行断言。text方法在前面已经讲过，它用于获取标签对之间的文本信息。</p> 
 <ul><li>getTitle()： 用于获得当前页面的title。</li><li>getCurrentUrl() ： 用户获得当前页面的URL。</li><li>getText() 获取页面文本信息。</li></ul> 
 <p>这里我们打印url和title来展示一下：</p> 
 <pre><code class="language-java">private static void test3() {
        // 谷歌驱动
        ChromeOptions options = new ChromeOptions();
        // 允许所有请求
        options.addArguments("--remote-allow-origins=*");
        WebDriver webDriver = new ChromeDriver(options);
        // 启动需要打开的网页
        webDriver.get("https://www.baidu.com/");
        // 获取当前页面的url
        String url = webDriver.getCurrentUrl();
        // 获取当前页面的title
        String title = webDriver.getTitle();
        // 通过对比，来判断是否相同
        if(url.equals("https://www.baidu.com/") &amp;&amp; title.equals("百度一下，你就知道")){
            System.out.println("测试通过");
        }else {
            System.out.println("测试未通过");
        }
    }</code></pre> 
 <p><img alt="" height="416" src="https://images2.imgbox.com/0a/8e/vDQAt5NY_o.png" width="1200"></p> 
 <p>当然这里不止这两个方法，还有别的方法可以获取到别的属性，可以去官方文档自行查看；</p> 
 <hr> 
 <h4 id="%E2%9C%853.6%20%E6%B5%8F%E8%A7%88%E5%99%A8%E6%93%8D%E4%BD%9C">✅3.5 浏览器操作</h4> 
 <p>在使用浏览器浏览网页时，浏览器提供了后退和前进按钮，可以方便地在浏览过的网页之间切换，WebDriver也提供了对应的back()和forward()方法来模拟后退和前进按钮。下面通过例子来演示这两个方法的使用。</p> 
 <ul><li>back() 模拟浏览器后退按钮</li><li>forward() 模拟浏览器前进按钮</li><li>refresh() 刷新页面（F5）</li></ul> 
 <pre><code class="language-java">private static void test4() throws InterruptedException {
        //创建谷歌驱动
        ChromeOptions options = new ChromeOptions();
        // 允许所有请求
        options.addArguments("--remote-allow-origins=*");
        WebDriver webDriver = new ChromeDriver(options);
        // 打开百度首页
        webDriver.get("https://www.baidu.com/");
        // 搜索520
        webDriver.findElement(By.cssSelector("#kw")).sendKeys("你好");
        // 点击
        webDriver.findElement(By.cssSelector("#su")).click();
        // 浏览器后退
        sleep(2000);
        webDriver.navigate().back();
        // 浏览器刷新
        sleep(2000);
        webDriver.navigate().refresh();
        // 浏览器前进
        sleep(2000);
        webDriver.navigate().forward();
    }</code></pre> 
 <p><img alt="" height="1200" src="https://images2.imgbox.com/ab/5e/ym81prTb_o.gif" width="1200"></p> 
 <p></p> 
 <p>有时候我们希望能以某种浏览器尺寸找开，访问的页面在这种尺寸下运行。例如可以将浏览器设置成移动端大小(480* 800)，然后访问移动站点，对其样式进行评估；WebDriver 提供了 manage().window().setSize()方法来设置浏览器的大小。</p> 
 <ul><li>maximize() 设置浏览器最大化</li><li>setSize() 设置浏览器宽高</li></ul> 
 <pre><code class="language-java">private static void test5() throws InterruptedException {
        //创建谷歌驱动
        ChromeOptions options = new ChromeOptions();
        // 允许所有请求
        options.addArguments("--remote-allow-origins=*");
        WebDriver webDriver = new ChromeDriver(options);
        // 打开百度首页
        webDriver.get("https://www.baidu.com/");
        // 搜索520
        webDriver.findElement(By.cssSelector("#kw")).sendKeys("你好");
        sleep(2000);
        // 点击
        webDriver.findElement(By.cssSelector("#su")).click();
        sleep(2000);
        // 浏览器显示最大化
        webDriver.manage().window().maximize();
        sleep(2000);
        // 浏览器全屏
        webDriver.manage().window().fullscreen();
        sleep(2000);
        // 按照指定大小来显示
        webDriver.manage().window().setSize(new Dimension(600,800));
    }</code></pre> 
 <p><img alt="" height="1200" src="https://images2.imgbox.com/c1/ee/yaTsvJ9c_o.gif" width="1200"></p> 
 <hr> 
 <h4 id="%C2%A0%E2%9C%853.7%20%E9%94%AE%E7%9B%98%E6%93%8D%E4%BD%9C"> ✅3.6 键盘操作</h4> 
 <p>Keys()类提供了键盘上几乎所有按键的方法。 前面了解到， sendKeys()方法可以用来模拟键盘输入， 除此之 外， 我们还可以用它来输入键盘上的按键， 甚至是组合键， 如 Ctrl+A、 Ctrl+C 等；</p> 
 <p></p> 
 <p>以下为常用的键盘操作：</p> 
 <p>sendKeys(Keys.BACK_SPACE) 回格键（BackSpace）</p> 
 <p>sendKeys(Keys.SPACE) 空格键 (Space)</p> 
 <p>sendKeys(Keys.TAB) 制表键 (Tab)</p> 
 <p>sendKeys(Keys.ESCAPE) 回退键（Esc）</p> 
 <p>sendKeys(Keys.ENTER) 回车键（Enter）</p> 
 <p>sendKeys(Keys.CONTROL,‘a’) 全选（Ctrl+A）</p> 
 <p>sendKeys(Keys.CONTROL,‘c’) 复制（Ctrl+C）</p> 
 <p>sendKeys(Keys.CONTROL,‘x’) 剪切（Ctrl+X）</p> 
 <p>sendKeys(Keys.CONTROL,‘v’) 粘贴（Ctrl+V）</p> 
 <p></p> 
 <pre><code class="language-java">private static void test6() throws InterruptedException {
        //谷歌驱动
        ChromeOptions options = new ChromeOptions();
        // 允许所有请求
        options.addArguments("--remote-allow-origins=*");
        WebDriver webDriver = new ChromeDriver(options);
        webDriver.get("https://www.baidu.com");
        // 搜索520
        webDriver.findElement(By.cssSelector("#kw")).sendKeys("你好");
        // 测试Ctrl+A
        sleep(2000);
        webDriver.findElement(By.cssSelector("#kw")).sendKeys(Keys.CONTROL, "A");
        // 测试Ctrl+X
        sleep(2000);
        webDriver.findElement(By.cssSelector("#kw")).sendKeys(Keys.CONTROL, "X");
        // 测试Ctrl+V
        sleep(2000);
        webDriver.findElement(By.cssSelector("#kw")).sendKeys(Keys.CONTROL, "V");
        // 点击
        sleep(2000);
        webDriver.findElement(By.cssSelector("#su")).click();
    }</code></pre> 
 <p><img alt="" height="1200" src="https://images2.imgbox.com/4a/0b/6W9MgwxJ_o.gif" width="1200"></p> 
 <hr> 
 <h4 id="%E2%9C%853.8%20%E9%BC%A0%E6%A0%87%E6%93%8D%E4%BD%9C">✅3.7 鼠标操作</h4> 
 <p>通过前面例子了解到，可以使用click()来模拟鼠标的单击操作，现在的Web产品中提供了更丰富的鼠标交互方式， 例如鼠标右击、双击、悬停、甚至是鼠标拖动等功能。在WebDriver中，将这些关于鼠标操作的方法封装在ActionChains类提供。 Actions 类提供了鼠标操作的常用方法：</p> 
 <ul><li>contextClick() 右击</li><li>clickAndHold() 鼠标点击并控制</li><li>doubleClick() 双击</li><li>dragAndDrop() 拖动</li><li>release() 释放鼠标</li><li>perform() 执行所有Actions中存储的行为</li></ul> 
 <pre><code class="language-java">private static void test7() throws InterruptedException {
        //谷歌驱动
        ChromeOptions options = new ChromeOptions();
        // 允许所有请求
        options.addArguments("--remote-allow-origins=*");
        WebDriver webDriver = new ChromeDriver(options);
        webDriver.get("https://www.baidu.com/");
        // 搜索框输入520
        webDriver.findElement(By.cssSelector("#kw")).sendKeys("520");
        // 点击百度一下按钮
        webDriver.findElement(By.cssSelector("#su")).click();
        sleep(2000);
        //找到测试鼠标右键点击"网页"
        WebElement webElement = webDriver.findElement(By.cssSelector("#s_tab &gt; div &gt; b"));
        // 鼠标右击
        Actions actions = new Actions(webDriver);
        sleep(2000);
        actions.moveToElement(webElement).contextClick().perform();
    }</code></pre> 
 <p><img alt="" height="1200" src="https://images2.imgbox.com/5f/b4/vg2hGSbE_o.gif" width="1200"></p> 
 <hr> 
 <h4 id="%E2%9C%853.9%20%E5%AE%9A%E4%BD%8D%E4%B8%80%E7%BB%84%E5%85%83%E7%B4%A0">✅3.8 定位一组元素</h4> 
 <p>webdriver 可以很方便的使用findElement 方法来定位某个特定的对象，不过有时候我们却需要定位一组对象，这时候就需要使用findElements 方法；定位一组对象一般用于以下场景：</p> 
 <ul><li>批量操作对象，比如将页面上所有的checkbox 都勾上</li><li>先获取一组对象，再在这组对象中过滤出需要具体定位的一些对象。比如定位出页面上所有的checkbox，然后选择最后一个</li></ul> 
 <p>以下是个简单页面：</p> 
 <pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="zh-cn"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;fieldset&gt;
    &lt;legend&gt;单选按钮radio&lt;/legend&gt;
    &lt;form action=""&gt;
        &lt;label for=""&gt;&lt;input type="radio" name="fruit" value="pg" id="pg"&gt;苹果&lt;/label&gt;
        &lt;label for=""&gt;&lt;input type="radio" name="fruit" value="jz" id="jz"&gt;橘子&lt;/label&gt;
        &lt;label for=""&gt;&lt;input type="radio" name="fruit" value="xj" id="xj"&gt;香蕉&lt;/label&gt;
        &lt;label for=""&gt;&lt;input type="radio" name="fruit" value="li" id="li" checked=""&gt;梨&lt;/label&gt;
        &lt;label for=""&gt;&lt;input type="radio" name="fruit" value="xg" id="xg" disabled="" &gt;西瓜&lt;/label&gt;
    &lt;/form&gt;
&lt;/fieldset&gt;
&lt;br&gt;
&lt;fieldset&gt;
    &lt;legend&gt;多选按钮checkbox&lt;/legend&gt;
    &lt;form action=""&gt;
        &lt;input type="checkbox" name="checkbox" value="汽车" id="qc"&gt;汽车&lt;br&gt;
        &lt;input type="checkbox" name="checkbox" value="购物" id="gw"&gt;购物&lt;br&gt;
        &lt;input type="checkbox" name="checkbox" value="旅游" id="ly" readonly=""&gt;旅游 &lt;br&gt;
        &lt;input type="checkbox" name="checkbox" value="音乐" id="yy" disabled=""&gt;音乐 &lt;br&gt;
    &lt;/form&gt;
&lt;/fieldset&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre> 
 <pre><code class="language-java">private static void test8() {
        //谷歌驱动
        ChromeOptions options = new ChromeOptions();
        // 允许所有请求
        options.addArguments("--remote-allow-origins=*");
        WebDriver webDriver = new ChromeDriver(options);
        webDriver.get("http://127.0.0.1:8080/aaa/test.html");
        //定位input标签，并将其扔到List集合中
        List&lt;WebElement&gt; webElements =  webDriver.findElements(By.cssSelector("input"));
        // 如果元素的type值等于checkbox就进行点击
        for (int i = 0; i &lt; webElements.size(); i++) {
            // getAttribute是获取当前页面元素的属性值，type是当前元素的属性
            if(webElements.get(i).getAttribute("type").equals("checkbox")){
                webElements.get(i).click();
            }else {
                ;
            }
        }
    }</code></pre> 
 <p><img alt="" height="1200" src="https://images2.imgbox.com/74/22/91eNTA4E_o.gif" width="1200"></p> 
 <p>通过动态图可以发现，这样就实现了一个 多选的操作；</p> 
 <hr> 
 <h4 id="%E2%9C%853.10%20%E4%B8%8B%E6%8B%89%E6%A1%86%E5%A4%84%E7%90%86">✅3.9 下拉框处理</h4> 
 <p>下拉框是我们最常见的一种页面元素，对于一般的元素，我们只需要一次就定位，但下拉框里的内容需要进行两次定位，先定位到下拉框对下拉框进行操作后，再定位到下拉框内里的选项；</p> 
 <pre><code class="language-java"> private static void test9() {
        //谷歌驱动
        ChromeOptions options = new ChromeOptions();
        // 允许所有请求
        options.addArguments("--remote-allow-origins=*");
        WebDriver webDriver = new ChromeDriver(options);
        webDriver.get("http://127.0.0.1:8080/aaa/test2.html");
        WebElement webElement = webDriver.findElement(By.cssSelector("#ShippingMethod"));
        Select select = new Select(webElement);
        // 下标是从0开始计数的
        select.selectByIndex(2);
    }</code></pre> 
 <p><img alt="" height="462" src="https://images2.imgbox.com/89/4a/YkWUO7br_o.png" width="1200"></p> 
 <hr> 
 <h4 id="%E2%9C%853.10%C2%A0%E5%88%87%E6%8D%A2%E7%AA%97%E5%8F%A3%E5%8F%A5%E6%9F%84">✅3.10 切换窗口句柄</h4> 
 <p></p> 
 <p>在页面操作过程中有时候点击某个链接会弹出新的窗口， 这时就需要主机切换到新打开的窗口上进行操作。WebDriver提供了switchTo().window()方法可以实现在不同的窗口之间切换。 以百度首页和百度注册页为例，在两个窗口之间的切换。</p> 
 <pre><code class="language-java">private static void test10() {
        //谷歌驱动
        ChromeOptions options = new ChromeOptions();
        // 允许所有请求
        options.addArguments("--remote-allow-origins=*");
        WebDriver webDriver = new ChromeDriver(options);
        webDriver.get("https://www.baidu.com/");
        // 点击百度页面的新闻按钮
        webDriver.findElement(By.cssSelector("#s-top-left &gt; a:nth-child(1)")).click();

        // getWindowHandles获取所以得窗口句柄
        // getWindowHandles获取当前页面的窗口句柄
//        System.out.println(webDriver.getWindowHandle());
        Set&lt;String&gt; handles = webDriver.getWindowHandles();
        String target_handle ="";
        for (String handle:handles){
            target_handle = handle;
        }
        webDriver.switchTo().window(target_handle);
        webDriver.findElement(By.cssSelector("#ww")).sendKeys("你好");
        webDriver.findElement(By.cssSelector("#s_btn_wr")).click();
    }</code></pre> 
 <p>这是一个在第二个页面的输入框内搜索内容，如果不调用webDriver.getWindowHandle()方法的话，代码就会报错；</p> 
 <p></p> 
 <p><span style="background-color:#38d8f0;">自动化测试中经常有点击一个链接，打开新的窗口。人为操作的话，可以通过眼睛看，识别不同的窗口点击切换。但是是自动化脚本没长眼睛，它不知道你要操作哪个窗口，这时候只能句柄来判断了。</span></p> 
 <p><span style="background-color:#38d8f0;">浏览器窗口的属性用句柄（handle）来识别。窗口句柄是窗口的唯一标识，可看做窗口的身份证号。</span></p> 
 <hr> 
 <h4 id="%E2%9C%853.12%20%E6%88%AA%E5%9B%BE%E6%93%8D%E4%BD%9C">✅3.11 截图操作</h4> 
 <p>自动化用例是由程序去执行，因此有时候打印的错误信息并不十分明确。如果在脚本执行出错的时候能对当前窗口截图保存，那么通过图片就可以非常直观地看出出错的原因。 WebDriver提供了截图函数getScreenshotAs()来截取当前窗口；</p> 
 <pre><code class="language-java"> private static void test11() throws IOException, InterruptedException {
        //谷歌驱动
        ChromeOptions options = new ChromeOptions();
        // 允许所有请求
        options.addArguments("--remote-allow-origins=*");
        WebDriver webDriver = new ChromeDriver(options);
        webDriver.get("https://www.baidu.com/");
        webDriver.findElement(By.cssSelector("#kw")).sendKeys("软件测试");
        webDriver.findElement(By.cssSelector("#su")).click();
        sleep(2000);
        File file = ((TakesScreenshot)webDriver).getScreenshotAs(OutputType.FILE);
        // 放到指定路径下
        FileUtils.copyFile(file,new File("D://20230527jietu.png"));
    }</code></pre> 
 <hr> 
 <h4 id="%E2%9C%853.13%20%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C">✅3.12 上传文件操作</h4> 
 <p>对于通过input标签实现的上传功能，可以将其看作是一个输入框，即通过sendKeys()指定本地文件路径的方式实现文件上传；</p> 
 <pre><code class="language-java">private static void test12() {
        //谷歌驱动
        ChromeOptions options = new ChromeOptions();
        // 允许所有请求
        options.addArguments("--remote-allow-origins=*");
        WebDriver webDriver = new ChromeDriver(options);
        webDriver.get("http://127.0.0.1:8080/aaa/bbb.html");
        // sendKeys里是上传文件的路径
        webDriver.findElement(By.cssSelector("input")).sendKeys("D:\\Bin\\xnn_res");
    }</code></pre> 
 <hr> 
 <h4 id="%E2%9C%85%E9%9D%A2%E8%AF%95%E9%A2%98%EF%BC%9Aquit%20%E5%92%8C%20close%E7%9A%84%E5%8C%BA%E5%88%AB">✅面试题：quit 和 close的区别</h4> 
 <ul><li>quit 关闭了整个浏览器，close只是关闭了当前的页面；</li><li>quit会清空缓存，close则不会；</li></ul> 
 <p>觉得有帮助的小伙伴可以一键三连，蟹蟹~~</p> 
</blockquote>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/a634cafd45ead8746fb43ccc1268f11a/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Java 的简要介绍及开发环境的搭建（超级详细）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/1da951fb7dd5cd2f9dadaf778c322df7/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">在 Visual Studio 2022 中使用 GitHub Copilot chat</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>