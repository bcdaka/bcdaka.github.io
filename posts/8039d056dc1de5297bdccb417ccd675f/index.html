<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Java 5.3 - MyBatis - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/8039d056dc1de5297bdccb417ccd675f/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="Java 5.3 - MyBatis">
  <meta property="og:description" content="#{} 和 ${} 的区别是什么？ ${} 是 Properties 文件中的变量占位符，它可以用于标签属性值和 sql 内部，属于静态文本替换，比如 ${driver} 被静态替换为 com.mysql.jdbc.Driver
#{} 是 sql 的参数占位符
xml 映射文件中，除了常见的 select、insert、update、delete 标签之外，还有哪些标签？ Dao 接口工作的原理是什么？Dao 接口里的方法，参数不同时，方法能重载吗？ 最佳实践中，通常一个 xml 映射文件，就会写一个 Dao 接口与之对应。Dao 接口就是人们常说的 Mapper 接口，接口的全限名，就是映射文件中 namespace 的值；接口的方法名，就是映射文件中 MappedStatement 的 id 值；接口方法内的参数，就是传递给 sql 的参数。
* 全限名
Dao 接口里的方法可以重载，但是 Mybatis 的 xml 里面的 ID 不允许重复。
这里使用了动态 sql 进行实现方法重载。
补充：Dao 接口方法可以重载，但是需要满足以下条件
1、仅有一个无参方法和一个有参方法
2、多个有参方法时，参数数量必须一致。且使用相同的 @Param
Mybatis 是如何进行分页的？分页插件的原理是什么？ 简述 Mybatis 的插件运行原理，以及如何编写一个插件。 Mybatis 执行批量插入，能返回数据库主键列表吗？ 可以
JDBC 都可以，Mybatis 当然也可以。">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-08-28T16:37:12+08:00">
    <meta property="article:modified_time" content="2024-08-28T16:37:12+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Java 5.3 - MyBatis</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h3></h3> 
<p></p> 
<h3><span style="color:#242a31;">#{} </span><span style="color:#242a31;">和 </span><span style="color:#242a31;">${} </span><span style="color:#242a31;">的区别是什么？</span></h3> 
<p><span style="color:#242a31;">${} 是 Properties 文件中的变量占位符，它可以用于标签属性值和 sql 内部，属于静态文本替换，比如 ${driver} 被静态替换为 </span><span style="color:#3b454e;">com.mysql.jdbc.Driver</span></p> 
<p><span style="color:#3b454e;">#{} 是 sql 的参数占位符</span></p> 
<p><img alt="" height="114" src="https://images2.imgbox.com/4c/93/8IQULrsO_o.png" width="739"></p> 
<p></p> 
<p><img alt="" height="683" src="https://images2.imgbox.com/24/b3/ADQvh8gD_o.png" width="812"></p> 
<p></p> 
<h3>xml 映射文件中，除了常见的 select、insert、update、delete 标签之外，还有哪些标签？</h3> 
<p><img alt="" height="125" src="https://images2.imgbox.com/a3/f2/MVMc0qWz_o.png" width="787"></p> 
<p></p> 
<h3>Dao 接口工作的原理是什么？Dao 接口里的方法，参数不同时，方法能重载吗？</h3> 
<p><img alt="" height="241" src="https://images2.imgbox.com/68/5c/BMiuY3Ql_o.png" width="783"></p> 
<p>最佳实践中，通常一个 xml 映射文件，就会写一个 Dao 接口与之对应。Dao 接口就是人们常说的 Mapper 接口，接口的全限名，就是映射文件中 namespace 的值；接口的方法名，就是映射文件中 MappedStatement 的 id 值；接口方法内的参数，就是传递给 sql 的参数。</p> 
<p></p> 
<p>* 全限名</p> 
<p><img alt="" height="267" src="https://images2.imgbox.com/ca/fd/XBsgIyIZ_o.png" width="812"></p> 
<p></p> 
<p>Dao 接口里的方法可以重载，但是 Mybatis 的 xml 里面的 ID 不允许重复。</p> 
<p><img alt="" height="791" src="https://images2.imgbox.com/52/ee/UD6g6xFL_o.png" width="807"></p> 
<p>这里使用了动态 sql 进行实现方法重载。</p> 
<p>补充：Dao 接口方法可以重载，但是需要满足以下条件</p> 
<p>1、仅有一个无参方法和一个有参方法</p> 
<p>2、多个有参方法时，参数数量必须一致。且使用相同的 @Param</p> 
<p></p> 
<h3>Mybatis 是如何进行分页的？分页插件的原理是什么？</h3> 
<p><img alt="" height="239" src="https://images2.imgbox.com/1e/04/hjpvCqWX_o.png" width="790"></p> 
<p></p> 
<h3>简述 Mybatis 的插件运行原理，以及如何编写一个插件。</h3> 
<p><img alt="" height="209" src="https://images2.imgbox.com/2b/f1/9jsHTm5P_o.png" width="779"></p> 
<p></p> 
<h3>Mybatis 执行批量插入，能返回数据库主键列表吗？</h3> 
<p>可以</p> 
<p>JDBC 都可以，Mybatis 当然也可以。</p> 
<p></p> 
<h3>Mybatis 动态 sql 是做什么的？都有哪些动态 sql？能简述一下动态 sql 的执行原理吗？</h3> 
<p>Mybatis 动态 sql 可以让我们在 xml 映射文件中，以标签的形式编写动态 sql，完成逻辑判断和动态拼接 sql 的功能。</p> 
<p>执行原理：使用 OGNL 从 sql 参数对象中计算表达式的值，根据表达式的值动态拼接 sql，以此来完成动态 sql 的功能。</p> 
<p><img alt="" height="218" src="https://images2.imgbox.com/61/23/wHsecGwd_o.png" width="347"></p> 
<p></p> 
<h3>Mybatis 是如何将 sql 执行结果封装为目标对象并返回的？都有哪些映射形式？</h3> 
<p>1、使用 resultMap 标签，逐一定义列明和对象属性名之间的映射关系。</p> 
<p>2、使用 sql 列的别名功能，将列别名书写为对象属性名<span style="color:#3b454e;">⽐如 T_NAME AS NAME</span><span style="color:#3b454e;">，对象属性名⼀般是 name，⼩写，但是列名不区分⼤⼩写，</span><span style="color:#3b454e;">MyBatis </span><span style="color:#3b454e;">会忽略列名⼤⼩写，智能找到与之对应对象属性 名，你甚⾄可以写成 T_NAME AS NaMe</span><span style="color:#3b454e;">，</span><span style="color:#3b454e;">MyBatis </span><span style="color:#3b454e;">⼀样可以正常⼯作。</span></p> 
<p><span style="color:#3b454e;">有了列明和属性名之间的映射，Mybatis 通过反射创建对象，同时使用反射给对象的属性逐一赋值并返回，找不到映射关系的属性是无法完成赋值的。</span></p> 
<p></p> 
<h3><span style="color:#3b454e;">Mybatis 能执行一对一、一对多的关联查询吗？都有哪些实现方式，以及它们之间的区别。</span></h3> 
<p><span style="color:#3b454e;">Mybatis 可以执行一对一、一对多、多对多、多对一的关联查询。</span></p> 
<p><span style="color:#3b454e;">* 关联查询：</span>是指在关系型数据库中，通过将多个表的数据关联起来，来获取所需的信息。</p> 
<p><img alt="" height="310" src="https://images2.imgbox.com/17/de/gRowouCw_o.png" width="811"></p> 
<p>一对一</p> 
<pre><code class="language-XML">&lt;resultMap id="userResultMap" type="User"&gt;
    &lt;id property="id" column="user_id"/&gt;
    &lt;result property="name" column="user_name"/&gt;
    &lt;association property="address" column="address_id" select="com.example.mapper.AddressMapper.selectAddressById"/&gt;
&lt;/resultMap&gt;
</code></pre> 
<p>一对多 </p> 
<pre><code class="language-XML">&lt;resultMap id="userResultMap" type="User"&gt;
    &lt;id property="id" column="user_id"/&gt;
    &lt;result property="name" column="user_name"/&gt;
    &lt;collection property="orders" ofType="Order" column="user_id" select="com.example.mapper.OrderMapper.selectOrdersByUserId"/&gt;
&lt;/resultMap&gt;
</code></pre> 
<h3></h3> 
<h3>Mybatis 是否支持延迟加载？如果支持，它的实现原理是什么？</h3> 
<p><img alt="" height="92" src="https://images2.imgbox.com/67/3d/krU8lpE6_o.png" width="788"></p> 
<p></p> 
<h3>Mybatis 的 xml 映射文件中，不同的 xml 映射文件，id是否可以重复？</h3> 
<p><img alt="" height="182" src="https://images2.imgbox.com/e4/51/jC34Z2ed_o.png" width="780"></p> 
<p></p> 
<h3>Mybatis 中如何执行批处理？</h3> 
<p>使用 BatchExecutor 完成批处理</p> 
<p></p> 
<h3>Mybatis 都有哪些 Executor 执行器？它们之间的区别是什么？</h3> 
<p>有三种基本的 Executor 执行器：</p> 
<p><img alt="" height="232" src="https://images2.imgbox.com/ee/90/FFDVyJN8_o.png" width="773"></p> 
<p><img alt="" height="32" src="https://images2.imgbox.com/c7/03/J6y06o43_o.png" width="162"></p> 
<p>作用范围：Executor 的这些特点，都严格限制在 SqlSession 生命周期范围内。</p> 
<p></p> 
<h3>Mybatis 如何指定使用哪一种 Executor 执行器？</h3> 
<p><img alt="" height="62" src="https://images2.imgbox.com/c8/61/sRqjbrOz_o.png" width="700"></p> 
<p></p> 
<h3>Mybatis 是否可以映射 Enum 枚举类？</h3> 
<p><img alt="" height="208" src="https://images2.imgbox.com/a3/a0/tq6HdrOs_o.png" width="798"></p> 
<p></p> 
<h3>Mybatis<span style="color:#242a31;">映射⽂件中，如果</span><span style="color:#242a31;"> A </span><span style="color:#242a31;">标签通过</span><span style="color:#242a31;"> include </span><span style="color:#242a31;">引⽤了</span><span style="color:#242a31;"> B </span><span style="color:#242a31;">标签的内</span><span style="color:#242a31;">容，请问，</span><span style="color:#242a31;">B </span><span style="color:#242a31;">标签能否定义在</span><span style="color:#242a31;"> A </span><span style="color:#242a31;">标签的后⾯，还是说必须定义在</span><span style="color:#242a31;"> A 标签的前⾯？</span></h3> 
<p><img alt="" height="211" src="https://images2.imgbox.com/de/4d/MYrA26Gq_o.png" width="791"></p> 
<p></p> 
<h3>简述 Mybatis 的 xml 映射文件和 Mybatis 内部数据结构之间的映射关系？</h3> 
<p><img alt="" height="155" src="https://images2.imgbox.com/74/27/ryUSaZc3_o.png" width="791"></p> 
<p></p> 
<h3>为什么说 Mybatis 是半自动 ORM 映射工具？它与全自动的区别在哪里？</h3> 
<p><img alt="" height="108" src="https://images2.imgbox.com/31/22/3bQNwoxJ_o.png" width="798"></p> 
<p></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/0279ada5112d04c5db592a024f7f154c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">微服务集成 Seata</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6889d70cdf8497309a113d49b3260635/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Spark-RDD迭代器管道计算</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>