<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【MybatisPlus】对数据库中datetime类型字段的处理（获取与格式处理） - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/20a9fc19d59d237583694749c2925bd8/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="【MybatisPlus】对数据库中datetime类型字段的处理（获取与格式处理）">
  <meta property="og:description" content="数据库中Datetime类型字段可以对应Java实体类中的Date数据类型或LocalDateTime数据类型。但这两种数据类型直接却有着很大的区别，被用在不同的应用场景中。（一般推荐使用LocalDateTime，有更多的灵活性和功能）
private Date createTime; private Date updateTime; // 或者 private LocalDateTime createTime; private LocalDateTime updateTime; 一、Data数据类型与LocalDateTime数据类型的区别
Date数据类型属于java.util包，是Java的一个日期和时间类，它代表特定时刻的时间戳，存储的是自1970年1月1日以来的毫秒数，但不包含时区信息，对时区不敏感。且Date数据类型是可变的，可以通过setTime(long time)来设置时间戳。
LocalDateTime数据类型属于java.time包，是Java 8引入的新日期和时间API的一部分，它代表了一个日期和时间，但没有时区信息，若要处理时区信息可以使用ZonedDateTime类。而LocalDateTime数据类型不可变，一旦创建LocalDateTime对象，它的值将不会改变。若想要修改值，只能创建一个新的LocalDateTime对象。
LocalDateTime的基本使用可以看下面这篇文章：
【Java LocalDateTime】LocalDateTime获取时间信息、格式化、转换为数字时间戳https://blog.csdn.net/zxy2361380031/article/details/134344872
二、对时间类型数据输出信息的格式化
这里需要引入jackson依赖来format时间的数据类型：
&lt;!-- jackson --&gt; &lt;dependency&gt; &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt; &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt; &lt;version&gt;2.15.3&lt;/version&gt; &lt;/dependency&gt; 方法一： （全局配置）
在springBoot的配置文件中添加以下代码可以实现全局配置：
# application.properties的配置如下: spring.jackson.date-format=yyyy-MM-dd HH:mm:ss # 时间格式 spring.jackson.time-zone=GMT&#43;8 # 时区 # application.yaml的配置如下: spring: jackson: date-format: yyyy-MM-dd HH:mm:ss # 时间格式 time-zone: GMT&#43;8 # 时区 方法二： （对字段分别设置）
通过对字段添加@JsonFormat注解来设置该字段的时间格式，比较繁琐，但更加灵活。
@JsonFormat(pattern = &#34;yyyy-MM-dd HH:mm:ss&#34;,timezone=&#34;GMT&#43;8&#34;) private LocalDateTime startTime; @JsonFormat(pattern = &#34;">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2023-11-11T10:34:17+08:00">
    <meta property="article:modified_time" content="2023-11-11T10:34:17+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【MybatisPlus】对数据库中datetime类型字段的处理（获取与格式处理）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>        数据库中<strong>Datetime</strong>类型字段可以对应Java实体类中的<strong>Date</strong>数据类型或<strong>LocalDateTime</strong>数据类型。但这两种数据类型直接却有着很大的区别，被用在不同的应用场景中。（一般推荐使用LocalDateTime，有更多的灵活性和功能）</p> 
<p class="img-center"><img alt="" height="66" src="https://images2.imgbox.com/3f/67/uE9flWKw_o.png" width="604"></p> 
<pre><code class="language-java">private Date createTime;
private Date updateTime;
// 或者
private LocalDateTime createTime;
private LocalDateTime updateTime;</code></pre> 
<blockquote> 
 <p>一、Data数据类型与LocalDateTime数据类型的区别</p> 
</blockquote> 
<p><strong>        Date</strong>数据类型属于java.util包，是Java的一个日期和时间类，它代表特定时刻的时间戳，存储的是自1970年1月1日以来的毫秒数，但不包含时区信息，对时区不敏感。且Date数据类型是可变的，可以通过setTime(long time)来设置时间戳。</p> 
<p>        <strong>LocalDateTime</strong>数据类型属于java.time包，是Java 8引入的新日期和时间API的一部分，它代表了一个日期和时间，但没有时区信息，若要处理时区信息可以使用ZonedDateTime类。而LocalDateTime数据类型不可变，一旦创建LocalDateTime对象，它的值将不会改变。若想要修改值，只能创建一个新的LocalDateTime对象。</p> 
<p>        LocalDateTime的基本使用可以看下面这篇文章：</p> 
<p><a class="link-info has-card" href="https://blog.csdn.net/zxy2361380031/article/details/134344872" title="【Java LocalDateTime】LocalDateTime获取时间信息、格式化、转换为数字时间戳"><span class="link-card-box"><span class="link-title">【Java LocalDateTime】LocalDateTime获取时间信息、格式化、转换为数字时间戳</span><span class="link-link"><img class="link-link-icon" src="https://images2.imgbox.com/34/5d/RZBz8XTk_o.png" alt="icon-default.png?t=N7T8">https://blog.csdn.net/zxy2361380031/article/details/134344872</span></span></a></p> 
<blockquote> 
 <p>二、对时间类型数据输出信息的格式化</p> 
</blockquote> 
<p> 这里需要引入jackson依赖来format时间的数据类型：</p> 
<pre><code class="language-XML">&lt;!-- jackson --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;
    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;
    &lt;version&gt;2.15.3&lt;/version&gt;
&lt;/dependency&gt;</code></pre> 
<p>         <strong>方法一：  （全局配置）</strong></p> 
<p>        在springBoot的配置文件中添加以下代码可以实现全局配置：</p> 
<pre><code class="language-bash"># application.properties的配置如下:

spring.jackson.date-format=yyyy-MM-dd HH:mm:ss # 时间格式
spring.jackson.time-zone=GMT+8                 # 时区</code></pre> 
<pre><code class="language-bash"># application.yaml的配置如下:

spring:
  jackson:
    date-format: yyyy-MM-dd HH:mm:ss # 时间格式
    time-zone: GMT+8                 # 时区</code></pre> 
<p><strong>        方法二：  （对字段分别设置）</strong></p> 
<p><strong>       </strong> 通过对字段添加@JsonFormat注解来设置该字段的时间格式，比较繁琐，但更加灵活。</p> 
<pre><code class="language-java">@JsonFormat(pattern = "yyyy-MM-dd HH:mm:ss",timezone="GMT+8")
private LocalDateTime startTime;

@JsonFormat(pattern = "yyyy-MM-dd HH:mm:ss",timezone="GMT+8")
private LocalDateTime endTime;</code></pre> 
<blockquote> 
 <p>三、格式</p> 
</blockquote> 
<table align="center" border="1" cellpadding="1" cellspacing="1" style="width:500px;"><tbody><tr><td style="text-align:center;"><strong>yyyy</strong></td><td style="text-align:center;"><strong>年</strong></td></tr><tr><td style="text-align:center;"><strong>MM</strong></td><td style="text-align:center;"><strong>月</strong></td></tr><tr><td style="text-align:center;"><strong>dd</strong></td><td style="text-align:center;"><strong>日</strong></td></tr><tr><td style="text-align:center;"><strong>HH</strong></td><td style="text-align:center;"><strong>时</strong></td></tr><tr><td style="text-align:center;"><strong>mm</strong></td><td style="text-align:center;"><strong>分</strong></td></tr><tr><td style="text-align:center;"><strong>ss</strong></td><td style="text-align:center;"><strong>秒</strong></td></tr></tbody></table> 
<p></p> 
<p></p> 
<p></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d587c917f57656bd49d4b6e8433ee30c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">前端 a链接 如何实现下载功能</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/5b86e48e55a061cf86685107a918d871/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">C/C&#43;&#43;数据结构之链表题目答案与解析</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>