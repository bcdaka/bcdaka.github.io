<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>uniapp前端支付篇（微信、抖音、快手、h5）四个平台支付 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/4c674928fc8c64e41ffeecae91b27996/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="uniapp前端支付篇（微信、抖音、快手、h5）四个平台支付">
  <meta property="og:description" content="前言 微信、快手、h5支付步骤大致相同，只有抖音是有自己的支付组件
项目同时支持多个（微信、快手、h5）平台支付，后端那边代码可以封装的
各平台支付大致流程都是相同的，总结了一下分为五个步骤 点击支付创建订单生成密钥和支付所需要的参数支付成功查询订单状态 一、微信支付 1.支付按钮 &lt;button @click=&#34;payTap&#34;&gt;立即抢购&lt;/button&gt; 2.支付事件 payTap() { let that = this // 这些参数后端一般要的 let data = { openid: this.openId, //用户id 必需 courseId: this.detailsObj.id, //课程id（商品id）必需 promoterId: this.promoterShareId ? this.promoterShareId : &#39;&#39;, // 分销员id couponId: this.detailsObj.receiveCouponId ? this.detailsObj.receiveCouponId : &#39;&#39;, // 优惠卷id } // 如果一个项目里有多个平台支付，可以用传值来区分 // #ifdef MP-WEIXIN data.platform = 1 // #endif // #ifdef MP-KUAISHOU data.platform = 2 // #endif //创建订单 createWendaoOrder(data).then(res =&gt; { // 返回密钥 createOrder({ orderId: res.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2023-12-02T17:37:05+08:00">
    <meta property="article:modified_time" content="2023-12-02T17:37:05+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">uniapp前端支付篇（微信、抖音、快手、h5）四个平台支付</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="_1"></a>前言</h3> 
<blockquote> 
 <p>微信、快手、h5支付步骤大致相同，只有抖音是有自己的支付组件<br> 项目同时支持多个（微信、快手、h5）平台支付，后端那边代码可以封装的</p> 
</blockquote> 
<h3><a id="_5"></a>各平台支付大致流程都是相同的，总结了一下分为五个步骤</h3> 
<ol><li>点击支付</li><li>创建订单</li><li>生成密钥和支付所需要的参数</li><li>支付成功</li><li>查询订单状态</li></ol> 
<h3><a id="_13"></a>一、微信支付</h3> 
<h4><a id="1_16"></a>1.支付按钮</h4> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>payTap<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>立即抢购<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<h4><a id="2_21"></a>2.支付事件</h4> 
<pre><code class="prism language-javascript"><span class="token function">payTap</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">let</span> that <span class="token operator">=</span> <span class="token keyword">this</span>
	<span class="token comment">// 这些参数后端一般要的</span>
	<span class="token keyword">let</span> data <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
		<span class="token literal-property property">openid</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>openId<span class="token punctuation">,</span> <span class="token comment">//用户id 必需</span>
		<span class="token literal-property property">courseId</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>detailsObj<span class="token punctuation">.</span>id<span class="token punctuation">,</span> <span class="token comment">//课程id（商品id）必需</span>
		<span class="token literal-property property">promoterId</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>promoterShareId <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>promoterShareId <span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 分销员id</span>
		<span class="token literal-property property">couponId</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>detailsObj<span class="token punctuation">.</span>receiveCouponId <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>detailsObj<span class="token punctuation">.</span>receiveCouponId <span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 优惠卷id</span>
	<span class="token punctuation">}</span>
	<span class="token comment">// 如果一个项目里有多个平台支付，可以用传值来区分</span>
	<span class="token comment">// #ifdef MP-WEIXIN</span>
	data<span class="token punctuation">.</span>platform <span class="token operator">=</span> <span class="token number">1</span>
	<span class="token comment">// #endif</span>
	<span class="token comment">// #ifdef MP-KUAISHOU</span>
	data<span class="token punctuation">.</span>platform <span class="token operator">=</span> <span class="token number">2</span>
	<span class="token comment">// #endif</span>
	<span class="token comment">//创建订单</span>
	<span class="token function">createWendaoOrder</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
		<span class="token comment">// 返回密钥</span>
		<span class="token function">createOrder</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
			<span class="token literal-property property">orderId</span><span class="token operator">:</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>orderId<span class="token punctuation">,</span> <span class="token comment">// 订单id</span>
			<span class="token literal-property property">openid</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>openId<span class="token punctuation">,</span> <span class="token comment">// 用户id</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res1</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
			<span class="token comment">// #ifdef MP-WEIXIN</span>
			<span class="token keyword">let</span> twoData <span class="token operator">=</span> res1<span class="token punctuation">.</span>data
			<span class="token comment">// 微信支付api</span>
			<span class="token comment">// 参数向后端要 要确保每个值就有</span>
			uni<span class="token punctuation">.</span><span class="token function">requestPayment</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
				<span class="token literal-property property">appId</span><span class="token operator">:</span> twoData<span class="token punctuation">.</span>appId<span class="token punctuation">,</span>
				<span class="token literal-property property">timeStamp</span><span class="token operator">:</span> twoData<span class="token punctuation">.</span>timeStamp<span class="token punctuation">,</span>
				<span class="token literal-property property">nonceStr</span><span class="token operator">:</span> twoData<span class="token punctuation">.</span>nonceStr<span class="token punctuation">,</span>
				<span class="token keyword">package</span><span class="token operator">:</span> twoData<span class="token punctuation">.</span>packageValue<span class="token punctuation">,</span>
				<span class="token literal-property property">signType</span><span class="token operator">:</span> twoData<span class="token punctuation">.</span>signType<span class="token punctuation">,</span>
				<span class="token literal-property property">paySign</span><span class="token operator">:</span> twoData<span class="token punctuation">.</span>paySign<span class="token punctuation">,</span>
				<span class="token function">success</span><span class="token punctuation">(</span><span class="token parameter">result</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
					<span class="token comment">// 调起支付密码</span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token punctuation">.</span>errMsg <span class="token operator">==</span> <span class="token string">"requestPayment:ok"</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
						<span class="token comment">// 支付成功</span>
						 uni<span class="token punctuation">.</span><span class="token function">showLoading</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
						 	<span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'获取订单状态..'</span><span class="token punctuation">,</span>
						 	<span class="token literal-property property">mask</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
						 <span class="token punctuation">}</span><span class="token punctuation">)</span>
						<span class="token function">orderSuccess</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
							<span class="token literal-property property">openid</span><span class="token operator">:</span> that<span class="token punctuation">.</span>openId<span class="token punctuation">,</span> <span class="token comment">// 用户id</span>
							<span class="token literal-property property">orderId</span><span class="token operator">:</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>orderId <span class="token comment">// 订单id</span>
						<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
							uni<span class="token punctuation">.</span><span class="token function">hideLoading</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
							uni<span class="token punctuation">.</span><span class="token function">showToast</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
								<span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'支付成功'</span><span class="token punctuation">,</span>
								<span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">'none'</span>
							<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
							<span class="token comment">// 重新请求下商品详情</span>
							that<span class="token punctuation">.</span><span class="token function">detailFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
						<span class="token punctuation">}</span><span class="token punctuation">)</span>
					<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
						uni<span class="token punctuation">.</span><span class="token function">showModal</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
							<span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
							<span class="token literal-property property">content</span><span class="token operator">:</span> <span class="token string">'支付失败'</span><span class="token punctuation">,</span>
							<span class="token literal-property property">showCancel</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
							<span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">'none'</span><span class="token punctuation">,</span>
							<span class="token function">success</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
						<span class="token punctuation">}</span><span class="token punctuation">)</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span><span class="token punctuation">,</span>
				<span class="token function">fail</span><span class="token punctuation">(</span><span class="token parameter">result</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
					console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
					uni<span class="token punctuation">.</span><span class="token function">showModal</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
						<span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
						<span class="token literal-property property">content</span><span class="token operator">:</span> <span class="token string">'支付失败'</span><span class="token punctuation">,</span>
						<span class="token literal-property property">showCancel</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
						<span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">'none'</span><span class="token punctuation">,</span>
						<span class="token function">success</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
					<span class="token punctuation">}</span><span class="token punctuation">)</span>
				<span class="token punctuation">}</span><span class="token punctuation">,</span>
			<span class="token punctuation">}</span><span class="token punctuation">)</span>
			<span class="token comment">// #endif</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="_107"></a>二、快手支付</h3> 
<h4><a id="1_110"></a>1.支付按钮</h4> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>payTap<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>立即抢购<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<h4><a id="2_115"></a>2.支付事件</h4> 
<pre><code class="prism language-javascript"><span class="token function">payTap</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">let</span> that <span class="token operator">=</span> <span class="token keyword">this</span>
	<span class="token comment">// 这些参数后端一般要的</span>
	<span class="token keyword">let</span> data <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
		<span class="token literal-property property">openid</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>openId<span class="token punctuation">,</span> <span class="token comment">//用户id 必需</span>
		<span class="token literal-property property">courseId</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>detailsObj<span class="token punctuation">.</span>id<span class="token punctuation">,</span> <span class="token comment">//课程id（商品id）必需</span>
		<span class="token literal-property property">promoterId</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>promoterShareId <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>promoterShareId <span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 分销员id</span>
		<span class="token literal-property property">couponId</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>detailsObj<span class="token punctuation">.</span>receiveCouponId <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>detailsObj<span class="token punctuation">.</span>receiveCouponId <span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 优惠卷id</span>
	<span class="token punctuation">}</span>
	<span class="token comment">// 如果一个项目里有多个平台支付，可以用传值来区分</span>
	<span class="token comment">// #ifdef MP-WEIXIN</span>
	data<span class="token punctuation">.</span>platform <span class="token operator">=</span> <span class="token number">1</span>
	<span class="token comment">// #endif</span>
	<span class="token comment">// #ifdef MP-KUAISHOU</span>
	data<span class="token punctuation">.</span>platform <span class="token operator">=</span> <span class="token number">2</span>
	<span class="token comment">// #endif</span>
	<span class="token comment">//创建订单</span>
	<span class="token function">createWendaoOrder</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
		<span class="token comment">// 返回密钥</span>
		<span class="token function">createOrder</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
			<span class="token literal-property property">orderId</span><span class="token operator">:</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>orderId<span class="token punctuation">,</span> <span class="token comment">// 订单id</span>
			<span class="token literal-property property">openid</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>openId<span class="token punctuation">,</span> <span class="token comment">// 用户id</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res1</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
			<span class="token comment">// 后端返回的是这些数据</span>
			<span class="token comment">// res1.data = {<!-- --></span>
				<span class="token comment">// order_no: "1231xxxxxxxxxxxxxxx450" </span>
				<span class="token comment">// order_info_token: "ChJrc01wUGF5LmxxxxxxxxxxxxxxxWYYeulijTrRyDdowh6Lvtp2MIm-t5nlq4s3xxxxxxxxxxxxxxxxxxxuh217_-giIIHDQ8yTqZqghjVraGC_NjxxxxxxxxxxxxxxKAUwAQ"</span>
			<span class="token comment">// {<!-- --></span>
			<span class="token comment">// 快手支付api</span>
			<span class="token comment">// #ifdef MP-KUAISHOU</span>
			ks<span class="token punctuation">.</span><span class="token function">pay</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
				<span class="token literal-property property">serviceId</span><span class="token operator">:</span> <span class="token string">'1'</span><span class="token punctuation">,</span>
				<span class="token literal-property property">orderInfo</span><span class="token operator">:</span> res1<span class="token punctuation">.</span>data<span class="token punctuation">,</span>
				<span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token function">success</span><span class="token punctuation">(</span><span class="token parameter">res2</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
					<span class="token comment">// 调起支付密码</span>
					<span class="token comment">// 支付成功</span>
					 uni<span class="token punctuation">.</span><span class="token function">showLoading</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
					 	<span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'获取订单状态..'</span><span class="token punctuation">,</span>
					 	<span class="token literal-property property">mask</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
					 <span class="token punctuation">}</span><span class="token punctuation">)</span>
					<span class="token function">orderSuccess</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
						<span class="token literal-property property">openid</span><span class="token operator">:</span> that<span class="token punctuation">.</span>openId<span class="token punctuation">,</span> <span class="token comment">// 用户id</span>
						<span class="token literal-property property">orderId</span><span class="token operator">:</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>orderId <span class="token comment">// 订单id</span>
					<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
						uni<span class="token punctuation">.</span><span class="token function">hideLoading</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
						uni<span class="token punctuation">.</span><span class="token function">showToast</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
							<span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'支付成功'</span><span class="token punctuation">,</span>
							<span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">'none'</span>
						<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
						<span class="token comment">// 重新请求下商品详情</span>
						that<span class="token punctuation">.</span><span class="token function">detailFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
					<span class="token punctuation">}</span><span class="token punctuation">)</span>
				<span class="token punctuation">}</span><span class="token punctuation">,</span>
				<span class="token function-variable function">fail</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token function">fail</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
					uni<span class="token punctuation">.</span><span class="token function">showToast</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
						<span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'支付失败'</span><span class="token punctuation">,</span>
						<span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">'none'</span>
					<span class="token punctuation">}</span><span class="token punctuation">)</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span><span class="token punctuation">)</span>
			<span class="token comment">// #endif</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="_185"></a>三、抖音支付</h3> 
<blockquote> 
 <p>抖音有自己的支付组件和自己的下单页面,所以需要创建一个专属于抖音的组件，并把需要的参数进行传递</p> 
</blockquote> 
<h4><a id="1_188"></a>1.创建组件</h4> 
<blockquote> 
 <p>1.新建ttcomponents文件夹，创建完后在ttcomponents下面再新建DyPayButton文件夹，然后在DyPayButton下面创建四个文件，分别为index.js、index.json、index.ttml、index.ttss<br> 2.要创建在App.vue同级</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/00/e0/xwhM5c3p_o.png" alt="在这里插入图片描述"></p> 
<p>先在App.vue 写baseUrl和getPhoneNumber函数</p> 
<pre><code class="prism language-javascript"><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
	
	<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
		<span class="token function-variable function">onLaunch</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token function-variable function">onShow</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'App Show'</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token function-variable function">onHide</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'App Hide'</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
			<span class="token comment">// 这个是接口基地址</span>
			<span class="token function">baseUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
				<span class="token keyword">return</span> <span class="token string">'https://kspaycallback.wendao101.com/douyin'</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
			<span class="token comment">/**
			 * desc: 获取手机号
			 * params：加密数据
			 * success：成功回调
			 * fail： 失败回调
			 */</span>
			 <span class="token comment">// 这个是抖音下单页获取手机号调用的函数</span>
			<span class="token function">getPhoneNumber</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{<!-- --></span>
				params<span class="token punctuation">,</span>
				success<span class="token punctuation">,</span>
				fail
			<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
				<span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span>
					iv<span class="token punctuation">,</span>
					encryptedData
				<span class="token punctuation">}</span> <span class="token operator">=</span> params<span class="token punctuation">;</span>
				<span class="token function">miniLogin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
					<span class="token function">getTtOpen</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">data1</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
						<span class="token comment">// 获取手机号函数</span>
						<span class="token function">savePhone</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
							<span class="token literal-property property">openid</span><span class="token operator">:</span> data1<span class="token punctuation">.</span>data<span class="token punctuation">.</span>data<span class="token punctuation">.</span>openId<span class="token punctuation">,</span>
							iv<span class="token punctuation">,</span>
							encryptedData
						<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">data4</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
							<span class="token function">miniLogin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">data6</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
								<span class="token function">getTtOpen</span><span class="token punctuation">(</span>data6<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">data5</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
									<span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
										<span class="token literal-property property">phoneNumber</span><span class="token operator">:</span> data5<span class="token punctuation">.</span>data<span class="token punctuation">.</span>data<span class="token punctuation">.</span>telNumber<span class="token punctuation">,</span>
									<span class="token punctuation">}</span>
									<span class="token comment">// 回调前端模板</span>
									<span class="token function">success</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
								<span class="token punctuation">}</span><span class="token punctuation">)</span>
							<span class="token punctuation">}</span><span class="token punctuation">)</span>
						<span class="token punctuation">}</span><span class="token punctuation">)</span>
					<span class="token punctuation">}</span><span class="token punctuation">)</span>
				<span class="token punctuation">}</span><span class="token punctuation">)</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>

		<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>style lang<span class="token operator">=</span><span class="token string">"scss"</span><span class="token operator">&gt;</span>
	@<span class="token keyword">import</span> <span class="token string">"@/uni_modules/uview-ui/index.scss"</span><span class="token punctuation">;</span>

	@<span class="token keyword">import</span> <span class="token string">'@/utlis/index.scss'</span><span class="token punctuation">;</span>

	<span class="token comment">/*每个页面公共css */</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
</code></pre> 
<p>下面是那四个文件的内容<br> index.js</p> 
<pre><code class="prism language-javascript"><span class="token comment">// 可以调用到app.vue里的方法</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">getApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>


	<span class="token literal-property property">properties</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
		<span class="token literal-property property">mode</span><span class="token operator">:</span> Number<span class="token punctuation">,</span>
		<span class="token literal-property property">openId</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
			<span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token punctuation">[</span>String<span class="token punctuation">,</span> Number<span class="token punctuation">]</span><span class="token punctuation">,</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token literal-property property">orderStatus</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
			<span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token punctuation">[</span>String<span class="token punctuation">,</span> Number<span class="token punctuation">]</span><span class="token punctuation">,</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token literal-property property">detailsObj</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
			<span class="token literal-property property">type</span><span class="token operator">:</span> Object<span class="token punctuation">,</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token literal-property property">goodsId</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
			<span class="token literal-property property">type</span><span class="token operator">:</span> String<span class="token punctuation">,</span>
			<span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token literal-property property">promoterShareId</span><span class="token operator">:</span> Number<span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>

	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	<span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
		<span class="token comment">// 提交商品信息 这个函数一进页面就会调用的</span>
		<span class="token function">getGoodsInfo</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token keyword">const</span> that <span class="token operator">=</span> <span class="token keyword">this</span>
			<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
				<span class="token comment">// 定时器是为解决 优惠卷id获取不到问题</span>
				<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
					tt<span class="token punctuation">.</span><span class="token function">getSystemInfo</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
						<span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">resPlatform</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
							
							<span class="token keyword">let</span> pay <span class="token operator">=</span> that<span class="token punctuation">.</span>data<span class="token punctuation">.</span>detailsObj<span class="token punctuation">.</span>price <span class="token operator">*</span> <span class="token number">100</span> <span class="token comment">// 价格单位是分</span>
							<span class="token keyword">let</span> promoterShareId <span class="token operator">=</span> that<span class="token punctuation">.</span>data<span class="token punctuation">.</span>promoterShareId <span class="token comment">// 分销员id</span>
							<span class="token keyword">let</span> required <span class="token operator">=</span> that<span class="token punctuation">.</span>data<span class="token punctuation">.</span>detailsObj<span class="token punctuation">.</span>giveEntityIsNeedPhone <span class="token comment">// 是否强制获取手机号</span>
							<span class="token keyword">let</span> CouponId <span class="token operator">=</span> that<span class="token punctuation">.</span>data<span class="token punctuation">.</span>detailsObj<span class="token punctuation">.</span>receiveCouponId <span class="token comment">// 优惠卷id</span>
							<span class="token comment">// 用不到的值就不用传</span>
							<span class="token keyword">let</span> data <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
								<span class="token literal-property property">currentPrice</span><span class="token operator">:</span> pay<span class="token punctuation">,</span>
								<span class="token literal-property property">GoodsLabel</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{<!-- --></span>
										<span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'NON_REFUNDABLE'</span>
									<span class="token punctuation">}</span>
								<span class="token punctuation">]</span><span class="token punctuation">,</span>
								<span class="token literal-property property">minLimits</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
								<span class="token literal-property property">maxLimits</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
								<span class="token literal-property property">dateRule</span><span class="token operator">:</span> <span class="token string">'周一至周日可用'</span><span class="token punctuation">,</span>
								<span class="token literal-property property">extra</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
									<span class="token literal-property property">promoterId</span><span class="token operator">:</span> promoterShareId<span class="token punctuation">,</span>
									<span class="token literal-property property">receiveCouponId</span><span class="token operator">:</span> CouponId
								<span class="token punctuation">}</span><span class="token punctuation">,</span>
								<span class="token literal-property property">validation</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
									<span class="token literal-property property">phoneNumber</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
										<span class="token literal-property property">required</span><span class="token operator">:</span> required <span class="token comment">// 手机号是否必填</span>
									<span class="token punctuation">}</span>
								<span class="token punctuation">}</span><span class="token punctuation">,</span>
								<span class="token literal-property property">marketingVersion</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
							<span class="token punctuation">}</span>
							<span class="token comment">// im客服需要提前开通</span>
							<span class="token comment">// 判断如果用户手机是ios就走客服支付， 把imId传上就自动跳转im客服页面了，安卓不要传这个id，否则可能会导致支付不了</span>
							<span class="token keyword">if</span><span class="token punctuation">(</span>resPlatform<span class="token punctuation">.</span>platform <span class="token operator">==</span> <span class="token string">'ios'</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
								data<span class="token punctuation">.</span>imId <span class="token operator">=</span> <span class="token string">'3xxxxxxxx42'</span>
							<span class="token punctuation">}</span>	
							<span class="token comment">// 然后将商品信息传入 resolve 函数</span>
							<span class="token function">resolve</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
						<span class="token punctuation">}</span>
					<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">600</span><span class="token punctuation">)</span>
			<span class="token punctuation">}</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token function">onError</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span>
				errNo<span class="token punctuation">,</span>
				errMsg
			<span class="token punctuation">}</span> <span class="token operator">=</span> e<span class="token punctuation">.</span>detail<span class="token punctuation">;</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>errNo <span class="token operator">===</span> <span class="token number">21514</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
				tt<span class="token punctuation">.</span><span class="token function">showToast</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
					<span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">"失败"</span><span class="token punctuation">,</span> <span class="token comment">// 内容</span>
					<span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">"none"</span><span class="token punctuation">,</span> <span class="token comment">// 图标</span>
				<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>errNo <span class="token operator">===</span> <span class="token number">21513</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
				tt<span class="token punctuation">.</span><span class="token function">showToast</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
					<span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">"获取中"</span><span class="token punctuation">,</span> <span class="token comment">// 内容</span>
					<span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">"none"</span><span class="token punctuation">,</span> <span class="token comment">// 图标</span>
				<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		
		<span class="token function">userLogin</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span>
				goodsId<span class="token punctuation">,</span>
				goodsType
			<span class="token punctuation">}</span> <span class="token operator">=</span> event<span class="token punctuation">.</span>detail
			<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
				tt<span class="token punctuation">.</span><span class="token function">login</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
					<span class="token function">success</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
						<span class="token comment">// 用户登录成功并获取信息，则调用 resolve 函数，跳转至提单页</span>
						<span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span><span class="token punctuation">,</span>
					<span class="token function">fail</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
						<span class="token comment">// 用户登录失败，则跳转提单页失败</span>
						_this<span class="token punctuation">.</span><span class="token function">showTost</span><span class="token punctuation">(</span><span class="token string">"登录失败"</span><span class="token punctuation">)</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token function">payError</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">showTost</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>errMsg<span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token comment">// 继续支付</span>
		<span class="token function">handleContinutePay</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		    <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span> status<span class="token punctuation">,</span> outOrderNo<span class="token punctuation">,</span> result <span class="token punctuation">}</span> <span class="token operator">=</span> event<span class="token punctuation">.</span>detail<span class="token punctuation">;</span>
		    <span class="token keyword">if</span> <span class="token punctuation">(</span>status <span class="token operator">===</span> <span class="token string">'success'</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		        <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span> code <span class="token punctuation">}</span> <span class="token operator">=</span> result<span class="token punctuation">;</span>
		        <span class="token keyword">if</span> <span class="token punctuation">(</span>code <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		            <span class="token comment">// 继续支付成功</span>
		            <span class="token comment">// 刷新页面</span>
					<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">triggerEvent</span><span class="token punctuation">(</span><span class="token string">"refreshData"</span><span class="token punctuation">)</span>
					tt<span class="token punctuation">.</span><span class="token function">showToast</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
						<span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">"支付成功"</span><span class="token punctuation">,</span>
					<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		        <span class="token punctuation">}</span>
		    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
		        <span class="token comment">// 继续支付失败</span>
				tt<span class="token punctuation">.</span><span class="token function">showToast</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
					<span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">"继续支付失败"</span><span class="token punctuation">,</span>
					<span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">"none"</span>
				<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		    <span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token comment">// 正式支付</span>
		<span class="token function">newButtonPay</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span>
				status<span class="token punctuation">,</span>
				orderId<span class="token punctuation">,</span>
				outOrderNo<span class="token punctuation">,</span>
				result
			<span class="token punctuation">}</span> <span class="token operator">=</span> event<span class="token punctuation">.</span>detail<span class="token punctuation">;</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>status <span class="token operator">===</span> <span class="token string">'success'</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
				<span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span>
					code
				<span class="token punctuation">}</span> <span class="token operator">=</span> result<span class="token punctuation">;</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span>code <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
					tt<span class="token punctuation">.</span><span class="token function">showLoading</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
						<span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">"订单确认中..."</span><span class="token punctuation">,</span>
					<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
					<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getOrderIsHaveData</span><span class="token punctuation">(</span>outOrderNo<span class="token punctuation">)</span>
				<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
					<span class="token comment">// 支付失败（超时、取消、关闭）</span>
					<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">showTost</span><span class="token punctuation">(</span><span class="token string">'支付失败（超时、取消、关闭）'</span><span class="token punctuation">)</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
				<span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span>
					errMsg
				<span class="token punctuation">}</span> <span class="token operator">=</span> result<span class="token punctuation">;</span>
				<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">showTost</span><span class="token punctuation">(</span>errMsg<span class="token punctuation">)</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token function">showTost</span><span class="token punctuation">(</span><span class="token parameter">tit<span class="token punctuation">,</span> timeMs</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token keyword">let</span> time <span class="token operator">=</span> timeMs <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">?</span> timeMs <span class="token operator">:</span> <span class="token number">1500</span><span class="token punctuation">;</span>
			tt<span class="token punctuation">.</span><span class="token function">showToast</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
				<span class="token literal-property property">title</span><span class="token operator">:</span> tit<span class="token punctuation">,</span>
				<span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">"none"</span><span class="token punctuation">,</span>
				<span class="token literal-property property">duration</span><span class="token operator">:</span> time<span class="token punctuation">,</span>
			<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token comment">// 重新订单</span>
		<span class="token function">getOrderIsHaveData</span><span class="token punctuation">(</span><span class="token parameter">orderId</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token keyword">let</span> data <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
				<span class="token literal-property property">openid</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>openId<span class="token punctuation">,</span>
				orderId<span class="token punctuation">,</span>
			<span class="token punctuation">}</span>
			tt<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
				<span class="token literal-property property">url</span><span class="token operator">:</span> app<span class="token punctuation">.</span><span class="token function">baseUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"/order/order_success"</span><span class="token punctuation">,</span>
				<span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'POST'</span><span class="token punctuation">,</span>
				data<span class="token punctuation">,</span>
				<span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
					<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setOrderIsHaveData</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>orderStatus<span class="token punctuation">,</span> orderId<span class="token punctuation">)</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token function">setOrderIsHaveData</span><span class="token punctuation">(</span><span class="token parameter">data<span class="token punctuation">,</span> orderId</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>data <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
				<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
					_this<span class="token punctuation">.</span><span class="token function">getOrderIsHaveData</span><span class="token punctuation">(</span>orderId<span class="token punctuation">)</span>
				<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
				tt<span class="token punctuation">.</span><span class="token function">hideLoading</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				tt<span class="token punctuation">.</span><span class="token function">navigateBack</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">triggerEvent</span><span class="token punctuation">(</span><span class="token string">"refreshData"</span><span class="token punctuation">)</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>

		<span class="token comment">// 退款</span>
		<span class="token function">onApplyrefund</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span>

			<span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span>
				orderId
			<span class="token punctuation">}</span> <span class="token operator">=</span> event<span class="token punctuation">.</span>detail<span class="token punctuation">;</span>
			<span class="token keyword">const</span> extra <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
				orderId
			<span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// 开发者需要透传的参数，可自定义内容</span>
			<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
				<span class="token function">resolve</span><span class="token punctuation">(</span>extra<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token function">onRefund</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span>
			<span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span>
				status<span class="token punctuation">,</span>
				result
			<span class="token punctuation">}</span> <span class="token operator">=</span> event<span class="token punctuation">.</span>detail<span class="token punctuation">;</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>status <span class="token operator">===</span> <span class="token string">'success'</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
				<span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span>
					refundId<span class="token punctuation">,</span>
					outRefundNo
				<span class="token punctuation">}</span> <span class="token operator">=</span> result<span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
				<span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span>
					errMsg
				<span class="token punctuation">}</span> <span class="token operator">=</span> result<span class="token punctuation">;</span>
				tt<span class="token punctuation">.</span><span class="token function">showToast</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
					<span class="token literal-property property">title</span><span class="token operator">:</span> e<span class="token punctuation">.</span>detail<span class="token punctuation">.</span>errMsg <span class="token operator">?</span> e<span class="token punctuation">.</span>detail<span class="token punctuation">.</span>errMsg <span class="token operator">:</span> <span class="token string">'失败'</span><span class="token punctuation">,</span>
					<span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">"none"</span>
				<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token function">refundError</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>detail<span class="token punctuation">.</span>errNo <span class="token operator">==</span> <span class="token number">21531</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
				tt<span class="token punctuation">.</span><span class="token function">showToast</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
					<span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">"不符合退款要求"</span><span class="token punctuation">,</span>
					<span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">"none"</span>
				<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
				tt<span class="token punctuation">.</span><span class="token function">showToast</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
					<span class="token literal-property property">title</span><span class="token operator">:</span> e<span class="token punctuation">.</span>detail<span class="token punctuation">.</span>errMsg <span class="token operator">?</span> e<span class="token punctuation">.</span>detail<span class="token punctuation">.</span>errMsg <span class="token operator">:</span> <span class="token string">'失败'</span><span class="token punctuation">,</span>
					<span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">"none"</span>
				<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>index.json</p> 
<pre><code class="prism language-javascript"><span class="token punctuation">{<!-- --></span>
  <span class="token string-property property">"component"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token string-property property">"usingComponents"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>index.ttml</p> 
<pre><code class="prism language-html"><span class="token comment">&lt;!-- 立即抢购 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>block</span> <span class="token attr-name"><span class="token namespace">tt:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{<!-- -->{mode==2}}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>  
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pay-button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{<!-- -->{classsname}}<span class="token punctuation">"</span></span> <span class="token attr-name">mode</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{<!-- -->{2}}<span class="token punctuation">"</span></span> <span class="token attr-name">goods-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{<!-- -->{detailsObj.productId}}<span class="token punctuation">"</span></span> <span class="token attr-name">goods-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{<!-- -->{1}}<span class="token punctuation">"</span></span>
		<span class="token attr-name">biz-line</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{<!-- -->{2}}<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">bind:</span>getgoodsinfo</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>getGoodsInfo<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">bind:</span>placeorder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>userLogin<span class="token punctuation">"</span></span> <span class="token attr-name">marketing-ready</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{<!-- -->{true}}<span class="token punctuation">"</span></span>
		<span class="token attr-name"><span class="token namespace">bind:</span>pay</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>newButtonPay<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">bind:</span>error</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>onError<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pay-button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>block</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>block</span> <span class="token attr-name"><span class="token namespace">tt:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{<!-- -->{mode==1}}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
	<span class="token comment">&lt;!-- 继续支付 --&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pay-button</span> <span class="token attr-name"><span class="token namespace">tt:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{<!-- -->{orderStatus==0}}<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{<!-- -->{classsname}}<span class="token punctuation">"</span></span> <span class="token attr-name">order-status</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{<!-- -->{0}}<span class="token punctuation">"</span></span> <span class="token attr-name">order-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{<!-- -->{orderData.orderId}}<span class="token punctuation">"</span></span>
		<span class="token attr-name"><span class="token namespace">bind:</span>pay</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>handleContinutePay<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pay-button</span><span class="token punctuation">&gt;</span></span>

	<span class="token comment">&lt;!-- 退款 --&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pay-button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>order_ljzf<span class="token punctuation">"</span></span> <span class="token attr-name">mode</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{<!-- -->{1}}<span class="token punctuation">"</span></span> <span class="token attr-name">goods-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{<!-- -->{1}}<span class="token punctuation">"</span></span> <span class="token attr-name">order-status</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{<!-- -->{1}}<span class="token punctuation">"</span></span> <span class="token attr-name">order-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{<!-- -->{orderData.orderId}}<span class="token punctuation">"</span></span>
		<span class="token attr-name">:refund-total-amount</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{<!-- -->{orderData.coursePrice}}<span class="token punctuation">"</span></span> <span class="token attr-name">biz-line</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{<!-- -->{2}}<span class="token punctuation">"</span></span> <span class="token attr-name">marketing-ready</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{<!-- -->{true}}<span class="token punctuation">"</span></span>
		<span class="token attr-name"><span class="token namespace">catch:</span>applyrefund</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>onApplyrefund<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">catch:</span>refund</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>onRefund<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">catch:</span>error</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>refundError<span class="token punctuation">"</span></span>
		<span class="token attr-name"><span class="token namespace">tt:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{<!-- -->{orderData.orderStatus==1}}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pay-button</span><span class="token punctuation">&gt;</span></span>

	<span class="token comment">&lt;!-- 退款状态 --&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pay-button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>order_tk<span class="token punctuation">"</span></span> <span class="token attr-name">mode</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{<!-- -->{1}}<span class="token punctuation">"</span></span> <span class="token attr-name">goods-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{<!-- -->{1}}<span class="token punctuation">"</span></span>
		<span class="token attr-name">order-status</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{<!-- -->{orderData.orderStatus=='4'?2:orderData.orderStatus=='2'?3:orderData.orderStatus=='5'?4:4 }}<span class="token punctuation">"</span></span>
		<span class="token attr-name">refund-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{<!-- -->{orderData.orderId}}<span class="token punctuation">"</span></span> <span class="token attr-name">biz-line</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{<!-- -->{2}}<span class="token punctuation">"</span></span> <span class="token attr-name">marketing-ready</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{<!-- -->{true}}<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">catch:</span>applyrefund</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>onApplyrefund<span class="token punctuation">"</span></span>
		<span class="token attr-name"><span class="token namespace">catch:</span>refund</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>onRefund<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">catch:</span>error</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>refundError<span class="token punctuation">"</span></span>
		<span class="token attr-name"><span class="token namespace">tt:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{<!-- -->{orderData.orderStatus!=1 &amp;&amp; orderData.orderStatus!=0}}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pay-button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>block</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>index.ttss</p> 
<blockquote> 
 <p>按钮样式根据自己的来</p> 
</blockquote> 
<pre><code class="prism language-css"><span class="token selector">.save_one</span> <span class="token punctuation">{<!-- --></span>
	<span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
	<span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.payButton</span> <span class="token punctuation">{<!-- --></span>
	<span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
	<span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
	<span class="token property">justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
	<span class="token property">width</span><span class="token punctuation">:</span> 310rpx<span class="token punctuation">;</span>
	<span class="token property">height</span><span class="token punctuation">:</span> 90rpx<span class="token punctuation">;</span>
	<span class="token property">border-radius</span><span class="token punctuation">:</span> 45rpx<span class="token punctuation">;</span>
	<span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span>
	<span class="token property">background-color</span><span class="token punctuation">:</span> #E10000<span class="token punctuation">;</span>
	<span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
	<span class="token property">border</span><span class="token punctuation">:</span> 2rpx solid #E10000<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.payButtonItem</span> <span class="token punctuation">{<!-- --></span>
	<span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
	<span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
	<span class="token property">justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
	<span class="token property">width</span><span class="token punctuation">:</span> 183rpx<span class="token punctuation">;</span>
	<span class="token property">height</span><span class="token punctuation">:</span> 57rpx<span class="token punctuation">;</span>
	<span class="token property">background</span><span class="token punctuation">:</span> #E10000<span class="token punctuation">;</span>
	<span class="token property">border-radius</span><span class="token punctuation">:</span> 29rpx<span class="token punctuation">;</span>
	<span class="token property">border</span><span class="token punctuation">:</span> 1rpx solid #E10000<span class="token punctuation">;</span>
	<span class="token property">font-size</span><span class="token punctuation">:</span> 26rpx<span class="token punctuation">;</span>
	<span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">"Noto Sans SC"</span><span class="token punctuation">;</span>
	<span class="token property">font-weight</span><span class="token punctuation">:</span> 600<span class="token punctuation">;</span>
	<span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
	<span class="token property">line-height</span><span class="token punctuation">:</span> 37rpx<span class="token punctuation">;</span>
	<span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span>
	<span class="token property">margin-right</span><span class="token punctuation">:</span> 16rpx<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="2pagesjson_596"></a>2.在pages.json给商品详情页面注册组件</h3> 
<pre><code class="prism language-javascript"><span class="token string-property property">"pages"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{<!-- --></span>
	<span class="token string-property property">"path"</span><span class="token operator">:</span> <span class="token string">"details/details"</span><span class="token punctuation">,</span>
	<span class="token string-property property">"style"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
		<span class="token comment">// #ifdef MP-TOUTIAO</span>
		<span class="token comment">// 这个是需要加的，否则显示不出来</span>
		<span class="token string-property property">"usingComponents"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
			<span class="token string-property property">"zijie-pay-button"</span><span class="token operator">:</span> <span class="token string">"/ttcomponents/DyPayButton/index"</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token comment">//#endif</span>
		<span class="token string-property property">"navigationBarTitleText"</span><span class="token operator">:</span> <span class="token string">"xxxx"</span><span class="token punctuation">,</span>
		<span class="token string-property property">"enablePullDownRefresh"</span><span class="token operator">:</span> <span class="token boolean">false</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">]</span>
</code></pre> 
<h3><a id="3_612"></a>3.在商品详情页面中使用组件</h3> 
<pre><code class="prism language-javascript"><span class="token literal-property property">components</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
	<span class="token comment">// #ifdef MP-TOUTIAO</span>
	<span class="token string-property property">"zijie-pay-button"</span><span class="token operator">:</span> <span class="token string">"../../ttcomponents/DyPayButton/index"</span><span class="token punctuation">,</span>
	<span class="token comment">//#endif</span>
<span class="token punctuation">}</span>
</code></pre> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>zijie-pay-button</span> 
	<span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>detailsObj.productId<span class="token punctuation">"</span></span>
	<span class="token attr-name">:openId</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>openId<span class="token punctuation">"</span></span>
	<span class="token attr-name">:mode</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>2<span class="token punctuation">'</span></span> 
	<span class="token attr-name">:detailsObj</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>detailsObj<span class="token punctuation">"</span></span> 
	<span class="token attr-name">:classsname</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">'</span>save_one'<span class="token punctuation">"</span></span>
	<span class="token attr-name">:promoterShareId</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>promoterShareId<span class="token punctuation">"</span></span>
	<span class="token attr-name">@refreshData</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>refreshData<span class="token punctuation">"</span></span>
<span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>zijie-pay-button</span><span class="token punctuation">&gt;</span></span>
&gt;
// v-if: 判断有没有商品id
// openId: 用户id
// mode: 商品类型
// detailsObj: 商品详情页的数据
// classsname: 按钮类名
// promoterShareId: 分销员id
// @refreshData: 用于支付成功回调刷新页面

</code></pre> 
<h2><a id="4h5_642"></a>4.h5支付</h2> 
<blockquote> 
 <p>主要是为解决微信ios无法支付的问题，ios走h5支付渠道</p> 
</blockquote> 
<h3><a id="1_645"></a>1.创建按钮</h3> 
<pre><code class="prism language-html">// 这个按钮是uView组件
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>u-button</span> 
<span class="token attr-name">text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>联系老师<span class="token punctuation">"</span></span> 
<span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>isIosDouYin<span class="token punctuation">"</span></span> 
<span class="token attr-name">shape</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>circle<span class="token punctuation">"</span></span> 
<span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#E10000<span class="token punctuation">"</span></span>
<span class="token attr-name">:send-message-title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>detailsObj.title?detailsObj.title:''<span class="token punctuation">"</span></span>
<span class="token attr-name">:send-message-img</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>detailsObj.coverPicUrl<span class="token punctuation">"</span></span>
<span class="token attr-name">:send-message-path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">'</span>/pages_details/details/details?courseId=' + detailsObj.id + '&amp;promoterId=' + promoterShareId + '&amp;couponId=' + detailsObj.receiveCouponId + '&amp;appNameType=1&amp;platform=1&amp;openid=' + openId<span class="token punctuation">"</span></span>
<span class="token attr-name">show-message-card</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> 
<span class="token attr-name">open-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>contact<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>u-button</span><span class="token punctuation">&gt;</span></span>

// isIosDouYin: 判断是否为ios系统
// send-message-title: 商品标题
// :send-message-img: 商品封面
// :send-message-path: 跳转路径
// show-message-card: 发送卡片


</code></pre> 
<h3><a id="2_667"></a>2.创建页面</h3> 
<blockquote> 
 <p>在详情页同级目录创建一个页面detailsContact.vue，后端可以重定向到这个页面</p> 
</blockquote> 
<pre><code class="prism language-javascript"><span class="token keyword">var</span> _this<span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
		<span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
				<span class="token literal-property property">openid</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 用户id</span>
				<span class="token literal-property property">h5PayData</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// h5提交的参数</span>
				<span class="token literal-property property">h5OrderId</span><span class="token operator">:</span> <span class="token string">''</span> <span class="token comment">// 订单id</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token function">onLoad</span><span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			_this <span class="token operator">=</span> <span class="token keyword">this</span>
			<span class="token comment">// 页面一进来就调用支付 带上路径传的值</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">payTap</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token literal-property property">methods</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
			<span class="token function">payTap</span><span class="token punctuation">(</span><span class="token parameter">queryObj</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
				<span class="token keyword">let</span> that <span class="token operator">=</span> <span class="token keyword">this</span>
				that<span class="token punctuation">.</span>openid <span class="token operator">=</span> queryObj<span class="token punctuation">.</span>openid
				<span class="token keyword">let</span> data <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
					<span class="token literal-property property">openid</span><span class="token operator">:</span> queryObj<span class="token punctuation">.</span>openid<span class="token punctuation">,</span> <span class="token comment">// 用户id</span>
					<span class="token literal-property property">courseId</span><span class="token operator">:</span> queryObj<span class="token punctuation">.</span>courseId<span class="token punctuation">,</span> <span class="token comment">// 课程id</span>
					<span class="token literal-property property">promoterId</span><span class="token operator">:</span> queryObj<span class="token punctuation">.</span>promoterId <span class="token operator">?</span> queryObj<span class="token punctuation">.</span>promoterId <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// 推广员id</span>
					<span class="token literal-property property">couponId</span><span class="token operator">:</span> queryObj<span class="token punctuation">.</span>couponId <span class="token operator">?</span> queryObj<span class="token punctuation">.</span>couponId <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// 优惠卷id</span>
					<span class="token literal-property property">appNameType</span><span class="token operator">:</span> queryObj<span class="token punctuation">.</span>appNameType<span class="token punctuation">,</span> <span class="token comment">// 区分哪个小程序</span>
					<span class="token literal-property property">platform</span> <span class="token operator">:</span> queryObj<span class="token punctuation">.</span>platform <span class="token comment">// 区分平台</span>
				<span class="token punctuation">}</span>
				
				<span class="token function">createWendaoOrder1</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
					<span class="token function">createOrder1</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
						<span class="token literal-property property">orderId</span><span class="token operator">:</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>orderId<span class="token punctuation">,</span>
						<span class="token literal-property property">openid</span><span class="token operator">:</span> queryObj<span class="token punctuation">.</span>openid<span class="token punctuation">,</span>
					<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res1</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
						<span class="token comment">// #ifdef H5</span>
						that<span class="token punctuation">.</span>h5PayData <span class="token operator">=</span> res1<span class="token punctuation">.</span>data
						that<span class="token punctuation">.</span>h5OrderId <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>orderId
						that<span class="token punctuation">.</span><span class="token function">getWxOfficePay</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
						<span class="token comment">// #endif</span>
					<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
						console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
					<span class="token punctuation">}</span><span class="token punctuation">)</span>
				<span class="token punctuation">}</span><span class="token punctuation">)</span>
				
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
			<span class="token function">getWxOfficePay</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> WeixinJSBridge <span class="token operator">==</span> <span class="token string">"undefined"</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span>addEventListener<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
						document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'WeixinJSBridgeReady'</span><span class="token punctuation">,</span> _this<span class="token punctuation">.</span>getWxOfficePayPage<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span>attachEvent<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
						document<span class="token punctuation">.</span><span class="token function">attachEvent</span><span class="token punctuation">(</span><span class="token string">'WeixinJSBridgeReady'</span><span class="token punctuation">,</span> _this<span class="token punctuation">.</span>getWxOfficePayPage<span class="token punctuation">)</span><span class="token punctuation">;</span>
						document<span class="token punctuation">.</span><span class="token function">attachEvent</span><span class="token punctuation">(</span><span class="token string">'onWeixinJSBridgeReady'</span><span class="token punctuation">,</span> _this<span class="token punctuation">.</span>getWxOfficePayPage<span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
					_this<span class="token punctuation">.</span><span class="token function">getWxOfficePayPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
				<span class="token punctuation">}</span>

			<span class="token punctuation">}</span><span class="token punctuation">,</span>
			<span class="token function">getWxOfficePayPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
				<span class="token keyword">const</span> that <span class="token operator">=</span> <span class="token keyword">this</span>
				console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"h5支付调起支付面板 "</span><span class="token punctuation">)</span>
				WeixinJSBridge<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>
					<span class="token string">'getBrandWCPayRequest'</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
						<span class="token literal-property property">appId</span><span class="token operator">:</span> _this<span class="token punctuation">.</span>h5PayData<span class="token punctuation">.</span>appId<span class="token punctuation">,</span>
						<span class="token literal-property property">timeStamp</span><span class="token operator">:</span> _this<span class="token punctuation">.</span>h5PayData<span class="token punctuation">.</span>timeStamp<span class="token punctuation">,</span>
						<span class="token literal-property property">nonceStr</span><span class="token operator">:</span> _this<span class="token punctuation">.</span>h5PayData<span class="token punctuation">.</span>nonceStr<span class="token punctuation">,</span>
						<span class="token keyword">package</span><span class="token operator">:</span> _this<span class="token punctuation">.</span>h5PayData<span class="token punctuation">.</span>packageValue<span class="token punctuation">,</span>
						<span class="token literal-property property">signType</span><span class="token operator">:</span> _this<span class="token punctuation">.</span>h5PayData<span class="token punctuation">.</span>signType<span class="token punctuation">,</span>
						<span class="token literal-property property">paySign</span><span class="token operator">:</span> _this<span class="token punctuation">.</span>h5PayData<span class="token punctuation">.</span>paySign<span class="token punctuation">,</span>
					<span class="token punctuation">}</span><span class="token punctuation">,</span>
					<span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
						<span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>err_msg <span class="token operator">==</span> <span class="token string">"get_brand_wcpay_request:ok"</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
							uni<span class="token punctuation">.</span><span class="token function">showLoading</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
								<span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'获取订单状态..'</span><span class="token punctuation">,</span>
								<span class="token literal-property property">mask</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
							<span class="token punctuation">}</span><span class="token punctuation">)</span>
							<span class="token comment">// 确认订单</span>
							uni<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
								<span class="token literal-property property">url</span><span class="token operator">:</span> app<span class="token punctuation">.</span><span class="token function">baseUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"/order/order_success"</span><span class="token punctuation">,</span>
								<span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'POST'</span><span class="token punctuation">,</span>
								<span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
									<span class="token literal-property property">openid</span><span class="token operator">:</span> that<span class="token punctuation">.</span>openId<span class="token punctuation">,</span>
									<span class="token literal-property property">orderId</span><span class="token operator">:</span> that<span class="token punctuation">.</span>h5OrderId
								<span class="token punctuation">}</span><span class="token punctuation">,</span>
								<span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
									uni<span class="token punctuation">.</span><span class="token function">hideLoading</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
									uni<span class="token punctuation">.</span><span class="token function">showModal</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
										<span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
										<span class="token literal-property property">content</span><span class="token operator">:</span> <span class="token string">'支付成功，请返回小程序查看课程'</span><span class="token punctuation">,</span>
										<span class="token literal-property property">showCancel</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
										<span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">'none'</span>
									<span class="token punctuation">}</span><span class="token punctuation">)</span>
								<span class="token punctuation">}</span>
							<span class="token punctuation">}</span><span class="token punctuation">)</span>
						<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
							uni<span class="token punctuation">.</span><span class="token function">showModal</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
								<span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
								<span class="token literal-property property">content</span><span class="token operator">:</span> <span class="token string">'支付失败'</span><span class="token punctuation">,</span>
								<span class="token literal-property property">showCancel</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
								<span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">'none'</span><span class="token punctuation">,</span>
								<span class="token function">success</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
							<span class="token punctuation">}</span><span class="token punctuation">)</span>
						<span class="token punctuation">}</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ed82f5cd2f8b69e946f03a30864450e4/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">vmware workstation pro 17.5 安装 macos 13.5.2 虚拟机超详细图文教程</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/ac6cd5a727f8a917841e28573fc8c73a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【算法】动态规划中的路径问题</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>