<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>ã€C&#43;&#43;/STLã€‘vectorï¼ˆå¸¸è§æ¥å£ã€æ¨¡æ‹Ÿå®ç°ã€è¿­ä»£å™¨å¤±æ•ˆï¼‰ - ç¼–ç¨‹å¤§å’–</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/d9f6968c8b24f445cb0ecf057d350e15/">
  <meta property="og:site_name" content="ç¼–ç¨‹å¤§å’–">
  <meta property="og:title" content="ã€C&#43;&#43;/STLã€‘vectorï¼ˆå¸¸è§æ¥å£ã€æ¨¡æ‹Ÿå®ç°ã€è¿­ä»£å™¨å¤±æ•ˆï¼‰">
  <meta property="og:description" content="ğŸŒˆä¸ªäººä¸»é¡µï¼šç§¦jh_-CSDNåšå®¢
ğŸ”¥Â ç³»åˆ—ä¸“æ ï¼šÂ https://blog.csdn.net/qinjh_/category_12575764.html?spm=1001.2014.3001.5482
ç›®å½•
ç®€å•ä½¿ç”¨
å¸¸è§æ¥å£
findÂ insert
vectoræ¨¡æ¿
æ¨¡æ‹Ÿå®ç°
å°¾æ’
æ„é€ 
è¿­ä»£å™¨å¤±æ•ˆ
ä½¿ç”¨memcpyæ‹·è´é—®é¢˜
èŠ±æ‹¬å·åˆ—è¡¨åˆå§‹åŒ–
å®Œæ•´ä»£ç 
å‰è¨€ ğŸ’¬ hello! å„ä½é“å­ä»¬å¤§å®¶å¥½å“‡ã€‚
ä»Šæ—¥æ›´æ–°äº†vectorçš„ç›¸å…³å†…å®¹
ğŸ‰ æ¬¢è¿å¤§å®¶å…³æ³¨ğŸ”ç‚¹èµğŸ‘æ”¶è—â­ï¸ç•™è¨€ğŸ“
vectoræ˜¯è¡¨ç¤ºå¯å˜å¤§å°æ•°ç»„çš„åºåˆ—å®¹å™¨ã€‚
ç®€å•ä½¿ç”¨ vectoræ¥å£çš„ä½¿ç”¨è·Ÿstringå·®ä¸å¤šï¼ŒåŠŸèƒ½å¾ˆå¤šéƒ½ç±»ä¼¼ã€‚Â å¸¸è§æ¥å£ æ³¨æ„endæ˜¯æŒ‡å‘æœ€åä¸€ä¸ªæ•°æ®çš„ä¸‹ä¸€ä¸ªä½ç½®ã€‚
findÂ findçš„ä½¿ç”¨éœ€è¦åŒ…Â &lt;algorithm&gt; å¤´æ–‡ä»¶
æ³¨æ„ä¸Šé¢ifè¯­å¥çš„åˆ¤æ–­æ¡ä»¶ï¼Œæ‰¾ä¸åˆ°æ—¶ï¼Œè¿”å›å€¼æ˜¯è‡ªå·±ç»™çš„lastï¼Œå³ä¸Šé¢çš„v.end()ã€‚
insert insertè¿˜å¯ä»¥æ’å…¥ä¸€æ®µè¿­ä»£åŒºé—´Â vectoræ¨¡æ¿ vector&lt;&gt; æ‹¬å·é‡Œå¯ä»¥æ˜¯ä¸åŒçš„ç±»å‹ï¼Œå¦‚ä¸Šé¢çš„stringï¼Œè¿˜å¯ä»¥æ˜¯listï¼Œvectorç­‰ã€‚ å¦‚ä¸‹å›¾ï¼š
æ¨¡æ‹Ÿå®ç° å°¾æ’ ä¸Šæ–¹æ˜¯é”™è¯¯çš„æ¨¡æ‹Ÿã€‚å› ä¸º_startå·²ç»æ”¹å˜äº†ï¼Œ_finish-_startå°±ä¸æ˜¯åŸæœ¬çš„ç©ºé—´å¤§å°äº†ã€‚æ­£ç¡®ä»£ç å¦‚ä¸‹ï¼š
size_t size() { return _finish - _start; } T&amp; operator[](size_t pos) { assert(pos &lt; size()); return _start[pos]; } size_t capacity() { return _endofstorage - _start; } void push_back(const T&amp; val) //ä¼ å¼•ç”¨æ•ˆç‡é«˜ { if (_finish == _endofstorage) { size_t old_size = size(); size_t newcapacity = capacity() == 0 ?">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-05-27T12:49:51+08:00">
    <meta property="article:modified_time" content="2024-05-27T12:49:51+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ç¼–ç¨‹å¤§å’–" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ç¼–ç¨‹å¤§å’–</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">ã€C&#43;&#43;/STLã€‘vectorï¼ˆå¸¸è§æ¥å£ã€æ¨¡æ‹Ÿå®ç°ã€è¿­ä»£å™¨å¤±æ•ˆï¼‰</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><strong>Â ğŸŒˆä¸ªäººä¸»é¡µï¼š</strong><a href="https://blog.csdn.net/qinjh_?type=blog" title="ç§¦jh_-CSDNåšå®¢">ç§¦jh_-CSDNåšå®¢</a><br><strong>ğŸ”¥Â ç³»åˆ—ä¸“æ ï¼š</strong><strong>Â </strong><a href="https://blog.csdn.net/qinjh_/category_12575764.html?spm=1001.2014.3001.5482" title="https://blog.csdn.net/qinjh_/category_12575764.html?spm=1001.2014.3001.5482">https://blog.csdn.net/qinjh_/category_12575764.html?spm=1001.2014.3001.5482</a></p> 
<p><img alt="9efbcbc3d25747719da38c01b3fa9b4f.gif" src="https://images2.imgbox.com/69/b8/ttkf5EZr_o.gif"></p> 
<p><strong>ç›®å½•</strong></p> 
<p style="margin-left:0px;"><a href="#%C2%A0%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8" rel="nofollow">Â ç®€å•ä½¿ç”¨</a></p> 
<p style="margin-left:0px;"><a href="#%E5%B8%B8%E8%A7%81%E6%8E%A5%E5%8F%A3" rel="nofollow">å¸¸è§æ¥å£</a></p> 
<p style="margin-left:40px;"><a href="#find%C2%A0" rel="nofollow">findÂ </a></p> 
<p style="margin-left:40px;"><a href="#%C2%A0insert" rel="nofollow">Â insert</a></p> 
<p style="margin-left:0px;"><a href="#%C2%A0vector%E6%A8%A1%E6%9D%BF" rel="nofollow">Â vectoræ¨¡æ¿</a></p> 
<p style="margin-left:0px;"><a href="#%E6%A8%A1%E6%8B%9F%E5%AE%9E%E7%8E%B0" rel="nofollow">æ¨¡æ‹Ÿå®ç°</a></p> 
<p style="margin-left:40px;"><a href="#%E5%B0%BE%E6%8F%92" rel="nofollow">å°¾æ’</a></p> 
<p style="margin-left:40px;"><a href="#%E6%9E%84%E9%80%A0" rel="nofollow">æ„é€ </a></p> 
<p style="margin-left:0px;"><a href="#%C2%A0%E8%BF%AD%E4%BB%A3%E5%99%A8%E5%A4%B1%E6%95%88" rel="nofollow">Â è¿­ä»£å™¨å¤±æ•ˆ</a></p> 
<p style="margin-left:0px;"><a href="#%E4%BD%BF%E7%94%A8memcpy%E6%8B%B7%E8%B4%9D%E9%97%AE%E9%A2%98" rel="nofollow">ä½¿ç”¨memcpyæ‹·è´é—®é¢˜</a></p> 
<p style="margin-left:0px;"><a href="#%C2%A0%E8%8A%B1%E6%8B%AC%E5%8F%B7%E5%88%97%E8%A1%A8%E5%88%9D%E5%A7%8B%E5%8C%96" rel="nofollow">Â èŠ±æ‹¬å·åˆ—è¡¨åˆå§‹åŒ–</a></p> 
<p style="margin-left:0px;"><a href="#%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81" rel="nofollow">å®Œæ•´ä»£ç </a></p> 
<hr> 
<h2>å‰è¨€</h2> 
<blockquote> 
 <p>â€‚â€‚â€‚â€‚<strong>ğŸ’¬ hello! å„ä½é“å­ä»¬å¤§å®¶å¥½å“‡ã€‚</strong></p> 
 <p><strong>Â  Â  Â  Â  Â  Â  Â ä»Šæ—¥æ›´æ–°äº†vectorçš„ç›¸å…³å†…å®¹</strong><br> â€‚â€‚â€‚â€‚<strong>ğŸ‰ æ¬¢è¿å¤§å®¶å…³æ³¨ğŸ”ç‚¹èµğŸ‘æ”¶è—â­ï¸ç•™è¨€ğŸ“</strong></p> 
</blockquote> 
<p><strong>Â vectoræ˜¯è¡¨ç¤ºå¯å˜å¤§å°æ•°ç»„çš„åºåˆ—å®¹å™¨ã€‚</strong></p> 
<h2>Â ç®€å•ä½¿ç”¨</h2> 
<p><img alt="38922f8024854c359c48b0c7122893e8.png" src="https://images2.imgbox.com/10/15/fOFwYyGN_o.png"><img alt="a3512176ae1649e6890fd63409b7b88e.png" src="https://images2.imgbox.com/8a/f8/DCmXpNxu_o.png"></p> 
<p><img alt="abaa98010bdf4528a26fd2285c500e42.png" src="https://images2.imgbox.com/25/14/FRsT6PIG_o.png"></p> 
<blockquote> 
 <p>vectoræ¥å£çš„ä½¿ç”¨è·Ÿstringå·®ä¸å¤šï¼ŒåŠŸèƒ½å¾ˆå¤šéƒ½ç±»ä¼¼ã€‚Â </p> 
</blockquote> 
<h2>å¸¸è§æ¥å£</h2> 
<p><img alt="153041c951a240e3b756bae497424730.png" src="https://images2.imgbox.com/41/27/3FIz1R4M_o.png"><img alt="0690a43622c34c3895ab73c4e3af01da.png" src="https://images2.imgbox.com/f6/f3/MgghxqzL_o.png"></p> 
<blockquote> 
 <p>æ³¨æ„endæ˜¯æŒ‡å‘æœ€åä¸€ä¸ªæ•°æ®çš„ä¸‹ä¸€ä¸ªä½ç½®ã€‚<img alt="b814ef2c19be4767a17cf1b614786138.png" src="https://images2.imgbox.com/28/7d/qe2Az1G5_o.png"></p> 
</blockquote> 
<p><img alt="c36e3fca1c334d4ea9d9391dc3d5f866.png" src="https://images2.imgbox.com/cc/ae/9crlyvfW_o.png"><img alt="32ab8c6d71904b5aad7d5b9fb3fca785.png" src="https://images2.imgbox.com/1d/8d/QzdzzxkO_o.png"></p> 
<h3>findÂ </h3> 
<blockquote> 
 <p>findçš„ä½¿ç”¨éœ€è¦åŒ…Â <strong>&lt;algorithm&gt; </strong>å¤´æ–‡ä»¶<img alt="fdbf7ef087dc40fe9fe6eb57012ee573.png" src="https://images2.imgbox.com/13/aa/NvdLAFvb_o.png"></p> 
</blockquote> 
<p><img alt="7d67ba94dea94130a6760dba4f667c0e.png" src="https://images2.imgbox.com/44/b7/HkjiPd49_o.png"></p> 
<blockquote> 
 <p><img alt="48d9070a24b74e9c96167970c3ebe366.png" src="https://images2.imgbox.com/6f/5a/YjRpU0Ma_o.png"></p> 
 <p>æ³¨æ„ä¸Šé¢ifè¯­å¥çš„åˆ¤æ–­æ¡ä»¶ï¼Œæ‰¾ä¸åˆ°æ—¶ï¼Œè¿”å›å€¼æ˜¯è‡ªå·±ç»™çš„lastï¼Œå³ä¸Šé¢çš„v.end()ã€‚</p> 
</blockquote> 
<h3>Â insert</h3> 
<p><img alt="a086a69d1c544f43bc8e9ad7cbaae85c.png" src="https://images2.imgbox.com/bb/24/JA2OgsXk_o.png"></p> 
<p><img alt="e45b8fa595fc42b893fe999d155f69bc.png" src="https://images2.imgbox.com/d8/3e/vkddDos7_o.png"></p> 
<blockquote> 
 <p>insertè¿˜å¯ä»¥æ’å…¥ä¸€æ®µè¿­ä»£åŒºé—´Â </p> 
</blockquote> 
<h2>Â vectoræ¨¡æ¿</h2> 
<p><img alt="38922f8024854c359c48b0c7122893e8.png" src="https://images2.imgbox.com/c2/6f/8hzSSOsS_o.png"></p> 
<p><img alt="f4fa8126349a47298d6ff64e063b7ece.png" src="https://images2.imgbox.com/e6/ec/8AsiQhxW_o.png"></p> 
<blockquote> 
 <p>vector&lt;&gt; æ‹¬å·é‡Œå¯ä»¥æ˜¯ä¸åŒçš„ç±»å‹ï¼Œå¦‚ä¸Šé¢çš„stringï¼Œè¿˜å¯ä»¥æ˜¯listï¼Œvectorç­‰ã€‚ å¦‚ä¸‹å›¾ï¼š<img alt="7e031985314c42358dbbd5724f5b18b6.png" src="https://images2.imgbox.com/79/c4/xeAXfjVf_o.png"><img alt="f94db551939e4f52b2cc94f8823de209.png" src="https://images2.imgbox.com/97/84/hTzeLTDX_o.png"></p> 
</blockquote> 
<h2>æ¨¡æ‹Ÿå®ç°</h2> 
<h3>å°¾æ’</h3> 
<p><img alt="69143aaf459446e1b187463db5337c34.png" src="https://images2.imgbox.com/c7/29/5MNdhMyx_o.png"><img alt="a5085085b4214cb993e66b6f19fc10a8.png" src="https://images2.imgbox.com/df/e3/ZGFXe03i_o.png"><img alt="d19586e2eeef4e84927c0fdadb89e395.png" src="https://images2.imgbox.com/d3/09/x95kCC08_o.png"></p> 
<blockquote> 
 <p>ä¸Šæ–¹æ˜¯é”™è¯¯çš„æ¨¡æ‹Ÿã€‚å› ä¸º_startå·²ç»æ”¹å˜äº†ï¼Œ_finish-_startå°±ä¸æ˜¯åŸæœ¬çš„ç©ºé—´å¤§å°äº†ã€‚æ­£ç¡®ä»£ç å¦‚ä¸‹ï¼š</p> 
</blockquote> 
<pre><code class="language-cpp">size_t size()
{
	return _finish - _start;
}

T&amp; operator[](size_t pos)
{
	assert(pos &lt; size());
	return _start[pos];
}

size_t capacity()
{
	return _endofstorage - _start;
}

void push_back(const T&amp; val) //ä¼ å¼•ç”¨æ•ˆç‡é«˜
{
	if (_finish == _endofstorage)
	{
		size_t old_size = size();
		size_t newcapacity = capacity() == 0 ? 4 : capacity() * 2;
		T* tmp = new T[newcapacity];
		memcpy(tmp, _start, size() * sizeof(T));
		delete[] _start;

		_start = tmp;
		_finish = tmp + old_size;
		_endofstorage = tmp + newcapacity;
	}

	*_finish = val;
	++_finish;
}</code></pre> 
<h3>æ„é€ </h3> 
<p><img alt="16620059a92b490da6e3a44a219ab7b9.png" src="https://images2.imgbox.com/8e/9a/XROBlWKJ_o.png"></p> 
<p><img alt="17d7fab585cb4f4da217ffc81c701998.png" src="https://images2.imgbox.com/98/50/BkfGcpFr_o.png"></p> 
<blockquote> 
 <p>åœ¨ä¸å†™ç¬¬ä¸‰ä¸ªå‡½æ•°çš„æƒ…å†µä¸‹ï¼Œå½“æˆ‘ä»¬æƒ³æ’å…¥10ä¸ª1æ„é€ æ—¶ï¼Œä¼šä¼˜å…ˆè·Ÿå‡½æ•°1åŒ¹é…ï¼Œå› ä¸ºä»–æ˜¯æ¨¡æ¿ï¼ŒÂ è€Œå‡½æ•°2çš„å½¢å‚ç±»å‹æœ‰size_t ï¼Œå› æ­¤åŒ¹é…åº¦æ²¡æ¨¡æ¿çš„å¥½ã€‚ä¸ºäº†èƒ½å¤Ÿæ’å…¥10ä¸ª1è¿›è¡Œæ„é€ ï¼Œå°±éœ€è¦å‡½æ•°3æ¥è¿›è¡ŒåŒ¹é…ã€‚æ²¡æœ‰å‡½æ•°3çš„æƒ…å†µä¸‹ï¼Œï¼ˆ10u,1ï¼‰å’Œï¼ˆ10,'a'ï¼‰éƒ½ä¼šè·Ÿå‡½æ•°2åŒ¹é…ã€‚</p> 
</blockquote> 
<h2>Â è¿­ä»£å™¨å¤±æ•ˆ</h2> 
<p><strong>è¿­ä»£å™¨çš„ä¸»è¦ä½œç”¨å°±æ˜¯è®©ç®—æ³•èƒ½å¤Ÿä¸ç”¨å…³å¿ƒåº•å±‚æ•°æ®ç»“æ„ï¼Œå…¶åº•å±‚å®é™…å°±æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œæˆ–è€…æ˜¯å¯¹æŒ‡é’ˆè¿›è¡Œäº†å°è£…ï¼Œ</strong>æ¯”å¦‚ï¼švectorçš„è¿­ä»£å™¨å°±æ˜¯åŸç”Ÿæ€æŒ‡é’ˆT* ã€‚å› æ­¤è¿­ä»£å™¨å¤±æ•ˆï¼Œå®é™…å°±æ˜¯è¿­ä»£å™¨åº•å±‚å¯¹åº”æŒ‡é’ˆæ‰€æŒ‡å‘çš„ ç©ºé—´è¢«é”€æ¯äº†ï¼Œè€Œä½¿ç”¨ä¸€å—å·²ç»è¢«é‡Šæ”¾çš„ç©ºé—´ï¼Œé€ æˆçš„åæœæ˜¯ç¨‹åºå´©æºƒ(å³å¦‚æœç»§ç»­ä½¿ç”¨å·²ç»å¤±æ•ˆçš„è¿­ä»£å™¨ï¼Œç¨‹åºå¯èƒ½ä¼šå´©æºƒ)ã€‚</p> 
<p>vectorä¸­ï¼Œä¼šå¼•èµ·å…¶åº•å±‚ç©ºé—´æ”¹å˜çš„æ“ä½œï¼Œéƒ½æœ‰å¯èƒ½ä½¿è¿­ä»£å™¨å¤±æ•ˆï¼Œæ¯”å¦‚ï¼šresizeã€reserveã€insertã€assignã€ push_backç­‰ã€‚</p> 
<p><strong>è¿­ä»£å™¨å¤±æ•ˆè§£å†³åŠæ³•ï¼šåœ¨ä½¿ç”¨å‰ï¼Œå¯¹è¿­ä»£å™¨é‡æ–°èµ‹å€¼å³å¯ã€‚</strong></p> 
<p><img alt="dd26f7e657464a2b96f6b03b96b640db.png" src="https://images2.imgbox.com/8e/f9/fbLT6PAr_o.png"><img alt="ced4c486d7ac4ef698f0505e58389e6e.png" src="https://images2.imgbox.com/5d/28/oe4TVqoU_o.png"></p> 
<blockquote> 
 <p>æ’å…¥å‘ç”Ÿé”™è¯¯çš„æœ¬è´¨æ˜¯è¿­ä»£å™¨å¤±æ•ˆï¼Œå› ä¸ºæ­¤æ—¶posè¿˜æŒ‡å‘æ—§ç©ºé—´ï¼Œè€Œæ—§ç©ºé—´å·²ç»è¢«é‡Šæ”¾äº†ã€‚æ­£ç¡®ä»£ç å¦‚ä¸‹ï¼š<img alt="153aa498faab42d8a3a99fecd57a0ccd.png" src="https://images2.imgbox.com/29/54/jhD4VEPI_o.png"></p> 
</blockquote> 
<pre><code class="language-cpp">	void insert(iterator pos, const T&amp; val)
	{
		assert(pos &gt;= _start);
		assert(pos &lt;= _finish);

		if (_finish == _endofstorage)
		{
			size_t len = pos - _start;
			reserve(capacity() == 0 ? 4 : capacity() * 2);

			//å¦‚æœæ‰©å®¹äº†å°±è¦æ›´æ–°pos
			pos = _start + len;
		}

		iterator it = _finish - 1;
		while (it &gt;= pos)
		{
			*(it + 1) = *it;
			--it;
		}
		*pos = val;
		++_finish;
	}</code></pre> 
<p>Â å¦ä¸€ä¸ªé—®é¢˜ï¼š</p> 
<p><img alt="519aaf8afcab456a8a7319d026f62149.png" src="https://images2.imgbox.com/74/50/wY4C68lj_o.png"></p> 
<blockquote> 
 <p>Â å› ä¸ºè¦æ‰©å®¹ï¼Œæ­¤æ—¶itå°±æ˜¯é‡æŒ‡é’ˆäº†ï¼Œè¦ç»§ç»­ä½¿ç”¨å°±å¾—åœ¨å¤–é¢é‡æ–°æ›´æ–°ã€‚è¦è§£å†³è¿™ä¸ªé—®é¢˜å°±å¾—åœ¨insertå½¢å‚é‡Œé¢ä¼ å¼•ç”¨ï¼Œä½†æ˜¯è¿™ä¼šå¼•å‘åˆ«çš„é—®é¢˜ï¼Œåº“é‡Œé¢æ²¡æœ‰å»è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæ‰€ä»¥ä¸è¦ä½¿ç”¨ã€‚Â </p> 
</blockquote> 
<p><img alt="af00b43d5bfc4c7a851cb8dbf9ed28b0.png" src="https://images2.imgbox.com/de/4e/iyzcwhSf_o.png"></p> 
<blockquote> 
 <p>Â ä¸Šæ–¹åˆ é™¤å¶æ•°çš„æ“ä½œä¹Ÿæ˜¯å¯¼è‡´è¿­ä»£å™¨å¤±æ•ˆã€‚eraseåˆ é™¤posä½ç½®å…ƒç´ åï¼Œposä½ç½®ä¹‹åçš„å…ƒç´ ä¼šå¾€å‰æ¬ç§»ï¼Œå¦‚æœposåˆšå¥½æ˜¯æœ€åä¸€ä¸ªå…ƒç´ ï¼Œåˆ å®Œä¹‹åposåˆšå¥½æ˜¯endçš„ä½ç½®ï¼Œè€Œendä½ç½®æ˜¯ æ²¡æœ‰å…ƒç´ çš„ï¼Œé‚£ä¹ˆposå°±å¤±æ•ˆäº†ã€‚</p> 
</blockquote> 
<p><img alt="52f346d7315649b6b13f68869373c95f.png" src="https://images2.imgbox.com/67/d3/q4Zxjlk6_o.png"></p> 
<blockquote> 
 <p>Â åº“é‡Œé¢çš„è§£å†³æ–¹æ¡ˆå¦‚ä¸Šå›¾ï¼Œeraseåˆ é™¤åä¼šè¿”å›åˆ é™¤å…ƒç´ çš„ä¸‹ä¸€ä¸ªä½ç½®ï¼Œè¿›è¡Œæ›´æ–°å³å¯ã€‚</p> 
</blockquote> 
<p><img alt="eba2c0a621444e37a2c48a6e0c613424.png" src="https://images2.imgbox.com/ca/9c/S56ca2W6_o.png"></p> 
<blockquote> 
 <p>ä¸Šå›¾æ˜¯ä¿®æ”¹åçš„ä»£ç ã€‚æ¨¡æ‹Ÿå®ç°çš„eraseä¹Ÿè¦è·Ÿç€ä¿®æ”¹Â ï¼Œè¦æœ‰è¿”å›å€¼ï¼Œå¦‚ä¸‹å›¾ï¼š</p> 
 <p><img alt="76389412e5134658b7b64616a81fa825.png" src="https://images2.imgbox.com/a3/00/mdgGFnmi_o.png"></p> 
</blockquote> 
<h2>ä½¿ç”¨memcpyæ‹·è´é—®é¢˜</h2> 
<p><img alt="a4c6a447cbba4cb197a8f268f6257bad.png" src="https://images2.imgbox.com/14/be/ohYt3qRG_o.png"></p> 
<blockquote> 
 <p>å½“ä¸éœ€è¦æ‰©å®¹æ—¶ï¼Œå¯ä»¥æ­£å¸¸è¿è¡Œã€‚Â </p> 
</blockquote> 
<p><img alt="1b13802d1ee74c95b59e25502d9dcfe0.png" src="https://images2.imgbox.com/aa/0c/PdusH7XU_o.png"><img alt="dcdf374d59c349aeaaa18ad917b79fa2.png" src="https://images2.imgbox.com/84/0b/jS9KK0U6_o.png"></p> 
<blockquote> 
 <p>Â å¦‚æœæ‰©å®¹äº†ï¼Œç¨‹åºå°±å´©äº†ã€‚é—®é¢˜å‡ºåœ¨memcpyä¸Šã€‚</p> 
</blockquote> 
<p><img alt="f25603213aa64f57bedf102f664417ba.png" src="https://images2.imgbox.com/93/c4/KXQ6WeWa_o.png"></p> 
<blockquote> 
 <p>memcpyæ˜¯æŒ‰å­—èŠ‚ä¸€ä¸ªä¸€ä¸ªæ‹·è´çš„ã€‚æ‰©å®¹æ—¶ï¼Œå¼€è¾Ÿäº†æ–°ç©ºé—´ï¼ŒÂ ç„¶åmemcpyå°±æŠŠstringæ‹·è´åˆ°tmpä¸Šã€‚æ¥ç€deleteæ—¶ï¼Œä¼šè°ƒç”¨ææ„å‡½æ•°ï¼Œæ­¤æ—¶stringå°±æ²¡äº†ï¼ŒstartæŒ‡å‘çš„ç©ºé—´ä¹Ÿè¢«é”€æ¯äº†ã€‚å†è®©startæŒ‡å‘tmpçš„ç©ºé—´ï¼Œè€Œtmpç©ºé—´é‡Œçš„stringæ˜¯æµ…æ‹·è´ï¼Œåœ¨åˆšæ‰å°±æ²¡äº†ã€‚å³memcpyä½¿vectoræ˜¯æ·±æ‹·è´ï¼Œä½†vectorçš„å¯¹è±¡stringå´æ˜¯æµ…æ‹·è´ã€‚Â </p> 
</blockquote> 
<p>Â æ­£ç¡®ä»£ç ï¼š</p> 
<p><img alt="fdda6410b3ac420a938f1e39e46224c0.png" src="https://images2.imgbox.com/82/f3/UY6tYBIt_o.png"></p> 
<blockquote> 
 <p>æˆ‘ä»¬ç”¨å¾ªç¯è¿›è¡Œèµ‹å€¼å³å¯ï¼Œèµ‹å€¼æ—¶æ¯æ¬¡éƒ½æ˜¯æ·±æ‹·è´ã€‚Â </p> 
 <p>ç»“è®ºï¼šå¦‚æœå¯¹è±¡ä¸­æ¶‰åŠåˆ°èµ„æºç®¡ç†æ—¶ï¼Œåƒä¸‡ä¸èƒ½ä½¿ç”¨memcpyè¿›è¡Œå¯¹è±¡ä¹‹é—´çš„æ‹·è´ï¼Œå› ä¸ºmemcpyæ˜¯æµ…æ‹·è´ï¼Œå¦åˆ™å¯èƒ½ä¼šå¼•èµ·å†…å­˜æ³„æ¼ç”šè‡³ç¨‹åºå´©æºƒã€‚</p> 
</blockquote> 
<pre><code class="language-cpp">void reserve(size_t n)
{
	if (n &gt; capacity())
	{
		T* tmp = new T[n];
		size_t old_size = size();
		//memcpy(tmp, _start, size() * sizeof(T));
		for (size_t i = 0; i &lt; old_size; i++)
		{
			tmp[i] = _start[i];
		}
		delete[] _start;

		_start = tmp;
		_finish = tmp + old_size;
		_endofstorage = tmp + n;
	}
}</code></pre> 
<h2>Â èŠ±æ‹¬å·åˆ—è¡¨åˆå§‹åŒ–</h2> 
<p><img alt="e319fb4fb8a9410687062b665c9353f9.png" src="https://images2.imgbox.com/24/e1/tUSQmJvz_o.png"></p> 
<p><img alt="7321d2a5cdfd4ba18f54b0dda96be332.png" src="https://images2.imgbox.com/4e/19/nFlsemC2_o.png"></p> 
<blockquote> 
 <p>åº“é‡Œé¢çš„vectoræ”¯æŒç”¨èŠ±æ‹¬å·åˆå§‹åŒ–ï¼Œå…¶åŸç†å¦‚ä¸‹å›¾ï¼š</p> 
 <p><img alt="c7a69b0ac3304cb7a1a627bdd1219f87.png" src="https://images2.imgbox.com/8d/98/5czsm1v8_o.png"></p> 
 <p>å³éšå¼ç±»å‹è½¬æ¢ï¼Œä¼ å¼•ç”¨æ—¶ï¼Œæ³¨æ„ä¸´æ—¶å¯¹è±¡å…·æœ‰å¸¸æ€§ï¼Œéœ€è¦ç”¨constå¯¹è±¡ã€‚</p> 
</blockquote> 
<p><strong>è‡ªå·±å®ç°ï¼šÂ </strong></p> 
<p><img alt="f6b269ae7fbd45c89a1518c820f6f331.png" src="https://images2.imgbox.com/fa/78/FMGb1G9A_o.png"></p> 
<h2>å®Œæ•´ä»£ç </h2> 
<pre><code class="language-cpp">#pragma once

#include&lt;assert.h&gt;

namespace qjh
{
	template&lt;class T&gt;
	class vector
	{
	public:
		typedef T* iterator;
		typedef const T* const_iterator;


		iterator begin()
		{
			return _start;
		}

		iterator end()
		{
			return _finish;
		}

		const_iterator begin() const
		{
			return _start;
		}

		const_iterator end() const
		{
			return _finish;
		}

		vector()
		{}

		//v2(v1)
		vector(const vector&lt;T&gt;&amp; v)
		{
			reserve(v.capacity());
			for (auto&amp; e : v)
			{
				push_back(e);
			}
		}

		//vector&lt;int&gt; v1 ={1,2,3,4,5};
		vector(initializer_list&lt;T&gt; il)
		{
			reserve(il.size()); 
			for (auto&amp; e : il)
			{
				push_back(e);
			}
		}

		//ç±»æ¨¡æ¿çš„æˆå‘˜å‡½æ•°å¯ä»¥æ˜¯å‡½æ•°æ¨¡æ¿
		//è¿­ä»£å™¨åŒºé—´æ„é€ ,å¯ä»¥æ˜¯vectorçš„è¿­ä»£å™¨ï¼Œä¹Ÿå¯ä»¥æ˜¯å…¶ä»–å®¹å™¨
		template &lt;class  InputIterator&gt;
		vector(InputIterator first, InputIterator last)
		{ 
			while (first != last)
			{
				push_back(*first);
				++first;
			}
		}

		vector(size_t n, const T&amp; val = T())
		{
			reserve(n);
			for (size_t i = 0; i &lt; n; i++)
			{
				push_back(val);
			}
		}


		vector(int n, const T&amp; val = T())
		{
			reserve(n);
			for (size_t i = 0; i &lt; n; i++)
			{
				push_back(val);
			}
		}

		void swap(vector&lt;T&gt; v)
		{
			std::swap(_start, v._start); 
			std::swap(_finish, v._finish); 
			std::swap(_endofstorage, v._endofstorage); 
			 
		}

		//v1=v2
		vector&lt;T&gt;&amp; operator=(vector&lt;T&gt; v)
		{
			swap(v);
			return *this;
		}

		~vector()
		{
			delete[] _start;
			_start = _finish = _endofstorage = nullptr;
		}

		size_t size() const
		{
			return _finish - _start;
		}

		T&amp; operator[](size_t pos)
		{
			assert(pos &lt; size());
			return _start[pos];
		}

		const T&amp; operator[](size_t pos) const
		{
			assert(pos &lt; size());
			return _start[pos];
		}

		size_t capacity() const
		{
			return _endofstorage - _start;
		}

		void reserve(size_t n)
		{
			if (n &gt; capacity())
			{
				T* tmp = new T[n];
				size_t old_size = size();
				//memcpy(tmp, _start, size() * sizeof(T));
				for (size_t i = 0; i &lt; old_size; i++)
				{
					tmp[i] = _start[i];
				}
				delete[] _start;

				_start = tmp;
				_finish = tmp + old_size;
				_endofstorage = tmp + n;
			}
		}

		void resize(size_t n, const T&amp; val = T()) //T()æ˜¯åŒ¿åå¯¹è±¡ï¼Œè‡ªå®šä¹‰ç±»å‹è°ƒç”¨å®ƒçš„æ„é€ ï¼Œå†…ç½®ç±»å‹ä¹Ÿæ˜¯ï¼Œæ•´å½¢æ˜¯0ï¼Œå­—ç¬¦æ˜¯'\0'ï¼ŒæŒ‡é’ˆæ˜¯ç©ºæŒ‡é’ˆã€‚
		{
			if (n &gt; size())
			{
				reserve(n);
				while (_finish &lt; _start + n)
				{
					*_finish = val;
					++_finish;
				}
			}
			else
			{
				_finish = _start + n;
			}
		}

		void push_back(const T&amp; val) //ä¼ å¼•ç”¨æ•ˆç‡é«˜
		{
			/*if (_finish == _endofstorage)
			{
				reserve(capacity() == 0 ? 4 : capacity() * 2);
			}

			*_finish = val;
			++_finish;*/

			insert(end(), val);
		}

		void pop_back()
		{
			//assert(!empty());

			//--_finish;

			erase(--end());
		}

		bool empty()
		{
			return _start == _finish; 
		}

		void insert(iterator pos, const T&amp; val)
		{
			assert(pos &gt;= _start);
			assert(pos &lt;= _finish);

			if (_finish == _endofstorage)
			{
				size_t len = pos - _start;
				reserve(capacity() == 0 ? 4 : capacity() * 2);

				//å¦‚æœæ‰©å®¹äº†å°±è¦æ›´æ–°pos
				pos = _start + len;
			}

			iterator it = _finish - 1;
			while (it &gt;= pos)
			{
				*(it + 1) = *it;
				--it;
			}
			*pos = val;
			++_finish;
		}

		iterator erase(iterator pos)
		{
			assert(pos &gt;= _start);
			assert(pos &lt;= _finish);

			iterator it = pos + 1;
			while (it &lt; _finish)
			{
				*(it - 1) = *it;
				++it;
			}
			--_finish;

			return pos;
		}

	private:
		iterator _start = nullptr;
		iterator _finish = nullptr;
		iterator _endofstorage = nullptr;
	};

	template&lt;class T&gt;
	void print_vector(const vector&lt;T&gt;&amp; v)
	{
		for (size_t i = 0; i &lt; v.size(); i++)
		{
			cout &lt;&lt; v[i] &lt;&lt; " ";
		}
		cout &lt;&lt; endl;

		//typename vector&lt;T&gt;::const_iterator it = v.begin(); //å‰é¢å¿…é¡»åŠ typename å‘Šè¯‰ç¼–è¯‘å™¨è¿™æ˜¯ç±»å‹ï¼Œ
		//while (it != v.end())
		//{
		//	cout &lt;&lt; *it &lt;&lt; " ";
		//	++it;
		//}
		//cout &lt;&lt; endl;

		//for (auto e : v)
		//{
		//	cout &lt;&lt; e &lt;&lt; " ";
		//}
		//cout &lt;&lt; endl;
	}

}</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d7cebdbd150b05dbb8a323767b74a1a9/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">ã€iOSã€‘Blockæ€»ç»“</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f529c13576767cb76f07bd43bd678c92/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">Java sortç”¨æ³•è¯¦è§£ï¼ˆäºŒç»´æ•°ç»„æ’åºï¼ŒListï¼œï¼æ’åº,lambadaè¡¨è¾¾å¼ï¼Œè‡ªå®šä¹‰ç±»å‹æ’åºï¼‰</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ç¼–ç¨‹å¤§å’–.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>