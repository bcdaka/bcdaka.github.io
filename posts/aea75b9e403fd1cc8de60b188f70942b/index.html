<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>ã€Pythonæœºå™¨å­¦ä¹ å®æˆ˜ã€‘ | åŸºäºå†³ç­–æ ‘çš„è¯ç‰©ç ”ç©¶åˆ†ç±»é¢„æµ‹ - ç¼–ç¨‹å¤§å’–</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/aea75b9e403fd1cc8de60b188f70942b/">
  <meta property="og:site_name" content="ç¼–ç¨‹å¤§å’–">
  <meta property="og:title" content="ã€Pythonæœºå™¨å­¦ä¹ å®æˆ˜ã€‘ | åŸºäºå†³ç­–æ ‘çš„è¯ç‰©ç ”ç©¶åˆ†ç±»é¢„æµ‹">
  <meta property="og:description" content="ğŸ© æ¬¢è¿æ¥åˆ°æŠ€æœ¯æ¢ç´¢çš„å¥‡å¹»ä¸–ç•ŒğŸ‘¨â€ğŸ’»
ğŸ“œ ä¸ªäººä¸»é¡µï¼š@ä¸€ä¼¦æ˜æ‚¦-CSDNåšå®¢
âœğŸ» ä½œè€…ç®€ä»‹ï¼šÂ C&#43;&#43;è½¯ä»¶å¼€å‘ã€Pythonæœºå™¨å­¦ä¹ çˆ±å¥½è€…
ğŸ—£ï¸Â äº’åŠ¨ä¸æ”¯æŒï¼šğŸ’¬è¯„è®ºÂ ğŸ‘ğŸ»ç‚¹èµÂ ğŸ“‚æ”¶è—Â ğŸ‘€å…³æ³¨&#43;
å¦‚æœæ–‡ç« æœ‰æ‰€å¸®åŠ©ï¼Œæ¬¢è¿ç•™ä¸‹æ‚¨å®è´µçš„è¯„è®ºï¼Œ
ç‚¹èµåŠ æ”¶è—æ”¯æŒæˆ‘ï¼Œç‚¹å‡»å…³æ³¨ï¼Œä¸€èµ·è¿›æ­¥ï¼
å¼•è¨€ å†³ç­–æ ‘æ¨¡å‹æ˜¯ä¸€ç§åŸºäºæ ‘ç»“æ„è¿›è¡Œå†³ç­–çš„ç›‘ç£å­¦ä¹ ç®—æ³•ï¼Œå®ƒåœ¨æœºå™¨å­¦ä¹ å’Œæ•°æ®æŒ–æ˜ä¸­è¢«å¹¿æ³›åº”ç”¨ã€‚ä»¥ä¸‹æ˜¯å…³äºå†³ç­–æ ‘æ¨¡å‹çš„è¯¦ç»†ä»‹ç»ï¼š
1. æ¨¡å‹åŸç†
å†³ç­–æ ‘æ¨¡å‹åŸºäºæ ‘å½¢ç»“æ„æ¥è¿›è¡Œå†³ç­–ï¼Œæ ‘çš„æ¯ä¸ªå†…éƒ¨èŠ‚ç‚¹è¡¨ç¤ºä¸€ä¸ªå±æ€§ä¸Šçš„å†³ç­–è§„åˆ™ï¼Œæ¯ä¸ªå¶èŠ‚ç‚¹è¡¨ç¤ºä¸€ä¸ªç±»åˆ«æ ‡ç­¾ï¼ˆæˆ–è€…åœ¨å›å½’é—®é¢˜ä¸­æ˜¯ä¸€ä¸ªæ•°å€¼ï¼‰ã€‚æ¨¡å‹é€šè¿‡å­¦ä¹ ä»æ•°æ®ç‰¹å¾åˆ°ç›®æ ‡å€¼çš„æ˜ å°„å…³ç³»æ¥è¿›è¡Œé¢„æµ‹ã€‚
2. ç‰¹ç‚¹å’Œä¼˜åŠ¿
æ˜“äºç†è§£å’Œè§£é‡Šï¼šç”Ÿæˆçš„å†³ç­–æ ‘å¯ä»¥ç›´è§‚åœ°å±•ç¤ºå†³ç­–è¿‡ç¨‹ï¼Œä¾¿äºè§£é‡Šç»™å®šç‰¹å¾æ¡ä»¶ä¸‹çš„é¢„æµ‹ç»“æœã€‚
èƒ½å¤„ç†æ•°å€¼å‹å’Œç±»åˆ«å‹æ•°æ®ï¼šå†³ç­–æ ‘æ¨¡å‹å¯ä»¥å¤„ç†å„ç§ç±»å‹çš„æ•°æ®ï¼Œä¸éœ€è¦é¢å¤–çš„æ•°æ®é¢„å¤„ç†ï¼ˆå¦‚æ ‡å‡†åŒ–ï¼‰ã€‚
å¯ä»¥å¤„ç†å¤šè¾“å‡ºé—®é¢˜ï¼šå†³ç­–æ ‘å¯ä»¥ç›´æ¥æ‰©å±•åˆ°å¤šè¾“å‡ºé—®é¢˜ï¼Œå¹¶ä¸”ä¸éœ€è¦é¢å¤–çš„å¤æ‚æ€§ã€‚
éå‚æ•°åŒ–æ¨¡å‹ï¼šä¸çº¿æ€§æ¨¡å‹ç­‰å‚æ•°åŒ–æ¨¡å‹ä¸åŒï¼Œå†³ç­–æ ‘é€šå¸¸è¢«è®¤ä¸ºæ˜¯éå‚æ•°åŒ–çš„ï¼Œå› ä¸ºæ¨¡å‹çš„å¤æ‚åº¦ä¸å—æ•°æ®åˆ†å¸ƒçš„å½±å“ã€‚
3. æ¨¡å‹æ„å»ºè¿‡ç¨‹
å†³ç­–æ ‘çš„æ„å»ºåŒ…æ‹¬ä»¥ä¸‹æ­¥éª¤ï¼š
ç‰¹å¾é€‰æ‹©ï¼šæ ¹æ®ä¸åŒçš„æ ‡å‡†ï¼ˆå¦‚ä¿¡æ¯å¢ç›Šã€åŸºå°¼ä¸çº¯åº¦ç­‰ï¼‰ï¼Œé€‰æ‹©æœ€ä½³çš„ç‰¹å¾æ¥åˆ†è£‚æ•°æ®é›†ã€‚
æ ‘çš„æ„å»ºï¼šä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œé€’å½’åœ°é€‰æ‹©æœ€ä½³ç‰¹å¾è¿›è¡Œåˆ†è£‚ï¼Œç›´åˆ°å¶èŠ‚ç‚¹è¾¾åˆ°é¢„å®šçš„åœæ­¢æ¡ä»¶ï¼ˆå¦‚èŠ‚ç‚¹æ•°ã€æ·±åº¦ã€ä¿¡æ¯å¢ç›Šé˜ˆå€¼ç­‰ï¼‰ã€‚
4. åº”ç”¨é¢†åŸŸ
å†³ç­–æ ‘æ¨¡å‹åœ¨ä»¥ä¸‹æ–¹é¢æœ‰å¹¿æ³›åº”ç”¨ï¼š
åˆ†ç±»é—®é¢˜ï¼šå¦‚å®¢æˆ·ä¿¡ç”¨è¯„ä¼°ã€ç–¾ç—…è¯Šæ–­ç­‰ã€‚
å›å½’é—®é¢˜ï¼šå¦‚æˆ¿ä»·é¢„æµ‹ã€è‚¡ç¥¨ä»·æ ¼é¢„æµ‹ç­‰ã€‚
ç‰¹å¾é€‰æ‹©ï¼šå†³ç­–æ ‘å¯ä»¥ç”¨äºç‰¹å¾é€‰æ‹©ï¼Œå¸®åŠ©è¯†åˆ«æœ€é‡è¦çš„ç‰¹å¾ã€‚
5. å‚æ•°è°ƒä¼˜
å†³ç­–æ ‘æ¨¡å‹çš„å‚æ•°åŒ…æ‹¬æ ‘çš„æ·±åº¦ã€åˆ†è£‚æ ‡å‡†ï¼ˆå¦‚ä¿¡æ¯å¢ç›Šã€åŸºå°¼ä¸çº¯åº¦ï¼‰ã€å¶èŠ‚ç‚¹æœ€å°æ ·æœ¬æ•°ç­‰ï¼Œè°ƒä¼˜è¿™äº›å‚æ•°å¯ä»¥ä¼˜åŒ–æ¨¡å‹çš„æ€§èƒ½å’Œæ³›åŒ–èƒ½åŠ›ã€‚
6. å¯èƒ½çš„å±€é™æ€§
è¿‡æ‹Ÿåˆï¼šå®¹æ˜“åœ¨è®­ç»ƒæ•°æ®ä¸Šè¿‡æ‹Ÿåˆï¼Œå¯ä»¥é€šè¿‡å‰ªæã€è®¾ç½®æœ€å°å¶èŠ‚ç‚¹æ•°ç­‰æ–¹æ³•ç¼“è§£ã€‚
å¯¹æ•°æ®å™ªå£°æ•æ„Ÿï¼šå†³ç­–æ ‘å¯¹æ•°æ®ä¸­çš„å™ªå£°å’Œå¼‚å¸¸å€¼æ¯”è¾ƒæ•æ„Ÿï¼Œå¯èƒ½ä¼šå¯¼è‡´è¿‡åº¦æ‹Ÿåˆã€‚
æ­£æ–‡ 01-å›å½’æ ‘çš„å›å½’é¢å±•ç¤º è¿™æ®µä»£ç ä¸»è¦æ˜¯ç”¨æ¥æ¯”è¾ƒçº¿æ€§å›å½’æ¨¡å‹å’Œå†³ç­–æ ‘å›å½’æ¨¡å‹åœ¨ç”Ÿæˆçš„å›å½’é¢ä¸Šçš„è¡¨ç°ï¼Œå¹¶ä¸”å°†ç»“æœå¯è§†åŒ–ã€‚
æ•°æ®ç”Ÿæˆå’Œæ¨¡å‹è®­ç»ƒéƒ¨åˆ†:
make_regression: ç”Ÿæˆä¸€ä¸ªå…·æœ‰çº¿æ€§å…³ç³»çš„åˆæˆæ•°æ®é›†Â XÂ å’Œå¯¹åº”çš„ç›®æ ‡å˜é‡Â Yã€‚modelLR.fit(X, Y): ä½¿ç”¨çº¿æ€§å›å½’æ¨¡å‹ (LinearRegression) å¯¹æ•°æ®è¿›è¡Œæ‹Ÿåˆã€‚modelDTC = tree.DecisionTreeRegressor(max_depth=5, random_state=123): åˆ›å»ºå†³ç­–æ ‘å›å½’æ¨¡å‹ (DecisionTreeRegressor)ï¼Œè®¾å®šæœ€å¤§æ·±åº¦ä¸º5ï¼Œå¹¶ä½¿ç”¨éšæœºçŠ¶æ€Â 123Â ä»¥ç¡®ä¿ç»“æœçš„å¯å¤ç°æ€§ã€‚modelDTC.fit(X, Y): å¯¹æ•°æ®è¿›è¡Œå†³ç­–æ ‘å›å½’æ¨¡å‹çš„æ‹Ÿåˆã€‚ æ•°æ®å¯è§†åŒ–éƒ¨åˆ†:
plt.rcParams[&#39;font.sans-serif&#39;]=[&#39;SimHei&#39;]Â å’ŒÂ plt.rcParams[&#39;axes.unicode_minus&#39;]=False: è®¾ç½® matplotlib ä»¥æ”¯æŒä¸­æ–‡æ˜¾ç¤ºã€‚åˆ›å»ºä¸€ä¸ª 15x6 çš„å›¾å½¢ (fig)ï¼ŒåŒ…å«ä¸¤ä¸ªå­å›¾ (ax0Â å’ŒÂ ax1)ï¼Œæ¯ä¸ªå­å›¾éƒ½æ˜¯ 3D æŠ•å½± (projection=&#39;3d&#39;)ã€‚ax0Â ç»˜åˆ¶çº¿æ€§å›å½’æ¨¡å‹çš„å›å½’é¢ï¼š ä½¿ç”¨Â scatterÂ ç»˜åˆ¶åŸå§‹æ•°æ®ç‚¹ï¼Œå…¶ä¸­é¢œè‰²æ ¹æ®æ¨¡å‹é¢„æµ‹å€¼å’ŒçœŸå®å€¼çš„å…³ç³»è€Œå®šã€‚ä½¿ç”¨Â plot_wireframeÂ å’ŒÂ plot_surfaceÂ ç»˜åˆ¶çº¿æ€§å›å½’æ¨¡å‹çš„å›å½’é¢ã€‚ax1Â ç»˜åˆ¶å†³ç­–æ ‘å›å½’æ¨¡å‹çš„å›å½’é¢ï¼š åŒæ ·ä½¿ç”¨Â scatterÂ ç»˜åˆ¶åŸå§‹æ•°æ®ç‚¹ï¼Œå¹¶æ ¹æ®å†³ç­–æ ‘æ¨¡å‹çš„é¢„æµ‹ç»“æœç€è‰²ã€‚ä½¿ç”¨Â plot_wireframeÂ å’ŒÂ plot_surfaceÂ ç»˜åˆ¶å†³ç­–æ ‘å›å½’æ¨¡å‹çš„å›å½’é¢ã€‚è®¾ç½®æ¯ä¸ªå­å›¾çš„æ ‡é¢˜å’Œåæ ‡è½´æ ‡ç­¾ã€‚ä½¿ç”¨Â fig.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-06-18T10:52:24+08:00">
    <meta property="article:modified_time" content="2024-06-18T10:52:24+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ç¼–ç¨‹å¤§å’–" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ç¼–ç¨‹å¤§å’–</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">ã€Pythonæœºå™¨å­¦ä¹ å®æˆ˜ã€‘ | åŸºäºå†³ç­–æ ‘çš„è¯ç‰©ç ”ç©¶åˆ†ç±»é¢„æµ‹</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><img src="https://images2.imgbox.com/65/d8/UMuvOfyY_o.png" alt="34889d2e7fec4a02bb0ae3a22b011a2a.png"></p> 
<blockquote> 
 <p style="text-align:center;"><u>ğŸ© <strong>æ¬¢è¿æ¥åˆ°æŠ€æœ¯æ¢ç´¢çš„å¥‡å¹»ä¸–ç•Œ</strong>ğŸ‘¨â€ğŸ’»</u></p> 
 <p style="text-align:center;"><u>ğŸ“œ <strong>ä¸ªäººä¸»é¡µ</strong></u><a href="https://blog.csdn.net/m0_64336780" title="ï¼š">ï¼š</a><a href="https://blog.csdn.net/m0_59951855?type=lately" title="@ä¸€ä¼¦æ˜æ‚¦-CSDNåšå®¢">@ä¸€ä¼¦æ˜æ‚¦-CSDNåšå®¢</a></p> 
 <p style="text-align:center;"><u>âœğŸ» <strong>ä½œè€…ç®€ä»‹</strong></u>ï¼šÂ <strong>C++è½¯ä»¶å¼€å‘ã€Pythonæœºå™¨å­¦ä¹ çˆ±å¥½è€…</strong></p> 
 <p style="text-align:center;"><u>ğŸ—£ï¸Â </u><strong><u>äº’åŠ¨ä¸æ”¯æŒ</u>ï¼š</strong>ğŸ’¬<strong>è¯„è®ºÂ </strong>Â  Â  Â ğŸ‘ğŸ»<strong>ç‚¹èµÂ </strong>Â  Â  Â ğŸ“‚<strong>æ”¶è—Â </strong>Â  Â  ğŸ‘€<strong>å…³æ³¨+</strong></p> 
 <p style="text-align:center;"><u><em><strong>å¦‚æœæ–‡ç« æœ‰æ‰€å¸®åŠ©ï¼Œæ¬¢è¿ç•™ä¸‹æ‚¨å®è´µçš„è¯„è®ºï¼Œ</strong></em></u></p> 
 <p style="text-align:center;"><u><em><strong>ç‚¹èµåŠ æ”¶è—æ”¯æŒæˆ‘ï¼Œç‚¹å‡»å…³æ³¨ï¼Œä¸€èµ·è¿›æ­¥ï¼</strong></em></u></p> 
</blockquote> 
<h2>å¼•è¨€</h2> 
<blockquote> 
 <p>å†³ç­–æ ‘æ¨¡å‹æ˜¯ä¸€ç§åŸºäºæ ‘ç»“æ„è¿›è¡Œå†³ç­–çš„ç›‘ç£å­¦ä¹ ç®—æ³•ï¼Œå®ƒåœ¨æœºå™¨å­¦ä¹ å’Œæ•°æ®æŒ–æ˜ä¸­è¢«å¹¿æ³›åº”ç”¨ã€‚ä»¥ä¸‹æ˜¯å…³äºå†³ç­–æ ‘æ¨¡å‹çš„è¯¦ç»†ä»‹ç»ï¼š</p> 
 <p>1. æ¨¡å‹åŸç†</p> 
 <p>å†³ç­–æ ‘æ¨¡å‹åŸºäºæ ‘å½¢ç»“æ„æ¥è¿›è¡Œå†³ç­–ï¼Œæ ‘çš„æ¯ä¸ªå†…éƒ¨èŠ‚ç‚¹è¡¨ç¤ºä¸€ä¸ªå±æ€§ä¸Šçš„å†³ç­–è§„åˆ™ï¼Œæ¯ä¸ªå¶èŠ‚ç‚¹è¡¨ç¤ºä¸€ä¸ªç±»åˆ«æ ‡ç­¾ï¼ˆæˆ–è€…åœ¨å›å½’é—®é¢˜ä¸­æ˜¯ä¸€ä¸ªæ•°å€¼ï¼‰ã€‚æ¨¡å‹é€šè¿‡å­¦ä¹ ä»æ•°æ®ç‰¹å¾åˆ°ç›®æ ‡å€¼çš„æ˜ å°„å…³ç³»æ¥è¿›è¡Œé¢„æµ‹ã€‚</p> 
 <p>2. ç‰¹ç‚¹å’Œä¼˜åŠ¿</p> 
 <ul><li> <p><strong>æ˜“äºç†è§£å’Œè§£é‡Š</strong>ï¼šç”Ÿæˆçš„å†³ç­–æ ‘å¯ä»¥ç›´è§‚åœ°å±•ç¤ºå†³ç­–è¿‡ç¨‹ï¼Œä¾¿äºè§£é‡Šç»™å®šç‰¹å¾æ¡ä»¶ä¸‹çš„é¢„æµ‹ç»“æœã€‚</p> </li><li> <p><strong>èƒ½å¤„ç†æ•°å€¼å‹å’Œç±»åˆ«å‹æ•°æ®</strong>ï¼šå†³ç­–æ ‘æ¨¡å‹å¯ä»¥å¤„ç†å„ç§ç±»å‹çš„æ•°æ®ï¼Œä¸éœ€è¦é¢å¤–çš„æ•°æ®é¢„å¤„ç†ï¼ˆå¦‚æ ‡å‡†åŒ–ï¼‰ã€‚</p> </li><li> <p><strong>å¯ä»¥å¤„ç†å¤šè¾“å‡ºé—®é¢˜</strong>ï¼šå†³ç­–æ ‘å¯ä»¥ç›´æ¥æ‰©å±•åˆ°å¤šè¾“å‡ºé—®é¢˜ï¼Œå¹¶ä¸”ä¸éœ€è¦é¢å¤–çš„å¤æ‚æ€§ã€‚</p> </li><li> <p><strong>éå‚æ•°åŒ–æ¨¡å‹</strong>ï¼šä¸çº¿æ€§æ¨¡å‹ç­‰å‚æ•°åŒ–æ¨¡å‹ä¸åŒï¼Œå†³ç­–æ ‘é€šå¸¸è¢«è®¤ä¸ºæ˜¯éå‚æ•°åŒ–çš„ï¼Œå› ä¸ºæ¨¡å‹çš„å¤æ‚åº¦ä¸å—æ•°æ®åˆ†å¸ƒçš„å½±å“ã€‚</p> </li></ul> 
 <p>3. æ¨¡å‹æ„å»ºè¿‡ç¨‹</p> 
 <p>å†³ç­–æ ‘çš„æ„å»ºåŒ…æ‹¬ä»¥ä¸‹æ­¥éª¤ï¼š</p> 
 <ul><li> <p><strong>ç‰¹å¾é€‰æ‹©</strong>ï¼šæ ¹æ®ä¸åŒçš„æ ‡å‡†ï¼ˆå¦‚ä¿¡æ¯å¢ç›Šã€åŸºå°¼ä¸çº¯åº¦ç­‰ï¼‰ï¼Œé€‰æ‹©æœ€ä½³çš„ç‰¹å¾æ¥åˆ†è£‚æ•°æ®é›†ã€‚</p> </li><li> <p><strong>æ ‘çš„æ„å»º</strong>ï¼šä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œé€’å½’åœ°é€‰æ‹©æœ€ä½³ç‰¹å¾è¿›è¡Œåˆ†è£‚ï¼Œç›´åˆ°å¶èŠ‚ç‚¹è¾¾åˆ°é¢„å®šçš„åœæ­¢æ¡ä»¶ï¼ˆå¦‚èŠ‚ç‚¹æ•°ã€æ·±åº¦ã€ä¿¡æ¯å¢ç›Šé˜ˆå€¼ç­‰ï¼‰ã€‚</p> </li></ul> 
 <p>4. åº”ç”¨é¢†åŸŸ</p> 
 <p>å†³ç­–æ ‘æ¨¡å‹åœ¨ä»¥ä¸‹æ–¹é¢æœ‰å¹¿æ³›åº”ç”¨ï¼š</p> 
 <ul><li> <p><strong>åˆ†ç±»é—®é¢˜</strong>ï¼šå¦‚å®¢æˆ·ä¿¡ç”¨è¯„ä¼°ã€ç–¾ç—…è¯Šæ–­ç­‰ã€‚</p> </li><li> <p><strong>å›å½’é—®é¢˜</strong>ï¼šå¦‚æˆ¿ä»·é¢„æµ‹ã€è‚¡ç¥¨ä»·æ ¼é¢„æµ‹ç­‰ã€‚</p> </li><li> <p><strong>ç‰¹å¾é€‰æ‹©</strong>ï¼šå†³ç­–æ ‘å¯ä»¥ç”¨äºç‰¹å¾é€‰æ‹©ï¼Œå¸®åŠ©è¯†åˆ«æœ€é‡è¦çš„ç‰¹å¾ã€‚</p> </li></ul> 
 <p>5. å‚æ•°è°ƒä¼˜</p> 
 <p>å†³ç­–æ ‘æ¨¡å‹çš„å‚æ•°åŒ…æ‹¬æ ‘çš„æ·±åº¦ã€åˆ†è£‚æ ‡å‡†ï¼ˆå¦‚ä¿¡æ¯å¢ç›Šã€åŸºå°¼ä¸çº¯åº¦ï¼‰ã€å¶èŠ‚ç‚¹æœ€å°æ ·æœ¬æ•°ç­‰ï¼Œè°ƒä¼˜è¿™äº›å‚æ•°å¯ä»¥ä¼˜åŒ–æ¨¡å‹çš„æ€§èƒ½å’Œæ³›åŒ–èƒ½åŠ›ã€‚</p> 
 <p>6. å¯èƒ½çš„å±€é™æ€§</p> 
 <ul><li> <p><strong>è¿‡æ‹Ÿåˆ</strong>ï¼šå®¹æ˜“åœ¨è®­ç»ƒæ•°æ®ä¸Šè¿‡æ‹Ÿåˆï¼Œå¯ä»¥é€šè¿‡å‰ªæã€è®¾ç½®æœ€å°å¶èŠ‚ç‚¹æ•°ç­‰æ–¹æ³•ç¼“è§£ã€‚</p> </li><li> <p><strong>å¯¹æ•°æ®å™ªå£°æ•æ„Ÿ</strong>ï¼šå†³ç­–æ ‘å¯¹æ•°æ®ä¸­çš„å™ªå£°å’Œå¼‚å¸¸å€¼æ¯”è¾ƒæ•æ„Ÿï¼Œå¯èƒ½ä¼šå¯¼è‡´è¿‡åº¦æ‹Ÿåˆã€‚</p> </li></ul> 
</blockquote> 
<h2>æ­£æ–‡</h2> 
<h3>01-å›å½’æ ‘çš„å›å½’é¢å±•ç¤º</h3> 
<blockquote> 
 <p>è¿™æ®µä»£ç ä¸»è¦æ˜¯ç”¨æ¥æ¯”è¾ƒçº¿æ€§å›å½’æ¨¡å‹å’Œå†³ç­–æ ‘å›å½’æ¨¡å‹åœ¨ç”Ÿæˆçš„å›å½’é¢ä¸Šçš„è¡¨ç°ï¼Œå¹¶ä¸”å°†ç»“æœå¯è§†åŒ–ã€‚</p> 
 <ol><li> <p><strong>æ•°æ®ç”Ÿæˆå’Œæ¨¡å‹è®­ç»ƒéƒ¨åˆ†</strong>:</p> 
   <ul><li><code>make_regression</code>: ç”Ÿæˆä¸€ä¸ªå…·æœ‰çº¿æ€§å…³ç³»çš„åˆæˆæ•°æ®é›†Â <code>X</code>Â å’Œå¯¹åº”çš„ç›®æ ‡å˜é‡Â <code>Y</code>ã€‚</li><li><code>modelLR.fit(X, Y)</code>: ä½¿ç”¨çº¿æ€§å›å½’æ¨¡å‹ (<code>LinearRegression</code>) å¯¹æ•°æ®è¿›è¡Œæ‹Ÿåˆã€‚</li><li><code>modelDTC = tree.DecisionTreeRegressor(max_depth=5, random_state=123)</code>: åˆ›å»ºå†³ç­–æ ‘å›å½’æ¨¡å‹ (<code>DecisionTreeRegressor</code>)ï¼Œè®¾å®šæœ€å¤§æ·±åº¦ä¸º5ï¼Œå¹¶ä½¿ç”¨éšæœºçŠ¶æ€Â <code>123</code>Â ä»¥ç¡®ä¿ç»“æœçš„å¯å¤ç°æ€§ã€‚</li><li><code>modelDTC.fit(X, Y)</code>: å¯¹æ•°æ®è¿›è¡Œå†³ç­–æ ‘å›å½’æ¨¡å‹çš„æ‹Ÿåˆã€‚</li></ul></li><li> <p><strong>æ•°æ®å¯è§†åŒ–éƒ¨åˆ†</strong>:</p> 
   <ul><li><code>plt.rcParams['font.sans-serif']=['SimHei']</code>Â å’ŒÂ <code>plt.rcParams['axes.unicode_minus']=False</code>: è®¾ç½® matplotlib ä»¥æ”¯æŒä¸­æ–‡æ˜¾ç¤ºã€‚</li><li>åˆ›å»ºä¸€ä¸ª 15x6 çš„å›¾å½¢ (<code>fig</code>)ï¼ŒåŒ…å«ä¸¤ä¸ªå­å›¾ (<code>ax0</code>Â å’ŒÂ <code>ax1</code>)ï¼Œæ¯ä¸ªå­å›¾éƒ½æ˜¯ 3D æŠ•å½± (<code>projection='3d'</code>)ã€‚</li><li><code>ax0</code>Â ç»˜åˆ¶çº¿æ€§å›å½’æ¨¡å‹çš„å›å½’é¢ï¼š 
     <ul><li>ä½¿ç”¨Â <code>scatter</code>Â ç»˜åˆ¶åŸå§‹æ•°æ®ç‚¹ï¼Œå…¶ä¸­é¢œè‰²æ ¹æ®æ¨¡å‹é¢„æµ‹å€¼å’ŒçœŸå®å€¼çš„å…³ç³»è€Œå®šã€‚</li><li>ä½¿ç”¨Â <code>plot_wireframe</code>Â å’ŒÂ <code>plot_surface</code>Â ç»˜åˆ¶çº¿æ€§å›å½’æ¨¡å‹çš„å›å½’é¢ã€‚</li></ul></li><li><code>ax1</code>Â ç»˜åˆ¶å†³ç­–æ ‘å›å½’æ¨¡å‹çš„å›å½’é¢ï¼š 
     <ul><li>åŒæ ·ä½¿ç”¨Â <code>scatter</code>Â ç»˜åˆ¶åŸå§‹æ•°æ®ç‚¹ï¼Œå¹¶æ ¹æ®å†³ç­–æ ‘æ¨¡å‹çš„é¢„æµ‹ç»“æœç€è‰²ã€‚</li><li>ä½¿ç”¨Â <code>plot_wireframe</code>Â å’ŒÂ <code>plot_surface</code>Â ç»˜åˆ¶å†³ç­–æ ‘å›å½’æ¨¡å‹çš„å›å½’é¢ã€‚</li></ul></li><li>è®¾ç½®æ¯ä¸ªå­å›¾çš„æ ‡é¢˜å’Œåæ ‡è½´æ ‡ç­¾ã€‚</li><li>ä½¿ç”¨Â <code>fig.subplots_adjust(wspace=0)</code>Â è°ƒæ•´å­å›¾ä¹‹é—´çš„æ°´å¹³é—´è·ã€‚</li><li>æœ€åé€šè¿‡Â <code>plt.savefig("../4.png", dpi=300)</code>Â å°†ç”Ÿæˆçš„å›¾å½¢ä¿å­˜ä¸º PNG æ–‡ä»¶ã€‚</li></ul></li></ol> 
 <p>è¿™æ®µä»£ç çš„ä¸»è¦ä½œç”¨æ˜¯é€šè¿‡æ¯”è¾ƒå¯è§†åŒ–çº¿æ€§å›å½’æ¨¡å‹å’Œå†³ç­–æ ‘å›å½’æ¨¡å‹çš„å›å½’é¢ï¼Œå±•ç¤ºå®ƒä»¬åœ¨é¢„æµ‹åˆæˆæ•°æ®é›†æ—¶çš„å·®å¼‚å’Œç‰¹ç‚¹ã€‚</p> 
</blockquote> 
<pre><code class="language-python">import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
from mpl_toolkits.mplot3d import Axes3D
import warnings
warnings.filterwarnings(action = 'ignore')
%matplotlib inline
plt.rcParams['font.sans-serif']=['SimHei']  #è§£å†³ä¸­æ–‡æ˜¾ç¤ºä¹±ç é—®é¢˜
plt.rcParams['axes.unicode_minus']=False
import sklearn.linear_model as LM
from sklearn.metrics import classification_report
from sklearn.model_selection import cross_val_score,train_test_split
from sklearn.datasets import make_regression
from sklearn import tree
from sklearn.preprocessing import LabelEncoder

X,Y=make_regression(n_samples=200,n_features=2,n_informative=2,noise=10,random_state=666)
modelLR=LM.LinearRegression()
modelLR.fit(X,Y)
modelDTC = tree.DecisionTreeRegressor(max_depth=5,random_state=123)
modelDTC.fit(X,Y)
data=pd.DataFrame(X)

x,y = np.meshgrid(np.linspace(X[:,0].min(),X[:,0].max(),10), np.linspace(X[:,1].min(),X[:,1].max(),10))
Xtmp=np.column_stack((x.flatten(),y.flatten())) #Xtmp=np.hstack((x.reshape(100,1),y.reshape(100,1)))

fig = plt.figure(figsize=(15,6))
ax0 = fig.add_subplot(121, projection='3d') 
data['col']='grey'
data.loc[modelLR.predict(X)&lt;=Y,'col']='blue' 
ax0.scatter(X[:,0],X[:,1],Y,marker='o',s=6,c=data['col'])
ax0.plot_wireframe(x, y, modelLR.predict(Xtmp).reshape(10,10),linewidth=1)
ax0.plot_surface(x, y, modelLR.predict(Xtmp).reshape(10,10), alpha=0.3)
ax0.set_xlabel('X1')
ax0.set_ylabel('X2')
ax0.set_zlabel('Y')
ax0.set_title('çº¿æ€§å›å½’æ¨¡å‹çš„å›å½’é¢')

ax1 = fig.add_subplot(122, projection='3d') 
data['col']='grey'
data.loc[modelDTC.predict(X)&lt;=Y,'col']='blue' 
ax1.scatter(X[:,0],X[:,1],Y,marker='o',s=6,c=data['col'])
ax1.plot_wireframe(x, y, modelDTC.predict(Xtmp).reshape(10,10),linewidth=1)
ax1.plot_surface(x, y, modelDTC.predict(Xtmp).reshape(10,10), alpha=0.3)
ax1.set_xlabel('X1')
ax1.set_ylabel('X2')
ax1.set_zlabel('Y')
ax1.set_title('å›å½’æ ‘çš„å›å½’é¢')
#fig.subplots_adjust(hspace=0.5)
fig.subplots_adjust(wspace=0)
plt.savefig("../4.png", dpi=300)</code></pre> 
<p>è¿è¡Œç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºÂ </p> 
<p><img src="https://images2.imgbox.com/7c/37/q66klQcf_o.png" alt="77cc57545bcb4e59afa0aa50a0351c70.png"></p> 
<h3>02-ä¸åŒæ ‘æ·±åº¦çš„å†³ç­–æ ‘è¿›è¡Œåˆ†ç±»é¢„æµ‹</h3> 
<blockquote> 
 <p>è¿™æ®µä»£ç çš„ä¸»è¦ç›®çš„æ˜¯ç”Ÿæˆå¹¶å¯è§†åŒ–ä¸åŒæ·±åº¦çš„å†³ç­–æ ‘åœ¨åˆ†ç±»ä»»åŠ¡ä¸Šçš„è¡¨ç°ã€‚</p> 
 <ol><li> <p><strong>æ•°æ®ç”Ÿæˆéƒ¨åˆ†</strong>:</p> 
   <ul><li><code>np.random.seed(123)</code>: è®¾ç½®éšæœºç§å­ä»¥ç¡®ä¿ç»“æœçš„å¯é‡ç°æ€§ã€‚</li><li><code>N=50</code>Â å’ŒÂ <code>n=int(0.5*N)</code>: å®šä¹‰æ ·æœ¬æ•°é‡å’Œæ¯ä¸ªç±»åˆ«çš„æ ·æœ¬æ•°é‡ã€‚</li><li><code>X=np.random.normal(0,1,size=100).reshape(N,2)</code>: ç”Ÿæˆæœä»æ­£æ€åˆ†å¸ƒçš„æ•°æ®é›†Â <code>X</code>ï¼Œå…±50ä¸ªæ ·æœ¬ï¼Œæ¯ä¸ªæ ·æœ¬æœ‰2ä¸ªç‰¹å¾ã€‚</li><li><code>Y=[0]*n+[1]*n</code>: ç”Ÿæˆç±»åˆ«æ ‡ç­¾ï¼Œå‰åŠéƒ¨åˆ†ä¸º0ï¼ŒååŠéƒ¨åˆ†ä¸º1ã€‚</li><li><code>X[0:n]=X[0:n]+1.5</code>: å°†å‰åŠéƒ¨åˆ†ç±»åˆ«çš„æ ·æœ¬ç‰¹å¾å€¼å¢åŠ 1.5ï¼Œä½¿å¾—æ•°æ®é›†å…·æœ‰æ˜æ˜¾çš„ç±»åˆ«åˆ†ç¦»ç‰¹å¾ã€‚</li><li><code>X1,X2 = np.meshgrid(...)</code>: ç”Ÿæˆç”¨äºç»˜åˆ¶å†³ç­–è¾¹ç•Œçš„ç½‘æ ¼æ•°æ®ã€‚</li></ul></li><li> <p><strong>æ¨¡å‹è®­ç»ƒå’Œå¯è§†åŒ–éƒ¨åˆ†</strong>:</p> 
   <ul><li><code>fig,axes=plt.subplots(nrows=2,ncols=2,figsize=(15,12))</code>: åˆ›å»ºä¸€ä¸ªåŒ…å«4ä¸ªå­å›¾çš„å›¾å½¢ã€‚</li><li>å¾ªç¯éå†ä¸åŒçš„å†³ç­–æ ‘æ·±åº¦Â <code>(2, 4, 6, 8)</code>: 
     <ul><li><code>modelDTC = tree.DecisionTreeClassifier(max_depth=K,random_state=123)</code>: åˆ›å»ºå†³ç­–æ ‘åˆ†ç±»å™¨æ¨¡å‹ï¼Œè®¾å®šæœ€å¤§æ·±åº¦ä¸ºÂ <code>K</code>ã€‚</li><li><code>modelDTC.fit(X,Y)</code>: ä½¿ç”¨ç”Ÿæˆçš„æ•°æ®é›†Â <code>X</code>Â å’Œæ ‡ç­¾Â <code>Y</code>Â è¿›è¡Œæ¨¡å‹è®­ç»ƒã€‚</li><li><code>Yhat=modelDTC.predict(data)</code>: å¯¹ç½‘æ ¼æ•°æ®Â <code>data</code>Â è¿›è¡Œé¢„æµ‹ï¼Œè·å–åˆ†ç±»ç»“æœã€‚</li><li>ç»˜åˆ¶å­å›¾ä¸­çš„æ•£ç‚¹å›¾ï¼š 
       <ul><li><code>axes[H,L].scatter(data[Yhat==k,0],data[Yhat==k,1],color=c,marker='o',s=1)</code>: æ ¹æ®é¢„æµ‹ç»“æœå°†åˆ†ç±»ç»“æœå¯è§†åŒ–ï¼Œå…¶ä¸­Â <code>k</code>Â è¡¨ç¤ºåˆ†ç±»æ ‡ç­¾ï¼Œ<code>c</code>Â è¡¨ç¤ºé¢œè‰²ã€‚</li><li><code>axes[H,L].scatter(X[:n,0],X[:n,1],color='black',marker='+')</code>: ç»˜åˆ¶è®­ç»ƒé›†ä¸­ç±»åˆ«0çš„æ ·æœ¬ã€‚</li><li><code>axes[H,L].scatter(X[(n+1):N,0],X[(n+1):N,1],color='magenta',marker='o')</code>: ç»˜åˆ¶è®­ç»ƒé›†ä¸­ç±»åˆ«1çš„æ ·æœ¬ã€‚</li></ul></li><li>è®¾ç½®å­å›¾çš„æ ‡é¢˜å’Œåæ ‡è½´æ ‡ç­¾ã€‚</li><li><code>"%då±‚å†³ç­–æ ‘(è®­ç»ƒè¯¯å·®%.2f)"%((K,1-modelDTC.score(X,Y)))</code>: è®¾ç½®å­å›¾çš„æ ‡é¢˜ï¼ŒåŒ…å«å†³ç­–æ ‘æ·±åº¦å’Œè®­ç»ƒè¯¯å·®ã€‚</li></ul></li></ul></li><li> <p><strong>ä¿å­˜å›¾å½¢</strong>:</p> 
   <ul><li><code>plt.savefig("../4.png", dpi=300)</code>: å°†ç”Ÿæˆçš„å›¾å½¢ä¿å­˜ä¸º PNG æ–‡ä»¶ã€‚</li></ul></li></ol> 
 <p>è¿™æ®µä»£ç ä¸»è¦ç”¨äºæ¯”è¾ƒä¸åŒæ·±åº¦çš„å†³ç­–æ ‘åˆ†ç±»å™¨åœ¨ç”Ÿæˆçš„åˆæˆæ•°æ®ä¸Šçš„åˆ†ç±»æ•ˆæœï¼Œå¹¶é€šè¿‡æ•£ç‚¹å›¾å¯è§†åŒ–ä¸åŒæ·±åº¦å†³ç­–æ ‘çš„å†³ç­–è¾¹ç•Œå’Œåˆ†ç±»æ•ˆæœï¼Œä»¥ä¾¿äºç›´è§‚åœ°ç†è§£å’Œæ¯”è¾ƒä¸åŒæ·±åº¦å†³ç­–æ ‘çš„è¡¨ç°ã€‚</p> 
</blockquote> 
<pre><code class="language-python">import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
from mpl_toolkits.mplot3d import Axes3D
import warnings
warnings.filterwarnings(action = 'ignore')
%matplotlib inline
plt.rcParams['font.sans-serif']=['SimHei']  #è§£å†³ä¸­æ–‡æ˜¾ç¤ºä¹±ç é—®é¢˜
plt.rcParams['axes.unicode_minus']=False
import sklearn.linear_model as LM
from sklearn.metrics import classification_report
from sklearn.model_selection import cross_val_score,train_test_split
from sklearn.datasets import make_regression
from sklearn import tree
from sklearn.preprocessing import LabelEncoder

np.random.seed(123)
N=50
n=int(0.5*N)
X=np.random.normal(0,1,size=100).reshape(N,2)
Y=[0]*n+[1]*n
X[0:n]=X[0:n]+1.5
X1,X2 = np.meshgrid(np.linspace(X[:,0].min(),X[:,0].max(),100), np.linspace(X[:,1].min(),X[:,1].max(),100))
data=np.hstack((X1.reshape(10000,1),X2.reshape(10000,1)))

fig,axes=plt.subplots(nrows=2,ncols=2,figsize=(15,12))
for K,H,L in [(2,0,0),(4,0,1),(6,1,0),(8,1,1)]:
    modelDTC = tree.DecisionTreeClassifier(max_depth=K,random_state=123)
    modelDTC.fit(X,Y)
    Yhat=modelDTC.predict(data)    
    for k,c in [(0,'silver'),(1,'red')]:
        axes[H,L].scatter(data[Yhat==k,0],data[Yhat==k,1],color=c,marker='o',s=1)
    axes[H,L].scatter(X[:n,0],X[:n,1],color='black',marker='+')
    axes[H,L].scatter(X[(n+1):N,0],X[(n+1):N,1],color='magenta',marker='o')
    axes[H,L].set_xlabel("X1")
    axes[H,L].set_ylabel("X2")
    axes[H,L].set_title("%då±‚å†³ç­–æ ‘(è®­ç»ƒè¯¯å·®%.2f)"%((K,1-modelDTC.score(X,Y))))
plt.savefig("../4.png", dpi=300)</code></pre> 
<p>Â è¿è¡Œç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºÂ </p> 
<p><img src="https://images2.imgbox.com/6f/ab/3efTGVfj_o.png" alt="4c37ce867e2445ddbde4c07691f86573.png"></p> 
<h3>03-å¯¹æ¯”ä¸¤ä¸ªå¼‚è´¨æ€§åº¦é‡æŒ‡æ ‡</h3> 
<blockquote> 
 <p>è¿™æ®µä»£ç çš„ä¸»è¦ç›®çš„æ˜¯æ¯”è¾ƒäºŒåˆ†ç±»ä»»åŠ¡ä¸­åŸºå°¼ç³»æ•°å’Œç†µçš„å˜åŒ–ï¼Œå¹¶è¿›è¡Œå½’ä¸€åŒ–å¤„ç†åçš„æ¯”è¾ƒï¼Œæœ€ç»ˆç”Ÿæˆå¯è§†åŒ–å›¾å½¢ä¿å­˜ä¸ºå›¾ç‰‡ã€‚</p> 
 <ol><li> <p><strong>å¯¼å…¥åº“å’Œè®¾ç½®</strong>:</p> 
   <ul><li>å¯¼å…¥å¿…è¦çš„åº“ï¼ŒåŒ…æ‹¬NumPyã€Pandasã€Matplotlibç­‰ã€‚</li><li>è®¾ç½®è­¦å‘Šå¿½ç•¥å’Œä¸­æ–‡æ˜¾ç¤ºè®¾ç½®ã€‚</li></ul></li><li> <p><strong>åˆ›å»ºå›¾å½¢å’Œå­å›¾</strong>:</p> 
   <ul><li><code>fig,axes=plt.subplots(nrows=1,ncols=2,figsize=(15,6))</code>: åˆ›å»ºä¸€ä¸ªåŒ…å«ä¸¤ä¸ªå­å›¾çš„å›¾å½¢ï¼Œæ¯ä¸ªå­å›¾æ’åˆ—åœ¨ä¸€è¡Œä¸¤åˆ—çš„å¸ƒå±€ä¸­ï¼Œæ€»å›¾å½¢å¤§å°ä¸º15x6è‹±å¯¸ã€‚</li></ul></li><li> <p><strong>è®¡ç®—åŸºå°¼ç³»æ•°å’Œç†µ</strong>:</p> 
   <ul><li><code>P=np.linspace(0,1,20)</code>: ç”Ÿæˆ20ä¸ªåœ¨0åˆ°1ä¹‹é—´å‡åŒ€åˆ†å¸ƒçš„æ¦‚ç‡å€¼ã€‚</li><li>ä½¿ç”¨å¾ªç¯éå†æ¯ä¸ªæ¦‚ç‡å€¼Â <code>p</code>ï¼š 
     <ul><li>è®¡ç®—ç†µÂ <code>Ent</code>ï¼šå½“Â <code>p</code>Â ä¸º0æˆ–1æ—¶ç†µä¸º0ï¼Œå¦åˆ™æ ¹æ®ç†µçš„å…¬å¼è®¡ç®—ã€‚</li><li>è®¡ç®—åŸºå°¼ç³»æ•°Â <code>Gini</code>ï¼šæ ¹æ®åŸºå°¼ç³»æ•°çš„å…¬å¼è®¡ç®—ã€‚</li></ul></li></ul></li><li> <p><strong>ç»˜åˆ¶å›¾å½¢</strong>:</p> 
   <ul><li>åœ¨ç¬¬ä¸€ä¸ªå­å›¾Â <code>axes[0]</code>Â ä¸­ç»˜åˆ¶ä¸¤æ¡æ›²çº¿ï¼š 
     <ul><li><code>axes[0].plot(P,Ent,label='ç†µ')</code>: ç»˜åˆ¶ç†µéšæ¦‚ç‡å˜åŒ–çš„æ›²çº¿ã€‚</li><li><code>axes[0].plot(P,Gini,label='åŸºå°¼ç³»æ•°',linestyle='-.')</code>: ç»˜åˆ¶åŸºå°¼ç³»æ•°éšæ¦‚ç‡å˜åŒ–çš„æ›²çº¿ã€‚</li><li>è®¾ç½®æ ‡é¢˜Â <code>'äºŒåˆ†ç±»ä¸‹çš„åŸºå°¼ç³»æ•°å’Œç†µ'</code>ï¼Œä»¥åŠåæ ‡è½´æ ‡ç­¾å’Œå›¾ä¾‹ï¼Œä½¿å¾—å›¾å½¢ä¿¡æ¯æ¸…æ™°è¡¨è¾¾ã€‚</li><li><code>axes[0].grid(True, linestyle='-.')</code>: æ·»åŠ ç½‘æ ¼çº¿ï¼Œå¢å¼ºå¯è§†åŒ–æ•ˆæœã€‚</li></ul></li></ul></li><li> <p><strong>å½’ä¸€åŒ–å¤„ç†å¹¶ç»˜åˆ¶ç¬¬äºŒä¸ªå­å›¾</strong>:</p> 
   <ul><li>åœ¨ç¬¬äºŒä¸ªå­å›¾Â <code>axes[1]</code>Â ä¸­ï¼Œç»˜åˆ¶å½’ä¸€åŒ–å¤„ç†åçš„ç»“æœï¼š 
     <ul><li><code>axes[1].plot(P,Ent/sum(Ent),label='ç†µ')</code>: ç»˜åˆ¶å½’ä¸€åŒ–åçš„ç†µæ›²çº¿ã€‚</li><li><code>axes[1].plot(P,Gini/sum(Gini),label='åŸºå°¼ç³»æ•°',linestyle='-.')</code>: ç»˜åˆ¶å½’ä¸€åŒ–åçš„åŸºå°¼ç³»æ•°æ›²çº¿ã€‚</li><li>è®¾ç½®æ ‡é¢˜Â <code>'äºŒåˆ†ç±»ä¸‹å½’ä¸€åŒ–å¤„ç†åçš„åŸºå°¼ç³»æ•°å’Œç†µ'</code>ï¼Œä»¥åŠåæ ‡è½´æ ‡ç­¾å’Œå›¾ä¾‹ã€‚</li><li><code>axes[1].grid(True, linestyle='-.')</code>: æ·»åŠ ç½‘æ ¼çº¿ã€‚</li></ul></li></ul></li><li> <p><strong>ä¿å­˜å›¾å½¢</strong>:</p> 
   <ul><li><code>plt.savefig("../4.png", dpi=300)</code>: å°†ç”Ÿæˆçš„å›¾å½¢ä¿å­˜ä¸º PNG æ–‡ä»¶ï¼ŒæŒ‡å®šåˆ†è¾¨ç‡ä¸º300 DPIã€‚</li></ul></li></ol> 
 <p>è¿™æ®µä»£ç çš„ç›®çš„æ˜¯é€šè¿‡ç»˜åˆ¶åŸºå°¼ç³»æ•°å’Œç†µéšç€æ¦‚ç‡å˜åŒ–çš„æ›²çº¿ï¼Œå±•ç¤ºå®ƒä»¬åœ¨äºŒåˆ†ç±»é—®é¢˜ä¸­çš„å˜åŒ–è§„å¾‹ï¼Œå¹¶é€šè¿‡å½’ä¸€åŒ–å¤„ç†åçš„æ›²çº¿è¿›è¡Œå¯¹æ¯”ï¼Œå¸®åŠ©ç†è§£å’Œæ¯”è¾ƒè¿™ä¸¤ç§å¸¸ç”¨çš„åˆ†ç±»ä¸çº¯åº¦è¡¡é‡æŒ‡æ ‡ã€‚</p> 
</blockquote> 
<pre><code class="language-python">import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
from mpl_toolkits.mplot3d import Axes3D
import warnings
warnings.filterwarnings(action = 'ignore')
%matplotlib inline
plt.rcParams['font.sans-serif']=['SimHei']  #è§£å†³ä¸­æ–‡æ˜¾ç¤ºä¹±ç é—®é¢˜
plt.rcParams['axes.unicode_minus']=False
import sklearn.linear_model as LM
from sklearn.metrics import classification_report
from sklearn.model_selection import cross_val_score,train_test_split
from sklearn.datasets import make_regression
from sklearn import tree
from sklearn.preprocessing import LabelEncoder

fig,axes=plt.subplots(nrows=1,ncols=2,figsize=(15,6))
P=np.linspace(0,1,20)
Ent=[]
Gini=[]
for p in P:
    if (p==0) or (p==1):
        ent=0
    else:
        ent = -p * np.log2(p)-(1-p)*np.log2(1-p)
    Ent.append(ent)
    gini=1-(p**2+(1-p)**2)
    Gini.append(gini)
axes[0].plot(P,Ent,label='ç†µ')
axes[0].plot(P,Gini,label='åŸºå°¼ç³»æ•°',linestyle='-.')
axes[0].set_title('äºŒåˆ†ç±»ä¸‹çš„åŸºå°¼ç³»æ•°å’Œç†µ')
axes[0].set_xlabel('æ¦‚ç‡P')
axes[0].set_ylabel('è®¡ç®—ç»“æœ')
axes[0].grid(True, linestyle='-.')
axes[0].legend()

axes[1].plot(P,Ent/sum(Ent),label='ç†µ')
axes[1].plot(P,Gini/sum(Gini),label='åŸºå°¼ç³»æ•°',linestyle='-.')
axes[1].set_title('äºŒåˆ†ç±»ä¸‹å½’ä¸€åŒ–å¤„ç†åçš„åŸºå°¼ç³»æ•°å’Œç†µ')
axes[1].set_xlabel('æ¦‚ç‡P')
axes[1].set_ylabel('è®¡ç®—ç»“æœ')
axes[1].grid(True, linestyle='-.')
axes[1].legend()
plt.savefig("../4.png", dpi=300)</code></pre> 
<p>Â è¿è¡Œç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºÂ </p> 
<p><img src="https://images2.imgbox.com/d7/b3/d5kGdedo_o.png" alt="abf1b066b2e14483bbdecb6894ca2f14.png"></p> 
<h3>04-åŸºäºå†³ç­–æ ‘å¯¹ç©ºæ°”è´¨é‡ç›‘æµ‹æ•°æ®ç­‰çº§è¿›è¡Œé¢„æµ‹</h3> 
<blockquote> 
 <p>è¿™æ®µä»£ç ä¸»è¦ç”¨äºåˆ†æåŒ—äº¬å¸‚ç©ºæ°”è´¨é‡æ•°æ®ï¼Œå¹¶åŸºäºå†³ç­–æ ‘å›å½’æ¨¡å‹é¢„æµ‹PM2.5æµ“åº¦ã€‚</p> 
 <ol><li> <p><strong>æ•°æ®å¯¼å…¥ä¸é¢„å¤„ç†</strong>ï¼š</p> 
   <ul><li>é¦–å…ˆå¯¼å…¥å¿…è¦çš„åº“ï¼Œå¹¶ä»Excelæ–‡ä»¶ä¸­è¯»å–æ•°æ®ã€‚æ•°æ®ä¸­å¯¹PM2.5å’ŒSO2å€¼è¿›è¡Œäº†ç­›é€‰ï¼Œæ’é™¤äº†å¼‚å¸¸å€¼å’Œç¼ºå¤±å€¼ã€‚</li></ul></li><li> <p><strong>æ•°æ®å‡†å¤‡</strong>ï¼š</p> 
   <ul><li>å®šä¹‰äº†è‡ªå˜é‡Â <code>X</code>ï¼ˆåŒ…æ‹¬SO2å’ŒCOæµ“åº¦ï¼‰å’Œå› å˜é‡Â <code>Y</code>ï¼ˆPM2.5æµ“åº¦ï¼‰ã€‚</li><li>å°†æ•°æ®åˆ†å‰²ä¸ºè®­ç»ƒé›†å’Œæµ‹è¯•é›†ï¼Œæ¯”ä¾‹ä¸º70:30ï¼Œä¿è¯äº†æ¨¡å‹è¯„ä¼°çš„ç‹¬ç«‹æ€§ã€‚</li></ul></li><li> <p><strong>æ¨¡å‹è®­ç»ƒä¸è¯¯å·®è¯„ä¼°</strong>ï¼š</p> 
   <ul><li>ä½¿ç”¨å¾ªç¯éå†ä¸åŒçš„æ ‘æ·±åº¦ï¼ˆä»2åˆ°14ï¼‰ï¼Œå»ºç«‹å†³ç­–æ ‘å›å½’æ¨¡å‹Â <code>DecisionTreeRegressor</code>ã€‚</li><li>è®¡ç®—å¹¶è®°å½•äº†è®­ç»ƒè¯¯å·®ã€æµ‹è¯•è¯¯å·®å’Œ5æŠ˜äº¤å‰éªŒè¯è¯¯å·®ï¼Œç”¨ä»¥è¯„ä¼°æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›å’Œè¿‡æ‹Ÿåˆæƒ…å†µã€‚</li></ul></li><li> <p><strong>è¯¯å·®å¯è§†åŒ–</strong>ï¼š</p> 
   <ul><li>ç»˜åˆ¶äº†å›¾è¡¨å±•ç¤ºä¸åŒæ ‘æ·±åº¦ä¸‹çš„è®­ç»ƒè¯¯å·®ã€æµ‹è¯•è¯¯å·®å’Œäº¤å‰éªŒè¯è¯¯å·®çš„å˜åŒ–æƒ…å†µï¼Œå¸®åŠ©é€‰æ‹©æœ€ä¼˜çš„æ ‘æ·±åº¦ã€‚</li></ul></li><li> <p><strong>æ¨¡å‹åº”ç”¨ä¸å¯è§†åŒ–</strong>ï¼š</p> 
   <ul><li>é€‰æ‹©æ ‘æ·±åº¦ä¸º3çš„æ¨¡å‹ï¼Œå¯¹æ•°æ®é›†è¿›è¡Œæ‹Ÿåˆï¼Œå¹¶æ‰“å°å‡ºè¾“å…¥å˜é‡çš„é‡è¦æ€§ã€‚</li><li>ä½¿ç”¨é¢„æµ‹ç»“æœå¯¹æ•°æ®ç‚¹è¿›è¡Œåˆ†ç±»ï¼Œæ ¹æ®é¢„æµ‹å€¼æ˜¯å¦å°äºçœŸå®å€¼ç¡®å®šé¢œè‰²ã€‚</li></ul></li><li> <p><strong>ä¸‰ç»´å¯è§†åŒ–</strong>ï¼š</p> 
   <ul><li>ä½¿ç”¨ä¸‰ç»´æ•£ç‚¹å›¾å±•ç¤ºSO2ã€COä¸PM2.5çš„å…³ç³»ï¼Œæ ¹æ®åˆ†ç±»ç»“æœç€è‰²ã€‚</li><li>ç»˜åˆ¶å†³ç­–æ ‘å›å½’æ¨¡å‹çš„é¢„æµ‹é¢ï¼Œå±•ç¤ºæ ‘æ·±åº¦ä¸º3å’Œ5æ—¶çš„å›å½’æ•ˆæœã€‚</li></ul></li><li> <p><strong>ä¿å­˜å›¾åƒ</strong>ï¼š</p> 
   <ul><li>æœ€åå°†ç”Ÿæˆçš„å›¾åƒä¿å­˜ä¸ºæ–‡ä»¶ã€‚</li></ul></li></ol> 
 <p>è¿™æ®µä»£ç çš„ä¸»è¦ç›®çš„æ˜¯æ¢ç´¢ç©ºæ°”è´¨é‡æ•°æ®ä¸­SO2å’ŒCOæµ“åº¦å¯¹PM2.5æµ“åº¦çš„å½±å“ï¼Œå¹¶é€šè¿‡å†³ç­–æ ‘å›å½’æ¨¡å‹å»ºç«‹é¢„æµ‹ï¼ŒåŒæ—¶è¿›è¡Œæ¨¡å‹è¯„ä¼°å’Œç»“æœå¯è§†åŒ–ã€‚</p> 
</blockquote> 
<pre><code class="language-python">import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
from mpl_toolkits.mplot3d import Axes3D
import warnings
warnings.filterwarnings(action = 'ignore')
%matplotlib inline
plt.rcParams['font.sans-serif']=['SimHei']  #è§£å†³ä¸­æ–‡æ˜¾ç¤ºä¹±ç é—®é¢˜
plt.rcParams['axes.unicode_minus']=False
import sklearn.linear_model as LM
from sklearn.metrics import classification_report
from sklearn.model_selection import cross_val_score,train_test_split
from sklearn.datasets import make_regression
from sklearn import tree
from sklearn.preprocessing import LabelEncoder

data=pd.read_excel('åŒ—äº¬å¸‚ç©ºæ°”è´¨é‡æ•°æ®.xlsx')
data=data.replace(0,np.NaN)
data=data.dropna()
data=data.loc[(data['PM2.5']&lt;=200) &amp; (data['SO2']&lt;=20)]

X=data[['SO2','CO']]
Y=data['PM2.5']
X_train, X_test, Y_train, Y_test = train_test_split(X,Y,train_size=0.70, random_state=123)
trainErr=[]
testErr=[]
CVErr=[]
for k in np.arange(2,15):
    modelDTC = tree.DecisionTreeRegressor(max_depth=k,random_state=123)
    modelDTC.fit(X_train,Y_train)
    trainErr.append(1-modelDTC.score(X_train,Y_train)) # è®­ç»ƒè¯¯å·®
    testErr.append(1-modelDTC.score(X_test,Y_test))  # æµ‹è¯•è¯¯å·®
    Err=1 - cross_val_score(modelDTC,X,Y,cv=5,scoring='r2')   
    CVErr.append(Err.mean())   # äº”æŠ˜äº¤å‰éªŒè¯è¯¯å·®

fig = plt.figure(figsize=(15,6))
ax1 = fig.add_subplot(121) 
ax1.grid(True, linestyle='-.')
ax1.plot(np.arange(2,15),trainErr,label="è®­ç»ƒè¯¯å·®",marker='o',linestyle='-')
ax1.plot(np.arange(2,15),testErr,label="æµ‹è¯•è¯¯å·®",marker='o',linestyle='-.')
ax1.plot(np.arange(2,15),CVErr,label="5-æŠ˜äº¤å‰éªŒè¯è¯¯å·®",marker='o',linestyle='--')
ax1.set_xlabel("æ ‘æ·±åº¦")
ax1.set_ylabel("è¯¯å·®ï¼ˆ1-Ræ–¹ï¼‰")
ax1.set_title('æ ‘æ·±åº¦å’Œè¯¯å·®')
ax1.legend()

modelDTC = tree.DecisionTreeRegressor(max_depth=3,random_state=123)
modelDTC.fit(X,Y) 
print("è¾“å…¥å˜é‡é‡è¦æ€§ï¼š",modelDTC.feature_importances_ )
data['col']='grey'
data.loc[modelDTC.predict(X)&lt;=Y,'col']='blue' 
ax2 = fig.add_subplot(122, projection='3d') 
ax2.scatter(data['SO2'],data['CO'],data['PM2.5'],marker='o',s=3,c=data['col'])
ax2.set_xlabel('SO2')
ax2.set_ylabel('CO')
ax2.set_zlabel('PM2.5')
ax2.set_title('å›å½’æ ‘å¯¹PM2.5é¢„æµ‹çš„å›å½’é¢')

x,y = np.meshgrid(np.linspace(data['SO2'].min(),data['SO2'].max(),10), np.linspace(data['CO'].min(),data['CO'].max(),10))
Xtmp=np.column_stack((x.flatten(),y.flatten()))
ax2.plot_surface(x, y, modelDTC.predict(Xtmp).reshape(10,10), alpha=0.3,label="æ ‘æ·±åº¦=3")
modelDTC = tree.DecisionTreeRegressor(max_depth=5,random_state=123)
modelDTC.fit(X,Y)
ax2.plot_wireframe(x, y, modelDTC.predict(Xtmp).reshape(10,10),linewidth=1)
ax2.plot_surface(x, y, modelDTC.predict(Xtmp).reshape(10,10), alpha=0.3,label="æ ‘æ·±åº¦=5")
fig.subplots_adjust(wspace=0.05)
plt.savefig("../4.png", dpi=300)</code></pre> 
<p>Â è¿è¡Œç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºÂ </p> 
<p><img src="https://images2.imgbox.com/b6/80/JiWiV5qW_o.png" alt="a903345db6f049f589b40ef6bb297bb9.png"></p> 
<h2>æ€»ç»“</h2> 
<blockquote> 
 <p>Â Â Â Â Â Â Â Â å†³ç­–æ ‘æ¨¡å‹ä»¥å…¶ç®€å•ç›´è§‚çš„ç‰¹æ€§å’Œå¹¿æ³›çš„é€‚ç”¨æ€§ï¼Œåœ¨è®¸å¤šé¢†åŸŸéƒ½å¾—åˆ°äº†æœ‰æ•ˆçš„åº”ç”¨ã€‚å¯¹äºå¤æ‚çš„æ•°æ®é›†æˆ–è€…éœ€è¦æ›´é«˜é¢„æµ‹ç²¾åº¦çš„é—®é¢˜ï¼Œå¯ä»¥é€šè¿‡é›†æˆå­¦ä¹ æ–¹æ³•ï¼ˆå¦‚éšæœºæ£®æ—ã€æ¢¯åº¦æå‡æ ‘ï¼‰æ¥è¿›ä¸€æ­¥æ”¹è¿›å†³ç­–æ ‘æ¨¡å‹çš„æ€§èƒ½ã€‚</p> 
</blockquote> 
<p>Â </p> 
<p>Â </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/01090099ac0793c1da27059370b8f26b/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">Javaä¸­æ“ä½œMapé›†åˆæ—¶ï¼šä½¿ç”¨Map.of()æ·»åŠ æ•°æ®æŠ¥é”™ java.lang.UnsupportedOperationException è§£å†³åŠæ³•ä»¥åŠæ³¨æ„äº‹é¡¹</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/bcebec3a0a0618ab70d5cb856c47a997/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">Androidå¯ç©¿æˆ´è®¾å¤‡ä¸–ç•Œä¹‹æ—…</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ç¼–ç¨‹å¤§å’–.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>