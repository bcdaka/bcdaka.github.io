<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Ajax从零到实战 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/6e064532205273a3864cccce515cb81a/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="Ajax从零到实战">
  <meta property="og:description" content="💝💝💝欢迎来到我的博客，很高兴能够在这里和您见面！希望您在这里可以感受到一份轻松愉快的氛围，不仅可以获得有趣的内容和知识，也可以畅所欲言、分享您的想法和见解。
非常期待和您一起在这个小小的网络世界里共同探索、学习和成长。💝💝💝 ✨✨ 欢迎订阅本专栏 ✨✨
前言
本栏目是根据黑马程序员的网课来整理的笔记，也会结合我的一些个人见解，来记录自己学习Ajax的过程，俗话说，好记性不如烂笔头，小郑喜欢在学习的过程中记笔记，记下自己在学习过程中难以理解的知识点，反复练习，加深印象，小郑打算在这个暑假的第一个月学习完Ajax从0到1实现项目，希望广大网友一起监督学习，互相进步!
什么是 AJAX ? 使用浏览器的 XMLHttpRequest 对象 与服务器通信
浏览器网页中，使用 AJAX技术（XHR对象）发起获取省份列表数据的请求，服务器代码响应准备好的省份列表数据给前端，前端拿到数据数组以后，展示到网页
引入 axios.js 文件到自己的网页中 axios.js文件链接:https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js
axios函数的使用语法
axios({ url: &#39;目标资源地址&#39; }).then((result) =&gt; { // 对服务器返回的数据做后续处理 }) URL 查询参数 1. 查询参数的语法 在 url 网址后面用?拼接格式：XXXX?参数名1=值1&amp;参数名2=值2
参数名一般是后端规定的，值前端看情况传递即可
2. axios 如何携带查询参数? 查询城市列表的 url地址：http://hmajax.itheima.net/api/city
axios({ url: &#39;目标资源地址&#39;, params: { 参数名: 值 } }).then(result =&gt; { // 对服务器返回的数据做后续处理 }) 查询地区列表案例 查询地区: http://hmajax.itheima.net/api/area
/* 获取地区列表: http://hmajax.itheima.net/api/area 查询参数: pname: 省份或直辖市名字 cname: 城市名字 */ // 目标: 根据省份和城市名字, 查询地区列表 // 1.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-07-11T16:34:15+08:00">
    <meta property="article:modified_time" content="2024-07-11T16:34:15+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Ajax从零到实战</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <blockquote> 
 <p>  💝💝💝欢迎来到我的博客，很高兴能够在这里和您见面！希望您在这里可以感受到一份轻松愉快的氛围，不仅可以获得有趣的内容和知识，也可以畅所欲言、分享您的想法和见解。</p> 
 <p><img alt="" height="407" src="https://images2.imgbox.com/e1/c0/wUMtTx6L_o.gif" width="723"><br><br> 非常期待和您一起在这个小小的网络世界里共同探索、学习和成长。💝💝💝 ✨✨ 欢迎订阅本专栏 ✨✨<br>  </p> 
</blockquote> 
<p></p> 
<p><strong>前言</strong></p> 
<p>本栏目是根据黑马程序员的网课来整理的笔记，也会结合我的一些个人见解，来记录自己学习Ajax的过程，俗话说，好记性不如烂笔头，小郑喜欢在学习的过程中记笔记，记下自己在学习过程中难以理解的知识点，反复练习，加深印象，小郑打算在这个暑假的第一个月学习完Ajax从0到1实现项目，希望广大网友一起监督学习，互相进步!</p> 
<p></p> 
<h2>什么是 AJAX ?</h2> 
<ul><li> <p>使用浏览器的 XMLHttpRequest 对象 与服务器通信</p> </li><li> <p>浏览器网页中，使用 AJAX技术（XHR对象）发起获取省份列表数据的请求，服务器代码响应准备好的省份列表数据给前端，前端拿到数据数组以后，展示到网页</p> </li></ul> 
<p></p> 
<h2>引入 axios.js 文件到自己的网页中</h2> 
<blockquote> 
 <p>axios.js文件链接:<a class="link-info" href="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js" rel="nofollow" title="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js">https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js</a></p> 
</blockquote> 
<p>axios函数的使用语法</p> 
<pre><code class="language-html">axios({
  url: '目标资源地址'
}).then((result) =&gt; {
  // 对服务器返回的数据做后续处理
})</code></pre> 
<h2>URL 查询参数</h2> 
<p></p> 
<h3>1. 查询参数的语法 </h3> 
<p></p> 
<ul><li> <p>在 url 网址后面用?拼接格式：<a href="http://xxxx.com/xxx/xxx" rel="nofollow" title="XXXX">XXXX</a>?参数名1=值1&amp;参数名2=值2</p> </li><li> <p>参数名一般是后端规定的，值前端看情况传递即可</p> </li></ul> 
<h3></h3> 
<h3 style="background-color:transparent;">2. axios 如何携带查询参数?</h3> 
<p>查询城市列表的 url地址：<a class="link-info" href="http://hmajax.itheima.net/api/city" rel="nofollow" title="http://hmajax.itheima.net/api/city">http://hmajax.itheima.net/api/city</a></p> 
<pre><code class="language-html">axios({
  url: '目标资源地址',
  params: {
    参数名: 值
  }
}).then(result =&gt; {
  // 对服务器返回的数据做后续处理
})</code></pre> 
<p></p> 
<h2 style="background-color:transparent;">查询地区列表案例</h2> 
<p>查询地区: <a class="link-info" href="http://hmajax.itheima.net/api/area" rel="nofollow" title="http://hmajax.itheima.net/api/area">http://hmajax.itheima.net/api/area</a></p> 
<pre><code class="language-html">/*
      获取地区列表: http://hmajax.itheima.net/api/area
      查询参数:
        pname: 省份或直辖市名字
        cname: 城市名字
    */
// 目标: 根据省份和城市名字, 查询地区列表
// 1. 查询按钮-点击事件
document.querySelector('.sel-btn').addEventListener('click', () =&gt; {
    // 2. 获取省份和城市名字
    let pname = document.querySelector('.province').value
    let cname = document.querySelector('.city').value

    // 3. 基于axios请求地区列表数据
    axios({
        url: 'http://hmajax.itheima.net/api/area',
        params: {
            pname,
            cname
        }
    }).then(result =&gt; {
        // console.log(result)
        // 4. 把数据转li标签插入到页面上
        let list = result.data.list
        console.log(list)
        let theLi = list.map(areaName =&gt; `&lt;li class="list-group-item"&gt;${areaName}&lt;/li&gt;`).join('')
        console.log(theLi)
        document.querySelector('.list-group').innerHTML = theLi
    })
})</code></pre> 
<h2 style="background-color:transparent;">axios错误处理</h2> 
<p></p> 
<p><strong>当用户已经注册过，再次点击注册按钮的时候，就会报错，那么我们要怎么处理呢?</strong></p> 
<p></p> 
<p><img alt="" height="111" src="https://images2.imgbox.com/9a/7a/TMgUIkmJ_o.png" width="816"></p> 
<p></p> 
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;meta http-equiv="X-UA-Compatible" content="IE=edge"&gt;
  &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
  &lt;title&gt;常用请求方法和数据提交&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
  &lt;button class="btn"&gt;注册用户&lt;/button&gt;
  &lt;script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"&gt;&lt;/script&gt;
  &lt;script&gt;
    /*
      注册用户：http://hmajax.itheima.net/api/register
      请求方法：POST
      参数名：
        username：用户名（中英文和数字组成，最少8位）
        password：密码  （最少6位）

      目标：点击按钮，通过axios提交用户和密码，完成注册
    */
    document.querySelector('.btn').addEventListener('click', () =&gt; {
      axios({
        url: 'http://hmajax.itheima.net/api/register',
        method: 'POST',
        data: {
          username: '大学生小郑123',
          password: '7654321'
        }
      }).then(result =&gt; {
        console.log(result)
      }).catch(error =&gt; {
        console.log(error.response.data.message)
        alert(error.response.data.message)

      })
    })
  &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre> 
<p></p> 
<h2 style="background-color:transparent;">请求报文--错误排查</h2> 
<p></p> 
<p>当我点击登录的时候，发现密码错误，那么我们要怎么排查错误呢?</p> 
<p>流程：</p> 
<p>1.确认信息是否在请求报文正确携带</p> 
<p>2.发现密码错误 返回到代码查看</p> 
<p></p> 
<p><img alt="" height="403" src="https://images2.imgbox.com/8f/84/4zUul3li_o.png" width="1200"></p> 
<p><img alt="" height="837" src="https://images2.imgbox.com/94/e4/K3uJ8Vzx_o.png" width="1183"></p> 
<p></p> 
<h2>form-serialize 插件</h2> 
<p></p> 
<blockquote> 
 <p>       使用serialize函数，快速收集表单元素的值</p> 
 <p><span style="color:#fe2c24;">       * 参数1：要获取哪个表单的数据</span></p> 
 <p>       *  表单元素设置name属性，值会作为对象的属性名</p> 
 <p>       *  建议name属性的值，最好和接口文档参数名一致</p> 
 <p>       <span style="color:#fe2c24;">* 参数2：配置对象</span></p> 
 <p>       *  hash 设置获取数据结构</p> 
 <p>       *    - true：JS对象（<span style="color:#fe2c24;">推荐</span>）一般请求体里提交给服务器</p> 
 <p>       *    - false: 查询字符串</p> 
 <p>       *  empty 设置是否获取空值</p> 
 <p>       *    - true: 获取空值（<span style="color:#fe2c24;">推荐</span>）数据结构和标签结构一致</p> 
 <p>       *    - false：不获取空值</p> 
</blockquote> 
<p>      </p> 
<pre><code class="language-html">&lt;script src="./lib/form-serialize.js"&gt;&lt;/script&gt;
  &lt;script&gt;
    document.querySelector('.btn').addEventListener('click', () =&gt; {
    
  
      const form = document.querySelector('.example-form')
      const data = serialize(form, { hash: true, empty: true })
      // const data = serialize(form, { hash: false, empty: true })
      // const data = serialize(form, { hash: true, empty: false })
      console.log(data)
    })
  &lt;/script&gt;</code></pre> 
<p></p> 
<blockquote> 
 <p>❤️❤️❤️小郑是普通学生水平，如有纰漏，欢迎各位大佬评论批评指正！😄😄😄</p> 
 <p>💘💘💘如果觉得这篇文对你有帮助的话，也请给个点赞、收藏下吧，非常感谢!👍 👍 👍</p> 
 <p></p> 
 <p><img alt="" src="https://images2.imgbox.com/72/03/5dmkQ9zN_o.gif"></p> 
</blockquote>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/0a25e119d31d7a7389958ac135b81b49/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">评价妙笔生词智能写歌词软件：助力与局限并存</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a87360d53024b2e2a88afcd16463bf17/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">科技信息项目验收测试包括哪些内容?验收测试报告如何获取?</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>