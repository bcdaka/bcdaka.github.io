<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>ã€C&#43;&#43;ã€‘stringæ¨¡æ‹Ÿå®ç° - ç¼–ç¨‹å¤§å’–</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/fd5588ba8277b4e893d08ed5e1d8679e/">
  <meta property="og:site_name" content="ç¼–ç¨‹å¤§å’–">
  <meta property="og:title" content="ã€C&#43;&#43;ã€‘stringæ¨¡æ‹Ÿå®ç°">
  <meta property="og:description" content="ğŸ”¥ä¸ªäººä¸»é¡µï¼š Forcible Bug Maker
ğŸ”¥ä¸“æ ï¼š STL || C&#43;&#43;
ç›®å½• å‰è¨€ğŸ”¥stringç±»çš„æ¥å£å‡½æ•°ğŸ”¥stringç±»çš„æ¨¡æ‹Ÿå®ç°==swapäº¤æ¢====é»˜è®¤æˆå‘˜å‡½æ•°====è¿­ä»£å™¨====è·å–å®¹é‡å’Œå†…å®¹ä¿¡æ¯====reserveé¢„ç•™ç©ºé—´====å°¾æ’å­—ç¬¦å’Œå­—ç¬¦ä¸²====å­—ç¬¦æˆ–å­—ç¬¦ä¸²çš„æ’å…¥å’Œåˆ é™¤====findæŸ¥æ‰¾====æ¯”å¤§å°è¿ç®—ç¬¦é‡è½½====è·å–å­ä¸²====æ¸…é™¤clear====æµæ’å…¥å’Œæµæå–====å¸¸é‡æˆå‘˜npos== ç»“è¯­ å‰è¨€ æœ¬ç¯‡åšå®¢ä¸»è¦å†…å®¹ï¼šå®ç°stringç±»çš„åŸºæœ¬åŠŸèƒ½ã€‚
stringä½¿ç”¨å¾ˆå¿«å°±è®²å®Œäº†ï¼Œä½†æ˜¯å…‰ä¼šç”¨stringè¿˜ä¸å¤Ÿï¼Œåœ¨é¢è¯•ä¸­ï¼Œé¢è¯•å®˜æ€»å–œæ¬¢è®©æˆ‘ä»¬è‡ªå·±æ¥æ¨¡æ‹Ÿå®ç°stringç±»ï¼ŒåŒ…æ‹¬stringç±»çš„æ„é€ ã€æ‹·è´æ„é€ ã€èµ‹å€¼è¿ç®—ç¬¦é‡è½½ä»¥åŠææ„å‡½æ•°ç­‰ç­‰å†…å®¹ã€‚æ‰€ä»¥ï¼Œæˆ‘è®¤ä¸ºstringç±»çš„è‡ªå®ç°è¿˜æ˜¯æœ‰å¿…è¦è®²ä¸€ä¸‹çš„ã€‚
ğŸ”¥stringç±»çš„æ¥å£å‡½æ•° æˆ‘ä»¬æœ¬æ¬¡å¹¶ä¸ä¼šå°†stringç±»çš„æ‰€æœ‰æ¥å£å‡½æ•°é€ä¸€è®²è§£ï¼Œè®²ä¸€äº›å¸¸ç”¨çš„å’Œé‡ç‚¹çš„ã€‚æœ¬æ¬¡stringçš„å®ç°åˆ†æˆäº†ä¸¤ä¸ªæ–‡ä»¶ï¼Œä¸€ä»½æ˜¯string.hï¼Œä¸€ä»½string.cppã€‚
çœ‹çœ‹string.hçš„å†…å®¹ï¼š
# define _CRT_SECURE_NO_WARNINGS 1 #pragma once #include&lt;iostream&gt; #include&lt;cstring&gt; #include&lt;cassert&gt; using std::cout; using std::cin; using std::endl; namespace ForcibleBugMaker { class string { public: // äº¤æ¢ï¼Œéæˆå‘˜å‡½æ•° friend void swap(string&amp; s1, string s2); // å®šä¹‰è¿­ä»£å™¨ typedef char* iterator; typedef const char* const_iterator; //è¿­ä»£å™¨è·å– iterator begin(); iterator end(); const_iterator begin() const; const_iterator end() const; // stringé»˜è®¤æˆå‘˜å‡½æ•° string(const char* str = &#34;">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-05-18T20:30:39+08:00">
    <meta property="article:modified_time" content="2024-05-18T20:30:39+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ç¼–ç¨‹å¤§å’–" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ç¼–ç¨‹å¤§å’–</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">ã€C&#43;&#43;ã€‘stringæ¨¡æ‹Ÿå®ç°</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><img src="https://images2.imgbox.com/b1/a8/mtOttWIw_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>ğŸ”¥<font color="SandyBrown"><strong>ä¸ªäººä¸»é¡µï¼š</strong> <a href="https://blog.csdn.net/2303_79329831?spm=1000.2115.3001.5343"><font color="LightSeaGreen"><strong>Forcible Bug Maker</strong></font></a><br> ğŸ”¥<strong>ä¸“æ ï¼š</strong> <a href="https://blog.csdn.net/2303_79329831/category_12665973.html"><font color="LightSeaGreen"><strong>STL</strong></font></a> || <a href="https://blog.csdn.net/2303_79329831/category_12597496.html?spm=1001.2014.3001.5482"><font color="LightSeaGreen"><strong>C++</strong></font></a><br> </font></p> 
<div class="toc"> 
 <h4>ç›®å½•</h4> 
 <ul><li><a href="#_6" rel="nofollow">å‰è¨€</a></li><li><a href="#string_10" rel="nofollow">ğŸ”¥stringç±»çš„æ¥å£å‡½æ•°</a></li><li><a href="#string_112" rel="nofollow">ğŸ”¥stringç±»çš„æ¨¡æ‹Ÿå®ç°</a></li><li><ul><li><a href="#swap_115" rel="nofollow">==swapäº¤æ¢==</a></li><li><a href="#_144" rel="nofollow">==é»˜è®¤æˆå‘˜å‡½æ•°==</a></li><li><a href="#_214" rel="nofollow">==è¿­ä»£å™¨==</a></li><li><a href="#_258" rel="nofollow">==è·å–å®¹é‡å’Œå†…å®¹ä¿¡æ¯==</a></li><li><a href="#reserve_292" rel="nofollow">==reserveé¢„ç•™ç©ºé—´==</a></li><li><a href="#_307" rel="nofollow">==å°¾æ’å­—ç¬¦å’Œå­—ç¬¦ä¸²==</a></li><li><a href="#_360" rel="nofollow">==å­—ç¬¦æˆ–å­—ç¬¦ä¸²çš„æ’å…¥å’Œåˆ é™¤==</a></li><li><a href="#find_433" rel="nofollow">==findæŸ¥æ‰¾==</a></li><li><a href="#_461" rel="nofollow">==æ¯”å¤§å°è¿ç®—ç¬¦é‡è½½==</a></li><li><a href="#_490" rel="nofollow">==è·å–å­ä¸²==</a></li><li><a href="#clear_509" rel="nofollow">==æ¸…é™¤clear==</a></li><li><a href="#_518" rel="nofollow">==æµæ’å…¥å’Œæµæå–==</a></li><li><a href="#npos_549" rel="nofollow">==å¸¸é‡æˆå‘˜npos==</a></li></ul> 
  </li><li><a href="#_555" rel="nofollow">ç»“è¯­</a></li></ul> 
</div> 
<p></p> 
<h2><a id="_6"></a>å‰è¨€</h2> 
<blockquote> 
 <p>æœ¬ç¯‡åšå®¢ä¸»è¦å†…å®¹ï¼šå®ç°<strong>stringç±»çš„åŸºæœ¬åŠŸèƒ½</strong>ã€‚</p> 
</blockquote> 
<p>stringä½¿ç”¨å¾ˆå¿«å°±è®²å®Œäº†ï¼Œä½†æ˜¯å…‰ä¼šç”¨stringè¿˜ä¸å¤Ÿï¼Œåœ¨é¢è¯•ä¸­ï¼Œé¢è¯•å®˜æ€»å–œæ¬¢è®©æˆ‘ä»¬è‡ªå·±æ¥æ¨¡æ‹Ÿå®ç°stringç±»ï¼ŒåŒ…æ‹¬stringç±»çš„æ„é€ ã€æ‹·è´æ„é€ ã€èµ‹å€¼è¿ç®—ç¬¦é‡è½½ä»¥åŠææ„å‡½æ•°ç­‰ç­‰å†…å®¹ã€‚æ‰€ä»¥ï¼Œæˆ‘è®¤ä¸ºstringç±»çš„è‡ªå®ç°è¿˜æ˜¯æœ‰å¿…è¦è®²ä¸€ä¸‹çš„ã€‚</p> 
<h2><a id="string_10"></a>ğŸ”¥stringç±»çš„æ¥å£å‡½æ•°</h2> 
<p>æˆ‘ä»¬æœ¬æ¬¡å¹¶ä¸ä¼šå°†stringç±»çš„æ‰€æœ‰æ¥å£å‡½æ•°é€ä¸€è®²è§£ï¼Œè®²ä¸€äº›å¸¸ç”¨çš„å’Œé‡ç‚¹çš„ã€‚æœ¬æ¬¡stringçš„å®ç°åˆ†æˆäº†ä¸¤ä¸ªæ–‡ä»¶ï¼Œä¸€ä»½æ˜¯<code>string.h</code>ï¼Œä¸€ä»½<code>string.cpp</code>ã€‚<br> çœ‹çœ‹string.hçš„å†…å®¹ï¼š</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span> <span class="token directive keyword">define</span> <span class="token macro-name">_CRT_SECURE_NO_WARNINGS</span> <span class="token expression"><span class="token number">1</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;cstring&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;cassert&gt;</span></span>
<span class="token keyword">using</span> std<span class="token double-colon punctuation">::</span>cout<span class="token punctuation">;</span>
<span class="token keyword">using</span> std<span class="token double-colon punctuation">::</span>cin<span class="token punctuation">;</span>
<span class="token keyword">using</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
<span class="token keyword">namespace</span> ForcibleBugMaker
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">class</span> <span class="token class-name">string</span> 
	<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">public</span><span class="token operator">:</span>
		<span class="token comment">// äº¤æ¢ï¼Œéæˆå‘˜å‡½æ•°</span>
		<span class="token keyword">friend</span> <span class="token keyword">void</span> <span class="token function">swap</span><span class="token punctuation">(</span>string<span class="token operator">&amp;</span> s1<span class="token punctuation">,</span> string s2<span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// å®šä¹‰è¿­ä»£å™¨</span>
		<span class="token keyword">typedef</span> <span class="token keyword">char</span><span class="token operator">*</span> iterator<span class="token punctuation">;</span>
		<span class="token keyword">typedef</span> <span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> const_iterator<span class="token punctuation">;</span>
		<span class="token comment">//è¿­ä»£å™¨è·å–</span>
		iterator <span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		iterator <span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		const_iterator <span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>
		const_iterator <span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>

		<span class="token comment">// stringé»˜è®¤æˆå‘˜å‡½æ•°</span>
		<span class="token function">string</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> str <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">string</span><span class="token punctuation">(</span><span class="token keyword">const</span> string<span class="token operator">&amp;</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>
		string<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">=</span><span class="token punctuation">(</span>string tmp<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token operator">~</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// è·å–åªè¯»å­—ç¬¦ä¸²</span>
		<span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> <span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>

		<span class="token comment">// è·å–å®¹é‡</span>
		size_t <span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>
		size_t <span class="token function">capaity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>

		<span class="token comment">// []è·å–å…ƒç´ é‡è½½</span>
		<span class="token keyword">char</span><span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span>size_t pos<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span>size_t pos<span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>

		<span class="token comment">// å¼€è¾Ÿç©ºé—´</span>
		<span class="token keyword">void</span> <span class="token function">reserve</span><span class="token punctuation">(</span>size_t n<span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// å°¾æ’å­—ç¬¦æˆ–å­—ç¬¦ä¸²</span>
		<span class="token keyword">void</span> <span class="token function">push_back</span><span class="token punctuation">(</span><span class="token keyword">char</span> ch<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">void</span> <span class="token function">append</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> str<span class="token punctuation">)</span><span class="token punctuation">;</span>
		string<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">+=</span><span class="token punctuation">(</span><span class="token keyword">char</span> ch<span class="token punctuation">)</span><span class="token punctuation">;</span>
		string<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">+=</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> str<span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// æ’å…¥å­—ç¬¦æˆ–å­—ç¬¦ä¸²</span>
		<span class="token keyword">void</span> <span class="token function">insert</span><span class="token punctuation">(</span>size_t pos<span class="token punctuation">,</span> <span class="token keyword">char</span> ch<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">void</span> <span class="token function">insert</span><span class="token punctuation">(</span>size_t pos<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> str<span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">//åˆ é™¤å­—ç¬¦ä¸²</span>
		<span class="token keyword">void</span> <span class="token function">erase</span><span class="token punctuation">(</span>size_t pos <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> size_t len <span class="token operator">=</span> npos<span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// æŸ¥æ‰¾å­—ç¬¦æˆ–å­—ä¸²</span>
		size_t <span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">char</span> ch<span class="token punctuation">,</span> size_t pos <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		size_t <span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> str<span class="token punctuation">,</span> size_t pos <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// stringå¯¹è±¡æ¯”è¾ƒ</span>
		<span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">const</span> string<span class="token operator">&amp;</span> str<span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>
		<span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token operator">==</span><span class="token punctuation">(</span><span class="token keyword">const</span> string<span class="token operator">&amp;</span> str<span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>
		<span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token operator">&gt;=</span><span class="token punctuation">(</span><span class="token keyword">const</span> string<span class="token operator">&amp;</span> str<span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>
		<span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token keyword">const</span> string<span class="token operator">&amp;</span> str<span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>
		<span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token operator">&lt;=</span><span class="token punctuation">(</span><span class="token keyword">const</span> string<span class="token operator">&amp;</span> str<span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>
		<span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token operator">!=</span><span class="token punctuation">(</span><span class="token keyword">const</span> string<span class="token operator">&amp;</span> str<span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>

		<span class="token comment">// è·å–stringå¯¹è±¡å­—ä¸²</span>
		string <span class="token function">substr</span><span class="token punctuation">(</span>size_t pos<span class="token punctuation">,</span> size_t len<span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// äº¤æ¢å‡½æ•°ï¼Œæˆå‘˜å‡½æ•°</span>
		<span class="token keyword">void</span> <span class="token function">swap</span><span class="token punctuation">(</span>string<span class="token operator">&amp;</span> str<span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// æ¸…é™¤ä¸²ä¸­å†…å®¹</span>
		<span class="token keyword">void</span> <span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">private</span><span class="token operator">:</span>
		<span class="token keyword">char</span><span class="token operator">*</span> _str <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>
		size_t _size <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
		size_t _capacity <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
		<span class="token comment">// å¸¸é‡æˆå‘˜</span>
		<span class="token keyword">const</span> <span class="token keyword">static</span> size_t npos<span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>

	<span class="token comment">// äº¤æ¢å‡½æ•°ï¼Œéæˆå‘˜å‡½æ•°</span>
	<span class="token keyword">void</span> <span class="token function">swap</span><span class="token punctuation">(</span>string<span class="token operator">&amp;</span> s1<span class="token punctuation">,</span> string s2<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// æµæ’å…¥å’Œæµæå–é‡è½½ï¼Œéæˆå‘˜å‡½æ•°</span>
	std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">&lt;&lt;</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> so<span class="token punctuation">,</span> <span class="token keyword">const</span> string<span class="token operator">&amp;</span> str<span class="token punctuation">)</span><span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>istream<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">&gt;&gt;</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>istream<span class="token operator">&amp;</span> is<span class="token punctuation">,</span> string<span class="token operator">&amp;</span> str<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>åœ¨å®ç°stringç±»æ·»åŠ å’Œæ‹·è´çš„ä¸€äº›å‡½æ•°ä¸­ï¼Œä½¿ç”¨äº†Cè¯­è¨€ä¸­çš„ä¸€äº›åº“å‡½æ•°ï¼Œä»¥æ­¤æ–¹ä¾¿å®ç°ï¼Œè¿™äº›å‡½æ•°åœ¨C++ä¸­ç»Ÿä¸€å­˜æ”¾åœ¨<code>&lt;cstring&gt;</code>ã€‚<br> å¦‚æœå¯¹Cè¯­è¨€çš„ä¸€äº›å­—ç¬¦ä¸²å‡½æ•°ä¸å¤ªäº†è§£ï¼Œå¯ä»¥çœ‹çœ‹æˆ‘ä¹‹å‰å†™çš„ä¸€ç¯‡åšå®¢ï¼š<a href="https://blog.csdn.net/2303_79329831/article/details/134655675?spm=1001.2014.3001.5501">Cè¯­è¨€-å­—ç¬¦ä¸²å‡½æ•°</a>ï¼Œç›¸ä¿¡ä¼šå¯¹ä½ æœ‰æ‰€å¸®åŠ©ã€‚</p> 
<h2><a id="string_112"></a>ğŸ”¥stringç±»çš„æ¨¡æ‹Ÿå®ç°</h2> 
<p>æ¥ä¸‹æ¥è¿›å…¥ä¸»è¦å†…å®¹ï¼ŒæŒ‰ç…§string.hçš„æ¥å£å¼€å§‹å®ç°ã€‚</p> 
<blockquote> 
 <p>ä»¥ä¸‹æ¥å£éƒ½æ˜¯æ”¾åœ¨å‘½åç©ºé—´é‡Œçš„ï¼Œä¸åŒæ–‡ä»¶çš„ç›¸åŒå‘½åç©ºé—´åœ¨ç¼–è¯‘æ—¶ä¼šè‡ªåŠ¨åˆå¹¶ã€‚</p> 
</blockquote> 
<h3><a id="swap_115"></a><mark>swapäº¤æ¢</mark></h3> 
<p>å¦‚æœä½ ä»”ç»†è§‚å¯Ÿï¼Œä¼šå‘ç°å­˜åœ¨ä¸¤ä¸ªswapäº¤æ¢å‡½æ•°ï¼Œä¸€ä¸ªstringä¸­çš„æˆå‘˜å‡½æ•°ï¼Œå¦ä¸€ä¸ªæ˜¯éæˆå‘˜å‡½æ•°ã€‚<br> åœ¨stdçš„é»˜è®¤swapå½“ä¸­ï¼Œæ˜¯è¿™æ ·çš„ï¼š<br> <img src="https://images2.imgbox.com/d6/b6/aSBalo5O_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<pre><code class="prism language-cpp"><span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">&gt;</span> <span class="token keyword">void</span> <span class="token function">swap</span> <span class="token punctuation">(</span> T<span class="token operator">&amp;</span> a<span class="token punctuation">,</span> T<span class="token operator">&amp;</span> b <span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
  T <span class="token function">c</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> a<span class="token operator">=</span>b<span class="token punctuation">;</span> b<span class="token operator">=</span>c<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>å½“æˆ‘ä»¬ä½¿ç”¨è¿™ä¸ªæˆå‘˜å‡½æ•°è¿›è¡Œäº¤æ¢æ—¶ï¼Œä¼šé€ æˆæ‹·è´æ¶ˆè€—ï¼Œæˆ‘ä»¬æä¾›å¯¹åº”çš„éæˆå‘˜å‡½æ•°é‡è½½æ˜¯ä¸ºäº†é˜²æ­¢C++ç¨‹åºå‘˜æ‰å‘ã€‚<br> <strong>æˆå‘˜å‡½æ•°çš„swapï¼š</strong></p> 
<pre><code class="prism language-cpp"><span class="token keyword">void</span> string<span class="token double-colon punctuation">::</span><span class="token function">swap</span><span class="token punctuation">(</span>string<span class="token operator">&amp;</span> str<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	std<span class="token double-colon punctuation">::</span><span class="token function">swap</span><span class="token punctuation">(</span>_str<span class="token punctuation">,</span> str<span class="token punctuation">.</span>_str<span class="token punctuation">)</span><span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span><span class="token function">swap</span><span class="token punctuation">(</span>_size<span class="token punctuation">,</span> str<span class="token punctuation">.</span>_size<span class="token punctuation">)</span><span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span><span class="token function">swap</span><span class="token punctuation">(</span>_capacity<span class="token punctuation">,</span> str<span class="token punctuation">.</span>_capacity<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><strong>éæˆå‘˜å‡½æ•°çš„swapï¼š</strong></p> 
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">swap</span><span class="token punctuation">(</span>string<span class="token operator">&amp;</span> s1<span class="token punctuation">,</span> string<span class="token operator">&amp;</span> s2<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	std<span class="token double-colon punctuation">::</span><span class="token function">swap</span><span class="token punctuation">(</span>s1<span class="token punctuation">.</span>_str<span class="token punctuation">,</span> s2<span class="token punctuation">.</span>_str<span class="token punctuation">)</span><span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span><span class="token function">swap</span><span class="token punctuation">(</span>s1<span class="token punctuation">.</span>_size<span class="token punctuation">,</span> s2<span class="token punctuation">.</span>_size<span class="token punctuation">)</span><span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span><span class="token function">swap</span><span class="token punctuation">(</span>s1<span class="token punctuation">.</span>_capacity<span class="token punctuation">,</span> s2<span class="token punctuation">.</span>_capacity<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="_144"></a><mark>é»˜è®¤æˆå‘˜å‡½æ•°</mark></h3> 
<p>é»˜è®¤æˆå‘˜å‡½æ•°ï¼Œå°±æ˜¯ä¸æä¾›ç¼–è¯‘å™¨è‡ªåŠ¨ä¼šç”Ÿæˆçš„ä¸€äº›å‡½æ•°ã€‚æˆ‘ä»¬è¿™é‡Œå®ç°<strong>æ„é€ å‡½æ•°ï¼Œææ„å‡½æ•°å’Œèµ‹å€¼è¿ç®—ç¬¦é‡è½½</strong>ã€‚</p> 
<p><strong>æ„é€ å‡½æ•°ï¼š</strong></p> 
<pre><code class="prism language-cpp">string<span class="token double-colon punctuation">::</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> str<span class="token punctuation">)</span>
	<span class="token operator">:</span><span class="token function">_size</span><span class="token punctuation">(</span><span class="token function">strlen</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	_capacity <span class="token operator">=</span> _size <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
	_str <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span>_capacity <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token function">strcpy</span><span class="token punctuation">(</span>_str<span class="token punctuation">,</span> str<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

string<span class="token double-colon punctuation">::</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token keyword">const</span> string<span class="token operator">&amp;</span> s<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	_str <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span>s<span class="token punctuation">.</span>_capacity <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token function">strcpy</span><span class="token punctuation">(</span>_str<span class="token punctuation">,</span> s<span class="token punctuation">.</span>_str<span class="token punctuation">)</span><span class="token punctuation">;</span>
	_size <span class="token operator">=</span> s<span class="token punctuation">.</span>_size<span class="token punctuation">;</span>
	_capacity <span class="token operator">=</span> s<span class="token punctuation">.</span>_capacity<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>æ„é€ å‡½æ•°æä¾›äº†ä¸¤ä¸ªï¼Œåˆ†åˆ«æ”¯æŒäº†å­—ç¬¦ä¸²æ„é€ å’Œstringå¯¹è±¡æ„é€ ã€‚_stræŒ‡å‘é€šè¿‡newå¼€è¾Ÿç©ºé—´ï¼Œè¿™ä¸ªç©ºé—´éœ€è¦æ¯”å®é™…çš„capacityå¤§ï¼Œå› ä¸ºéœ€è¦åœ¨å­—ç¬¦ä¸²æœ«å°¾å¤šå­˜æ”¾ä¸€ä¸ª<code>'\0'</code>ã€‚</p> 
<p><strong>ææ„å‡½æ•°ï¼š</strong></p> 
<pre><code class="prism language-cpp"><span class="token class-name">string</span><span class="token double-colon punctuation">::</span><span class="token operator">~</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">delete</span><span class="token punctuation">[</span><span class="token punctuation">]</span> _str<span class="token punctuation">;</span>
	_str <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>
	_capacity <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	_size <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>è¿™ä¸ªæ²¡ä»€ä¹ˆå¥½è¯´ï¼Œé‡Šæ”¾ç©ºé—´ï¼ŒæŒ‡é’ˆç½®ç©ºï¼Œ_sizeå’Œ_capacityç½®0ã€‚</p> 
<p><strong>èµ‹å€¼è¿ç®—ç¬¦é‡è½½ï¼š</strong></p> 
<blockquote> 
 <p>stringçš„èµ‹å€¼å±äºæ·±æ‹·è´ã€‚</p> 
</blockquote> 
<blockquote> 
 <p>æ‹·è´åˆ†ä¸ºæ·±æ‹·è´å’Œæµ…æ‹·è´ï¼š<br> æµ…æ‹·è´ï¼šä¹Ÿç§°ä½æ‹·è´ï¼Œç¼–è¯‘å™¨<strong>åªæ˜¯å°†å¯¹è±¡ä¸­çš„å€¼æ‹·è´è¿‡æ¥</strong>ã€‚å¦‚æœå¯¹è±¡ä¸­ç®¡ç†èµ„æºï¼Œæœ€åå°±ä¼šå¯¼è‡´å¤šä¸ªå¯¹è±¡å…±äº«åŒä¸€ä»½èµ„æºï¼Œå½“ä¸€ä¸ªå¯¹è±¡é”€æ¯æ—¶å°±ä¼šå°†è¯¥èµ„æºé‡Šæ”¾æ‰ï¼Œè€Œæ­¤æ—¶å¦ä¸€äº›å¯¹è±¡ä¸çŸ¥é“è¯¥èµ„æºå·²ç»è¢«é‡Šæ”¾ï¼Œä»¥ä¸ºè¿˜æœ‰æ•ˆï¼Œæ‰€ä»¥å½“ç»§ç»­å¯¹èµ„æºè¿›é¡¹æ“ä½œæ—¶ï¼Œå°±ä¼šå‘ç”Ÿå‘ç”Ÿäº†è®¿é—®è¿è§„ã€‚å¯ä»¥<strong>é‡‡ç”¨æ·±æ‹·è´è§£å†³æµ…æ‹·è´é—®é¢˜</strong>ï¼Œå³ï¼š<strong>æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä»½ç‹¬ç«‹çš„èµ„æºï¼Œä¸è¦å’Œå…¶ä»–å¯¹è±¡å…±äº«</strong>ã€‚<br> æ·±æ‹·è´ï¼š<strong>å¦‚æœä¸€ä¸ªç±»ä¸­æ¶‰åŠåˆ°èµ„æºçš„ç®¡ç†ï¼Œå…¶æ‹·è´æ„é€ å‡½æ•°ã€èµ‹å€¼è¿ç®—ç¬¦é‡è½½ä»¥åŠææ„å‡½æ•°å¿…é¡»è¦æ˜¾å¼ç»™å‡º</strong>ã€‚ä¸€èˆ¬æƒ…å†µéƒ½æ˜¯æŒ‰ç…§æ·±æ‹·è´æ–¹å¼æä¾›ã€‚</p> 
</blockquote> 
<p>æµ…æ‹·è´ï¼š<br> <img src="https://images2.imgbox.com/2d/f7/RwbTJlcn_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> æ·±æ‹·è´ï¼š<br> <img src="https://images2.imgbox.com/d6/5a/2qtJ6gd8_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> <strong>å¦‚æœä¸­è§„ä¸­çŸ©çš„æ¥å†™ï¼ˆä¼ ç»Ÿç‰ˆèµ‹å€¼é‡è½½ï¼‰ï¼š</strong></p> 
<pre><code class="prism language-cpp">String<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">const</span> String<span class="token operator">&amp;</span> s<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">!=</span> <span class="token operator">&amp;</span>s<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">char</span><span class="token operator">*</span> pStr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token function">strlen</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>_str<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token function">strcpy</span><span class="token punctuation">(</span>pStr<span class="token punctuation">,</span> s<span class="token punctuation">.</span>_str<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">delete</span><span class="token punctuation">[</span><span class="token punctuation">]</span> _str<span class="token punctuation">;</span>
		_str <span class="token operator">=</span> pStr<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>ä½†å¦‚æœä½ èƒ½å¯¹ä¹‹å‰å®ç°çš„ä»£ç è¿›è¡Œå¤ç”¨ï¼Œä½ ä¼šå‘ç°è¿™ä¸ªè¿‡ç¨‹<strong>å¯ä»¥ç®€åŒ–éå¸¸å¤šï¼ˆç°ä»£ç‰ˆèµ‹å€¼é‡è½½ï¼‰</strong>ï¼š</p> 
<pre><code class="prism language-cpp">string<span class="token operator">&amp;</span> string<span class="token double-colon punctuation">::</span><span class="token keyword">operator</span><span class="token operator">=</span><span class="token punctuation">(</span>string tmp<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">// è°ƒç”¨æˆå‘˜å‡½æ•°çš„swapï¼Œäº¤æ¢*thiså’Œtmp</span>
	<span class="token function">swap</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<blockquote> 
 <p>åœ¨C++çš„ç¼–å†™ä¸­ï¼Œå­¦ä¼šå¤å¾ˆæœ‰å¿…è¦ã€‚</p> 
</blockquote> 
<h3><a id="_214"></a><mark>è¿­ä»£å™¨</mark></h3> 
<p>ä¹‹å‰è®²è¿‡ï¼Œè¿­ä»£å™¨ä¸ä¸€å®šæ˜¯æŒ‡é’ˆï¼Œä½†æ˜¯ä½ å¯ä»¥æŠŠå®ƒæƒ³è±¡æˆæŒ‡é’ˆï¼Œå¯ä»¥é€šè¿‡æ­£å¸¸çš„è¿ç®—æ“ä½œæ¥æ§åˆ¶å…¶æŒ‡å‘çš„å…ƒç´ ã€‚åœ¨stringä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨æŒ‡é’ˆæ¥æ¨¡æ‹Ÿå®ç°è¿­ä»£å™¨ã€‚</p> 
<blockquote> 
 <p>è¿­ä»£å™¨åœ¨ä¸åŒç¼–è¯‘å™¨ä¸‹çš„å®ç°æ–¹å¼æœ‰æ‰€ä¸åŒï¼Œæ¯”å¦‚VSä¸‹çš„è¿­ä»£å™¨å°±ä¸æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œè€Œæ˜¯ä¸€ä¸ªç±»æ¨¡æ¿ã€‚</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/5c/42/t3WXZ0iP_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> åœ¨ç±»ä¸­éœ€è¦typedefä¸€ä¸‹ï¼Œå¯ä»¥çœ‹åˆ°æˆ‘ä»¬æ‰€å®ç°çš„<strong>stringè¿­ä»£å™¨çš„æœ¬è´¨ï¼š</strong></p> 
<pre><code class="prism language-cpp"><span class="token comment">// å®šä¹‰è¿­ä»£å™¨</span>
<span class="token keyword">typedef</span> <span class="token keyword">char</span><span class="token operator">*</span> iterator<span class="token punctuation">;</span>
<span class="token keyword">typedef</span> <span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> const_iterator<span class="token punctuation">;</span>
</code></pre> 
<p><strong>è·å–è¿­ä»£å™¨çš„æ¥å£ï¼š</strong></p> 
<pre><code class="prism language-cpp">string<span class="token double-colon punctuation">::</span>iterator string<span class="token double-colon punctuation">::</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> _str<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

string<span class="token double-colon punctuation">::</span>iterator string<span class="token double-colon punctuation">::</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> _str <span class="token operator">+</span> _size<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

string<span class="token double-colon punctuation">::</span>const_iterator string<span class="token double-colon punctuation">::</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> _str<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

string<span class="token double-colon punctuation">::</span>const_iterator string<span class="token double-colon punctuation">::</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> _str <span class="token operator">+</span> _size<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>è¿™æ—¶ï¼Œæˆ‘ä»¬å·²ç»å¯ä»¥ä½¿ç”¨æˆ‘ä»¬è‡ªå·±çš„è¿­ä»£å™¨äº†ï¼š</p> 
<pre><code class="prism language-cpp">string <span class="token function">str</span><span class="token punctuation">(</span><span class="token string">"hello world!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
string<span class="token double-colon punctuation">::</span>iterator it <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span>it <span class="token operator">!=</span> str<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>it <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>
	<span class="token operator">++</span>it<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/0b/cb/odUuJRsp_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h3><a id="_258"></a><mark>è·å–å®¹é‡å’Œå†…å®¹ä¿¡æ¯</mark></h3> 
<p>è¿™äº›éƒ½æ˜¯è¿”å›strç±»å‹çŠ¶æ€å’Œå†…å®¹çš„å‡½æ•°ã€‚</p> 
<pre><code class="prism language-cpp"><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> string<span class="token double-colon punctuation">::</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> _str<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

size_t string<span class="token double-colon punctuation">::</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> _size<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

size_t string<span class="token double-colon punctuation">::</span><span class="token function">capaity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> _capacity<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// è¿ç®—ç¬¦é‡è½½</span>
<span class="token keyword">char</span><span class="token operator">&amp;</span> string<span class="token double-colon punctuation">::</span><span class="token keyword">operator</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span>size_t pos<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>pos <span class="token operator">&lt;</span> _size<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> _str<span class="token punctuation">[</span>pos<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">&amp;</span> string<span class="token double-colon punctuation">::</span><span class="token keyword">operator</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span>size_t pos<span class="token punctuation">)</span> <span class="token keyword">const</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>pos <span class="token operator">&lt;</span> _size<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> _str<span class="token punctuation">[</span>pos<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


</code></pre> 
<p>éƒ½æ¯”è¾ƒç®€å•æ˜“æ‡‚ã€‚</p> 
<h3><a id="reserve_292"></a><mark>reserveé¢„ç•™ç©ºé—´</mark></h3> 
<p>åœ¨å¼€å§‹å­—ç¬¦ä¸²å¢åˆ æŸ¥æ”¹ä¹‹å‰ï¼Œæœ‰å¿…è¦ä»‹ç»è¿™ä¸ªå‡½æ•°ï¼Œä½¿ç”¨å®ƒå¯ä»¥æ›´å¥½çš„æ§åˆ¶æˆ‘ä»¬stringå¯¹è±¡çš„å†…å­˜ç®¡ç†ã€‚</p> 
<pre><code class="prism language-cpp"><span class="token keyword">void</span> string<span class="token double-colon punctuation">::</span><span class="token function">reserve</span><span class="token punctuation">(</span>size_t n<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>_capacity <span class="token operator">&lt;</span> n<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">char</span><span class="token operator">*</span> tmp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token function">strcpy</span><span class="token punctuation">(</span>tmp<span class="token punctuation">,</span> _str<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">delete</span><span class="token punctuation">[</span><span class="token punctuation">]</span> _str<span class="token punctuation">;</span>
		_str <span class="token operator">=</span> tmp<span class="token punctuation">;</span>
		_capacity <span class="token operator">=</span> n<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>å½“nå¤§äºå½“å‰å®¹é‡_capacityçš„æ—¶å€™ï¼Œè¿›è¡Œç©ºé—´çš„å¼€è¾Ÿï¼Œå°†_strä¸­çš„å†…å®¹æ‹·è´åˆ°æ–°ç©ºé—´ä¸­å»ï¼ŒåŒæ—¶deleteé‡Šæ”¾æ—§ç©ºé—´ã€‚</p> 
<h3><a id="_307"></a><mark>å°¾æ’å­—ç¬¦å’Œå­—ç¬¦ä¸²</mark></h3> 
<p>æ¥å£å‡½æ•°ï¼Œä¸€ä¸ªæ˜¯push_backï¼Œä¸€ä¸ªæ˜¯appendã€‚</p> 
<pre><code class="prism language-cpp"><span class="token keyword">void</span> string<span class="token double-colon punctuation">::</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token keyword">char</span> ch<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>_size <span class="token operator">&gt;=</span> _capacity<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token function">reserve</span><span class="token punctuation">(</span>_capacity <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token number">4</span> <span class="token operator">:</span> _capacity <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	_str<span class="token punctuation">[</span>_size<span class="token punctuation">]</span> <span class="token operator">=</span> ch<span class="token punctuation">;</span>
	<span class="token operator">++</span>_size<span class="token punctuation">;</span>
	_str<span class="token punctuation">[</span>_size<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token char">'\0'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> string<span class="token double-colon punctuation">::</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> str<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	size_t len <span class="token operator">=</span> <span class="token function">strlen</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>_capacity <span class="token operator">&lt;</span> _size <span class="token operator">+</span> len<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token function">reserve</span><span class="token punctuation">(</span>_size <span class="token operator">+</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">strcpy</span><span class="token punctuation">(</span>_str <span class="token operator">+</span> _size<span class="token punctuation">,</span> str<span class="token punctuation">)</span><span class="token punctuation">;</span>
	_size <span class="token operator">+=</span> len<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>è¿™ä¸¤ä¸ªæˆå‘˜å‡½æ•°éƒ½ä½¿ç”¨äº†reserveæ¥é¢„ç•™ç©ºé—´ã€‚<br> åŒæ—¶è¿˜éœ€è¦æœ‰ <strong>è¿ç®—ç¬¦é‡è½½+=</strong> æ¥å®ç°å°¾æ’ï¼Œç”¨é‡è½½çš„è¿ç®—ç¬¦æ‰§è¡Œè¿™æ ·çš„æ“ä½œæ‰æ˜¯æœ€çˆ½çš„ã€‚</p> 
<pre><code class="prism language-cpp">string<span class="token operator">&amp;</span> string<span class="token double-colon punctuation">::</span><span class="token keyword">operator</span><span class="token operator">+=</span><span class="token punctuation">(</span><span class="token keyword">char</span> ch<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">push_back</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

string<span class="token operator">&amp;</span> string<span class="token double-colon punctuation">::</span><span class="token keyword">operator</span><span class="token operator">+=</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> str<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">append</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>å…¶å®ä¸ç”¨å†å®ç°ä¸€éäº†ï¼Œç›´æ¥å¤ç”¨å°±è¡Œã€‚<br> å¯ä»¥ç®€å•çœ‹ä¸€ä¸‹ä½¿ç”¨çš„æ•ˆæœï¼š</p> 
<pre><code class="prism language-cpp">string <span class="token function">str</span><span class="token punctuation">(</span><span class="token string">"hello world!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">char</span> ch <span class="token operator">=</span> <span class="token char">'T'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> s <span class="token operator">=</span> <span class="token string">"hhhhhh"</span><span class="token punctuation">;</span>
cout <span class="token operator">&lt;&lt;</span> str <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

str <span class="token operator">+=</span> ch<span class="token punctuation">;</span>
cout <span class="token operator">&lt;&lt;</span> str <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

str <span class="token operator">+=</span> s<span class="token punctuation">;</span>
cout <span class="token operator">&lt;&lt;</span> str <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/28/e6/FaA3R8GF_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h3><a id="_360"></a><mark>å­—ç¬¦æˆ–å­—ç¬¦ä¸²çš„æ’å…¥å’Œåˆ é™¤</mark></h3> 
<p>è¿™é‡Œçš„é€»è¾‘ç¨å¾®æœ‰äº›å¤æ‚ï¼Œè€Œä¸”è¿˜æœ‰å‡ ä¸ªæ¯”è¾ƒå®¹æ˜“æ‰çš„å‘ã€‚</p> 
<pre><code class="prism language-cpp"><span class="token comment">// å­—ç¬¦çš„æ’å…¥</span>
<span class="token keyword">void</span> string<span class="token double-colon punctuation">::</span><span class="token function">insert</span><span class="token punctuation">(</span>size_t pos<span class="token punctuation">,</span> <span class="token keyword">char</span> ch<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>pos <span class="token operator">&lt;=</span> _size<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>_size <span class="token operator">&gt;=</span> _capacity<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token function">reserve</span><span class="token punctuation">(</span>_capacity <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token number">4</span> <span class="token operator">:</span> _capacity <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">// æ³¨æ„è¿™é‡Œä¸ºä»€ä¹ˆè¦+1ï¼Œsize_tæ˜¯æ— ç¬¦å·æ•´å‹ï¼Œæ²¡æœ‰è´Ÿå€¼</span>
	<span class="token comment">//å½“æœ‰ç¬¦å·å’Œæ— ç¬¦å·æ¯”è¾ƒæ—¶ï¼Œç»Ÿä¸€ä¼šè¢«è½¬æˆæ— ç¬¦å·</span>
	size_t end <span class="token operator">=</span> _size <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>end <span class="token operator">&gt;</span> pos<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		_str<span class="token punctuation">[</span>end<span class="token punctuation">]</span> <span class="token operator">=</span> _str<span class="token punctuation">[</span>end <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token operator">--</span>end<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	_str<span class="token punctuation">[</span>pos<span class="token punctuation">]</span> <span class="token operator">=</span> ch<span class="token punctuation">;</span>
	<span class="token operator">++</span>_size<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// å­—ç¬¦ä¸²çš„æ’å…¥</span>
<span class="token keyword">void</span> string<span class="token double-colon punctuation">::</span><span class="token function">insert</span><span class="token punctuation">(</span>size_t pos<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> str<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>pos <span class="token operator">&lt;=</span> _size<span class="token punctuation">)</span><span class="token punctuation">;</span>
	size_t len <span class="token operator">=</span> <span class="token function">strlen</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>len <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>_size <span class="token operator">+</span> len <span class="token operator">&gt;</span> _capacity<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token function">reserve</span><span class="token punctuation">(</span>_size <span class="token operator">+</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">// æ³¨æ„è¿™é‡Œä¸ºä»€ä¹ˆè¦+lenï¼Œsize_tæ˜¯æ— ç¬¦å·æ•´å‹ï¼Œæ²¡æœ‰è´Ÿå€¼</span>
	<span class="token comment">//å½“æœ‰ç¬¦å·å’Œæ— ç¬¦å·æ¯”è¾ƒæ—¶ï¼Œç»Ÿä¸€ä¼šè¢«è½¬æˆæ— ç¬¦å·</span>
	size_t end <span class="token operator">=</span> _size <span class="token operator">+</span> len<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>end <span class="token operator">&gt;</span> pos <span class="token operator">+</span> len <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		_str<span class="token punctuation">[</span>end<span class="token punctuation">]</span> <span class="token operator">=</span> _str<span class="token punctuation">[</span>end <span class="token operator">-</span> len<span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token operator">--</span>end<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">memcpy</span><span class="token punctuation">(</span>_str <span class="token operator">+</span> pos<span class="token punctuation">,</span> str<span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>
	_size <span class="token operator">+=</span> len<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// å­—ç¬¦ä¸²çš„åˆ é™¤</span>
<span class="token keyword">void</span> string<span class="token double-colon punctuation">::</span><span class="token function">erase</span><span class="token punctuation">(</span>size_t pos<span class="token punctuation">,</span> size_t len<span class="token punctuation">)</span> 
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>pos <span class="token operator">&lt;</span> _size<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// å½“pos+lenè¿‡å¤§ï¼Œè¶…è¿‡_sizeï¼Œåˆ™å–åˆ°æœ«å°¾</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>len <span class="token operator">&gt;=</span> _size <span class="token operator">-</span> pos<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		_str<span class="token punctuation">[</span>pos<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token char">'\0'</span><span class="token punctuation">;</span>
		_size <span class="token operator">=</span> pos<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
		<span class="token function">strcpy</span><span class="token punctuation">(</span>_str <span class="token operator">+</span> pos<span class="token punctuation">,</span> _str <span class="token operator">+</span> pos <span class="token operator">+</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>
		_size <span class="token operator">-=</span> len<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>ä½¿ç”¨æ¡ˆä¾‹ï¼š</p> 
<pre><code class="prism language-cpp">string <span class="token function">str</span><span class="token punctuation">(</span><span class="token string">"hello world!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">char</span> ch <span class="token operator">=</span> <span class="token char">'T'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> s <span class="token operator">=</span> <span class="token string">"hhhhhh"</span><span class="token punctuation">;</span>
cout <span class="token operator">&lt;&lt;</span> str <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

str<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> ch<span class="token punctuation">)</span><span class="token punctuation">;</span>
cout <span class="token operator">&lt;&lt;</span> str <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

str<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>
cout <span class="token operator">&lt;&lt;</span> str <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

str<span class="token punctuation">.</span><span class="token function">erase</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token function">strlen</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cout <span class="token operator">&lt;&lt;</span> str <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/ad/d1/hT2fS0la_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h3><a id="find_433"></a><mark>findæŸ¥æ‰¾</mark></h3> 
<p>æŸ¥æ‰¾Cè¯­è¨€æŸ¥æ‰¾å­—ç¬¦ä¸²çš„åº“ä¹Ÿæœ‰æä¾›ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚</p> 
<pre><code class="prism language-cpp">size_t string<span class="token double-colon punctuation">::</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">char</span> ch<span class="token punctuation">,</span> size_t pos<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span>size_t i <span class="token operator">=</span> pos<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> _size<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>_str<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> ch<span class="token punctuation">)</span>
			<span class="token keyword">return</span> i<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> npos<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

size_t string<span class="token double-colon punctuation">::</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> sub<span class="token punctuation">,</span> size_t pos<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> ptr <span class="token operator">=</span> <span class="token function">strstr</span><span class="token punctuation">(</span>_str<span class="token punctuation">,</span> sub<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> ptr <span class="token operator">-</span> _str<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>ä½¿ç”¨æ¡ˆä¾‹ï¼š</p> 
<pre><code class="prism language-cpp">string <span class="token function">str</span><span class="token punctuation">(</span><span class="token string">"hello world!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cout <span class="token operator">&lt;&lt;</span> str<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token char">'w'</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
cout <span class="token operator">&lt;&lt;</span> str<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">"wor"</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/83/61/6VeLfSp1_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<blockquote> 
 <p>ç¼ºçœå‚æ•°åœ¨å‡½æ•°å£°æ˜é‚£é‡Œã€‚</p> 
</blockquote> 
<h3><a id="_461"></a><mark>æ¯”å¤§å°è¿ç®—ç¬¦é‡è½½</mark></h3> 
<p>Cè¯­è¨€ä¸­ï¼Œæœ‰ä¸€ä¸ªæŒ‰èƒ½æŒ‰å­—å…¸åºå°†å­—ç¬¦ä¸²æ¯”å¤§å°çš„å‡½æ•°â€”â€”<code>strcmp</code>ã€‚</p> 
<pre><code class="prism language-cpp"><span class="token keyword">bool</span> string<span class="token double-colon punctuation">::</span><span class="token keyword">operator</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">const</span> string<span class="token operator">&amp;</span> str<span class="token punctuation">)</span> <span class="token keyword">const</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> <span class="token function">strcmp</span><span class="token punctuation">(</span>_str<span class="token punctuation">,</span> str<span class="token punctuation">.</span>_str<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">bool</span> string<span class="token double-colon punctuation">::</span><span class="token keyword">operator</span><span class="token operator">==</span><span class="token punctuation">(</span><span class="token keyword">const</span> string<span class="token operator">&amp;</span> str<span class="token punctuation">)</span> <span class="token keyword">const</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> <span class="token function">strcmp</span><span class="token punctuation">(</span>_str<span class="token punctuation">,</span> str<span class="token punctuation">.</span>_str<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">bool</span> string<span class="token double-colon punctuation">::</span><span class="token keyword">operator</span><span class="token operator">&gt;=</span><span class="token punctuation">(</span><span class="token keyword">const</span> string<span class="token operator">&amp;</span> str<span class="token punctuation">)</span> <span class="token keyword">const</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span> <span class="token operator">&gt;</span> str <span class="token operator">||</span> <span class="token operator">*</span><span class="token keyword">this</span> <span class="token operator">==</span> str<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">bool</span> string<span class="token double-colon punctuation">::</span><span class="token keyword">operator</span><span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token keyword">const</span> string<span class="token operator">&amp;</span> str<span class="token punctuation">)</span> <span class="token keyword">const</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> <span class="token operator">!</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token keyword">this</span> <span class="token operator">&gt;=</span> str<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">bool</span> string<span class="token double-colon punctuation">::</span><span class="token keyword">operator</span><span class="token operator">&lt;=</span><span class="token punctuation">(</span><span class="token keyword">const</span> string<span class="token operator">&amp;</span> str<span class="token punctuation">)</span> <span class="token keyword">const</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> <span class="token operator">!</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token keyword">this</span> <span class="token operator">&gt;</span> str<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">bool</span> string<span class="token double-colon punctuation">::</span><span class="token keyword">operator</span><span class="token operator">!=</span><span class="token punctuation">(</span><span class="token keyword">const</span> string<span class="token operator">&amp;</span> str<span class="token punctuation">)</span> <span class="token keyword">const</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> <span class="token operator">!</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token keyword">this</span> <span class="token operator">==</span> str<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>åªéœ€è¦å®ç°å‰ä¸¤ä¸ªï¼Œåé¢çš„å¤ç”¨å°±è¡Œã€‚</p> 
<h3><a id="_490"></a><mark>è·å–å­ä¸²</mark></h3> 
<p>ä½¿ç”¨substrå¯ä»¥è·å–æ‰€éœ€å¯¹è±¡å­—ä¸²ã€‚</p> 
<pre><code class="prism language-cpp">string string<span class="token double-colon punctuation">::</span><span class="token function">substr</span><span class="token punctuation">(</span>size_t pos<span class="token punctuation">,</span> size_t len<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>pos <span class="token operator">+</span> len <span class="token operator">&gt;=</span> _size<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		string <span class="token function">sub</span><span class="token punctuation">(</span>_str <span class="token operator">+</span> pos<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> sub<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
		string sub<span class="token punctuation">;</span>
		sub<span class="token punctuation">.</span><span class="token function">reserve</span><span class="token punctuation">(</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span>size_t i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			sub <span class="token operator">+=</span> _str<span class="token punctuation">[</span>pos <span class="token operator">+</span> i<span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span> sub<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="clear_509"></a><mark>æ¸…é™¤clear</mark></h3> 
<p>å¯ä»¥å°†å¯¹è±¡å†…å®¹éƒ½åˆ é™¤ï¼Œä½†_capacityä¿æŒä¸å˜ã€‚</p> 
<pre><code class="prism language-cpp"><span class="token keyword">void</span> string<span class="token double-colon punctuation">::</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	_str<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token char">'\0'</span><span class="token punctuation">;</span>
	_size <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="_518"></a><mark>æµæ’å…¥å’Œæµæå–</mark></h3> 
<p>è¿™ä¸¤ä¸ªå‡½æ•°ä¹‹å‰åœ¨Dateç±»éƒ¨åˆ†å®ç°çš„æ—¶å€™ï¼Œå®šä¹‰ä¸ºäº†Dateç±»çš„å‹å…ƒã€‚ä½†æ˜¯ï¼Œæµæ’å…¥å’Œæµæå–å…¶å®å¯ä»¥ä¸å®šä¹‰ä¸ºstringç±»çš„å‹å…ƒã€‚</p> 
<pre><code class="prism language-cpp"><span class="token comment">// æµæ’å…¥</span>
std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">&lt;&lt;</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> os<span class="token punctuation">,</span> <span class="token keyword">const</span> string<span class="token operator">&amp;</span> str<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> str<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
		os <span class="token operator">&lt;&lt;</span> str<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> os<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// æµæå–</span>
std<span class="token double-colon punctuation">::</span>istream<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">&gt;&gt;</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>istream<span class="token operator">&amp;</span> is<span class="token punctuation">,</span> string<span class="token operator">&amp;</span> str<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	str<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">char</span> ch <span class="token operator">=</span> is<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>ch <span class="token operator">!=</span> <span class="token char">' '</span> <span class="token operator">&amp;&amp;</span> ch <span class="token operator">!=</span> <span class="token char">'\n'</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		str <span class="token operator">+=</span> ch<span class="token punctuation">;</span>
		ch <span class="token operator">=</span> is<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> is<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>stringå¯¹è±¡è¯»å–çš„æˆªæ–­æ˜¯<strong>ç©ºæ ¼</strong>å’Œ<strong>æ¢è¡Œ</strong>ï¼Œä½†æ˜¯<code>cin</code>å¯¹è±¡é»˜è®¤æ˜¯è¯»ä¸åˆ°è¿™ä¸¤ä¸ªå­—ç¬¦çš„ï¼Œè¿™å°±éœ€è¦ä½¿ç”¨å¦ä¸€ç§è¯»å–æ–¹å¼ï¼š<code>cin.get()</code>ã€‚<br> ä½¿ç”¨æ¡ˆä¾‹ï¼š</p> 
<pre><code class="prism language-cpp">string str<span class="token punctuation">;</span>
cin <span class="token operator">&gt;&gt;</span> str<span class="token punctuation">;</span>
cout <span class="token operator">&lt;&lt;</span> str <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/3c/15/OXBotaGZ_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h3><a id="npos_549"></a><mark>å¸¸é‡æˆå‘˜npos</mark></h3> 
<p>å¸¸é‡æˆå‘˜çš„å®šä¹‰éœ€è¦å®ç°åœ¨ç±»çš„å¤–éƒ¨ï¼Œåƒè¿™æ ·ï¼š</p> 
<pre><code class="prism language-cpp"><span class="token keyword">const</span> size_t string<span class="token double-colon punctuation">::</span>npos <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
</code></pre> 
<p>å½“<strong>å¸¸é‡çš„å†…å®¹æ˜¯æ•´å‹</strong>ï¼ˆæµ®ç‚¹å‹å’Œå­—ç¬¦ç±»å‹ç­‰éƒ½ä¸è¡Œï¼‰æ—¶ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºç¼ºçœå‚æ•°è¿›è¡Œå®šä¹‰ã€‚</p> 
<h2><a id="_555"></a>ç»“è¯­</h2> 
<p>æœ¬ç¯‡åšå®¢ä¸»è¦ä»‹ç»äº†stringç±»å¸¸ç”¨æ¥å£çš„å®ç°ï¼ŒåŒ…æ‹¬é»˜è®¤æˆå‘˜å‡½æ•°ï¼Œè¿­ä»£å™¨ï¼Œå­—ç¬¦å’Œå­—ç¬¦ä¸²çš„æ’å…¥åˆ é™¤ç­‰ç­‰å†…å®¹ã€‚<br> åç»­åšä¸»è¿˜ä¼šç»§ç»­åˆ†äº«ä¸STLç›¸å…³çš„å†…å®¹ï¼Œæ„Ÿè°¢å¤§å®¶çš„æ”¯æŒã€‚â™¥</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/1f2ee6c9605a2e8d6b5aede5d89641c6/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">ã€æœºå™¨å­¦ä¹ èšç±»ç®—æ³•å®æˆ˜-4ã€‘æœºå™¨å­¦ä¹ èšç±»ç®—æ³•ä¹‹k-å‡å€¼èšç±»ã€åˆ†å±‚èšç±»ç®—æ³•ã€å‡èšèšç±»å’Œè°±èšç±»å®ä¾‹åˆ†æ</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/ba2cb0678b4479baa72369ce93c62e8a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">å¦‚ä½•ä½¿ç”¨ GPT 4o API å®ç°è§†è§‰ã€æ–‡æœ¬ã€å›¾åƒç­‰åŠŸèƒ½ï¼Ÿ</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ç¼–ç¨‹å¤§å’–.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>