<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>AndroidStudio运行Flutter时卡在Running ‘gradle assembleDebug...‘问题解决[2023-12-13更新] - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/16b716ed06f78a6f80fdb36607e56bfb/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="AndroidStudio运行Flutter时卡在Running ‘gradle assembleDebug...‘问题解决[2023-12-13更新]">
  <meta property="og:description" content="1.前言 最近由于项目需要，开始学习Flutter框架和Dart语言，具体的配置步骤强烈推荐这篇博客，写得非常好:【window10】Dart&#43;Android Studio&#43;Flutter安装及运行
按照这篇博客设置完Flutter和Dart的环境后，我开启AndroidStudio的虚拟移动设备，尝试运行官方给的Dart示例代码
结果就见运行输出那边一直卡在Running Gradle task &#39;assembleDebug&#39;...：
然后查询资料发现，运行Flutter貌似需要外网环境，没有外网的话会卡在这非常久......
还有一些人给出了一些解决方案，有的有用，有的没用，最后我把他们的方法都中和了一下成功了 ，下面介绍一下我的解决方法，先声明很多地方我也不知道为什么这么设置，我不是学计算机的，会的不多，步骤仅供参考。 2.设置步骤 大部分步骤参考这篇博客，我在他的基础上又遇到了很多报错，逐一解决后就成功了:Flutter卡在Running ‘gradle assembleDebug‘最完整解决
2.1 设置准备 准备一个可以完成编译和运行的Android项目（简称项目A）打开你的Flutter项目（简称项目B）Flutter的安装目录 2.2 步骤1-查看项目A的gradle-wrapper.properties 打开A项目的Gradle Scripts/gradle-wrapper.properties，记住里面的gradle版本号:
2.3 步骤2-修改项目B的gradle-wrapper.properties 打开项目B，打开项目目录下的\android\gradle\wrapper\gradle-wrapper.properties：
如上图将distributionUrl这一项替换为腾讯的镜像源:
distributionUrl=https://mirrors.cloud.tencent.com/gradle/gradle-8.0-bin.zip 注意将&#39;gradle-8.0-bin.zip&#39;替换为你刚才在项目A记录的gradle版本号
接着打开项目目录下的\android\build.gradle：
如上图在buildscript{...}和allprojects{...}中添加如下代码：
注意我添加的maven代码与参考文章中的不一样！
maven { url &#39;https://maven.aliyun.com/repository/google&#39; } maven { url &#39;https://maven.aliyun.com/repository/jcenter&#39; } maven { allowInsecureProtocol = true url &#39;https://maven.aliyun.com/nexus/content/groups/public&#39; } 注意要将该段代码添加在google()和mavenCentral()之前：
2.4 步骤3-gradlew指令执行 在AndroidStudio打开项目B，新建终端，依次输入：
cd android ./gradlew clean ./gradlew build 注意上面的命令如果提示 .不是有效命令 ，去除./即可
这里比较难搞的地方来了，如果正常的就会显示：
但是我这边并没有成功，而是显示BULID FAILED，接下来我把我遇到的错误写出来，供大家参考。
3.错误解决 3.1 错误1-BUG! exception in phase &#39;semantic analysis&#39; 经查询这是JDK版本过高导致Gradle不兼容的问题，这里提供官方提供的jdk版本与gradle的兼容版本：java与gradle兼容版本">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2023-12-13T12:58:27+08:00">
    <meta property="article:modified_time" content="2023-12-13T12:58:27+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">AndroidStudio运行Flutter时卡在Running ‘gradle assembleDebug...‘问题解决[2023-12-13更新]</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>1.前言</h2> 
<p>最近由于项目需要，开始学习Flutter框架和Dart语言，具体的配置步骤强烈推荐这篇博客，写得非常好:<a class="link-info" href="https://blog.csdn.net/aDiaoYa_/article/details/133642033?spm=1001.2014.3001.5506" title="【window10】Dart+Android Studio+Flutter安装及运行">【window10】Dart+Android Studio+Flutter安装及运行</a></p> 
<p></p> 
<p class="img-center"><img alt="" height="253" src="https://images2.imgbox.com/33/b7/4u2jN53F_o.png" width="411"></p> 
<p>按照这篇博客设置完Flutter和Dart的环境后，我开启AndroidStudio的虚拟移动设备，尝试运行官方给的Dart示例代码</p> 
<p class="img-center"><img alt="" height="99" src="https://images2.imgbox.com/db/f7/EIZnSXUj_o.png" width="447"></p> 
<p class="img-center"><img alt="" height="259" src="https://images2.imgbox.com/04/d4/MURpVNUy_o.png" width="380"></p> 
<p>结果就见运行输出那边一直卡在Running Gradle task 'assembleDebug'...：</p> 
<p></p> 
<p class="img-center"><img alt="" height="41" src="https://images2.imgbox.com/63/ca/qAX4zJOo_o.png" width="583"></p> 
<p>然后查询资料发现，运行Flutter貌似需要外网环境，没有外网的话会卡在这非常久......</p> 
<p>还有一些人给出了一些解决方案，有的有用，有的没用，最后我把他们的方法都中和了一下成功了 ，下面介绍一下我的解决方法，先声明很多地方我也不知道为什么这么设置，我不是学计算机的，会的不多，步骤仅供参考。 </p> 
<h2>2.设置步骤</h2> 
<p>大部分步骤参考这篇博客，我在他的基础上又遇到了很多报错，逐一解决后就成功了:<a class="link-info" href="https://blog.csdn.net/qq_43596067/article/details/107710915" title="Flutter卡在Running ‘gradle assembleDebug‘最完整解决">Flutter卡在Running ‘gradle assembleDebug‘最完整解决</a></p> 
<h3>2.1 设置准备</h3> 
<ul><li>准备一个可以完成编译和运行的Android项目（简称项目A）</li><li>打开你的Flutter项目（简称项目B）</li><li>Flutter的安装目录</li></ul> 
<h3>2.2 步骤1-查看项目A的gradle-wrapper.properties</h3> 
<p>打开A项目的Gradle Scripts/gradle-wrapper.properties，<span style="color:#fe2c24;">记住里面的gradle版本号</span>:</p> 
<p class="img-center"><img alt="" height="303" src="https://images2.imgbox.com/e8/30/CpJGz3Ph_o.png" width="333"></p> 
<p class="img-center"><img alt="" height="182" src="https://images2.imgbox.com/0f/25/3T36n4JM_o.png" width="688"></p> 
<h3> 2.3 步骤2-修改项目B的<span style="color:#0d0016;">gradle-wrapper.properties</span></h3> 
<p>打开项目B，打开项目目录下的<span style="color:#fe2c24;">\android\gradle\wrapper\gradle-wrapper.properties</span>：</p> 
<p class="img-center"><img alt="" height="547" src="https://images2.imgbox.com/5f/b1/8v9b9gl5_o.png" width="342"></p> 
<p><img alt="" height="220" src="https://images2.imgbox.com/ad/7e/6tfjO1VR_o.png" width="850">如上图将distributionUrl这一项替换为腾讯的镜像源:</p> 
<pre><code>distributionUrl=https://mirrors.cloud.tencent.com/gradle/gradle-8.0-bin.zip</code></pre> 
<p><span style="color:#fe2c24;">注意将'gradle-8.0-bin.zip'替换为你刚才在项目A记录的gradle版本号</span></p> 
<p> 接着打开项目目录下的<span style="color:#fe2c24;">\android\build.gradle</span>：</p> 
<p class="img-center"><img alt="" height="505" src="https://images2.imgbox.com/43/67/jWw2UEiy_o.png" width="348"></p> 
<p><img alt="" height="583" src="https://images2.imgbox.com/de/d1/iJXyz0Xi_o.png" width="712"> 如上图在<span style="color:#fe2c24;">buildscript{...}</span>和<span style="color:#fe2c24;">allprojects{...}</span>中添加如下代码：</p> 
<p><span style="color:#fe2c24;">注意我添加的maven代码与参考文章中的不一样！</span></p> 
<pre><code>maven { url 'https://maven.aliyun.com/repository/google' }
maven { url 'https://maven.aliyun.com/repository/jcenter' }
maven {
        allowInsecureProtocol = true
        url 'https://maven.aliyun.com/nexus/content/groups/public'
       }</code></pre> 
<p><span style="color:#fe2c24;">注意要将该段代码添加在<span style="background-color:#f9eda6;">google()</span>和<span style="background-color:#f9eda6;">mavenCentral()</span>之前：</span></p> 
<p class="img-center"><img alt="" height="305" src="https://images2.imgbox.com/2d/f0/HdINuaLQ_o.png" width="608"></p> 
<p class="img-center"><img alt="" height="332" src="https://images2.imgbox.com/1b/c4/OPlKx81w_o.png" width="612"></p> 
<h3>2.4 步骤3-gradlew指令执行</h3> 
<p>在AndroidStudio打开项目B，新建终端，依次输入：</p> 
<pre><code>cd android
./gradlew clean
./gradlew build</code></pre> 
<p><span style="color:#fe2c24;">注意上面的命令如果提示 .不是有效命令 ，去除./即可</span></p> 
<p><span style="color:#0d0016;">这里比较难搞的地方来了，如果正常的就会显示：</span></p> 
<p><img alt="" height="314" src="https://images2.imgbox.com/44/7b/ZbCRxv9g_o.png" width="1200"></p> 
<p> 但是我这边并没有成功，而是显示BULID FAILED，接下来我把我遇到的错误写出来，供大家参考。</p> 
<h2><br> 3.错误解决</h2> 
<h3>3.1 错误1-BUG! exception in phase 'semantic analysis'</h3> 
<p>经查询这是JDK版本过高导致Gradle不兼容的问题，这里提供官方提供的jdk版本与gradle的兼容版本：<a class="link-info" href="https://docs.gradle.org/current/userguide/compatibility.html#compatibility" rel="nofollow" title="java与gradle兼容版本">java与gradle兼容版本</a></p> 
<p class="img-center"><img alt="" height="711" src="https://images2.imgbox.com/1e/1e/YkpR9Ymj_o.png" width="785"></p> 
<p>你需要将之前已安装的jdk版本卸载，然后重新安装jdk，这里提供两篇博客，按照他的步骤卸载java就行:</p> 
<p><a class="link-info" href="https://blog.csdn.net/hhhhh11123/article/details/120174276" title="jdk的卸载和重新安装">jdk的卸载和重新安装</a> 、<a class="link-info" href="https://www.cnblogs.com/pjhaymy/p/13735277.html" rel="nofollow" title="完整的卸载Jdk java环境教程">完整的卸载Jdk java环境教程</a></p> 
<p>至于jdk的安装 ，请自行百度。</p> 
<p>这时候执行刚才的三行指令，就会提示成功了：</p> 
<p><img alt="" height="314" src="https://images2.imgbox.com/ad/5c/3Hwif11y_o.png" width="1200"></p> 
<p>接着运行尝试运行项目，就会发现比原来快多了，大概不到一分钟吧，就能启动成功了：</p> 
<p><img alt="" height="125" src="https://images2.imgbox.com/6a/13/Nu7niW5I_o.png" width="854"></p> 
<p class="img-center"><img alt="" height="587" src="https://images2.imgbox.com/5d/a3/14kaJD6p_o.png" width="575"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/7f67ea51a1609dc8ac4714ef0ecb9236/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【语义分割】12个主流算法架构介绍、数据集推荐、总结、挑战和未来发展</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/2ad57194cc022e4a7630ba3c913d47d1/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【腾讯云云上实验室】向量数据库与数据挖掘分析的黄金组合指南</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>