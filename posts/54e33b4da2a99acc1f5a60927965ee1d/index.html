<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>MySQL 字符串日期格式转换 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/54e33b4da2a99acc1f5a60927965ee1d/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="MySQL 字符串日期格式转换">
  <meta property="og:description" content="在MySQL中，经常需要将字符串类型的日期转换成日期或时间类型，或者在不同的日期格式之间进行转换。MySQL提供了几种方法来实现这一点，包括使用STR_TO_DATE()和DATE_FORMAT()函数。
1. 使用STR_TO_DATE()函数 STR_TO_DATE()函数可以将字符串转换成日期或时间格式。它接受两个主要参数：要转换的字符串和格式字符串。
语法:
STR_TO_DATE(str, format) str 是要转换的字符串。format 是该字符串的日期或时间格式。 示例:
假设你有一个日期字符串 &#39;2023-04-01&#39;，并且它是以 &#39;YYYY-MM-DD&#39; 格式存储的，但你希望将它转换成日期类型以进行日期计算。
SELECT STR_TO_DATE(&#39;2023-04-01&#39;, &#39;%Y-%m-%d&#39;) AS converted_date; 这将返回日期类型的结果，格式为 &#39;2023-04-01&#39;。
2. 使用DATE_FORMAT()函数 DATE_FORMAT()函数用于将日期或时间值格式化为指定的格式。虽然这主要用于格式化日期时间值，但你也可以用它来“转换”日期到字符串的特定格式。
语法:
DATE_FORMAT(date, format) date 是日期或时间值。format 是你希望返回的日期时间格式。 示例:
如果你有一个日期类型的值，并且希望将其格式化为 &#39;YYYYMMDD&#39; 格式的字符串。
SELECT DATE_FORMAT(NOW(), &#39;%Y%m%d&#39;) AS formatted_date; 这里NOW()函数返回当前的日期和时间，然后DATE_FORMAT()将其格式化为 &#39;YYYYMMDD&#39; 格式的字符串。
3. 转换和格式化的结合使用 有时，你可能需要先将字符串转换成日期类型，然后再将其格式化为另一种格式的字符串。这可以通过结合使用STR_TO_DATE()和DATE_FORMAT()来实现。
示例:
假设你有一个日期字符串 &#39;01-Apr-2023&#39;，并且你希望将其转换为 &#39;YYYYMMDD&#39; 格式的字符串。
SELECT DATE_FORMAT(STR_TO_DATE(&#39;01-Apr-2023&#39;, &#39;%d-%b-%Y&#39;), &#39;%Y%m%d&#39;) AS formatted_string; 这里，STR_TO_DATE()首先将字符串转换为日期类型，然后使用DATE_FORMAT()将其格式化为 &#39;YYYYMMDD&#39;。
总结 通过STR_TO_DATE()和DATE_FORMAT()函数，MySQL允许你在字符串和日期类型之间转换，并在不同的日期格式之间自由转换。这在进行数据清洗、处理和报表生成时非常有用。
起因 需要将Oracle中的数据导到MySQL中
#阻碍 在Oracle导出数据时，发现导出的SQL脚本中的日期转换是to_date(&#39;28-11-2023 14:15:17&#39;, &#39;dd-mm-yyyy hh24:mi:ss&#39;)的形式，但MySQL并不认识这个格式转换函数，此时需要将Oracle中这个日期转换函数替换成MySQL中的日期格式转换函数才能在MySQL中执行导出的脚本，那么在MySQL中日期如何转换呢？
#分析 在to_date(&#39;28-11-2023 14:15:17&#39;, &#39;dd-mm-yyyy hh24:mi:ss&#39;)中，是要将给定的字符串28-11-2023 14:15:17按照dd-mm-yyyy hh24:mi:ss的格式转换成日期，那么我们也需要在MySQL找到一个函数能够将指定的字符串按照一定的格式转换成日期。">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-07-06T08:52:29+08:00">
    <meta property="article:modified_time" content="2024-07-06T08:52:29+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">MySQL 字符串日期格式转换</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>在MySQL中，经常需要将字符串类型的日期转换成日期或时间类型，或者在不同的日期格式之间进行转换。MySQL提供了几种方法来实现这一点，包括使用<code>STR_TO_DATE()</code>和<code>DATE_FORMAT()</code>函数。</p> 
<h4>1. 使用<code>STR_TO_DATE()</code>函数</h4> 
<p><code>STR_TO_DATE()</code>函数可以将字符串转换成日期或时间格式。它接受两个主要参数：要转换的字符串和格式字符串。</p> 
<p><strong>语法</strong>:</p> 
<pre><code class="language-sql">STR_TO_DATE(str, format)</code></pre> 
<ul><li><code>str</code> 是要转换的字符串。</li><li><code>format</code> 是该字符串的日期或时间格式。</li></ul> 
<p><strong>示例</strong>:<br> 假设你有一个日期字符串 <code>'2023-04-01'</code>，并且它是以 <code>'YYYY-MM-DD'</code> 格式存储的，但你希望将它转换成日期类型以进行日期计算。</p> 
<pre><code class="language-sql">SELECT STR_TO_DATE('2023-04-01', '%Y-%m-%d') AS converted_date;</code></pre> 
<p><br> 这将返回日期类型的结果，格式为 <code>'2023-04-01'</code>。</p> 
<h4>2. 使用<code>DATE_FORMAT()</code>函数</h4> 
<p><code>DATE_FORMAT()</code>函数用于将日期或时间值格式化为指定的格式。虽然这主要用于格式化日期时间值，但你也可以用它来“转换”日期到字符串的特定格式。</p> 
<p><strong>语法</strong>:</p> 
<pre><code class="language-sql">
	DATE_FORMAT(date, format)</code></pre> 
<ul><li><code>date</code> 是日期或时间值。</li><li><code>format</code> 是你希望返回的日期时间格式。</li></ul> 
<p><strong>示例</strong>:<br> 如果你有一个日期类型的值，并且希望将其格式化为 <code>'YYYYMMDD'</code> 格式的字符串。</p> 
<pre><code class="language-sql">SELECT DATE_FORMAT(NOW(), '%Y%m%d') AS formatted_date;</code></pre> 
<p>这里<code>NOW()</code>函数返回当前的日期和时间，然后<code>DATE_FORMAT()</code>将其格式化为 <code>'YYYYMMDD'</code> 格式的字符串。</p> 
<h4>3. 转换和格式化的结合使用</h4> 
<p>有时，你可能需要先将字符串转换成日期类型，然后再将其格式化为另一种格式的字符串。这可以通过结合使用<code>STR_TO_DATE()</code>和<code>DATE_FORMAT()</code>来实现。</p> 
<p><strong>示例</strong>:<br> 假设你有一个日期字符串 <code>'01-Apr-2023'</code>，并且你希望将其转换为 <code>'YYYYMMDD'</code> 格式的字符串。</p> 
<pre><code class="language-sql">SELECT DATE_FORMAT(STR_TO_DATE('01-Apr-2023', '%d-%b-%Y'), '%Y%m%d') AS formatted_string;</code></pre> 
<p>这里，<code>STR_TO_DATE()</code>首先将字符串转换为日期类型，然后使用<code>DATE_FORMAT()</code>将其格式化为 <code>'YYYYMMDD'</code>。</p> 
<h4>总结</h4> 
<p>通过<code>STR_TO_DATE()</code>和<code>DATE_FORMAT()</code>函数，MySQL允许你在字符串和日期类型之间转换，并在不同的日期格式之间自由转换。这在进行数据清洗、处理和报表生成时非常有用。</p> 
<h4 id="起因">起因</h4> 
<p>需要将Oracle中的数据导到MySQL中</p> 
<h4 id="阻碍"><a href="https://www.codefather.cn/mysql-%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%97%A5%E6%9C%9F%E6%A0%BC%E5%BC%8F%E8%BD%AC%E6%8D%A2/#%E9%98%BB%E7%A2%8D" rel="nofollow" title="#">#</a>阻碍</h4> 
<p>在Oracle导出数据时，发现导出的SQL脚本中的日期转换是<code>to_date('28-11-2023 14:15:17', 'dd-mm-yyyy hh24:mi:ss')</code>的形式，但MySQL并不认识这个格式转换函数，此时需要将Oracle中这个日期转换函数替换成MySQL中的日期格式转换函数才能在MySQL中执行导出的脚本，那么在MySQL中日期如何转换呢？</p> 
<h4 id="分析"><a href="https://www.codefather.cn/mysql-%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%97%A5%E6%9C%9F%E6%A0%BC%E5%BC%8F%E8%BD%AC%E6%8D%A2/#%E5%88%86%E6%9E%90" rel="nofollow" title="#">#</a>分析</h4> 
<p>在<code>to_date('28-11-2023 14:15:17', 'dd-mm-yyyy hh24:mi:ss')</code>中，是要将给定的字符串<code>28-11-2023 14:15:17</code>按照<code>dd-mm-yyyy hh24:mi:ss</code>的格式转换成日期，那么我们也需要在MySQL找到一个函数能够将指定的字符串按照一定的格式转换成日期。</p> 
<h4 id="解决"><a href="https://www.codefather.cn/mysql-%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%97%A5%E6%9C%9F%E6%A0%BC%E5%BC%8F%E8%BD%AC%E6%8D%A2/#%E8%A7%A3%E5%86%B3" rel="nofollow" title="#">#</a>解决</h4> 
<p>在MySQL中可以使用<code>str_to_date(str,format)</code>这个函数来实现将字符串按照时间格式转换成日期。那么对于Oracle中的<code>to_date('28-11-2023 14:15:17', 'dd-mm-yyyy hh24:mi:ss')</code>可以修改成<code>str_to_date('28-11-2023 14:15:17', '%d-%m-%Y %H:%i:%s')</code>，替换后就可以在MySQL执行进行日期转换了。</p> 
<p>验证，结果如下：</p> 
<p></p> 
<p class="img-center"><img alt="" height="229" src="https://images2.imgbox.com/6a/ec/at0W2mSY_o.png" width="1165"></p> 
<h4 id="总结"><a href="https://www.codefather.cn/mysql-%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%97%A5%E6%9C%9F%E6%A0%BC%E5%BC%8F%E8%BD%AC%E6%8D%A2/#%E6%80%BB%E7%BB%93" rel="nofollow" title="#">#</a>总结</h4> 
<ol><li>Oracle中字符串转日期：<code>to_date('28-11-2023 14:15:17', 'dd-mm-yyyy hh24:mi:ss')</code></li><li>MySQL中字符串转日期：<code>str_to_date('28-11-2023 14:15:17', '%d-%m-%Y %H:%i:%s')</code></li><li>MySQL常见时间格式化：（与字符串中的对应使用） 
  <ol><li>%Y： 年份，四位数字</li><li>%m：月份，两位数字</li><li>%d： 日期，两位数字</li><li>%H：小时（24小时制），两位数字</li><li>%i： 分钟，两位数字</li><li>%s： 秒，两位数字</li></ol></li><li>扩展：MySQL中如果想将日期转换成字符串可以使用<code>date_format(date,format)</code></li></ol>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ed071cf2dcbc0fe60f394e1e5e6a59fc/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">MongoDB如何安装并配置公网地址实现Navicat远程连接本地数据库</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/176863b74fba3c40f6663e729960bae0/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【Mac】adobe CameraRaw 16 for mac（ps插件RAW处理工具）软件介绍</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>