<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>​​​​​​​​​​​​​​.NET Core Web API架构&#43;应用场景&#43;实例 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/875698b084f30bcaf6ca7127d6dca9fc/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="​​​​​​​​​​​​​​.NET Core Web API架构&#43;应用场景&#43;实例">
  <meta property="og:description" content="​​​​​​一.NET Core Web API 架构
.NET Core Web API 架构是一个基于 ASP.NET Core 框架构建的用于创建 HTTP 服务的架构。它采用了 MVC（Model-View-Controller）架构模式，并提供了许多内置的功能和工具，以帮助开发者快速构建可扩展、可维护且高性能的 Web API。
以下是 .NET Core Web API 架构的一些关键组件和概念：
控制器（Controllers）：控制器是处理 HTTP 请求的类，它们负责接收请求数据、调用业务逻辑层的方法，并返回响应数据。控制器中的每个方法通常对应一个特定的 HTTP 动作（如 GET、POST、PUT、DELETE 等）和一个路由。模型（Models）：模型表示应用程序中使用的数据对象。它们通常对应于数据库中的表或业务实体。模型类负责数据的验证、转换和存储。视图（Views）：在 Web API 架构中，视图通常不是用于呈现用户界面，而是用于定义 API 的响应格式。开发者可以使用不同的序列化器（如 JSON.NET、XML 序列化器等）来控制模型数据如何转换为 API 响应。路由（Routing）：路由是确定如何将 HTTP 请求映射到相应控制器和方法的机制。ASP.NET Core 提供了一个灵活的路由系统，允许开发者定义复杂的路由模式和参数。依赖注入（Dependency Injection）：依赖注入是 .NET Core Web API 架构中的一个核心概念，它允许开发者将服务和组件注入到控制器和其他类中。这有助于提高代码的可测试性和可维护性。中间件（Middleware）：中间件是处理 HTTP 请求和响应的组件管道。每个中间件组件都可以执行特定的任务，如身份验证、日志记录、异常处理等。验证和授权（Validation and Authorization）：.NET Core Web API 提供了强大的验证和授权机制，以确保 API 请求的数据有效性和安全性。开发者可以使用数据注解或自定义验证逻辑来验证模型数据，并使用角色和策略来限制对 API 的访问。异常处理（Exception Handling）：为了提供一致的错误处理体验，.NET Core Web API 支持全局异常处理和自定义错误响应。测试（Testing）：ASP.NET Core 提供了丰富的测试工具和框架，如 xUnit、Mockito 等，用于对 Web API 进行单元测试、集成测试和端到端测试。扩展性（Extensibility）：由于 .">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-02-26T10:59:36+08:00">
    <meta property="article:modified_time" content="2024-02-26T10:59:36+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">​​​​​​​​​​​​​​.NET Core Web API架构&#43;应用场景&#43;实例</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>​​​​​​一<span style="color:#000000;"><span style="color:#05073b;">.NET Core Web API </span><span style="color:#05073b;">架构</span></span></p> 
<p style="margin-left:0;"><span style="color:#000000;"> <span style="color:#05073b;">.NET Core Web API </span><span style="color:#05073b;">架构是一个基于</span><span style="color:#05073b;"> ASP.NET Core </span><span style="color:#05073b;">框架构建的用于创建</span><span style="color:#05073b;"> HTTP </span><span style="color:#05073b;">服务的架构。它采用了</span><span style="color:#05073b;"> MVC</span><span style="color:#05073b;">（</span><span style="color:#05073b;">Model-View-Controller</span><span style="color:#05073b;">）架构模式，并提供了许多内置的功能和工具，以帮助开发者快速构建可扩展、可维护且高性能的</span><span style="color:#05073b;"> Web API</span><span style="color:#05073b;">。</span></span></p> 
<p style="margin-left:0;"><span style="color:#000000;"><span style="color:#05073b;">以下是</span><span style="color:#05073b;"> .NET Core Web API </span><span style="color:#05073b;">架构的一些关键组件和概念：</span></span></p> 
<ol><li><span style="color:#05073b;"><strong>控制器（</strong><strong>Controllers</strong><strong>）</strong>：控制器是处理 HTTP 请求的类，它们负责接收请求数据、调用业务逻辑层的方法，并返回响应数据。控制器中的每个方法通常对应一个特定的 HTTP 动作（如 GET、POST、PUT、DELETE 等）和一个路由。</span></li><li><span style="color:#05073b;"><strong>模型（</strong><strong>Models</strong><strong>）</strong>：模型表示应用程序中使用的数据对象。它们通常对应于数据库中的表或业务实体。模型类负责数据的验证、转换和存储。</span></li><li><span style="color:#05073b;"><strong>视图（</strong><strong>Views</strong><strong>）</strong>：在 Web API 架构中，视图通常不是用于呈现用户界面，而是用于定义 API 的响应格式。开发者可以使用不同的序列化器（如 JSON.NET、XML 序列化器等）来控制模型数据如何转换为 API 响应。</span></li><li><span style="color:#05073b;"><strong>路由（</strong><strong>Routing</strong><strong>）</strong>：路由是确定如何将 HTTP 请求映射到相应控制器和方法的机制。ASP.NET Core 提供了一个灵活的路由系统，允许开发者定义复杂的路由模式和参数。</span></li><li><span style="color:#05073b;"><strong>依赖注入（</strong><strong>Dependency Injection</strong><strong>）</strong>：依赖注入是 .NET Core Web API 架构中的一个核心概念，它允许开发者将服务和组件注入到控制器和其他类中。这有助于提高代码的可测试性和可维护性。</span></li><li><span style="color:#05073b;"><strong>中间件（</strong><strong>Middleware</strong><strong>）</strong>：中间件是处理 HTTP 请求和响应的组件管道。每个中间件组件都可以执行特定的任务，如身份验证、日志记录、异常处理等。</span></li><li><span style="color:#05073b;"><strong>验证和授权（</strong><strong>Validation and Authorization</strong><strong>）</strong>：.NET Core Web API 提供了强大的验证和授权机制，以确保 API 请求的数据有效性和安全性。开发者可以使用数据注解或自定义验证逻辑来验证模型数据，并使用角色和策略来限制对 API 的访问。</span></li><li><span style="color:#05073b;"><strong>异常处理（</strong><strong>Exception Handling</strong><strong>）</strong>：为了提供一致的错误处理体验，.NET Core Web API 支持全局异常处理和自定义错误响应。</span></li><li><span style="color:#05073b;"><strong>测试（</strong><strong>Testing</strong><strong>）</strong>：ASP.NET Core 提供了丰富的测试工具和框架，如 xUnit、Mockito 等，用于对 Web API 进行单元测试、集成测试和端到端测试。</span></li><li><span style="color:#05073b;"><strong>扩展性（</strong><strong>Extensibility</strong><strong>）</strong>：由于 .NET Core 是开源的，开发者可以根据需要扩展 Web API 架构，添加自定义中间件、过滤器、格式化程序等。</span></li></ol> 
<p style="margin-left:0;"><span style="color:#000000;"><span style="color:#05073b;">综上所述，</span><span style="color:#05073b;">.NET Core Web API </span><span style="color:#05073b;">架构是一个功能强大且灵活的框架，它提供了许多内置的功能和工具，以帮助开发者快速构建可扩展、可维护且高性能的</span><span style="color:#05073b;"> Web API</span><span style="color:#05073b;">。</span></span></p> 
<p style="margin-left:0;"></p> 
<p><span style="color:#000000;"><span style="color:#05073b;">.NET Core Web API</span><span style="color:#05073b;">应用场景</span></span></p> 
<p style="margin-left:0;"><span style="color:#000000;"> <span style="color:#05073b;">.NET Core Web API </span><span style="color:#05073b;">的应用场景非常广泛，主要适用于构建</span><span style="color:#05073b;"> RESTful </span><span style="color:#05073b;">服务，这些服务可以作为后端组件为前端应用程序提供数据。以下是一些典型的应用场景：</span></span></p> 
<ol><li><span style="color:#05073b;"><strong>前后端分离的应用程序</strong>：.NET Core Web API 可以作为后端服务，与前端应用程序（如 Angular、React、Vue.js 等单页应用或传统的多页应用）进行通信。API 负责提供数据和处理业务逻辑，而前端负责展示和交互。</span></li><li><span style="color:#05073b;"><strong>移动应用开发</strong>：.NET Core Web API 可以为移动应用程序（如 iOS、Android 应用）提供后端支持。通过 API，移动应用可以访问服务器上的数据和服务，实现数据的同步和交互。</span></li><li><span style="color:#05073b;"><strong>微服务架构</strong>：在微服务架构中，.NET Core Web API 可以作为独立的、可伸缩的服务来构建应用程序。每个服务都负责特定的业务功能，并通过 API 与其他服务进行通信。这种架构有助于提高系统的可维护性、可扩展性和可靠性。</span></li><li><span style="color:#05073b;"><strong>第三方服务集成</strong>：.NET Core Web API 可以用于构建第三方服务，如天气预报、支付接口、用户认证等。其他应用程序或系统可以通过调用这些 API 来获取所需的信息或服务。</span></li><li><span style="color:#05073b;"><strong>实时通信</strong>：结合 SignalR 这样的库，.NET Core Web API 可以实现实时通信功能，如聊天应用、实时数据更新等。</span></li><li><span style="color:#05073b;"><strong>数据</strong><strong> API</strong>：对于需要暴露数据给多个客户端（如 Web、移动、桌面应用等）的应用程序，.NET Core Web API 可以作为数据的统一入口，提供数据访问和操作的功能。</span></li><li><span style="color:#05073b;"><strong>RESTful API </strong><strong>设计</strong>：.NET Core Web API 非常适合设计 RESTful 风格的 API，这些 API 遵循 HTTP 协议，使用 URI 来标识资源，并通过不同的 HTTP 方法（GET、POST、PUT、DELETE 等）来操作资源。</span></li></ol> 
<p style="margin-left:0;"><span style="color:#000000;"><span style="color:#05073b;">总之，</span><span style="color:#05073b;">.NET Core Web API </span><span style="color:#05073b;">适用于任何需要构建可扩展、可维护且高性能的后端服务或</span><span style="color:#05073b;"> API </span><span style="color:#05073b;">的场景。它提供了丰富的功能和灵活的工具，使得开发者能够快速地构建出稳定、安全的应用程序。</span></span></p> 
<p style="margin-left:0;">​​​​​​​二<span style="color:#000000;"><span style="color:#05073b;">.NET Core Web API</span><span style="color:#05073b;">实例</span></span></p> 
<p style="margin-left:0;"><span style="color:#000000;"> <span style="color:#05073b;">下面是一个简单的</span><span style="color:#05073b;">.NET Core Web API</span><span style="color:#05073b;">实例，演示了如何创建一个基本的</span><span style="color:#05073b;">API</span><span style="color:#05073b;">控制器并处理</span><span style="color:#05073b;">HTTP</span><span style="color:#05073b;">请求。</span></span></p> 
<p style="margin-left:0;"><span style="color:#000000;"><span style="color:#05073b;">首先，确保你已经安装了</span><span style="color:#05073b;">.NET Core SDK</span><span style="color:#05073b;">。然后，你可以使用命令行界面（</span><span style="color:#05073b;">CLI</span><span style="color:#05073b;">）创建一个新的</span><span style="color:#05073b;">.NET Core Web API</span><span style="color:#05073b;">项目：</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e3e8f6;"><span style="color:#000000;"><strong><span style="color:#120649;">bash</span></strong><span style="color:#7886a4;">代码</span></span></span></p> 
<table cellspacing="0"><tbody><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#545454;">dotnet new webapi -n MyWebApi </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#aa5d00;">cd</span><span style="color:#545454;"> MyWebApi</span></span></p> </td></tr></tbody></table> 
<p style="margin-left:0;"><span style="color:#000000;"><span style="color:#05073b;">这将会创建一个名为</span><span style="color:#05073b;">MyWebApi</span><span style="color:#05073b;">的新项目，并且进入到该项目的目录中。接下来，打开项目中的</span><span style="color:#05073b;">Controllers</span><span style="color:#05073b;">文件夹，并创建一个新的控制器类。例如，我们可以创建一个名为</span><span style="color:#05073b;">WeatherForecastController</span><span style="color:#05073b;">的控制器，用于提供天气预测数据。</span></span></p> 
<p style="margin-left:0;"><span style="color:#000000;"><span style="color:#05073b;">在</span><span style="color:#05073b;">Controllers</span><span style="color:#05073b;">文件夹中，创建一个新文件</span><span style="color:#05073b;">WeatherForecastController.cs</span><span style="color:#05073b;">，并添加以下代码：</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e3e8f6;"><span style="color:#000000;"><strong><span style="color:#120649;">csharp</span></strong><span style="color:#7886a4;">代码</span></span></span></p> 
<table cellspacing="0"><tbody><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#7928a1;">using</span><span style="color:#545454;"> Microsoft.AspNetCore.Mvc; </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#7928a1;">using</span><span style="color:#545454;"> System; </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#7928a1;">using</span><span style="color:#545454;"> System.Collections.Generic; </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#7928a1;">using</span><span style="color:#545454;"> System.Linq; </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#7928a1;">using</span><span style="color:#545454;"> System.Threading.Tasks; </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td></td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#7928a1;">namespace</span> <span style="color:#007faa;">MyWebApi.Controllers</span> </span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#545454;">{ </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#545454;">[</span><span style="color:#aa5d00;">ApiController</span><span style="color:#545454;">] </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#545454;">[</span><span style="color:#aa5d00;">Route(</span><span style="color:#008000;">"[controller]"</span><span style="color:#aa5d00;">)</span><span style="color:#545454;">] </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#7928a1;">public</span> <span style="color:#7928a1;">class</span> <span style="color:#007faa;">WeatherForecastController</span><span style="color:#545454;"> : </span><span style="color:#007faa;">ControllerBase</span> </span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#545454;">{ </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#7928a1;">private</span> <span style="color:#7928a1;">static</span> <span style="color:#7928a1;">readonly</span><span style="color:#545454;"> Random _random = </span><span style="color:#7928a1;">new</span><span style="color:#545454;"> Random(); </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td></td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#545454;">[</span><span style="color:#aa5d00;">HttpGet(Name = </span><span style="color:#008000;">"GetWeatherForecast"</span><span style="color:#aa5d00;">)</span><span style="color:#545454;">] </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#7928a1;">public</span><span style="color:#545454;"> IEnumerable&lt;WeatherForecast&gt; </span><span style="color:#007faa;">Get</span><span style="color:#545454;">() </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#545454;">{ </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#7928a1;">var</span><span style="color:#545454;"> rng = </span><span style="color:#7928a1;">new</span><span style="color:#545454;"> Random(); </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#7928a1;">return</span><span style="color:#545454;"> Enumerable.Range(</span><span style="color:#aa5d00;">1</span><span style="color:#545454;">, </span><span style="color:#aa5d00;">5</span><span style="color:#545454;">).Select(index =&gt; </span><span style="color:#7928a1;">new</span><span style="color:#545454;"> WeatherForecast </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#545454;">{ </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#545454;">Date = DateTime.Now.AddDays(index), </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#545454;">TemperatureC = rng.Next(</span><span style="color:#aa5d00;">-20</span><span style="color:#545454;">, </span><span style="color:#aa5d00;">55</span><span style="color:#545454;">), </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#545454;">Summary = Summaries[rng.Next(Summaries.Length)] </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#545454;">}) </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#545454;">.ToArray(); </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#545454;">} </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td></td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#7928a1;">private</span> <span style="color:#7928a1;">static</span> <span style="color:#7928a1;">readonly</span> <span style="color:#aa5d00;">string</span><span style="color:#545454;">[] Summaries = </span><span style="color:#7928a1;">new</span><span style="color:#545454;">[] </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#545454;">{ </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#008000;">"Freezing"</span><span style="color:#545454;">, </span><span style="color:#008000;">"Bracing"</span><span style="color:#545454;">, </span><span style="color:#008000;">"Chilly"</span><span style="color:#545454;">, </span><span style="color:#008000;">"Cool"</span><span style="color:#545454;">, </span><span style="color:#008000;">"Mild"</span><span style="color:#545454;">, </span><span style="color:#008000;">"Warm"</span><span style="color:#545454;">, </span><span style="color:#008000;">"Balmy"</span><span style="color:#545454;">, </span><span style="color:#008000;">"Hot"</span><span style="color:#545454;">, </span><span style="color:#008000;">"Sweltering"</span><span style="color:#545454;">, </span><span style="color:#008000;">"Scorching"</span> </span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#545454;">}; </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td></td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#7928a1;">public</span> <span style="color:#7928a1;">class</span> <span style="color:#007faa;">WeatherForecast</span> </span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#545454;">{ </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#7928a1;">public</span><span style="color:#545454;"> DateTime Date { </span><span style="color:#7928a1;">get</span><span style="color:#545454;">; </span><span style="color:#7928a1;">set</span><span style="color:#545454;">; } </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td></td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#7928a1;">public</span> <span style="color:#aa5d00;">int</span><span style="color:#545454;"> TemperatureC { </span><span style="color:#7928a1;">get</span><span style="color:#545454;">; </span><span style="color:#7928a1;">set</span><span style="color:#545454;">; } </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td></td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#7928a1;">public</span> <span style="color:#aa5d00;">string</span><span style="color:#545454;"> Summary { </span><span style="color:#7928a1;">get</span><span style="color:#545454;">; </span><span style="color:#7928a1;">set</span><span style="color:#545454;">; } </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#545454;">} </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#545454;">} </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#545454;">}</span></span></p> </td></tr></tbody></table> 
<p style="margin-left:0;"><span style="color:#000000;"><span style="color:#05073b;">在上面的代码中，我们定义了一个</span><span style="color:#05073b;">WeatherForecastController</span><span style="color:#05073b;">类，并且使用了</span><span style="color:#05073b;">[ApiController]</span><span style="color:#05073b;">和</span><span style="color:#05073b;">[Route("[controller]")]</span><span style="color:#05073b;">属性来指定这是一个</span><span style="color:#05073b;">API</span><span style="color:#05073b;">控制器，并且其路由将基于控制器名称。</span></span></p> 
<p style="margin-left:0;"><span style="color:#000000;"><span style="color:#05073b;">我们还定义了一个</span><span style="color:#05073b;">Get</span><span style="color:#05073b;">方法，该方法使用</span><span style="color:#05073b;">HTTP GET</span><span style="color:#05073b;">请求来获取天气预测数据。该方法返回一个</span><span style="color:#05073b;">WeatherForecast</span><span style="color:#05073b;">对象的集合，其中每个对象包含日期、摄氏温度和天气摘要。</span></span></p> 
<p style="margin-left:0;"><span style="color:#000000;"><span style="color:#05073b;">WeatherForecast</span><span style="color:#05073b;">是一个简单的类，包含三个属性：</span><span style="color:#05073b;">Date</span><span style="color:#05073b;">、</span><span style="color:#05073b;">TemperatureC</span><span style="color:#05073b;">和</span><span style="color:#05073b;">Summary</span><span style="color:#05073b;">。</span></span></p> 
<p style="margin-left:0;"><span style="color:#000000;"><span style="color:#05073b;">现在，你可以运行这个</span><span style="color:#05073b;">Web API</span><span style="color:#05073b;">项目：</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e3e8f6;"><span style="color:#000000;"><strong><span style="color:#120649;">bash</span></strong><span style="color:#7886a4;">代码</span></span></span></p> 
<table cellspacing="0"><tbody><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#545454;">dotnet run</span></span></p> </td></tr></tbody></table> 
<p style="margin-left:0;"><span style="color:#000000;"><span style="color:#05073b;">这将启动一个本地的</span><span style="color:#05073b;">Kestrel Web</span><span style="color:#05073b;">服务器，并监听默认的</span><span style="color:#05073b;">HTTP</span><span style="color:#05073b;">端口（通常是</span><span style="color:#05073b;">5000</span><span style="color:#05073b;">或</span><span style="color:#05073b;">5001</span><span style="color:#05073b;">）。你可以使用浏览器或任何</span><span style="color:#05073b;">HTTP</span><span style="color:#05073b;">客户端（如</span><span style="color:#05073b;">Postman</span><span style="color:#05073b;">、</span><span style="color:#05073b;">curl</span><span style="color:#05073b;">等）来发送</span><span style="color:#05073b;">HTTP GET</span><span style="color:#05073b;">请求到</span><span style="color:#05073b;">http://localhost:5000/weatherforecast</span><span style="color:#05073b;">，并应该能看到返回的</span><span style="color:#05073b;">JSON</span><span style="color:#05073b;">格式的天气预测数据。</span></span></p> 
<p style="margin-left:0;"><span style="color:#000000;"><span style="color:#05073b;">这就是一个简单的</span><span style="color:#05073b;">.NET Core Web API</span><span style="color:#05073b;">实例。你可以根据需要扩展它，添加更多的控制器、动作和模型，以满足你的应用程序需求。</span></span></p> 
<p style="margin-left:0;"></p> 
<ol><li> 
  <ol><li><span style="color:#000000;"><span style="color:#05073b;">.NET Core Web API +EF</span><span style="color:#05073b;">框架访问</span><span style="color:#05073b;">SQLserver</span><span style="color:#05073b;">数据库</span></span></li></ol></li></ol> 
<p style="margin-left:0;"><span style="color:#000000;"> <span style="color:#05073b;">在</span><span style="color:#05073b;">.NET Core Web API</span><span style="color:#05073b;">中使用</span><span style="color:#05073b;">Entity Framework Core (EF Core) </span><span style="color:#05073b;">框架来访问</span><span style="color:#05073b;">SQL Server</span><span style="color:#05073b;">数据库是一个常见的做法。下面是一个简单的示例，展示了如何创建一个</span><span style="color:#05073b;">.NET Core Web API</span><span style="color:#05073b;">项目，使用</span><span style="color:#05073b;">EF Core</span><span style="color:#05073b;">来连接和操作</span><span style="color:#05073b;">SQL Server</span><span style="color:#05073b;">数据库。</span></span></p> 
<p style="margin-left:0;"><span style="color:#000000;"><span style="color:#05073b;">首先，确保你已经安装了</span><span style="color:#05073b;">.NET Core SDK</span><span style="color:#05073b;">和</span><span style="color:#05073b;">SQL Server</span><span style="color:#05073b;">数据库。然后，按照以下步骤操作：</span></span></p> 
<ol><li><span style="color:#05073b;">创建.NET Core Web API项目</span></li></ol> 
<p style="margin-left:0;"><span style="color:#000000;"><span style="color:#05073b;">使用命令行界面（</span><span style="color:#05073b;">CLI</span><span style="color:#05073b;">）创建一个新的</span><span style="color:#05073b;">.NET Core Web API</span><span style="color:#05073b;">项目：</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e3e8f6;"><span style="color:#000000;"><strong><span style="color:#120649;">bash</span></strong><span style="color:#7886a4;">代码</span></span></span></p> 
<table cellspacing="0"><tbody><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#545454;">dotnet new webapi -n MyWebApiWithEF </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#aa5d00;">cd</span><span style="color:#545454;"> MyWebApiWithEF</span></span></p> </td></tr></tbody></table> 
<ol><li><span style="color:#05073b;">添加EF Core和SQL Server NuGet包</span></li></ol> 
<p style="margin-left:0;"><span style="color:#000000;"><span style="color:#05073b;">接下来，你需要添加</span><span style="color:#05073b;">Entity Framework Core</span><span style="color:#05073b;">和</span><span style="color:#05073b;">SQL Server</span><span style="color:#05073b;">提供程序的</span><span style="color:#05073b;">NuGet</span><span style="color:#05073b;">包到你的项目中。使用以下命令来安装它们：</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e3e8f6;"><span style="color:#000000;"><strong><span style="color:#120649;">bash</span></strong><span style="color:#7886a4;">代码</span></span></span></p> 
<table cellspacing="0"><tbody><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#545454;">dotnet add package Microsoft.EntityFrameworkCore.SqlServer </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#545454;">dotnet add package Microsoft.EntityFrameworkCore.Tools</span></span></p> </td></tr></tbody></table> 
<ol><li><span style="color:#05073b;">配置数据库连接字符串</span></li></ol> 
<p style="margin-left:0;"><span style="color:#000000;"><span style="color:#05073b;">在你的</span><span style="color:#05073b;">appsettings.json</span><span style="color:#05073b;">文件中，添加数据库连接字符串。例如：</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e3e8f6;"><span style="color:#000000;"><strong><span style="color:#120649;">json</span></strong><span style="color:#7886a4;">代码</span></span></span></p> 
<table cellspacing="0"><tbody><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#545454;">{ </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#545454;">"ConnectionStrings": { </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#545454;">"DefaultConnection": </span><span style="color:#008000;">"Server=(localdb)\\mssqllocaldb;Database=MyWebApiWithEFDb;Trusted_Connection=True;MultipleActiveResultSets=true"</span> </span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#545454;">}, </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#545454;">"Logging": { </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#545454;">"LogLevel": { </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#545454;">"Default": </span><span style="color:#008000;">"Information"</span><span style="color:#545454;">, </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#545454;">"Microsoft": </span><span style="color:#008000;">"Warning"</span><span style="color:#545454;">, </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#545454;">"Microsoft.Hosting.Lifetime": </span><span style="color:#008000;">"Information"</span> </span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#545454;">} </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#545454;">}, </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#545454;">"AllowedHosts": </span><span style="color:#008000;">"*"</span> </span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#545454;">}</span></span></p> </td></tr></tbody></table> 
<p style="margin-left:0;"><span style="color:#000000;"><span style="color:#05073b;">确保连接字符串与你的</span><span style="color:#05073b;">SQL Server</span><span style="color:#05073b;">实例匹配。</span></span></p> 
<ol><li><span style="color:#05073b;">创建数据库模型</span></li></ol> 
<p style="margin-left:0;"><span style="color:#000000;"><span style="color:#05073b;">在项目中创建一个模型类来表示数据库中的表。例如，创建一个</span><span style="color:#05073b;">Product</span><span style="color:#05073b;">类：</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e3e8f6;"><span style="color:#000000;"><strong><span style="color:#120649;">csharp</span></strong><span style="color:#7886a4;">代码</span></span></span></p> 
<table cellspacing="0"><tbody><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#7928a1;">namespace</span> <span style="color:#007faa;">MyWebApiWithEF.Models</span> </span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#545454;">{ </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#7928a1;">public</span> <span style="color:#7928a1;">class</span> <span style="color:#007faa;">Product</span> </span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#545454;">{ </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#7928a1;">public</span> <span style="color:#aa5d00;">int</span><span style="color:#545454;"> Id { </span><span style="color:#7928a1;">get</span><span style="color:#545454;">; </span><span style="color:#7928a1;">set</span><span style="color:#545454;">; } </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#7928a1;">public</span> <span style="color:#aa5d00;">string</span><span style="color:#545454;"> Name { </span><span style="color:#7928a1;">get</span><span style="color:#545454;">; </span><span style="color:#7928a1;">set</span><span style="color:#545454;">; } </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#7928a1;">public</span> <span style="color:#aa5d00;">decimal</span><span style="color:#545454;"> Price { </span><span style="color:#7928a1;">get</span><span style="color:#545454;">; </span><span style="color:#7928a1;">set</span><span style="color:#545454;">; } </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#545454;">} </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#545454;">}</span></span></p> </td></tr></tbody></table> 
<ol><li><span style="color:#05073b;">创建数据库上下文</span></li></ol> 
<p style="margin-left:0;"><span style="color:#000000;"><span style="color:#05073b;">创建一个继承自</span><span style="color:#05073b;">DbContext</span><span style="color:#05073b;">的类来表示数据库上下文。例如，创建一个</span><span style="color:#05073b;">ApplicationDbContext</span><span style="color:#05073b;">类：</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e3e8f6;"><span style="color:#000000;"><strong><span style="color:#120649;">csharp</span></strong><span style="color:#7886a4;">代码</span></span></span></p> 
<table cellspacing="0"><tbody><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#7928a1;">using</span><span style="color:#545454;"> Microsoft.EntityFrameworkCore; </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#7928a1;">using</span><span style="color:#545454;"> MyWebApiWithEF.Models; </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td></td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#7928a1;">namespace</span> <span style="color:#007faa;">MyWebApiWithEF.Data</span> </span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#545454;">{ </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#7928a1;">public</span> <span style="color:#7928a1;">class</span> <span style="color:#007faa;">ApplicationDbContext</span><span style="color:#545454;"> : </span><span style="color:#007faa;">DbContext</span> </span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#545454;">{ </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#7928a1;">public</span> <span style="color:#007faa;">ApplicationDbContext</span><span style="color:#545454;">(</span><span style="color:#aa5d00;">DbContextOptions&lt;ApplicationDbContext&gt; options</span><span style="color:#545454;">) </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#545454;">: </span><span style="color:#007faa;">base</span><span style="color:#545454;">(</span><span style="color:#aa5d00;">options</span><span style="color:#545454;">) </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#545454;">{ </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#545454;">} </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td></td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#7928a1;">public</span><span style="color:#545454;"> DbSet&lt;Product&gt; Products { </span><span style="color:#7928a1;">get</span><span style="color:#545454;">; </span><span style="color:#7928a1;">set</span><span style="color:#545454;">; } </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#545454;">} </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#545454;">}</span></span></p> </td></tr></tbody></table> 
<ol><li><span style="color:#05073b;">配置EF Core</span></li></ol> 
<p style="margin-left:0;"><span style="color:#000000;"><span style="color:#05073b;">在</span><span style="color:#05073b;">Startup.cs</span><span style="color:#05073b;">的</span><span style="color:#05073b;">ConfigureServices</span><span style="color:#05073b;">方法中配置</span><span style="color:#05073b;">EF Core</span><span style="color:#05073b;">：</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e3e8f6;"><span style="color:#000000;"><strong><span style="color:#120649;">csharp</span></strong><span style="color:#7886a4;">代码</span></span></span></p> 
<table cellspacing="0"><tbody><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#7928a1;">public</span> <span style="color:#7928a1;">void</span> <span style="color:#007faa;">ConfigureServices</span><span style="color:#545454;">(</span><span style="color:#aa5d00;">IServiceCollection services</span><span style="color:#545454;">) </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#545454;">{ </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#545454;">services.AddControllers(); </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td></td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;">// 配置EF Core </span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#545454;">services.AddDbContext&lt;ApplicationDbContext&gt;(options =&gt; </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#545454;">options.UseSqlServer(Configuration.GetConnectionString(</span><span style="color:#008000;">"DefaultConnection"</span><span style="color:#545454;">))); </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td></td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;">// 其他服务配置... </span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#545454;">}</span></span></p> </td></tr></tbody></table> 
<ol><li><span style="color:#05073b;">创建数据库迁移和更新数据库</span></li></ol> 
<p style="margin-left:0;"><span style="color:#000000;"><span style="color:#05073b;">使用以下命令来创建数据库迁移：</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e3e8f6;"><span style="color:#000000;"><strong><span style="color:#120649;">bash</span></strong><span style="color:#7886a4;">代码</span></span></span></p> 
<table cellspacing="0"><tbody><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#545454;">dotnet ef migrations add InitialCreate</span></span></p> </td></tr></tbody></table> 
<p style="margin-left:0;"><span style="color:#000000;"><span style="color:#05073b;">然后，使用以下命令来更新数据库：</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e3e8f6;"><span style="color:#000000;"><strong><span style="color:#120649;">bash</span></strong><span style="color:#7886a4;">代码</span></span></span></p> 
<table cellspacing="0"><tbody><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#545454;">dotnet ef database update</span></span></p> </td></tr></tbody></table> 
<p style="margin-left:0;"><span style="color:#000000;"><span style="color:#05073b;">这将根据你在</span><span style="color:#05073b;">ApplicationDbContext</span><span style="color:#05073b;">中定义的</span><span style="color:#05073b;">DbSet</span><span style="color:#05073b;">属性在数据库中创建相应的表。</span></span></p> 
<ol><li><span style="color:#05073b;">创建API控制器</span></li></ol> 
<p style="margin-left:0;"><span style="color:#000000;"><span style="color:#05073b;">现在，你可以创建一个</span><span style="color:#05073b;">API</span><span style="color:#05073b;">控制器来操作数据库中的</span><span style="color:#05073b;">Product</span><span style="color:#05073b;">数据。例如，创建一个</span><span style="color:#05073b;">ProductsController</span><span style="color:#05073b;">：</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e3e8f6;"><span style="color:#000000;"><strong><span style="color:#120649;">csharp</span></strong><span style="color:#7886a4;">代码</span></span></span></p> 
<table cellspacing="0"><tbody><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#7928a1;">using</span><span style="color:#545454;"> Microsoft.AspNetCore.Mvc; </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#7928a1;">using</span><span style="color:#545454;"> Microsoft.EntityFrameworkCore; </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#7928a1;">using</span><span style="color:#545454;"> MyWebApiWithEF.Data; </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#7928a1;">using</span><span style="color:#545454;"> MyWebApiWithEF.Models; </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#7928a1;">using</span><span style="color:#545454;"> System.Collections.Generic; </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#7928a1;">using</span><span style="color:#545454;"> System.Linq; </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#7928a1;">using</span><span style="color:#545454;"> System.Threading.Tasks; </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td></td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#7928a1;">namespace</span> <span style="color:#007faa;">MyWebApiWithEF.Controllers</span> </span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#545454;">{ </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#545454;">[</span><span style="color:#aa5d00;">ApiController</span><span style="color:#545454;">] </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#545454;">[</span><span style="color:#aa5d00;">Route(</span><span style="color:#008000;">"[controller]"</span><span style="color:#aa5d00;">)</span><span style="color:#545454;">] </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#7928a1;">public</span> <span style="color:#7928a1;">class</span> <span style="color:#007faa;">ProductsController</span><span style="color:#545454;"> : </span><span style="color:#007faa;">ControllerBase</span> </span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#545454;">{ </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#7928a1;">private</span> <span style="color:#7928a1;">readonly</span><span style="color:#545454;"> ApplicationDbContext _context; </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td></td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#7928a1;">public</span> <span style="color:#007faa;">ProductsController</span><span style="color:#545454;">(</span><span style="color:#aa5d00;">ApplicationDbContext context</span><span style="color:#545454;">) </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#545454;">{ </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#545454;">_context = context; </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#545454;">} </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td></td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;">// GET: api/products </span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#545454;">[</span><span style="color:#aa5d00;">HttpGet</span><span style="color:#545454;">] </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#7928a1;">public</span> <span style="color:#7928a1;">async</span><span style="color:#545454;"> Task&lt;ActionResult&lt;IEnumerable&lt;Product&gt;&gt;&gt; GetProducts() </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#545454;">{ </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#7928a1;">return</span> <span style="color:#7928a1;">await</span><span style="color:#545454;"> _context.Products.ToListAsync(); </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#545454;">} </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td></td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;">// 其他CRUD操作... </span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#545454;">} </span></span></p> </td></tr><tr><td style="vertical-align:top;width:22.5pt;"></td><td> <p style="margin-left:0;"><span style="color:#000000;"><span style="color:#545454;">}</span></span></p> </td></tr></tbody></table> 
<p style="margin-left:0;"><span style="color:#000000;"><span style="color:#05073b;">现在，你可以运行你的</span><span style="color:#05073b;">Web API</span><span style="color:#05073b;">项目，并使用</span><span style="color:#05073b;">HTTP GET</span><span style="color:#05073b;">请求来访问</span><span style="color:#05073b;">http://localhost:5000/products</span><span style="color:#05073b;">，以获取所有的</span><span style="color:#05073b;">Product</span><span style="color:#05073b;">数据。</span></span></p> 
<p style="margin-left:0;"><span style="color:#000000;"><span style="color:#05073b;">这只是一个简单的示例，演示了如何使用</span><span style="color:#05073b;">EF Core</span><span style="color:#05073b;">在</span><span style="color:#05073b;">.NET Core Web API</span><span style="color:#05073b;">中访问</span></span></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/fb35b78de208e97c48b4b0142cc71b3d/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">postman安装使用（mac）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/7e601e024ca79b665d33c3d73bbbff4b/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">SQL Server2022版详细安装教程（Windows）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>