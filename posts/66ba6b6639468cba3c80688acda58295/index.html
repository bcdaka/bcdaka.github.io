<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Spring系列一：spring的安装与使用 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/66ba6b6639468cba3c80688acda58295/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="Spring系列一：spring的安装与使用">
  <meta property="og:description" content="文章目录 💞 官方资料🍊Spring5下载🍊文档介绍 💞Spring5🍊内容介绍🍊重要概念 💞快速入门🍊Spring操作演示🍊类加载路径🍊Spring容器结构剖析🍊Debug配置 💞实现简单基于XML配置程序🍊Spring原生容器结构梳理🍊作业布置 💞基于XML配置Bean💖通过类型获取bean💖通过指定构造器配置bean💖通过p名称空间配置bean💖通过ref配置bean💖通过内部bean配置属性 💞 官方资料 🍊Spring5下载 进入官网: https://spring.io/这里的版本是Spring5 (Spring框架就是一系列jar包. 即引入jar包, 就可以使用spring)
进入Spring5的github(Spring本身也是GitHub的开源项目)
下拉找到Access to Binaries, 进入Spring Framework Artifacts 进入到Spring的仓库(这里有Spring的各个版本的jar包)
下图②处具体路径 snapshot-&gt;org-&gt;springframework-&gt;spring
下载网址 https://repo.spring.io/artifactory/snapshot/org/springframework/spring/
如果下载太慢, 这里也有资源, 无需再去官网下载
各个jar包的含义
🍊文档介绍 在线文档https://docs.spring.io/spring-framework/reference/离线文档spring-framework-5.3.8\docs\reference\html\index.html (解压压缩包, 在文件夹里, 按照路径去找)离线APIspring-framework-5.3.8\docs\javadoc-api\index.html (解压压缩包, 在文件夹里, 按照路径去找) 💞Spring5 🍊内容介绍 Spring核心学习内容 IOC, AOP, jdbcTemplate, 声明式事务
IOC: 控制反转, 可以管理java对象AOP: 切面编程JDBCTemplate: 是spring提供的一套访问数据库的技术. 应用性强, 相对好理解声明式事务: 基于ioc/aop实现事务管理IOC, AOP 是重点同时是难点, 需要时间理解 🍊重要概念 Spring可以整合其它的框架(解读: Spring是管理框架的框架)
Spring有两个核心的概念: IOC 和 AOP
IOC [Inversion Of Control 反转控制]">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-05-20T14:17:30+08:00">
    <meta property="article:modified_time" content="2024-05-20T14:17:30+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Spring系列一：spring的安装与使用</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-kimbie-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#__1" rel="nofollow">💞 官方资料</a></li><li><ul><li><a href="#Spring5_3" rel="nofollow">🍊Spring5下载</a></li><li><a href="#_21" rel="nofollow">🍊文档介绍</a></li></ul> 
  </li><li><a href="#Spring5_26" rel="nofollow">💞Spring5</a></li><li><ul><li><a href="#_27" rel="nofollow">🍊内容介绍</a></li><li><a href="#_34" rel="nofollow">🍊重要概念</a></li></ul> 
  </li><li><a href="#_51" rel="nofollow">💞快速入门</a></li><li><ul><li><a href="#Spring_54" rel="nofollow">🍊Spring操作演示</a></li><li><a href="#_140" rel="nofollow">🍊类加载路径</a></li><li><a href="#Spring_159" rel="nofollow">🍊Spring容器结构剖析</a></li><li><a href="#Debug_194" rel="nofollow">🍊Debug配置</a></li></ul> 
  </li><li><a href="#XML_203" rel="nofollow">💞实现简单基于XML配置程序</a></li><li><ul><li><a href="#Spring_292" rel="nofollow">🍊Spring原生容器结构梳理</a></li><li><a href="#_294" rel="nofollow">🍊作业布置</a></li></ul> 
  </li><li><a href="#XMLBean_371" rel="nofollow">💞基于XML配置Bean</a></li><li><ul><li><a href="#bean_372" rel="nofollow">💖通过类型获取bean</a></li><li><a href="#bean_404" rel="nofollow">💖通过指定构造器配置bean</a></li><li><a href="#pbean_448" rel="nofollow">💖通过p名称空间配置bean</a></li><li><a href="#refbean_472" rel="nofollow">💖通过ref配置bean</a></li><li><a href="#bean_535" rel="nofollow">💖通过内部bean配置属性</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="__1"></a>💞 官方资料</h2> 
<p><img src="https://images2.imgbox.com/ff/f7/J2tXJ8tP_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="Spring5_3"></a>🍊Spring5下载</h3> 
<div id="Spring5_download"> 
 <ol><li>进入官网: <a href="https://spring.io/" rel="nofollow">https://spring.io/</a></li><li>这里的版本是Spring5 (Spring框架就是一系列jar包. 即引入jar包, 就可以使用spring)<br> <img src="https://images2.imgbox.com/30/28/XSstP9hW_o.png" alt="在这里插入图片描述"></li><li>进入Spring5的github(Spring本身也是GitHub的开源项目)<br> <img src="https://images2.imgbox.com/e8/7d/Hi0i6AeF_o.png" alt="在这里插入图片描述">下拉找到Access to Binaries, 进入Spring Framework Artifacts</li></ol> 
 <p><img src="https://images2.imgbox.com/88/2a/Oq8u0TCT_o.png" alt="在这里插入图片描述">进入到Spring的仓库(这里有Spring的各个版本的jar包)<br> <img src="https://images2.imgbox.com/7a/e7/HxOdwymi_o.png" alt="在这里插入图片描述">下图②处具体路径 snapshot-&gt;org-&gt;springframework-&gt;spring</p> 
 <p><img src="https://images2.imgbox.com/15/e1/wOEOiY1O_o.png" alt="在这里插入图片描述">下载网址 <a href="https://repo.spring.io/artifactory/snapshot/org/springframework/spring/" rel="nofollow">https://repo.spring.io/artifactory/snapshot/org/springframework/spring/</a><br> <img src="https://images2.imgbox.com/00/a8/jhNDGneF_o.png" alt="在这里插入图片描述"><img src="https://images2.imgbox.com/b0/64/726dybVg_o.png" alt="在这里插入图片描述"><br> <a href="https://download.csdn.net/download/qq_18817831/88049345">如果下载太慢, 这里也有资源, 无需再去官网下载</a></p> 
 <p>各个jar包的含义<br> <img src="https://images2.imgbox.com/da/2e/tm18nN2B_o.png" alt="在这里插入图片描述"></p> 
 <h3><a id="_21"></a>🍊文档介绍</h3> 
 <table><thead><tr><th>在线文档</th><th>https://docs.spring.io/spring-framework/reference/</th></tr></thead><tbody><tr><td>离线文档</td><td>spring-framework-5.3.8\docs\reference\html\index.html (解压压缩包, 在文件夹里, 按照路径去找)</td></tr><tr><td>离线API</td><td>spring-framework-5.3.8\docs\javadoc-api\index.html (解压压缩包, 在文件夹里, 按照路径去找)</td></tr></tbody></table> 
 <h2><a id="Spring5_26"></a>💞Spring5</h2> 
 <h3><a id="_27"></a>🍊内容介绍</h3> 
 <p>Spring核心学习内容 IOC, AOP, jdbcTemplate, 声明式事务</p> 
 <ol><li>IOC: 控制反转, 可以管理java对象</li><li>AOP: 切面编程</li><li>JDBCTemplate: 是spring提供的一套访问数据库的技术. 应用性强, 相对好理解</li><li>声明式事务: 基于ioc/aop实现事务管理</li><li>IOC, AOP 是重点同时是难点, 需要时间理解</li></ol> 
 <h3><a id="_34"></a>🍊重要概念</h3> 
 <ol><li> <p>Spring可以整合其它的框架(解读: Spring是管理框架的框架)</p> </li><li> <p>Spring有两个核心的概念: IOC 和 AOP</p> </li><li> <p>IOC [Inversion Of Control 反转控制]</p> </li><li> <p><strong>传统</strong>的开发模式[JDbcUtils / 反射], 程序------&gt;环境 //程序读取环境配置, 然后自己创建对象<br> 以连接到数据库为例<br> 程序员编写程序, 在程序中读取配置信息<br> 创建对象, 使用对象完成任务</p> </li><li> <p>Spring方式<br> Spring根据配置文件xml / 注解, 创建对象, 并放入到容器(ConcurrentHashMap). 并且可以完成对象之间的依赖<br> 当需要使用某个对象实例的时候, 就直接从容器中获取即可<br> 这样程序员可以更加关注如何使用对象完成相应的业务(以前是new -&gt; 现在是注解 / 配置)</p> </li><li> <p>DI - Dependency Injection依赖注入, 可以理解成是IOC的别称<br> Spring最大的价值是 通过配置, 给程序员提供需要使用的对象web层[Servlet (Action/Controller)/ Service / Dao / JavaBean(entity)]对象<br> 这是核心价值所在, 也是ioc的具体体现, 实现解耦</p> </li></ol> 
 <h2><a id="_51"></a>💞快速入门</h2> 
 <div id="springProject"> 
  <h3><a id="Spring_54"></a>🍊Spring操作演示</h3> 
  <blockquote> 
   <p>需求: 通过Spring的方式[配置文件], 获取JavaBean-Monster的对象, 并给该对象的属性赋值, 输出该对象的信息</p> 
  </blockquote> 
  <p>1.创建Java工程, <a href="https://download.csdn.net/download/qq_18817831/88226667">Spring项目源码在这里</a><br> <img src="https://images2.imgbox.com/f4/77/PBsZjR6E_o.png" alt="在这里插入图片描述"></p> 
  <p>2.新建lib目录, 引入<a href="https://download.csdn.net/download/qq_18817831/88932630">开发Spring5的基本包</a><br> <img src="https://images2.imgbox.com/9a/99/Z5yr9xIG_o.png" alt="在这里插入图片描述"></p> 
  <p>3.创建JavaBean, 一定要有<font color="red">无参构造器</font>. Spring底层反射创建对象时, 需要使用</p> 
  <div id="Monster"> 
   <pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>zzw<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>bean</span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Monster</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> monsterId<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> skill<span class="token punctuation">;</span>

    <span class="token comment">//无参构造器: Spring底层反射创建对象时, 需要使用</span>
    <span class="token keyword">public</span> <span class="token class-name">Monster</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token punctuation">}</span>
	<span class="token comment">//有参构造器, setter, getter, toString()</span>
<span class="token punctuation">}</span>
</code></pre> 
   <p>4.src目录下: 新建一个容器配置文件beans.xml</p> 
   <div id="创建容器配置文件"> 
    <p><img src="https://images2.imgbox.com/3e/6e/oa9BeOne_o.png" alt="在这里插入图片描述"><br> 创建好之后, 右上角进行配置, <strong>不难</strong><br> <img src="https://images2.imgbox.com/ca/50/yCDGVGDE_o.png" alt="在这里插入图片描述"></p> 
    <p>说明: xmlns表示xml namespace, 即xml命名空间</p> 
    <pre><code class="prism language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/beans<span class="token punctuation">"</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>
       <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!--
        1.配置monster对象/javabean
        2.在beans中可以配置多个bean
        3.bean表示一个java对象
        4.class是用于指定类的全路径-&gt;Spring底层使用反射创建(所以要有无参构造器)
        5.id属性表示该java对象在spring容器中的id, 通过id可以获取到该对象
        6.&lt;property name="monsterId" value="100"/&gt; 用于给该对象的属性赋值, String没有赋值就是null
    --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.zzw.spring.bean.Monster<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>monster01<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>monsterId<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>100<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>美猴王<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>skill<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>金箍棒<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
    <p>5.测试<code>com.zzw.spring.test.SpringBeanTest</code></p> 
    <pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SpringBeanTest</span> <span class="token punctuation">{<!-- --></span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">getMonster</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">//解读</span>
        <span class="token comment">//1.创建容器 ApplicationContext</span>
        <span class="token comment">//2.该容器和容器配置文件关联</span>
        <span class="token comment">//3.习惯用接口的形式接收</span>
        <span class="token class-name">ApplicationContext</span> ioc <span class="token operator">=</span>
                <span class="token keyword">new</span> <span class="token class-name">ClassPathXmlApplicationContext</span><span class="token punctuation">(</span><span class="token string">"beans.xml"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//3.通过getBean获取对应的对象</span>
        <span class="token comment">//  默认返回的是Object, 但是运行类型是Monster</span>
        <span class="token comment">//Object monster01 = ioc.getBean("monster01");</span>
        <span class="token class-name">Monster</span> monster01 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Monster</span><span class="token punctuation">)</span> ioc<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">"monster01"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//4.输出</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"monster01"</span> <span class="token operator">+</span> monster01 <span class="token operator">+</span> <span class="token string">", monster01运行类型"</span> <span class="token operator">+</span> monster01<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"monster01"</span> <span class="token operator">+</span> monster01 <span class="token operator">+</span> <span class="token string">", 属性name="</span> <span class="token operator">+</span> monster01<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">", monsterId="</span><span class="token operator">+</span> monster01<span class="token punctuation">.</span><span class="token function">getMonsterId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//5.也可以在获取的时候, 直接指定Class类型, 可以再次获取</span>
        <span class="token class-name">Monster</span> monster011 <span class="token operator">=</span> ioc<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">"monster01"</span><span class="token punctuation">,</span> <span class="token class-name">Monster</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"monster011="</span> <span class="token operator">+</span> monster011<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"monster011.name="</span> <span class="token operator">+</span> monster011<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ok~~~"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
    <h3><a id="_140"></a>🍊类加载路径</h3> 
    <blockquote> 
     <p>解释类加载路径<br> ApplicationContext ioc = new ClassPathXmlApplicationContext(“beans.xml”);</p> 
    </blockquote> 
    <p>1.<code>com.zzw.spring.test.SpringBeanTest</code>增加测试方法</p> 
    <pre><code class="prism language-java"><span class="token comment">//验证类加载路径</span>
<span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">classPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token class-name">File</span> file <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getResource</span><span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//看到类的加载路径</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"file="</span> <span class="token operator">+</span> file<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
    <p>2.效果<br> <img src="https://images2.imgbox.com/43/dc/dhnsbINo_o.png" alt="在这里插入图片描述"></p> 
    <h3><a id="Spring_159"></a>🍊Spring容器结构剖析</h3> 
    <div id="Spring容器结构剖析"> 
     <p>判断是否是懒加载: 是事先创建好, 还是等到用户使用的时候再创建.<br> <strong>lazyInit: false</strong>. 说明beans.xml中对象的创建不是懒加载.</p> 
     <p>1.在<code>com.zzw.spring.test.SpringBeanTest</code>的<code>getMonster</code>方法处打断点<br> 用Debug的方式, 看一下Spring容器的处理机制<br> <img src="https://images2.imgbox.com/0d/dc/k5HA0agQ_o.png" alt="在这里插入图片描述"><br> <font color="blue">ioc-&gt;beanFactory-&gt;beanDefinitionMap</font><br> <img src="https://images2.imgbox.com/d8/92/z5AgouRS_o.png" alt="在这里插入图片描述"><br> beanDefinitionMap / table<br> <img src="https://images2.imgbox.com/2b/ea/bNpRjyXc_o.png" alt="在这里插入图片描述"><br> index=217<br> <img src="https://images2.imgbox.com/2f/24/lD8DKiO3_o.png" alt="在这里插入图片描述"><br> table / propertyValues<br> <img src="https://images2.imgbox.com/1c/9f/obgdjpiF_o.png" alt="在这里插入图片描述"></p> 
     <p><font color="blue">beanFactory-&gt;singletonObjects</font><br> <img src="https://images2.imgbox.com/93/24/OTNt8wrn_o.png" alt="在这里插入图片描述"><br> singletonObjects / table <br> <img src="https://images2.imgbox.com/0d/fd/lBYGV7o8_o.png" alt="在这里插入图片描述"></p> 
     <p><font color="blue">beanFactory / beanDefinitionNames</font><br> <img src="https://images2.imgbox.com/6b/e1/U74wwc4b_o.png" alt="在这里插入图片描述"></p> 
     <p>题目: 查看容器注入了哪些bean对象, 输出bean的id</p> 
     <p>解答: 在<code>com.zzw.spring.test.SpringBeanTest</code>的<code>getMonster</code>方法里增加下端代码, 测试</p> 
     <pre><code class="prism language-java"><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> beanDefinitionNames <span class="token operator">=</span> ioc<span class="token punctuation">.</span><span class="token function">getBeanDefinitionNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> beanDefinitionName <span class="token operator">:</span> beanDefinitionNames<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"beanDefinitionName="</span> <span class="token operator">+</span> beanDefinitionName<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
     <h3><a id="Debug_194"></a>🍊Debug配置</h3> 
     <p>小技巧分享<br> <img src="https://images2.imgbox.com/38/25/gU5AySOL_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/1d/5c/gRZEaOs9_o.png" alt="在这里插入图片描述"></p> 
     <p>ioc-&gt;beanFactory-&gt;beanDefinitionMap<br> <img src="https://images2.imgbox.com/93/a6/sFrSpRMy_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/cb/5a/ykOOK1aR_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/7a/30/PCZggnbM_o.png" alt="在这里插入图片描述"></p> 
     <h2><a id="XML_203"></a>💞实现简单基于XML配置程序</h2> 
     <blockquote> 
      <p>需求说明</p> 
      <ol><li>自己写一个简单的Spring容器, 通过读取beans.xml, 获取第1个JavaBean: Monster的对象, 并给该对象的属性赋值, 放入到容器中, 并输出该对象信息</li><li>也就是说, 不使用Spring原生框架, 我们自己简单模拟实现</li><li>了解Spring容器的简单机制</li></ol> 
     </blockquote> 
     <blockquote> 
      <p>思路分析<br> <img src="https://images2.imgbox.com/b1/bd/VxRYjKvO_o.png" alt="在这里插入图片描述"></p> 
     </blockquote> 
     <p>●代码实现<br> 1.<a href="https://download.csdn.net/download/qq_18817831/88785942">引入dom4j-1.6.1.jar包</a></p> 
     <p>2.新建<code>com.zzw.spring.zzwapplicationcontext.ZzwApplicationContext.java</code></p> 
     <pre><code class="prism language-java"><span class="token comment">/**
 * @author 赵志伟
 * @version 1.0
 * 1.这个程序用于实现Spring的一个简单容器机制
 * 2.后面还会详细实现
 * 3.这里我们实现如何将beans.xml文件进行解析, 并生成对象, 放入容器中
 * 4.提供一个方法 getBean(id) 返回对应的对象
 * 5.这里就是一个开胃小点心, 理解Spring容器的机制
 */</span>
<span class="token annotation punctuation">@SuppressWarnings</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"all"</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ZzwApplicationContext</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> <span class="token class-name">ConcurrentHashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> singletonObjects <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConcurrentHashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//构造器</span>
    <span class="token comment">//接收一个容器的配置文件 比如 beans.xml, 该文件默认在src目录下</span>
    <span class="token keyword">public</span> <span class="token class-name">ZzwApplicationContext</span><span class="token punctuation">(</span><span class="token class-name">String</span> iocBeanXmlFile<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">//1.得到类加载路径:</span>
        <span class="token comment">// /D:/idea_project/zzw_spring/spring/out/production/spring/</span>
        <span class="token class-name">String</span> path <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getResource</span><span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//2.创建解析器</span>
        <span class="token class-name">SAXReader</span> reader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SAXReader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//3.得到document对象</span>
        <span class="token class-name">Document</span> document <span class="token operator">=</span> reader<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span>path <span class="token operator">+</span> iocBeanXmlFile<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//4.获取rootElement</span>
        <span class="token class-name">Element</span> rootElement <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getRootElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//5.得到第1个bean-monster01</span>
        <span class="token class-name">Element</span> bean <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Element</span><span class="token punctuation">)</span> rootElement<span class="token punctuation">.</span><span class="token function">elements</span><span class="token punctuation">(</span><span class="token string">"bean"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//6.获取第一个bean-monster01的相关属性 =&gt; beanDefinitionMap</span>
        <span class="token class-name">String</span> id <span class="token operator">=</span> bean<span class="token punctuation">.</span><span class="token function">attributeValue</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> <span class="token class-name">ClassFullPath</span> <span class="token operator">=</span> bean<span class="token punctuation">.</span><span class="token function">attributeValue</span><span class="token punctuation">(</span><span class="token string">"class"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Element</span><span class="token punctuation">&gt;</span></span> properties <span class="token operator">=</span> bean<span class="token punctuation">.</span><span class="token function">elements</span><span class="token punctuation">(</span><span class="token string">"property"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//这里不再遍历, 直接获取</span>
        <span class="token class-name">Integer</span> monsterId <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>properties<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attributeValue</span><span class="token punctuation">(</span><span class="token string">"value"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> name <span class="token operator">=</span> properties<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attributeValue</span><span class="token punctuation">(</span><span class="token string">"value"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> skill <span class="token operator">=</span> properties<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attributeValue</span><span class="token punctuation">(</span><span class="token string">"value"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//7.使用反射创建对象 =&gt; 回顾反射机制</span>
        <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> aClass <span class="token operator">=</span> <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token class-name">ClassFullPath</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//这里instance就是Monster对象</span>
        <span class="token class-name">Monster</span> o <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Monster</span><span class="token punctuation">)</span> aClass<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//给o对象通过反射来赋值 =&gt; 这里先简化</span>
        o<span class="token punctuation">.</span><span class="token function">setMonsterId</span><span class="token punctuation">(</span>monsterId<span class="token punctuation">)</span><span class="token punctuation">;</span>
        o<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        o<span class="token punctuation">.</span><span class="token function">setSkill</span><span class="token punctuation">(</span>skill<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//8.将创建好的对象放入到singletonObjects</span>
        singletonObjects<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span> o<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">getBean</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">//这里可以再处理一下</span>
        <span class="token keyword">return</span> singletonObjects<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
     <p>3.测试 <code>com.zzw.spring.ZzwApplicationContextTest</code></p> 
     <pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ZzwApplicationContextTest</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">ZzwApplicationContext</span> ioc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ZzwApplicationContext</span><span class="token punctuation">(</span><span class="token string">"beans.xml"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Monster</span> monster01 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Monster</span><span class="token punctuation">)</span> ioc<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">"monster01"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"monster01="</span> <span class="token operator">+</span> monster01<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"monster01.name="</span> <span class="token operator">+</span> monster01<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ok~"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
     <h3><a id="Spring_292"></a>🍊Spring原生容器结构梳理</h3> 
     <p><img src="https://images2.imgbox.com/cd/55/6GYP0jOj_o.png" alt="在这里插入图片描述"></p> 
     <h3><a id="_294"></a>🍊作业布置</h3> 
     <p>问: 在beans.xml中, 注入两个Monster对象, 但是不指定id, 运行会不会报错?<br> 如果不会报错, 如果知道id, 并获取Monster对象.</p> 
     <p>答:<br> 1.不会报错, 会正常运行<br> 2.系统会默认分配id. 分配id的规则是: 全类名#0, 全类名#1 这样的规则来分配id的. 例如 com.zzw.spring.bean.Monster#0, com.zzw.spring.bean.Monster#1</p> 
     <p><img src="https://images2.imgbox.com/6b/2d/dIlCNBY8_o.png" alt="在这里插入图片描述"><br> 3.让我们通过debug方式来查看<br> <br></p> 
     <p>●代码实现<br> 1.新建<code>com.zzw.spring.homework.Homework01</code></p> 
     <pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Homework01</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">getMonster</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">//1.创建容器, 习惯用接口的形式接收</span>
        <span class="token class-name">ApplicationContext</span> ioc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassPathXmlApplicationContext</span><span class="token punctuation">(</span><span class="token string">"beans.xml"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">Monster</span> monster1 <span class="token operator">=</span> ioc<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">"com.zzw.spring.bean.Monster#0"</span><span class="token punctuation">,</span> <span class="token class-name">Monster</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"monster1="</span> <span class="token operator">+</span> monster1<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Monster</span> monster2 <span class="token operator">=</span> ioc<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">"com.zzw.spring.bean.Monster#1"</span><span class="token punctuation">,</span> <span class="token class-name">Monster</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"monster2="</span> <span class="token operator">+</span> monster2<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ok~"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
     <blockquote> 
      <p>创建一个Car类, 要求</p> 
      <ol><li>创建ioc容器文件(配置文件), 并配置一个Car对象(bean).</li><li>通过java程序到ioc容器获取该bean对象, 并输出</li></ol> 
     </blockquote> 
     <p>1.新建<code>com.zzw.spring.bean.Car</code></p> 
     <pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Car</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> id<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Double</span> price<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Car</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"car对象 无参构造器被执行"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//有参构造器, setter, getter, toString()</span>
</code></pre> 
     <p>2.新建<code>src/beans1.xml</code></p> 
     <pre><code class="prism language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/beans<span class="token punctuation">"</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>
       <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!--配置carbean--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.zzw.spring.bean.Car<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>car01<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>id<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>100<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>奔驰<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>price<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>120000.00<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
     <p>3.新建<code>com.zzw.spring.homework.Homework02</code></p> 
     <pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Homework02</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">//1.创建容器对象</span>
        <span class="token class-name">ApplicationContext</span> ioc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassPathXmlApplicationContext</span><span class="token punctuation">(</span><span class="token string">"beans1.xml"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">Car</span> car01 <span class="token operator">=</span> ioc<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">"car01"</span><span class="token punctuation">,</span> <span class="token class-name">Car</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"car01="</span> <span class="token operator">+</span> car01<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"car01.name="</span> <span class="token operator">+</span> car01<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ok~"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
     <h2><a id="XMLBean_371"></a>💞基于XML配置Bean</h2> 
     <h3><a id="bean_372"></a>💖通过类型获取bean</h3> 
     <blockquote> 
      <p>案例: 通过spring的ioc容器, 获取一个bean对象, 获取方式: 按类型.</p> 
     </blockquote> 
     <pre><code class="prism language-xml"><span class="token comment">&lt;!--配置Monster, 通过类型获取--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.zzw.spring.bean.Monster<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--
    解读
    1.当我们给某个bean对象设置属性的时候
    2.底层是使用对应的setter方法完成的, 比如setName()
    3.如果没有这个方法, 就会报错
    --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>monsterId<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>100<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>孙悟空<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>skill<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>火眼金睛<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
     <p>演示通过bean的类型获取对象</p> 
     <pre><code class="prism language-java"><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">getBeanByType</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token class-name">ApplicationContext</span> ioc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassPathXmlApplicationContext</span><span class="token punctuation">(</span><span class="token string">"beans.xml"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//直接传入class对象/类型</span>
    <span class="token class-name">Monster</span> bean <span class="token operator">=</span> ioc<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token class-name">Monster</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"bean="</span> <span class="token operator">+</span> bean<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
     <p><strong>细节</strong><br> 按照类型获取bean, 要求ioc容器中的同一个类的bean只能有一个, 否则会抛出异常 NoUniqueBeanDefinationException</p> 
     <p>这种方式的应用场景: 比如XxxAction / Servlet / Controller, 或XxxService在一个线程中只需要一个对象实例(单例)的情况</p> 
     <p>在容器配置文件(比如beans.xml)中给属性赋值. 底层是通过setter方法完成的. 所以需要提供setter方法.</p> 
     <h3><a id="bean_404"></a>💖通过指定构造器配置bean</h3> 
     <pre><code class="prism language-xml"><span class="token comment">&lt;!--配置Monster对象, 并且指定构造器--&gt;</span>
<span class="token comment">&lt;!--
解读
1.constructor-arg标签可以指定使用构造器的参数
2.index表示构造器的第几个参数, 从0开始计算的
3.除了可以通过index, 还可以通过name / type来指定参数方式
4.解除大家的疑惑: 类的构造器, 不能有完全相同类型和顺序的构造器, 所以可以通过type来指定
 一个类中的两个构造器, 参数的类型和顺序不能完全相同
 可以类型相同, 但顺序不同
--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.zzw.spring.bean.Monster<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>monster03<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constructor-arg</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>100<span class="token punctuation">"</span></span> <span class="token attr-name">index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constructor-arg</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>齐天大圣<span class="token punctuation">"</span></span> <span class="token attr-name">index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constructor-arg</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>如意金箍棒<span class="token punctuation">"</span></span> <span class="token attr-name">index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>2<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.zzw.spring.bean.Monster<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>monster04<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constructor-arg</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>200<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>monsterId<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constructor-arg</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>斗战胜佛<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constructor-arg</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>无法无天<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>skill<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.zzw.spring.bean.Monster<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>monster05<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constructor-arg</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>java.lang.Integer<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constructor-arg</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>猪悟能<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>java.lang.String<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constructor-arg</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>追嫦娥~<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>java.lang.String<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
     <p>演示通过构造器来设置属性</p> 
     <pre><code class="prism language-java"><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setBeanByConstructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token class-name">ApplicationContext</span> ioc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassPathXmlApplicationContext</span><span class="token punctuation">(</span><span class="token string">"beans.xml"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">Monster</span> monster03 <span class="token operator">=</span> ioc<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">"monster03"</span><span class="token punctuation">,</span> <span class="token class-name">Monster</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"monster03="</span> <span class="token operator">+</span> monster03<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
     <p><img src="https://images2.imgbox.com/38/eb/z1IyKiN9_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/42/b9/CaIfP7ke_o.png" alt="在这里插入图片描述"><br> 通过index属性来区分是第几个参数;<br> 通过type属性来区分是什么类型(按照顺序, 这是可以的)</p> 
     <h3><a id="pbean_448"></a>💖通过p名称空间配置bean</h3> 
     <p>xmlns:p=“http://www.springframework.org/schema/p”</p> 
     <pre><code class="prism language-xml"><span class="token comment">&lt;!--通过p名称空间来配置bean
    将光标放在p这个位置, 输入alt+enter, 就会自动的添加xmlns. 
    有时需要多来几次, 有个识别的过程
--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.zzw.spring.bean.Monster<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>monster06<span class="token punctuation">"</span></span>
      <span class="token attr-name"><span class="token namespace">p:</span>monsterId</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>400<span class="token punctuation">"</span></span>
      <span class="token attr-name"><span class="token namespace">p:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>天蓬元帅<span class="token punctuation">"</span></span>
      <span class="token attr-name"><span class="token namespace">p:</span>skill</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>掌管十万天军<span class="token punctuation">"</span></span>
<span class="token punctuation">/&gt;</span></span>
</code></pre> 
     <p>演示通过p名称空间来设置属性</p> 
     <pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SpringBeanTest</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setBeanByP</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">ApplicationContext</span> ioc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassPathXmlApplicationContext</span><span class="token punctuation">(</span><span class="token string">"beans.xml"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Monster</span> monster06 <span class="token operator">=</span> ioc<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">"monster06"</span><span class="token punctuation">,</span> <span class="token class-name">Monster</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"monster06="</span> <span class="token operator">+</span> monster06<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
     <h3><a id="refbean_472"></a>💖通过ref配置bean</h3> 
     <blockquote> 
      <p>引用注入其它bean对象</p> 
     </blockquote> 
     <p>在spring的ioc容器, 可以通过ref来实现bean对象的相互引用[ref全称: reference]</p> 
     <pre><code class="prism language-xml"><span class="token comment">&lt;!--配置MemberDaoImpl对象--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.zzw.spring.dao.MemberDaoImpl<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>memberDao<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token comment">&lt;!--
    配置MemberServiceImpl对象
    1.ref="memberDao"表示 MemberServiceImpl对象属性memberDao引用的对象是id="memberDao"的对象
    2.这里就体现出spring容器的依赖注入
    3.注意: 在spring容器中, 它是作为一个整体来执行的, 即如果引用到了一个bean对象, 对配置的顺序没有要求
    4.建议还是按顺序. 好处是在阅读的时候, 比较方便
--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.zzw.spring.service.MemberServiceImpl<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>memberService<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>memberDao<span class="token punctuation">"</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>memberDao<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
     <pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>zzw<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>service</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MemberServiceImpl</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> <span class="token class-name">MemberDaoImpl</span> memberDao<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">MemberDaoImpl</span> <span class="token function">getMemberDao</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> memberDao<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setMemberDao</span><span class="token punctuation">(</span><span class="token class-name">MemberDaoImpl</span> memberDao<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>memberDao <span class="token operator">=</span> memberDao<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"MemberServiceImpl add方法被调用..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        memberDao<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
     <pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>zzw<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>dao</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MemberDaoImpl</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token class-name">MemberDaoImpl</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"MemberDaoImpl 构造器..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"MemberDaoImpl add方法被执行"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
     <p>通过ref来设置bean属性</p> 
     <pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SpringBeanTest</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setBeanByRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">ApplicationContext</span> ioc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassPathXmlApplicationContext</span><span class="token punctuation">(</span><span class="token string">"beans.xml"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">MemberServiceImpl</span> memberService <span class="token operator">=</span> ioc<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">"memberService"</span><span class="token punctuation">,</span> <span class="token class-name">MemberServiceImpl</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        memberService<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
     <p><img src="https://images2.imgbox.com/79/e8/NSb92r2E_o.png" alt="在这里插入图片描述"></p> 
     <h3><a id="bean_535"></a>💖通过内部bean配置属性</h3> 
     <blockquote> 
      <p>引用/注入内部bean对象</p> 
     </blockquote> 
     <p>在spring的ioc容器, 可以直接配置内部bean对象</p> 
     <pre><code class="prism language-xml"><span class="token comment">&lt;!--配置MemberServiceImpl对象-使用内部bean--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.zzw.spring.service.MemberServiceImpl<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>memberService2<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--自己配置一个内部bean--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>memberDao<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.zzw.spring.dao.MemberDaoImpl<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
     <p>通过内部bean, 设置属性</p> 
     <pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SpringBeanTest</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setBeanByPro</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">ApplicationContext</span> ioc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassPathXmlApplicationContext</span><span class="token punctuation">(</span><span class="token string">"beans.xml"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">MemberServiceImpl</span> memberService2 <span class="token operator">=</span> ioc<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">"memberService2"</span><span class="token punctuation">,</span> <span class="token class-name">MemberServiceImpl</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        memberService2<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
     <p><img src="https://images2.imgbox.com/1f/35/ghOTN110_o.gif" alt="在这里插入图片描述"><br> 下乘: <a href="https://blog.csdn.net/qq_18817831/article/details/131897884">Spring系列二：基于XML配置bean</a></p> 
    </div> 
   </div> 
  </div> 
 </div> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ef1cfcc86b379a1504606d6efa4f068a/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">深度图 &#43; RGB图像 转点云 python</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/3f0e067a94cd4151cd97cedfe45c8a20/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Java中使用JDBC获取MySQL数据库的名称、表名和字段名及相关信息</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>