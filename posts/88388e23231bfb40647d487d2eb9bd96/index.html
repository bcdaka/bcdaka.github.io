<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Maven基本使用 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/88388e23231bfb40647d487d2eb9bd96/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="Maven基本使用">
  <meta property="og:description" content="1. Maven前瞻 Maven官网：https://maven.apache.org/
Maven镜像：https://mvnrepository.com
1.1、Maven是什么 Maven是一个功能强大的项目管理和构建工具，可以帮助开发人员简化Java项目的构建过程。
在Maven中，使用一个名为 pom.xml的核心配置文件来管理项目的依赖关系、编译设置、打包和部署等操作。
1.2、Maven的作用 管理依赖（管理jar包）提供统一项目结构规范项目构建：使用一条命令就能实现一键构建（如 编译、测试、打包、发布等） 1.3、Maven的仓库类型 本地仓库：本机电脑上缓存jar包的文件夹。默认是在 C:\Users\用户名\.m2\repository私服：由一些公司、组织搭建的仓库服务，通常是内部使用的中央仓库：由Maven官方维护的仓库，有世界上最全的开源jar包 1.4、Maven加载jar包的顺序 Maven优先会从本地仓库加载jar包
如果本地仓库没有的话：
如果有私服，就从私服下载jar包到本地仓库，然后再从本地仓库里引用
如果没有私服，就从中央仓库下载jar包到本地仓库，然后再从本地仓库里引用
1.5、Maven安装 1、下载maven安装包，解压到一个不含中文、空格、特殊字符的路径下。
2、配置环境变量 MAVEN_HOME、Path，然后cmd里执行 mvn -v 验证是否安装成功。
3、修改conf\settings.xml ，配置本地仓库路径：
&lt;localRepository&gt;本地仓库路径&lt;/localRepository&gt; 4、修改conf\settings.xml，配置阿里云镜像仓库：
&lt;mirror&gt; &lt;id&gt;alimaven&lt;/id&gt; &lt;mirrorOf&gt;central&lt;/mirrorOf&gt; &lt;name&gt;aliyun maven&lt;/name&gt; &lt;url&gt;http://maven.aliyun.com/nexus/content/repositories/central/&lt;/url&gt; &lt;/mirror&gt; 1.6、IDEA集成Maven 1、配置Maven
2、增加运行的参数： -DarchetypeCatalog=local，让Maven从本地仓库加载骨架信息；选择使用JDK11
1.7、Maven的依赖范围 compile：默认的依赖范围，全范围有效。test：单元测试有效。src/test里有效，src/main里无效。打包时会忽略provided：编译时有效，运行时使用其它地方提供的jar包。备胎。打包时会忽略runtime：运行时有效，编译时无效。比如：数据库驱动包system：引入仓库之外的本地jar包。少用 实际开发中特殊的jar包：
Junit：依赖范围通常设置为testservlet-api， jsp-api：依赖范围通常设置为provided数据库驱动包：依赖范围可以是默认的，也可以是runtime其它包，绝对多数都是默认依赖范围 1.8、项目构建的生命周期 Maven的三套生命周期：
清理生命周期：CleanLifeCycle
常用命令有：clean
默认生命周期（构建生命周期）：DefaultLifeCycle
常用命令有：compile-&gt;test-&gt;package-&gt;install-&gt;deploy
站点生命周期：SiteLifeCycle
常用命令有：site。生成Maven项目的描述信息文档
生命周期的作用：如果执行了一个目标命令：Maven会把生命周期里的命令，从第一个一直执行到目标命令为止。
clean：清理。执行后会删除项目的target文件夹【掌握】
compile：编译。编译项目源码，把编译的结果放到target目录里【掌握】
test：单元测试。注意：单元测试类必须放到src\test\java里，类名要求以Test结尾
package：打包。常见打包方式有：
jar：默认就是jar包
war：以前开发的时候，web项目要打成war包。
设置打包方式：在pom.xml里添加 &lt;packaging&gt;打包方式&lt;/packaging&gt;
1.9、引入依赖坐标 1、maven依赖标准结构，坤坤三件套：GAV
&lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;version&gt;8.0.20&lt;/version&gt; &lt;/dependency&gt; groupId：公司域名反写artifactId：项目名称version：项目的版本号（SNAPSHOP快照版本，RELEASE稳定版本 ） 2、如果引入的依赖在父工程中被锁定了，则不需要加版本号：">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-07-06T12:05:45+08:00">
    <meta property="article:modified_time" content="2024-07-06T12:05:45+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Maven基本使用</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night-eighties">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="1_Maven_0"></a>1. Maven前瞻</h3> 
<hr> 
<blockquote> 
 <p>Maven官网：https://maven.apache.org/</p> 
 <p>Maven镜像：https://mvnrepository.com</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/c2/43/6Nnw4dHM_o.png" alt="image-20240706110401287"></p> 
<h4><a id="11Maven_10"></a>1.1、Maven是什么</h4> 
<p>Maven是一个功能强大的项目管理和构建工具，可以帮助开发人员简化Java项目的构建过程。</p> 
<p>在Maven中，使用一个名为 pom.xml的核心配置文件来管理项目的依赖关系、编译设置、打包和部署等操作。</p> 
<br> 
<h4><a id="12Maven_18"></a>1.2、Maven的作用</h4> 
<ul><li>管理依赖（管理jar包）</li><li>提供统一项目结构规范</li><li>项目构建：使用一条命令就能实现一键构建（如 编译、测试、打包、发布等）</li></ul> 
<br> 
<h4><a id="13Maven_26"></a>1.3、Maven的仓库类型</h4> 
<ul><li>本地仓库：本机电脑上缓存jar包的文件夹。默认是在 <code>C:\Users\用户名\.m2\repository</code></li><li>私服：由一些公司、组织搭建的仓库服务，通常是内部使用的</li><li>中央仓库：由Maven官方维护的仓库，有世界上最全的开源jar包</li></ul> 
<br> 
<h4><a id="14Mavenjar_34"></a>1.4、Maven加载jar包的顺序</h4> 
<ol><li> <p>Maven优先会从本地仓库加载jar包</p> </li><li> <p>如果本地仓库没有的话：</p> 
  <ul><li> <p>如果有私服，就从私服下载jar包到本地仓库，然后再从本地仓库里引用</p> </li><li> <p>如果没有私服，就从中央仓库下载jar包到本地仓库，然后再从本地仓库里引用</p> </li></ul> </li></ol> 
<p><img src="https://images2.imgbox.com/4f/9e/hDFTiJng_o.png" alt="image-20240706105004198"></p> 
<br> 
<h4><a id="15Maven_48"></a>1.5、Maven安装</h4> 
<p>1、下载maven安装包，解压到一个不含中文、空格、特殊字符的路径下。</p> 
<p>2、配置环境变量 MAVEN_HOME、Path，然后cmd里执行 mvn -v 验证是否安装成功。</p> 
<p>3、修改conf\settings.xml ，配置本地仓库路径：</p> 
<pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>localRepository</span><span class="token punctuation">&gt;</span></span>本地仓库路径<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>localRepository</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>4、修改conf\settings.xml，配置阿里云镜像仓库：</p> 
<pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mirror</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>alimaven<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mirrorOf</span><span class="token punctuation">&gt;</span></span>central<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mirrorOf</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>aliyun maven<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">&gt;</span></span>http://maven.aliyun.com/nexus/content/repositories/central/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mirror</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<br> 
<h4><a id="16IDEAMaven_73"></a>1.6、IDEA集成Maven</h4> 
<p>1、配置Maven</p> 
<p><img src="https://images2.imgbox.com/00/44/tRx7HHzQ_o.png" alt="image-20240706105849486"></p> 
<p>2、增加运行的参数：<code> -DarchetypeCatalog=local</code>，让Maven从本地仓库加载骨架信息；选择使用JDK11</p> 
<p><img src="https://images2.imgbox.com/d4/2d/oPCn0oNz_o.png" alt="image-20240706105957983"></p> 
<br> 
<h4><a id="17Maven_85"></a>1.7、Maven的依赖范围</h4> 
<ul><li><code>compile</code>：默认的依赖范围，全范围有效。</li><li><code>test</code>：单元测试有效。src/test里有效，src/main里无效。打包时会忽略</li><li><code>provided</code>：编译时有效，运行时使用其它地方提供的jar包。备胎。打包时会忽略</li><li><code>runtime</code>：运行时有效，编译时无效。比如：数据库驱动包</li><li><code>system</code>：引入仓库之外的本地jar包。少用</li></ul> 
<blockquote> 
 <p>实际开发中特殊的jar包：</p> 
 <ul><li><code>Junit</code>：依赖范围通常设置为<code>test</code></li><li><code>servlet-api， jsp-api</code>：依赖范围通常设置为<code>provided</code></li><li><code>数据库驱动包</code>：依赖范围可以是默认的，也可以是<code>runtime</code></li><li>其它包，绝对多数都是默认依赖范围</li></ul> 
</blockquote> 
<br> 
<h4><a id="18_102"></a>1.8、项目构建的生命周期</h4> 
<p>Maven的三套生命周期：</p> 
<ol><li> <p>清理生命周期：CleanLifeCycle</p> <p>常用命令有：<code>clean</code></p> </li><li> <p>默认生命周期（构建生命周期）：DefaultLifeCycle</p> <p>常用命令有：<code>compile-&gt;test-&gt;package-&gt;install-&gt;deploy</code></p> </li><li> <p>站点生命周期：SiteLifeCycle</p> <p>常用命令有：<code>site</code>。生成Maven项目的描述信息文档</p> </li></ol> 
<p>生命周期的作用：如果执行了一个目标命令：Maven会把生命周期里的命令，从第一个一直执行到目标命令为止。</p> 
<blockquote> 
 <ul><li> <p>clean：清理。执行后会删除项目的target文件夹【掌握】</p> </li><li> <p>compile：编译。编译项目源码，把编译的结果放到target目录里【掌握】</p> </li><li> <p>test：单元测试。注意：单元测试类必须放到src\test\java里，类名要求以Test结尾</p> </li><li> <p>package：打包。常见打包方式有：</p> 
   <ul><li> <p>jar：默认就是jar包</p> </li><li> <p>war：以前开发的时候，web项目要打成war包。</p> </li><li> <p>设置打包方式：在pom.xml里添加 <code>&lt;packaging&gt;打包方式&lt;/packaging&gt;</code></p> </li></ul> </li></ul> 
</blockquote> 
<br> 
<h4><a id="19_135"></a>1.9、引入依赖坐标</h4> 
<p>1、maven依赖标准结构，坤坤三件套：GAV</p> 
<pre><code class="prism language-XML">&lt;dependency&gt;
   &lt;groupId&gt;mysql&lt;/groupId&gt;
   &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;
   &lt;version&gt;8.0.20&lt;/version&gt;
&lt;/dependency&gt;
</code></pre> 
<ul><li>groupId：公司域名反写</li><li>artifactId：项目名称</li><li>version：项目的版本号（SNAPSHOP快照版本，RELEASE稳定版本 ）</li></ul> 
<p>2、如果引入的依赖在父工程中被锁定了，则不需要加版本号：</p> 
<pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
   <span class="token comment">&lt;!--&lt;version&gt;2.7.10&lt;/version&gt;--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<br> 
<h3><a id="2__163"></a>2. 依赖冲突</h3> 
<hr> 
<blockquote> 
 <p>Maven中添加的依赖是具有传递性的，如果项目中间接引入多个同名的依赖就会产生冲突，那么如何解决呢?</p> 
</blockquote> 
<h4><a id="21_169"></a>2.1、如何查看依赖冲突</h4> 
<p>方式1：以命令行方式查看依赖树（不建议用，依赖多的时候，不好查找）</p> 
<pre><code class="prism language-sh">mvn <span class="token parameter variable">-Dverbose</span> dependency:tree
</code></pre> 
<p>方式2：使用 Maven Helper 插件查看</p> 
<blockquote> 
 <p>使用教程：https://blog.csdn.net/u011066470/article/details/135943032</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/0d/ba/GGqaerWX_o.png" alt="image-20240706114319537"></p> 
<br> 
<h4><a id="22_185"></a>2.2、解决依赖冲突</h4> 
<ul><li> <p>路径最短优先原则：主要根据依赖的路径长短来决定引入哪个依赖</p> 
  <ul><li> <p>最先声明优先原则：如果两个依赖的路径一样，声明在前的则优先选择。</p> </li><li> <p>排除依赖：使用exclusion标签排除依赖</p> </li><li> <p>封装成rpc服务</p> </li></ul> </li></ul> 
<p><img src="https://images2.imgbox.com/38/76/nXoYOiOb_o.png" alt="image-20240706115001908"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f81cdb825a5b7e467d4e5dc35b2b3090/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">2024年6月后2周重要的大语言模型论文总结：LLM进展、微调、推理和对齐</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/8462c2d2086f35e24aa9644fd17e7dd3/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">MySQL9.0（innovation）安装及配置</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>