<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>ã€å¾®æœåŠ¡ã€‘SpringCloud-eurekaå…‰é€Ÿå…¥é—¨ - ç¼–ç¨‹å¤§å’–</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/9a6cdab914ff15a2d392433364072b45/">
  <meta property="og:site_name" content="ç¼–ç¨‹å¤§å’–">
  <meta property="og:title" content="ã€å¾®æœåŠ¡ã€‘SpringCloud-eurekaå…‰é€Ÿå…¥é—¨">
  <meta property="og:description" content="SpringCloud-eurekaå…‰é€Ÿå…¥é—¨
ä¸€ã€Eureka ä¸»è¦ç»„ä»¶
äºŒã€å·¥ä½œæµç¨‹
ä¸‰ã€ä¼˜åŠ¿
å››ã€Eureka-å…‰é€Ÿå…¥é—¨ã€é‡ç‚¹ã€‘
4.1 æ¡ˆä¾‹å‡†å¤‡
4.1.1 åˆ›å»ºçˆ¶å·¥ç¨‹ tingyi-shop
4.1.2 åˆ›å»ºå­å·¥ç¨‹ tingyi-goods
4.1.3 åˆ›å»ºå­å·¥ç¨‹ tingyi-order
4.1.4 æ¡ˆä¾‹è°ƒæ•´
4.1.4.1 åœ¨orderæ¨¡å—åˆ›å»º RestTemplateå¯¹è±¡
4.1.4.2 ä¿®æ”¹OrderController
4.1.4.2 é‡å¯å¹¶æµ‹è¯•
4.2 ä¸ºä»€ä¹ˆä½¿ç”¨eureka
4.2 Eurekaå…‰é€Ÿå…¥é—¨
4.2.1 åˆ›å»ºEurekaServer
4.2.2 è°ƒæ•´å•†å“æ¨¡å—
4.2.3 è°ƒæ•´è®¢å•æ¨¡å—
4.2.4 è°ƒæ•´è®¢å•æ¨¡å—ï¼Œ è°ƒç”¨å•†å“æ¨¡å—
4.2.4 æµ‹è¯•
4.3 Eurekaçš„å®‰å…¨æ€§
4.4 Eurekaçš„é«˜å¯ç”¨
4.4.1 é…ç½®ä»¥åŠä»£ç 
4.4.2 æµ‹è¯•
4.4.3 Eurekaçš„ç»†èŠ‚
ğŸˆè¾¹èµ°ã€è¾¹æ‚ŸğŸˆè¿Ÿæ—©ä¼šå¥½
Eureka æ˜¯ Netflix å¼€æºçš„ä¸€ä¸ªæœåŠ¡æ³¨å†Œå’Œå‘ç°å·¥å…·ï¼Œä¸»è¦ç”¨äºæ„å»ºåˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„æœåŠ¡å‘ç°æœºåˆ¶ã€‚å®ƒåœ¨ Spring Cloud ç”Ÿæ€ç³»ç»Ÿä¸­å¹¿æ³›ä½¿ç”¨ï¼Œå°¤å…¶åœ¨å¾®æœåŠ¡æ¶æ„ä¸­æ‰®æ¼”é‡è¦è§’è‰²ã€‚
ä¸€ã€Eureka ä¸»è¦ç»„ä»¶ Eureka Server:
ä½œä¸ºæœåŠ¡æ³¨å†Œä¸­å¿ƒï¼Œè´Ÿè´£ç®¡ç†æœåŠ¡å®ä¾‹çš„æ³¨å†Œå’Œå¿ƒè·³æ£€æµ‹ã€‚æœåŠ¡å®ä¾‹åœ¨å¯åŠ¨æ—¶å‘ Eureka Server æ³¨å†Œï¼Œå¹¶å®šæœŸå‘é€å¿ƒè·³ä»¥ä¿æŒæ³¨å†Œä¿¡æ¯çš„æœ‰æ•ˆæ€§ã€‚Eureka Server é€šå¸¸éƒ¨ç½²ä¸ºé›†ç¾¤ï¼Œç¡®ä¿é«˜å¯ç”¨æ€§å’Œå®¹é”™æ€§ã€‚ Eureka Client:">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-07-12T10:58:27+08:00">
    <meta property="article:modified_time" content="2024-07-12T10:58:27+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ç¼–ç¨‹å¤§å’–" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ç¼–ç¨‹å¤§å’–</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">ã€å¾®æœåŠ¡ã€‘SpringCloud-eurekaå…‰é€Ÿå…¥é—¨</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>SpringCloud-eurekaå…‰é€Ÿå…¥é—¨</strong></p> 
<p id="%E4%B8%80%E3%80%81Eureka%20%E4%B8%BB%E8%A6%81%E7%BB%84%E4%BB%B6-toc" style="margin-left:40px;"><a href="#%E4%B8%80%E3%80%81Eureka%20%E4%B8%BB%E8%A6%81%E7%BB%84%E4%BB%B6" rel="nofollow">ä¸€ã€Eureka ä¸»è¦ç»„ä»¶</a></p> 
<p id="%E4%BA%8C%E3%80%81%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B-toc" style="margin-left:40px;"><a href="#%E4%BA%8C%E3%80%81%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B" rel="nofollow">äºŒã€å·¥ä½œæµç¨‹</a></p> 
<p id="%E4%B8%89%E3%80%81%E4%BC%98%E5%8A%BF-toc" style="margin-left:40px;"><a href="#%E4%B8%89%E3%80%81%E4%BC%98%E5%8A%BF" rel="nofollow">ä¸‰ã€ä¼˜åŠ¿</a></p> 
<p id="%E5%9B%9B%E3%80%81Eureka-%E5%85%89%E9%80%9F%E5%85%A5%E9%97%A8%E3%80%90%E9%87%8D%E7%82%B9%E3%80%91-toc" style="margin-left:40px;"><a href="#%E5%9B%9B%E3%80%81Eureka-%E5%85%89%E9%80%9F%E5%85%A5%E9%97%A8%E3%80%90%E9%87%8D%E7%82%B9%E3%80%91" rel="nofollow">å››ã€Eureka-å…‰é€Ÿå…¥é—¨ã€é‡ç‚¹ã€‘</a></p> 
<p id="4.1%20%E6%A1%88%E4%BE%8B%E5%87%86%E5%A4%87-toc" style="margin-left:80px;"><a href="#4.1%20%E6%A1%88%E4%BE%8B%E5%87%86%E5%A4%87" rel="nofollow">4.1 æ¡ˆä¾‹å‡†å¤‡</a></p> 
<p id="4.1.1%20%E5%88%9B%E5%BB%BA%E7%88%B6%E5%B7%A5%E7%A8%8B%20tingyi-shop-toc" style="margin-left:120px;"><a href="#4.1.1%20%E5%88%9B%E5%BB%BA%E7%88%B6%E5%B7%A5%E7%A8%8B%20tingyi-shop" rel="nofollow">4.1.1 åˆ›å»ºçˆ¶å·¥ç¨‹ tingyi-shop</a></p> 
<p id="4.1.2%20%E5%88%9B%E5%BB%BA%E5%AD%90%E5%B7%A5%E7%A8%8B%20tingyi-goods-toc" style="margin-left:120px;"><a href="#4.1.2%20%E5%88%9B%E5%BB%BA%E5%AD%90%E5%B7%A5%E7%A8%8B%20tingyi-goods" rel="nofollow">4.1.2 åˆ›å»ºå­å·¥ç¨‹ tingyi-goods</a></p> 
<p id="4.1.3%20%E5%88%9B%E5%BB%BA%E5%AD%90%E5%B7%A5%E7%A8%8B%20tingyi-order-toc" style="margin-left:120px;"><a href="#4.1.3%20%E5%88%9B%E5%BB%BA%E5%AD%90%E5%B7%A5%E7%A8%8B%20tingyi-order" rel="nofollow">4.1.3 åˆ›å»ºå­å·¥ç¨‹ tingyi-order</a></p> 
<p id="4.1.4%20%E6%A1%88%E4%BE%8B%E8%B0%83%E6%95%B4-toc" style="margin-left:120px;"><a href="#4.1.4%20%E6%A1%88%E4%BE%8B%E8%B0%83%E6%95%B4" rel="nofollow">4.1.4 æ¡ˆä¾‹è°ƒæ•´</a></p> 
<p id="4.1.4.1%20%E5%9C%A8order%E6%A8%A1%E5%9D%97%E5%88%9B%E5%BB%BA%20RestTemplate%E5%AF%B9%E8%B1%A1-toc" style="margin-left:160px;"><a href="#4.1.4.1%20%E5%9C%A8order%E6%A8%A1%E5%9D%97%E5%88%9B%E5%BB%BA%20RestTemplate%E5%AF%B9%E8%B1%A1" rel="nofollow">4.1.4.1 åœ¨orderæ¨¡å—åˆ›å»º RestTemplateå¯¹è±¡</a></p> 
<p id="4.1.4.2%20%E4%BF%AE%E6%94%B9OrderController-toc" style="margin-left:160px;"><a href="#4.1.4.2%20%E4%BF%AE%E6%94%B9OrderController" rel="nofollow">4.1.4.2 ä¿®æ”¹OrderController</a></p> 
<p id="4.1.4.2%20%E9%87%8D%E5%90%AF%E5%B9%B6%E6%B5%8B%E8%AF%95-toc" style="margin-left:160px;"><a href="#4.1.4.2%20%E9%87%8D%E5%90%AF%E5%B9%B6%E6%B5%8B%E8%AF%95" rel="nofollow">4.1.4.2 é‡å¯å¹¶æµ‹è¯•</a></p> 
<p id="4.2%20%E4%B8%BA%E4%BB%80%E4%B9%88%E4%BD%BF%E7%94%A8eureka-toc" style="margin-left:80px;"><a href="#4.2%20%E4%B8%BA%E4%BB%80%E4%B9%88%E4%BD%BF%E7%94%A8eureka" rel="nofollow">4.2 ä¸ºä»€ä¹ˆä½¿ç”¨eureka</a></p> 
<p id="4.2%20Eureka%E5%85%89%E9%80%9F%E5%85%A5%E9%97%A8-toc" style="margin-left:80px;"><a href="#4.2%20Eureka%E5%85%89%E9%80%9F%E5%85%A5%E9%97%A8" rel="nofollow">4.2 Eurekaå…‰é€Ÿå…¥é—¨</a></p> 
<p id="4.2.1%20%E5%88%9B%E5%BB%BAEurekaServer-toc" style="margin-left:120px;"><a href="#4.2.1%20%E5%88%9B%E5%BB%BAEurekaServer" rel="nofollow">4.2.1 åˆ›å»ºEurekaServer</a></p> 
<p id="4.2.2%20%E8%B0%83%E6%95%B4%E5%95%86%E5%93%81%E6%A8%A1%E5%9D%97-toc" style="margin-left:120px;"><a href="#4.2.2%20%E8%B0%83%E6%95%B4%E5%95%86%E5%93%81%E6%A8%A1%E5%9D%97" rel="nofollow">4.2.2 è°ƒæ•´å•†å“æ¨¡å—</a></p> 
<p id="4.2.3%20%E8%B0%83%E6%95%B4%E8%AE%A2%E5%8D%95%E6%A8%A1%E5%9D%97-toc" style="margin-left:120px;"><a href="#4.2.3%20%E8%B0%83%E6%95%B4%E8%AE%A2%E5%8D%95%E6%A8%A1%E5%9D%97" rel="nofollow">4.2.3 è°ƒæ•´è®¢å•æ¨¡å—</a></p> 
<p id="4.2.4%20%E8%B0%83%E6%95%B4%E8%AE%A2%E5%8D%95%E6%A8%A1%E5%9D%97%EF%BC%8C%20%E8%B0%83%E7%94%A8%E5%95%86%E5%93%81%E6%A8%A1%E5%9D%97-toc" style="margin-left:120px;"><a href="#4.2.4%20%E8%B0%83%E6%95%B4%E8%AE%A2%E5%8D%95%E6%A8%A1%E5%9D%97%EF%BC%8C%20%E8%B0%83%E7%94%A8%E5%95%86%E5%93%81%E6%A8%A1%E5%9D%97" rel="nofollow">4.2.4 è°ƒæ•´è®¢å•æ¨¡å—ï¼Œ è°ƒç”¨å•†å“æ¨¡å—</a></p> 
<p id="4.2.4%20%E6%B5%8B%E8%AF%95-toc" style="margin-left:80px;"><a href="#4.2.4%20%E6%B5%8B%E8%AF%95" rel="nofollow">4.2.4 æµ‹è¯•</a></p> 
<p id="4.3%20Eureka%E7%9A%84%E5%AE%89%E5%85%A8%E6%80%A7-toc" style="margin-left:80px;"><a href="#4.3%20Eureka%E7%9A%84%E5%AE%89%E5%85%A8%E6%80%A7" rel="nofollow">4.3 Eurekaçš„å®‰å…¨æ€§</a></p> 
<p id="4.4%20Eureka%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8-toc" style="margin-left:80px;"><a href="#4.4%20Eureka%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8" rel="nofollow">4.4 Eurekaçš„é«˜å¯ç”¨</a></p> 
<p id="4.4.1%20%E9%85%8D%E7%BD%AE%E4%BB%A5%E5%8F%8A%E4%BB%A3%E7%A0%81-toc" style="margin-left:120px;"><a href="#4.4.1%20%E9%85%8D%E7%BD%AE%E4%BB%A5%E5%8F%8A%E4%BB%A3%E7%A0%81" rel="nofollow">4.4.1 é…ç½®ä»¥åŠä»£ç </a></p> 
<p id="4.4.2%20%E6%B5%8B%E8%AF%95-toc" style="margin-left:120px;"><a href="#4.4.2%20%E6%B5%8B%E8%AF%95" rel="nofollow">4.4.2 æµ‹è¯•</a></p> 
<p id="4.4.3%20Eureka%E7%9A%84%E7%BB%86%E8%8A%82-toc" style="margin-left:120px;"><a href="#4.4.3%20Eureka%E7%9A%84%E7%BB%86%E8%8A%82" rel="nofollow">4.4.3 Eurekaçš„ç»†èŠ‚</a></p> 
<hr id="hr-toc"> 
<p></p> 
<table align="center" border="1" cellpadding="1" cellspacing="1" style="width:690px;"><tbody><tr><td> <p style="text-align:center;"><em><span style="color:#ff9900;"><strong>ğŸˆè¾¹èµ°ã€è¾¹æ‚ŸğŸˆè¿Ÿæ—©ä¼šå¥½</strong></span></em></p> </td></tr></tbody></table> 
<p>Eureka æ˜¯ Netflix å¼€æºçš„ä¸€ä¸ªæœåŠ¡æ³¨å†Œå’Œå‘ç°å·¥å…·ï¼Œä¸»è¦ç”¨äºæ„å»ºåˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„æœåŠ¡å‘ç°æœºåˆ¶ã€‚å®ƒåœ¨ Spring Cloud ç”Ÿæ€ç³»ç»Ÿä¸­å¹¿æ³›ä½¿ç”¨ï¼Œå°¤å…¶åœ¨å¾®æœåŠ¡æ¶æ„ä¸­æ‰®æ¼”é‡è¦è§’è‰²ã€‚</p> 
<h3 id="%E4%B8%80%E3%80%81Eureka%20%E4%B8%BB%E8%A6%81%E7%BB%84%E4%BB%B6">ä¸€ã€Eureka ä¸»è¦ç»„ä»¶</h3> 
<ol><li> <p><strong>Eureka Server</strong>:</p> 
  <ul><li>ä½œä¸ºæœåŠ¡æ³¨å†Œä¸­å¿ƒï¼Œè´Ÿè´£ç®¡ç†æœåŠ¡å®ä¾‹çš„æ³¨å†Œå’Œå¿ƒè·³æ£€æµ‹ã€‚</li><li>æœåŠ¡å®ä¾‹åœ¨å¯åŠ¨æ—¶å‘ Eureka Server æ³¨å†Œï¼Œå¹¶å®šæœŸå‘é€å¿ƒè·³ä»¥ä¿æŒæ³¨å†Œä¿¡æ¯çš„æœ‰æ•ˆæ€§ã€‚</li><li>Eureka Server é€šå¸¸éƒ¨ç½²ä¸ºé›†ç¾¤ï¼Œç¡®ä¿é«˜å¯ç”¨æ€§å’Œå®¹é”™æ€§ã€‚</li></ul></li><li> <p><strong>Eureka Client</strong>:</p> 
  <ul><li>æ˜¯æ³¨å†Œåœ¨ Eureka Server ä¸Šçš„æœåŠ¡å®ä¾‹ã€‚</li><li>å®ƒå¯ä»¥æ˜¯ä»»ä½•ç±»å‹çš„å¾®æœåŠ¡åº”ç”¨ç¨‹åºï¼Œåœ¨å¯åŠ¨æ—¶å‘ Eureka Server æ³¨å†Œå¹¶å®šæœŸå‘é€å¿ƒè·³ã€‚</li><li>Eureka Client ä¹Ÿå¯ä»¥ä» Eureka Server è·å–å…¶ä»–å·²æ³¨å†ŒæœåŠ¡çš„ä¿¡æ¯ï¼Œä»¥å®ç°æœåŠ¡é—´çš„è°ƒç”¨å’Œè´Ÿè½½å‡è¡¡ã€‚</li></ul></li></ol> 
<h3 id="%E4%BA%8C%E3%80%81%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B">äºŒã€å·¥ä½œæµç¨‹</h3> 
<ol><li> <p><strong>æœåŠ¡æ³¨å†Œ</strong>:</p> 
  <ul><li>æœåŠ¡å®ä¾‹åœ¨å¯åŠ¨æ—¶å‘ Eureka Server æ³¨å†Œå…¶è‡ªèº«çš„å…ƒæ•°æ®ä¿¡æ¯ï¼Œå¦‚ IP åœ°å€ã€ç«¯å£å·ã€æœåŠ¡åç§°ç­‰ã€‚</li></ul></li><li> <p><strong>æœåŠ¡å¿ƒè·³</strong>:</p> 
  <ul><li>æ³¨å†Œåï¼ŒæœåŠ¡å®ä¾‹å®šæœŸå‘ Eureka Server å‘é€å¿ƒè·³è¯·æ±‚ï¼Œä»¥è¡¨æ˜å…¶ä»ç„¶æ´»è·ƒã€‚è‹¥åœ¨ä¸€æ®µæ—¶é—´å†…æœªæ”¶åˆ°å¿ƒè·³ï¼ŒEureka Server å°†è®¤ä¸ºè¯¥å®ä¾‹å·²å¤±æ•ˆï¼Œå¹¶å°†å…¶ä»æ³¨å†Œåˆ—è¡¨ä¸­ç§»é™¤ã€‚</li></ul></li><li> <p><strong>æœåŠ¡å‘ç°</strong>:</p> 
  <ul><li>æœåŠ¡è°ƒç”¨è€…ï¼ˆå®¢æˆ·ç«¯ï¼‰é€šè¿‡ Eureka Server æŸ¥è¯¢å¯ç”¨çš„æœåŠ¡å®ä¾‹åˆ—è¡¨ï¼Œä»¥å®ç°æœåŠ¡è°ƒç”¨ã€‚</li><li>Eureka Client ç¼“å­˜è¿™äº›ä¿¡æ¯ï¼Œå¹¶å®šæœŸä» Eureka Server æ›´æ–°ï¼Œç¡®ä¿è´Ÿè½½å‡è¡¡å’Œé«˜å¯ç”¨æ€§ã€‚</li></ul></li><li> <p><strong>è´Ÿè½½å‡è¡¡</strong>:</p> 
  <ul><li>å®¢æˆ·ç«¯æ ¹æ®ä» Eureka Server è·å–çš„æœåŠ¡å®ä¾‹åˆ—è¡¨ï¼Œå®ç°å®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡ã€‚</li><li>å¸¸è§çš„è´Ÿè½½å‡è¡¡ç­–ç•¥åŒ…æ‹¬è½®è¯¢ã€éšæœºé€‰æ‹©ã€åŠ æƒè½®è¯¢ç­‰ã€‚</li></ul></li></ol> 
<h3 id="%E4%B8%89%E3%80%81%E4%BC%98%E5%8A%BF">ä¸‰ã€ä¼˜åŠ¿</h3> 
<ul><li><strong>é«˜å¯ç”¨æ€§</strong>: Eureka Server æ”¯æŒé›†ç¾¤éƒ¨ç½²ï¼Œç¡®ä¿åœ¨æŸäº›èŠ‚ç‚¹æ•…éšœæ—¶ç³»ç»Ÿä»ç„¶å¯ç”¨ã€‚</li><li><strong>è‡ªæˆ‘ä¿æŠ¤æœºåˆ¶</strong>: å½“ Eureka Server æ£€æµ‹åˆ°å¤§é‡å®¢æˆ·ç«¯å¤±æ•ˆæ—¶ï¼Œè¿›å…¥è‡ªæˆ‘ä¿æŠ¤æ¨¡å¼ï¼Œé¿å…å› ç½‘ç»œåˆ†åŒºç­‰åŸå› è¯¯åˆ¤æœåŠ¡å¤±æ•ˆã€‚</li><li><strong>æ˜“æ‰©å±•æ€§</strong>: æ–°çš„æœåŠ¡å®ä¾‹å¯ä»¥åŠ¨æ€æ³¨å†Œå’Œå‘ç°ï¼Œæ”¯æŒå¼¹æ€§æ‰©å±•ã€‚</li></ul> 
<p>Eureka åœ¨ Netflix çš„å¾®æœåŠ¡æ¶æ„ä¸­å¾—åˆ°äº†å¹¿æ³›åº”ç”¨ï¼Œå¹¶æˆä¸º Spring Cloud çš„æ ¸å¿ƒç»„ä»¶ä¹‹ä¸€ï¼Œç”¨äºå®ç°æœåŠ¡æ³¨å†Œä¸å‘ç°ã€‚</p> 
<h3 id="%E5%9B%9B%E3%80%81Eureka-%E5%85%89%E9%80%9F%E5%85%A5%E9%97%A8%E3%80%90%E9%87%8D%E7%82%B9%E3%80%91">å››ã€Eureka-å…‰é€Ÿå…¥é—¨ã€<code>é‡ç‚¹</code>ã€‘</h3> 
<h4 id="4.1%20%E6%A1%88%E4%BE%8B%E5%87%86%E5%A4%87">4.1 æ¡ˆä¾‹å‡†å¤‡</h4> 
<h5 id="4.1.1%20%E5%88%9B%E5%BB%BA%E7%88%B6%E5%B7%A5%E7%A8%8B%20tingyi-shop">4.1.1 åˆ›å»ºçˆ¶å·¥ç¨‹ tingyi-shop</h5> 
<p><strong>pom.xml</strong></p> 
<pre><code class="language-java">&lt;properties&gt;
 Â &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;
 Â &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;
&lt;/properties&gt;
â€‹
&lt;packaging&gt;pom&lt;/packaging&gt;
â€‹
&lt;parent&gt;
 Â &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
 Â &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
 Â &lt;version&gt;2.2.8.RELEASE&lt;/version&gt;
&lt;/parent&gt;
â€‹
&lt;dependencyManagement&gt;
 Â &lt;dependencies&gt;
 Â  Â &lt;dependency&gt;
 Â  Â  Â &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
 Â  Â  Â &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;
 Â  Â  Â &lt;!-- ç‰ˆæœ¬å·æ˜¯æŒ‰ç…§ä¼¦æ•¦åœ°é“ç«™çš„åå­—å‘½åçš„ --&gt;
 Â  Â  Â &lt;version&gt;Hoxton.SR4&lt;/version&gt;
 Â  Â  Â &lt;type&gt;pom&lt;/type&gt;
 Â  Â  Â &lt;scope&gt;import&lt;/scope&gt;
 Â  Â &lt;/dependency&gt;
 Â &lt;/dependencies&gt;
&lt;/dependencyManagement&gt;</code></pre> 
<p></p> 
<h5 id="4.1.2%20%E5%88%9B%E5%BB%BA%E5%AD%90%E5%B7%A5%E7%A8%8B%20tingyi-goods">4.1.2 åˆ›å»ºå­å·¥ç¨‹ tingyi-goods</h5> 
<p><strong>pom.xml</strong></p> 
<pre><code class="language-java">&lt;dependencies&gt;
    &lt;dependency&gt;
 Â  Â &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
 Â  Â &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
 Â &lt;/dependency&gt;
&lt;/dependencies&gt;</code></pre> 
<p><strong>å¼•å¯¼ç±»</strong></p> 
<pre>â€‹
</pre> 
<pre><code class="language-java">@SpringBootApplication
public class GoodsApplication {
â€‹
 Â  Â public static void main(String[] args) {
 Â  Â  Â  Â SpringApplication.run(GoodsApplication.class, args);
 Â   }
}</code></pre> 
<p><strong>application.yml</strong></p> 
<pre><code class="language-java">server:
  port: 9001
#æŒ‡å®šæœåŠ¡çš„åç§°
spring:
  application:
 Â   name: TINGYI-GOODS</code></pre> 
<p><strong>controllerç¼–å†™</strong></p> 
<pre><code class="language-java">@RestController
public class GoodsController {
â€‹
 Â  Â @RequestMapping("/query")
 Â  Â public String query() {
 Â  Â  Â  Â return "æŸ¥è¯¢å•†å“ä¿¡æ¯!";
 Â   }
}</code></pre> 
<p><strong>å¯åŠ¨å¹¶æŸ¥çœ‹æ•ˆæœ</strong></p> 
<p><img alt="" height="178" src="https://images2.imgbox.com/54/c3/0431OXzK_o.png" width="551"></p> 
<p></p> 
<h5 id="4.1.3%20%E5%88%9B%E5%BB%BA%E5%AD%90%E5%B7%A5%E7%A8%8B%20tingyi-order">4.1.3 åˆ›å»ºå­å·¥ç¨‹ tingyi-order</h5> 
<p><strong>pom.xml</strong></p> 
<pre><code class="language-java">&lt;dependencies&gt;
    &lt;dependency&gt;
 Â  Â &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
 Â  Â &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
 Â &lt;/dependency&gt;
&lt;/dependencies&gt;</code></pre> 
<p><strong>å¼•å¯¼ç±»</strong></p> 
<pre><code class="language-java">@SpringBootApplication
public class OrderApplication {
â€‹
 Â  Â public static void main(String[] args) {
 Â  Â  Â  Â SpringApplication.run(OrderApplication.class,args);
 Â   }
â€‹
}</code></pre> 
<p></p> 
<pre><code class="language-java">application.yml

server:
  port: 9002
#æŒ‡å®šæœåŠ¡çš„åç§°
spring:
  application:
 Â   name: TINGYI-ORDER</code></pre> 
<pre></pre> 
<p><strong>ç¼–å†™controller</strong></p> 
<pre><code class="language-java">@RestController
public class OrderController {
 Â  Â @RequestMapping("/query")
 Â  Â public String query(){
 Â  Â  Â  Â return "æŸ¥è¯¢è®¢å•";
 Â   }
}</code></pre> 
<p><strong>å¯åŠ¨å¹¶æŸ¥çœ‹æ•ˆæœ</strong></p> 
<p><img alt="" height="180" src="https://images2.imgbox.com/76/24/9f9DoFlx_o.png" width="574"></p> 
<h5 id="4.1.4%20%E6%A1%88%E4%BE%8B%E8%B0%83%E6%95%B4">4.1.4 æ¡ˆä¾‹è°ƒæ•´</h5> 
<p>â€‹ åœ¨æŸ¥è¯¢è®¢å•æ—¶ï¼ŒåŒæ—¶ä¹Ÿéœ€è¦è·å–å•†å“çš„ä¿¡æ¯ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•æŸ¥è¯¢å•†å“ä¿¡æ¯å‘¢ï¼Ÿ</p> 
<p>â€‹ æˆ‘ä»¬å¯ä»¥é€šè¿‡springä¸ºæˆ‘ä»¬æä¾›çš„RestTemplate æ¨¡æ¿å¯¹è±¡ è¿œç¨‹è°ƒç”¨å•†å“æ¨¡å—ä¸­çš„ æ§åˆ¶å™¨ã€‚</p> 
<h6 id="4.1.4.1%20%E5%9C%A8order%E6%A8%A1%E5%9D%97%E5%88%9B%E5%BB%BA%20RestTemplate%E5%AF%B9%E8%B1%A1">4.1.4.1 åœ¨orderæ¨¡å—åˆ›å»º RestTemplateå¯¹è±¡</h6> 
<pre><code class="language-java">@Configuration
public class RestTemplateConfig {
 Â  Â @Bean
 Â  Â public RestTemplate restTemplate(ClientHttpRequestFactory factory) {
 Â  Â  Â  Â return new RestTemplate(factory);
 Â   }
â€‹
 Â  Â @Bean
 Â  Â public ClientHttpRequestFactory simpleClientHttpRequestFactory() {
 Â  Â  Â  Â SimpleClientHttpRequestFactory factory = new SimpleClientHttpRequestFactory();
 Â  Â  Â  Â factory.setReadTimeout(5000);//ms
 Â  Â  Â  Â factory.setConnectTimeout(15000);//ms
 Â  Â  Â  Â return factory;
 Â   }
}</code></pre> 
<h6 id="4.1.4.2%20%E4%BF%AE%E6%94%B9OrderController">4.1.4.2 ä¿®æ”¹OrderController</h6> 
<p><img alt="" height="479" src="https://images2.imgbox.com/80/c9/nX6ew1o0_o.png" width="1135"></p> 
<h6 id="4.1.4.2%20%E9%87%8D%E5%90%AF%E5%B9%B6%E6%B5%8B%E8%AF%95">4.1.4.2 é‡å¯å¹¶æµ‹è¯•</h6> 
<p><img alt="" height="182" src="https://images2.imgbox.com/1b/8d/wTw0UfWU_o.png" width="560"></p> 
<p></p> 
<h4 id="4.2%20%E4%B8%BA%E4%BB%80%E4%B9%88%E4%BD%BF%E7%94%A8eureka">4.2 ä¸ºä»€ä¹ˆä½¿ç”¨eureka</h4> 
<blockquote> 
 <p>é—®é¢˜åˆ†æ</p> 
 <p>â€‹ å¦‚æœ <code>è¢«è°ƒç”¨æ–¹</code>ï¼Œipæˆ–è€…ç«¯å£å·å‘ç”Ÿäº†å˜åŒ–ï¼Œéœ€è¦ç»´æŠ¤<code>è°ƒç”¨æ–¹</code>çš„æ–¹æ³•ã€‚</p> 
 <p>â€‹ å¦‚æœ<code>è°ƒç”¨æ–¹</code>æ­å»ºäº†<code>é›†ç¾¤</code>ï¼Œéœ€è¦å¯¹æ‰€æœ‰çš„<code>è°ƒç”¨æ–¹</code>ç»´æŠ¤ã€‚</p> 
 <p>è§£å†³</p> 
 <p>â€‹ Eurekaå°±æ˜¯å¸®åŠ©æˆ‘ä»¬ç»´æŠ¤æ‰€æœ‰æœåŠ¡çš„ä¿¡æ¯ï¼Œä»¥ä¾¿æœåŠ¡ä¹‹é—´çš„ç›¸äº’è°ƒç”¨</p> 
</blockquote> 
<table><thead><tr><th>Eureka</th></tr></thead><tbody><tr><td></td></tr></tbody></table> 
<p></p> 
<h4 id="4.2%20Eureka%E5%85%89%E9%80%9F%E5%85%A5%E9%97%A8">4.2 Eurekaå…‰é€Ÿå…¥é—¨</h4> 
<h5 id="4.2.1%20%E5%88%9B%E5%BB%BAEurekaServer">4.2.1 åˆ›å»ºEurekaServer</h5> 
<blockquote> 
 <p>åˆ›å»ºeurekaçš„serverï¼Œåˆ›å»ºmoudleï¼Œå¹¶ä¸”å¯¼å…¥ä¾èµ–ï¼Œåœ¨å¯åŠ¨ç±»ä¸­æ·»åŠ æ³¨è§£ï¼Œç¼–å†™ymlæ–‡ä»¶</p> 
 <p>å¾®æœåŠ¡åå­—å¯ä»¥å«åš tingyi<code>-eureka</code></p> 
</blockquote> 
<blockquote> 
 <p>å¯¼å…¥ä¾èµ–</p> 
</blockquote> 
<pre><code class="language-java">&lt;dependencies&gt;
 Â  Â &lt;dependency&gt;
 Â  Â  Â  Â &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
 Â  Â  Â  Â &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-server&lt;/artifactId&gt;
 Â  Â &lt;/dependency&gt;
â€‹
 Â  Â &lt;dependency&gt;
 Â  Â  Â  Â &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
 Â  Â  Â  Â &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
 Â  Â &lt;/dependency&gt;
&lt;/dependencies&gt;</code></pre> 
<blockquote> 
 <p>å¯åŠ¨ç±»æ·»åŠ æ³¨è§£</p> 
</blockquote> 
<pre><code class="language-java">@SpringBootApplication
@EnableEurekaServer
public class EurekaApplication {
â€‹
 Â  Â public static void main(String[] args) {
 Â  Â  Â  Â SpringApplication.run(EurekaApplication.class,args);
 Â   }
â€‹
}</code></pre> 
<blockquote> 
 <p>ç¼–å†™ymlé…ç½®æ–‡ä»¶</p> 
</blockquote> 
<pre><code class="language-java">server:
  port: 8761 Â  Â   # ç«¯å£å·
spring:
  application:
 Â   name: EUREKA-SERVER
eureka:
  instance:
 Â   hostname: localhost Â  # localhost
  client:
 Â   # è¡¨ç¤ºæ˜¯å¦å°†è‡ªå·±æ³¨å†Œåˆ°Eureka Serverï¼Œé»˜è®¤ä¸ºtrue
 Â   registerWithEureka: false
 Â   # è¡¨ç¤ºæ˜¯å¦ä»Eureka Serverè·å–æ³¨å†Œä¿¡æ¯ï¼Œé»˜è®¤ä¸ºtrueã€‚
 Â   # å› ä¸ºè¿™æ˜¯ä¸€ä¸ªå•ç‚¹çš„Eureka Serverï¼Œä¸éœ€è¦åŒæ­¥å…¶ä»–çš„Eureka ServerèŠ‚ç‚¹çš„æ•°æ®ï¼Œæ•…è€Œè®¾ä¸ºfalse
 Â   fetchRegistry: false
 Â   # è®¾ç½®ä¸Eureka Serveräº¤äº’çš„åœ°å€ï¼ŒæŸ¥è¯¢æœåŠ¡å’Œæ³¨å†ŒæœåŠ¡éƒ½éœ€è¦ä¾èµ–è¿™ä¸ªåœ°å€
 Â   serviceUrl:
 Â  Â   defaultZone: http://${eureka.instance.hostname}:${server.port}/eureka/</code></pre> 
<p><strong>å¯åŠ¨ eurekaServerå¹¶è®¿é—®</strong></p> 
<p><img alt="" height="728" src="https://images2.imgbox.com/b3/4c/GUMkSmN3_o.png" width="1200"></p> 
<p></p> 
<p></p> 
<h5 id="4.2.2%20%E8%B0%83%E6%95%B4%E5%95%86%E5%93%81%E6%A8%A1%E5%9D%97">4.2.2 è°ƒæ•´å•†å“æ¨¡å—</h5> 
<blockquote> 
 <p>å¯¼å…¥ä¾èµ–</p> 
</blockquote> 
<pre><code class="language-java">&lt;dependency&gt;
 Â &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
 Â &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;
 Â &lt;version&gt;2.2.2.RELEASE&lt;/version&gt;
&lt;/dependency&gt;</code></pre> 
<blockquote> 
 <p>åœ¨å¯åŠ¨ç±»ä¸Šæ·»åŠ æ³¨è§£</p> 
</blockquote> 
<pre><code class="language-java">@SpringBootApplication
@EnableEurekaClient
public class GoodsApplication {
â€‹
 Â  Â public static void main(String[] args) {
 Â  Â  Â  Â SpringApplication.run(GoodsApplication.class,args);
 Â   }
â€‹
}</code></pre> 
<blockquote> 
 <p>åœ¨é…ç½®æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç </p> 
</blockquote> 
<pre><code class="language-java"># æŒ‡å®šEurekaæœåŠ¡åœ°å€
eureka:
  client:
 Â   service-url:
 Â  Â   defaultZone: http://localhost:8761/eureka
 Â   # EurekaæœåŠ¡ä¸­, æ˜¾ç¤ºçš„å½“å‰searchä¸šåŠ¡å¾®æœåŠ¡çš„è®¿é—®åœ°å€.
  instance:
 Â   home-page-url: http://localhost:${server.port} Â </code></pre> 
<pre> Â </pre> 
<blockquote> 
 <p>é‡å¯æœåŠ¡ï¼Œæµè§ˆå™¨è®¿é—®åœ°å€ : <a href="http://localhost:8761" rel="nofollow" title="http://localhost:8761">http://localhost:8761</a></p> 
</blockquote> 
<p></p> 
<h5 id="4.2.3%20%E8%B0%83%E6%95%B4%E8%AE%A2%E5%8D%95%E6%A8%A1%E5%9D%97">4.2.3 è°ƒæ•´è®¢å•æ¨¡å—</h5> 
<blockquote> 
 <p>å¯¼å…¥ä¾èµ–</p> 
</blockquote> 
<pre><code class="language-java">&lt;dependency&gt;
 Â &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
 Â &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;
 Â &lt;version&gt;2.2.2.RELEASE&lt;/version&gt;
&lt;/dependency&gt;</code></pre> 
<blockquote> 
 <p>åœ¨å¯åŠ¨ç±»ä¸Šæ·»åŠ æ³¨è§£</p> 
</blockquote> 
<pre><code class="language-java">@SpringBootApplication
@EnableEurekaClient
public class OrderApplication {
â€‹
 Â  Â public static void main(String[] args) {
 Â  Â  Â  Â SpringApplication.run(OrderApplication.class,args);
 Â   }
â€‹
}</code></pre> 
<blockquote> 
 <p>åœ¨é…ç½®æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç </p> 
</blockquote> 
<pre><code class="language-java"># æŒ‡å®šEurekaæœåŠ¡åœ°å€
eureka:
  client:
 Â   service-url:
 Â  Â   defaultZone: http://localhost:8761/eureka</code></pre> 
<blockquote> 
 <p>é‡å¯æœåŠ¡ï¼Œæµè§ˆå™¨è®¿é—®åœ°å€ : <a href="http://localhost:8761" rel="nofollow" title="http://localhost:8761">http://localhost:8761</a>Â  Â æµè§ˆå™¨ä¸‹æ–¹å°±ä¼šå‡ºç°</p> 
</blockquote> 
<p></p> 
<h5 id="4.2.4%20%E8%B0%83%E6%95%B4%E8%AE%A2%E5%8D%95%E6%A8%A1%E5%9D%97%EF%BC%8C%20%E8%B0%83%E7%94%A8%E5%95%86%E5%93%81%E6%A8%A1%E5%9D%97">4.2.4 è°ƒæ•´è®¢å•æ¨¡å—ï¼Œ è°ƒç”¨å•†å“æ¨¡å—</h5> 
<blockquote> 
 <p>è¿œç¨‹è°ƒç”¨ è®¢å•æ¨¡å—controller</p> 
</blockquote> 
<pre><code class="language-java">@RestController
public class OrderController {
â€‹
 Â  Â @Autowired
 Â  Â EurekaClient eurekaClient;
â€‹
 Â  Â //è‡ªåŠ¨æ³¨å…¥RestTemplateå¯¹è±¡
 Â  Â @Autowired
 Â  Â RestTemplate template;
â€‹
 Â  Â @RequestMapping("/query")
 Â  Â public String query(){
 Â  Â  Â  Â //æ ¹æ®Eurekaä¸Šæ³¨å†Œçš„æœåŠ¡åç§°è·å–å®ä¾‹å¯¹è±¡
 Â  Â  Â  Â InstanceInfo instanceInfo = eurekaClient.getNextServerFromEureka("TINGYI-GOODS", false);
 Â  Â  Â  Â //è·å–å¯¹åº”æ¨¡å—çš„url
 Â  Â  Â  Â String url = instanceInfo.getHomePageUrl();
 Â  Â  Â  Â ResponseEntity&lt;String&gt; responseEntity = template.getForEntity(url + "/query", String.class);
â€‹
 Â  Â  Â  Â //è¿”å›ç»“æœ
 Â  Â  Â  Â return "æŸ¥è¯¢è®¢å•" + "&amp;" + responseEntity.getBody();
 Â   }
}</code></pre> 
<h4 id="4.2.4%20%E6%B5%8B%E8%AF%95">4.2.4 æµ‹è¯•</h4> 
<blockquote> 
 <p>ä¸åŸæ¥æ•ˆæœä¸€è‡´</p> 
</blockquote> 
<p><img alt="" height="190" src="https://images2.imgbox.com/7d/47/Fle8SYZv_o.png" width="737"></p> 
<h4 id="4.3%20Eureka%E7%9A%84%E5%AE%89%E5%85%A8%E6%80%A7">4.3 Eurekaçš„å®‰å…¨æ€§</h4> 
<blockquote> 
 <p>å®ç°Eurekaè®¤è¯</p> 
</blockquote> 
<blockquote> 
 <p><code>tingyi_eureka</code> å¾®æœåŠ¡å¯¼å…¥ä¾èµ–</p> 
</blockquote> 
<pre><code class="language-java">&lt;dependency&gt;
 Â  Â &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
 Â  Â &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre> 
<blockquote> 
 <p><code>tingyi_eureka</code> å¾®æœåŠ¡åŠ å…¥é…ç½®ç±»:</p> 
</blockquote> 
<pre><code class="language-java">package com.tingyi.config;
â€‹
import org.springframework.security.config.annotation.web.builders.HttpSecurity;
import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;
import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;
â€‹
/**
 * @author tingyi
 */
@EnableWebSecurity
public class WebSecurityConfig extends WebSecurityConfigurerAdapter {
â€‹
 Â  Â @Override
 Â  Â protected void configure(HttpSecurity http) throws Exception {
 Â  Â  Â  Â // å¿½ç•¥æ‰/eureka/**
 Â  Â  Â  Â http.csrf().ignoringAntMatchers("/eureka/**");
 Â  Â  Â  Â super.configure(http);
 Â   }
}</code></pre> 
<blockquote> 
 <p><code>tingyi_eureka</code> å¾®æœåŠ¡ç¼–å†™é…ç½®æ–‡ä»¶, åŠ å…¥Eurekaçš„ç”¨æˆ·åå’Œå¯†ç :</p> 
</blockquote> 
<pre><code class="language-java">server:
  port: 8761 Â  Â   # ç«¯å£å·
spring:
  application:
 Â   name: EUREKA-SERVER
  # æŒ‡å®šEurekaçš„ç”¨æˆ·åå’Œå¯†ç 
  security:
 Â   user:
 Â  Â   name: root
 Â  Â   password: root
eureka:
  instance:
 Â   hostname: localhost Â  # localhost
  client:
 Â   # è¡¨ç¤ºæ˜¯å¦å°†è‡ªå·±æ³¨å†Œåˆ°Eureka Serverï¼Œé»˜è®¤ä¸ºtrue
 Â   registerWithEureka: false
 Â   # è¡¨ç¤ºæ˜¯å¦ä»Eureka Serverè·å–æ³¨å†Œä¿¡æ¯ï¼Œé»˜è®¤ä¸ºtrueã€‚
 Â   # å› ä¸ºè¿™æ˜¯ä¸€ä¸ªå•ç‚¹çš„Eureka Serverï¼Œä¸éœ€è¦åŒæ­¥å…¶ä»–çš„Eureka ServerèŠ‚ç‚¹çš„æ•°æ®ï¼Œæ•…è€Œè®¾ä¸ºfalse
 Â   fetchRegistry: false
 Â   # è®¾ç½®ä¸Eureka Serveräº¤äº’çš„åœ°å€ï¼ŒæŸ¥è¯¢æœåŠ¡å’Œæ³¨å†ŒæœåŠ¡éƒ½éœ€è¦ä¾èµ–è¿™ä¸ªåœ°å€
 Â   serviceUrl:
 Â  Â   defaultZone: http://${eureka.instance.hostname}:${server.port}/eureka/</code></pre> 
<pre>â€‹</pre> 
<blockquote> 
 <p>å…¶ä»–æœåŠ¡æƒ³æ³¨å†Œåˆ°Eurekaä¸Šéœ€è¦æ·»åŠ ç”¨æˆ·åå’Œå¯†ç </p> 
</blockquote> 
<pre><code class="language-java">eureka:
  client:
 Â   service-url:
 Â  Â   defaultZone: http://ç”¨æˆ·å:å¯†ç @localhost:8761/eureka</code></pre> 
<p></p> 
<h4 id="4.4%20Eureka%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8">4.4 Eurekaçš„é«˜å¯ç”¨</h4> 
<blockquote> 
 <p>å¦‚æœç¨‹åºçš„æ­£åœ¨è¿è¡Œï¼Œçªç„¶Eurekaå®•æœºäº†ã€‚</p> 
 <ul><li> <p>å¦‚æœè°ƒç”¨æ–¹è®¿é—®è¿‡ä¸€æ¬¡è¢«è°ƒç”¨æ–¹äº†ï¼ŒEurekaçš„å®•æœºä¸ä¼šå½±å“åˆ°åŠŸèƒ½ã€‚</p> </li><li> <p>å¦‚æœè°ƒç”¨æ–¹æ²¡æœ‰è®¿é—®è¿‡è¢«è°ƒç”¨æ–¹ï¼ŒEurekaçš„å®•æœºå°±ä¼šé€ æˆå½“å‰åŠŸèƒ½ä¸å¯ç”¨ã€‚</p> </li></ul> 
</blockquote> 
<blockquote> 
 <p>æ­å»ºEurekaé«˜å¯ç”¨</p> 
</blockquote> 
<blockquote> 
 <p>å‡†å¤‡å¤šå°Eureka</p> 
 <p><a href="" rel="nofollow">é‡‡ç”¨äº†å¤åˆ¶çš„æ–¹å¼ï¼Œåˆ é™¤imlå’Œtargetæ–‡ä»¶ï¼Œå¹¶ä¸”ä¿®æ”¹pom.xmlä¸­çš„é¡¹ç›®åç§°ï¼Œå†ç»™çˆ¶å·¥ç¨‹æ·»åŠ ä¸€ä¸ªmodule</a></p> 
</blockquote> 
<p></p> 
<h5 id="4.4.1%20%E9%85%8D%E7%BD%AE%E4%BB%A5%E5%8F%8A%E4%BB%A3%E7%A0%81">4.4.1 é…ç½®ä»¥åŠä»£ç </h5> 
<blockquote> 
 <p>è®©æœåŠ¡æ³¨å†Œåˆ°å¤šå°Eureka, ä¸‹é¢æ˜¯æ›´æ”¹tingyi<code>_order</code> ä¸šåŠ¡å¾®æœåŠ¡é…ç½®:</p> 
</blockquote> 
<pre><code class="language-java">server:
  port: 9001
#æŒ‡å®šæœåŠ¡çš„åç§°
spring:
  application:
 Â   name: tingyi-order
# æŒ‡å®šEurekaæœåŠ¡åœ°å€
eureka:
  client:
 Â   service-url:
 Â  Â   defaultZone: http://root:root@EUREKA-SERVER1:8761/eureka,http://root:root@EUREKA-SERVER2:8762/eureka</code></pre> 
<blockquote> 
 <p>è®©æœåŠ¡æ³¨å†Œåˆ°å¤šå°Eureka, ä¸‹é¢æ˜¯æ›´æ”¹tingyi<code>_goods</code> ä¸šåŠ¡å¾®æœåŠ¡é…ç½®:</p> 
</blockquote> 
<pre><code class="language-java">server:
  port: 9002
#æŒ‡å®šæœåŠ¡çš„åç§°
spring:
  application:
 Â   name: tingyi-goods
# æŒ‡å®šEurekaæœåŠ¡åœ°å€
eureka:
  client:
 Â   service-url:
 Â  Â   defaultZone: http://root:root@EUREKA-SERVER1:8761/eureka,http://root:root@EUREKA-SERVER2:8762/eureka</code></pre> 
<p></p> 
<blockquote> 
 <p>è®©å¤šå°Eurekaä¹‹é—´ç›¸äº’é€šè®¯, æ›´æ”¹ tingyi<code>_eureka</code> å¾®æœåŠ¡é…ç½®</p> 
</blockquote> 
<pre><code class="language-java">server:
  port: 8761 Â  Â   # ç«¯å£å·
spring:
  application:
 Â   name: EUREKA-SERVER
  security:
 Â   user:
 Â  Â   name: root
 Â  Â   password: root
eureka:
  instance:
 Â   hostname: localhost Â  # localhost
  client:
 Â   # è¡¨ç¤ºæ˜¯å¦å°†è‡ªå·±æ³¨å†Œåˆ°Eureka Serverï¼Œé»˜è®¤ä¸ºtrue
 Â   registerWithEureka: true
 Â   # è¡¨ç¤ºæ˜¯å¦ä»Eureka Serverè·å–æ³¨å†Œä¿¡æ¯ï¼Œé»˜è®¤ä¸ºtrueã€‚
 Â   fetchRegistry: true
 Â   # è®¾ç½®ä¸Eureka Serveräº¤äº’çš„åœ°å€ï¼ŒæŸ¥è¯¢æœåŠ¡å’Œæ³¨å†ŒæœåŠ¡éƒ½éœ€è¦ä¾èµ–è¿™ä¸ªåœ°å€
 Â   serviceUrl:
 Â  Â   defaultZone: http://EUREKA-SERVER1:8761/eureka,http://EUREKA-SERVER2:8762/eureka/
  # Eurekaè‡ªæˆ‘ä¿æŠ¤æœºåˆ¶å…³é—­, å½“å¼€å¯è‡ªæˆ‘ä¿æŠ¤æœºåˆ¶å¼€å¯åï¼Œå®ä¾‹ä¸ä¼šåˆ é™¤ï¼Œ
  # å¯¼è‡´éƒ¨åˆ†è¯·æ±‚ä¼šè¿æ¥ä¸å­˜åœ¨çš„å®ä¾‹ï¼Œå®¢æˆ·ç«¯æ²¡æœ‰åšé‡è¯•æˆ–è€…ç†”æ–­çš„è¯ä¼šå‡ºå¤§é‡é—®é¢˜
  server:
 Â   enable-self-preservation: false</code></pre> 
<p>é…ç½®åŸŸåï¼ˆåªæ˜¯ç”¨æ¥æ¬ºéª—è‡ªå·±çš„ç”µè„‘ï¼‰</p> 
<p><img alt="" height="266" src="https://images2.imgbox.com/8d/e9/0KK7qOve_o.png" width="384"></p> 
<p>â€‹</p> 
<p><img alt="" height="137" src="https://images2.imgbox.com/ad/a3/bTEzr1C6_o.png" width="397"></p> 
<h5 id="4.4.2%20%E6%B5%8B%E8%AF%95">4.4.2 æµ‹è¯•</h5> 
<p><strong>æ¼”ç¤ºEurekaé›†ç¾¤</strong></p> 
<ul><li> <p>å…ˆå°† å¤šä¸ªtingyi<code>_eureka</code> å¾®æœåŠ¡å¯åŠ¨</p> </li><li> <p>ç™»å½•åï¼Œå¯ä»¥åœ¨ä»»æ„ç®¡ç†é¡µçœ‹åˆ°é›†ç¾¤ä¿¡æ¯</p> </li></ul> 
<p><img alt="" height="166" src="https://images2.imgbox.com/12/95/mTybxIyP_o.png" width="620"></p> 
<p>â€‹</p> 
<h5 id="4.4.3%20Eureka%E7%9A%84%E7%BB%86%E8%8A%82">4.4.3 Eurekaçš„ç»†èŠ‚</h5> 
<blockquote> 
 <p>EurekaClientå¯åŠ¨æ—¶ï¼Œå°†è‡ªå·±çš„ä¿¡æ¯æ³¨å†Œåˆ°EurekaServerä¸Šï¼ŒEurekaSeverå°±ä¼šå­˜å‚¨ä¸ŠEurekaClientçš„æ³¨å†Œä¿¡æ¯ã€‚</p> 
</blockquote> 
<blockquote> 
 <p>å½“EurekaClientè°ƒç”¨æœåŠ¡æ—¶ï¼Œæœ¬åœ°æ²¡æœ‰æ³¨å†Œä¿¡æ¯çš„ç¼“å­˜æ—¶ï¼Œå»EurekaServerä¸­å»è·å–æ³¨å†Œä¿¡æ¯ã€‚</p> 
</blockquote> 
<blockquote> 
 <p>EurekaClientä¼šé€šè¿‡å¿ƒè·³çš„æ–¹å¼å»å’ŒEurekaServerè¿›è¡Œè¿æ¥ã€‚ï¼ˆ<strong>é»˜è®¤30sEurekaClientä¼šå‘é€ä¸€æ¬¡å¿ƒè·³è¯·æ±‚ï¼Œå¦‚æœè¶…è¿‡äº†90sè¿˜æ²¡æœ‰å‘é€å¿ƒè·³ä¿¡æ¯çš„è¯ï¼ŒEurekaServerå°±è®¤ä¸ºä½ å®•æœºäº†ï¼Œå°†å½“å‰EurekaClientä»æ³¨å†Œè¡¨ä¸­ç§»é™¤</strong>ï¼‰</p> 
</blockquote> 
<pre><code class="language-java">eureka:
  instance:
 Â   lease-renewal-interval-in-seconds: 30 Â  Â  Â #å¿ƒè·³çš„é—´éš”
 Â   lease-expiration-duration-in-seconds: 90 Â  Â # å¤šä¹…æ²¡å‘é€ï¼Œå°±è®¤ä¸ºä½ å®•æœºäº†</code></pre> 
<blockquote> 
 <p>EurekaClientä¼šæ¯éš”30så»EurekaServerä¸­å»æ›´æ–°æœ¬åœ°çš„æ³¨å†Œè¡¨</p> 
</blockquote> 
<pre><code class="language-java">eureka:
  client:
 Â   registry-fetch-interval-seconds: 30 # æ¯éš”å¤šä¹…å»æ›´æ–°ä¸€ä¸‹æœ¬åœ°çš„æ³¨å†Œè¡¨ç¼“å­˜ä¿¡æ¯</code></pre> 
<blockquote> 
 <p>Eurekaçš„è‡ªæˆ‘ä¿æŠ¤æœºåˆ¶ï¼Œç»Ÿè®¡15åˆ†é’Ÿå†…ï¼Œå¦‚æœä¸€ä¸ªæœåŠ¡çš„å¿ƒè·³å‘é€æ¯”ä¾‹ä½äº85%ï¼ŒEurekaServerå°±ä¼šå¼€å¯è‡ªæˆ‘ä¿æŠ¤æœºåˆ¶</p> 
 <ul><li> <p>ä¸ä¼šä»EurekaServerä¸­å»ç§»é™¤é•¿æ—¶é—´æ²¡æœ‰æ”¶åˆ°å¿ƒè·³çš„æœåŠ¡ã€‚</p> </li><li> <p>EurekaServerè¿˜æ˜¯å¯ä»¥æ­£å¸¸æä¾›æœåŠ¡çš„ã€‚</p> </li><li> <p>ç½‘ç»œæ¯”è¾ƒç¨³å®šæ—¶ï¼ŒEurekaServeræ‰ä¼šå¼€å§‹å°†è‡ªå·±çš„ä¿¡æ¯è¢«å…¶ä»–èŠ‚ç‚¹åŒæ­¥è¿‡å»</p> </li></ul> 
</blockquote> 
<pre><code class="language-java">eureka:
  server:
 Â   enable-self-preservation: true  # å¼€å¯è‡ªæˆ‘ä¿æŠ¤æœºåˆ¶, å»ºè®®å¼€å‘é˜¶æ®µè®¾ç½®ä¸ºfalse, ä¸ç„¶æœåŠ¡åœäº†, eurekaä¸­çš„ä¿¡æ¯è¿˜åœ¨.</code></pre> 
<p></p> 
<blockquote> 
 <p>Â ğŸŒŸæ„Ÿè°¢æ”¯æŒÂ <a href="https://blog.csdn.net/weixin_64296810?type=blog" title="å¬å¿†.-CSDNåšå®¢">å¬å¿†.-CSDNåšå®¢</a></p> 
</blockquote> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/ef/7b/ua76ePod_o.jpg"></p> 
<p></p> 
<table align="center" border="1" cellpadding="1" cellspacing="1" style="width:690px;"><tbody><tr><td style="text-align:center;"><em><strong><span style="color:#ff9900;">ğŸˆä¼—å£éš¾è°ƒğŸˆä»å¿ƒå°±å¥½</span></strong></em></td></tr></tbody></table> 
<p></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/769018fbed34a7e14fb6b49283dc3a7b/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">ç”Ÿæˆä¸€ä¸ªå®Œæ•´çš„è´­ç‰©å•†åŸä»£ç è·¨è¶Šå¤šç§ç¼–ç¨‹è¯­è¨€ä¼šéå¸¸å¤æ‚ï¼Œå› ä¸ºæ¯ä¸ªéƒ¨åˆ†ï¼ˆå‰ç«¯ã€åç«¯ã€æ•°æ®åº“ï¼‰é€šå¸¸ä¼šä½¿ç”¨æœ€é€‚åˆè¯¥ä»»åŠ¡çš„ç‰¹å®šè¯­è¨€æˆ–æ¡†æ¶ã€‚ä¸è¿‡ï¼Œæˆ‘å¯ä»¥ä¸ºä½ æä¾›ä¸€ä¸ªç®€åŒ–çš„æ¦‚è¿°ï¼Œä»¥åŠæ¯ä¸ªéƒ¨åˆ†å¯èƒ½ä½¿ç”¨çš„ç¤ºä¾‹ä»£ç ç‰‡æ®µã€‚</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/33714953dfd3260879921a412e78508d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">æ”»é˜²ä¸–ç•Œ string</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ç¼–ç¨‹å¤§å’–.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>