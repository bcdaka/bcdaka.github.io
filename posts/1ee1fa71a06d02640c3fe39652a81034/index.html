<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Redis的安装与启动 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/1ee1fa71a06d02640c3fe39652a81034/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="Redis的安装与启动">
  <meta property="og:description" content="一、Linux环境安装&amp;启动Redis 1. 安装步骤 第一步：在官网下载好Redis安装包，上传到Linux中并进行解压到相应（如/opt/software/）目录中；（注意：完成了第二步后，即安装了C/C&#43;&#43;语言编译器后，再进行解压，否则执行make编译命令时会报错有个目录没有！）
第二步：执行如下命令，安装C/C&#43;&#43;语言编译器；（官网下载的Redis安装包是需要编译后才可以安装的，而Redis是用C/C&#43;&#43;语言编写的，CentOS7是没有安装这两款编译器的，所以需要先安装这两款编译器）
yum -y install gcc gcc-c&#43;&#43; 执行以上命令时，报错找不到镜像。以下为解决方案： （1）首先，根据百度AI给出的上面图片中的方法执行后，再执行上面安装编译器的命令还是报错，报错信息为：Cannot find a valid baseurl for repo: base/7/x86_64 ；
（2）然后，根据下面两篇文章的内容，又执行命令 ping 114.114.114.114 能ping通，说明电脑可以上网；再执行 nslookup www.baidu.com（或 ping www.baidu.com）发现无法解析或连接，说明是DNS配置的问题。
（3）针对DNS配置问题的解决步骤依次为：
进入目录 cd /etc/sysconfig/network-scripts/打开该目录下的文件并编辑 vi ifcfg-ens33新加一行，如下图： 重启网络：systemctl restart network.service再次执行 ping www.baidu.com时，发现OK了。 最后再安装编译器就没问题了。
参考文章：
centos7 yum安装使用时提示 cannot find a valid baseurl for repo:base/7/x86_64 的解决方法（亲测有效☆）_cannot find a valid baseurl for repo: base/7/x86_6-CSDN博客
Linux 用yum安装软件提示 cannot find a valid baseurl for repo:base/7/x86_64 的解决方法_cannot find a valid baseurl for repo: base/7/x86_6-CSDN博客">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-03-23T16:10:41+08:00">
    <meta property="article:modified_time" content="2024-03-23T16:10:41+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Redis的安装与启动</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>一、Linux环境安装&amp;启动Redis</h2> 
<h3>1. 安装步骤 </h3> 
<p><strong>第一步：</strong>在官网下载好Redis安装包，上传到Linux中并进行解压到相应（如/opt/software/）目录中；<span style="color:#fe2c24;">（注意：完成了第二步后，即安装了C/C++语言编译器后，再进行解压，否则执行make编译命令时会报错有个目录没有！）</span></p> 
<p><strong>第二步：</strong>执行如下命令，安装C/C++语言编译器；（官网下载的Redis安装包是需要编译后才可以安装的，而Redis是用C/C++语言编写的，CentOS7是没有安装这两款编译器的，所以需要先安装这两款编译器）</p> 
<pre><code class="language-bash">yum -y install gcc gcc-c++</code></pre> 
<p>执行以上命令时，报错找不到镜像。以下为解决方案： </p> 
<blockquote> 
 <p><img alt="" height="374" src="https://images2.imgbox.com/b3/4c/6CVOVk55_o.png" width="816"></p> 
 <p>（1）首先，根据百度AI给出的上面图片中的方法执行后，再执行上面安装编译器的命令还是报错，报错信息为：Cannot find a valid baseurl for repo: base/7/x86_64 ；</p> 
 <p>（2）然后，根据下面两篇文章的内容，又执行命令 <span style="color:#fe2c24;"><strong>ping 114.114.114.114</strong></span> 能ping通，说明电脑可以上网；再执行 <span style="color:#fe2c24;"><strong><code>nslookup www.baidu.com</code></strong></span>（或 <code>ping www.baidu.com</code>）发现无法解析或连接，<strong>说明是DNS配置的问题</strong>。</p> 
 <p>（3）针对DNS配置问题的解决步骤依次为：</p> 
 <ul><li>进入目录 cd /etc/sysconfig/network-scripts/</li><li>打开该目录下的文件并编辑 <code>vi ifcfg-ens33</code></li><li>新加一行，如下图：</li></ul> 
 <p>        <img alt="" height="540" src="https://images2.imgbox.com/3e/47/uyHspnNc_o.png" width="604"></p> 
 <ul><li>重启网络：systemctl restart network.service</li><li>再次执行 <code>ping www.baidu.com</code>时，发现OK了。</li></ul> 
 <p>最后再安装编译器就没问题了。</p> 
 <p></p> 
 <p>参考文章：</p> 
 <p><a href="https://blog.csdn.net/S1901/article/details/119878929?spm=1001.2101.3001.6661.1&amp;utm_medium=distribute.pc_relevant_t0.none-task-blog-2~default~BlogCommendFromBaidu~Rate-1-119878929-blog-131187585.235%5Ev43%5Epc_blog_bottom_relevance_base9&amp;depth_1-utm_source=distribute.pc_relevant_t0.none-task-blog-2~default~BlogCommendFromBaidu~Rate-1-119878929-blog-131187585.235%5Ev43%5Epc_blog_bottom_relevance_base9&amp;utm_relevant_index=1" title="centos7 yum安装使用时提示 cannot find a valid baseurl for repo:base/7/x86_64 的解决方法（亲测有效☆）_cannot find a valid baseurl for repo: base/7/x86_6-CSDN博客">centos7 yum安装使用时提示 cannot find a valid baseurl for repo:base/7/x86_64 的解决方法（亲测有效☆）_cannot find a valid baseurl for repo: base/7/x86_6-CSDN博客</a><br><br><br><a href="https://blog.csdn.net/y2020520/article/details/131187585" title="Linux 用yum安装软件提示 cannot find a valid baseurl for repo:base/7/x86_64 的解决方法_cannot find a valid baseurl for repo: base/7/x86_6-CSDN博客">Linux 用yum安装软件提示 cannot find a valid baseurl for repo:base/7/x86_64 的解决方法_cannot find a valid baseurl for repo: base/7/x86_6-CSDN博客</a><br>  </p> 
</blockquote> 
<p>安装好编译期之后，执行下面命令就可以查看到gcc的版本了。</p> 
<pre><code class="language-bash">gcc -v</code></pre> 
<p><strong>第三步：</strong>进入已解压的Redis根目录下，执行make命令进行编译，当看到下图时表示编译成功；</p> 
<p>    <img alt="" height="232" src="https://images2.imgbox.com/71/86/I5mA2UZ9_o.png" width="596"></p> 
<p><strong>第四步：</strong>还是在根目录下，执行make install命令进行安装，看到如下图片表示安装成功。</p> 
<p>    <img alt="" height="355" src="https://images2.imgbox.com/3f/23/AAe4ebKK_o.png" width="668"></p> 
<blockquote> 
 <p><span style="color:#fe2c24;">Redis的默认安装目录是<strong>/usr/local/bin</strong></span>，如下图。</p> 
</blockquote> 
<p><img alt="" height="286" src="https://images2.imgbox.com/3a/4e/uGOlnARe_o.png" width="995"></p> 
<p>通过执行echo $PATH 可以看到，/usr/local/bin目录是存在于该系统变量中的，这样这些命令就可以在任意目录中执行了。</p> 
<p><img alt="" height="123" src="https://images2.imgbox.com/e4/0d/aMGDB51f_o.png" width="1200"></p> 
<p>另外，以下的图片“安装常见问题”来源于马士兵李瑾老师：</p> 
<p><img alt="" height="309" src="https://images2.imgbox.com/bb/3e/wjnxQtRx_o.png" width="1024"></p> 
<h3>2. 启动</h3> 
<p>Redis有三种方法启动Redis:默认配置、带参数启动、配置文件启动。</p> 
<h4>1）默认配置启动</h4> 
<p>前台启动命令：.bin/redis-server</p> 
<p>后台启动命令：nohup redis-server &amp;</p> 
<h4>2）带参数启动</h4> 
<p>redis-server加上要修改配置名和值(可以是多对)，没有设置的配置将使用默认配置，例如：如果要用6380作为端口启动Redis，那么可以执行：./redis-server --port 6380</p> 
<h4>3）配置文件启动（推荐）</h4> 
<p>生产环境用的这种。通常可以复制一下配置文件redis.conf，然后在这个文件中修改自己的配置。</p> 
<pre><code class="language-bash"># myredis-conf这个文件夹是新建的
[root@centos105 redis6]# cp redis.conf myredis-conf/</code></pre> 
<p><strong>查看Redis进程是否启动的命令： </strong></p> 
<p><img alt="" height="138" src="https://images2.imgbox.com/4c/f1/AL3xUZBe_o.png" width="937"></p> 
<h4 style="background-color:transparent;"><strong>4）配置文件属性解读&amp;修改</strong></h4> 
<pre><code class="language-bash"># daemonize属性值由no改为yes，使Redis进程以守护进程方式运行
daemonize no

# 指定 Redis 监听端口，默认端口为 6379
port 6379

# 下面这行代码注释掉，protected-mode属性改为no，其他主机也能够访问了；或者设置为bind *
# bind 127.0.0.1 -::1
bind *

# protected-mode默认是yes保护模式
protected-mode no

# 通过requirepass这个属性可以设置访问Redis的密码，默认不需要密码
# requirepass foobared

# 当客户端闲置多长时间后关闭连接（单位：秒），如果指定为0表示永远不超时
timeout 0

# 配置日志的级别。共4个级别，由低到高依次为：debug/verbose/notice/warning
loglevel notice

# 设置数据库的数量，默认是使用0号数据库
databases 16

# 设置Redis可并发处理的客户端连接数量，默认是1万
# maxclients 10000

# 设置内存使用的最大字节数。当达到内存限制时，将根据maxmemory-policy删除符合条件的key
# maxmemory &lt;bytes&gt;

# 移除内存的策略，共8种策略。noeviction表示不移除任何内容，只是在写操作时返回一个错误
# maxmemory-policy noeviction</code></pre> 
<p>将myredis-conf/redis.conf配置文件做以下修改后，<strong>使用配置文件启动：</strong> </p> 
<blockquote> 
 <p>daemonize no<br> # bind 127.0.0.1 -::1<br> protected-mode no</p> 
</blockquote> 
<pre><code class="language-bash">[root@centos105 redis6]# redis-server myredis-conf/redis.conf</code></pre> 
<blockquote> 
 <p><strong>扩展：Redis key的8种移除策略 </strong></p> 
 <ul><li>volatile-lru -&gt; Evict using approximated LRU, only keys with an expire set.（使用近似LRU算法移除key，仅用于设置了过期时间的key）</li><li>allkeys-lru -&gt; Evict any key using approximated LRU.（使用近似LRU算法移除key，适用于所有类型的key）</li><li>volatile-lfu -&gt; Evict using approximated LFU, only keys with an expire set.</li><li>allkeys-lfu -&gt; Evict any key using approximated LFU.</li><li>volatile-random -&gt; Remove a random key having an expire set.（移除任意设置了过期时间的key）</li><li>allkeys-random -&gt; Remove a random key, any key.（随机移除一个key）</li><li>volatile-ttl -&gt; Remove the key with the nearest expire time (minor TTL)</li><li>noeviction -&gt; Don't evict anything, just return an error on write operations.</li></ul> 
 <p>LRU：Least Recently Used（最近最少使用）<br> LFU：Least Frequently Used（最不常用）</p> 
</blockquote> 
<h3>3. 停止</h3> 
<p>使用如下命令进行停止：</p> 
<pre><code class="language-bash">redis-cli -p 6379 shutdown</code></pre> 
<p></p> 
<h2>二、Redis客户端的使用</h2> 
<p>Redis客户端也像MySQL客户端一样有多种分类：命令行客户端（redis-cli），图形界面客户端，Java代码客户端。下面介绍Java代码客户端和图形界面客户端。</p> 
<h3>2.1 Java代码客户端</h3> 
<p>其实就是一套操作Redis的API，其作用就像JDBC一样，所以Java代码客户端其实就是一个或多个jar包，提供了对Redis的操作接口。对Redis操作的API很多，如jdbc-redis、jredis等，但最常用的也是最有名的是Jedis。</p> 
<h3>2.2 图形界面客户端</h3> 
<h4>（1）Redis Desktop Manager</h4> 
<p>该软件原来免费，从0.8.8版本后变为收费的。官网：https://resp.app/ </p> 
<p>原来的官网是 http://redisdesktop.com</p> 
<h4>（2）RedisPlus</h4> 
<p>开源免费的。官网：https://gitee.com/MaxBill/RedisPlus  </p> 
<h4>（3）RedisInsight （推荐）</h4> 
<p>Redis有两个网站，开源免费的是 https://redis.io，企业收费的是  https://redis.com。去收费的官网下载RedisInsight </p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f341c7d01b96c2d00338b014b4aac72a/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【Python小技巧】通过实例说明推导式，条件表达式和Lambda函数</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/db6813365d90f6202a1c847254a712b8/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Flutter运行MacOs网络请求报错Unhandled Exception: DioException [connection error]:...</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>