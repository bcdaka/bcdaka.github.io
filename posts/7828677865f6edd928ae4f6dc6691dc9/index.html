<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>mysql 添加索引 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/7828677865f6edd928ae4f6dc6691dc9/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="mysql 添加索引">
  <meta property="og:description" content="一、数据库索引 1、索引（index）的概念 （1）是一个排序的数据结构，帮助mysql快速查询、更新数据库表中的数据
（2）无须对整个表进行扫描，通过物理地址就可以找到所需数据
（3）为了提高表的搜索效率而对某些字段的值建立的数据结构；并不是所有字段都需要创建索引
2、索引的作用 （1）优点
①当数据量很大或查询涉及多个表时，使用索引，可以大大地提高数据查询速度，降低数据库的IO成本；
②通过索引对数据进行排序，可以降低数据库的排序成本，降低CPU的消耗；
③通过创建唯一性索引保证数据表数据的唯一性；
④可以加快表与表之间的连接
（2）缺点
①增加了数据库的存储空间
②降低了表的更新速度，插入和修改数据时花费更多的时间
3、索引的分类 （1）从物理存储的角度来划分：
①聚簇索引：索引顺序按照数据的物理位置，检索多行数据速度更快
②非聚簇索引：索引顺序不是按照数据的物理位置，检索单行数据的速度更快
（2）从逻辑的角度来划分
普通索引、唯一索引、主键索引、组合索引和全文索引
4、索引的添加与使用 （1）添加索引：通过某一个字段或某些字段添加
（2）索引使用：索引创建完成后无需调用，当数据库进行数据查询的时候，会自动使用索引
二、索引的分类 1、普通索引（可以有多个，对应MUL） （1）最基本的索引类型，不要求索引列的值唯一性
（2）创建普通索引的方式
直接创建 create index 索引名称 on 表名(字段名称(字段长度)); #字段长度可添加 修改表的方式创建 alter table 表名 add index 索引名称 (字段名称(字段长度)); 创建表时创建 create table 表名（字段1,字段2,字段3,primary key(字段名称),index 索引名称(字段名称(字段长度)); 示例
[root@localhost ~]# mysql -uroot -p #登录mysql mysql&gt; create database auth; #创建auth库 mysql&gt; use auth; #进入auth库 mysql&gt; create table auth.users(id int(10) not null, 创建users表，建立id字段，数据类型int，不为空 -&gt; name char(20) not null, -&gt; age varchar(10) default &#39;&#39;, -&gt; primary key(id)); mysql&gt; desc users; #查看表结构，存在3个字段 mysql&gt; insert into users values(&#39;1&#39;,&#39;zhangsan&#39;,&#39;20&#39;); mysql&gt; insert into users values(&#39;2&#39;,&#39;lisi&#39;,&#39;23&#39;); mysql&gt; insert into users values(&#39;3&#39;,&#39;wangwu&#39;,&#39;26&#39;); #字段下分别添加内容 mysql&gt; select * from users; #查看表中数据 直接创建方法 mysql&gt; create index index_age on auth.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-06-05T17:28:42+08:00">
    <meta property="article:modified_time" content="2024-06-05T17:28:42+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">mysql 添加索引</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h4><a id="_0"></a>一、数据库索引</h4> 
<h6><a id="1index_1"></a>1、索引（index）的概念</h6> 
<p>（1）是一个排序的数据结构，帮助mysql快速查询、更新数据库表中的数据<br> （2）无须对整个表进行扫描，通过物理地址就可以找到所需数据<br> （3）为了提高表的搜索效率而对某些字段的值建立的数据结构；并不是所有字段都需要创建索引</p> 
<h6><a id="2_5"></a>2、索引的作用</h6> 
<p>（1）优点<br> ①当数据量很大或查询涉及多个表时，使用索引，可以大大地提高数据查询速度，降低数据库的IO成本；<br> ②通过索引对数据进行排序，可以降低数据库的排序成本，降低CPU的消耗；<br> ③通过创建唯一性索引保证数据表数据的唯一性；<br> ④可以加快表与表之间的连接<br> （2）缺点<br> ①增加了数据库的存储空间<br> ②降低了表的更新速度，插入和修改数据时花费更多的时间</p> 
<h6><a id="3_14"></a>3、索引的分类</h6> 
<p>（1）从物理存储的角度来划分：<br> ①聚簇索引：索引顺序按照数据的物理位置，检索多行数据速度更快<br> ②非聚簇索引：索引顺序不是按照数据的物理位置，检索单行数据的速度更快<br> （2）从逻辑的角度来划分<br> 普通索引、唯一索引、主键索引、组合索引和全文索引</p> 
<h6><a id="4_20"></a>4、索引的添加与使用</h6> 
<p>（1）添加索引：通过某一个字段或某些字段添加<br> （2）索引使用：索引创建完成后无需调用，当数据库进行数据查询的时候，会自动使用索引</p> 
<h4><a id="_23"></a>二、索引的分类</h4> 
<h6><a id="1MUL_24"></a>1、普通索引（可以有多个，对应MUL）</h6> 
<p>（1）最基本的索引类型，不要求索引列的值唯一性<br> （2）创建普通索引的方式</p> 
<pre><code class="prism language-powershell">直接创建
create index 索引名称 on 表名<span class="token punctuation">(</span>字段名称<span class="token punctuation">(</span>字段长度<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">#字段长度可添加</span>
修改表的方式创建
alter table 表名 add index 索引名称 <span class="token punctuation">(</span>字段名称<span class="token punctuation">(</span>字段长度<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
创建表时创建
create table 表名（字段1<span class="token punctuation">,</span>字段2<span class="token punctuation">,</span>字段3<span class="token punctuation">,</span>primary key<span class="token punctuation">(</span>字段名称<span class="token punctuation">)</span><span class="token punctuation">,</span>index 索引名称<span class="token punctuation">(</span>字段名称<span class="token punctuation">(</span>字段长度<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>示例</p> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@localhost ~]</span><span class="token comment"># mysql -uroot -p  #登录mysql</span>
mysql&gt; create database auth<span class="token punctuation">;</span>  <span class="token comment">#创建auth库</span>
mysql&gt; use auth<span class="token punctuation">;</span>  <span class="token comment">#进入auth库</span>
mysql&gt; create table auth<span class="token punctuation">.</span>users<span class="token punctuation">(</span>id int<span class="token punctuation">(</span>10<span class="token punctuation">)</span> not null<span class="token punctuation">,</span>  创建users表，建立id字段，数据类型int，不为空
    <span class="token operator">-</span>&gt; name char<span class="token punctuation">(</span>20<span class="token punctuation">)</span> not null<span class="token punctuation">,</span>  
    <span class="token operator">-</span>&gt; age varchar<span class="token punctuation">(</span>10<span class="token punctuation">)</span> default <span class="token string">''</span><span class="token punctuation">,</span>
    <span class="token operator">-</span>&gt; primary key<span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
mysql&gt; desc users<span class="token punctuation">;</span>  <span class="token comment">#查看表结构，存在3个字段</span>
mysql&gt; insert into users values<span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">,</span><span class="token string">'zhangsan'</span><span class="token punctuation">,</span><span class="token string">'20'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
mysql&gt; insert into users values<span class="token punctuation">(</span><span class="token string">'2'</span><span class="token punctuation">,</span><span class="token string">'lisi'</span><span class="token punctuation">,</span><span class="token string">'23'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
mysql&gt; insert into users values<span class="token punctuation">(</span><span class="token string">'3'</span><span class="token punctuation">,</span><span class="token string">'wangwu'</span><span class="token punctuation">,</span><span class="token string">'26'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">#字段下分别添加内容</span>
mysql&gt; <span class="token function">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> users<span class="token punctuation">;</span>  <span class="token comment">#查看表中数据</span>
直接创建方法
mysql&gt; create index index_age on auth<span class="token punctuation">.</span>users<span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">#在age上创建索引在users表的age字段，index_age：索引名称</span>
修改表的方式创建
mysql&gt; alter table users add index index_name<span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">#在users表里的name字段创建索引，索引名称为index_name</span>
mysql&gt; desc users<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token punctuation">|</span> Field <span class="token punctuation">|</span> <span class="token function">Type</span>        <span class="token punctuation">|</span> Null <span class="token punctuation">|</span> Key <span class="token punctuation">|</span> Default <span class="token punctuation">|</span> Extra <span class="token punctuation">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token punctuation">|</span> id    <span class="token punctuation">|</span> int<span class="token punctuation">(</span>10<span class="token punctuation">)</span>     <span class="token punctuation">|</span> NO   <span class="token punctuation">|</span> PRI <span class="token punctuation">|</span> NULL    <span class="token punctuation">|</span>       <span class="token punctuation">|</span>  <span class="token comment">#主键索引对应PRL</span>
<span class="token punctuation">|</span> name  <span class="token punctuation">|</span> char<span class="token punctuation">(</span>20<span class="token punctuation">)</span>    <span class="token punctuation">|</span> NO   <span class="token punctuation">|</span> MUL <span class="token punctuation">|</span> NULL    <span class="token punctuation">|</span>       <span class="token punctuation">|</span>  <span class="token comment">#普通索引对应MUL</span>
<span class="token punctuation">|</span> age   <span class="token punctuation">|</span> varchar<span class="token punctuation">(</span>10<span class="token punctuation">)</span> <span class="token punctuation">|</span> YES  <span class="token punctuation">|</span> MUL <span class="token punctuation">|</span>         <span class="token punctuation">|</span>       <span class="token punctuation">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
mysql&gt; show index <span class="token keyword">from</span> users<span class="token punctuation">;</span> 
或者mysql&gt; show keys <span class="token keyword">from</span> users<span class="token punctuation">;</span> <span class="token comment">#查看users表的索引</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token punctuation">|</span> Table <span class="token punctuation">|</span> Non_unique <span class="token punctuation">|</span> Key_name   <span class="token punctuation">|</span> Seq_in_index <span class="token punctuation">|</span> Column_name <span class="token punctuation">|</span> Collation <span class="token punctuation">|</span> Cardinality <span class="token punctuation">|</span> Sub_part <span class="token punctuation">|</span> Packed <span class="token punctuation">|</span> Null <span class="token punctuation">|</span> Index_type <span class="token punctuation">|</span> Comment <span class="token punctuation">|</span> Index_comment <span class="token punctuation">|</span>
<span class="token operator">+</span><span class="token operator">-</span>表名<span class="token operator">--</span><span class="token operator">+</span>索引值得唯一性<span class="token operator">+</span><span class="token operator">--</span>索引名称<span class="token operator">--</span><span class="token operator">+</span><span class="token operator">-</span>索引列的序列号<span class="token operator">-</span><span class="token operator">+</span><span class="token operator">-</span>对应的字段 <span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span>索引的类型<span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token punctuation">|</span> users <span class="token punctuation">|</span>  唯一    0 <span class="token punctuation">|</span> PRIMARY    <span class="token punctuation">|</span>            1 <span class="token punctuation">|</span> id          <span class="token punctuation">|</span> A         <span class="token punctuation">|</span>           2 <span class="token punctuation">|</span>     NULL <span class="token punctuation">|</span> NULL   <span class="token punctuation">|</span>      <span class="token punctuation">|</span> BTREE      <span class="token punctuation">|</span>         <span class="token punctuation">|</span>               <span class="token punctuation">|</span>
<span class="token punctuation">|</span> users <span class="token punctuation">|</span>不是唯一  1 <span class="token punctuation">|</span> index_age  <span class="token punctuation">|</span>            1 <span class="token punctuation">|</span> age         <span class="token punctuation">|</span> A         <span class="token punctuation">|</span>           3 <span class="token punctuation">|</span>     NULL <span class="token punctuation">|</span> NULL   <span class="token punctuation">|</span> YES  <span class="token punctuation">|</span> BTREE      <span class="token punctuation">|</span>         <span class="token punctuation">|</span>               <span class="token punctuation">|</span>
<span class="token punctuation">|</span> users <span class="token punctuation">|</span>          1 <span class="token punctuation">|</span> index_name <span class="token punctuation">|</span>            1 <span class="token punctuation">|</span> name        <span class="token punctuation">|</span> A         <span class="token punctuation">|</span>           3 <span class="token punctuation">|</span>     NULL <span class="token punctuation">|</span> NULL   <span class="token punctuation">|</span>      <span class="token punctuation">|</span> BTREE      <span class="token punctuation">|</span>         <span class="token punctuation">|</span>               <span class="token punctuation">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
</code></pre> 
<h6><a id="2UNIQUE_75"></a>2、唯一索引（可以有多个，对应UNIQUE）</h6> 
<p>（1）与普通索引的区别是索引列的所有值必须唯一，但可以有空值；<br> （2）创建唯一索引的方式<br> create unique index 索引名称 on 表名(字段名称(字段长度)); #unique：默认字段<br> alter table 表名 add unique 索引名称 (字段名称(字段长度));<br> 示例</p> 
<pre><code class="prism language-powershell">mysql&gt; create table auth<span class="token punctuation">.</span>kc31<span class="token punctuation">(</span>id int<span class="token punctuation">(</span>10<span class="token punctuation">)</span> not null<span class="token punctuation">,</span>  <span class="token comment">#创建kc31表，存在3个字段</span>
    <span class="token operator">-</span>&gt; name char<span class="token punctuation">(</span>20<span class="token punctuation">)</span> not null<span class="token punctuation">,</span>
    <span class="token operator">-</span>&gt; address varchar<span class="token punctuation">(</span>30<span class="token punctuation">)</span> default <span class="token string">''</span><span class="token punctuation">,</span>
    <span class="token operator">-</span>&gt; unique index index_address<span class="token punctuation">(</span>address<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">#unique：唯一性索引</span>
mysql&gt; use auth<span class="token punctuation">;</span>
mysql&gt; desc kc31<span class="token punctuation">;</span>  <span class="token comment">#查看kc31表结构</span>
<span class="token punctuation">|</span> address <span class="token punctuation">|</span> varchar<span class="token punctuation">(</span>30<span class="token punctuation">)</span> <span class="token punctuation">|</span> YES  <span class="token punctuation">|</span> UNI <span class="token punctuation">|</span>         <span class="token punctuation">|</span>       <span class="token punctuation">|</span>  <span class="token comment">#address的UNI：唯一性索引</span>
mysql&gt; show keys <span class="token keyword">from</span> kc31<span class="token punctuation">;</span>  <span class="token comment">#查看Non_unique为0：代表唯一索引</span>
mysql&gt; insert into kc31 values<span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">,</span><span class="token string">'aaa'</span><span class="token punctuation">,</span><span class="token string">'zhoukou'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">#插入数据</span>
mysql&gt; insert into kc31 values<span class="token punctuation">(</span><span class="token string">'2'</span><span class="token punctuation">,</span><span class="token string">'bbb'</span><span class="token punctuation">,</span><span class="token string">'zhoukou'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">#验证address字段的唯一性</span>
ERROR 1062 <span class="token punctuation">(</span>23000<span class="token punctuation">)</span>: Duplicate entry <span class="token string">'zhoukou'</span> <span class="token keyword">for</span> key <span class="token string">'index_address'</span>  <span class="token comment">#address字段zhoukou的关键字具有唯一性，所以不能创建</span>
mysql&gt; insert into kc31 values<span class="token punctuation">(</span><span class="token string">'2'</span><span class="token punctuation">,</span><span class="token string">'bbb'</span><span class="token punctuation">,</span><span class="token string">'luoyang'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">#将zhoukou改为luoyang可以创建成功</span>
mysql&gt; insert into kc31 values<span class="token punctuation">(</span><span class="token string">'3'</span><span class="token punctuation">,</span><span class="token string">'bbb'</span><span class="token punctuation">,</span><span class="token string">'luohe'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">#name字段不具有唯一性，可以创建</span>
mysql&gt; <span class="token function">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> kc31<span class="token punctuation">;</span>  
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token punctuation">|</span> id <span class="token punctuation">|</span> name <span class="token punctuation">|</span> address <span class="token punctuation">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token punctuation">|</span>  1 <span class="token punctuation">|</span> aaa  <span class="token punctuation">|</span> zhoukou <span class="token punctuation">|</span>
<span class="token punctuation">|</span>  2 <span class="token punctuation">|</span> bbb  <span class="token punctuation">|</span> luoyang <span class="token punctuation">|</span>
<span class="token punctuation">|</span>  3 <span class="token punctuation">|</span> bbb  <span class="token punctuation">|</span> luohe   <span class="token punctuation">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>  <span class="token comment">#第二字段可以有重复，第三字段因为有唯一性不能重复</span>
</code></pre> 
<h6><a id="3PRIMARY_106"></a>3、主键索引（只能有一个，关键字PRIMARY）</h6> 
<p>（1）是一种也输的唯一索引，指定为“PRIMARY KEY”<br> （2）一个表只能有一个主键，不允许有空值<br> （3）创建主键索引的方式<br> 修改表的创建<br> alter table 表名 add primary key(字段名称(字段长度));<br> 直接指定主键<br> create table 表名(字段1,字段2,primary key(指定字段名称));<br> 示例</p> 
<pre><code class="prism language-powershell">mysql&gt; create table auth<span class="token punctuation">.</span>test<span class="token punctuation">(</span>id int<span class="token punctuation">(</span>10<span class="token punctuation">)</span> not null<span class="token punctuation">,</span>  <span class="token comment">#创建test表</span>
    <span class="token operator">-</span>&gt; <span class="token keyword">class</span> char<span class="token punctuation">(</span>20<span class="token punctuation">)</span> not null<span class="token punctuation">,</span>
    <span class="token operator">-</span>&gt; primary key<span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">#直接指定主键为id字段</span>
mysql&gt; desc test<span class="token punctuation">;</span>
<span class="token punctuation">|</span> id    <span class="token punctuation">|</span> int<span class="token punctuation">(</span>10<span class="token punctuation">)</span>  <span class="token punctuation">|</span> NO   <span class="token punctuation">|</span> PRI <span class="token punctuation">|</span> NULL    <span class="token punctuation">|</span>       <span class="token punctuation">|</span>  <span class="token comment">#PRI主键索引</span>
mysql&gt; show index <span class="token keyword">from</span> test\G<span class="token punctuation">;</span>
<span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span> 1<span class="token punctuation">.</span> row <span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span>
        Table: test  <span class="token comment">#表名</span>
   Non_unique: 0  <span class="token comment">#索引唯一值</span>
     Key_name: PRIMARY  <span class="token comment">#索引名称，关键字；PRIMARY</span>
  Column_name: id  <span class="token comment">#id作为主键</span>
mysql&gt; alter table test drop primary key<span class="token punctuation">;</span>  <span class="token comment">#清空主键索引</span>
mysql&gt; show index <span class="token keyword">from</span> test  <span class="token comment">#主键索引为空值</span>
mysql&gt; alter table test add primary key<span class="token punctuation">(</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">#将test表的class添加为主键</span>
mysql&gt; show index <span class="token keyword">from</span> test  <span class="token comment">#再查询表结构，存在class主键</span>
</code></pre> 
<h6><a id="4_134"></a>4、主键索引和唯一索引的区别</h6> 
<p>（1）主键索引一定是唯一性索引，但唯一性索引不一定是主键索引<br> （2）一张表可以有多个唯一性索引，但只允许有提个主键索引<br> （3）主键列不能为空，但唯一索引可以为空<br> （4）主键索引是一种特殊的唯一性索引</p> 
<pre><code class="prism language-powershell">mysql&gt; alter table test add primary key<span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">#验证主键的唯一性</span>
ERROR 1068 <span class="token punctuation">(</span>42000<span class="token punctuation">)</span>: Multiple primary key defined  <span class="token comment">#多余的主键没有被定义，不能同时存在2个主键</span>
mysql&gt; alter table test add unique index_id<span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">#创建id字段唯一性索引，可以有多个唯一性索引</span>
mysql&gt; show keys <span class="token keyword">from</span> test\G<span class="token punctuation">;</span>  <span class="token comment">#查看test存在2个唯一性索引</span>
<span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span> 1<span class="token punctuation">.</span> row <span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span>
        Table: test
   Non_unique: 0
     Key_name: PRIMARY  <span class="token comment">#主键索引</span>
  Column_name: <span class="token keyword">class</span>
<span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span> 2<span class="token punctuation">.</span> row <span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span>
        Table: test
   Non_unique: 0
     Key_name: index_id  <span class="token comment">#唯一索引</span>
  Column_name: id
</code></pre> 
<h6><a id="5_157"></a>5、组合索引（单列索引与多列索引）</h6> 
<p>（1）当多条件查询的时候我们可以使用组合索引，查询效率会更高，因为当有多个单列索引时，MySQL只能用到其中那个它认为最有效率的单列索引<br> （2）支持最左原则，从左往右依次执行<br> （3）创建组合索引的方式<br> create table 表名(字段1,字段2,字段3,index 索引名称(字段1名称 字段2名称 字段3名称));<br> 示例</p> 
<pre><code class="prism language-powershell">mysql&gt; create table auth<span class="token punctuation">.</span>kgc<span class="token punctuation">(</span>name char<span class="token punctuation">(</span>10<span class="token punctuation">)</span> not null<span class="token punctuation">,</span>  <span class="token comment">#创建kgc表</span>
    <span class="token operator">-</span>&gt; passwd char<span class="token punctuation">(</span>50<span class="token punctuation">)</span> not null<span class="token punctuation">,</span>
    <span class="token operator">-</span>&gt; sex int<span class="token punctuation">(</span>10<span class="token punctuation">)</span> not null<span class="token punctuation">,</span>
    <span class="token operator">-</span>&gt; index index_kgc<span class="token punctuation">(</span>name<span class="token punctuation">,</span>passwd<span class="token punctuation">,</span>sex<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">#在name,passwd,sex创建组合索引</span>
mysql&gt; show index <span class="token keyword">from</span> kgc\G<span class="token punctuation">;</span>  <span class="token comment">#查看存在3个索引</span>
</code></pre> 
<h6><a id="6_170"></a>6、全文索引</h6> 
<p>（1）索引类型为FULLTEXT<br> （2）可以在char、varchar或者test类型的列上创建<br> create fulltext index 索引名称 on 表名(字段名称(字段长度));<br> alter table 表名 add fulltext index 索引名称(字段名称(字段长度));<br> create table 表名(字段1,字段2,字段3,fulltext index 索引名称(字段名称(字段长度));<br> 示例</p> 
<pre><code class="prism language-powershell">mysql&gt; create table auth<span class="token punctuation">.</span>content<span class="token punctuation">(</span>id int<span class="token punctuation">(</span>10<span class="token punctuation">)</span> not null<span class="token punctuation">,</span>
    <span class="token operator">-</span>&gt; title char<span class="token punctuation">(</span>255<span class="token punctuation">)</span> not null<span class="token punctuation">,</span>
    <span class="token operator">-</span>&gt; time int<span class="token punctuation">(</span>10<span class="token punctuation">)</span> null<span class="token punctuation">,</span>
    <span class="token operator">-</span>&gt; primary key<span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token operator">-</span>&gt; fulltext index_id<span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ERROR 1283 <span class="token punctuation">(</span>HY000<span class="token punctuation">)</span>: Column <span class="token string">'id'</span> cannot be part of FULLTEXT index  <span class="token comment">#id字段不是3种数据类型，不能在设置全文索引</span>
mysql&gt; create table auth<span class="token punctuation">.</span>content<span class="token punctuation">(</span>id int<span class="token punctuation">(</span>10<span class="token punctuation">)</span> not null<span class="token punctuation">,</span> title char<span class="token punctuation">(</span>255<span class="token punctuation">)</span> not null<span class="token punctuation">,</span> time int<span class="token punctuation">(</span>10<span class="token punctuation">)</span> null<span class="token punctuation">,</span> primary key<span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">,</span> fulltext index_id<span class="token punctuation">(</span>title<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">#替换为支持的数据类型即可</span>
mysql&gt; show index <span class="token keyword">from</span> content\G<span class="token punctuation">;</span>
<span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span> 2<span class="token punctuation">.</span> row <span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span>
   Index_type: FULLTEXT  <span class="token comment">#数据类型为全文索引</span>
</code></pre> 
<h6><a id="7_191"></a>7、创建索引的依据</h6> 
<p>（1）表的主键、外键都必须有索引<br> （2）记录数超过300行的表应该有索引<br> （3）经常与其他表进行连接的表，在连接字段上应该建立索引<br> （4）唯一性太差的字段不适合创建索引<br> （5）更新太频繁的字段不适合创建索引<br> （6）将常出现再where子句中的字段，特别是大表的字段，应该建立索引<br> （7）索引应该建立在选择性高的字段上<br> （8）索引应该建在小字段上，对于大的文本字段甚至超长字段，不要建索引</p> 
<h6><a id="8_200"></a>8、查看索引的方法</h6> 
<p>show index from 表名;<br> show keys from 表名;</p> 
<h6><a id="9_203"></a>9、删除索引的方法</h6> 
<p>drop index 索引名称 on 表名; #删除普通索引<br> alter table 表名 drop index 索引名称; #删除普通索引<br> alter table 表名 drop primary key; #删除主键索引<br> 示例</p> 
<pre><code class="prism language-powershell">mysql&gt; drop index index_id on content<span class="token punctuation">;</span>  <span class="token comment">#删除content表下的index_id索引</span>
mysql&gt; alter table content drop primary key<span class="token punctuation">;</span>  <span class="token comment">#删除ontent表下的主键索引</span>
mysql&gt; show index <span class="token keyword">from</span> content<span class="token punctuation">;</span>  
Empty <span class="token function">set</span> <span class="token punctuation">(</span>0<span class="token punctuation">.</span>00 sec<span class="token punctuation">)</span>  <span class="token comment">#索引已删除</span>
</code></pre> 
<h4><a id="MySQL_216"></a>三、MySQL事务</h4> 
<h6><a id="1_217"></a>1、事务的概念</h6> 
<p>（1）是一种机制、一个操作的组合，包含了一组数据库操作命令，并且把所有的命令作为一个整体一起向系统提交或撤销操作请求，即这一组数据库操作命令要么都执行，要么都不执行<br> （2）是一个不可分割的工作逻辑单元，在数据库系统上执行并发操作时，事务是最小的控制单元<br> （3）适用于多用户同时操作数据库系统的场景，如银行、保险公司及证券交易系统等待<br> （4）通过事务的整体性以保证数据的一致性</p> 
<h6><a id="2ACID_222"></a>2、事务的ACID特点</h6> 
<p>（1）原子性（Atomicity）<br> ①事务是一个完整的操作，事务的各元素是不可分割的<br> ②事务中的所有元素必须作为一个整体提交或回滚<br> ③如果事务中的任何元素失败，则整个事务将失败<br> （2）一致性（Consistency）<br> ①当事务完成时，数据必须处于一致状态<br> ②当事务开始前，数据库中存储的数据处于一致状态<br> ③在正在执行的事务中，数据可能处于不一致的状态<br> ④当事务成功完成时，数据必须再次回到已知的一致状态<br> （3）隔离性（Isolation）<br> ①对数据进行修改的所有并发事务是彼此隔离的，表名事务必须是独立的，它不应以任何方式依赖于或影响其他事务<br> ②修改数据的事务可在另一个使用相同数据的事务开始之前访问这些数据，或者在另一个使用相同数据的事务结束之后访问这些数据<br> （4）持久性（Durability）<br> ①值不管系统是否发生故障，事务处理的结果都是永久的<br> ②一旦事务被提交，事务的效果会被永久地保留在数据库中</p> 
<h6><a id="3_238"></a>3、事务控制语句</h6> 
<p>（1）MySQL事务默认是自动提交，当SQL语句提交时事务遍自动提交<br> （2）事务控制语句<br> ①begin：开启一个事务<br> ②rollback：回滚一个事务，回滚到 begen之前地状态<br> ③commit：提交一个事务<br> ④savepoint identifier：在事务中创建一个保存点，一个事务可以有多个savepoint<br> ⑤release savepoint identifier：删除一个事务的保存点（与保存的数据无影响）<br> ⑥rollback to identifier：回滚到一个事务的保存点<br> ⑦set transaction：用来设置事务的隔离级别</p> 
<h6><a id="4_248"></a>4、手动对事务进行控制的方法</h6> 
<p>（1）事务处理命令控制事务<br> ①begin：开始一个事务<br> ②commit：提交一个事务<br> ③rollback：回滚一个事务（位于begin和commit之间）<br> （2）使用set命令进行控制<br> ①set autocommit=0：禁止自动提交（手动提交事务）<br> ②set autocommit=1：开启自动提交</p> 
<h6><a id="5_256"></a>5、实验：手动控制事务</h6> 
<p>（1）验证手动控制事务不提交则不会保存</p> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@localhost ~]</span><span class="token comment"># mysql -uroot -p  #启动数据库</span>
mysql&gt; create database imployee_salary<span class="token punctuation">;</span>  <span class="token comment">#创建imployee_salary数据库</span>
mysql&gt; use imployee_salary<span class="token punctuation">;</span>  <span class="token comment">#进入imployee_salary数据库</span>
mysql&gt; create table IT_salary<span class="token punctuation">(</span>员工ID char<span class="token punctuation">(</span>10<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token operator">-</span>&gt; 岗位类别 char<span class="token punctuation">(</span>20<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token operator">-</span>&gt; 姓名 char<span class="token punctuation">(</span>10<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token operator">-</span>&gt; 年龄 char<span class="token punctuation">(</span>10<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token operator">-</span>&gt; 学历 char<span class="token punctuation">(</span>10<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token operator">-</span>&gt; 薪资 char<span class="token punctuation">(</span>10<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token operator">-</span>&gt; primary key<span class="token punctuation">(</span>员工ID<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
mysql&gt; desc it_salary<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token punctuation">|</span> Field        <span class="token punctuation">|</span> <span class="token function">Type</span>     <span class="token punctuation">|</span> Null <span class="token punctuation">|</span> Key <span class="token punctuation">|</span> Default <span class="token punctuation">|</span> Extra <span class="token punctuation">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token punctuation">|</span> 员工ID       <span class="token punctuation">|</span> char<span class="token punctuation">(</span>10<span class="token punctuation">)</span> <span class="token punctuation">|</span> NO   <span class="token punctuation">|</span> PRI <span class="token punctuation">|</span> NULL    <span class="token punctuation">|</span>       <span class="token punctuation">|</span>
<span class="token punctuation">|</span> 岗位类别     <span class="token punctuation">|</span> char<span class="token punctuation">(</span>20<span class="token punctuation">)</span> <span class="token punctuation">|</span> YES  <span class="token punctuation">|</span>     <span class="token punctuation">|</span> NULL    <span class="token punctuation">|</span>       <span class="token punctuation">|</span>
<span class="token punctuation">|</span> 姓名         <span class="token punctuation">|</span> char<span class="token punctuation">(</span>10<span class="token punctuation">)</span> <span class="token punctuation">|</span> YES  <span class="token punctuation">|</span>     <span class="token punctuation">|</span> NULL    <span class="token punctuation">|</span>       <span class="token punctuation">|</span>
<span class="token punctuation">|</span> 年龄         <span class="token punctuation">|</span> char<span class="token punctuation">(</span>10<span class="token punctuation">)</span> <span class="token punctuation">|</span> YES  <span class="token punctuation">|</span>     <span class="token punctuation">|</span> NULL    <span class="token punctuation">|</span>       <span class="token punctuation">|</span>
<span class="token punctuation">|</span> 学历         <span class="token punctuation">|</span> char<span class="token punctuation">(</span>10<span class="token punctuation">)</span> <span class="token punctuation">|</span> YES  <span class="token punctuation">|</span>     <span class="token punctuation">|</span> NULL    <span class="token punctuation">|</span>       <span class="token punctuation">|</span>
<span class="token punctuation">|</span> 薪资         <span class="token punctuation">|</span> char<span class="token punctuation">(</span>10<span class="token punctuation">)</span> <span class="token punctuation">|</span> YES  <span class="token punctuation">|</span>     <span class="token punctuation">|</span> NULL    <span class="token punctuation">|</span>       <span class="token punctuation">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
mysql&gt; <span class="token keyword">begin</span><span class="token punctuation">;</span>  <span class="token comment">#开启事务</span>
mysql&gt; insert into it_salary values<span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">,</span><span class="token string">'硬件工程师'</span><span class="token punctuation">,</span><span class="token string">'小王'</span><span class="token punctuation">,</span><span class="token string">'22'</span><span class="token punctuation">,</span><span class="token string">'专科'</span><span class="token punctuation">,</span><span class="token string">'8000'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
mysql&gt; insert into it_salary values<span class="token punctuation">(</span><span class="token string">'2'</span><span class="token punctuation">,</span><span class="token string">'windows工程师'</span><span class="token punctuation">,</span><span class="token string">'小张'</span><span class="token punctuation">,</span><span class="token string">'23'</span><span class="token punctuation">,</span><span class="token string">'本科'</span><span class="token punctuation">,</span><span class="token string">'9000'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
mysql&gt; insert into it_salary values<span class="token punctuation">(</span><span class="token string">'4'</span><span class="token punctuation">,</span><span class="token string">'Linux工程师'</span><span class="token punctuation">,</span><span class="token string">'小杨'</span><span class="token punctuation">,</span><span class="token string">'25'</span><span class="token punctuation">,</span><span class="token string">'本科'</span><span class="token punctuation">,</span><span class="token string">'12000'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
mysql&gt; <span class="token function">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> it_salary<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
<span class="token punctuation">|</span> 员工ID   <span class="token punctuation">|</span> 岗位类别          <span class="token punctuation">|</span> 姓名   <span class="token punctuation">|</span> 年龄    <span class="token punctuation">|</span> 学历   <span class="token punctuation">|</span> 薪资   <span class="token punctuation">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
<span class="token punctuation">|</span> 1        <span class="token punctuation">|</span> 硬件工程师        <span class="token punctuation">|</span> 小王   <span class="token punctuation">|</span> 22     <span class="token punctuation">|</span> 专科    <span class="token punctuation">|</span> 8000   <span class="token punctuation">|</span>
<span class="token punctuation">|</span> 2        <span class="token punctuation">|</span> windows工程师     <span class="token punctuation">|</span> 小张   <span class="token punctuation">|</span> 23     <span class="token punctuation">|</span> 本科    <span class="token punctuation">|</span> 9000   <span class="token punctuation">|</span>
<span class="token punctuation">|</span> 4        <span class="token punctuation">|</span> Linux工程师       <span class="token punctuation">|</span> 小杨    <span class="token punctuation">|</span> 25    <span class="token punctuation">|</span> 本科    <span class="token punctuation">|</span> 12000  <span class="token punctuation">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
mysql&gt; <span class="token keyword">exit</span>  <span class="token comment">#退出</span>
<span class="token namespace">[root@localhost ~]</span><span class="token comment"># mysql -uroot -p  #重新登录数据库</span>
mysql&gt; show tables <span class="token keyword">from</span> imployee_salary<span class="token punctuation">;</span>  <span class="token comment">#能够查到it_salary数据表</span>
mysql&gt; <span class="token function">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> it_salary<span class="token punctuation">;</span>  <span class="token comment">#数据已经不存在</span>
说明：此时数据库中并没有之前插入的数据，说明使用<span class="token keyword">begin</span>开启服务，执行数据操作语句后，必须使用commit提交事务，否则数据是不能自动提交的。
（2）rollback（回滚）的使用
mysql&gt; use imployee_salary<span class="token punctuation">;</span>
mysql&gt; <span class="token keyword">begin</span><span class="token punctuation">;</span>  <span class="token comment">#开启事务</span>
mysql&gt; insert into it_salary values<span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">,</span><span class="token string">'硬件工程师'</span><span class="token punctuation">,</span><span class="token string">'小王'</span><span class="token punctuation">,</span><span class="token string">'22'</span><span class="token punctuation">,</span><span class="token string">'专科'</span><span class="token punctuation">,</span><span class="token string">'8000'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
mysql&gt; insert into it_salary values<span class="token punctuation">(</span><span class="token string">'2'</span><span class="token punctuation">,</span><span class="token string">'windows工程师'</span><span class="token punctuation">,</span><span class="token string">'小张'</span><span class="token punctuation">,</span><span class="token string">'23'</span><span class="token punctuation">,</span><span class="token string">'本科'</span><span class="token punctuation">,</span><span class="token string">'9000'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
mysql&gt; <span class="token function">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> it_salary<span class="token punctuation">;</span>  <span class="token comment">#存在添加的两行数据</span>
mysql&gt; rollback<span class="token punctuation">;</span>  <span class="token comment">#回滚事务</span>
mysql&gt; <span class="token function">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> it_salary<span class="token punctuation">;</span>  <span class="token comment">#数据已经不存在</span>
说明：使用<span class="token keyword">begin</span>开始事务，然后执行了插入语句后可以看到插入的数据，但是执行rollback回滚命令后，之前的数据已经没有了
（3）savepoint（定义回滚点）的使用
mysql&gt; <span class="token keyword">begin</span><span class="token punctuation">;</span>  <span class="token comment">#开启事务</span>
mysql&gt; insert into it_salary values<span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">,</span><span class="token string">'硬件工程师'</span><span class="token punctuation">,</span><span class="token string">'小王'</span><span class="token punctuation">,</span><span class="token string">'22'</span><span class="token punctuation">,</span><span class="token string">'专科'</span><span class="token punctuation">,</span><span class="token string">'8000'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">#插入一个数据</span>
mysql&gt; savepoint s1<span class="token punctuation">;</span>  <span class="token comment">#定义s1回滚点</span>
mysql&gt; insert into it_salary values<span class="token punctuation">(</span><span class="token string">'2'</span><span class="token punctuation">,</span><span class="token string">'windows工程师'</span><span class="token punctuation">,</span><span class="token string">'小张'</span><span class="token punctuation">,</span><span class="token string">'23'</span><span class="token punctuation">,</span><span class="token string">'本科'</span><span class="token punctuation">,</span><span class="token string">'9000'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">#插入第二个数据</span>
mysql&gt; savepoint s2<span class="token punctuation">;</span>  <span class="token comment">#定义s2回滚点</span>
mysql&gt; <span class="token function">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> it_salary<span class="token punctuation">;</span>  <span class="token comment">#存在插入的2行数据</span>
</code></pre> 
<h4><a id="rollback_316"></a>如果后面执行rollback命令，这两条数据都将丢失。</h4> 
<pre><code class="prism language-powershell">mysql&gt; rollback to savepoint s1<span class="token punctuation">;</span>  <span class="token comment">#回滚到s1</span>
mysql&gt; <span class="token function">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> it_salary<span class="token punctuation">;</span>  <span class="token comment">#只存在一条数据</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
<span class="token punctuation">|</span> 员工ID   <span class="token punctuation">|</span> 岗位类别        <span class="token punctuation">|</span> 姓名   <span class="token punctuation">|</span> 年龄   <span class="token punctuation">|</span> 学历   <span class="token punctuation">|</span> 薪资   <span class="token punctuation">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
<span class="token punctuation">|</span> 1        <span class="token punctuation">|</span> 硬件工程师      <span class="token punctuation">|</span> 小王   <span class="token punctuation">|</span> 22     <span class="token punctuation">|</span> 专科   <span class="token punctuation">|</span> 8000   <span class="token punctuation">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
mysql&gt; rollback to savepoint s2<span class="token punctuation">;</span>  <span class="token comment">#尝试回滚到s2</span>
ERROR 1305 <span class="token punctuation">(</span>42000<span class="token punctuation">)</span>: SAVEPOINT s2 does not exist  <span class="token comment">#数据无法回滚</span>
说明：回滚到s1，第一条插入的数据可以查询出来，但是无法回退到s2了
（4）使用<span class="token function">set</span>命令控制事务
mysql&gt; <span class="token function">set</span> autocommit=0<span class="token punctuation">;</span>  <span class="token comment">#改为手动提交事务</span>
mysql&gt; insert into it_salary values<span class="token punctuation">(</span><span class="token string">'2'</span><span class="token punctuation">,</span><span class="token string">'windows工程师'</span><span class="token punctuation">,</span><span class="token string">'小张'</span><span class="token punctuation">,</span><span class="token string">'23'</span><span class="token punctuation">,</span><span class="token string">'本科'</span><span class="token punctuation">,</span><span class="token string">'9000'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
mysql&gt; commit<span class="token punctuation">;</span>  <span class="token comment">#提交事务，数据永久保存</span>
说明：若commit提交事务后，则数据无法进行回滚
</code></pre> 
<h4><a id="_336"></a>四、存储引擎</h4> 
<h6><a id="1_337"></a>1、存储引擎介绍</h6> 
<p>（1）MySQL中的数据用各种不同地技术存储在文件中，每一种技术都使用不同的存储机制、索引技巧、锁定水平并最终提供不同的功能和能力，这些不同的技术以及配套地功能在MySQL中称为存储引擎<br> （2）存储引擎是MySQL将数据存储在文件系统中的存储方式或者存储格式<br> （3）MySQL常用的存储方式<br> ①MyISAM；②innoDB<br> （4）MySQL数据库中的组件，负责执行实际的数据I/O操作<br> （5）MySQL系统中，存储引擎处于文件系统之上，在数据保存到文件系统之前会传输到存储引擎，之后按照各个存储引擎的存储格式进行储存</p> 
<h6><a id="2MyISAM_345"></a>2、MyISAM的介绍</h6> 
<p>（1）MyISAM不支持事务，也不支持外键<br> （2）访问速度快<br> （3）对事务完整性没有要求<br> （4）MyISAM在磁盘上存储成三个文件<br> ①表结构文件（.frm文件）<br> ②数据文件的扩展名为.MYD（MYData）<br> ③索引文件的扩展名是.MYI（MYIndex）<br> （5）表级锁定形式，数据在更新时锁定整个表<br> （6）数据库在读写过程中相互阻塞<br> ①会在数据写入的过程中阻塞用户数据的读取<br> ②也会在数据读取的过程中阻塞用户的数据写入<br> （7）数据单独写入或读取，速度较快且占用资源相对少<br> （8）MyIAM支持的存储格式<br> ①静态表；②动态表；③压缩表</p> 
<h6><a id="3MyISAM_360"></a>3、MyISAM适用的生产场景</h6> 
<p>（1）公司业务不需要事务的支持<br> （2）单方面读取或写入数据比较多的业务<br> （3）MyISAM存储引擎不适合数据读写都比较频繁的场景<br> （4）对数据业务一致性要求不是非常高的业务<br> （5）服务器硬件资源相对比较差</p> 
<h6><a id="4innoDB_366"></a>4、innoDB特点介绍</h6> 
<p>（1）支持事务<br> （2）行级锁定，提高数据库并发访问性能<br> （3）非常高效的缓存索引和数据<br> （4）支持外键约束，5.5版本后支持全文索引<br> （5）对硬件资源要求比较高的场合</p> 
<h6><a id="5innoDB_372"></a>5、innoDB适用生产场景分析</h6> 
<p>（1）业务需要事务的支持<br> （2）行级锁定对高并发有很好的适应能力，但需确保查询是通过索引来完成<br> （3）业务数据更新较为频繁的场景，如：论坛，微博等<br> （4）业务数据一致性要求较高，如：银行业务<br> （5）硬件设备内存较大，利用lnnodb较好的缓存能力来提高内存利用率，减少磁盘IO的压力</p> 
<h6><a id="6_378"></a>6、企业选择存储引擎依据</h6> 
<p>（1）需要考虑每个存储引擎提供的核心功能及应用场景<br> （2）支持的字段和数据类型<br> （3）锁定类型：不同的存储引擎支持不同级别的锁定<br> （4）索引的支持<br> （5）事务处理的支持</p> 
<h6><a id="7_384"></a>7、查看存储引擎</h6> 
<p>（1）查看MySQL默认的存储引擎</p> 
<pre><code class="prism language-powershell">mysql&gt; show engines<span class="token punctuation">;</span>  <span class="token comment">#默认存在9款存储引擎</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
<span class="token punctuation">|</span> Engine             <span class="token punctuation">|</span> Support <span class="token punctuation">|</span> Comment                                                        <span class="token punctuation">|</span> Transactions <span class="token punctuation">|</span> XA   <span class="token punctuation">|</span> Savepoints <span class="token punctuation">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
<span class="token punctuation">|</span> InnoDB             <span class="token punctuation">|</span> DEFAULT <span class="token punctuation">|</span> Supports transactions<span class="token punctuation">,</span> row-level locking<span class="token punctuation">,</span> and foreign keys     <span class="token punctuation">|</span> YES          <span class="token punctuation">|</span> YES  <span class="token punctuation">|</span> YES        <span class="token punctuation">|</span>
<span class="token punctuation">|</span> MRG_MYISAM         <span class="token punctuation">|</span> YES     <span class="token punctuation">|</span> Collection of identical MyISAM tables                          <span class="token punctuation">|</span> NO           <span class="token punctuation">|</span> NO   <span class="token punctuation">|</span> NO         <span class="token punctuation">|</span>
<span class="token punctuation">|</span> MEMORY             <span class="token punctuation">|</span> YES     <span class="token punctuation">|</span> Hash based<span class="token punctuation">,</span> stored in memory<span class="token punctuation">,</span> useful <span class="token keyword">for</span> temporary tables      <span class="token punctuation">|</span> NO           <span class="token punctuation">|</span> NO   <span class="token punctuation">|</span> NO         <span class="token punctuation">|</span>
<span class="token punctuation">|</span> BLACKHOLE          <span class="token punctuation">|</span> YES     <span class="token punctuation">|</span> <span class="token operator">/</span>dev/null storage engine <span class="token punctuation">(</span>anything you <span class="token function">write</span> to it disappears<span class="token punctuation">)</span> <span class="token punctuation">|</span> NO           <span class="token punctuation">|</span> NO   <span class="token punctuation">|</span> NO         <span class="token punctuation">|</span>
<span class="token punctuation">|</span> MyISAM             <span class="token punctuation">|</span> YES     <span class="token punctuation">|</span> MyISAM storage engine                                          <span class="token punctuation">|</span> NO           <span class="token punctuation">|</span> NO   <span class="token punctuation">|</span> NO         <span class="token punctuation">|</span>
<span class="token punctuation">|</span> CSV                <span class="token punctuation">|</span> YES     <span class="token punctuation">|</span> CSV storage engine                                             <span class="token punctuation">|</span> NO           <span class="token punctuation">|</span> NO   <span class="token punctuation">|</span> NO         <span class="token punctuation">|</span>
<span class="token punctuation">|</span> ARCHIVE            <span class="token punctuation">|</span> YES     <span class="token punctuation">|</span> Archive storage engine                                         <span class="token punctuation">|</span> NO           <span class="token punctuation">|</span> NO   <span class="token punctuation">|</span> NO         <span class="token punctuation">|</span>
<span class="token punctuation">|</span> PERFORMANCE_SCHEMA <span class="token punctuation">|</span> YES     <span class="token punctuation">|</span> Performance Schema                                             <span class="token punctuation">|</span> NO           <span class="token punctuation">|</span> NO   <span class="token punctuation">|</span> NO         <span class="token punctuation">|</span>
<span class="token punctuation">|</span> FEDERATED          <span class="token punctuation">|</span> NO      <span class="token punctuation">|</span> Federated MySQL storage engine                                 <span class="token punctuation">|</span> NULL         <span class="token punctuation">|</span> NULL <span class="token punctuation">|</span> NULL       <span class="token punctuation">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
mysql&gt; show variables like <span class="token string">'%storage_engine%'</span><span class="token punctuation">;</span>
（2）查看表正在使用的存储引擎
mysql&gt; show table status where name=<span class="token string">'表名'</span><span class="token punctuation">;</span>
mysql&gt; show create table 表名<span class="token punctuation">;</span>
</code></pre> 
<h6><a id="8_408"></a>8、修改存储引擎</h6> 
<p>（1）alter table 修改 （准对以创建的表）</p> 
<pre><code class="prism language-powershell">mysql&gt; alter table user_info engine=引擎<span class="token punctuation">;</span>
</code></pre> 
<p>（2）修改my.cnf文件，指定默认存储引擎并重新启动（针对新创建的表，旧表不影响存储引擎）</p> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@localhost ~]</span><span class="token comment"># vim /etc/my.cnf</span>
    default-storage-engine=INNODB  
<span class="token namespace">[root@localhost ~]</span><span class="token comment"># systemctl restart mysqld</span>
</code></pre> 
<p>（3）create table创建表时指定存储引擎</p> 
<pre><code class="prism language-powershell">mysql&gt; create table 表名<span class="token punctuation">(</span>字段1<span class="token punctuation">)</span> engine=引擎<span class="token punctuation">;</span>
</code></pre> 
<p>（4）临时修改存储引擎</p> 
<pre><code class="prism language-powershell">mysql&gt; <span class="token function">set</span> default_storage_engine=引擎<span class="token punctuation">;</span>
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/5ffb471173e9c4262f8fecca99ae463a/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">高效数据处理的前沿：【C&#43;&#43;】、【Redis】、【人工智能】与【大数据】的深度整合</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f1d615346e22ae209e019132fca46f45/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Android Studio 中文汉化教程</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>