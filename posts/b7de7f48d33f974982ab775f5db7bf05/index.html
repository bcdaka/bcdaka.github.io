<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【CSDN平台BUG】markdown图片链接格式被手机端编辑器自动破坏 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/b7de7f48d33f974982ab775f5db7bf05/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="【CSDN平台BUG】markdown图片链接格式被手机端编辑器自动破坏">
  <meta property="og:description" content="bug以及解决方法 现在是2024年8月，我打开csdn手机编辑器打算修改一下2023年12月的一篇文章，结果一进入编辑器，源码就变成了下面这个样子，我起初不以为意，就点击了发布，结果图片全部显示不出来了。
而当我修改了一下链接格式后，图片又能正常显示了
如果文章坏了，可以把md源码存成文本，用npp之类的文本编辑器写一个正则式进行字符串替换
正则式写法：\[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传\([A-Za-z0-9\-]*\)
替换为：![图片标题]
实际效果如下：
错误式子： [外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-oL9nPdT2-1722564488609)(https://i-blog.csdnimg.cn/blog_migrate/f8cf5ba6d4b75d418112c55641f4043e.png)]
修正后： ![图片标题](https://i-blog.csdnimg.cn/blog_migrate/f8cf5ba6d4b75d418112c55641f4043e.png)]
还有个小尾巴，所以还要把)]替换为)
现在文章就彻底恢复正常了！
bug原理 上述过程说来简单，其实经过了一个小时的排查和客服咨询，客服没起到什么作用，纯粹是我自己排查出来的。这个问题有两大原因：
2024年csdn自家markdown编辑器里上传的图片，自动生成的链接格式中间有一级目录是&#34;/direct&#34;，而23年同样操作生成的链接，中间那一级目录是“/blog_migrate”手机端编辑器无法识别23年的链接，一旦遇到就会直接转化为“[外链图片转存失败
···”这样的格式，破坏掉markdown源码里的所有图片的格式，如果此时你把这个错误的源码发布出去，整片文章就被破坏了 锐评 和客服掰扯了一个小时，我严肃地和他们说了这个问题，可笑的是客服竟然听不懂我这样的表述，最后还是我自己排查出来的问题，而且我让他们帮我恢复一下历史版本，他们还做不到，我真服了，客服从头到尾毫无作用。
此外还要吐槽的就是那个客服界面做的也实在是令人蛋疼，这个算个小瑕疵吧，真正大的问题还是客服的专业素质不够强，有踢皮球的感觉。
如果这个平台的反馈机制以后还这么差，无法保证图文平台最基本的数据安全的话，以后谁还敢在这个平台上发文章呢？没人会不担心自己发出去的文章莫名其妙的没了或者是图片莫名其妙的丢了，我就直接在CSDN平台上攻击CSDN平台了，爱审不审，反正我也不指望这个平台赚钱啥的，话就撂这了，不改进的结果就是灭亡，如果以后CSDN倒了，我正好可以拿出这篇文章品味品味。
最终依我之见，文章还是要掌控在自己手中，md源码和文章的pdf都要备一份（保存图片和其位置）">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-08-02T17:20:04+08:00">
    <meta property="article:modified_time" content="2024-08-02T17:20:04+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【CSDN平台BUG】markdown图片链接格式被手机端编辑器自动破坏</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="bug_0"></a>bug以及解决方法</h2> 
<p>现在是2024年8月，我打开csdn手机编辑器打算修改一下2023年12月的一篇文章，结果一进入编辑器，源码就变成了下面这个样子，我起初不以为意，就点击了发布，结果图片全部显示不出来了。</p> 
<p><img src="https://images2.imgbox.com/e1/a6/7wB5dRNV_o.png" alt="在这里插入图片描述"><br> 而当我修改了一下链接格式后，图片又能正常显示了</p> 
<p><img src="https://images2.imgbox.com/1d/8f/CibDHEIn_o.png" alt="在这里插入图片描述"></p> 
<p>如果文章坏了，可以把md源码存成文本，用npp之类的文本编辑器写一个正则式进行字符串替换</p> 
<blockquote> 
 <p>正则式写法：\[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传\([A-Za-z0-9\-]*\)<br> 替换为：![图片标题]</p> 
</blockquote> 
<p>实际效果如下：</p> 
<blockquote> 
 <p>错误式子： [外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-oL9nPdT2-1722564488609)(https://i-blog.csdnimg.cn/blog_migrate/f8cf5ba6d4b75d418112c55641f4043e.png)]</p> 
 <p>修正后： ![图片标题](https://i-blog.csdnimg.cn/blog_migrate/f8cf5ba6d4b75d418112c55641f4043e.png)]</p> 
</blockquote> 
<p>还有个小尾巴，所以还要把<code>)]</code>替换为<code>)</code></p> 
<p>现在文章就彻底恢复正常了！</p> 
<p><img src="https://images2.imgbox.com/35/fe/EI9CnU7Q_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="bug_28"></a>bug原理</h2> 
<p>上述过程说来简单，其实经过了一个小时的排查和客服咨询，客服没起到什么作用，纯粹是我自己排查出来的。这个问题有两大原因：</p> 
<ol><li>2024年csdn自家markdown编辑器里上传的图片，自动生成的链接格式中间有一级目录是"/direct"，而23年同样操作生成的链接，中间那一级目录是“/blog_migrate”</li><li>手机端编辑器无法识别23年的链接，一旦遇到就会直接转化为“[外链图片转存失败<br> ···”这样的格式，破坏掉markdown源码里的所有图片的格式，如果此时你把这个错误的源码发布出去，整片文章就被破坏了</li></ol> 
<h2><a id="_37"></a>锐评</h2> 
<p>和客服掰扯了一个小时，我严肃地和他们说了这个问题，可笑的是客服竟然听不懂我这样的表述，最后还是我自己排查出来的问题，而且我让他们帮我恢复一下历史版本，他们还做不到，我真服了，客服从头到尾毫无作用。</p> 
<p>此外还要吐槽的就是那个客服界面做的也实在是令人蛋疼，这个算个小瑕疵吧，真正大的问题还是客服的专业素质不够强，有踢皮球的感觉。</p> 
<p>如果这个平台的反馈机制以后还这么差，无法保证图文平台最基本的数据安全的话，以后谁还敢在这个平台上发文章呢？没人会不担心自己发出去的文章莫名其妙的没了或者是图片莫名其妙的丢了，我就直接在CSDN平台上攻击CSDN平台了，爱审不审，反正我也不指望这个平台赚钱啥的，话就撂这了，不改进的结果就是灭亡，如果以后CSDN倒了，我正好可以拿出这篇文章品味品味。</p> 
<p>最终依我之见，文章还是要掌控在自己手中，md源码和文章的pdf都要备一份（保存图片和其位置）</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/82aae162e357a643c0af183b01da3fc7/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">力扣-200.岛屿数量</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/642582f67b7b9b7568640ac313205ee0/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【C语言】程序环境，预处理，编译，汇编，链接详细介绍，其中预处理阶段重点讲解</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>