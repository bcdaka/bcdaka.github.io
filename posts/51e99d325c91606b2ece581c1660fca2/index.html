<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【Qt】QSS - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/51e99d325c91606b2ece581c1660fca2/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="【Qt】QSS">
  <meta property="og:description" content="QSS 一、QSS1. QSS2. QSS 设置方式（1）指定控件样式设置（2）全局样式设置（3）从文件加载样式表（4）使用 Qt Designer 编辑样式 3. 选择器（1）选择器介绍（2）子控件选择器 (Sub-Controls)（3）伪类选择器 (Pseudo-States) 4. 样式属性盒模型 (Box Model) 5. 控件样式示例（1）按钮（2）复选框（3）单选框（4）输入框（5）列表（6）菜单栏（7）登录界面 二、绘图1. 基本概念2. 绘制各种形状（1）绘制线段（2）绘制矩形（3）绘制圆形（4）设置画笔 一、QSS 1. QSS 对于 QSS 来说, 基本的语法结构非常简单：
选择器 { 属性名: 属性值; } 其中:
选择器 描述了 “哪个 widget 要应⽤样式规则”.属性 则是⼀个键值对, 属性名表⽰要设置哪种样式, 属性值表⽰了设置的样式的值. 例如：
QPushButton { color: red; } 上述代码的含义表示，针对界⾯上所有的 QPushButton , 都把⽂本颜⾊设置为红色。
代码示例: QSS 基本使用：
1 Widget::Widget(QWidget *parent) 2 : QWidget(parent) 3 , ui(new Ui::Widget) 4 { 5 ui-&gt;setupUi(this); 6 7 ui-&gt;pushButton-&gt;setStyleSheet(&#34;">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-08-13T19:16:09+08:00">
    <meta property="article:modified_time" content="2024-08-13T19:16:09+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【Qt】QSS</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-github-gist">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>QSS</h4> 
 <ul><li><a href="#QSS_2" rel="nofollow">一、QSS</a></li><li><ul><li><a href="#1_QSS_3" rel="nofollow">1. QSS</a></li><li><a href="#2_QSS__37" rel="nofollow">2. QSS 设置方式</a></li><li><ul><li><a href="#1_40" rel="nofollow">（1）指定控件样式设置</a></li><li><a href="#2_70" rel="nofollow">（2）全局样式设置</a></li><li><a href="#3_137" rel="nofollow">（3）从文件加载样式表</a></li><li><a href="#4_Qt_Designer__196" rel="nofollow">（4）使用 Qt Designer 编辑样式</a></li></ul> 
   </li><li><a href="#3__225" rel="nofollow">3. 选择器</a></li><li><ul><li><a href="#1_228" rel="nofollow">（1）选择器介绍</a></li><li><a href="#2_SubControls_267" rel="nofollow">（2）子控件选择器 (Sub-Controls)</a></li><li><a href="#3_PseudoStates_311" rel="nofollow">（3）伪类选择器 (Pseudo-States)</a></li></ul> 
   </li><li><a href="#4__358" rel="nofollow">4. 样式属性</a></li><li><ul><li><a href="#_Box_Model_371" rel="nofollow">盒模型 (Box Model)</a></li></ul> 
   </li><li><a href="#5__443" rel="nofollow">5. 控件样式示例</a></li><li><ul><li><a href="#1_447" rel="nofollow">（1）按钮</a></li><li><a href="#2_482" rel="nofollow">（2）复选框</a></li><li><a href="#3_542" rel="nofollow">（3）单选框</a></li><li><a href="#4_548" rel="nofollow">（4）输入框</a></li><li><a href="#5_584" rel="nofollow">（5）列表</a></li><li><a href="#6_619" rel="nofollow">（6）菜单栏</a></li><li><a href="#7_676" rel="nofollow">（7）登录界面</a></li></ul> 
  </li></ul> 
  </li><li><a href="#_792" rel="nofollow">二、绘图</a></li><li><ul><li><a href="#1__795" rel="nofollow">1. 基本概念</a></li><li><a href="#2__819" rel="nofollow">2. 绘制各种形状</a></li><li><ul><li><a href="#1_822" rel="nofollow">（1）绘制线段</a></li><li><a href="#2_848" rel="nofollow">（2）绘制矩形</a></li><li><a href="#3_862" rel="nofollow">（3）绘制圆形</a></li><li><a href="#4_881" rel="nofollow">（4）设置画笔</a></li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="QSS_2"></a>一、QSS</h2> 
<h3><a id="1_QSS_3"></a>1. QSS</h3> 
<p>对于 <strong>QSS</strong> 来说, 基本的语法结构非常简单：</p> 
<pre><code>			选择器 {
			 	属性名: 属性值; 
			}
</code></pre> 
<p>其中:</p> 
<ul><li><strong>选择器</strong> 描述了 “哪个 <strong>widget</strong> 要应⽤样式规则”.</li><li><strong>属性</strong> 则是⼀个键值对, 属性名表⽰要设置哪种样式, 属性值表⽰了设置的样式的值.</li></ul> 
<p>例如：</p> 
<pre><code>			QPushButton { color: red; }
</code></pre> 
<p>上述代码的含义表示，针对界⾯上所有的 QPushButton , 都把⽂本颜⾊设置为红色。</p> 
<p>代码示例: QSS 基本使用：</p> 
<pre><code>			1 Widget::Widget(QWidget *parent)
			2 : QWidget(parent)
			3 , ui(new Ui::Widget)
			4 {
			5 		ui-&gt;setupUi(this);
			6
			7 		ui-&gt;pushButton-&gt;setStyleSheet("QPushButton { color: red; }");
			8 }
</code></pre> 
<h3><a id="2_QSS__37"></a>2. QSS 设置方式</h3> 
<h4><a id="1_40"></a>（1）指定控件样式设置</h4> 
<p>QWidget 中包含了 setStyleSheet ⽅法, 可以直接设置样式。上述代码我们已经演⽰了上述设置⽅式。</p> 
<p>另⼀⽅⾯, 给指定控件设置样式之后, 该控件的⼦元素也会受到影响。</p> 
<p>代码⽰例: ⼦元素受到影响</p> 
<ol><li> <p>在界⾯上创建⼀个按钮</p> </li><li> <p>修改 widget.cpp, 这次我们不再给按钮设置样式, ⽽是给 Widget 设置样式 (Widget 是<br> QPushButton 的⽗控件).</p> <pre><code> 			Widget::Widget(QWidget *parent)
 			 : QWidget(parent)
 			 , ui(new Ui::Widget)
 			{
 				 ui-&gt;setupUi(this);
 				 // 给 Widget 本⾝设置样式.
 				 this-&gt;setStyleSheet("QWidget { color: red;} ");
 			}
</code></pre> </li><li> <p>运⾏程序, 可以看到样式对于⼦控件按钮同样会⽣效.</p> </li></ol> 
<h4><a id="2_70"></a>（2）全局样式设置</h4> 
<p>还可以通过 <strong>QApplication</strong> 的 <strong>setStyleSheet</strong> ⽅法设置整个程序的全局样式.<br> 全局样式优点:</p> 
<ul><li>使同⼀个样式针对多个控件⽣效, 代码更简洁.</li><li>所有控件样式内聚在⼀起, 便于维护和问题排查</li></ul> 
<p>代码⽰例1: 使⽤全局样式</p> 
<ol><li> <p>在界⾯上创建三个按钮.</p> </li><li> <p>编辑 main.cpp, 设置全局样式</p> <pre><code> 		int main(int argc, char *argv[])
 		{
 			 QApplication a(argc, argv);
 			 // 设置全局样式
 			 a.setStyleSheet("QPushButton { color: red; }");
 			 Widget w;
 			 w.show();
 			 return a.exec();
 		}
</code></pre> </li><li> <p>运⾏程序, 可以看到此时三个按钮的颜⾊都设置为红⾊了.</p> </li></ol> 
<p>代码⽰例2: 样式的层叠特性</p> 
<p>如果通过全局样式给某个控件设置了属性1, 通过指定控件样式给控件设置属性2, 那么这两个属性都会产⽣作⽤.</p> 
<ol><li> <p>在界⾯上创建两个按钮</p> </li><li> <p>编写 main.cpp, 设置全局样式, 把按钮⽂本设置为红⾊</p> <pre><code> 		int main(int argc, char *argv[])
 		{
 			 QApplication a(argc, argv);
 			 // 设置全局样式
 			 a.setStyleSheet("QPushButton { color: red; }");
 			 Widget w;
 			 w.show();
 			 return a.exec();
 		}
</code></pre> </li><li> <p>编写 widget.cpp, 给第⼀个按钮设置字体⼤⼩.</p> <pre><code> 		Widget::Widget(QWidget *parent)
 		 : QWidget(parent)
 		 , ui(new Ui::Widget)
 		{
 			ui-&gt;setupUi(this);
 			
 			// 设置指定控件样式
 			ui-&gt;pushButton-&gt;setStyleSheet("QPushButton { font-size: 50px} ");
 		}
</code></pre> </li><li> <p>运⾏程序, 可以看到, 对于第⼀个按钮来说, 同时具备了颜⾊和字体⼤⼩样式. ⽽第⼆个按钮只有颜⾊样式.说明针对第⼀个按钮, 两种设置⽅式设置的样式, 叠加起来了.</p> </li></ol> 
<p><strong>注意：如果全局样式, 和指定控件样式冲突, 则指定控件样式优先展⽰.</strong></p> 
<h4><a id="3_137"></a>（3）从文件加载样式表</h4> 
<p>上述代码都是把样式通过硬编码的⽅式设置的. 这样使 QSS 代码和 C++ 代码耦合在⼀起了, 并不⽅便代码的维护.</p> 
<p>因此更好的做法是把样式放到单独的⽂件中, 然后通过读取⽂件的⽅式来加载样式.</p> 
<p>代码⽰例: 从⽂件加载全局样式：</p> 
<ol><li> <p>在界⾯上创建⼀个按钮</p> </li><li> <p>创建 resource.qrc ⽂件, 并设定前缀为 / .</p> </li><li> <p>创建 style.qss ⽂件, 并添加到 resource.qrc 中.</p> </li></ol> 
<ul><li>style.qss 是需要程序运⾏时加载的. 为了规避绝对路径的问题, 仍然使⽤ qrc 的⽅式来组<br> 织 (即把资源⽂件内容打包到 cpp 代码中).</li><li>Qt Creator 没有提供创建 qss ⽂件的选项. 咱们直接 右键 -&gt; 新建⽂件 -&gt; ⼿动设置⽂件扩展名<br> 为 qss 即可.</li></ul> 
<ol start="4"><li> <p>使⽤ Qt Creator 打开 style.qss , 编写内容：</p> <pre><code> 		QPushButton {
 		 color: red;
 		}
</code></pre> </li><li> <p>修改 main.cpp, 新增⼀个函数⽤来加载样式</p> <pre><code> 		QString loadQSS() {
 			 QFile file(":/style.qss");
 			 // 打开⽂件
 			 file.open(QFile::ReadOnly);
 			 // 读取⽂件内容. 虽然 readAll 返回的是 QByteArray, 但是 QString 提供了QByteArray 版本的构造函数.
 			 QString style = file.readAll();
 			 // 关闭⽂件
 			 file.close();
 			 return style;
 		}
</code></pre> </li><li> <p>修改 main.cpp, 在 main 函数中调⽤上述函数, 并设置样式.</p> <pre><code> 		int main(int argc, char *argv[])
 		{
 			 QApplication a(argc, argv);
 			 // 调⽤上述函数加载样式
 			 const QString&amp; style = loadQSS();
 			 a.setStyleSheet(style);
 			 Widget w;
 			 w.show();
 			 return a.exec();
 		}
</code></pre> </li><li> <p>运⾏程序, 可以看到样式已经⽣效了.</p> </li></ol> 
<h4><a id="4_Qt_Designer__196"></a>（4）使用 Qt Designer 编辑样式</h4> 
<p>QSS 也可以通过 Qt Designer 直接编辑, 从⽽起到实时预览的效果. 同时也能避免 C++ 和 QSS 代码的耦合.</p> 
<p>代码⽰例: 使⽤ Qt Designer 编辑样式</p> 
<ol><li>在界⾯上创建⼀个按钮</li></ol> 
<p><img src="https://images2.imgbox.com/b6/4d/XWd4Blr8_o.png" alt="在这里插入图片描述"></p> 
<ol start="2"><li>右键按钮, 选择 “改变样式表”</li></ol> 
<p><img src="https://images2.imgbox.com/42/ab/WesvTNiC_o.png" alt="在这里插入图片描述"></p> 
<ol start="3"><li>在弹出的样式表编辑器中, 可以直接填写样式. 填写完毕, 点击 OK 即可.</li></ol> 
<p><img src="https://images2.imgbox.com/10/e7/N4IEvKJ9_o.png" alt="在这里插入图片描述"></p> 
<ol start="4"><li>此时 Qt Designer 的预览界⾯就会实时显⽰出样式的变化.</li></ol> 
<h3><a id="3__225"></a>3. 选择器</h3> 
<h4><a id="1_228"></a>（1）选择器介绍</h4> 
<p>代码示例：使⽤ id 选择器</p> 
<ol><li>在界⾯上创建 3 个按钮, objectName 为 pushButton , pushButton_2 , pushButton_3</li></ol> 
<p><img src="https://images2.imgbox.com/0f/5d/YWwqIhU9_o.png" alt="在这里插入图片描述"></p> 
<ol start="2"><li>编写 main.cpp, 设置全局样式</li></ol> 
<ul><li> <p>先通过 QPushButton 设置所有的按钮为⻩⾊.</p> </li><li> <p>再通过 #pushButton 和 #pushButton_2 分别设置这两个按钮为红⾊和绿⾊.</p> <pre><code>  		int main(int argc, char *argv[])
  		{
  			 QApplication a(argc, argv);
  			 // 设置全局样式
  			 QString style = "";
  			 style += "QPushButton { color: yellow; }";
  			 style += "#pushButton { color: red; }";
  			 style += "#pushButton_2 { color: green; }";
  			 a.setStyleSheet(style);
  			 Widget w;
  			 w.show();
  			 return a.exec();
  		}
</code></pre> </li></ul> 
<ol start="3"><li>执⾏程序, 观察效果</li></ol> 
<p><img src="https://images2.imgbox.com/1d/25/g7afL7Zs_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="2_SubControls_267"></a>（2）子控件选择器 (Sub-Controls)</h4> 
<p>有些控件内部包含了多个 “⼦控件” . ⽐如 QComboBox 的下拉后的⾯板, ⽐如 QSpinBox 的上下按钮等.</p> 
<p>可以通过⼦控件选择器 :: , 针对上述⼦控件进⾏样式设置</p> 
<p>代码⽰例: 修改进度条的颜⾊</p> 
<ol><li>在界⾯上创建⼀个进度条.</li></ol> 
<p><img src="https://images2.imgbox.com/00/e4/GDYmeMpZ_o.png" alt="在这里插入图片描述"></p> 
<ol start="2"><li>在 Qt Designer 右侧的属性编辑器中, 找到 QWidget 的 styleSheet 属性.</li></ol> 
<p>编辑如下内容:</p> 
<p>其中的 chunk 是选中进度条中的每个 “块” . 使⽤ QProgressBar::text 则可以选中⽂本.</p> 
<pre><code>			QProgressBar::chunk {background-color: #FF0000;}
</code></pre> 
<p>同时把 QProcessBar 的 alignment 属性设置为垂直⽔平居中.</p> 
<p><img src="https://images2.imgbox.com/94/ba/WUMDolL1_o.png" alt="在这里插入图片描述"></p> 
<ul><li>此处如果不设置 alignment , 进度条中的数字会跑到左上⻆. 这个怀疑是 Qt 本⾝的 bug, 暂时只能先使⽤ alignment 来⼿动调整下.</li></ul> 
<ol start="3"><li>执⾏程序, 可以看到如下效果. 我们就得到了⼀个红⾊的进度条.</li></ol> 
<p><img src="https://images2.imgbox.com/b6/51/xMkLxyjv_o.png" alt="在这里插入图片描述"></p> 
<p>通过上述⽅式, 也可以修改⽂字的颜⾊, 字体⼤⼩等样式。</p> 
<h4><a id="3_PseudoStates_311"></a>（3）伪类选择器 (Pseudo-States)</h4> 
<p>伪类选择器, 是根据控件所处的某个状态被选择的. 例如按钮被按下, 输⼊框获取到焦点, ⿏标移动到某个控件上等.</p> 
<ul><li>当状态具备时, 控件被选中, 样式⽣效</li><li>当状态不具备时, 控件不被选中, 样式失效</li></ul> 
<p><strong>使⽤ : 的⽅式定义伪类选择器</strong></p> 
<p>常⽤的伪类选择器：</p> 
<p><img src="https://images2.imgbox.com/dc/20/UK2BlNcQ_o.png" alt="在这里插入图片描述"></p> 
<p>这些状态可以使⽤ ! 来取反. ⽐如 :!hover 就是⿏标离开控件时, :!pressed 就是⿏标松开时,<br> 等等.</p> 
<p>代码⽰例: 设置按钮的伪类样式.</p> 
<ol><li> <p>在界⾯上创建⼀个按钮</p> </li><li> <p>编写 main.cpp, 创建全局样式</p> <pre><code> 			int main(int argc, char *argv[])
 			{
 				QApplication a(*argc*, argv);
 				QString style = "";
 				style += "QPushButton { color: red; }";
 				style += "QPushButton:hover { color: green; }";
 				style += "QPushButton:pressed { color: blue; }";
 				a.setStyleSheet(style);
 				Widget w;
 				w.show();
 				return a.exec();
 			}
</code></pre> </li><li> <p>运⾏程序, 可以看到, 默认情况下按钮⽂字是红⾊, ⿏标移动上去是绿⾊, ⿏标按下按钮是蓝⾊.</p> </li></ol> 
<h3><a id="4__358"></a>4. 样式属性</h3> 
<p>QSS 中的样式属性⾮常多, 不需要都记住. 核⼼原则还是⽤到了就去查.</p> 
<p>⼤部分的属性和 CSS 是⾮常相似的.</p> 
<ul><li>⽂档的 <strong>Qt Style Sheets Reference</strong> 章节详细介绍了哪些控件可以设置属性, 每个控<br> 件都能设置哪些属性等.</li></ul> 
<h4><a id="_Box_Model_371"></a>盒模型 (Box Model)</h4> 
<p>在⽂档的 Customizing Qt Widgets Using Style Sheets 的 The Box Model 章节介绍了盒模型.</p> 
<p>⼀个遵守盒模型的控件, 由上述⼏个部分构成.</p> 
<ul><li>Content 矩形区域: 存放控件内容. ⽐如包含的⽂本/图标等.</li><li>Border 矩形区域: 控件的边框.</li><li>Padding 矩形区域: 内边距. 边框和内容之间的距离.</li><li>Margin 矩形区域: 外边距. 边框到控件 geometry 返回的矩形边界的距离</li></ul> 
<p>默认情况下, 外边距, 内边距, 边框宽度都是 0</p> 
<p>可以通过⼀些 QSS 属性来设置上述的边距和边框的样式.</p> 
<p><img src="https://images2.imgbox.com/0b/35/ZAOZWHTR_o.png" alt="在这里插入图片描述"></p> 
<p><strong>代码⽰例: 设置边框和内边距</strong></p> 
<ol><li> <p>在界⾯上创建⼀个 label</p> </li><li> <p>修改 main.cpp, 设置全局样式</p> <pre><code> 		int main(int argc, char *argv[])
 		{
 			 QApplication a(argc, argv);
 			 a.setStyleSheet("QLabel { border: 5px solid red; padding-left: 10px; }");
 			 Widget w;
 			 w.show();
 			 return a.exec();
 		}
</code></pre> </li></ol> 
<ul><li>border: 5px solid red 相当于 border-style: solid; border-width: 5px</li><li>border-color: red; 三个属性的简写形式</li><li>padding-left: 10px; 是给左侧设置内边距</li></ul> 
<ol start="3"><li>运⾏程序, 可以看到样式发⽣了变化</li></ol> 
<p><strong>代码⽰例: 设置外边距</strong></p> 
<p>为了⽅便确定控件位置, 演⽰外边距效果, 我们使⽤代码创建⼀个按钮</p> 
<ol><li> <p>修改 widget.cpp, 创建按钮, 并设置样式</p> <pre><code> 		Widget::Widget(QWidget *parent)
 		 : QWidget(parent)
 		 , ui(new Ui::Widget)
 		{
 			 ui-&gt;setupUi(this);
 			 QPushButton* btn = new QPushButton(this);
 			 btn-&gt;setGeometry(0, 0, 100, 100);
 			 btn-&gt;setText("hello");
 			 btn-&gt;setStyleSheet("QPushButton { border: 5px solid red; margin: 20px; }");
 			 const QRect&amp; rect = btn-&gt;geometry();
 			 qDebug() &lt;&lt; rect;
 		}
</code></pre> </li><li> <p>运⾏程序, 可以看到, 当前按钮的边框被外边距挤的缩⼩了. 但是获取到的按钮的 Geometry 是不变的.</p> </li></ol> 
<p><img src="https://images2.imgbox.com/34/1a/zx2yjsjI_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="5__443"></a>5. 控件样式示例</h3> 
<h4><a id="1_447"></a>（1）按钮</h4> 
<p><strong>代码⽰例: ⾃定义按钮</strong></p> 
<ol><li>界⾯上创建⼀个按钮</li></ol> 
<p><img src="https://images2.imgbox.com/d3/14/Ns2poDtC_o.png" alt="在这里插入图片描述"></p> 
<ol start="2"><li> <p>右键 -&gt; 改变样式表, 使⽤ Qt Designer 设置样式</p> <pre><code> 		QPushButton {
 			 font-size: 20px;
 			 border: 2px solid #8f8f91;
 			 border-radius: 15px;
 			 background-color: #dadbde;
 		}
 		QPushButton:pressed {
 		 	background-color: #f6f7fa;
 		}
</code></pre> </li><li> <p>执⾏程序, 可以看到效果</p> </li></ol> 
<p><img src="https://images2.imgbox.com/18/7f/IWsGB7cE_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/f1/b4/p3H9WAWz_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="2_482"></a>（2）复选框</h4> 
<p>代码⽰例: ⾃定义复选框</p> 
<ol><li>创建⼀个 resource.qrc ⽂件, 并导⼊以下图⽚</li></ol> 
<p><img src="https://images2.imgbox.com/3d/83/BJ0H44wL_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/61/83/YlpuSS3Y_o.png" alt="在这里插入图片描述"></p> 
<ul><li>使⽤⿊⾊作为默认形态.</li><li>使⽤蓝⾊作为 hover 形态.</li><li>使⽤红⾊作为 pressed 形态.</li></ul> 
<ol start="2"><li> <p>创建⼀个复选框</p> <pre><code> 		QCheckBox {
 		    font-size : 20px;
 		}
 		
 		QCheckBox::indicator {
 		    width: 20px;
 		    height: 20px;
 		}
 		
 		QCheckBox::indicator : unchecked {
 		    image: url(:/checkbox - unchecked.png);
 		}
 		QCheckBox::indicator : unchecked : hover {
 		    image:url(:/checkbox - unchecked_hover.png);
 		}

 		QCheckBox::indicator:unchecked:pressed {
 		 	image: url(:/checkbox-unchecked_pressed.png);
 		}
 		QCheckBox::indicator:checked {
 		 	image: url(:/checkbox-checked.png);
 		}
 		QCheckBox::indicator:checked:hover {
 		 	image: url(:/checkbox-checked_hover.png);
 		}
 		QCheckBox::indicator:checked:pressed {
 		 	image: url(:/checkbox-checked_pressed.png);
 		}
</code></pre> </li><li> <p>运⾏程序, 可以看到此时的复选框就变的丰富起来了</p> </li></ol> 
<p><img src="https://images2.imgbox.com/6a/ca/fd9PrOhg_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="3_542"></a>（3）单选框</h4> 
<p>参考复选框，用法基本一样。</p> 
<h4><a id="4_548"></a>（4）输入框</h4> 
<p>代码⽰例: ⾃定义单⾏编辑框</p> 
<ol><li>在界⾯上创建⼀个单⾏编辑框</li></ol> 
<p><img src="https://images2.imgbox.com/40/86/KXrSFl4F_o.png" alt="在这里插入图片描述"></p> 
<ol start="2"><li> <p>在 Qt Designer 中编写样式.</p> <pre><code> 		QLineEdit {
 			 border-width: 1px; 
 			 border-radius: 10px;
 			 border-color: rgb(58, 58, 58);
 			 border-style: inset;
 			 padding: 0 8px;
 			 color: rgb(255, 255, 255);
 			 background:rgb(100, 100, 100);
 			 selection-background-color: rgb(187, 187, 187);
 			 selection-color: rgb(60, 63, 65);
 		}
</code></pre> </li><li> <p>执⾏程序观察效果.</p> </li></ol> 
<p><img src="https://images2.imgbox.com/c5/12/URJ8pzra_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="5_584"></a>（5）列表</h4> 
<p>代码⽰例: ⾃定义列表框</p> 
<ol><li>在界⾯上创建⼀个 ListView</li></ol> 
<p><img src="https://images2.imgbox.com/32/4f/BcGWYQPH_o.png" alt="在这里插入图片描述"></p> 
<ol start="2"><li> <p>编写代码</p> <pre><code> 		QListView::item:hover {
 			 background: qlineargradient(x1: 0, y1: 0, x2: 0, y2: 1, stop: 0 #FAFBFE, stop: 1 #DCDEF1);
 		}


 		QListView::item:selected {
 			 border: 1px solid #6a6ea9;
 			 background: qlineargradient(x1: 0, y1: 0, x2: 0, y2: 1, stop: 0 #6a6ea9, stop: 1 #888dd9);
 		}
</code></pre> </li><li> <p>执⾏程序, 观察效果</p> </li></ol> 
<p><img src="https://images2.imgbox.com/f1/77/Wd60n8Nh_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/9a/81/630CUCny_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="6_619"></a>（6）菜单栏</h4> 
<p>代码⽰例: ⾃定义菜单栏</p> 
<ol><li>创建菜单栏</li></ol> 
<p><img src="https://images2.imgbox.com/05/16/lrYIkql7_o.png" alt="在这里插入图片描述"></p> 
<ol start="2"><li> <p>编写样式</p> <pre><code> 		QMenuBar {
 			 background-color: qlineargradient(x1:0, y1:0, x2:0, y2:1,
 			 stop:0 lightgray, stop:1 darkgray);
 			 spacing: 3px; /* spacing between menu bar items */
 		}
 		QMenuBar::item {
 			 padding: 1px 4px;
 			 background: transparent;
 			 border-radius: 4px;
 		}
 		QMenuBar::item:selected { /* when selected using mouse or keyboard */
 			 background: #a8a8a8;
 		}
 		QMenuBar::item:pressed {
 			 background: #888888;
 		}
 		QMenu {
 			 background-color: white;
 			 margin: 0 2px; /* some spacing around the menu */
 	    }
 		QMenu::item {
 			 padding: 2px 25px 2px 20px;
 			 border: 3px solid transparent; /* reserve space for selection border */
 		}
 		QMenu::item:selected {
 			 border-color: darkblue;
 			 background: rgba(100, 100, 100, 150);
 		}
 		QMenu::separator {
 			 height: 2px;
 			 background: lightblue;
 			 margin-left: 10px;
 			 margin-right: 5px;
 		}
</code></pre> </li><li> <p>执⾏程序, 观察效果</p> </li></ol> 
<p><img src="https://images2.imgbox.com/f1/61/z07E9ald_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="7_676"></a>（7）登录界面</h4> 
<p>基于上述学习过的 QSS 样式, 制作⼀个美化版本的登录界⾯</p> 
<ol><li> <p>在界⾯上创建元素</p> </li><li> <p>使⽤布局管理器, 把上述元素包裹⼀下.</p> </li></ol> 
<p><img src="https://images2.imgbox.com/ae/16/od65pHzG_o.png" alt="在这里插入图片描述"></p> 
<ul><li>使⽤ QVBoxLayout 来管理上述控件.</li><li>两个输⼊框和按钮的 minimumHeight 均设置为 50. (元素在布局管理器中⽆法直接设置 width 和 height, 使⽤ minimumWidth 和 minimumHeight 代替, 此时垂直⽅向的 sizePolicy 要设为 fixed).</li><li>右键 QCheckBox , 选择 Layout Alignment 可以设置 checkbox 的对⻬⽅式(左对⻬, 居中对⻬, 右对⻬).</li></ul> 
<ol start="3"><li>设置背景图⽚.</li></ol> 
<p>把上述控件添加⼀个⽗元素 QFrame, 并设置 QFrame 和 窗⼝⼀样⼤.</p> 
<p><img src="https://images2.imgbox.com/15/b6/fmP8AHgP_o.png" alt="在这里插入图片描述"></p> 
<ul><li>顶层窗⼝的 QWidget ⽆法设置背景图⽚. 因此我们需要再套上⼀层 QFrame. 背景图⽚就设置到 QFrame 上即可.</li></ul> 
<p>创建 resource.qrc, 并导⼊图片，编写 QSS 样式.</p> 
<p>使⽤ <code>border-image</code> 设置背景图⽚, ⽽不是 <code>background-image</code> . 主要是因为 <code>border-image</code> 是可以⾃动缩放的. 这⼀点在窗⼝⼤⼩发⽣改变时是⾮常有意义的.</p> 
<pre><code>			QFrame {
			 	border-image: url(:/picture.jpg);
			}
</code></pre> 
<ol start="4"><li>设置输⼊框样式</li></ol> 
<p>编写 QSS 代码</p> 
<pre><code>			QLineEdit {
				 color: #8d98a1;
				 background-color: #405361;
				 padding: 0 5px;
				 font-size: 20px;
				 border-style: none;
				 border-radius: 10px;
			}
</code></pre> 
<ol start="5"><li>设置 checkbox 样式</li></ol> 
<p>背景⾊使⽤ <strong>transparent</strong> 表⽰完全透明 (应⽤⽗元素的背景).</p> 
<pre><code>			QCheckBox {
				 color: white;
				 background-color: transparent;
			}
</code></pre> 
<ol start="6"><li> <p>设置按钮样式</p> <pre><code> 		QPushButton {
 			font-size: 20px;
 			color: white;
 			background-color: #555;
 			border-style: outset;
 			border-radius: 10px;
 		}
 		
 		QPushButton:pressed {
 			color: black;
 			background-color: #ced1db;
 			border-style: inset;
 		}
</code></pre> </li></ol> 
<p>最终完整样式代码. 这些代码设置到 QFrame 的属性中即可。通常我们建议把样式代码集中放置, ⽅便调整和排查</p> 
<pre><code>			QFrame {
				border-image: url(:/cat.jpg);
			}
			
			QLineEdit {
				color: #8d98a1;
				background-color: #405361;
				padding: 0 5px;
				font-size: 20px;
				border-style: none;
				border-radius: 10px;
			}
			
			QCheckBox {
				 color: white;
				 background-color: transparent;
			}
			QPushButton {
				 font-size: 20px;
				 color: white;
				 background-color: #555;
				 border-style: outset;
				 border-radius: 10px;
			}
			QPushButton:pressed {
				 color: black;
				 background-color: #ced1db;
				 border-style: inset;
			}
</code></pre> 
<h2><a id="_792"></a>二、绘图</h2> 
<h3><a id="1__795"></a>1. 基本概念</h3> 
<p>虽然 Qt 已经内置了很多的控件, 但是不能保证现有控件就可以应对所有场景。很多时候我们需要更强的 “⾃定制” 能⼒。</p> 
<p>Qt 提供了画图相关的 API, 可以允许我们在窗⼝上绘制任意的图形形状, 来完成更复杂的界⾯设计.</p> 
<p>绘图 API 核⼼类</p> 
<p><img src="https://images2.imgbox.com/d9/db/VGivv5iE_o.png" alt="在这里插入图片描述"></p> 
<p>绘图 API 的使⽤, ⼀般不会在 QWidget 的构造函数中使⽤, ⽽是要放到 paintEvent 事件中.</p> 
<p><img src="https://images2.imgbox.com/ba/50/rjLVmLtx_o.png" alt="在这里插入图片描述"></p> 
<p>因此, 如果把绘图 api 放到构造函数中调⽤, 那么⼀旦出现上述的情况, 界⾯的绘制效果就⽆法确保符合预期了.</p> 
<h3><a id="2__819"></a>2. 绘制各种形状</h3> 
<h4><a id="1_822"></a>（1）绘制线段</h4> 
<pre><code>			void drawLine(const QPoint &amp;p1, const QPoint &amp;p2);
			 参数：
			 p1：绘制起点坐标
			 p2：绘制终点坐标
</code></pre> 
<p>1、在 “widget.h” 头⽂件中声明绘图事件</p> 
<p><img src="https://images2.imgbox.com/bc/0b/2aXYK6a7_o.png" alt="在这里插入图片描述"></p> 
<p>2、在 “widget.cpp” ⽂件中重写 paintEvent() ⽅法</p> 
<p><img src="https://images2.imgbox.com/29/75/r785XBYs_o.png" alt="在这里插入图片描述"></p> 
<p>实现效果如下：</p> 
<p><img src="https://images2.imgbox.com/bb/5f/ubCXUuW6_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="2_848"></a>（2）绘制矩形</h4> 
<pre><code>			void QPainter::drawRect(int x, int y, int width, int height)；
			参数：
			 x：窗⼝横坐标；
			 y：窗⼝纵坐标；
			 width：所绘制矩形的宽度；
			 height：所绘制矩形的⾼度；
</code></pre> 
<p><img src="https://images2.imgbox.com/b0/3b/Xf1vViWi_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="3_862"></a>（3）绘制圆形</h4> 
<pre><code>			void QPainter::drawEllipse(const QPoint &amp;center, int rx, int ry)
			参数：
			 center：中⼼点坐标
			 rx：横坐标
			 ry：纵坐标
</code></pre> 
<p><img src="https://images2.imgbox.com/a9/0d/xokD1a9B_o.png" alt="在这里插入图片描述"></p> 
<p>实现效果：</p> 
<p><img src="https://images2.imgbox.com/78/87/CCmM1VMe_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="4_881"></a>（4）设置画笔</h4> 
<p>QPainter 在绘制时，是有⼀个默认的画笔的。在使⽤时也可以⾃定义画笔。在 Qt 中，QPen类中定义了 QPainter 应该如何绘制形状、线条和轮廓。同时通过 QPen类 可以设置画笔的线宽、颜⾊、样式、画刷等。</p> 
<p>画笔的颜⾊可以在实例化画笔对象时进⾏设置，画笔的宽度是通过 setWidth() ⽅法进⾏设置，画笔的风格是通过setStyle(）⽅法进⾏设置，设置画刷主要是通过 setBrush() ⽅法。</p> 
<ul><li>设置画笔颜⾊：QPen::QPen(const QColor &amp;color) 画笔的颜⾊主要是通过 QColor 类设置；</li><li>设置画笔宽度：void QPen::setWidth(int width)</li><li>设置画笔⻛格：void QPen::setStyle(Qt::PenStyle style)</li></ul> 
<p>画笔的⻛格有：</p> 
<p><img src="https://images2.imgbox.com/d1/22/fwkNJbIy_o.png" alt="在这里插入图片描述"></p> 
<p>⽰例：画笔的使⽤</p> 
<p><img src="https://images2.imgbox.com/14/98/hGb4nqtD_o.png" alt="在这里插入图片描述"></p> 
<p>实现效果如下：</p> 
<p><img src="https://images2.imgbox.com/40/3f/IaWFTH3r_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/62907ad3bc40f658d297c5a3f95a2579/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">react最好用的swiper插件和拖动插件 react-tiny-slider react-draggable</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/d6f6e5b818cbfb53f4702b06e3c5756e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Layui——隐藏表单项后不再进行验证</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>