<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Linux部署MySQL8.0—手把手保姆级教程 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/9a9cef9068d36f1cca32c9730f72516a/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="Linux部署MySQL8.0—手把手保姆级教程">
  <meta property="og:description" content="一、下载MySQL8.0安装包 MySQL官网 下载地址 下载之前可以查看一下系统的位数，下面有指令
查看系统的位数（32位或64位）
getconf LONG_BIT 我这里是64位的，所以这里我就下载64位， 可以在官网下载后上传上去，我这里就直接使用服务器下载了
sudo wget https://cdn.mysql.com//Downloads/MySQL-8.0/mysql-8.0.36-linux-glibc2.28-x86_64.tar.xz 二、安装MySQL8.0 2.1 解压安装包 sudo tar xvJf mysql-8.0.36-linux-glibc2.28-x86_64.tar.xz 2.2 修改文件名称 sudo mv mysql-8.0.36-linux-glibc2.28-x86_64 mysql-8.0.36 2.3 创建相关文件夹 进入到mysql-8.0.36文件夹中
sudo mkdir data # 数据存储 sudo mkdir log # 日志存储 sudo mkdir tmp # 临时文件 2.4 新增用户组 sudo groupadd mysql 2.5 新增组用户 sudo useradd -g mysql mysql 2.6 用户授权 指向mysql8.0安装目录
sudo chown -R mysql.mysql /usr/local/mysql8.0/mysql-8.0.36 # 这里用自己实际的安装目录即可 可以通过 pwd 指令查看当前目录路径 三、初始化数据库 再安装目录下执行 sudo .">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-08-22T15:26:44+08:00">
    <meta property="article:modified_time" content="2024-08-22T15:26:44+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Linux部署MySQL8.0—手把手保姆级教程</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h3></h3> 
<h3 id="h_694074400_0">一、下载MySQL8.0安装包</h3> 
<p><br> MySQL官网 <a href="https://link.zhihu.com/?target=https%3A//dev.mysql.com/downloads/mysql/" rel="nofollow" title="下载地址">下载地址</a> 下载之前可以查看一下系统的位数，下面有指令</p> 
<p></p> 
<p class="img-center"><img alt="" height="560" src="https://images2.imgbox.com/7e/ae/KieRY2HC_o.png" width="720"></p> 
<p>  </p> 
<p></p> 
<p>查看系统的位数（32位或64位）</p> 
<pre><code>getconf LONG_BIT</code></pre> 
<p></p> 
<p class="img-center"><img alt="" height="60" src="https://images2.imgbox.com/1e/dc/X7HUKJmF_o.png" width="366"></p> 
<p>  </p> 
<p>我这里是64位的，所以这里我就下载64位， 可以在官网下载后上传上去，我这里就直接使用服务器下载了</p> 
<pre><code>sudo wget https://cdn.mysql.com//Downloads/MySQL-8.0/mysql-8.0.36-linux-glibc2.28-x86_64.tar.xz</code></pre> 
<p></p> 
<p class="img-center"><img alt="" height="82" src="https://images2.imgbox.com/d8/f1/flbz3lGG_o.png" width="720"></p> 
<p>  </p> 
<h3 id="h_694074400_1">二、安装MySQL8.0</h3> 
<h4 id="h_694074400_2">2.1 解压安装包</h4> 
<pre><code>sudo tar xvJf mysql-8.0.36-linux-glibc2.28-x86_64.tar.xz</code></pre> 
<p></p> 
<p class="img-center"><img alt="" height="307" src="https://images2.imgbox.com/25/0d/Vgn8AhkG_o.png" width="675"></p> 
<p>  </p> 
<h4 id="h_694074400_3">2.2 修改文件名称</h4> 
<pre><code>sudo mv mysql-8.0.36-linux-glibc2.28-x86_64 mysql-8.0.36</code></pre> 
<h4 id="h_694074400_4">2.3 创建相关文件夹</h4> 
<p>进入到mysql-8.0.36文件夹中</p> 
<pre><code>sudo mkdir data   # 数据存储
sudo mkdir log    # 日志存储
sudo mkdir tmp    # <a href="https://zhida.zhihu.com/search?q=%E4%B8%B4%E6%97%B6%E6%96%87%E4%BB%B6" rel="nofollow" title="临时文件">临时文件</a></code></pre> 
<h4 id="h_694074400_5">2.4 新增用户组</h4> 
<pre><code>sudo groupadd mysql</code></pre> 
<h4 id="h_694074400_6">2.5 新增组用户</h4> 
<pre><code>sudo useradd -g mysql mysql</code></pre> 
<p>2.6 用户授权 指向mysql8.0<a href="https://zhida.zhihu.com/search?q=%E5%AE%89%E8%A3%85%E7%9B%AE%E5%BD%95" rel="nofollow" title="安装目录">安装目录</a></p> 
<pre><code>sudo chown -R mysql.mysql /usr/local/mysql8.0/mysql-8.0.36 
# 这里用自己实际的安装目录即可 可以通过  pwd  指令查看当前目录路径</code></pre> 
<p></p> 
<p class="img-center"><img alt="" height="218" src="https://images2.imgbox.com/97/e5/rv0uGyfQ_o.png" width="680"></p> 
<p>  </p> 
<h3 id="h_694074400_7">三、初始化数据库</h3> 
<pre><code>再安装目录下执行
sudo ./bin/mysqld --user=mysql --basedir=/usr/local/mysql8.0/mysql-8.0.36/ --datadir=/usr/local/mysql8.0/mysql-8.0.36/data/ --initialize ;</code></pre> 
<p></p> 
<p class="img-center"><img alt="" height="174" src="https://images2.imgbox.com/4e/b1/wzs1hKEa_o.png" width="720"></p> 
<p>  </p> 
<p>执行后 ： 红色框框中的为 初始密码，这个需要记住</p> 
<h3 id="h_694074400_8">四、编写<a href="https://zhida.zhihu.com/search?q=%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6" rel="nofollow" title="配置文件">配置文件</a></h3> 
<pre><code>vi /etc/my.cnf  
# 正常情况下是没有这个文件的，执行保存之后会自动创建</code></pre> 
<p> 配置文件内容如下（文件路径记得改为自己的）</p> 
<pre><code class="hljs">[mysql]
default-character-set=utf8mb4
[client]
port=13306
socket=/mnt/data01/chargestation/mysql-8.0.39/tmp/mysql.sock
[mysqld]
port=13306
socket=/mnt/data01/chargestation/mysql-8.0.39/tmp/mysql.sock
basedir=/mnt/data01/chargestation/mysql-8.0.39
datadir=/mnt/data01/chargestation/mysql-8.0.39/data
log-error=/mnt/data01/chargestation/mysql-8.0.39/log/mysql.log
pid-file=/mnt/data01/chargestation/mysql-8.0.39/tmp/mysql.pid
lower_case_table_names=1
bind-address=0.0.0.0
character_set_server=UTF8MB4
init_connect='SET NAMES utf8'</code></pre> 
<p> </p> 
<h3 id="h_694074400_9">五、初始化mysql服务</h3> 
<pre><code>sudo cp -a ./support-files/mysql.server /etc/init.d/mysql

sudo chmod +x /etc/init.d/mysql

sudo chkconfig --add mysql</code></pre> 
<p>指令作用如下</p> 
<ol><li><code>cp -a ./support-files/mysql.server /etc/init.d/mysql</code>：这条指令用于将MySQL服务器的启动脚本<code>mysql.server</code>从MySQL安装目录下的<code>./support-files</code>文件夹复制到系统的服务管理目录<code>/etc/init.d</code>，以便可以使用系统服务<a href="https://zhida.zhihu.com/search?q=%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7" rel="nofollow" title="管理工具">管理工具</a>来控制MySQL服务。</li><li><code>chmod +x /etc/init.d/mysql</code>：这条指令用于给复制到<code>/etc/init.d</code>目录下的<code>mysql</code><a href="https://zhida.zhihu.com/search?q=%E8%84%9A%E6%9C%AC%E6%96%87%E4%BB%B6" rel="nofollow" title="脚本文件">脚本文件</a>添加执行权限，确保它能够被系统调用执行启动、停止等操作。</li><li><code>chkconfig --add mysql</code>：这条指令用于将MySQL服务添加到系统服务的管理系统中，<code>chkconfig</code>是Red Hat系列Linux系统（如CentOS、RHEL）中用于管理服务的命令，<code>--add</code>选项表示添加一个新的服务。执行后，MySQL服务将能够通过<code>service</code>命令或<code>systemctl</code>（在使用systemd的系统上）进行启动、停止和重启。</li></ol> 
<p>检测一下是否成功</p> 
<pre><code>chkconfig --list mysql</code></pre> 
<p></p> 
<p class="img-center"><img alt="" height="280" src="https://images2.imgbox.com/73/57/QMrshujy_o.png" width="720"></p> 
<p>  </p> 
<p>如图所示表示成功</p> 
<h3 id="h_694074400_10">六、启动运行MySQL服务</h3> 
<h4 id="h_694074400_11">6.1 启动服务</h4> 
<pre><code>sudo service mysql start</code></pre> 
<p>这里启动后有出现错误信息</p> 
<p></p> 
<p class="img-center"><img alt="" height="54" src="https://images2.imgbox.com/e3/41/jrJMWC5e_o.png" width="720"></p> 
<p>  </p> 
<p>提示文件不存在之类的</p> 
<pre><code>sudo mkdir -p /usr/local/mysql8.0/mysql-8.0.36/log/
sudo chown mysql:mysql /usr/local/mysql8.0/mysql-8.0.36/log/
sudo chmod 777 /usr/local/mysql8.0/mysql-8.0.36/log/
sudo chown mysql:mysql /usr/local/mysql8.0/mysql-8.0.36/data/
sudo chmod 777 /usr/local/mysql8.0/mysql-8.0.36/data/
sudo chown mysql:mysql /usr/local/mysql8.0/mysql-8.0.36/tmp/
sudo chmod 777 /usr/local/mysql8.0/mysql-8.0.36/tmp/

执行以上命令 ，没有的文件就创建并且赋予权限，有的就直接赋予权限。</code></pre> 
<p>如果说还不行，则使用最简单粗暴的方法</p> 
<pre><code>sudo chown -R mysql:mysql /usr/local/mysql8.0/mysql-8.0.36/
sudo chmod 777 -R  /usr/local/mysql8.0/mysql-8.0.36/

使用递归的形式将 安装目录下的所有文件以及文件夹都开放所有权限</code></pre> 
<p>设置完成后<a href="https://zhida.zhihu.com/search?q=%E9%87%8D%E6%96%B0%E6%89%A7%E8%A1%8C" rel="nofollow" title="重新执行">重新执行</a>启动指令</p> 
<p></p> 
<p class="img-center"><img alt="" height="82" src="https://images2.imgbox.com/0f/38/7tOltjDT_o.png" width="499"></p> 
<p>  </p> 
<p>这时显示ok即可，也可以使用 service mysql status; 指令查询一下当前mysql的状态</p> 
<h4 id="h_694074400_12">6.2 修改MySQL密码</h4> 
<pre><code>进入到安装目录下的bin目录
/usr/local/mysql8.0/mysql-8.0.36/bin

登陆mysql
./mysql -uroot -p
输入初始化时候的临时密码

登陆成功后执行
ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY '新密码';</code></pre> 
<p></p> 
<p class="img-center"><img alt="" height="293" src="https://images2.imgbox.com/65/85/Ge3XidHn_o.png" width="720"></p> 
<p>  </p> 
<h4 id="h_694074400_13">6.3 开启<a href="https://zhida.zhihu.com/search?q=%E8%BF%9C%E7%A8%8B%E8%AE%BF%E9%97%AE" rel="nofollow" title="远程访问">远程访问</a></h4> 
<p>在登陆MySQL环境下分别执行一下指令</p> 
<pre><code>CREATE USER 'root'@'%' IDENTIFIED BY '密码';
GRANT ALL ON *.* TO 'root'@'%';
ALTER USER 'root'@'%' IDENTIFIED WITH mysql_native_password BY '密码';
FLUSH PRIVILEGES;
</code></pre> 
<p></p> 
<p class="img-center"><img alt="" height="190" src="https://images2.imgbox.com/ab/ac/1cC8iJ0k_o.png" width="720"></p> 
<p>  </p> 
<h4 id="h_694074400_14">6.4 开启防火墙端口</h4> 
<p>分别执行一下两条指令即可</p> 
<pre><code>sudo firewall-cmd --zone=public --add-port=3306/tcp --permanent
sudo firewall-cmd --reload</code></pre> 
<p>注意：如果是<a href="https://zhida.zhihu.com/search?q=%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8" rel="nofollow" title="云服务器">云服务器</a>，还需要再安全组开通对应的端口。</p> 
<h4 id="h_694074400_15">6.5 <a href="https://zhida.zhihu.com/search?q=%E4%BD%BF%E7%94%A8%E5%B7%A5%E5%85%B7" rel="nofollow" title="使用工具">使用工具</a>远程连接</h4> 
<p></p> 
<p class="img-center"><img alt="" height="673" src="https://images2.imgbox.com/3b/0b/BYZKtUKC_o.png" width="596"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/bd54599109808724d26c0295f9b07228/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【C语言进阶】数据如何安家？C语言内存中的存储艺术深度解析</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/8dd392c8e0fd25057e907f10ba6f91a3/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【EI会议征稿】第四届能源、动力与电气工程国际学术会议（EPEE 2024）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>