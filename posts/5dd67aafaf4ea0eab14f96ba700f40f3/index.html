<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>ã€C&#43;&#43;é«˜é˜¶ã€‘ï¼šC&#43;&#43;11çš„æ·±åº¦è§£æä¸‹ - ç¼–ç¨‹å¤§å’–</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/5dd67aafaf4ea0eab14f96ba700f40f3/">
  <meta property="og:site_name" content="ç¼–ç¨‹å¤§å’–">
  <meta property="og:title" content="ã€C&#43;&#43;é«˜é˜¶ã€‘ï¼šC&#43;&#43;11çš„æ·±åº¦è§£æä¸‹">
  <meta property="og:description" content="âœ¨Â å½¼æ–¹å°šæœ‰è£å…‰åœ¨ï¼Œä½•é¡»æ‚²å¹å°‘å¹´è½»Â ğŸŒ
ğŸ“ƒä¸ªäººä¸»é¡µï¼šisland1314
ğŸ”¥ä¸ªäººä¸“æ ï¼šC&#43;&#43;å­¦ä¹ 
ğŸš€ æ¬¢è¿å…³æ³¨ï¼šğŸ‘ç‚¹èµ ğŸ‘‚ğŸ½ç•™è¨€ ğŸ˜æ”¶è— ğŸ’ ğŸ’ ğŸ’
ğŸš€å‰è¨€ è‹¥æ²¡æœ‰äº†è§£C&#43;&#43;11å‰é¢ä¸€éƒ¨åˆ†çŸ¥è¯†çš„è¯»è€…æœ‹å‹ä»¬ï¼Œå¯ä»¥çœ‹ä¸€ä¸‹è¿™ç¯‡æ–‡ç« ï¼š
ã€C&#43;&#43;é«˜é˜¶ã€‘ï¼šC&#43;&#43;11çš„æ·±åº¦è§£æä¸Š-CSDNåšå®¢
1ã€å¯å˜å‚æ•°æ¨¡æ¿ 1.1 æ¦‚å¿µ C&#43;&#43;11çš„æ–°ç‰¹æ€§å¯å˜å‚æ•°æ¨¡æ¿èƒ½å¤Ÿè®©æ‚¨åˆ›å»ºå¯ä»¥æ¥å—å¯å˜å‚æ•°çš„å‡½æ•°æ¨¡æ¿å’Œç±»æ¨¡æ¿ï¼Œç›¸æ¯”C&#43;&#43;98ï¼Œç±»æ¨¡ç‰ˆå’Œå‡½æ•°æ¨¡ç‰ˆä¸­åªèƒ½å«å›ºå®šæ•°é‡çš„æ¨¡ç‰ˆå‚æ•°ï¼Œå¯å˜æ¨¡ç‰ˆå‚æ•°æ— ç–‘æ˜¯ä¸€ä¸ªå·¨å¤§çš„æ”¹è¿›ã€‚
å¯å˜æ¨¡ç‰ˆå‚æ•°å‚æ•°ç±»å‹å¯å˜å‚æ•°ä¸ªæ•°å¯å˜æ‰“å°å‚æ•°åŒ…å†…å®¹ ä¸‹é¢å°±æ˜¯ä¸€ä¸ªåŸºæœ¬å¯å˜å‚æ•°çš„å‡½æ•°æ¨¡æ¿ï¼š
// Argsæ˜¯ä¸€ä¸ªæ¨¡æ¿å‚æ•°åŒ…ï¼Œargsæ˜¯ä¸€ä¸ªå‡½æ•°å½¢å‚å‚æ•°åŒ… // å£°æ˜ä¸€ä¸ªå‚æ•°åŒ…Args...argsï¼Œè¿™ä¸ªå‚æ•°åŒ…ä¸­å¯ä»¥åŒ…å«0åˆ°ä»»æ„ä¸ªæ¨¡æ¿å‚æ•°ã€‚ //å‚æ•°ç±»å‹å¯å˜ï¼Œå‚æ•°ä¸ªæ•°å¯å˜ template &lt;class ...Args&gt; void ShowList(Args... args) {} //ä»¥å‰çš„æ¨¡æ¿å†™æ³•ï¼Œå›ºå®šäº†å‚æ•°ä¸ªæ•°ï¼Œç±»å‹ä¸ç¡®å®š template &lt;class ...T&gt; void ShowList1(T... x) {} //å¯¹äºShowè°ƒç”¨ int main(){ ShowList(); ShowList(1); ShowList(1, &#34;xxxxx&#34;); } å…¶å¯¹sizeofçš„ä½¿ç”¨æ–¹æ³•ï¼ˆä¸å¸¸è§ï¼‰
template &lt;class ...Args&gt; void ShowList(Args... args){ // å¯å˜å‚æ•°æ¨¡ç‰ˆç¼–è¯‘æ—¶è§£æ // ä¸‹é¢æ˜¯è¿è¡Œè·å–å’Œè§£æï¼Œæ‰€ä»¥ä¸æ”¯æŒè¿™æ ·ç”¨ cout &lt;&lt; sizeof...(args) &lt;&lt; endl; for (size_t i = 0; i &lt; sizeof.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-08-01T16:29:27+08:00">
    <meta property="article:modified_time" content="2024-08-01T16:29:27+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ç¼–ç¨‹å¤§å’–" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ç¼–ç¨‹å¤§å’–</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">ã€C&#43;&#43;é«˜é˜¶ã€‘ï¼šC&#43;&#43;11çš„æ·±åº¦è§£æä¸‹</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><img alt="" src="https://images2.imgbox.com/41/a8/6jta88Xv_o.jpg"></p> 
<p>âœ¨Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <strong><span style="color:#9c8ec1;">å½¼æ–¹å°šæœ‰è£å…‰åœ¨<strong>ï¼Œä½•é¡»æ‚²å¹å°‘å¹´è½»</strong></span>Â </strong>Â Â  Â  ğŸŒ</p> 
<p>ğŸ“ƒ<a href="https://so.csdn.net/so/search?q=%E4%B8%AA%E4%BA%BA%E4%B8%BB%E9%A1%B5&amp;spm=1001.2101.3001.7020" title="ä¸ªäººä¸»é¡µ">ä¸ªäººä¸»é¡µ</a>ï¼š<a href="https://blog.csdn.net/island1314?spm=1011.2266.3001.5343" title="island1314">island1314</a></p> 
<p>ğŸ”¥ä¸ªäººä¸“æ ï¼š<a href="https://blog.csdn.net/island1314/category_12622912.html" title="C++å­¦ä¹ ">C++å­¦ä¹ </a></p> 
<p>ğŸš€ æ¬¢è¿å…³æ³¨ï¼šğŸ‘ç‚¹èµ ğŸ‘‚ğŸ½ç•™è¨€ ğŸ˜æ”¶è— Â ğŸ’ ğŸ’ ğŸ’</p> 
<h3 style="text-align:center;"><img alt="" src="https://images2.imgbox.com/9a/4c/YMNkCjb6_o.gif"></h3> 
<hr> 
<h3>ğŸš€å‰è¨€</h3> 
<p>è‹¥æ²¡æœ‰äº†è§£C++11å‰é¢ä¸€éƒ¨åˆ†çŸ¥è¯†çš„è¯»è€…æœ‹å‹ä»¬ï¼Œå¯ä»¥çœ‹ä¸€ä¸‹è¿™ç¯‡æ–‡ç« ï¼š</p> 
<p><a href="https://blog.csdn.net/island1314/article/details/140804751?csdn_share_tail=%7B%22type%22%3A%22blog%22%2C%22rType%22%3A%22article%22%2C%22rId%22%3A%22140804751%22%2C%22source%22%3A%22island1314%22%7D" title="ã€C++é«˜é˜¶ã€‘ï¼šC++11çš„æ·±åº¦è§£æä¸Š-CSDNåšå®¢">ã€C++é«˜é˜¶ã€‘ï¼šC++11çš„æ·±åº¦è§£æä¸Š-CSDNåšå®¢</a></p> 
<p></p> 
<h3 style="background-color:transparent;">1ã€å¯å˜å‚æ•°æ¨¡æ¿</h3> 
<h4>1.1 æ¦‚å¿µ</h4> 
<p>C++11çš„æ–°ç‰¹æ€§å¯å˜å‚æ•°æ¨¡æ¿èƒ½å¤Ÿè®©æ‚¨åˆ›å»ºå¯ä»¥æ¥å—å¯å˜å‚æ•°çš„å‡½æ•°æ¨¡æ¿å’Œç±»æ¨¡æ¿ï¼Œç›¸æ¯”C++98ï¼Œç±»æ¨¡ç‰ˆå’Œå‡½æ•°æ¨¡ç‰ˆä¸­åªèƒ½å«å›ºå®šæ•°é‡çš„æ¨¡ç‰ˆå‚æ•°ï¼Œå¯å˜æ¨¡ç‰ˆå‚æ•°æ— ç–‘æ˜¯ä¸€ä¸ªå·¨å¤§çš„æ”¹è¿›ã€‚</p> 
<blockquote> 
 <ul><li>å¯å˜æ¨¡ç‰ˆå‚æ•°</li><li>å‚æ•°ç±»å‹å¯å˜</li><li>å‚æ•°ä¸ªæ•°å¯å˜</li><li>æ‰“å°å‚æ•°åŒ…å†…å®¹</li></ul> 
</blockquote> 
<p>ä¸‹é¢å°±æ˜¯ä¸€ä¸ªåŸºæœ¬å¯å˜å‚æ•°çš„å‡½æ•°æ¨¡æ¿ï¼š</p> 
<pre><code class="language-cpp">// Argsæ˜¯ä¸€ä¸ªæ¨¡æ¿å‚æ•°åŒ…ï¼Œargsæ˜¯ä¸€ä¸ªå‡½æ•°å½¢å‚å‚æ•°åŒ…
// å£°æ˜ä¸€ä¸ªå‚æ•°åŒ…Args...argsï¼Œè¿™ä¸ªå‚æ•°åŒ…ä¸­å¯ä»¥åŒ…å«0åˆ°ä»»æ„ä¸ªæ¨¡æ¿å‚æ•°ã€‚
//å‚æ•°ç±»å‹å¯å˜ï¼Œå‚æ•°ä¸ªæ•°å¯å˜
template &lt;class ...Args&gt;
void ShowList(Args... args)
{}

//ä»¥å‰çš„æ¨¡æ¿å†™æ³•ï¼Œå›ºå®šäº†å‚æ•°ä¸ªæ•°ï¼Œç±»å‹ä¸ç¡®å®š
template &lt;class ...T&gt;
void ShowList1(T... x)
{}

//å¯¹äºShowè°ƒç”¨
int main(){
	ShowList();
	ShowList(1);
	ShowList(1, "xxxxx");
}</code></pre> 
<p><span style="color:#fe2c24;">å…¶å¯¹sizeofçš„ä½¿ç”¨æ–¹æ³•ï¼ˆä¸å¸¸è§ï¼‰</span></p> 
<pre><code class="language-cpp">template &lt;class ...Args&gt;
void ShowList(Args... args){
	// å¯å˜å‚æ•°æ¨¡ç‰ˆç¼–è¯‘æ—¶è§£æ
	// ä¸‹é¢æ˜¯è¿è¡Œè·å–å’Œè§£æï¼Œæ‰€ä»¥ä¸æ”¯æŒè¿™æ ·ç”¨
	cout &lt;&lt; sizeof...(args) &lt;&lt; endl;
	for (size_t i = 0; i &lt; sizeof...(args); i++){
		cout &lt;&lt; args[i] &lt;&lt; " ";//ä¸æ”¯æŒè¿™æ ·æ‰“å°å‚æ•°åŒ…å†…å®¹
	}
}</code></pre> 
<h4 style="background-color:transparent;">1.2 <strong>å±•å¼€å‚æ•°åŒ…çš„ä¸¤ç§</strong>æ–¹å¼</h4> 
<h5 style="background-color:transparent;"><strong>é€’å½’å‡½æ•°æ–¹å¼å±•å¼€å‚æ•°åŒ…</strong></h5> 
<pre><code class="language-cpp">//ç”¨ä¸€ä¸ªæ— å‚çš„æ¥è¿›è¡ŒåŒ¹é…
void Print() //å½“æ˜¯0ä¸ªå‚æ•°åŒ…çš„æ—¶å€™ï¼Œå°±åŒ¹é…åˆ°è¯¥å‡½æ•°
{
	cout &lt;&lt; endl;
}

template &lt;class T, class ...Args&gt;
void Print(T&amp;&amp; x, Args&amp;&amp;... args) //ä¸‰ä¸ªå‚æ•°åŒ…ï¼Œå…ˆåˆ†æå‚æ•°åŒ…ç±»å‹
{
	cout &lt;&lt; x &lt;&lt; " "; //æ‰“å°ç¬¬ä¸€ä¸ªå‚æ•°
	Print(args...); //é€’å½’è°ƒç”¨

//ä¸èƒ½ç”¨è¿™æ ·æ¥ä½œ0ä¸ªå‚æ•°åŒ…çš„æˆªæ­¢
// å› ä¸ºè¿™é‡Œéƒ½æ˜¯ç¼–è¯‘æ—¶æ¨å¯¼çš„é€»è¾‘ï¼Œè€Œä¸‹é¢è¿™ä¸ªæ˜¯è¿è¡Œæ—¶é€»è¾‘ï¼Œåœ¨è¿è¡Œæ—¶åˆ¤æ–­ï¼Œæ— æ³•ç»“æŸ
	//if (sizeof...(args) == 0) return;
}

// ç¼–è¯‘æ—¶é€’å½’æ¨å¯¼è§£æå‚æ•°
template &lt;class ...Args&gt;
void ShowList(Args&amp;&amp;... args){
	Print(args...);
}

int main(){
	ShowList();
	ShowList(1);
	ShowList(1, "xxxxx");
	ShowList(1, "xxxxx", 2.2);

	return 0;
}</code></pre> 
<p><strong>å¯¹äºé€’å½’å‡½æ•°è§£åŒ…å…¶å®è´¨åˆ†æï¼š</strong></p> 
<h5 style="background-color:transparent;"><strong>é€—å·è¡¨è¾¾å¼å±•å¼€å‚æ•°åŒ…</strong></h5> 
<pre><code class="language-cpp">template &lt;class T&gt;
int PrintArg(T t){
	cout &lt;&lt; t &lt;&lt; " ";
	return 0;
}

template &lt;class ...Args&gt;
void ShowList(Args... args){
	int arr[] = { PrintArg(args)... };
	cout &lt;&lt; endl;
}
 
// ç¼–è¯‘æ¨æ¼”ç”Ÿæˆä¸‹é¢çš„å‡½æ•°
void ShowList(int x, char y, std::string z) //å‚æ•°åŒ…æ¢ç®—ä¹‹åå°±æ˜¯è¿™æ ·çš„
{
	int arr[] = { PrintArg(x),PrintArg(y),PrintArg(z) }; //ç¼–è¯‘å™¨é€šè¿‡è§£åŒ…ç”Ÿæˆçš„å°±æ˜¯è¿™ä¸ª
	cout &lt;&lt; endl;
}

int main(){
	ShowList(1);
	ShowList(1, 'A');
	ShowList(1, 'A', std::string("sort"));

	return 0;
}</code></pre> 
<p>å¯¹äº<strong>é€—å·è¡¨è¾¾å¼è§£åŒ…</strong>å…¶å®è´¨åˆ†æï¼š</p> 
<pre><code class="language-cpp">//ä¹‹å‰å»æ‰é€—å·è¡¨è¾¾å¼é€šè¿‡è¿”å›å€¼å»æ‰çš„
template &lt;class ...Args&gt;
void ShowList(Args... args){
	//int arr[] = { cout &lt;&lt; (args) &lt;&lt; " "... };  //è¿™æ ·ç¼–è¯‘é€šè¿‡ä¸äº†
	//ostream arr[] = { cout &lt;&lt; (args) &lt;&lt; " "... }; //ostreamä¸æ”¯æŒæ‹·è´ï¼Œä¹Ÿé€šè¿‡ä¸äº†
	int arr[] = { (cout&lt;&lt;(args)&lt;&lt;" ", 0)...}; //åŠ ä¸ªé€—å·è¡¨è¾¾å¼ï¼Œ0ä½œé‚£ä¸ªåˆå§‹åŒ–

	cout &lt;&lt; endl;
}

void ShowList(int x, char y, std::string z) //ç›¸å½“äºç¼–è¯‘å™¨ç”Ÿæˆäº†è¿™ä¸ª
{ //æ³¨æ„è¦æœ‰0
	int arr[] = { (cout&lt;&lt;(x)&lt;&lt;" ", 0), (cout &lt;&lt; (y) &lt;&lt; " ", 0), (cout &lt;&lt; (z) &lt;&lt; " ", 0) };

	cout &lt;&lt; endl;
}

int main(){
	ShowList(1, 'A', std::string("sort"));
	return 0;
}</code></pre> 
<h4></h4> 
<p></p> 
<h3 style="background-color:transparent;">2.Â lambdaè¡¨è¾¾å¼</h3> 
<h4>2.1 æ¦‚å¿µ</h4> 
<blockquote> 
 <p>Â  Â  Â åœ¨C++98ä¸­ï¼Œå¦‚æœæƒ³è¦å¯¹ä¸€ä¸ªæ•°æ®é›†åˆä¸­çš„å…ƒç´ è¿›è¡Œæ’åºï¼Œå¯ä»¥ä½¿ç”¨<strong>sortå‡½æ•°</strong>ã€‚å¦‚æœå¾…<strong>æ’åºå…ƒç´ ä¸ºè‡ªå®šä¹‰ç±»å‹</strong>ï¼Œéœ€è¦ç”¨æˆ·ä½¿ç”¨<strong>ä»¿å‡½æ•°å®šä¹‰æ’åºæ—¶çš„æ¯”è¾ƒè§„åˆ™</strong>ã€‚éšç€C++è¯­æ³•çš„å‘å±•ï¼Œäººä»¬å¼€å§‹è§‰å¾—ä¸Šé¢çš„å†™æ³•å¤ªå¤æ‚äº†ï¼Œæ¯æ¬¡ä¸ºäº†å®ç°ä¸€ä¸ªalgorithmç®—æ³•ï¼Œéƒ½è¦é‡æ–°å»å†™ä¸€ä¸ªç±»ï¼Œå¦‚æœæ¯æ¬¡æ¯”è¾ƒçš„é€»è¾‘ä¸ä¸€æ ·ï¼Œè¿˜è¦å»å®ç°å¤šä¸ªç±»ï¼Œç‰¹åˆ«æ˜¯ç›¸åŒç±»çš„å‘½åï¼Œè¿™äº›éƒ½ç»™ç¼–ç¨‹è€…å¸¦æ¥äº†æå¤§çš„ä¸ä¾¿ã€‚å› æ­¤ï¼Œåœ¨C++11è¯­æ³•ä¸­å‡ºç°äº†<strong>Lambdaè¡¨è¾¾å¼</strong>ã€‚</p> 
</blockquote> 
<h4 style="background-color:transparent;">2.2Â <strong>lambdaè¡¨è¾¾å¼è¯­æ³•</strong></h4> 
<p><strong>lambdaè¡¨è¾¾å¼ä¹¦å†™æ ¼å¼ï¼š</strong>[capture-list] (parameters) mutable -&gt; return-type { statement}</p> 
<blockquote> 
 <ul><li><strong>[capture-list]ï¼šæ•æ‰åˆ—è¡¨</strong>ï¼Œè¯¥åˆ—è¡¨æ€»æ˜¯å‡ºç°åœ¨lambdaå‡½æ•°çš„å¼€å§‹ä½ç½®ï¼Œç¼–è¯‘å™¨æ ¹æ®[ ]åˆ¤æ–­æ¥ä¸‹æ¥çš„å‡½æ•°æ˜¯å¦ä¸ºlambdaå‡½æ•°ï¼Œæ•æ‰åˆ—è¡¨èƒ½å¤Ÿæ•æ‰ä¸Šä¸‹æ–‡ä¸­çš„å˜é‡ä¾›lambdaå‡½æ•°ä½¿ç”¨ã€‚</li><li> <p><strong>Â (parameters)ï¼š</strong><strong>å‚æ•°åˆ—è¡¨</strong>ã€‚ä¸æ™®é€šå‡½æ•°çš„å‚æ•°åˆ—è¡¨ä¸€è‡´ï¼Œå¦‚æœä¸éœ€è¦å‚æ•°ä¼ é€’ï¼Œåˆ™å¯ä»¥<br> è¿åŒ()ä¸€èµ·çœç•¥ã€‚</p> </li><li> <p><strong>mutableï¼š</strong>é»˜è®¤æƒ…å†µä¸‹ï¼Œlambdaå‡½æ•°æ€»æ˜¯ä¸€ä¸ª<strong>constå‡½æ•°</strong>ï¼Œmutableå¯ä»¥<strong>å–æ¶ˆå…¶å¸¸é‡æ€§</strong>ã€‚ä½¿ç”¨è¯¥ä¿®é¥°ç¬¦æ—¶ï¼Œ<strong>å‚æ•°åˆ—è¡¨ä¸å¯çœç•¥(å³ä½¿å‚æ•°ä¸ºç©º)</strong>ã€‚</p> </li><li> <p><strong>-&gt;returntypeï¼šè¿”å›å€¼ç±»å‹ã€‚</strong>ç”¨è¿½è¸ªè¿”å›ç±»å‹å½¢å¼å£°æ˜å‡½æ•°çš„è¿”å›å€¼ç±»å‹ï¼Œæ²¡æœ‰è¿”å›å€¼æ—¶æ­¤éƒ¨åˆ†å¯çœç•¥ã€‚è¿”å›å€¼ç±»å‹æ˜ç¡®æƒ…å†µä¸‹ï¼Œä¹Ÿå¯çœç•¥ï¼Œç”±ç¼–è¯‘å™¨å¯¹è¿”å›ç±»å‹è¿›è¡Œæ¨å¯¼ã€‚</p> </li><li> <p><strong>{statement}ï¼šå‡½æ•°ä½“</strong>ã€‚åœ¨è¯¥å‡½æ•°ä½“å†…ï¼Œé™¤äº†å¯ä»¥ä½¿ç”¨å…¶å‚æ•°å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨æ‰€æœ‰æ•è·<br> åˆ°çš„å˜é‡ã€‚</p> </li></ul> 
 <p>æ³¨æ„ï¼š<strong> åœ¨lambdaå‡½æ•°å®šä¹‰ä¸­ï¼Œå‚æ•°åˆ—è¡¨å’Œè¿”å›å€¼ç±»å‹éƒ½æ˜¯å¯é€‰éƒ¨åˆ†ï¼Œè€Œæ•æ‰åˆ—è¡¨å’Œå‡½æ•°ä½“å¯ä»¥ä¸ºç©ºã€‚å› æ­¤C++11ä¸­æœ€ç®€å•çš„lambdaå‡½æ•°ä¸ºï¼š[]{}; è¯¥lambdaå‡½æ•°ä¸èƒ½åšä»»ä½•äº‹æƒ…</strong></p> 
</blockquote> 
<p><strong>æ•è·åˆ—è¡¨è¯´æ˜ï¼š</strong></p> 
<p>æ•æ‰åˆ—è¡¨æè¿°äº†ä¸Šä¸‹æ–‡ä¸­é‚£äº›æ•°æ®å¯ä»¥è¢«lambdaä½¿ç”¨ï¼Œä»¥åŠä½¿ç”¨çš„æ–¹å¼ä¼ å€¼è¿˜æ˜¯ä¼ å¼•ç”¨ã€‚</p> 
<ul><li>[var]ï¼šè¡¨ç¤ºå€¼ä¼ é€’æ–¹å¼æ•æ‰å˜é‡varã€‚</li><li>[=]ï¼šè¡¨ç¤ºå€¼ä¼ é€’æ–¹å¼æ•è·æ‰€æœ‰çˆ¶ä½œç”¨åŸŸä¸­çš„å˜é‡(åŒ…æ‹¬æˆå‘˜å‡½æ•°ä¸­çš„this)ã€‚</li><li>[&amp;var]ï¼šè¡¨ç¤ºå¼•ç”¨ä¼ é€’æ•æ‰å˜é‡varã€‚</li><li>[&amp;]ï¼šè¡¨ç¤ºå¼•ç”¨ä¼ é€’æ•æ‰æ‰€æœ‰çˆ¶ä½œç”¨åŸŸä¸­çš„å˜é‡(åŒ…æ‹¬æˆå‘˜å‡½æ•°ä¸­çš„this)ã€‚</li><li>[this]ï¼šè¡¨ç¤ºå€¼ä¼ é€’æ–¹å¼æ•æ‰å½“å‰çš„thisæŒ‡é’ˆã€‚</li></ul> 
<p><strong>ä»£ç ç¤ºä¾‹1ï¼š</strong></p> 
<pre><code class="language-cpp">// lambda åŒ¿åå‡½æ•°çš„å¯¹è±¡
int main(){
	auto add1 = [](int x, int y)-&gt;int {return x + y; };
	cout &lt;&lt; add1(1, 2) &lt;&lt; endl;

	auto func1 = []()-&gt;int{
		cout &lt;&lt; "hello bit" &lt;&lt; endl;
		cout &lt;&lt; "hello world" &lt;&lt; endl;
		return 0;
	};
	func1();

	// è¿”å›å€¼ç±»å‹å¯è‡ªåŠ¨æ¨å¯¼ç±»å‹ï¼Œæ‰€ä»¥å¯ä»¥çœç•¥
	// æ— å‚æ•°å¯ä»¥çœç•¥
    // è¿”å›å€¼ä¸€èˆ¬éƒ½ä¸èƒ½çœç•¥
	auto func2 = []{
		cout &lt;&lt; "hello bit" &lt;&lt; endl;
		cout &lt;&lt; "hello world" &lt;&lt; endl;
		return 0;
	};
	cout &lt;&lt; func2() &lt;&lt; endl;

    //æ— è¿”å›å€¼æ—¶å¯ä»¥çœç•¥è¿”å›å€¼ï¼Œä½†æ˜¯å»ºè®®æœ€å¥½è¿˜æ˜¯æœ‰è¿”å›å€¼
	auto func3 = []{
		cout &lt;&lt; "hello bit" &lt;&lt; endl;
		cout &lt;&lt; "hello world" &lt;&lt; endl;
	};
	func3();

	return 0;
}</code></pre> 
<p><strong>Â Â ä»£ç ç¤ºä¾‹2ï¼š</strong></p> 
<pre><code class="language-cpp">int main(){
	int a = 0, b = 1;

	auto swap1 = [](int&amp; x, int&amp; y){ //å‚æ•°åˆ—è¡¨
		// åªèƒ½ç”¨å½“å‰lambdaå±€éƒ¨åŸŸå’Œæ•æ‰çš„å¯¹è±¡
		int tmp = x;
		x = y;
		y = tmp;
	};
	swap1(a, b);

	// ä¼ å€¼æ•æ‰æœ¬è´¨æ˜¯ä¸€ç§æ‹·è´,å¹¶ä¸”constä¿®é¥°äº†
	// mutableç›¸å½“äºå»æ‰constå±æ€§ï¼Œå¯ä»¥ä¿®æ”¹äº†
	// ä½†æ˜¯ä¿®æ”¹äº†ä¸ä¼šå½±å“å¤–é¢è¢«æ•æ‰çš„å€¼ï¼Œå› ä¸ºæ˜¯ä¸€ç§æ‹·è´
	auto swap2 = [a, b]()mutable{ //æ•æ‰åˆ—è¡¨
		int tmp = a;
		a = b;
		b = tmp;
	};
	swap2();

	auto swap3 = [&amp;a, &amp;b](){ //è¿™é‡Œ &amp; æ˜¯å¼•ç”¨
		int tmp = a;
		a = b;
		b = tmp;
	};
	swap3();
     
    //...æ­¤å¤„Goodsçš„ç»“æ„ä½“æ„é€ ä¸‰ä¸ªå‚æ•°åˆ†åˆ«ä¸ºstring _nameï¼Œint _priceï¼Œ_evaluate
    vector&lt;Goods&gt; v = { { "è‹¹æœ", 2.1, 5 }, { "é¦™è•‰", 3, 4 }, 
        { "æ©™å­", 2.2,3 }, { "è è", 1.5, 4 } }; 
    //boolè¿”å›ç±»å‹å¯ä»¥çœç•¥
    sort(v.begin(), v.end(), [](const Goods&amp; g1, const Goods&amp; g2)-&gt;bool
	{
		return g1._price &gt; g2._price;
	});
    
	return 0;
}</code></pre> 
<p><strong>æ³¨æ„ï¼š</strong></p> 
<blockquote> 
 <ul><li>çˆ¶ä½œç”¨åŸŸæŒ‡åŒ…å«lambdaå‡½æ•°çš„è¯­å¥å—</li><li>è¯­æ³•ä¸Šæ•æ‰åˆ—è¡¨å¯<strong>ç”±å¤šä¸ªæ•æ‰é¡¹ç»„æˆ</strong>ï¼Œå¹¶ä»¥<strong>é€—å·åˆ†å‰²</strong>ã€‚æ¯”å¦‚ï¼š<strong>[=, &amp;a, &amp;b]</strong>ï¼šä»¥<strong>å¼•ç”¨ä¼ é€’</strong>çš„æ–¹å¼æ•æ‰å˜é‡aå’Œbï¼Œ<strong>å€¼ä¼ é€’</strong>æ–¹å¼æ•æ‰å…¶ä»–æ‰€æœ‰å˜é‡ [&amp;ï¼Œa,this]ï¼š<strong>å€¼ä¼ é€’æ–¹å¼æ•æ‰å˜é‡aå’Œthisï¼Œå¼•ç”¨æ–¹å¼æ•æ‰å…¶ä»–å˜é‡ã€‚</strong></li><li>æ•æ‰åˆ—è¡¨<strong>ä¸å…è®¸å˜é‡é‡å¤ä¼ é€’</strong>ï¼Œå¦åˆ™å°±ä¼š<strong>å¯¼è‡´ç¼–è¯‘é”™è¯¯</strong>ã€‚ æ¯”å¦‚ï¼š<strong>[=, a]</strong>ï¼š <strong>=</strong> å·²ç»ä»¥å€¼ä¼ é€’æ–¹å¼æ•æ‰äº†æ‰€æœ‰å˜é‡ï¼Œæ•æ‰aé‡å¤ã€‚</li><li>åœ¨<strong>å—ä½œç”¨åŸŸä»¥å¤–</strong>çš„lambdaå‡½æ•°<strong>æ•æ‰åˆ—è¡¨å¿…é¡»ä¸ºç©ºã€‚</strong></li><li>åœ¨å—ä½œç”¨åŸŸä¸­çš„lambdaå‡½æ•°<strong>ä»…èƒ½æ•æ‰çˆ¶ä½œç”¨åŸŸä¸­å±€éƒ¨å˜é‡</strong>ï¼Œæ•<strong>æ‰ä»»ä½•éæ­¤ä½œç”¨åŸŸæˆ–è€…éå±€éƒ¨å˜é‡éƒ½ä¼šå¯¼è‡´ç¼–è¯‘æŠ¥é”™ã€‚</strong></li><li>lambdaè¡¨è¾¾å¼ä¹‹é—´<strong>ä¸èƒ½ç›¸äº’èµ‹å€¼</strong>ï¼Œå³ä½¿çœ‹èµ·æ¥ç±»å‹ç›¸åŒã€‚</li></ul> 
 <p>æ€»çš„æ¥è¯´ï¼Œlambdaè¡¨è¾¾å¼å°±æ˜¯ä¸€ä¸ªä»¿å‡½æ•°ï¼Œåº•å±‚è¢«å¤„ç†æˆä¸ºä¸€ä¸ªlambda_uuidçš„ä¸€ä¸ªä»¿å‡½æ•°ç±»ã€‚</p> 
</blockquote> 
<p>ä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š</p> 
<pre><code class="language-cpp">int x = 0;
int main(){
	// åªèƒ½ç”¨å½“å‰lambdaå±€éƒ¨åŸŸå’Œæ•æ‰çš„å¯¹è±¡å’Œå…¨å±€å¯¹è±¡
	int a = 0, b = 1, c = 2, d = 3;
	// æ‰€æœ‰å€¼ä¼ å€¼æ•æ‰
	auto func1 = [=]{
		int ret = a + b + c + d + x;
		return ret;
	};
	func1();
	cout &lt;&lt; "auto func1 = [=]ï¼š"&lt;&lt; a &lt;&lt; " " &lt;&lt; b &lt;&lt; " "  &lt;&lt; c &lt;&lt; " " &lt;&lt; d &lt;&lt; endl;

	// æ‰€æœ‰å€¼ä¼ å¼•ç”¨æ•æ‰
	auto func2 = [&amp;]{
		a++, b++, c++, d++;
		int ret = a + b + c + d;
		return ret;
	};
	func2();
	cout &lt;&lt;"auto func2 = [&amp;]ï¼š"&lt;&lt; a &lt;&lt; " " &lt;&lt; b &lt;&lt; " " &lt;&lt; c &lt;&lt; " " &lt;&lt; d &lt;&lt; endl;

	// æ··åˆæ•æ‰
	auto func3 = [&amp;a, b]{
		a++;
		//b++; //ç”±äºbæ˜¯ä¼ å€¼æ•æ‰ï¼Œbå°±ä¸èƒ½ä¿®æ”¹
		int ret = a + b;
		return ret;
	};
	func3();
	cout&lt;&lt;"auto func3 = [&amp;a, b]ï¼š" &lt;&lt; a &lt;&lt; " " &lt;&lt; b &lt;&lt; " " &lt;&lt; c &lt;&lt; " " &lt;&lt; d &lt;&lt; endl;
	

	// æ··åˆæ•æ‰
	// æ‰€æœ‰å€¼ä»¥å¼•ç”¨æ–¹å¼æ•æ‰ï¼Œdç”¨ä¼ å€¼æ•æ‰
	auto func4 = [&amp;, d]{
		a++,b++,c++;
		//d++; //æ•…dä¸èƒ½ä¿®æ”¹
		int ret = a + b + c + d;
	};
	func4();
	cout &lt;&lt; "auto func4 = [&amp;, d]ï¼š" &lt;&lt; a &lt;&lt; " " &lt;&lt; b &lt;&lt; " "  &lt;&lt; c &lt;&lt; " " &lt;&lt; d &lt;&lt; endl;


	auto func5 = [=, &amp;d](){
		//a++, b++, c++; //a,b,céƒ½ä¸èƒ½ä¿®æ”¹
		d++; 
		int ret = a + b + c + d;
	};
	func5();
	cout &lt;&lt; "auto func5 = [=, &amp;d]()ï¼š" &lt;&lt; a &lt;&lt; " " &lt;&lt; b &lt;&lt; " " &lt;&lt; c &lt;&lt; " " &lt;&lt; d &lt;&lt; endl;

	auto func6 = [=, &amp;d]() mutable {
		a++, b++, c++, d++; //éƒ½å¯ä»¥ä¿®æ”¹ï¼Œä½†æ˜¯åªæœ‰då¯¹å¤–é¢çš„å€¼æœ‰å½±å“
		int ret = a + b + c + d;
	};
	func6();
	cout &lt;&lt; "auto func6 = [=, &amp;d]() mutableï¼š" &lt;&lt; a &lt;&lt; " " &lt;&lt; b &lt;&lt; " "&lt;&lt; c &lt;&lt; " " &lt;&lt; d &lt;&lt; endl;
	
	return 0;
}</code></pre> 
<p><img alt="" height="199" src="https://images2.imgbox.com/80/88/ENJo5v35_o.png" width="634"></p> 
<h4 style="background-color:transparent;">2.3Â å‡½æ•°å¯¹è±¡ä¸lambdaè¡¨è¾¾å¼</h4> 
<p>å‡½æ•°å¯¹è±¡ï¼Œåˆç§°ä¸ºä»¿å‡½æ•°ï¼Œå³å¯ä»¥æƒ³å‡½æ•°ä¸€æ ·ä½¿ç”¨çš„å¯¹è±¡ï¼Œå°±æ˜¯åœ¨ç±»ä¸­é‡è½½äº†operator()è¿ç®—ç¬¦çš„<br> ç±»å¯¹è±¡ã€‚</p> 
<blockquote> 
 <p>Â  Â  Â  lambdaè¡¨è¾¾å¼å¯ä»¥å¾ˆå¥½çš„ä»£æ›¿ä»¿å‡½æ•°ä½¿ç”¨ï¼Œå¦‚æœä½¿ç”¨ä»¿å‡½æ•°ï¼Œé˜…è¯»ä»£ç çš„äººæƒ³è¦çŸ¥é“å…¶ä¸­çš„é€»è¾‘è¿˜éœ€è¦å»å¯¹åº”çš„åœ°æ–¹å»æ‰¾ï¼Œè€Œlambdaè¡¨è¾¾å¼å¯ä»¥å¾ˆå¥½çš„é¿å…è¿™ä¸ªé—®é¢˜ï¼Œ<strong>å¢å¼ºäº†ä»£ç çš„å¯è¯»æ€§ï¼š</strong></p> 
</blockquote> 
<pre><code class="language-cpp">class Rate{
public:
	Rate(double rate) : _rate(rate)
	{}

	double operator()(double money, int year){
		return money * _rate * year;
	}
private:
	double _rate;
};

//æ•æ‰åˆ—è¡¨çš„å¯¹è±¡æ˜¯æˆå‘˜å˜é‡å­˜åœ¨lambadç±»å¯¹è±¡ä¸­
//æ•æ‰çš„æœ¬è´¨æ˜¯æ„é€ å‡½æ•°çš„åˆå§‹åŒ–åˆ—è¡¨

int main(){
	// å‡½æ•°å¯¹è±¡
	double rate = 0.015;
	Rate r1(rate);
	cout &lt;&lt; r1(10000, 2) &lt;&lt; endl;

	// lambda
	auto r2 = [rate](double monty, int year)-&gt;double{
		return monty * rate * year;
	};
	cout &lt;&lt; r2(10000, 2) &lt;&lt; endl;

	int x = 1, y = 2;
	auto r3 = [=](double monty, int year)-&gt;double{
		return monty * rate * year;
	};
	cout &lt;&lt; r3(10000, 2) &lt;&lt; endl;

	return 0;
}</code></pre> 
<p>ä»ä½¿ç”¨æ–¹å¼ä¸Šæ¥çœ‹ï¼Œå‡½æ•°å¯¹è±¡ä¸lambdaè¡¨è¾¾å¼å®Œå…¨ä¸€æ ·ã€‚<br> å‡½æ•°å¯¹è±¡å°†rateä½œä¸ºå…¶æˆå‘˜å˜é‡ï¼Œåœ¨å®šä¹‰å¯¹è±¡æ—¶ç»™å‡ºåˆå§‹å€¼å³å¯ï¼Œlambdaè¡¨è¾¾å¼é€šè¿‡æ•è·åˆ—è¡¨å¯<br> ä»¥ç›´æ¥å°†è¯¥å˜é‡æ•è·åˆ°ã€‚</p> 
<p><img alt="" height="656" src="https://images2.imgbox.com/3c/bd/XNgJFu22_o.png" width="1200"></p> 
<p>å®é™…åœ¨åº•å±‚ç¼–è¯‘å™¨å¯¹äºlambdaè¡¨è¾¾å¼çš„å¤„ç†æ–¹å¼ï¼Œå®Œå…¨å°±æ˜¯æŒ‰ç…§å‡½æ•°å¯¹è±¡çš„æ–¹å¼å¤„ç†çš„ï¼Œå³ï¼šå¦‚<br> æœå®šä¹‰äº†ä¸€ä¸ªlambdaè¡¨è¾¾å¼ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªç±»ï¼Œåœ¨è¯¥ç±»ä¸­é‡è½½äº†operator()ã€‚</p> 
<p></p> 
<h3 style="background-color:transparent;">3ã€åŒ…è£…å™¨</h3> 
<h4 style="background-color:transparent;">3.1 function</h4> 
<p>functionåŒ…è£…å™¨ ä¹Ÿå«ä½œé€‚é…å™¨ã€‚C++ä¸­çš„functionæœ¬è´¨æ˜¯ä¸€ä¸ªç±»æ¨¡æ¿ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªåŒ…è£…å™¨ã€‚</p> 
<blockquote> 
 <p>ret = func(x);</p> 
</blockquote> 
<p>ä¸Šé¢funcå¯èƒ½æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿé‚£ä¹ˆfuncå¯èƒ½æ˜¯å‡½æ•°åï¼Ÿå‡½æ•°æŒ‡é’ˆï¼Ÿå‡½æ•°å¯¹è±¡(ä»¿å‡½æ•°å¯¹è±¡)ï¼Ÿä¹Ÿæœ‰å¯èƒ½æ˜¯lamberè¡¨è¾¾å¼å¯¹è±¡ï¼Ÿæ‰€ä»¥è¿™äº›éƒ½æ˜¯å¯è°ƒç”¨çš„ç±»å‹ï¼å¦‚æ­¤ä¸°å¯Œçš„ç±»å‹ï¼Œå¯èƒ½ä¼šå¯¼è‡´æ¨¡æ¿çš„æ•ˆç‡ä½ä¸‹ï¼</p> 
<p>ä¸¾ä¸ªä¾‹å­ï¼š</p> 
<pre><code class="language-cpp">template&lt;class F, class T&gt;
T useF(F f, T x){
	static int count = 0;
	cout &lt;&lt; "count:" &lt;&lt; ++count &lt;&lt; endl;
	cout &lt;&lt; "count:" &lt;&lt; &amp;count &lt;&lt; endl;
	return f(x);
}
double f(double i){
	return i / 2;
}
struct Functor{
	double operator()(double d){
		return d / 3;
	}
};
int main(){
	// å‡½æ•°å
	cout &lt;&lt; useF(f, 11.11) &lt;&lt; endl;
	// å‡½æ•°å¯¹è±¡
	cout &lt;&lt; useF(Functor(), 11.11) &lt;&lt; endl;
	// lamberè¡¨è¾¾å¼
	cout &lt;&lt; useF([](double d)-&gt;double { return d / 4; }, 11.11) &lt;&lt; endl;
	return 0;
}</code></pre> 
<p>é€šè¿‡ä¸Šé¢çš„ç¨‹åºéªŒè¯ï¼Œæˆ‘ä»¬ä¼šå‘ç°useFå‡½æ•°æ¨¡æ¿å®ä¾‹åŒ–äº†ä¸‰ä»½ã€‚<br> ä½†æ˜¯åŒ…è£…å™¨å¯ä»¥å¾ˆå¥½çš„è§£å†³ä¸Šé¢çš„é—®é¢˜</p> 
<blockquote> 
 <p>std::functionåœ¨å¤´æ–‡ä»¶<strong>&lt;functional&gt;</strong><br> // ç±»æ¨¡æ¿åŸå‹å¦‚ä¸‹<br><strong><span style="color:#956fe7;">template </span>&lt;<span style="color:#956fe7;">class</span><span style="color:#4da8ee;"> </span><span style="color:#38d8f0;">T</span>&gt; function; Â Â // undefined<br><span style="color:#956fe7;">template</span> &lt;<span style="color:#956fe7;">class</span> Ret, <span style="color:#956fe7;">class</span>... Args&gt;<br><span style="color:#956fe7;">class</span><span style="color:#1a439c;"> </span><span style="color:#38d8f0;">function</span>&lt;Ret(Args...)&gt;;</strong></p> 
 <p><br> æ¨¡æ¿å‚æ•°è¯´æ˜ï¼š</p> 
 <ul><li><strong>Ret :</strong> è¢«è°ƒç”¨å‡½æ•°çš„è¿”å›ç±»å‹</li><li><strong>Argsâ€¦Â </strong>ï¼šè¢«è°ƒç”¨å‡½æ•°çš„å½¢å‚</li></ul> 
</blockquote> 
<p>ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š</p> 
<pre><code class="language-cpp">#include&lt;functional&gt;

int f(int a, int b){
	return a + b;
}

struct Functor{
public:
	int operator() (int a, int b){
		return a + b;
	}
};

class Plus{
public:
	static int plusi(int a, int b){
		return a + b;
	}
	double plusd(double a, double b){
		return a + b;
	}
};


int main(){
	// åŒ…è£…å¯è°ƒç”¨å¯¹è±¡
	//function&lt;int(int)&gt; f1 = f; //ç±»å‹ä¸åŒ¹é…ä¼šæŠ¥é”™çš„
	function&lt;int(int, int)&gt; f1 = f; //å®ä¾‹åŒ–æ–¹å¼
	function&lt;int(int, int)&gt; f2 = Functor();
	function&lt;int(int, int)&gt; f3 = [](int a, int b) {return a + b; };

	cout &lt;&lt; f1(1, 1) &lt;&lt; endl;
	cout &lt;&lt; f2(1, 1) &lt;&lt; endl;
	cout &lt;&lt; f3(1, 1) &lt;&lt; endl;

	//ç”±äºæˆå‘˜å‡½æ•°çš„å‡½æ•°åå—ç±»åŸŸé™åˆ¶ï¼Œå› æ­¤ä¸‹é¢æˆ‘ä»¬éœ€è¦æŒ‡å®šå‡½æ•°å
	// åŒ…è£…é™æ€æˆå‘˜å‡½æ•°
	function&lt;int(int, int)&gt; f4 = &amp;Plus::plusi;
	cout &lt;&lt; f4(1, 1) &lt;&lt; endl;

	// åŒ…è£…éé™æ€æˆå‘˜å‡½æ•°
	//éé™æ€çš„æˆå‘˜å‡½æ•°è¦å–å‡½æ•°æŒ‡é’ˆçš„æ—¶å€™ï¼Œéœ€è¦åŠ ä¸ª&amp;ï¼Œé™æ€å¯ä»¥ä¸åŠ 
	//function&lt;double(double, double)&gt; f5 = &amp;Plus::plusd;  
	
	//ç”±äºä¸Šé¢ç¼–è¯‘é€šè¿‡ï¼Œå› ä¸ºå…¶è¿˜æœ‰ä¸€ä¸ªéšå«çš„thiså‚æ•°ï¼Œä¸‹é¢æœ‰ä¸¤ç§è§£å†³æ–¹æ¡ˆ
	//æ–¹æ³•ä¸€ï¼šä¼ æŒ‡é’ˆ
	function&lt;double(Plus*, double, double)&gt; f5 = &amp;Plus::plusd;
	Plus pd;
	cout &lt;&lt; f5(&amp;pd, 1.1, 1.1) &lt;&lt; endl;

	//æ–¹æ³•äºŒï¼šä¸ä¼ æŒ‡é’ˆï¼Œåªä¼ å¯¹è±¡
	function&lt;double(Plus, double, double)&gt; f6 = &amp;Plus::plusd;
	cout &lt;&lt; f6(pd, 1.1, 1.1) &lt;&lt; endl;
	cout &lt;&lt; f6(Plus(), 1.1, 1.1) &lt;&lt; endl;

	return 0;
}</code></pre> 
<p><span style="color:#be191c;">æœ‰äº†åŒ…è£…å™¨ï¼Œå¦‚ä½•è§£å†³æ¨¡æ¿çš„æ•ˆç‡ä½ä¸‹ï¼Œå®ä¾‹åŒ–å¤šä»½çš„é—®é¢˜å‘¢ï¼Ÿ</span></p> 
<pre><code class="language-cpp">template&lt;class F, class T&gt; 
T useF(F f, T x) {
	static int count = 0;
	cout &lt;&lt; "count:" &lt;&lt; ++count &lt;&lt; endl;
	cout &lt;&lt; "count:" &lt;&lt; &amp;count &lt;&lt; endl;
	return f(x);
}

double f(double i) {
	return i / 2;
}
struct Functor{
	double operator()(double d){
		return d / 3;
	}
};
int main(){
	// å‡½æ•°å
	std::function&lt;double(double)&gt; func1 = f;
	cout &lt;&lt; useF(func1, 11.11) &lt;&lt; endl;
	// å‡½æ•°å¯¹è±¡
	std::function&lt;double(double)&gt; func2 = Functor();
	cout &lt;&lt; useF(func2, 11.11) &lt;&lt; endl;
	// lamberè¡¨è¾¾å¼
	std::function&lt;double(double)&gt; func3 = [](double d)-&gt;double{ return d / 4; };
	cout &lt;&lt; useF(func3, 11.11) &lt;&lt; endl;
	return 0;
}
 </code></pre> 
<p><span style="color:#fe2c24;">å€¼å¾—æ³¨æ„çš„æ˜¯ï¼šå¯¹æˆå‘˜å‡½æ•°è¿›è¡ŒåŒ…è£…æ—¶ï¼Œéœ€è¦å–åœ°å€</span></p> 
<p></p> 
<p><span style="color:#b95514;"><strong>åŒ…è£…å™¨çš„ä¸€äº›å…¶ä»–ä½¿ç”¨åœºæ™¯ï¼š</strong></span></p> 
<p><a href="https://leetcode.cn/problems/evaluate-reverse-polish-notation/description/" rel="nofollow" title="é€†æ³¢å…°è¡¨è¾¾å¼æ±‚å€¼">é€†æ³¢å…°è¡¨è¾¾å¼æ±‚å€¼</a></p> 
<pre><code class="language-cpp">class Solution {
public:
    int evalRPN(vector&lt;string&gt;&amp; tokens) {
        stack&lt;int&gt; st;
        map&lt;string, function&lt;int(int, int)&gt;&gt;opFuncMap = {
            {"+", [](int x, int y){return x + y;}},
            {"-", [](int x, int y){return x - y;}},
            {"*", [](int x, int y){return x * y;}},
            {"/", [](int x, int y){return x / y;}}
        };
        // //æ–¹æ³•ä¸€ï¼š
        // for(auto &amp;e : tokens){
        //     if(e == "+" || e == "-" || e == "*" || e == "/"){
        //         int r = st.top();st.pop();
        //         int l = st.top(); st.pop();
        //         switch(e[0]){
        //             case '+':
        //                 st.push(l + r);
        //                 break;
        //             case '-':
        //                 st.push(l - r);
        //                 break;
        //             case '*':
        //                 st.push(l * r);
        //                 break;
        //             case '/':
        //                 st.push(l / r);
        //                 break;
        //         }
        //     }
        //     else {
        //         st.push(stoi(e));
        //     }
        // }
        
        //æ–¹æ³•äºŒï¼š
        for(auto &amp;e : tokens)
        {
            //if(e == "+" || e == "-" || e == "*" || e == "/")
            if(opFuncMap.count(e)) {  // == 1å°±æ˜¯æ“ä½œç¬¦
                int r = st.top();st.pop();
                int l = st.top();st.pop();
                int ret = opFuncMap[e](l,r);
                st.push(ret);
            }
            else{
                st.push(stoi(e));
            }
        }

        return st.top();
    }
};</code></pre> 
<h4 style="background-color:transparent;">3.2 bind</h4> 
<p style="background-color:transparent;"><img alt="" height="131" src="https://images2.imgbox.com/b8/fb/0DbGN8Xp_o.png" width="551"></p> 
<p></p> 
<blockquote> 
 <p>Â Â Â Â Â Â Â Â bindæ˜¯ä¸€ä¸ªå‡½æ•°æ¨¡æ¿ï¼Œå®ƒå°±åƒä¸€ä¸ªå‡½æ•°åŒ…è£…å™¨(é€‚é…å™¨)ï¼Œæ¥å—ä¸€ä¸ªå¯è°ƒç”¨å¯¹è±¡ï¼Œç”Ÿæˆä¸€ä¸ªæ–°çš„å¯è°ƒç”¨å¯¹è±¡æ¥â€œé€‚åº”â€åŸå¯¹è±¡çš„å‚æ•°åˆ—è¡¨ã€‚ä¸€èˆ¬è€Œè¨€ï¼Œæˆ‘ä»¬ç”¨å®ƒå¯ä»¥æŠŠä¸€ä¸ªåŸæœ¬æ¥æ”¶Nä¸ªå‚æ•°çš„å‡½æ•°fnï¼Œé€šè¿‡ç»‘å®šä¸€äº›å‚æ•°ï¼Œè¿”å›ä¸€ä¸ªæ¥æ”¶Mä¸ª<strong>ï¼ˆMå¯ä»¥å¤§äºNï¼Œä½†è¿™ä¹ˆåšæ²¡ä»€ä¹ˆæ„ä¹‰ï¼‰å‚æ•°çš„æ–°å‡½æ•°</strong>ã€‚åŒæ—¶ï¼Œä½¿ç”¨bindå‡½æ•°è¿˜å¯ä»¥å®ç°å‚æ•°é¡ºåºè°ƒæ•´ç­‰æ“ä½œã€‚</p> 
</blockquote> 
<p><img alt="" height="137" src="https://images2.imgbox.com/ae/09/sm5cW4Pa_o.png" width="423"></p> 
<p><img alt="" height="127" src="https://images2.imgbox.com/12/21/btnE1WsW_o.png" width="558"></p> 
<blockquote> 
 <p>Â Â Â Â Â Â Â Â å¯ä»¥å°†bindå‡½æ•°çœ‹ä½œæ˜¯ä¸€ä¸ªé€šç”¨çš„å‡½æ•°é€‚é…å™¨ï¼Œå®ƒæ¥å—ä¸€ä¸ªå¯è°ƒç”¨å¯¹è±¡ï¼Œç”Ÿæˆä¸€ä¸ªæ–°çš„å¯è°ƒç”¨å¯¹è±¡æ¥â€œé€‚åº”â€åŸå¯¹è±¡çš„å‚æ•°åˆ—è¡¨ã€‚ è°ƒç”¨bindçš„ä¸€èˆ¬å½¢å¼ï¼šauto newCallable =bind(callable,arg_list);å…¶ä¸­ï¼ŒnewCallableæœ¬èº«æ˜¯ä¸€ä¸ªå¯è°ƒç”¨å¯¹è±¡ï¼Œarg_listæ˜¯ä¸€ä¸ªé€—å·åˆ†éš”çš„å‚æ•°åˆ—è¡¨ï¼Œå¯¹åº”ç»™å®šçš„callableçš„å‚æ•°ã€‚å½“æˆ‘ä»¬è°ƒç”¨newCallableæ—¶ï¼ŒnewCallableä¼šè°ƒç”¨callable,å¹¶ä¼ ç»™å®ƒarg_listä¸­çš„å‚æ•°ã€‚<br> Â Â Â Â Â Â Â Â arg_listä¸­çš„å‚æ•°å¯èƒ½åŒ…å«å½¢å¦‚_nçš„åå­—ï¼Œå…¶ä¸­næ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œè¿™äº›å‚æ•°æ˜¯â€œå ä½ç¬¦â€ï¼Œè¡¨ç¤ºnewCallableçš„å‚æ•°ï¼Œå®ƒä»¬å æ®äº†ä¼ é€’ç»™newCallableçš„å‚æ•°çš„â€œä½ç½®â€ã€‚æ•°å€¼nè¡¨ç¤ºç”Ÿæˆçš„å¯è°ƒç”¨å¯¹è±¡ä¸­å‚æ•°çš„ä½ç½®ï¼š_1ä¸ºnewCallableçš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œ_2ä¸ºç¬¬äºŒä¸ªå‚æ•°ï¼Œä»¥æ­¤ç±»æ¨ã€‚</p> 
</blockquote> 
<p>ä½¿ç”¨å¦‚ä¸‹ï¼š</p> 
<pre><code class="language-cpp">int Sub(int a, int b){return (a - b) * 10;}

int SubX(int a, int b, int c){return (a - b - c) * 10;}

//å¯ä»¥ç”¨å‘½åç©ºé—´å±•ç¤ºå‡ºæ¥
using placeholders::_1;
using placeholders::_2;
using placeholders::_3;

int main()
{
	//auto sub1 = bind(Sub,placeholders::_1,placeholders::_2);
	// bind æœ¬è´¨è¿”å›çš„ä¸€ä¸ªä»¿å‡½æ•°å¯¹è±¡
	// è°ƒæ•´å‚æ•°é¡ºåºï¼ˆä¸å¸¸ç”¨ï¼‰
	// _1ä»£è¡¨ç¬¬ä¸€ä¸ªå®å‚
	// _2ä»£è¡¨ç¬¬äºŒä¸ªå®å‚

	auto sub1 = bind(Sub, _1, _2); //ä»£è¡¨Sub(_1, _2)
	cout &lt;&lt; sub1(10, 5) &lt;&lt; endl;//10 ç›¸å½“äº_1, 5ç›¸å½“äº_2

	auto sub2 = bind(Sub, _2, _1); //ä»£è¡¨Sub(_2, _1)
	cout &lt;&lt; sub2(10, 5) &lt;&lt; endl; //5 ç›¸å½“äº_2, 10ç›¸å½“äº_1

	//è°ƒæ•´å‚æ•°ä¸ªæ•°ï¼ˆå¸¸ç”¨ï¼‰
	auto sub3 = bind(Sub, 10, _1); //ä»£è¡¨Sub(100, _1)
	cout &lt;&lt; sub3(5) &lt;&lt; endl; //5 ç›¸å½“äº_1

	auto sub4 = bind(Sub, _1, 10); //ä»£è¡¨Sub(_1, 10)
	cout &lt;&lt; sub4(5) &lt;&lt; endl; //5 ç›¸å½“äº_1

	// åˆ†åˆ«ç»‘æ­»ç¬¬123ä¸ªå‚æ•°
	auto sub5 = bind(SubX, 10, _1, _2);
	cout &lt;&lt; sub5(5, 1) &lt;&lt; endl;

	auto sub6 = bind(SubX, _1, 10, _2);
	cout &lt;&lt; sub6(5, 1) &lt;&lt; endl;

	auto sub7 = bind(SubX, _1, _2, 10);
	cout &lt;&lt; sub7(5, 1) &lt;&lt; endl;

	function&lt;double(Plus, double, double)&gt; f6 = &amp;Plus::plusd;
	Plus pd;
	cout &lt;&lt; f6(pd, 1.1, 1.1) &lt;&lt; endl;
	cout &lt;&lt; f6(Plus(), 1.1, 1.1) &lt;&lt; endl;

	// bindä¸€èˆ¬ç”¨äºï¼Œç»‘æ­»ä¸€äº›å›ºå®šå‚æ•°
	function&lt;double(double, double)&gt; f7 = bind(&amp;Plus::plusd, Plus(), _1, _2);
	cout &lt;&lt; f7(1.1, 1.1) &lt;&lt; endl;


	//auto func1 = [](double rate, double money, int year)-&gt;double {return monty * rate * year; }; //å•åˆ©
	auto func1 = [](double rate, double money, int year)-&gt;double { //å¤åˆ©
		double ret = money;
		for (int i = 0; i &lt; year; i++)
		{
			ret += ret * rate;
		}

		return ret - money;
	};

	function&lt;double(double)&gt; func3_1_5 = bind(func1, 0.015, _1, 3);
	function&lt;double(double)&gt; func5_1_5 = bind(func1, 0.015, _1, 5);
	function&lt;double(double)&gt; func10_2_5 = bind(func1, 0.025, _1, 10);
	function&lt;double(double)&gt; func20_3_5 = bind(func1, 0.035, _1, 30);

	cout &lt;&lt; func3_1_5(1000000) &lt;&lt; endl;
	cout &lt;&lt; func5_1_5(1000000) &lt;&lt; endl;
	cout &lt;&lt; func10_2_5(1000000) &lt;&lt; endl;
	cout &lt;&lt; func20_3_5(1000000) &lt;&lt; endl;

	return 0;
}</code></pre> 
<p></p> 
<p></p> 
<p><strong>åŒ…è£…å™¨çš„ä½œç”¨ï¼š</strong>ç»Ÿä¸€å¯è°ƒç”¨å¯¹è±¡çš„ç±»å‹ï¼ŒæŒ‡æ˜äº†å‚æ•°å’Œè¿”å›å€¼ç±»å‹</p> 
<p>ä¸åŒ…è£…å‰å¯èƒ½å­˜åœ¨å¾ˆå¤šé—®é¢˜ï¼š</p> 
<ul><li>å‡½æ•°æŒ‡é’ˆå¤ªå¤æ‚ï¼Œä¸æ–¹ä¾¿ç†è§£ã€‚</li><li>ä»¿å‡½æ•°ç±»å‹æ˜¯ä¸€ä¸ªç±»åï¼Œæ²¡æœ‰æŒ‡æ˜å‚æ•°å’Œè¿”å›å€¼ï¼Œéœ€è¦å»operator()æ‰èƒ½çœ‹å‡ºæ¥ã€‚</li><li>lambdaè¡¨è¾¾å¼åœ¨è¯­æ³•å±‚çœ‹ä¸åˆ°ç±»å‹ã€‚</li></ul> 
<hr> 
<h4>ğŸ“–æ€»ç»“</h4> 
<blockquote> 
 <p>ä»¥ä¸Šå°±æ˜¯C++11çš„å…¨éƒ¨å†…å®¹å•¦</p> 
 <p><strong>æœ¬ç¯‡åˆ°æ­¤å°±ç»“æŸï¼Œå¸Œæœ›æˆ‘çš„è¿™ç¯‡åšå®¢å¯ä»¥ç»™ä½ æä¾›æœ‰ç›Šçš„å‚è€ƒå’Œå¯ç¤ºï¼Œæ„Ÿè°¢å¤§å®¶æ”¯æŒï¼ï¼ï¼</strong></p> 
 <p><strong>ç¥å¤§å®¶å¤©å¤©é¡ºå¿ƒå¦‚æ„ã€‚</strong></p> 
</blockquote> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/bd/3e/TReRlLp6_o.gif"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f8b7b23d0e78429ede68c6f443e5733a/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">Cè¯­è¨€ æ•°ç»„</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/4bf2aa9f34c9f0cd036597e968d90b91/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">æå‰æ‰¹æµ‹å¼€ä¸‰é¢ï¼Œå·²OCï¼</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ç¼–ç¨‹å¤§å’–.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>