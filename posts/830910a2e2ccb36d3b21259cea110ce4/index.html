<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【linux】vim - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/830910a2e2ccb36d3b21259cea110ce4/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="【linux】vim">
  <meta property="og:description" content="🔥个人主页：Quitecoder
🔥专栏：linux笔记仓
目录 01.vim的基本概念02.基本操作03.正常模式命令集04.批量化注释与去注释05.sudo提权06.vim配置 01.vim的基本概念 Vim是一款高度配置化的文本编辑器，用于创建和编辑任何类型的文本，包括程序代码。它是从“vi”文本编辑器演变而来，增加了一些新功能和改进，包括插件系统、语法高亮、代码折叠、更好的搜索功能等。Vim是一款自由和开源的软件，遵循Vim许可证（它是一种类似于GPL许可证的自由软件许可证）。
vim的三种模式(其实有好多模式，目前掌握这3种即可),分别是命令模式（command mode）、插入模式（Insert mode）和底行模式（last line mode），各模式的功能区分如下：
正常/普通/命令模式(Normal mode)
控制屏幕光标的移动，字符、字或行的删除，移动复制某区段及进入Insert mode下，或者到 last line mode插入模式(Insert mode)
只有在Insert mode下，才可以做文字输入，按「ESC」键可回到命令行模式。该模式是我们后面用的最频繁的编辑模式。末行模式(last line mode)
文件保存或退出，也可以进行文件替换，找字符串，列出行号等操作。 在命令模式下，shift&#43;: 即可进入该模式。要查看你的所有模式：打开vim，底行模式直接输入 :help vim-modes 02.基本操作 vim的基本操作：
进入vim,在系统提示符号输入vim及文件名称后，就进入vim全屏幕编辑画面: $ vim test.c不过有一点要特别注意，就是你进入vim之后，是处于[正常模式]，你要切换到[插入模式]才能够输入文字。 [正常模式]切换至[插入模式] 输入a输入i输入o [插入模式]切换至[正常模式] 目前处于[插入模式]，就只能一直输入文字，如果发现输错了字,想用光标键往回移动，将该字删除，可以先按一下**「ESC」键**转到[正常模式]再删除文字。当然，也可以直接删除。 [正常模式]切换至[末行模式] 「shift &#43; ;」, 其实就是输入「:」 退出vim及保存文件,在[正常模式]下，按一下「:」冒号键进入「Last line mode」,例如: : w （保存当前文件）: wq (输入「wq」,存盘并退出vim): q! (输入q!,不存盘强制退出vim) 03.正常模式命令集 插入模式 按「i」切换进入插入模式「insert mode」，按“i”进入插入模式后是从光标当前位置开始输入文件；按「a」进入插入模式后，是从目前光标所在位置的下一个位置开始输入文字；按「o」进入插入模式后，是插入新的一行，从行首开始输入文字。 从插入模式切换为命令模式 按「ESC」键。 移动光标 vim可以直接用键盘上的光标来上下左右移动，但正规的vim是用小写英文字母 「h」、「j」、「k」、「l」，分别控制光标左、下、上、右移一格按「G」：移动到文章的最后按「 $ 」：移动到光标所在行的“行尾”按「^」：移动到光标所在行的“行首”按「w」：光标跳到下个字的开头按「e」：光标跳到下个字的字尾按「b」：光标回到上个字的开头按「#l」：光标移到该行的第#个位置，如：5l,56l按［gg］：进入到文本开始按［shift＋g］：进入文本末端按［#shift＋g］：进入第#行按「ctrl」&#43;「b」：屏幕往“后”移动一页按「ctrl」&#43;「f」：屏幕往“前”移动一页按「ctrl」&#43;「u」：屏幕往“后”移动半页按「ctrl」&#43;「d」：屏幕往“前”移动半页 删除文字 「x」：每按一次，删除光标所在位置的一个字符「#x」：例如，「6x」表示删除光标所在位置的“后面（包含自己在内）”6个字符「X」：大写的X，每按一次，删除光标所在位置的“前面”一个字符「#X」：例如，「20X」表示删除光标所在位置的“前面”20个字符「dd」：删除光标所在行「#dd」：从光标所在行开始删除#行 复制 「yw」：将光标所在之处到字尾的字符复制到缓冲区中。「#yw」：复制#个字到缓冲区「yy」：复制光标所在行到缓冲区。「#yy」：例如，「6yy」表示拷贝从光标所在的该行“往下数”6行文字。「p」：将缓冲区内的字符贴到光标所在位置。注意：所有与“y”有关的复制命令都必须与“p”配合才能完成复制与粘贴功能。 替换 「r」：替换光标所在处的字符。「R」：替换光标所到之处的字符，直到按下「ESC」键为止。 撤销上一次操作 「u」：如果您误执行一个命令，可以马上按下「u」，回到上一个操作。按多次“u”可以执行多次回复。「ctrl &#43; r」: 撤销的恢复 更改 「cw」：更改光标所在处的字到字尾处「c#w」：例如，「c3w」表示更改3个字 跳至指定的行 「ctrl」&#43;「g」列出光标所在行的行号。「#G」：例如，「15G」，表示移动光标至文章的第15行行首">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-07-24T17:47:14+08:00">
    <meta property="article:modified_time" content="2024-07-24T17:47:14+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【linux】vim</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atelier-sulphurpool-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><img src="https://images2.imgbox.com/17/5b/ninjRYiU_o.png" alt="Alt" width="300" height="170"></p> 
<p><font color="peru" size="4"><b>🔥个人主页</b>：<a href="https://blog.csdn.net/arf_dog?type=blog"><font color="#33CCCC" size="4"><b>Quitecoder</b></font></a></font></p> 
<p><font color="peru" size="4">🔥<strong>专栏</strong></font>：<a href="https://blog.csdn.net/arf_dog/category_12683629.html?spm=1001.2014.3001.5482"><font color="#33CCCC" size="4"><b>linux笔记仓</b></font></a></p> 
<p><img src="https://images2.imgbox.com/bf/f1/vsdSM2Gg_o.gif" alt="Alt"></p> 
<p></p> 
<div class="toc"> 
 <h4>目录</h4> 
 <ul><li><ul><li><a href="#01vim_13" rel="nofollow">01.vim的基本概念</a></li><li><a href="#02_30" rel="nofollow">02.基本操作</a></li><li><a href="#03_50" rel="nofollow">03.正常模式命令集</a></li><li><a href="#04_113" rel="nofollow">04.批量化注释与去注释</a></li><li><a href="#05sudo_130" rel="nofollow">05.sudo提权</a></li><li><a href="#06vim_142" rel="nofollow">06.vim配置</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h3><a id="01vim_13"></a>01.vim的基本概念</h3> 
<p>Vim是一款高度配置化的文本编辑器，用于创建和编辑任何类型的文本，包括程序代码。它是从“vi”文本编辑器演变而来，增加了一些新功能和改进，包括插件系统、语法高亮、代码折叠、更好的搜索功能等。Vim是一款自由和开源的软件，遵循Vim许可证（它是一种类似于GPL许可证的自由软件许可证）。</p> 
<p>vim的三种模式(其实有好多模式，目前掌握这3种即可),分别是命令模式（command mode）、插入模式（Insert mode）和底行模式（last line mode），各模式的功能区分如下：</p> 
<ul><li>正常/普通/命令模式(Normal mode)<br> 控制屏幕光标的移动，字符、字或行的删除，移动复制某区段及进入Insert mode下，或者到 last line mode</li><li>插入模式(Insert mode)<br> 只有在Insert mode下，才可以做文字输入，按「ESC」键可回到命令行模式。该模式是我们后面用的最频繁的编辑模式。</li><li>末行模式(last line mode)<br> 文件保存或退出，也可以进行文件替换，找字符串，列出行号等操作。 在命令模式下，shift+: 即可进入该模式。要查看你的所有模式：打开vim，底行模式直接输入</li></ul> 
<pre><code class="prism language-bash">:help vim-modes
</code></pre> 
<p><img src="https://images2.imgbox.com/1d/2b/7Nf2AXQY_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="02_30"></a>02.基本操作</h3> 
<p>vim的基本操作：</p> 
<ul><li>进入vim,在系统提示符号输入vim及文件名称后，就进入vim全屏幕编辑画面: 
  <ul><li><code>$ vim test.c</code></li><li>不过有一点要特别注意，就是你进入vim之后，<strong>是处于[正常模式]，你要切换到[插入模式]才能够输入文字。</strong></li></ul> </li><li><strong>[正常模式]切换至[插入模式]</strong> 
  <ul><li>输入a</li><li>输入i</li><li>输入o</li></ul> </li><li><strong>[插入模式]切换至[正常模式]</strong> 
  <ul><li>目前处于[插入模式]，就只能一直输入文字，如果发现输错了字,想用光标键往回移动，将该字删除，可以先按一下**「ESC」键**转到[正常模式]再删除文字。当然，也可以直接删除。</li></ul> </li><li><strong>[正常模式]切换至[末行模式]</strong> 
  <ul><li>「shift + ;」, 其实就是输入「:」</li></ul> </li><li><strong>退出vim及保存文件</strong>,在[正常模式]下，按一下「:」冒号键进入「Last line mode」,例如: 
  <ul><li>: w （保存当前文件）</li><li>: wq (输入「wq」,存盘并退出vim)</li><li>: q! (输入q!,不存盘强制退出vim)</li></ul> </li></ul> 
<h3><a id="03_50"></a>03.正常模式命令集</h3> 
<ul><li>插入模式 
  <ul><li>按「i」切换进入插入模式「insert mode」，按“i”进入插入模式后是从光标当前位置开始输入文件；</li><li>按「a」进入插入模式后，是从目前光标所在位置的下一个位置开始输入文字；</li><li>按「o」进入插入模式后，是插入新的一行，从行首开始输入文字。</li></ul> </li><li>从插入模式切换为命令模式 
  <ul><li>按「ESC」键。</li></ul> </li><li>移动光标 
  <ul><li>vim可以直接用键盘上的光标来上下左右移动，但正规的vim是用小写英文字母 <strong>「h」、「j」、「k」、「l」，分别控制光标左、下、上、右移一格</strong></li><li>按「G」：移动到文章的最后</li><li>按「 $ 」：移动到光标所在行的“行尾”</li><li>按「^」：移动到光标所在行的“行首”</li><li>按「w」：光标跳到下个字的开头</li><li>按「e」：光标跳到下个字的字尾</li><li>按「b」：光标回到上个字的开头</li><li>按「#l」：光标移到该行的第#个位置，如：5l,56l</li><li>按［gg］：进入到文本开始</li><li>按［shift＋g］：进入文本末端</li><li>按［#shift＋g］：进入第#行</li><li>按「ctrl」+「b」：屏幕往“后”移动一页</li><li>按「ctrl」+「f」：屏幕往“前”移动一页</li><li>按「ctrl」+「u」：屏幕往“后”移动半页</li><li>按「ctrl」+「d」：屏幕往“前”移动半页</li></ul> </li><li>删除文字 
  <ul><li>「x」：每按一次，删除光标所在位置的一个字符</li><li>「#x」：例如，「6x」表示删除光标所在位置的“后面（包含自己在内）”6个字符</li><li>「X」：大写的X，每按一次，删除光标所在位置的“前面”一个字符</li><li>「#X」：例如，「20X」表示删除光标所在位置的“前面”20个字符</li><li>「dd」：<strong>删除光标所在行</strong></li><li>「#dd」：<strong>从光标所在行开始删除#行</strong></li></ul> </li><li>复制 
  <ul><li>「yw」：将光标所在之处到字尾的字符复制到缓冲区中。</li><li>「#yw」：复制#个字到缓冲区</li><li>「yy」：<strong>复制光标所在行到缓冲区</strong>。</li><li>「#yy」：例如，「6yy」表示拷贝从光标所在的该行“往下数”6行文字。</li><li>「p」：将缓冲区内的字符贴到光标所在位置。注意：所有与“y”有关的复制命令都必须与“p”配合才能完成复制与粘贴功能。</li></ul> </li><li>替换 
  <ul><li>「r」：替换光标所在处的字符。</li><li>「R」：替换光标所到之处的字符，直到按下「ESC」键为止。</li></ul> </li><li>撤销上一次操作 
  <ul><li>「u」：如果您误执行一个命令，可以马上按下「u」，回到上一个操作。按多次“u”可以执行多次回复。</li><li>「ctrl + r」: 撤销的恢复</li></ul> </li><li>更改 
  <ul><li>「cw」：更改光标所在处的字到字尾处</li><li>「c#w」：例如，「c3w」表示更改3个字</li></ul> </li><li>跳至指定的行 
  <ul><li>「ctrl」+「g」列出光标所在行的行号。</li><li>「#G」：例如，「15G」，表示移动光标至文章的第15行行首<br> <img src="https://images2.imgbox.com/7f/11/5Q3gB6gI_o.png" alt="在这里插入图片描述"></li></ul> </li></ul> 
<p>分屏之间切换<br> 在分屏模式下，可以使用以下快捷键在窗口间切换光标：</p> 
<ul><li>Ctrl+w w：按一次 Ctrl+w 然后再按一次 w，可以在顺序切换窗口。</li><li>Ctrl+w h：移动光标至左边的窗口。</li><li>Ctrl+w j：移动光标至下面的窗口。</li><li>Ctrl+w k：移动光标至上面的窗口。</li><li>Ctrl+w l：移动光标至右边的窗口。<br> 如果你用的是 Vim 的箭头键来移动光标，可能需要在 Ctrl+w 后使用 h、j、k、l 键，而不是箭头键。因为在 Vim 的默认配置中，箭头键与 hjkl 键的作用是等价的，但是在窗口切换快捷键中，你需要显式地使用 hjkl 键。</li></ul> 
<p>关闭分屏窗口<br> 要关闭一个窗口，可以在该窗口下执行 :close 或使用快捷键 Ctrl+w c。<br> 要关闭除当前窗口之外的其他所有窗口，可以使用 :only 命令或快捷键 Ctrl+w o</p> 
<h3><a id="04_113"></a>04.批量化注释与去注释</h3> 
<p>注释步骤：</p> 
<ol><li> <p>先ctrl+v 进入VISUAL BLOCK模式</p> </li><li> <p>再通过j选择注释范围<br> <img src="https://images2.imgbox.com/2d/24/b12NUwFm_o.png" alt="在这里插入图片描述"></p> </li><li> <p>再shift+i</p> </li><li> <p>再// 注释一行，按两次esc<br> <img src="https://images2.imgbox.com/95/52/XXRcyxJX_o.png" alt="在这里插入图片描述"></p> </li></ol> 
<p>去注释步骤：</p> 
<ol><li>ctrl+v 进行区域选择</li><li>包含且仅包含被注释的位置</li><li>d</li></ol> 
<h3><a id="05sudo_130"></a>05.sudo提权</h3> 
<p><img src="https://images2.imgbox.com/13/cd/7WTQdgBy_o.png" alt="在这里插入图片描述"><br> 普通用户一般不能使用sudo提权<br> <img src="https://images2.imgbox.com/03/a7/hfVVxm7M_o.png" alt="在这里插入图片描述"><br> 我们需要做的就是在sudoers这个文件中进行配置</p> 
<ol><li>切换用户，打开这个sudoers文件<br> <img src="https://images2.imgbox.com/fc/ac/7iTrjJnd_o.png" alt="在这里插入图片描述"></li><li>在100行左右加上我们的普通用户<br> <img src="https://images2.imgbox.com/1f/4c/UIr1iRht_o.png" alt="在这里插入图片描述"></li><li>wq！保存退出<br> <img src="https://images2.imgbox.com/11/d5/TCysMxf8_o.png" alt="在这里插入图片描述"></li></ol> 
<h3><a id="06vim_142"></a>06.vim配置</h3> 
<p>在 Vim 中配置格式化选项主要涉及使用 Vim 的设置选项，这些选项可以在 Vim 的配置文件 <code>~/.vimrc</code> 中设置，以确保每次启动 Vim 时都会自动应用它们。下面是一些常用的格式化设置选项：</p> 
<ol><li> <p><strong>自动缩进</strong>：</p> <pre><code class="prism language-vim">set autoindent
</code></pre> <p>开启 autoindent 选项后，当你新开始一行时，该行的缩进将复制前一行的缩进。</p> </li><li> <p><strong>智能缩进</strong>：</p> <pre><code class="prism language-vim">set smartindent
</code></pre> <p>智能缩进是 autoindent 的增强版，它会根据当前的语言的语法自动调整新行的缩进。</p> </li><li> <p><strong>C 样式缩进</strong>：</p> <pre><code class="prism language-vim">set cindent
</code></pre> <p>专门为 C 语言编写的代码提供更加智能的缩进策略。</p> </li><li> <p><strong>缩进宽度</strong>：</p> <pre><code class="prism language-vim">set tabstop=4
set shiftwidth=4
set expandtab
</code></pre> <p><code>tabstop</code> 设置一个 <code>&lt;Tab&gt;</code> 字符的显示宽度。<br> <code>shiftwidth</code> 设置每次缩进的级别的宽度。<br> <code>expandtab</code> 选项会将 <code>&lt;Tab&gt;</code> 转换成 <code>tabstop</code> 选项指定数量的空格。</p> </li><li> <p><strong>设置文件类型侦测</strong>：</p> <pre><code class="prism language-vim">filetype on
filetype indent on
filetype plugin on
</code></pre> <p>这些命令开启文件类型检测，并加载文件类型特定的插件和缩进设置。</p> </li><li> <p><strong>语法高亮</strong>：</p> <pre><code class="prism language-vim">syntax on
</code></pre> <p>显示语法高亮。</p> </li><li> <p><strong>格式化时断行</strong>：</p> <pre><code class="prism language-vim">set textwidth=80
</code></pre> <p>如果一行的长度超过80个字符，Vim会在输入时自动换行。</p> </li><li> <p><strong>自动格式化</strong>：</p> <pre><code class="prism language-vim">set formatoptions+=c
set formatoptions+=r
set formatoptions+=o
</code></pre> <p>这些选项设置了Vim在插入模式中自动格式化文本的方式。对于 <code>formatoptions</code>：</p> 
  <ul><li><code>c</code> 自动将注释的样式延续到新的一行。</li><li><code>r</code> 在按下回车键时自动复制上一行的注释样式。</li><li><code>o</code> 在新行使用 <code>O</code> 或 <code>o</code> 命令时自动复制注释。</li></ul> </li><li> <p><strong>保存前自动格式化</strong>：</p> <pre><code class="prism language-vim">au BufWritePre * :normal gg=G
</code></pre> <p>这个自动命令会在每次写入文件之前对整个文件内容进行自动格式化。</p> </li></ol> 
<p>要激活这些配置，首先打开你的 <code>~/.vimrc</code> 文件：</p> 
<pre><code class="prism language-bash"><span class="token function">vim</span> ~/.vimrc
</code></pre> 
<p>然后添加上述配置，并根据个人习惯调整。保存并关闭 vim 后，新的配置将会生效。可以通过重启 Vim 或执行 <code>:source ~/.vimrc</code> 命令立即使更改生效。</p> 
<p>Vim 社区还提供了大量插件来辅助格式化特定的编程语言，如<code>prettier</code>（适用于多种语言）、<code>clang-format</code>（适用于 C 和 C++）等，你可以根据需要安装和配置这些插件以实现更高级的格式化功能。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/60174c6c40b699353f1ef15988d3e6c6/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">6 Go语言的常量、枚举、作用域</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/56a948995bbe2e2a1b6eef4479418d92/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【java SE语法篇】1. 运算符</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>