<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Python酷库之旅-第三方库Pandas(022) - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/fa00a6b69242ea357c2a73f640c2dc0f/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="Python酷库之旅-第三方库Pandas(022)">
  <meta property="og:description" content="目录
一、用法精讲
55、pandas.lreshape函数
55-1、语法
55-2、参数
55-3、功能
55-4、返回值
55-5、说明
55-6、用法
55-6-1、数据准备
55-6-2、代码示例
55-6-3、结果输出
56、pandas.wide_to_long函数
56-1、语法
56-2、参数
56-3、功能
56-4、返回值
56-5、说明
56-6、用法
56-6-1、数据准备
56-6-2、代码示例
56-6-3、结果输出 57、pandas.isna函数
57-1、语法
57-2、参数
57-3、功能
57-4、返回值
57-5、说明
57-6、用法
57-6-1、数据准备
57-6-2、代码示例
57-6-3、结果输出
二、推荐阅读
1、Python筑基之旅
2、Python函数之旅
3、Python算法之旅
4、Python魔法之旅
5、博客个人主页
一、用法精讲 55、pandas.lreshape函数 55-1、语法 # 55、pandas.lreshape函数 pandas.lreshape(data, groups, dropna=True) Reshape wide-format data to long. Generalized inverse of DataFrame.pivot. Accepts a dictionary, groups, in which each key is a new column name and each value is a list of old column names that will be “melted” under the new column name as part of the reshape.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-07-14T08:00:00+08:00">
    <meta property="article:modified_time" content="2024-07-14T08:00:00+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Python酷库之旅-第三方库Pandas(022)</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><span style="color:#1a439c;"><strong>目录</strong></span></p> 
<p id="%E4%B8%80%E3%80%81%E7%94%A8%E6%B3%95%E7%B2%BE%E8%AE%B2-toc" style="margin-left:80px;"><strong><a href="#%E4%B8%80%E3%80%81%E7%94%A8%E6%B3%95%E7%B2%BE%E8%AE%B2" rel="nofollow"><span style="color:#1a439c;">一、用法精讲</span></a></strong></p> 
<p id="5%E3%80%81pandas.DataFrame.to_csv%E5%87%BD%E6%95%B0-toc" style="margin-left:120px;"><strong><a href="#5%E3%80%81pandas.DataFrame.to_csv%E5%87%BD%E6%95%B0" rel="nofollow"><span style="color:#1a439c;">55、pandas.lreshape函数</span></a></strong></p> 
<p id="5-1%E3%80%81%E8%AF%AD%E6%B3%95-toc" style="margin-left:160px;"><strong><a href="#5-1%E3%80%81%E8%AF%AD%E6%B3%95" rel="nofollow"><span style="color:#1a439c;">55-1、语法</span></a></strong></p> 
<p id="5-2%E3%80%81%E5%8F%82%E6%95%B0-toc" style="margin-left:160px;"><strong><a href="#5-2%E3%80%81%E5%8F%82%E6%95%B0" rel="nofollow"><span style="color:#1a439c;">55-2、参数</span></a></strong></p> 
<p id="5-3%E3%80%81%E5%8A%9F%E8%83%BD-toc" style="margin-left:160px;"><strong><a href="#5-3%E3%80%81%E5%8A%9F%E8%83%BD" rel="nofollow"><span style="color:#1a439c;">55-3、功能</span></a></strong></p> 
<p id="5-4%E3%80%81%E8%BF%94%E5%9B%9E%E5%80%BC-toc" style="margin-left:160px;"><strong><a href="#5-4%E3%80%81%E8%BF%94%E5%9B%9E%E5%80%BC" rel="nofollow"><span style="color:#1a439c;">55-4、返回值</span></a></strong></p> 
<p id="5-5%E3%80%81%E8%AF%B4%E6%98%8E-toc" style="margin-left:160px;"><strong><a href="#5-5%E3%80%81%E8%AF%B4%E6%98%8E" rel="nofollow"><span style="color:#1a439c;">55-5、说明</span></a></strong></p> 
<p id="5-6%E3%80%81%E7%94%A8%E6%B3%95-toc" style="margin-left:160px;"><strong><a href="#5-6%E3%80%81%E7%94%A8%E6%B3%95" rel="nofollow"><span style="color:#1a439c;">55-6、用法</span></a></strong></p> 
<p id="10-6-1%E3%80%81%E6%95%B0%E6%8D%AE%E5%87%86%E5%A4%87-toc" style="margin-left:200px;"><strong><a href="#10-6-1%E3%80%81%E6%95%B0%E6%8D%AE%E5%87%86%E5%A4%87" rel="nofollow"><span style="color:#1a439c;">55-6-1、数据准备</span></a></strong></p> 
<p id="5-6-1%E3%80%81%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B-toc" style="margin-left:200px;"><strong><a href="#5-6-1%E3%80%81%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B" rel="nofollow"><span style="color:#1a439c;">55-6-2、代码示例</span></a></strong></p> 
<p id="5-6-2%E3%80%81%E7%BB%93%E6%9E%9C%E8%BE%93%E5%87%BA-toc" style="margin-left:200px;"><strong><a href="#5-6-2%E3%80%81%E7%BB%93%E6%9E%9C%E8%BE%93%E5%87%BA" rel="nofollow"><span style="color:#1a439c;">55-6-3、结果输出</span></a></strong></p> 
<p id="11%E3%80%81pandas.ExcelFile%E7%B1%BB-toc" style="margin-left:120px;"><strong><a href="#11%E3%80%81pandas.ExcelFile%E7%B1%BB" rel="nofollow"><span style="color:#1a439c;">56、pandas.wide_to_long函数</span></a></strong></p> 
<p id="11-1%E3%80%81%E8%AF%AD%E6%B3%95-toc" style="margin-left:160px;"><strong><a href="#11-1%E3%80%81%E8%AF%AD%E6%B3%95" rel="nofollow"><span style="color:#1a439c;">56-1、语法</span></a></strong></p> 
<p id="11-2%E3%80%81%E5%8F%82%E6%95%B0-toc" style="margin-left:160px;"><strong><a href="#11-2%E3%80%81%E5%8F%82%E6%95%B0" rel="nofollow"><span style="color:#1a439c;">56-2、参数</span></a></strong></p> 
<p id="11-3%E3%80%81%E5%8A%9F%E8%83%BD-toc" style="margin-left:160px;"><strong><a href="#11-3%E3%80%81%E5%8A%9F%E8%83%BD" rel="nofollow"><span style="color:#1a439c;">56-3、功能</span></a></strong></p> 
<p id="11-4%E3%80%81%E8%BF%94%E5%9B%9E%E5%80%BC-toc" style="margin-left:160px;"><strong><a href="#11-4%E3%80%81%E8%BF%94%E5%9B%9E%E5%80%BC" rel="nofollow"><span style="color:#1a439c;">56-4、返回值</span></a></strong></p> 
<p id="11-5%E3%80%81%E8%AF%B4%E6%98%8E-toc" style="margin-left:160px;"><strong><a href="#11-5%E3%80%81%E8%AF%B4%E6%98%8E" rel="nofollow"><span style="color:#1a439c;">56-5、说明</span></a></strong></p> 
<p id="11-6%E3%80%81%E7%94%A8%E6%B3%95-toc" style="margin-left:160px;"><strong><a href="#11-6%E3%80%81%E7%94%A8%E6%B3%95" rel="nofollow"><span style="color:#1a439c;">56-6、用法</span></a></strong></p> 
<p id="11-6-1%E3%80%81%E6%95%B0%E6%8D%AE%E5%87%86%E5%A4%87-toc" style="margin-left:200px;"><strong><a href="#11-6-1%E3%80%81%E6%95%B0%E6%8D%AE%E5%87%86%E5%A4%87" rel="nofollow"><span style="color:#1a439c;">56-6-1、数据准备</span></a></strong></p> 
<p id="11-6-2%E3%80%81%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B-toc" style="margin-left:200px;"><strong><a href="#11-6-2%E3%80%81%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B" rel="nofollow"><span style="color:#1a439c;">56-6-2、代码示例</span></a></strong></p> 
<p id="11-6-3%E3%80%81%E7%BB%93%E6%9E%9C%E8%BE%93%E5%87%BA%C2%A0-toc" style="margin-left:200px;"><strong><a href="#11-6-3%E3%80%81%E7%BB%93%E6%9E%9C%E8%BE%93%E5%87%BA%C2%A0" rel="nofollow"><span style="color:#1a439c;">56-6-3、结果输出 </span></a></strong></p> 
<p id="46%E3%80%81pandas.qcut%E5%87%BD%E6%95%B0-toc" style="margin-left:120px;"><strong><a href="#46%E3%80%81pandas.qcut%E5%87%BD%E6%95%B0" rel="nofollow"><span style="color:#1a439c;">57、pandas.isna函数</span></a></strong></p> 
<p id="46-1%E3%80%81%E8%AF%AD%E6%B3%95-toc" style="margin-left:160px;"><strong><a href="#46-1%E3%80%81%E8%AF%AD%E6%B3%95" rel="nofollow"><span style="color:#1a439c;">57-1、语法</span></a></strong></p> 
<p id="46-2%E3%80%81%E5%8F%82%E6%95%B0-toc" style="margin-left:160px;"><strong><a href="#46-2%E3%80%81%E5%8F%82%E6%95%B0" rel="nofollow"><span style="color:#1a439c;">57-2、参数</span></a></strong></p> 
<p id="46-3%E3%80%81%E5%8A%9F%E8%83%BD-toc" style="margin-left:160px;"><strong><a href="#46-3%E3%80%81%E5%8A%9F%E8%83%BD" rel="nofollow"><span style="color:#1a439c;">57-3、功能</span></a></strong></p> 
<p id="46-4%E3%80%81%E8%BF%94%E5%9B%9E%E5%80%BC-toc" style="margin-left:160px;"><strong><a href="#46-4%E3%80%81%E8%BF%94%E5%9B%9E%E5%80%BC" rel="nofollow"><span style="color:#1a439c;">57-4、返回值</span></a></strong></p> 
<p id="46-5%E3%80%81%E8%AF%B4%E6%98%8E-toc" style="margin-left:160px;"><strong><a href="#46-5%E3%80%81%E8%AF%B4%E6%98%8E" rel="nofollow"><span style="color:#1a439c;">57-5、说明</span></a></strong></p> 
<p id="46-6%E3%80%81%E7%94%A8%E6%B3%95-toc" style="margin-left:160px;"><strong><a href="#46-6%E3%80%81%E7%94%A8%E6%B3%95" rel="nofollow"><span style="color:#1a439c;">57-6、用法</span></a></strong></p> 
<p id="46-6-1%E3%80%81%E6%95%B0%E6%8D%AE%E5%87%86%E5%A4%87-toc" style="margin-left:200px;"><strong><a href="#46-6-1%E3%80%81%E6%95%B0%E6%8D%AE%E5%87%86%E5%A4%87" rel="nofollow"><span style="color:#1a439c;">57-6-1、数据准备</span></a></strong></p> 
<p id="46-6-2%E3%80%81%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B-toc" style="margin-left:200px;"><strong><a href="#46-6-2%E3%80%81%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B" rel="nofollow"><span style="color:#1a439c;">57-6-2、代码示例</span></a></strong></p> 
<p id="46-6-3%E3%80%81%E7%BB%93%E6%9E%9C%E8%BE%93%E5%87%BA-toc" style="margin-left:200px;"><strong><a href="#46-6-3%E3%80%81%E7%BB%93%E6%9E%9C%E8%BE%93%E5%87%BA" rel="nofollow"><span style="color:#1a439c;">57-6-3、结果输出</span></a></strong></p> 
<p id="%E4%BA%94%E3%80%81%E6%8E%A8%E8%8D%90%E9%98%85%E8%AF%BB-toc" style="margin-left:80px;"><strong><a href="#%E4%BA%94%E3%80%81%E6%8E%A8%E8%8D%90%E9%98%85%E8%AF%BB" rel="nofollow"><span style="color:#1a439c;">二、推荐阅读</span></a></strong></p> 
<p id="1%E3%80%81-toc" style="margin-left:120px;"><strong><a href="#1%E3%80%81" rel="nofollow"><span style="color:#1a439c;">1、Python筑基之旅</span></a></strong></p> 
<p id="2%E3%80%81-toc" style="margin-left:120px;"><strong><a href="#2%E3%80%81" rel="nofollow"><span style="color:#1a439c;">2、Python函数之旅</span></a></strong></p> 
<p id="3%E3%80%81-toc" style="margin-left:120px;"><strong><a href="#3%E3%80%81" rel="nofollow"><span style="color:#1a439c;">3、Python算法之旅</span></a></strong></p> 
<p id="4%E3%80%81-toc" style="margin-left:120px;"><strong><a href="#4%E3%80%81" rel="nofollow"><span style="color:#1a439c;">4、Python魔法之旅</span></a></strong></p> 
<p id="5%E3%80%81%C2%A0-toc" style="margin-left:120px;"><strong><a href="#5%E3%80%81%C2%A0" rel="nofollow"><span style="color:#1a439c;">5、博客个人主页</span></a></strong></p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/4b/bd/dDK5Iqkp_o.gif"></p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/e3/5e/39s8pWxu_o.png"></p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/41/bc/17IwMpn0_o.gif"></p> 
<h4 id="%E4%B8%80%E3%80%81%E7%94%A8%E6%B3%95%E7%B2%BE%E8%AE%B2">一、用法精讲</h4> 
<h5 id="5%E3%80%81pandas.DataFrame.to_csv%E5%87%BD%E6%95%B0">55、<span style="color:#fe2c24;">pandas.lreshape</span>函数</h5> 
<h6 id="5-1%E3%80%81%E8%AF%AD%E6%B3%95">55-1、语法</h6> 
<pre><code class="language-python"># 55、pandas.lreshape函数
pandas.lreshape(data, groups, dropna=True)
Reshape wide-format data to long. Generalized inverse of DataFrame.pivot.

Accepts a dictionary, groups, in which each key is a new column name and each value is a list of old column names that will be “melted” under the new column name as part of the reshape.

Parameters:
data
DataFrame
The wide-format DataFrame.

groups
dict
{new_name : list_of_columns}.

dropna
bool, default True
Do not include columns whose entries are all NaN.

Returns:
DataFrame
Reshaped DataFrame.</code></pre> 
<h6 id="5-2%E3%80%81%E5%8F%82%E6%95%B0">55-2、参数</h6> 
<p><span style="color:#fe2c24;"><strong>55-2-1、data</strong></span><span style="color:#956fe7;"><strong>(必须)</strong></span><span style="color:#fe2c24;"><strong>：</strong></span>要进行重塑的Pandas数据框。</p> 
<p><span style="color:#fe2c24;"><strong>55-2-2、groups</strong></span><span style="color:#956fe7;"><strong>(必须)</strong></span><span style="color:#fe2c24;"><strong>：</strong></span>一个字典，用于指定要重塑的列组，字典的键是新列的名称，值是要重塑的列列表，例如：<code>{'A': ['A1', 'A2'], 'B': ['B1', 'B2']}</code>。</p> 
<p><span style="color:#fe2c24;"><strong>55-2-3、dropna</strong></span><span style="color:#956fe7;"><strong>(可选，默认值为True)</strong></span><span style="color:#fe2c24;"><strong>：</strong></span>指定是否在重塑过程中丢弃包含NaN的行，如果设置为<code>True</code>，则会丢弃包含NaN的行；如果设置为<code>False</code>，则保留NaN。</p> 
<h6 id="5-3%E3%80%81%E5%8A%9F%E8%83%BD">55-3、功能</h6> 
<p>        根据指定的列组对数据框进行重塑，将宽格式的数据转换为长格式。</p> 
<h6 id="5-4%E3%80%81%E8%BF%94%E5%9B%9E%E5%80%BC">55-4、返回值</h6> 
<p>        返回一个重塑后的Pandas数据框，其中包含从宽格式转换为长格式的数据。</p> 
<h6 id="5-5%E3%80%81%E8%AF%B4%E6%98%8E">55-5、说明</h6> 
<p>        Pandas.Ireshape是一个强大的工具，可以根据指定的列组对数据框进行宽转长的重塑，它具有三个参数：</p> 
<p><strong>55-5-1、data</strong>：要重塑的DataFrame。</p> 
<p><strong>55-5-2、groups</strong>：一个字典，定义新的列组。</p> 
<p><strong>55-5-3、dropna</strong>：指定是否丢弃包含NaN的行。</p> 
<p>        通过理解和正确使用这些参数，可以灵活地重塑数据框，从而更好地<strong><span style="color:#fe2c24;">组织和分析数据</span></strong>。</p> 
<h6 id="5-6%E3%80%81%E7%94%A8%E6%B3%95">55-6、用法</h6> 
<h6 id="10-6-1%E3%80%81%E6%95%B0%E6%8D%AE%E5%87%86%E5%A4%87">55-6-1、数据准备</h6> 
<pre><code class="language-python">无</code></pre> 
<h6 id="5-6-1%E3%80%81%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B">55-6-2、代码示例</h6> 
<pre><code class="language-python"># 55、pandas.lreshape函数
import pandas as pd
# 创建示例数据框
data = pd.DataFrame({
    'A1': [1, 2, 3],
    'A2': [4, 5, 6],
    'B1': ['a', 'b', 'c'],
    'B2': ['d', 'e', 'f']
})
# 定义列组
groups = {
    'A': ['A1', 'A2'],
    'B': ['B1', 'B2']
}
# 使用pandas.lreshape进行重塑
reshaped = pd.lreshape(data, groups)
print(reshaped)</code></pre> 
<h6 id="5-6-2%E3%80%81%E7%BB%93%E6%9E%9C%E8%BE%93%E5%87%BA">55-6-3、结果输出</h6> 
<pre><code class="language-python"># 55、pandas.lreshape函数
#    A  B
# 0  1  a
# 1  2  b
# 2  3  c
# 3  4  d
# 4  5  e
# 5  6  f</code></pre> 
<h5 id="11%E3%80%81pandas.ExcelFile%E7%B1%BB">56、<span style="color:#fe2c24;">pandas.wide_to_long</span>函数</h5> 
<h6 id="11-1%E3%80%81%E8%AF%AD%E6%B3%95">56-1、语法</h6> 
<pre><code class="language-python"># 56、pandas.wide_to_long函数
pandas.wide_to_long(df, stubnames, i, j, sep='', suffix='\\d+')
Unpivot a DataFrame from wide to long format.

Less flexible but more user-friendly than melt.

With stubnames [‘A’, ‘B’], this function expects to find one or more group of columns with format A-suffix1, A-suffix2,…, B-suffix1, B-suffix2,… You specify what you want to call this suffix in the resulting long format with j (for example j=’year’)

Each row of these wide variables are assumed to be uniquely identified by i (can be a single column name or a list of column names)

All remaining variables in the data frame are left intact.

Parameters:
df
DataFrame
The wide-format DataFrame.

stubnames
str or list-like
The stub name(s). The wide format variables are assumed to start with the stub names.

i
str or list-like
Column(s) to use as id variable(s).

j
str
The name of the sub-observation variable. What you wish to name your suffix in the long format.

sep
str, default “”
A character indicating the separation of the variable names in the wide format, to be stripped from the names in the long format. For example, if your column names are A-suffix1, A-suffix2, you can strip the hyphen by specifying sep=’-’.

suffix
str, default ‘\d+’
A regular expression capturing the wanted suffixes. ‘\d+’ captures numeric suffixes. Suffixes with no numbers could be specified with the negated character class ‘\D+’. You can also further disambiguate suffixes, for example, if your wide variables are of the form A-one, B-two,.., and you have an unrelated column A-rating, you can ignore the last one by specifying suffix=’(!?one|two)’. When all suffixes are numeric, they are cast to int64/float64.

Returns:
DataFrame
A DataFrame that contains each stub name as a variable, with new index (i, j).</code></pre> 
<h6 id="11-2%E3%80%81%E5%8F%82%E6%95%B0">56-2、参数</h6> 
<p><span style="color:#fe2c24;"><strong>56-2-1、df</strong></span><span style="color:#956fe7;"><strong>(必须)</strong></span><span style="color:#fe2c24;"><strong>：</strong></span>要进行重塑的Pandas数据框。</p> 
<p><span style="color:#fe2c24;"><strong>56-2-2、stubnames</strong></span><span style="color:#956fe7;"><strong>(必须)</strong></span><span style="color:#fe2c24;"><strong>：</strong></span>列名前缀的列表，这些列将被转换为长格式。比如，如果列名是<code>A1970</code>, <code>A1980</code>, <code>B1970</code>, <code>B1980</code>，那么stubnames应该是<code>['A', 'B']</code>。</p> 
<p><span style="color:#fe2c24;"><strong>56-2-3、i</strong></span><span style="color:#956fe7;"><strong>(必须)</strong></span><span style="color:#fe2c24;"><strong>：</strong></span>表示唯一标识每一行的列名或列名列表，重塑后的每一行将保留这些列。</p> 
<p><span style="color:#fe2c24;"><strong>56-2-4、j</strong></span><span style="color:#956fe7;"><strong>(必须)</strong></span><span style="color:#fe2c24;"><strong>：</strong></span>新列的名称，这列将包含从宽格式中提取的时间或编号信息。例如，<code>'year'</code>可以作为<code>j</code>。</p> 
<p><span style="color:#fe2c24;"><strong>56-2-5、sep</strong></span><span style="color:#956fe7;"><strong>(可选，默认值为'')</strong></span><span style="color:#fe2c24;"><strong>：</strong></span>列名中stubnames和<code>j</code>部分之间的分隔符。例如，如果列名是<code>A-1970</code>，那么sep应该是<code>'-'</code>。</p> 
<p><span style="color:#fe2c24;"><strong>56-2-6、suffix</strong></span><span style="color:#956fe7;"><strong>(可选，默认值为'\\d+')</strong></span><span style="color:#fe2c24;"><strong>：</strong></span>stubnames后缀的正则表达式模式，用于匹配列名中的时间或编号部分，默认情况下，匹配一个或多个数字。</p> 
<h6 id="11-3%E3%80%81%E5%8A%9F%E8%83%BD">56-3、功能</h6> 
<p>        用于将数据从宽格式(wide format)转换为长格式(long format)，这个函数特别适用于处理时间序列数据或面板数据。</p> 
<h6 id="11-4%E3%80%81%E8%BF%94%E5%9B%9E%E5%80%BC">56-4、返回值</h6> 
<p>        返回一个重塑后的Pandas数据框，其中包含从宽格式转换为长格式的数据。</p> 
<h6 id="11-5%E3%80%81%E8%AF%B4%E6%98%8E">56-5、说明</h6> 
<p>        Pandas.wide_to_long是一个强大的工具，可以通过指定列名前缀、标识列、时间或编号列来将宽格式的数据转换为长格式。它具有以下参数：</p> 
<p><strong>56-5-1、df</strong>：要重塑的DataFrame。</p> 
<p><strong>56-5-2、stubnames</strong>：列名前缀列表。</p> 
<p><strong>56-5-3、i</strong>：唯一标识每一行的列名或列名列表。</p> 
<p><strong>56-5-4、j</strong>：新列的名称，用于包含时间或编号信息。</p> 
<p><strong>56-5-5、sep</strong>：列名中前缀和时间/编号部分之间的分隔符。</p> 
<p><strong>56-5-6、suffix</strong>：匹配时间或编号部分的正则表达式模式。</p> 
<p>        理解并正确使用这些参数，可以灵活地重塑数据框，以便更好地进行数据分析和处理。</p> 
<h6 id="11-6%E3%80%81%E7%94%A8%E6%B3%95">56-6、用法</h6> 
<h6 id="11-6-1%E3%80%81%E6%95%B0%E6%8D%AE%E5%87%86%E5%A4%87">56-6-1、数据准备</h6> 
<pre><code class="language-python">无</code></pre> 
<h6 id="11-6-2%E3%80%81%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B">56-6-2、代码示例</h6> 
<pre><code class="language-python"># 56、pandas.wide_to_long函数
import pandas as pd
# 创建示例数据框
df = pd.DataFrame({
    'id': [1, 2, 3],
    'A1970': [2.5, 1.5, 3.0],
    'A1980': [2.0, 1.0, 3.5],
    'B1970': [3.0, 2.0, 4.0],
    'B1980': [3.5, 2.5, 4.5]
})
# 使用pandas.wide_to_long进行重塑
df_long = pd.wide_to_long(df, stubnames=['A', 'B'], i='id', j='year', sep='', suffix='\\d+')
print(df_long)</code></pre> 
<h6 id="11-6-3%E3%80%81%E7%BB%93%E6%9E%9C%E8%BE%93%E5%87%BA%C2%A0">56-6-3、结果输出 </h6> 
<pre><code class="language-python"># 56、pandas.wide_to_long函数
#            A    B
# id year          
# 1  1970  2.5  3.0
# 2  1970  1.5  2.0
# 3  1970  3.0  4.0
# 1  1980  2.0  3.5
# 2  1980  1.0  2.5
# 3  1980  3.5  4.5</code></pre> 
<h5 id="46%E3%80%81pandas.qcut%E5%87%BD%E6%95%B0">57、<span style="color:#fe2c24;">pandas.isna</span>函数</h5> 
<h6 id="46-1%E3%80%81%E8%AF%AD%E6%B3%95">57-1、语法</h6> 
<pre><code class="language-python"># 57、pandas.isna函数
pandas.isna(obj)
Detect missing values for an array-like object.

This function takes a scalar or array-like object and indicates whether values are missing (NaN in numeric arrays, None or NaN in object arrays, NaT in datetimelike).

Parameters:
obj
scalar or array-like
Object to check for null or missing values.

Returns:
bool or array-like of bool
For scalar input, returns a scalar boolean. For array input, returns an array of boolean indicating whether each corresponding element is missing.</code></pre> 
<h6 id="46-2%E3%80%81%E5%8F%82%E6%95%B0">57-2、参数</h6> 
<p><span style="color:#fe2c24;"><strong>57-2-1、obj</strong></span><span style="color:#956fe7;"><strong>(必须)</strong></span><span style="color:#fe2c24;"><strong>：</strong></span>要检查缺失值的对象，可以是单个标量值、数组、Series、DataFrame或其他类似的pandas对象。</p> 
<h6 id="46-3%E3%80%81%E5%8A%9F%E8%83%BD">57-3、功能</h6> 
<p>        用于检测缺失值，NA值在Pandas中表示缺失或无效的数据。</p> 
<h6 id="46-4%E3%80%81%E8%BF%94%E5%9B%9E%E5%80%BC">57-4、返回值</h6> 
<p>        返回一个布尔型对象，与输入obj具有相同的形状，布尔型对象中的True表示对应位置的值为缺失值，False表示不是缺失值。</p> 
<h6 id="46-5%E3%80%81%E8%AF%B4%E6%98%8E">57-5、说明</h6> 
<p>        pandas.isna(obj)是一个非常实用的函数，用于检测任何pandas对象中的缺失值，它适用于单个值、数组、Series和DataFrame等多种类型的数据结构，返回的布尔型对象可以用于进一步的<strong><span style="color:#fe2c24;">数据清洗和处理操作</span></strong>。</p> 
<h6 id="46-6%E3%80%81%E7%94%A8%E6%B3%95">57-6、用法</h6> 
<h6 id="46-6-1%E3%80%81%E6%95%B0%E6%8D%AE%E5%87%86%E5%A4%87">57-6-1、数据准备</h6> 
<pre><code class="language-python">无</code></pre> 
<h6 id="46-6-2%E3%80%81%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B">57-6-2、代码示例</h6> 
<pre><code class="language-python"># 57、pandas.isna函数
# 57-1、检查单个标量值
import pandas as pd
import numpy as np
print(pd.isna(np.nan))
print(pd.isna(3.14))
print(pd.isna(None), end='\n\n')

# 57-2、检查Series
import pandas as pd
# 创建一个Series
s = pd.Series([1, 2, np.nan, 4, None])
# 检查Series中的缺失值
print(pd.isna(s), end='\n\n')

# 57-3、检查DataFrame
import pandas as pd
# 创建一个DataFrame
df = pd.DataFrame({
    'A': [1, 2, np.nan],
    'B': [np.nan, 4, 5],
    'C': [1, np.nan, np.nan]
})
# 检查DataFrame中的缺失值
print(pd.isna(df))</code></pre> 
<h6 id="46-6-3%E3%80%81%E7%BB%93%E6%9E%9C%E8%BE%93%E5%87%BA">57-6-3、结果输出</h6> 
<pre><code class="language-python"># 57、pandas.isna函数
# 57-1、检查单个标量值
# True
# False
# True

# 57-2、检查Series
# 0    False
# 1    False
# 2     True
# 3    False
# 4     True
# dtype: bool

# 57-3、检查DataFrame
#       A      B      C
# 0  False   True  False
# 1  False  False   True
# 2   True  False   True</code></pre> 
<h4 id="%E4%BA%94%E3%80%81%E6%8E%A8%E8%8D%90%E9%98%85%E8%AF%BB">二、推荐阅读</h4> 
<h5 id="1%E3%80%81">1、<a href="https://myelsa1024.blog.csdn.net/article/details/139241094?spm=1001.2014.3001.5502" rel="nofollow" title="Python筑基之旅">Python筑基之旅</a></h5> 
<h5 id="2%E3%80%81">2、<a href="https://myelsa1024.blog.csdn.net/article/details/138916144?spm=1001.2014.3001.5502" rel="nofollow" title="Python函数之旅">Python函数之旅</a></h5> 
<h5 id="3%E3%80%81">3、<a href="https://blog.csdn.net/ygb_1024/article/details/136889623?spm=1001.2014.3001.5501" title="Python算法之旅">Python算法之旅</a></h5> 
<h5 id="4%E3%80%81">4、<a href="https://myelsa1024.blog.csdn.net/article/details/139555733" rel="nofollow" title="Python魔法之旅">Python魔法之旅</a></h5> 
<h5 id="5%E3%80%81%C2%A0">5、<a href="https://blog.csdn.net/ygb_1024?spm=1010.2135.3001.5421" title="博客个人主页">博客个人主页</a></h5>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/a1434dbbbe5f25c5e7daae1b228bd652/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">springboot系列教程（三）：全局异常映射（含源码）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/bcddf6bc312ab54fb90584029148eb6d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Re：从零开始的C&#43;&#43;世界——（一）入门基础</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>