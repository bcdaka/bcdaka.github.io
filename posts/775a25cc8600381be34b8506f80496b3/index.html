<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>MySQL —— 库，数据类型 与 表 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/775a25cc8600381be34b8506f80496b3/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="MySQL —— 库，数据类型 与 表">
  <meta property="og:description" content="库与基础操作 1.1 查看数据库 使用 show databases; 可以查看当前 MySQL 目前有多少个数据库
5 rows 表示有 5 行，这里是表示的是有效的数据，不包括 第一行的指引
set 表示结果集合
0.01 sec 表示这个 sql 语句一共运行了0.01 秒，一般情况下这个数值不是很准确
1.2 创建数据库 creat database (if not exists) database_name (character set charset_name) (collate collation_name);
if not exists 表示如果不存在，加了这个可以增加一些校验，
加了括号的表示是可选项，你可以写，可以不写
character set 表示字符集，我们可以指定字符集去存储字符
collate 表示排序方式
5.7 版本的MySQL 的字符集是 latin1（拉丁字符集，不支持中文字符），8.0版本支持 utf8mb4 编码（最多支持 一个字符占 4 个字节，可以保存中文字符和特殊字符例如表情包等等），不同的字符集意味着存储的字符数量不同，我们可以通过show variables like &#39;%character%&#39;;来查看当前我们数据库默认的字符集编码
下面是 8.0 版本：
也就是说如果你没有指定字符集和编码方式，你创建的数据库就会默认这两种方式，所以这里强烈建议开发学习者手动去指定我们创建的数据库的字符集与排列方式。
以8.0版本为例：
字符集指定为utf8mb4 排列方式可以指定为 utf8mb4_0900_ai_ci
版本过低的MySQL可能不支持 utf8mb4 的字符集编码方式">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-08-03T23:12:24+08:00">
    <meta property="article:modified_time" content="2024-08-03T23:12:24+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">MySQL —— 库，数据类型 与 表</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="_0"></a>库与基础操作</h2> 
<h3><a id="11__1"></a>1.1 查看数据库</h3> 
<p>使用 <code>show databases;</code> 可以查看当前 MySQL 目前有多少个数据库</p> 
<p><img src="https://images2.imgbox.com/84/b5/omzRsWYq_o.png" alt="在这里插入图片描述"><br> 5 rows 表示有 5 行，这里是表示的是有效的数据，不包括 第一行的指引</p> 
<p>set 表示结果集合</p> 
<p>0.01 sec 表示这个 sql 语句一共运行了0.01 秒，一般情况下这个数值不是很准确</p> 
<h3><a id="12__12"></a>1.2 创建数据库</h3> 
<p><code>creat database (if not exists) database_name (character set charset_name) (collate collation_name);</code></p> 
<blockquote> 
 <p><code>if not exists</code> 表示如果不存在，加了这个可以增加一些校验，<br> 加了括号的表示是可选项，你可以写，可以不写<br> <code>character set </code> 表示字符集，我们可以指定字符集去存储字符<br> <code>collate</code> 表示排序方式</p> 
</blockquote> 
<p>5.7 版本的MySQL 的字符集是 latin1（拉丁字符集，不支持中文字符），8.0版本支持 utf8mb4 编码（最多支持 一个字符占 4 个字节，可以保存中文字符和特殊字符例如表情包等等），不同的字符集意味着存储的字符数量不同，我们可以通过<code>show variables like '%character%';</code>来查看当前我们数据库默认的字符集编码</p> 
<p>下面是 8.0 版本：<br> <img src="https://images2.imgbox.com/c2/0d/evJtrgqn_o.png" alt="在这里插入图片描述"><br> 也就是说如果你没有指定字符集和编码方式，你创建的数据库就会默认这两种方式，所以这里强烈建议开发学习者手动去指定我们创建的数据库的字符集与排列方式。</p> 
<p>以8.0版本为例：<br> 字符集指定为<code>utf8mb4</code> 排列方式可以指定为 <code>utf8mb4_0900_ai_ci</code><br> 版本过低的MySQL可能不支持 utf8mb4 的字符集编码方式</p> 
<blockquote> 
 <p>这里解释一下 ai 与 ci<br> ai : accent insencitive 口音不敏感<br> as : assccent sencitive 口音敏感<br> ci : case insencitive 大小写不敏感，表示无论是大写还是小写字母都认为是小写字母<br> cs : case sencitive 大小写敏感<br> <strong>在MySQL 中是 ci 模式，所以我们编写的 sql 语句不用考虑 大小写问题，都是一样的。</strong></p> 
</blockquote> 
<p>演示创建数据库：</p> 
<p><img src="https://images2.imgbox.com/b1/36/aJKlIsPu_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>query ok 表示成功</p> 
</blockquote> 
<hr> 
<p><img src="https://images2.imgbox.com/c3/27/CKf5gozf_o.png" alt="在这里插入图片描述"></p> 
<p>如果我们加了 <code>if not exists</code> 就会加一层校验，如果你重复创建数据库，MySQL 会给你自动报个警告，所以你会看到 1 warning</p> 
<blockquote> 
 <p>如果想查看警告信息，使用<code>show warnings;</code><br> <img src="https://images2.imgbox.com/53/62/JhSiZsES_o.png" alt="在这里插入图片描述"><br> 它显示无法创建这个库，该库已经存在。</p> 
</blockquote> 
<blockquote> 
 <p>MySQL 创建数据库尽量不要使用 关键字，如果非要使用，在数据库的名称加上反引号【位于 esc 下方，tab 上方，1的左边，并且要保证在英文状态下】<br> <img src="https://images2.imgbox.com/a0/c7/oSkVJ0NC_o.png" alt="在这里插入图片描述"></p> 
</blockquote> 
<blockquote> 
 <p>如果写错sql 语句，MySQL会报错误给你：<br> <img src="https://images2.imgbox.com/76/f3/cbE8IQ3E_o.png" alt="在这里插入图片描述"><br> sql syntax 表示的是语法出错了。</p> 
</blockquote> 
<h3><a id="13__60"></a>1.3 使用数据库</h3> 
<p>使用 <code>use database_name;</code><br> 最后一个分号加不加无所谓</p> 
<p><img src="https://images2.imgbox.com/17/12/HpcjDHaE_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="14__67"></a>1.4 删除数据库</h3> 
<p>使用<code>drop database (if exists) database_name;</code><br> <img src="https://images2.imgbox.com/06/78/wu5wqilF_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p><strong>注意别乱删数据库，凡是数据库的删除操作请谨慎！！！三思而后行！！！！</strong></p> 
</blockquote> 
<h2><a id="_72"></a>数据类型</h2> 
<h3><a id="21__73"></a>2.1 数值类型</h3> 
<table><thead><tr><th>数据类型</th><th>大小</th><th>说明</th><th>对应的Java类型</th></tr></thead><tbody><tr><td>bit[(M)]</td><td>M指定位数，默认为1</td><td>二进制数，M范围从1~ 64，存储数值范围为0 ~ 2^M -1</td><td>常用Boolean 对应</td></tr><tr><td>tinyint</td><td>1个字节</td><td></td><td>Byte</td></tr><tr><td>smallint</td><td>2个字节</td><td></td><td>short</td></tr><tr><td>int</td><td>4个字节</td><td></td><td>Integer</td></tr><tr><td>bigint</td><td>8个字节</td><td></td><td>Long</td></tr><tr><td>float(M,D)</td><td>4个字节</td><td>M指定长度，D指定小数位数</td><td>Float</td></tr><tr><td>double(M,D)</td><td>8个字节</td><td></td><td>Double</td></tr><tr><td>decimal(M,D)</td><td>M/D最大值+2</td><td></td><td>BigDecimal</td></tr><tr><td>numeric(M,D)</td><td></td><td></td><td>BigDecimal</td></tr></tbody></table> 
<blockquote> 
 <p><strong>M表示长度时，长度不包括符号和小数点</strong>，如果表示的是 - 3.1415926，M的长度为 8.</p> 
</blockquote> 
<blockquote> 
 <p><strong>常用 int 表示数量，bigint 表示一串长的编码，decimal 来存储有精度要求的带小数的数据，bool 也可以表示 tinyint 表示 二选一的选项（例如gender）</strong></p> 
</blockquote> 
<p>数值类型可以指定为无符号（unsigned），表示不取负数。<br> 1字节（bytes）= 8bit。<br> 对于整型类型的范围：<br> 1.有符号范围：-2 ^（类型字节数<em>8-1） 到 2 ^（类型字节数</em>8-1）-1，如 int 是 4字节，就是 -2 ^ 31 到 2 ^31-1<br> 2.无符号范围：0到 2 ^ （类型字节数*8）-1，如 int 就是 2 ^ 32 - 1<br> 尽量不使用unsigned，对于int类型可能存放不下的数据，int unsigned同样可能存放不下，与其如此，还不如设计时，将int类型提升为bigint类型。</p> 
<h3><a id="22__98"></a>2.2 字符串类型</h3> 
<table><thead><tr><th>数据类型</th><th>大小</th><th>说明</th><th>对应的Java类型</th></tr></thead><tbody><tr><td>varchar(size)</td><td>0 ~ 65,535 个字节</td><td>可变长度字符串</td><td>String</td></tr><tr><td>text</td><td>0 ~ 65,535 个字节</td><td>长文本数据</td><td>String</td></tr><tr><td>mediuntext</td><td>0 ~ 16,777,215 个字节</td><td>中等长度文本数据</td><td>String</td></tr><tr><td>blob</td><td>0 ~ 65,535 个字节</td><td>二进制形式的长文本数据</td><td>byte[]</td></tr></tbody></table> 
<blockquote> 
 <p>重点是 <strong>varchar</strong>，一定要加上 （size）来指定最多可以保存多少个字符，一个英文字符或者一个中文字符都算一个字符，<strong>size 表示字符数，不考虑字符占多大字节</strong></p> 
</blockquote> 
<h3><a id="23__109"></a>2.3 日期类型</h3> 
<table><thead><tr><th>数据类型</th><th>大小</th><th>说明</th><th>对应的Java类型</th></tr></thead><tbody><tr><td>datetime</td><td>8个字节</td><td>范围从 1000 ~ 9999 年，不会进行时区的检索与转换</td><td>java.util.Date、java.sql.Timestamp</td></tr><tr><td>timestamp</td><td>4个字节</td><td>范围从 1970 ~ 2038 年，自动检索当前时区并进行转换</td><td>java.util.Date、java.sql.Timestamp</td></tr></tbody></table> 
<blockquote> 
 <p>datetime 只能精确到年月日，而 timestamp 可以精确到年月日时分秒，后面还有小数点。</p> 
</blockquote> 
<blockquote> 
 <p><strong>建议使用 datatime</strong> ，因为 timestamp 到了 2038 会溢出，对我们的数据可能会造成影响，可以参考千年虫危机</p> 
</blockquote> 
<h2><a id="_119"></a>表</h2> 
<blockquote> 
 <p><strong>需要操作数据库中的表时，需要先使用该数据库</strong> <code>use database_name;</code></p> 
</blockquote> 
<h3><a id="31__122"></a>3.1 创建表</h3> 
<p>语法格式：</p> 
<pre><code class="prism language-sql">creat <span class="token keyword">table</span> <span class="token punctuation">(</span><span class="token keyword">if</span> <span class="token operator">not</span> <span class="token keyword">exists</span><span class="token punctuation">)</span> table_name <span class="token punctuation">(</span>
 	字段名称<span class="token number">1</span> 数据类型<span class="token punctuation">,</span>
 	字段名称<span class="token number">2</span> 数据类型<span class="token punctuation">,</span>
 	字段名称<span class="token number">3</span> 数据类型
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<blockquote> 
 <p>在编写比较长的 sql 语句或者复杂的 sql 语句的时候，可以使用可视化工具。</p> 
</blockquote> 
<blockquote> 
 <p>在数据类型后面可以加上 <strong>comment ‘注释’</strong> 【注意这里使用的是英文的单引号】<br> 在开发过程中，加注释是其中一个重要的环节。</p> 
</blockquote> 
<p>演示：</p> 
<pre><code class="prism language-sql"><span class="token keyword">create</span> <span class="token keyword">table</span> <span class="token keyword">if</span> <span class="token operator">not</span> <span class="token keyword">exists</span> student <span class="token punctuation">(</span>
	id <span class="token keyword">bigint</span> <span class="token keyword">comment</span> <span class="token string">'身份证号'</span><span class="token punctuation">,</span>
	name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">'姓名'</span><span class="token punctuation">,</span>
	class <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">'班级'</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h3><a id="httpsiblogcsdnimgcndirectdbd2f5178bd840ea8d6e5aca7d8e28ddpng%0A32__146"></a><img src="https://images2.imgbox.com/91/c4/3iJ55LXU_o.png" alt="在这里插入图片描述"><br> 3.2 查看表结构</h3> 
<p>使用 <code>desc table_name;</code></p> 
<p>desc 是英文 describe (描述) 的缩写</p> 
<p>演示：</p> 
<p><img src="https://images2.imgbox.com/af/a9/nthrRUNW_o.png" alt="在这里插入图片描述"><br> Filed 表示字段名称<br> Type 表示字段类型<br> NULL：是否允许为空<br> Key 索引类型<br> Default 默认值<br> Extra 扩充</p> 
<h3><a id="33__163"></a>3.3 删除表</h3> 
<p>语法格式：</p> 
<pre><code class="prism language-sql"><span class="token keyword">drop</span> <span class="token keyword">table</span> <span class="token punctuation">(</span><span class="token keyword">if</span> <span class="token keyword">exists</span><span class="token punctuation">)</span> table_name<span class="token punctuation">,</span> table_name<span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
</code></pre> 
<blockquote> 
 <p><strong>可以删除一个及以上的表</strong>。</p> 
</blockquote> 
<p>演示：<br> <img src="https://images2.imgbox.com/a9/8a/3Qm4jyLH_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p><strong>在开发中，删除表操作也要谨慎，三思而后行！！！</strong></p> 
</blockquote> 
<h2><a id="_177"></a>其他操作</h2> 
<p>使用<code>\?</code> 可以查看一些MySQL的基本操作：</p> 
<p><img src="https://images2.imgbox.com/37/19/ZJ9w6thb_o.png" alt="在这里插入图片描述"></p> 
<hr> 
<p>使用 <code>select version();</code> 可以查看当前使用的MySQL版本:</p> 
<p><img src="https://images2.imgbox.com/1d/78/pW6Z816P_o.png" alt="在这里插入图片描述"></p> 
<hr> 
<p>使用 <code>\. sql文件路径</code> 可以执行该 sql 文件 ：</p> 
<blockquote> 
 <p><strong>注意 . 后面要加一个空格<br> 写完路径后，不需要加分号，直接enter 允许文件即可。</strong></p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/69/05/pTmzco1M_o.png" alt="在这里插入图片描述"></p> 
<hr> 
<p>查看表的数量：<code>show tables;</code></p> 
<p><img src="https://images2.imgbox.com/ca/95/8TBUTGp1_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/63f7261e7e4fca6bdb677940dd7499a4/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">SQL中的窗口函数</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/099e8ea9ecaf5d2fdc100c0688132ff8/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">golang 均匀散列id</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>