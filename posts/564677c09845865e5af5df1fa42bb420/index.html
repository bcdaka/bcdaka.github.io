<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>è½»æ¾ä¸Šæ‰‹MYSQLï¼šMYSQLæƒé™é…ç½®å…¨æ”»ç•¥,æ‰“é€ å®‰å…¨çš„æ•°æ®åº“ç¯å¢ƒ - ç¼–ç¨‹å¤§å’–</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/564677c09845865e5af5df1fa42bb420/">
  <meta property="og:site_name" content="ç¼–ç¨‹å¤§å’–">
  <meta property="og:title" content="è½»æ¾ä¸Šæ‰‹MYSQLï¼šMYSQLæƒé™é…ç½®å…¨æ”»ç•¥,æ‰“é€ å®‰å…¨çš„æ•°æ®åº“ç¯å¢ƒ">
  <meta property="og:description" content="â€‹
ğŸŒˆÂ ä¸ªäººä¸»é¡µï¼šdanci_
ğŸ”¥Â ç³»åˆ—ä¸“æ ï¼šã€Šè®¾è®¡æ¨¡å¼ã€‹ã€ŠMYSQLã€‹
ğŸ’ªğŸ»Â åˆ¶å®šæ˜ç¡®å¯é‡åŒ–çš„ç›®æ ‡ï¼ŒåšæŒé»˜é»˜çš„åšäº‹ã€‚
âœ¨æ¬¢è¿åŠ å…¥æ¢ç´¢MYSQLæƒé™é…ç½®ä¹‹æ—…âœ¨
ğŸ‘‹ å¤§å®¶å¥½ï¼æ–‡æœ¬å­¦ä¹ å’Œæ¢ç´¢MYSQLæƒé™é…ç½®ã€‚ğŸ‘‹Â æƒé™é…ç½®æ˜¯ä¿éšœæ•°æ®å®‰å…¨ä¸ç³»ç»Ÿç¨³å®šçš„åŸºçŸ³ã€‚ã€ŠMySQLæƒé™é…ç½®ã€‹å°†å¸¦æ‚¨æ·±å…¥æ¢ç´¢æƒé™ç®¡ç†çš„å¥¥ç§˜ï¼Œå¸®åŠ©æ‚¨è½»æ¾æŒæ¡ç”¨æˆ·æƒé™çš„åˆ†é…ä¸æ§åˆ¶æŠ€å·§ã€‚ä»åŸºæœ¬ç”¨æˆ·è®¾ç½®åˆ°å¤æ‚çš„æƒé™ç­–ç•¥ï¼Œæœ¬ç¯‡æ–‡ç« å°†ä¸ºæ‚¨æä¾›å…¨é¢çš„æŒ‡å¯¼ï¼Œè®©æ‚¨åœ¨åº”å¯¹å„ç§å®‰å…¨æŒ‘æˆ˜æ—¶æ¸¸åˆƒæœ‰ä½™ã€‚æ— è®ºæ‚¨æ˜¯åˆå­¦è€…è¿˜æ˜¯èµ„æ·±DBAï¼Œè¿™é‡Œéƒ½æœ‰æ‚¨ä¸å¯é”™è¿‡çš„å®æˆ˜ç»éªŒä¸æœ€ä½³å®è·µã€‚å‡†å¤‡å¥½è®©æ‚¨çš„æ•°æ®åº“æ›´å®‰å…¨äº†å—ï¼Ÿè®©æˆ‘ä»¬ä¸€æ¢ç©¶ç«Ÿï¼
ç›®å½•
ä¸€ã€ç¯å¢ƒ
äºŒã€MySQL8 ç”¨æˆ·æƒé™
2.1Â è´¦å·ç®¡ç†æƒé™
2.1.1 è¿æ¥æ•°æ®åº“
2.1.2 è´¦å·æƒé™é…ç½®
2.2 å¯†ç ç®¡ç†
2.3 é”è´¦å·é…ç½®ï¼ˆå«ç¤ºä¾‹ï¼‰
ä¸‰ã€MySQL8 ç”¨æˆ·èµ„æºé™åˆ¶
ä¸€ã€ç¯å¢ƒ Windows11ï¼›Docker ï¼ˆä¸­æ–‡ä¸‹è½½ï¼šDockerä¸­æ–‡ç½‘ å®˜ç½‘ï¼Œè‹±æ–‡ä¸‹è½½:Get Started | Dockerï¼Œå®‰è£…ï¼šä¸€ç›´ä¸‹ä¸€æ­¥å³å¯ï¼‰ï¼›Mysql5ã€Mysql8.0.28ã€‚ # ä¸‹è½½é•œåƒ $ docker pull mysql:8.0.28 # åˆ›å»ºå®¹å™¨å¹¶è¿è¡Œ $ docker run -itd --name mysql8 -p 3307:3306 -e MYSQL_ROOT_PASSWORD=root -e MYSQL_ROOT_HOST=&#39;%&#39; mysql äºŒã€MySQL8 ç”¨æˆ·æƒé™ åœ¨ MySQL8 ä¹‹å‰ï¼Œæˆæƒè¡¨ä½¿ç”¨Â MyISAM å¹¶ä¸”æ˜¯éäº‹åŠ¡æ€§çš„ï¼Œè€Œåœ¨ MySQL8 ä¸­ï¼Œæˆæƒè¡¨ä½¿ç”¨Â InnoDB å­˜å‚¨å¼•æ“å¹¶ä¸”æ˜¯äº‹åŠ¡æ€§çš„ã€‚é€šè¿‡æŸ¥çœ‹åˆ›å»ºè¡¨çš„è¯­å¥ï¼ˆå‘½ä»¤ï¼šshow create table user;ï¼‰æ¥æŸ¥çœ‹è¡¨çš„å­˜å‚¨å¼•æ“ï¼Œå¦‚ä¸‹å›¾ï¼š">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-08-18T21:22:27+08:00">
    <meta property="article:modified_time" content="2024-08-18T21:22:27+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ç¼–ç¨‹å¤§å’–" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ç¼–ç¨‹å¤§å’–</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">è½»æ¾ä¸Šæ‰‹MYSQLï¼šMYSQLæƒé™é…ç½®å…¨æ”»ç•¥,æ‰“é€ å®‰å…¨çš„æ•°æ®åº“ç¯å¢ƒ</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h3><a id="_0"></a></h3> 
<div> 
 <p class="img-center"><img alt="" height="87" src="https://images2.imgbox.com/9a/21/DG6dBTcq_o.png" width="83"><span title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥æ”¹å˜å°ºå¯¸">â€‹</span></p> 
</div> 
<p>Â ğŸŒˆÂ <strong>ä¸ªäººä¸»é¡µï¼š</strong><a href="https://blog.csdn.net/danci_" title="danci_">danci_</a><br> ğŸ”¥Â <strong>ç³»åˆ—ä¸“æ ï¼š</strong><a href="https://blog.csdn.net/danci_/category_12551117.html" title="ã€Šè®¾è®¡æ¨¡å¼ã€‹">ã€Šè®¾è®¡æ¨¡å¼ã€‹</a><a href="https://blog.csdn.net/danci_/category_12641052.html" title="ã€ŠMYSQLã€‹">ã€ŠMYSQLã€‹</a><br> ğŸ’ªğŸ»Â <strong>åˆ¶å®šæ˜ç¡®å¯é‡åŒ–çš„ç›®æ ‡ï¼ŒåšæŒé»˜é»˜çš„åšäº‹ã€‚</strong></p> 
<hr> 
<div class="csdn-video-box" data-report-view='{"spm":"3001.10261","extra":{"id":"eyBKl2Pp-1723987024682"}}'> 
 <iframe id="eyBKl2Pp-1723987024682" frameborder="0" src="https://live.csdn.net/v/embed/418351" allowfullscreen="true" data-mediaembed="csdn"></iframe> 
 <p></p> 
</div> 
<p>âœ¨æ¬¢è¿åŠ å…¥æ¢ç´¢MYSQLæƒé™é…ç½®ä¹‹æ—…âœ¨<br> Â  Â  ğŸ‘‹ å¤§å®¶å¥½ï¼æ–‡æœ¬å­¦ä¹ å’Œæ¢ç´¢MYSQLæƒé™é…ç½®ã€‚ğŸ‘‹Â æƒé™é…ç½®æ˜¯ä¿éšœæ•°æ®å®‰å…¨ä¸ç³»ç»Ÿç¨³å®šçš„åŸºçŸ³ã€‚ã€ŠMySQLæƒé™é…ç½®ã€‹å°†å¸¦æ‚¨æ·±å…¥æ¢ç´¢æƒé™ç®¡ç†çš„å¥¥ç§˜ï¼Œå¸®åŠ©æ‚¨è½»æ¾æŒæ¡ç”¨æˆ·æƒé™çš„åˆ†é…ä¸æ§åˆ¶æŠ€å·§ã€‚ä»åŸºæœ¬ç”¨æˆ·è®¾ç½®åˆ°å¤æ‚çš„æƒé™ç­–ç•¥ï¼Œæœ¬ç¯‡æ–‡ç« å°†ä¸ºæ‚¨æä¾›å…¨é¢çš„æŒ‡å¯¼ï¼Œè®©æ‚¨åœ¨åº”å¯¹å„ç§å®‰å…¨æŒ‘æˆ˜æ—¶æ¸¸åˆƒæœ‰ä½™ã€‚æ— è®ºæ‚¨æ˜¯åˆå­¦è€…è¿˜æ˜¯èµ„æ·±DBAï¼Œè¿™é‡Œéƒ½æœ‰æ‚¨ä¸å¯é”™è¿‡çš„å®æˆ˜ç»éªŒä¸æœ€ä½³å®è·µã€‚å‡†å¤‡å¥½è®©æ‚¨çš„æ•°æ®åº“æ›´å®‰å…¨äº†å—ï¼Ÿè®©æˆ‘ä»¬ä¸€æ¢ç©¶ç«Ÿï¼</p> 
<p id="main-toc"><strong>ç›®å½•</strong></p> 
<p id="%C2%A0%E4%B8%80%E3%80%81%E7%8E%AF%E5%A2%83-toc" style="margin-left:0px;"><a href="#%C2%A0%E4%B8%80%E3%80%81%E7%8E%AF%E5%A2%83" rel="nofollow">ä¸€ã€ç¯å¢ƒ</a></p> 
<p id="%E4%BA%8C%E3%80%81MySQL8%20%E7%94%A8%E6%88%B7%E6%9D%83%E9%99%90-toc" style="margin-left:0px;"><a href="#%E4%BA%8C%E3%80%81MySQL8%20%E7%94%A8%E6%88%B7%E6%9D%83%E9%99%90" rel="nofollow">äºŒã€MySQL8 ç”¨æˆ·æƒé™</a></p> 
<p id="%E4%B8%89%E3%80%81MySQL8%20%E7%94%A8%E6%88%B7%E6%9D%83%E9%99%90-toc" style="margin-left:40px;"><a href="#%E4%B8%89%E3%80%81MySQL8%20%E7%94%A8%E6%88%B7%E6%9D%83%E9%99%90" rel="nofollow">2.1Â è´¦å·ç®¡ç†æƒé™</a></p> 
<p id="-toc" style="margin-left:80px;"></p> 
<p id="3.1%20%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E5%BA%93-toc" style="margin-left:80px;"><a href="#3.1%20%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E5%BA%93" rel="nofollow">2.1.1 è¿æ¥æ•°æ®åº“</a></p> 
<p id="3.2%20%E8%B4%A6%E5%8F%B7%E7%AE%A1%E7%90%86-toc" style="margin-left:80px;"><a href="#3.2%20%E8%B4%A6%E5%8F%B7%E7%AE%A1%E7%90%86" rel="nofollow">2.1.2 è´¦å·æƒé™é…ç½®</a></p> 
<p id="3.3%20%E5%AF%86%E7%A0%81%E7%AE%A1%E7%90%86-toc" style="margin-left:40px;"><a href="#3.3%20%E5%AF%86%E7%A0%81%E7%AE%A1%E7%90%86" rel="nofollow">2.2 å¯†ç ç®¡ç†</a></p> 
<p id="-toc" style="margin-left:80px;"></p> 
<p id="3.4%20%E9%85%8D%E7%BD%AE%E7%99%BB%E9%99%86%E5%A4%B1%E8%B4%A5%E5%A4%9A%E6%AC%A1%E9%94%811%E5%A4%A9-toc" style="margin-left:40px;"><a href="#3.4%20%E9%85%8D%E7%BD%AE%E7%99%BB%E9%99%86%E5%A4%B1%E8%B4%A5%E5%A4%9A%E6%AC%A1%E9%94%811%E5%A4%A9" rel="nofollow">2.3 é”è´¦å·é…ç½®ï¼ˆå«ç¤ºä¾‹ï¼‰</a></p> 
<p id="%E4%B8%89%E3%80%81MySQL8%20%E7%94%A8%E6%88%B7%E8%B5%84%E6%BA%90%E9%99%90%E5%88%B6-toc" style="margin-left:0px;"><a href="#%E4%B8%89%E3%80%81MySQL8%20%E7%94%A8%E6%88%B7%E8%B5%84%E6%BA%90%E9%99%90%E5%88%B6" rel="nofollow">ä¸‰ã€MySQL8 ç”¨æˆ·èµ„æºé™åˆ¶</a></p> 
<hr id="hr-toc"> 
<p></p> 
<h2 id="%C2%A0%E4%B8%80%E3%80%81%E7%8E%AF%E5%A2%83" style="background-color:transparent;">ä¸€ã€ç¯å¢ƒ</h2> 
<p></p> 
<ul><li>Windows11ï¼›</li><li>Docker ï¼ˆä¸­æ–‡ä¸‹è½½ï¼š<a href="http://docker.p2hp.com/" rel="nofollow" title="Dockerä¸­æ–‡ç½‘ å®˜ç½‘">Dockerä¸­æ–‡ç½‘ å®˜ç½‘</a>ï¼Œè‹±æ–‡ä¸‹è½½:<a href="https://www.docker.com/get-started/" rel="nofollow" title="Get Started | Docker">Get Started | Docker</a>ï¼Œå®‰è£…ï¼šä¸€ç›´ä¸‹ä¸€æ­¥å³å¯ï¼‰ï¼›</li><li>Mysql5ã€Mysql8.0.28ã€‚</li></ul> 
<pre><code class="language-sql"># ä¸‹è½½é•œåƒ
$ docker pull mysql:8.0.28

# åˆ›å»ºå®¹å™¨å¹¶è¿è¡Œ
$ docker run -itd --name mysql8 -p 3307:3306 -e MYSQL_ROOT_PASSWORD=root -e MYSQL_ROOT_HOST='%' mysql</code></pre> 
<p></p> 
<h2 id="%E4%BA%8C%E3%80%81MySQL8%20%E7%94%A8%E6%88%B7%E6%9D%83%E9%99%90" style="background-color:transparent;">äºŒã€MySQL8 ç”¨æˆ·æƒé™</h2> 
<p></p> 
<p>Â Â Â Â Â Â Â Â åœ¨ MySQL8 ä¹‹å‰ï¼Œæˆæƒè¡¨ä½¿ç”¨Â MyISAM å¹¶ä¸”æ˜¯éäº‹åŠ¡æ€§çš„ï¼Œè€Œåœ¨ MySQL8 ä¸­ï¼Œæˆæƒè¡¨ä½¿ç”¨Â InnoDB å­˜å‚¨å¼•æ“å¹¶ä¸”æ˜¯äº‹åŠ¡æ€§çš„ã€‚é€šè¿‡æŸ¥çœ‹åˆ›å»ºè¡¨çš„è¯­å¥ï¼ˆå‘½ä»¤ï¼šshow create table user;ï¼‰æ¥æŸ¥çœ‹è¡¨çš„å­˜å‚¨å¼•æ“ï¼Œå¦‚ä¸‹å›¾ï¼š</p> 
<p><img alt="" height="1102" src="https://images2.imgbox.com/65/4e/tPL5UWhs_o.png" width="1200"></p> 
<p></p> 
<p>Â Â Â Â Â Â Â Â æœåŠ¡å™¨åœ¨å¯åŠ¨æ—¶å°†æˆæƒè¡¨çš„å†…å®¹è¯»å…¥å†…å­˜ï¼Œå½“ä¿®æ”¹æƒé™æ—¶éœ€è¦é€šè¿‡å‘½ä»¤ FLUSH PRIVILEGES é‡æ–°åŠ è½½ä½¿æƒé™ç”Ÿæ•ˆã€‚</p> 
<pre><code class="language-sql">userï¼šç”¨æˆ·å¸æˆ·ã€é™æ€å…¨å±€æƒé™è¡¨ï¼›
global_grantsï¼šåŠ¨æ€å…¨å±€æƒé™è¡¨ï¼›
dbï¼šæ•°æ®åº“çº§çš„æƒé™è¡¨ï¼›
tables_privï¼šå­˜å‚¨è¡¨çº§æƒé™ï¼›
columns_priv: å­˜å‚¨åˆ—çº§æƒé™ï¼›
procs_priv: å­˜å‚¨è¿‡ç¨‹å’Œå‡½æ•°æƒé™è¡¨ï¼›
proxies_priv: ä»£ç†ç”¨æˆ·æƒé™è¡¨ï¼›
default_rolesï¼šé»˜è®¤ç”¨æˆ·è§’è‰²è¡¨ï¼›
role_edgesï¼šè®°å½•è§’è‰²ä¸ç”¨æˆ·çš„æˆæƒå…³ç³»è¡¨ï¼›
password_history: å¯†ç æ›´æ”¹å†å²è¡¨ã€‚</code></pre> 
<p></p> 
<h3 id="%E4%B8%89%E3%80%81MySQL8%20%E7%94%A8%E6%88%B7%E6%9D%83%E9%99%90">2.1Â è´¦å·ç®¡ç†æƒé™</h3> 
<h4></h4> 
<h4 id="3.1%20%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E5%BA%93">2.1.1 è¿æ¥æ•°æ®åº“</h4> 
<pre><code class="language-sql">docker exec -it mysql3307 bash    // å›è½¦
mysql -uroot -p //å›è½¦å†è¾“å…¥å¯†ç </code></pre> 
<p></p> 
<p><img alt="" height="794" src="https://images2.imgbox.com/ae/76/3M0nIGer_o.png" width="1200"></p> 
<p></p> 
<pre><code class="language-sql">docker exec -it mysql3307 bash    // å›è½¦
mysql --user=root --password    // å›è½¦ï¼Œå†è¾“å…¥å¯†ç </code></pre> 
<p></p> 
<p><img alt="" height="746" src="https://images2.imgbox.com/ae/fa/xPbQ6Qzi_o.png" width="1200"></p> 
<p></p> 
<h4 id="3.2%20%E8%B4%A6%E5%8F%B7%E7%AE%A1%E7%90%86">2.1.2 è´¦å·æƒé™é…ç½®</h4> 
<p></p> 
<p>åˆ›å»ºå’Œåˆ é™¤å¸æˆ·<span id="cke_bm_5814C">Â </span></p> 
<pre><code class="language-sql">CREATE USER å’Œ DROP USER åˆ›å»ºå’Œåˆ é™¤å¸æˆ·ï¼›</code></pre> 
<p></p> 
<p><span id="cke_bm_6594C">Â </span>åˆ†é…æƒé™å’Œæ’¤é”€æƒé™</p> 
<pre><code class="language-sql">GRANT å’Œ REVOKE åˆ†é…æƒé™å’Œæ’¤é”€æƒé™ï¼›</code></pre> 
<p></p> 
<p><em>ç¤ºä¾‹ï¼š</em></p> 
<pre><code class="language-sql">CREATE USER 'username'@'localhost' IDENTIFIED BY 'password';  // åˆ›å»ºå±€åŸŸç½‘ç»œè´¦å·
GRANT ALL ON *.* TO 'username'@'localhost' WITH GRANT OPTION; // åˆ†é…æƒé™
REVOKE ALL ON *.* FROM 'username'@'localhost';                // æ’¤é”€æƒé™
SHOW GRANTS FOR 'username'@'localhost';                       // æŸ¥çœ‹æƒé™
DROP USER 'username'@'localhost';                             // åˆ é™¤è´¦å·</code></pre> 
<p></p> 
<p>Â  Â  Â  Â å…¶å®ƒæœºå™¨ç”¨æˆ·è®¿é—®çš„ç”¨æˆ·æƒé™é…ç½®åªéœ€è¦ä¿®æ”¹localhostï¼Œå¦‚ localhostä¿®æ”¹ä¸º% è¡¨ç¤ºä»»æ„æœºå™¨ç½‘ç»œï¼Œlocalhostä¿®æ”¹ä¸º192.168.2.% è¡¨ç¤ºç»™192.168.2è¿™ä¸ªipè¿æ¥æ•°æ®åº“é…çš„ç”¨æˆ·æƒé™ã€‚</p> 
<p></p> 
<h3 id="3.3%20%E5%AF%86%E7%A0%81%E7%AE%A1%E7%90%86">2.2 å¯†ç ç®¡ç†</h3> 
<h4></h4> 
<p>ä¿®æ”¹å¯†ç </p> 
<pre><code class="language-sql">ALTER USER 'username'@'%' IDENTIFIED BY 'password';//ä¿®æ”¹å¯†ç </code></pre> 
<p></p> 
<p>è®¾ç½®å¯†ç è¿‡æœŸæ—¶é—´</p> 
<pre><code class="language-sql">ALTER USER 'username'@'%' PASSWORD EXPIRE;                 //è®¾ç½®ç«‹å³è¿‡æœŸ
ALTER USER 'username'@'%' PASSWORD EXPIRE INTERVAL 30 DAY; //è®¾ç½®30å¤©è¿‡æœŸ
ALTER USER 'username'@'%' PASSWORD EXPIRE NEVER;           //ç¦ç”¨å¯†ç è¿‡æœŸ</code></pre> 
<p></p> 
<p>ç¦æ­¢é‡å¤ä½¿ç”¨æœ€è¿‘3ä¸ªæˆ–è¶…è¿‡30å¤©çš„å¯†ç </p> 
<p>ä¿®æ”¹æ–‡ä»¶ my.cnfï¼Œmysql8.0.28æ˜¯/etc/my.cnfï¼š</p> 
<pre><code class="language-sql">[mysqld]
password_history=3
password_reuse_interval=30</code></pre> 
<p></p> 
<h3 id="3.4%20%E9%85%8D%E7%BD%AE%E7%99%BB%E9%99%86%E5%A4%B1%E8%B4%A5%E5%A4%9A%E6%AC%A1%E9%94%811%E5%A4%A9">2.3 é”è´¦å·é…ç½®ï¼ˆå«ç¤ºä¾‹ï¼‰</h3> 
<p></p> 
<pre><code class="language-sql"># è¿ç»­ç™»å½•å¤±è´¥3æ¬¡åˆ™é”å®š1å¤©ï¼Œå¤©æ•°å¯å–å€¼ï¼š0-32767ï¼Œè®¾ç½® 0 åˆ™ä»£è¡¨è§£é”
CREATE USER 'test'@'localhost' IDENTIFIED BY 'test123' FAILED_LOGIN_ATTEMPTS 7 PASSWORD_LOCK_TIME 1;
 
# è¿ç»­ç™»å½•å¤±è´¥3æ¬¡åˆ™æ°¸ä¹…é”å®š
ALTER USER 'try8'@'localhost' FAILED_LOGIN_ATTEMPTS 3 PASSWORD_LOCK_TIME UNBOUNDED;</code></pre> 
<p></p> 
<p>ç¤ºä¾‹ï¼š</p> 
<pre><code class="language-sql"># ç™»é™†MYSQL
PS C:\Users\Administrator&gt; docker exec -it mysql8 bash
bash-4.4# mysql -uroot -p
Enter password:                                    # æ­¤å¤–è¾“å…¥å¯†ç å®Œæˆç™»é™†
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 8
Server version: 8.2.0 MySQL Community Server - GPL
Copyright (c) 2000, 2023, Oracle and/or its affiliates.
Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.
Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.
mysql&gt;
# ç™»é™†è¿ç»­ç™»é™†å¤±è´¥3æ¬¡é”ä¸€å¤©çš„ç”¨æˆ·test
mysql&gt; CREATE USER 'test'@'localhost' IDENTIFIED BY 'test123' FAILED_LOGIN_ATTEMPTS 3 PASSWORD_LOCK_TIME 1;
Query OK, 0 rows affected (0.01 sec)
mysql&gt; FLUSH PRIVILEGES;</code></pre> 
<p></p> 
<p>æ‰“å¼€å¦ä¸€ç»ˆç«¯ï¼Œç”¨æ­£ç¡®å¯†ç æµ‹è¯•æ˜¯å¦ç™»é™†æˆåŠŸ</p> 
<pre><code class="language-sql">
PS C:\Users\Administrator&gt; docker exec -it mysql8 bash
bash-4.4# mysql -utest -ptest123
mysql: [Warning] Using a password on the command line interface can be insecure.
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 9
Server version: 8.2.0 MySQL Community Server - GPL
Copyright (c) 2000, 2023, Oracle and/or its affiliates.
Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.
Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.
mysql&gt;                                # è¿›åˆ°è¿™é‡Œè¯´æ˜ç™»é™†æˆåŠŸ
mysql&gt; exit
Bye</code></pre> 
<p></p> 
<p>æµ‹è¯•ç™»é™†3æ¬¡å¤±è´¥</p> 
<pre><code class="language-sql">
bash-4.4# mysql -utest -ptest12345
mysql: [Warning] Using a password on the command line interface can be insecure.
ERROR 1045 (28000): Access denied for user 'test'@'localhost' (using password: YES)
bash-4.4# mysql -utest -ptest12345
mysql: [Warning] Using a password on the command line interface can be insecure.
ERROR 1045 (28000): Access denied for user 'test'@'localhost' (using password: YES)
bash-4.4# mysql -utest -ptest12345
mysql: [Warning] Using a password on the command line interface can be insecure.
ERROR 3955 (HY000): Access denied for user 'test'@'localhost'. Account is blocked for 1 day(s) (1 day(s) remaining) due to 3 consecutive failed logins.
bash-4.4#</code></pre> 
<p></p> 
<p>ç¬¬ä¸‰æ¬¡è¾“å…¥å¤±è´¥åæœ‰æç¤ºÂ Â Account is blocked for 1 day(s) (1 day(s) remaining) è´¦å·å·²è¢«é”1å¤©ã€‚</p> 
<pre><code class="language-sql"># è¾“å…¥æ­£ç¡®çš„ç”¨æˆ·åå¯†ç ç™»é™†çœ‹æ˜¯å¦æˆåŠŸ
bash-4.4# mysql -utest -ptest123
mysql: [Warning] Using a password on the command line interface can be insecure.
ERROR 3955 (HY000): Access denied for user 'test'@'localhost'. Account is blocked for 1 day(s) (1 day(s) remaining) due to 3 consecutive failed logins.
 </code></pre> 
<p>å› è¾“å…¥é”™è¯¯3æ¬¡è¢«é”å®šï¼Œå³ä½¿å†è¾“å…¥æ­£ç¡®çš„ç”¨æˆ·åå’Œå¯†ç ä¹Ÿæ— æ³•ç™»é™†ã€‚</p> 
<p></p> 
<p>è§£é”</p> 
<pre><code class="language-sql">ALTER USER 'test'@'localhost' IDENTIFIED BY 'test123' FAILED_LOGIN_ATTEMPTS 3 PASSWORD_LOCK_TIME 0;</code></pre> 
<p>è®¾ç½®0ï¼šä»£è¡¨è§£é”ã€‚</p> 
<p></p> 
<h2 id="%E4%B8%89%E3%80%81MySQL8%20%E7%94%A8%E6%88%B7%E8%B5%84%E6%BA%90%E9%99%90%E5%88%B6" style="background-color:transparent;">ä¸‰ã€MySQL8 ç”¨æˆ·èµ„æºé™åˆ¶</h2> 
<p></p> 
<p>Â Â Â Â Â Â Â å°†å…¨å±€ç³»ç»Ÿå˜é‡Â max_user_connections è®¾ç½®ä¸ºéé›¶å€¼ï¼Œå¯ä»¥é™åˆ¶åŒæ—¶å»ºç«‹çš„è¿æ¥æ•°ï¼Œä½†æ˜¯å¯¹å®¢æˆ·ç«¯è¿æ¥åå¯ä»¥æ‰§è¡Œçš„æŸ¥è¯¢æ›´æ–°æ“ä½œæ²¡æœ‰é™åˆ¶ã€‚å®¢æˆ·ç«¯å¯ä»¥å‘å‡ºçš„ä»»ä½•è¯­å¥éƒ½è®¡å…¥æŸ¥è¯¢é™åˆ¶ï¼Œåªæœ‰ä¿®æ”¹åº“è¡¨æ‰è®¡å…¥æ›´æ–°é™åˆ¶ã€‚</p> 
<pre><code class="language-sql">MAX_QUERIES_PER_HOURï¼šå®¢æˆ·ç«¯æ¯å°æ—¶å¯ä»¥å‘å‡ºçš„æŸ¥è¯¢æ•°ï¼›
MAX_UPDATES_PER_HOURï¼šå®¢æˆ·ç«¯æ¯å°æ—¶å¯ä»¥å‘å‡ºçš„æ›´æ–°æ•°ï¼›
MAX_CONNECTIONS_PER_HOURï¼šå®¢æˆ·ç«¯æ¯å°æ—¶å¯ä»¥è¿æ¥åˆ°æœåŠ¡å™¨çš„æ¬¡æ•°ï¼›
MAX_USER_CONNECTIONSï¼šå®¢æˆ·ç«¯åŒæ—¶è¿æ¥çš„æœåŠ¡å™¨æ•°é‡ç­‰ã€‚
</code></pre> 
<p></p> 
<p>é€šè¿‡åˆ›å»ºç”¨æˆ·è´¦å·é™åˆ¶ç¤ºä¾‹ï¼š</p> 
<pre><code class="language-sql">CREATE USER 'test'@'localhost' IDENTIFIED BY 'test123'
  WITH MAX_QUERIES_PER_HOUR 10000 
  MAX_UPDATES_PER_HOUR 10000 
  MAX_CONNECTIONS_PER_HOUR 10000 
  MAX_USER_CONNECTIONS 10000 ; # å®¢æˆ·ç«¯æ¯å°æ—¶çš„æŸ¥è¯¢æ•°ã€æ›´æ–°æ•°ã€è¿æ¥æœåŠ¡å™¨çš„æ¬¡æ•°å’Œæ•°é‡ä¸º10000 ã€‚</code></pre> 
<p></p> 
<p>é€šè¿‡ä¿®æ”¹å’Œåˆ é™¤è´¦å·é™åˆ¶ç¤ºä¾‹ï¼š</p> 
<pre><code class="language-sql">ALTER USER 'test'@'localhost' WITH MAX_QUERIES_PER_HOUR 10000; //ä¿®æ”¹é™åˆ¶
ALTER USER 'test'@'localhost' WITH MAX_CONNECTIONS_PER_HOUR 0; //è®¾ç½®0ï¼Œä¸ºåˆ é™¤é™åˆ¶</code></pre> 
<p></p> 
<p>Â  Â <span style="color:#be191c;"> <span style="background-color:#fef2f0;">å¥½äº†ï¼Œä»Šå¤©åˆ†äº«åˆ°è¿™é‡Œã€‚å¸Œæœ›ä½ å–œæ¬¢è¿™æ¬¡çš„æ¢ç´¢ä¹‹æ—…ï¼ä¸è¦å¿˜è®° "ç‚¹èµ" å’Œ "å…³æ³¨" å“¦ï¼Œæˆ‘ä»¬ä¸‹æ¬¡è§ï¼ğŸˆ</span></span></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ee10dae0b532b7d0bfb7029260a477d7/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">IOS 09 R.swiftæ¡†æ¶å’Œä½¿ç”¨æ–¹æ³•</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/2b14fe7d1ef70dbeb26765f82823eb9f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">ã€Cè¯­è¨€ã€‘å†’æ³¡æ’åºä¿å§†çº§æ•™å­¦</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ç¼–ç¨‹å¤§å’–.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>