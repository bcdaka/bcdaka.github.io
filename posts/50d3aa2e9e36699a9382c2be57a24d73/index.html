<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>StableDiffusion(四)——高清修复与放大算法 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/50d3aa2e9e36699a9382c2be57a24d73/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="StableDiffusion(四)——高清修复与放大算法">
  <meta property="og:description" content="目录
一、高清修复与放大算法
1.高清修复
①文生图
②图生图
2.SD放大（SD Upscale）
3.附加功能放大
4.总结
一、高清修复与放大算法 1.高清修复 概念：分两步，第一步生成低分辨率的图画，第二步使用它指定的高清算法，生成一个高分辨率的版本，在不改变构图的情况下丰富细节
①文生图 高清修复参数：
放大倍数：是指放大到原图的多少倍，也可以按照参数后面手动设置新图像的宽和高重绘幅度：是和原图的差异度，一般推荐0.5，安全放大区间0.3-0.5，具有自由度区间0.5-0.7高清采样次数：和采样迭代数一样，不用选择，保持默认0的迭代次数放大算法：概念比较复杂，几乎所有的算法出来的结果都是一致的，网上推荐无脑选择R-ESRGAN 4x&#43; 的，二次元的选择R-ESRGAN4x&#43; Anime6B,效果相较于其他算法是好一点的 ②图生图 在图库浏览器里，浏览已经做好的图片，选择信息栏的图生图，他会把你这个图片的所有信息同步到图生图里面，你只需要改变分辨率，控制重绘幅度就可以啦（PS：图片浏览器需要自己下载，我后面内容会有写到）在设置选项的放大功能下可以自行定义用于放大图像的算法，选择完之后记得保存，这里选择的算法还是我们文生图推荐的那两个算法 2.SD放大（SD Upscale） 概念：根据指定的放大倍数，将图生图的图像拆解成若干小块按照固定逻辑重绘，再合并成一张大图，可以实现在低显存的条件下生成大尺寸的图片
选择”脚本“选项的SD放大脚本
缩放系数：相当于放大倍数，设置为2的意思是放大为原来的两倍
放大算法：我们还是默认选择R-ESRGAN 4x&#43; 的，二次元的选择R-ESRGAN4x&#43; Anime6B
图块重叠的像素：维持默认的64像素不变，是为了避免图片分块重画拼合的割裂的感觉（如下图），64是一个缓冲带的作用，为了分块画的画，画的更好，如果你觉得图片还是拼接的生硬，你可以把重叠像素改成128
注意：这时候要手动更改图片的尺寸，本身你的尺寸是600*600这时候要加上图块重叠像素，你要改成664*664（同理，重叠像素是128的话图片尺寸就要改成728*728）
对于缺点解决方法：增加缓冲带，重绘幅度降低为0.4
3.附加功能放大 概念：利用各种放大算法啊，在图像生成后再对它进行单独处理，使之拥有更高的分辨率尺寸
可以把已经绘制好的图片上传在附加功能下，也可以在图片浏览器显示的图片信息下面直接选择”附加功能”选项
在附加功能里面，可以看到以下设置，特点是有两个放大算法选择，可以给第二个算法选择权重，当然也可以不选择第二个算法，其他参数默认不变
4.总结 文生图：高清修复
图生图：SD放大
生成后处理：附加功能
“打回重画，再来一幅”
”分几块画，拼在一起“
”简单放大，随时可用“
分两步，第一步生成低分辨率的图画，第二步使用它指定的高清算法，生成一个高分辨率的版本，在不改变构图的情况下丰富细节
根据指定的放大倍数，将图生图的图像拆解成若干小块按照固定逻辑重绘，再合并成一张大图，可以实现在低显存的条件下生成大尺寸的图片
利用各种放大算法啊，在图像生成后再对它进行单独处理，使之拥有更高的分辨率尺寸
优势：
不会改变画面的构图（因为随机种子固定）稳定克服多人、多头有分辨率产生的问题操作简便、清晰、直观 优势：
可以突破内存限制获得更大分辨率画面精细度更高，对于细节的丰富更加出色 优势：
使用方便，操作简单，随时可以调用计算速度快，没有重绘压力完全不改变图片内容 缺点：
仍然受到最大显存的影响计算速度相对较慢偶尔”加戏“，出现莫名其妙的额外元素 缺点：
分割重乎的过程不可控（语义误导格分界线割裂）操作繁琐且相对不直观偶尔加戏，出现莫名的额外元素对于缺点解决方法：增加缓冲带，重绘幅度降低为0.4
缺点：
放大功能的效果不太显著">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2023-11-13T17:31:55+08:00">
    <meta property="article:modified_time" content="2023-11-13T17:31:55+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">StableDiffusion(四)——高清修复与放大算法</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="%E4%B8%80%E3%80%81%E9%AB%98%E6%B8%85%E4%BF%AE%E5%A4%8D%E4%B8%8E%E6%94%BE%E5%A4%A7%E7%AE%97%E6%B3%95-toc" style="margin-left:40px;"><a href="#%E4%B8%80%E3%80%81%E9%AB%98%E6%B8%85%E4%BF%AE%E5%A4%8D%E4%B8%8E%E6%94%BE%E5%A4%A7%E7%AE%97%E6%B3%95" rel="nofollow">一、高清修复与放大算法</a></p> 
<p id="1.%E9%AB%98%E6%B8%85%E4%BF%AE%E5%A4%8D-toc" style="margin-left:80px;"><a href="#1.%E9%AB%98%E6%B8%85%E4%BF%AE%E5%A4%8D" rel="nofollow">1.高清修复</a></p> 
<p id="%E2%91%A0%E6%96%87%E7%94%9F%E5%9B%BE-toc" style="margin-left:120px;"><a href="#%E2%91%A0%E6%96%87%E7%94%9F%E5%9B%BE" rel="nofollow">①文生图</a></p> 
<p id="%E2%91%A1%E5%9B%BE%E7%94%9F%E5%9B%BE-toc" style="margin-left:120px;"><a href="#%E2%91%A1%E5%9B%BE%E7%94%9F%E5%9B%BE" rel="nofollow">②图生图</a></p> 
<p id="2.SD%E6%94%BE%E5%A4%A7%EF%BC%88SD%20Upscale%EF%BC%89-toc" style="margin-left:80px;"><a href="#2.SD%E6%94%BE%E5%A4%A7%EF%BC%88SD%20Upscale%EF%BC%89" rel="nofollow">2.SD放大（SD Upscale）</a></p> 
<p id="3.%E9%99%84%E5%8A%A0%E5%8A%9F%E8%83%BD%E6%94%BE%E5%A4%A7-toc" style="margin-left:80px;"><a href="#3.%E9%99%84%E5%8A%A0%E5%8A%9F%E8%83%BD%E6%94%BE%E5%A4%A7" rel="nofollow">3.附加功能放大</a></p> 
<p id="4.%E6%80%BB%E7%BB%93-toc" style="margin-left:80px;"><a href="#4.%E6%80%BB%E7%BB%93" rel="nofollow">4.总结</a></p> 
<hr> 
<h3>一、高清修复与放大算法</h3> 
<h4 id="1.%E9%AB%98%E6%B8%85%E4%BF%AE%E5%A4%8D">1.高清修复</h4> 
<p>概念：分两步，第一步生成低分辨率的图画，第二步使用它指定的高清算法，生成一个高分辨率的版本，在不改变构图的情况下丰富细节</p> 
<h5 id="%E2%91%A0%E6%96%87%E7%94%9F%E5%9B%BE">①文生图</h5> 
<p class="img-center"><img alt="" height="928" src="https://images2.imgbox.com/89/67/rB3EQZdI_o.png" width="1200"></p> 
<p>高清修复参数：</p> 
<ul><li>放大倍数：是指放大到原图的多少倍，也可以按照参数后面手动设置新图像的宽和高</li><li>重绘幅度：是和原图的差异度，一般推荐0.5，安全放大区间0.3-0.5，具有自由度区间0.5-0.7</li><li>高清采样次数：和采样迭代数一样，不用选择，保持默认0的迭代次数</li><li>放大算法：概念比较复杂，几乎所有的算法出来的结果都是一致的，网上推荐无脑选择R-ESRGAN 4x+ 的，二次元的选择R-ESRGAN4x+ Anime6B,效果相较于其他算法是好一点的</li></ul> 
<h5 id="%E2%91%A1%E5%9B%BE%E7%94%9F%E5%9B%BE">②图生图</h5> 
<ul><li>在图库浏览器里，浏览已经做好的图片，选择信息栏的图生图，他会把你这个图片的所有信息同步到图生图里面，你只需要改变分辨率，控制重绘幅度就可以啦（PS：图片浏览器需要自己下载，我后面内容会有写到）</li><li>在设置选项的放大功能下可以自行定义用于放大图像的算法，选择完之后记得保存，这里选择的算法还是我们文生图推荐的那两个算法</li></ul> 
<h4 id="2.SD%E6%94%BE%E5%A4%A7%EF%BC%88SD%20Upscale%EF%BC%89">2.SD放大（SD Upscale）</h4> 
<p>概念：根据指定的放大倍数，将图生图的图像拆解成若干小块按照固定逻辑重绘，再合并成一张大图，可以实现在低显存的条件下生成大尺寸的图片</p> 
<p>选择”脚本“选项的SD放大脚本</p> 
<p>缩放系数：相当于放大倍数，设置为2的意思是放大为原来的两倍</p> 
<p>放大算法：我们还是默认选择R-ESRGAN 4x+ 的，二次元的选择R-ESRGAN4x+ Anime6B</p> 
<p>图块重叠的像素：维持默认的64像素不变，是为了避免图片分块重画拼合的割裂的感觉（如下图），64是一个缓冲带的作用，为了分块画的画，画的更好，如果你觉得图片还是拼接的生硬，你可以把重叠像素改成128</p> 
<p>注意：这时候要手动更改图片的尺寸，本身你的尺寸是600*600这时候要加上图块重叠像素，你要改成664*664（同理，重叠像素是128的话图片尺寸就要改成728*728）</p> 
<p class="img-center"><img alt="" height="916" src="https://images2.imgbox.com/f0/96/S8iGUVdC_o.png" width="1200"></p> 
<p>对于缺点解决方法：增加缓冲带，重绘幅度降低为0.4</p> 
<h4 id="3.%E9%99%84%E5%8A%A0%E5%8A%9F%E8%83%BD%E6%94%BE%E5%A4%A7">3.附加功能放大</h4> 
<p>概念：利用各种放大算法啊，在图像生成后再对它进行单独处理，使之拥有更高的分辨率尺寸</p> 
<p>可以把已经绘制好的图片上传在附加功能下，也可以在图片浏览器显示的图片信息下面直接选择”附加功能”选项</p> 
<p class="img-center"><img alt="" height="757" src="https://images2.imgbox.com/d4/4e/ZKEZ2Tir_o.png" width="877"></p> 
<p>在附加功能里面，可以看到以下设置，特点是有两个放大算法选择，可以给第二个算法选择权重，当然也可以不选择第二个算法，其他参数默认不变</p> 
<p class="img-center"><img alt="" height="828" src="https://images2.imgbox.com/38/3a/rfmTor1Z_o.png" width="954"></p> 
<h4 id="4.%E6%80%BB%E7%BB%93">4.总结</h4> 
<table cellspacing="0"><tbody><tr><td colspan="1" rowspan="1"> <p>文生图：高清修复</p> </td><td colspan="1" rowspan="1"> <p>图生图：SD放大</p> </td><td colspan="1" rowspan="1"> <p>生成后处理：附加功能</p> </td></tr><tr><td colspan="1" rowspan="1"> <p>“打回重画，再来一幅”</p> </td><td colspan="1" rowspan="1"> <p>”分几块画，拼在一起“</p> </td><td colspan="1" rowspan="1"> <p>”简单放大，随时可用“</p> </td></tr><tr><td colspan="1" rowspan="1"> <p>分两步，第一步生成低分辨率的图画，第二步使用它指定的高清算法，生成一个高分辨率的版本，在不改变构图的情况下丰富细节</p> </td><td colspan="1" rowspan="1"> <p>根据指定的放大倍数，将图生图的图像拆解成若干小块按照固定逻辑重绘，再合并成一张大图，可以实现在低显存的条件下生成大尺寸的图片</p> </td><td colspan="1" rowspan="1"> <p>利用各种放大算法啊，在图像生成后再对它进行单独处理，使之拥有更高的分辨率尺寸</p> </td></tr><tr><td colspan="1" rowspan="1"> <p>优势：</p> 
    <ul><li>不会改变画面的构图（因为随机种子固定）</li><li>稳定克服多人、多头有分辨率产生的问题</li><li>操作简便、清晰、直观</li></ul></td><td colspan="1" rowspan="1"> <p>优势：</p> 
    <ul><li>可以突破内存限制获得更大分辨率</li><li>画面精细度更高，对于细节的丰富更加出色</li></ul></td><td colspan="1" rowspan="1"> <p>优势：</p> 
    <ul><li>使用方便，操作简单，随时可以调用</li><li>计算速度快，没有重绘压力</li><li>完全不改变图片内容</li></ul></td></tr><tr><td colspan="1" rowspan="1"> <p>缺点：</p> 
    <ul><li>仍然受到最大显存的影响</li><li>计算速度相对较慢</li><li>偶尔”加戏“，出现莫名其妙的额外元素</li></ul></td><td colspan="1" rowspan="1"> <p>缺点：</p> 
    <ul><li>分割重乎的过程不可控（语义误导格分界线割裂）</li><li>操作繁琐且相对不直观</li><li>偶尔加戏，出现莫名的额外元素</li></ul><p>对于缺点解决方法：增加缓冲带，重绘幅度降低为0.4</p> </td><td colspan="1" rowspan="1"> <p>缺点：</p> <p>放大功能的效果不太显著</p> </td></tr></tbody></table>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/40d44ea825504fbd97c8561fac810777/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Java、SpringBoot实现对Excel内容的读取并将Excel内容导入到数据库中（后端篇）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b2607b035cbb0b8da739583e5cbd45e5/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【MySQL】事务(中)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>