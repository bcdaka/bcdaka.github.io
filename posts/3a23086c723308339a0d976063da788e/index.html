<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>数据结构与算法--【数组2】力扣练习 || 双指针 / 移除元素 / 数组排序 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/3a23086c723308339a0d976063da788e/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="数据结构与算法--【数组2】力扣练习 || 双指针 / 移除元素 / 数组排序">
  <meta property="og:description" content="注意：官方说法，快慢指针就是双指针。我在文章用两种不同的叫法，主要是根据字面意思更好的区分两个指针初始的指向，以便更快确定算法怎么写。
一、移除元素 对于数组来说，移除元素只是进行元素的“覆盖”。
解法：快慢指针法（两个指针初始位置都指向数组开头） 练习一：数组移除元素 力扣链接
题目描述：
给你一个数组 nums 和一个值 val，你需要 原地 移除所有数值等于 val 的元素。元素的顺序可能发生改变。然后返回 nums 中与 val 不同的元素的数量。
假设 nums 中不等于 val 的元素数量为 k，要通过此题，您需要执行以下操作：
更改 nums 数组，使 nums 的前 k 个元素包含不等于 val 的元素。nums 的其余元素和 nums 的大小并不重要。
返回 k。
题目分析 题目要求我们移除（删掉）数组中的元素。但我们必须清楚一点：数组的元素在内存地址中是连续的，不能单独删除数组中的某个元素，只能覆盖。对于数组，“删除”体现在实际算法中就是“覆盖”。 直接忽略要删除的值，重点关注剩下要组成的数组的元素，这句话在下面算法中体现在if判断语句。没有创建新数组，是对旧数组做一个“大扫除”。
代码 int removeElement(int* nums, int numsSize, int val) { int slow = 0; for(int fast = 0; fast &lt; numsSize; fast&#43;&#43;){ if(nums[fast] != val){ //如果不是要删除的值，放进数组里 nums[slow&#43;&#43;] = nums[fast]; //nums[fast]先赋给nums[slow]，后slow&#43;&#43; } } return slow; } 练习二：删除有序数组中的重复项 力扣链接">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-07-25T11:38:39+08:00">
    <meta property="article:modified_time" content="2024-07-25T11:38:39+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">数据结构与算法--【数组2】力扣练习 || 双指针 / 移除元素 / 数组排序</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><strong>注意</strong>：官方说法，快慢指针就是双指针。我在文章用两种不同的叫法，主要是根据字面意思更好的区分两个指针初始的指向，以便更快确定算法怎么写。</p> 
<h2><a id="_1"></a>一、移除元素</h2> 
<p>对于数组来说，移除元素只是进行元素的“覆盖”。</p> 
<h3><a id="_3"></a>解法：快慢指针法（两个指针初始位置都指向数组开头）</h3> 
<h4><a id="_4"></a>练习一：数组移除元素</h4> 
<p><a href="https://leetcode.cn/problems/remove-element/description/" rel="nofollow">力扣链接</a></p> 
<blockquote> 
 <p><strong>题目描述：</strong><br> 给你一个数组 nums 和一个值 val，你需要 原地 移除所有数值等于 val 的元素。元素的顺序可能发生改变。然后返回 nums 中与 val 不同的元素的数量。<br> 假设 nums 中不等于 val 的元素数量为 k，要通过此题，您需要执行以下操作：<br> 更改 nums 数组，使 nums 的前 k 个元素包含不等于 val 的元素。nums 的其余元素和 nums 的大小并不重要。<br> 返回 k。</p> 
</blockquote> 
<h5><a id="_12"></a>题目分析</h5> 
<p>题目要求我们移除（删掉）数组中的元素。但我们必须清楚一点：<strong>数组的元素在内存地址中是连续的，不能单独删除数组中的某个元素，只能覆盖</strong>。<strong><mark>对于数组，“删除”体现在实际算法中就是“覆盖”。</mark></strong> 直接忽略要删除的值，重点关注剩下要组成的数组的元素，这句话在下面算法中体现在if判断语句。没有创建新数组，是对旧数组做一个“大扫除”。</p> 
<h5><a id="_14"></a>代码</h5> 
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">removeElement</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> nums<span class="token punctuation">,</span> <span class="token keyword">int</span> numsSize<span class="token punctuation">,</span> <span class="token keyword">int</span> val<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> slow <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> fast <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> fast <span class="token operator">&lt;</span> numsSize<span class="token punctuation">;</span> fast<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>fast<span class="token punctuation">]</span> <span class="token operator">!=</span> val<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">//如果不是要删除的值，放进数组里</span>
            nums<span class="token punctuation">[</span>slow<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span>fast<span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment">//nums[fast]先赋给nums[slow]，后slow++</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> slow<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_26"></a>练习二：删除有序数组中的重复项</h4> 
<p><a href="https://leetcode.cn/problems/remove-duplicates-from-sorted-array/description/" rel="nofollow">力扣链接</a></p> 
<blockquote> 
 <p><strong>题目描述：</strong><br> 给你一个 非严格递增排列 的数组 nums ，请你 原地 删除重复出现的元素，使每个元素 只出现一次 ，返回删除后数组的新长度。元素的 相对顺序 应该保持 一致 。然后返回 nums 中唯一元素的个数。<br> 考虑 nums 的唯一元素的数量为 k ，你需要做以下事情确保你的题解可以被通过：<br> 更改数组 nums ，使 nums 的前 k 个元素包含唯一元素，并按照它们最初在 nums 中出现的顺序排列。nums 的其余元素与 nums 的大小不重要。<br> 返回 k 。</p> 
</blockquote> 
<h5><a id="_33"></a>题目分析</h5> 
<ol><li>需要判断fast和slow索引对应的数组元素是否重复，这样就明确了if的判断条件。</li><li>需要注意防止数组越界</li><li>程序有很多思路和写法，随便一种都可以</li></ol> 
<h5><a id="_37"></a>自己写的代码</h5> 
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">removeDuplicates</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> nums<span class="token punctuation">,</span> <span class="token keyword">int</span> numsSize<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> slow <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> fast <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> fast <span class="token operator">&lt;</span> numsSize<span class="token punctuation">;</span> fast<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>slow<span class="token punctuation">]</span> <span class="token operator">!=</span> nums<span class="token punctuation">[</span>fast<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            slow<span class="token operator">++</span><span class="token punctuation">;</span>
            nums<span class="token punctuation">[</span>slow<span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span>fast<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>   
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> slow<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_50"></a>练习三：删除有序数组中的重复项</h4> 
<p><a href="https://leetcode.cn/problems/move-zeroes/description/" rel="nofollow">力扣链接</a></p> 
<blockquote> 
 <p><strong>题目描述：</strong><br> 给定一个数组 nums，编写一个函数将所有 0 移动到数组的末尾，同时保持非零元素的相对顺序。<br> 请注意 ，必须在不复制数组的情况下原地对数组进行操作。</p> 
</blockquote> 
<h5><a id="_56"></a>自己写的代码</h5> 
<pre><code class="prism language-c"><span class="token keyword">void</span> <span class="token function">moveZeroes</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> nums<span class="token punctuation">,</span> <span class="token keyword">int</span> numsSize<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> slow <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> fast <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> fast <span class="token operator">&lt;</span> numsSize<span class="token punctuation">;</span> fast<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>nums<span class="token punctuation">[</span>fast<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            nums<span class="token punctuation">[</span>slow<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span>fast<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 将数组剩余的部分设为0</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> slow<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> numsSize<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h5><a id="___71"></a>官方代码 （这种做法很巧妙，需要好好理解）</h5> 
<p>将慢指针指向0，将快指针判断不为0的元素和慢指针交换位置；将指针传参，直接改变值。</p> 
<pre><code class="prism language-c"><span class="token keyword">void</span> <span class="token function">swap</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>a<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">*</span>b<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> t <span class="token operator">=</span> <span class="token operator">*</span>a<span class="token punctuation">;</span>
    <span class="token operator">*</span>a <span class="token operator">=</span> <span class="token operator">*</span>b<span class="token punctuation">,</span> <span class="token operator">*</span>b <span class="token operator">=</span> t<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">moveZeroes</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>nums<span class="token punctuation">,</span> <span class="token keyword">int</span> numsSize<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> left <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> right <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>right <span class="token operator">&lt;</span> numsSize<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">swap</span><span class="token punctuation">(</span>nums <span class="token operator">+</span> left<span class="token punctuation">,</span> nums <span class="token operator">+</span> right<span class="token punctuation">)</span><span class="token punctuation">;</span>
            left<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        right<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="_90"></a>二、数组排序</h2> 
<h3><a id="_91"></a>解法：双指针法（初始位置一个指针指向数组开头，一个指向结尾）</h3> 
<p>因为不同于上面的数组元素前后位置不变，此时要比较数组元素大小，并排序。</p> 
<h4><a id="_93"></a>练习：有序数组的平方</h4> 
<p><a href="https://leetcode.cn/problems/squares-of-a-sorted-array/" rel="nofollow">力扣链接</a></p> 
<blockquote> 
 <p><strong>题目描述：</strong><br> 给你一个按 非递减顺序 排序的整数数组 nums，返回 每个数字的平方 组成的新数组，要求也按 非递减顺序 排序。<br> <strong>示例 1</strong>：<br> 输入：nums = [-4,-1,0,3,10]<br> 输出：[0,1,9,16,100]<br> 解释：平方后，数组变为 [16,1,0,9,100]<br> 排序后，数组变为 [0,1,9,16,100]<br> <strong>示例 2</strong>：<br> 输入：nums = [-7,-3,2,3,11]<br> 输出：[4,9,9,49,121]</p> 
</blockquote> 
<h5><a id="_106"></a>题目分析</h5> 
<ol><li>需要排序，因此双指针分别指向数组头、数组尾。</li><li>此时，循环终止条件是 first &lt;= last ;</li><li>要创建新数组，使用malloc分配空间。</li><li>新数组存元素可从头存，也可从尾寸；我这里从尾部存，所以每次存完，k–；</li></ol> 
<h5><a id="_111"></a>自己写的代码</h5> 
<pre><code class="prism language-c"><span class="token keyword">int</span><span class="token operator">*</span> <span class="token function">sortedSquares</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> nums<span class="token punctuation">,</span> <span class="token keyword">int</span> numsSize<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">*</span> returnSize<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token operator">*</span>returnSize <span class="token operator">=</span> numsSize<span class="token punctuation">;</span>
    <span class="token keyword">int</span><span class="token operator">*</span> ret <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">*</span> numsSize<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> j <span class="token operator">=</span> numsSize <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> k <span class="token operator">=</span> numsSize <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>i <span class="token operator">&lt;=</span> j<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">*</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> nums<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">*</span>nums<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            ret<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">*</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
            i<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
            ret<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">*</span>nums<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
            j<span class="token operator">--</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        k<span class="token operator">--</span><span class="token punctuation">;</span>  <span class="token comment">//每次循环结束k才会自减</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> ret<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="_131"></a>三、总结</h2> 
<ol><li><strong>简单删除元素 / 指定某元素位置，其余元素位置相对不变</strong>：<br> <mark>双指针指向数组头</mark>。快指针扫描数组并判断，慢指针收集变化后的数组元素。<br> <strong>不创建新数组，只覆盖原数组。</strong></li><li><strong>对数组元素排序</strong>：<br> <mark>一个指针指开头，一个指针指结尾</mark>。判断两指针指向值大小，循环结束条件first &lt;= last；for循环，while循环均可，本人更习惯while循环。<br> <strong>使用malloc为新数组分配空间，注意，创建了新数组。</strong></li></ol>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/5988a493ee490b2f423afd645564647f/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">[C&#43;&#43;][STL源码剖析] 详解AVL树的实现</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/67c052d26edb6041532e833c0f456409/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【动态规划】力扣.213. 打家劫舍 II</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>