<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>MATLAB常用语句总结7 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/83a2f27e88929f54e561a5a213bcf6ea/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="MATLAB常用语句总结7">
  <meta property="og:description" content="MATLAB总结7：常见错误归纳 本篇专门用于记录一些应试技巧
文章目录 MATLAB总结7：常见错误归纳前言一、一些小定义和小技巧二、蒙塔卡罗求解方法1.函数的定义2.函数引用3.代码量较少的蒙塔卡罗 三、函数引用与多变量四、矩阵引用五、非线性函数：fmincon的使用六、线性规划函数1.linprog2.fminbnd、fminsearch 七、积分和微分1.quad积分2.积分int 微分diff 八、lsqcurvefit九、矩阵求解十、polyfit 函数进行多项式拟合十一、ode23和ode45十二、fzero十三、meshgrid和surf十四、fsolve 前言 记忆力比较差，把学习过程中常用的语法记录于此，方便回忆时索引
一、一些小定义和小技巧 rand的使用 rand 是用于生成在（0，1）上随机数的函数，而后面加入 rand(1,2)，则意为一个一行两列的（0，1）矩阵，不可乱加。需要使用不同范围的随机数则使用 A*rand() 即可
x=5*rand(); y=5*rand(); 符号 取余：mod(A,b)%A是要进行取余的数字，b是除数 不等于：~= find()的使用
用r=find(A&lt;=0.6)，直接找到A中小于0.6的下标
分段函数的使用
y=(x&lt;=8).* (2*x)&#43;(x&gt;8&amp;&amp;x&lt;12).*(3*x)&#43;(x&gt;12).* (4*x); upper, lower的大小写转换 for i=1:length(v) if v(i)==&#39;a&#39; r(i)=upper(r(i)); elseif v(i)==&#39;h&#39; r(i)=&#39;2&#39;; elseif v(i)==&#39;v&#39; r(i)=&#39;3&#39;; end end 二、蒙塔卡罗求解方法 1.函数的定义 代码如下（示例）：
function c=myobj(x) c=10*x(1)^3&#43;x(3)*(x(1)^2&#43;x(2)^2); function r=mycon(x) r=[x(1)^2&#43;x(2)^2-x(3)-10 ; x(1)^2&#43;x(2)^2&#43;x(3)-3]; function m=myrand while 1 m=[10*rand-5 ;10*rand-5 ;10*rand-5 ]; if mycon(m)&lt;=0 return end end 2.函数引用 代码如下（示例）：">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-07-04T13:00:10+08:00">
    <meta property="article:modified_time" content="2024-07-04T13:00:10+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">MATLAB常用语句总结7</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="MATLAB7_1"></a>MATLAB总结7：常见错误归纳</h2> 
<p>本篇专门用于记录一些应试技巧</p> 
<hr> 
<p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#MATLAB7_1" rel="nofollow">MATLAB总结7：常见错误归纳</a></li><li><a href="#_12" rel="nofollow">前言</a></li><li><a href="#_20" rel="nofollow">一、一些小定义和小技巧</a></li><li><a href="#_62" rel="nofollow">二、蒙塔卡罗求解方法</a></li><li><ul><li><a href="#1_65" rel="nofollow">1.函数的定义</a></li><li><a href="#2_82" rel="nofollow">2.函数引用</a></li><li><a href="#3_105" rel="nofollow">3.代码量较少的蒙塔卡罗</a></li></ul> 
  </li><li><a href="#_124" rel="nofollow">三、函数引用与多变量</a></li><li><a href="#_146" rel="nofollow">四、矩阵引用</a></li><li><a href="#fmincon_159" rel="nofollow">五、非线性函数：fmincon的使用</a></li><li><a href="#_186" rel="nofollow">六、线性规划函数</a></li><li><ul><li><a href="#1linprog_187" rel="nofollow">1.linprog</a></li><li><a href="#2fminbndfminsearch_204" rel="nofollow">2.fminbnd、fminsearch</a></li></ul> 
  </li><li><a href="#_236" rel="nofollow">七、积分和微分</a></li><li><ul><li><a href="#1quad_238" rel="nofollow">1.quad积分</a></li><li><a href="#2int_diff_245" rel="nofollow">2.积分int 微分diff</a></li></ul> 
  </li><li><a href="#lsqcurvefit_256" rel="nofollow">八、lsqcurvefit</a></li><li><a href="#_284" rel="nofollow">九、矩阵求解</a></li><li><a href="#polyfit__322" rel="nofollow">十、polyfit 函数进行多项式拟合</a></li><li><a href="#ode23ode45_345" rel="nofollow">十一、ode23和ode45</a></li><li><a href="#fzero_377" rel="nofollow">十二、fzero</a></li><li><a href="#meshgridsurf_388" rel="nofollow">十三、meshgrid和surf</a></li><li><a href="#fsolve_403" rel="nofollow">十四、fsolve</a></li></ul> 
</div> 
<p></p> 
<hr> 
<h2><a id="_12"></a>前言</h2> 
<blockquote> 
 <p>记忆力比较差，把学习过程中常用的语法记录于此，方便回忆时索引</p> 
</blockquote> 
<hr> 
<h2><a id="_20"></a>一、一些小定义和小技巧</h2> 
<ol><li>rand的使用</li></ol> 
<p>rand 是用于生成在（0，1）上随机数的函数，而后面加入 rand(1,2)，则意为一个一行两列的（0，1）矩阵，不可乱加。需要使用不同范围的随机数则使用 A*rand() 即可</p> 
<pre><code class="prism language-matlab">    x<span class="token operator">=</span><span class="token number">5</span><span class="token operator">*</span><span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    y<span class="token operator">=</span><span class="token number">5</span><span class="token operator">*</span><span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<ol start="2"><li>符号</li></ol> 
<pre><code class="prism language-matlab">取余：<span class="token function">mod</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token comment">%A是要进行取余的数字，b是除数</span>
不等于：<span class="token operator">~=</span>
</code></pre> 
<ol start="3"><li> <p>find()的使用<br> 用r=find(A&lt;=0.6)，直接找到A中小于0.6的下标</p> </li><li> <p>分段函数的使用</p> </li></ol> 
<pre><code class="prism language-matlab">y<span class="token operator">=</span><span class="token punctuation">(</span>x<span class="token operator">&lt;=</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token operator">.*</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">*</span>x<span class="token punctuation">)</span><span class="token operator">+</span><span class="token punctuation">(</span>x<span class="token operator">&gt;</span><span class="token number">8</span><span class="token operator">&amp;&amp;</span>x<span class="token operator">&lt;</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token operator">.*</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token operator">*</span>x<span class="token punctuation">)</span><span class="token operator">+</span><span class="token punctuation">(</span>x<span class="token operator">&gt;</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token operator">.*</span> <span class="token punctuation">(</span><span class="token number">4</span><span class="token operator">*</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<ol start="5"><li>upper, lower的大小写转换</li></ol> 
<pre><code class="prism language-matlab"><span class="token keyword">for</span> <span class="token number">i</span><span class="token operator">=</span><span class="token number">1</span><span class="token operator">:</span><span class="token function">length</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token function">v</span><span class="token punctuation">(</span><span class="token number">i</span><span class="token punctuation">)</span><span class="token operator">==</span><span class="token string">'a'</span>
        <span class="token function">r</span><span class="token punctuation">(</span><span class="token number">i</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token function">upper</span><span class="token punctuation">(</span><span class="token function">r</span><span class="token punctuation">(</span><span class="token number">i</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">elseif</span> <span class="token function">v</span><span class="token punctuation">(</span><span class="token number">i</span><span class="token punctuation">)</span><span class="token operator">==</span><span class="token string">'h'</span>
        <span class="token function">r</span><span class="token punctuation">(</span><span class="token number">i</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token string">'2'</span><span class="token punctuation">;</span>
    <span class="token keyword">elseif</span> <span class="token function">v</span><span class="token punctuation">(</span><span class="token number">i</span><span class="token punctuation">)</span><span class="token operator">==</span><span class="token string">'v'</span>
        <span class="token function">r</span><span class="token punctuation">(</span><span class="token number">i</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token string">'3'</span><span class="token punctuation">;</span>
    <span class="token keyword">end</span>
<span class="token keyword">end</span>
</code></pre> 
<h2><a id="_62"></a>二、蒙塔卡罗求解方法</h2> 
<p><img src="https://images2.imgbox.com/0e/37/a1b3BKXV_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="1_65"></a>1.函数的定义</h3> 
<blockquote> 
 <p>代码如下（示例）：</p> 
</blockquote> 
<pre><code class="prism language-matlab"><span class="token keyword">function</span> c<span class="token operator">=</span><span class="token function">myobj</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
c<span class="token operator">=</span><span class="token number">10</span><span class="token operator">*</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">^</span><span class="token number">3</span><span class="token operator">+</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">^</span><span class="token number">2</span><span class="token operator">+</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">^</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> r<span class="token operator">=</span><span class="token function">mycon</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
r<span class="token operator">=</span><span class="token punctuation">[</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">^</span><span class="token number">2</span><span class="token operator">+</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">^</span><span class="token number">2</span><span class="token operator">-</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">10</span> <span class="token punctuation">;</span> <span class="token function">x</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">^</span><span class="token number">2</span><span class="token operator">+</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">^</span><span class="token number">2</span><span class="token operator">+</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> m<span class="token operator">=</span>myrand
<span class="token keyword">while</span> <span class="token number">1</span>
    m<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token operator">*</span>rand<span class="token operator">-</span><span class="token number">5</span> <span class="token punctuation">;</span><span class="token number">10</span><span class="token operator">*</span>rand<span class="token operator">-</span><span class="token number">5</span> <span class="token punctuation">;</span><span class="token number">10</span><span class="token operator">*</span>rand<span class="token operator">-</span><span class="token number">5</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token function">mycon</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token operator">&lt;=</span><span class="token number">0</span>
        <span class="token keyword">return</span> 
    <span class="token keyword">end</span>
<span class="token keyword">end</span>
</code></pre> 
<h3><a id="2_82"></a>2.函数引用</h3> 
<blockquote> 
 <p>代码如下（示例）：</p> 
</blockquote> 
<pre><code class="prism language-matlab"><span class="token keyword">function</span> <span class="token punctuation">[</span>val<span class="token punctuation">,</span>x<span class="token punctuation">]</span><span class="token operator">=</span>myfun2
<span class="token function">rand</span><span class="token punctuation">(</span><span class="token string">'seed'</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

betterx<span class="token operator">=</span>myrand<span class="token punctuation">;</span>
betterval<span class="token operator">=</span><span class="token function">myobj</span><span class="token punctuation">(</span>betterx<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">for</span> <span class="token number">i</span><span class="token operator">=</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">10000</span>
    betterx<span class="token operator">=</span>myrand<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token function">myobj</span><span class="token punctuation">(</span>betterx<span class="token punctuation">)</span><span class="token operator">&gt;</span>betterval<span class="token punctuation">;</span>
        betterval<span class="token operator">=</span><span class="token function">myobj</span><span class="token punctuation">(</span>betterx<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">end</span>
<span class="token keyword">end</span>
x<span class="token operator">=</span><span class="token function">double</span><span class="token punctuation">(</span>betterx<span class="token punctuation">)</span><span class="token punctuation">;</span>
val<span class="token operator">=</span><span class="token function">double</span><span class="token punctuation">(</span>betterval<span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre> 
<h3><a id="3_105"></a>3.代码量较少的蒙塔卡罗</h3> 
<pre><code class="prism language-matlab"><span class="token keyword">function</span> <span class="token punctuation">[</span>val<span class="token punctuation">,</span>x<span class="token punctuation">]</span><span class="token operator">=</span>myfun2
<span class="token function">rand</span><span class="token punctuation">(</span><span class="token string">'seed'</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
val<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token number">i</span><span class="token operator">=</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">100000</span>
    s<span class="token operator">=</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">*</span><span class="token function">rand</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">5</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token function">s</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">^</span><span class="token number">2</span><span class="token operator">+</span><span class="token function">s</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">^</span><span class="token number">2</span><span class="token operator">-</span><span class="token function">s</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">&lt;=</span><span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token function">s</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">^</span><span class="token number">2</span><span class="token operator">+</span><span class="token function">s</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">^</span><span class="token number">2</span><span class="token operator">+</span><span class="token function">s</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">3</span><span class="token operator">&lt;=</span><span class="token number">0</span>
        <span class="token keyword">if</span> <span class="token number">10</span><span class="token operator">*</span><span class="token function">s</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">^</span><span class="token number">3</span><span class="token operator">+</span><span class="token function">s</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token function">s</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">^</span><span class="token number">2</span><span class="token operator">+</span><span class="token function">s</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">^</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">&gt;</span>val
            val<span class="token operator">=</span><span class="token number">10</span><span class="token operator">*</span><span class="token function">s</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">^</span><span class="token number">3</span><span class="token operator">+</span><span class="token function">s</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token function">s</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">^</span><span class="token number">2</span><span class="token operator">+</span><span class="token function">s</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">^</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            x<span class="token operator">=</span>s<span class="token punctuation">;</span>
        <span class="token keyword">end</span>
    <span class="token keyword">end</span>
<span class="token keyword">end</span>
</code></pre> 
<hr> 
<h2><a id="_124"></a>三、函数引用与多变量</h2> 
<p>要分清多元函数的变量要用循环引用</p> 
<blockquote> 
 <p>代码如下（示例）：</p> 
</blockquote> 
<pre><code class="prism language-matlab"><span class="token keyword">function</span> v<span class="token operator">=</span>testmain
x<span class="token operator">=</span><span class="token operator">-</span><span class="token number">2</span><span class="token operator">:</span><span class="token number">0.1</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">;</span>
v<span class="token operator">=</span><span class="token function">fun</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> r<span class="token operator">=</span><span class="token function">fun</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
<span class="token keyword">for</span> <span class="token number">i</span><span class="token operator">=</span><span class="token number">1</span><span class="token operator">:</span><span class="token function">length</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token function">x</span><span class="token punctuation">(</span><span class="token number">i</span><span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">-</span><span class="token number">1</span>
        <span class="token function">r</span><span class="token punctuation">(</span><span class="token number">i</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token number">i</span><span class="token punctuation">)</span><span class="token operator">^</span><span class="token number">2</span><span class="token operator">+</span><span class="token number">2</span><span class="token operator">*</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token number">i</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">elseif</span> <span class="token function">x</span><span class="token punctuation">(</span><span class="token number">i</span><span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token operator">-</span><span class="token number">1</span> <span class="token operator">&amp;&amp;</span> <span class="token function">x</span><span class="token punctuation">(</span><span class="token number">i</span><span class="token punctuation">)</span><span class="token operator">&lt;=</span><span class="token number">2</span>
        <span class="token function">r</span><span class="token punctuation">(</span><span class="token number">i</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">3</span><span class="token operator">*</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token number">i</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">else</span>
        <span class="token function">r</span><span class="token punctuation">(</span><span class="token number">i</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">2</span><span class="token operator">*</span><span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token number">i</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">end</span>
<span class="token keyword">end</span>
</code></pre> 
<h2><a id="_146"></a>四、矩阵引用</h2> 
<p>引用矩阵可以用行列索引，也可以单行单列（注意单行单列是逗号），而且引用矩阵必须是括号</p> 
<blockquote> 
 <p>代码如下（示例）：</p> 
</blockquote> 
<pre><code class="prism language-matlab"><span class="token function">A</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">:</span><span class="token punctuation">)</span><span class="token comment">%引用第一行</span>
<span class="token function">A</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token comment">%引用第二列</span>
</code></pre> 
<pre><code class="prism language-matlab"><span class="token function">A</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">:</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token function">A</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">:</span><span class="token punctuation">)</span><span class="token operator">.^</span><span class="token number">2</span><span class="token punctuation">;</span><span class="token comment">%给矩阵赋值要明白给谁赋值</span>
</code></pre> 
<h2><a id="fmincon_159"></a>五、非线性函数：fmincon的使用</h2> 
<ol><li>使用时要注意哪里是只输入系数，哪里是方程</li><li>求最小值的是方程，其他的都只输出系数</li><li>同种变量用逗号隔开，不同种用分号</li><li>注意noncon的位置是使用@，引用里面有（）</li><li>lb ub里面是逗号</li><li>函数系数的对应关系</li></ol> 
<p><img src="https://images2.imgbox.com/5d/0c/3TdhUv3R_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>代码如下（示例）：</p> 
</blockquote> 
<pre><code class="prism language-matlab"><span class="token keyword">function</span> <span class="token punctuation">[</span>min<span class="token punctuation">,</span>val<span class="token punctuation">]</span><span class="token operator">=</span>fun3
Fun<span class="token operator">=</span><span class="token operator">@</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token number">2</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">^</span><span class="token number">2</span><span class="token operator">+</span><span class="token number">3</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">^</span><span class="token number">2</span><span class="token operator">+</span><span class="token number">0.2</span><span class="token operator">*</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">*</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">^</span><span class="token number">2</span>
A<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">3</span> <span class="token number">2</span> <span class="token number">6</span><span class="token punctuation">;</span><span class="token number">4</span> <span class="token number">5</span> <span class="token number">2</span><span class="token punctuation">;</span><span class="token number">2</span> <span class="token number">9</span> <span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
b<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">;</span><span class="token number">40</span><span class="token punctuation">;</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
Lb<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
ub<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">25</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span>min<span class="token punctuation">,</span>val<span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">fmincon</span><span class="token punctuation">(</span>Fun<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>A<span class="token punctuation">,</span>b<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>Lb<span class="token punctuation">,</span>ub<span class="token punctuation">,</span><span class="token operator">@</span>noncon<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token punctuation">[</span>c<span class="token punctuation">,</span>ceq<span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">noncon</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
c<span class="token operator">=</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">2</span><span class="token operator">*</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">^</span><span class="token operator">-</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">^</span><span class="token number">2</span><span class="token operator">-</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token operator">^</span><span class="token number">2</span><span class="token operator">+</span><span class="token number">5</span><span class="token punctuation">,</span>
    <span class="token function">x</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">^</span><span class="token number">2</span><span class="token operator">+</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">^</span><span class="token number">2</span><span class="token operator">+</span><span class="token number">2</span><span class="token operator">*</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token operator">^</span><span class="token number">2</span><span class="token operator">-</span><span class="token number">200</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
ceq<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

</code></pre> 
<h2><a id="_186"></a>六、线性规划函数</h2> 
<h3><a id="1linprog_187"></a>1.linprog</h3> 
<p>求解常规线性规划<br> 注意！！！f 函数调用是系数</p> 
<blockquote> 
 <p>代码如下（示例）：<br> <img src="https://images2.imgbox.com/4f/02/6xth06ja_o.png" alt="在这里插入图片描述"></p> 
</blockquote> 
<pre><code class="prism language-matlab"><span class="token keyword">function</span> <span class="token punctuation">[</span>x<span class="token punctuation">,</span>fval<span class="token punctuation">]</span><span class="token operator">=</span>myfun19
f<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
A<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token number">3</span> <span class="token number">2</span> <span class="token number">4</span><span class="token punctuation">;</span><span class="token number">3</span> <span class="token number">2</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
b<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">;</span><span class="token number">22</span><span class="token punctuation">;</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
Aeq<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
beq<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
lb<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
ub<span class="token operator">=</span><span class="token punctuation">[</span><span class="token keyword">inf</span><span class="token punctuation">,</span><span class="token keyword">inf</span><span class="token punctuation">,</span><span class="token keyword">inf</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span>x<span class="token punctuation">,</span>fval<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">linprog</span><span class="token punctuation">(</span>f<span class="token punctuation">,</span>A<span class="token punctuation">,</span>b<span class="token punctuation">,</span>Aeq<span class="token punctuation">,</span>beq<span class="token punctuation">,</span>lb<span class="token punctuation">,</span>ub<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h3><a id="2fminbndfminsearch_204"></a>2.fminbnd、fminsearch</h3> 
<p>用于找到极小值，fminbnd找到区间内，fminsearch找到从某一点开始的极小值<br> <strong>fminbnd</strong></p> 
<p>[x，val] = fminbnd(fun, x1, x2)</p> 
<pre><code class="prism language-matlab"><span class="token comment">% 定义要最小化的函数</span>
fun <span class="token operator">=</span> <span class="token operator">@</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> x<span class="token operator">^</span><span class="token number">2</span> <span class="token operator">+</span> <span class="token number">2</span><span class="token operator">*</span>x <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>

<span class="token comment">% 在区间[-2, 2]内寻找最小值</span>
<span class="token punctuation">[</span>x<span class="token punctuation">,</span>val<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">fminbnd</span><span class="token punctuation">(</span>fun<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p><strong>fminsearch</strong></p> 
<pre><code class="prism language-matlab"><span class="token comment">% 定义要最小化的函数</span>
fun <span class="token operator">=</span> <span class="token operator">@</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token function">x</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">^</span><span class="token number">2</span> <span class="token operator">+</span> <span class="token function">x</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">^</span><span class="token number">2</span><span class="token punctuation">;</span>

<span class="token comment">% 指定初始点</span>
x0 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">% 在多维空间中寻找最小值</span>
x <span class="token operator">=</span> <span class="token function">fminsearch</span><span class="token punctuation">(</span>fun<span class="token punctuation">,</span> x0<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h2><a id="_236"></a>七、积分和微分</h2> 
<h3><a id="1quad_238"></a>1.quad积分</h3> 
<pre><code class="prism language-matlab">y<span class="token operator">=</span><span class="token operator">@</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token number">3.</span><span class="token operator">*</span>x<span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">./</span><span class="token punctuation">(</span>x<span class="token operator">.^</span><span class="token number">3</span><span class="token operator">+</span><span class="token number">2.</span><span class="token operator">*</span>x<span class="token operator">+</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
r<span class="token operator">=</span><span class="token function">quad</span><span class="token punctuation">(</span>y<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h3><a id="2int_diff_245"></a>2.积分int 微分diff</h3> 
<p><img src="https://images2.imgbox.com/01/d3/oRFkPLye_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/ce/5b/tMdL6rQz_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-matlab">F<span class="token operator">=</span><span class="token operator">@</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span> <span class="token function">exp</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">*</span>x<span class="token operator">.^</span><span class="token number">2</span><span class="token operator">+</span><span class="token number">3</span><span class="token operator">*</span>y<span class="token operator">.^</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
I<span class="token operator">=</span><span class="token function">integral2</span><span class="token punctuation">(</span>F<span class="token punctuation">,</span><span class="token number">0.5</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">%取值范围</span>
</code></pre> 
<h2><a id="lsqcurvefit_256"></a>八、lsqcurvefit</h2> 
<ol><li>xdata，ydata储存数据，x(i)存放未知变量</li><li>调用时要把 fun(x,xdata) 全部带上</li><li>注意调用时，x和x1的意义是已经计算的系数和要代入计算的函数值，他们的位置和使用fun时的位置相对应！！！</li></ol> 
<blockquote> 
 <p>代码如下（示例）：</p> 
</blockquote> 
<pre><code class="prism language-matlab">xdata<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">10.03</span><span class="token punctuation">,</span><span class="token number">20.04</span><span class="token punctuation">,</span><span class="token number">30.23</span><span class="token punctuation">,</span><span class="token number">40.37</span><span class="token punctuation">,</span><span class="token number">50.16</span><span class="token punctuation">,</span><span class="token number">60.4</span><span class="token punctuation">,</span><span class="token number">70.3</span><span class="token punctuation">,</span><span class="token number">80.66</span><span class="token punctuation">,</span><span class="token number">90.69</span><span class="token punctuation">,</span><span class="token number">100.16</span><span class="token punctuation">,</span><span class="token number">110.94</span><span class="token punctuation">,</span><span class="token number">121.18</span><span class="token punctuation">,</span><span class="token number">130.66</span><span class="token punctuation">,</span><span class="token number">141.23</span><span class="token punctuation">,</span><span class="token number">150.88</span><span class="token punctuation">,</span><span class="token number">160.24</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
ydata<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">50.44</span><span class="token punctuation">,</span><span class="token number">82.95</span><span class="token punctuation">,</span><span class="token number">133.07</span><span class="token punctuation">,</span><span class="token number">202.76</span><span class="token punctuation">,</span><span class="token number">286.39</span><span class="token punctuation">,</span><span class="token number">381.34</span><span class="token punctuation">,</span><span class="token number">467.36</span><span class="token punctuation">,</span><span class="token number">540.54</span><span class="token punctuation">,</span><span class="token number">591.7</span><span class="token punctuation">,</span><span class="token number">624.28</span><span class="token punctuation">,</span><span class="token number">647.62</span><span class="token punctuation">,</span><span class="token number">660.77</span><span class="token punctuation">,</span><span class="token number">668.06</span><span class="token punctuation">,</span><span class="token number">672.83</span><span class="token punctuation">,</span><span class="token number">675.36</span><span class="token punctuation">,</span><span class="token number">676.82</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
fun <span class="token operator">=</span> <span class="token operator">@</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>xdata<span class="token punctuation">)</span> <span class="token function">x</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">./</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">+</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">.*</span><span class="token function">exp</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token operator">*</span>xdata<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
x0 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
x <span class="token operator">=</span> <span class="token function">lsqcurvefit</span><span class="token punctuation">(</span>fun<span class="token punctuation">,</span>x0<span class="token punctuation">,</span>xdata<span class="token punctuation">,</span>ydata<span class="token punctuation">)</span><span class="token punctuation">;</span>
x1<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">150</span><span class="token operator">:</span><span class="token number">0.5</span><span class="token operator">:</span><span class="token number">190</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
y<span class="token operator">=</span><span class="token function">fun</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>x1<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h2><a id="_284"></a>九、矩阵求解</h2> 
<ol><li>可以使用linsolve</li><li>也可以求逆</li><li>或者是符号“\”<br> <img src="https://images2.imgbox.com/b1/a0/QdtUXgMD_o.png" alt="在这里插入图片描述"></li></ol> 
<blockquote> 
 <p>代码如下（示例）：</p> 
</blockquote> 
<pre><code class="prism language-matlab">a<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span> <span class="token number">1</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">-</span><span class="token number">2</span> <span class="token number">1</span> <span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">;</span>
    <span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">;</span>
    <span class="token number">2</span> <span class="token number">1</span> <span class="token operator">-</span><span class="token number">3</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
e<span class="token operator">=</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">;</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token operator">-</span><span class="token number">7</span><span class="token punctuation">;</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
x<span class="token operator">=</span><span class="token function">inv</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token operator">*</span>e<span class="token punctuation">;</span>
</code></pre> 
<pre><code class="prism language-matlab">a<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span> <span class="token number">1</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">-</span><span class="token number">2</span> <span class="token number">1</span> <span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">;</span>
    <span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">;</span>
    <span class="token number">2</span> <span class="token number">1</span> <span class="token operator">-</span><span class="token number">3</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
e<span class="token operator">=</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">;</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token operator">-</span><span class="token number">7</span><span class="token punctuation">;</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
x<span class="token operator">=</span><span class="token function">linsolve</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre> 
<pre><code class="prism language-matlab">a<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span> <span class="token number">1</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">-</span><span class="token number">2</span> <span class="token number">1</span> <span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">;</span>
    <span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">;</span>
    <span class="token number">2</span> <span class="token number">1</span> <span class="token operator">-</span><span class="token number">3</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
e<span class="token operator">=</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">;</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token operator">-</span><span class="token number">7</span><span class="token punctuation">;</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
x<span class="token operator">=</span>a<span class="token operator">\</span>e<span class="token punctuation">;</span>
</code></pre> 
<h2><a id="polyfit__322"></a>十、polyfit 函数进行多项式拟合</h2> 
<ol><li>p = polyfit(x, y, n);</li><li>x 是数据点的 x 值（自变量）向量，y 是数据点的 y 值（因变量）向量，n 是要拟合的多项式的次数。</li><li>polyval(p,50); 用于计算特定位置的值</li></ol> 
<blockquote> 
 <p>代码如下（示例）：</p> 
</blockquote> 
<pre><code class="prism language-matlab"><span class="token comment">% 示例数据点</span>
t<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">,</span><span class="token number">21</span><span class="token punctuation">,</span><span class="token number">26</span><span class="token punctuation">,</span><span class="token number">31</span><span class="token punctuation">,</span><span class="token number">36</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
x<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">5.35</span><span class="token punctuation">,</span><span class="token number">10.51</span><span class="token punctuation">,</span><span class="token number">15.664</span><span class="token punctuation">,</span><span class="token number">20.76</span><span class="token punctuation">,</span><span class="token number">25.94</span><span class="token punctuation">,</span><span class="token number">30.08</span><span class="token punctuation">,</span><span class="token number">35.22</span><span class="token punctuation">,</span><span class="token number">40.36</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
p<span class="token operator">=</span><span class="token function">polyfit</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span>x<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
val<span class="token operator">=</span><span class="token function">polyval</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
r<span class="token operator">=</span><span class="token punctuation">[</span>p<span class="token punctuation">,</span>val<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> 
<hr> 
<h2><a id="ode23ode45_345"></a>十一、ode23和ode45</h2> 
<ol><li>使用myode时，注意输入要把x，y都带上，先是自变量，后是因变量</li><li>y(1)可表示y，y(2)可表示一阶导数</li><li>输出 [t,y] 分别是对应时间点和对应时间的输出值</li></ol> 
<p><img src="https://images2.imgbox.com/12/28/wVgaMbhM_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-matlab">y1 <span class="token operator">=</span> <span class="token number">0</span><span class="token operator">:</span><span class="token number">0.01</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">%取值范围</span>
y0 <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>初值
<span class="token punctuation">[</span>t<span class="token punctuation">,</span>y<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">ode23</span><span class="token punctuation">(</span><span class="token operator">@</span>myode<span class="token punctuation">,</span> y1<span class="token punctuation">,</span> y0<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> dydx<span class="token operator">=</span><span class="token function">myode</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span>
    dydx<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">/</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token operator">*</span>x<span class="token operator">/</span>y<span class="token operator">^</span><span class="token number">2</span><span class="token punctuation">;</span>
</code></pre> 
<pre><code class="prism language-matlab"><span class="token keyword">function</span> r <span class="token operator">=</span> myfun
    x1 <span class="token operator">=</span> <span class="token number">0</span><span class="token operator">:</span><span class="token number">0.1</span><span class="token operator">:</span><span class="token number">100</span><span class="token punctuation">;</span><span class="token comment">%定义范围</span>
    x0 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">;</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">%定义初始条件</span>
    <span class="token punctuation">[</span>t<span class="token punctuation">,</span> x<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">ode23</span><span class="token punctuation">(</span><span class="token operator">@</span>myode<span class="token punctuation">,</span> x1<span class="token punctuation">,</span> x0<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">%这里的x是一个向量</span>
<span class="token keyword">end</span>

<span class="token keyword">function</span> dxdt <span class="token operator">=</span> <span class="token function">myode</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span> x<span class="token punctuation">)</span>
    dxdt <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">20</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">-</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">^</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">0.5</span><span class="token operator">*</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">%x(1)代表x，x(2)代表dx/dt</span>
<span class="token keyword">end</span>


</code></pre> 
<h2><a id="fzero_377"></a>十二、fzero</h2> 
<p>x0 是初始猜测的根的值。</p> 
<blockquote> 
 <p>代码如下（示例）：</p> 
</blockquote> 
<pre><code class="prism language-matlab">x <span class="token operator">=</span> <span class="token function">fzero</span><span class="token punctuation">(</span>fun<span class="token punctuation">,</span> x0<span class="token punctuation">)</span>
x <span class="token operator">=</span> <span class="token function">fzero</span><span class="token punctuation">(</span>fun<span class="token punctuation">,</span> x0<span class="token punctuation">,</span> options<span class="token punctuation">)</span>
</code></pre> 
<h2><a id="meshgridsurf_388"></a>十三、meshgrid和surf</h2> 
<ol><li>注意z的输出</li><li>[x,y]=meshgrid(x取值,y取值)</li><li>surf绘制表面图</li></ol> 
<blockquote> 
 <p>代码如下（示例）：</p> 
</blockquote> 
<pre><code class="prism language-matlab"><span class="token keyword">function</span> z<span class="token operator">=</span>myfun24
<span class="token punctuation">[</span>x<span class="token punctuation">,</span>y<span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">meshgrid</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">3</span><span class="token operator">:</span><span class="token number">0.1</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">3</span><span class="token operator">:</span><span class="token number">0.1</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
z<span class="token operator">=</span>x<span class="token operator">.*</span>y<span class="token operator">.*</span><span class="token function">exp</span><span class="token punctuation">(</span><span class="token function">sin</span><span class="token punctuation">(</span>x<span class="token operator">.^</span><span class="token number">2</span><span class="token operator">+</span>y<span class="token operator">.^</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">surf</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>z<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h2><a id="fsolve_403"></a>十四、fsolve</h2> 
<ol><li>记住两个公式：root2和fsolve的使用</li><li>folsve(@root2,x0)</li><li>f=root2(x) f(1)= f(2)=</li></ol> 
<blockquote> 
 <p>代码如下（示例）：</p> 
</blockquote> 
<pre><code class="prism language-matlab"><span class="token comment">% 示例数据点</span>
<span class="token keyword">function</span> r<span class="token operator">=</span>myfun29
x0<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
r<span class="token operator">=</span><span class="token function">fsolve</span><span class="token punctuation">(</span><span class="token operator">@</span>root2<span class="token punctuation">,</span>x0<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> f<span class="token operator">=</span><span class="token function">root2</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
<span class="token function">f</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">^</span><span class="token number">2</span><span class="token operator">-</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token function">f</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">^</span><span class="token number">2</span><span class="token operator">+</span><span class="token punctuation">(</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token operator">^</span><span class="token number">2</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ec5961aa564c03ff9ad1e8c20d24d8d5/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">算法训练 | 图论Part3 | 101.孤岛的总面积、102.沉没孤岛、103.水流问题、104.建造最大岛屿</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/0031bfde852d06b0689bc0a63a16eae9/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">数据结构——树的基础概念</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>