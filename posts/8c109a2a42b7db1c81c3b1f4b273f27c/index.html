<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>SpringBoot结合MyBatis 【超详细】 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/8c109a2a42b7db1c81c3b1f4b273f27c/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="SpringBoot结合MyBatis 【超详细】">
  <meta property="og:description" content="1、SpringBoot&#43;老杜MyBatis
一、简单回顾一下MyBatis
二、快速入门
​三、简易插入删除更改
四、查询
①、按其中一个字段查询
②、按所有字段进行查询
​五、详解MyBatis核心配置(复习)
六、结合Web及SpringMVC
2、MyBatis小技巧
一、#{}与${}及模糊查询
二、别名机制与mapper标签
三、插入使用生成的主键值
3、MyBatis参数处理
一、单个简单类型参数
二、Map参数
①、插入信息
②、查询单个汽车信息
③、返回多个Map
④、返回Map,map&gt;
三、实体类参数
四、多参数（@Param）
五、resultMap结果映射
①、使用resultMap进行结果映射（常用）
②、开启驼峰命名规范自动映射
六、获取总记录条数
4、动态SQL(注:使用了驼峰命名规范)
一、if标签
二、where标签
三、trim标签
四、set标签
五、choose where otherwise
六、foreach标签
①批量删除
②批量添加
七、sql、include标签
5、高级映射及延迟加载
一、多对一
二、多对一延迟加载
三、一对多
四、一对多延迟加载
6、MyBatis缓存机制
一、一级缓存
二、二级缓存
7、MyBatis使用PageHelper
一、limit分页
二、PageHelper插件
舞台再大 你不上台 永远是个观众
平台再好 你不参与 永远是局外人
能力再大 你不行动 只能看别人成功
没有人会在乎你付出多少努力 撑得累不累 摔得痛不痛
他们只会看你最后站在什么位置 然后羡慕或鄙夷
1、SpringBoot&#43;老杜MyBatis 一、简单回顾一下MyBatis 核心对象包括以下三个：
SqlSessionFactoryBulider
SqlSessionFactory
SqlSession">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2023-09-24T00:19:35+08:00">
    <meta property="article:modified_time" content="2023-09-24T00:19:35+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">SpringBoot结合MyBatis 【超详细】</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="1%E3%80%81SpringBoot%2B%E8%80%81%E6%9D%9CMyBatis-toc" style="margin-left:0px;"><a href="#1%E3%80%81SpringBoot%2B%E8%80%81%E6%9D%9CMyBatis" rel="nofollow">1、SpringBoot+老杜MyBatis</a></p> 
<p id="%E4%B8%80%E3%80%81%E7%AE%80%E5%8D%95%E5%9B%9E%E9%A1%BE%E4%B8%80%E4%B8%8BMyBatis-toc" style="margin-left:40px;"><a href="#%E4%B8%80%E3%80%81%E7%AE%80%E5%8D%95%E5%9B%9E%E9%A1%BE%E4%B8%80%E4%B8%8BMyBatis" rel="nofollow">一、简单回顾一下MyBatis</a></p> 
<p id="%E4%BA%8C%E3%80%81%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8-toc" style="margin-left:40px;"><a href="#%E4%BA%8C%E3%80%81%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8" rel="nofollow">二、快速入门</a></p> 
<p id="%E2%80%8B%E7%BC%96%E8%BE%91%20%E4%B8%89%E3%80%81%E7%AE%80%E6%98%93%E6%8F%92%E5%85%A5%E5%88%A0%E9%99%A4%E6%9B%B4%E6%94%B9-toc" style="margin-left:40px;"><a href="#%E2%80%8B%E7%BC%96%E8%BE%91%20%E4%B8%89%E3%80%81%E7%AE%80%E6%98%93%E6%8F%92%E5%85%A5%E5%88%A0%E9%99%A4%E6%9B%B4%E6%94%B9" rel="nofollow">​三、简易插入删除更改</a></p> 
<p id="%E5%9B%9B%E3%80%81%E6%9F%A5%E8%AF%A2-toc" style="margin-left:40px;"><a href="#%E5%9B%9B%E3%80%81%E6%9F%A5%E8%AF%A2" rel="nofollow">四、查询</a></p> 
<p id="%E2%91%A0%E3%80%81%E6%8C%89%E5%85%B6%E4%B8%AD%E4%B8%80%E4%B8%AA%E5%AD%97%E6%AE%B5%E6%9F%A5%E8%AF%A2-toc" style="margin-left:80px;"><a href="#%E2%91%A0%E3%80%81%E6%8C%89%E5%85%B6%E4%B8%AD%E4%B8%80%E4%B8%AA%E5%AD%97%E6%AE%B5%E6%9F%A5%E8%AF%A2" rel="nofollow">①、按其中一个字段查询</a></p> 
<p id="%E2%91%A1%E3%80%81%E6%8C%89%E6%89%80%E6%9C%89%E5%AD%97%E6%AE%B5%E8%BF%9B%E8%A1%8C%E6%9F%A5%E8%AF%A2-toc" style="margin-left:80px;"><a href="#%E2%91%A1%E3%80%81%E6%8C%89%E6%89%80%E6%9C%89%E5%AD%97%E6%AE%B5%E8%BF%9B%E8%A1%8C%E6%9F%A5%E8%AF%A2" rel="nofollow">②、按所有字段进行查询</a></p> 
<p id="%E2%80%8B%E7%BC%96%E8%BE%91%20%E4%BA%94%E3%80%81%E8%AF%A6%E8%A7%A3MyBatis%E6%A0%B8%E5%BF%83%E9%85%8D%E7%BD%AE(%E5%A4%8D%E4%B9%A0)-toc" style="margin-left:40px;"><a href="#%E2%80%8B%E7%BC%96%E8%BE%91%20%E4%BA%94%E3%80%81%E8%AF%A6%E8%A7%A3MyBatis%E6%A0%B8%E5%BF%83%E9%85%8D%E7%BD%AE%28%E5%A4%8D%E4%B9%A0%29" rel="nofollow">​五、详解MyBatis核心配置(复习)</a></p> 
<p id="%E5%85%AD%E3%80%81%E7%BB%93%E5%90%88Web%E5%8F%8ASpringMVC-toc" style="margin-left:40px;"><a href="#%E5%85%AD%E3%80%81%E7%BB%93%E5%90%88Web%E5%8F%8ASpringMVC" rel="nofollow">六、结合Web及SpringMVC</a></p> 
<p id="2%E3%80%81MyBatis%E5%B0%8F%E6%8A%80%E5%B7%A7-toc" style="margin-left:0px;"><a href="#2%E3%80%81MyBatis%E5%B0%8F%E6%8A%80%E5%B7%A7" rel="nofollow">2、MyBatis小技巧</a></p> 
<p id="%E4%B8%80%E3%80%81%23%7B%7D%E4%B8%8E%24%7B%7D%E5%8F%8A%E6%A8%A1%E7%B3%8A%E6%9F%A5%E8%AF%A2-toc" style="margin-left:40px;"><a href="#%E4%B8%80%E3%80%81%23%7B%7D%E4%B8%8E%24%7B%7D%E5%8F%8A%E6%A8%A1%E7%B3%8A%E6%9F%A5%E8%AF%A2" rel="nofollow">一、#{}与${}及模糊查询</a></p> 
<p id="%C2%A0%E4%BA%8C%E3%80%81%E5%88%AB%E5%90%8D%E6%9C%BA%E5%88%B6%E4%B8%8Emapper%E6%A0%87%E7%AD%BE-toc" style="margin-left:40px;"><a href="#%C2%A0%E4%BA%8C%E3%80%81%E5%88%AB%E5%90%8D%E6%9C%BA%E5%88%B6%E4%B8%8Emapper%E6%A0%87%E7%AD%BE" rel="nofollow">二、别名机制与mapper标签</a></p> 
<p id="%E4%B8%89%E3%80%81%E6%8F%92%E5%85%A5%E4%BD%BF%E7%94%A8%E7%94%9F%E6%88%90%E7%9A%84%E4%B8%BB%E9%94%AE%E5%80%BC-toc" style="margin-left:40px;"><a href="#%E4%B8%89%E3%80%81%E6%8F%92%E5%85%A5%E4%BD%BF%E7%94%A8%E7%94%9F%E6%88%90%E7%9A%84%E4%B8%BB%E9%94%AE%E5%80%BC" rel="nofollow">三、插入使用生成的主键值</a></p> 
<p id="3%E3%80%81MyBatis%E5%8F%82%E6%95%B0%E5%A4%84%E7%90%86-toc" style="margin-left:0px;"><a href="#3%E3%80%81MyBatis%E5%8F%82%E6%95%B0%E5%A4%84%E7%90%86" rel="nofollow">3、MyBatis参数处理</a></p> 
<p id="%E4%B8%80%E3%80%81%E5%8D%95%E4%B8%AA%E7%AE%80%E5%8D%95%E7%B1%BB%E5%9E%8B%E5%8F%82%E6%95%B0-toc" style="margin-left:40px;"><a href="#%E4%B8%80%E3%80%81%E5%8D%95%E4%B8%AA%E7%AE%80%E5%8D%95%E7%B1%BB%E5%9E%8B%E5%8F%82%E6%95%B0" rel="nofollow">一、单个简单类型参数</a></p> 
<p id="%E4%BA%8C%E3%80%81Map%E5%8F%82%E6%95%B0-toc" style="margin-left:40px;"><a href="#%E4%BA%8C%E3%80%81Map%E5%8F%82%E6%95%B0" rel="nofollow">二、Map参数</a></p> 
<p id="%E2%91%A0%E3%80%81%E6%8F%92%E5%85%A5%E4%BF%A1%E6%81%AF-toc" style="margin-left:80px;"><a href="#%E2%91%A0%E3%80%81%E6%8F%92%E5%85%A5%E4%BF%A1%E6%81%AF" rel="nofollow">①、插入信息</a></p> 
<p id="%E2%91%A1%E3%80%81%E6%9F%A5%E8%AF%A2%E5%8D%95%E4%B8%AA%E6%B1%BD%E8%BD%A6%E4%BF%A1%E6%81%AF-toc" style="margin-left:80px;"><a href="#%E2%91%A1%E3%80%81%E6%9F%A5%E8%AF%A2%E5%8D%95%E4%B8%AA%E6%B1%BD%E8%BD%A6%E4%BF%A1%E6%81%AF" rel="nofollow">②、查询单个汽车信息</a></p> 
<p id="%E2%91%A2%E3%80%81%E8%BF%94%E5%9B%9E%E5%A4%9A%E4%B8%AAMap-toc" style="margin-left:80px;"><a href="#%E2%91%A2%E3%80%81%E8%BF%94%E5%9B%9E%E5%A4%9A%E4%B8%AAMap" rel="nofollow">③、返回多个Map</a></p> 
<p id="%C2%A0%E2%91%A3%E3%80%81%E8%BF%94%E5%9B%9EMap%3CString%2CMap%3E-toc" style="margin-left:80px;"><a href="#%C2%A0%E2%91%A3%E3%80%81%E8%BF%94%E5%9B%9EMap%3CString%2CMap%3E" rel="nofollow">④、返回Map,map&gt;</a></p> 
<p id="%E4%B8%89%E3%80%81%E5%AE%9E%E4%BD%93%E7%B1%BB%E5%8F%82%E6%95%B0-toc" style="margin-left:40px;"><a href="#%E4%B8%89%E3%80%81%E5%AE%9E%E4%BD%93%E7%B1%BB%E5%8F%82%E6%95%B0" rel="nofollow">三、实体类参数</a></p> 
<p id="%E5%9B%9B%E3%80%81%E5%A4%9A%E5%8F%82%E6%95%B0%EF%BC%88%40Param%EF%BC%89-toc" style="margin-left:40px;"><a href="#%E5%9B%9B%E3%80%81%E5%A4%9A%E5%8F%82%E6%95%B0%EF%BC%88%40Param%EF%BC%89" rel="nofollow">四、多参数（@Param）</a></p> 
<p id="%E4%BA%94%E3%80%81resultMap%E7%BB%93%E6%9E%9C%E6%98%A0%E5%B0%84-toc" style="margin-left:40px;"><a href="#%E4%BA%94%E3%80%81resultMap%E7%BB%93%E6%9E%9C%E6%98%A0%E5%B0%84" rel="nofollow">五、resultMap结果映射</a></p> 
<p id="%E2%91%A0%E3%80%81%E4%BD%BF%E7%94%A8resultMap%E8%BF%9B%E8%A1%8C%E7%BB%93%E6%9E%9C%E6%98%A0%E5%B0%84%EF%BC%88%E5%B8%B8%E7%94%A8%EF%BC%89-toc" style="margin-left:80px;"><a href="#%E2%91%A0%E3%80%81%E4%BD%BF%E7%94%A8resultMap%E8%BF%9B%E8%A1%8C%E7%BB%93%E6%9E%9C%E6%98%A0%E5%B0%84%EF%BC%88%E5%B8%B8%E7%94%A8%EF%BC%89" rel="nofollow">①、使用resultMap进行结果映射（常用）</a></p> 
<p id="%C2%A0%E2%91%A1%E3%80%81%E5%BC%80%E5%90%AF%E9%A9%BC%E5%B3%B0%E5%91%BD%E5%90%8D%E8%A7%84%E8%8C%83%E8%87%AA%E5%8A%A8%E6%98%A0%E5%B0%84-toc" style="margin-left:80px;"><a href="#%C2%A0%E2%91%A1%E3%80%81%E5%BC%80%E5%90%AF%E9%A9%BC%E5%B3%B0%E5%91%BD%E5%90%8D%E8%A7%84%E8%8C%83%E8%87%AA%E5%8A%A8%E6%98%A0%E5%B0%84" rel="nofollow">②、开启驼峰命名规范自动映射</a></p> 
<p id="%E5%85%AD%E3%80%81%E8%8E%B7%E5%8F%96%E6%80%BB%E8%AE%B0%E5%BD%95%E6%9D%A1%E6%95%B0-toc" style="margin-left:40px;"><a href="#%E5%85%AD%E3%80%81%E8%8E%B7%E5%8F%96%E6%80%BB%E8%AE%B0%E5%BD%95%E6%9D%A1%E6%95%B0" rel="nofollow">六、获取总记录条数</a></p> 
<p id="4%E3%80%81%E5%8A%A8%E6%80%81SQL(%E6%B3%A8%3A%E4%BD%BF%E7%94%A8%E4%BA%86%E9%A9%BC%E5%B3%B0%E5%91%BD%E5%90%8D%E8%A7%84%E8%8C%83)-toc" style="margin-left:0px;"><a href="#4%E3%80%81%E5%8A%A8%E6%80%81SQL%28%E6%B3%A8%3A%E4%BD%BF%E7%94%A8%E4%BA%86%E9%A9%BC%E5%B3%B0%E5%91%BD%E5%90%8D%E8%A7%84%E8%8C%83%29" rel="nofollow">4、动态SQL(注:使用了驼峰命名规范)</a></p> 
<p id="%E4%B8%80%E3%80%81if%E6%A0%87%E7%AD%BE-toc" style="margin-left:40px;"><a href="#%E4%B8%80%E3%80%81if%E6%A0%87%E7%AD%BE" rel="nofollow">一、if标签</a></p> 
<p id="%E4%BA%8C%E3%80%81where%E6%A0%87%E7%AD%BE-toc" style="margin-left:40px;"><a href="#%E4%BA%8C%E3%80%81where%E6%A0%87%E7%AD%BE" rel="nofollow">二、where标签</a></p> 
<p id="%E4%B8%89%E3%80%81trim%E6%A0%87%E7%AD%BE-toc" style="margin-left:40px;"><a href="#%E4%B8%89%E3%80%81trim%E6%A0%87%E7%AD%BE" rel="nofollow">三、trim标签</a></p> 
<p id="%E5%9B%9B%E3%80%81set%E6%A0%87%E7%AD%BE-toc" style="margin-left:40px;"><a href="#%E5%9B%9B%E3%80%81set%E6%A0%87%E7%AD%BE" rel="nofollow">四、set标签</a></p> 
<p id="%E4%BA%94%E3%80%81choose%20where%20otherwise-toc" style="margin-left:40px;"><a href="#%E4%BA%94%E3%80%81choose%20where%20otherwise" rel="nofollow">五、choose where otherwise</a></p> 
<p id="%E5%85%AD%E3%80%81foreach%E6%A0%87%E7%AD%BE-toc" style="margin-left:40px;"><a href="#%E5%85%AD%E3%80%81foreach%E6%A0%87%E7%AD%BE" rel="nofollow">六、foreach标签</a></p> 
<p id="%E2%91%A0%E6%89%B9%E9%87%8F%E5%88%A0%E9%99%A4-toc" style="margin-left:80px;"><a href="#%E2%91%A0%E6%89%B9%E9%87%8F%E5%88%A0%E9%99%A4" rel="nofollow">①批量删除</a></p> 
<p id="%E2%91%A1%E6%89%B9%E9%87%8F%E6%B7%BB%E5%8A%A0-toc" style="margin-left:80px;"><a href="#%E2%91%A1%E6%89%B9%E9%87%8F%E6%B7%BB%E5%8A%A0" rel="nofollow">②批量添加</a></p> 
<p id="%E4%B8%83%E3%80%81sql%E3%80%81include%E6%A0%87%E7%AD%BE-toc" style="margin-left:40px;"><a href="#%E4%B8%83%E3%80%81sql%E3%80%81include%E6%A0%87%E7%AD%BE" rel="nofollow">七、sql、include标签</a></p> 
<p id="5%E3%80%81%E9%AB%98%E7%BA%A7%E6%98%A0%E5%B0%84%E5%8F%8A%E5%BB%B6%E8%BF%9F%E5%8A%A0%E8%BD%BD-toc" style="margin-left:0px;"><a href="#5%E3%80%81%E9%AB%98%E7%BA%A7%E6%98%A0%E5%B0%84%E5%8F%8A%E5%BB%B6%E8%BF%9F%E5%8A%A0%E8%BD%BD" rel="nofollow">5、高级映射及延迟加载</a></p> 
<p id="%E4%B8%80%E3%80%81%E5%A4%9A%E5%AF%B9%E4%B8%80-toc" style="margin-left:40px;"><a href="#%E4%B8%80%E3%80%81%E5%A4%9A%E5%AF%B9%E4%B8%80" rel="nofollow">一、多对一</a></p> 
<p id="%E4%BA%8C%E3%80%81%E5%A4%9A%E5%AF%B9%E4%B8%80%E5%BB%B6%E8%BF%9F%E5%8A%A0%E8%BD%BD-toc" style="margin-left:40px;"><a href="#%E4%BA%8C%E3%80%81%E5%A4%9A%E5%AF%B9%E4%B8%80%E5%BB%B6%E8%BF%9F%E5%8A%A0%E8%BD%BD" rel="nofollow">二、多对一延迟加载</a></p> 
<p id="%E4%B8%89%E3%80%81%E4%B8%80%E5%AF%B9%E5%A4%9A-toc" style="margin-left:40px;"><a href="#%E4%B8%89%E3%80%81%E4%B8%80%E5%AF%B9%E5%A4%9A" rel="nofollow">三、一对多</a></p> 
<p id="%E5%9B%9B%E3%80%81%E4%B8%80%E5%AF%B9%E5%A4%9A%E5%BB%B6%E8%BF%9F%E5%8A%A0%E8%BD%BD-toc" style="margin-left:40px;"><a href="#%E5%9B%9B%E3%80%81%E4%B8%80%E5%AF%B9%E5%A4%9A%E5%BB%B6%E8%BF%9F%E5%8A%A0%E8%BD%BD" rel="nofollow">四、一对多延迟加载</a></p> 
<p id="6%E3%80%81MyBatis%E7%BC%93%E5%AD%98%E6%9C%BA%E5%88%B6-toc" style="margin-left:0px;"><a href="#6%E3%80%81MyBatis%E7%BC%93%E5%AD%98%E6%9C%BA%E5%88%B6" rel="nofollow">6、MyBatis缓存机制</a></p> 
<p id="%E4%B8%80%E3%80%81%E4%B8%80%E7%BA%A7%E7%BC%93%E5%AD%98-toc" style="margin-left:40px;"><a href="#%E4%B8%80%E3%80%81%E4%B8%80%E7%BA%A7%E7%BC%93%E5%AD%98" rel="nofollow">一、一级缓存</a></p> 
<p id="%E4%BA%8C%E3%80%81%E4%BA%8C%E7%BA%A7%E7%BC%93%E5%AD%98-toc" style="margin-left:40px;"><a href="#%E4%BA%8C%E3%80%81%E4%BA%8C%E7%BA%A7%E7%BC%93%E5%AD%98" rel="nofollow">二、二级缓存</a></p> 
<p id="7%E3%80%81MyBatis%E4%BD%BF%E7%94%A8PageHelper-toc" style="margin-left:0px;"><a href="#7%E3%80%81MyBatis%E4%BD%BF%E7%94%A8PageHelper" rel="nofollow">7、MyBatis使用PageHelper</a></p> 
<p id="%E4%B8%80%E3%80%81limit%E5%88%86%E9%A1%B5-toc" style="margin-left:40px;"><a href="#%E4%B8%80%E3%80%81limit%E5%88%86%E9%A1%B5" rel="nofollow">一、limit分页</a></p> 
<p id="%E4%BA%8C%E3%80%81PageHelper%E6%8F%92%E4%BB%B6-toc" style="margin-left:40px;"><a href="#%E4%BA%8C%E3%80%81PageHelper%E6%8F%92%E4%BB%B6" rel="nofollow">二、PageHelper插件</a></p> 
<hr id="hr-toc"> 
<blockquote> 
 <p>        舞台再大 你不上台 永远是个观众</p> 
 <p>        平台再好 你不参与 永远是局外人</p> 
 <p>        能力再大 你不行动 只能看别人成功</p> 
 <p>        没有人会在乎你付出多少努力 撑得累不累 摔得痛不痛</p> 
 <p>        他们只会看你最后站在什么位置 然后羡慕或鄙夷</p> 
</blockquote> 
<h2 id="1%E3%80%81SpringBoot%2B%E8%80%81%E6%9D%9CMyBatis">1、SpringBoot+老杜MyBatis</h2> 
<h3 id="%E4%B8%80%E3%80%81%E7%AE%80%E5%8D%95%E5%9B%9E%E9%A1%BE%E4%B8%80%E4%B8%8BMyBatis">一、<strong>简单回顾一下MyBatis</strong></h3> 
<ul><li> <p>核心对象包括以下三个：</p> 
  <blockquote> 
   <ul><li> <p>SqlSessionFactoryBulider</p> </li><li> <p>SqlSessionFactory</p> </li><li> <p>SqlSession</p> </li><li> <p>SqlSessionFactoryBuilder --&gt; SqlSessionFactory --&gt; SqlSession</p> </li></ul> 
  </blockquote> </li></ul> 
<ul><li> <p><img alt="" height="546" src="https://images2.imgbox.com/89/3a/YTsBGTKA_o.png" width="1200"></p> </li><li> <p>关于MyBatis的事务管理机制（两种）</p> <pre><code class="language-XML">&lt;transactionManager type="JDBC"/&gt; JDBC表示事务管理器

&lt;transactionManager type="MANAGED"/&gt; MANAGED表示事务事务管理器</code></pre> </li></ul> 
<blockquote> 
 <p><strong>JDBC事务管理器：</strong> MyBatis框架自己管理事务，自己采用原生的JDBC代码去管理事务：</p> 
 <pre><code class="language-java">// 关闭自动提交 开启事务
connection.setAutoCommit(false); 

....业务处理

// 手动提交 使用JDBC事务管理器的话，底层创建的事务管理器对象：JdbcTransaction对象。
connection.commit();

// 如果编写的代码是下面的代码
// 表示没有开启事务。因为这种方式压根不会执行：conn.setAutoCommit(false)。
SqlSession sqlSession = sqlSessionFactory.openSession(true); </code></pre> 
 <p>在JDBC事务中，没有执行conn.setAutoCommit(false);那么autoCommit就是true。 如果autoCommit是true，就表示没有开启事务。只要执行任意一条DML语句就提交一次。代码如下MANAGED事务管理器中有展示。</p> 
</blockquote> 
<blockquote> 
 <p><strong>MANAGED事务管理器：</strong> MyBatis不再负责事务的管理了。事务管理交给其它容器来负责。对于我们当前的单纯的只有MyBatis的情况下，如果配置为：MANAGED 那么事务这块是没人管的。没有人管理事务表示事务压根没有开启。没有人管理事务就是没有事务。</p> 
 <ul><li> <p>JDBC中的事务： 如果你没有在JDBC代码中执行下面这条语句，那么默认的autoCommit是true。</p> <pre><code class="language-java">// 开启事务
connection.setAutoCommit(false);
// 手动提交事务
connection.commit();</code></pre> </li><li> <p>只要你的autoCommit（自动提交）是true，就表示没有开启事务。</p> </li></ul> 
 <p>在SpringBoot+MyBatis项目中就不用写事务相关的东西了，但是用到业务层Service就需要了</p> 
</blockquote> 
<h3 id="%E4%BA%8C%E3%80%81%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8">二、快速入门</h3> 
<p>第一步：引入依赖</p> 
<pre><code class="language-XML">&lt;!-- MyBatis --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;
    &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;
    &lt;version&gt;3.5.3&lt;/version&gt;
&lt;/dependency&gt;
&lt;!-- junit测试依赖 --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;junit&lt;/groupId&gt;
    &lt;artifactId&gt;junit&lt;/artifactId&gt;
    &lt;scope&gt;test&lt;/scope&gt;
&lt;/dependency&gt;
&lt;!-- lombok依赖 为了简化实体类的编写代码量 --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;
    &lt;artifactId&gt;lombok&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre> 
<p>第二步：编写yml配置文件（此处我将properties后缀改成了yml）</p> 
<p>其中包含连接数据库以及MyBatis的核心配置信息（但在SpringBoot框架中无需用MyBatis原核心配置文件）</p> 
<pre><code class="language-XML">spring:
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://localhost:3306/powernode
    username: root
    password: root

mybatis:
  mapper-locations: classpath:mapper/*.xml
  #目的是为了省略resultType里的代码量
  type-aliases-package: com.chf.pojo
  configuration:
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl</code></pre> 
<p><img alt="" height="412" src="https://images2.imgbox.com/00/e2/DjffB78A_o.png" width="727"></p> 
<p>第三步：构建实体类（在pojo包下），与表中字段一一对应</p> 
<p><img alt="" height="531" src="https://images2.imgbox.com/be/86/L4GmiQ5k_o.png" width="936"></p> 
<p>第四步：创建接口，用来写方法  </p> 
<p><img alt="" height="411" src="https://images2.imgbox.com/37/b9/vNXyF3Ok_o.png" width="795"></p> 
<p> 第五步：每一个实体类对应一个mapper映射文件，在resources的mapper包下写映射文件（SQL语句）</p> 
<p>其实这里的Sql语句是有问题的，查询到控制台的有问题，这里做个伏笔后面会知道为什么。</p> 
<p><img alt="" height="309" src="https://images2.imgbox.com/39/06/ZPAPRFlT_o.png" width="748"></p> 
<p>第六步：先测试自己是否成功连接到了数据库，不然你不管怎么测试方法都不知道你为什么爆红</p> 
<p><img alt="" height="542" src="https://images2.imgbox.com/8a/32/yQhuD8Bj_o.png" width="1083"></p> 
<p>测试成功，开心开心（这里控制台输出的null是我埋下的伏笔，下面会讲） </p> 
<h3 id="%E2%80%8B%E7%BC%96%E8%BE%91%20%E4%B8%89%E3%80%81%E7%AE%80%E6%98%93%E6%8F%92%E5%85%A5%E5%88%A0%E9%99%A4%E6%9B%B4%E6%94%B9"><img alt="" height="315" src="https://images2.imgbox.com/0c/1b/ShQQ2ETO_o.png" width="1186"> 三、简易插入删除更改</h3> 
<pre><code class="language-java">@Mapper  
public interface CarMapper {
    /**
     * 插入汽车
     * @return
     * @param car
     */
    int insert(Car car);
    /**
     * 按id删除车辆信息
     * @param id
     * @return
     */
    int delete(Long id);
    /**
     * 更新车辆信息
     * @param car
     * @return
     */
    int update(Car car);
}</code></pre> 
<pre><code class="language-XML">&lt;!--namespace和里面标签的id两者都是为了动态代理而需要的--&gt;
&lt;mapper namespace="com.chf.mapper.CarMapper"&gt;
    &lt;!--
    	#{}对应的是pojo层实体类的属性名"abcDe"对应的"getAbcDe"的"abcDe"(驼峰命名规范)
    	想简单点，对应属性名就行，复杂可能会乱ovo
    --&gt;
    &lt;insert id="insert"&gt;
        insert into t_car(id,car_num,brand,guide_price,produce_time,car_type)
        values(null,#{carNum},#{brand},#{guidePrice},#{produceTime},#{carType})
    &lt;/insert&gt;
    &lt;!--如果占位符只有一个，其实可以随便写里面的内容但不能不写，但最好见名知意，这次只是测试--&gt;
    &lt;delete id="delete"&gt;
        delete from t_car where id = #{dasdad}
    &lt;/delete&gt;
    &lt;update id="update"&gt;
        update t_car set
            car_num=#{carNum},
            brand=#{brand},
            guide_price=#{guidePrice},
            produce_time=#{produceTime},
            car_type=#{carType}
        where id=#{id}
    &lt;/update&gt;
&lt;/mapper&gt;</code></pre> 
<pre><code class="language-java">@SpringBootTest
public class Mybatis001IntroduceApplicationTests {
    @Autowired
    private CarMapper carMapper;
    @Test
    void testInsert(){
        Car car = new Car(null,"111","奔驰",30.00,"2022-10-2","新能源");
        int count = carMapper.insert(car);
        System.out.println((count == 1 ? "插入成功" : "插入失败"));
    }
    @Test
    void testDelete(){
        int count = carMapper.delete(4L);
        System.out.println((count == 1 ? "删除成功" : "删除失败"));
    }
    @Test
    void testUpdate(){
        Car car = new Car(6L,"1111","奔驰",30.00,"2022-10-2","新能源");
        int count = carMapper.update(car);
        System.out.println((count == 1 ? "更新成功" : "更新失败"));
    }
}</code></pre> 
<h3 id="%E5%9B%9B%E3%80%81%E6%9F%A5%E8%AF%A2">四、查询</h3> 
<h4 id="%E2%91%A0%E3%80%81%E6%8C%89%E5%85%B6%E4%B8%AD%E4%B8%80%E4%B8%AA%E5%AD%97%E6%AE%B5%E6%9F%A5%E8%AF%A2">①、按其中一个字段查询</h4> 
<p><img alt="" height="462" src="https://images2.imgbox.com/2d/96/kQT8KOuc_o.png" width="808"></p> 
<p><img alt="" height="524" src="https://images2.imgbox.com/fd/bc/02FcfglT_o.png" width="959"></p> 
<p>通过控制台你会仔细的发现：除了id和brand其他皆为null。</p> 
<p>原因就在于：属性名与表名不一致造成的，所以我们应该编写Sql语句就可以完成查询</p> 
<p><img alt="" height="552" src="https://images2.imgbox.com/6c/24/Yx7reZDY_o.png" width="967"></p> 
<h4 id="%E2%91%A1%E3%80%81%E6%8C%89%E6%89%80%E6%9C%89%E5%AD%97%E6%AE%B5%E8%BF%9B%E8%A1%8C%E6%9F%A5%E8%AF%A2">②、按所有字段进行查询</h4> 
<p>这也是我在快速入门那里留下的伏笔，其实那个select也要进行修改</p> 
<p><img alt="" height="525" src="https://images2.imgbox.com/3c/98/BdKPjagv_o.png" width="967"></p> 
<h3 id="%E2%80%8B%E7%BC%96%E8%BE%91%20%E4%BA%94%E3%80%81%E8%AF%A6%E8%A7%A3MyBatis%E6%A0%B8%E5%BF%83%E9%85%8D%E7%BD%AE(%E5%A4%8D%E4%B9%A0)"><img alt="" height="549" src="https://images2.imgbox.com/36/d7/zQSQL51n_o.png" width="954"> 五、详解MyBatis核心配置(复习)</h3> 
<p>这里就当复习了，因为是看的老杜讲解的，更加细致。</p> 
<p></p> 
<pre><code class="language-XML">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;!DOCTYPE configuration 
		PUBLIC "-//mybatis.org//DTD Config 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-config.dtd"&gt;
&lt;configuration&gt;
    &lt;!--default表示默认使用的环境--&gt;
    &lt;environments default="development"&gt;
        &lt;!--
			其中的一个环境 连接的数据库是powernode
			一般一个数据库会对应一个SqlSessionFactory对象
			一个环境environment会对应一个SqlSessionFactory对象
  		--&gt;
    	&lt;environment id="development"&gt;
            &lt;!--
				MyBatis事务管理器接口Transaction有两个实现类
				如果type="JDBC"那么底层会实例化JdbcTransaction对象
				如果type="MANAGED"那么底层会实例化ManagedTransaction对象
			--&gt;
            &lt;transactionManager type="JDBC" /&gt;
            &lt;!--
				datasource配置：
					1、dataSource被称为数据源
					2、dataSource为程序提供Connection对象
					3、数据源实际上是一套规范，JDK中有这套规范：javax.sql.DataSource
					4、type有三种值可选其一：
						POOLED：使用MyBatis自己实现的数据库连接池
						UNPOOLED：不适用MyBatis的数据库连接池，每一次请求过来创建新的Connection对象
						JNDI：集成其它第三方的数据库连接池，这是一套规范，大部分Web容器都实现了此规范
			--&gt;
            &lt;dataSource type="POOLED"&gt;
                &lt;property name="driver" value="com.mysql.cj.jdbc.Driver"/&gt;
                &lt;property name="url" value="jdbc:mysql://localhost:3306/powernode"/&gt;
                &lt;property name="username" value="root"/&gt;
                &lt;property name="password" value="root"/&gt;
        	&lt;/dataSource&gt;
    	&lt;/environment&gt;
        
        &lt;!--MyBatis另外一个环境，也就是连接的数据库是另一个数据库MyBatis--&gt;
        &lt;environment id="mybatisDB"&gt;
            &lt;transactionManager type="JDBC" /&gt;
            &lt;dataSource type="POOLED"&gt;
                &lt;property name="driver" value="com.mysql.cj.jdbc.Driver"/&gt;
                &lt;property name="url" value="jdbc:mysql://localhost:3306/mybatis"/&gt;
                &lt;property name="username" value="root"/&gt;
                &lt;property name="password" value="root"/&gt;
        	&lt;/dataSource&gt;
   		&lt;/environment&gt;     
&lt;/environments&gt; 
    &lt;!--通过此标签找到映射文件，实际在SpringBoot中的yml配置文件中变成：mybatis:mapper-locations--&gt;
    &lt;mappers&gt;
        &lt;package name="com.chf.mapper" /&gt;
    &lt;/mappers&gt;
&lt;/configuration&gt;</code></pre> 
<pre><code class="language-java">@SpringBootTest
public class ConfigurationTest{
	@Test
	void testEnvironment() throws Exception{
		//获取SqlSessionFactory对象（采用默认方式获取）
		SqlSessionFactoryBuilder ssf = new SqlSessionFactoryBuilder();
        //采用这种方式获取的就是默认的环境
        SqlSessionFactory sqlSessionFactory = ssf.build(Resources.getResourceAsStream("MyBatisConfig.xml"));
        //这种方式通过id获取的是指定的环境
        SqlSessionFactory sqlSessionFactory = ssf.build(Resources.getResourceAsStream("MyBatisConfig.xml"),"mybatisDB");
	}
}</code></pre> 
<h3 id="%E5%85%AD%E3%80%81%E7%BB%93%E5%90%88Web%E5%8F%8ASpringMVC">六、结合Web及SpringMVC</h3> 
<p>这里老杜的是使用MVC架构模式，然后优化使用了动态代理写了两个工具类</p> 
<p>但我是基于SpringBoot框架的基础上去复习老杜的MyBatis，所以会使用到SpringMVC去实现老杜的课程</p> 
<p>一个项目从前往后写才知道具体需要实现的功能是什么（老杜教的）</p> 
<p>修改成功和失败的页面就不截图展示了</p> 
<p><strong>项目目录如下以及超简易页面以及数据库表结构</strong></p> 
<p><img alt="" height="556" src="https://images2.imgbox.com/22/be/X67OpVC0_o.png" width="1072"></p> 
<p><img alt="" height="204" src="https://images2.imgbox.com/10/17/FcK33uko_o.png" width="761"> ①根据表结构去编写实体类做到与表中字段一一对应</p> 
<pre><code class="language-java">@Data
@AllArgsConstructor
@NoArgsConstructor
@ToString
public class Account {
    private Long id;
    private String actno;
    private Double balance;
}</code></pre> 
<p>②根据网页所知功能需求是银行转账，在Mapper接口编写方法</p> 
<pre><code class="language-java">@Mapper
public interface AccountMapper {
    /**
     * 根据账号查询账户信息
     * @param actno
     * @return
     */
    Account selectByActno(String actno);

    /**
     * 更新账户信息
     * @param account
     * @return
     */
    int updateByActno(Account account);
}</code></pre> 
<p>③根据Mapper接口的方法在映射文件中写Sql语句</p> 
<p><img alt="" height="400" src="https://images2.imgbox.com/be/94/quPtBjii_o.png" width="862"></p> 
<p>④根据Mapper接口所需方法在业务层中实现  </p> 
<pre><code class="language-java">public interface AccountService {
    /**
     * 根据账号查询账户信息
     * @param actno
     * @return
     */
    Account selectByActno(String actno);

    /**
     * 更新账户信息
     * @param account
     * @return
     */
    int updateByActno(Account account);

    /**
     * 账户转账业务。
     * @param fromActno 转出账号
     * @param toActno 转入账号
     * @param money 转账金额
     */
    void transfer(String fromActno, String toActno, double money) 
            throws MoneyNotEnoughException, TransferException;
}</code></pre> 
<pre><code class="language-java">@Service
public class AccountServiceImpl implements AccountService {
    @Autowired
    private AccountMapper accountMapper;

    @Override
    public Account selectByActno(String actno) {
        Account account = accountMapper.selectByActno(actno);
        return account;
    }

    @Override
    public int updateByActno(Account account) {
        int count = accountMapper.updateByActno(account);
        return count;
    }

    @Override
    @Transactional
    public void transfer(String fromActno,String toActno,double money)
            throws MoneyNotEnoughException,TransferException {
        Account fromAct = selectByActno(fromActno);
        if(fromAct.getBalance() &lt; money) throw new MoneyNotEnoughException("对不起，余额不足");

        Account toAct = selectByActno(toActno);
        fromAct.setBalance(fromAct.getBalance() - money);
        toAct.setBalance(toAct.getBalance() + money);

        int count = updateByActno(fromAct);
        count += updateByActno(toAct);
        if(count != 2) throw new TransferException("转账异常，未知原因");
    }
}</code></pre> 
<p>⑤根据想抛出的异常去编写异常类</p> 
<pre><code class="language-java">public class MoneyNotEnoughException extends Exception{
    public MoneyNotEnoughException(){}
    public MoneyNotEnoughException(String msg){
        super(msg);
    }
}
public class TransferException extends Exception{
    public TransferException(){}
    public TransferException(String msg){
        super(msg);
    }
}</code></pre> 
<p>⑥数据层和业务层方法实现后在表示层编写</p> 
<pre><code class="language-java">@Controller
public class AccountController {
    @Autowired
    private AccountService accountService;

    @PostMapping("/bank")
    public String transfer(String fromActno, String toActno, double money) {
        double m = Double.parseDouble(String.valueOf(money));
        try {
            accountService.transfer(fromActno,toActno,m);
            return "redirect:/success.html";
        } catch (MoneyNotEnoughException | TransferException e) {
            e.printStackTrace();
            return "redirect:/error.html";
        }
    }
}</code></pre> 
<h2 id="2%E3%80%81MyBatis%E5%B0%8F%E6%8A%80%E5%B7%A7">2、MyBatis小技巧</h2> 
<h3 id="%E4%B8%80%E3%80%81%23%7B%7D%E4%B8%8E%24%7B%7D%E5%8F%8A%E6%A8%A1%E7%B3%8A%E6%9F%A5%E8%AF%A2">一、#{}与${}及模糊查询</h3> 
<p>这里就不多写了，详细可以看我博客另外一条文章：<a href="https://blog.csdn.net/m0_65563175/article/details/126611990" title="花了几天整理了学完的Mybatis框架（内含源码及面试题）_慢慢ovo的博客-CSDN博客">花了几天整理了学完的Mybatis框架（内含源码及面试题）_慢慢ovo的博客-CSDN博客</a></p> 
<p>放一点笔记出来品品</p> 
<p><img alt="" height="580" src="https://images2.imgbox.com/74/ac/qENxF6AS_o.png" width="779"></p> 
<p></p> 
<pre><code class="language-XML">&lt;mapper namespace="com.chf.mapper.CarMapper"&gt;
    &lt;!--
        这里是不能使用#{} 否则会以字符串形式放在Sql语句当中 只能使用${}
        #{}是防止Sql注入风险的 是以值的方式放到Sql语句当中
        如果需要的Sql语句的关键字(固定值)放到Sql语句当中只能使用${}
    --&gt;
    &lt;select id="selectAllByAscOrDesc" resultType="Car"&gt;
        select
            id,
            car_num carNum,
            brand,
            guide_price guidePrice,
            produce_time produceTime,
            car_type carType
        from
            t_car
        order by
            produce_time ${ascOrDesc}
    &lt;/select&gt;
    &lt;select id="selectByCarType" resultType="Car"&gt;
        select
            id,
            car_num carNum,
            brand,
            guide_price guidePrice,
            produce_time produceTime,
            car_type carType
        from
            t_car
        where
            car_type=#{carType}
    &lt;/select&gt;

    &lt;!--delete from t_car where id in (?,?)--&gt;
    &lt;delete id="deleteBatch"&gt;
        delete from t_car
        where id in (${ids})
    &lt;/delete&gt;

    &lt;select id="selectByBrandLike" resultType="Car"&gt;
        select
            id,
            car_num carNum,
            brand,
            guide_price guidePrice,
            produce_time produceTime,
            car_type carType
        from
            t_car
        where
            &lt;!--brand like '%${brand}%'--&gt;
            &lt;!--brand like concat('%',#{brand},'%')--&gt;
            brand like "%"#{brand}"%"
    &lt;/select&gt;
&lt;/mapper&gt;</code></pre> 
<p><img alt="" height="440" src="https://images2.imgbox.com/20/6e/jKGQnRjC_o.png" width="937"></p> 
<p> <img alt="" height="323" src="https://images2.imgbox.com/e9/d5/Ml7rnR5Z_o.png" width="930"></p> 
<h3 id="%C2%A0%E4%BA%8C%E3%80%81%E5%88%AB%E5%90%8D%E6%9C%BA%E5%88%B6%E4%B8%8Emapper%E6%A0%87%E7%AD%BE">二、别名机制与mapper标签</h3> 
<pre><code class="language-XML"># yml配置
mybatis:
  #基于SpringBoot的mapper标签
  mapper-locations: classpath:mapper/*.xml
  #基于SpringBoot的别名机制用于配合xml中的resultType
  type-aliases-package: com.chf.pojo
  configuration:
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl</code></pre> 
<pre><code class="language-XML">&lt;!--MyBatis核心配置文件中的--&gt;
	&lt;typeAliases&gt;
        &lt;!--别名自己指定的--&gt;
        &lt;typeAlias type="com.chf.pojo.Car" alias="aaa"/&gt;
        &lt;typeAlias type="com.chf.pojo.Log" alias="bbb"/&gt;

        &lt;!--采用默认的别名机制--&gt;
        &lt;typeAlias type="com.chf.pojo.Car"/&gt;
        &lt;typeAlias type="com.chf.pojo.Log"/&gt;

        &lt;!--包下所有的类自动起别名。使用简名作为别名。--&gt;
        &lt;package name="com.chf.pojo"/&gt;
    &lt;/typeAliases&gt;
	&lt;!--
    所有别名不区分大小写。
    namespace不能使用别名机制。
	--&gt;
    &lt;mapper resource="CarMapper.xml"/&gt;       &lt;!--要求类的根路径下必须有：CarMapper.xml--&gt;
    &lt;mapper url="file:///d:/CarMapper.xml"/&gt; &lt;!--要求在d:/下有CarMapper.xml文件--&gt;
    &lt;mapper class="全限定接口名，带有包名"/&gt;
	&lt;!--
    mapper标签的属性可以有三个：
      resource:这种方式是从类的根路径下开始查找资源。采用这种方式的话，你的配置文件需要放到类路径当中才行。
      url: 这种方式是一种绝对路径的方式，这种方式不要求配置文件必须放到类路径当中，哪里都行，只要提供一个绝对路径就行。这种方式使用极少，因为移植性太差。
      class: 这个位置提供的是mapper接口的全限定接口名，必须带有包名的。
         思考：mapper标签的作用是指定SqlMapper.xml文件的路径，指定接口名有什么用呢？
              &lt;mapper class="com.chf.mapper.CarMapper"/&gt;
              如果你class指定是：com.chf.mapper.CarMapper
              那么mybatis框架会自动去com/chf/mapper目录下查找CarMapper.xml文件。
      注意：也就是说：如果你采用这种方式，那么你必须保证CarMapper.xml文件和CarMapper接口必须在同一个目录下。并且名字一致。
         CarMapper接口-&gt; CarMapper.xml
         LogMapper接口-&gt; LogMapper.xml
         ....
	--&gt;</code></pre> 
<h3 id="%E4%B8%89%E3%80%81%E6%8F%92%E5%85%A5%E4%BD%BF%E7%94%A8%E7%94%9F%E6%88%90%E7%9A%84%E4%B8%BB%E9%94%AE%E5%80%BC">三、插入使用生成的主键值</h3> 
<pre><code class="language-java">@Mapper
public interface CarMapper{
	/**
     * 插入车辆信息并且使用生成的主键值
     * @param car
     * @return
     */
    int insertCarUseGeneratedKeys(Car car);
}</code></pre> 
<p><img alt="" height="208" src="https://images2.imgbox.com/04/d1/nYtwjMta_o.png" width="811"></p> 
<h2 id="3%E3%80%81MyBatis%E5%8F%82%E6%95%B0%E5%A4%84%E7%90%86">3、MyBatis参数处理</h2> 
<h3 id="%E4%B8%80%E3%80%81%E5%8D%95%E4%B8%AA%E7%AE%80%E5%8D%95%E7%B1%BB%E5%9E%8B%E5%8F%82%E6%95%B0">一、单个简单类型参数</h3> 
<p>简单类型包括：</p> 
<ul><li> <p>七种数据类型（除了boolean）以及他们的包装类</p> </li><li> <p>String</p> </li><li> <p>java.util.Date</p> </li><li> <p>java.sql.Date</p> </li></ul> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/80/98/nBLbVPRJ_o.png" width="879"></p> 
<p></p> 
<pre><code class="language-java">@Mapper
public interface StudentMapper {
    /**
     * 当接口的方法的参数只有一个，并且参数的数据类型都是简单类型
     * 根据id、name、birth、sex查询
     */
    List&lt;Student&gt; selectById(Long id);
    List&lt;Student&gt; selectByName(String name);
    List&lt;Student&gt; selectByBirth(Date birth);
    List&lt;Student&gt; selectBySex(Character sex);
}</code></pre> 
<blockquote> 
 <p>parameterType属性的作用： 告诉MyBatis框架这个方法的参数类型是什么类型 MyBatis框架自身带有类型自动推断机制，所以大部分情况下parameterType属性都是可以省略不写的</p> 
</blockquote> 
<p><img alt="" height="562" src="https://images2.imgbox.com/ef/57/R1G4TLdF_o.png" width="939"></p> 
<p><img alt="" height="574" src="https://images2.imgbox.com/85/53/6tHPEZ6R_o.png" width="937"></p> 
<h3 id="%E4%BA%8C%E3%80%81Map%E5%8F%82%E6%95%B0">二、Map参数</h3> 
<h4 id="%E2%91%A0%E3%80%81%E6%8F%92%E5%85%A5%E4%BF%A1%E6%81%AF">①、插入信息</h4> 
<pre><code class="language-java">@Mapper
public interface StudentMapper{
    /**
     * 保存学生信息，通过Map参数，以下是单个参数，但是参数的类型不是简单类型，是Map集合
     * @param map
     * @return
     */
    int insertStudentByMap(Map&lt;String,Object&gt; map);
}</code></pre> 
<pre><code class="language-XML">&lt;mapper namespace="com.chf.mapper.StudentMapper"&gt;
	&lt;insert id="insertStudentByMap" parameterType="map"&gt;
        insert into
            t_student
        values
            (null,#{姓名},#{年龄},#{身高},#{生日},#{性别})
    &lt;/insert&gt;
&lt;/mapper&gt;</code></pre> 
<p><img alt="" height="244" src="https://images2.imgbox.com/ae/61/IW3ZN063_o.png" width="843"></p> 
<h4 id="%E2%91%A1%E3%80%81%E6%9F%A5%E8%AF%A2%E5%8D%95%E4%B8%AA%E6%B1%BD%E8%BD%A6%E4%BF%A1%E6%81%AF">②、查询单个汽车信息</h4> 
<pre><code class="language-java">@Mapper
public interface CarMapper{
    /**
     * 根据id获取汽车信息，将汽车信息放到Map集合中
     * @param id
     * @return
     */
    Map&lt;String,Object&gt; selectByIdRetMap(Long id);
}</code></pre> 
<pre><code class="language-XML">&lt;mapper namespace="com.chf.mapper.CarMapper"&gt;
	&lt;select id="selectByIdRetMap" resultType="map"&gt;
        select
            id,
            car_num carNum,
            brand,
            guide_price guidePrice,
            produce_time produceTime,
            car_type carType
        from
            t_car
        where
            id = #{id}
    &lt;/select&gt;
&lt;/mapper&gt;</code></pre> 
<p><img alt="" height="468" src="https://images2.imgbox.com/8a/05/Hk1FWc3J_o.png" width="975"></p> 
<h4 id="%E2%91%A2%E3%80%81%E8%BF%94%E5%9B%9E%E5%A4%9A%E4%B8%AAMap">③、返回多个Map</h4> 
<p>查询结果大于等于1条数据，则可以返回一个存储Map集合的List集合，List&lt;Map&gt;等同于List&lt;Car&gt;</p> 
<pre><code class="language-java">@Mapper
public interface CarMapper{
    /**
     * 查询所有的Car信息返回一个放Map集合的List集合
     * @return
     */
    List&lt;Map&lt;String,Object&gt;&gt; selectAllRetListMap();
}</code></pre> 
<pre><code class="language-XML">&lt;mapper namespace="com.chf.mapper.CarMapper"&gt;
	&lt;!--注意：这个resultType是map不是list--&gt;
    &lt;select id="selectAllRetListMap" resultType="map"&gt;
        select
            id,
            car_num carNum,
            brand,
            guide_price guidePrice,
            produce_time produceTime,
            car_type carType
        from
            t_car
    &lt;/select&gt;
&lt;/mapper&gt;</code></pre> 
<p><img alt="" height="545" src="https://images2.imgbox.com/b2/66/O2N4dBlJ_o.png" width="999"></p> 
<h4 id="%C2%A0%E2%91%A3%E3%80%81%E8%BF%94%E5%9B%9EMap%3CString%2CMap%3E"> ④、返回Map&lt;String,Map&gt;</h4> 
<p>通过Car的id做Key，以后取出对应的Map集合时更方便</p> 
<pre><code class="language-java">@Mapper
public interface CarMapper{
    /**
     * 查询所有的Car返回一个大Map结合
     * Map集合的key是每条记录的主键值
     * Map集合的value的每条记录
     * @return
     */
    @MapKey("id")
    Map&lt;Long,Map&lt;String,Object&gt;&gt; selectAllRetMap();
}</code></pre> 
<pre><code class="language-XML">&lt;mapper namespace="com.chf.mapper.CarMapper"&gt;
    &lt;select id="selectAllRetMap" resultType="map"&gt;
        select
            id,
            car_num carNum,
            brand,
            guide_price guidePrice,
            produce_time produceTime,
            car_type carType
        from
            t_car
    &lt;/select&gt;
&lt;/mapper&gt;</code></pre> 
<p><img alt="" height="563" src="https://images2.imgbox.com/87/ec/CXW46ezO_o.png" width="986"></p> 
<p>{<!-- --></p> 
<p>1={carType=燃油车, carNum=1001, guidePrice=10.00, produceTime=2022-10-1, id=1, brand=宝马520Li},</p> 
<p>2={carType=新能源, carNum=1002, guidePrice=55.00, produceTime=2022-10-2, id=2, brand=奔驰E300L},</p> 
<p>6={carType=新能源, carNum=1111, guidePrice=30.00, produceTime=2022-10-3, id=6, brand=奔驰},</p> 
<p>7={carType=新能源, carNum=111, guidePrice=30.00, produceTime=2022-10-2, id=7, brand=奔驰},</p> 
<p>10={carType=新能源, carNum=111, guidePrice=30.00, produceTime=2022-10-2, id=10, brand=奔驰},</p> 
<p>11={carType=新能源, carNum=111, guidePrice=30.00, produceTime=2022-10-8, id=11, brand=奔驰}</p> 
<p>}</p> 
<h3 id="%E4%B8%89%E3%80%81%E5%AE%9E%E4%BD%93%E7%B1%BB%E5%8F%82%E6%95%B0">三、实体类参数</h3> 
<pre><code class="language-java">@Mapper
public interface StudentMapper{
    /**
     * 保存学生信息，通过POJO参数，Student是单个参数，但不是简单类型
     * @param student
     * @return
     */
    int insertStudentByPOJO(Student student);
}</code></pre> 
<pre><code class="language-XML">&lt;mapper namespace="com.chf.mapper.StudentMapper"&gt;
	&lt;insert id="insertStudentByPOJO"&gt;
        insert into
            t_student
        values
            (null,#{name},#{age},#{height},#{birth},#{sex})
    &lt;/insert&gt;
&lt;/mapper&gt;</code></pre> 
<p><img alt="" height="179" src="https://images2.imgbox.com/e9/9e/k33zGDZW_o.png" width="851"></p> 
<h3 id="%E5%9B%9B%E3%80%81%E5%A4%9A%E5%8F%82%E6%95%B0%EF%BC%88%40Param%EF%BC%89">四、多参数（@Param）</h3> 
<p>不需要使用arg0、arg1、param1、param2等等，直接使用@Param注解增强可读性</p> 
<p>需求：根据name和age查询学生信息</p> 
<pre><code class="language-java">@Mapper
public interface StudentMapper{
    /**
     * 这是多参数查询
     * 根据name和sex查询Student信息
     * 如果是多个参数的话，MyBatis框架底层的做法如下：
     *     MyBatis框架会自动创建一个Map集合并且Map集合是以这种方式存储参数的
     *          map.put("arg0",name);/map.put("param1",name);
     *          map.put("arg1",sex);/map.put("param2",sex);
     *          
     * 使用Param注解指定Sql语句中的#{}命名
     * @param name
     * @param sex
     * @return
     */
    List&lt;Student&gt; selectByNameAndSex(
            @Param("nnn") String name,
            @Param("sss") Character sex);
}</code></pre> 
<p><img alt="" height="156" src="https://images2.imgbox.com/32/51/5k5gCpfV_o.png" width="850"></p> 
<p> <img alt="" height="509" src="https://images2.imgbox.com/4c/01/5caCH15K_o.png" width="1005"></p> 
<p></p> 
<h3 id="%E4%BA%94%E3%80%81resultMap%E7%BB%93%E6%9E%9C%E6%98%A0%E5%B0%84">五、resultMap结果映射</h3> 
<h4 id="%E2%91%A0%E3%80%81%E4%BD%BF%E7%94%A8resultMap%E8%BF%9B%E8%A1%8C%E7%BB%93%E6%9E%9C%E6%98%A0%E5%B0%84%EF%BC%88%E5%B8%B8%E7%94%A8%EF%BC%89">①、使用resultMap进行结果映射（常用）</h4> 
<p>查询结果的列名和java对象的属性名对应不上的做法？</p> 
<ul><li> <p>第一种方式：as 给列起别名 as可以省略不写，我们前面的做法就是如此</p> </li><li> <p>第二种方式：使用resultMap进行结果映射</p> </li><li> <p>第三种方式：是否开启驼峰命名自动映射(设置settings)</p> </li></ul> 
<blockquote> 
 <p>在一对标签中resultType和resultMap两者只能有一个 当查询要返回对象，</p> 
 <p>而且属性和字段不一致的时候用resultMap。 ﻿</p> 
</blockquote> 
<pre><code class="language-java">@Mapper
public interface CarMapper{
    /**
     * 查询所有的Car信息，使用resultMap标签进行结果映射
     * @return
     */
    List&lt;Car&gt; selectAllByResultMap();
}</code></pre> 
<pre><code class="language-XML">&lt;mapper namespace="com.chf.mapper.CarMapper"&gt;
	&lt;!--
        1、专门定义一个结果映射，在这个结果映射当中指定数据库表的字段名和Java类的属性名的对应关系
        2、type属性：用来指定POJO类的类名
        3、id属性：指定resultMap的唯一标识，这个id将来要在select标签中使用
    --&gt;
    &lt;resultMap id="carResultMap" type="Car"&gt;
        &lt;!--如果数据库表中有主键，一般都是有主键，要不然不符合数据库设计第一范式--&gt;
        &lt;!--如果有主键，建议这里配置一个id标签，这样的配置可以让MyBatis提高效率--&gt;
        &lt;id property="id" column="id" /&gt;
        &lt;!--
            property后面填写的是POJO类的属性名
            column后面填写数据库表的字段名
        --&gt;
        &lt;result property="carNum" column="car_num" /&gt;
        &lt;result property="guidePrice" column="guide_price" /&gt;
        &lt;result property="produceTime" column="produce_time" /&gt;
        &lt;result property="carType" column="car_type" /&gt;
    &lt;/resultMap&gt;
    &lt;!--select标签中的resultMap属性用来指定使用哪个结果映射，resultMap后面的值是resultMap的id--&gt;
    &lt;select id="selectAllByResultMap" resultMap="carResultMap"&gt;
        select
            id,
            car_num,
            brand,
            guide_price,
            produce_time,
            car_type
        from
            t_car
    &lt;/select&gt;
&lt;/mapper&gt;</code></pre> 
<p><img alt="" height="456" src="https://images2.imgbox.com/7c/3a/wFAgiKII_o.png" width="965"></p> 
<h4 id="%C2%A0%E2%91%A1%E3%80%81%E5%BC%80%E5%90%AF%E9%A9%BC%E5%B3%B0%E5%91%BD%E5%90%8D%E8%A7%84%E8%8C%83%E8%87%AA%E5%8A%A8%E6%98%A0%E5%B0%84"> ②、开启驼峰命名规范自动映射</h4> 
<p>使用这种方式的前提是：属性名遵循Java的命名规范，数据库表的列名遵循SQL的命名规范。</p> 
<p>Java命名规范：首字母小写，后面每个单词首字母大写，遵循驼峰命名方式。</p> 
<p>SQL命名规范：全部小写，单词之间采用下划线分割。</p> 
<pre><code class="language-XML">mybatis:  
    mapper-locations: classpath:mapper/*.xml  
    type-aliases-package: com.chf.pojo  
    configuration:    
        log-impl: org.apache.ibatis.logging.stdout.StdOutImpl    
        #开启驼峰自动映射    
        map-underscore-to-camel-case: true</code></pre> 
<pre><code class="language-java">@Mapper
public interface CarMapper{
    List&lt;Car&gt; selectAllByResultMapTwo();
}</code></pre> 
<pre><code class="language-XML">&lt;mapper namespace="com.chf.mapper.CarMapper"&gt;
    &lt;select id="selectAllByResultMap" resultType="Car"&gt;
        select
            id,
            car_num,
            brand,
            guide_price,
            produce_time,
            car_type
        from
            t_car
    &lt;/select&gt;
&lt;/mapper&gt;</code></pre> 
<p><img alt="" height="561" src="https://images2.imgbox.com/2a/ac/HotXNiJb_o.png" width="972"></p> 
<h3 id="%E5%85%AD%E3%80%81%E8%8E%B7%E5%8F%96%E6%80%BB%E8%AE%B0%E5%BD%95%E6%9D%A1%E6%95%B0">六、获取总记录条数</h3> 
<pre><code class="language-java">@Mapper
public interface CarMapper{
    /**
     * 获取Car的总记录条数
     * @return
     */
    Long selectTotal();
}</code></pre> 
<pre><code class="language-XML">&lt;mapper namespace="com.chf.mapper.CarMapper"&gt;
    &lt;select id="selectTotal" resultType="long"&gt;
        select
            count(*)
        from
            t_car
    &lt;/select&gt;
&lt;/mapper&gt;</code></pre> 
<p><img alt="" height="470" src="https://images2.imgbox.com/dd/cf/JPdDecdE_o.png" width="979"></p> 
<h2 id="4%E3%80%81%E5%8A%A8%E6%80%81SQL(%E6%B3%A8%3A%E4%BD%BF%E7%94%A8%E4%BA%86%E9%A9%BC%E5%B3%B0%E5%91%BD%E5%90%8D%E8%A7%84%E8%8C%83)">4、动态SQL(注:使用了驼峰命名规范)</h2> 
<p>什么是动态SQL？</p> 
<ul><li> <p>SQL的内容是变化的, 可以根据条件获取到不同的SQL语句 主要是where部分发生变化。 动态SQL的实现, 使用的是MyBatis提供的标签</p> </li></ul> 
<p>为什么使用动态SQL</p> 
<ul><li> <p>使用动态SQL可以解决某些功能的使用 例如使用条件查询某个商品 输入价格，地区等等进行筛选，如果使用静态SQL可能会查询出来的是一个空内容 但使用动态SQL可以很好的解决这种问题</p> </li></ul> 
<p>动态SQL的标签：</p> 
<p><img alt="" height="159" src="https://images2.imgbox.com/5d/28/aVqTxesU_o.png" width="853"></p> 
<h3 id="%E4%B8%80%E3%80%81if%E6%A0%87%E7%AD%BE">一、if标签</h3> 
<pre><code class="language-java">@Mapper
public interface CarMapper {
    /**
     * 多条件查询
     * @param brand 品牌
     * @param guidePrice 指导价
     * @param carType 汽车类型
     * @return
     */
    List&lt;Car&gt; selectByMultiCondition(@Param("brand") String brand,
                                     @Param("guidePrice") Double guidePrice,
                                     @Param("carType") String carType);
}</code></pre> 
<pre><code class="language-XML">&lt;mapper namespace="com.chf.mapper.CarMapper"&gt;
    &lt;!--
        1、if标签中的test属性是必须的
        2、if标签中test属性的值是false或者是true
        3、如果为true，则if标签中的sql语句就会拼接。反之就不会拼接
        4、test属性中可以使用的是：
            当使用了@Param注解，那么test中要出现的是@Param注解指定的参数名。
            当没有使用@Param注解，那么test中要出现的是：param1 param2 param3 ...
            当使用了POJO，那么test中出现的是POJO类的属性名
        5、在MyBatis的动态SQL中，不能使用&amp;&amp;，使用的是and
        6、标签内与#{}内写的都是POJO属性名，其余是SQL的字段名
        7、注意：这里我在yml文件配置了MyBatis的自动驼峰命名规范，所以不用使用as重新命名
		8、这个1 = 1是防止后面出现空传值导致SQL语句出现错误
    --&gt;
    &lt;select id="selectByMultiCondition" resultType="Car"&gt;
        select
            id,car_num,brand,guide_price,produce_time,car_type
        from
            t_car
        where
            1 = 1
            &lt;if test="brand != null and brand != ''"&gt;
                and brand like "%"#{brand}"%"
            &lt;/if&gt;
            &lt;if test="guidePrice != null and guidePrice != ''"&gt;
                and guide_price &gt;= #{guidePrice}
            &lt;/if&gt;
            &lt;if test="carType != null and carType != ''"&gt;
                and car_type like "%"#{carType}"%"
            &lt;/if&gt;
    &lt;/select&gt;
&lt;/mapper&gt;</code></pre> 
<p><img alt="" height="563" src="https://images2.imgbox.com/fc/0c/dfBkmZuh_o.png" width="1012"></p> 
<h3 id="%E4%BA%8C%E3%80%81where%E6%A0%87%E7%AD%BE">二、where标签</h3> 
<p>where标签的作用：让where子句更加动态智能。</p> 
<ul><li> <p>所有条件都有空时，where标签保证不会生成where子句。</p> </li><li> <p>自动去除某些条件前面多余的and或or</p> </li></ul> 
<pre><code class="language-java">@Mapper
public interface CarMapper {
    /**
     * 使用where标签，让where子句更加的智能
     * @param brand
     * @param guidePrice
     * @param carType
     * @return
     */
    List&lt;Car&gt; selectByMultiConditionWithWhere(@Param("brand") String brand,
                                              @Param("guidePrice") Double guidePrice,
                                              @Param("carType") String carType);
}</code></pre> 
<pre><code class="language-XML">&lt;mapper namespace="com.chf.mapper.CarMapper"&gt;
    &lt;!--
        where标签是专门负责where子句动态生成的
        这里将1 = 1去掉了并且第一个if标签语句还有"and"关键字 但丝毫不影响SQL查询语句
        但要注意：不能在语句后面加"and"比如：and brand like "%"#{brand}"%" and
    --&gt;
    &lt;select id="selectByMultiConditionWithWhere" resultType="Car"&gt;
        select
            id,car_num,brand,guide_price,produce_time,car_type
        from
            t_car
        &lt;where&gt;
            &lt;if test="brand != null and brand != ''"&gt;
                and brand like "%"#{brand}"%"
            &lt;/if&gt;
            &lt;if test="guidePrice != null and guidePrice != ''"&gt;
                and guide_price &gt;= #{guidePrice}
            &lt;/if&gt;
            &lt;if test="carType != null and carType != ''"&gt;
                and car_type like "%"#{carType}"%"
            &lt;/if&gt;
        &lt;/where&gt;
    &lt;/select&gt;
&lt;/mapper&gt;</code></pre> 
<p><img alt="" height="570" src="https://images2.imgbox.com/08/1d/yNqYhtcX_o.png" width="941"></p> 
<h3 id="%E4%B8%89%E3%80%81trim%E6%A0%87%E7%AD%BE">三、trim标签</h3> 
<pre><code class="language-java">@Mapper
public interface CarMapper {
    /**
     * 使用trim标签
     * @param brand
     * @param guidePrice
     * @param carType
     * @return
     */
    List&lt;Car&gt; selectByMultiConditionWithTrim(@Param("brand") String brand,
                                             @Param("guidePrice") Double guidePrice,
                                             @Param("carType") String carType);
}</code></pre> 
<pre><code class="language-XML">&lt;mapper namespace="com.chf.mapper.CarMapper"&gt;
    &lt;!--
        prefix：加前缀
        suffix：加后缀
        prefixOverrides：删除前缀
        suffixOverrides：删除后缀

        以下表示在trim标签所有内容的前面添加where，后缀的and或者or去掉
    --&gt;
    &lt;select id="selectByMultiConditionWithTrim" resultType="Car"&gt;
        select
            id,car_num,brand,guide_price,produce_time,car_type
        from
            t_car
        &lt;trim prefix="where" suffixOverrides="and|or"&gt;
            &lt;if test="brand != null and brand != ''"&gt;
                brand like "%"#{brand}"%" and
            &lt;/if&gt;
            &lt;if test="guidePrice != null and guidePrice != ''"&gt;
                guide_price &gt;= #{guidePrice} and
            &lt;/if&gt;
            &lt;if test="carType != null and carType != ''"&gt;
                car_type like "%"#{carType}"%"
            &lt;/if&gt;
        &lt;/trim&gt;
    &lt;/select&gt;
&lt;/mapper&gt;</code></pre> 
<p><img alt="" height="561" src="https://images2.imgbox.com/d8/db/ee6XNF0l_o.png" width="1008"></p> 
<h3 id="%E5%9B%9B%E3%80%81set%E6%A0%87%E7%AD%BE">四、set标签</h3> 
<p>主要使用在update语句当中，用于生成set关键字，同时去掉最后多余的","</p> 
<p>比如我们只更新提交的不为空的字段，如果提交的数据是空或者"",那么这个字段我们将不更新。</p> 
<pre><code class="language-java">@Mapper
public interface CarMapper {
    /**
     * 使用set标签进行更新
     * @param car
     * @return
     */
    int updateBySet(Car car);
}</code></pre> 
<pre><code class="language-XML">&lt;mapper namespace="com.chf.mapper.CarMapper"&gt;
    &lt;update id="updateBySet"&gt;
        update
            t_car
        &lt;set&gt;
            &lt;if test="carNum != null and carNum != ''"&gt;car_num = #{carNum},&lt;/if&gt;
            &lt;if test="brand != null and brand != ''"&gt;brand = #{brand},&lt;/if&gt;
            &lt;if test="guidePrice != null and guidePrice != ''"&gt;guide_price = #{guidePrice},&lt;/if&gt;
            &lt;if test="produceTime != null and produceTime != ''"&gt;produce_time = #{produceTime},&lt;/if&gt;
            &lt;if test="carType != null and carType != ''"&gt;car_type = #{carType}&lt;/if&gt;
        &lt;/set&gt;
        where
            id = #{id}
    &lt;/update&gt;
&lt;/mapper&gt;</code></pre> 
<p><img alt="" height="469" src="https://images2.imgbox.com/63/a8/ZTcpZjpU_o.png" width="1016"></p> 
<h3 id="%E4%BA%94%E3%80%81choose%20where%20otherwise">五、choose where otherwise</h3> 
<p>这三个标签是在一起使用的</p> 
<p>Mapper映射语法格式：</p> 
<pre><code class="language-XML">&lt;choose&gt;
	&lt;when&gt;&lt;/when&gt;
	&lt;when&gt;&lt;/when&gt;
	&lt;otherwise&gt;&lt;/otherwise&gt;
&lt;/choose&gt;</code></pre> 
<p>等同于Code语法格式：</p> 
<pre><code class="language-java">if(){

}else if(){

}else if(){

}else{

}</code></pre> 
<pre><code class="language-java">@Mapper
public interface CarMapper {
    /**
     * 使用choose when otherwise标签
     * @param brand
     * @param guidePrice
     * @param carType
     * @return
     */
    List&lt;Car&gt; selectByChoose(@Param("brand") String brand,
                             @Param("guidePrice") Double guidePrice,
                             @Param("carType") String carType);
}</code></pre> 
<pre><code class="language-XML">&lt;mapper namespace="com.chf.mapper.CarMapper"&gt;
    &lt;select id="selectByChoose" resultType="Car"&gt;
        select
            id,car_num,brand,guide_price,produce_time,car_type
        from
            t_car
        &lt;where&gt;
            &lt;choose&gt;
                &lt;when test="brand != null and brand != ''"&gt;
                    brand like "%"#{brand}"%"
                &lt;/when&gt;
                &lt;when test="guidePrice != null and guidePrice != ''"&gt;
                    guide_price &gt;= #{guidePrice}
                &lt;/when&gt;
                &lt;otherwise&gt;
                    car_type like "%"#{carType}"%"
                &lt;/otherwise&gt;
            &lt;/choose&gt;
        &lt;/where&gt;
    &lt;/select&gt;
&lt;/mapper&gt;</code></pre> 
<p><img alt="" height="537" src="https://images2.imgbox.com/f6/09/T5eljfet_o.png" width="995"></p> 
<p> <img alt="" height="523" src="https://images2.imgbox.com/7f/92/zF35Zs1Q_o.png" width="1012"></p> 
<h3 id="%E5%85%AD%E3%80%81foreach%E6%A0%87%E7%AD%BE">六、foreach标签</h3> 
<h4 id="%E2%91%A0%E6%89%B9%E9%87%8F%E5%88%A0%E9%99%A4">①批量删除</h4> 
<pre><code class="language-java">@Mapper
public interface CarMapper {
    /**
     * 根据id批量删除 foreach
     * @param ids
     * @return
     */
    int deleteByIds(@Param("ids") Long[] ids);
}</code></pre> 
<pre><code class="language-XML">&lt;mapper namespace="com.chf.mapper.CarMapper"&gt;
    &lt;!--
        foreach标签的属性：
            collection：指定数组或者集合
            item：代表数组或集合中的元素
            separator：循环之间的分隔符
            open：在标签先添加的符号
            close：在标签后添加的符号
    --&gt;
    &lt;update id="deleteByIds"&gt;
        delete from
            t_car
        where
            id in
            &lt;foreach collection="ids" item="aaa" separator="," open="(" close=")"&gt;
                #{aaa}
            &lt;/foreach&gt;
    &lt;/update&gt;
&lt;/mapper&gt;</code></pre> 
<p><img alt="" height="485" src="https://images2.imgbox.com/b7/45/y07QPCe7_o.png" width="971"></p> 
<h4 id="%E2%91%A1%E6%89%B9%E9%87%8F%E6%B7%BB%E5%8A%A0">②批量添加</h4> 
<pre><code class="language-java">@Mapper
public interface CarMapper {
    /**
     * 批量插入，一次插入多条Car信息
     * @param cars
     * @return
     */
    int insertBatch(@Param("cars") List&lt;Car&gt; cars);
}</code></pre> 
<pre><code class="language-XML">&lt;mapper namespace="com.chf.mapper.CarMapper"&gt;
    &lt;insert id="insertBatch"&gt;
        insert into
            t_car
        values
            &lt;foreach collection="cars" item="car" separator=","&gt;
                (null,#{car.carNum},#{car.brand},#{car.guidePrice},#{car.produceTime},#{car.carType})
            &lt;/foreach&gt;
    &lt;/insert&gt;
&lt;/mapper&gt;</code></pre> 
<p><img alt="" height="495" src="https://images2.imgbox.com/39/f9/b1a2zcn0_o.png" width="1009"></p> 
<h3 id="%E4%B8%83%E3%80%81sql%E3%80%81include%E6%A0%87%E7%AD%BE">七、sql、include标签</h3> 
<p>sql标签用来声明sql片段</p> 
<p>include标签用来将声明的sql片段包含到某个sql语句当中</p> 
<p>作用：代码复用、易维护</p> 
<p>在我跟着老杜学的MyBatis中。他提过一句查询语句最好不要使用星号，因为这会使MySQL索引失效从而导致查询性能下降。所以我上面的笔记没有使用到星号,都是用具体字段进行查询。</p> 
<pre><code class="language-XML">&lt;mapper namespace="com.chf.mapper.CarMapper"&gt;
    &lt;!--声明一个SQL片段--&gt;
    &lt;sql id="carColumnNameSql"&gt;
        id,
        car_num,
        brand,
        guide_price,
        produce_time,
        car_type
    &lt;/sql&gt;
    &lt;!--将声明的SQL片段包含进来--&gt;
    &lt;select id="selectAll" resultType="Car"&gt;
        select
            &lt;include refid="carColumnNameSql" /&gt;
        from
            t_car
    &lt;/select&gt;
&lt;/mapper&gt;</code></pre> 
<h2 id="5%E3%80%81%E9%AB%98%E7%BA%A7%E6%98%A0%E5%B0%84%E5%8F%8A%E5%BB%B6%E8%BF%9F%E5%8A%A0%E8%BD%BD">5、高级映射及延迟加载</h2> 
<h3 id="%E4%B8%80%E3%80%81%E5%A4%9A%E5%AF%B9%E4%B8%80">一、多对一</h3> 
<p><img alt="" height="484" src="https://images2.imgbox.com/e4/2a/pScmk5XP_o.png" width="1100"></p> 
<p></p> 
<p>多种方式，常见的包括三种：</p> 
<ul><li> <p>第一种方式：一条SQL语句，级联属性映射</p> </li><li> <p>第二种方式：一条SQL语句，association</p> </li><li> <p>第三种方式（常用）：两条SQL语句，分步查询。 优点：可复用、支持懒加载</p> </li></ul> 
<p>表的结构如下：</p> 
<p><img alt="" height="216" src="https://images2.imgbox.com/f3/85/qhpawEBN_o.png" width="563"></p> 
<p> 两个实体类如下：</p> 
<pre><code class="language-java">@Data
@AllArgsConstructor
@NoArgsConstructor
@ToString
public class Student {  //Student是多的一方
    private Integer sid;
    private String sname;
    private Class clazz;  //clazz是一的一方
}
@Data
@AllArgsConstructor
@NoArgsConstructor
@ToString
public class Class { //教室类
    private Integer cid;
    private String cname;
}</code></pre> 
<p><strong>第一种方式：级联属性映射</strong></p> 
<pre><code class="language-java">@Mapper
public interface StudentMapper {
    /**
     * 根据id获取学生信息，同时获取学生关联的班级信息
     * @param id 学生的id
     * @return 学生对象，但是学生对象当中含有班级对象
     */
    Student selectById(Integer id);
}</code></pre> 
<pre><code class="language-XML">&lt;mapper namespace="com.chf.mapper.StudentMapper"&gt;
    &lt;!--记住：前者是属性名，后者是字段名 前面了解过 这里再复习一下--&gt;
    &lt;!--多对一映射的第一种方式：一条SQL语句，级联属性映射--&gt;
    &lt;resultMap id="studentResultMap" type="Student"&gt;
        &lt;id property="sid" column="sid" /&gt;
        &lt;result property="sname" column="sname" /&gt;
        &lt;result property="clazz.cid" column="cid" /&gt;
        &lt;result property="clazz.cname" column="cname" /&gt;
    &lt;/resultMap&gt;
    &lt;select id="selectById" resultMap="studentResultMap"&gt;
        select
            s.sid,s.sname,c.cid,c.cname
        from
            t_stu s
        left join
            t_class c
        on
            s.cid = c.cid
        where
            s.sid = #{sid}
    &lt;/select&gt;
&lt;/mapper&gt;</code></pre> 
<p><img alt="" height="563" src="https://images2.imgbox.com/5f/24/DeVosdUR_o.png" width="987"></p> 
<p><strong>第二种方式：association</strong></p> 
<pre><code class="language-java">@Mapper
public interface StudentMapper {
    /**
     * 一条SQL语句，association
     * @param id
     * @return
     */
    Student selectByIdAssociation(Integer id);
}</code></pre> 
<pre><code class="language-XML">&lt;mapper namespace="com.chf.mapper.StudentMapper"&gt;
    &lt;!--
        association翻译为关联，一个Student对象关联一个Class对象
            property：提供要映射的POJO的参数名
            javaType：用来指定要映射的java类型
    --&gt;
    &lt;resultMap id="studentResultMapAssociation" type="Student"&gt;
        &lt;id property="sid" column="sid" /&gt;
        &lt;result property="sname" column="sname" /&gt;
        &lt;association property="clazz" javaType="Class"&gt;
            &lt;id property="cid" column="cid" /&gt;
            &lt;result property="cname" column="cname" /&gt;
        &lt;/association&gt;
    &lt;/resultMap&gt;
    &lt;select id="selectByIdAssociation" resultMap="studentResultMapAssociation"&gt;
        select
            s.sid,s.sname,c.cid,c.cname
        from
            t_stu s
        left join
            t_class c
        on
            s.cid = c.cid
        where
            s.sid = #{sid}
    &lt;/select&gt;
&lt;/mapper&gt;</code></pre> 
<p><img alt="" height="513" src="https://images2.imgbox.com/e2/7c/FYSnVE61_o.png" width="1000"></p> 
<p> <strong>第三种方式：分步查询</strong></p> 
<pre><code class="language-java">@Mapper
public interface StudentMapper {
    /**
     * 分步查询第一步：先根据学生的sid查询学生的信息
     * @param id
     * @return
     */
    Student selectByIdStep1(Integer id);
}
@Mapper
public interface ClassMapper {
    /**
     * 分步查询第二步：根据cid获取班级信息
     * @param id
     * @return
     */
    Class selectByIdStep2(Integer id);
}</code></pre> 
<pre><code class="language-XML">&lt;mapper namespace="com.chf.mapper.StudentMapper"&gt;
    &lt;!--
		分步查询的有点：
			第一：复用性增强。可以重复利用（大步分成小步，每一小步更加可以重新利用）
			第二：可以充分利用他们的延迟加载/懒加载机制
	--&gt;
    &lt;!--两条SQL语句，完成多对一的多步查询--&gt;
    &lt;!--这里是第一步：根据学生的id查询学生的所有信息，这些信息当中含有班级id(cid)--&gt;
    &lt;resultMap id="studentResultMapByStep" type="Student"&gt;
        &lt;id property="sid" column="sid" /&gt;
        &lt;result property="sname" column="sname" /&gt;
        &lt;association property="clazz"
                     select="com.chf.mapper.ClassMapper.selectByIdStep2"
                     column="cid"
        /&gt;
    &lt;/resultMap&gt;
    &lt;select id="selectByIdStep1" resultMap="studentResultMapByStep"&gt;
        select
            sid,sname,cid
        from
            t_stu
        where
            sid = #{sid}
    &lt;/select&gt;
&lt;/mapper&gt;</code></pre> 
<pre><code class="language-XML">&lt;mapper namespace="com.chf.mapper.ClassMapper"&gt;
    &lt;!--分步查询第二步：根据cid获取班级信息--&gt;
    &lt;select id="selectByIdStep2" resultType="Class"&gt;
        select
            cid,cname
        from
            t_class
        where
            cid = #{cid}
    &lt;/select&gt;
&lt;/mapper&gt;</code></pre> 
<p><img alt="" height="560" src="https://images2.imgbox.com/dc/38/GspJMVVA_o.png" width="988"></p> 
<h3 id="%E4%BA%8C%E3%80%81%E5%A4%9A%E5%AF%B9%E4%B8%80%E5%BB%B6%E8%BF%9F%E5%8A%A0%E8%BD%BD">二、多对一延迟加载</h3> 
<p>实际开发中的模式：</p> 
<p>        把全局的延迟加载打开，如果某个映射文件不需要那么就在association标签里使用fetchType="eager"关闭</p> 
<pre><code class="language-XML">&lt;mapper namespace="com.chf.mapper.StudentMapper"&gt;
    &lt;!--
		延迟加载的核心机制：用的时候再执行查询语句，不用的时候不查询，可以提高性能。
		默认情况下是没有开启延迟加载的，需要手动设置开启。
		开启延迟加载的方法：association标签中添加fetchType="lazy"
		但是这里只是开启默认的延迟加载，仅局限于此Mapper映射文件，需要在核心配置文件里设置
		
		如果开启了全局延迟加载，但又不想在某个映射文件中开启，那么就需要在association标签设置
					fetchType="eager"
	--&gt;
    &lt;resultMap id="studentResultMapByStep" type="Student"&gt;
        &lt;id property="sid" column="sid" /&gt;
        &lt;result property="sname" column="sname" /&gt;
        &lt;association property="clazz"
                     select="com.chf.mapper.ClassMapper.selectByIdStep2"
                     column="cid"
                     fetchType="lazy"
        /&gt;
    &lt;/resultMap&gt;
    &lt;select id="selectByIdStep1" resultMap="studentResultMapByStep"&gt;
        select
            sid,sname,cid
        from
            t_stu
        where
            sid = #{sid}
    &lt;/select&gt;
&lt;/mapper&gt;</code></pre> 
<pre><code class="language-XML">mybatis:
  mapper-locations: classpath:mapper/*.xml
  type-aliases-package: com.chf.pojo
  configuration:
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl
    #实际开发中，大部分都是需要使用延迟加载的
    #延迟加载的全局开关，默认值false为不开启
    lazy-loading-enabled: true</code></pre> 
<h3 id="%E4%B8%89%E3%80%81%E4%B8%80%E5%AF%B9%E5%A4%9A">三、一对多</h3> 
<p><img alt="" height="408" src="https://images2.imgbox.com/61/47/LTp9cdcW_o.png" width="787"></p> 
<p> 一对多的实现，通常是在一的一方中有List集合属性。</p> 
<p>在Class(教室)类中添加List&lt;Student&gt; studentList属性。</p> 
<p>一对多的实现通常包括两种实现方式：</p> 
<ul><li> <p>第一种方式：collection</p> </li><li> <p>第二种方式：分步查询</p> </li></ul> 
<p>两个实体类如下：</p> 
<pre><code class="language-java">@Data
@AllArgsConstructor
@NoArgsConstructor
@ToString
public class Student {  
    private Integer sid;
    private String sname;
    private Class clazz; 
}
@Data
@AllArgsConstructor
@NoArgsConstructor
@ToString
public class Class { //教室类
    private Integer cid;
    private String cname;
    private List&lt;Student&gt; studentList;
}</code></pre> 
<p><strong>第一种方式：collection</strong></p> 
<pre><code class="language-XML">&lt;mapper namespace="com.chf.mapper.ClassMapper"&gt;
    &lt;resultMap id="classResultMap" type="Class"&gt;
        &lt;id property="cid" column="cid" /&gt;
        &lt;result property="cname" column="cname" /&gt;
        &lt;!--一对多，这里是collection，collection是集合的意思--&gt;
        &lt;!--ofType属性用来指定结合当中的元素类型即集合中的泛型--&gt;
        &lt;collection property="studentList" ofType="Student"&gt;
            &lt;id property="sid" column="sid" /&gt;
            &lt;result property="sname" column="sname" /&gt;
        &lt;/collection&gt;
    &lt;/resultMap&gt;
    &lt;select id="selectByCollection" resultMap="classResultMap"&gt;
        select
            c.cid,c.cname,s.sid,s.sname
        from
            t_class c
        left join
            t_stu s
        on
            c.cid = s.cid
        where
            c.cid = #{cid}
    &lt;/select&gt;
&lt;/mapper&gt;</code></pre> 
<p><img alt="" height="557" src="https://images2.imgbox.com/e6/d6/PcvQc5zZ_o.png" width="994"></p> 
<p> 注意：控制台输出的clazz=null是没有问题的</p> 
<p><strong>第二种方式：分步查询</strong></p> 
<pre><code class="language-java">@Mapper
public interface ClassMapper {
    /**
     * 分步查询第一步：根据班级编号获取班级信息
     * @param cid
     * @return
     */
    Class selectByStep1(Integer cid);
}
@Mapper
public interface StudentMapper {
    /**
     * 根据班级编号查询学生信息
     * @param cid
     * @return
     */
    List&lt;Student&gt; selectByStep2(Integer cid);
}</code></pre> 
<pre><code class="language-XML">&lt;mapper namespace="com.chf.mapper.ClassMapper"&gt;
    &lt;!--分步查询第一句：根据班级的cid查询班级信息--&gt;
    &lt;resultMap id="classResultMapStep" type="Class"&gt;
        &lt;id property="cid" column="cid" /&gt;
        &lt;result property="cname" column="cname" /&gt;
        &lt;association property="studentList" column="cid"
                     select="com.chf.mapper.StudentMapper.selectByStep2"
        /&gt;
    &lt;/resultMap&gt;
    &lt;select id="selectByStep1" resultMap="classResultMapStep"&gt;
        select
            cid,cname
        from
            t_class
        where
            cid = #{cid}
    &lt;/select&gt;
&lt;/mapper&gt;</code></pre> 
<pre><code class="language-XML">&lt;mapper namespace="com.chf.mapper.StudentMapper"&gt;
	&lt;!--分步查询第二步：根据传过来的班级编号查询学生信息--&gt;
    &lt;select id="selectByStep2" resultType="Student"&gt;
        select
            sid,sname
        from
            t_stu
        where
            cid = #{cid}
    &lt;/select&gt;
&lt;/mapper&gt;</code></pre> 
<p><img alt="" height="565" src="https://images2.imgbox.com/70/fb/Ao8eMqbA_o.png" width="1008"></p> 
<h3 id="%E5%9B%9B%E3%80%81%E4%B8%80%E5%AF%B9%E5%A4%9A%E5%BB%B6%E8%BF%9F%E5%8A%A0%E8%BD%BD">四、一对多延迟加载</h3> 
<p>与上面的多对一延迟加载相同，可以回去重新看一下。</p> 
<h2 id="6%E3%80%81MyBatis%E7%BC%93%E5%AD%98%E6%9C%BA%E5%88%B6">6、MyBatis缓存机制</h2> 
<p><img alt="" height="505" src="https://images2.imgbox.com/c2/bd/Q2gzIP9p_o.png" width="1200"></p> 
<p>缓存：cache</p> 
<p>缓存的作用：通过减少IO的方式来提高程序的执行效率。</p> 
<p>MyBatis的缓存：将select语句的查询结果放到缓存(内存)当中，下一次还是这条select语句的话，直接从缓存中取，不需要查询数据库。一方面是减少了IO，另一方面不再执行繁琐的查找算法，效率大大提升。</p> 
<p>MyBatis缓存包括：</p> 
<ul><li> <p>一级缓存：将查询到的数据存储到SqlSession中。</p> </li><li> <p>二级缓存：将查询到的数据存储到SqlSessionFactory中。</p> </li><li> <p>其他集成第三方的缓存：比如EhCache【Java语言开发的】、Memcache【c语言开发的】等。</p> </li></ul> 
<p><strong>缓存只针对于DQL语句，也就是说缓存机制只对应select语句</strong></p> 
<h3 id="%E4%B8%80%E3%80%81%E4%B8%80%E7%BA%A7%E7%BC%93%E5%AD%98">一、一级缓存</h3> 
<p>一级缓存是默认开启的，不需要做任何配置（后半句指在纯MyBatis框架中）。</p> 
<p>它的作用范围是在同一个SqlSession中，即在同一个SqlSession中共享。</p> 
<p>原理：只要使用同一个SqlSession对象执行同一条SQL语句就会走缓存</p> 
<pre><code class="language-java">@Data
@AllArgsConstructor
@NoArgsConstructor
@ToString
public class Car {
    private Long id;
    private String carNum;
    private String brand;
    private Double guidePrice;
    private String produceTime;
    private String carType;
}</code></pre> 
<pre><code class="language-java">@Mapper
public interface CarMapper {
    /**
     * 根据id获取Car信息
     * @param id
     * @return
     */
    Car selectById(Long id);
}</code></pre> 
<pre><code class="language-XML">&lt;mapper namespace="com.chf.mapper.CarMapper"&gt;
    &lt;sql id="selectAll"&gt;
        id,car_num,brand,guide_price,produce_time,car_type
    &lt;/sql&gt;
    &lt;select id="selectById" resultType="Car"&gt;
        select
            &lt;include refid="selectAll" /&gt;
        from
            t_car
        where id = #{id}
    &lt;/select&gt;
&lt;/mapper&gt;</code></pre> 
<p><img alt="" height="582" src="https://images2.imgbox.com/19/2c/NuLUHKTD_o.png" width="1010"></p> 
<p>        我们会发现在SpringBoot结合MyBatis中没有自动开启一级缓存机制，查询相同的id使用了两次查询。但是我们在方法名上添加@Transactional注解就会发现控制台发生了变化：只执行了一次查询语句。也就是说添加了@Transactional注解就能够使用一级缓存，换言之就是同一个SqlSession。</p> 
<p><img alt="" height="584" src="https://images2.imgbox.com/f6/34/lCQa2rXf_o.png" width="989"></p> 
<p>简单回顾一下在纯MyBatis框架中如何使一级缓存失效：</p> 
<p>只要在第一次DQL和第二次DQL之间做了两件事中的任意一件就会使一级缓存清空。</p> 
<ul><li> <p>1、执行了SqlSession的clearCache()方法，这是手动清空缓存</p> </li><li> <p>2、执行了INSERT或DELETE或UPDATE语句，不管是操作哪张表都会清空缓存</p> </li></ul> 
<h3 id="%E4%BA%8C%E3%80%81%E4%BA%8C%E7%BA%A7%E7%BC%93%E5%AD%98">二、二级缓存</h3> 
<p>二级缓存的范围是SqlSessionFactory</p> 
<p>使用二级缓存需要具备以下几个条件：</p> 
<ul><li> <p>1、在核心配置文件添加cache-enabled: true（全局性地开启或关闭所以映射器配置文件已配置的任何缓存）</p> </li></ul> 
<p>但这是默认开启的，所以可以不用添加</p> 
<ul><li> <p>2、在需要的mapper映射文件中的&lt;mapper&gt;&lt;/mapper&gt;里添加&lt;cache /&gt;</p> </li><li> <p>3、使用二级缓存的实体类对象必须是可序化的，也就是必须实现java.io.Serializable接口</p> </li><li> <p>4、纯MyBatis中需要将SqlSession对象关闭或提交之后，一级缓存才会被写入二级缓存中，此时二级缓存才可用</p> </li></ul> 
<pre><code class="language-XML">&lt;mapper namespace="com.chf.mapper.CarMapper"&gt;
    &lt;cache /&gt;
    &lt;sql id="selectAll"&gt;
        id,car_num,brand,guide_price,produce_time,car_type
    &lt;/sql&gt;
    &lt;select id="selectById2" resultType="Car"&gt;
        select
            &lt;include refid="selectAll" /&gt;
        from
            t_car
        where
            id = #{id}
    &lt;/select&gt;
&lt;/mapper&gt;</code></pre> 
<pre><code class="language-java">@Data
@AllArgsConstructor
@NoArgsConstructor
@ToString
public class Car implements Serializable {
    private Long id;
    private String carNum;
    private String brand;
    private Double guidePrice;
    private String produceTime;
    private String carType;
}</code></pre> 
<p><img alt="" height="546" src="https://images2.imgbox.com/12/af/xompZ8A2_o.png" width="1005"></p> 
<p> <strong>二级缓存的失效：只要两次查询之间出现了增删改操作，当然这样同样使一级缓存失效</strong></p> 
<h2 id="7%E3%80%81MyBatis%E4%BD%BF%E7%94%A8PageHelper">7、MyBatis使用PageHelper</h2> 
<p>这是我在之前学习MyBatis中没有学习到的东西，由于学MyBatisPlus的时候接触到感觉陌生所以这里就重新学了。</p> 
<p><img alt="" height="522" src="https://images2.imgbox.com/7d/23/nuwdF1E4_o.png" width="1200"></p> 
<h3 id="%E4%B8%80%E3%80%81limit%E5%88%86%E9%A1%B5">一、limit分页</h3> 
<p>回顾MySQL的limit后面两个数字：</p> 
<ul><li> <p>第一个数字：startIndex(起始下标，下标从0开始)</p> </li><li> <p>第二个数字：pageSize(每页显示的记录条数)</p> </li></ul> 
<p>假设已知页码pageNum，还有每页显示的记录条数pageSize，第一个数字如何动态获取？</p> 
<ul><li> <p>startIndex = (pageNum - 1) * pageSize</p> </li></ul> 
<pre><code class="language-java">@Mapper
public interface CarMapper {
    /**
     * 分页查询
     * @param startIndex 起始下标
     * @param pageSize 每页显示的记录条数
     * @return
     */
    List&lt;Car&gt; selectByPage(@Param("startIndex") int startIndex,
                           @Param("pageSize") int pageSize);
}</code></pre> 
<pre><code class="language-XML">&lt;mapper namespace="com.chf.mapper.CarMapper"&gt;
    &lt;sql id="selectAllColumn"&gt;
        id,car_num,brand,guide_price,produce_time,car_type
    &lt;/sql&gt;
    &lt;select id="selectByPage" resultType="Car"&gt;
        select
            &lt;include refid="selectAllColumn" /&gt;
        from
            t_car
        limit
            #{startIndex},#{pageSize}
    &lt;/select&gt;
&lt;/mapper&gt;</code></pre> 
<p><img alt="" height="521" src="https://images2.imgbox.com/4d/50/Mc8PGXm8_o.png" width="985"></p> 
<h3 id="%E4%BA%8C%E3%80%81PageHelper%E6%8F%92%E4%BB%B6">二、PageHelper插件</h3> 
<p>使用PageHelper插件进行分页更加的快捷。</p> 
<p>直接引入依赖即可，不需要配置核心配置文件</p> 
<pre><code class="language-XML">&lt;dependency&gt;
    &lt;groupId&gt;com.github.pagehelper&lt;/groupId&gt;
    &lt;artifactId&gt;pagehelper-spring-boot-starter&lt;/artifactId&gt;
    &lt;version&gt;1.2.12&lt;/version&gt;
&lt;/dependency&gt;</code></pre> 
<p>这个极其重要，需要在核心启动类Application中的@SpringBootApplication注解后面添加</p> 
<pre><code class="language-java">@SpringBootApplication(exclude = PageHelperAutoConfiguration.class)</code></pre> 
<p>接下来就可以进行我们的测试了。</p> 
<p><img alt="" height="563" src="https://images2.imgbox.com/1a/1f/XeIq0gNv_o.png" width="986"></p> 
<p> PageInfo</p> 
<p>{<!-- --></p> 
<p>pageNum=1, pageSize=3, size=3, startRow=0, endRow=2, total=3, pages=1,</p> 
<p>list=[Car(id=1, carNum=1001, brand=宝马520Li, guidePrice=10.0, produceTime=2022-10-1, carType=燃油车), Car(id=2, carNum=1002, brand=奔驰E300L, guidePrice=55.0, produceTime=2022-10-2, carType=新能源), Car(id=6, carNum=1111, brand=奔驰, guidePrice=30.0, produceTime=2022-10-3, carType=燃油车)], prePage=0, nextPage=0, isFirstPage=true, isLastPage=true, hasPreviousPage=false, hasNextPage=false, navigatePages=3, navigateFirstPage=1, navigateLastPage=1, navigatepageNums=[1]</p> 
<p>}</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/de29c390f255b6fda51554b8b599a35e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Mysql添加、删除、主键（外键）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/619a158a271cf58374886e53e3280791/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Mac Pro在重装系统时提示“未能与恢复服务器取得联系”</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>