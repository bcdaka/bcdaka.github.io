<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>关于使用Java语言编写打地鼠游戏 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/25669ff6cbe55096ce0180164410f57f/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="关于使用Java语言编写打地鼠游戏">
  <meta property="og:description" content="用Java语言书写打地鼠游戏 关于游戏的介绍《打地鼠游戏》Java代码的实现PlayMouse.javaStartGame.javaMusicPlay.javaMusicPlayTest.java 游戏所需图片运行效果结言 关于游戏的介绍 打地鼠游戏是一款非常受欢迎的敏捷类游戏，它的基本规则简单易懂，同时又充满了挑战性和趣味性。
在游戏中，玩家通常需要在一个方形区域内，面对多个地洞，这些地洞中会不定时地冒出地鼠。玩家的主要任务就是在地鼠冒出头来的短时间内，用工具（如锤子）迅速而准确地击打它们。成功打中地鼠，玩家就能获得相应的分数。
玩者可以自己设置游戏的难度，地鼠的出现频率和速度都会加快，这就要求玩家不仅要有快速的反应能力，还需要有良好的手眼协调能力和预判能力。
打地鼠游戏不仅锻炼了玩家的反应速度和手眼协调能力，同时也考验了他们的注意力和耐心。因此，无论是孩子还是成年人，都能在这款游戏中找到属于自己的乐趣和挑战。
《打地鼠游戏》Java代码的实现 PlayMouse.java package com.briup.game; import java.awt.BorderLayout; import java.awt.Cursor; import java.awt.GridLayout; import java.awt.Image; import java.awt.Point; import java.awt.Toolkit; import java.awt.event.ActionEvent; import java.awt.event.ActionListener; import java.awt.event.MouseAdapter; import java.awt.event.MouseEvent; import java.io.File; import java.net.MalformedURLException; import java.util.Random; import javax.swing.ImageIcon; import javax.swing.JButton; import javax.swing.JComboBox; import javax.swing.JFrame; import javax.swing.JLabel; import javax.swing.JPanel; import javax.swing.Timer; /** * 打地鼠 1.布局 2.功能 * */ public class PlayMouse implements ActionListener { // 构建容器 private JFrame jFrame; // 构建面板northJpanel centerJpanel private JPanel northJPanel, centerJPanel; // 构建六个标签，分别用来显示等级，分数，时间，音效 private JLabel leveLabel, timeLabel, timeVaLabel, centerJLabel, cenVaLabel, musicLabel; // 构建下拉框，分别用来显示等级、音效 private JComboBox&lt;String&gt; jComboBox, musicBox; // 构建开始按钮 private JButton jButton; // 构建按钮组，保存十六个按钮 private JButton[] btsButtons; // 构建时间定时器、老鼠定时器 private Timer timer, mouseTimer; // 构建老鼠、老鼠洞图片 private ImageIcon holeiImage, mouseImgIcon; // 记录上一次老鼠出现的位置 private int last; // 设置游戏等级 初级：900毫秒 中级：600毫秒 高级：100毫秒 private int level; // 记录老鼠是否加过分 flase:新老鼠 ，没加过分 true：旧老鼠 private boolean flag; 鼠标的形状 private Cursor cursor, cursor2; // 文件对象 private File file; // 背景音乐对象 private MusicPlay play; // 游戏暂停按钮 private JButton pauseButton; private boolean isPaused; // 构建游戏继续按钮 private JButton resumeButton; // 初始化JFrame public PlayMouse() { // 1.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-04-26T16:54:18+08:00">
    <meta property="article:modified_time" content="2024-04-26T16:54:18+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">关于使用Java语言编写打地鼠游戏</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>用Java语言书写打地鼠游戏</h4> 
 <ul><li><a href="#_1" rel="nofollow">关于游戏的介绍</a></li><li><a href="#Java_9" rel="nofollow">《打地鼠游戏》Java代码的实现</a></li><li><ul><li><ul><li><a href="#PlayMousejava_10" rel="nofollow">PlayMouse.java</a></li><li><a href="#StartGamejava_356" rel="nofollow">StartGame.java</a></li><li><a href="#MusicPlayjava_451" rel="nofollow">MusicPlay.java</a></li><li><a href="#MusicPlayTestjava_536" rel="nofollow">MusicPlayTest.java</a></li></ul> 
  </li></ul> 
  </li><li><a href="#_567" rel="nofollow">游戏所需图片</a></li><li><a href="#_582" rel="nofollow">运行效果</a></li><li><a href="#_584" rel="nofollow">结言</a></li></ul> 
</div> 
<p></p> 
<h2><a id="_1"></a>关于游戏的介绍</h2> 
<p>打地鼠游戏是一款非常受欢迎的敏捷类游戏，它的基本规则简单易懂，同时又充满了挑战性和趣味性。</p> 
<p>在游戏中，玩家通常需要在一个方形区域内，面对多个地洞，这些地洞中会不定时地冒出地鼠。玩家的主要任务就是在地鼠冒出头来的短时间内，用工具（如锤子）迅速而准确地击打它们。成功打中地鼠，玩家就能获得相应的分数。</p> 
<p>玩者可以自己设置游戏的难度，地鼠的出现频率和速度都会加快，这就要求玩家不仅要有快速的反应能力，还需要有良好的手眼协调能力和预判能力。</p> 
<p>打地鼠游戏不仅锻炼了玩家的反应速度和手眼协调能力，同时也考验了他们的注意力和耐心。因此，无论是孩子还是成年人，都能在这款游戏中找到属于自己的乐趣和挑战。</p> 
<h2><a id="Java_9"></a>《打地鼠游戏》Java代码的实现</h2> 
<h4><a id="PlayMousejava_10"></a>PlayMouse.java</h4> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>briup<span class="token punctuation">.</span>game</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>awt<span class="token punctuation">.</span></span><span class="token class-name">BorderLayout</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>awt<span class="token punctuation">.</span></span><span class="token class-name">Cursor</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>awt<span class="token punctuation">.</span></span><span class="token class-name">GridLayout</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>awt<span class="token punctuation">.</span></span><span class="token class-name">Image</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>awt<span class="token punctuation">.</span></span><span class="token class-name">Point</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>awt<span class="token punctuation">.</span></span><span class="token class-name">Toolkit</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>awt<span class="token punctuation">.</span>event<span class="token punctuation">.</span></span><span class="token class-name">ActionEvent</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>awt<span class="token punctuation">.</span>event<span class="token punctuation">.</span></span><span class="token class-name">ActionListener</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>awt<span class="token punctuation">.</span>event<span class="token punctuation">.</span></span><span class="token class-name">MouseAdapter</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>awt<span class="token punctuation">.</span>event<span class="token punctuation">.</span></span><span class="token class-name">MouseEvent</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">File</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>net<span class="token punctuation">.</span></span><span class="token class-name">MalformedURLException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Random</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>swing<span class="token punctuation">.</span></span><span class="token class-name">ImageIcon</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>swing<span class="token punctuation">.</span></span><span class="token class-name">JButton</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>swing<span class="token punctuation">.</span></span><span class="token class-name">JComboBox</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>swing<span class="token punctuation">.</span></span><span class="token class-name">JFrame</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>swing<span class="token punctuation">.</span></span><span class="token class-name">JLabel</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>swing<span class="token punctuation">.</span></span><span class="token class-name">JPanel</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>swing<span class="token punctuation">.</span></span><span class="token class-name">Timer</span></span><span class="token punctuation">;</span>

<span class="token comment">/**
 * 打地鼠 1.布局 2.功能
 *
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PlayMouse</span> <span class="token keyword">implements</span> <span class="token class-name">ActionListener</span> <span class="token punctuation">{<!-- --></span>
	<span class="token comment">// 构建容器</span>
	<span class="token keyword">private</span> <span class="token class-name">JFrame</span> jFrame<span class="token punctuation">;</span>
	<span class="token comment">// 构建面板northJpanel centerJpanel</span>
	<span class="token keyword">private</span> <span class="token class-name">JPanel</span> northJPanel<span class="token punctuation">,</span> centerJPanel<span class="token punctuation">;</span>
	<span class="token comment">// 构建六个标签，分别用来显示等级，分数，时间，音效</span>
	<span class="token keyword">private</span> <span class="token class-name">JLabel</span> leveLabel<span class="token punctuation">,</span> timeLabel<span class="token punctuation">,</span> timeVaLabel<span class="token punctuation">,</span> centerJLabel<span class="token punctuation">,</span> cenVaLabel<span class="token punctuation">,</span> musicLabel<span class="token punctuation">;</span>
	<span class="token comment">// 构建下拉框，分别用来显示等级、音效</span>
	<span class="token keyword">private</span> <span class="token class-name">JComboBox</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> jComboBox<span class="token punctuation">,</span> musicBox<span class="token punctuation">;</span>
	<span class="token comment">// 构建开始按钮</span>
	<span class="token keyword">private</span> <span class="token class-name">JButton</span> jButton<span class="token punctuation">;</span>
	<span class="token comment">// 构建按钮组，保存十六个按钮</span>
	<span class="token keyword">private</span> <span class="token class-name">JButton</span><span class="token punctuation">[</span><span class="token punctuation">]</span> btsButtons<span class="token punctuation">;</span>
	<span class="token comment">// 构建时间定时器、老鼠定时器</span>
	<span class="token keyword">private</span> <span class="token class-name">Timer</span> timer<span class="token punctuation">,</span> mouseTimer<span class="token punctuation">;</span>
	<span class="token comment">// 构建老鼠、老鼠洞图片</span>
	<span class="token keyword">private</span> <span class="token class-name">ImageIcon</span> holeiImage<span class="token punctuation">,</span> mouseImgIcon<span class="token punctuation">;</span>
	<span class="token comment">// 记录上一次老鼠出现的位置</span>
	<span class="token keyword">private</span> <span class="token keyword">int</span> last<span class="token punctuation">;</span>
	<span class="token comment">// 设置游戏等级 初级：900毫秒 中级：600毫秒 高级：100毫秒</span>
	<span class="token keyword">private</span> <span class="token keyword">int</span> level<span class="token punctuation">;</span>
	<span class="token comment">// 记录老鼠是否加过分 flase:新老鼠 ，没加过分 true：旧老鼠</span>
	<span class="token keyword">private</span> <span class="token keyword">boolean</span> flag<span class="token punctuation">;</span>
	<span class="token comment"> 鼠标的形状</span>
	<span class="token keyword">private</span> <span class="token class-name">Cursor</span> cursor<span class="token punctuation">,</span> cursor2<span class="token punctuation">;</span>
	<span class="token comment">// 文件对象</span>
	<span class="token keyword">private</span> <span class="token class-name">File</span> file<span class="token punctuation">;</span>
	<span class="token comment">// 背景音乐对象</span>
	<span class="token keyword">private</span> <span class="token class-name">MusicPlay</span> play<span class="token punctuation">;</span>
	<span class="token comment">// 游戏暂停按钮</span>
	<span class="token keyword">private</span> <span class="token class-name">JButton</span> pauseButton<span class="token punctuation">;</span>
	<span class="token keyword">private</span> <span class="token keyword">boolean</span> isPaused<span class="token punctuation">;</span>
	<span class="token comment">// 构建游戏继续按钮</span>
	<span class="token keyword">private</span> <span class="token class-name">JButton</span> resumeButton<span class="token punctuation">;</span>

	<span class="token comment">// 初始化JFrame</span>
	<span class="token keyword">public</span> <span class="token class-name">PlayMouse</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token comment">// 1.创建容器</span>
		jFrame <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JFrame</span><span class="token punctuation">(</span><span class="token string">"打地鼠"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// 2.创建面板</span>
		northJPanel <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JPanel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		centerJPanel <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JPanel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// 3.设置布局管理器</span>
		<span class="token comment">// JFrame默认是边界管理器</span>
		<span class="token comment">// JPanel默认是流式布局管理器1</span>
		centerJPanel<span class="token punctuation">.</span><span class="token function">setLayout</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">GridLayout</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// 4.创建组件</span>
		leveLabel <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JLabel</span><span class="token punctuation">(</span><span class="token string">"等级"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		jComboBox <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JComboBox</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{<!-- --></span> <span class="token string">"初级"</span><span class="token punctuation">,</span> <span class="token string">"中级"</span><span class="token punctuation">,</span> <span class="token string">"高级"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// 等级选择框绑定点击事件</span>
		jComboBox<span class="token punctuation">.</span><span class="token function">addActionListener</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		timeLabel <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JLabel</span><span class="token punctuation">(</span><span class="token string">"time："</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		timeVaLabel <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JLabel</span><span class="token punctuation">(</span><span class="token string">"10"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		centerJLabel <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JLabel</span><span class="token punctuation">(</span><span class="token string">"cent:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		cenVaLabel <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JLabel</span><span class="token punctuation">(</span><span class="token string">"0"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		musicLabel <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JLabel</span><span class="token punctuation">(</span><span class="token string">"音效"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		musicBox <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JComboBox</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{<!-- --></span> <span class="token string">"开"</span><span class="token punctuation">,</span> <span class="token string">"关"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// 音效下拉框绑定点击事件</span>
		musicBox<span class="token punctuation">.</span><span class="token function">addActionListener</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		jButton <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JButton</span><span class="token punctuation">(</span><span class="token string">"开始游戏"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		pauseButton <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JButton</span><span class="token punctuation">(</span><span class="token string">"暂停游戏"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		pauseButton<span class="token punctuation">.</span><span class="token function">addActionListener</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		resumeButton <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JButton</span><span class="token punctuation">(</span><span class="token string">"继续游戏"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		resumeButton<span class="token punctuation">.</span><span class="token function">addActionListener</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		resumeButton<span class="token punctuation">.</span><span class="token function">setVisible</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		holeiImage <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ImageIcon</span><span class="token punctuation">(</span><span class="token string">"src/com/briup/game/hole.png"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		mouseImgIcon <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ImageIcon</span><span class="token punctuation">(</span><span class="token string">"src/com/briup/game/mouse.png"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		cursor <span class="token operator">=</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token string">"src/com/briup/game/hammer1.png"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		cursor2 <span class="token operator">=</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token string">"src/com/briup/game/hammer2.png"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// 点击开始按钮，游戏开始</span>
		jButton<span class="token punctuation">.</span><span class="token function">addActionListener</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		btsButtons <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JButton</span><span class="token punctuation">[</span><span class="token number">16</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> btsButtons<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			btsButtons<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JButton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token comment">// 禁用十六个按钮</span>
			btsButtons<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">setEnabled</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token comment">// 给十六个按钮绑定点击事件</span>
			btsButtons<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">addActionListener</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token comment">// 给按钮绑定鼠标按下或松开事件</span>
			btsButtons<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">addMouseListener</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MyMouse</span><span class="token punctuation">(</span>btsButtons<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token comment">// 添加到面板中</span>
			centerJPanel<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>btsButtons<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token comment">// 创建时间定时器</span>
		timer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Timer</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		level <span class="token operator">=</span> <span class="token number">1000</span><span class="token punctuation">;</span>
		<span class="token comment">// 创建时间定时器</span>
		mouseTimer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Timer</span><span class="token punctuation">(</span>level<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// 5.添加组件到面板</span>
		northJPanel<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>leveLabel<span class="token punctuation">)</span><span class="token punctuation">;</span>
		northJPanel<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>jComboBox<span class="token punctuation">)</span><span class="token punctuation">;</span>
		northJPanel<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>timeLabel<span class="token punctuation">)</span><span class="token punctuation">;</span>
		northJPanel<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>timeVaLabel<span class="token punctuation">)</span><span class="token punctuation">;</span>
		northJPanel<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>centerJLabel<span class="token punctuation">)</span><span class="token punctuation">;</span>
		northJPanel<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>cenVaLabel<span class="token punctuation">)</span><span class="token punctuation">;</span>
		northJPanel<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>musicLabel<span class="token punctuation">)</span><span class="token punctuation">;</span>
		northJPanel<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>musicBox<span class="token punctuation">)</span><span class="token punctuation">;</span>
		northJPanel<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>jButton<span class="token punctuation">)</span><span class="token punctuation">;</span>
		northJPanel<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>pauseButton<span class="token punctuation">)</span><span class="token punctuation">;</span>
		northJPanel<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>resumeButton<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// 6.添加面板到容器中</span>
		jFrame<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>northJPanel<span class="token punctuation">,</span> <span class="token class-name">BorderLayout</span><span class="token punctuation">.</span><span class="token constant">NORTH</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		jFrame<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>centerJPanel<span class="token punctuation">,</span> <span class="token class-name">BorderLayout</span><span class="token punctuation">.</span><span class="token constant">CENTER</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// 7.设置容器的宽高</span>
		jFrame<span class="token punctuation">.</span><span class="token function">setSize</span><span class="token punctuation">(</span><span class="token number">1100</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// 8.设置容器窗口可变</span>
		jFrame<span class="token punctuation">.</span><span class="token function">setResizable</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// 9.设置容器居中</span>
		jFrame<span class="token punctuation">.</span><span class="token function">setLocationRelativeTo</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// 11.设置容器可见性</span>
		jFrame<span class="token punctuation">.</span><span class="token function">setVisible</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// 10.设置容器关闭窗口</span>
		jFrame<span class="token punctuation">.</span><span class="token function">setDefaultCloseOperation</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// 12.设置缩放图片，图片大小适配按钮大小</span>
		mouseImgIcon<span class="token punctuation">.</span><span class="token function">setImage</span><span class="token punctuation">(</span>mouseImgIcon<span class="token punctuation">.</span><span class="token function">getImage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getScaledInstance</span><span class="token punctuation">(</span>btsButtons<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">getWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
				btsButtons<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">getHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">Image</span><span class="token punctuation">.</span><span class="token constant">SCALE_DEFAULT</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		holeiImage<span class="token punctuation">.</span><span class="token function">setImage</span><span class="token punctuation">(</span>holeiImage<span class="token punctuation">.</span><span class="token function">getImage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getScaledInstance</span><span class="token punctuation">(</span>btsButtons<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">getWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> btsButtons<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">getHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
				<span class="token class-name">Image</span><span class="token punctuation">.</span><span class="token constant">SCALE_DEFAULT</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> btsButtons<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			btsButtons<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">setIcon</span><span class="token punctuation">(</span>holeiImage<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
			<span class="token comment">// 13.开启背景音乐</span>
			<span class="token comment">// 创建文件对象</span>
			file <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">"src/com/briup/game/打地鼠背景音乐.wav"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token comment">// 创建背景音乐对象</span>
			play <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MusicPlay</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span><span class="token function">toURL</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token comment">// 开启背景音乐</span>
			play<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">MalformedURLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token comment">// TODO Auto-generated catch block</span>
			e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token class-name">PlayMouse</span> playMouse <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PlayMouse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// 开启或禁用十六个按钮</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setButton</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> b<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> btsButtons<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			btsButtons<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">setEnabled</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

	<span class="token punctuation">}</span>

	<span class="token comment">// 创建鼠标的形状</span>
	<span class="token keyword">private</span> <span class="token class-name">Cursor</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">String</span> imagePath<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token class-name">Image</span> myCursor <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ImageIcon</span><span class="token punctuation">(</span>imagePath<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getImage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// 参数一：自定义鼠标样式对应的图片对象</span>
		<span class="token comment">// 参数二：对应的位置坐标</span>
		<span class="token comment">// 参数三：字符串，给自定义鼠标样式起的名字</span>
		<span class="token keyword">return</span> <span class="token class-name">Toolkit</span><span class="token punctuation">.</span><span class="token function">getDefaultToolkit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">createCustomCursor</span><span class="token punctuation">(</span>myCursor<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Point</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// 鼠标按下或松开的形状</span>
	<span class="token keyword">private</span> <span class="token keyword">class</span> <span class="token class-name">MyMouse</span> <span class="token keyword">extends</span> <span class="token class-name">MouseAdapter</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">private</span> <span class="token class-name">JButton</span> btnButton<span class="token punctuation">;</span>

		<span class="token keyword">public</span> <span class="token class-name">MyMouse</span><span class="token punctuation">(</span><span class="token class-name">JButton</span> btnButton<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token keyword">this</span><span class="token punctuation">.</span>btnButton <span class="token operator">=</span> btnButton<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// 鼠标按下</span>
		<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">mousePressed</span><span class="token punctuation">(</span><span class="token class-name">MouseEvent</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			btnButton<span class="token punctuation">.</span><span class="token function">setCursor</span><span class="token punctuation">(</span>cursor2<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// 鼠标松开</span>
		<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">mouseReleased</span><span class="token punctuation">(</span><span class="token class-name">MouseEvent</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			btnButton<span class="token punctuation">.</span><span class="token function">setCursor</span><span class="token punctuation">(</span>cursor<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">pauseGame</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		timer<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		mouseTimer<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">setButton</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		pauseButton<span class="token punctuation">.</span><span class="token function">setVisible</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		resumeButton<span class="token punctuation">.</span><span class="token function">setVisible</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">resumeGame</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		timer<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		mouseTimer<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">setButton</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		resumeButton<span class="token punctuation">.</span><span class="token function">setVisible</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		pauseButton<span class="token punctuation">.</span><span class="token function">setVisible</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		isPaused <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">actionPerformed</span><span class="token punctuation">(</span><span class="token class-name">ActionEvent</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token comment">// 获取事件源，看是谁点击的</span>
		<span class="token class-name">Object</span> object <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token function">getSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>object <span class="token operator">==</span> pauseButton<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			isPaused <span class="token operator">=</span> <span class="token operator">!</span>isPaused<span class="token punctuation">;</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>isPaused<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
				<span class="token function">pauseGame</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				resumeButton<span class="token punctuation">.</span><span class="token function">setVisible</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
				<span class="token function">resumeGame</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				resumeButton<span class="token punctuation">.</span><span class="token function">setVisible</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>object <span class="token operator">==</span> resumeButton<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			isPaused <span class="token operator">=</span> <span class="token operator">!</span>isPaused<span class="token punctuation">;</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>isPaused<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
				<span class="token function">pauseGame</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
				<span class="token function">resumeGame</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		<span class="token comment">// 点击开始按钮，游戏开始</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>object <span class="token operator">==</span> jButton<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token comment">// 随机产生一个老鼠</span>
			<span class="token class-name">Random</span> random <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">int</span> index <span class="token operator">=</span> random<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span>btsButtons<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
			flag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
			btsButtons<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">setIcon</span><span class="token punctuation">(</span>mouseImgIcon<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token comment">// 记录上一只老鼠出现的位置</span>
			last <span class="token operator">=</span> index<span class="token punctuation">;</span>
			<span class="token comment">// 定时器开始,执行以下else if里的内容</span>
			timer<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token comment">// 开启老鼠定时器</span>
			mouseTimer<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token comment">// 开启十六个按钮</span>
			<span class="token function">setButton</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token comment">// 禁用等级下拉框</span>
			jComboBox<span class="token punctuation">.</span><span class="token function">setEditable</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token comment">// 禁用开始按钮</span>
			jButton<span class="token punctuation">.</span><span class="token function">setEnabled</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>object <span class="token operator">==</span> timer<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token comment">// 开启时间定时器后执行</span>
			<span class="token comment">// 获取按钮文本值 String --&gt;int</span>
			<span class="token keyword">int</span> num <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>timeVaLabel<span class="token punctuation">.</span><span class="token function">getText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>num <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
				num<span class="token operator">--</span><span class="token punctuation">;</span>
				<span class="token comment">// 重新设置时间</span>
				timeVaLabel<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span>num <span class="token operator">+</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
				<span class="token comment">// 游戏结束</span>
				<span class="token comment">// 清除掉最后一只老鼠，将老鼠蹄片设置为老鼠洞</span>
				btsButtons<span class="token punctuation">[</span>last<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">setIcon</span><span class="token punctuation">(</span>holeiImage<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token comment">// 关闭时间定时器</span>
				timer<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token comment">// 关闭老鼠定时器</span>
				mouseTimer<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token comment">// 开启开始按钮</span>
				jButton<span class="token punctuation">.</span><span class="token function">setEnabled</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token comment">// 开启等级按钮</span>
				jComboBox<span class="token punctuation">.</span><span class="token function">setEditable</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token comment">// 禁用十六个按钮</span>
				<span class="token function">setButton</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token comment">// 关闭背景音乐</span>
				play<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token comment">// 重置游戏时间,分数</span>
				timeVaLabel<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">"10"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				cenVaLabel<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">"0.0"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>object <span class="token operator">==</span> mouseTimer<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token comment">// 开启老鼠定时器执行</span>
			<span class="token comment">// 将上一次老鼠出现的位置设为老鼠洞</span>
			btsButtons<span class="token punctuation">[</span>last<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">setIcon</span><span class="token punctuation">(</span>holeiImage<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token comment">// 每隔1s随机产生一只老鼠</span>
			<span class="token class-name">Random</span> random <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">int</span> index <span class="token operator">=</span> random<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span>btsButtons<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
			last <span class="token operator">=</span> index<span class="token punctuation">;</span>
			flag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
			<span class="token comment">// 将按钮的背景图设置为老鼠</span>
			btsButtons<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">setIcon</span><span class="token punctuation">(</span>mouseImgIcon<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>object <span class="token operator">==</span> jComboBox<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token comment">// 获取下拉框中选择的文本值</span>
			<span class="token class-name">String</span> string <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span> jComboBox<span class="token punctuation">.</span><span class="token function">getSelectedItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token comment">// 判断那个等级</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">"高级"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
				level <span class="token operator">=</span> <span class="token number">500</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">"中级"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
				level <span class="token operator">=</span> <span class="token number">1000</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">"初级"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
				level <span class="token operator">=</span> <span class="token number">1400</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token comment">// 重新创建等级定时器</span>
			mouseTimer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Timer</span><span class="token punctuation">(</span>level<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>object <span class="token operator">==</span> musicBox<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token comment">// 获取下拉框中选择的文本框</span>
			<span class="token class-name">String</span> chooseString <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span> musicBox<span class="token punctuation">.</span><span class="token function">getSelectedItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">"关"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>chooseString<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
				play<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">"开"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>chooseString<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
				play<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
			<span class="token comment">// 点击十六个按钮</span>
			<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> btsButtons<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
				<span class="token comment">// 判断是否点击老鼠按钮并且该老鼠没加过分</span>
				<span class="token comment">// 判断是否点击老鼠的按钮</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span>object <span class="token operator">==</span> btsButtons<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> btsButtons<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">getIcon</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> mouseImgIcon <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>flag<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
					<span class="token comment">// 获取分数的文本值 String --&gt;int</span>
					<span class="token keyword">int</span> cent <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>cenVaLabel<span class="token punctuation">.</span><span class="token function">getText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token comment">// 分值加1</span>
					cent<span class="token operator">++</span><span class="token punctuation">;</span>
					flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
					<span class="token comment">// 设置分数值</span>
					cenVaLabel<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span>cent <span class="token operator">+</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 将int--》转换成String</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<p>开始游戏界面</p> 
<h4><a id="StartGamejava_356"></a>StartGame.java</h4> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>briup<span class="token punctuation">.</span>game</span><span class="token punctuation">;</span>
<span class="token comment">/**
 *开始游戏的界面
 *
 */</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>awt<span class="token punctuation">.</span></span><span class="token class-name">GridLayout</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>awt<span class="token punctuation">.</span></span><span class="token class-name">Image</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>awt<span class="token punctuation">.</span>event<span class="token punctuation">.</span></span><span class="token class-name">ActionEvent</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>awt<span class="token punctuation">.</span>event<span class="token punctuation">.</span></span><span class="token class-name">ActionListener</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">File</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>net<span class="token punctuation">.</span></span><span class="token class-name">MalformedURLException</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>swing<span class="token punctuation">.</span></span><span class="token class-name">ImageIcon</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>swing<span class="token punctuation">.</span></span><span class="token class-name">JButton</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>swing<span class="token punctuation">.</span></span><span class="token class-name">JFrame</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>swing<span class="token punctuation">.</span></span><span class="token class-name">JPanel</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">sun<span class="token punctuation">.</span>net<span class="token punctuation">.</span>www<span class="token punctuation">.</span>content<span class="token punctuation">.</span>text<span class="token punctuation">.</span>plain</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StartGame</span> <span class="token keyword">implements</span> <span class="token class-name">ActionListener</span> <span class="token punctuation">{<!-- --></span>
	<span class="token comment">// 构建容器对象</span>
	<span class="token keyword">private</span> <span class="token class-name">JFrame</span> jFrame<span class="token punctuation">;</span>
	<span class="token comment">// 构建面板</span>
	<span class="token keyword">private</span> <span class="token class-name">JPanel</span> jPanel<span class="token punctuation">;</span>
	<span class="token comment">// 构建按钮组件</span>
	<span class="token keyword">private</span> <span class="token class-name">JButton</span> jButton<span class="token punctuation">;</span>
	<span class="token comment">// 构建文件对象</span>
	<span class="token keyword">private</span> <span class="token class-name">File</span> file<span class="token punctuation">;</span>
	<span class="token comment">// 构建背景音乐对象</span>
	<span class="token keyword">private</span> <span class="token class-name">MusicPlay</span> play<span class="token punctuation">;</span>
	<span class="token comment">// 构建背景图片</span>
	<span class="token keyword">private</span> <span class="token class-name">ImageIcon</span> startIcon<span class="token punctuation">;</span>

	<span class="token comment">// 构造器 初始化Jframe</span>
	<span class="token keyword">public</span> <span class="token class-name">StartGame</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token comment">// 1.创建容器</span>
		jFrame <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JFrame</span><span class="token punctuation">(</span><span class="token string">"开始界面"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// 2.创建面板 默认流式布局管理器</span>
		jPanel <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JPanel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// 3.面板设置布局管理器 网格布局管理器</span>
		jPanel<span class="token punctuation">.</span><span class="token function">setLayout</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">GridLayout</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// 4.创建组件</span>
		jButton <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JButton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		jButton<span class="token punctuation">.</span><span class="token function">addActionListener</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// 5.添加组件到按钮</span>
		jPanel<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>jButton<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// 6.添加面板到容器</span>
		jFrame<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>jPanel<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// 7.设置容器大小</span>
		jFrame<span class="token punctuation">.</span><span class="token function">setSize</span><span class="token punctuation">(</span><span class="token number">1100</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// 8.设置容器居中</span>
		jFrame<span class="token punctuation">.</span><span class="token function">setLocationRelativeTo</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// 9.设置容器大小不可调整</span>
		jFrame<span class="token punctuation">.</span><span class="token function">setResizable</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// 10.设置容器可见性</span>
		jFrame<span class="token punctuation">.</span><span class="token function">setVisible</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// 11.设置容器关闭方式</span>
		jFrame<span class="token punctuation">.</span><span class="token function">setDefaultCloseOperation</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// 12.设置背景图片</span>
		startIcon <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ImageIcon</span><span class="token punctuation">(</span><span class="token string">"src/com/briup/game/start.jpg"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		startIcon<span class="token punctuation">.</span><span class="token function">setImage</span><span class="token punctuation">(</span>
				startIcon<span class="token punctuation">.</span><span class="token function">getImage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getScaledInstance</span><span class="token punctuation">(</span>jButton<span class="token punctuation">.</span><span class="token function">getWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> jButton<span class="token punctuation">.</span><span class="token function">getHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">Image</span><span class="token punctuation">.</span><span class="token constant">SCALE_DEFAULT</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		jButton<span class="token punctuation">.</span><span class="token function">setIcon</span><span class="token punctuation">(</span>startIcon<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// 13.开启背景音乐</span>
		<span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
			file <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">"src/com/briup/game/开始游戏背景音乐.wav"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			play <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MusicPlay</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span><span class="token function">toURL</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			play<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">MalformedURLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token comment">// TODO Auto-generated catch block</span>
			e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">new</span> <span class="token class-name">StartGame</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">actionPerformed</span><span class="token punctuation">(</span><span class="token class-name">ActionEvent</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token comment">// TODO Auto-generated method stub</span>
		<span class="token comment">// 关闭背景音乐</span>
		play<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// 关闭当前窗口</span>
		jFrame<span class="token punctuation">.</span><span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// 开启游戏窗口</span>
		<span class="token keyword">new</span> <span class="token class-name">PlayMouse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>添加音乐</p> 
<h4><a id="MusicPlayjava_451"></a>MusicPlay.java</h4> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>briup<span class="token punctuation">.</span>game</span><span class="token punctuation">;</span>
<span class="token comment">/**
 * 背景音乐
 *IO流：
 *   类型：字节流     字符流
 *   流向：输入流      输出流
 *异常：
 *   Error：错误   不可解决
 *   Exception：异常   可解决
 *         -编译时异常
 *         -运行时异常
 */</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>net<span class="token punctuation">.</span></span><span class="token class-name">URL</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javafx<span class="token punctuation">.</span>scene<span class="token punctuation">.</span>chart<span class="token punctuation">.</span></span><span class="token class-name">PieChart</span><span class="token punctuation">.</span><span class="token class-name">Data</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">sun<span class="token punctuation">.</span>audio<span class="token punctuation">.</span></span><span class="token class-name">AudioData</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">sun<span class="token punctuation">.</span>audio<span class="token punctuation">.</span></span><span class="token class-name">AudioPlayer</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">sun<span class="token punctuation">.</span>audio<span class="token punctuation">.</span></span><span class="token class-name">AudioStream</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">sun<span class="token punctuation">.</span>audio<span class="token punctuation">.</span></span><span class="token class-name">ContinuousAudioDataStream</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MusicPlay</span> <span class="token punctuation">{<!-- --></span>
	<span class="token comment">//单次播放声音</span>
	<span class="token keyword">private</span> <span class="token class-name">AudioStream</span> aStream<span class="token punctuation">;</span>
	<span class="token comment">//循环播放声音</span>
	<span class="token keyword">private</span> <span class="token class-name">ContinuousAudioDataStream</span> casAudioDataStream<span class="token punctuation">;</span>
	
	<span class="token comment">//构造器</span>
	<span class="token keyword">public</span> <span class="token class-name">MusicPlay</span><span class="token punctuation">(</span><span class="token class-name">URL</span> url<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token comment">//打开一个声音文件流作为输入</span>
		<span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
			aStream <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AudioStream</span><span class="token punctuation">(</span>url<span class="token punctuation">.</span><span class="token function">openStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token comment">// TODO Auto-generated catch block</span>
			e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//一次播放开始</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>aStream <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"AudioStream object is not created"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
			<span class="token class-name">AudioPlayer</span><span class="token punctuation">.</span>player<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span>aStream<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//一次播放  停止</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>aStream <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"AudioStream object is not created"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
			<span class="token class-name">AudioPlayer</span><span class="token punctuation">.</span>player<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span>aStream<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//循环播放  开始</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">continueStart</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token class-name">AudioData</span> data <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
		 <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
			data <span class="token operator">=</span> aStream<span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token comment">// TODO Auto-generated catch block</span>
			e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		casAudioDataStream <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ContinuousAudioDataStream</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">AudioPlayer</span><span class="token punctuation">.</span>player<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span>casAudioDataStream<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//循环播放  停止</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">continueStop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>casAudioDataStream <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ContinousAudioDataStream object is not created"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
			<span class="token class-name">AudioPlayer</span><span class="token punctuation">.</span>player<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span>casAudioDataStream<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre> 
<p>测试界面</p> 
<h4><a id="MusicPlayTestjava_536"></a>MusicPlayTest.java</h4> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>briup<span class="token punctuation">.</span>game</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">File</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>net<span class="token punctuation">.</span></span><span class="token class-name">MalformedURLException</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MusicPlayTest</span> <span class="token punctuation">{<!-- --></span>
	<span class="token annotation punctuation">@SuppressWarnings</span><span class="token punctuation">(</span><span class="token string">"deprecation"</span><span class="token punctuation">)</span>
	<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
			<span class="token comment">// 1.创建文件对象</span>
			<span class="token class-name">File</span> file <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">"src/com/briup/game/打地鼠背景音乐.wav"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token comment">// 2.创建MusicPlay对象</span>
			<span class="token class-name">MusicPlay</span> play <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MusicPlay</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span><span class="token function">toURL</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token comment">// 3.一次背景音乐 开启</span>
			<span class="token comment">// play.start();</span>
			<span class="token comment">// 4.循环播放背景音乐 开启</span>
			play<span class="token punctuation">.</span><span class="token function">continueStart</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			play<span class="token punctuation">.</span><span class="token function">continueStop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">MalformedURLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token comment">// TODO Auto-generated catch block</span>
			e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<h2><a id="_567"></a>游戏所需图片</h2> 
<p><strong>1.开始界面</strong><br> <img src="https://images2.imgbox.com/fe/fe/y5tNmYhW_o.jpg" alt="Alt" width="400" height="300"></p> 
<p><strong>2.打地鼠布局</strong><br> <img src="https://images2.imgbox.com/b8/2c/eKRCNnJc_o.png" alt="Alt" width="600" height="400"><br> <strong>3.小锤子</strong><br> 未击打时的形状<br> <img src="https://images2.imgbox.com/c5/49/PZFrhhHt_o.png" alt="Alt" width="60" height="60"><br> 击打老鼠时的形状<br> <img src="https://images2.imgbox.com/46/22/O1MCZQZE_o.png" alt="Alt" width="60" height="60"><br> <strong>4.老鼠的家</strong><br> <img src="https://images2.imgbox.com/a5/c0/ANnT7lef_o.png" alt="Alt" width="150" height="150"><br> <strong>5.老鼠</strong><br> 居中的图片: <img src="https://images2.imgbox.com/0f/02/Jij2qaYQ_o.png" alt="Alt"></p> 
<h2><a id="_582"></a>运行效果</h2> 
<p><img src="https://images2.imgbox.com/25/44/3wwOdm5F_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_584"></a>结言</h2> 
<p>使用者可以进行功能的扩充，比如添加代码实现多种地鼠的效果，当击打炸弹鼠时就就扣掉相应的分数，击打发财的老鼠加更多的分数。这样就让游戏更加多元化、样式更加丰富。<br> <strong>博主用心写，读者点关注；互动传真情，知识不迷路呦。</strong></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/a62973eb60230cd2b286298190c261c9/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Atlas Vector Search：借助语义搜索和 AI 针对任何类型的数据构建智能应用</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/440e74d2ba5a5b4c5d5dd24bf21c7e29/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">linux安装kafka3.5.2、kafka可视化管理工具kafka-ui-lite</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>