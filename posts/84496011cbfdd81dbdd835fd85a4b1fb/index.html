<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>ã€C&#43;&#43;ã€‘æ·±åº¦è§£æï¼šç”¨ C&#43;&#43; æ¨¡æ‹Ÿå®ç° string ç±»ï¼Œæ¢ç´¢å…¶åº•å±‚å®ç°ç»†èŠ‚ - ç¼–ç¨‹å¤§å’–</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/84496011cbfdd81dbdd835fd85a4b1fb/">
  <meta property="og:site_name" content="ç¼–ç¨‹å¤§å’–">
  <meta property="og:title" content="ã€C&#43;&#43;ã€‘æ·±åº¦è§£æï¼šç”¨ C&#43;&#43; æ¨¡æ‹Ÿå®ç° string ç±»ï¼Œæ¢ç´¢å…¶åº•å±‚å®ç°ç»†èŠ‚">
  <meta property="og:description" content="ç›®å½•
äº†è§£stringç±»
stringçš„å†…å­˜ç®¡ç†
VSä¸‹stringçš„ç»“æ„
â€‹g&#43;&#43;ä¸‹stringçš„ç»“æ„
stringçš„æ¨¡æ‹Ÿå®ç°
stringçš„æ„é€ å‡½æ•°
æµ…æ‹·è´
æ·±æ‹·è´
stringçš„éå†
é‡è½½ [] ä¸‹æ ‡è®¿é—®
è¿­ä»£å™¨è®¿é—®
reserve
resize
å¢åˆ æŸ¥æ”¹
push_back()
appendå’Œ&#43;=
insertå’Œerase
find
substr
swapÂ æµæ’å…¥å’Œæµæå–
getline
stringå…¶ä»–åŸºæœ¬åŠŸèƒ½
â­äº†è§£stringç±» 1. å­—ç¬¦ä¸²æ˜¯è¡¨ç¤ºå­—ç¬¦åºåˆ—çš„ç±» 2. æ ‡å‡†çš„å­—ç¬¦ä¸²ç±»æä¾›äº†å¯¹æ­¤ç±»å¯¹è±¡çš„æ”¯æŒï¼Œå…¶æ¥å£ç±»ä¼¼äºæ ‡å‡†å­—ç¬¦å®¹å™¨çš„æ¥å£ï¼Œä½†æ·»åŠ äº†ä¸“é—¨ç”¨äºæ“ä½œå•å­—èŠ‚å­—ç¬¦å­—ç¬¦ä¸²çš„è®¾è®¡ç‰¹æ€§ã€‚ 3. string ç±»æ˜¯ä½¿ç”¨ char( å³ä½œä¸ºå®ƒçš„å­—ç¬¦ç±»å‹ï¼Œä½¿ç”¨å®ƒçš„é»˜è®¤ char_traits å’Œåˆ†é…å™¨ç±»å‹ ( å…³äºæ¨¡æ¿çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…basic_string) ã€‚ 4. string ç±»æ˜¯ basic_string æ¨¡æ¿ç±»çš„ä¸€ä¸ªå®ä¾‹ï¼Œå®ƒä½¿ç”¨ char æ¥å®ä¾‹åŒ– basic_string æ¨¡æ¿ç±»ï¼Œå¹¶ç”¨ char_traitså’Œallocator ä½œä¸º basic_string çš„é»˜è®¤å‚æ•° ( æ ¹äºæ›´å¤šçš„æ¨¡æ¿ä¿¡æ¯è¯·å‚è€ƒ basic_string) ã€‚ 5. æ³¨æ„ï¼Œè¿™ä¸ªç±»ç‹¬ç«‹äºæ‰€ä½¿ç”¨çš„ç¼–ç æ¥å¤„ç†å­—èŠ‚ : å¦‚æœç”¨æ¥å¤„ç†å¤šå­—èŠ‚æˆ–å˜é•¿å­—ç¬¦ ( å¦‚ UTF-8) çš„åºåˆ—ï¼Œè¿™ä¸ªç±»çš„æ‰€æœ‰æˆå‘˜( å¦‚é•¿åº¦æˆ–å¤§å° ) ä»¥åŠå®ƒçš„è¿­ä»£å™¨ï¼Œå°†ä»ç„¶æŒ‰ç…§å­—èŠ‚ ( è€Œä¸æ˜¯å®é™…ç¼–ç çš„å­—ç¬¦ ) æ¥æ“ä½œã€‚ æ€»ç»“ï¼š 1.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-05-16T19:34:25+08:00">
    <meta property="article:modified_time" content="2024-05-16T19:34:25+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ç¼–ç¨‹å¤§å’–" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ç¼–ç¨‹å¤§å’–</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">ã€C&#43;&#43;ã€‘æ·±åº¦è§£æï¼šç”¨ C&#43;&#43; æ¨¡æ‹Ÿå®ç° string ç±»ï¼Œæ¢ç´¢å…¶åº•å±‚å®ç°ç»†èŠ‚</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2><img alt="" src="https://images2.imgbox.com/ed/fc/T2mf93bv_o.png"></h2> 
<p id="main-toc"><strong>ç›®å½•</strong></p> 
<p id="%E4%BA%86%E8%A7%A3string%E7%B1%BB-toc" style="margin-left:0px;"><a href="#%E4%BA%86%E8%A7%A3string%E7%B1%BB" rel="nofollow">äº†è§£stringç±»</a></p> 
<p id="string%E7%9A%84%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86-toc" style="margin-left:0px;"><a href="#string%E7%9A%84%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86" rel="nofollow">stringçš„å†…å­˜ç®¡ç†</a></p> 
<p id="VS%E4%B8%8Bstring%E7%9A%84%E7%BB%93%E6%9E%84-toc" style="margin-left:40px;"><a href="#VS%E4%B8%8Bstring%E7%9A%84%E7%BB%93%E6%9E%84" rel="nofollow">VSä¸‹stringçš„ç»“æ„</a></p> 
<p id="%E2%80%8B%E7%BC%96%E8%BE%91g%2B%2B%E4%B8%8Bstring%E7%9A%84%E7%BB%93%E6%9E%84-toc" style="margin-left:40px;"><a href="#%E2%80%8B%E7%BC%96%E8%BE%91g%2B%2B%E4%B8%8Bstring%E7%9A%84%E7%BB%93%E6%9E%84" rel="nofollow">â€‹g++ä¸‹stringçš„ç»“æ„</a></p> 
<p id="%C2%A0string%E7%9A%84%E6%A8%A1%E6%8B%9F%E5%AE%9E%E7%8E%B0-toc" style="margin-left:0px;"><a href="#%C2%A0string%E7%9A%84%E6%A8%A1%E6%8B%9F%E5%AE%9E%E7%8E%B0" rel="nofollow">Â stringçš„æ¨¡æ‹Ÿå®ç°</a></p> 
<p id="string%E7%9A%84%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0-toc" style="margin-left:40px;"><a href="#string%E7%9A%84%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0" rel="nofollow">stringçš„æ„é€ å‡½æ•°</a></p> 
<p id="%C2%A0%E6%B5%85%E6%8B%B7%E8%B4%9D-toc" style="margin-left:80px;"><a href="#%C2%A0%E6%B5%85%E6%8B%B7%E8%B4%9D" rel="nofollow">Â æµ…æ‹·è´</a></p> 
<p id="%E6%B7%B1%E6%8B%B7%E8%B4%9D-toc" style="margin-left:80px;"><a href="#%E6%B7%B1%E6%8B%B7%E8%B4%9D" rel="nofollow">æ·±æ‹·è´</a></p> 
<p id="%C2%A0string%E7%9A%84%E9%81%8D%E5%8E%86-toc" style="margin-left:40px;"><a href="#%C2%A0string%E7%9A%84%E9%81%8D%E5%8E%86" rel="nofollow">Â stringçš„éå†</a></p> 
<p id="%E9%87%8D%E8%BD%BD%20%5B%5D%20%E4%B8%8B%E6%A0%87%E8%AE%BF%E9%97%AE-toc" style="margin-left:80px;"><a href="#%E9%87%8D%E8%BD%BD%20%5B%5D%20%E4%B8%8B%E6%A0%87%E8%AE%BF%E9%97%AE" rel="nofollow">é‡è½½ [] ä¸‹æ ‡è®¿é—®</a></p> 
<p id="%E8%BF%AD%E4%BB%A3%E5%99%A8%E8%AE%BF%E9%97%AE-toc" style="margin-left:80px;"><a href="#%E8%BF%AD%E4%BB%A3%E5%99%A8%E8%AE%BF%E9%97%AE" rel="nofollow">è¿­ä»£å™¨è®¿é—®</a></p> 
<p id="reserve-toc" style="margin-left:40px;"><a href="#reserve" rel="nofollow">reserve</a></p> 
<p id="resize-toc" style="margin-left:40px;"><a href="#resize" rel="nofollow">resize</a></p> 
<p id="%C2%A0%E5%A2%9E%E5%88%A0%E6%9F%A5%E6%94%B9-toc" style="margin-left:40px;"><a href="#%C2%A0%E5%A2%9E%E5%88%A0%E6%9F%A5%E6%94%B9" rel="nofollow">Â å¢åˆ æŸ¥æ”¹</a></p> 
<p id="push_back()-toc" style="margin-left:80px;"><a href="#push_back%28%29" rel="nofollow">push_back()</a></p> 
<p id="append%E5%92%8C%2B%3D-toc" style="margin-left:80px;"><a href="#append%E5%92%8C%2B%3D" rel="nofollow">appendå’Œ+=</a></p> 
<p id="%C2%A0insert%E5%92%8Cerase-toc" style="margin-left:80px;"><a href="#%C2%A0insert%E5%92%8Cerase" rel="nofollow">Â insertå’Œerase</a></p> 
<p id="find-toc" style="margin-left:80px;"><a href="#find" rel="nofollow">find</a></p> 
<p id="substr-toc" style="margin-left:80px;"><a href="#substr" rel="nofollow">substr</a></p> 
<p id="swap%C2%A0-toc" style="margin-left:40px;"><a href="#swap%C2%A0" rel="nofollow">swapÂ </a></p> 
<p id="%C2%A0%E6%B5%81%E6%8F%92%E5%85%A5%E5%92%8C%E6%B5%81%E6%8F%90%E5%8F%96-toc" style="margin-left:40px;"><a href="#%C2%A0%E6%B5%81%E6%8F%92%E5%85%A5%E5%92%8C%E6%B5%81%E6%8F%90%E5%8F%96" rel="nofollow">Â æµæ’å…¥å’Œæµæå–</a></p> 
<p id="getline-toc" style="margin-left:40px;"><a href="#getline" rel="nofollow">getline</a></p> 
<p id="string%E5%85%B6%E4%BB%96%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD-toc" style="margin-left:40px;"><a href="#string%E5%85%B6%E4%BB%96%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD" rel="nofollow">stringå…¶ä»–åŸºæœ¬åŠŸèƒ½</a></p> 
<hr id="hr-toc"> 
<p></p> 
<h2 id="%E2%80%8B%E7%BC%96%E8%BE%91" style="text-align:center;"><img alt="" src="https://images2.imgbox.com/f6/70/KnUnX5yf_o.gif"></h2> 
<h2 id="%E4%BA%86%E8%A7%A3string%E7%B1%BB">â­äº†è§£stringç±»</h2> 
<div> 
 <span style="color:#777777;">1. </span> 
 <span style="color:#777777;">å­—ç¬¦ä¸²æ˜¯è¡¨ç¤ºå­—ç¬¦åºåˆ—çš„ç±» </span> 
</div> 
<div> 
 <span style="color:#777777;">2. </span> 
 <span style="color:#777777;">æ ‡å‡†çš„å­—ç¬¦ä¸²ç±»æä¾›äº†å¯¹æ­¤ç±»å¯¹è±¡çš„æ”¯æŒï¼Œå…¶æ¥å£ç±»ä¼¼äºæ ‡å‡†å­—ç¬¦å®¹å™¨çš„æ¥å£ï¼Œä½†æ·»åŠ äº†ä¸“é—¨ç”¨äºæ“ä½œå•å­—èŠ‚å­—ç¬¦å­—ç¬¦ä¸²çš„è®¾è®¡ç‰¹æ€§ã€‚ </span> 
</div> 
<div> 
 <span style="color:#777777;">3. string</span> 
 <span style="color:#777777;">ç±»æ˜¯ä½¿ç”¨</span> 
 <span style="color:#777777;">char(</span> 
 <span style="color:#777777;">å³ä½œä¸ºå®ƒçš„å­—ç¬¦ç±»å‹ï¼Œä½¿ç”¨å®ƒçš„é»˜è®¤</span> 
 <span style="color:#777777;">char_traits</span> 
 <span style="color:#777777;">å’Œåˆ†é…å™¨ç±»å‹</span> 
 <span style="color:#777777;">(</span> 
 <span style="color:#777777;">å…³äºæ¨¡æ¿çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…basic_string)</span> 
 <span style="color:#777777;">ã€‚ </span> 
</div> 
<div> 
 <span style="color:#777777;">4. string</span> 
 <span style="color:#777777;">ç±»æ˜¯</span> 
 <span style="color:#777777;">basic_string</span> 
 <span style="color:#777777;">æ¨¡æ¿ç±»çš„ä¸€ä¸ªå®ä¾‹ï¼Œå®ƒä½¿ç”¨</span> 
 <span style="color:#777777;">char</span> 
 <span style="color:#777777;">æ¥å®ä¾‹åŒ–</span> 
 <span style="color:#777777;">basic_string</span> 
 <span style="color:#777777;">æ¨¡æ¿ç±»ï¼Œå¹¶ç”¨</span> 
 <span style="color:#777777;">char_traitså’Œallocator</span> 
 <span style="color:#777777;">ä½œä¸º</span> 
 <span style="color:#777777;">basic_string</span> 
 <span style="color:#777777;">çš„é»˜è®¤å‚æ•°</span> 
 <span style="color:#777777;">(</span> 
 <span style="color:#777777;">æ ¹äºæ›´å¤šçš„æ¨¡æ¿ä¿¡æ¯è¯·å‚è€ƒ</span> 
 <span style="color:#777777;">basic_string)</span> 
 <span style="color:#777777;">ã€‚ </span> 
</div> 
<div> 
 <span style="color:#777777;">5. </span> 
 <span style="color:#777777;">æ³¨æ„ï¼Œè¿™ä¸ªç±»ç‹¬ç«‹äºæ‰€ä½¿ç”¨çš„ç¼–ç æ¥å¤„ç†å­—èŠ‚</span> 
 <span style="color:#777777;">:</span> 
 <span style="color:#777777;">å¦‚æœç”¨æ¥å¤„ç†å¤šå­—èŠ‚æˆ–å˜é•¿å­—ç¬¦</span> 
 <span style="color:#777777;">(</span> 
 <span style="color:#777777;">å¦‚</span> 
 <span style="color:#777777;">UTF-8)</span> 
 <span style="color:#777777;">çš„åºåˆ—ï¼Œè¿™ä¸ªç±»çš„æ‰€æœ‰æˆå‘˜(</span> 
 <span style="color:#777777;">å¦‚é•¿åº¦æˆ–å¤§å°</span> 
 <span style="color:#777777;">)</span> 
 <span style="color:#777777;">ä»¥åŠå®ƒçš„è¿­ä»£å™¨ï¼Œå°†ä»ç„¶æŒ‰ç…§å­—èŠ‚</span> 
 <span style="color:#777777;">(</span> 
 <span style="color:#777777;">è€Œä¸æ˜¯å®é™…ç¼–ç çš„å­—ç¬¦</span> 
 <span style="color:#777777;">)</span> 
 <span style="color:#777777;">æ¥æ“ä½œã€‚ </span> 
</div> 
<div> 
 <span style="color:#777777;">æ€»ç»“ï¼š </span> 
</div> 
<div> 
 <span style="color:#777777;">1. string</span> 
 <span style="color:#777777;">æ˜¯è¡¨ç¤ºå­—ç¬¦ä¸²çš„å­—ç¬¦ä¸²ç±» </span> 
</div> 
<div> 
 <span style="color:#777777;">2. </span> 
 <span style="color:#777777;">è¯¥ç±»çš„æ¥å£ä¸å¸¸è§„å®¹å™¨çš„æ¥å£åŸºæœ¬ç›¸åŒï¼Œå†æ·»åŠ äº†ä¸€äº›ä¸“é—¨ç”¨æ¥æ“ä½œ</span> 
 <span style="color:#777777;">string</span> 
 <span style="color:#777777;">çš„å¸¸è§„æ“ä½œã€‚</span> 
</div> 
<div> 
 <div> 
  <span style="color:#777777;">3. string</span> 
  <span style="color:#777777;">åœ¨åº•å±‚å®é™…æ˜¯ï¼š</span> 
  <span style="color:#777777;">basic_string</span> 
  <span style="color:#777777;">æ¨¡æ¿ç±»çš„åˆ«åï¼Œ</span> 
  <span style="color:#777777;">typedef basic_string&lt;char, char_traits, allocator&gt; </span> 
 </div> 
 <div> 
  <span style="color:#777777;">string; </span> 
 </div> 
 <div> 
  <span style="color:#777777;">4. </span> 
  <span style="color:#777777;">ä¸èƒ½æ“ä½œå¤šå­—èŠ‚æˆ–è€…å˜é•¿å­—ç¬¦çš„åºåˆ—ã€‚ </span> 
 </div> 
 <div> 
  <span style="color:#777777;">åœ¨</span> 
  <span style="color:#777777;"><strong>ä½¿ç”¨</strong></span> 
  <span style="color:#777777;"><strong>string</strong></span> 
  <span style="color:#777777;"><strong>ç±»æ—¶ï¼Œå¿…é¡»åŒ…å«</strong></span> 
  <span style="color:#777777;"><strong>#include</strong></span> 
  <span style="color:#777777;"><strong>å¤´æ–‡ä»¶ä»¥åŠ</strong></span> 
  <span style="color:#777777;"><strong>using namespace std</strong></span> 
  <span style="color:#777777;">;</span> 
 </div> 
 <div></div> 
 <h2 id="string%E7%9A%84%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86">â­stringçš„å†…å­˜ç®¡ç†</h2> 
 <h3 id="VS%E4%B8%8Bstring%E7%9A%84%E7%BB%93%E6%9E%84">âœ¨VSä¸‹stringçš„ç»“æ„</h3> 
 <div> 
  <span style="color:#fe2c24;"><strong><span style="background-color:#f3f3f4;">stringæ€»å…±å 28ä¸ªå­—èŠ‚</span></strong></span> 
  <span style="color:#777777;">ï¼Œå†…éƒ¨ç»“æ„ç¨å¾®å¤æ‚ä¸€ç‚¹ï¼Œå…ˆæ˜¯</span> 
  <span style="color:#777777;"><strong>æœ‰ä¸€ä¸ªè”åˆä½“ï¼Œè”åˆä½“ç”¨æ¥å®šä¹‰</strong></span> 
  <span style="color:#777777;"><strong>string</strong></span> 
  <span style="color:#777777;"><strong>ä¸­å­— </strong></span> 
 </div> 
 <div> 
  <span style="color:#777777;"><strong>ç¬¦ä¸²çš„å­˜å‚¨ç©ºé—´</strong></span> 
  <span style="color:#777777;">ï¼š </span> 
 </div> 
 <ul><li><span style="color:#777777;"><strong>å½“å­—ç¬¦ä¸²é•¿åº¦å°äº</strong></span><span style="color:#777777;"><strong>16</strong></span><span style="color:#777777;"><strong>æ—¶ï¼Œä½¿ç”¨å†…éƒ¨å›ºå®šçš„å­—ç¬¦æ•°ç»„æ¥å­˜æ”¾ </strong></span></li><li><span style="color:#777777;"><strong>å½“å­—ç¬¦ä¸²é•¿åº¦å¤§äºç­‰äº</strong></span><span style="color:#777777;"><strong>16</strong></span><span style="color:#777777;"><strong>æ—¶ï¼Œä»å †ä¸Šå¼€è¾Ÿç©ºé—´</strong></span></li></ul> 
 <pre><code class="language-cpp">union _Bxty
{ // storage for small buffer or pointer to larger one
 value_type _Buf[_BUF_SIZE];
 pointer _Ptr;
 char _Alias[_BUF_SIZE]; // to permit aliasing
} _Bx;</code></pre> 
 <blockquote> 
  <ol><li><span style="color:#777777;">å¤§å¤šæ•°æƒ…å†µä¸‹å­—ç¬¦ä¸²çš„é•¿åº¦éƒ½å°äº</span><span style="color:#777777;">16ï¼Œå½“</span><span style="color:#777777;">string</span><span style="color:#777777;">å¯¹è±¡åˆ›å»ºå¥½ä¹‹åï¼Œå†…éƒ¨å·²ç»æœ‰äº†16</span><span style="color:#777777;">ä¸ªå­—ç¬¦æ•°ç»„çš„å›ºå®šç©ºé—´ï¼Œä¸éœ€è¦é€šè¿‡å †åˆ›å»ºï¼Œæ•ˆç‡é«˜ã€‚ </span></li><li><span style="color:#777777;">è¿˜æœ‰</span><span style="color:#777777;"><strong>ä¸€ä¸ª</strong></span><span style="color:#777777;"><strong>size_t</strong></span><span style="color:#777777;"><strong>å­—æ®µä¿å­˜å­—ç¬¦ä¸²é•¿åº¦ï¼Œä¸€ä¸ª</strong></span><span style="color:#777777;"><strong>size_t</strong></span><span style="color:#777777;"><strong>å­—æ®µä¿å­˜ä»å †ä¸Šå¼€è¾Ÿç©ºé—´æ€»çš„å®¹é‡ </strong></span></li><li><span style="color:#777777;">è¿˜</span><span style="color:#777777;"><strong>æœ‰ä¸€ä¸ªæŒ‡é’ˆ</strong></span><span style="color:#777777;">åšä¸€äº›å…¶ä»–äº‹æƒ…ã€‚ </span></li><li><span style="color:#777777;">æ•…æ€»å…±å </span><span style="color:#777777;">16+4+4+4=28</span><span style="color:#777777;">ä¸ªå­—èŠ‚ã€‚ </span></li></ol> 
 </blockquote> 
</div> 
<h3 id="%E2%80%8B%E7%BC%96%E8%BE%91g%2B%2B%E4%B8%8Bstring%E7%9A%84%E7%BB%93%E6%9E%84"><img alt="" height="596" src="https://images2.imgbox.com/16/96/g1EYVoGO_o.png" width="1200">âœ¨g++ä¸‹stringçš„ç»“æ„</h3> 
<div> 
 <span style="color:#777777;">g++</span> 
 <span style="color:#777777;">ä¸‹ï¼Œ</span> 
 <span style="color:#777777;">string</span> 
 <span style="color:#777777;">æ˜¯é€šè¿‡å†™æ—¶æ‹·è´å®ç°çš„ï¼Œ</span> 
 <span style="color:#fe2c24;"><strong><span style="background-color:#cccccc;">stringå¯¹è±¡æ€»å…±å 4ä¸ªå­—èŠ‚</span></strong></span> 
 <span style="color:#777777;">ï¼Œå†…éƒ¨åªåŒ…å«äº†ä¸€ä¸ªæŒ‡é’ˆï¼Œè¯¥æŒ‡ </span> 
</div> 
<div> 
 <span style="color:#777777;">é’ˆå°†æ¥æŒ‡å‘ä¸€å—å †ç©ºé—´ï¼Œå†…éƒ¨åŒ…å«äº†å¦‚ä¸‹å­—æ®µï¼š </span> 
</div> 
<ul><li><span style="color:#777777;">ç©ºé—´æ€»å¤§å° </span></li><li><span style="color:#777777;">å­—ç¬¦ä¸²æœ‰æ•ˆé•¿åº¦ </span></li><li><span style="color:#777777;">å¼•ç”¨è®¡æ•° </span></li><li><span style="color:#777777;">æŒ‡å‘å †ç©ºé—´çš„æŒ‡é’ˆï¼Œç”¨æ¥å­˜å‚¨å­—ç¬¦ä¸²ã€‚</span></li></ul> 
<pre><code class="language-cpp">struct _Rep_base
{
 size_type _M_length;
 size_type _M_capacity;
 _Atomic_word _M_refcount;
};</code></pre> 
<h2 id="%C2%A0string%E7%9A%84%E6%A8%A1%E6%8B%9F%E5%AE%9E%E7%8E%B0">Â â­stringçš„æ¨¡æ‹Ÿå®ç°</h2> 
<pre><code class="language-cpp">private:
		char* _str = nullptr;
		size_t _size = 0;
		size_t _capacity = 0;</code></pre> 
<h3 id="string%E7%9A%84%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0">âœ¨stringçš„æ„é€ å‡½æ•°</h3> 
<pre><code class="language-cpp">// ä¸ºäº†å’Œæ ‡å‡†åº“åŒºåˆ†ï¼Œæ­¤å¤„ä½¿ç”¨String
class String
{
public:

 /*String()
 :_str(new char[1])
 {*_str = '\0';}
 */
 //String(const char* str = "\0") é”™è¯¯ç¤ºèŒƒ
 //String(const char* str = nullptr) é”™è¯¯ç¤ºèŒƒ
 String(const char* str = "")//é»˜è®¤åŒ…å« \0
 {
 // æ„é€ Stringç±»å¯¹è±¡æ—¶ï¼Œå¦‚æœä¼ é€’nullptræŒ‡é’ˆï¼Œå¯ä»¥è®¤ä¸ºç¨‹åºéæ³•
 if (nullptr == str)
 {
 assert(false);
 return;
 }
 _str = new char[strlen(str) + 1];
 strcpy(_str, str);
 }
 ~String()
 {
 if (_str)
 {
 delete[] _str;
 _str = nullptr;
 }
 }
private:
 char* _str;
};
// æµ‹è¯•
void TestString()
{
 String s1("hello bit!!!");
 String s2(s1);
}</code></pre> 
<p>Â <img alt="" height="493" src="https://images2.imgbox.com/64/ee/0tPtjI1k_o.png" width="1147"></p> 
<div> 
 <span style="color:#777777;">ä¸Šè¿°</span> 
 <span style="color:#777777;"><strong>String</strong></span> 
 <span style="color:#777777;"><strong>ç±»æ²¡æœ‰æ˜¾å¼å®šä¹‰å…¶æ‹·è´æ„é€ å‡½æ•°ä¸èµ‹å€¼è¿ç®—ç¬¦é‡è½½ï¼Œæ­¤æ—¶ç¼–è¯‘å™¨ä¼šåˆæˆé»˜è®¤çš„ï¼Œå½“ç”¨</strong></span> 
 <span style="color:#777777;"><strong>s1</strong></span> 
 <span style="color:#777777;"><strong>æ„</strong></span> 
 <span style="color:#777777;"><strong>é€ </strong></span> 
 <span style="color:#777777;"><strong>s2</strong></span> 
 <span style="color:#777777;"><strong>æ—¶ï¼Œç¼–è¯‘å™¨ä¼šè°ƒç”¨é»˜è®¤çš„æ‹·è´æ„é€ ã€‚æœ€ç»ˆå¯¼è‡´çš„é—®é¢˜æ˜¯ï¼Œ</strong></span> 
 <span style="color:#777777;"><strong>s1</strong></span> 
 <span style="color:#777777;"><strong>ã€</strong></span> 
 <span style="color:#777777;"><strong>s2</strong></span> 
 <span style="color:#777777;"><strong>å…±ç”¨åŒä¸€å—å†…å­˜ç©ºé—´ï¼Œåœ¨é‡Šæ”¾æ—¶åŒä¸€å—</strong></span> 
 <span style="color:#777777;"><strong>ç©ºé—´è¢«é‡Šæ”¾å¤šæ¬¡è€Œå¼•èµ·ç¨‹åºå´©æºƒ</strong></span> 
 <span style="color:#777777;">ï¼Œè¿™ç§æ‹·è´æ–¹å¼ï¼Œç§°ä¸º</span> 
 <span style="color:#38d8f0;"><span style="background-color:#f3f3f4;">æµ…æ‹·è´</span></span> 
 <span style="color:#777777;">ã€‚ </span> 
</div> 
<h4 id="%C2%A0%E6%B5%85%E6%8B%B7%E8%B4%9D">Â ğŸ“–æµ…æ‹·è´</h4> 
<blockquote> 
 <div> 
  <span style="color:#777777;"><strong>æµ…æ‹·è´ï¼šä¹Ÿç§°ä½æ‹·è´ï¼Œç¼–è¯‘å™¨åªæ˜¯å°†å¯¹è±¡ä¸­çš„å€¼æ‹·è´è¿‡æ¥</strong></span> 
  <span style="color:#777777;">ã€‚å¦‚æœ</span> 
  <span style="color:#777777;"><strong>å¯¹è±¡ä¸­ç®¡ç†èµ„æº</strong></span> 
  <span style="color:#777777;">ï¼Œæœ€åå°±ä¼š</span> 
  <span style="color:#777777;"><strong>å¯¼è‡´å¤šä¸ªå¯¹è±¡å…± </strong></span> 
  <span style="color:#777777;"><strong>äº«åŒä¸€ä»½èµ„æºï¼Œå½“ä¸€ä¸ªå¯¹è±¡é”€æ¯æ—¶å°±ä¼šå°†è¯¥èµ„æºé‡Šæ”¾æ‰ï¼Œè€Œæ­¤æ—¶å¦ä¸€äº›å¯¹è±¡ä¸çŸ¥é“è¯¥èµ„æºå·²ç»è¢«é‡Šæ”¾ï¼Œä»¥ä¸º </strong></span> 
  <span style="color:#777777;"><strong>è¿˜æœ‰æ•ˆï¼Œæ‰€ä»¥å½“ç»§ç»­å¯¹èµ„æºè¿›é¡¹æ“ä½œæ—¶ï¼Œå°±ä¼šå‘ç”Ÿå‘ç”Ÿäº†è®¿é—®è¿è§„ã€‚</strong></span> 
 </div> 
</blockquote> 
<div>
  ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœä¸€ä¸ªå®¶åº­é‡Œé¢æœ‰ä¸¤ä¸ªå­©å­ï¼Œä½†æ˜¯çˆ¶æ¯åªç»™ä»–ä»¬ä¹°äº†ä¸€ä¸ªç©å…·ï¼Œå¦‚æœä¸¤ä¸ªå­©å­éƒ½æ„¿æ„ç©è¿™ä¸€ä¸ªç©å…·ï¼Œé‚£å°±ç›¸å®‰æ— äº‹ï¼Œå¦åˆ™å°±ä¼šé¸¡é£ç‹—è·³ã€‚ 
</div> 
<div>
  è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå°±å¯ä»¥ç›´æ¥ç»™ä»–ä»¬ä¸€äººä¹°ä¸€ä¸ªç©å…·ï¼Œè¿™æ ·å„è‡ªå®‰é€¸ã€‚ 
</div> 
<div>
  æ‰€ä»¥ï¼Œè¦æƒ³è§£å†³æµ…æ‹·è´çš„é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨æ·±æ‹·è´çš„æ–¹æ³•ï¼Œ 
 <span style="color:#777777;"><strong>æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä»½ç‹¬ç«‹çš„èµ„æºï¼Œä¸è¦å’Œå…¶ä»–å¯¹è±¡å…±äº«</strong></span> 
 <span style="color:#777777;">ã€‚</span> 
</div> 
<h4 id="%E6%B7%B1%E6%8B%B7%E8%B4%9D">ğŸ“–<span style="color:#777777;">æ·±æ‹·è´</span></h4> 
<div> 
 <span style="color:#777777;">å¦‚æœä¸€ä¸ªç±»ä¸­æ¶‰åŠåˆ°èµ„æºçš„ç®¡ç†ï¼Œå…¶æ‹·è´æ„é€ å‡½æ•°ã€èµ‹å€¼è¿ç®—ç¬¦é‡è½½ä»¥åŠææ„å‡½æ•°å¿…é¡»è¦æ˜¾å¼ç»™å‡ºã€‚ä¸€èˆ¬æƒ…å†µéƒ½æ˜¯æŒ‰ç…§æ·±æ‹·è´æ–¹å¼æä¾›ã€‚ </span> 
</div> 
<div> 
 <img alt="" height="564" src="https://images2.imgbox.com/09/d0/o6x104VG_o.png" width="909"> 
</div> 
<p></p> 
<h3 id="%C2%A0string%E7%9A%84%E9%81%8D%E5%8E%86">Â âœ¨stringçš„éå†</h3> 
<h4 id="%E9%87%8D%E8%BD%BD%20%5B%5D%20%E4%B8%8B%E6%A0%87%E8%AE%BF%E9%97%AE">ğŸ“–é‡è½½ [] ä¸‹æ ‡è®¿é—®</h4> 
<pre><code class="language-cpp">char&amp; operator[](size_t pos)//å¯è¯»å¯å†™
{
	assert(pos &lt; _size);
	return _str[pos];
}
//é‡è½½ä¸€ä¸ªconst
const char&amp; operator[](size_t pos) const//åªè¯»
{
	assert(pos &lt; _size);
	return _str[pos];
}</code></pre> 
<p>é¦–å…ˆè®¿é—®ä¹‹å‰éœ€è¦åˆ¤æ–­posæ˜¯å¦å†åˆæ³•è®¿é—®ä¹‹å†…ï¼Œå³å°äºç­‰äºsizeï¼Œç„¶åç›´æ¥è¿”å›å­—ç¬¦ä¸²æ•°ç»„ä¸­å¯¹åº”çš„å…ƒç´ ã€‚ç”±äºå­˜åœ¨constå¯¹è±¡å’Œéconstå¯¹è±¡ï¼Œæ‰€ä»¥éœ€è¦å†™ä¸¤ä¸ªé‡è½½ç‰ˆæœ¬ã€‚</p> 
<h4 id="%E8%BF%AD%E4%BB%A3%E5%99%A8%E8%AE%BF%E9%97%AE">ğŸ“–<strong>è¿­ä»£å™¨è®¿é—®</strong></h4> 
<pre><code class="language-cpp">//è¿­ä»£å™¨
		typedef char* iterator;
		typedef const char* const_iterator;
		iterator begin()
		{
			return _str;
		}
		iterator end()
		{
			return _str + _size;
		}
		const_iterator begin()const
		{
			return _str;
		}
		const_iterator end()const
		{
			return _str + _size;
		}</code></pre> 
<p>Â å…¶å®åº•å±‚å°±æ˜¯æŒ‡é’ˆï¼Œæ‰€ä»¥ç›´æ¥è¿”å›å¯¹åº”çš„åœ°å€å°±å¯ä»¥äº†ã€‚</p> 
<h3 id="reserve">âœ¨reserve</h3> 
<pre><code class="language-cpp">void reserve(size_t n)
{
	if (n &gt; _capacity)
	{
		char* tmp = new char[n+1];
		strcpy(tmp, _str);
		//é‡Šæ”¾æ—§ç©ºé—´ï¼ŒæŒ‡å‘æ–°ç©ºé—´
		delete[] _str;
		_str = tmp;
		//ä¿®æ”¹capacityï¼Œä¸ç”¨ä¿®æ”¹size
		_capacity = n;
	}
}</code></pre> 
<p>reserveæ˜¯æå‰é¢„ç•™éƒ¨åˆ†ç©ºé—´ï¼Œå®ƒæ¥æ”¶çš„ç©ºé—´å¤§å°ä¸èƒ½æ¯”æœ¬æ¥å°±æœ‰çš„å®¹é‡å°ï¼Œå¦‚æœnåˆæ³•ï¼Œåˆ™éœ€è¦å°†åŸæ•°ç»„ä»æ—§ç©ºé—´ç§»å‘ä¸€å—æ›´å¤§çš„æ–°ç©ºé—´ï¼Œå¹¶é‡Šæ”¾æ‰æ—§ç©ºé—´ã€‚</p> 
<h3 id="resize">âœ¨resize</h3> 
<pre><code class="language-cpp">void resize(size_t n,char ch='\0')
{
	if (n &lt;= _size)
	{
		_str[n] = '\0';
		_size = n;
	}
	else
	{
		reserve(n);
		for (int i = _size; i &lt; n; i++)
		{
			_str[i] = ch;
		}
		_str[n] = '\0';
		_size = n;
	}
}</code></pre> 
<p>resizeæ˜¯è®¾ç½®å­—ç¬¦ä¸²çš„å¤§å°ï¼Œå¦‚æœnæ¯”å­—ç¬¦ä¸²åŸæ¥çš„å¤§å°å°ï¼Œåˆ™ä¼šå‘ç”Ÿæˆªæ–­ï¼›å¦‚æœæ¯”åŸæ¥çš„å¤§å°å¤§ï¼Œåˆ™ä¼šreserveä¸€å—nå¤§å°çš„ç©ºé—´ã€‚</p> 
<h3 id="%C2%A0%E5%A2%9E%E5%88%A0%E6%9F%A5%E6%94%B9">Â âœ¨å¢åˆ æŸ¥æ”¹</h3> 
<h4 id="push_back()">ğŸ“–push_back()</h4> 
<pre><code class="language-cpp">void push_back(char ch)
{
	//æ‰©å®¹2å€
	if (_size == _capacity)
	{
		reserve(_capacity==0 ? 4 : 2 * _capacity);
	}
	_str[_size] = ch;
	_size++;
	_str[_size] = '\0';
}</code></pre> 
<p>ç›´æ¥å°¾æ’å°±å¯ä»¥ï¼Œéœ€è¦å…ˆåˆ¤æ–­ç©ºé—´æ˜¯å¦è¶³å¤Ÿï¼Œæœ€åæ›´æ–°sizeçš„å¤§å°ã€‚</p> 
<h4 id="append%E5%92%8C%2B%3D">ğŸ“–appendå’Œ+=</h4> 
<pre><code class="language-cpp">void append(const char* str)
{
	//æ‰©å®¹
	//æ ¹æ®è¿½åŠ çš„å­—ç¬¦ä¸²çš„é•¿åº¦æ‰©å®¹
	size_t len = strlen(str);
	if (_size + len &gt; _capacity)
	{
		reserve(_size + len);
	}
	strcpy(_str + _size, str);
	_size += len;
}
//  +=  
string&amp; operator+=(char ch)
{
	push_back(ch);
	return *this;
} 
string&amp; operator+=(const char* str)
{
	append(str);
	return *this;
}
string&amp; operator+=(const string s)
{
	append(s._str);
	return *this;
}</code></pre> 
<p>appendå’Œ+=éƒ½æ˜¯åœ¨å­—ç¬¦ä¸²çš„å°¾éƒ¨è¿½åŠ å­—ç¬¦æˆ–è€…å­—ç¬¦ä¸²ï¼Œéœ€è¦å…ˆåˆ¤æ–­å®¹é‡æ˜¯å¦è¶³å¤Ÿï¼Œä¸å¤Ÿåˆ™éœ€è¦æ‰©å®¹ï¼ŒÂ æ ¹æ®è¿½åŠ çš„å­—ç¬¦ä¸²çš„é•¿åº¦æ‰©å®¹ã€‚</p> 
<h4 id="%C2%A0insert%E5%92%8Cerase">Â ğŸ“–insertå’Œerase</h4> 
<p>å¯¹äºinsertï¼Œ0ä½ç½®çš„æ’å…¥å¯èƒ½äº§ç”Ÿé—®é¢˜ï¼Œendæ˜¯intç±»å‹ï¼Œposæ˜¯size_tç±»å‹ï¼Œendå˜æˆ-1ä¸posæ¯”è¾ƒæ—¶ä¼šå‘ç”Ÿæ•´å‹æå‡ï¼Œæ‰€ä»¥poséœ€è¦å…ˆè¿›è¡Œå¼ºåˆ¶ç±»å‹è½¬æ¢ï¼›ä¹Ÿå¯ä»¥ä½¿ç”¨å¦ä¸€ç§è§£å†³æ–¹æ³•ï¼Œå°†endçš„åˆå§‹å€¼èµ‹å€¼ä¸ºsize+1ï¼Œæ¯æ¬¡ä½¿ç”¨è¿™ç§æ–¹æ³•åç§»å­—ç¬¦ä¸² _str[end] = _str[end - 1];ï¼Œåˆ™endæœ€åä¸ä¼šå˜æˆ-1ã€‚</p> 
<pre><code class="language-cpp">//åœ¨posä¹‹å‰æ’å…¥
//æ’å…¥å­—ç¬¦
void insert(size_t pos,char ch)
{
	assert(pos &lt;= _size);
	if (_size == _capacity)
	{
		reserve(_capacity == 0 ? 4 : 2 * _capacity);
	}
	//int end = _size;
	0ä½ç½®çš„æ’å…¥å¯èƒ½äº§ç”Ÿé—®é¢˜ï¼Œendå˜æˆ-1ä¸posæ¯”è¾ƒæ—¶ä¼šå‘ç”Ÿæ•´å‹æå‡ï¼Œæ‰€ä»¥poséœ€è¦å…ˆè¿›è¡Œå¼ºåˆ¶ç±»å‹è½¬æ¢
	//while (end &gt;= (int)pos)
	//{
	//	_str[end+1] = _str[end];
	//	end--;
	//}
	//ç¬¬äºŒç§è§£å†³æ–¹æ³•
	int end = _size + 1;
	while (end &gt; pos)
	{
		_str[end] = _str[end - 1];
		end--;
	}
	_str[pos] = ch;
	_size++;
}
//åœ¨posä¹‹å‰æ’å…¥
//æ’å…¥å­—ç¬¦ä¸²
void insert(size_t pos,const char* str)
{
	assert(pos &lt;= _size);
	int len = strlen(str);
	if (_size +len &gt; _capacity)
	{
		reserve(_size + len+1);
	}
	//int end = _size;
	0ä½ç½®çš„æ’å…¥å¯èƒ½äº§ç”Ÿé—®é¢˜ï¼Œendå˜æˆ-1ä¸posæ¯”è¾ƒæ—¶ä¼šå‘ç”Ÿæ•´å‹æå‡ï¼Œæ‰€ä»¥poséœ€è¦å…ˆè¿›è¡Œå¼ºåˆ¶ç±»å‹è½¬æ¢
	//while (end &gt;= (int)pos)
	//{
	//	_str[end+1] = _str[end];
	//	end--;
	//}
	//ç¬¬äºŒç§è§£å†³æ–¹æ³•
	//åœ¨posä¹‹å‰æ’å…¥
	int end = _size + len;
	//pos 1 2 end
	while (end &gt; pos+len-1)
	{
		_str[end] = _str[end - len];
		end--;
	}
	strncpy(_str + pos,str,len);
	_size+=len;
}
//é‡Šæ”¾åˆ é™¤
void erase(size_t pos, size_t len = npos)
{
	assert(pos &lt; _size);
	// pos+len å­˜åœ¨æº¢å‡ºé£é™©
	//if (len == npos || pos + len &gt;= _size)
	if (len == npos ||len &gt;= _size-pos)
	{
		_str[pos] = '\0';
		_size = pos;
	}
	else
	{
		strcpy(_str + pos, _str + pos + len);
		_size -= len;
	}
}</code></pre> 
<p>å¯¹äºeraseï¼Œéœ€è¦æ ¹æ®ä¼ é€’çš„å‚æ•°çš„å¤§å°æ¥åˆ¤æ–­éœ€è¦åˆ é™¤å¤šå°‘ä¸ªå­—ç¬¦ã€‚</p> 
<h4 id="find">ğŸ“–find</h4> 
<pre><code class="language-cpp">//å¯»æ‰¾åŒ¹é…
size_t find(char ch,size_t pos = 0) const
{
	for (size_t i = pos; i &lt; _size; i++)
	{
		if (_str[i] == ch)
			return i;
	}
	return npos;
}
size_t find(const char* sub, size_t pos = 0) const
{
	assert(pos &lt;= _size);
	const char* p=strstr(_str+pos, sub);
	if (p)
	{
		return p - _str;
	}
	else
		return npos;
}</code></pre> 
<p>å®ç°æ–¹æ³•æ¯”è¾ƒç®€å•ï¼Œå°±æ˜¯æ™®é€šçš„æš´åŠ›æŸ¥æ‰¾ã€‚Â </p> 
<h4 id="substr">ğŸ“–substr</h4> 
<p>æˆªå–å­ä¸²ï¼Œéœ€è¦æ³¨æ„lençš„å¤§å°ã€‚</p> 
<pre><code class="language-cpp">        string substr(size_t pos = 0, size_t len = npos)
		{
			string sub;
			if (len == npos|| len &gt;= _size - pos)
			{
				for (size_t i = pos; i &lt; _size; i++)
				{
					sub += _str[i];
				}
			}
			else
			{
				for (size_t i = pos; i &lt; pos + len; i++)
				{
					sub += _str[i];
				}
			}
			return sub;
		}</code></pre> 
<h3 id="swap%C2%A0">âœ¨swapÂ </h3> 
<p>ä¼—æ‰€å‘¨çŸ¥ï¼ŒC++ç®—æ³•åº“é‡Œé¢å­˜åœ¨swapè¿™ä¸ªå‡½æ•°æ¨¡æ¿ï¼Œä½†æ˜¯ä¸ºä»€ä¹ˆstringå†…éƒ¨è‡ªå·±ä¹Ÿæœ‰ä¸€ä¸ªswapå‘¢ï¼Ÿ</p> 
<p>å¦‚æœç”¨std::swapäº¤æ¢ä¸¤ä¸ªstringå¯¹è±¡ï¼Œå°†ä¼šå‘ç”Ÿ1æ¬¡æ„é€ å’Œ2æ¬¡èµ‹å€¼ï¼Œä¹Ÿå°±æ˜¯ä¸‰æ¬¡æ·±æ‹·è´ï¼›</p> 
<p><img alt="" height="536" src="https://images2.imgbox.com/6f/89/wYZJBCLU_o.png" width="782"></p> 
<p>è€Œstringå†…éƒ¨çš„swapä»…ä»…åªäº¤æ¢æˆå‘˜ï¼Œä»£ä»·è¾ƒå°ã€‚</p> 
<pre><code class="language-cpp">//äº¤æ¢
void swap(string&amp; s)
{
	std::swap(_str, s._str);
	std::swap(_size, s._size);
	std::swap(_capacity, s._capacity);
}</code></pre> 
<p>Â ä¸ºäº†ç¬¦åˆç®—æ³•åº“é‡Œé¢swapçš„ç”¨æ³•ï¼Œå¯ä»¥å†å°†swapé‡è½½æˆå…¨å±€å‡½æ•°ã€‚</p> 
<pre><code class="language-cpp">	void swap(string&amp; x, string&amp; y)
	{
		x.swap(y);
	}</code></pre> 
<h3 id="%C2%A0%E6%B5%81%E6%8F%92%E5%85%A5%E5%92%8C%E6%B5%81%E6%8F%90%E5%8F%96">âœ¨Â æµæ’å…¥å’Œæµæå–</h3> 
<pre><code class="language-cpp">//é‡è½½æˆå…¨å±€æ˜¯ä¸ºäº†è°ƒæ•´é¡ºåº
	//æµæ’å…¥
	ostream&amp; operator&lt;&lt;(ostream&amp; out, const string&amp; s)
	{
		//è¿™é‡Œä¸éœ€è¦å†™æˆå‹å…ƒå‡½æ•°ï¼Œå› ä¸ºä¸éœ€è¦ç›´æ¥è®¿é—®ç§æœ‰æˆå‘˜
		for (auto ch:s)
		{
			cout &lt;&lt; ch;
		}
		return out;
	}
	//æµæå–
	//C++ æµæ’å…¥ï¼Œæµæå–å¯ä»¥æ”¯æŒè‡ªå®šä¹‰ç±»å‹ä½¿ç”¨
	istream&amp; operator&gt;&gt;(istream&amp; in, string&amp; s)
	{
		s.clear();
		char ch;
		char buff[128];
		//in &gt;&gt; ch;//é»˜è®¤æŠŠç©ºæ ¼å½“ä½œåˆ†éš”ç¬¦ã€æ¢è¡Œï¼Œä¸è¯»å–
		ch = in.get();//C++ä¸­è¯»å–ä¸€ä¸ªå­—ç¬¦
		size_t i = 0;
		while (ch != ' ' &amp;&amp; ch != '\n')
		{
			buff[i++] = ch;
			if (i == 127)
			{
				buff[127] = '\0';
				s += buff;
				i = 0;
			}
			//s += ch;//é‡å¤+=ï¼Œä¼šé‡å¤æ‰©å®¹ï¼Œæ¶ˆè€—è¾ƒå¤§
			ch = in.get();
		}
		if (i &gt; 0)
		{
			buff[i] = '\0';
			s += buff;
		}
		return in;
	}</code></pre> 
<p>å› ä¸ºåœ¨è¿™é‡Œä¸éœ€è¦ç›´æ¥è®¿é—®ç±»çš„ç§æœ‰æˆå‘˜ï¼Œæ‰€ä»¥æµæ’å…¥å’Œæµæå–å¯ä»¥ä¸ç”¨é‡è½½æˆstringç±»çš„å‹å…ƒå‡½æ•°ã€‚</p> 
<p>å¯¹äºæµæå–ï¼Œå¦‚æœé¢‘ç¹çš„å°¾æ’ï¼Œä¼šé€ æˆé¢‘ç¹æ‰©å®¹ã€‚è€Œä¸”C++çš„æ‰©å®¹å’ŒCè¯­è¨€çš„æ‰©å®¹ä¸ä¸€æ ·ï¼ŒC++ä½¿ç”¨newä¸èƒ½åŸåœ°æ‰©å®¹ï¼Œåªèƒ½å¼‚åœ°æ‰©å®¹ï¼Œå¼‚åœ°æ‰©å®¹å°±ä¼šå¯¼è‡´æ–°ç©ºé—´çš„å¼€è¾Ÿã€æ•°æ®çš„æ‹·è´ã€æ—§ç©ºé—´é‡Šæ”¾ã€‚ä¸ºäº†é˜²æ­¢é¢‘ç¹æ‰©å®¹ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªå¯ä»¥å­˜å‚¨128å­—èŠ‚çš„æ•°ç»„ï¼Œä½œä¸ºç¼“å†²ï¼Œå¦‚æœæ•°ç»„æ»¡äº†ï¼Œåˆ™å°†è¿™ä¸ªå­—ç¬¦æ•°ç»„è¿½åŠ åˆ°sä¸Šï¼Œå¦‚æœæ²¡æ…¢ï¼Œä½†æ˜¯é‡åˆ°ç©ºæ ¼æˆ–è€…æ¢è¡Œäº†ä¹Ÿéœ€è¦è¿½åŠ ã€‚</p> 
<p>å¦å¤–ç”±äºC++çš„æ ‡å‡†è¾“å…¥æµé»˜è®¤æŠŠç©ºæ ¼å’Œæ¢è¡Œå½“ä½œåˆ†éš”ç¬¦ï¼Œä¸è¯»å–ï¼Œæ‰€ä»¥è¿™é‡Œè¦ç”¨in.get()æ¥æ¥æ”¶å­—ç¬¦ã€‚</p> 
<h3 id="getline">âœ¨getline</h3> 
<p>åŸºæœ¬ä¸Šå¯ä»¥ç›´æ¥å¤ç”¨æµæå–çš„ä»£ç ã€‚</p> 
<pre><code class="language-cpp">//è¯»å–ç©ºæ ¼
	istream&amp; getline(istream&amp; in, string&amp; s)
	{
		s.clear();
		char ch;
		//in &gt;&gt; ch;//é»˜è®¤æŠŠç©ºæ ¼å½“ä½œåˆ†éš”ç¬¦ã€æ¢è¡Œï¼Œä¸è¯»å–
		ch = in.get();//C++ä¸­è¯»å–ä¸€ä¸ªå­—ç¬¦
		while ( ch != '\n')
		{
			s += ch;
			ch = in.get();
		}
		return in;
	}</code></pre> 
<h3 id="string%E5%85%B6%E4%BB%96%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD">âœ¨stringå…¶ä»–åŸºæœ¬åŠŸèƒ½</h3> 
<pre><code class="language-cpp">        size_t size() const
		{
			return _size;
		}
		size_t capacity() const
		{
			return _capacity;
		}
        void clear()
		{
			_size = 0;
			_str[_size] = '\0';
		}
		</code></pre> 
<p>é‡è½½è¿ç®—ç¬¦ï¼Œè¦å†™æˆå…¨å±€çš„å‡½æ•°ã€‚</p> 
<pre><code class="language-cpp">bool operator==(const string&amp; a ,const string&amp; b)
	{
		int ret = strcmp(a.c_str(), b.c_str());
		return ret == 0;
	}
	bool operator&lt;(const string&amp; a, const string&amp; b)
	{
		int ret = strcmp(a.c_str(), b.c_str());
		return ret &lt; 0;
	}
	bool operator&lt;=(const string&amp; s1, const string&amp; s2)
	{
		return  (s1 &lt; s2) || (s1 == s2);
	}
	bool operator&gt;(const string&amp; s1, const string&amp; s2)
	{
		return  !(s1 &lt;= s2);
	}
	bool operator&gt;=(const string&amp; s1, const string&amp; s2)
	{
		return  !(s1 &lt; s2);
	}
	bool operator!=(const string&amp; s1, const string&amp; s2)
	{
		return  !(s1 == s2);
	}</code></pre> 
<p></p> 
<p>____________________</p> 
<p>â­æ„Ÿè°¢ä½ çš„é˜…è¯»ï¼Œå¸Œæœ›æœ¬æ–‡èƒ½å¤Ÿå¯¹ä½ æœ‰æ‰€å¸®åŠ©ã€‚å¦‚æœä½ å–œæ¬¢æˆ‘çš„å†…å®¹ï¼Œè®°å¾—ç‚¹èµå…³æ³¨æ”¶è—æˆ‘çš„åšå®¢ï¼Œæˆ‘ä¼šç»§ç»­åˆ†äº«æ›´å¤šçš„å†…å®¹ã€‚â­</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/5cffbed03a3af5217f8d34a0106c5a2f/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">cycå¤§ä½¬æœ‰åœ°æ–¹å†™çš„ä¸å…¨ï¼Œè¡¥å……ï¼ˆredisç¯‡ï¼‰</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/3f1f41c7ec84287f2837c3fa0f8a07ad/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">Tomcatä¸JDKå„ç‰ˆæœ¬çš„å…¼å®¹æ€§</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ç¼–ç¨‹å¤§å’–.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>