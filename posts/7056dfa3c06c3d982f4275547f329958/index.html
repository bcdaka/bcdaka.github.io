<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【爱上C&#43;&#43;】万字详解string类1：经典常用接口、操作 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/7056dfa3c06c3d982f4275547f329958/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="【爱上C&#43;&#43;】万字详解string类1：经典常用接口、操作">
  <meta property="og:description" content="hello，今天咱们进入C&#43;&#43;中string类的学习，今天这部分主要讲解string类的部分经典常用接口，其他很少使用的接口要学会及时查文档，现查现用。string类的模拟实现和深浅拷贝问题放在后面一篇讲解。
目录 一.string类简介二.常见构造三.容量操作四.访问及遍历操作1.下标&#43;[ ]2.at拓展：try,catch 异常处理3.迭代器4.范围forbegin&#43;end,rbegin&#43;rend 五.修改、运算操作（重点）拓展：C风格字符串与string类型字符串1.字符串连接和追加2.字符串插入3.字符串删除4.字符串替换5.字符串交换6.字符串赋值7.字符串内容访问8.字符串查找9.字符串子序列提取 六.非成员函数本篇文章思维导图 一.string类简介 string类是C&#43;&#43;标准库中的一个类，用于处理字符串。它封装了字符数组（通常是char类型）的操作，提供了许多方便的方法来创建、修改、访问和操作字符串。使用string类可以简化字符串的编程工作，并减少常见的错误，如缓冲区溢出.
在使用string类时需要包含头文件#include&lt;string&gt; ,以及using namespace std;注意！不是C语言中是string.h
官方参考文档
上面是string类的文档介绍，在学习C&#43;&#43;过程中，我们需要慢慢提高看英文文献，文档的能力。
字符串是表示字符序列的类标准的字符串类提供了对此类对象的支持，其接口类似于标准字符容器的接口，但添加了专门用于操作
单字节字符字符串的设计特性。string类是使用char(即作为它的字符类型，使用它的默认char_traits和分配器类型(关于模板的更多信
息，请参阅basic_string)。string类是basic_string模板类的一个实例，它使用char来实例化basic_string模板类，并用char_traits
和allocator作为basic_string的默认参数(根于更多的模板信息请参考basic_string)。注意，这个类独立于所使用的编码来处理字节:如果用来处理多字节或变长字符(如UTF-8)的序列，这个
类的所有成员(如长度或大小)以及它的迭代器，将仍然按照字节(而不是实际编码的字符)来操作。 总结：
string是表示字符串的字符串类该类的接口与常规容器的接口基本相同，再添加了一些专门用来操作string的常规操作。string在底层实际是：basic_string模板类的别名，typedef basic_string&lt;char, char_traits, allocator&gt;
string;不能操作多字节或者变长字符的序列。 二.常见构造 string类提供了多种构造函数，用于创建字符串对象。这些构造函数允许你使用不同的方式初始化字符串，如使用字符数组、其他字符串对象、单个字符、或者一定数量的字符来填充。
注意：string 类重载了流插入和流体取，所以可以直接cin,cout;
string(); //构造一个空字符串 string(const char* s); //复制s所指的字符序列 string(const char* s, size_t n); //复制s所指字符序列的前n个字符 string(size_t n, char c); //生成n个c字符的字符串 string(const string&amp; str); //生成str的复制品 string(const string&amp; str, size_t pos, size_t len = npos); //复制str中从字符位置pos开始并跨越len个字符的部分 string(const string&amp; str, size_t pos); //复制str中从pos位置开始直到末尾的字符 使用示例：
string s1;	//构造空字符串 string s2(&#34;">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-05-21T15:53:00+08:00">
    <meta property="article:modified_time" content="2024-05-21T15:53:00+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【爱上C&#43;&#43;】万字详解string类1：经典常用接口、操作</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>hello，今天咱们进入C++中string类的学习，今天这部分主要讲解string类的部分经典常用接口，其他很少使用的接口要学会及时查文档，现查现用。string类的模拟实现和深浅拷贝问题放在后面一篇讲解。</p> 
<hr> 
<p></p> 
<div class="toc"> 
 <h4>目录</h4> 
 <ul><li>一.string类简介</li><li>二.常见构造</li><li>三.容量操作</li><li>四.访问及遍历操作</li><li><ul><li>1.下标+[ ]</li><li>2.at</li><li>拓展：try,catch 异常处理</li><li>3.迭代器</li><li>4.范围for</li><li>begin+end,rbegin+rend</li></ul> 
  </li><li>五.修改、运算操作（重点）</li><li><ul><li>拓展：C风格字符串与string类型字符串</li><li>1.字符串连接和追加</li><li>2.字符串插入</li><li>3.字符串删除</li><li>4.字符串替换</li><li>5.字符串交换</li><li>6.字符串赋值</li><li>7.字符串内容访问</li><li>8.字符串查找</li><li>9.字符串子序列提取</li></ul> 
  </li><li>六.非成员函数</li><li><ul><li>本篇文章思维导图</li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="string_7"></a>一.string类简介</h2> 
<blockquote> 
 <p>string类是C++标准库中的一个类，用于处理字符串。它封装了字符数组（通常是char类型）的操作，提供了许多方便的方法来创建、修改、访问和操作字符串。使用string类可以简化字符串的编程工作，并减少常见的错误，如缓冲区溢出.</p> 
</blockquote> 
<p>在使用string类时需要包含头文件#include&lt;<mark>string</mark>&gt; ,以及using namespace std;注意！不是C语言中是string.h<br> <a href="https://cplusplus.com/reference/string/string/" rel="nofollow">官方参考文档</a><br> <img src="https://images2.imgbox.com/b5/49/x7Vem9c0_o.png" alt="string类的文档介绍"><br> 上面是string类的文档介绍，在学习C++过程中，我们需要慢慢提高看英文文献，文档的能力。</p> 
<blockquote> 
 <ol><li>字符串是表示字符序列的类</li><li>标准的字符串类提供了对此类对象的支持，其接口类似于标准字符容器的接口，但添加了专门用于操作<br> 单字节字符字符串的设计特性。</li><li>string类是使用char(即作为它的字符类型，使用它的默认char_traits和分配器类型(关于模板的更多信<br> 息，请参阅basic_string)。</li><li>string类是basic_string模板类的一个实例，它使用char来实例化basic_string模板类，并用char_traits<br> 和allocator作为basic_string的默认参数(根于更多的模板信息请参考basic_string)。</li><li>注意，这个类独立于所使用的编码来处理字节:如果用来处理多字节或变长字符(如UTF-8)的序列，这个<br> 类的所有成员(如长度或大小)以及它的迭代器，将仍然按照字节(而不是实际编码的字符)来操作。</li></ol> 
</blockquote> 
<p><strong>总结：</strong></p> 
<blockquote> 
 <ol><li>string是表示字符串的字符串类</li><li>该类的接口与常规容器的接口基本相同，再添加了一些专门用来操作string的常规操作。</li><li>string在底层实际是：basic_string模板类的别名，typedef basic_string&lt;char, char_traits, allocator&gt;<br> string;</li><li>不能操作多字节或者变长字符的序列。</li></ol> 
</blockquote> 
<h2><a id="_31"></a>二.常见构造</h2> 
<blockquote> 
 <p>string类提供了多种构造函数，用于创建字符串对象。这些构造函数允许你使用不同的方式初始化字符串，如使用字符数组、其他字符串对象、单个字符、或者一定数量的字符来填充。</p> 
</blockquote> 
<p>注意：string 类重载了流插入和流体取，所以可以直接cin,cout;</p> 
<pre><code class="prism language-cpp"><span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//构造一个空字符串</span>

<span class="token function">string</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//复制s所指的字符序列</span>

<span class="token function">string</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> s<span class="token punctuation">,</span> size_t n<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//复制s所指字符序列的前n个字符</span>

<span class="token function">string</span><span class="token punctuation">(</span>size_t n<span class="token punctuation">,</span> <span class="token keyword">char</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//生成n个c字符的字符串</span>

<span class="token function">string</span><span class="token punctuation">(</span><span class="token keyword">const</span> string<span class="token operator">&amp;</span> str<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//生成str的复制品</span>

<span class="token function">string</span><span class="token punctuation">(</span><span class="token keyword">const</span> string<span class="token operator">&amp;</span> str<span class="token punctuation">,</span> size_t pos<span class="token punctuation">,</span> size_t len <span class="token operator">=</span> npos<span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token comment">//复制str中从字符位置pos开始并跨越len个字符的部分</span>

<span class="token function">string</span><span class="token punctuation">(</span><span class="token keyword">const</span> string<span class="token operator">&amp;</span> str<span class="token punctuation">,</span> size_t pos<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//复制str中从pos位置开始直到末尾的字符</span>
</code></pre> 
<p>使用示例：</p> 
<pre><code class="prism language-cpp">string s1<span class="token punctuation">;</span>							<span class="token comment">//构造空字符串</span>
	string <span class="token function">s2</span><span class="token punctuation">(</span><span class="token string">"hello world"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>			<span class="token comment">//复制hello world到s2</span>
	string <span class="token function">s3</span><span class="token punctuation">(</span><span class="token string">"hello,world"</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">//复制hello world的前3个字符</span>
	string <span class="token function">s4</span><span class="token punctuation">(</span>s2<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>				<span class="token comment">//从s2的0位置开始，复制4个</span>
	string <span class="token function">s5</span><span class="token punctuation">(</span>s2<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>					<span class="token comment">//从s2的3位置开始，一直复制到末尾</span>
	string <span class="token function">s6</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span><span class="token punctuation">;</span>						
	string s7 <span class="token operator">=</span> s2<span class="token punctuation">;</span>						<span class="token comment">//两个都是拷贝构造,复制s2的值</span>
	string <span class="token function">s8</span><span class="token punctuation">(</span>s2<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>			<span class="token comment">//第三个参数大于字符串长度，就是一直复制直到末尾</span>
	<span class="token comment">//注意区别s3和s5;</span>
	string <span class="token function">s9</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token char">'a'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>					<span class="token comment">//填充9个'a'</span>

<span class="token comment">//拓展：</span>
	string s10 <span class="token operator">=</span> s2<span class="token punctuation">;</span><span class="token comment">//拷贝赋值操作，将 s2 的内容复制到 s1 中。</span>
	string s11 <span class="token operator">=</span> <span class="token string">"hello"</span><span class="token punctuation">;</span>
	<span class="token comment">//字符串字面值会隐式转换为 std::string 对象，然后再赋给 s1。这涉及到了转换构造函数和拷贝赋值操作</span>
	string s12 <span class="token operator">=</span> <span class="token string">"x"</span><span class="token punctuation">;</span>
	<span class="token comment">//由于 std::string 类型重载了接受单个字符作为参数的赋值运算符 (operator=)，这行代码将一个只包含字符 'x' 的字符串赋给了 s1</span>
<span class="token comment">//注意：string s12='x';是错的</span>
<span class="token comment">//在 C++ 中，使用单引号括起来的字符 'x' 表示一个字符字面值（char literal），而不是字符串。因此，将一个字符字面值直接赋给一个 std::string 对象会导致编译错误，因为类型不匹配。要将字符 'x' 转换为一个字符串，可以使用双引号将其括起来，例如："x"。</span>
</code></pre> 
<p><strong>npos</strong>：在这个示例中，npos 并没有直接出现在代码中，而是作为string类的一个静态成员变量,<br> 表示字符串的末尾位置。它的值是一个特殊的常量 ，通常是一个 大整数值,用来表示字符<br> 串中的无效位置或者末尾位置。在构造函数的默认参数中，len 的默认值就是npos,这意<br> 味着<mark>如果不显式地指定长度，则会从起始位置一直复制到字符串的末尾。</mark><br> 总之,npos是string类来表示字符串末尾位置的特殊常量。</p> 
<h2><a id="_81"></a>三.容量操作</h2> 
<p><img src="https://images2.imgbox.com/ed/48/u20YyBP1_o.png" alt="容量操作"></p> 
<p><em><strong>☆讲解:</strong></em><br> <strong>1. <strong>size</strong></strong></p> 
<p><strong>2. <strong>length</strong></strong><br> size()与length()方法底层实现原理完全相同，引入size()的原因是为了与其他容器的接口保持一<br> 致，<mark>一般情况下基本都是用size()</mark>。size() 和 length() 的计算不包含 \0。</p> 
<pre><code class="prism language-cpp">	string <span class="token function">s1</span><span class="token punctuation">(</span><span class="token string">"hello,bit"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout<span class="token operator">&lt;&lt;</span>s1<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
	cout<span class="token operator">&lt;&lt;</span>s1<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
	<span class="token comment">//结果都是9</span>
</code></pre> 
<p><strong>3. <strong>capacity</strong></strong><br> 返回的是当前字符串对象的存储空间大小.</p> 
<pre><code class="prism language-cpp">	string <span class="token function">s1</span><span class="token punctuation">(</span><span class="token string">"abcdef"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> s1<span class="token punctuation">.</span><span class="token function">capacity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	 <span class="token comment">//我的VS下结果是15</span>
</code></pre> 
<ul><li>结果为什么是15呢？？？<br> 在很多实现中，string类采用动态数组作为底层实现，它会为字符串预留一些额外的存储空间，以减少频繁分配内存和释放内存的开销。值得注意的是，这个内部缓冲区的大小可以根据不同的标准库实现而异，因此并不是所有 C++ 标准库都会返回 15。此外，当你向字符串添加更多字符时，标准库会动态地重新分配内存，以适应更多的字符，所以 capacity() 的返回值可能会在运行时改变。<br> <strong>4. <strong>empty</strong></strong><br> empty()函数会返回一个布尔值，如果字符串为空，则返回true；如果字符串非空，则返回false。<br> <strong>5. <strong>clear</strong></strong><br> 清空有效字符。clear()只是将string中有效字符清空，不改变底层空间(capacity)大小。</li></ul> 
<pre><code class="prism language-cpp">	string <span class="token function">s</span><span class="token punctuation">(</span><span class="token string">"hello, bit!!!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> s<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> s<span class="token punctuation">.</span><span class="token function">capacity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> s <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	
	<span class="token comment">// 将s中的字符串清空，注意清空时只是将size清0，不改变底层空间的大小</span>
	s<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> s<span class="token punctuation">.</span><span class="token function">capacity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token comment">//结果如下</span>
<span class="token comment">//13</span>
<span class="token comment">//13</span>
<span class="token comment">//15</span>
<span class="token comment">//hello, bit!!!</span>
<span class="token comment">//0</span>
<span class="token comment">//15</span>
</code></pre> 
<p><strong>6. <strong>reserve</strong></strong></p> 
<ul><li>reserve 函数用于预分配足够的内存以容纳指定数量的字符。<mark>改变容量，但不改变字符串的内容和长度</mark></li><li>确定多少空间，就提前开好。</li><li>如果预留的空间大小大于当前字符串的容量，则会增加字符串的容量以满足预留的大小。</li><li>如果预留的空间大小小于或等于当前字符串的容量，则不会改变容量。</li><li>预留内存空间可以提高字符串添加字符时的性能，避免频繁的内存重新分配。</li><li>不能缩容</li></ul> 
<p><img src="https://images2.imgbox.com/7b/76/kq8tXVCp_o.png" alt="reserve用法展示"></p> 
<p><strong>7. <strong>resize</strong></strong></p> 
<ul><li>resize()函数用于改变字符串的<mark>实际长度</mark>，可以增加或减少字符串的长度。它接受一个整数参数，表示新的字符串长度。<mark>既影响容量也影响数据</mark>。</li><li>改变字符串长度<br> 最基本的用法是改变字符串的长度。通过调用resize()函数，可以将字符串的长度设置为指定的大小。如果增加字符串的长度，新增的部分会用空字符（’\0’）填充</li><li>截断字符串：（长度比当前字符串长度小）<br> 可以利用resize()函数截断字符串，即将字符串的长度缩短到指定大小。</li><li>填充字符串：<br> 可以在改变字符串长度的同时，用指定的字符填充剩余的部分。</li><li>保留原始内容：<br> 可以通过设置第二个参数为0来保留字符串的原始内容，而不进行填充。<br> <img src="https://images2.imgbox.com/65/41/BgeesTs1_o.png" alt="在这里插入图片描述"></li></ul> 
<p><strong>8. 拓展</strong></p> 
<ul><li>max_size():返回容器可以容纳的最大元素数量。但在实践中没什么参考和使用价值</li><li><strong>string类内存分配机制:</strong></li></ul> 
<blockquote> 
 <p><strong>基础概念</strong><br> std::string 是一个序列容器，它存储了字符序列，并提供了一系列的成员函数来操作这些字符。当 std::string &gt;中的字符数量超过当前分配的内存大小时，就需要进行扩容。<br> <strong>扩容过程</strong></p> 
 <ol><li>初始状态：一个新创建的 std::string 对象通常有一个较小的初始容量，足以容纳一些字符而无需立即分配内存。</li><li>增长：当向 std::string 添加字符，使其大小超过当前容量时，会发生扩容。扩容通常涉及以下几个步骤：<br> <strong>内存分配</strong>：分配一块新的、更大的内存块。这块内存的大小通常是当前容量的两倍（或者根据实现可能有不同的增长策略），以便于提供足够的空间来应对未来的增长，减少频繁分配内存的开销。<br> <strong>数据复制</strong>：将旧内存块中的数据复制到新的内存块中。<br> <strong>旧内存释放</strong>：释放原来较小的内存块。</li><li>reserve 方法：虽然 std::string 会自动进行扩容，但可以通过调用 reserve 方法来手动预留更大的容量。这可以避免在添加大量数据时进行多次内存分配。</li></ol> 
</blockquote> 
<h2><a id="_169"></a>四.访问及遍历操作</h2> 
<h3><a id="1__170"></a>1.下标+[ ]</h3> 
<p>operator[ ]函数允许直接通过索引访问字符串中的字符。并且该重载使用的是引用返回，所以我们可以通过[ ]+下标修改对应位置的元素。<br> <img src="https://images2.imgbox.com/10/98/d54wpQYX_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>char&amp; operator[] (size_t pos);------------------------可读可写<br> const char&amp; operator[] (size_t pos) const;--------只读</p> 
</blockquote> 
<pre><code class="prism language-cpp">string str <span class="token operator">=</span> <span class="token string">"Hello"</span><span class="token punctuation">;</span>
str<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token char">'h'</span><span class="token punctuation">;</span> <span class="token comment">// 可以访问、修改字符串中的字符</span>

<span class="token keyword">const</span> string str <span class="token operator">=</span> <span class="token string">"Hello"</span><span class="token punctuation">;</span>
<span class="token keyword">char</span> ch <span class="token operator">=</span> str<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 可以读取字符串中的字符，但无法修改</span>
</code></pre> 
<h3><a id="2at_185"></a>2.at</h3> 
<p>at 是一个成员函数，同样用于获取或设置字符串中特定位置的字符。与 operator[] 不同，at 检查索引是否有效，如果索引无效，它将抛出一个 std::out_of_range 异常。<br> 特点:</p> 
<ul><li>与 operator[] 不同，at()函数会检查索引是否越界，如果索引超出字符串范围，会抛出 std::out_of_range 异常。</li><li>at 允许读写访问。</li><li>由于提供了范围检查，因此更安全，但也可能会带来一定的性能损失</li></ul> 
<pre><code class="prism language-cpp">
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
    string s <span class="token operator">=</span> <span class="token string">"Hello, World!"</span><span class="token punctuation">;</span>
    <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 访问并打印指定位置的字符</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Character at index "</span>  <span class="token operator">&lt;&lt;</span> s<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token keyword">const</span> out_of_range<span class="token operator">&amp;</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Error: "</span> <span class="token operator">&lt;&lt;</span> e<span class="token punctuation">.</span><span class="token function">what</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="trycatch__205"></a>拓展：try,catch 异常处理</h3> 
<p>这里先简单介绍一下C++中的异常，<mark>看不懂没关系</mark>，先了解皮毛，深入内容后续会进行讲解。</p> 
<p>C++ 中的异常处理主要依赖于 try、catch 和 throw 语句。下面将详细介绍这些语句的用法和格式，以及它们在异常处理中的作用。</p> 
<ol><li>throw 语句<br> throw 语句用于抛出一个异常。当程序中出现某些特殊情况（如无效输入、资源不可用等）时，可以使用 throw 语句抛出一个异常。这个异常可以是内置类型（如 int、char 等），也可以是自定义的类型。</li></ol> 
<pre><code class="prism language-cpp"><span class="token keyword">throw</span> <span class="token string">"Invalid input"</span><span class="token punctuation">;</span>  <span class="token comment">// 抛出一个字符串常量异常   </span>
<span class="token keyword">throw</span> std<span class="token double-colon punctuation">::</span><span class="token function">runtime_error</span><span class="token punctuation">(</span><span class="token string">"Invalid input"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 抛出一个标准库中的异常类型</span>
</code></pre> 
<ol start="2"><li>try 和 catch 语句<br> try 和 catch 语句一起用于捕获和处理异常。try 块中包含可能抛出异常的代码，而 catch 块则负责捕获并处理这些异常。</li></ol> 
<pre><code class="prism language-cpp"><span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>  
    <span class="token comment">// 可能抛出异常的代码块  </span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>异常类型<span class="token number">1</span> 参数名<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>  
    <span class="token comment">// 处理异常类型1的代码  </span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>异常类型<span class="token number">2</span> 参数名<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>  
    <span class="token comment">// 处理异常类型2的代码  </span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>  
    <span class="token comment">// 处理其他所有未被前面catch块捕获的异常  </span>
<span class="token punctuation">}</span>
</code></pre> 
<p>示例：</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span>  </span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdexcept&gt;</span>  <span class="token comment">// 包含标准异常类  </span></span>
  
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>  
    <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>  
        <span class="token keyword">throw</span> std<span class="token double-colon punctuation">::</span><span class="token function">runtime_error</span><span class="token punctuation">(</span><span class="token string">"Something went wrong"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 抛出一个异常  </span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token keyword">const</span> std<span class="token double-colon punctuation">::</span>runtime_error<span class="token operator">&amp;</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>  <span class="token comment">// 捕获 runtime_error 类型的异常  </span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Caught an exception: "</span> <span class="token operator">&lt;&lt;</span> e<span class="token punctuation">.</span><span class="token function">what</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>  
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>  <span class="token comment">// 捕获其他所有类型的异常  </span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Caught an unknown exception"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>  
    <span class="token punctuation">}</span>  
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>  
<span class="token punctuation">}</span>
</code></pre> 
<p>在这个示例中，try 块中抛出了一个 std::runtime_error 类型的异常。这个异常被第一个 catch 块捕获，并输出异常信息。如果 try 块中抛出了其他类型的异常，它将被第二个 catch 块捕获。</p> 
<ol start="3"><li>try / catch 的使用注意事项：<br> 异常类型匹配：当异常被抛出时，会按照 catch 块的顺序进行匹配。因此，更具体的异常类型应该放在前面，而更一般的异常类型（如 …）应该放在后面。<br> 异常传播：如果在 catch 块中没有处理某种类型的异常，或者使用了 throw; 语句而没有捕获该异常，该异常会继续传播并被外层的 catch 块所处理（如果有的话）。<br> 资源清理：在 try / catch 块中，通常还需要注意资源的清理工作，确保在异常发生时能够正确释放已分配的资源。这通常通过使用智能指针、RAII（Resource Acquisition Is Initialization）等技术来实现。<br> 异常安全：在设计异常安全的代码时，需要考虑如何在异常发生时保持数据的一致性和完整性。这通常涉及到使用事务、日志记录、回滚等操作。<br> 性能考虑：虽然异常处理为程序提供了强大的错误处理能力，但频繁地抛出和捕获异常可能会对性能产生影响。因此，在设计系统时应权衡异常处理的必要性和性能之间的关系。</li></ol> 
<h3><a id="3_257"></a>3.迭代器</h3> 
<p>这里先简单介绍一下迭代器，然后再讲解如何使用。<mark>看不懂不必担心，后续会详细介绍</mark><br> <strong>迭代器简单介绍：</strong></p> 
<blockquote> 
 <p>在C++中，迭代器（Iterator）是一种抽象概念，用于提供一种方法来按顺序访问容器中的元素。迭代器允许算法和函数以一种通用的方式遍历各种类型的容器，而不需要关心容器的具体实现细节。迭代器在C++ STL（Standard Template Library）中扮演着非常重要的角色。<br> <strong>迭代器的分类:</strong></p> 
 <ol><li>输入迭代器（Input Iterator）：允许你读取容器中的每个元素一次。</li><li>输出迭代器（Output Iterator）：允许你向容器写入每个元素一次。</li><li>前向迭代器（Forward Iterator）：结合了输入和输出迭代器的特性，并允许多次读取。</li><li>双向迭代器（Bidirectional Iterator）：前向迭代器加上能够向前和向后移动的能力。</li><li>随机访问迭代器（Random Access Iterator）：双向迭代器加上能够随机访问容器中任意位置元素的能力，还可以进行比较和数值运算。<br> <strong>迭代器的基本操作</strong></li></ol> 
 <ul><li>解引用（Dereference）：通过迭代器访问元素的值。</li><li>递增（Increment）：移动到容器的下一个元素。</li><li>递减（Decrement）：移动到容器的上一个元素（双向迭代器）。</li><li>相等和不等比较：比较两个迭代器是否相等或不等。</li></ul> 
</blockquote> 
<blockquote> 
 <p>示例1：使用迭代器遍历 vector</p> 
</blockquote> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> vec <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token comment">// 使用迭代器遍历vector</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>iterator it <span class="token operator">=</span> vec<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> it <span class="token operator">!=</span> vec<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>it<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>it <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span> <span class="token comment">// 解引用迭代器并打印元素</span>
    <span class="token punctuation">}</span>
    cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<blockquote> 
 <p>示例2：使用迭代器修改 list 中的元素</p> 
</blockquote> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;list&gt;</span></span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>

    list<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> lst <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token comment">// 使用迭代器修改list中的元素</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>list<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>iterator it <span class="token operator">=</span> lst<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> it <span class="token operator">!=</span> lst<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>it<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token operator">*</span>it <span class="token operator">+=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">// 解引用迭代器并增加10</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 打印修改后的list</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>list<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>iterator it <span class="token operator">=</span> lst<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> it <span class="token operator">!=</span> lst<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>it<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>it <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> 
<blockquote> 
 <p>示例3：使用 advance 函数移动迭代器（随机访问迭代器）</p> 
</blockquote> 
<pre><code class="prism language-cpp">	vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> vec <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>iterator it <span class="token operator">=</span> vec<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 使用std::advance移动迭代器</span>
    <span class="token function">advance</span><span class="token punctuation">(</span>it<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 将迭代器移动到第四个元素</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"The fourth element is: "</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>it <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
</code></pre> 
<p><strong>☆正文 ——用迭代器遍历:</strong></p> 
<pre><code class="prism language-cpp"><span class="token comment">//使用迭代器遍历 std::string</span>

<span class="token comment">//std::string 提供了 begin() 和 end() 成员函数，分别返回指向字符串第一个字符和末尾（字符串最后一个字符之后的位置）的迭代器。</span>
	string str <span class="token operator">=</span> <span class="token string">"Hello, World!"</span><span class="token punctuation">;</span>
	string<span class="token double-colon punctuation">::</span>iterator it <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>it <span class="token operator">!=</span> s<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token operator">*</span>it<span class="token operator">+=</span><span class="token number">1</span><span class="token punctuation">;</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>it <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
		<span class="token operator">++</span>it<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
<span class="token comment">//使用const_iterator遍历字符串（推荐做法）</span>
    <span class="token comment">//for (string::const_iterator it = str.begin(); it != str.end(); ++it)</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span>  it <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> it <span class="token operator">!=</span> str<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>it<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token punctuation">{<!-- --></span>    
        cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>it<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token comment">//使用迭代器遍历 std::vector</span>
	vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> v<span class="token punctuation">;</span>
	v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>iterator vit <span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//迭代器都是左闭右开！</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>vit <span class="token operator">!=</span> v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>vit <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>
		<span class="token operator">++</span>vit<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token comment">//使用迭代器遍历 std::list</span>
	list<span class="token operator">&lt;</span><span class="token keyword">double</span><span class="token operator">&gt;</span> lt<span class="token punctuation">;</span>
	lt<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">1.2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	lt<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">1.3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	lt<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">1.4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	lt<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">1.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	list<span class="token operator">&lt;</span><span class="token keyword">double</span><span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>iterator lit <span class="token operator">=</span> lt<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>lit <span class="token operator">!=</span> lt<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>lit <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>
		lit<span class="token operator">++</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

<span class="token comment">//迭代器的一些其他用法：</span>

	<span class="token comment">//使用reverse函数逆置string</span>
	<span class="token function">reverse</span><span class="token punctuation">(</span>s1<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> s1<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 从begin到end逆置字符串</span>
	cout <span class="token operator">&lt;&lt;</span> s1 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">// 打印逆置后的字符串</span>

	<span class="token comment">//逆置vector</span>
	<span class="token function">reverse</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 逆置vector中的元素</span>
	vit <span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 重置迭代器到vector的开始</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>vit <span class="token operator">!=</span> v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 再次遍历vector</span>
	<span class="token punctuation">{<!-- --></span>
   	 	cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>vit <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span> <span class="token comment">// 打印逆置后的元素</span>
   	 	<span class="token operator">++</span>vit<span class="token punctuation">;</span> <span class="token comment">// 移动迭代器</span>
	<span class="token punctuation">}</span>
	cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> 

</code></pre> 
<h3><a id="4for_392"></a>4.范围for</h3> 
<blockquote> 
 <p>for 循环的范围版本是 C++11 引入的一种方便的循环结构，它允许直接遍历容器中的元素，并且在处理字符串时也非常实用。</p> 
</blockquote> 
<p>范围 for 循环的<strong>基本语法</strong></p> 
<pre><code class="prism language-cpp"><span class="token keyword">for</span> <span class="token punctuation">(</span>declaration <span class="token operator">:</span> expression<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 循环体</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>declaration 是循环变量的类型和名称，expression 是一个容器，其元素会被遍历<br> <strong>☆综合使用:</strong></p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    string str <span class="token operator">=</span> <span class="token string">"hello"</span><span class="token punctuation">;</span>
    <span class="token comment">// 1. 遍历访问字符串中的字符</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">char</span> c <span class="token operator">:</span> str<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        cout <span class="token operator">&lt;&lt;</span> c <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span> <span class="token comment">// 输出当前字符</span>
    <span class="token punctuation">}</span>
  

    <span class="token comment">// 2. 修改字符串中的字符</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">&amp;</span>c <span class="token operator">:</span> str<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// 引用类型，可以直接修改字符串中的字符</span>
        c <span class="token operator">=</span> <span class="token function">toupper</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 将字符转换为大写形式</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// 3. 遍历访问字符串中的索引和字符</span>
  	size_t index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> c <span class="token operator">:</span> str<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Index: "</span> <span class="token operator">&lt;&lt;</span> index<span class="token operator">++</span> <span class="token operator">&lt;&lt;</span> <span class="token string">", Character: "</span> <span class="token operator">&lt;&lt;</span> c <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 4. 遍历访问字符串中的字符（只读）</span>
    <span class="token keyword">const</span> string const_str <span class="token operator">=</span> <span class="token string">"world"</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">char</span> c <span class="token operator">:</span> const_str<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// 注意字符串为 const，因此迭代器也是 const 的</span>
        cout <span class="token operator">&lt;&lt;</span> c <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span> <span class="token comment">// 输出当前字符</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 5. 遍历访问字符串中的字符（逆序）</span>
    string reversed_str <span class="token operator">=</span> <span class="token string">"dlrow"</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">char</span> c <span class="token operator">:</span> <span class="token function">string</span><span class="token punctuation">(</span>reversed_str<span class="token punctuation">.</span><span class="token function">rbegin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> reversed_str<span class="token punctuation">.</span><span class="token function">rend</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// 使用逆向迭代器构造逆序字符串</span>
        cout <span class="token operator">&lt;&lt;</span> c <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span> <span class="token comment">// 输出当前字符</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="beginendrbeginrend_442"></a>begin+end,rbegin+rend</h3> 
<ul><li>begin() 返回指向字符串首字符的迭代器。这个位置是包含的（左闭）。</li><li>end() 返回指向字符串尾后字符的迭代器。这个位置是不包含的（右开）。</li><li>rbegin() 返回指向字符串最后一个字符的反向迭代器。这个位置是包含的（左闭）</li><li>rend() 返回指向字符串首前字符的反向迭代器。这个位置是不包含的（右开）。</li></ul> 
<pre><code class="prism language-cpp">    string s <span class="token operator">=</span> <span class="token string">"Hello, World!"</span><span class="token punctuation">;</span>  
    <span class="token comment">// 使用begin()和end()遍历字符串  </span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> it <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> it <span class="token operator">!=</span> s<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>it<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>  
        cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>it<span class="token punctuation">;</span> <span class="token comment">// 输出字符串中的每个字符  </span>
    <span class="token punctuation">}</span>  

	<span class="token comment">// 使用rbegin()和rend()逆序遍历字符串  </span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> rit <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">rbegin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> rit <span class="token operator">!=</span> s<span class="token punctuation">.</span><span class="token function">rend</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>rit<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>  
        cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>rit<span class="token punctuation">;</span> <span class="token comment">// 逆序输出字符串中的每个字符  </span>
    <span class="token punctuation">}</span>  

</code></pre> 
<p><img src="https://images2.imgbox.com/9b/cf/y7H4FFNr_o.png" alt="在这里插入图片描述"><br> 给定字符“Hello, World!”，以上四个迭代器分别指向什么？<br> <img src="https://images2.imgbox.com/31/f4/LDbBrPvM_o.png" alt="在这里插入图片描述"><br> begin()：指向字符串的第一个字符 ‘H’。<br> end()：指向字符串最后一个字符之后的位置（即字符串结尾的’\0’之后的位置，但并不是指向’\0’，因为std::string内部并不以’\0’结尾，这里的end()是一个逻辑上的尾后位置）。<br> rbegin()：指向字符串的最后一个字符（不包括字符串结尾的’\0’），在这个例子中是 ‘!’。<br> rend()：指向字符串第一个字符之前的位置，也就是反向迭代器的“尾后”位置。</p> 
<h2><a id="_468"></a>五.修改、运算操作（重点）</h2> 
<h3><a id="Cstring_469"></a>拓展：C风格字符串与string类型字符串</h3> 
<ol><li>C风格字符串,一般参数都是const char *s。</li></ol> 
<ul><li>以null终止：字符串以空字符 \0 结尾，这个字符不是字符串的一部分，但用来标识字符串的结束</li><li>字符数组：C风格字符串实际上是一个字符数组，数组中的最后一个元素是空字符。</li><li>不安全：由于不包含长度信息，C风格字符串容易受到缓冲区溢出等安全问题的影响。</li><li>操作限制：C风格字符串的操作通常需要使用C语言标准库中的字符串处理函数，如 strlen(), strcpy(), strcat() 等。</li></ul> 
<pre><code class="prism language-cpp">	<span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> s1 <span class="token operator">=</span> <span class="token string">"Hello,world!"</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> s1 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
</code></pre> 
<ol start="2"><li>C++ string 类（const string&amp; str）</li></ol> 
<ul><li>对象类型：std::string 是一个完整的类类型，封装了字符串数据和操作- 字符串所需的函数。</li><li>自动内存管理：std::string 自动管理内存，避免了缓冲区溢出的风险。</li><li>内置函数：std::string 提供了丰富的成员函数，如 append(), substr(), find(), replace() 等，用于执行各种字符串操作。</li><li>类型安全：std::string 是类型安全的，它不允许修改字符串的内部表示，只能通过成员函数进行操作。</li><li>支持泛型编程：std::string 可以与C++的模板算法一起使用，如 std::sort(), std::for_each() 等。</li></ul> 
<pre><code class="prism language-cpp">	string s1<span class="token operator">=</span><span class="token string">"Date"</span><span class="token punctuation">;</span>
	cout<span class="token operator">&lt;&lt;</span>s1<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
</code></pre> 
<h3><a id="1_489"></a>1.字符串连接和追加</h3> 
<ul><li>append: 将另一个字符串或字符序列添加到当前字符串的末尾。</li></ul> 
<pre><code class="prism language-cpp">	string s1<span class="token punctuation">;</span>
	string <span class="token function">s2</span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span> s3<span class="token operator">=</span><span class="token string">"Date"</span><span class="token punctuation">;</span>
	s1<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//将字符串Date添加到s1的末尾</span>
	s1<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>s3<span class="token punctuation">)</span><span class="token comment">//将字符串hello添加到s1的末尾</span>
	s1<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>s2<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//追加s2的从0开始的4个字符到s2</span>
	s1<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>s2<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//追加s2的从0开始到末尾的所有字符到s2</span>
	s1<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>s3<span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//仅追加s3的前4个字符到s1末尾</span>
	s1<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token char">'x'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//追加十个'x';</span>
</code></pre> 
<ul><li>operator+=: 将一个字符串或字符序列添加到当前字符串的末尾。</li></ul> 
<pre><code class="prism language-cpp">	string s1<span class="token operator">=</span><span class="token string">"Date"</span><span class="token punctuation">;</span>
	str<span class="token operator">+=</span><span class="token string">"Hello"</span><span class="token punctuation">;</span><span class="token comment">// 将字符串"Append"添加到s1的末尾</span>
	str<span class="token operator">+=</span><span class="token char">'!'</span><span class="token punctuation">;</span><span class="token comment">//在s1末尾追加单个字符'!'</span>
	string s2 <span class="token operator">=</span> <span class="token string">"World!"</span><span class="token punctuation">;</span>
	s1<span class="token operator">+=</span>s2<span class="token punctuation">;</span><span class="token comment">// 将字符数组s2追加到s1末尾</span>
</code></pre> 
<h3><a id="2_510"></a>2.字符串插入</h3> 
<ul><li>insert: 在字符串的指定位置插入字符、字符串或字符序列。</li></ul> 
<pre><code class="prism language-cpp">	string s<span class="token operator">=</span><span class="token string">"Hello"</span><span class="token punctuation">;</span>
	s<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token number">2.</span>‘ ’<span class="token punctuation">)</span>；
	s<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token string">"World"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//在位置6插入字符串“World”</span>
	s<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token char">'!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//在12的位置插入三个！</span>
	s<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>s1<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token char">'y'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h3><a id="3_519"></a>3.字符串删除</h3> 
<ul><li>erase: 删除字符串中指定位置的字符或指定范围内的字符序列。</li></ul> 
<pre><code class="prism language-cpp">	string <span class="token function">str</span><span class="token punctuation">(</span><span class="token string">"hello world"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	s1<span class="token punctuation">.</span><span class="token function">erase</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token comment">//删除位置5开始的四个字符</span>
	s1<span class="token punctuation">.</span><span class="token function">erase</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//删除位置5开始一直到末尾的字符。</span>

</code></pre> 
<ul><li>push_back: 在字符串末尾追加单个字符（虽然 push_back 通常与容器相关，但在这里它相当于在字符串末尾追加一个字符）。</li></ul> 
<pre><code class="prism language-cpp">	string s<span class="token punctuation">;</span>
<span class="token comment">// 在字符串末尾追加字符'H'</span>
	s<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token char">'H'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre> 
<h3><a id="4_534"></a>4.字符串替换</h3> 
<ul><li>replace: 用另一个字符串或字符序列替换字符串中的一部分。<br> replace效率很低，能不用就不用。</li></ul> 
<pre><code class="prism language-cpp">	string str <span class="token operator">=</span> <span class="token string">"Hello, world!"</span><span class="token punctuation">;</span>
  	str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">"everyone"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 在字符串 str中位置 7（从0开始计数，对应于空格后面的 'w'）开始的 5 个字符（"world"）替换为 "everyone"，</span>
</code></pre> 
<h3><a id="5_542"></a>5.字符串交换</h3> 
<ul><li>swap: 交换两个字符串的内容。</li></ul> 
<h3><a id="6_544"></a>6.字符串赋值</h3> 
<ul><li>assign: 替换当前字符串的内容为另一个字符串、子字符串、字符数组或多个重复字符。</li></ul> 
<h3><a id="7_547"></a>7.字符串内容访问</h3> 
<ul><li>c_str: 返回一个指向以空字符终止的字符数组（C风格字符串）的指针。</li></ul> 
<blockquote> 
 <p>FILE *fopen (const char *filename , const char *mode);</p> 
</blockquote> 
<p>当我们试图使用C++的std::string来调用fopen时，会遇到一个问题：std::string不是一个以空字符结尾的字符数组，它是一个类，拥有自己的内部表示和内存管理。因此，我们不能直接将std::string对象传递给fopen函数。</p> 
<p>为了解决这个问题，C++的std::string类提供了一个成员函数c_str()，它的作用是返回一个指向以空字符结尾的字符数组的指针，这个数组的内容与std::string对象相同。这样，我们就可以使用这个指针来调用期望C风格字符串的C语言库函数了。</p> 
<pre><code class="prism language-cpp"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	string <span class="token function">filename</span><span class="token punctuation">(</span><span class="token string">"test1.cpp"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//FILE* fout = fopen(filename, "r");</span>
	FILE<span class="token operator">*</span> fout <span class="token operator">=</span> <span class="token function">fopen</span><span class="token punctuation">(</span>filename<span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"r"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">char</span> ch <span class="token operator">=</span> <span class="token function">fgetc</span><span class="token punctuation">(</span>fout<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>ch <span class="token operator">!=</span> <span class="token constant">EOF</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		cout <span class="token operator">&lt;&lt;</span> ch<span class="token punctuation">;</span>
		ch <span class="token operator">=</span> <span class="token function">fgetc</span><span class="token punctuation">(</span>fout<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="8_570"></a>8.字符串查找</h3> 
<ul><li>find + npos: 从字符串的特定位置开始搜索给定字符，直到找到或到达字符串末尾，返回字符位置，未找到时返回 std::string::npos。</li><li>rfind: 从字符串<mark>末尾</mark>开始向前搜索给定字符，直到找到或到达字符串开始位置，返回字符位置，未找到时返回 std::string::npos。</li></ul> 
<pre><code class="prism language-cpp">	string str <span class="token operator">=</span> <span class="token string">"Hello, world! Hello, C++!"</span><span class="token punctuation">;</span>
	size_t pos<span class="token operator">=</span>s<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token char">'l'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//查找字符'l'的第一个出现位置</span>
    size_t pos <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">"World"</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 从位置6开始查找"World"</span>
    
<span class="token comment">// 使用 find 函数查找子字符串的位置</span>
    size_t found <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">"Hello"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>found <span class="token operator">!=</span> string<span class="token double-colon punctuation">::</span>npos<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        cout <span class="token operator">&lt;&lt;</span> found <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    std<span class="token double-colon punctuation">::</span>string s <span class="token operator">=</span> <span class="token string">"Hello, World!"</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> cstr <span class="token operator">=</span> <span class="token string">"llo Worl"</span><span class="token punctuation">;</span>
    size_t pos <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>cstr<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//是从 s 的位置 0 开始，查找 cstr 的前5个字符是否在 s 中出现。如果找到，它返回匹配的起始位置</span>
    
    
    size_t pos <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">rfind</span><span class="token punctuation">(</span><span class="token char">'l'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 查找字符'l'的最后一个出现位置</span>
    <span class="token comment">// 使用 rfind 函数查找子字符串最后一次出现的位置</span>
    size_t rfound <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">rfind</span><span class="token punctuation">(</span><span class="token string">"Hello"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>rfound <span class="token operator">!=</span> string<span class="token double-colon punctuation">::</span>npos<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        cout<span class="token operator">&lt;&lt;</span> rfound <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

</code></pre> 
<ul><li>find_first_of: 查找当前字符串中第一次出现指定字符集中的任何字符的位置，返回该位置，未找到时返回 std::string::npos。</li><li>find_first_not_of: 查找当前字符串中第一次出现不在指定字符集中的任何字符的位置，返回该位置，未找到时返回 std::string::npos。</li><li>find_last_of: 查找当前字符串中最后一次出现指定字符集中的任何字符的位置，返回该位置，未找到时返回 std::string::npos。</li><li>find_last_not_of: 查找当前字符串中最后一次出现不在指定字符集中的任何字符的位置，返回该位置，未找到时返回 std::string::npos。</li></ul> 
<pre><code class="prism language-cpp">    string s <span class="token operator">=</span> <span class="token string">"Hello, World! This is a test string with multiple words."</span><span class="token punctuation">;</span>
    <span class="token comment">// 查找第一个不在 "o" 中的字符</span>
    size_t pos1 <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">find_first_not_of</span><span class="token punctuation">(</span><span class="token string">"o"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"First non-'o' character at: "</span> <span class="token operator">&lt;&lt;</span> pos1 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token comment">//0</span>
    <span class="token comment">// 查找第一个在 "HW " 中的字符</span>
    size_t pos2 <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">find_first_of</span><span class="token punctuation">(</span><span class="token string">"HW "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"First character in 'HW ' at: "</span> <span class="token operator">&lt;&lt;</span> pos2 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token comment">//0</span>
    <span class="token comment">// 查找最后一个在 "l" 中的字符</span>
    size_t pos3 <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">find_last_of</span><span class="token punctuation">(</span><span class="token string">"l"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Last 'l' character at: "</span> <span class="token operator">&lt;&lt;</span> pos3 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token comment">//49</span>
    <span class="token comment">// 查找最后一个不在 "t " 中的字符</span>
    size_t pos4 <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">find_last_not_of</span><span class="token punctuation">(</span><span class="token string">"t "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Last non-'t ' or non-space character at: "</span> <span class="token operator">&lt;&lt;</span> pos4 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token comment">//48,字符d</span>
</code></pre> 
<h3><a id="9_621"></a>9.字符串子序列提取</h3> 
<ul><li>substr: 返回字符串中从指定位置开始、指定长度的子字符串</li></ul> 
<blockquote> 
 <p>string substr(size_t pos = 0, size_t len = npos) const</p> 
</blockquote> 
<pre><code class="prism language-cpp">    string str <span class="token operator">=</span> <span class="token string">"Hello, world!"</span><span class="token punctuation">;</span>
    <span class="token comment">// 使用 substr 函数提取子字符串</span>
    string sub1 <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 从位置 7 开始到字符串末尾的所有字符</span>
    string sub2 <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 从位置 0 开始，长度为 5 的子字符串</span>
 
<span class="token punctuation">}</span>



</code></pre> 
<h2><a id="_635"></a>六.非成员函数</h2> 
<p><img src="https://images2.imgbox.com/cb/38/88FqFJzW_o.png" alt="非成员函数"></p> 
<ol><li>operator+</li></ol> 
<blockquote> 
 <p>string operator+(const string&amp; lhs, const string&amp; rhs);<br> 缺点：每次连接都会创建一个新的字符串对象，效率较低，尤其是当连接次数较多时会导致内存分配和释放的开销。</p> 
</blockquote> 
<pre><code class="prism language-cpp">	string s1<span class="token operator">=</span><span class="token string">"Hello, "</span><span class="token punctuation">;</span>
	string s2<span class="token operator">=</span><span class="token string">"World!"</span><span class="token punctuation">;</span>
	string result<span class="token operator">=</span>s1<span class="token operator">+</span>s2<span class="token punctuation">;</span>
</code></pre> 
<ol start="2"><li> <p>operator&gt;&gt;</p> </li><li> <p>operator&lt;&lt;<br> 我们可以直接cin&gt;&gt;,cout&lt;&lt; string类字符串</p> </li><li> <p>getline<br> 我们都知道，cin 和 scanf 在默认情况下将空格和换行符视为分隔符。这意味着它们在读取输入时会以空格或换行符为界限将输入分割成不同的部分。当我想输入一行字符串"ABCD E"，作为一个整体的时候，系统自动把他们分为ABCD和E两个部分，此时getline就能派上用场了。<br> 以下面这道题为例子<br> <img src="https://images2.imgbox.com/3a/11/8XoKFwM1_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/1f/42/lizxSQvX_o.png" alt="在这里插入图片描述"><br> 应该输出1为什么输出4呢？因为cin&gt;&gt;默认以空格为分隔符，因此它会将字符串中的第一个单词 “ABCD” 读取到变量 str 中，而将第二个单词 “T” 忽略。我们把cin&gt;&gt;str换成getline(cin, str);就可以了</p> </li></ol> 
<pre><code class="prism language-cpp"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    string str<span class="token punctuation">;</span>
    <span class="token function">getline</span><span class="token punctuation">(</span>cin<span class="token punctuation">,</span> str<span class="token punctuation">)</span><span class="token punctuation">;</span>
    size_t pos <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">rfind</span><span class="token punctuation">(</span><span class="token char">' '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>pos <span class="token operator">!=</span> string<span class="token double-colon punctuation">::</span>npos<span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        cout <span class="token operator">&lt;&lt;</span> str<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> pos <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token comment">//注意这里的位置</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span><span class="token comment">//找不到的时候(只有一串没有空格的字符串)</span>
        cout <span class="token operator">&lt;&lt;</span> str<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//cin 和scanf默认用换行和空格进行分割</span>

</code></pre> 
<ol start="5"><li>relational operators<br> 在C++中，std::string 类重载了关系运算符，允许你比较两个字符串。这些运算符包括 ==（等于）、!=（不等于）、&lt;（小于）、&lt;=（小于等于）、&gt;（大于）和 &gt;=（大于等于）</li></ol> 
<h3><a id="_685"></a>本篇文章思维导图</h3> 
<p>C++ std::string 类详解<br> |<br> ├── 一、string类简介<br> │ ├── 定义：C++标准库中的类，用于处理字符串<br> │ ├── 封装：字符数组的操作<br> │ ├── 头文件：#include <br> │ ├── 命名空间：using namespace std;<br> │ └── 底层实现：basic_string&lt;char, char_traits, allocator&gt;模板类的实例化<br> |<br> ├── 二、常见构造<br> │ ├── 构造函数：多种方式初始化字符串对象<br> │ ├── 示例：使用不同构造函数创建字符串<br> │ └── npos：表示字符串末尾位置的特殊常量<br> |<br> ├── 三、容量操作<br> │ ├── size() / length()：返回字符串长度<br> │ ├── capacity()：返回字符串对象的存储空间大小<br> │ ├── empty()：检查字符串是否为空<br> │ ├── clear()：清空字符串<br> │ ├── reserve()：预分配内存<br> │ └── resize()：改变字符串长度<br> |<br> ├── 四、访问及遍历操作<br> │ ├── 下标 []：直接访问字符串中的字符<br> │ ├── at()：安全访问字符串中的字符<br> │ ├── 迭代器：begin() / end() / rbegin() / rend()<br> │ └── 范围for：方便遍历字符串<br> |<br> ├── 五、修改、运算操作<br> │ ├── 字符串连接和追加：append() / operator+=<br> │ ├── 字符串插入：insert()<br> │ ├── 字符串删除：erase()<br> │ ├── 字符串替换：replace()<br> │ ├── 字符串交换：swap()<br> │ ├── 字符串赋值：assign()<br> │ ├── 字符串内容访问：c_str()<br> │ ├── 字符串查找：find() / rfind() / find_first_of() 等<br> │ └── 字符串子序列提取：substr()<br> |<br> └── 六、非成员函数<br> ├── operator+：连接两个字符串<br> ├── operator&gt;&gt; / operator&lt;&lt;：输入输出运算符重载<br> ├── getline：从输入流中读取一行字符串<br> └── relational operators：比较字符串</p> 
<p><img src="https://images2.imgbox.com/5b/2c/wIR4WsuJ_o.png" alt="在这里插入图片描述"></p> 
<pre><code>由于作者水平有限，本文有错误和不准确之处在所难免，
本人也很想知道这些错误，恳望读者批评指正！欢迎交流学习！
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/5b2691316638f7798ab0be5b80a40e3a/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【Web】CISCN 2024初赛 题解(全)</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a9ae3eb316d81e3d1540882e35078937/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Python 可视化 web 神器：streamlit、Gradio、dash、nicegui；低代码 Python Web 框架：PyWebIO</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>