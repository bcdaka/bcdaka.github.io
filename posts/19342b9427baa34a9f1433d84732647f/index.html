<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>基于python flask &#43;pyecharts实现的气象数据可视化分析大屏 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/19342b9427baa34a9f1433d84732647f/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="基于python flask &#43;pyecharts实现的气象数据可视化分析大屏">
  <meta property="og:description" content="背景 气象数据可视化分析大屏基于Python Flask和Pyecharts技术，旨在通过图表展示气象数据的分析结果，提供直观的数据展示和分析功能。在当今信息化时代，气象数据的准确性和实时性对各行业具有重要意义。通过搭建气象数据可视化分析大屏，用户可以实时监测和分析气象数据趋势，帮助决策者制定有效的应对措施。该系统将为气象领域的研究人员、气象服务机构和相关行业提供强大的数据分析和决策支持，推动气象信息化应用的发展和提升。
前端设计 前端设计的关键步骤：
页面布局设计： 使用Flex布局将页面分为左侧、中间和右侧三个主要部分，每个部分包含多个子元素。
左侧和右侧各包含三个垂直排列的子元素，用于展示不同类型的数据。
中间部分用于显示地图数据，并包含一个计时器显示当前时间。
样式设计： 设置全局样式，包括页面背景色、字体颜色、间距等，确保页面整体风格统一。
设计每个数据展示框的样式，包括边框样式、高度、宽度等，使其具有辨识度。
为表格容器添加滚动条样式，确保表格数据超出容器高度时可以滚动查看。
数据填充与更新： 使用JavaScript和jQuery库实现数据的动态填充和更新，通过Ajax请求从后端获取最新数据并更新图表。
在表格部分，根据后端返回的数据动态生成表格行，并实现表格的滚动效果。
图表展示： 使用ECharts库初始化各个图表实例，并根据后端返回的数据更新图表内容。
不仅展示静态图表，还可以通过定时器定时刷新数据，实现实时数据展示。
通过以上设计，可以实现一个交互性强、信息展示清晰的气象数据可视化大屏，为用户提供直观、动态的数据分析和监控功能。
后端设计 主要代码
import json # from 天气处理 import * app = Flask(__name__, static_folder=&#34;templates&#34;) textstyle = opts.TextStyleOpts(color=&#34;white&#34;) idx = 9 import pandas as pd def chuli(): df=pd.read_csv(r&#39;C:\Users\Administrator\Desktop\天气大屏flask&#43;pyecharts\Flask_DataView_new\天气数据.csv&#39;) df[&#39;省份&#39;]=df[&#39;省份&#39;].str.replace(&#39;历史天气&#39;,&#39;&#39;) # 完整的省份映射字典 mapping_dict = { &#34;北京&#34;: &#34;北京市&#34;, &#34;天津&#34;: &#34;天津市&#34;, &#34;河北&#34;: &#34;河北省&#34;, &#34;山西&#34;: &#34;山西省&#34;, &#34;内蒙古&#34;: &#34;内蒙古自治区&#34;, &#34;辽宁&#34;: &#34;辽宁省&#34;, &#34;吉林&#34;: &#34;吉林省&#34;, &#34;黑龙江&#34;: &#34;黑龙江省&#34;, &#34;上海&#34;: &#34;">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-05-28T20:37:43+08:00">
    <meta property="article:modified_time" content="2024-05-28T20:37:43+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">基于python flask &#43;pyecharts实现的气象数据可视化分析大屏</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>背景</h2> 
<p>气象数据可视化分析大屏基于Python Flask和Pyecharts技术，旨在通过图表展示气象数据的分析结果，提供直观的数据展示和分析功能。在当今信息化时代，气象数据的准确性和实时性对各行业具有重要意义。通过搭建气象数据可视化分析大屏，用户可以实时监测和分析气象数据趋势，帮助决策者制定有效的应对措施。该系统将为气象领域的研究人员、气象服务机构和相关行业提供强大的数据分析和决策支持，推动气象信息化应用的发展和提升。</p> 
<h2>前端设计</h2> 
<p>前端设计的关键步骤：</p> 
<h3>页面布局设计：</h3> 
<p>使用Flex布局将页面分为左侧、中间和右侧三个主要部分，每个部分包含多个子元素。<br> 左侧和右侧各包含三个垂直排列的子元素，用于展示不同类型的数据。<br> 中间部分用于显示地图数据，并包含一个计时器显示当前时间。</p> 
<h3><br> 样式设计：</h3> 
<p>设置全局样式，包括页面背景色、字体颜色、间距等，确保页面整体风格统一。<br> 设计每个数据展示框的样式，包括边框样式、高度、宽度等，使其具有辨识度。<br> 为表格容器添加滚动条样式，确保表格数据超出容器高度时可以滚动查看。</p> 
<h3><br> 数据填充与更新：</h3> 
<p>使用JavaScript和jQuery库实现数据的动态填充和更新，通过Ajax请求从后端获取最新数据并更新图表。<br> 在表格部分，根据后端返回的数据动态生成表格行，并实现表格的滚动效果。</p> 
<h3><br> 图表展示：</h3> 
<p>使用ECharts库初始化各个图表实例，并根据后端返回的数据更新图表内容。<br> 不仅展示静态图表，还可以通过定时器定时刷新数据，实现实时数据展示。<br> 通过以上设计，可以实现一个交互性强、信息展示清晰的气象数据可视化大屏，为用户提供直观、动态的数据分析和监控功能。</p> 
<p><img alt="" height="936" src="https://images2.imgbox.com/54/bc/oZMUlyVq_o.png" width="1200"></p> 
<h2>后端设计</h2> 
<p>主要代码</p> 
<pre><code class="language-python">import json
# from 天气处理 import *
app = Flask(__name__, static_folder="templates")
textstyle = opts.TextStyleOpts(color="white")
idx = 9
import pandas as pd
def chuli():
    df=pd.read_csv(r'C:\Users\Administrator\Desktop\天气大屏flask+pyecharts\Flask_DataView_new\天气数据.csv')
    df['省份']=df['省份'].str.replace('历史天气','')
    # 完整的省份映射字典
    mapping_dict = {
        "北京": "北京市",
        "天津": "天津市",
        "河北": "河北省",
        "山西": "山西省",
        "内蒙古": "内蒙古自治区",
        "辽宁": "辽宁省",
        "吉林": "吉林省",
        "黑龙江": "黑龙江省",
        "上海": "上海市",
        "江苏": "江苏省",
        "浙江": "浙江省",
        "安徽": "安徽省",
        "福建": "福建省",
        "江西": "江西省",
        "山东": "山东省",
        "河南": "河南省",
        "湖北": "湖北省",
        "湖南": "湖南省",
        "广东": "广东省",
        "广西": "广西壮族自治区",
        "海南": "海南省",
        "重庆": "重庆市",
        "四川": "四川省",
        "贵州": "贵州省",
        "云南": "云南省",
        "西藏": "西藏自治区",
        "陕西": "陕西省",
        "甘肃": "甘肃省",
        "青海": "青海省",
        "宁夏": "宁夏回族自治区",
        "新疆": "新疆维吾尔自治区",
        "香港": "香港特别行政区",
        "澳门": "澳门特别行政区",
        "台湾": "台湾省"
    }
    # 使用map函数将现有数据替换为省、自治区或市
    df["省份"] = df["省份"].map(mapping_dict)
    df['最高温']=df['最高温'].str.replace('°','').astype('int')
    df['最低温']=df['最低温'].str.replace('°','').astype('int')
    df['空气指数']=df['空气质量指数'].str.split(' ',expand=True)[0]
    df['空气等级']=df['空气质量指数'].str.split(' ',expand=True)[1]
    df['风力风向']=df['风力风向'].str.replace('微风','0级')
    df['风向']=df['风力风向'].str.split('风',expand=True)[0]+'风'
    df['风力']=df['风力风向'].str.split('风',expand=True)[1]
    df['风力']=df['风力'].str.replace('级','').astype('int')
    df['时间0']=df['时间'].str.split(' ',expand=True)[0]
    print(df['时间0'])
    print(df.info())
    return df
def avg_qw():
    df=chuli()
    df['年']=df['时间'].str.split('-',expand=True)[0]
    a=df.groupby('年')['最低温','最高温'].mean().reset_index()
    a['最低温']=a['最低温'].round(1)
    a['最高温'] = a['最高温'].round(1)
    print(a)
    return a</code></pre> 
<p>可视化代码：</p> 
<pre><code class="language-python">
def map_base():
    df=chuli()
    df = df[~df['空气指数'].isin(['-'])]
    df['空气指数'] = df['空气指数'].astype('int')
    b = df.groupby('省份')['空气指数'].max().reset_index()
    m = (
        Map()
            .add('', [list(z) for z in zip(b['省份'].tolist(), b['空气指数'].tolist())], 'china')
            .set_series_opts(label_opts=opts.LabelOpts(color='white'))
            .set_global_opts(
            title_opts=opts.TitleOpts(title='全国各省份空气指数'),
            visualmap_opts=opts.VisualMapOpts(max_=40, split_number=8, is_piecewise=True),
        )
    )

    return m</code></pre> 
<p></p> 
<h2>最终效果：</h2> 
<p><img alt="" height="936" src="https://images2.imgbox.com/4d/f5/eoNDW7s7_o.png" width="1200"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/79f6ce210f045d038c20a85ed2a6e37d/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">基于javaswing和mysql实现的员工工资管理系统</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/da0f99a1052eaa2361701d45af1a27fc/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【从零开始学习RabbitMQ | 第三篇】什么是延迟消息</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>