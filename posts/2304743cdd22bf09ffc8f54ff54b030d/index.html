<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>排序算法 —— 希尔排序（图文超详细） - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/2304743cdd22bf09ffc8f54ff54b030d/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="排序算法 —— 希尔排序（图文超详细）">
  <meta property="og:description" content="文章目录 希尔排序（直接插入排序的优化）1.分组思想2.缩小增量的过程3.排序步骤3.1 排序五组数据的情况3.2 排序两组数据的情况3.3 排序一组数据的情况 4.代码分析4.1 如何设置数据组数4.2 直接插入排序实现思路 5. 整体代码实现 排序算法： 1、直接插入排序
2、选择排序
3、堆排序
希尔排序（直接插入排序的优化） 希尔排序是将数据分组，将每一组进行插入排序。
每一组排成有序后，最后整体就变有序了。
1.分组思想 上图中gap为5，说明要分成5组。
这5组分别用了五种颜色的线条连接起来了。
第1组：9、4
第2组：1、8
第3组：2、6
第4组：5、3
第5组：7、5
为什么要采取上面的分组方法呢？换一种方法可以吗？
例如：挨着的元素分为一组。
如果是上面的这种分组方式的话，排序之后会变成下面的情况。
如果是最开始的分组方法的话
如果是按照最开始的分组思想分组的话，最后会排序成
可以发现左边都是叫小的数据，右边都是较大的数据。
更方便把分成的每一个组进行插入排序。
2.缩小增量的过程 前面gap为5的情况排序后会变成下面情况
按照gap把数据分成了两组。
当数据很大的时候，数据的间隔很大。
小的数据会往前方，大的数据会往后放。
gap会逐渐缩小，间隔也会逐渐缩小。
整体的数据会更加趋于有序，这个时候使用直接插入排序效率会更高。
gap为2的时候会排序成下面情况
此时分为了1组，再排序一次后变成下面情况
此时的数据即为有序的。
3.排序步骤 3.1 排序五组数据的情况 gap为5，将数据分为5组，图中红色线画中的为第一组。定义一个 i 变量指向这一组的第二个数据，定义一个 j 变量指向 i - gap 的位置。将 i 下标的值放到定义的 tmp 中，然后与 j下标 的值比较。
若 j 下标的值较大，将 j 下标的值放到 j &#43; gap 的位置。">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2023-05-31T11:48:01+08:00">
    <meta property="article:modified_time" content="2023-05-31T11:48:01+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">排序算法 —— 希尔排序（图文超详细）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#_14" rel="nofollow">希尔排序（直接插入排序的优化）</a></li><li><ul><li><a href="#1_19" rel="nofollow">1.分组思想</a></li><li><a href="#2_45" rel="nofollow">2.缩小增量的过程</a></li><li><a href="#3_69" rel="nofollow">3.排序步骤</a></li><li><ul><li><a href="#31__70" rel="nofollow">3.1 排序五组数据的情况</a></li><li><a href="#32__88" rel="nofollow">3.2 排序两组数据的情况</a></li><li><a href="#33__108" rel="nofollow">3.3 排序一组数据的情况</a></li></ul> 
   </li><li><a href="#4_133" rel="nofollow">4.代码分析</a></li><li><ul><li><a href="#41__134" rel="nofollow">4.1 如何设置数据组数</a></li><li><a href="#42__150" rel="nofollow">4.2 直接插入排序实现思路</a></li></ul> 
   </li><li><a href="#5__190" rel="nofollow">5. 整体代码实现</a></li></ul> 
 </li></ul> 
</div> 
<br> 
<strong>排序算法：</strong> 
<p></p> 
<p>1、<a href="https://blog.csdn.net/m0_63033419/article/details/127456106">直接插入排序</a></p> 
<p>2、<a href="https://blog.csdn.net/m0_63033419/article/details/127607798">选择排序</a></p> 
<p>3、<a href="https://blog.csdn.net/m0_63033419/article/details/127644252">堆排序</a></p> 
<p><img src="https://images2.imgbox.com/99/9d/TiEtpfOv_o.jpg" alt=""></p> 
<h2><a id="_14"></a>希尔排序（直接插入排序的优化）</h2> 
<p>希尔排序是将数据分组，将每一组进行插入排序。<br> 每一组排成有序后，最后整体就变有序了。<br> <br> <img src="https://images2.imgbox.com/77/fc/irXyWcAS_o.png" alt=""></p> 
<h3><a id="1_19"></a>1.分组思想</h3> 
<p><img src="https://images2.imgbox.com/8b/77/0t7YLOwP_o.png" alt=""><br> 上图中gap为5，说明要分成5组。<br> 这5组分别用了五种颜色的线条连接起来了。</p> 
<blockquote> 
 <p>第1组：9、4<br> 第2组：1、8<br> 第3组：2、6<br> 第4组：5、3<br> 第5组：7、5</p> 
</blockquote> 
<p>为什么要采取上面的分组方法呢？换一种方法可以吗？<br> 例如：挨着的元素分为一组。<br> <img src="https://images2.imgbox.com/6a/24/Mi6yLjKi_o.png" alt=""><br> <br> 如果是上面的这种分组方式的话，排序之后会变成下面的情况。</p> 
<p><img src="https://images2.imgbox.com/d1/c7/0FZb2Wbp_o.png" alt=""><br> <br> 如果是最开始的分组方法的话<br> <img src="https://images2.imgbox.com/99/8d/HBnQUoOW_o.png" alt=""><br> 如果是按照最开始的分组思想分组的话，最后会排序成<br> <img src="https://images2.imgbox.com/f9/66/xLp0E57u_o.png" alt=""><br> 可以发现左边都是叫小的数据，右边都是较大的数据。<br> 更方便把分成的每一个组进行插入排序。</p> 
<h3><a id="2_45"></a>2.缩小增量的过程</h3> 
<p>前面gap为5的情况排序后会变成下面情况<br> <br> <img src="https://images2.imgbox.com/3a/20/wCHpNMjC_o.png" alt=""><br> 按照gap把数据分成了两组。<br> <br> 当数据很大的时候，数据的间隔很大。<br> 小的数据会往前方，大的数据会往后放。</p> 
<p>gap会逐渐缩小，间隔也会逐渐缩小。</p> 
<p>整体的数据会更加趋于有序，这个时候使用直接插入排序效率会更高。</p> 
<p><br> <br> gap为2的时候会排序成下面情况<br> <img src="https://images2.imgbox.com/a4/e9/fTTmYXLG_o.png" alt=""><br> 此时分为了1组，再排序一次后变成下面情况<br> <img src="https://images2.imgbox.com/0c/f3/m3TBQ7lj_o.png" alt=""><br> 此时的数据即为有序的。</p> 
<h3><a id="3_69"></a>3.排序步骤</h3> 
<h4><a id="31__70"></a>3.1 排序五组数据的情况</h4> 
<ol><li>gap为5，将数据分为5组，图中红色线画中的为第一组。定义一个 i 变量指向这一组的第二个数据，定义一个 j 变量指向 <strong>i - gap</strong> 的位置。<img src="https://images2.imgbox.com/c1/e0/UpOFnW5H_o.png" alt=""></li><li>将 i 下标的值放到定义的 tmp 中，然后与 j下标 的值比较。<br> 若 j 下标的值较大，将 j 下标的值放到 <strong>j + gap</strong> 的位置。<br> <img src="https://images2.imgbox.com/3f/53/9199VafR_o.png" alt=""><br> 执行后：<br> <img src="https://images2.imgbox.com/3d/89/tJzcjrmo_o.png" alt=""></li><li>j 变量向 <strong>j - gap</strong> 位置走，若这个位置的下标为负数。<br> 则要将 tmp 的值放到 <strong>j + gap</strong>的位置。<br> <img src="https://images2.imgbox.com/cc/04/ykzj7EWJ_o.png" alt=""><br> j 变量此时在-5下标处，要将 tmp 的值放到 <strong>j + 5</strong>的位置。<br> <img src="https://images2.imgbox.com/a2/7a/gjYeYtQK_o.png" alt=""><br> 这一组数据此时为有序了。<br> 排序下一组数据，**i++**即可，j 变量依然是在 <strong>i - gap</strong> 的位置。<br> 后面4组数据类似，不在演示。<br> 最终排序结果是：<br> <img src="https://images2.imgbox.com/df/1b/mNFJAjWv_o.png" alt=""></li></ol> 
<h4><a id="32__88"></a>3.2 排序两组数据的情况</h4> 
<ol><li> <p>此时 gap 为2，数据此时分为了两组。第一组由红色线画出（4、2、5、8、5），第二组由蓝色线画出（1、3、9、6、7）。<br> i 变量指向这一组的第二个数据， j 变量指向 <strong>i - gap</strong> 的位置。<br> <img src="https://images2.imgbox.com/2a/58/DixbZsrj_o.png" alt=""></p> </li><li> <p>将 i 下标的值放到定义的 tmp 中，然后与 j下标 的值比较。<br> 若 j 下标的值较大，将 j 下标的值放到 <strong>j + gap</strong> 的位置。<br> <img src="https://images2.imgbox.com/91/9e/0DOPHje9_o.png" alt=""><br> 执行后：<br> <img src="https://images2.imgbox.com/97/9c/GHPn9NB1_o.png" alt=""></p> </li><li> <p>j 变量向 <strong>j - gap</strong> 位置走，若这个位置的下标为负数。<br> 则要将 tmp 的值放到 <strong>j + gap</strong>的位置。<br> <img src="https://images2.imgbox.com/96/65/lumNlJPA_o.png" alt=""><br> j 变量此时在-2下标处，要将 tmp 的值放到 <strong>j + 2</strong>的位置。<br> <img src="https://images2.imgbox.com/0a/4a/3zVed3Cr_o.png" alt=""><br> 这一组数据中的 2 和 4 此时为有序了。<br> 排序下一组数据，<strong>i++</strong> 即可，j 变量依然是在 <strong>i - gap</strong> 的位置。<br> 后面剩下的数据类似，不在演示。<br> 最终排序结果是：<br> <img src="https://images2.imgbox.com/f6/7e/x9eUZX8x_o.png" alt=""></p> </li></ol> 
<h4><a id="33__108"></a>3.3 排序一组数据的情况</h4> 
<ol><li>i 变量指向第二个数据， j 变量指向 <strong>i - gap</strong> 的位置。<br> <img src="https://images2.imgbox.com/f9/1d/vp5eIA0o_o.png" alt=""></li><li>将 i 下标的值放到定义的 tmp 中，然后与 j下标 的值比较。<br> 若 j 下标的值较大，将 j 下标的值放到 <strong>j + gap</strong> 的位置。<br> <img src="https://images2.imgbox.com/d6/15/WZxoHAUT_o.png" alt=""><br> 执行后：<br> <img src="https://images2.imgbox.com/29/4a/7U3HLjjC_o.png" alt=""></li><li>j 变量向 <strong>j - gap</strong> 位置走，若这个位置的下标为负数。<br> 则要将 tmp 的值放到 <strong>j + gap</strong>的位置。<br> <img src="https://images2.imgbox.com/15/13/X0O5X5rM_o.png" alt=""><br> j 变量此时在-1下标处，要将 tmp 的值放到 <strong>j + 1</strong>的位置。<br> <img src="https://images2.imgbox.com/be/4d/rKKLgAEy_o.png" alt=""><br> 此时 前两个数据有序了，后面的数据排序过程类似。<br> 排序下一组数据，<strong>i++</strong> 即可，j 变量依然是在 <strong>i - gap</strong> 的位置。<br> 最终结果是：<br> <img src="https://images2.imgbox.com/b3/88/dWtA4CIe_o.png" alt=""></li></ol> 
<h3><a id="4_133"></a>4.代码分析</h3> 
<h4><a id="41__134"></a>4.1 如何设置数据组数</h4> 
<ol><li>定义 gap 将数组的长度赋值给这个变量。</li></ol> 
<pre><code class="prism language-java"><span class="token keyword">int</span> gap <span class="token operator">=</span> array2<span class="token punctuation">.</span>length<span class="token punctuation">;</span><span class="token comment">//为数组的长度 - 为10</span>
</code></pre> 
<ol start="2"><li>设置循环，每次使 gap 除以2来得到5、2、1三个组。</li><li>在循环内部调用直接插入排序方法。</li></ol> 
<pre><code class="prism language-java"> <span class="token keyword">while</span> <span class="token punctuation">(</span>gap <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
     gap <span class="token operator">/=</span> <span class="token number">2</span><span class="token punctuation">;</span><span class="token comment">//先是分成了5组，然后是2组，再是1组</span>
     <span class="token function">shell</span><span class="token punctuation">(</span>array2<span class="token punctuation">,</span> gap<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//调用直接插入排序方法</span>
 <span class="token punctuation">}</span>
</code></pre> 
<h4><a id="42__150"></a>4.2 直接插入排序实现思路</h4> 
<ol><li>遍历数组，i 变量从 gap 下标位置开始</li></ol> 
<pre><code class="prism language-java"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> gap<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> array2<span class="token punctuation">.</span>length <span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
<span class="token punctuation">}</span>
</code></pre> 
<ol start="2"><li>j 变量从 <strong>i- gap</strong> 位置开始</li></ol> 
<pre><code class="prism language-java">  <span class="token keyword">int</span> j <span class="token operator">=</span> i <span class="token operator">-</span> gap<span class="token punctuation">;</span>
</code></pre> 
<ol start="3"><li>j 变量要每次减去 gap 个位置，j 此时的位置要是负数就比较 j 和 tmp 的值。</li></ol> 
<pre><code class="prism language-java"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span> j <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> j<span class="token operator">-=</span>gap<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
<span class="token punctuation">}</span>
</code></pre> 
<ol start="4"><li>j 和 tmp 如何比较</li></ol> 
<pre><code class="prism language-java"> <span class="token keyword">if</span> <span class="token punctuation">(</span>array2<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&gt;</span> tmp<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
     <span class="token comment">//j下标的值大，将j下标的值放到j变量加上一个gap的位置上</span>
     array2<span class="token punctuation">[</span>j <span class="token operator">+</span> gap<span class="token punctuation">]</span> <span class="token operator">=</span> array2<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
     <span class="token comment">//j下标的值较小，j下标的值要直接放到j变量加上一个gap的位置上</span>
     <span class="token keyword">break</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
</code></pre> 
<ol start="5"><li>j 下标为负数的情况</li></ol> 
<pre><code class="prism language-java"> <span class="token comment">//此时j下标的值是负数了，将tmp的值放到j变量加上一个gap的位置上</span>
 array2<span class="token punctuation">[</span>j <span class="token operator">+</span> gap<span class="token punctuation">]</span> <span class="token operator">=</span> tmp<span class="token punctuation">;</span>
</code></pre> 
<p>更加详细的直接插入排序讲解请参考我的另一篇文章。</p> 
<p><img src="https://images2.imgbox.com/28/90/3miNAVmr_o.gif" alt="" width="100" height="100"><br> 文章链接：http://t.csdn.cn/rBDzh</p> 
<h3><a id="5__190"></a>5. 整体代码实现</h3> 
<pre><code class="prism language-java"> <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">shellSort</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> array2<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
     <span class="token keyword">int</span> gap <span class="token operator">=</span> array2<span class="token punctuation">.</span>length<span class="token punctuation">;</span><span class="token comment">//为数组的长度 - 为10</span>
     <span class="token keyword">while</span> <span class="token punctuation">(</span>gap <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
         gap <span class="token operator">/=</span> <span class="token number">2</span><span class="token punctuation">;</span><span class="token comment">//先是分成了5组，然后是2组，再是1组</span>
         <span class="token function">shell</span><span class="token punctuation">(</span>array2<span class="token punctuation">,</span> gap<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//调用直接插入排序方法</span>
     <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>

 <span class="token comment">//实现直接插入排序方法</span>
 <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">shell</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> array2<span class="token punctuation">,</span> <span class="token keyword">int</span> gap<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
     <span class="token comment">//i下标从第一组的第二个数据开始</span>
     <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> gap<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> array2<span class="token punctuation">.</span>length <span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
         <span class="token keyword">int</span> tmp <span class="token operator">=</span> array2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//tmp存放i下标的值</span>
         <span class="token keyword">int</span> j <span class="token operator">=</span> i <span class="token operator">-</span> gap<span class="token punctuation">;</span><span class="token comment">//j下标为i-gap个位置</span>
         <span class="token comment">//j每次-gap个位置</span>
         <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span> j <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> j<span class="token operator">-=</span>gap<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
              <span class="token keyword">if</span> <span class="token punctuation">(</span>array2<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&gt;</span> tmp<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token comment">//j下标的值大，将j下标的值放到j变量加上一个gap的位置上</span>
                array2<span class="token punctuation">[</span>j <span class="token operator">+</span> gap<span class="token punctuation">]</span> <span class="token operator">=</span> array2<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                 <span class="token comment">//j下标的值较小，j下标的值要直接放到j变量加上一个gap的位置上</span>
                 <span class="token keyword">break</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
          <span class="token comment">//此时j下标的值是负数了，将tmp的值放到j变量加上一个gap的位置上</span>
          array2<span class="token punctuation">[</span>j <span class="token operator">+</span> gap<span class="token punctuation">]</span> <span class="token operator">=</span> tmp<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/6f/19/AGmX4uXr_o.gif" alt="" width="300" height="200"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/166e7b883d09310b8c6e4d213db45d93/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">基于Java的界面开发【用户注册登录】</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/3ef68eac8fa987a8e47a3fb4fc695134/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【C&#43;&#43;】哈希表封装unordered系列</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>