<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>MPLS工作过程 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/e3efef1b574a92ea358a4a42c53123ea/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="MPLS工作过程">
  <meta property="og:description" content="数据层面：
1) 没有 MPLS 协议，基于 FIB 表正常转发即可
2) 名词：MPLS domain——MPLS 的工作半径
edge LSR(PE)——边界标签交换路由器 工作 mpls 域的边缘，连接域外设备 LSR (P)——标签交换路由器 整体工作 MPLS 域内
3) 当流量进入到第一台 pe 设备时，在没有特快交换之前，路由器基于目标 IP 地址查询本地的 RIB；
之后还要在 LIB 表中对应才能确定流量是否应该压入标签，需要两张表的查询；
在存在特快交换时，流量进入第一pe 时，直接査询FIB 表，表中关联标签号，将直接确定是否压入标签；
流量再到P路由器，接收到流量中若存在标签基于 LFIB 表转发，若没有标签基于 FIB 表即可
流量从最后一台边界离开 MPLS 域时将弹出标签；
存在标签号的流量，进入路由器时，入标签表应该为本地路由器分配的编号，出标签为本地的下游(下一跳)设备分配的标签号；上下游的概念基于数据层面进行标定；">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-06-13T21:03:58+08:00">
    <meta property="article:modified_time" content="2024-06-13T21:03:58+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">MPLS工作过程</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><img alt="" height="287" src="https://images2.imgbox.com/d7/27/b9CCFedy_o.png" width="395"></p> 
<p>数据层面：</p> 
<p>1)  没有 MPLS 协议，基于 FIB 表正常转发即可</p> 
<p>2)  名词：MPLS domain——MPLS 的工作半径<br>                           edge LSR(PE)——边界标签交换路由器    工作 mpls 域的边缘，连接域外设备                                   LSR (P)——标签交换路由器        整体工作 MPLS 域内</p> 
<p>3)  当流量进入到第一台 pe 设备时，在没有特快交换之前，路由器基于目标 IP 地址查询本地的 RIB；</p> 
<p>之后还要在 LIB 表中对应才能确定流量是否应该压入标签，需要两张表的查询；</p> 
<p>在存在特快交换时，流量进入第一pe 时，直接査询FIB 表，表中关联标签号，将直接确定是否压入标签；</p> 
<p>流量再到P路由器，接收到流量中若存在标签基于 LFIB 表转发，若没有标签基于 FIB 表即可</p> 
<p>流量从最后一台边界离开 MPLS 域时将弹出标签；</p> 
<p><span style="color:#fe2c24;">存在标签号的流量，进入路由器时，入标签表应该为本地路由器分配的编号，出标签为本地的下游(下一跳)设备分配的标签号；上下游的概念基于数据层面进行标定；</span></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/2e607dbb3332be552faa1054dce3a191/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">redis的分布式session和本地的session有啥区别</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/cbd98e9139122b9f354c9af80a1fbf28/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">鸿蒙轻内核A核源码分析系列七 进程管理 (3)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>