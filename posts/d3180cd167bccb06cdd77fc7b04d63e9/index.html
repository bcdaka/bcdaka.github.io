<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>python超详细基础文件操作【建议收藏】 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/d3180cd167bccb06cdd77fc7b04d63e9/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="python超详细基础文件操作【建议收藏】">
  <meta property="og:description" content="文章目录 前言发现宝藏1 文件操作1.1 文件打开与关闭1.1.1 打开文件1.1.2 关闭文件 1.2 访问模式及说明 2 文件读写2.1 写数据（write）2.2 读数据（read）2.3 读数据（readlines）2.3 读数据（readline）2.4 readlines 和 readline的区别 3 文件的相关操作3.1 文件重命名3.2 删除文件3.3 创建文件3.4 获取当前目录 4 示例4.1 目录.txt自动清洗4.2 批量修改文件夹下的文件命名4.3 检测同级目录下是否存在同名文件夹 总结 前言 为了巩固所学的知识，作者尝试着开始发布一些学习笔记类的博客，方便日后回顾。当然，如果能帮到一些萌新进行新技术的学习那也是极好的。作者菜菜一枚，文章中如果有记录错误，欢迎读者朋友们批评指正。
（博客的参考源码可以在我主页的资源里找到，如果在学习的过程中有什么疑问欢迎大家在评论区向我提出）
发现宝藏 前些天发现了一个巨牛的人工智能学习网站，通俗易懂，风趣幽默，忍不住分享一下给大家。【宝藏入口】。
1 文件操作 1.1 文件打开与关闭 1.1.1 打开文件 在Python中，你可以使用 open() 函数来打开文件。以下是一个简单的例子：
# 打开文件（默认为只读模式） file_path = &#39;example.txt&#39; with open(file_path, &#39;r&#39;) as file: # 执行文件操作，例如读取文件内容 file_content = file.read() print(file_content) # 文件在with块结束后会自动关闭，无需显式关闭文件 在上述示例中：
&#39;example.txt&#39; 是文件的路径和名称，你可以根据实际情况修改为你想要打开的文件。&#39;r&#39; 表示只读模式。如果你想要写入文件，可以使用 &#39;w&#39; 模式，如果想要追加内容，可以使用 &#39;a&#39; 模式等。with open(.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-03-12T09:26:09+08:00">
    <meta property="article:modified_time" content="2024-03-12T09:26:09+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">python超详细基础文件操作【建议收藏】</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#_1" rel="nofollow">前言</a></li><li><a href="#_6" rel="nofollow">发现宝藏</a></li><li><a href="#1__10" rel="nofollow">1 文件操作</a></li><li><ul><li><a href="#11__14" rel="nofollow">1.1 文件打开与关闭</a></li><li><ul><li><a href="#111__18" rel="nofollow">1.1.1 打开文件</a></li><li><a href="#112__40" rel="nofollow">1.1.2 关闭文件</a></li></ul> 
   </li><li><a href="#12__77" rel="nofollow">1.2 访问模式及说明</a></li></ul> 
  </li><li><a href="#2__95" rel="nofollow">2 文件读写</a></li><li><ul><li><a href="#21_write_97" rel="nofollow">2.1 写数据（write）</a></li><li><a href="#22_read_171" rel="nofollow">2.2 读数据（read）</a></li><li><a href="#23_readlines_246" rel="nofollow">2.3 读数据（readlines）</a></li><li><a href="#23_readline_291" rel="nofollow">2.3 读数据（readline）</a></li><li><a href="#24_readlines__readline_345" rel="nofollow">2.4 readlines 和 readline的区别</a></li></ul> 
  </li><li><a href="#3__385" rel="nofollow">3 文件的相关操作</a></li><li><ul><li><a href="#31__389" rel="nofollow">3.1 文件重命名</a></li><li><a href="#32__500" rel="nofollow">3.2 删除文件</a></li><li><a href="#33__560" rel="nofollow">3.3 创建文件</a></li><li><a href="#34__631" rel="nofollow">3.4 获取当前目录</a></li></ul> 
  </li><li><a href="#4__643" rel="nofollow">4 示例</a></li><li><ul><li><a href="#41_txt_645" rel="nofollow">4.1 目录.txt自动清洗</a></li><li><a href="#42__703" rel="nofollow">4.2 批量修改文件夹下的文件命名</a></li><li><a href="#43__755" rel="nofollow">4.3 检测同级目录下是否存在同名文件夹</a></li></ul> 
  </li><li><a href="#_801" rel="nofollow">总结</a></li></ul> 
</div> 
<p></p> 
<h2><a id="_1"></a>前言</h2> 
<p>为了巩固所学的知识，作者尝试着开始发布一些学习笔记类的博客，方便日后回顾。当然，如果能帮到一些萌新进行新技术的学习那也是极好的。作者菜菜一枚，文章中如果有记录错误，欢迎读者朋友们批评指正。<br> （博客的参考源码可以在我主页的资源里找到，如果在学习的过程中有什么疑问欢迎大家在评论区向我提出）</p> 
<h2><a id="_6"></a>发现宝藏</h2> 
<p>前些天发现了一个巨牛的人工智能学习网站，通俗易懂，风趣幽默，忍不住分享一下给大家。【<a href="https://www.captainbed.cn/dl" rel="nofollow">宝藏入口</a>】。</p> 
<h2><a id="1__10"></a>1 文件操作</h2> 
<h3><a id="11__14"></a>1.1 文件打开与关闭</h3> 
<h4><a id="111__18"></a>1.1.1 打开文件</h4> 
<p>在Python中，你可以使用 <code>open()</code> 函数来打开文件。以下是一个简单的例子：</p> 
<pre><code class="prism language-python"><span class="token comment"># 打开文件（默认为只读模式）</span>
file_path <span class="token operator">=</span> <span class="token string">'example.txt'</span>
<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>file_path<span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token builtin">file</span><span class="token punctuation">:</span>
    <span class="token comment"># 执行文件操作，例如读取文件内容</span>
    file_content <span class="token operator">=</span> <span class="token builtin">file</span><span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>file_content<span class="token punctuation">)</span>

<span class="token comment"># 文件在with块结束后会自动关闭，无需显式关闭文件</span>
</code></pre> 
<p>在上述示例中：</p> 
<ul><li><code>'example.txt' </code> 是文件的路径和名称，你可以根据实际情况修改为你想要打开的文件。</li><li><code>'r' </code> 表示只读模式。如果你想要写入文件，可以使用 <code>'w'</code> 模式，如果想要追加内容，可以使用 <code>'a'</code> 模式等。</li><li><code>with open(...) as file</code> : 是使用上下文管理器的方式，确保文件在使用后被正确关闭，即使在处理文件时发生异常也能保证关闭。</li></ul> 
<h4><a id="112__40"></a>1.1.2 关闭文件</h4> 
<p>在 Python 中关闭文件有两种主要的方法：</p> 
<p><strong>1. 使用 with 语句：</strong></p> 
<p><code>with</code> 语句是一种上下文管理器，当它的代码块执行完毕时，会自动关闭文件。这是推荐的方式，因为它确保文件在使用完毕后被正确关闭，即使发生异常也能保证关闭。</p> 
<pre><code class="prism language-python">   file_path <span class="token operator">=</span> <span class="token string">'example.txt'</span>
   <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>file_path<span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token builtin">file</span><span class="token punctuation">:</span>
       <span class="token comment"># 执行文件操作，例如读取文件内容</span>
       file_content <span class="token operator">=</span> <span class="token builtin">file</span><span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>
       <span class="token keyword">print</span><span class="token punctuation">(</span>file_content<span class="token punctuation">)</span>
   <span class="token comment"># 文件在这里已经被自动关闭</span>
</code></pre> 
<p><strong>2. 使用 close() 方法：</strong></p> 
<p>你可以显式调用文件对象的 <code>close()</code> 方法来关闭文件。这种方法适用于一些特殊情况，但相对来说不如 <code>with</code> 语句简洁和安全。</p> 
<pre><code class="prism language-python"> file_path <span class="token operator">=</span> <span class="token string">'example.txt'</span>
   <span class="token builtin">file</span> <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span>file_path<span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">)</span>
   <span class="token keyword">try</span><span class="token punctuation">:</span>
       <span class="token comment"># 执行文件操作，例如读取文件内容</span>
       file_content <span class="token operator">=</span> <span class="token builtin">file</span><span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>
       <span class="token keyword">print</span><span class="token punctuation">(</span>file_content<span class="token punctuation">)</span>
   <span class="token keyword">finally</span><span class="token punctuation">:</span>
       <span class="token builtin">file</span><span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p>在使用 <code>with</code> 语句时，不需要显式调用 <code>close()</code> 方法。如果你在代码中打开了文件而没有使用 <code>with</code>，请确保在适当的地方调用 <code>close()</code> 以关闭文件，以避免资源泄漏。</p> 
<h3><a id="12__77"></a>1.2 访问模式及说明</h3> 
<table><thead><tr><th>访问模式</th><th>说明</th></tr></thead><tbody><tr><td>r</td><td>以只读方式打开文件。文件的指针将会放在文件的开头。这是默认模式。</td></tr><tr><td>w</td><td>打开一个文件只用于写入。如果该文件已存在则将其覆盖。如果该文件不存在，创建新文件。</td></tr><tr><td>a</td><td>打开一个文件用于追加。如果该文件已存在，文件指针将会放在文件的结尾。也就是说，新的内容将会被写入到已有内容之后。如果该文件不存在，创建新文件进行写入。</td></tr><tr><td>rb</td><td>以二进制格式打开一个文件用于只读。文件指针将会放在文件的开头。这是默认模式。</td></tr><tr><td>wb</td><td>以二进制格式打开一个文件只用于写入。如果该文件已存在则将其覆盖。如果该文件不存在，创建新文件。</td></tr><tr><td>ab</td><td>以二进制格式打开一个文件用于追加。如果该文件已存在，文件指针将会放在文件的结尾。也就是说，新的内容将会被写入到已有内容之后。如果该文件不存在，创建新文件进行写入。</td></tr><tr><td>r+</td><td>打开一个文件用于读写。文件指针将会放在文件的开头。</td></tr><tr><td>w+</td><td>打开一个文件用于读写。如果该文件已存在则将其覆盖。如果该文件不存在，创建新文件。</td></tr><tr><td>a+</td><td>打开一个文件用于读写，如果该文件已存在，文件指针将会放在文件的结尾。文件打开时会是追加模式。如果改文件不存在，创建新文件用于读写。</td></tr><tr><td>rb+</td><td>以二进制格式打开一个文件用于读写。文件指针将会放在文件的开头</td></tr><tr><td>wb+</td><td>以二进制格式打开一个文件用于读写。如果改文件已存在则会覆盖。如果改文件不存在，创建新文件。</td></tr><tr><td>ab+</td><td>以二进制格式打开一个文件用于追加。如果该文件已存在，文件指针将会放在文件的结尾。如果改文件不存在，创建新文件用于读写。</td></tr></tbody></table> 
<h2><a id="2__95"></a>2 文件读写</h2> 
<h3><a id="21_write_97"></a>2.1 写数据（write）</h3> 
<p>写入数据通常涉及将信息保存到文件、数据库或其他持久性存储介质中。以下是一些常见的数据写入场景的示例：</p> 
<p><strong>1. 写入文本文件</strong></p> 
<p>使用内置的 <code>open</code> 函数来打开文件并写入内容。确保使用适当的模式（例如，<code>'w'</code> 表示写入）。</p> 
<pre><code class="prism language-python">file_path <span class="token operator">=</span> <span class="token string">'example.txt'</span>

<span class="token comment"># 写入文件</span>
<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>file_path<span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token builtin">file</span><span class="token punctuation">:</span>
    <span class="token builtin">file</span><span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">"Hello, this is some data."</span><span class="token punctuation">)</span>
</code></pre> 
<p><strong>2. 写入CSV文件</strong></p> 
<p>使用 <code>csv</code> 模块来写入CSV格式的文件。</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> csv

csv_file_path <span class="token operator">=</span> <span class="token string">'example.csv'</span>

data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'Name'</span><span class="token punctuation">,</span> <span class="token string">'Age'</span><span class="token punctuation">,</span> <span class="token string">'Occupation'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token string">'John Doe'</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token string">'Engineer'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token string">'Jane Smith'</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token string">'Designer'</span><span class="token punctuation">]</span><span class="token punctuation">]</span>

<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>csv_file_path<span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">,</span> newline<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">)</span> <span class="token keyword">as</span> csvfile<span class="token punctuation">:</span>
    csv_writer <span class="token operator">=</span> csv<span class="token punctuation">.</span>writer<span class="token punctuation">(</span>csvfile<span class="token punctuation">)</span>
    csv_writer<span class="token punctuation">.</span>writerows<span class="token punctuation">(</span>data<span class="token punctuation">)</span>
</code></pre> 
<p><strong>3. 写入JSON文件</strong></p> 
<p>使用内置的 <code>json</code> 模块来写入JSON格式的文件。</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> json

json_file_path <span class="token operator">=</span> <span class="token string">'example.json'</span>

data <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"John Doe"</span><span class="token punctuation">,</span> <span class="token string">"age"</span><span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token string">"occupation"</span><span class="token punctuation">:</span> <span class="token string">"Engineer"</span><span class="token punctuation">}</span>

<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>json_file_path<span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> jsonfile<span class="token punctuation">:</span>
    json<span class="token punctuation">.</span>dump<span class="token punctuation">(</span>data<span class="token punctuation">,</span> jsonfile<span class="token punctuation">)</span>
</code></pre> 
<p><strong>4. 写入数据库</strong></p> 
<p>使用数据库连接库（如 <code>sqlite3、mysql-connector-python</code> 等）与相应的数据库进行交互。</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sqlite3

<span class="token comment"># 连接到SQLite数据库（假设有一个名为 example.db 的数据库）</span>
conn <span class="token operator">=</span> sqlite3<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token string">'example.db'</span><span class="token punctuation">)</span>

<span class="token comment"># 创建一个游标对象</span>
cursor <span class="token operator">=</span> conn<span class="token punctuation">.</span>cursor<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 执行SQL插入语句</span>
cursor<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token string">"INSERT INTO users (name, age, occupation) VALUES (?, ?, ?)"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">'John Doe'</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token string">'Engineer'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># 提交更改</span>
conn<span class="token punctuation">.</span>commit<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 关闭连接</span>
conn<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<h3><a id="22_read_171"></a>2.2 读数据（read）</h3> 
<p>读取数据通常涉及从文件、数据库或其他存储介质中检索信息。以下是一些读取数据的常见示例：</p> 
<p><strong>1. 读取文本文件</strong></p> 
<p>使用内置的 <code>open</code> 函数来打开文件并读取内容。</p> 
<pre><code class="prism language-python">file_path <span class="token operator">=</span> <span class="token string">'example.txt'</span>

<span class="token comment"># 读取文件</span>
<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>file_path<span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token builtin">file</span><span class="token punctuation">:</span>
    data <span class="token operator">=</span> <span class="token builtin">file</span><span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
</code></pre> 
<p><strong>2. 读取CSV文件</strong></p> 
<p>使用 <code>csv</code> 模块来读取CSV格式的文件。</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> csv

csv_file_path <span class="token operator">=</span> <span class="token string">'example.csv'</span>

<span class="token comment"># 读取CSV文件</span>
<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>csv_file_path<span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> csvfile<span class="token punctuation">:</span>
    csv_reader <span class="token operator">=</span> csv<span class="token punctuation">.</span>reader<span class="token punctuation">(</span>csvfile<span class="token punctuation">)</span>
    <span class="token keyword">for</span> row <span class="token keyword">in</span> csv_reader<span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>row<span class="token punctuation">)</span>
</code></pre> 
<p><strong>3. 读取JSON文件</strong></p> 
<p>使用内置的 <code>json</code> 模块来读取JSON格式的文件。</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> json

json_file_path <span class="token operator">=</span> <span class="token string">'example.json'</span>

<span class="token comment"># 读取JSON文件</span>
<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>json_file_path<span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> jsonfile<span class="token punctuation">:</span>
    data <span class="token operator">=</span> json<span class="token punctuation">.</span>load<span class="token punctuation">(</span>jsonfile<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
</code></pre> 
<p><strong>4. 从数据库中读取数据</strong></p> 
<p>使用数据库连接库（如 <code>sqlite3、mysql-connector-python</code> 等）与相应的数据库进行交互。</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sqlite3

<span class="token comment"># 连接到SQLite数据库（假设有一个名为 example.db 的数据库）</span>
conn <span class="token operator">=</span> sqlite3<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token string">'example.db'</span><span class="token punctuation">)</span>

<span class="token comment"># 创建一个游标对象</span>
cursor <span class="token operator">=</span> conn<span class="token punctuation">.</span>cursor<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 执行SQL查询语句</span>
cursor<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token string">"SELECT * FROM users"</span><span class="token punctuation">)</span>

<span class="token comment"># 检索所有行</span>
rows <span class="token operator">=</span> cursor<span class="token punctuation">.</span>fetchall<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 打印每一行</span>
<span class="token keyword">for</span> row <span class="token keyword">in</span> rows<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>row<span class="token punctuation">)</span>

<span class="token comment"># 关闭连接</span>
conn<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<h3><a id="23_readlines_246"></a>2.3 读数据（readlines）</h3> 
<p><code>readlines</code> 是 Python 中用于读取文件的方法之一，它用于逐行读取文件内容，并将每一行作为字符串存储在一个列表中。下面是对 <code>readlines</code> 方法的详细解释：</p> 
<p>使用 readlines 方法的基本语法</p> 
<pre><code class="prism language-python"><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'file.txt'</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token builtin">file</span><span class="token punctuation">:</span>
    lines <span class="token operator">=</span> <span class="token builtin">file</span><span class="token punctuation">.</span>readlines<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p>解释：</p> 
<ul><li><code>open('file.txt', 'r')</code> : 打开文件 <code>'file.txt'</code> 以供读取。第一个参数是文件名，第二个参数是打开文件的模式。<code>'r'</code> 表示只读模式。</li><li><code>with ... as ...</code> : 使用 <code>with</code> 语句可以确保在读取完成后自动关闭文件，不需要显式调用 <code>file.close()</code>。</li><li><code>lines = file.readlines()</code> : <code>readlines</code> 方法用于读取文件的所有行，并将每一行作为一个字符串存储在列表 <code>lines</code> 中。</li><li>每个列表元素对应文件中的一行文本。你可以使用列表索引来访问特定行，例如 <code>lines[0]</code> 表示文件的第一行。</li></ul> 
<p>例子：假设 ‘file.txt’ 包含以下内容：</p> 
<pre><code>Hello, this is line 1.
This is line 2.
And this is line 3.
</code></pre> 
<p>使用 readlines 后：</p> 
<pre><code class="prism language-python"><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'file.txt'</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token builtin">file</span><span class="token punctuation">:</span>
    lines <span class="token operator">=</span> <span class="token builtin">file</span><span class="token punctuation">.</span>readlines<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># lines 现在是一个包含每一行文本的列表</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>lines<span class="token punctuation">)</span>
<span class="token comment"># 输出：</span>
<span class="token comment"># ['Hello, this is line 1.\n', 'This is line 2.\n', 'And this is line 3.\n']</span>

<span class="token comment"># 访问特定行</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>lines<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 输出：Hello, this is line 1.</span>
</code></pre> 
<p>注意事项：</p> 
<ul><li>每一行的末尾都包含换行符 <code>\n</code>，你可以使用 <code>strip()</code> 方法去除这些额外的空白字符。</li><li><code>readlines</code> 方法适用于处理包含多行文本的文件，但对于大型文件，可能需要考虑逐行读取而不是将整个文件加载到内存中。这可以通过循环遍历文件对象来实现，而不是使用 <code>readlines</code>。</li></ul> 
<h3><a id="23_readline_291"></a>2.3 读数据（readline）</h3> 
<p>readline 是 Python 中用于读取文件的方法之一，它用于逐行读取文件内容，并返回文件中的一行作为字符串。以下是对 readline 方法的详细解释：<br> 使用 readline 方法的基本语法</p> 
<pre><code class="prism language-python"><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'file.txt'</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token builtin">file</span><span class="token punctuation">:</span>
    line <span class="token operator">=</span> <span class="token builtin">file</span><span class="token punctuation">.</span>readline<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p>解释：</p> 
<ul><li><code>open('file.txt', 'r')</code> : 打开文件 <code>'file.txt'</code> 以供读取。第一个参数是文件名，第二个参数是打开文件的模式。<code>'r'</code> 表示只读模式。</li><li><code>with ... as ...</code> : 使用 <code>with</code> 语句可以确保在读取完成后自动关闭文件，不需要显式调用 <code>file.close()</code>。</li><li><code>line = file.readline()</code> : <code>readline</code> 方法用于读取文件的一行，并将该行作为一个字符串存储在变量 <code>line</code> 中。</li></ul> 
<p>例子：假设 ‘file.txt’ 包含以下内容：</p> 
<pre><code>Hello, this is line 1.
This is line 2.
And this is line 3.
</code></pre> 
<p>使用 readline 后：</p> 
<pre><code class="prism language-python"><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'file.txt'</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token builtin">file</span><span class="token punctuation">:</span>
    line1 <span class="token operator">=</span> <span class="token builtin">file</span><span class="token punctuation">.</span>readline<span class="token punctuation">(</span><span class="token punctuation">)</span>
    line2 <span class="token operator">=</span> <span class="token builtin">file</span><span class="token punctuation">.</span>readline<span class="token punctuation">(</span><span class="token punctuation">)</span>
    line3 <span class="token operator">=</span> <span class="token builtin">file</span><span class="token punctuation">.</span>readline<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>line1<span class="token punctuation">)</span>  <span class="token comment"># 输出：Hello, this is line 1.</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>line2<span class="token punctuation">)</span>  <span class="token comment"># 输出：This is line 2.</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>line3<span class="token punctuation">)</span>  <span class="token comment"># 输出：And this is line 3.</span>
</code></pre> 
<p>注意事项：</p> 
<ul><li>每个 <code>readline</code> 调用都会读取文件的下一行。</li><li>返回的字符串包含行末尾的换行符 <code>\n</code>。如果不需要换行符，可以使用 <code>strip()</code> 方法去除它。</li><li>当文件读取完毕后，<code>readline</code> 将返回空字符串 ‘’，因此可以在循环中使用 <code>while line != ''</code> 来逐行读取整个文件。</li></ul> 
<p>循环读取整个文件：</p> 
<pre><code class="prism language-python"><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'file.txt'</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token builtin">file</span><span class="token punctuation">:</span>
    line <span class="token operator">=</span> <span class="token builtin">file</span><span class="token punctuation">.</span>readline<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">while</span> line <span class="token operator">!=</span> <span class="token string">''</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>line<span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 去除换行符</span>
        line <span class="token operator">=</span> <span class="token builtin">file</span><span class="token punctuation">.</span>readline<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p>这个循环将逐行读取整个文件，直到文件末尾。</p> 
<h3><a id="24_readlines__readline_345"></a>2.4 readlines 和 readline的区别</h3> 
<p><code>readlines</code> 和 <code>readline</code> 是 Python 中用于读取文件的两种不同方法，它们之间有一些重要的区别：</p> 
<p><strong>1. readlines 方法：</strong></p> 
<ul><li>返回类型：<code>readlines</code> 方法返回一个包含文件所有行的列表，其中每个元素都是文件中的一行文本字符串。</li><li>使用情况： 适用于处理包含多行文本的文件，可以一次性将整个文件加载到内存中。这种方法适用于文件较小，可以完全装入内存的情况。</li><li>例子：</li></ul> 
<pre><code class="prism language-python">  <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'file.txt'</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token builtin">file</span><span class="token punctuation">:</span>
      lines <span class="token operator">=</span> <span class="token builtin">file</span><span class="token punctuation">.</span>readlines<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p><strong>2. readline 方法：</strong></p> 
<ul><li>返回类型： <code>readline</code> 方法每次调用只返回文件中的一行作为字符串。如果再次调用，将返回下一行。当文件读取完毕后，返回空字符串 ‘’。</li><li>使用情况： 适用于逐行处理大型文件，可以有效地降低内存使用。因为它一次只读取一行，可以在循环中逐行处理文件，而不必将整个文件加载到内存中。</li><li>例子：</li></ul> 
<pre><code class="prism language-python">  <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'file.txt'</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token builtin">file</span><span class="token punctuation">:</span>
      line <span class="token operator">=</span> <span class="token builtin">file</span><span class="token punctuation">.</span>readline<span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token keyword">while</span> line <span class="token operator">!=</span> <span class="token string">''</span><span class="token punctuation">:</span>
          <span class="token keyword">print</span><span class="token punctuation">(</span>line<span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 去除换行符</span>
          line <span class="token operator">=</span> <span class="token builtin">file</span><span class="token punctuation">.</span>readline<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p><strong>3. 区别总结：</strong></p> 
<ul><li><code>readlines</code> 一次性读取整个文件的所有行，并返回一个包含所有行的列表。</li><li><code>readline</code> 逐行读取文件，每次调用返回文件中的一行，适用于处理大型文件，减少内存占用。</li><li><code>readlines</code> 返回包含换行符的每一行，而 <code>readline</code> 返回单独的行，需要手动去除换行符。</li></ul> 
<p>选择使用哪个方法取决于文件的大小和处理需求。如果文件较小，可以完全装入内存，使用 <code>readlines</code>；如果文件较大，可以逐行处理，使用 <code>readline</code>。</p> 
<h2><a id="3__385"></a>3 文件的相关操作</h2> 
<h3><a id="31__389"></a>3.1 文件重命名</h3> 
<p>Python 文件重命名是文件管理中的一个基本操作，可以通过 Python 的内置库来实现。以下是一个超详细的入门指南，介绍如何使用 Python 重命名文件：</p> 
<p><strong>1. 导入必要的库</strong></p> 
<p>首先，您需要导入 Python 的 <code>os</code> 库，它提供了许多与操作系统交互的函数。</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> os
</code></pre> 
<p><strong>2. 准备文件列表</strong></p> 
<p>要重命名文件，您需要先列出指定目录中的所有文件。可以使用 <code>os.listdir()</code> 函数来获取目录中的文件列表。</p> 
<pre><code class="prism language-python"><span class="token comment"># 列出指定目录中的所有文件和文件夹</span>
files <span class="token operator">=</span> os<span class="token punctuation">.</span>listdir<span class="token punctuation">(</span><span class="token string">'path_to_directory'</span><span class="token punctuation">)</span>
</code></pre> 
<p><strong>3. 遍历文件列表</strong></p> 
<p>接着，您需要遍历文件列表，对每一个文件进行重命名。</p> 
<pre><code class="prism language-python"><span class="token keyword">for</span> <span class="token builtin">file</span> <span class="token keyword">in</span> files<span class="token punctuation">:</span>
    <span class="token comment"># 获取文件的完整路径</span>
    full_path <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token string">'path_to_directory'</span><span class="token punctuation">,</span> <span class="token builtin">file</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 检查是否是文件</span>
    <span class="token keyword">if</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>isfile<span class="token punctuation">(</span>full_path<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># 新的文件名</span>
        new_filename <span class="token operator">=</span> <span class="token string">'new_name'</span>
        
        <span class="token comment"># 重命名操作</span>
        os<span class="token punctuation">.</span>rename<span class="token punctuation">(</span>full_path<span class="token punctuation">,</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token string">'path_to_directory'</span><span class="token punctuation">,</span> new_filename<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'Renamed </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span><span class="token builtin">file</span><span class="token punctuation">}</span></span><span class="token string"> to </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>new_filename<span class="token punctuation">}</span></span><span class="token string">'</span></span><span class="token punctuation">)</span>
</code></pre> 
<p><strong>4. 异常处理</strong></p> 
<p>在重命名文件时，可能会出现各种异常，例如目标文件已存在、没有足够权限等。为了确保程序的健壮性，应该添加异常处理。</p> 
<pre><code class="prism language-python"><span class="token keyword">try</span><span class="token punctuation">:</span>
    <span class="token keyword">for</span> <span class="token builtin">file</span> <span class="token keyword">in</span> files<span class="token punctuation">:</span>
        <span class="token comment"># ...（上面的代码）</span>
<span class="token keyword">except</span> OSError <span class="token keyword">as</span> e<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'Error occurred: </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>e<span class="token punctuation">}</span></span><span class="token string">'</span></span><span class="token punctuation">)</span>
</code></pre> 
<p><strong>5. 完整的脚本示例</strong></p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> os
<span class="token comment"># 指定要重命名文件的目录</span>
directory <span class="token operator">=</span> <span class="token string">'path_to_directory'</span>
<span class="token comment"># 列出目录中的所有文件</span>
files <span class="token operator">=</span> os<span class="token punctuation">.</span>listdir<span class="token punctuation">(</span>directory<span class="token punctuation">)</span>
<span class="token comment"># 遍历文件列表并进行重命名</span>
<span class="token keyword">for</span> <span class="token builtin">file</span> <span class="token keyword">in</span> files<span class="token punctuation">:</span>
    <span class="token keyword">if</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>isfile<span class="token punctuation">(</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>directory<span class="token punctuation">,</span> <span class="token builtin">file</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># 设定新的文件名</span>
        new_filename <span class="token operator">=</span> <span class="token string">'new_name'</span>
        
        <span class="token comment"># 重命名文件</span>
        <span class="token keyword">try</span><span class="token punctuation">:</span>
            os<span class="token punctuation">.</span>rename<span class="token punctuation">(</span>
                os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>directory<span class="token punctuation">,</span> <span class="token builtin">file</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>directory<span class="token punctuation">,</span> new_filename<span class="token punctuation">)</span>
            <span class="token punctuation">)</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'Renamed </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span><span class="token builtin">file</span><span class="token punctuation">}</span></span><span class="token string"> to </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>new_filename<span class="token punctuation">}</span></span><span class="token string">'</span></span><span class="token punctuation">)</span>
        <span class="token keyword">except</span> OSError <span class="token keyword">as</span> e<span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'Error renaming </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span><span class="token builtin">file</span><span class="token punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>e<span class="token punctuation">}</span></span><span class="token string">'</span></span><span class="token punctuation">)</span>
</code></pre> 
<p><strong>6. 注意安全性和效率</strong></p> 
<p>在批量重命名文件时，应确保：</p> 
<ul><li>不要同时进行多个重命名操作，以避免潜在的竞争条件。</li><li>确保目标目录存在，避免在重命名时创建不存在的目录。</li><li>考虑到操作系统对文件重命名的限制，例如在 Windows 中，文件名不能超过 255 个字符，而在 Unix/Linux 中则没有这个限制。</li></ul> 
<p><strong>7. 高级用法</strong></p> 
<p>对于更复杂的重命名任务，您可以使用正则表达式或者其他文本处理方法来生成新的文件名。</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> os
<span class="token keyword">import</span> re
<span class="token comment"># 指定目录</span>
directory <span class="token operator">=</span> <span class="token string">'path_to_directory'</span>
<span class="token comment"># 列出目录中的所有文件</span>
files <span class="token operator">=</span> os<span class="token punctuation">.</span>listdir<span class="token punctuation">(</span>directory<span class="token punctuation">)</span>
<span class="token comment"># 遍历文件列表并进行重命名</span>
<span class="token keyword">for</span> <span class="token builtin">file</span> <span class="token keyword">in</span> files<span class="token punctuation">:</span>
    <span class="token keyword">if</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>isfile<span class="token punctuation">(</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>directory<span class="token punctuation">,</span> <span class="token builtin">file</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># 使用正则表达式匹配文件名模式，并替换为新的模式</span>
        new_filename <span class="token operator">=</span> re<span class="token punctuation">.</span>sub<span class="token punctuation">(</span><span class="token string">r'\d+'</span><span class="token punctuation">,</span> <span class="token string">'new_prefix'</span><span class="token punctuation">,</span> <span class="token builtin">file</span><span class="token punctuation">)</span>
        
        <span class="token comment"># 重命名文件</span>
        <span class="token keyword">try</span><span class="token punctuation">:</span>
            os<span class="token punctuation">.</span>rename<span class="token punctuation">(</span>
                os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>directory<span class="token punctuation">,</span> <span class="token builtin">file</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>directory<span class="token punctuation">,</span> new_filename<span class="token punctuation">)</span>
            <span class="token punctuation">)</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'Renamed </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span><span class="token builtin">file</span><span class="token punctuation">}</span></span><span class="token string"> to </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>new_filename<span class="token punctuation">}</span></span><span class="token string">'</span></span><span class="token punctuation">)</span>
        <span class="token keyword">except</span> OSError <span class="token keyword">as</span> e<span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'Error renaming </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span><span class="token builtin">file</span><span class="token punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>e<span class="token punctuation">}</span></span><span class="token string">'</span></span><span class="token punctuation">)</span>
</code></pre> 
<p>这个脚本会将指定目录中所有以数字开头的文件重命名为新的前缀。</p> 
<h3><a id="32__500"></a>3.2 删除文件</h3> 
<p>在Python中，删除文件是一个相对简单的操作。我们可以使用<code>os</code>库中的<code>os.remove()</code>函数来实现。以下是一个超详细的入门指南，介绍如何使用Python删除文件：</p> 
<p><strong>1. 导入必要的库</strong></p> 
<p>首先，您需要导入Python的 <code>os</code> 库，它提供了许多与操作系统交互的函数。</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> os
</code></pre> 
<p><strong>2. 准备文件路径</strong></p> 
<p>要删除文件，您需要知道要删除的文件的路径。</p> 
<pre><code class="prism language-python">file_path <span class="token operator">=</span> <span class="token string">'path_to_file'</span>
</code></pre> 
<p><strong>3. 检查文件是否存在</strong></p> 
<p>在删除文件之前，最好检查该文件是否存在，以避免错误。</p> 
<pre><code class="prism language-python"><span class="token keyword">if</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>isfile<span class="token punctuation">(</span>file_path<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'File </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>file_path<span class="token punctuation">}</span></span><span class="token string"> exists, proceed to delete.'</span></span><span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'File </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>file_path<span class="token punctuation">}</span></span><span class="token string"> does not exist, skip deletion.'</span></span><span class="token punctuation">)</span>
</code></pre> 
<ol start="4"><li>执行删除操作</li></ol> 
<p>如果文件存在，您可以使用 <code>os.remove()</code> 函数来删除它。</p> 
<pre><code class="prism language-python"><span class="token keyword">try</span><span class="token punctuation">:</span>
    os<span class="token punctuation">.</span>remove<span class="token punctuation">(</span>file_path<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'File </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>file_path<span class="token punctuation">}</span></span><span class="token string"> deleted successfully.'</span></span><span class="token punctuation">)</span>
<span class="token keyword">except</span> OSError <span class="token keyword">as</span> e<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'Error occurred: </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>e<span class="token punctuation">}</span></span><span class="token string">'</span></span><span class="token punctuation">)</span>
</code></pre> 
<p><strong>5. 完整的脚本示例</strong></p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> os
<span class="token comment"># 指定要删除的文件的目录</span>
file_path <span class="token operator">=</span> <span class="token string">'path_to_file'</span>
<span class="token comment"># 检查文件是否存在</span>
<span class="token keyword">if</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>isfile<span class="token punctuation">(</span>file_path<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'File </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>file_path<span class="token punctuation">}</span></span><span class="token string"> exists, proceed to delete.'</span></span><span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'File </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>file_path<span class="token punctuation">}</span></span><span class="token string"> does not exist, skip deletion.'</span></span><span class="token punctuation">)</span>
<span class="token comment"># 执行删除操作</span>
<span class="token keyword">try</span><span class="token punctuation">:</span>
    os<span class="token punctuation">.</span>remove<span class="token punctuation">(</span>file_path<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'File </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>file_path<span class="token punctuation">}</span></span><span class="token string"> deleted successfully.'</span></span><span class="token punctuation">)</span>
<span class="token keyword">except</span> OSError <span class="token keyword">as</span> e<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'Error occurred: </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>e<span class="token punctuation">}</span></span><span class="token string">'</span></span><span class="token punctuation">)</span>
</code></pre> 
<p><strong>6. 注意安全性和效率</strong></p> 
<p>在批量删除文件时，应确保：</p> 
<ul><li>不要同时进行多个删除操作，以避免潜在的竞争条件。</li><li>确保目标目录存在，避免在删除时创建不存在的目录。</li><li>考虑到操作系统对文件删除的操作限制，例如在 Windows 中，文件名不能超过 255 个字符，而在 Unix/Linux 中则没有这个限制。<br> 通过以上步骤，您应该能够掌握如何使用Python删除文件。</li></ul> 
<h3><a id="33__560"></a>3.3 创建文件</h3> 
<p>在Python中，创建文件是一个相对简单的操作。我们可以使用 <code>os</code> 库中的 <code>os.open()</code> 函数或者 <code>with</code> 语句来创建文件。以下是一个超详细的入门指南，介绍如何使用Python创建文件：</p> 
<p><strong>1. 导入必要的库</strong></p> 
<p>首先，您需要导入Python的 <code>os</code> 库，它提供了许多与操作系统交互的函数。</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> os
</code></pre> 
<p><strong>2. 准备文件路径</strong></p> 
<p>要创建文件，您需要知道要创建的文件的路径。</p> 
<pre><code class="prism language-python">file_path <span class="token operator">=</span> <span class="token string">'path_to_file'</span>
</code></pre> 
<p><strong>3. 检查文件路径是否存在</strong></p> 
<p>在创建文件之前，最好检查该文件路径是否存在，以避免覆盖其他文件。</p> 
<pre><code class="prism language-python"><span class="token keyword">if</span> <span class="token keyword">not</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>exists<span class="token punctuation">(</span>file_path<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'File path </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>file_path<span class="token punctuation">}</span></span><span class="token string"> does not exist, proceed to create.'</span></span><span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'File path </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>file_path<span class="token punctuation">}</span></span><span class="token string"> already exists, skip creation.'</span></span><span class="token punctuation">)</span>
</code></pre> 
<p><strong>4. 执行创建操作</strong></p> 
<p>如果文件路径不存在，您可以使用 <code>os.open()</code> 函数来创建文件。</p> 
<pre><code class="prism language-python"><span class="token keyword">try</span><span class="token punctuation">:</span>
    <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>file_path<span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'File </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>file_path<span class="token punctuation">}</span></span><span class="token string"> created successfully.'</span></span><span class="token punctuation">)</span>
<span class="token keyword">except</span> IOError <span class="token keyword">as</span> e<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'Error occurred: </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>e<span class="token punctuation">}</span></span><span class="token string">'</span></span><span class="token punctuation">)</span>
</code></pre> 
<p>这里，我们使用 <code>with</code> 语句来确保文件在操作完成后会被正确关闭。<code>'w'</code> 参数表示以写入模式打开文件，如果文件不存在，会创建一个新文件。</p> 
<p><strong>5. 完整的脚本示例</strong></p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> os
<span class="token comment"># 指定要创建的文件的目录</span>
file_path <span class="token operator">=</span> <span class="token string">'path_to_file'</span>
<span class="token comment"># 检查文件路径是否存在</span>
<span class="token keyword">if</span> <span class="token keyword">not</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>exists<span class="token punctuation">(</span>file_path<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'File path </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>file_path<span class="token punctuation">}</span></span><span class="token string"> does not exist, proceed to create.'</span></span><span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'File path </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>file_path<span class="token punctuation">}</span></span><span class="token string"> already exists, skip creation.'</span></span><span class="token punctuation">)</span>
<span class="token comment"># 执行创建操作</span>
<span class="token keyword">try</span><span class="token punctuation">:</span>
    <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>file_path<span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'File </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>file_path<span class="token punctuation">}</span></span><span class="token string"> created successfully.'</span></span><span class="token punctuation">)</span>
<span class="token keyword">except</span> IOError <span class="token keyword">as</span> e<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'Error occurred: </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>e<span class="token punctuation">}</span></span><span class="token string">'</span></span><span class="token punctuation">)</span>
</code></pre> 
<p><strong>6. 注意安全性和效率</strong></p> 
<p>在创建文件时，应确保：</p> 
<ul><li>拥有创建文件的足够权限。</li><li>避免在内存不足的情况下创建大型文件。<br> 通过以上步骤，您应该能够掌握如何使用Python创建文件。</li></ul> 
<h3><a id="34__631"></a>3.4 获取当前目录</h3> 
<p>在Python中，我们可以使用 <code>os</code> 库中的 <code>os.getcwd()</code> 函数来获取当前目录的路径。以下是一个示例：</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> os
current_directory <span class="token operator">=</span> os<span class="token punctuation">.</span>getcwd<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'Current directory is: </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>current_directory<span class="token punctuation">}</span></span><span class="token string">'</span></span><span class="token punctuation">)</span>
</code></pre> 
<p>这将会打印出当前Python脚本所在目录的路径。</p> 
<h2><a id="4__643"></a>4 示例</h2> 
<h3><a id="41_txt_645"></a>4.1 目录.txt自动清洗</h3> 
<blockquote> 
 <ol><li>需要在二级标题所在行最前面空4个格子，一级标题不用</li><li>需要在章和节字的后面加上一个空格</li><li>需要在页码前面加上=&gt;符号</li></ol> 
</blockquote> 
<pre><code class="prism language-python"><span class="token comment"># 获取桌面路径</span>
<span class="token keyword">import</span> os
<span class="token keyword">import</span> re

desktop_path <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>expanduser<span class="token punctuation">(</span><span class="token string">"~"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"Desktop"</span><span class="token punctuation">)</span>

<span class="token comment"># 目标文件路径</span>
file_path <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>desktop_path<span class="token punctuation">,</span> <span class="token string">"目录.txt"</span><span class="token punctuation">)</span>

<span class="token comment"># 打开文件并读取内容</span>
<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>file_path<span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token builtin">file</span><span class="token punctuation">:</span>
    lines <span class="token operator">=</span> <span class="token builtin">file</span><span class="token punctuation">.</span>readlines<span class="token punctuation">(</span><span class="token punctuation">)</span>

modified_lines <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> line <span class="token keyword">in</span> lines<span class="token punctuation">:</span>
    <span class="token comment"># 去除空格</span>
    line <span class="token operator">=</span> line<span class="token punctuation">.</span>replace<span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>line<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
        <span class="token keyword">continue</span>
    <span class="token comment"># 使用正则表达式在'章'或'节'后面添加一个空格，仅在后面没有空格的情况下</span>
    line <span class="token operator">=</span> re<span class="token punctuation">.</span>sub<span class="token punctuation">(</span><span class="token string">r'(章|节)(?![ ])'</span><span class="token punctuation">,</span> <span class="token string">r'\1 '</span><span class="token punctuation">,</span> line<span class="token punctuation">)</span>
    <span class="token comment"># 在小数点后添加空格</span>
    line <span class="token operator">=</span> re<span class="token punctuation">.</span>sub<span class="token punctuation">(</span><span class="token string">r'(\.\d)'</span><span class="token punctuation">,</span> <span class="token string">r'\1 '</span><span class="token punctuation">,</span> line<span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token string">'章'</span> <span class="token keyword">not</span> <span class="token keyword">in</span> line<span class="token punctuation">:</span>
        <span class="token comment"># 二级标题添加4个空格</span>
        line <span class="token operator">=</span> <span class="token string">' '</span> <span class="token operator">*</span> <span class="token number">4</span> <span class="token operator">+</span> line
    <span class="token comment"># 匹配并去除最外层的英文括号</span>
    pattern_en <span class="token operator">=</span> <span class="token string">r'\(([\d\s]+)\)'</span>
    line <span class="token operator">=</span> re<span class="token punctuation">.</span>sub<span class="token punctuation">(</span>pattern_en<span class="token punctuation">,</span> <span class="token string">r'\1'</span><span class="token punctuation">,</span> line<span class="token punctuation">)</span>
    <span class="token comment"># 匹配并去除最外层的中文括号及其内部内容（包括除数字和空格以外的字符）</span>
    pattern <span class="token operator">=</span> <span class="token string">r'（([^）]+)）'</span>
    line <span class="token operator">=</span> re<span class="token punctuation">.</span>sub<span class="token punctuation">(</span>pattern<span class="token punctuation">,</span> <span class="token string">r'\1'</span><span class="token punctuation">,</span> line<span class="token punctuation">)</span>
    <span class="token comment"># 确保每行只有一个 =&gt;</span>
    <span class="token keyword">if</span> <span class="token string">'=&gt;'</span> <span class="token keyword">not</span> <span class="token keyword">in</span> line<span class="token punctuation">:</span>
        <span class="token comment"># 在页码数字前添加 =&gt;（只在行尾）</span>
        line <span class="token operator">=</span> re<span class="token punctuation">.</span>sub<span class="token punctuation">(</span><span class="token string">r'(\d+)$'</span><span class="token punctuation">,</span> <span class="token string">r'=&gt;\1'</span><span class="token punctuation">,</span> line<span class="token punctuation">)</span>
    <span class="token comment"># 去除中文汉字和'=&gt;整体符号左边的冗余符号</span>
    pattern <span class="token operator">=</span> <span class="token string">r'([\u4e00-\u9fff]+)[^\w\s]+=&gt;'</span>
    line <span class="token operator">=</span> re<span class="token punctuation">.</span>sub<span class="token punctuation">(</span>pattern<span class="token punctuation">,</span> <span class="token string">r'\1=&gt;'</span><span class="token punctuation">,</span> line<span class="token punctuation">)</span>
    modified_lines<span class="token punctuation">.</span>append<span class="token punctuation">(</span>line<span class="token punctuation">)</span>
<span class="token comment"># 将修改后的内容写回文件</span>
<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>file_path<span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token builtin">file</span><span class="token punctuation">:</span>
    <span class="token builtin">file</span><span class="token punctuation">.</span>writelines<span class="token punctuation">(</span>modified_lines<span class="token punctuation">)</span>

<span class="token comment"># 读取文件内容</span>
<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>file_path<span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token builtin">file</span><span class="token punctuation">:</span>
    content <span class="token operator">=</span> <span class="token builtin">file</span><span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span>

</code></pre> 
<h3><a id="42__703"></a>4.2 批量修改文件夹下的文件命名</h3> 
<blockquote> 
 <p>D:\231127\试卷\00159高级财务会计 目录下的所有图片命名中有_，确保_前面的字符串为00159231127</p> 
</blockquote> 
<p>你可以使用 <code>Python</code> 的 <code>os</code> 模块来实现对文件名的批量修改，结合字符串操作来确保文件名中的规定格式。以下是一个示例代码：</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> os

<span class="token comment"># 指定目录路径</span>
directory_path <span class="token operator">=</span> <span class="token string">r'D:\231127\试卷\00159高级财务会计'</span>

<span class="token comment"># 获取目录下所有文件名</span>
files <span class="token operator">=</span> os<span class="token punctuation">.</span>listdir<span class="token punctuation">(</span>directory_path<span class="token punctuation">)</span>

<span class="token comment"># 遍历文件</span>
<span class="token keyword">for</span> file_name <span class="token keyword">in</span> files<span class="token punctuation">:</span>
    <span class="token comment"># 构建完整的文件路径</span>
    file_path <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>directory_path<span class="token punctuation">,</span> file_name<span class="token punctuation">)</span>

    <span class="token comment"># 检查文件是否是图片文件，并且文件名中包含下划线</span>
    <span class="token keyword">if</span> file_name<span class="token punctuation">.</span>lower<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>endswith<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">'.png'</span><span class="token punctuation">,</span> <span class="token string">'.jpg'</span><span class="token punctuation">,</span> <span class="token string">'.jpeg'</span><span class="token punctuation">,</span> <span class="token string">'.gif'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token string">'_'</span> <span class="token keyword">in</span> file_name<span class="token punctuation">:</span>
        <span class="token comment"># 分割文件名，以下划线为界</span>
        parts <span class="token operator">=</span> file_name<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">'_'</span><span class="token punctuation">)</span>

        <span class="token comment"># 确保分割后的第一部分为'00159231127'</span>
        <span class="token keyword">if</span> parts<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token string">'00159231127'</span><span class="token punctuation">:</span>
            <span class="token comment"># 构建新文件名</span>
            new_file_name <span class="token operator">=</span> <span class="token string">'00159231127'</span> <span class="token operator">+</span> <span class="token string">'_'</span> <span class="token operator">+</span> <span class="token string">'_'</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>parts<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

            <span class="token comment"># 构建新文件路径</span>
            new_file_path <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>directory_path<span class="token punctuation">,</span> new_file_name<span class="token punctuation">)</span>

            <span class="token comment"># 重命名文件</span>
            os<span class="token punctuation">.</span>rename<span class="token punctuation">(</span>file_path<span class="token punctuation">,</span> new_file_path<span class="token punctuation">)</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'Renamed: </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>file_name<span class="token punctuation">}</span></span><span class="token string"> -&amp;gt; </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>new_file_name<span class="token punctuation">}</span></span><span class="token string">'</span></span><span class="token punctuation">)</span>
</code></pre> 
<p>在上述代码中：</p> 
<p>1.使用 <code>os.listdir</code> 获取目录下的所有文件名，然后遍历这些文件名。<br> 2.通过 <code>os.path.join</code> 构建完整的文件路径，确保路径的正确性。<br> 3.检查文件是否是图片文件（以 <code>.png, .jpg, .jpeg, .gif</code> 结尾的文件），并且文件名中包含下划线。<br> 4.使用 <code>split('_')</code> 分割文件名，确保分割后的第一部分为<code>'00159231127'</code>。<br> 5.构建新文件名，并使用 os.rename 来重命名文件。</p> 
<p>在运行前，请确保备份文件或者在测试环境中运行，以免意外损坏文件。</p> 
<h3><a id="43__755"></a>4.3 检测同级目录下是否存在同名文件夹</h3> 
<blockquote> 
 <p>检测 D:\231127\试卷 下的文件夹命名前5位是否存在一样的，如果一样打印出来</p> 
</blockquote> 
<p>你可以使用 <code>Python</code> 来检查指定目录下的文件夹，查找前5位命名相同的文件夹。以下是一个示例代码：</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> os

<span class="token comment"># 指定目录路径</span>
directory_path <span class="token operator">=</span> <span class="token string">r'D:\231127\试卷'</span>

<span class="token comment"># 获取目录下所有文件夹名</span>
folders <span class="token operator">=</span> <span class="token punctuation">[</span>folder <span class="token keyword">for</span> folder <span class="token keyword">in</span> os<span class="token punctuation">.</span>listdir<span class="token punctuation">(</span>directory_path<span class="token punctuation">)</span> <span class="token keyword">if</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>isdir<span class="token punctuation">(</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>directory_path<span class="token punctuation">,</span> folder<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span>

<span class="token comment"># 创建一个空字典，用于存储前5位相同的文件夹名</span>
same_prefix_folders <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>

<span class="token comment"># 遍历文件夹</span>
<span class="token keyword">for</span> folder <span class="token keyword">in</span> folders<span class="token punctuation">:</span>
    <span class="token comment"># 获取前5位文件夹名</span>
    prefix <span class="token operator">=</span> folder<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">]</span>

    <span class="token comment"># 检查前5位文件夹名是否已经在字典中</span>
    <span class="token keyword">if</span> prefix <span class="token keyword">in</span> same_prefix_folders<span class="token punctuation">:</span>
        <span class="token comment"># 将文件夹名添加到对应的键值中</span>
        same_prefix_folders<span class="token punctuation">[</span>prefix<span class="token punctuation">]</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span>folder<span class="token punctuation">)</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token comment"># 若字典中没有该前5位文件夹名，则创建键值对</span>
        same_prefix_folders<span class="token punctuation">[</span>prefix<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>folder<span class="token punctuation">]</span>

<span class="token comment"># 输出前5位相同的文件夹名</span>
<span class="token keyword">for</span> prefix<span class="token punctuation">,</span> folders <span class="token keyword">in</span> same_prefix_folders<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>folders<span class="token punctuation">)</span> <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">1</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"前5位为 '</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>prefix<span class="token punctuation">}</span></span><span class="token string">' 的文件夹有以下重复命名："</span></span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">', '</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>folders<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p>这段代码执行以下操作：</p> 
<p>1.使用 <code>os.listdir</code> 获取指定目录下的所有文件夹名。<br> 2.然后遍历这些文件夹名，提取前 5 位名称，并将具有相同前缀的文件夹放入一个字典中。<br> 3.最后打印出前 5 位相同的文件夹名。</p> 
<h2><a id="_801"></a>总结</h2> 
<p>欢迎各位留言交流以及批评指正，如果文章对您有帮助或者觉得作者写的还不错可以点一下关注，点赞，收藏支持一下。<br> （博客的参考源码可以在我主页的资源里找到，如果在学习的过程中有什么疑问欢迎大家在评论区向我提出）</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/7048ee1dabb9f7cdd912ef63a62a397d/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">前端网页如何在 Windows 上测试 Safari</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/8dcce61e826bcff903d11140c915c205/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">基于SpringBoot&#43;vue的高校学生成绩管理系统</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>