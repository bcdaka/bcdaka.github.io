<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>axios同时使用查询参数（query）和请求体参数（body）发送请求 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/efefded2ef8b4c340cfacdce248fb8c4/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="axios同时使用查询参数（query）和请求体参数（body）发送请求">
  <meta property="og:description" content="当使用axios.post方法发送请求时，可以同时添加查询参数（query）和请求体参数（body）。具体的方法是将查询参数添加到URL中，并将请求体参数作为data属性传递给axios.post方法。
代码演示： 下面是一个示例，演示了如何将查询参数和请求体参数同时传递给axios.post方法：
import axios from &#39;axios&#39;; const apiUrl = &#39;https://api.xxx.com/post&#39;; // 查询参数 const queryParam = { key1: &#39;juny&#39;, key2: &#39;long&#39;, }; // 请求体参数 const bodyParam = { name: &#39;love Y&#39;, age: 25, }; axios.post(apiUrl &#43; &#39;?&#39; &#43; new URLSearchParams(queryParam), bodyParam) .then(response =&gt; { console.log(response.data); }) .catch(error =&gt; { console.error(error); }); 在上述代码中，queryParam对象包含要添加到URL中的查询参数，例如key1和key2。bodyParam对象包含要发送到服务器的请求体参数，例如name和age。
在使用axios.post方法时，使用字符串拼接的方式将查询参数添加到URL中，通过new URLSearchParams(queryParam)创建查询参数的字符串。
然后，将请求体参数作为data属性传递给axios.post方法，这样它们将作为请求的正文发送给服务器。
真实项目举例： // 获取列表 async getlist(){ let that=this that.loading=true // 获取list数据 await axios.post(API&#43;&#39;/warehouse/reconciliationMaster/externalSearchReconciliationList&#39;, {...that.queryParams}, {headers: that.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2023-11-23T10:57:56+08:00">
    <meta property="article:modified_time" content="2023-11-23T10:57:56+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">axios同时使用查询参数（query）和请求体参数（body）发送请求</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>当使用<code>axios.post</code>方法发送请求时，可以同时添加查询参数（query）和请求体参数（body）。具体的方法是将查询参数添加到URL中，并将请求体参数作为<code>data</code>属性传递给<code>axios.post</code>方法。</p> 
<h4><strong>代码演示：</strong></h4> 
<p>下面是一个示例，演示了如何将查询参数和请求体参数同时传递给<code>axios.post</code>方法：</p> 
<pre><code>import axios from 'axios';

const apiUrl = 'https://api.xxx.com/post';

// 查询参数
const queryParam = {
  key1: 'juny',
  key2: 'long',
};

// 请求体参数
const bodyParam = {
  name: 'love Y',
  age: 25,
};

axios.post(apiUrl + '?' + new URLSearchParams(queryParam), bodyParam)
  .then(response =&gt; {
    console.log(response.data);
  })
  .catch(error =&gt; {
    console.error(error);
  });
</code></pre> 
<p></p> 
<p>在上述代码中，<code>queryParam</code>对象包含要添加到URL中的查询参数，例如<code>key1</code>和<code>key2</code>。<code>bodyParam</code>对象包含要发送到服务器的请求体参数，例如<code>name</code>和<code>age</code>。</p> 
<p>在使用<code>axios.post</code>方法时，使用字符串拼接的方式将查询参数添加到URL中，通过<code>new URLSearchParams(queryParam)</code>创建查询参数的字符串。</p> 
<p>然后，将请求体参数作为<code>data</code>属性传递给<code>axios.post</code>方法，这样它们将作为请求的正文发送给服务器。</p> 
<h4>真实项目举例：</h4> 
<pre><code class="language-javascript">  // 获取列表
            async getlist(){
              let that=this
      that.loading=true
// 获取list数据
await axios.post(API+'/warehouse/reconciliationMaster/externalSearchReconciliationList',
    {...that.queryParams},
    {headers: that.postval}) .then(res=&gt; { 

that.tableData=res.data.data.items
console.log(res,'res获取list数据');
console.log(that.tableData,'table');
that.total=res.data.data.total
that.loading=false
}) .catch(error=&gt; { 
    console.log(error)
})
    },</code></pre> 
<h4>注意事项：</h4> 
<p>请注意，具体的URL和请求参数结构应根据你的实际情况进行调整。</p> 
<blockquote> 
 <p>在使用 query 和 body 参数时需要注意以下几点：</p> 
 <ol><li> <p>Query 参数一般用于 GET 请求，将参数组成 URL 的一部分，比如: <code>api.example.com/user?username=jack&amp;age=18</code>，这种形式的请求通常用于获取资源。在 Express 框架中，可以通过 <code>req.query</code> 获取到查询字符串参数。因为它是在 URL 中出现的，所以大小写敏感。</p> </li><li> <p>Body 参数一般用于 POST、PUT、PATCH 等请求，将参数放在请求体中，比如表单提交、JSON 数据上传等，这种形式的请求通常用于创建或更新资源。在 Express 框架中，可以通过 <code>req.body</code> 获取到请求体参数。因为它是在请求体中的，所以大小写不敏感。</p> </li><li> <p>在使用 Query 参数时，需要注意 URL 的最大长度限制，如果参数太多会导致 URL 过长，可能引起请求失败或参数丢失。</p> </li><li> <p>不同类型的参数都有大小限制，默认情况下 Node.js 的 <code>http</code> 模块只支持最大 80KB 的请求头，10MB 的请求体。如果请求体大小超过限制，需要使用流或文件上传等方式。</p> </li><li> <p>Query 参数和 Body 参数的字段名称需要一致，如果字段名称不一致可能导致参数无法正确传递。如果需要使用不同名称的字段，则需要在后端代码中手动处理参数。</p> </li><li> <p>在使用 POST 或 PUT 请求时，需要将参数设置为 JSON 格式（<code>Content-Type: application/json</code>），并将参数转换为 JSON 字符串。可以使用 <code>JSON.stringify()</code> 方法将对象转换为 JSON 字符串。在 Express 框架中，可以使用 <code>body-parser</code> 中间件解析 JSON 格式的请求体。</p> </li></ol> 
</blockquote>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/a95c7a4aeb9b38486a6de89bb84a4594/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【Linux】make/Makefile &amp; 进度条小程序</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e4861c6c1579b4b6ba16642977792fc5/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Mac下载的软件显示文件已损坏，如何解决文件已损坏问题，让文件可以正常运行</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>