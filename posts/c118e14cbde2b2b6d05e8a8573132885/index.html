<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>AIå¤§æ¨¡å‹æ¢ç´¢ä¹‹è·¯-å®æˆ˜ç¯‡ï¼šæ™ºèƒ½åŒ–ITé¢†åŸŸæœç´¢å¼•æ“ä¹‹çŸ¥ä¹ç½‘ç«™æ•°æ®è·å–ï¼ˆåˆæ­¥å®è·µï¼‰ - ç¼–ç¨‹å¤§å’–</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/c118e14cbde2b2b6d05e8a8573132885/">
  <meta property="og:site_name" content="ç¼–ç¨‹å¤§å’–">
  <meta property="og:title" content="AIå¤§æ¨¡å‹æ¢ç´¢ä¹‹è·¯-å®æˆ˜ç¯‡ï¼šæ™ºèƒ½åŒ–ITé¢†åŸŸæœç´¢å¼•æ“ä¹‹çŸ¥ä¹ç½‘ç«™æ•°æ®è·å–ï¼ˆåˆæ­¥å®è·µï¼‰">
  <meta property="og:description" content="ç³»åˆ—ç¯‡ç« ğŸ’¥ No.æ–‡ç« 1AIå¤§æ¨¡å‹æ¢ç´¢ä¹‹è·¯-å®æˆ˜ç¯‡ï¼šæ™ºèƒ½åŒ–ITé¢†åŸŸæœç´¢å¼•æ“çš„æ„å»ºä¸åˆæ­¥å®è·µ2AIå¤§æ¨¡å‹æ¢ç´¢ä¹‹è·¯-å®æˆ˜ç¯‡ï¼šæ™ºèƒ½åŒ–ITé¢†åŸŸæœç´¢å¼•æ“ä¹‹GLM-4å¤§æ¨¡å‹æŠ€æœ¯çš„å®è·µæ¢ç´¢3AIå¤§æ¨¡å‹æ¢ç´¢ä¹‹è·¯-å®æˆ˜ç¯‡ï¼šæ™ºèƒ½åŒ–ITé¢†åŸŸæœç´¢å¼•æ“ä¹‹çŸ¥ä¹ç½‘ç«™æ•°æ®è·å–ï¼ˆåˆæ­¥å®è·µï¼‰4AIå¤§æ¨¡å‹æ¢ç´¢ä¹‹è·¯-å®æˆ˜ç¯‡ï¼šæ™ºèƒ½åŒ–ITé¢†åŸŸæœç´¢å¼•æ“ä¹‹çŸ¥ä¹ç½‘ç«™æ•°æ®è·å–ï¼ˆå‡½æ•°å°è£…ï¼‰5AIå¤§æ¨¡å‹æ¢ç´¢ä¹‹è·¯-å®æˆ˜ç¯‡ï¼šæ™ºèƒ½åŒ–ITé¢†åŸŸæœç´¢å¼•æ“ä¹‹çŸ¥ä¹ç½‘ç«™æ•°æ®è·å–ï¼ˆæµç¨‹ä¼˜åŒ–ï¼‰6AIå¤§æ¨¡å‹æ¢ç´¢ä¹‹è·¯-å®æˆ˜ç¯‡ï¼šæ™ºèƒ½åŒ–ITé¢†åŸŸæœç´¢å¼•æ“ä¹‹githubç½‘ç«™åœ¨çº¿æœç´¢7AIå¤§æ¨¡å‹æ¢ç´¢ä¹‹è·¯-å®æˆ˜ç¯‡ï¼šæ™ºèƒ½åŒ–ITé¢†åŸŸæœç´¢å¼•æ“ä¹‹HuggingFaceç½‘ç«™åœ¨çº¿æœç´¢ ç›®å½• ç³»åˆ—ç¯‡ç« ğŸ’¥ä¸€ã€å‰è¨€äºŒã€æ€»ä½“æ¦‚è§ˆä¸‰ã€æœç´¢APIå°è£…æµ‹è¯•1ã€å¯¼å…¥ä¾èµ–å¹¶åˆå§‹åŒ–å®¢æˆ·ç«¯2ã€å¤§æ¨¡å‹å›ç­”é—®é¢˜ç­–ç•¥æµ‹è¯•3ã€function callingå‡½æ•°æµ‹è¯•4ã€è°·æ­Œæœç´¢APIå¼€å‘ å››ã€çŸ¥ä¹ç½‘ç«™æ•°æ®çˆ¬å–1ã€æ•°æ®æ ¼å¼å®šä¹‰2ã€è®¾ç½®çŸ¥ä¹æ’é™¤çš„ç½‘ç«™3ã€Google apiè°ƒç”¨æµ‹è¯•4ã€çˆ¬è™«ä¹‹Cookieè·å–5ã€çˆ¬è™«ä¹‹user-agent6ã€çˆ¬è™«ä¹‹è·å–PATH7ã€ç½‘ç»œçˆ¬è™«ä»£ç ç¼–å†™8ã€questionç±»å‹çš„ç½‘ç«™çˆ¬è™«æµ‹è¯•9ã€ç½‘é¡µæ•°æ®ä¿å­˜10ã€question/answerç½‘ç«™çˆ¬è™«æµ‹è¯•11ã€ä¸“æ ç±»ç½‘ç«™çˆ¬è™«æµ‹è¯• ç»“è¯­ ä¸€ã€å‰è¨€ åœ¨å…ˆå‰çš„æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å®Œæˆäº†æ™ºèƒ½åŒ–ITé¢†åŸŸæœç´¢å¼•æ“çš„åŸºç¡€æ¶æ„è®¾è®¡ä»¥åŠGoogle Search APIçš„ç”³è¯·ç­‰å‰æœŸå‡†å¤‡å·¥ä½œã€‚åŒæ—¶ï¼Œæˆ‘ä»¬è¿˜å®è·µæµ‹è¯•äº†GLM4çš„Function Callingèƒ½åŠ›ï¼Œä¸ºåç»­çš„å¼€å‘å¥ å®šäº†åšå®çš„åŸºç¡€ã€‚æœ¬æ–‡å°†æ­£å¼è¿›å…¥ä»£ç å¼€å‘é˜¶æ®µï¼Œé¦–å…ˆä»çŸ¥ä¹ç½‘ç«™çš„æ•°æ®æœç´¢å¼€å§‹ã€‚
äºŒã€æ€»ä½“æ¦‚è§ˆ æœ¬æ–‡å°†è¯¦ç»†é˜è¿°å¦‚ä½•é€æ­¥å®ç°çŸ¥ä¹ç½‘ç«™æ•°æ®è·å–çš„æ•´ä¸ªæµç¨‹ã€‚æˆ‘ä»¬å°†ä»çŸ¥ä¹ç½‘ç«™çš„ç»“æ„åˆ†æå…¥æ‰‹ï¼Œé€šè¿‡ç¼–å†™é«˜æ•ˆçš„ç½‘ç»œçˆ¬è™«ç¨‹åºï¼Œå®ç°å¯¹çŸ¥ä¹é—®é¢˜çš„æ™ºèƒ½æ£€ç´¢ï¼Œå¹¶åˆ©ç”¨å…ˆè¿›çš„æ•°æ®åˆ†ææŠ€æœ¯ï¼Œå¯¹è·å–çš„æ•°æ®è¿›è¡Œæ·±åº¦æŒ–æ˜å’Œæ•´åˆï¼Œæœ€ç»ˆå°†è¿™äº›æœ‰ä»·å€¼çš„ä¿¡æ¯èå…¥æˆ‘ä»¬çš„æ™ºèƒ½åŒ–ITé¢†åŸŸæœç´¢å¼•æ“ä¸­ï¼Œä¸ºç”¨æˆ·æä¾›æ›´å…¨é¢ã€å‡†ç¡®çš„æœç´¢ç»“æœã€‚è¿™ä¸€è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä¸æ–­ä¼˜åŒ–ç®—æ³•ï¼Œæå‡æ•°æ®è·å–çš„æ•ˆç‡å’Œå‡†ç¡®æ€§ï¼Œç¡®ä¿æœç´¢å¼•æ“çš„æ™ºèƒ½åŒ–æ°´å¹³å¾—åˆ°æŒç»­æå‡ã€‚
ä¸‰ã€æœç´¢APIå°è£…æµ‹è¯• 1ã€å¯¼å…¥ä¾èµ–å¹¶åˆå§‹åŒ–å®¢æˆ·ç«¯ å¯¼å…¥ä¾èµ–
! pip install --upgrade zhipuai ! pip install --upgrade google-auth google-auth-httplib2 google-auth-oauthlib google-api-python-client requests åˆ›å»ºå®¢æˆ·ç«¯
import os import openai from openai import OpenAI import glob import shutil import numpy as np import pandas as pd import json import io import inspect import requests import re import random import string from googleapiclient.discovery import build from google.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-06-14T09:03:46+08:00">
    <meta property="article:modified_time" content="2024-06-14T09:03:46+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ç¼–ç¨‹å¤§å’–" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ç¼–ç¨‹å¤§å’–</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">AIå¤§æ¨¡å‹æ¢ç´¢ä¹‹è·¯-å®æˆ˜ç¯‡ï¼šæ™ºèƒ½åŒ–ITé¢†åŸŸæœç´¢å¼•æ“ä¹‹çŸ¥ä¹ç½‘ç«™æ•°æ®è·å–ï¼ˆåˆæ­¥å®è·µï¼‰</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="_2"></a>ç³»åˆ—ç¯‡ç« ğŸ’¥</h2> 
<table><thead><tr><th align="left">No.</th><th align="left">æ–‡ç« </th></tr></thead><tbody><tr><td align="left">1</td><td align="left"><a href="https://xundaomalu.blog.csdn.net/article/details/139605522" rel="nofollow">AIå¤§æ¨¡å‹æ¢ç´¢ä¹‹è·¯-å®æˆ˜ç¯‡ï¼šæ™ºèƒ½åŒ–ITé¢†åŸŸæœç´¢å¼•æ“çš„æ„å»ºä¸åˆæ­¥å®è·µ</a></td></tr><tr><td align="left">2</td><td align="left"><a href="https://xundaomalu.blog.csdn.net/article/details/139652339" rel="nofollow">AIå¤§æ¨¡å‹æ¢ç´¢ä¹‹è·¯-å®æˆ˜ç¯‡ï¼šæ™ºèƒ½åŒ–ITé¢†åŸŸæœç´¢å¼•æ“ä¹‹GLM-4å¤§æ¨¡å‹æŠ€æœ¯çš„å®è·µæ¢ç´¢</a></td></tr><tr><td align="left">3</td><td align="left"><a href="https://xundaomalu.blog.csdn.net/article/details/139668701" rel="nofollow">AIå¤§æ¨¡å‹æ¢ç´¢ä¹‹è·¯-å®æˆ˜ç¯‡ï¼šæ™ºèƒ½åŒ–ITé¢†åŸŸæœç´¢å¼•æ“ä¹‹çŸ¥ä¹ç½‘ç«™æ•°æ®è·å–ï¼ˆåˆæ­¥å®è·µï¼‰</a></td></tr><tr><td align="left">4</td><td align="left">AIå¤§æ¨¡å‹æ¢ç´¢ä¹‹è·¯-å®æˆ˜ç¯‡ï¼šæ™ºèƒ½åŒ–ITé¢†åŸŸæœç´¢å¼•æ“ä¹‹çŸ¥ä¹ç½‘ç«™æ•°æ®è·å–ï¼ˆå‡½æ•°å°è£…ï¼‰</td></tr><tr><td align="left">5</td><td align="left">AIå¤§æ¨¡å‹æ¢ç´¢ä¹‹è·¯-å®æˆ˜ç¯‡ï¼šæ™ºèƒ½åŒ–ITé¢†åŸŸæœç´¢å¼•æ“ä¹‹çŸ¥ä¹ç½‘ç«™æ•°æ®è·å–ï¼ˆæµç¨‹ä¼˜åŒ–ï¼‰</td></tr><tr><td align="left">6</td><td align="left">AIå¤§æ¨¡å‹æ¢ç´¢ä¹‹è·¯-å®æˆ˜ç¯‡ï¼šæ™ºèƒ½åŒ–ITé¢†åŸŸæœç´¢å¼•æ“ä¹‹githubç½‘ç«™åœ¨çº¿æœç´¢</td></tr><tr><td align="left">7</td><td align="left">AIå¤§æ¨¡å‹æ¢ç´¢ä¹‹è·¯-å®æˆ˜ç¯‡ï¼šæ™ºèƒ½åŒ–ITé¢†åŸŸæœç´¢å¼•æ“ä¹‹HuggingFaceç½‘ç«™åœ¨çº¿æœç´¢</td></tr></tbody></table> 
<hr> 
<p></p> 
<div class="toc"> 
 <h4>ç›®å½•</h4> 
 <ul><li><a href="#_2" rel="nofollow">ç³»åˆ—ç¯‡ç« ğŸ’¥</a></li><li><a href="#_19" rel="nofollow">ä¸€ã€å‰è¨€</a></li><li><a href="#_22" rel="nofollow">äºŒã€æ€»ä½“æ¦‚è§ˆ</a></li><li><a href="#API_24" rel="nofollow">ä¸‰ã€æœç´¢APIå°è£…æµ‹è¯•</a></li><li><ul><li><a href="#1_25" rel="nofollow">1ã€å¯¼å…¥ä¾èµ–å¹¶åˆå§‹åŒ–å®¢æˆ·ç«¯</a></li><li><a href="#2_72" rel="nofollow">2ã€å¤§æ¨¡å‹å›ç­”é—®é¢˜ç­–ç•¥æµ‹è¯•</a></li><li><a href="#3function_calling_106" rel="nofollow">3ã€function callingå‡½æ•°æµ‹è¯•</a></li><li><a href="#4API_322" rel="nofollow">4ã€è°·æ­Œæœç´¢APIå¼€å‘</a></li></ul> 
  </li><li><a href="#_450" rel="nofollow">å››ã€çŸ¥ä¹ç½‘ç«™æ•°æ®çˆ¬å–</a></li><li><ul><li><a href="#1_451" rel="nofollow">1ã€æ•°æ®æ ¼å¼å®šä¹‰</a></li><li><a href="#2_478" rel="nofollow">2ã€è®¾ç½®çŸ¥ä¹æ’é™¤çš„ç½‘ç«™</a></li><li><a href="#3Google_api_487" rel="nofollow">3ã€Google apiè°ƒç”¨æµ‹è¯•</a></li><li><a href="#4Cookie_499" rel="nofollow">4ã€çˆ¬è™«ä¹‹Cookieè·å–</a></li><li><a href="#5useragent_513" rel="nofollow">5ã€çˆ¬è™«ä¹‹user-agent</a></li><li><a href="#6PATH_529" rel="nofollow">6ã€çˆ¬è™«ä¹‹è·å–PATH</a></li><li><a href="#7_541" rel="nofollow">7ã€ç½‘ç»œçˆ¬è™«ä»£ç ç¼–å†™</a></li><li><a href="#8question_587" rel="nofollow">8ã€questionç±»å‹çš„ç½‘ç«™çˆ¬è™«æµ‹è¯•</a></li><li><a href="#9_631" rel="nofollow">9ã€ç½‘é¡µæ•°æ®ä¿å­˜</a></li><li><a href="#10questionanswer_663" rel="nofollow">10ã€question/answerç½‘ç«™çˆ¬è™«æµ‹è¯•</a></li><li><a href="#11_690" rel="nofollow">11ã€ä¸“æ ç±»ç½‘ç«™çˆ¬è™«æµ‹è¯•</a></li></ul> 
  </li><li><a href="#_715" rel="nofollow">ç»“è¯­</a></li></ul> 
</div> 
<p></p> 
<hr> 
<h2><a id="_19"></a>ä¸€ã€å‰è¨€</h2> 
<p>åœ¨å…ˆå‰çš„æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å®Œæˆäº†æ™ºèƒ½åŒ–ITé¢†åŸŸæœç´¢å¼•æ“çš„åŸºç¡€æ¶æ„è®¾è®¡ä»¥åŠGoogle Search APIçš„ç”³è¯·ç­‰å‰æœŸå‡†å¤‡å·¥ä½œã€‚åŒæ—¶ï¼Œæˆ‘ä»¬è¿˜å®è·µæµ‹è¯•äº†GLM4çš„Function Callingèƒ½åŠ›ï¼Œä¸ºåç»­çš„å¼€å‘å¥ å®šäº†åšå®çš„åŸºç¡€ã€‚æœ¬æ–‡å°†æ­£å¼è¿›å…¥ä»£ç å¼€å‘é˜¶æ®µï¼Œé¦–å…ˆä»çŸ¥ä¹ç½‘ç«™çš„æ•°æ®æœç´¢å¼€å§‹ã€‚</p> 
<h2><a id="_22"></a>äºŒã€æ€»ä½“æ¦‚è§ˆ</h2> 
<p>æœ¬æ–‡å°†è¯¦ç»†é˜è¿°å¦‚ä½•é€æ­¥å®ç°çŸ¥ä¹ç½‘ç«™æ•°æ®è·å–çš„æ•´ä¸ªæµç¨‹ã€‚æˆ‘ä»¬å°†ä»çŸ¥ä¹ç½‘ç«™çš„ç»“æ„åˆ†æå…¥æ‰‹ï¼Œé€šè¿‡ç¼–å†™é«˜æ•ˆçš„ç½‘ç»œçˆ¬è™«ç¨‹åºï¼Œå®ç°å¯¹çŸ¥ä¹é—®é¢˜çš„æ™ºèƒ½æ£€ç´¢ï¼Œå¹¶åˆ©ç”¨å…ˆè¿›çš„æ•°æ®åˆ†ææŠ€æœ¯ï¼Œå¯¹è·å–çš„æ•°æ®è¿›è¡Œæ·±åº¦æŒ–æ˜å’Œæ•´åˆï¼Œæœ€ç»ˆå°†è¿™äº›æœ‰ä»·å€¼çš„ä¿¡æ¯èå…¥æˆ‘ä»¬çš„æ™ºèƒ½åŒ–ITé¢†åŸŸæœç´¢å¼•æ“ä¸­ï¼Œä¸ºç”¨æˆ·æä¾›æ›´å…¨é¢ã€å‡†ç¡®çš„æœç´¢ç»“æœã€‚è¿™ä¸€è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä¸æ–­ä¼˜åŒ–ç®—æ³•ï¼Œæå‡æ•°æ®è·å–çš„æ•ˆç‡å’Œå‡†ç¡®æ€§ï¼Œç¡®ä¿æœç´¢å¼•æ“çš„æ™ºèƒ½åŒ–æ°´å¹³å¾—åˆ°æŒç»­æå‡ã€‚</p> 
<h2><a id="API_24"></a>ä¸‰ã€æœç´¢APIå°è£…æµ‹è¯•</h2> 
<h3><a id="1_25"></a>1ã€å¯¼å…¥ä¾èµ–å¹¶åˆå§‹åŒ–å®¢æˆ·ç«¯</h3> 
<p>å¯¼å…¥ä¾èµ–</p> 
<pre><code class="prism language-python">! pip install <span class="token operator">-</span><span class="token operator">-</span>upgrade zhipuai
! pip install <span class="token operator">-</span><span class="token operator">-</span>upgrade google<span class="token operator">-</span>auth google<span class="token operator">-</span>auth<span class="token operator">-</span>httplib2 google<span class="token operator">-</span>auth<span class="token operator">-</span>oauthlib google<span class="token operator">-</span>api<span class="token operator">-</span>python<span class="token operator">-</span>client requests
</code></pre> 
<p>åˆ›å»ºå®¢æˆ·ç«¯</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> os
<span class="token keyword">import</span> openai
<span class="token keyword">from</span> openai <span class="token keyword">import</span> OpenAI
<span class="token keyword">import</span> glob
<span class="token keyword">import</span> shutil

<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd

<span class="token keyword">import</span> json
<span class="token keyword">import</span> io
<span class="token keyword">import</span> inspect
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> re
<span class="token keyword">import</span> random
<span class="token keyword">import</span> string

<span class="token keyword">from</span> googleapiclient<span class="token punctuation">.</span>discovery <span class="token keyword">import</span> build
<span class="token keyword">from</span> google<span class="token punctuation">.</span>oauth2<span class="token punctuation">.</span>credentials <span class="token keyword">import</span> Credentials
<span class="token keyword">from</span> google_auth_oauthlib<span class="token punctuation">.</span>flow <span class="token keyword">import</span> InstalledAppFlow
<span class="token keyword">import</span> base64


<span class="token keyword">from</span> bs4 <span class="token keyword">import</span> BeautifulSoup
<span class="token keyword">import</span> dateutil<span class="token punctuation">.</span>parser <span class="token keyword">as</span> parser
<span class="token keyword">import</span> tiktoken
<span class="token keyword">from</span> lxml <span class="token keyword">import</span> etree

<span class="token comment">## åˆå§‹åŒ–å®¢æˆ·ç«¯</span>
api_key <span class="token operator">=</span> os<span class="token punctuation">.</span>getenv<span class="token punctuation">(</span><span class="token string">"ZHIPU_API_KEY"</span><span class="token punctuation">)</span>


<span class="token keyword">from</span> zhipuai <span class="token keyword">import</span> ZhipuAI
client <span class="token operator">=</span> ZhipuAI<span class="token punctuation">(</span>api_key<span class="token operator">=</span>api_key<span class="token punctuation">)</span>
</code></pre> 
<h3><a id="2_72"></a>2ã€å¤§æ¨¡å‹å›ç­”é—®é¢˜ç­–ç•¥æµ‹è¯•</h3> 
<p>æµ‹è¯•ä¸€</p> 
<pre><code class="prism language-python">response <span class="token operator">=</span> client<span class="token punctuation">.</span>chat<span class="token punctuation">.</span>completions<span class="token punctuation">.</span>create<span class="token punctuation">(</span>
  model<span class="token operator">=</span><span class="token string">"glm-4"</span><span class="token punctuation">,</span>
  messages<span class="token operator">=</span><span class="token punctuation">[</span>
    <span class="token punctuation">{<!-- --></span><span class="token string">"role"</span><span class="token punctuation">:</span> <span class="token string">"system"</span><span class="token punctuation">,</span> <span class="token string">"content"</span><span class="token punctuation">:</span> <span class="token string">"æ ¹æ®ç”¨æˆ·è¾“å…¥çš„é—®é¢˜è¿›è¡Œå›ç­”ï¼Œå¦‚æœçŸ¥é“é—®é¢˜çš„ç­”æ¡ˆï¼Œè¯·å›ç­”é—®é¢˜ç­”æ¡ˆï¼Œå¦‚æœä¸çŸ¥é“é—®é¢˜ç­”æ¡ˆï¼Œè¯·å›å¤â€˜æŠ±æ­‰ï¼Œè¿™ä¸ªé—®é¢˜æˆ‘å¹¶ä¸çŸ¥é“â€™"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span><span class="token string">"role"</span><span class="token punctuation">:</span> <span class="token string">"user"</span><span class="token punctuation">,</span> <span class="token string">"content"</span><span class="token punctuation">:</span> <span class="token string">"è¯·é—®ï¼Œä»€ä¹ˆæ˜¯æœºå™¨å­¦ä¹ ï¼Ÿ"</span><span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">)</span>
response<span class="token punctuation">.</span>choices<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>message<span class="token punctuation">.</span>content
</code></pre> 
<p>è¾“å‡ºï¼š</p> 
<pre><code class="prism language-python"><span class="token string">'æœºå™¨å­¦ä¹ æ˜¯äººå·¥æ™ºèƒ½çš„ä¸€ä¸ªæ ¸å¿ƒé¢†åŸŸï¼Œå®ƒè®©è®¡ç®—æœºèƒ½å¤Ÿæ¨¡æ‹Ÿäººç±»çš„å­¦ä¹ å’Œæ€è€ƒæ–¹å¼ã€‚é€šè¿‡ä½¿ç”¨å¤§é‡æ•°æ®å’Œç®—æ³•ï¼Œæœºå™¨å­¦ä¹ å¯ä»¥ä½¿è®¡ç®—æœºå­¦ä¼šåˆ†ç±»ã€å›å½’å’Œèšç±»ç­‰ä»»åŠ¡ï¼Œä»è€Œè®©è®¡ç®—æœºèƒ½å¤Ÿä»æ•°æ®ä¸­æå–çŸ¥è¯†ï¼Œè¿›è¡Œå†³ç­–å’Œé¢„æµ‹ã€‚åœ¨æœºå™¨å­¦ä¹ çš„æµç¨‹ä¸­ï¼ŒåŒ…æ‹¬æ•°æ®è·å–ã€ç‰¹å¾å·¥ç¨‹ã€å»ºç«‹æ¨¡å‹ã€æ¨¡å‹è¯„ä¼°ä»¥åŠè°ƒå‚ç­‰æ­¥éª¤ã€‚æ·±åº¦å­¦ä¹ å’Œå¼ºåŒ–å­¦ä¹ æ˜¯æœºå™¨å­¦ä¹ çš„ä¸¤ä¸ªé‡è¦åˆ†æ”¯ã€‚æ·±åº¦å­¦ä¹ ä¸»è¦ç”¨äºå¤„ç†å¤æ‚ç»“æ„æ•°æ®çš„å»ºæ¨¡é—®é¢˜ï¼Œè€Œå¼ºåŒ–å­¦ä¹ åˆ™è®©æœºå™¨åœ¨æ¢ç´¢ç¯å¢ƒä¸­é€šè¿‡è¯•é”™è¿›è¡Œå­¦ä¹ ã€‚'</span>
</code></pre> 
<p>æµ‹è¯•äºŒ</p> 
<pre><code class="prism language-python">response <span class="token operator">=</span> client<span class="token punctuation">.</span>chat<span class="token punctuation">.</span>completions<span class="token punctuation">.</span>create<span class="token punctuation">(</span>
  model<span class="token operator">=</span><span class="token string">"glm-4"</span><span class="token punctuation">,</span>
  messages<span class="token operator">=</span><span class="token punctuation">[</span>
    <span class="token punctuation">{<!-- --></span><span class="token string">"role"</span><span class="token punctuation">:</span> <span class="token string">"system"</span><span class="token punctuation">,</span> <span class="token string">"content"</span><span class="token punctuation">:</span> <span class="token string">"æ ¹æ®ç”¨æˆ·è¾“å…¥çš„é—®é¢˜è¿›è¡Œå›ç­”ï¼Œå¦‚æœçŸ¥é“é—®é¢˜çš„ç­”æ¡ˆï¼Œè¯·å›ç­”é—®é¢˜ç­”æ¡ˆï¼Œå¦‚æœä¸çŸ¥é“é—®é¢˜ç­”æ¡ˆï¼Œè¯·å›å¤â€˜æŠ±æ­‰ï¼Œè¿™ä¸ªé—®é¢˜æˆ‘å¹¶ä¸çŸ¥é“â€™"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span><span class="token string">"role"</span><span class="token punctuation">:</span> <span class="token string">"user"</span><span class="token punctuation">,</span> <span class="token string">"content"</span><span class="token punctuation">:</span> <span class="token string">"ä»‹ç»ä¸€ä¸‹å…³äºGPT-6çš„çŒœæƒ³"</span><span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">)</span>
response<span class="token punctuation">.</span>choices<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>message<span class="token punctuation">.</span>content
</code></pre> 
<p>è¾“å‡º</p> 
<pre><code class="prism language-python"><span class="token string">'æŠ±æ­‰ï¼Œè¿™ä¸ªé—®é¢˜æˆ‘å¹¶ä¸çŸ¥é“ã€‚\n\nåˆ°2023ä¸ºæ­¢ï¼ŒGPT-6å°šæœªè¢«å…¬å¼€æåŠæˆ–å‘å¸ƒã€‚GPTï¼ˆGenerative Pre-trained Transformerï¼‰ç³»åˆ—æ¨¡å‹ç”±OpenAIå¼€å‘ï¼Œè‡³ä»Šå·²å‘å¸ƒäº†å¤šä¸ªç‰ˆæœ¬ï¼Œå¦‚GPT-2å’ŒGPT-3ã€‚å…³äºæœªæ¥ç‰ˆæœ¬çš„GPTï¼Œå¦‚GPT-6ï¼Œå¯èƒ½ä¼šæœ‰å¾ˆå¤šçŒœæƒ³å’Œé¢„æœŸï¼Œä½†å…·ä½“çš„å†…å®¹å’ŒåŠŸèƒ½æˆ‘æ— æ³•æä¾›ï¼Œå› ä¸ºé‚£å°†åŸºäºæœªæ¥å°šæœªå…¬å¼€çš„æŠ€æœ¯å’Œä¿¡æ¯ã€‚å¦‚æœGPT-6åœ¨æ‚¨æé—®ä¹‹åæœ‰äº†æ–°çš„æ¶ˆæ¯ï¼Œæˆ‘å¯èƒ½æ— æ³•è·å–é‚£äº›æœ€æ–°çš„ä¿¡æ¯ã€‚'</span>
</code></pre> 
<h3><a id="3function_calling_106"></a>3ã€function callingå‡½æ•°æµ‹è¯•</h3> 
<p>å¢åŠ å¤–éƒ¨å‡½æ•°æµ‹è¯•ä¸€ä¸‹ï¼Œçœ‹å¤§æ¨¡å‹å›ç­”é—®é¢˜çš„æ—¶å€™æ˜¯å…ˆå»è°ƒç”¨å¤–éƒ¨å‡½æ•°ï¼Œè¿˜æ˜¯å…ˆå°è¯•è‡ªå·±å›ç­”ã€‚<br> 1ï¼‰å®šä¹‰å‡½æ•°ä¿¡æ¯ç”Ÿæˆå™¨</p> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">auto_functions</span><span class="token punctuation">(</span>functions_list<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    Chatæ¨¡å‹çš„functionså‚æ•°ç¼–å†™å‡½æ•°
    :param functions_list: åŒ…å«ä¸€ä¸ªæˆ–è€…å¤šä¸ªå‡½æ•°å¯¹è±¡çš„åˆ—è¡¨ï¼›
    :returnï¼šæ»¡è¶³Chatæ¨¡å‹functionså‚æ•°è¦æ±‚çš„functionså¯¹è±¡
    """</span>
    <span class="token keyword">def</span> <span class="token function">functions_generate</span><span class="token punctuation">(</span>functions_list<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># åˆ›å»ºç©ºåˆ—è¡¨ï¼Œç”¨äºä¿å­˜æ¯ä¸ªå‡½æ•°çš„æè¿°å­—å…¸</span>
        functions <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token comment"># å¯¹æ¯ä¸ªå¤–éƒ¨å‡½æ•°è¿›è¡Œå¾ªç¯</span>
        <span class="token keyword">for</span> function <span class="token keyword">in</span> functions_list<span class="token punctuation">:</span>
            <span class="token comment"># è¯»å–å‡½æ•°å¯¹è±¡çš„å‡½æ•°è¯´æ˜</span>
            function_description <span class="token operator">=</span> inspect<span class="token punctuation">.</span>getdoc<span class="token punctuation">(</span>function<span class="token punctuation">)</span>
            <span class="token comment"># è¯»å–å‡½æ•°çš„å‡½æ•°åå­—ç¬¦ä¸²</span>
            function_name <span class="token operator">=</span> function<span class="token punctuation">.</span>__name__

            system_prompt <span class="token operator">=</span> <span class="token string">'ä»¥ä¸‹æ˜¯æŸçš„å‡½æ•°è¯´æ˜ï¼š%s,è¾“å‡ºç»“æœå¿…é¡»æ˜¯ä¸€ä¸ªJSONæ ¼å¼çš„å­—å…¸ï¼Œåªè¾“å‡ºè¿™ä¸ªå­—å…¸å³å¯ï¼Œå‰åä¸éœ€è¦ä»»ä½•å‰åä¿®é¥°æˆ–è¯´æ˜çš„è¯­å¥'</span> <span class="token operator">%</span> function_description
            user_prompt <span class="token operator">=</span> 'æ ¹æ®è¿™ä¸ªå‡½æ•°çš„å‡½æ•°è¯´æ˜ï¼Œè¯·å¸®æˆ‘åˆ›å»ºä¸€ä¸ªJSONæ ¼å¼çš„å­—å…¸ï¼Œè¿™ä¸ªå­—å…¸æœ‰å¦‚ä¸‹<span class="token number">5</span>ç‚¹è¦æ±‚ï¼š\
                           <span class="token number">1.</span>å­—å…¸æ€»å…±æœ‰ä¸‰ä¸ªé”®å€¼å¯¹ï¼›\
                           <span class="token number">2.</span>ç¬¬ä¸€ä¸ªé”®å€¼å¯¹çš„Keyæ˜¯å­—ç¬¦ä¸²nameï¼Œvalueæ˜¯è¯¥å‡½æ•°çš„åå­—ï¼š<span class="token operator">%</span>sï¼Œä¹Ÿæ˜¯å­—ç¬¦ä¸²ï¼›\
                           <span class="token number">3.</span>ç¬¬äºŒä¸ªé”®å€¼å¯¹çš„Keyæ˜¯å­—ç¬¦ä¸²descriptionï¼Œvalueæ˜¯è¯¥å‡½æ•°çš„å‡½æ•°çš„åŠŸèƒ½è¯´æ˜ï¼Œä¹Ÿæ˜¯å­—ç¬¦ä¸²ï¼›\
                           <span class="token number">4.</span>ç¬¬ä¸‰ä¸ªé”®å€¼å¯¹çš„Keyæ˜¯å­—ç¬¦ä¸²parametersï¼Œvalueæ˜¯ä¸€ä¸ªJSON Schemaå¯¹è±¡ï¼Œç”¨äºè¯´æ˜è¯¥å‡½æ•°çš„å‚æ•°è¾“å…¥è§„èŒƒã€‚\
                           <span class="token number">5.</span>è¾“å‡ºç»“æœå¿…é¡»æ˜¯ä¸€ä¸ªJSONæ ¼å¼çš„å­—å…¸ï¼Œåªè¾“å‡ºè¿™ä¸ªå­—å…¸å³å¯ï¼Œå‰åä¸éœ€è¦ä»»ä½•å‰åä¿®é¥°æˆ–è¯´æ˜çš„è¯­å¥' <span class="token operator">%</span> function_name

            response <span class="token operator">=</span> client<span class="token punctuation">.</span>chat<span class="token punctuation">.</span>completions<span class="token punctuation">.</span>create<span class="token punctuation">(</span>
                              model<span class="token operator">=</span><span class="token string">"glm-4"</span><span class="token punctuation">,</span>
                              messages<span class="token operator">=</span><span class="token punctuation">[</span>
                                <span class="token punctuation">{<!-- --></span><span class="token string">"role"</span><span class="token punctuation">:</span> <span class="token string">"system"</span><span class="token punctuation">,</span> <span class="token string">"content"</span><span class="token punctuation">:</span> system_prompt<span class="token punctuation">}</span><span class="token punctuation">,</span>
                                <span class="token punctuation">{<!-- --></span><span class="token string">"role"</span><span class="token punctuation">:</span> <span class="token string">"user"</span><span class="token punctuation">,</span> <span class="token string">"content"</span><span class="token punctuation">:</span> user_prompt<span class="token punctuation">}</span>
                              <span class="token punctuation">]</span>
                            <span class="token punctuation">)</span>
            json_str<span class="token operator">=</span>response<span class="token punctuation">.</span>choices<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>message<span class="token punctuation">.</span>content<span class="token punctuation">.</span>replace<span class="token punctuation">(</span><span class="token string">"```json"</span><span class="token punctuation">,</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">.</span>replace<span class="token punctuation">(</span><span class="token string">"```"</span><span class="token punctuation">,</span><span class="token string">""</span><span class="token punctuation">)</span>
            json_function_description<span class="token operator">=</span>json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>json_str<span class="token punctuation">)</span>
            json_str<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token string">"type"</span><span class="token punctuation">:</span> <span class="token string">"function"</span><span class="token punctuation">,</span><span class="token string">"function"</span><span class="token punctuation">:</span>json_function_description<span class="token punctuation">}</span>
            functions<span class="token punctuation">.</span>append<span class="token punctuation">(</span>json_str<span class="token punctuation">)</span>
        <span class="token keyword">return</span> functions
    <span class="token comment">## æœ€å¤§å¯ä»¥å°è¯•4æ¬¡</span>
    max_attempts <span class="token operator">=</span> <span class="token number">4</span>
    attempts <span class="token operator">=</span> <span class="token number">0</span>

    <span class="token keyword">while</span> attempts <span class="token operator">&lt;</span> max_attempts<span class="token punctuation">:</span>
        <span class="token keyword">try</span><span class="token punctuation">:</span>
            functions <span class="token operator">=</span> functions_generate<span class="token punctuation">(</span>functions_list<span class="token punctuation">)</span>
            <span class="token keyword">break</span>  <span class="token comment"># å¦‚æœä»£ç æˆåŠŸæ‰§è¡Œï¼Œè·³å‡ºå¾ªç¯</span>
        <span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span>
            attempts <span class="token operator">+=</span> <span class="token number">1</span>  <span class="token comment"># å¢åŠ å°è¯•æ¬¡æ•°</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"å‘ç”Ÿé”™è¯¯ï¼š"</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span>
            <span class="token keyword">if</span> attempts <span class="token operator">==</span> max_attempts<span class="token punctuation">:</span>
                <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"å·²è¾¾åˆ°æœ€å¤§å°è¯•æ¬¡æ•°ï¼Œç¨‹åºç»ˆæ­¢ã€‚"</span><span class="token punctuation">)</span>
                <span class="token keyword">raise</span>  <span class="token comment"># é‡æ–°å¼•å‘æœ€åä¸€ä¸ªå¼‚å¸¸</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"æ­£åœ¨é‡æ–°è¿è¡Œ..."</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> functions
</code></pre> 
<p>2ï¼‰å¤§æ¨¡å‹APIè°ƒç”¨å°è£…</p> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">run_conversation</span><span class="token punctuation">(</span>messages<span class="token punctuation">,</span> functions_list<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span> model<span class="token operator">=</span><span class="token string">"glm-4"</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    èƒ½å¤Ÿè‡ªåŠ¨æ‰§è¡Œå¤–éƒ¨å‡½æ•°è°ƒç”¨çš„å¯¹è¯æ¨¡å‹
    :param messages: å¿…è¦å‚æ•°ï¼Œå­—å…¸ç±»å‹ï¼Œè¾“å…¥åˆ°Chatæ¨¡å‹çš„messageså‚æ•°å¯¹è±¡
    :param functions_list: å¯é€‰å‚æ•°ï¼Œé»˜è®¤ä¸ºNoneï¼Œå¯ä»¥è®¾ç½®ä¸ºåŒ…å«å…¨éƒ¨å¤–éƒ¨å‡½æ•°çš„åˆ—è¡¨å¯¹è±¡
    :param model: Chatæ¨¡å‹ï¼Œå¯é€‰å‚æ•°ï¼Œé»˜è®¤æ¨¡å‹ä¸ºglm-4
    :returnï¼šChatæ¨¡å‹è¾“å‡ºç»“æœ
    """</span>
    <span class="token comment"># å¦‚æœæ²¡æœ‰å¤–éƒ¨å‡½æ•°åº“ï¼Œåˆ™æ‰§è¡Œæ™®é€šçš„å¯¹è¯ä»»åŠ¡</span>
    <span class="token keyword">if</span> functions_list <span class="token operator">==</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
        response <span class="token operator">=</span> client<span class="token punctuation">.</span>chat<span class="token punctuation">.</span>completions<span class="token punctuation">.</span>create<span class="token punctuation">(</span>
                        model<span class="token operator">=</span>model<span class="token punctuation">,</span>
                        messages<span class="token operator">=</span>messages<span class="token punctuation">,</span>
                        <span class="token punctuation">)</span>
        response_message <span class="token operator">=</span> response<span class="token punctuation">.</span>choices<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>message
        final_response <span class="token operator">=</span> response_message<span class="token punctuation">.</span>content
        
    <span class="token comment"># è‹¥å­˜åœ¨å¤–éƒ¨å‡½æ•°åº“ï¼Œåˆ™éœ€è¦çµæ´»é€‰å–å¤–éƒ¨å‡½æ•°å¹¶è¿›è¡Œå›ç­”</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token comment"># åˆ›å»ºfunctionså¯¹è±¡</span>
        tools <span class="token operator">=</span> auto_functions<span class="token punctuation">(</span>functions_list<span class="token punctuation">)</span>

        <span class="token comment"># åˆ›å»ºå¤–éƒ¨å‡½æ•°åº“å­—å…¸</span>
        available_functions <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>func<span class="token punctuation">.</span>__name__<span class="token punctuation">:</span> func <span class="token keyword">for</span> func <span class="token keyword">in</span> functions_list<span class="token punctuation">}</span>

        <span class="token comment"># ç¬¬ä¸€æ¬¡è°ƒç”¨å¤§æ¨¡å‹</span>
        response <span class="token operator">=</span> client<span class="token punctuation">.</span>chat<span class="token punctuation">.</span>completions<span class="token punctuation">.</span>create<span class="token punctuation">(</span>
                        model<span class="token operator">=</span>model<span class="token punctuation">,</span>
                        messages<span class="token operator">=</span>messages<span class="token punctuation">,</span>
                        tools<span class="token operator">=</span>tools<span class="token punctuation">,</span>
                        tool_choice<span class="token operator">=</span><span class="token string">"auto"</span><span class="token punctuation">,</span> <span class="token punctuation">)</span>
        response_message <span class="token operator">=</span> response<span class="token punctuation">.</span>choices<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>message


        tool_calls <span class="token operator">=</span> response_message<span class="token punctuation">.</span>tool_calls

        <span class="token keyword">if</span> tool_calls<span class="token punctuation">:</span>

            <span class="token comment">#messages.append(response_message)</span>
            messages<span class="token punctuation">.</span>append<span class="token punctuation">(</span>response<span class="token punctuation">.</span>choices<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>message<span class="token punctuation">.</span>model_dump<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">for</span> tool_call <span class="token keyword">in</span> tool_calls<span class="token punctuation">:</span>
                function_name <span class="token operator">=</span> tool_call<span class="token punctuation">.</span>function<span class="token punctuation">.</span>name
                function_to_call <span class="token operator">=</span> available_functions<span class="token punctuation">[</span>function_name<span class="token punctuation">]</span>
                function_args <span class="token operator">=</span> json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>tool_call<span class="token punctuation">.</span>function<span class="token punctuation">.</span>arguments<span class="token punctuation">)</span>
                <span class="token comment">## çœŸæ­£æ‰§è¡Œå¤–éƒ¨å‡½æ•°çš„å°±æ˜¯è¿™å„¿çš„ä»£ç </span>
                function_response <span class="token operator">=</span> function_to_call<span class="token punctuation">(</span><span class="token operator">**</span>function_args<span class="token punctuation">)</span>
                messages<span class="token punctuation">.</span>append<span class="token punctuation">(</span>
                    <span class="token punctuation">{<!-- --></span>
                        <span class="token string">"role"</span><span class="token punctuation">:</span> <span class="token string">"tool"</span><span class="token punctuation">,</span>
                        <span class="token string">"content"</span><span class="token punctuation">:</span> function_response<span class="token punctuation">,</span>
                        <span class="token string">"tool_call_id"</span><span class="token punctuation">:</span> tool_call<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">,</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">)</span> 
            <span class="token comment">## ç¬¬äºŒæ¬¡è°ƒç”¨æ¨¡å‹</span>
            second_response <span class="token operator">=</span> client<span class="token punctuation">.</span>chat<span class="token punctuation">.</span>completions<span class="token punctuation">.</span>create<span class="token punctuation">(</span>
                model<span class="token operator">=</span>model<span class="token punctuation">,</span>
                messages<span class="token operator">=</span>messages<span class="token punctuation">,</span>
                tools<span class="token operator">=</span>tools
            <span class="token punctuation">)</span> 
            <span class="token comment"># è·å–æœ€ç»ˆç»“æœ</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span>second_response<span class="token punctuation">.</span>choices<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>message<span class="token punctuation">)</span>
            final_response <span class="token operator">=</span> second_response<span class="token punctuation">.</span>choices<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>message<span class="token punctuation">.</span>content
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            final_response <span class="token operator">=</span> response_message<span class="token punctuation">.</span>content
                
    <span class="token keyword">return</span> final_response
</code></pre> 
<p>3ï¼‰å®šä¹‰å·¥å…·å‡½æ•°</p> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">ml_answer</span><span class="token punctuation">(</span>q<span class="token operator">=</span><span class="token string">'ä»€ä¹ˆæ˜¯æœºå™¨å­¦ä¹ '</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    è§£é‡Šä»€ä¹ˆæ˜¯æœºå™¨å­¦ä¹ ï¼Œè¿”å›æœºå™¨å­¦ä¹ çš„å®šä¹‰å’Œè§£é‡Š
    :param q: è¯¢é—®çš„é—®é¢˜ï¼Œéå¿…è¦å‚æ•°ï¼Œå­—ç¬¦ä¸²ç±»å‹å¯¹è±¡
    :returnï¼šè¿”å›æœºå™¨å­¦ä¹ çš„å®šä¹‰å’Œè§£é‡Š
    """</span>
    <span class="token keyword">return</span><span class="token punctuation">(</span><span class="token string">"æœºå™¨å­¦ä¹ æ˜¯ä¸€ç§äººå·¥æ™ºèƒ½ï¼ˆAIï¼‰çš„åˆ†æ”¯é¢†åŸŸï¼Œæ—¨åœ¨ä½¿è®¡ç®—æœºç³»ç»Ÿé€šè¿‡å­¦ä¹ å’Œç»éªŒæ”¹è¿›æ€§èƒ½ã€‚"</span><span class="token punctuation">)</span>
</code></pre> 
<p>4ï¼‰å·¥å…·å‡½æ•°è°ƒç”¨æµ‹è¯•</p> 
<pre><code class="prism language-python">ml_answer<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-python"><span class="token string">'æœºå™¨å­¦ä¹ æ˜¯ä¸€ç§äººå·¥æ™ºèƒ½ï¼ˆAIï¼‰çš„åˆ†æ”¯é¢†åŸŸï¼Œæ—¨åœ¨ä½¿è®¡ç®—æœºç³»ç»Ÿé€šè¿‡å­¦ä¹ å’Œç»éªŒæ”¹è¿›æ€§èƒ½ã€‚'</span>
</code></pre> 
<pre><code class="prism language-python">functions_list <span class="token operator">=</span> <span class="token punctuation">[</span>ml_answer<span class="token punctuation">]</span>
tools <span class="token operator">=</span> auto_functions<span class="token punctuation">(</span>functions_list<span class="token punctuation">)</span>
tools
</code></pre> 
<p>æŸ¥çœ‹è¾“å‡ºç»“æœå¯ä»¥çœ‹åˆ°ï¼Œå¤§æ¨¡å‹å·²ç»æ‰¾åˆ°äº†å·¥å…·å‡½æ•°<br> <img src="https://images2.imgbox.com/88/66/V62EgXD6_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>5ï¼‰å¤§æ¨¡å‹è°ƒç”¨æµ‹è¯•1</p> 
<pre><code class="prism language-python">response <span class="token operator">=</span> client<span class="token punctuation">.</span>chat<span class="token punctuation">.</span>completions<span class="token punctuation">.</span>create<span class="token punctuation">(</span>
        model<span class="token operator">=</span><span class="token string">"glm-4"</span><span class="token punctuation">,</span>
        messages<span class="token operator">=</span><span class="token punctuation">[</span>
            <span class="token punctuation">{<!-- --></span><span class="token string">"role"</span><span class="token punctuation">:</span> <span class="token string">"user"</span><span class="token punctuation">,</span> <span class="token string">"content"</span><span class="token punctuation">:</span> <span class="token string">"è§£é‡Šä»€ä¹ˆæ˜¯æœºå™¨å­¦ä¹ ï¼Ÿ"</span><span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        tools<span class="token operator">=</span>tools<span class="token punctuation">,</span>
        tool_choice<span class="token operator">=</span><span class="token string">"auto"</span>
    <span class="token punctuation">)</span>
response<span class="token punctuation">.</span>choices<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>message
</code></pre> 
<p><img src="https://images2.imgbox.com/19/c0/182l8nmV_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>æ³¨æ„ï¼šæˆ‘ä»¬å‘ç°ï¼ŒåŠ å…¥äº†å¤–éƒ¨å‡½æ•°ä»¥åï¼Œå¤§æ¨¡å‹å›ç­”åŒä¸€ä¸ªé—®é¢˜ï¼Œæœ‰æ—¶å€™å»è°ƒå¤–éƒ¨å‡½æ•°ï¼Œæœ‰æ—¶å€™æ˜¯è‡ªå·±å»å›ç­”çš„ã€‚<br> ä½†æ˜¯æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœæ˜¯ï¼Œé—®ä»»ä½•é—®é¢˜çš„æ—¶å€™ï¼Œå¤§æ¨¡å‹å…ˆè‡ªå·±åˆ¤æ–­ä¸€ä¸‹è‡ªå·±çŸ¥ä¸çŸ¥é“ï¼Œå¦‚æœçŸ¥é“ï¼Œé‚£å°±åŸºäºè‡ªå·±çš„çŸ¥è¯†è¿›è¡Œå›ç­”<br> å¦‚æœè‡ªå·±ä¸çŸ¥é“çš„æ—¶å€™é‡‡å–è°ƒç”¨å¤–éƒ¨å‡½æ•°å›ç­”é—®é¢˜ã€‚<br> 6ï¼‰å¤§æ¨¡å‹è°ƒç”¨æµ‹è¯•2</p> 
<pre><code class="prism language-python">response <span class="token operator">=</span> client<span class="token punctuation">.</span>chat<span class="token punctuation">.</span>completions<span class="token punctuation">.</span>create<span class="token punctuation">(</span>
        model<span class="token operator">=</span><span class="token string">"glm-4"</span><span class="token punctuation">,</span>
        messages<span class="token operator">=</span><span class="token punctuation">[</span>
            <span class="token punctuation">{<!-- --></span><span class="token string">"role"</span><span class="token punctuation">:</span><span class="token string">"system"</span><span class="token punctuation">,</span><span class="token string">"content"</span><span class="token punctuation">:</span> <span class="token string">"å¯¹äºç”¨æˆ·æçš„é—®é¢˜ï¼Œå¦‚æœçŸ¥é“å°±ç›´æ¥å›ç­”ï¼Œä¸çŸ¥é“æ‰é€šè¿‡è°ƒç”¨å¤–éƒ¨å‡½æ•°å›ç­”"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{<!-- --></span><span class="token string">"role"</span><span class="token punctuation">:</span> <span class="token string">"user"</span><span class="token punctuation">,</span> <span class="token string">"content"</span><span class="token punctuation">:</span> <span class="token string">"ä»€ä¹ˆæ˜¯æœºå™¨å­¦ä¹ ?"</span><span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        tools<span class="token operator">=</span>tools<span class="token punctuation">,</span>
        tool_choice<span class="token operator">=</span><span class="token string">"auto"</span>
    <span class="token punctuation">)</span>
response<span class="token punctuation">.</span>choices<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>message
</code></pre> 
<p><img src="https://images2.imgbox.com/28/87/HzSpaqxq_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>7ï¼‰å¤§æ¨¡å‹è°ƒç”¨æµ‹è¯•3</p> 
<pre><code class="prism language-python">response <span class="token operator">=</span> client<span class="token punctuation">.</span>chat<span class="token punctuation">.</span>completions<span class="token punctuation">.</span>create<span class="token punctuation">(</span>
        model<span class="token operator">=</span><span class="token string">"glm-4"</span><span class="token punctuation">,</span>
        messages<span class="token operator">=</span><span class="token punctuation">[</span>
            <span class="token punctuation">{<!-- --></span><span class="token string">"role"</span><span class="token punctuation">:</span><span class="token string">"system"</span><span class="token punctuation">,</span><span class="token string">"content"</span><span class="token punctuation">:</span> <span class="token string">"å¯¹äºç”¨æˆ·æçš„é—®é¢˜ï¼Œå¦‚æœçŸ¥é“å°±ç›´æ¥å›ç­”ï¼Œä¸çŸ¥é“æ‰é€šè¿‡è°ƒç”¨å¤–éƒ¨å‡½æ•°å›ç­”"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{<!-- --></span><span class="token string">"role"</span><span class="token punctuation">:</span> <span class="token string">"user"</span><span class="token punctuation">,</span> <span class="token string">"content"</span><span class="token punctuation">:</span> <span class="token string">"ä»€ä¹ˆæ˜¯å¤§æ¨¡å‹?"</span><span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        tools<span class="token operator">=</span>tools<span class="token punctuation">,</span>
        tool_choice<span class="token operator">=</span><span class="token string">"auto"</span>
    <span class="token punctuation">)</span>
response<span class="token punctuation">.</span>choices<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>message
</code></pre> 
<p><img src="https://images2.imgbox.com/32/de/U6fI36yE_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h3><a id="4API_322"></a>4ã€è°·æ­Œæœç´¢APIå¼€å‘</h3> 
<p>1ï¼‰APIè°ƒç”¨æµ‹è¯•</p> 
<pre><code class="prism language-python">google_search_key <span class="token operator">=</span> os<span class="token punctuation">.</span>getenv<span class="token punctuation">(</span><span class="token string">"GOOGLE_SEARCH_API_KEY"</span><span class="token punctuation">)</span>
cse_id <span class="token operator">=</span> os<span class="token punctuation">.</span>getenv<span class="token punctuation">(</span><span class="token string">"CSE_ID"</span><span class="token punctuation">)</span>
search_term <span class="token operator">=</span> <span class="token string">"OpenAI"</span>
</code></pre> 
<pre><code class="prism language-python"><span class="token keyword">import</span> requests

<span class="token comment"># Step 1.æ„å»ºè¯·æ±‚</span>
url <span class="token operator">=</span> <span class="token string">"https://www.googleapis.com/customsearch/v1"</span>

<span class="token comment"># Step 2.è®¾ç½®æŸ¥è¯¢å‚æ•°ï¼ˆè¿˜æœ‰å¾ˆå¤šå‚æ•°ï¼‰</span>
params <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string">'q'</span><span class="token punctuation">:</span> search_term<span class="token punctuation">,</span>           <span class="token comment"># æœç´¢å…³é”®è¯</span>
    <span class="token string">'key'</span><span class="token punctuation">:</span> google_search_key<span class="token punctuation">,</span>   <span class="token comment"># è°·æ­Œæœç´¢API Key</span>
    <span class="token string">'cx'</span><span class="token punctuation">:</span> cse_id                <span class="token comment"># CSE ID</span>
<span class="token punctuation">}</span>

<span class="token comment"># Step 3.å‘é€GETè¯·æ±‚</span>
response <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">,</span> params<span class="token operator">=</span>params<span class="token punctuation">)</span>

<span class="token comment"># Step 4.è§£æå“åº”</span>
data <span class="token operator">=</span> response<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span>
data
</code></pre> 
<p><img src="https://images2.imgbox.com/b6/bb/4WEOJy5e_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<pre><code class="prism language-python">data<span class="token punctuation">[</span><span class="token string">'items'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/19/f2/KFvgZ4Gp_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>2ï¼‰Google APIå°è£…</p> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">google_search</span><span class="token punctuation">(</span>query<span class="token punctuation">,</span> num_results<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">,</span> site_url<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    
    api_key <span class="token operator">=</span> os<span class="token punctuation">.</span>getenv<span class="token punctuation">(</span><span class="token string">"GOOGLE_SEARCH_API_KEY"</span><span class="token punctuation">)</span>
    cse_id <span class="token operator">=</span> os<span class="token punctuation">.</span>getenv<span class="token punctuation">(</span><span class="token string">"CSE_ID"</span><span class="token punctuation">)</span>
    
    url <span class="token operator">=</span> <span class="token string">"https://www.googleapis.com/customsearch/v1"</span>

    <span class="token comment"># API è¯·æ±‚å‚æ•°</span>
    <span class="token keyword">if</span> site_url <span class="token operator">==</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
        params <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
        <span class="token string">'q'</span><span class="token punctuation">:</span> query<span class="token punctuation">,</span>          
        <span class="token string">'key'</span><span class="token punctuation">:</span> api_key<span class="token punctuation">,</span>      
        <span class="token string">'cx'</span><span class="token punctuation">:</span> cse_id<span class="token punctuation">,</span>        
        <span class="token string">'num'</span><span class="token punctuation">:</span> num_results   
        <span class="token punctuation">}</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        params <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
        <span class="token string">'q'</span><span class="token punctuation">:</span> query<span class="token punctuation">,</span>         
        <span class="token string">'key'</span><span class="token punctuation">:</span> api_key<span class="token punctuation">,</span>      
        <span class="token string">'cx'</span><span class="token punctuation">:</span> cse_id<span class="token punctuation">,</span>        
        <span class="token string">'num'</span><span class="token punctuation">:</span> num_results<span class="token punctuation">,</span>  
        <span class="token string">'siteSearch'</span><span class="token punctuation">:</span> site_url
        <span class="token punctuation">}</span>

    <span class="token comment"># å‘é€è¯·æ±‚</span>
    response <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">,</span> params<span class="token operator">=</span>params<span class="token punctuation">)</span>
    response<span class="token punctuation">.</span>raise_for_status<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment"># è§£æå“åº”</span>
    search_results <span class="token operator">=</span> response<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'items'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

    <span class="token comment"># æå–æ‰€éœ€ä¿¡æ¯</span>
    results <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{<!-- --></span>
        <span class="token string">'title'</span><span class="token punctuation">:</span> item<span class="token punctuation">[</span><span class="token string">'title'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string">'link'</span><span class="token punctuation">:</span> item<span class="token punctuation">[</span><span class="token string">'link'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string">'snippet'</span><span class="token punctuation">:</span> item<span class="token punctuation">[</span><span class="token string">'snippet'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span> <span class="token keyword">for</span> item <span class="token keyword">in</span> search_results<span class="token punctuation">]</span>

    <span class="token keyword">return</span> results
</code></pre> 
<p>3ï¼‰APIè°ƒç”¨æµ‹è¯•</p> 
<pre><code class="prism language-python">search_term <span class="token operator">=</span> <span class="token string">"OpenAI"</span>
results <span class="token operator">=</span> google_search<span class="token punctuation">(</span>query<span class="token operator">=</span>search_term<span class="token punctuation">,</span> num_results<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">)</span>
results
</code></pre> 
<p>è¾“å‡ºï¼š<br> <img src="https://images2.imgbox.com/b6/f0/TulxwkEM_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<pre><code class="prism language-python">results <span class="token operator">=</span> google_search<span class="token punctuation">(</span>query<span class="token operator">=</span><span class="token string">'GLM4å¤§æ¨¡å‹æœ‰ä»€ä¹ˆæ–°ç‰¹æ€§ï¼Ÿ'</span><span class="token punctuation">,</span> num_results<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">,</span> site_url<span class="token operator">=</span><span class="token string">'https://www.zhihu.com/'</span><span class="token punctuation">)</span>
results
</code></pre> 
<p>è¾“å‡ºï¼š</p> 
<pre><code class="prism language-python"><span class="token punctuation">[</span><span class="token punctuation">{<!-- --></span><span class="token string">'title'</span><span class="token punctuation">:</span> <span class="token string">'æ™ºè°±å‘å¸ƒGLM-4 åŸºåº§å¤§æ¨¡å‹ï¼Œæ€§èƒ½æ•ˆæœå¦‚ä½•ï¼Ÿ - çŸ¥ä¹'</span><span class="token punctuation">,</span>
  <span class="token string">'link'</span><span class="token punctuation">:</span> <span class="token string">'https://www.zhihu.com/question/639753877?write'</span><span class="token punctuation">,</span>
  <span class="token string">'snippet'</span><span class="token punctuation">:</span> <span class="token string">'Jan 16, 2024 ... ... å¤§å°æ—¶ï¼Œè·¯åšç»ˆäºå‡ºç°äº†ã€‚ã€Œæˆ‘è¿™è¾¹ç»ˆäºæœ‰æ–°è¿›å±•äº†ï¼Œä½ åœ¨å­¦æ ¡å—ï¼Ÿæˆ‘è¦å½“é¢å‘Šè¯‰ä½ ï¼ã€å®¤å‹æ¿€åŠ¨åäº†ï¼Œçªç„¶é«˜å–Šäº†ä¸€å£°ã€Œæˆ‘èµ¢äº†ã€ï¼ŒæŠŠæˆ‘å“ä¸€è·³ã€‚è¿™ä¸ªå°é•‡\xa0...'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
 <span class="token punctuation">{<!-- --></span><span class="token string">'title'</span><span class="token punctuation">:</span> <span class="token string">'æ™ºè°±å‘å¸ƒGLM-4 åŸºåº§å¤§æ¨¡å‹ï¼Œæ€§èƒ½æ•ˆæœå¦‚ä½•ï¼Ÿ - æ–°æ™ºå…ƒçš„å›ç­”- çŸ¥ä¹'</span><span class="token punctuation">,</span>
  <span class="token string">'link'</span><span class="token punctuation">:</span> <span class="token string">'https://www.zhihu.com/question/639753877/answer/3364585933'</span><span class="token punctuation">,</span>
  <span class="token string">'snippet'</span><span class="token punctuation">:</span> <span class="token string">'Jan 15, 2024 ... å®ƒèƒ½å¤Ÿæ”¯æŒæ›´é•¿çš„ä¸Šä¸‹æ–‡ï¼Œå…·å¤‡æ›´å¼ºçš„å¤šæ¨¡æ€ åŠŸèƒ½ï¼Œæ”¯æŒæ›´å¿«çš„æ¨ç†ï¼Œæ›´å¤šå¹¶å‘ï¼Œæ¨ç†æˆæœ¬å¤§å¤§é™ä½ã€‚ åŒæ—¶ï¼ŒGLM-4ä¹Ÿå¢å¼ºäº†æ™ºèƒ½ä½“èƒ½åŠ›ã€‚ åŸºç¡€èƒ½åŠ›. ä»ä¼—å¤šè¯„æµ‹\xa0...'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
 <span class="token punctuation">{<!-- --></span><span class="token string">'title'</span><span class="token punctuation">:</span> <span class="token string">'æ™ºè°±å‘å¸ƒGLM-4 åŸºåº§å¤§æ¨¡å‹ï¼Œæ€§èƒ½æ•ˆæœå¦‚ä½•ï¼Ÿ - æ¨å¤•çš„å›ç­”- çŸ¥ä¹'</span><span class="token punctuation">,</span>
  <span class="token string">'link'</span><span class="token punctuation">:</span> <span class="token string">'https://www.zhihu.com/question/639753877/answer/3364710951'</span><span class="token punctuation">,</span>
  <span class="token string">'snippet'</span><span class="token punctuation">:</span> <span class="token string">'Jan 15, 2024 ... ä¼—æ‰€å‘¨çŸ¥ï¼Œåœ¨æˆ‘å›½ä¼—å¤šå¤§å‹æ¨¡å‹ä¼ä¸šä¸­ï¼Œæˆ‘ä¸€ç›´å¯¹æ™ºè°±AIæŠ±æœ‰æé«˜çš„å¥½æ„Ÿã€‚ è¿™ä¸ä»…æ˜¯å› ä¸ºä»–ä»¬æµ“åšçš„å­¦æœ¯æ°›å›´â€¦'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
 <span class="token punctuation">{<!-- --></span><span class="token string">'title'</span><span class="token punctuation">:</span> <span class="token string">'æ™ºè°±AI å®£å¸ƒåŸºåº§å¤§æ¨¡å‹GLM-4 å‘å¸ƒï¼Œè¯¥å¤§æ¨¡å‹æœ‰ä½•åŠŸèƒ½ï¼Ÿ - çŸ¥ä¹'</span><span class="token punctuation">,</span>
  <span class="token string">'link'</span><span class="token punctuation">:</span> <span class="token string">'https://www.zhihu.com/question/640050703'</span><span class="token punctuation">,</span>
  <span class="token string">'snippet'</span><span class="token punctuation">:</span> <span class="token string">'Jan 17, 2024 ... 1æœˆ16æ—¥ä¸‹åˆæ¶ˆæ¯ï¼Œæ™ºè°±AIé¦–å±ŠæŠ€æœ¯å¼€æ”¾æ—¥ä¸Šï¼Œæ™ºè°±AIå®£å¸ƒå‘å¸ƒæ–°ä¸€ä»£åŸºåº§å¤§æ¨¡å‹GLM-4ã€‚æ®ä»‹ç»ï¼ŒGLM-4çš„æ•´ä½“â€¦'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
 <span class="token punctuation">{<!-- --></span><span class="token string">'title'</span><span class="token punctuation">:</span> <span class="token string">'æ™ºè°±å‘å¸ƒGLM-4 åŸºåº§å¤§æ¨¡å‹ï¼Œæ€§èƒ½æ•ˆæœå¦‚ä½•ï¼Ÿ - å¤§æ—çš„å›ç­”- çŸ¥ä¹'</span><span class="token punctuation">,</span>
  <span class="token string">'link'</span><span class="token punctuation">:</span> <span class="token string">'https://www.zhihu.com/question/639753877/answer/3364780672'</span><span class="token punctuation">,</span>
  <span class="token string">'snippet'</span><span class="token punctuation">:</span> <span class="token string">'Jan 16, 2024 ... æ™ºè°±å‘å¸ƒGLM-4 åŸºåº§å¤§æ¨¡å‹ï¼Œæ€§èƒ½æ•ˆæœå¦‚ä½•ï¼Ÿ é‡å­ä½ ... å¤§æ¨¡å‹çš„å¾®è°ƒéƒ½æ˜¯æœ‰ç›Šå¤„çš„ã€‚ 2ã€æ›´é•¿çš„ä¸Šä¸‹æ–‡ ... ç‰¹æ€§çš„åŸºç¡€ä¹‹ä¸Šï¼ŒChatGLM2-6B å¼•å…¥äº†å¦‚ä¸‹æ–°ç‰¹æ€§ï¼š.'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
 <span class="token punctuation">{<!-- --></span><span class="token string">'title'</span><span class="token punctuation">:</span> <span class="token string">'æ™ºè°±å‘å¸ƒGLM-4 åŸºåº§å¤§æ¨¡å‹ï¼Œæ€§èƒ½æ•ˆæœå¦‚ä½•ï¼Ÿ - æ•°å­—ç”Ÿå‘½å¡å…¹å…‹çš„ ...'</span><span class="token punctuation">,</span>
  <span class="token string">'link'</span><span class="token punctuation">:</span> <span class="token string">'https://www.zhihu.com/question/639753877/answer/3364475601'</span><span class="token punctuation">,</span>
  <span class="token string">'snippet'</span><span class="token punctuation">:</span> <span class="token string">'Jan 15, 2024 ... å†å°†å®ƒä»¬å…¨éƒ¨æ‰“åŒ…åœ¨äº†ä¸€èµ·ã€‚ æ¯”å¦‚æˆ‘è¯´ä¸€å¥ï¼šâ€œæœç´¢ä¸€ä¸‹è¿‡å»7å¤©åŒ—äº¬çš„å¤©æ°”ï¼Œç„¶åç»™æˆ‘å¤„ç†æˆä¸€å¼ è¡¨æ ¼è®©æˆ‘å¯ä»¥ä¸‹è½½â€.'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
 <span class="token punctuation">{<!-- --></span><span class="token string">'title'</span><span class="token punctuation">:</span> <span class="token string">'å¦‚ä½•çœ‹å¾…æ™ºè°±AIå‘å¸ƒGLM4ï¼Ÿå›½äº§å¤§æ¨¡å‹ä¸GPT-4æ›´åŠ æ¥è¿‘äº†å—ï¼Ÿ - ä¸€ ...'</span><span class="token punctuation">,</span>
  <span class="token string">'link'</span><span class="token punctuation">:</span> <span class="token string">'https://www.zhihu.com/question/639787253/answer/3365580226'</span><span class="token punctuation">,</span>
  <span class="token string">'snippet'</span><span class="token punctuation">:</span> <span class="token string">'Jan 16, 2024 ... ... æ–°ä¸€ä»£åŸºåº§å¤§æ¨¡å‹GLM-4ã€‚ â¤GLM-4æ¨¡å‹ï¼šæ€§èƒ½é€¼è¿‘GPT-4. å…ˆçœ‹æ€»ä½“çš„è¯„æµ‹æ•°æ®ï¼š. åœ¨å¤§è§„æ¨¡å¤šä»»åŠ¡è¯­è¨€ç†è§£è¯„æµ‹ä¸­ï¼ŒGLM-4å¾—åˆ†è¿œè¶…GPT-3.5ï¼Œå¹³å‡è¾¾åˆ°GPT-4çš„\xa0...'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
 <span class="token punctuation">{<!-- --></span><span class="token string">'title'</span><span class="token punctuation">:</span> <span class="token string">'chatGLMå’ŒchatGPTçš„æŠ€æœ¯åŒºåˆ«åœ¨å“ªé‡Œï¼Ÿ - æå­ŸèŠAI çš„å›ç­”- çŸ¥ä¹'</span><span class="token punctuation">,</span>
  <span class="token string">'link'</span><span class="token punctuation">:</span> <span class="token string">'https://www.zhihu.com/question/604393963/answer/3367583114'</span><span class="token punctuation">,</span>
  <span class="token string">'snippet'</span><span class="token punctuation">:</span> <span class="token string">'Jun 1, 2023 ... \ufeffæœ¬æ–‡ä»¥GLM-4 å‘å¸ƒåŠŸèƒ½ä½œä¸ºåŸºå‡†å¯¹æ¯”ChatGPT4ï¼ŒClaude-2æµ‹è¯•ã€‚ ... æ–°ä¸€ä»£åŸºåº§å¤§æ¨¡å‹GLM-4ã€‚ å¤šæ¨¡æ€ç†è§£. GLM-4 ... ç›®å‰ChatGLMæ˜¯åŸºäºBase æ¨¡å‹è¿›è¡Œæœ‰ç›‘ç£å¾®è°ƒ\xa0...'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
 <span class="token punctuation">{<!-- --></span><span class="token string">'title'</span><span class="token punctuation">:</span> <span class="token string">'å¦‚ä½•çœ‹å¾…æ™ºè°±AIå‘å¸ƒGLM4ï¼Ÿå›½äº§å¤§æ¨¡å‹ä¸GPT-4æ›´åŠ æ¥è¿‘äº†å—ï¼Ÿ - çŸ¥ä¹'</span><span class="token punctuation">,</span>
  <span class="token string">'link'</span><span class="token punctuation">:</span> <span class="token string">'https://www.zhihu.com/question/639787253'</span><span class="token punctuation">,</span>
  <span class="token string">'snippet'</span><span class="token punctuation">:</span> <span class="token string">'Jan 16, 2024 ... ä»–ç«‹åˆ»ä¸‹è½½å®‰è£…ï¼Œè¯•ç”¨åå‘ç°ChatGLM4 All ToolsåŠŸèƒ½å¼ºå¤§ï¼Œä½¿ç”¨æ–¹ä¾¿ï¼Œå¿ƒä¸­æ— æ¯”é«˜å…´ã€‚'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
 <span class="token punctuation">{<!-- --></span><span class="token string">'title'</span><span class="token punctuation">:</span> <span class="token string">'æ™ºè°±å‘å¸ƒGLM-4 åŸºåº§å¤§æ¨¡å‹ï¼Œæ€§èƒ½æ•ˆæœå¦‚ä½•ï¼Ÿ - GLMå¤§æ¨¡å‹çš„å›ç­”- çŸ¥ä¹'</span><span class="token punctuation">,</span>
  <span class="token string">'link'</span><span class="token punctuation">:</span> <span class="token string">'https://www.zhihu.com/question/639753877/answer/3365018019'</span><span class="token punctuation">,</span>
  <span class="token string">'snippet'</span><span class="token punctuation">:</span> <span class="token string">'Jan 16, 2024 ... GLMs &amp; MaaS API. GLM-4çš„å…¨çº¿èƒ½åŠ›æå‡ä½¿å¾—æˆ‘ä»¬æœ‰æœºä¼šæ¢ç´¢çœŸæ­£æ„ä¹‰ä¸Šçš„GLMsã€‚ç”¨æˆ·å¯ä»¥ä¸‹è½½ï¼ˆæ›´æ–°ï¼‰æ™ºè°±æ¸…\xa0...'</span><span class="token punctuation">}</span><span class="token punctuation">]</span>
</code></pre> 
<h2><a id="_450"></a>å››ã€çŸ¥ä¹ç½‘ç«™æ•°æ®çˆ¬å–</h2> 
<h3><a id="1_451"></a>1ã€æ•°æ®æ ¼å¼å®šä¹‰</h3> 
<pre><code class="prism language-python"><span class="token keyword">import</span> json

file_path <span class="token operator">=</span> <span class="token string">'result.json'</span>

<span class="token comment"># åˆ›å»ºåŒ…å«JSONå¯¹è±¡çš„åˆ—è¡¨</span>
json_data <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token string">"link"</span><span class="token punctuation">:</span> <span class="token string">"https://example.com/article/1"</span><span class="token punctuation">,</span>
        <span class="token string">"title"</span><span class="token punctuation">:</span> <span class="token string">"Sample Article 1"</span><span class="token punctuation">,</span>
        <span class="token string">"content"</span><span class="token punctuation">:</span> <span class="token string">"This is the content of the first article..."</span><span class="token punctuation">,</span>
        <span class="token string">"tokens"</span><span class="token punctuation">:</span> <span class="token string">"Number of tokens..."</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span>

<span class="token comment"># æŒ‡å®šä¿å­˜æ–‡ä»¶çš„è·¯å¾„</span>
file_path <span class="token operator">=</span> <span class="token string">"result.json"</span>

<span class="token comment"># å°†JSONæ•°æ®å†™å…¥æœ¬åœ°æ–‡ä»¶</span>
<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>file_path<span class="token punctuation">,</span> <span class="token string">"w"</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span> <span class="token keyword">as</span> json_file<span class="token punctuation">:</span>
    json<span class="token punctuation">.</span>dump<span class="token punctuation">(</span>json_data<span class="token punctuation">,</span> json_file<span class="token punctuation">,</span> ensure_ascii<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> indent<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"JSONæ•°æ®å·²ä¿å­˜åˆ°æ–‡ä»¶ï¼š</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>file_path<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
</code></pre> 
<h3><a id="2_478"></a>2ã€è®¾ç½®çŸ¥ä¹æ’é™¤çš„ç½‘ç«™</h3> 
<p>å¯¹æœç´¢å¼•æ“è®¾ç½®ï¼šhttps://programmablesearchengine.google.com/ ï¼Œè®¾ç½®æ’é™¤çš„ç½‘å€ï¼›ä»¥ä¸‹å‡ ç±»æ˜¯ä¸éœ€è¦çš„ç½‘é¡µæ•°æ®ï¼š<br> www.zhihu.com/collection ç±»ç½‘ç«™ï¼ˆæ”¶è—åˆ—è¡¨ï¼‰ï¼Œ<br> www.zhihu.com/people ç±»ç½‘ç«™ï¼ˆä¸ªäººä¸»é¡µï¼‰ï¼Œ<br> www.zhihu.com/column ç±»ç½‘ç«™ï¼ˆä¸ªäººæ–‡ç« ä¸»é¡µï¼‰ï¼Œ<br> www.zhihu.com/topic ç±»ç½‘ç«™(ä¸»é¢˜)<br> <img src="https://images2.imgbox.com/92/99/hEJ16lfY_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h3><a id="3Google_api_487"></a>3ã€Google apiè°ƒç”¨æµ‹è¯•</h3> 
<pre><code class="prism language-python">results <span class="token operator">=</span> google_search<span class="token punctuation">(</span>query<span class="token operator">=</span><span class="token string">'GLM4å¤§æ¨¡å‹æœ‰ä»€ä¹ˆæ–°ç‰¹æ€§ï¼Ÿ'</span><span class="token punctuation">,</span> num_results<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span> site_url<span class="token operator">=</span><span class="token string">'https://www.zhihu.com/'</span><span class="token punctuation">)</span>
results
</code></pre> 
<p>è¾“å‡ºï¼š</p> 
<p><img src="https://images2.imgbox.com/f2/5e/adEQ29F8_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h3><a id="4Cookie_499"></a>4ã€çˆ¬è™«ä¹‹Cookieè·å–</h3> 
<ol><li>æ‰‹åŠ¨ç™»å½•ï¼šé¦–å…ˆï¼Œä½ éœ€è¦åœ¨æµè§ˆå™¨ä¸­æ‰‹åŠ¨è®¿é—®ç›®æ ‡ç½‘ç«™å¹¶ç™»å½•çŸ¥ä¹ã€‚</li><li>å¼€å‘è€…å·¥å…·ï¼šç™»å½•åï¼Œæ‰“å¼€æµè§ˆå™¨çš„å¼€å‘è€…å·¥å…·ã€‚åœ¨ Chrome å’Œ Firefox ä¸­ï¼Œä½ å¯ä»¥å³é”®ç‚¹å‡»<br> é¡µé¢ï¼Œç„¶åé€‰æ‹©â€œæ£€æŸ¥â€æˆ–â€œæ£€æŸ¥å…ƒç´ â€ã€‚</li><li>ç½‘ç»œæ ‡ç­¾ï¼šåœ¨å¼€å‘è€…å·¥å…·ä¸­ï¼Œè½¬åˆ°â€œç½‘ç»œâ€æˆ–â€œNetworkâ€æ ‡ç­¾ã€‚</li><li>åˆ·æ–°é¡µé¢ï¼šåœ¨å¼€å‘è€…å·¥å…·æ‰“å¼€çš„æƒ…å†µä¸‹ï¼Œåˆ·æ–°é¡µé¢ã€‚è¿™ä¼šæ•è·æ‰€æœ‰é¡µé¢åŠ è½½è¿‡ç¨‹ä¸­çš„ç½‘ç»œè¯·æ±‚ã€‚</li><li>æŸ¥æ‰¾è¯·æ±‚ï¼šåœ¨æ•è·çš„è¯·æ±‚åˆ—è¡¨ä¸­ï¼Œæ‰¾åˆ°ä¸»è¦çš„è¯·æ±‚ï¼ˆé€šå¸¸æ˜¯é¡¶éƒ¨çš„ç¬¬ä¸€ä¸ªï¼Œæˆ–è€…æ˜¯ä¸ä½ çš„ç›®æ ‡<br> URLåŒ¹é…çš„è¯·æ±‚ï¼‰ã€‚</li><li>æŸ¥çœ‹è¯·æ±‚å¤´ï¼šç‚¹å‡»è¿™ä¸ªè¯·æ±‚ï¼Œç„¶åæŸ¥æ‰¾â€œè¯·æ±‚å¤´â€æˆ–â€œRequest Headersâ€éƒ¨åˆ†ã€‚</li><li>å¤åˆ¶Cookieï¼šåœ¨â€œè¯·æ±‚å¤´â€éƒ¨åˆ†ï¼Œä½ åº”è¯¥èƒ½çœ‹åˆ°ä¸€ä¸ªåä¸º <code>Cookie</code> çš„å­—æ®µã€‚ä½ å¯ä»¥ç›´æ¥å¤åˆ¶è¿™ä¸ª<br> å­—æ®µçš„å€¼ã€‚</li><li>ä½¿ç”¨åœ¨çˆ¬è™«ä¸­ï¼šå°†å¤åˆ¶çš„ <code>Cookie</code> å€¼ç”¨äºä½ çš„çˆ¬è™«ä»£ç ä¸­çš„è¯·æ±‚å¤´ã€‚<br> éœ€è¦æ³¨æ„çš„æ˜¯<code>Cookie</code> é€šå¸¸æœ‰æœ‰æ•ˆæœŸï¼Œè¿‡äº†æœ‰æ•ˆæœŸå®ƒå¯èƒ½ä¼šè¿‡æœŸã€‚å¦‚æœä½ çš„çˆ¬è™«åœ¨æŸä¸ªæ—¶é—´ç‚¹çª<br> ç„¶æ— æ³•å·¥ä½œï¼Œä½ å¯èƒ½éœ€è¦é‡æ–°è·å–æ–°çš„ <code>Cookie</code>ã€‚</li></ol> 
<h3><a id="5useragent_513"></a>5ã€çˆ¬è™«ä¹‹user-agent</h3> 
<ol><li>Chrome (Windows 10):<br> Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36</li><li>Firefox (Windows 10):<br> Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:89.0) Gecko/20100101 Firefox/89.0</li><li>Safari (macOS):<br> Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/14.0.3 Safari/605.1.15</li><li>Edge (Windows 10):<br> Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36<br> Edg/91.0.864.59</li><li>Chrome (Android):<br> Mozilla/5.0 (Linux; Android 10; SM-A205U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.120 Mobile<br> Safari/537.36</li><li>Safari (iPhone):<br> Mozilla/5.0 (iPhone; CPU iPhone OS 14_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/14.1 Mobile/15E148<br> Safari/604.1</li></ol> 
<h3><a id="6PATH_529"></a>6ã€çˆ¬è™«ä¹‹è·å–PATH</h3> 
<p>ä»¥ä¸‹æ˜¯ä½¿ç”¨Google Chromeæµè§ˆå™¨æŸ¥çœ‹å’Œè·å–XPathçš„æ­¥éª¤ï¼Œä½†å…¶ä»–ç°ä»£æµè§ˆå™¨ï¼ˆå¦‚Firefoxã€Edgeç­‰ï¼‰çš„æ“ä½œæ–¹å¼ä¹Ÿç±»ä¼¼ï¼š</p> 
<ol><li>æ‰“å¼€ç½‘é¡µ: - åœ¨Chromeä¸­æ‰“å¼€ä½ æƒ³è¦æŸ¥çœ‹çš„ç½‘é¡µã€‚</li><li>æ‰“å¼€å¼€å‘è€…å·¥å…·: - å³é”®ç‚¹å‡»é¡µé¢ä¸Šçš„ä»»æ„ä½ç½®ï¼Œç„¶åé€‰æ‹©â€œæ£€æŸ¥â€ï¼ˆæˆ–â€œInspect Elementâ€ï¼‰ã€‚</li></ol> 
<ul><li>æˆ–è€…ï¼Œä½ å¯ä»¥ä½¿ç”¨å¿«æ·é”® <code>Ctrl + Shift + I</code>ï¼ˆWindows/Linuxï¼‰æˆ– <code>Cmd + Option + I</code>ï¼ˆMacï¼‰ã€‚</li></ul> 
<ol start="3"><li>ä½¿ç”¨å…ƒç´ é€‰æ‹©å™¨: - åœ¨å¼€å‘è€…å·¥å…·çš„å·¦ä¸Šè§’ï¼Œä½ ä¼šçœ‹åˆ°ä¸€ä¸ªé¼ æ ‡æŒ‡é’ˆå›¾æ ‡ï¼Œè¿™æ˜¯â€œé€‰æ‹©å…ƒç´ â€å·¥å…·ã€‚ç‚¹å‡»å®ƒã€‚</li></ol> 
<ul><li>ç„¶åï¼Œå°†é¼ æ ‡æ‚¬åœåœ¨é¡µé¢ä¸Šçš„å…ƒç´ ä¸Šã€‚ä½ ä¼šçœ‹åˆ°å…ƒç´ è¢«é«˜äº®æ˜¾ç¤ºï¼Œå¹¶åœ¨å¼€å‘è€…å·¥å…·çš„â€œElementsâ€é¢æ¿ä¸­æ˜¾ç¤ºå…¶HTMLç»“æ„ã€‚</li></ul> 
<ol start="4"><li>è·å–XPath: - å½“ä½ æ‰¾åˆ°æƒ³è¦çš„å…ƒç´ åï¼Œåœ¨â€œElementsâ€é¢æ¿ä¸­å³é”®ç‚¹å‡»å®ƒã€‚</li></ol> 
<ul><li>åœ¨å¼¹å‡ºçš„èœå•ä¸­ï¼Œé€‰æ‹©â€œCopyâ€ &gt; â€œCopy XPathâ€ã€‚è¿™å°†å…ƒç´ çš„XPathå¤åˆ¶åˆ°å‰ªè´´æ¿ã€‚</li></ul> 
<ol start="5"><li>ç²˜è´´XPath: - æ¥ä¸‹æ¥å³å¯å°†å¤åˆ¶çš„XPathç²˜è´´åˆ°ä½ çš„ä»£ç æˆ–å…¶ä»–åœ°æ–¹ã€‚</li></ol> 
<h3><a id="7_541"></a>7ã€ç½‘ç»œçˆ¬è™«ä»£ç ç¼–å†™</h3> 
<p>1ï¼‰è¯·æ±‚å¤´æ ·ä¾‹</p> 
<pre><code class="prism language-python"><span class="token comment">## è¯·æ±‚å¤´</span>
headers <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string">'authority'</span><span class="token punctuation">:</span> <span class="token string">'www.zhihu.com'</span><span class="token punctuation">,</span>
    <span class="token string">'accept'</span><span class="token punctuation">:</span> <span class="token string">'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7'</span><span class="token punctuation">,</span>
    <span class="token string">'accept-language'</span><span class="token punctuation">:</span> <span class="token string">'zh-CN,zh;q=0.9,en;q=0.8'</span><span class="token punctuation">,</span>
    <span class="token string">'cache-control'</span><span class="token punctuation">:</span> <span class="token string">'max-age=0'</span><span class="token punctuation">,</span>
    <span class="token string">'cookie'</span><span class="token punctuation">:</span> <span class="token string">"Your cookie"</span><span class="token punctuation">,</span>                <span class="token comment"># éœ€è¦æ‰‹åŠ¨è·å–cookie</span>
    <span class="token string">'upgrade-insecure-requests'</span><span class="token punctuation">:</span> <span class="token string">'1'</span><span class="token punctuation">,</span>
    <span class="token string">'user-agent'</span><span class="token punctuation">:</span> <span class="token string">'Your user-agent'</span><span class="token punctuation">,</span>        <span class="token comment"># æ‰‹åŠ¨ç¼–å†™æˆ–è€…é€‰æ‹©ä¹‹åç»™å‡ºçš„user-agenté€‰é¡¹é€‰æ‹©å…¶ä¸€å¡«å†™</span>
<span class="token punctuation">}</span>
</code></pre> 
<ol><li><strong>authority</strong>: é€šå¸¸è¡¨ç¤ºè¯·æ±‚çš„ç›®æ ‡ä¸»æœºåã€‚åœ¨å½“å‰é¡¹ç›®ä¸­éœ€è¦è§†æƒ…å†µå¡«å†™<code>www.zhihu.com</code>æˆ–è€…<code>zhuanlan.zhihu.com</code>ï¼›</li><li><strong>accept</strong>: å‘Šè¯‰æœåŠ¡å™¨å®¢æˆ·ç«¯èƒ½å¤Ÿå¤„ç†çš„å†…å®¹ç±»å‹ã€‚è¿™é‡Œåˆ—å‡ºäº†å¤šç§å†…å®¹ç±»å‹ï¼ŒåŒ…æ‹¬HTMLã€XMLå’Œå„ç§å›¾ç‰‡æ ¼å¼ï¼Œè¯¥å‚æ•°æŒ‰ç…§ç»™å®šå†…å®¹å¡«å†™å³å¯ï¼›</li><li><strong>accept-language</strong>: å‘Šè¯‰æœåŠ¡å™¨å®¢æˆ·ç«¯çš„é¦–é€‰è¯­è¨€ã€‚è¿™é‡Œï¼Œé¦–é€‰è¯­è¨€è¢«è®¾ç½®ä¸ºç®€ä½“ä¸­æ–‡ï¼ˆzh-CNï¼‰ï¼Œå…¶æ¬¡æ˜¯å…¶ä»–ä¸­æ–‡ç‰ˆæœ¬ï¼ˆzhï¼‰ï¼Œç„¶åæ˜¯è‹±æ–‡ï¼ˆenï¼‰ã€‚åŒæ ·è¯¥å‚æ•°çš„å†…å®¹æŒ‰ç…§ç»™å®šå†…å®¹å¡«å†™å³å¯ï¼›</li><li><strong>cache-control</strong>: æ§åˆ¶ç¼“å­˜çš„è¡Œä¸ºã€‚<code>max-age=0</code>é€šå¸¸è¡¨ç¤ºå®¢æˆ·ç«¯ä¸å¸Œæœ›å¾—åˆ°ç¼“å­˜çš„å“åº”ï¼Œè€Œå¸Œæœ›ä»åŸå§‹æœåŠ¡å™¨è·å–ä¸€ä¸ªæ–°çš„å“åº”ã€‚è¯¥å‚æ•°çš„å†…å®¹æŒ‰ç…§ç»™å®šå†…å®¹å¡«å†™å³å¯ï¼›</li><li><strong>cookie</strong>: åŒ…å«æœåŠ¡å™¨ä¹‹å‰å‘é€ç»™å®¢æˆ·ç«¯çš„cookieã€‚è¿™äº›cookieå¯èƒ½ç”¨äºèº«ä»½éªŒè¯ã€ä¼šè¯è·Ÿè¸ªæˆ–å…¶ä»–ç›®çš„ã€‚è¿™é‡Œéœ€è¦é‡ç‚¹æ³¨æ„ï¼Œå»ºè®®å¤§å®¶è‡ªè¡Œè·å–å¯¹åº”ä¸ªäººæµè§ˆå™¨äº§ç”Ÿçš„cookieï¼Œä»¥é¿å…cookieæ»¥ç”¨å¯¼è‡´è¢«è¯†åˆ«ä¸ºæœºå™¨äººä»è€Œå¯¼è‡´å°IPï¼›</li><li><strong>upgrade-insecure-requests</strong>: è¿™ä¸ªå¤´éƒ¨å‘Šè¯‰æœåŠ¡å™¨ï¼Œå¦‚æœå¯èƒ½çš„è¯ï¼Œå®¢æˆ·ç«¯å¸Œæœ›ä½¿ç”¨æ›´å®‰å…¨çš„åè®®ï¼ˆå¦‚HTTPSï¼‰è¿›è¡Œé€šä¿¡ã€‚å»ºè®®å–å€¼ä¸º1å³å¯ï¼›</li><li><strong>user-agent</strong>: æè¿°å‘å‡ºè¯·æ±‚çš„å®¢æˆ·ç«¯çš„ç±»å‹ã€‚è¿™é‡Œï¼Œå®ƒæ¨¡æ‹Ÿäº†ä¸€ä¸ªChromeæµè§ˆå™¨çš„ç”¨æˆ·ä»£ç†å­—ç¬¦ä¸²ã€‚ç½‘ç«™æœ‰æ—¶ä¼šæ ¹æ®è¿™ä¸ªå¤´éƒ¨æä¾›ä¸åŒçš„å†…å®¹æˆ–å¸ƒå±€ï¼Œæˆ–è€…æ£€æµ‹æ˜¯å¦æ˜¯çˆ¬è™«ã€‚è¯¥å‚æ•°ä¹Ÿéœ€è¦æ ¹æ®è‡ªå·±å®é™…æƒ…å†µè¿›è¡Œç¼–å†™ã€‚</li></ol> 
<p>2ï¼‰è®¾ç½®cookieå’Œuser-agent</p> 
<pre><code class="prism language-python">cookie <span class="token operator">=</span> <span class="token string">"q_c1=3c10baf5bd084b3cbfe7eece648ba243|1704976541000|1704976541000; _zap=086350b3-1588-49c4-9d6d-de88f3faae03; d_c0=AGCYfYvO_RePTvjfB1kZwPLeke_N5AM6nwo=|1704949678; _xsrf=qR1FJHlZ9dvYhhoj4SUj43SAIBUwPOqm; __snaker__id=wNWnamiJKBI0kzkI; q_c1=d44e397edb6740859a7d2a0d4155bfab|1706509753000|1706509753000; Hm_lvt_98beee57fd2ef70ccdd5ca52b9740c49=1706509695,1706589529,1706765465,1708650963; z_c0=2|1:0|10:1713167971|4:z_c0|80:MS4xOGRHQVNnQUFBQUFtQUFBQVlBSlZUYjZqOTJaLXVDSjdRSmJKMHgyVEhxTE13UGN1TUJBdHZnPT0=|15b2c2ece393ac4ea374d9b36cde5af7304f8ee7632e060fe6835bfadb5e4132; KLBRSID=9d75f80756f65c61b0a50d80b4ca9b13|1713170212|1713167958"</span>
user_agent <span class="token operator">=</span> <span class="token string">"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"</span>
</code></pre> 
<p>3ï¼‰è®¾ç½®è¯·æ±‚å¤´ä¿¡æ¯</p> 
<pre><code class="prism language-python"><span class="token comment">## è¯·æ±‚å¤´</span>
headers <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string">'authority'</span><span class="token punctuation">:</span> <span class="token string">'www.zhihu.com'</span><span class="token punctuation">,</span>
    <span class="token string">'accept'</span><span class="token punctuation">:</span> <span class="token string">'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7'</span><span class="token punctuation">,</span>
    <span class="token string">'accept-language'</span><span class="token punctuation">:</span> <span class="token string">'zh-CN,zh;q=0.9,en;q=0.8'</span><span class="token punctuation">,</span>
    <span class="token string">'cache-control'</span><span class="token punctuation">:</span> <span class="token string">'max-age=0'</span><span class="token punctuation">,</span>
    <span class="token string">'cookie'</span><span class="token punctuation">:</span> cookie<span class="token punctuation">,</span>                <span class="token comment"># éœ€è¦æ‰‹åŠ¨è·å–cookie</span>
    <span class="token string">'upgrade-insecure-requests'</span><span class="token punctuation">:</span> <span class="token string">'1'</span><span class="token punctuation">,</span>
    <span class="token string">'user-agent'</span><span class="token punctuation">:</span> user_agent<span class="token punctuation">,</span>        <span class="token comment"># æ‰‹åŠ¨ç¼–å†™æˆ–è€…é€‰æ‹©ä¹‹åç»™å‡ºçš„user-agenté€‰é¡¹é€‰æ‹©å…¶ä¸€å¡«å†™</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="8question_587"></a>8ã€questionç±»å‹çš„ç½‘ç«™çˆ¬è™«æµ‹è¯•</h3> 
<pre><code class="prism language-python"><span class="token comment">## questionç±»å‹çš„ç½‘ç«™</span>
url <span class="token operator">=</span> <span class="token string">'https://www.zhihu.com/question/639753877'</span>
res <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span><span class="token punctuation">.</span>text
res 
</code></pre> 
<p>è¾“å‡ºï¼š<br> <img src="https://images2.imgbox.com/a4/9f/CRTxIOWU_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>1ï¼‰ç½‘é¡µæ ‡é¢˜è§£æ</p> 
<pre><code class="prism language-python">res_xpath <span class="token operator">=</span> etree<span class="token punctuation">.</span>HTML<span class="token punctuation">(</span>res<span class="token punctuation">)</span>
res_xpath
</code></pre> 
<p><img src="https://images2.imgbox.com/69/96/boqE3jsx_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<pre><code class="prism language-python">title <span class="token operator">=</span> res_xpath<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">'//div/div[1]/div/h1/text()'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
<span class="token comment">#%%</span>
title
</code></pre> 
<p><img src="https://images2.imgbox.com/a1/cf/oghh1m9O_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>2ï¼‰ç½‘é¡µå†…å®¹è§£æ</p> 
<pre><code class="prism language-python"><span class="token comment">## è·å–å›ç­”çš„æ­£æ–‡</span>
<span class="token comment">#//*[@id="root"]/div/main/div/div/div[1]/div[2]/div/div[1]/div[1]/div[6]/div/div/div/div/span/p[1]/text()</span>
text <span class="token operator">=</span> <span class="token string">''</span>
text_d <span class="token operator">=</span> res_xpath<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">'//div/div/div/div[2]/div/div[2]/div/div/div[2]/span[1]/div/div/span/p/text()'</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> t <span class="token keyword">in</span> text_d<span class="token punctuation">:</span>
    txt <span class="token operator">=</span> <span class="token builtin">str</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">.</span>replace<span class="token punctuation">(</span><span class="token string">'\n'</span><span class="token punctuation">,</span> <span class="token string">' '</span><span class="token punctuation">)</span>
    text <span class="token operator">+=</span>txt

<span class="token keyword">print</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/2b/27/F9iimzMC_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h3><a id="9_631"></a>9ã€ç½‘é¡µæ•°æ®ä¿å­˜</h3> 
<pre><code class="prism language-python">encoding <span class="token operator">=</span> tiktoken<span class="token punctuation">.</span>encoding_for_model<span class="token punctuation">(</span><span class="token string">"gpt-3.5-turbo"</span><span class="token punctuation">)</span>
<span class="token builtin">len</span><span class="token punctuation">(</span>encoding<span class="token punctuation">.</span>encode<span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-python">json_data <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token string">"link"</span><span class="token punctuation">:</span> url<span class="token punctuation">,</span>
        <span class="token string">"title"</span><span class="token punctuation">:</span> title<span class="token punctuation">,</span>
        <span class="token string">"content"</span><span class="token punctuation">:</span> text<span class="token punctuation">,</span>
        <span class="token string">"tokens"</span><span class="token punctuation">:</span> <span class="token builtin">len</span><span class="token punctuation">(</span>encoding<span class="token punctuation">.</span>encode<span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre> 
<pre><code class="prism language-python">title<span class="token operator">=</span><span class="token string">"æ™ºè°±å‘å¸ƒGLM-4åŸºåº§å¤§æ¨¡å‹ï¼Œæ€§èƒ½æ•ˆæœå¦‚ä½•"</span>
<span class="token comment">#%%</span>
<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'./auto_search/ä»‹ç»ä¸€ä¸‹GLM4å¤§æ¨¡å‹çš„ç‰¹æ€§/%s.json'</span> <span class="token operator">%</span> title<span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
    json<span class="token punctuation">.</span>dump<span class="token punctuation">(</span>json_data<span class="token punctuation">,</span> f<span class="token punctuation">)</span>
<span class="token comment">#%%</span>
<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'./auto_search/ä»‹ç»ä¸€ä¸‹GLM4å¤§æ¨¡å‹çš„ç‰¹æ€§/%s.json'</span> <span class="token operator">%</span> title<span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
    jd <span class="token operator">=</span> json<span class="token punctuation">.</span>load<span class="token punctuation">(</span>f<span class="token punctuation">)</span>
<span class="token comment">#%%</span>
jd
</code></pre> 
<p><img src="https://images2.imgbox.com/10/3b/FcbFVlaX_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h3><a id="10questionanswer_663"></a>10ã€question/answerç½‘ç«™çˆ¬è™«æµ‹è¯•</h3> 
<pre><code class="prism language-python"><span class="token comment">## question/answerç½‘ç«™</span>
url <span class="token operator">=</span> <span class="token string">'https://www.zhihu.com/question/639787253/answer/3365580226'</span>
res <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span><span class="token punctuation">.</span>text
res_xpath <span class="token operator">=</span> etree<span class="token punctuation">.</span>HTML<span class="token punctuation">(</span>res<span class="token punctuation">)</span>
<span class="token comment">#%%</span>
<span class="token comment"># question/answerç½‘ç«™æ ‡é¢˜</span>
res_xpath<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">'//div/div[1]/div/h1/text()'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>

</code></pre> 
<p><img src="https://images2.imgbox.com/32/46/uRzrhoUY_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>å›ç­”å†…å®¹çˆ¬å–è§£æ</p> 
<pre><code class="prism language-python"><span class="token comment"># question/answerç½‘ç«™ç½®é¡¶å›ç­”å†…å®¹</span>
dic <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
text_d <span class="token operator">=</span> res_xpath<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">'//*[@id="root"]/div/main/div/div/div[3]/div[1]/div/div[2]/div/div/div/div[2]/span[1]/div/div/span/p/text()'</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> t <span class="token keyword">in</span> text_d<span class="token punctuation">:</span>
    txt <span class="token operator">=</span> <span class="token builtin">str</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">.</span>replace<span class="token punctuation">(</span><span class="token string">'\n'</span><span class="token punctuation">,</span> <span class="token string">' '</span><span class="token punctuation">)</span>
    dic<span class="token punctuation">.</span>append<span class="token punctuation">(</span>txt<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>txt<span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/26/e4/gvqT72OB_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h3><a id="11_690"></a>11ã€ä¸“æ ç±»ç½‘ç«™çˆ¬è™«æµ‹è¯•</h3> 
<pre><code class="prism language-python"><span class="token comment"># ä¸“æ ç±»ç½‘ç«™</span>
url <span class="token operator">=</span> <span class="token string">'https://zhuanlan.zhihu.com/p/469793124'</span>
res <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span><span class="token punctuation">.</span>text
res_xpath <span class="token operator">=</span> etree<span class="token punctuation">.</span>HTML<span class="token punctuation">(</span>res<span class="token punctuation">)</span>
<span class="token comment">#%%</span>
<span class="token comment"># ä¸“æ ç±»ç½‘ç«™æ ‡é¢˜</span>
res_xpath<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">'//div[1]/div/main/div/article/header/h1/text()'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/86/34/EZrdmU5P_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>ç½‘é¡µå†…å®¹è§£æè¯»å–</p> 
<pre><code class="prism language-python"><span class="token comment"># ä¸“æ ç±»ç½‘ç«™æ ‡é¢˜å†…å®¹</span>
dic <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
text_d <span class="token operator">=</span> res_xpath<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">'//div/main/div/article/div[1]/div/div/div/p/text()'</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> t <span class="token keyword">in</span> text_d<span class="token punctuation">:</span>
    txt <span class="token operator">=</span> <span class="token builtin">str</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">.</span>replace<span class="token punctuation">(</span><span class="token string">'\n'</span><span class="token punctuation">,</span> <span class="token string">' '</span><span class="token punctuation">)</span>
    dic<span class="token punctuation">.</span>append<span class="token punctuation">(</span>txt<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>txt<span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/38/e0/wCEgmP6b_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h2><a id="_715"></a>ç»“è¯­</h2> 
<p>éšç€æœ¬ç« çš„ç»“æŸï¼Œæˆ‘ä»¬å·²ç»å®Œæˆäº†çŸ¥ä¹ç½‘ç«™æ•°æ®çš„æ™ºèƒ½æœç´¢çš„åŸºæœ¬é“¾è·¯æ‹‰é€šï¼Œä¸‹ä¸€ç¯‡ç« æˆ‘ä»¬å°†å¯¹æƒ³è¦çš„å‡½æ•°è¿›è¡Œå°è£…æ”¹é€ ï¼Œæé«˜æ•´å„é¡¹ç›®æ¨¡å—çš„æ‰©å±•å’Œå¤ç”¨æ€§ã€‚</p> 
<p><img src="https://images2.imgbox.com/64/f4/eqG3B2CZ_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>ğŸ¯ğŸ”–æ›´å¤šä¸“æ ç³»åˆ—æ–‡ç« ï¼š<a href="https://blog.csdn.net/xiaobing259/category_12628007.html?spm=1001.2014.3001.5482"><strong>AIGC-AIå¤§æ¨¡å‹æ¢ç´¢ä¹‹è·¯</strong></a></p> 
<blockquote> 
 <p>ğŸ˜ <strong>ä½œè€…ä»‹ç»</strong>ï¼šæˆ‘æ˜¯å¯»é“AIå°å…µï¼Œèµ„æ·±ç¨‹åºè€çŒ¿ï¼Œä»ä¸š10å¹´+ã€äº’è”ç½‘ç³»ç»Ÿæ¶æ„å¸ˆï¼Œç›®å‰ä¸“æ³¨äºAIGCçš„æ¢ç´¢ã€‚<br> ğŸ“– <strong>æŠ€æœ¯äº¤æµ</strong>ï¼šå»ºç«‹æœ‰æŠ€æœ¯äº¤æµç¾¤ï¼Œå¯ä»¥æ‰«ç ğŸ‘‡ åŠ å…¥ç¤¾ç¾¤ï¼Œ500æœ¬å„ç±»ç¼–ç¨‹ä¹¦ç±ã€AIæ•™ç¨‹ã€AIå·¥å…·ç­‰ä½ é¢†å–ï¼<br> <strong>å¦‚æœæ–‡ç« å†…å®¹å¯¹æ‚¨æœ‰æ‰€è§¦åŠ¨ï¼Œåˆ«å¿˜äº†<font color="red"><strong>ç‚¹èµã€â­å…³æ³¨ï¼Œæ”¶è—</strong></font>ï¼åŠ å…¥æˆ‘ï¼Œè®©æˆ‘ä»¬æºæ‰‹åŒè¡ŒAIçš„æ¢ç´¢ä¹‹æ—…ï¼Œä¸€èµ·å¼€å¯æ™ºèƒ½æ—¶ä»£çš„å¤§é—¨ï¼</strong></p> 
</blockquote>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d780c5758dc840abf07274225655d2fe/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">zookeeperçš„å®‰è£…</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a7f108abf09165cf7f90a20a9aa01a3e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">Wireshark v4 ä¿®æ”¹ç‰ˆå®‰è£…æ•™ç¨‹ï¼ˆå…è´¹å¼€æºçš„ç½‘ç»œå—…æ¢æŠ“åŒ…å·¥å…·ï¼‰</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ç¼–ç¨‹å¤§å’–.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>