<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>MySQL｜基础操作&#43;8大查询方式汇总 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/2c754cd196bea2e4d81269ee754a2ab4/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="MySQL｜基础操作&#43;8大查询方式汇总">
  <meta property="og:description" content="MySQL操作 一、操作数据库 MySQL中可以创建多个数据库用于存储不同场景的表结构，学习MySQL之前，我们要先理清如下的关系：
数据库 --&gt; 数据表 --&gt; 字段
抛开数据库存储上限去考虑，每个数据库中可以包含无数个数据表，而每个数据表又可以包含无数个字段，因此我们的学习也应该从创建数据库开始。
创建数据库 create database 数据库名 charset=utf8; 例： create database mydata charset=utf8; 查看所有数据库 : show databases; show databases; 使用数据库 use 数据库名; 查看当前使用的数据库 select database(); 删除数据库 drop database 数据库名; 例： drop database mydata; 二、数据表常见操作 创建好了数据库，我们就可以在某个数据库中进行数据表的创建与操作了，数据表是MySQL语法中的核心部分，数据工作者的多数时间都在进行数据表中各个字段的“增删改查”。
1. 基本操作 查看当前数据库中所有表 show tables; 查看表结构 desc 表名; 2. 创建表 给定字段名和数据类型时，我们就可以进行数据表的创建了，当然创建表的时候也有很多特殊的可选项，具体如下：
数据表创建示例（简版）：
column：字段名datatype：数据类型 MySQL常用数据类型介绍：点击此处
CREATE TABLE table_name( column1 datatype, column2 datatype, column3 datatype, ..... columnN datatype ); 例：创建分数表 create table Score( name varchar(20), age tinyint, score int ); 例：创建学生表 create table students( id int unsigned primary key auto_increment not null, name varchar(20) default &#39;&#39;, age tinyint unsigned default 0, height decimal(5,2), gender enum(&#39;男&#39;,&#39;女&#39;,&#39;保密&#39;), cls_id int unsigned default 0 ); 上述代码块创建的时候使用了许多特殊语句，解释如下：">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2023-10-24T17:25:47+08:00">
    <meta property="article:modified_time" content="2023-10-24T17:25:47+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">MySQL｜基础操作&#43;8大查询方式汇总</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="MySQL_0"></a>MySQL操作</h2> 
<h3><a id="_2"></a>一、操作数据库</h3> 
<blockquote> 
 <p>MySQL中可以创建多个数据库用于存储不同场景的表结构，学习MySQL之前，我们要先理清如下的关系：</p> 
 <p>数据库 --&gt; 数据表 --&gt; 字段</p> 
 <p>抛开数据库存储上限去考虑，每个数据库中可以包含无数个数据表，而每个数据表又可以包含无数个字段，因此我们的学习也应该从创建数据库开始。</p> 
</blockquote> 
<ul><li>创建数据库</li></ul> 
<pre><code class="prism language-sql"><span class="token keyword">create</span> <span class="token keyword">database</span> 数据库名 <span class="token keyword">charset</span><span class="token operator">=</span>utf8<span class="token punctuation">;</span>
例：
<span class="token keyword">create</span> <span class="token keyword">database</span> mydata <span class="token keyword">charset</span><span class="token operator">=</span>utf8<span class="token punctuation">;</span>
</code></pre> 
<ul><li>查看所有数据库 : <code>show databases</code>;</li></ul> 
<pre><code class="prism language-sql"><span class="token keyword">show</span> <span class="token keyword">databases</span><span class="token punctuation">;</span> 
</code></pre> 
<p><img src="https://images2.imgbox.com/59/87/U9xh7Ep4_o.png" alt="在这里插入图片描述"></p> 
<ul><li>使用数据库</li></ul> 
<pre><code class="prism language-sql"><span class="token keyword">use</span> 数据库名<span class="token punctuation">;</span>
</code></pre> 
<ul><li>查看当前使用的数据库</li></ul> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> <span class="token keyword">database</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<ul><li>删除数据库</li></ul> 
<pre><code class="prism language-sql"><span class="token keyword">drop</span> <span class="token keyword">database</span> 数据库名<span class="token punctuation">;</span>
例：
<span class="token keyword">drop</span> <span class="token keyword">database</span> mydata<span class="token punctuation">;</span>
</code></pre> 
<h3><a id="_46"></a>二、数据表常见操作</h3> 
<blockquote> 
 <p>创建好了数据库，我们就可以在某个数据库中进行数据表的创建与操作了，数据表是MySQL语法中的核心部分，数据工作者的多数时间都在进行数据表中各个字段的“增删改查”。</p> 
</blockquote> 
<h4><a id="1__50"></a>1. 基本操作</h4> 
<ul><li>查看当前数据库中所有表</li></ul> 
<pre><code class="prism language-sql"><span class="token keyword">show</span> <span class="token keyword">tables</span><span class="token punctuation">;</span>
</code></pre> 
<ul><li>查看表结构</li></ul> 
<pre><code class="prism language-sql"><span class="token keyword">desc</span> 表名<span class="token punctuation">;</span>
</code></pre> 
<h4><a id="2__64"></a>2. 创建表</h4> 
<blockquote> 
 <p>给定字段名和数据类型时，我们就可以进行数据表的创建了，当然创建表的时候也有很多特殊的可选项，具体如下：</p> 
</blockquote> 
<ul><li> <p>数据表创建示例（简版）：</p> 
  <ul><li>column：字段名</li><li>datatype：数据类型</li></ul> </li><li> <p>MySQL常用数据类型介绍：点击此处</p> </li></ul> 
<pre><code class="prism language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> table_name<span class="token punctuation">(</span>
    column1 datatype<span class="token punctuation">,</span>
    column2 datatype<span class="token punctuation">,</span>
    column3 datatype<span class="token punctuation">,</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    columnN datatype
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<ul><li>例：创建分数表</li></ul> 
<pre><code class="prism language-sql"><span class="token keyword">create</span> <span class="token keyword">table</span> Score<span class="token punctuation">(</span>
    name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    age <span class="token keyword">tinyint</span><span class="token punctuation">,</span>
    score <span class="token keyword">int</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<ul><li>例：创建学生表</li></ul> 
<pre><code class="prism language-sql"><span class="token keyword">create</span> <span class="token keyword">table</span> students<span class="token punctuation">(</span>
    id <span class="token keyword">int</span> <span class="token keyword">unsigned</span> <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token keyword">auto_increment</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
    name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token string">''</span><span class="token punctuation">,</span>
    age <span class="token keyword">tinyint</span> <span class="token keyword">unsigned</span> <span class="token keyword">default</span> <span class="token number">0</span><span class="token punctuation">,</span>
    height <span class="token keyword">decimal</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    gender <span class="token keyword">enum</span><span class="token punctuation">(</span><span class="token string">'男'</span><span class="token punctuation">,</span><span class="token string">'女'</span><span class="token punctuation">,</span><span class="token string">'保密'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    cls_id <span class="token keyword">int</span> <span class="token keyword">unsigned</span> <span class="token keyword">default</span> <span class="token number">0</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<blockquote> 
 <p>上述代码块创建的时候使用了许多特殊语句，解释如下：</p> 
 <ul><li>unsigned：限制整数类型为无符号数据（没有负数）。</li><li>primary key：主键约束，在表中定义一个主键来唯一确定表中每一行数据的标识符。主键可以是表中的某一列或者多列的组合，其中由多列组合的主键称为复合主键。</li><li>auto_increment：主键自动增长，从1开始，每多插入一条数据，主键值+1。</li><li>default：为该字段设定默认值。</li><li>decimal：保留准确精确度的列，例如decimal(5,2)标识一共能存储5位数，小数点后可以有2位，因此可保存数据的范围是<code>-999.99-999.99</code>。</li><li>enum：只能从其中选择一个值插入到数据库。</li></ul> 
</blockquote> 
<h4><a id="3__116"></a>3. 修改表</h4> 
<blockquote> 
 <p>数据库中创建好的内容不是一成不变的，我们可以随时对表结构进行增删改的操作。</p> 
</blockquote> 
<ul><li>添加字段</li></ul> 
<pre><code class="prism language-sql"><span class="token keyword">alter</span> <span class="token keyword">table</span> 表名 <span class="token keyword">add</span> 列名 类型<span class="token punctuation">;</span>
例：
<span class="token keyword">alter</span> <span class="token keyword">table</span> students <span class="token keyword">add</span> birthday <span class="token keyword">datetime</span><span class="token punctuation">;</span>
</code></pre> 
<ul><li>修改表-修改字段名</li></ul> 
<pre><code class="prism language-sql"><span class="token keyword">alter</span> <span class="token keyword">table</span> 表名 change 原名 新名 类型及约束<span class="token punctuation">;</span>
例：
<span class="token keyword">alter</span> <span class="token keyword">table</span> students change birthday birth <span class="token keyword">datetime</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">;</span>
</code></pre> 
<ul><li>修改表-修改字段类型</li></ul> 
<pre><code class="prism language-sql"><span class="token keyword">alter</span> <span class="token keyword">table</span> 表名 <span class="token keyword">modify</span> 列名 类型及约束<span class="token punctuation">;</span>
例：
<span class="token keyword">alter</span> <span class="token keyword">table</span> students <span class="token keyword">modify</span> birth <span class="token keyword">date</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">;</span>
</code></pre> 
<ul><li>修改表-删除字段</li></ul> 
<pre><code class="prism language-sql"><span class="token keyword">alter</span> <span class="token keyword">table</span> 表名 <span class="token keyword">drop</span> 列名<span class="token punctuation">;</span>
例：
<span class="token keyword">alter</span> <span class="token keyword">table</span> students <span class="token keyword">drop</span> birthday<span class="token punctuation">;</span>
</code></pre> 
<h4><a id="4__152"></a>4. 删除表</h4> 
<blockquote> 
 <p>建议慎用所有的删除语句。</p> 
</blockquote> 
<pre><code class="prism language-sql"><span class="token keyword">drop</span> <span class="token keyword">table</span> 表名<span class="token punctuation">;</span>
例：
<span class="token keyword">drop</span> <span class="token keyword">table</span> students<span class="token punctuation">;</span>
</code></pre> 
<h4><a id="5__162"></a>5. 查看表的创建语句</h4> 
<pre><code class="prism language-sql"><span class="token keyword">show</span> <span class="token keyword">create</span> <span class="token keyword">table</span> 表名<span class="token punctuation">;</span>
例：
<span class="token keyword">show</span> <span class="token keyword">create</span> <span class="token keyword">table</span> classes<span class="token punctuation">;</span>
</code></pre> 
<h3><a id="_170"></a>三、添加数据</h3> 
<blockquote> 
 <p>表创建好之后，我们可以使用SQL语句添加数据，但并不是所有场景都会用到该语句，工作中数据添加的方式多是：端口实时同步，表格导入等。</p> 
</blockquote> 
<ul><li>完整格式</li></ul> 
<pre><code class="prism language-sql"><span class="token keyword">insert</span> <span class="token keyword">into</span> 表名 <span class="token punctuation">(</span><span class="token string">'字段名1'</span><span class="token punctuation">,</span> <span class="token string">'字段名2'</span><span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span>值<span class="token number">1</span><span class="token punctuation">,</span> 值<span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<ul><li>省略格式 
  <ul><li>使用省略格式时，需要在<code>values</code>中填写所有字段对应的值，否则将会报错。</li></ul> </li></ul> 
<pre><code class="prism language-sql"><span class="token keyword">insert</span> <span class="token keyword">into</span> 表名 <span class="token keyword">values</span><span class="token punctuation">(</span>值<span class="token number">1</span><span class="token punctuation">,</span> 值<span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<ul><li>完整格式示例</li></ul> 
<pre><code class="prism language-sql"><span class="token keyword">insert</span> <span class="token keyword">into</span> students<span class="token punctuation">(</span>id<span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> height<span class="token punctuation">,</span> gender<span class="token punctuation">,</span> cls_id<span class="token punctuation">)</span> <span class="token keyword">values</span>
<span class="token punctuation">(</span><span class="token number">10001</span><span class="token punctuation">,</span> <span class="token string">'xiaoming'</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">180</span><span class="token punctuation">,</span> <span class="token string">'男'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/de/34/vNrRvSk3_o.png" alt="在这里插入图片描述"></p> 
<ul><li>省略格式示例</li></ul> 
<pre><code class="prism language-sql"><span class="token keyword">insert</span> <span class="token keyword">into</span> students <span class="token keyword">values</span>
<span class="token punctuation">(</span><span class="token number">10002</span><span class="token punctuation">,</span> <span class="token string">'xiaolv'</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">,</span> <span class="token number">165</span><span class="token punctuation">,</span> <span class="token string">'女'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/d7/55/9EhATXOG_o.png" alt="在这里插入图片描述"></p> 
<ul><li>一次添加多列数据</li></ul> 
<pre><code class="prism language-sql"><span class="token keyword">insert</span> <span class="token keyword">into</span> students<span class="token punctuation">(</span>id<span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> height<span class="token punctuation">,</span> gender<span class="token punctuation">,</span> cls_id<span class="token punctuation">)</span> <span class="token keyword">values</span>
<span class="token punctuation">(</span><span class="token number">10003</span><span class="token punctuation">,</span> <span class="token string">'xiaohu'</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">175</span><span class="token punctuation">,</span> <span class="token string">'男'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">10004</span><span class="token punctuation">,</span> <span class="token string">'xiaoli'</span><span class="token punctuation">,</span> <span class="token number">24</span><span class="token punctuation">,</span> <span class="token number">160</span><span class="token punctuation">,</span> <span class="token string">'女'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">10005</span><span class="token punctuation">,</span> <span class="token string">'xiaoxi'</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">,</span> <span class="token number">167</span><span class="token punctuation">,</span> <span class="token string">'女'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/96/1d/VzqeuBif_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_217"></a>四、查询数据</h3> 
<blockquote> 
 <p>表查询操作是数据库中最重要的操作（没有之一），可以说对于数据库，每天的工作就是组合各种各样的查询语句进行不同场景的数据查询。</p> 
</blockquote> 
<h4><a id="1__221"></a>1. 基础查询</h4> 
<ul><li>查询所有列</li></ul> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> 表名<span class="token punctuation">;</span>
例：
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students<span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/ac/5b/17pnRiUr_o.png" alt="在这里插入图片描述"></p> 
<ul><li>查询指定列 
  <ul><li>查询时可以使用as为列或表指定别名。</li></ul> </li></ul> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> 列<span class="token number">1</span><span class="token punctuation">,</span>列<span class="token number">2</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">from</span> 表名<span class="token punctuation">;</span>
例：
<span class="token keyword">select</span> id<span class="token punctuation">,</span> name <span class="token keyword">from</span> students<span class="token punctuation">;</span>
例（使用别名）：
<span class="token keyword">select</span> id <span class="token keyword">as</span> id2<span class="token punctuation">,</span> name <span class="token keyword">from</span> students<span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/fc/8d/9SkL1htx_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="2__248"></a>2. 条件查询</h4> 
<p>使用where子句对表中的数据筛选，结果为true的行会出现在结果集中</p> 
<ul><li>语法如下：</li></ul> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> 表名 <span class="token keyword">where</span> 条件<span class="token punctuation">;</span>
例：
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> id<span class="token operator">=</span><span class="token number">10001</span><span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/74/a0/Hkcic0Ln_o.png" alt="在这里插入图片描述"></p> 
<ul><li>where后面支持多种运算符，进行条件的处理 
  <ul><li>比较运算符</li><li>逻辑运算符</li><li>模糊查询</li><li>范围查询</li><li>空判断</li></ul> </li></ul> 
<h5><a id="_270"></a>比较运算符</h5> 
<ul><li>等于: =</li><li>大于: &gt;</li><li>大于等于: &gt;=</li><li>小于: &lt;</li><li>小于等于: &lt;=</li><li>不等于: != 或 &lt;&gt;</li></ul> 
<ul><li>例1：查询编号大于10003的学生</li></ul> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> id <span class="token operator">&gt;</span> <span class="token number">10003</span><span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/d2/70/S8FuDwDD_o.png" alt="在这里插入图片描述"></p> 
<ul><li>例2：查询编号不大于10004的学生</li></ul> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> id <span class="token operator">&lt;=</span> <span class="token number">10004</span><span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/70/85/APLOZXF3_o.png" alt="在这里插入图片描述"></p> 
<ul><li>例3：查询姓名不是“xiaoming”的学生</li></ul> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> name <span class="token operator">!=</span> <span class="token string">'xiaoming'</span><span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/74/ff/b73GBAg7_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="_306"></a>逻辑运算符</h5> 
<ul><li>and</li><li>or</li><li>not</li></ul> 
<ul><li>例1：查询编号大于10003的女同学</li></ul> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> id <span class="token operator">&gt;</span> <span class="token number">3</span> <span class="token operator">and</span> gender<span class="token operator">=</span><span class="token string">'女'</span><span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/95/bf/ShVHptmT_o.png" alt="在这里插入图片描述"></p> 
<ul><li>例2：查询编号小于10002或年龄大于24学生</li></ul> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> id <span class="token operator">&lt;</span> <span class="token number">10002</span> <span class="token operator">or</span> age <span class="token operator">&gt;</span> <span class="token number">24</span><span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/e6/d3/hd7K20qB_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="_330"></a>模糊查询</h5> 
<ul><li>MySQL中使用<code>like</code>语句进行模糊查询，模糊查询常用的符号如下：</li><li><code>%</code>表示任意多个任意字符</li><li><code>_</code>表示一个任意字符</li></ul> 
<ul><li>查询名字以’xiaol’开头并且末尾只有一个字母的学生（xiao ming=xiaomin+g）</li></ul> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> name <span class="token operator">like</span> <span class="token string">'xiaol_'</span><span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/47/8f/BCZmWYuR_o.png" alt="在这里插入图片描述"></p> 
<ul><li>例：查询叫’hu’的学生</li></ul> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> name <span class="token operator">like</span> <span class="token string">'%hu'</span><span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/da/ce/uzuCrTWp_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="_354"></a>范围查询</h5> 
<ul><li>in表示在一个非连续的范围内进行检索，查询数据是否在给定范围内。</li></ul> 
<ul><li>例1：查询编号是10002或10004的学生：</li></ul> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> id <span class="token operator">in</span><span class="token punctuation">(</span><span class="token number">10002</span><span class="token punctuation">,</span><span class="token number">10004</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/a5/9d/numacfoi_o.png" alt="在这里插入图片描述"></p> 
<ul><li>between … and …表示在一个连续的范围内进行检索</li></ul> 
<ul><li>例2：查询编号为10002至10004的学生</li></ul> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> id <span class="token operator">between</span> <span class="token number">10002</span> <span class="token operator">and</span> <span class="token number">10004</span><span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/ea/14/UhpUi8eo_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="_378"></a>空判断</h5> 
<ul><li>注意：null与’'是不同的</li><li>判空is null</li></ul> 
<ul><li>例1：查询没有填写身高的学生</li></ul> 
<pre><code class="prism language-sql"><span class="token comment"># 插入带有空值的数据</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> students<span class="token punctuation">(</span>id<span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">)</span> <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token number">10006</span><span class="token punctuation">,</span> <span class="token string">'xiaomei'</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment"># 查询没有填写身高的学生</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> height <span class="token operator">is</span> <span class="token boolean">null</span><span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/c7/06/byKAtl3G_o.png" alt="在这里插入图片描述"></p> 
<ul><li>判非空is not null</li></ul> 
<ul><li>例2：查询填写了性别的学生</li></ul> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> gender <span class="token operator">is</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/2c/57/aTzlk7S0_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="_407"></a>条件优先级</h5> 
<ul><li>查询条件的优先级由高到低的顺序为：小括号，not，比较运算符，逻辑运算符</li><li>and比or先运算，如果同时出现并希望先算or，需要结合()使用</li></ul> 
<h4><a id="3__412"></a>3. 排序</h4> 
<blockquote> 
 <p>为了方便查看数据，可以对数据进行排序</p> 
</blockquote> 
<p><strong>语法：</strong></p> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> 表名 <span class="token keyword">order</span> <span class="token keyword">by</span> 列<span class="token number">1</span> <span class="token keyword">asc</span><span class="token operator">|</span><span class="token keyword">desc</span> <span class="token punctuation">,</span>列<span class="token number">2</span> <span class="token keyword">asc</span><span class="token operator">|</span><span class="token keyword">desc</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
</code></pre> 
<p><strong>说明</strong></p> 
<ul><li>将行数据按照列1进行排序，如果某些行列1的值相同时，则按照列2排序，以此类推</li><li>默认按照列值从小到大排列（asc）</li><li>asc从小到大排列，即升序</li><li>desc从大到小排序，即降序</li></ul> 
<p><strong>示例</strong></p> 
<ul><li>例1：查询1班女生信息，按学号降序</li></ul> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> gender<span class="token operator">=</span><span class="token string">'女'</span> <span class="token operator">and</span> cls_id<span class="token operator">=</span><span class="token number">1</span> <span class="token keyword">order</span> <span class="token keyword">by</span> id <span class="token keyword">desc</span><span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/8e/ac/iho18Tbq_o.png" alt="在这里插入图片描述"></p> 
<ul><li>例2：查询1班学生信息，按身高升序</li></ul> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> cls_id<span class="token operator">=</span><span class="token number">1</span> <span class="token keyword">order</span> <span class="token keyword">by</span> height<span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/8c/89/YYktttwf_o.png" alt="在这里插入图片描述"></p> 
<ul><li>例3：显示所有的学生信息，先按照年龄从大–&gt;小排序，当年龄相同时 按照身高从高–&gt;矮排序</li></ul> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students  <span class="token keyword">order</span> <span class="token keyword">by</span> age <span class="token keyword">desc</span><span class="token punctuation">,</span>height <span class="token keyword">desc</span><span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/84/59/GOmW5XxP_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="4__458"></a>4. 聚合查询</h4> 
<p>操作数据的时候，我们经常需要进行统计计算，SQL中提供了多种聚合函数可以让我们快速计算。</p> 
<p><strong>计数</strong></p> 
<ul><li>count(*)表示计算总行数，括号中写星与列名，结果是相同的</li></ul> 
<ul><li>例1：查询学生总数</li></ul> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> students<span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/92/32/F3cbXuV4_o.png" alt="在这里插入图片描述"></p> 
<p><strong>最大值/最小值</strong></p> 
<ul><li>max(列)表示求此列的最大值</li><li>min(列)表示求此列的最小值</li></ul> 
<ul><li>例2：查询女生的编号最大值</li></ul> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> <span class="token function">max</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> gender<span class="token operator">=</span><span class="token string">'女'</span><span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/21/5b/aT1VAk2Q_o.png" alt="在这里插入图片描述"></p> 
<p><strong>求和</strong></p> 
<ul><li>sum(列)表示求此列的和</li></ul> 
<ul><li>例3：查询男生的总年龄</li></ul> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> <span class="token function">sum</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> gender<span class="token operator">=</span><span class="token string">'男'</span><span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/6b/28/25tEDjzE_o.png" alt="在这里插入图片描述"></p> 
<p><strong>平均值</strong></p> 
<ul><li>avg(列)表示求此列的平均值</li></ul> 
<ul><li>例4：查询女生年龄的平均值</li></ul> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> <span class="token function">avg</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> gender<span class="token operator">=</span><span class="token string">'女'</span><span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/b6/19/WnjlEL1t_o.png" alt="在这里插入图片描述"></p> 
<p><strong>聚合函数组合</strong></p> 
<ul><li>聚合函数之间也可以组合进行使用，比如我们可以使用<code>count</code>和<code>sum</code>来求得平均值。</li><li>例：查询女生年龄的平均值</li></ul> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> <span class="token function">sum</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token operator">/</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">as</span> avg_age <span class="token keyword">from</span> students <span class="token keyword">where</span> gender<span class="token operator">=</span><span class="token string">'女'</span><span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/7e/a2/tIKPXhmM_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="5_527"></a>5.分组查询</h4> 
<ul><li>分组查询在实际工作中经常会用到，当我们需要统计某一字段下不同类别的统计数据时就需要用到分组查询了，比如：统计各个性别的学生数量，各个班级的男女生数量等。</li></ul> 
<h5><a id="group_by_531"></a><strong>group by</strong></h5> 
<ol><li><code>group by</code>的含义:将查询结果按照1个或多个字段进行分组，字段值相同的为一组</li><li>group by可用于单个字段分组，也可用于多个字段分组</li></ol> 
<ul><li>直接使用<code>group by</code>的方法如下</li></ul> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> gender <span class="token keyword">from</span> students <span class="token keyword">group</span> <span class="token keyword">by</span> gender<span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/6a/7b/gdiITLtQ_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>上段代码根据gender字段来分组，gender字段的全部值有3个’男’,‘女’,NULL,所以出现了三个数据，但是单独使用groupby是没有过多意义的（可以作为去重来使用），通常分组函数要配合聚合函数/concat函数一同使用。</p> 
</blockquote> 
<p><strong>group by + group_concat()</strong></p> 
<ol><li>group_concat(字段名)可以作为一个输出字段来使用，</li><li>表示分组之后，根据分组结果，使用group_concat()来放置每一组的某字段的值的集合</li></ol> 
<ul><li>查询各个性别的学生名字集合</li></ul> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> gender<span class="token punctuation">,</span>group_concat<span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token keyword">from</span> students <span class="token keyword">group</span> <span class="token keyword">by</span> gender<span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/a4/56/4Hg8Pywj_o.png" alt="在这里插入图片描述"></p> 
<p><strong>group by + 集合函数</strong></p> 
<ol><li>通过group_concat()的启发，我们既然可以统计出每个分组的某字段的值的集合，那么我们也可以通过集合函数来对这个<code>值的集合</code>做一些操作</li></ol> 
<ul><li>分别统计各个性别的平均身高</li></ul> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> gender<span class="token punctuation">,</span><span class="token function">avg</span><span class="token punctuation">(</span>height<span class="token punctuation">)</span> <span class="token keyword">from</span> students <span class="token keyword">group</span> <span class="token keyword">by</span> gender<span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/ac/b1/qiXff3oG_o.png" alt="在这里插入图片描述"></p> 
<p><strong>group by + having</strong></p> 
<ol><li>having 条件表达式：用来分组查询后指定一些条件来输出查询结果</li><li>having作用和where一样，但having只能用于group by</li></ol> 
<ul><li>查找班级人数超过2的班级</li></ul> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> cls_id<span class="token punctuation">,</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> students <span class="token keyword">group</span> <span class="token keyword">by</span> cls_id <span class="token keyword">having</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">2</span><span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/9d/39/bXxxjiQD_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="6_586"></a>6.分页查询</h4> 
<blockquote> 
 <p>当数据量过大时，在一页中查看数据是一件非常麻烦的事情，我们可以使用limit进行限制进行分页查询。</p> 
</blockquote> 
<p><strong>语法</strong></p> 
<ul><li>start表示查询开始位置（第几行开始），end表示查询结束位置（第几行结束），可以省略填写start默认从0开始到end结束。</li></ul> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> 表名 <span class="token keyword">limit</span> <span class="token keyword">start</span><span class="token punctuation">,</span><span class="token keyword">end</span>
</code></pre> 
<ul><li>例1：查询前2行的女生信息</li></ul> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> gender<span class="token operator">=</span><span class="token string">'女'</span> <span class="token keyword">limit</span> <span class="token number">2</span><span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/8a/50/Joj5yShf_o.png" alt="在这里插入图片描述"></p> 
<ul><li>例2：查询前2行的女生信息（2）</li></ul> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> gender<span class="token operator">=</span><span class="token string">'女'</span> <span class="token keyword">limit</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/a0/c7/OVhLnHPk_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="7_616"></a>7.连接查询</h4> 
<blockquote> 
 <p>在很多工作中我们需要面对成百上千个不同的数据表，当进行查询的时候，我们需要的结果也会来自于不同的表，这种情况下查询时我们需要将多张表连接成一个大的数据集，再选择合适的列返回</p> 
</blockquote> 
<p>mysql支持三种类型的连接查询，分别为：</p> 
<ul><li> <p>内连接查询</p> <p>查询的结果为<code>匹配字段相同时</code>两个表匹配到的数据</p> </li></ul> 
<p><img src="https://images2.imgbox.com/ab/40/gOH3AgHn_o.png" alt="在这里插入图片描述"></p> 
<ul><li> <p>左连接查询</p> <p>查询的结果为<code>右表匹配字段中的值在左表的匹配字段中存在时</code>匹配到的数据，左表特有的数据，对于左表中无法被右表匹配的数据使用null填充</p> </li></ul> 
<p><img src="https://images2.imgbox.com/9d/77/RUKda0pg_o.png" alt="在这里插入图片描述"></p> 
<ul><li> <p>右连接查询</p> <p>查询的结果为<code>左表匹配字段中的值在右表的匹配字段中存在时</code>匹配到的数据，右表特有的数据，对于右表中无法被左表匹配的数据使用null填充</p> </li></ul> 
<p><img src="https://images2.imgbox.com/d9/dd/OWxC4JxJ_o.png" alt="在这里插入图片描述"></p> 
<ul><li>创建示例数据表</li></ul> 
<pre><code class="prism language-sql"><span class="token comment">-- 分数表</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> scores <span class="token punctuation">(</span>
  id <span class="token keyword">int</span><span class="token punctuation">,</span>
	subject <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	score <span class="token keyword">int</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 学生表</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> students2 <span class="token punctuation">(</span>
  id <span class="token keyword">int</span><span class="token punctuation">,</span>
	name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<ul><li>添加数据</li></ul> 
<pre><code class="prism language-sql"><span class="token keyword">insert</span> <span class="token keyword">into</span> students2 <span class="token keyword">values</span>
<span class="token punctuation">(</span><span class="token number">10001</span><span class="token punctuation">,</span> <span class="token string">'张三'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">10002</span><span class="token punctuation">,</span> <span class="token string">'李四'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">10003</span><span class="token punctuation">,</span> <span class="token string">'王五'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">10004</span><span class="token punctuation">,</span> <span class="token string">'赵六'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token keyword">insert</span> <span class="token keyword">into</span> scores <span class="token keyword">values</span>
<span class="token punctuation">(</span><span class="token number">10001</span><span class="token punctuation">,</span> <span class="token string">'数学'</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">10001</span><span class="token punctuation">,</span> <span class="token string">'语文'</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">10003</span><span class="token punctuation">,</span> <span class="token string">'数学'</span><span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">10004</span><span class="token punctuation">,</span> <span class="token string">'数学'</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">10005</span><span class="token punctuation">,</span> <span class="token string">'语文'</span><span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p><strong>语法</strong></p> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> 表<span class="token number">1</span> <span class="token keyword">inner</span><span class="token operator">/</span><span class="token keyword">left</span><span class="token operator">/</span><span class="token keyword">right</span> <span class="token keyword">join</span> 表<span class="token number">2</span> <span class="token keyword">on</span> 表<span class="token number">1.</span>列 <span class="token operator">=</span> 表<span class="token number">2.</span>列
</code></pre> 
<ul><li>例1：使用内连接查询</li></ul> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> students2<span class="token punctuation">.</span>id<span class="token punctuation">,</span> name<span class="token punctuation">,</span> subject<span class="token punctuation">,</span> score 
<span class="token keyword">from</span>
students2
<span class="token keyword">inner</span> <span class="token keyword">join</span>
scores
<span class="token keyword">on</span> students2<span class="token punctuation">.</span>id <span class="token operator">=</span> scores<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/28/38/C6PPb6B7_o.png" alt="在这里插入图片描述"></p> 
<ul><li>例2：使用左连接查询</li></ul> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> students2<span class="token punctuation">.</span>id<span class="token punctuation">,</span> name<span class="token punctuation">,</span> subject<span class="token punctuation">,</span> score 
<span class="token keyword">from</span>
students2
<span class="token keyword">left</span> <span class="token keyword">join</span>
scores
<span class="token keyword">on</span> students2<span class="token punctuation">.</span>id <span class="token operator">=</span> scores<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/5f/dc/GF1dwIbG_o.png" alt="在这里插入图片描述"></p> 
<ul><li>例3：使用右连接查询</li></ul> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> scores<span class="token punctuation">.</span>id<span class="token punctuation">,</span> name<span class="token punctuation">,</span> subject<span class="token punctuation">,</span> score 
<span class="token keyword">from</span>
students2
<span class="token keyword">right</span> <span class="token keyword">join</span>
scores
<span class="token keyword">on</span> students2<span class="token punctuation">.</span>id <span class="token operator">=</span> scores<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/a0/60/QqoRRD4C_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="8__726"></a>8. 子查询</h4> 
<p><strong>子查询概念</strong></p> 
<blockquote> 
 <p>我们在进行select查询的时候，查询的结果本质上也是一张数据表，我们可以使用自查询的方式继续对该表进行查询。</p> 
</blockquote> 
<blockquote> 
 <p>在一个 select 语句中，嵌入了另外一个 select 语句，那么被嵌入的 select 语句称之为子查询语句。</p> 
</blockquote> 
<p><strong>主查询</strong></p> 
<blockquote> 
 <p>主要查询的对象,第一条 select 语句</p> 
</blockquote> 
<p><strong>主查询和子查询的关系</strong></p> 
<ul><li>子查询是嵌入到主查询中</li><li>子查询是辅助主查询的，要么充当条件，要么充当数据源</li><li>子查询是可以独立存在的语句，是一条完整的 select 语句</li></ul> 
<ul><li>例1：标量子查询</li></ul> 
<ol><li>查询班级学生所有科目平均分</li><li>查询大于等于平均分的记录</li></ol> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> scores <span class="token keyword">where</span> score <span class="token operator">&gt;=</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token function">avg</span><span class="token punctuation">(</span>score<span class="token punctuation">)</span> <span class="token keyword">from</span> scores<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/c6/a2/44V8SmcO_o.png" alt="在这里插入图片描述"></p> 
<ul><li>例2：列级子查询</li></ul> 
<ol><li> <p>具有考试成绩的学生id</p> </li><li> <p>找出学生表中对应的名字</p> </li></ol> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> name <span class="token keyword">from</span> students2 <span class="token keyword">where</span> id <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token keyword">select</span> id <span class="token keyword">from</span> scores<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/e8/5f/HOIrwcmN_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>in () 括号内的内容表示查询范围，数据在括号中存在则满足。</p> 
</blockquote> 
<ul><li>例3：表级别子查询</li></ul> 
<ol><li>查询成绩表里具有数学成绩的学生</li><li>找出符合条件的学生姓名</li></ol> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students2
<span class="token keyword">inner</span> <span class="token keyword">join</span>
<span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> scores 
<span class="token keyword">where</span> subject<span class="token operator">=</span><span class="token string">'数学'</span><span class="token punctuation">)</span> a
<span class="token keyword">on</span> students2<span class="token punctuation">.</span>id <span class="token operator">=</span> a<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/4f/83/dZGf3zQS_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>上述代码中，我们对一个查询到的结果表进行了join。在使用该方法操作时，我们使用<code>()</code>将自查询扩起来，并在末尾对查询结果临时命名为<code>a</code>，当命名为a后，我们可以认为有数据表a可以供我们使用，a中的内容就是我们查询到的结果，接下来按照常规数据表连接查询方式进行操作即可。</p> 
</blockquote>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/8ba7d4ffea42ef0ca49f94efd10735c9/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">前端（二十二）——前端工程化</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f27a37361edcc03db7864ab438595ae9/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">nodejs处理图片的几种方法,使用sharp，jimp，webconvert</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>