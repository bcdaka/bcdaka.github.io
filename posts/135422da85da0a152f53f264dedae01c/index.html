<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>微信小程序介绍、账号申请、开发者工具目录结构详解及小程序配置 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/135422da85da0a152f53f264dedae01c/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="微信小程序介绍、账号申请、开发者工具目录结构详解及小程序配置">
  <meta property="og:description" content="目录
一、微信小程序介绍
1.什么是小程序？
2.小程序可以干什么？
3.微信小程序特点
二、账号申请 1.账号注册
2.测试号申请
三、安装开发工具
四、开发小程序
五、目录结构
JSON 配置
小程序配置 app.json
工具配置 project.config.json
页面配置 page.json
JSON 语法
WXML
WXSS 样式
JS 逻辑交互
util公共函数定义及读取
六、小程序配置
全局配置
页面配置
sitemap 配置
调试
一、微信小程序介绍 微信小程序官网：https://mp.weixin.qq.com/cgi-bin/wx
1.什么是小程序？ 2017年度百度百科十大热词之一
微信小程序，简称小程序，英文名Mini Program，是一种不需要下载安装即可使用的应用( 张小龙对其的定义是无需安装，用完即走，实际上是需要安装的，只不过小程序的体积特别小， 下载速度很快，用户感觉不到下载的过程 )
限制：同一个分包中的页面享有共同的预下载大小限额 2M，限额会在工具中打包时校验。
2017年1月9日0点，万众瞩目的微信第一批小程序正式低调上线。
微信小程序是一种轻量级的应用程序，可在微信内部直接使用，无需下载安装即可使用。它可以提供各种功能，包括游戏、媒体、社交、购物等，并能够与微信的社交功能紧密结合，方便用户进行分享和交流。小程序通常具有简洁的界面和快速的加载速度，用户可以在微信内直接打开并使用，无需额外安装其他应用。开发者可以使用微信小程序开发工具进行开发，采用HTML5、CSS3、JavaScript等前端技术进行构建，并且可以通过微信官方提供的开放接口和能力来实现各种功能。微信小程序在用户体验、开发成本和推广渠道等方面有很大的优势，因此越来越受到开发者和用户的欢迎。 2.小程序可以干什么？ 同App进行互补，提供同app类似的功能，比app操作更加简洁的轻应用
通过扫一扫或者在微信搜索即可下载
用户使用频率不高，但又不得不用的功能软件，目前看来小程序是首选
连接线上线下
开发门槛低， 成本低
3.微信小程序特点 微信小程序在功能和使用方式上与传统应用程序有些不同、其特点具有便捷、轻量、社交化和丰富的功能特点，为用户提供方便快捷的应用体验，同时也为开发者提供了更多的开发和推广渠道
无需下载安装：微信小程序可以直接在微信中使用，用户无需下载和安装额外的应用程序。只要搜索并打开小程序，即可使用其中的功能。
轻量级应用：微信小程序相对于传统应用程序来说，体积较小且加载速度快，用户可以快速访问并使用。
社交化体验：微信小程序与微信的社交网络紧密连接，用户可以方便地与好友分享小程序的内容、功能或者游戏成绩等。同时，小程序还可以使用微信的一些社交功能，例如发送消息、转发内容等。
丰富的功能：微信小程序支持多种功能和服务，包括但不限于在线购物、打车、外卖订购、游戏娱乐、新闻阅读、生活服务等。开发者可以根据自己的需求来开发不同类型的小程序。
快速开发与迭代：微信小程序开发相对较为简单，开发者可以使用基于前端技术的开发工具来创建和调试小程序。此外，小程序的更新和迭代也相对容易，开发者可以随时更新小程序的功能和内容。
开放接口和能力：微信提供了丰富的开放接口和能力，使开发者可以与微信生态系统进行深度整合，例如使用支付接口进行支付、使用地理位置接口获取用户位置、使用用户信息接口进行授权登录等。
二、账号申请 1.账号注册 开发小程序的第一步，你需要拥有一个小程序帐号，通过这个帐号你就可以管理你的小程序。
进入小程序注册页： https://mp.weixin.qq.com/wxopen/waregister?action=step1&amp;source=mpregister&amp;token=&amp;lang=zh_CN
根据指引填写信息和提交相应的资料，就可以拥有自己的小程序帐号。
在这个小程序管理平台，你可以管理你的小程序的权限，查看数据报表，发布小程序等操作。
登录小程序后台，我们可以在菜单 “开发”-“开发设置” 看到小程序的 AppID 了 。">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-02-15T19:58:06+08:00">
    <meta property="article:modified_time" content="2024-02-15T19:58:06+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">微信小程序介绍、账号申请、开发者工具目录结构详解及小程序配置</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="%E4%B8%80%E3%80%81%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E4%BB%8B%E7%BB%8D-toc" style="margin-left:0px;"><a href="#%E4%B8%80%E3%80%81%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E4%BB%8B%E7%BB%8D" rel="nofollow">一、微信小程序介绍</a></p> 
<p id="1.%E4%BB%80%E4%B9%88%E6%98%AF%E5%B0%8F%E7%A8%8B%E5%BA%8F%EF%BC%9F-toc" style="margin-left:40px;"><a href="#1.%E4%BB%80%E4%B9%88%E6%98%AF%E5%B0%8F%E7%A8%8B%E5%BA%8F%EF%BC%9F" rel="nofollow">1.什么是小程序？</a></p> 
<p id="2.%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%8F%AF%E4%BB%A5%E5%B9%B2%E4%BB%80%E4%B9%88%EF%BC%9F-toc" style="margin-left:40px;"><a href="#2.%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%8F%AF%E4%BB%A5%E5%B9%B2%E4%BB%80%E4%B9%88%EF%BC%9F" rel="nofollow">2.小程序可以干什么？</a></p> 
<p id="3.%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%89%B9%E7%82%B9-toc" style="margin-left:40px;"><a href="#3.%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%89%B9%E7%82%B9" rel="nofollow">3.微信小程序特点</a></p> 
<p id="%E4%BA%8C%E3%80%81%E8%B4%A6%E5%8F%B7%E7%94%B3%E8%AF%B7%C2%A0-toc" style="margin-left:0px;"><a href="#%E4%BA%8C%E3%80%81%E8%B4%A6%E5%8F%B7%E7%94%B3%E8%AF%B7%C2%A0" rel="nofollow">二、账号申请 </a></p> 
<p id="1.%E8%B4%A6%E5%8F%B7%E6%B3%A8%E5%86%8C-toc" style="margin-left:40px;"><a href="#1.%E8%B4%A6%E5%8F%B7%E6%B3%A8%E5%86%8C" rel="nofollow">1.账号注册</a></p> 
<p id="2.%E6%B5%8B%E8%AF%95%E5%8F%B7%E7%94%B3%E8%AF%B7-toc" style="margin-left:40px;"><a href="#2.%E6%B5%8B%E8%AF%95%E5%8F%B7%E7%94%B3%E8%AF%B7" rel="nofollow">2.测试号申请</a></p> 
<p id="%E4%B8%89%E3%80%81%E5%AE%89%E8%A3%85%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7-toc" style="margin-left:0px;"><a href="#%E4%B8%89%E3%80%81%E5%AE%89%E8%A3%85%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7" rel="nofollow">三、安装开发工具</a></p> 
<p id="%E5%9B%9B%E3%80%81%E5%BC%80%E5%8F%91%E5%B0%8F%E7%A8%8B%E5%BA%8F-toc" style="margin-left:0px;"><a href="#%E5%9B%9B%E3%80%81%E5%BC%80%E5%8F%91%E5%B0%8F%E7%A8%8B%E5%BA%8F" rel="nofollow">四、开发小程序</a></p> 
<p id="%E4%BA%94%E3%80%81%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84-toc" style="margin-left:0px;"><a href="#%E4%BA%94%E3%80%81%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84" rel="nofollow">五、目录结构</a></p> 
<p id="JSON%20%E9%85%8D%E7%BD%AE-toc" style="margin-left:40px;"><a href="#JSON%20%E9%85%8D%E7%BD%AE" rel="nofollow">JSON 配置</a></p> 
<p id="%E5%B0%8F%E7%A8%8B%E5%BA%8F%E9%85%8D%E7%BD%AE%20app.json-toc" style="margin-left:80px;"><a href="#%E5%B0%8F%E7%A8%8B%E5%BA%8F%E9%85%8D%E7%BD%AE%20app.json" rel="nofollow">小程序配置 app.json</a></p> 
<p id="%E5%B7%A5%E5%85%B7%E9%85%8D%E7%BD%AE%20project.config.json-toc" style="margin-left:80px;"><a href="#%E5%B7%A5%E5%85%B7%E9%85%8D%E7%BD%AE%20project.config.json" rel="nofollow">工具配置 project.config.json</a></p> 
<p id="%E9%A1%B5%E9%9D%A2%E9%85%8D%E7%BD%AE%20page.json-toc" style="margin-left:80px;"><a href="#%E9%A1%B5%E9%9D%A2%E9%85%8D%E7%BD%AE%20page.json" rel="nofollow">页面配置 page.json</a></p> 
<p id="JSON%20%E8%AF%AD%E6%B3%95-toc" style="margin-left:80px;"><a href="#JSON%20%E8%AF%AD%E6%B3%95" rel="nofollow">JSON 语法</a></p> 
<p id="WXML-toc" style="margin-left:40px;"><a href="#WXML" rel="nofollow">WXML</a></p> 
<p id="WXSS%20%E6%A0%B7%E5%BC%8F-toc" style="margin-left:40px;"><a href="#WXSS%20%E6%A0%B7%E5%BC%8F" rel="nofollow">WXSS 样式</a></p> 
<p id="JS%20%E9%80%BB%E8%BE%91%E4%BA%A4%E4%BA%92-toc" style="margin-left:40px;"><a href="#JS%20%E9%80%BB%E8%BE%91%E4%BA%A4%E4%BA%92" rel="nofollow">JS 逻辑交互</a></p> 
<p id="util%E5%85%AC%E5%85%B1%E5%87%BD%E6%95%B0%E5%AE%9A%E4%B9%89%E5%8F%8A%E8%AF%BB%E5%8F%96-toc" style="margin-left:40px;"><a href="#util%E5%85%AC%E5%85%B1%E5%87%BD%E6%95%B0%E5%AE%9A%E4%B9%89%E5%8F%8A%E8%AF%BB%E5%8F%96" rel="nofollow">util公共函数定义及读取</a></p> 
<p id="%E5%85%AD%E3%80%81%E5%B0%8F%E7%A8%8B%E5%BA%8F%E9%85%8D%E7%BD%AE-toc" style="margin-left:0px;"><a href="#%E5%85%AD%E3%80%81%E5%B0%8F%E7%A8%8B%E5%BA%8F%E9%85%8D%E7%BD%AE" rel="nofollow">六、小程序配置</a></p> 
<p id="%E5%85%A8%E5%B1%80%E9%85%8D%E7%BD%AE-toc" style="margin-left:40px;"><a href="#%E5%85%A8%E5%B1%80%E9%85%8D%E7%BD%AE" rel="nofollow">全局配置</a></p> 
<p id="%E9%A1%B5%E9%9D%A2%E9%85%8D%E7%BD%AE-toc" style="margin-left:40px;"><a href="#%E9%A1%B5%E9%9D%A2%E9%85%8D%E7%BD%AE" rel="nofollow">页面配置</a></p> 
<p id="sitemap%20%E9%85%8D%E7%BD%AE-toc" style="margin-left:40px;"><a href="#sitemap%20%E9%85%8D%E7%BD%AE" rel="nofollow">sitemap 配置</a></p> 
<p id="%E8%B0%83%E8%AF%95-toc" style="margin-left:40px;"><a href="#%E8%B0%83%E8%AF%95" rel="nofollow">调试</a></p> 
<hr id="hr-toc"> 
<p></p> 
<h2>一、微信小程序介绍</h2> 
<p>微信小程序官网：<strong><a href="https://mp.weixin.qq.com/cgi-bin/wx" rel="nofollow" title="https://mp.weixin.qq.com/cgi-bin/wx">https://mp.weixin.qq.com/cgi-bin/wx</a></strong></p> 
<h3 id="1.%E4%BB%80%E4%B9%88%E6%98%AF%E5%B0%8F%E7%A8%8B%E5%BA%8F%EF%BC%9F">1.什么是小程序？</h3> 
<ol><li> <p>2017年度百度百科十大热词之一</p> </li><li> <p>微信小程序，简称小程序，英文名Mini Program，是一种不需要下载安装即可使用的应用( 张小龙对其的定义是无需安装，用完即走，实际上是需要安装的，只不过小程序的体积特别小， 下载速度很快，用户感觉不到下载的过程 )</p> </li><li> <p>限制：同一个分包中的页面享有共同的预下载大小限额 2M，限额会在工具中打包时校验。</p> </li><li> <p>2017年1月9日0点，万众瞩目的微信第一批小程序正式低调上线。</p> </li></ol> 
<blockquote> 
 <p>微信小程序是一种轻量级的应用程序，可在微信内部直接使用，无需下载安装即可使用。它可以提供各种功能，包括游戏、媒体、社交、购物等，并能够与微信的社交功能紧密结合，方便用户进行分享和交流。小程序通常具有简洁的界面和快速的加载速度，用户可以在微信内直接打开并使用，无需额外安装其他应用。开发者可以使用微信小程序开发工具进行开发，采用HTML5、CSS3、JavaScript等前端技术进行构建，并且可以通过微信官方提供的开放接口和能力来实现各种功能。微信小程序在用户体验、开发成本和推广渠道等方面有很大的优势，因此越来越受到开发者和用户的欢迎。 </p> 
</blockquote> 
<h3 id="2.%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%8F%AF%E4%BB%A5%E5%B9%B2%E4%BB%80%E4%B9%88%EF%BC%9F">2.小程序可以干什么？</h3> 
<ol><li> <p>同App进行互补，提供同app类似的功能，比app操作更加简洁的轻应用</p> </li><li> <p>通过扫一扫或者在微信搜索即可下载</p> </li><li> <p>用户使用频率不高，但又不得不用的功能软件，目前看来小程序是首选</p> </li><li> <p>连接线上线下</p> </li><li> <p>开发门槛低， 成本低</p> </li></ol> 
<h3 id="3.%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%89%B9%E7%82%B9">3.微信小程序特点</h3> 
<p>微信小程序在功能和使用方式上与传统应用程序有些不同、其特点具有便捷、轻量、社交化和丰富的功能特点，为用户提供方便快捷的应用体验，同时也为开发者提供了更多的开发和推广渠道</p> 
<ul><li> <p>无需下载安装：微信小程序可以直接在微信中使用，用户无需下载和安装额外的应用程序。只要搜索并打开小程序，即可使用其中的功能。</p> </li><li> <p>轻量级应用：微信小程序相对于传统应用程序来说，体积较小且加载速度快，用户可以快速访问并使用。</p> </li><li> <p>社交化体验：微信小程序与微信的社交网络紧密连接，用户可以方便地与好友分享小程序的内容、功能或者游戏成绩等。同时，小程序还可以使用微信的一些社交功能，例如发送消息、转发内容等。</p> </li><li> <p>丰富的功能：微信小程序支持多种功能和服务，包括但不限于在线购物、打车、外卖订购、游戏娱乐、新闻阅读、生活服务等。开发者可以根据自己的需求来开发不同类型的小程序。</p> </li><li> <p>快速开发与迭代：微信小程序开发相对较为简单，开发者可以使用基于前端技术的开发工具来创建和调试小程序。此外，小程序的更新和迭代也相对容易，开发者可以随时更新小程序的功能和内容。</p> </li><li> <p>开放接口和能力：微信提供了丰富的开放接口和能力，使开发者可以与微信生态系统进行深度整合，例如使用支付接口进行支付、使用地理位置接口获取用户位置、使用用户信息接口进行授权登录等。</p> </li></ul> 
<h2 id="%E4%BA%8C%E3%80%81%E8%B4%A6%E5%8F%B7%E7%94%B3%E8%AF%B7%C2%A0">二、账号申请 </h2> 
<h3 id="1.%E8%B4%A6%E5%8F%B7%E6%B3%A8%E5%86%8C">1.账号注册</h3> 
<p>开发小程序的第一步，你需要拥有一个小程序帐号，通过这个帐号你就可以管理你的小程序。</p> 
<p>进入小程序注册页： <a href="https://mp.weixin.qq.com/wxopen/waregister?action=step1&amp;source=mpregister&amp;token=&amp;lang=zh_CN" rel="nofollow" title="https://mp.weixin.qq.com/wxopen/waregister?action=step1&amp;source=mpregister&amp;token=&amp;lang=zh_CN">https://mp.weixin.qq.com/wxopen/waregister?action=step1&amp;source=mpregister&amp;token=&amp;lang=zh_CN</a></p> 
<p>根据指引填写信息和提交相应的资料，就可以拥有自己的小程序帐号。</p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/00/b2/udYPHC7H_o.png" width="1200"></p> 
<p>在这个小程序管理平台，你可以管理你的小程序的权限，查看数据报表，发布小程序等操作。</p> 
<p>登录小程序后台，我们可以在菜单 “开发”-“开发设置” 看到小程序的 <strong>AppID</strong> 了 。</p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/b0/8f/v7TDEhjk_o.png" width="1200"></p> 
<p>小程序的 AppID 相当于小程序平台的一个身份证，后续你会在很多地方要用到 AppID （注意这里要区别于服务号或订阅号的 AppID）。</p> 
<p>有了小程序帐号之后，我们需要一个工具来开发小程序。</p> 
<h3 id="2.%E6%B5%8B%E8%AF%95%E5%8F%B7%E7%94%B3%E8%AF%B7">2.测试号申请</h3> 
<p>测试号申请地址：<a href="https://developers.weixin.qq.com/miniprogram/dev/devtools/sandbox.html" rel="nofollow" title="https://developers.weixin.qq.com/miniprogram/dev/devtools/sandbox.html">https://developers.weixin.qq.com/miniprogram/dev/devtools/sandbox.html</a></p> 
<p>为方便开发者开发和体验小程序、小游戏的各种能力，开发者可以申请小程序或小游戏的测试号，并使用此账号在开发者工具创建项目进行开发测试，以及真机预览体验。</p> 
<p>申请测试号的过程非常简单。只需访问申请地址，并使用微信扫描二维码，即可获得为自己分配好的小程序和小游戏测试账号</p> 
<h2 id="%E4%B8%89%E3%80%81%E5%AE%89%E8%A3%85%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7" style="background-color:transparent;">三、安装开发工具</h2> 
<p>开发者工具地址：<a href="https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html" rel="nofollow" title="https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html">https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html</a></p> 
<p>前往开发者工具下载页面，根据自己的操作系统下载对应的安装包进行安装，有关开发者工具更详细的介绍可以查看<strong>开发者工具介绍:</strong><a href="https://developers.weixin.qq.com/miniprogram/dev/devtools/devtools.html" rel="nofollow" title="概览 | 微信开放文档">概览 | 微信开放文档</a></p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/e5/d2/OqUqGE8O_o.png" width="1200"></p> 
<h2 id="%E5%9B%9B%E3%80%81%E5%BC%80%E5%8F%91%E5%B0%8F%E7%A8%8B%E5%BA%8F">四、开发小程序</h2> 
<p>打开小程序开发者工具，用微信扫码登录开发者工具  </p> 
<p>新建项目选择小程序项目，选择代码存放的硬盘路径，填入刚刚申请到的小程序的 AppID，给你的项目起一个好听的名字，勾选 "不使用云服务" （注意: 你要选择一个空的目录才可以创建项目），点击新建，你就得到了你的第一个小程序了，点击顶部菜单编译就可以在微信开发者工具中预览你的第一个小程序。</p> 
<p>点击工具上的编译按钮，可以在工具的左侧模拟器界面看到这个小程序的表现，也可以点击预览按钮，通过微信扫一扫在手机上体验你的第一个小程序</p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/1c/95/yzTIbQLc_o.png" width="1200"></p> 
<h2 id="%E4%BA%94%E3%80%81%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84" style="background-color:transparent;">五、目录结构</h2> 
<p> 小程序包含一个描述整体程序的 <code>app</code> 和多个描述各自页面的 <code>page</code>。</p> 
<p>一个小程序主体部分由三个文件组成，必须放在项目的根目录，如下：</p> 
<table><thead><tr><th>文件</th><th>必需</th><th>作用</th></tr></thead><tbody><tr><td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/app.html" rel="nofollow" title="app.js">app.js</a></td><td>是</td><td>小程序逻辑</td></tr><tr><td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/config.html" rel="nofollow" title="app.json">app.json</a></td><td>是</td><td>小程序公共配置</td></tr><tr><td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxss.html" rel="nofollow" title="app.wxss">app.wxss</a></td><td>否</td><td>小程序公共样式表</td></tr></tbody></table> 
<p>一个小程序页面由四个文件组成，分别是：</p> 
<table><thead><tr><th>文件类型</th><th>必需</th><th>作用</th></tr></thead><tbody><tr><td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/page.html" rel="nofollow" title="js">js</a></td><td>是</td><td>页面逻辑</td></tr><tr><td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/" rel="nofollow" title="wxml">wxml</a></td><td>是</td><td>页面结构</td></tr><tr><td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/config.html#%E9%A1%B5%E9%9D%A2%E9%85%8D%E7%BD%AE" rel="nofollow" title="json">json</a></td><td>否</td><td>页面配置</td></tr><tr><td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxss.html" rel="nofollow" title="wxss">wxss</a></td><td>否</td><td>页面样式表</td></tr></tbody></table> 
<p><strong>注意：为了方便开发者减少配置项，描述页面的四个文件必须具有相同的路径与文件名。</strong></p> 
<p>小程序项目里边生成了不同类型的文件:</p> 
<ol><li> <p><code>.json</code> 后缀的 <code>JSON</code> 配置文件</p> </li><li> <p><code>.wxml</code> 后缀的 <code>WXML</code> 模板文件</p> </li><li> <p><code>.wxss</code> 后缀的 <code>WXSS</code> 样式文件</p> </li><li> <p><code>.js</code> 后缀的 <code>JS</code> 脚本逻辑文件</p> </li></ol> 
<p>接下来我们分别看看这4种文件的作用</p> 
<h3 id="JSON%20%E9%85%8D%E7%BD%AE">JSON 配置</h3> 
<p>JSON 是一种数据格式，并不是编程语言，在小程序中，JSON扮演的静态配置的角色。</p> 
<p>我们可以看到在项目的根目录有一个 <code>app.json</code> 和 <code>project.config.json</code>，此外在 <code>pages/logs</code> 目录下还有一个 <code>logs.json</code>，我们依次来说明一下它们的用途。</p> 
<h4 id="%E5%B0%8F%E7%A8%8B%E5%BA%8F%E9%85%8D%E7%BD%AE%20app.json" style="background-color:transparent;">小程序配置 app.json</h4> 
<p><code>app.json</code> 是当前小程序的全局配置，包括了小程序的所有页面路径、界面表现、网络超时时间、底部 tab 等。QuickStart 项目里边的 <code>app.json</code> 配置内容如下：</p> 
<pre><code class="hljs">{
  "pages":[
    "pages/index/index",
    "pages/logs/logs"
  ],
  "window":{
    "backgroundTextStyle":"light",
    "navigationBarBackgroundColor": "#fff",
    "navigationBarTitleText": "Weixin",
    "navigationBarTextStyle":"black"
  }
}</code></pre> 
<p>我们简单说一下这个配置各个项的含义:</p> 
<ol><li> <p><code>pages</code>字段 —— 用于描述当前小程序所有页面路径，这是为了让微信客户端知道当前你的小程序页面定义在哪个目录。</p> </li><li> <p><code>window</code>字段 —— 定义小程序所有页面的顶部背景颜色，文字颜色定义等。</p> </li></ol> 
<p>其他配置项细节可以参考文档：<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/config.html" rel="nofollow" title="https://developers.weixin.qq.com/miniprogram/dev/framework/config.html">https://developers.weixin.qq.com/miniprogram/dev/framework/config.html</a></p> 
<h4 id="%E5%B7%A5%E5%85%B7%E9%85%8D%E7%BD%AE%20project.config.json" style="background-color:transparent;">工具配置 project.config.json</h4> 
<p>通常大家在使用一个工具的时候，都会针对各自喜好做一些个性化配置，例如界面颜色、编译配置等等，当你换了另外一台电脑重新安装工具的时候，你还要重新配置。</p> 
<p>考虑到这点，小程序开发者工具在每个项目的根目录都会生成一个 <code>project.config.json</code>，你在工具上做的任何配置都会写入到这个文件，当你重新安装工具或者换电脑工作时，你只要载入同一个项目的代码包，开发者工具就自动会帮你恢复到当时你开发项目时的个性化配置，其中会包括编辑器的颜色、代码上传时自动压缩等等一系列选项。</p> 
<p>其他配置项细节可以参考文档：<a href="https://developers.weixin.qq.com/miniprogram/dev/devtools/projectconfig.html" rel="nofollow" title="https://developers.weixin.qq.com/miniprogram/dev/devtools/projectconfig.html">https://developers.weixin.qq.com/miniprogram/dev/devtools/projectconfig.html</a></p> 
<h4 id="%E9%A1%B5%E9%9D%A2%E9%85%8D%E7%BD%AE%20page.json" style="background-color:transparent;">页面配置 page.json</h4> 
<p>这里的 <code>page.json</code> 其实用来表示 pages/logs 目录下的 <code>logs.json</code> 这类和小程序页面相关的配置。</p> 
<p>如果你整个小程序的风格是蓝色调，那么你可以在 <code>app.json</code> 里边声明顶部颜色是蓝色即可。实际情况可能不是这样，可能你小程序里边的每个页面都有不一样的色调来区分不同功能模块，因此我们提供了 <code>page.json</code>，让开发者可以独立定义每个页面的一些属性，例如刚刚说的顶部颜色、是否允许下拉刷新等等。</p> 
<p>其他配置项细节可以参考文档：<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/config.html#%E9%A1%B5%E9%9D%A2%E9%85%8D%E7%BD%AE" rel="nofollow" title="https://developers.weixin.qq.com/miniprogram/dev/framework/config.html#%E9%A1%B5%E9%9D%A2%E9%85%8D%E7%BD%AE">https://developers.weixin.qq.com/miniprogram/dev/framework/config.html#%E9%A1%B5%E9%9D%A2%E9%85%8D%E7%BD%AE</a></p> 
<h4 id="JSON%20%E8%AF%AD%E6%B3%95" style="background-color:transparent;">JSON 语法</h4> 
<p>这里说一下小程序里JSON配置的一些注意事项。</p> 
<p>JSON文件都是被包裹在一个大括号中 {}，通过key-value的方式来表达数据。JSON的Key必须包裹在一个双引号中，在实践中，编写 JSON 的时候，忘了给 Key 值加双引号或者是把双引号写成单引号是常见错误。</p> 
<p>JSON的值只能是以下几种数据格式，其他任何格式都会触发报错，例如 JavaScript 中的 undefined。</p> 
<ol><li> <p>数字，包含浮点数和整数</p> </li><li> <p>字符串，需要包裹在双引号中</p> </li><li> <p>Bool值，true 或者 false</p> </li><li> <p>数组，需要包裹在方括号中 []</p> </li><li> <p>对象，需要包裹在大括号中 {}</p> </li><li> <p>Null</p> </li></ol> 
<p>还需要注意的是 JSON 文件中无法使用注释，试图添加注释将会引发报错。</p> 
<h3 id="WXML" style="background-color:transparent;">WXML</h3> 
<p>从事过网页编程的人知道，网页编程采用的是 HTML + CSS + JS 这样的组合，其中 <code>HTML</code> 是用来描述当前这个页面的结构，<code>CSS</code> 用来描述页面的样子，<code>JS</code> 通常是用来处理这个页面和用户的交互。</p> 
<p>同样道理，在小程序中也有同样的角色，其中 <code>WXML</code> 充当的就是类似 <code>HTML</code> 的角色。打开 <code>pages/index/index.wxml</code>，你会看到以下的内容:</p> 
<pre><code class="hljs">&lt;view class="container"&gt;
  &lt;view class="userinfo"&gt;
    &lt;button wx:if="{<!-- -->{!hasUserInfo &amp;&amp; canIUse}}"&gt; 获取头像昵称 &lt;/button&gt;
    &lt;block wx:else&gt;
      &lt;image src="{<!-- -->{userInfo.avatarUrl}}" background-size="cover"&gt;&lt;/image&gt;
      &lt;text class="userinfo-nickname"&gt;{<!-- -->{userInfo.nickName}}&lt;/text&gt;
    &lt;/block&gt;
  &lt;/view&gt;
  &lt;view class="usermotto"&gt;
    &lt;text class="user-motto"&gt;{<!-- -->{motto}}&lt;/text&gt;
  &lt;/view&gt;
&lt;/view&gt;</code></pre> 
<p>和 <code>HTML</code> 非常相似，<code>WXML</code> 由标签、属性等等构成。但是也有很多不一样的地方，我们来一一阐述一下：</p> 
<ol><li> <p>标签名字有点不一样</p> <p>往往写 HTML 的时候，经常会用到的标签是 <code>div</code>, <code>p</code>, <code>span</code>，开发者在写一个页面的时候可以根据这些基础的标签组合出不一样的组件，例如日历、弹窗等等。换个思路，既然大家都需要这些组件，为什么我们不能把这些常用的组件包装起来，大大提高我们的开发效率。</p> <p>从上边的例子可以看到，小程序的 <code>WXML</code> 用的标签是 <code>view</code>, <code>button</code>, <code>text</code> 等等，这些标签就是小程序给开发者包装好的基本能力，我们还提供了地图、视频、音频等等组件能力。</p> <p>更多详细的组件讲述参考下个章节：<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/quickstart/framework.html" rel="nofollow" title="https://developers.weixin.qq.com/miniprogram/dev/framework/quickstart/framework.html">https://developers.weixin.qq.com/miniprogram/dev/framework/quickstart/framework.html</a></p> </li><li> <p>多了一些 <code>wx:if</code> 这样的属性以及 {<!-- -->{ }} 这样的表达式</p> <p>在网页的一般开发流程中，我们通常会通过 <code>JS</code> 操作 <code>DOM</code> (对应 <code>HTML</code> 的描述产生的树)，以引起界面的一些变化响应用户的行为。例如，用户点击某个按钮的时候，<code>JS</code> 会记录一些状态到 <code>JS</code> 变量里边，同时通过 <code>DOM</code> API 操控 <code>DOM</code> 的属性或者行为，进而引起界面一些变化。当项目越来越大的时候，你的代码会充斥着非常多的界面交互逻辑和程序的各种状态变量，显然这不是一个很好的开发模式，因此就有了 MVVM 的开发模式（例如 React, Vue），提倡把渲染和逻辑分离。简单来说就是不要再让 <code>JS</code> 直接操控 <code>DOM</code>，<code>JS</code> 只需要管理状态即可，然后再通过一种模板语法来描述状态和界面结构的关系即可。</p> <p>小程序的框架也是用到了这个思路，如果你需要把一个 <code>Hello World</code> 的字符串显示在界面上。</p> <p>WXML 是这么写 :</p> <pre><code class="hljs">&lt;text&gt;{<!-- -->{msg}}&lt;/text&gt;</code></pre> <p>JS 只需要管理状态即可:</p> <pre><code class="hljs">this.setData({ msg: "Hello World" })</code></pre> </li><li> <p>通过 {<!-- -->{ }} 的语法把一个变量绑定到界面上，我们称为数据绑定。仅仅通过数据绑定还不够完整的描述状态和界面的关系，还需要 <code>if</code>/<code>else</code>, <code>for</code>等控制能力，在小程序里边，这些控制能力都用 <code>wx:</code> 开头的属性来表达。</p> </li><li> <p>更详细的文档可以参考：<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/" rel="nofollow" title="https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/">https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/</a></p> <p></p> </li></ol> 
<h3 id="WXSS%20%E6%A0%B7%E5%BC%8F">WXSS 样式</h3> 
<p><code>WXSS</code> 具有 <code>CSS</code> 大部分的特性，小程序在 <code>WXSS</code> 也做了一些扩充和修改。</p> 
<ol><li> <p>新增了尺寸单位。在写 <code>CSS</code> 样式时，开发者需要考虑到手机设备的屏幕会有不同的宽度和设备像素比，采用一些技巧来换算一些像素单位。<code>WXSS</code> 在底层支持<strong>新的尺寸单位 <code>rpx</code></strong> ，开发者可以免去换算的烦恼，只要交给小程序底层来换算即可，由于换算采用的浮点数运算，所以运算结果会和预期结果有一点点偏差。</p> </li><li> <p>提供了全局的样式和局部样式。和前边 <code>app.json</code>, <code>page.json</code> 的概念相同，你可以写一个 <code>app.wxss</code> 作为全局样式，会作用于当前小程序的所有页面，局部页面样式 <code>page.wxss</code> 仅对当前页面生效。</p> </li><li> <p>此外 <code>WXSS</code> 仅支持部分 <code>CSS</code> 选择器</p> </li></ol> 
<p>更详细的文档可以参考：<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxss.html" rel="nofollow" title="https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxss.html">https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxss.html</a></p> 
<h3 id="JS%20%E9%80%BB%E8%BE%91%E4%BA%A4%E4%BA%92">JS 逻辑交互</h3> 
<p>一个服务仅仅只有界面展示是不够的，还需要和用户做交互：响应用户的点击、获取用户的位置等等。在小程序里边，我们就通过编写 <code>JS</code> 脚本文件来处理用户的操作。</p> 
<pre><code class="hljs">&lt;view&gt;{<!-- -->{ msg }}&lt;/view&gt;
&lt;button bindtap="clickMe"&gt;点击我&lt;/button&gt;</code></pre> 
<p> 点击 <code>button</code> 按钮的时候，我们希望把界面上 <code>msg</code> 显示成 <code>"Hello World"</code>，于是我们在 <code>button</code> 上声明一个属性: <code>bindtap</code> ，在 JS 文件里边声明了 <code>clickMe</code> 方法来响应这次点击操作：</p> 
<pre><code class="hljs">Page({
  clickMe: function() {
    this.setData({ msg: "Hello World" })
  }
})</code></pre> 
<p> 响应用户的操作就是这么简单，更详细的事件可以参考文档：<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/event.html" rel="nofollow" title="https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/event.html">https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/event.html</a></p> 
<p>此外你还可以在 JS 中调用小程序提供的丰富的 API，利用这些 API 可以很方便的调起微信提供的能力，例如获取用户信息、本地存储、微信支付等。在前边的 QuickStart 例子中，在 <code>pages/index/index.js</code> 就调用了wx.getUserInfo：<a href="https://developers.weixin.qq.com/miniprogram/dev/api/open-api/user-info/wx.getUserInfo.html" rel="nofollow" title="https://developers.weixin.qq.com/miniprogram/dev/api/open-api/user-info/wx.getUserInfo.html">https://developers.weixin.qq.com/miniprogram/dev/api/open-api/user-info/wx.getUserInfo.html</a> 获取微信用户的头像和昵称，最后通过 <code>setData</code> 把获取到的信息显示到界面上。更多 API 可以参考文档：<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/api.html" rel="nofollow" title="https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/api.html">https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/api.html</a></p> 
<h3 id="util%E5%85%AC%E5%85%B1%E5%87%BD%E6%95%B0%E5%AE%9A%E4%B9%89%E5%8F%8A%E8%AF%BB%E5%8F%96">util公共函数定义及读取</h3> 
<p>util目录下的util.js文件专用于小程序项目中的公共函数定义，可以将项目开发过程中的公共代码方法提取封装到util.js文件中。</p> 
<p>1.util/util.js中定义公共方法</p> 
<pre><code class="hljs">const toStr = s =&gt;{
  s="你好，"+s;
  return s;
}

module.exports = {
  formatTime,toStr
}</code></pre> 
<p>2.在指定页面中的js中模块化引入utils的js文件  </p> 
<p>采用整体引入方式，在调用时请使用实例名.模块名，例如：<code>util.formatDate(new Date());</code></p> 
<pre><code class="hljs">//通过require方式引入整个util
//const util=require("../../utils/util")
//通过import方式引入整个util
//import util from "../../utils/util.js"
//引入指定的模块
import {formatTime} from "../../utils/util.js"</code></pre> 
<p>3.利用页面的onLoad事件完成数据赋值展示</p> 
<pre><code class="hljs">onLoad() {
    this.setData({
      loginTime:formatTime(new Date())
    });
    if (wx.getUserProfile) {
      	this.setData({
        	canIUseGetUserProfile: true
    	})
	}
}</code></pre> 
<h2 id="%E5%85%AD%E3%80%81%E5%B0%8F%E7%A8%8B%E5%BA%8F%E9%85%8D%E7%BD%AE">六、小程序配置</h2> 
<h3 id="%E5%85%A8%E5%B1%80%E9%85%8D%E7%BD%AE">全局配置</h3> 
<p>小程序根目录下的 <code>app.json</code> 文件用来对微信小程序进行全局配置，决定页面文件的路径、窗口表现、设置网络超时时间、设置多 tab 等。</p> 
<p>完整配置项说明请参考：<a href="https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/app.html" rel="nofollow" title="https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/app.html">https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/app.html</a></p> 
<p>以下是一个包含了部分常用配置选项的 <code>app.json</code> ：</p> 
<pre><code class="hljs">{
  "pages": [
    "pages/index/index",
    "pages/logs/index"
  ],
  "window": {
    "navigationBarTitleText": "Demo"
  },
  "tabBar": {
    "list": [{
      "pagePath": "pages/index/index",
      "text": "首页"
    }, {
      "pagePath": "pages/logs/index",
      "text": "日志"
    }]
  },
  "networkTimeout": {
    "request": 10000,
    "downloadFile": 10000
  },
  "debug": true
}</code></pre> 
<h3 id="%E9%A1%B5%E9%9D%A2%E9%85%8D%E7%BD%AE">页面配置</h3> 
<p>每一个小程序页面也可以使用同名 <code>.json</code> 文件来对本页面的窗口表现进行配置，页面中配置项会覆盖 <code>app.json</code> 的 <code>window</code> 中相同的配置项。</p> 
<p>例：</p> 
<pre><code class="hljs">{
  "navigationBarBackgroundColor": "#ffffff",
  "navigationBarTextStyle": "black",
  "navigationBarTitleText": "微信接口功能演示",
  "backgroundColor": "#eeeeee",
  "backgroundTextStyle": "light"
}</code></pre> 
<p>配置小程序 /sitemap 配置</p> 
<p>微信现已开放小程序内搜索，开发者可以通过 <code>sitemap.json</code> 配置，或者管理后台页面收录开关来配置其小程序页面是否允许微信索引。当开发者允许微信索引时，微信会通过爬虫的形式，为小程序的页面内容建立索引。当用户的搜索词条触发该索引时，小程序的页面将可能展示在搜索结果中。 爬虫访问小程序内页面时，会携带特定的 user-agent：<code>mpcrawler</code> 及场景值：<code>1129</code>。需要注意的是，若小程序爬虫发现的页面数据和真实用户的呈现不一致，那么该页面将不会进入索引中。</p> 
<p>场景值：<a href="https://developers.weixin.qq.com/miniprogram/dev/reference/scene-list.html" rel="nofollow" title="https://developers.weixin.qq.com/miniprogram/dev/reference/scene-list.html">https://developers.weixin.qq.com/miniprogram/dev/reference/scene-list.html</a></p> 
<p>具体配置说明</p> 
<ol><li> <p>页面收录设置：可对整个小程序的索引进行关闭，小程序管理后台-功能-页面内容接入-页面收录开关</p> </li><li> <p>sitemap 配置：可对特定页面的索引进行关闭</p> </li></ol> 
<h3 id="sitemap%20%E9%85%8D%E7%BD%AE">sitemap 配置</h3> 
<p>小程序根目录下的 <code>sitemap.json</code> 文件用来配置小程序及其页面是否允许被微信索引。</p> 
<p>完整配置项说明请参考：<a href="https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/sitemap.html" rel="nofollow" title="https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/sitemap.html">https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/sitemap.html</a></p> 
<p>所有页面都会被微信索引（默认情况）  </p> 
<pre><code class="hljs">{
  "rules":[{
    "action": "allow",
    "page": "*"
  }]
}</code></pre> 
<p> 配置 <code>path/to/page</code> 页面不被索引，其余页面允许被索引</p> 
<pre><code class="hljs">{
  "rules":[{
    "action": "disallow",
    "page": "path/to/page"
  }]
}</code></pre> 
<p>配置 <code>path/to/page</code> 页面被索引，其余页面不被索引</p> 
<pre><code class="hljs">{
  "rules":[{
    "action": "allow",
    "page": "path/to/page"
  }, {
    "action": "disallow",
    "page": "*"
  }]
}</code></pre> 
<p>配置 <code>path/to/page</code> 页面被索引，其余页面不被索引</p> 
<p>注：没有 sitemap.json 则默认所有页面都能被索引</p> 
<p>注：<code>{"action": "allow", "page": "\*"}</code> 是优先级最低的默认规则，未显式指明 "disallow" 的都默认被索引</p> 
<hr> 
<h3 id="%E8%B0%83%E8%AF%95">调试</h3> 
<p>当在小程序项目中设置了 <code>sitemap</code> 的配置文件（默认为 <code>sitemap.json</code>）时,便可在开发者工具控制台上显示当前页面是否被索引的调试信息（ 最新版本的开发者工具支持索引提示）</p> 
<p><code>sitemap</code> 的索引提示是默认开启的，如需要关闭 <code>sitemap</code> 的索引提示，可在小程序项目配置文件 <code>project.config.json</code> 的 <code>setting</code> 中配置字段 <code>checkSiteMap</code> 为 <code>false</code></p> 
<p><code>sitemap</code> 文件内容最大为 5120 个 UTF8 字符</p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/9034220ec929f8b1d8d951e9305c042e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">[python] 罗技动态链接驱动库DLL 控制 键鼠</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/d32b23ef2997aa4b38e5225ab00b744c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">前端秘法进阶篇之事件循环</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>