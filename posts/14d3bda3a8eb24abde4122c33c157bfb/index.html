<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>性能调优 17. GraalVM云原生时代的Java虚拟机 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/14d3bda3a8eb24abde4122c33c157bfb/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="性能调优 17. GraalVM云原生时代的Java虚拟机">
  <meta property="og:description" content="1. GraalVM诞生的背景 1.1. Java在微服务/云原生时代的困境及解决方案 ‌‌‌　事实
‌‌‌　Java总体上是面向大规模、长时间的服务端应用而设计的。
‌‌‌　即时编译器(JIT)、性能优化、垃圾回收等有代表性的特征需要一段时间来达到最佳性能。
‌‌‌　矛盾
‌‌‌　微服务时代对启动速度达到最高性能的时间提出了新的要求!
‌‌‌　在微服务的背景下，提倡服务围绕业务能力构建，不再追求实现上的严谨一致。
‌‌‌　单个微服务就不再需要再面对数十、数百GB乃至TB的内存。
‌‌‌　有了高可用的服务集群，也无须追求单个服务要7×24小时不可间断地运行，它们随时可以中断和更新。
‌‌‌　所以微服务对应用的容器化（Docker）亲和度（包容量、内存消耗等）、启动速度、达到最高性能的时间等方面提出了新的要求，这些恰恰是Java的弱项。
‌‌‌　比如：现在启动一个微服务项目（Docker运行6个子服务），动不动就1分钟，如下图：
‌‌‌　问题根源
‌‌‌　Java离不开虚拟机。
‌‌‌　所以Java应用启动的时候，必须要启动虚拟机，进行类加载，无论是启动时间，还是占用空间都不是最优解。
‌‌‌　解决方案
‌‌‌　革命派
‌‌‌　直接革掉Java和Java生态的性命，创造新世界，譬如Golang。
‌‌‌　保守派
‌‌‌　保留原有主流Java生态和技术资产，朝着微服务、云原生环境靠拢与适应(GraaIVM)。
2. GraalVM入门 ‌‌‌　GraalVM 是一个高性能 JDK 发行版，旨在加速用Java和其它JVM语言编写的应用程序的执行（JVM不只支持Java语言），并支持 JavaScript、Ruby、Python 和许多其他流行语言（翻译自官网 https://www.graalvm.org/）。
‌‌‌　GraalVM底层也是HosSpot，只是做了二次开发，打包成JDK。GraalVM能让支持的语言使用HotSpot虚拟机。
‌‌‌　GraalVM可以代替对应的JDK版本使用。
‌‌‌　GraalVM想成为一统天下的“最终”虚拟机！而GraalVM要做到原因也很简单：
‌‌‌　大部分脚本语言或者有动态特效的语言都需要一个语言虚拟机运行，比如CPython，Lua，Erlang，Java，Ruby，R，JS，PHP，Perl，APL等等，但是这些语言的虚拟机水平很烂，比如CPython的VM就不忍直视，而HotSpotVM是虚拟机的大神级别，如果能用上HotSpot，能用上顶级的即时编译器(JIT)、性能优化、垃圾回收等技术，岂不爽歪歪！
3. GraalVM特征 ‌‌‌　1. GraalVM是一款高性能的可嵌入式多语言虚拟机，它能运行不同的编程语言
‌‌‌　能运行基于JVM的语言，比如Java, Scala, Kotlin和Groovy。
‌‌‌　能运行解释型语言，比如JavaScript, Ruby, R和Python。">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-07-25T11:03:26+08:00">
    <meta property="article:modified_time" content="2024-07-25T11:03:26+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">性能调优 17. GraalVM云原生时代的Java虚拟机</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="1_GraalVM_0"></a>1. GraalVM诞生的背景</h2> 
<h3><a id="11_Java_2"></a>1.1. Java在微服务/云原生时代的困境及解决方案</h3> 
<p>‌‌‌　　<strong>事实</strong></p> 
<p>‌‌‌　　Java总体上是面向大规模、长时间的服务端应用而设计的。<br> ‌‌‌　　即时编译器(JIT)、性能优化、垃圾回收等有代表性的特征<strong>需要一段时间来达到最佳性能</strong>。</p> 
<p>‌‌‌　　<strong>矛盾</strong></p> 
<p>‌‌‌　　微服务时代对启动速度达到最高性能的时间提出了新的要求!</p> 
<p>‌‌‌　　在微服务的背景下，提倡服务围绕业务能力构建，不再追求实现上的严谨一致。</p> 
<p>‌‌‌　　单个微服务就不再需要再面对数十、数百GB乃至TB的内存。</p> 
<p>‌‌‌　　有了高可用的服务集群，也无须追求单个服务要7×24小时不可间断地运行，它们随时可以中断和更新。</p> 
<p>‌‌‌　　所以微服务<strong>对应用的容器化（Docker）亲和度（包容量、内存消耗等）、启动速度、达到最高性能的时间等方面提出了新的要求</strong>，这些恰恰是Java的弱项。</p> 
<p>‌‌‌　　比如：现在启动一个微服务项目（Docker运行6个子服务），动不动就1分钟，如下图：</p> 
<p><img src="https://images2.imgbox.com/33/20/R3JqlmCe_o.png" alt="在这里插入图片描述"></p> 
<p>‌‌‌　　<strong>问题根源</strong></p> 
<p>‌‌‌　　Java离不开虚拟机。</p> 
<p>‌‌‌　　所以Java应用启动的时候，<strong>必须要启动虚拟机，进行类加载</strong>，无论是启动时间，还是占用空间都不是最优解。</p> 
<p>‌‌‌　　<strong>解决方案</strong></p> 
<p>‌‌‌　　革命派</p> 
<p>‌‌‌　　直接革掉Java和Java生态的性命，创造新世界，譬如Golang。</p> 
<p>‌‌‌　　保守派</p> 
<p>‌‌‌　　保留原有主流Java生态和技术资产，朝着微服务、云原生环境靠拢与适应(GraaIVM)。</p> 
<h2><a id="2_GraalVM_45"></a>2. GraalVM入门</h2> 
<p>‌‌‌　　GraalVM 是一个<strong>高性能 JDK 发行版</strong>，旨在<strong>加速用Java和其它JVM语言编写的应用程序的执行（JVM不只支持Java语言）</strong>，<strong>并支持 JavaScript、Ruby、Python 和许多其他流行语言</strong>（翻译自官网 https://www.graalvm.org/）。</p> 
<p>‌‌‌　　<strong>GraalVM底层也是HosSpot</strong>，只是做了二次开发，打包成JDK。<strong>GraalVM能让支持的语言使用HotSpot虚拟机</strong>。</p> 
<p>‌‌‌　　GraalVM可以代替对应的JDK版本使用。</p> 
<p><img src="https://images2.imgbox.com/e3/04/GoXrWShp_o.png" alt="在这里插入图片描述"></p> 
<p>‌‌‌　　GraalVM想成为一统天下的“最终”虚拟机！而GraalVM要做到原因也很简单：</p> 
<p>‌‌‌　　大部分脚本语言或者有动态特效的语言都需要一个语言虚拟机运行，比如CPython，Lua，Erlang，Java，Ruby，R，JS，PHP，Perl，APL等等，但是这些语言的虚拟机水平很烂，比如CPython的VM就不忍直视，而HotSpotVM是虚拟机的大神级别，如果能用上HotSpot，能用上顶级的即时编译器(JIT)、性能优化、垃圾回收等技术，岂不爽歪歪！</p> 
<h2><a id="3_GraalVM_61"></a>3. GraalVM特征</h2> 
<p>‌‌‌　　1. GraalVM是一款高性能的可嵌入式多语言虚拟机，<strong>它能运行不同的编程语言</strong></p> 
<p>‌‌‌　　能运行基于JVM的语言，比如Java, Scala, Kotlin和Groovy。</p> 
<p>‌‌‌　　能运行解释型语言，比如JavaScript, Ruby, R和Python。</p> 
<p>‌‌‌　　能运行，<strong>能配合LLVM</strong>运行的原生语言，比如C， C++， Rust和Swift。</p> 
<p>‌‌‌　　2. GraalVM的设计目标是可以<strong>在不同的环境中运行程序在JVM中。</strong></p> 
<p>‌‌‌　　将代码编译成独立的本地镜像（不需要JVM），比如将Java代码编译成本地镜像就可以直接运行，不需要安装JDK环境。（符合云原生的要求不需要在环境里头再安装JDK）</p> 
<p>‌‌‌　　将Java及本地代码模块集成为更大型的应用。</p> 
<h3><a id="4_GraalVM_81"></a>4. 安装配置GraalVM</h3> 
<p>‌‌‌　　<strong>下载压缩包</strong></p> 
<p>‌‌‌　　GraalVM分成了社区版与企业版，企业版肯定比社区版好，企业版可能涉及到收费问题。</p> 
<p><img src="https://images2.imgbox.com/20/77/JhwR67Rp_o.png" alt="在这里插入图片描述"></p> 
<p>‌‌‌　　这边因为演示使用社区版就够了，按JDK版本下载GraalVM对应的压缩包，请下载Java 17对应的版本，不然后面实战演示SpringBoot3（需要JDK17）可能会有问题。<br> ‌‌‌　　<br> ‌‌‌　　下载地址 https://github.com/graalvm/graalvm-ce-builds/releases</p> 
<p><img src="https://images2.imgbox.com/78/3d/kYyAHo4q_o.png" alt="在这里插入图片描述"></p> 
<p>‌‌‌‌‌‌　　<strong>‌‌‌下载完后，解压。</strong><br> <img src="https://images2.imgbox.com/89/f5/0d613Sy1_o.png" alt="在这里插入图片描述"></p> 
<p>‌‌‌‌‌‌　　<strong>配置环境变量</strong></p> 
<p>类似这样<br> <img src="https://images2.imgbox.com/c2/7b/vdXQ4Gfw_o.png" alt="在这里插入图片描述"></p> 
<p>‌‌‌　　新开一个cmd测试，不同版本显示不一样。<br> <img src="https://images2.imgbox.com/8a/70/mZBrzcrI_o.png" alt="在这里插入图片描述"></p> 
<p>‌‌‌　　<strong>安装native-image</strong></p> 
<p>‌‌‌　　cmd下运行gu list，查看有没安装native-image。</p> 
<p><img src="https://images2.imgbox.com/5e/ae/2PSF5D6h_o.png" alt="在这里插入图片描述"></p> 
<p>1. 在线安装</p> 
<p>‌‌‌　　执行gu install native-image 命令安装即可。</p> 
<p>‌‌‌　　2. 离线安装</p> 
<p>‌‌‌　　以 GraalVM for JDK 17 Community 17.0.8 对应的23.0.1 版本为例, 地址：</p> 
<p>‌‌‌　　下载地址：https://github.com/graalvm/graalvm-ce-builds/releases/tag/graal-23.0.1。</p> 
<p>‌‌‌　　找到 native-image-installable-svm-java17-windows-amd64-23.0.1.jar 下载。</p> 
<p><img src="https://images2.imgbox.com/c5/a9/iSHO50kG_o.png" alt="在这里插入图片描述"></p> 
<p>‌‌‌　　打开cmd, 进入 native-image-installable-svm-java17-windows-amd64-23.0.1.jar 下载的文件夹。</p> 
<p><img src="https://images2.imgbox.com/a7/71/YsxV4a7I_o.png" alt="在这里插入图片描述"></p> 
<p>执行：gu install -L native-image-installable-svm-java17-windows-amd64-23.0.1.jar 安装即可。</p> 
<p>‌‌‌　　验证运行gu list查看是否安装成功。</p> 
<p><strong>注意</strong></p> 
<p>‌‌‌　　1. 如graalvm 和native-image 版本不一致，会出现如下图的错误，找到对应的版本，重新安装即可；</p> 
<p><img src="https://images2.imgbox.com/c8/f4/hQM8tuj9_o.png" alt="在这里插入图片描述"></p> 
<p>‌‌‌　　<strong>安装Visual Studio Build Tools</strong></p> 
<p>‌‌‌　　因为在Windows上 使用要使用GraalVM的native-image打包需要c++环境，而VisualStudio 可以提供c++开发环境，所以我们要先下载安装好VisualStudio。</p> 
<p>‌‌‌　　打开 visualstudio.microsoft.com这个网站 ，下载Visual Studio Installer。</p> 
<p>‌‌‌　　选择C++桌面开发和Windows 11 SDK，然后进行下载和安装，安装后重启操作系统。</p> 
<p><img src="https://images2.imgbox.com/aa/69/IKkL5CHY_o.png" alt="在这里插入图片描述"><br> 　　要使用GraalVM的native-image将代码编译成本地文件，不能使用普通的windows自带的命令行窗口。得使用VS提供的 <strong>x64 Native Tools Command Prompt for VS版本号</strong>。<br> ‌‌‌　　如下</p> 
<p><img src="https://images2.imgbox.com/70/51/PvNNIjZj_o.png" alt="在这里插入图片描述"></p> 
<p>‌‌‌　　如果没有可以执行前面Visual Studio Build Tools安装目录文件夹下的<code>Microsoft Visual Studio\版本号\BuildTools\VC\Auxiliary\Build\vcvars64.bat</code>**脚本来安装。</p> 
<p>‌‌‌　　安装完之后可以运行x64 Native Tools Command Prompt for VS 版本号 ，去使用native-image命令去进行编译代码生成本地文件了。</p> 
<p><img src="https://images2.imgbox.com/2b/53/6F5MUlCL_o.png" alt="在这里插入图片描述"></p> 
<p>‌‌‌　　如果后续在编译过程中编译失败了，出现以下错误：</p> 
<p><img src="https://images2.imgbox.com/97/36/NnVnKQgZ_o.png" alt="在这里插入图片描述"><br> ‌‌‌　　那么可以执行cl.exe来进行编译，cl.exe如果是中文，那就得修改为英文。</p> 
<p><img src="https://images2.imgbox.com/f8/03/ethfVkGT_o.png" alt="在这里插入图片描述"><br> ‌‌‌　　可以通过再次启用Visual Studio Installer来修改你的安装配置，比如：</p> 
<p><img src="https://images2.imgbox.com/21/a4/DFIVWlSN_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/55/92/YXkr2nAT_o.png" alt="在这里插入图片描述"></p> 
<p>‌‌‌　　可能一开始只选择了中文，手动选择英文，去掉中文，然后安装（修改）即可。</p> 
<p>‌‌‌　　再次检查，这样就可以正常的编译了。</p> 
<p><img src="https://images2.imgbox.com/b1/06/XLgTVuZB_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="5_Graal_Compiler_195"></a>5. Graal Compiler（了解就好）</h2> 
<p>‌‌‌　　Graal Compiler是GraalVM与HotSpotVM（从JDK10起）共同拥有的<strong>服务端即时编译器，是C2编译器的替代者</strong>。</p> 
<p>‌‌‌　　Graal VM结构图如下</p> 
<p>‌‌‌‌‌‌　　Graal Java–就是Graal编译器。</p> 
<p>‌‌‌　　JVMCI—针对JVM编译的接口，因为Graal编译器是java写的，通过Compiler Interface调用JVM很麻烦就使用这个替代。</p> 
<p><img src="https://images2.imgbox.com/a6/7d/wLMh6ul0_o.png" alt="在这里插入图片描述"></p> 
<p>‌‌‌　　即时编译器（JIT编译器）是 Java 虚拟机中相对独立的模块，它主要负责接收 Java 字节码，并生成可以直接运行的二进制码。传统情况下(JDK8)，<strong>即时编译器是与 Java 虚拟机紧耦合的</strong>。也就是说，对<strong>即时编译器的更改需要重新编译整个 Java 虚拟机</strong>。这对于开发相对活跃的 Graal 来说显然是不可接受的。</p> 
<p>‌‌‌　　为了让 Java 虚拟机与 Graal编译器解耦合，引入了Java 虚拟机编译器接口（JVM Compiler Interface，<strong>JVMC</strong>I），因为Graal编译器是java编写的，将即时编译器的功能抽象成一个 Java 层面的接口。这样一来，在 Graal 所依赖的 JVMCI 版本不变的情况下，我们仅需要替换 Graal 编译器相关的 jar 包（Java 9 以后的 jmod 文件），便可完成对 Graal 的升级。</p> 
<h2><a id="6_C2Bug_217"></a>6. C2编译器的Bug</h2> 
<p>‌‌‌　　<strong>C2还存在一些小BUG</strong>。</p> 
<p>‌‌‌　　<strong>例如</strong></p> 
<pre><code class="prism language-java">‌‌‌　　<span class="token keyword">package</span> <span class="token namespace">enjoy<span class="token punctuation">.</span>jvm<span class="token punctuation">.</span>jit</span><span class="token punctuation">;</span>
‌‌‌　　<span class="token comment">/**
 * @author  King老师
 * C2的BUG
 * -Xint  参数强制虚拟机运行于只有解释器的编译模式
 */</span>
‌‌‌　　<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">C2Bug</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

        <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>i <span class="token operator">-=</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span> out <span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"i = "</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">C2Bug</span> c2bug <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">C2Bug</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">50_000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token comment">//5万次   前1万次  不会触发JIT及时编译（没有性能优化）、后4万次JIT</span>
            c2bug<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
‌‌‌　　<span class="token punctuation">}</span>


</code></pre> 
<p><img src="https://images2.imgbox.com/34/6e/OyzfAJ9d_o.png" alt="在这里插入图片描述"></p> 
<p>‌‌‌　　使用-Xint参数强制虚拟机运行于只有解释器的编译模式，就不会出现问题。</p> 
<p><img src="https://images2.imgbox.com/19/57/3RqRoYVe_o.png" alt="在这里插入图片描述"></p> 
<p>‌‌‌　　另外把循环次数降低，降低到5000次，就不会触发JIT，就不会触发C2的优化也不会出现问题。</p> 
<p><img src="https://images2.imgbox.com/8f/79/AhvYrGxX_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/b2/c7/mdFaNFus_o.png" alt="在这里插入图片描述"></p> 
<p>‌‌‌　　把JDK改成GraalVM，则触发热点探测会使用<strong>GraalVM的即时编译器器进行编译优化，也能避免上述Bug</strong>。</p> 
<h2><a id="7_Graal_C2_269"></a>7. Graal 即时编译器和C2即时编译器区别</h2> 
<p>‌‌‌　　Graal 和 C2 最为明显的一个区别是：<strong>Graal 是用 Java 写的，而 C2 是用 C++ 写的</strong>。</p> 
<p>‌‌‌　　相对来说，Graal 更加模块化，也更容易开发与维护，毕竟，连C2的开发者都不想去维护C2了。</p> 
<p>‌‌‌　　许多人会觉得用 C++ 写的 C2 肯定要比 Graal 快。实际上，在充分预热的情况下，Java 程序中的<strong>热点代码早已经通过即时编译转换为二进制码，在执行速度上并不亚于静态编译的 C++ 程序</strong>。</p> 
<p>‌‌‌　　Graal 的内联算法对新语法、新语言更加友好，例如 Java 8 的 lambda 表达式以及 Scala 语言。</p> 
<p>‌‌‌　　<strong>对比例子</strong></p> 
<pre><code class="prism language-java">
‌‌‌　　<span class="token keyword">package</span> <span class="token namespace">enjoy<span class="token punctuation">.</span>jvm<span class="token punctuation">.</span>jit</span><span class="token punctuation">;</span>

‌‌‌　　<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JavaCountUppercase</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> <span class="token constant">ITERATIONS</span> <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">getInteger</span><span class="token punctuation">(</span><span class="token string">"iterations"</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">String</span> sentence <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> iter <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> iter <span class="token operator">&lt;</span> <span class="token constant">ITERATIONS</span><span class="token punctuation">;</span> iter<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">ITERATIONS</span> <span class="token operator">!=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"-- iteration "</span> <span class="token operator">+</span> <span class="token punctuation">(</span>iter <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">" --"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">long</span> total <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> start <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> last <span class="token operator">=</span> start<span class="token punctuation">;</span>

            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">100_000_000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                total <span class="token operator">+=</span> sentence<span class="token punctuation">.</span><span class="token function">chars</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token class-name">Character</span><span class="token operator">::</span><span class="token function">isUpperCase</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">%</span> <span class="token number">10_000_000</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token keyword">long</span> now <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d (%d ms)%n"</span><span class="token punctuation">,</span> i <span class="token operator">/</span> <span class="token number">10_000_000</span><span class="token punctuation">,</span> now <span class="token operator">-</span> last<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    last <span class="token operator">=</span> now<span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"total: %d (%d ms)%n"</span><span class="token punctuation">,</span> total<span class="token punctuation">,</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> start<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
‌‌‌　　<span class="token punctuation">}</span>


</code></pre> 
<p>‌‌‌　　使用原生JDK8触发热点探测，使用C2编译器进行即时编译结果如下。</p> 
<p><img src="https://images2.imgbox.com/93/36/k58yMVR3_o.png" alt="在这里插入图片描述"></p> 
<p>‌‌‌　　JDK换成GraalVM运行结果如下。<br> 　<br> <img src="https://images2.imgbox.com/23/e1/1JYjvMhI_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="8_GraalVMAOT_322"></a>8. GraalVM的AOT技术和实战</h2> 
<h3><a id="81_GraalAOT_324"></a>8.1. Graal的AOT技术</h3> 
<p>Graal 的Aot <strong>属于GraalVM 中的一项技术</strong>，说白就是<strong>Ahead-of-time compile（提前编译）</strong>，在编译期时，会把需要编译的东西，包含<strong>一个基底的 VM，一起编译成机器码(二进制)</strong>。代码直接编译成机器码后可直接运行，类似C++编译代码一样。</p> 
<p>‌‌‌　　Spring6.0开始也引入了自己的AOT技术，也就是Spring Boot3.0借助AOT技术在GraalVM环境下可以将项目打包成本地文件直接执行。</p> 
<p>‌‌‌　　GraalVM在<strong>编译成二进制可执行文件时</strong>，GraalVM不会把代码都编译成到二进制文件中。需要<strong>确定该应用到底用到了哪些类、其中用到了哪些方法、哪些属性，从而把这些用到的代码编译为机器指令（也就是exe文件）</strong>。</p> 
<p>‌‌‌　　比如我们一个应用中某些类可能是动态生成的，也就是应用运行后才生成的，为了解决这个问题，GraalVM提供了配置的方式，可以让我们在<strong>编译时告诉GraalVM哪些类是动态生成类需要用到，可以通过proxy-config.json、reflect-config.json来进行配置</strong>。</p> 
<p>‌‌‌　　比如在reflect-config.json这样配置告诉GraalVM，代码反射中使用到类有哪些，反射使用的构造方法是什么，该类反射创建对象后会使用反射方法是什么。<br> <img src="https://images2.imgbox.com/1c/b7/HmJjZtlm_o.png" alt="在这里插入图片描述"><br> 　　Spring Boot3.0可以通过Runtime Hints机制来配置GraalVM的配置文件，也就是通过类方式配置这些信息，GraalVM打包Spring Boot3.0项目成本地文件过程中，会根据这些类写配置信息到GraalVM的配置文件中（这个机制怎么配，这边不说了知道就好）。</p> 
<h3><a id="82_GraalAOT_340"></a>8.2. Graal的AOT技术的优缺点</h3> 
<p>‌‌‌　　<strong>缺点</strong></p> 
<p>‌‌‌　　1. 没法动态生成机器码，不像JAVA可以动态生成类。GraalVM在<strong>编译成二进制可执行文件时</strong>，需要<strong>确定该应用到底用到了哪些类、哪些方法、哪些属性，从而把这些代码编译为机器指令（也就是exe文件）</strong>。但是我们一个应用中某些类可能是动态生成的，也就是应用运行后才生成的，为了解决这个问题，GraalVM提供了配置的方式，可以让我们在<strong>编译时告诉GraalVM哪些类会动态生成类，比如我们可以通过proxy-config.json、reflect-config.json来进行配置</strong>。</p> 
<p>‌‌‌　　2. 编译慢。</p> 
<p>‌‌‌　　<strong>优点</strong></p> 
<p>‌‌‌　　1. 项目编译后的文件，是能直接执行的文件，<strong>启动和执行速度都很快</strong>，只依赖操作系统。</p> 
<p>‌‌‌　　2. 编译时候考虑编译出的文件太大，GraalVM不会把用到的类都编译成到二进制文件中，而是会把用到的代码编译到二进制文件中。</p> 
<h3><a id="83__353"></a>8.3. 实战例子</h3> 
<h4><a id="831_Hello_World_356"></a>8.3.1. Hello World实战</h4> 
<p>‌‌‌　　新建一个简单的Java工程：</p> 
<p><img src="https://images2.imgbox.com/7f/41/RmsoaB0h_o.png" alt="在这里插入图片描述"></p> 
<p>‌‌‌　　我们可以直接把graalvm当作普通的jdk的使用<br> <img src="https://images2.imgbox.com/ce/be/IDYavp5f_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/9c/15/SslsGe13_o.png" alt="在这里插入图片描述"></p> 
<p>‌‌‌　　打开x64 Native Tools Command Prompt for VS 版本号，进入工程目录下，并利用<strong>javac将java文件编译为class文件：javac -d . src/com/zhouyu/App.java</strong>。</p> 
<p>‌‌‌　　-d. 这个命令意思根据当前目录找指定的相对路径下的App.java文件进行编译，然后编译后输出的目录是相对路径。根据App.java的package指定的目录。比如我App.java的packge改成com，那么就会输出到当前目录（src目录下）com文件夹下。</p> 
<p><img src="https://images2.imgbox.com/1c/4c/wcPC7v1q_o.png" alt="在这里插入图片描述"></p> 
<p>‌‌‌　　此时的class文件因为有main方法，所以用java命令可以运行。<br> <img src="https://images2.imgbox.com/06/ae/PwoVJOSQ_o.png" alt="在这里插入图片描述"></p> 
<p>‌‌‌　　利用native-image来编译生成的字节码文件，转成exe文件。</p> 
<p><img src="https://images2.imgbox.com/2c/ec/xwiZcfOg_o.png" alt="在这里插入图片描述"></p> 
<p>‌‌‌　　<strong>注意</strong></p> 
<p>‌‌‌　　1. 为啥指定class文件要使用com.zhouyu.App，因为App的package是com.zhouyu。上面命令代码意思是会以当前所在目录为基础，去运行com/zhouyu下的App的class文件。</p> 
<p>‌‌‌　　然后按照class文件的package指定的包路径做为相对路径转化为文件路径去搜索class文件。</p> 
<p>‌‌‌　　2. 可以使用-o参数来指定exe文件的名字：</p> 
<pre><code class="prism language-java">
‌‌‌　　<span class="token keyword">native</span><span class="token operator">-</span>image <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>zhouyu<span class="token punctuation">.</span></span>App</span> <span class="token operator">-</span>o app

</code></pre> 
<p>‌‌‌　　编译需要一些时间。<br> <img src="https://images2.imgbox.com/0a/bd/HGyhR88u_o.png" alt="在这里插入图片描述"><br> ‌‌‌　　编译完了之后就会在当前目录生成一个exe文件：</p> 
<p><img src="https://images2.imgbox.com/7b/c7/9DQLcWJV_o.png" alt="在这里插入图片描述"><br> ‌‌‌　　<strong>可以直接运行这个exe文件</strong></p> 
<p><img src="https://images2.imgbox.com/63/c4/gTjdj63P_o.png" alt="在这里插入图片描述"><br> ‌‌‌　　并且运行这个exe文件<strong>是不需要操作系统上安装了JDK环境的</strong>。</p> 
<h4><a id="832_GraalVMSpringBoot_30_414"></a>8.3.2. GraalVM下的SpringBoot 3.0实战</h4> 
<p>‌‌‌<br> ‌‌‌　　新建一个Maven工程，添加SpringBoot3.0相关依赖，就是一个SpringBoot 3.0项目了。</p> 
<pre><code class="prism language-xml">
‌‌‌　　<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-parent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>3.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
‌‌‌　　<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">&gt;</span></span>

‌‌‌　　<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
‌‌‌　　<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>

</code></pre> 
<p>‌‌‌　　配置变量</p> 
<pre><code class="prism language-xml">
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maven.compiler.source</span><span class="token punctuation">&gt;</span></span>17<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maven.compiler.source</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maven.compiler.target</span><span class="token punctuation">&gt;</span></span>17<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maven.compiler.target</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project.build.sourceEncoding</span><span class="token punctuation">&gt;</span></span>UTF-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project.build.sourceEncoding</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project.reporting.outputEncoding</span><span class="token punctuation">&gt;</span></span>UTF-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project.reporting.outputEncoding</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>spring-boot.build-image.imageName</span><span class="token punctuation">&gt;</span></span>自己项目名字<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>spring-boot.build-image.imageName</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">&gt;</span></span>


</code></pre> 
<p>‌‌‌　　要编译成exe需要下面这些插件。这些插件跟Spring AOT有关，同时借助这些插件一键打包项目生成执行本地文件。</p> 
<pre><code class="prism language-xml">
‌‌‌　　<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugins</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.graalvm.buildtools<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>native-maven-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>0.9.28<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-maven-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugins</span><span class="token punctuation">&gt;</span></span>
‌‌‌　　<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">&gt;</span></span>

</code></pre> 
<p>‌‌‌　　创建一些代码</p> 
<pre><code class="prism language-java">

‌‌‌　　<span class="token annotation punctuation">@RestController</span>
‌‌‌　　<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ZhouyuController</span> <span class="token punctuation">{<!-- --></span>

    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">UserService</span> userService<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/demo"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> userService<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

‌‌‌　　<span class="token punctuation">}</span>

</code></pre> 
<pre><code class="prism language-java">

‌‌‌　　<span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>zhouyu</span><span class="token punctuation">;</span>

‌‌‌　　<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span></span><span class="token punctuation">;</span>

‌‌‌　　<span class="token annotation punctuation">@Component</span>
‌‌‌　　<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserService</span> <span class="token punctuation">{<!-- --></span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token string">"hello zhouyu"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
‌‌‌　　<span class="token punctuation">}</span>

</code></pre> 
<pre><code class="prism language-java">
‌‌‌　　<span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>zhouyu</span><span class="token punctuation">;</span>

‌‌‌　　<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span></span><span class="token class-name">SpringApplication</span></span><span class="token punctuation">;</span>
‌‌‌　　<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>autoconfigure<span class="token punctuation">.</span></span><span class="token class-name">SpringBootApplication</span></span><span class="token punctuation">;</span>

‌‌‌　　<span class="token annotation punctuation">@SpringBootApplication</span>
‌‌‌　　<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyApplication</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">MyApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
‌‌‌　　<span class="token punctuation">}</span>

</code></pre> 
<p>‌‌‌　　这本身就是一个普通的SpringBoot工程，可以使用之前的方式打成jar包运行。</p> 
<p>‌‌‌　　同时也支持用native-image命令把整个SpringBoot工程编译成为一个exe文件执行。在 x64 Native Tools Command Prompt for VS 版本号中，进入到工程目录下，执行<strong>mvn -Pnative native:compile</strong>（如果报mvn不存在，注意配置下maven的路径到环境变量）进行编译就可以了,这命令包含项目编译成class过程，不需要再编译项目成字节码再去编，就能在项目的target目录下生成对应的exe文件，后续只要运行exe文件就能启动应用了。</p> 
<p>‌‌‌　　在执行命令之前，<strong>请确保环境变量中设置了Graal VM 的路径，因为过程需要用到Graal VM 编译成本地文件</strong>。</p> 
<p>‌‌‌　　编译完成截图：<br> ‌‌‌　　<strong>‌‌‌如果编译过程中日志没有滚动回车下。</strong></p> 
<p><img src="https://images2.imgbox.com/09/ff/cZsGnGBo_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/46/1d/WAoVstg4_o.png" alt="在这里插入图片描述"><br> ‌‌‌　　<strong>直接运行jar包和直接运行exe启动速度区别</strong>。</p> 
<p><img src="https://images2.imgbox.com/6e/54/r3sSBH98_o.png" alt="在这里插入图片描述"><br> 　　<strong>注意</strong></p> 
<p>‌‌‌　　1. 项目存放目录不要有中文，不然打包编译会报错。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/46e16379a0657e61c8875c0755819638/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">了解高防 IP</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/4d8e07ba4d7fe39ef77fb31368245af8/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">学Python该看什么书？10本Python好书推荐，10年程序员倾囊相授！</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>