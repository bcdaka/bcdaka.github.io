<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>3 Go语言的变量声明 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/e85093612d6ced635e438b8734e1bd54/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="3 Go语言的变量声明">
  <meta property="og:description" content="本专栏将从基础开始，循序渐进，由浅入深讲解Go语言，希望大家都能够从中有所收获，也请大家多多支持。
查看相关资料与知识库
专栏地址:Go专栏 如果文章知识点有错误的地方，请指正！大家一起学习，一起进步。
文章目录 变量声明使用 `var` 声明变量练习 1.02 – 使用 `var` 声明变量使用 `var` 一次声明多个变量练习 1.03 – 使用 `var` 一次声明多个变量跳过声明变量时的类型或值练习 1.04 – 跳过声明变量时的类型或值类型推断出错短变量声明练习 1.05 – 实现短变量声明使用短变量声明同时声明多个变量练习 1.06 – 从函数中声明多个变量使用 `var` 一行声明多个变量非英语变量名修改变量的值练习 1.07 – 修改变量的值一行中修改多个变量的值一次修改多个变量的值练习 1.08 – 一次修改多个变量的值 变量声明 现在你已经对Go语言有了初步了解并完成了第一个练习，我们将深入探讨变量。我们的第一个重点是变量的声明。
变量用来暂时存储数据，以便你可以对其进行操作。当你声明一个变量时，你需要四个要素：声明变量的语句、变量的名称、变量能够存储的数据类型以及它的初始值。幸运的是，其中一些部分是可选的，这也意味着有多种方式来定义变量。
让我们详细了解所有声明变量的方法。
使用 var 声明变量 使用 var 是声明变量的基础方式。我们将要介绍的其他方法通常是这种方式的变体，通常通过省略一些部分来实现。一个完整的 var 声明如下：
var foo string = &#34;bar&#34; 其中关键部分包括 var、foo、string 和 = “bar”：
var 表示我们正在定义一个变量。foo 是变量的名称。string 是变量的类型。= “bar” 是变量的初始值。 练习 1.02 – 使用 var 声明变量 在这个练习中，我们将使用完整的 var 语法声明两个变量，并将它们打印到控制台。你将看到 var 语法可以在代码的任何地方使用，这并不是所有变量声明语法都能做到的。开始吧：">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-07-24T17:06:20+08:00">
    <meta property="article:modified_time" content="2024-07-24T17:06:20+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">3 Go语言的变量声明</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-dracula">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <blockquote> 
 <p><strong>本专栏将从基础开始，循序渐进，由浅入深讲解Go语言，希望大家都能够从中有所收获，也请大家多多支持。</strong><br> <strong><a href="https://aicnn.cn" rel="nofollow">查看相关资料与知识库</a></strong><br> <strong>专栏地址:<a href="https://blog.csdn.net/learning_xzj/category_12737643.html">Go专栏</a> </strong><br> <strong> 如果文章知识点有错误的地方，请指正！大家一起学习，一起进步。</strong></p> 
</blockquote> 
<p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#_7" rel="nofollow">变量声明</a></li><li><ul><li><a href="#_var__15" rel="nofollow">使用 `var` 声明变量</a></li><li><a href="#_102___var__30" rel="nofollow">练习 1.02 – 使用 `var` 声明变量</a></li><li><a href="#_var__100" rel="nofollow">使用 `var` 一次声明多个变量</a></li><li><a href="#_103___var__115" rel="nofollow">练习 1.03 – 使用 `var` 一次声明多个变量</a></li><li><a href="#_181" rel="nofollow">跳过声明变量时的类型或值</a></li><li><a href="#_104___187" rel="nofollow">练习 1.04 – 跳过声明变量时的类型或值</a></li><li><a href="#_256" rel="nofollow">类型推断出错</a></li><li><a href="#_286" rel="nofollow">短变量声明</a></li><li><a href="#_105___290" rel="nofollow">练习 1.05 – 实现短变量声明</a></li><li><a href="#_351" rel="nofollow">使用短变量声明同时声明多个变量</a></li><li><a href="#_106___373" rel="nofollow">练习 1.06 – 从函数中声明多个变量</a></li><li><a href="#_var__463" rel="nofollow">使用 `var` 一行声明多个变量</a></li><li><a href="#_498" rel="nofollow">非英语变量名</a></li><li><a href="#_525" rel="nofollow">修改变量的值</a></li><li><a href="#_107___529" rel="nofollow">练习 1.07 – 修改变量的值</a></li><li><a href="#_617" rel="nofollow">一行中修改多个变量的值</a></li><li><a href="#_625" rel="nofollow">一次修改多个变量的值</a></li><li><a href="#_108___629" rel="nofollow">练习 1.08 – 一次修改多个变量的值</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="_7"></a>变量声明</h2> 
<p>现在你已经对Go语言有了初步了解并完成了第一个练习，我们将深入探讨变量。我们的第一个重点是变量的声明。</p> 
<p>变量用来暂时存储数据，以便你可以对其进行操作。当你声明一个变量时，你需要四个要素：声明变量的语句、变量的名称、变量能够存储的数据类型以及它的初始值。幸运的是，其中一些部分是可选的，这也意味着有多种方式来定义变量。</p> 
<p>让我们详细了解所有声明变量的方法。</p> 
<h3><a id="_var__15"></a>使用 <code>var</code> 声明变量</h3> 
<p>使用 <strong>var</strong> 是声明变量的基础方式。我们将要介绍的其他方法通常是这种方式的变体，通常通过省略一些部分来实现。一个完整的 <strong>var</strong> 声明如下：</p> 
<pre><code class="prism language-go"><span class="token keyword">var</span> foo <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">"bar"</span>
</code></pre> 
<p>其中关键部分包括 <strong>var</strong>、<strong>foo</strong>、<strong>string</strong> 和 <strong>= “bar”</strong>：</p> 
<ul><li><strong>var</strong> 表示我们正在定义一个变量。</li><li><strong>foo</strong> 是变量的名称。</li><li><strong>string</strong> 是变量的类型。</li><li><strong>= “bar”</strong> 是变量的初始值。</li></ul> 
<h3><a id="_102___var__30"></a>练习 1.02 – 使用 <code>var</code> 声明变量</h3> 
<p>在这个练习中，我们将使用完整的 <strong>var</strong> 语法声明两个变量，并将它们打印到控制台。你将看到 <strong>var</strong> 语法可以在代码的任何地方使用，这并不是所有变量声明语法都能做到的。开始吧：</p> 
<ol><li> <p>创建一个新文件夹，并在其中添加一个名为 <strong>main.go</strong> 的文件。</p> </li><li> <p>在 <strong>main.go</strong> 文件的顶部添加 <strong>main</strong> 包名：</p> <pre><code class="prism language-go"><span class="token keyword">package</span> main
</code></pre> </li><li> <p>添加所需的导入：</p> <pre><code class="prism language-go"><span class="token keyword">import</span> <span class="token punctuation">(</span>
  <span class="token string">"fmt"</span>
<span class="token punctuation">)</span>
</code></pre> </li><li> <p>在包级作用域声明一个变量。我们将在后续详细讨论作用域：</p> <pre><code class="prism language-go"><span class="token keyword">var</span> foo <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">"bar"</span>
</code></pre> </li><li> <p>创建 <strong>main()</strong> 函数：</p> <pre><code class="prism language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
</code></pre> </li><li> <p>在函数内部使用 <strong>var</strong> 声明另一个变量：</p> <pre><code class="prism language-go">  <span class="token keyword">var</span> baz <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">"qux"</span>
</code></pre> </li><li> <p>将两个变量打印到控制台：</p> <pre><code class="prism language-go">  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>foo<span class="token punctuation">,</span> baz<span class="token punctuation">)</span>
</code></pre> </li><li> <p>关闭 <strong>main()</strong> 函数：</p> <pre><code class="prism language-go"><span class="token punctuation">}</span>
</code></pre> </li><li> <p>保存文件。然后，在新文件夹中运行以下命令：</p> <pre><code class="prism language-sh">go run <span class="token builtin class-name">.</span>
</code></pre> </li></ol> 
<p>预期输出结果如下：</p> 
<pre><code>bar qux
</code></pre> 
<p>在这个例子中，<strong>foo</strong> 在包级别声明，而 <strong>baz</strong> 在函数级别声明。变量声明的位置很重要，因为声明变量的位置也限制了你可以使用的声明语法。</p> 
<p>接下来，我们将看另一种使用 <strong>var</strong> 语法的方式。</p> 
<h3><a id="_var__100"></a>使用 <code>var</code> 一次声明多个变量</h3> 
<p>我们可以使用一个 <strong>var</strong> 声明来定义多个变量，这可以通过 <strong>var</strong> 块或语句来实现。这种方法在声明包级变量时非常常见。变量不需要是相同的类型，并且它们可以有各自的初始值。语法如下：</p> 
<pre><code class="prism language-go"><span class="token keyword">var</span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>name1<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>type1<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token operator">&lt;</span>value1<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>name2<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>type2<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token operator">&lt;</span>value2<span class="token operator">&gt;</span>
  …
  <span class="token operator">&lt;</span>nameN<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>typeN<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token operator">&lt;</span>valueN<span class="token operator">&gt;</span>
<span class="token punctuation">)</span>
</code></pre> 
<p>你可以有多个这种类型的声明。这是一种很好的组织相关变量的方式，使你的代码更具可读性。尽管你可以在函数中使用这种语法，但在函数中看到这种用法的情况比较少见。</p> 
<h3><a id="_103___var__115"></a>练习 1.03 – 使用 <code>var</code> 一次声明多个变量</h3> 
<p>在这个练习中，我们将使用一个 <strong>var</strong> 语句声明多个变量，每个变量有不同的类型和初始值。然后，我们将打印每个变量的值到控制台。开始吧：</p> 
<ol><li> <p>创建一个新文件夹，并在其中添加一个名为 <strong>main.go</strong> 的文件。</p> </li><li> <p>在 <strong>main.go</strong> 文件的顶部添加 <strong>main</strong> 包名：</p> <pre><code class="prism language-go"><span class="token keyword">package</span> main
</code></pre> </li><li> <p>添加所需的导入：</p> <pre><code class="prism language-go"><span class="token keyword">import</span> <span class="token punctuation">(</span>
  <span class="token string">"fmt"</span>
  <span class="token string">"time"</span>
<span class="token punctuation">)</span>
</code></pre> </li><li> <p>开始 <strong>var</strong> 声明：</p> <pre><code class="prism language-go"><span class="token keyword">var</span> <span class="token punctuation">(</span>
</code></pre> </li><li> <p>定义三个变量：</p> <pre><code class="prism language-go">  Debug   <span class="token builtin">bool</span>   <span class="token operator">=</span> <span class="token boolean">false</span>
  LogLevel  <span class="token builtin">string</span>  <span class="token operator">=</span> <span class="token string">"info"</span>
  startUpTime time<span class="token punctuation">.</span>Time <span class="token operator">=</span> time<span class="token punctuation">.</span><span class="token function">Now</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> </li><li> <p>结束 <strong>var</strong> 声明：</p> <pre><code class="prism language-go"><span class="token punctuation">)</span>
</code></pre> </li><li> <p>在 <strong>main()</strong> 函数中，将每个变量打印到控制台：</p> <pre><code class="prism language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>Debug<span class="token punctuation">,</span> LogLevel<span class="token punctuation">,</span> startUpTime<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> </li><li> <p>保存文件。然后，在新文件夹中运行以下命令：</p> <pre><code class="prism language-sh">go run <span class="token builtin class-name">.</span>
</code></pre> </li></ol> 
<p>在这个练习中，我们使用一个 <strong>var</strong> 语句声明了三个变量。你的输出结果可能会有所不同，特别是 <strong>time.Time</strong> 变量的值会随着时间而不同，但格式是相同的。</p> 
<p>像这样使用 <strong>var</strong> 语法是一种很好的方法来保持代码的良好组织，同时也减少了输入量。</p> 
<p>接下来，我们将开始去掉 <strong>var</strong> 语法中的一些可选部分。</p> 
<h3><a id="_181"></a>跳过声明变量时的类型或值</h3> 
<p>在实际编码中，使用完整的 <strong>var</strong> 语法并不常见。通常只有在你需要定义一个具有初始值并且需要严格控制其类型的包级变量时，才会使用完整的语法。到那时，你会明显感受到类型不匹配的问题，所以现在不必太担心。其他时候，你可以省略一些可选部分，或者使用简短的变量声明方式。</p> 
<p>在声明变量时，你不必同时包含类型和初始值。你可以只使用其中之一；Go 会处理剩下的部分。如果声明中有类型但没有初始值，Go 会使用该类型的零值。关于零值，我们将在后面章节详细讨论。另一方面，如果有初始值而没有类型，Go 会根据你使用的字面量值来推断所需的类型。</p> 
<h3><a id="_104___187"></a>练习 1.04 – 跳过声明变量时的类型或值</h3> 
<p>在这个练习中，我们将更新之前的练习，使其跳过变量声明中的可选初始值或类型声明。然后，我们将像之前一样将这些值打印到控制台，以展示结果是一致的。开始吧：</p> 
<ol><li> <p>创建一个新文件夹，并在其中添加一个名为 <strong>main.go</strong> 的文件。</p> </li><li> <p>在 <strong>main.go</strong> 文件的顶部添加 <strong>main</strong> 包名：</p> <pre><code class="prism language-go"><span class="token keyword">package</span> main
</code></pre> </li><li> <p>导入我们需要的包：</p> <pre><code class="prism language-go"><span class="token keyword">import</span> <span class="token punctuation">(</span>
  <span class="token string">"fmt"</span>
  <span class="token string">"time"</span>
<span class="token punctuation">)</span>
</code></pre> </li><li> <p>开始多变量声明：</p> <pre><code class="prism language-go"><span class="token keyword">var</span> <span class="token punctuation">(</span>
</code></pre> </li><li> <p>在第一次练习中，布尔值的初始值是 <code>false</code>，这是布尔类型的零值，因此我们可以省略其声明中的初始值：</p> <pre><code class="prism language-go">  Debug   <span class="token builtin">bool</span>
</code></pre> </li><li> <p>其余两个变量都有非零的初始值，因此我们可以省略其类型声明：</p> <pre><code class="prism language-go">  LogLevel  <span class="token operator">=</span> <span class="token string">"info"</span>
  startUpTime <span class="token operator">=</span> time<span class="token punctuation">.</span><span class="token function">Now</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> </li><li> <p>结束 <strong>var</strong> 声明：</p> <pre><code class="prism language-go"><span class="token punctuation">)</span>
</code></pre> </li><li> <p>在 <strong>main()</strong> 函数中，打印每个变量的值：</p> <pre><code class="prism language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>Debug<span class="token punctuation">,</span> LogLevel<span class="token punctuation">,</span> startUpTime<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> </li><li> <p>保存文件。然后，在新文件夹中运行以下命令：</p> <pre><code class="prism language-sh">go run <span class="token builtin class-name">.</span>
</code></pre> <p>输出显示即使在声明变量时没有提及类型，变量的值仍然正确</p> </li></ol> 
<p>在这个练习中，我们能够更新之前的代码，使用更紧凑的变量声明方式。声明变量是你在编程中经常需要做的事情，省略这些冗余部分能让你的编码体验更好。</p> 
<p>接下来，我们将探讨一种不能跳过任何部分的情况。</p> 
<h3><a id="_256"></a>类型推断出错</h3> 
<p>有时你需要使用声明的所有部分——例如，当 Go 无法推断出你需要的正确类型时。以下是一个示例：</p> 
<pre><code class="prism language-go"><span class="token keyword">package</span> main
<span class="token keyword">import</span> <span class="token string">"math/rand"</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">var</span> seed <span class="token operator">=</span> <span class="token number">1234456789</span>
  rand<span class="token punctuation">.</span><span class="token function">NewSource</span><span class="token punctuation">(</span>seed<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>执行以上代码会出现错误。</p> 
<p>问题在于 <strong>rand.NewSource</strong> 需要一个 <strong>int64</strong> 类型的变量。Go 的类型推断规则会将像我们使用的数字解释为 <strong>int</strong> 类型。后续章节中，我们会详细讨论 <strong>int</strong> 和 <strong>int64</strong> 的区别。为了解决这个问题，我们需要在声明中明确指定 <strong>int64</strong> 类型，如下所示：</p> 
<pre><code class="prism language-go"><span class="token keyword">package</span> main
<span class="token keyword">import</span> <span class="token string">"math/rand"</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">var</span> seed <span class="token builtin">int64</span> <span class="token operator">=</span> <span class="token number">1234456789</span>
  rand<span class="token punctuation">.</span><span class="token function">NewSource</span><span class="token punctuation">(</span>seed<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>接下来，我们将介绍一种更快捷的变量声明方式。</p> 
<h3><a id="_286"></a>短变量声明</h3> 
<p>在函数内部声明变量时，我们可以使用 <strong>:=</strong> 简写。这种简写方式允许我们使声明更加简洁。它通过省略 <strong>var</strong> 关键字，并总是从需要的初始值中推断出类型来实现这一点。</p> 
<h3><a id="_105___290"></a>练习 1.05 – 实现短变量声明</h3> 
<p>在这个练习中，我们将更新之前的代码，使用短变量声明的方式。由于短变量声明只能在函数内使用，我们会将变量从包级别作用域移动到函数内。之前 <strong>Debug</strong> 变量有类型但没有初始值，现在我们将它更改为具有初始值，因为在使用短变量声明时这是必需的。最后，我们将打印这些变量到控制台。开始吧：</p> 
<ol><li> <p>创建一个新文件夹，并在其中添加一个名为 <strong>main.go</strong> 的文件。</p> </li><li> <p>在 <strong>main.go</strong> 文件的顶部添加 <strong>main</strong> 包名：</p> <pre><code class="prism language-go"><span class="token keyword">package</span> main
</code></pre> </li><li> <p>导入我们需要的包：</p> <pre><code class="prism language-go"><span class="token keyword">import</span> <span class="token punctuation">(</span>
  <span class="token string">"fmt"</span>
  <span class="token string">"time"</span>
<span class="token punctuation">)</span>
</code></pre> </li><li> <p>创建 <strong>main()</strong> 函数：</p> <pre><code class="prism language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
</code></pre> </li><li> <p>使用短变量声明语法声明每个变量：</p> <pre><code class="prism language-go">  Debug <span class="token operator">:=</span> <span class="token boolean">false</span>
  LogLevel <span class="token operator">:=</span> <span class="token string">"info"</span>
  startUpTime <span class="token operator">:=</span> time<span class="token punctuation">.</span><span class="token function">Now</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> </li><li> <p>将变量打印到控制台：</p> <pre><code class="prism language-go">  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>Debug<span class="token punctuation">,</span> LogLevel<span class="token punctuation">,</span> startUpTime<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> </li><li> <p>保存文件。然后，在新文件夹中运行以下命令：</p> <pre><code class="prism language-sh">go run <span class="token builtin class-name">.</span>
</code></pre> </li></ol> 
<p>在这个练习中，我们将之前的代码更新为使用非常简洁的变量声明方式，只要有初始值即可。</p> 
<p><strong>:=</strong> 简写在 Go 开发者中非常受欢迎，它是现实世界 Go 代码中最常见的变量定义方式。开发者喜欢它使代码简洁紧凑，同时仍然清晰明了。</p> 
<p>另一个快捷方式是将多个变量声明在同一行。</p> 
<h3><a id="_351"></a>使用短变量声明同时声明多个变量</h3> 
<p>你可以使用短变量声明同时声明多个变量。它们必须都在同一行，并且每个变量都必须有对应的初始值。其语法形式为 <strong>, , …, := , , …, </strong>。变量名位于 <strong>:=</strong> 左侧，并用 <strong>,</strong> 分隔。初始值位于 <strong>:=</strong> 右侧，也用 <strong>,</strong> 分隔。左侧的第一个变量名对应右侧的第一个值。变量名和初始值的数量必须相等。</p> 
<p>以下是一个使用之前练习代码的示例：</p> 
<pre><code class="prism language-go"><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
  <span class="token string">"fmt"</span>
  <span class="token string">"time"</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  Debug<span class="token punctuation">,</span> LogLevel<span class="token punctuation">,</span> startUpTime <span class="token operator">:=</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token string">"info"</span><span class="token punctuation">,</span> time<span class="token punctuation">.</span><span class="token function">Now</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>Debug<span class="token punctuation">,</span> LogLevel<span class="token punctuation">,</span> startUpTime<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>在实际代码中，有时会看到这样的写法。虽然这种写法有点难以阅读，但它在处理函数返回多个值时非常常见。我们将在后续章节中详细讨论这一点。</p> 
<h3><a id="_106___373"></a>练习 1.06 – 从函数中声明多个变量</h3> 
<p>在这个练习中，我们将调用一个返回多个值的函数，并将每个值赋给一个新变量。然后，我们将这些变量打印到控制台。开始吧：</p> 
<ol><li> <p>创建一个新文件夹，并在其中添加一个名为 <strong>main.go</strong> 的文件。</p> </li><li> <p>在 <strong>main.go</strong> 文件的顶部添加 <strong>main</strong> 包名：</p> <pre><code class="prism language-go"><span class="token keyword">package</span> main
</code></pre> </li><li> <p>导入我们需要的包：</p> <pre><code class="prism language-go"><span class="token keyword">import</span> <span class="token punctuation">(</span>
  <span class="token string">"fmt"</span>
  <span class="token string">"time"</span>
<span class="token punctuation">)</span>
</code></pre> </li><li> <p>创建一个返回三个值的函数：</p> <pre><code class="prism language-go"><span class="token keyword">func</span> <span class="token function">getConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token builtin">bool</span><span class="token punctuation">,</span> <span class="token builtin">string</span><span class="token punctuation">,</span> time<span class="token punctuation">.</span>Time<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
</code></pre> </li><li> <p>在函数中返回三个字面量值，每个值用 <strong>,</strong> 分隔：</p> <pre><code class="prism language-go">  <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token string">"info"</span><span class="token punctuation">,</span> time<span class="token punctuation">.</span><span class="token function">Now</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> </li><li> <p>关闭函数：</p> <pre><code class="prism language-go"><span class="token punctuation">}</span>
</code></pre> </li><li> <p>创建 <strong>main()</strong> 函数：</p> <pre><code class="prism language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
</code></pre> </li><li> <p>使用短变量声明捕获函数返回的三个新变量的值：</p> <pre><code class="prism language-go">  Debug<span class="token punctuation">,</span> LogLevel<span class="token punctuation">,</span> startUpTime <span class="token operator">:=</span> <span class="token function">getConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> </li><li> <p>将这三个变量打印到控制台：</p> <pre><code class="prism language-go">  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>Debug<span class="token punctuation">,</span> LogLevel<span class="token punctuation">,</span> startUpTime<span class="token punctuation">)</span>
</code></pre> </li><li> <p>关闭 <strong>main()</strong> 函数：</p> <pre><code class="prism language-go"><span class="token punctuation">}</span>
</code></pre> </li><li> <p>保存文件。然后，在新文件夹中运行以下命令：</p> <pre><code class="prism language-sh">go run <span class="token builtin class-name">.</span>
</code></pre> </li></ol> 
<p>在这个练习中，我们调用了一个返回多个值的函数，并使用短变量声明在一行中捕获了这些值。如果使用 <strong>var</strong> 语法，它将如下所示：</p> 
<pre><code class="prism language-go"><span class="token keyword">var</span> <span class="token punctuation">(</span>
  Debug <span class="token builtin">bool</span>
  LogLevel <span class="token builtin">string</span>
  startUpTime time<span class="token punctuation">.</span>Time
<span class="token punctuation">)</span>
Debug<span class="token punctuation">,</span> LogLevel<span class="token punctuation">,</span> startUpTime <span class="token operator">=</span> <span class="token function">getConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p>短变量声明是一种使 Go 看起来像动态语言的关键特性。</p> 
<p>不过，<strong>var</strong> 语法还有一个有用的技巧，我们将在接下来的内容中继续探索。</p> 
<h3><a id="_var__463"></a>使用 <code>var</code> 一行声明多个变量</h3> 
<p>虽然短变量声明更常用，但你也可以使用 <code>var</code> 在一行中定义多个变量。需要注意的是，当声明类型时，所有的值必须具有相同的类型。如果你使用初始值，那么每个值可以根据字面量值推断其类型，因此可以有不同的类型。以下是一个示例：</p> 
<pre><code class="prism language-go"><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
  <span class="token string">"fmt"</span>
  <span class="token string">"time"</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">getConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token builtin">bool</span><span class="token punctuation">,</span> <span class="token builtin">string</span><span class="token punctuation">,</span> time<span class="token punctuation">.</span>Time<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token string">"info"</span><span class="token punctuation">,</span> time<span class="token punctuation">.</span><span class="token function">Now</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token comment">// 仅声明类型</span>
  <span class="token keyword">var</span> start<span class="token punctuation">,</span> middle<span class="token punctuation">,</span> end <span class="token builtin">float32</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span> middle<span class="token punctuation">,</span> end<span class="token punctuation">)</span>
  
  <span class="token comment">// 初始值，混合类型</span>
  <span class="token keyword">var</span> name<span class="token punctuation">,</span> left<span class="token punctuation">,</span> right<span class="token punctuation">,</span> top<span class="token punctuation">,</span> bottom <span class="token operator">=</span> <span class="token string">"one"</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1.5</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2.5</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> left<span class="token punctuation">,</span> right<span class="token punctuation">,</span> top<span class="token punctuation">,</span> bottom<span class="token punctuation">)</span>
  
  <span class="token comment">// 也适用于函数</span>
  <span class="token keyword">var</span> Debug<span class="token punctuation">,</span> LogLevel<span class="token punctuation">,</span> startUpTime <span class="token operator">=</span> <span class="token function">getConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>Debug<span class="token punctuation">,</span> LogLevel<span class="token punctuation">,</span> startUpTime<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>在实际应用中，短变量声明通常会更简洁，因此 <code>var</code> 语法不常用于多个变量的声明。唯一的例外是当你需要声明多个相同类型的变量时，这种语法可以帮助你更好地控制类型。</p> 
<h3><a id="_498"></a>非英语变量名</h3> 
<p>Go 是一个支持 UTF-8 的语言，这意味着你可以使用除拉丁字母外的其他字母来定义变量名。例如，以下代码展示了如何使用不同语言的字母作为变量名：</p> 
<pre><code class="prism language-go"><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
  <span class="token string">"fmt"</span>
  <span class="token string">"time"</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  デバッグ <span class="token operator">:=</span> <span class="token boolean">false</span>
  日志级别 <span class="token operator">:=</span> <span class="token string">"info"</span>
  ይጀምሩ <span class="token operator">:=</span> time<span class="token punctuation">.</span><span class="token function">Now</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  _A1_Μείγμα <span class="token operator">:=</span> <span class="token string">""</span> 
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>デバッグ<span class="token punctuation">,</span> 日志级别<span class="token punctuation">,</span> ይጀምሩ<span class="token punctuation">,</span> _A1_Μείγμα<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>虽然可以这样定义，但是不建议。</p> 
<h3><a id="_525"></a>修改变量的值</h3> 
<p>现在我们已经定义了变量，接下来让我们看看如何修改变量的值。修改变量的值与设置初始值的语法类似，使用 <strong> = </strong> 这样的格式。</p> 
<h3><a id="_107___529"></a>练习 1.07 – 修改变量的值</h3> 
<p>请按照以下步骤操作：</p> 
<ol><li> <p>创建一个新的文件夹，并在其中添加一个 <strong>main.go</strong> 文件。</p> </li><li> <p>在 <strong>main.go</strong> 中，添加 <strong>main</strong> 包名到文件的顶部：</p> <pre><code class="prism language-go"><span class="token keyword">package</span> main
</code></pre> </li><li> <p>导入所需的包：</p> <pre><code class="prism language-go"><span class="token keyword">import</span> <span class="token string">"fmt"</span>
</code></pre> </li><li> <p>创建 <strong>main()</strong> 函数：</p> <pre><code class="prism language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
</code></pre> </li><li> <p>声明一个变量：</p> <pre><code class="prism language-go">  offset <span class="token operator">:=</span> <span class="token number">5</span>
</code></pre> </li><li> <p>打印变量的值到控制台：</p> <pre><code class="prism language-go">  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>offset<span class="token punctuation">)</span>
</code></pre> </li><li> <p>修改变量的值：</p> <pre><code class="prism language-go">  offset <span class="token operator">=</span> <span class="token number">10</span>
</code></pre> </li><li> <p>再次打印变量的值，并关闭 <strong>main()</strong> 函数：</p> <pre><code class="prism language-go">  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>offset<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> </li><li> <p>保存文件。在新的文件夹中，运行以下命令：</p> <pre><code class="prism language-bash">go run <span class="token builtin class-name">.</span>
</code></pre> </li></ol> 
<p>输出结果如下：</p> 
<pre><code>5
10
</code></pre> 
<p>在这个例子中，我们将 <code>offset</code> 的值从初始值 <strong>5</strong> 修改为 <strong>10</strong>。任何使用原始值的地方，例如我们示例中的 <strong>5</strong> 和 <strong>10</strong>，你都可以使用变量。以下是如何使用变量替代原始值的示例：</p> 
<pre><code class="prism language-go"><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token string">"fmt"</span>

<span class="token keyword">var</span> defaultOffset <span class="token operator">=</span> <span class="token number">10</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  offset <span class="token operator">:=</span> defaultOffset
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>offset<span class="token punctuation">)</span>
  offset <span class="token operator">=</span> offset <span class="token operator">+</span> defaultOffset
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>offset<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>输出结果如下：</p> 
<pre><code>10
20
</code></pre> 
<p>在这个例子中，我们将 <code>offset</code> 的初始值设为 <code>defaultOffset</code>，然后将 <code>offset</code> 更新为 <code>offset + defaultOffset</code>。这种方法使得我们可以在代码中使用变量来替代硬编码的值，提高了代码的灵活性和可维护性。</p> 
<h3><a id="_617"></a>一行中修改多个变量的值</h3> 
<p>接下来，我们将看看如何在一行中修改多个变量的值。</p> 
<h3><a id="_625"></a>一次修改多个变量的值</h3> 
<p>与在一行中声明多个变量类似，你也可以在一行中同时修改多个变量的值。其语法也非常类似，格式为 <strong>, , …, = , , …, </strong>。</p> 
<h3><a id="_108___629"></a>练习 1.08 – 一次修改多个变量的值</h3> 
<p>在本练习中，我们将定义一些变量，并使用一行语句来修改它们的值。然后，我们会打印出这些变量的新值。让我们开始吧：</p> 
<ol><li> <p>创建一个新的文件夹，并在其中添加一个 <strong>main.go</strong> 文件。</p> </li><li> <p>在 <strong>main.go</strong> 中，添加 <strong>main</strong> 包名到文件的顶部：</p> <pre><code class="prism language-go"><span class="token keyword">package</span> main
</code></pre> </li><li> <p>导入所需的包：</p> <pre><code class="prism language-go"><span class="token keyword">import</span> <span class="token string">"fmt"</span>
</code></pre> </li><li> <p>创建 <strong>main()</strong> 函数：</p> <pre><code class="prism language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
</code></pre> </li><li> <p>声明我们的变量并初始化值：</p> <pre><code class="prism language-go">  query<span class="token punctuation">,</span> limit<span class="token punctuation">,</span> offset <span class="token operator">:=</span> <span class="token string">"bat"</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">0</span>
</code></pre> </li><li> <p>使用一行语句修改每个变量的值：</p> <pre><code class="prism language-go">  query<span class="token punctuation">,</span> limit<span class="token punctuation">,</span> offset <span class="token operator">=</span> <span class="token string">"ball"</span><span class="token punctuation">,</span> offset<span class="token punctuation">,</span> <span class="token number">20</span>
</code></pre> </li><li> <p>打印这些变量的值到控制台，并关闭 <strong>main()</strong> 函数：</p> <pre><code class="prism language-go">  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>query<span class="token punctuation">,</span> limit<span class="token punctuation">,</span> offset<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> </li><li> <p>保存文件。在新的文件夹中，运行以下命令：</p> <pre><code class="prism language-bash">go run <span class="token builtin class-name">.</span>
</code></pre> </li></ol> 
<p>输出结果如下，显示了一行语句中修改后的变量值：</p> 
<pre><code>ball 0 20
</code></pre> 
<p>在本练习中，我们成功地在一行中修改了多个变量的值。这种方法也可以用于函数调用，就像变量声明一样。不过，你需要小心使用这种特性，确保代码首先易于阅读和理解。如果使用一行语句使得代码难以理解，那么分多行写代码可能会更清晰。</p> 
<p>接下来，我们将探讨操作符是什么，以及它们如何被用来以有趣的方式改变你的变量。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/1108c20d6db665e92732dfccd4b37abe/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【Gin】架构的精妙编织：Gin框架中组合模式的革新实践与技术深度解析(下)</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/60174c6c40b699353f1ef15988d3e6c6/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">6 Go语言的常量、枚举、作用域</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>