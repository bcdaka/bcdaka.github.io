<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【华为OD机试B卷】服务器广播、需要广播的服务器数量（C&#43;&#43;/Java/Python） - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/d1882419605d11e2960ff018c002d8b9/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="【华为OD机试B卷】服务器广播、需要广播的服务器数量（C&#43;&#43;/Java/Python）">
  <meta property="og:description" content="题目 题目描述 服务器连接方式包括直接相连，间接连接。
A和B直接连接，B和C直接连接，则A和C间接连接。
直接连接和间接连接都可以发送广播。
给出一个N*N数组，代表N个服务器，
matrix[i][j] == 1，
则代表i和j直接连接；不等于 1 时，代表i和j不直接连接。
matrix[i][i] == 1，
即自己和自己直接连接。matrix[i][j] == matrix[j][i]。
计算初始需要给几台服务器广播， 才可以使每个服务器都收到广播。
输入 输入为N行，每行有N个数字，为0或1，由空格分隔，
构成N*N的数组，N的范围为 1 &lt;= N &lt;= 40
输出 输出一个数字，为需要广播的服务器的数量
用例一 输入
1 0 0 0 1 0 0 0 1 输出
3 说明
3 台服务器互不连接，所以需要分别广播这 3 台服务器
用例二 输入
1 1 1 1 输出
1 说明
2 台服务器相互连接，所以只需要广播其中一台服务器
实现代码 C&#43;&#43; #include &lt;iostream&gt; #include &lt;vector&gt; using namespace std; int count = 0; void dfs(vector&lt;vector&lt;int&gt;&gt;&amp; arr, vector&lt;bool&gt;&amp; visited, int index) { visited[index] = true; bool flag = true; for (int i = index &#43; 1; i &lt; arr.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-06-25T14:57:40+08:00">
    <meta property="article:modified_time" content="2024-06-25T14:57:40+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【华为OD机试B卷】服务器广播、需要广播的服务器数量（C&#43;&#43;/Java/Python）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h3>题目</h3> 
<blockquote> 
 <h4>题目描述</h4> 
 <p>服务器连接方式包括直接相连，间接连接。</p> 
 <p><code>A</code>和<code>B</code>直接连接，<code>B</code>和<code>C</code>直接连接，则<code>A</code>和<code>C</code>间接连接。</p> 
 <p>直接连接和间接连接都可以发送广播。</p> 
 <p>给出一个<code>N*N</code>数组，代表<code>N</code>个服务器，</p> 
 <p><code>matrix[i][j] == 1</code>，<br> 则代表<code>i</code>和<code>j</code>直接连接；不等于 1 时，代表<code>i</code>和<code>j</code>不直接连接。</p> 
 <p><code>matrix[i][i] == 1</code>，</p> 
 <p>即自己和自己直接连接。<code>matrix[i][j] == matrix[j][i]</code>。</p> 
 <p>计算初始需要给几台服务器广播， 才可以使每个服务器都收到广播。</p> 
 <h4><a name="t2"></a><a id="_28"></a>输入</h4> 
 <p>输入为<code>N</code>行，每行有<code>N</code>个数字，为<code>0</code>或<code>1</code>，由空格分隔，</p> 
 <p>构成<code>N*N</code>的数组，<code>N</code>的范围为 <code>1 &lt;= N &lt;= 40</code></p> 
 <h4><a name="t3"></a><a id="_34"></a>输出</h4> 
 <p>输出一个数字，为需要广播的服务器的数量</p> 
 <h6><a id="ACM_39"></a></h6> 
 <h4><a name="t4"></a><a id="_45"></a>用例一</h4> 
 <p>输入</p> 
 <pre><code class="language-bash">1 0 0
0 1 0
0 0 1
</code></pre> 
 <p>输出</p> 
 <pre><code class="language-bash">3
</code></pre> 
 <p>说明</p> 
 <p>3 台服务器互不连接，所以需要分别广播这 3 台服务器</p> 
 <p></p> 
 <h4><a name="t5"></a><a id="_65"></a>用例二</h4> 
 <p>输入</p> 
 <pre><code class="language-bash">1 1
1 1
</code></pre> 
 <p>输出</p> 
 <pre><code class="language-bash">1
</code></pre> 
 <p>说明</p> 
 <p>2 台服务器相互连接，所以只需要广播其中一台服务器</p> 
</blockquote> 
<h3>实现代码</h3> 
<h5>C++</h5> 
<pre><code class="language-cpp">#include &lt;iostream&gt;
#include &lt;vector&gt;
using namespace std;

int count = 0;

void dfs(vector&lt;vector&lt;int&gt;&gt;&amp; arr, vector&lt;bool&gt;&amp; visited, int index) {
    visited[index] = true;
    bool flag = true;
    for (int i = index + 1; i &lt; arr.size(); i++) {
        if (arr[index][i] == 1) {
            flag = false;
            dfs(arr, visited, i);
        }
    }
    if (flag) {
        count++;
    }
}

int main() {
    string input;
    getline(cin, input);
    vector&lt;string&gt; str;
    size_t pos = 0;
    while ((pos = input.find(" ")) != string::npos) {
        str.push_back(input.substr(0, pos));
        input.erase(0, pos + 1);
    }
    str.push_back(input);
    int n = str.size();
    vector&lt;vector&lt;int&gt;&gt; arr(n, vector&lt;int&gt;(n, 0));
    for (int i = 0; i &lt; n; i++) {
        arr[0][i] = stoi(str[i]);
    }
    for (int i = 1; i &lt; n; i++) {
        getline(cin, input);
        pos = 0;
        vector&lt;string&gt; s;
        while ((pos = input.find(" ")) != string::npos) {
            s.push_back(input.substr(0, pos));
            input.erase(0, pos + 1);
        }
        s.push_back(input);
        for (int j = 0; j &lt; n; j++) {
            arr[i][j] = stoi(s[j]);
        }
    }
    vector&lt;bool&gt; visited(n, false);
    for (int i = 0; i &lt; n; i++) {
        if (!visited[i]) {
            dfs(arr, visited, i);
        }
    }
    cout &lt;&lt; count &lt;&lt; endl;
    return 0;
}

</code></pre> 
<h5>Java</h5> 
<pre><code class="language-java">import java.util.*;

public class Main {
    public static void main(String[] args) {
        Scanner in = new Scanner(System.in);
        String[] str = in.nextLine().split(" ");
        int n = str.length;
        int[][] arr = new int[n][n];
        for(int i = 0; i &lt; n; i++) {   
            arr[0][i] = Integer.parseInt(str[i]);
        }
        for(int i = 1; i &lt; n; i++) {   
            String[] s = in.nextLine().split(" ");
            for(int j = 0; j &lt; n; j++) {
                arr[i][j] = Integer.parseInt(s[j]);
            }
        }
        int count = 0;
        Queue&lt;Integer&gt; queue = new LinkedList&lt;&gt;();
        for(int i = 0; i &lt; n; i++) {
            if(!queue.contains(i)) {
                dfs(arr, queue, i);
                count++;
            }
        }
        System.out.println(count);
    }
    
    public static void dfs(int[][] arr, Queue&lt;Integer&gt; queue, int index) {
        queue.offer(index);
        for (int i = index + 1; i &lt; arr.length; i++) {
            if (arr[index][i] == 1 &amp;&amp; !queue.contains(i)) {
                dfs(arr, queue, i);
            }
        }
    }
}
</code></pre> 
<h5>Python</h5> 
<pre><code class="language-python">import sys

def dfs(arr, visited, index):
    visited[index] = True
    flag = True
    for i in range(index + 1, len(arr)):
        if arr[index][i] == 1:
            flag = False
            dfs(arr, visited, i)
    if flag:
        global count
        count += 1

count = 0
str = input().split(" ")
n = len(str)
arr = [[0]*n for _ in range(n)]
for i in range(n):
    arr[0][i] = int(str[i])
for i in range(1, n):
    s = input().split(" ")
    for j in range(n):
        arr[i][j] = int(s[j])
visited = [False]*n
for i in range(n):
    if not visited[i]:
        dfs(arr, visited, i)
print(count)
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/727bbe336442dae9f5111fab07232d94/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【大数据开发语言Scala的入门教程】</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/dab9f7646f48f4912d72c56d11acced4/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【云计算】阿里云、腾讯云、华为云平台数据库对比</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>