<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Git常用命 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/fc22e8c379fbea558018d842440f2c40/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="Git常用命">
  <meta property="og:description" content="转自：https://blog.csdn.net/ahjxhy2010/article/details/80047553
1.查看某个文件或目录的修改历史 git log filename #查看fileName相关的commit记录 git log -p filenam # 显示每次提交的diff #只看某次提交中的某个文件变化，commit-id 文件名 git show c5e69804bbd9725b5dece57f8cbece4a96b9f80b filename git log --oneline #每笔提交只显示一行 # 查看当前目录下的提交记录，-n 是个数 git log -n 10 --stat . 2.查看暂存区 git ls-files //查看暂存区中文件信息 如何查看暂存区中bb.txt文件内容是什么？
git ls-files -s -- 文件名 或者直接 git ls-files -s //然后通过Blob对象，查询bb.txt里面的内容： git cat-file -p 6cef git stash //可以把当前工作现场“储藏”起来，等以后恢复现场后继续工作 //把工作区和暂存区的内容都存起来 git stash list //查看暂存内容 git stash pop //恢复的同时把stash内容也删了 git stash clear //清空所有的内容 git stash drop stash@{0} //这是删除第一个队列 3.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-08-02T01:26:11+08:00">
    <meta property="article:modified_time" content="2024-08-02T01:26:11+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Git常用命</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>转自：https://blog.csdn.net/ahjxhy2010/article/details/80047553</p> 
<h2>1.查看某个文件或目录的修改历史</h2> 
<pre><code class="language-bash">git log filename   #查看fileName相关的commit记录
git log -p filenam    # 显示每次提交的diff

#只看某次提交中的某个文件变化，commit-id 　文件名
git show c5e69804bbd9725b5dece57f8cbece4a96b9f80b filename

git log --oneline #每笔提交只显示一行

# 查看当前目录下的提交记录，-n 是个数
git log -n 10 --stat .
</code></pre> 
<h2> 2.查看暂存区</h2> 
<pre><code class="language-bash">git ls-files    //查看暂存区中文件信息</code></pre> 
<p>如何查看暂存区中bb.txt文件内容是什么？</p> 
<pre><code class="language-bash">git ls-files -s -- 文件名 或者直接 git ls-files -s
//然后通过Blob对象，查询bb.txt里面的内容：
git cat-file -p 6cef
</code></pre> 
<pre><code class="language-bash">git stash    //可以把当前工作现场“储藏”起来，等以后恢复现场后继续工作
//把工作区和暂存区的内容都存起来
git stash list       //查看暂存内容
git stash pop    //恢复的同时把stash内容也删了
git stash clear  //清空所有的内容
git stash drop stash@{0} //这是删除第一个队列</code></pre> 
<h2> 3.commit</h2> 
<pre><code class="language-bash">//打印所有commit记录
git log

//查看修改的文件具体内容
git show commitId
//查看修改文件的列表
git show commitId --stat

//查看某次commit中具体某个文件的修改：
git show commitId fileName

//提交不会产生新的commitID
git commit --amend</code></pre> 
<h2>4.分支操作</h2> 
<pre><code class="language-bash">创建分支：git branch &lt;name&gt;

切换分支：git checkout &lt;name&gt;或者git switch &lt;name&gt;

创建+切换分支：git checkout -b &lt;name&gt;或者git switch -c &lt;name&gt;

删除分支：git branch -d &lt;name&gt;

恢复分支：git branch 你的分支名 SHA1值

合并某分支到当前分支：git merge &lt;name&gt;</code></pre> 
<h2> 6.删除文件的工作区所有更改-回退</h2> 
<pre><code class="language-bash">% git checkout -- filename</code></pre> 
<p>情况1：在工作区做了修改，并未添加到暂存区，想撤销工作区的修改，用 git restore file;</p> 
<p>情况2：在工作区做了修改，并用git add 添加到了暂存区，未提交；想撤销，分两步，1.先撤销暂存区的修改，用 <strong>git reset</strong>, 2.然后参考情况1撤销工作区的修改；</p> 
<p>通过 <code>git reset 文件名</code> 命令可以撤销指定文件的 <code>git add</code> 操作，即这个文件在暂存区的修改。</p> 
<p>通过 <code>git reset</code> 命令可以撤销之前的所有 <code>git add</code> 操作，即在暂存区的修改。</p> 
<p>情况3：在工作区做了修改，且git add git commit添加并提交了内容，想撤销本次提交，直接用 git reset --hard HEAD^回退版本，即可保证工作区，暂存区，版本库都是上次的内容。（这样修改的代码会没有，慎用！）</p> 
<p><strong>git reset --soft HEAD^</strong>，只是将commit操作回退，add .和工作区内容都在。</p> 
<p>删除所有工作区的修改：git checkout . // 丢弃所有修改或删除，不影响新增或未跟踪的文件。会递归下级目录.</p> 
<p>只添加改动的文件，不添加删除和新建文件：</p> 
<pre><code class="language-bash">git add -A .  //添加有改动、新增、删除的文件
git add -u .  //添加有改动、删除的文件，不包括新增的文件（这个已确认不添加新增的文件，u即update的缩写）
git add . //看许多博客说它只添加编辑+新增的文件，不添加被删除的文件，但我试了下会添加删除的文件。。。</code></pre> 
<p></p> 
<h2> 7.统计</h2> 
<p>https://blog.csdn.net/beibeix2015/article/details/111868461</p> 
<pre><code class="language-bash">git log --author="author"    //查看某个人的所有提交，用于总结报告
git log --reverse  --author="author"    //逆序查看
git log --author="zhangphil" --oneline | wc -l    //总的提交次数</code></pre> 
<h2>8.调整commit的顺序 </h2> 
<p>假设想把下述倒数第3个提交149fa24挪到第一个，</p> 
<p class="img-center"><img alt="" height="187" src="https://images2.imgbox.com/14/1c/oO0xATh8_o.png" width="620"></p> 
<pre><code class="language-bash">git rebase -i HEAD~3
#再通过dd剪切一行，通过p粘贴 </code></pre> 
<p class="img-center"><img alt="" height="218" src="https://images2.imgbox.com/8d/35/mUfoLrVY_o.png" width="752"></p> 
<p> 注意上图展示的提交是倒序，最晚提交的在最下面。 前提至少这几笔提交没有先后依赖关系，否则不会成功。</p> 
<pre><code class="language-bash">git branch设置不less格式：git config --global pager.branch false

git log设置不less格式: git config --global pager.log false</code></pre> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/6db58e140369b1106cefd648d6b0be67/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">在CentOS 7上安装Apache Tomcat 8的方法</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/d558b7ab82e43c0548e51dd826e80896/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Flink-StarRocks详解:第三部分StarRocks分区分桶(第53天)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>