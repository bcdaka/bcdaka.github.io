<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>SpringBootç³»åˆ—â€”â€”ä½¿ç”¨Spring Cacheå’ŒRediså®ç°æŸ¥è¯¢æ•°æ®ç¼“å­˜ - ç¼–ç¨‹å¤§å’–</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/acb576b6f4b70bd2a2558ece9a7e9aa6/">
  <meta property="og:site_name" content="ç¼–ç¨‹å¤§å’–">
  <meta property="og:title" content="SpringBootç³»åˆ—â€”â€”ä½¿ç”¨Spring Cacheå’ŒRediså®ç°æŸ¥è¯¢æ•°æ®ç¼“å­˜">
  <meta property="og:description" content="æ–‡ç« ç›®å½• 1. å‰è¨€2. ç¼“å­˜2.1 ä»€ä¹ˆæ˜¯ç¼“å­˜2.2 ä½¿ç”¨ç¼“å­˜çš„å¥½å¤„2.3 ç¼“å­˜çš„æˆæœ¬2.4 Spring Cacheå’ŒRedisçš„ä¼˜ç‚¹ 3. Spring CacheåŸºç¡€çŸ¥è¯†3.1 Spring Cacheçš„æ ¸å¿ƒæ¦‚å¿µ3.2 Spring Cacheçš„æ³¨è§£3.2.1 SpELè¡¨è¾¾å¼3.2.2 @Cacheable3.2.3 @CachePut3.2.4 @CacheEvict 4. å®ç°æŸ¥è¯¢æ•°æ®ç¼“å­˜4.1 å‡†å¤‡å·¥ä½œ4.2 æ·»åŠ ä¾èµ–4.3 ä¿®æ”¹é…ç½®æ–‡ä»¶4.4 é…ç½®ç¼“å­˜ç®¡ç†å™¨4.5 ä½¿ç”¨Spring Cacheæ³¨è§£4.6 æµ‹è¯•4.6.1 æŸ¥è¯¢æµ‹è¯•4.6.2 æ›´æ–°ã€åˆ é™¤æµ‹è¯• 5. æ€»ç»“ 1. å‰è¨€ åœ¨ç°ä»£åº”ç”¨ç¨‹åºä¸­ï¼ŒæŸ¥è¯¢ç¼“å­˜çš„ä½¿ç”¨å·²ç»å˜å¾—è¶Šæ¥è¶Šæ™®éã€‚å®ƒä¸ä»…èƒ½å¤Ÿæ˜¾è‘—æé«˜ç³»ç»Ÿçš„æ€§èƒ½ï¼Œè¿˜èƒ½æå‡ç”¨æˆ·ä½“éªŒã€‚ç¼“å­˜é€šè¿‡åœ¨å†…å­˜ä¸­å­˜å‚¨é¢‘ç¹è®¿é—®çš„æ•°æ®ï¼Œå‡å°‘å¯¹æ•°æ®åº“æˆ–å…¶ä»–å­˜å‚¨ç³»ç»Ÿçš„è®¿é—®ï¼Œä»è€ŒåŠ å¿«æ•°æ®è¯»å–é€Ÿåº¦ã€‚åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†æ¢è®¨ç¼“å­˜çš„åŸºæœ¬æ¦‚å¿µã€é‡è¦æ€§ä»¥åŠå¦‚ä½•ä½¿ç”¨Spring Cacheå’ŒRediså®ç°æŸ¥è¯¢æ•°æ®ç¼“å­˜ ã€‚
2. ç¼“å­˜ 2.1 ä»€ä¹ˆæ˜¯ç¼“å­˜ ç¼“å­˜æ˜¯ä¸€ç§ä¸´æ—¶å­˜å‚¨æœºåˆ¶ï¼Œç”¨äºåœ¨å†…å­˜ä¸­ä¿å­˜é¢‘ç¹è®¿é—®çš„æ•°æ®ã€‚å®ƒå¯ä»¥æ˜¯ç¡¬ä»¶ï¼ˆå¦‚CPUç¼“å­˜ï¼‰æˆ–è½¯ä»¶ï¼ˆå¦‚åº”ç”¨ç¨‹åºç¼“å­˜ï¼‰ã€‚ç¼“å­˜çš„ä¸»è¦ç›®çš„æ˜¯é€šè¿‡å‡å°‘æ•°æ®è®¿é—®çš„å»¶è¿Ÿï¼Œæé«˜ç³»ç»Ÿçš„å“åº”é€Ÿåº¦ã€‚ä»¥ä¸‹æ˜¯ç¼“å­˜çš„ä¸€äº›å…³é”®ç‰¹æ€§ï¼š
ä¸´æ—¶æ€§ï¼šç¼“å­˜ä¸­çš„æ•°æ®é€šå¸¸æ˜¯ä¸´æ—¶çš„ï¼Œä¼šåœ¨ä¸€æ®µæ—¶é—´åå¤±æ•ˆæˆ–è¢«æ›¿æ¢ã€‚å¿«é€Ÿè®¿é—®ï¼šç”±äºç¼“å­˜æ•°æ®å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œè®¿é—®é€Ÿåº¦éå¸¸å¿«ã€‚ç©ºé—´æœ‰é™ï¼šç¼“å­˜çš„å­˜å‚¨ç©ºé—´é€šå¸¸æœ‰é™ï¼Œå› æ­¤éœ€è¦æœ‰æ•ˆçš„ç®¡ç†ç­–ç•¥ï¼Œå¦‚LRUï¼ˆæœ€è¿‘æœ€å°‘ä½¿ç”¨ï¼‰ç­–ç•¥ã€‚ 2.2 ä½¿ç”¨ç¼“å­˜çš„å¥½å¤„ æé«˜æ€§èƒ½ï¼šç¼“å­˜å¯ä»¥æ˜¾è‘—å‡å°‘æ•°æ®è¯»å–çš„æ—¶é—´ï¼Œå› ä¸ºå†…å­˜è®¿é—®é€Ÿåº¦æ¯”ç¡¬ç›˜æˆ–ç½‘ç»œå­˜å‚¨å¿«å¾ˆå¤šã€‚å‡è½»æ•°æ®åº“è´Ÿè½½ï¼šç¼“å­˜å¯ä»¥å‡å°‘æ•°æ®åº“çš„æŸ¥è¯¢æ¬¡æ•°ï¼Œä»è€Œå‡è½»æ•°æ®åº“çš„è´Ÿè½½ï¼Œæå‡æ•´ä½“ç³»ç»Ÿçš„ç¨³å®šæ€§å’Œå¯æ‰©å±•æ€§ã€‚èŠ‚çœèµ„æºï¼šé€šè¿‡å‡å°‘å¯¹åç«¯ç³»ç»Ÿçš„è®¿é—®ï¼Œç¼“å­˜å¯ä»¥å¸®åŠ©èŠ‚çœå¸¦å®½å’Œè®¡ç®—èµ„æºã€‚æé«˜ç”¨æˆ·ä½“éªŒï¼šå¿«é€Ÿçš„æ•°æ®è®¿é—®å¯ä»¥æ˜¾è‘—æå‡ç”¨æˆ·ä½“éªŒï¼Œç‰¹åˆ«æ˜¯åœ¨éœ€è¦é¢‘ç¹è¯»å–æ•°æ®çš„åº”ç”¨åœºæ™¯ä¸­ã€‚ 2.3 ç¼“å­˜çš„æˆæœ¬ å†…å­˜æ¶ˆè€—ï¼šç¼“å­˜éœ€è¦å ç”¨ç³»ç»Ÿçš„å†…å­˜èµ„æºï¼Œè¿‡å¤šçš„ç¼“å­˜å¯èƒ½ä¼šå½±å“å…¶ä»–åº”ç”¨ç¨‹åºçš„æ€§èƒ½ã€‚æ•°æ®ä¸€è‡´æ€§ï¼šç¼“å­˜ä¸­çš„æ•°æ®å¯èƒ½ä¼šä¸æ•°æ®åº“ä¸­çš„æ•°æ®ä¸ä¸€è‡´ï¼Œå°¤å…¶æ˜¯åœ¨æ•°æ®é¢‘ç¹æ›´æ–°çš„åœºæ™¯ä¸­ã€‚éœ€è¦è®¾è®¡æœ‰æ•ˆçš„ç¼“å­˜å¤±æ•ˆç­–ç•¥æ¥ä¿è¯æ•°æ®çš„ä¸€è‡´æ€§ã€‚å¤æ‚æ€§å¢åŠ ï¼šå¼•å…¥ç¼“å­˜æœºåˆ¶ä¼šå¢åŠ ç³»ç»Ÿçš„å¤æ‚æ€§ï¼Œéœ€è¦å¤„ç†ç¼“å­˜çš„ç®¡ç†ã€æ›´æ–°å’Œå¤±æ•ˆç­‰é—®é¢˜ã€‚ç»´æŠ¤æˆæœ¬ï¼šç¼“å­˜ç³»ç»Ÿéœ€è¦å®šæœŸç›‘æ§å’Œç»´æŠ¤ï¼Œä»¥ç¡®ä¿å…¶é«˜æ•ˆè¿è¡Œã€‚ 2.4 Spring Cacheå’ŒRedisçš„ä¼˜ç‚¹ ä¸ºäº†å®ç°é«˜æ•ˆçš„æ•°æ®ç¼“å­˜ï¼ŒSpring Bootæä¾›äº†Spring Cacheæ¨¡å—ï¼Œè€ŒRedisåˆ™æ˜¯ä¸€ä¸ªå¼ºå¤§çš„ç¼“å­˜æ•°æ®åº“ã€‚ç»“åˆä½¿ç”¨Spring Cacheå’ŒRedisï¼Œèƒ½å¤Ÿå……åˆ†å‘æŒ¥äºŒè€…çš„ä¼˜ç‚¹ï¼Œå®ç°é«˜æ•ˆçš„æ•°æ®ç¼“å­˜ã€‚
Spring Cacheçš„ä¼˜ç‚¹ï¼š ç®€åŒ–ç¼“å­˜æ“ä½œï¼šSpring Cacheæä¾›äº†ä¸€ç³»åˆ—æ³¨è§£ï¼ˆå¦‚@Cacheableã€@CachePutã€@CacheEvictï¼‰ï¼Œç®€åŒ–äº†ç¼“å­˜çš„ä½¿ç”¨ï¼Œä½¿å¼€å‘è€…èƒ½å¤Ÿä¸“æ³¨äºä¸šåŠ¡é€»è¾‘ã€‚çµæ´»çš„ç¼“å­˜ç®¡ç†ï¼šSpring Cacheæ”¯æŒå¤šç§ç¼“å­˜æä¾›è€…ï¼ˆå¦‚EhCacheã€Hazelcastã€Redisç­‰ï¼‰ï¼Œå¯ä»¥æ ¹æ®å…·ä½“éœ€æ±‚é€‰æ‹©åˆé€‚çš„ç¼“å­˜å®ç°ã€‚é€æ˜çš„ç¼“å­˜æœºåˆ¶ï¼šSpring Cacheä½¿å¾—ç¼“å­˜æ“ä½œå¯¹ä¸šåŠ¡ä»£ç é€æ˜ï¼Œå¼€å‘è€…æ— éœ€å…³å¿ƒç¼“å­˜çš„å…·ä½“å®ç°ç»†èŠ‚ã€‚ Redisçš„ä¼˜ç‚¹ï¼š é«˜æ€§èƒ½ï¼šç”±äºæ•°æ®å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼ŒRedisçš„è¯»å†™é€Ÿåº¦éå¸¸å¿«ï¼Œèƒ½å¤Ÿå¤„ç†æ¯ç§’æ•°ç™¾ä¸‡çº§åˆ«çš„è¯·æ±‚ã€‚ä¸°å¯Œçš„æ•°æ®ç»“æ„ï¼šRedisæ”¯æŒå¤šç§æ•°æ®ç»“æ„ï¼Œå¦‚å­—ç¬¦ä¸²ã€å“ˆå¸Œã€åˆ—è¡¨ã€é›†åˆã€æœ‰åºé›†åˆç­‰ï¼Œèƒ½å¤Ÿæ»¡è¶³ä¸åŒåœºæ™¯ä¸‹çš„æ•°æ®å­˜å‚¨éœ€æ±‚ã€‚æŒä¹…åŒ–æ”¯æŒï¼šè™½ç„¶Redisä¸»è¦ç”¨äºå†…å­˜å­˜å‚¨ï¼Œä½†å®ƒä¹Ÿæä¾›äº†æ•°æ®æŒä¹…åŒ–çš„åŠŸèƒ½ï¼Œå¯ä»¥å°†æ•°æ®å®šæœŸä¿å­˜åˆ°ç£ç›˜ï¼Œé˜²æ­¢æ•°æ®ä¸¢å¤±ã€‚åˆ†å¸ƒå¼æ”¯æŒï¼šRedisæ”¯æŒä¸»ä»å¤åˆ¶ã€å“¨å…µæ¨¡å¼å’Œé›†ç¾¤æ¨¡å¼ï¼Œèƒ½å¤Ÿå®ç°é«˜å¯ç”¨æ€§å’Œæ•°æ®çš„æ°´å¹³æ‰©å±•ã€‚çµæ´»çš„è¿‡æœŸç­–ç•¥ï¼šRedisæ”¯æŒä¸ºæ¯ä¸ªé”®è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œè‡ªåŠ¨åˆ é™¤è¿‡æœŸæ•°æ®ï¼Œæ–¹ä¾¿å®ç°ç¼“å­˜å¤±æ•ˆç­–ç•¥ã€‚ 3. Spring CacheåŸºç¡€çŸ¥è¯† åœ¨Spring Bootä¸­ï¼ŒSpring Cacheæä¾›äº†ä¸€å¥—ç®€æ´ä¸”å¼ºå¤§çš„ç¼“å­˜æŠ½è±¡æœºåˆ¶ï¼Œå¸®åŠ©å¼€å‘è€…è½»æ¾åœ°å°†ç¼“å­˜é›†æˆåˆ°åº”ç”¨ç¨‹åºä¸­ã€‚ä»¥ä¸‹æ˜¯Spring Cacheçš„ä¸€äº›æ ¸å¿ƒæ¦‚å¿µå’Œå¸¸ç”¨æ³¨è§£ã€‚">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-06-15T10:15:37+08:00">
    <meta property="article:modified_time" content="2024-06-15T10:15:37+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ç¼–ç¨‹å¤§å’–" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ç¼–ç¨‹å¤§å’–</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">SpringBootç³»åˆ—â€”â€”ä½¿ç”¨Spring Cacheå’ŒRediså®ç°æŸ¥è¯¢æ•°æ®ç¼“å­˜</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>æ–‡ç« ç›®å½•</h4> 
 <ul><li><ul><li>1. å‰è¨€</li><li>2. ç¼“å­˜</li><li><ul><li>2.1 ä»€ä¹ˆæ˜¯ç¼“å­˜</li><li>2.2 ä½¿ç”¨ç¼“å­˜çš„å¥½å¤„</li><li>2.3 ç¼“å­˜çš„æˆæœ¬</li><li>2.4 Spring Cacheå’ŒRedisçš„ä¼˜ç‚¹</li></ul> 
   </li><li>3. Spring CacheåŸºç¡€çŸ¥è¯†</li><li><ul><li>3.1 Spring Cacheçš„æ ¸å¿ƒæ¦‚å¿µ</li><li>3.2 Spring Cacheçš„æ³¨è§£</li><li><ul><li>3.2.1 SpELè¡¨è¾¾å¼</li><li>3.2.2 @Cacheable</li><li>3.2.3 @CachePut</li><li>3.2.4 @CacheEvict</li></ul> 
   </li></ul> 
   </li><li>4. å®ç°æŸ¥è¯¢æ•°æ®ç¼“å­˜</li><li><ul><li>4.1 å‡†å¤‡å·¥ä½œ</li><li>4.2 æ·»åŠ ä¾èµ–</li><li>4.3 ä¿®æ”¹é…ç½®æ–‡ä»¶</li><li>4.4 é…ç½®ç¼“å­˜ç®¡ç†å™¨</li><li>4.5 ä½¿ç”¨Spring Cacheæ³¨è§£</li><li>4.6 æµ‹è¯•</li><li><ul><li>4.6.1 æŸ¥è¯¢æµ‹è¯•</li><li>4.6.2 æ›´æ–°ã€åˆ é™¤æµ‹è¯•</li></ul> 
   </li></ul> 
   </li><li>5. æ€»ç»“</li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h3><a id="1__2"></a>1. å‰è¨€</h3> 
<blockquote> 
 <p>åœ¨ç°ä»£åº”ç”¨ç¨‹åºä¸­ï¼ŒæŸ¥è¯¢ç¼“å­˜çš„ä½¿ç”¨å·²ç»å˜å¾—è¶Šæ¥è¶Šæ™®éã€‚å®ƒä¸ä»…èƒ½å¤Ÿæ˜¾è‘—æé«˜ç³»ç»Ÿçš„æ€§èƒ½ï¼Œè¿˜èƒ½æå‡ç”¨æˆ·ä½“éªŒã€‚ç¼“å­˜é€šè¿‡åœ¨å†…å­˜ä¸­å­˜å‚¨é¢‘ç¹è®¿é—®çš„æ•°æ®ï¼Œå‡å°‘å¯¹æ•°æ®åº“æˆ–å…¶ä»–å­˜å‚¨ç³»ç»Ÿçš„è®¿é—®ï¼Œä»è€ŒåŠ å¿«æ•°æ®è¯»å–é€Ÿåº¦ã€‚åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†æ¢è®¨ç¼“å­˜çš„åŸºæœ¬æ¦‚å¿µã€é‡è¦æ€§ä»¥åŠå¦‚ä½•ä½¿ç”¨Spring Cacheå’ŒRediså®ç°æŸ¥è¯¢æ•°æ®ç¼“å­˜ ã€‚</p> 
</blockquote> 
<h3><a id="2__6"></a>2. ç¼“å­˜</h3> 
<h4><a id="21__8"></a>2.1 ä»€ä¹ˆæ˜¯ç¼“å­˜</h4> 
<p><strong>ç¼“å­˜</strong>æ˜¯ä¸€ç§ä¸´æ—¶å­˜å‚¨æœºåˆ¶ï¼Œç”¨äºåœ¨å†…å­˜ä¸­ä¿å­˜é¢‘ç¹è®¿é—®çš„æ•°æ®ã€‚å®ƒå¯ä»¥æ˜¯ç¡¬ä»¶ï¼ˆå¦‚CPUç¼“å­˜ï¼‰æˆ–è½¯ä»¶ï¼ˆå¦‚åº”ç”¨ç¨‹åºç¼“å­˜ï¼‰ã€‚ç¼“å­˜çš„ä¸»è¦ç›®çš„æ˜¯é€šè¿‡å‡å°‘æ•°æ®è®¿é—®çš„å»¶è¿Ÿï¼Œæé«˜ç³»ç»Ÿçš„å“åº”é€Ÿåº¦ã€‚ä»¥ä¸‹æ˜¯ç¼“å­˜çš„ä¸€äº›å…³é”®ç‰¹æ€§ï¼š</p> 
<ul><li><strong>ä¸´æ—¶æ€§</strong>ï¼šç¼“å­˜ä¸­çš„æ•°æ®é€šå¸¸æ˜¯ä¸´æ—¶çš„ï¼Œä¼šåœ¨ä¸€æ®µæ—¶é—´åå¤±æ•ˆæˆ–è¢«æ›¿æ¢ã€‚</li><li><strong>å¿«é€Ÿè®¿é—®</strong>ï¼šç”±äºç¼“å­˜æ•°æ®å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œè®¿é—®é€Ÿåº¦éå¸¸å¿«ã€‚</li><li><strong>ç©ºé—´æœ‰é™</strong>ï¼šç¼“å­˜çš„å­˜å‚¨ç©ºé—´é€šå¸¸æœ‰é™ï¼Œå› æ­¤éœ€è¦æœ‰æ•ˆçš„ç®¡ç†ç­–ç•¥ï¼Œå¦‚LRUï¼ˆæœ€è¿‘æœ€å°‘ä½¿ç”¨ï¼‰ç­–ç•¥ã€‚</li></ul> 
<h4><a id="22__16"></a>2.2 ä½¿ç”¨ç¼“å­˜çš„å¥½å¤„</h4> 
<ol><li><strong>æé«˜æ€§èƒ½</strong>ï¼šç¼“å­˜å¯ä»¥æ˜¾è‘—å‡å°‘æ•°æ®è¯»å–çš„æ—¶é—´ï¼Œå› ä¸ºå†…å­˜è®¿é—®é€Ÿåº¦æ¯”ç¡¬ç›˜æˆ–ç½‘ç»œå­˜å‚¨å¿«å¾ˆå¤šã€‚</li><li><strong>å‡è½»æ•°æ®åº“è´Ÿè½½</strong>ï¼šç¼“å­˜å¯ä»¥å‡å°‘æ•°æ®åº“çš„æŸ¥è¯¢æ¬¡æ•°ï¼Œä»è€Œå‡è½»æ•°æ®åº“çš„è´Ÿè½½ï¼Œæå‡æ•´ä½“ç³»ç»Ÿçš„ç¨³å®šæ€§å’Œå¯æ‰©å±•æ€§ã€‚</li><li><strong>èŠ‚çœèµ„æº</strong>ï¼šé€šè¿‡å‡å°‘å¯¹åç«¯ç³»ç»Ÿçš„è®¿é—®ï¼Œç¼“å­˜å¯ä»¥å¸®åŠ©èŠ‚çœå¸¦å®½å’Œè®¡ç®—èµ„æºã€‚</li><li><strong>æé«˜ç”¨æˆ·ä½“éªŒ</strong>ï¼šå¿«é€Ÿçš„æ•°æ®è®¿é—®å¯ä»¥æ˜¾è‘—æå‡ç”¨æˆ·ä½“éªŒï¼Œç‰¹åˆ«æ˜¯åœ¨éœ€è¦é¢‘ç¹è¯»å–æ•°æ®çš„åº”ç”¨åœºæ™¯ä¸­ã€‚</li></ol> 
<h4><a id="23__23"></a>2.3 ç¼“å­˜çš„æˆæœ¬</h4> 
<ol><li><strong>å†…å­˜æ¶ˆè€—</strong>ï¼šç¼“å­˜éœ€è¦å ç”¨ç³»ç»Ÿçš„å†…å­˜èµ„æºï¼Œè¿‡å¤šçš„ç¼“å­˜å¯èƒ½ä¼šå½±å“å…¶ä»–åº”ç”¨ç¨‹åºçš„æ€§èƒ½ã€‚</li><li><strong>æ•°æ®ä¸€è‡´æ€§</strong>ï¼šç¼“å­˜ä¸­çš„æ•°æ®å¯èƒ½ä¼šä¸æ•°æ®åº“ä¸­çš„æ•°æ®ä¸ä¸€è‡´ï¼Œå°¤å…¶æ˜¯åœ¨æ•°æ®é¢‘ç¹æ›´æ–°çš„åœºæ™¯ä¸­ã€‚éœ€è¦è®¾è®¡æœ‰æ•ˆçš„ç¼“å­˜å¤±æ•ˆç­–ç•¥æ¥ä¿è¯æ•°æ®çš„ä¸€è‡´æ€§ã€‚</li><li><strong>å¤æ‚æ€§å¢åŠ </strong>ï¼šå¼•å…¥ç¼“å­˜æœºåˆ¶ä¼šå¢åŠ ç³»ç»Ÿçš„å¤æ‚æ€§ï¼Œéœ€è¦å¤„ç†ç¼“å­˜çš„ç®¡ç†ã€æ›´æ–°å’Œå¤±æ•ˆç­‰é—®é¢˜ã€‚</li><li><strong>ç»´æŠ¤æˆæœ¬</strong>ï¼šç¼“å­˜ç³»ç»Ÿéœ€è¦å®šæœŸç›‘æ§å’Œç»´æŠ¤ï¼Œä»¥ç¡®ä¿å…¶é«˜æ•ˆè¿è¡Œã€‚</li></ol> 
<h4><a id="24_Spring_CacheRedis_30"></a>2.4 Spring Cacheå’ŒRedisçš„ä¼˜ç‚¹</h4> 
<blockquote> 
 <p>ä¸ºäº†å®ç°é«˜æ•ˆçš„æ•°æ®ç¼“å­˜ï¼ŒSpring Bootæä¾›äº†Spring Cacheæ¨¡å—ï¼Œè€ŒRedisåˆ™æ˜¯ä¸€ä¸ªå¼ºå¤§çš„ç¼“å­˜æ•°æ®åº“ã€‚ç»“åˆä½¿ç”¨Spring Cacheå’ŒRedisï¼Œèƒ½å¤Ÿå……åˆ†å‘æŒ¥äºŒè€…çš„ä¼˜ç‚¹ï¼Œå®ç°é«˜æ•ˆçš„æ•°æ®ç¼“å­˜ã€‚</p> 
</blockquote> 
<ul><li><strong>Spring Cacheçš„ä¼˜ç‚¹</strong>ï¼š 
  <ul><li><strong>ç®€åŒ–ç¼“å­˜æ“ä½œ</strong>ï¼šSpring Cacheæä¾›äº†ä¸€ç³»åˆ—æ³¨è§£ï¼ˆå¦‚<code>@Cacheable</code>ã€<code>@CachePut</code>ã€<code>@CacheEvict</code>ï¼‰ï¼Œç®€åŒ–äº†ç¼“å­˜çš„ä½¿ç”¨ï¼Œä½¿å¼€å‘è€…èƒ½å¤Ÿä¸“æ³¨äºä¸šåŠ¡é€»è¾‘ã€‚</li><li><strong>çµæ´»çš„ç¼“å­˜ç®¡ç†</strong>ï¼šSpring Cacheæ”¯æŒå¤šç§ç¼“å­˜æä¾›è€…ï¼ˆå¦‚EhCacheã€Hazelcastã€Redisç­‰ï¼‰ï¼Œå¯ä»¥æ ¹æ®å…·ä½“éœ€æ±‚é€‰æ‹©åˆé€‚çš„ç¼“å­˜å®ç°ã€‚</li><li><strong>é€æ˜çš„ç¼“å­˜æœºåˆ¶</strong>ï¼šSpring Cacheä½¿å¾—ç¼“å­˜æ“ä½œå¯¹ä¸šåŠ¡ä»£ç é€æ˜ï¼Œå¼€å‘è€…æ— éœ€å…³å¿ƒç¼“å­˜çš„å…·ä½“å®ç°ç»†èŠ‚ã€‚</li></ul> </li><li><strong>Redisçš„ä¼˜ç‚¹</strong>ï¼š 
  <ul><li><strong>é«˜æ€§èƒ½</strong>ï¼šç”±äºæ•°æ®å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼ŒRedisçš„è¯»å†™é€Ÿåº¦éå¸¸å¿«ï¼Œèƒ½å¤Ÿå¤„ç†æ¯ç§’æ•°ç™¾ä¸‡çº§åˆ«çš„è¯·æ±‚ã€‚</li><li><strong>ä¸°å¯Œçš„æ•°æ®ç»“æ„</strong>ï¼šRedisæ”¯æŒå¤šç§æ•°æ®ç»“æ„ï¼Œå¦‚å­—ç¬¦ä¸²ã€å“ˆå¸Œã€åˆ—è¡¨ã€é›†åˆã€æœ‰åºé›†åˆç­‰ï¼Œèƒ½å¤Ÿæ»¡è¶³ä¸åŒåœºæ™¯ä¸‹çš„æ•°æ®å­˜å‚¨éœ€æ±‚ã€‚</li><li><strong>æŒä¹…åŒ–æ”¯æŒ</strong>ï¼šè™½ç„¶Redisä¸»è¦ç”¨äºå†…å­˜å­˜å‚¨ï¼Œä½†å®ƒä¹Ÿæä¾›äº†æ•°æ®æŒä¹…åŒ–çš„åŠŸèƒ½ï¼Œå¯ä»¥å°†æ•°æ®å®šæœŸä¿å­˜åˆ°ç£ç›˜ï¼Œé˜²æ­¢æ•°æ®ä¸¢å¤±ã€‚</li><li><strong>åˆ†å¸ƒå¼æ”¯æŒ</strong>ï¼šRedisæ”¯æŒä¸»ä»å¤åˆ¶ã€å“¨å…µæ¨¡å¼å’Œé›†ç¾¤æ¨¡å¼ï¼Œèƒ½å¤Ÿå®ç°é«˜å¯ç”¨æ€§å’Œæ•°æ®çš„æ°´å¹³æ‰©å±•ã€‚</li><li><strong>çµæ´»çš„è¿‡æœŸç­–ç•¥</strong>ï¼šRedisæ”¯æŒä¸ºæ¯ä¸ªé”®è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œè‡ªåŠ¨åˆ é™¤è¿‡æœŸæ•°æ®ï¼Œæ–¹ä¾¿å®ç°ç¼“å­˜å¤±æ•ˆç­–ç•¥ã€‚</li></ul> </li></ul> 
<h3><a id="3_Spring_Cache_45"></a>3. Spring CacheåŸºç¡€çŸ¥è¯†</h3> 
<blockquote> 
 <p>åœ¨Spring Bootä¸­ï¼ŒSpring Cacheæä¾›äº†ä¸€å¥—ç®€æ´ä¸”å¼ºå¤§çš„ç¼“å­˜æŠ½è±¡æœºåˆ¶ï¼Œå¸®åŠ©å¼€å‘è€…è½»æ¾åœ°å°†ç¼“å­˜é›†æˆåˆ°åº”ç”¨ç¨‹åºä¸­ã€‚ä»¥ä¸‹æ˜¯Spring Cacheçš„ä¸€äº›æ ¸å¿ƒæ¦‚å¿µå’Œå¸¸ç”¨æ³¨è§£ã€‚</p> 
</blockquote> 
<h4><a id="31_Spring_Cache_48"></a>3.1 Spring Cacheçš„æ ¸å¿ƒæ¦‚å¿µ</h4> 
<ol><li> <p><strong>CacheManager</strong></p> 
  <ul><li><strong>å®šä¹‰</strong>ï¼š<code>CacheManager</code>æ˜¯Spring Cacheçš„æ ¸å¿ƒæ¥å£ï¼Œè´Ÿè´£ç®¡ç†å¤šä¸ªç¼“å­˜å®ä¾‹ã€‚å®ƒæ˜¯ç¼“å­˜æ“ä½œçš„å…¥å£ç‚¹ï¼Œæä¾›äº†è·å–å’Œæ“ä½œç¼“å­˜å®ä¾‹çš„æ–¹æ³•ã€‚</li><li><strong>å®ç°</strong>ï¼šSpringæä¾›äº†å¤šç§<code>CacheManager</code>å®ç°ï¼Œå¦‚<code>ConcurrentMapCacheManager</code>ã€<code>EhCacheCacheManager</code>ã€<code>RedisCacheManager</code>ç­‰ã€‚ä¸åŒçš„å®ç°é€‚ç”¨äºä¸åŒçš„ç¼“å­˜å­˜å‚¨æœºåˆ¶ã€‚</li></ul> </li><li> <p><strong>Cache</strong></p> 
  <ul><li><strong>å®šä¹‰</strong>ï¼š<code>Cache</code>æ˜¯ç¼“å­˜çš„å…·ä½“å®ç°ï¼Œè´Ÿè´£å­˜å‚¨å’Œæ£€ç´¢ç¼“å­˜æ•°æ®ã€‚å®ƒæä¾›äº†åŸºæœ¬çš„ç¼“å­˜æ“ä½œï¼Œå¦‚<code>put</code>ã€<code>get</code>ã€<code>evict</code>ç­‰ã€‚</li><li><strong>å®ç°</strong>ï¼šå…·ä½“çš„<code>Cache</code>å®ç°ä¾èµ–äºåº•å±‚çš„ç¼“å­˜å­˜å‚¨æœºåˆ¶ï¼Œå¦‚å†…å­˜ç¼“å­˜ã€Redisç¼“å­˜ç­‰ã€‚</li></ul> </li></ol> 
<h4><a id="32_Spring_Cache_58"></a>3.2 Spring Cacheçš„æ³¨è§£</h4> 
<h5><a id="321_SpEL_60"></a>3.2.1 SpELè¡¨è¾¾å¼</h5> 
<blockquote> 
 <p>å› ä¸ºSpring Cacheä½¿ç”¨SpELè¡¨è¾¾å¼æ¥åŠ¨æ€ç”Ÿæˆç¼“å­˜é”®ï¼Œæ‰€ä»¥åœ¨å­¦ä¹ Spring Cacheçš„æ³¨è§£ä¹‹å‰æˆ‘ä»¬è¿˜è¦å…ˆç®€å•äº†è§£ä¸€ä¸‹SpELè¡¨è¾¾å¼çš„è¯­æ³•ï¼Œè¿™éƒ¨åˆ†å¯ä»¥å…ˆä¸çœ‹æ‡‚ï¼Œåœ¨åé¢çœ‹æ³¨è§£çš„æ—¶å€™å›æ¥çœ‹å³å¯ã€‚</p> 
</blockquote> 
<p>SpELè¡¨è¾¾å¼çš„è¯­æ³•ç±»ä¼¼äºJavaçš„è¡¨è¾¾å¼è¯­æ³•ï¼Œæ”¯æŒä»¥ä¸‹å‡ ç§æ“ä½œï¼š</p> 
<ol><li><strong>å­—é¢é‡</strong>ï¼š 
  <ul><li>æ•°å­—ï¼š<code>1</code>, <code>2.5</code></li><li>å­—ç¬¦ä¸²ï¼š<code>'hello'</code>, <code>"world"</code></li><li>å¸ƒå°”å€¼ï¼š<code>true</code>, <code>false</code></li><li>ç©ºå€¼ï¼š<code>null</code></li></ul> </li><li><strong>å±æ€§å’Œæ–¹æ³•</strong>ï¼š 
  <ul><li>è®¿é—®å¯¹è±¡çš„å±æ€§ï¼š<code>#user.name</code></li><li>è°ƒç”¨å¯¹è±¡çš„æ–¹æ³•ï¼š<code>#user.getName()</code></li></ul> </li><li><strong>è¿ç®—ç¬¦</strong>ï¼š 
  <ul><li>ç®—æœ¯è¿ç®—ï¼š<code>+</code>, <code>-</code>, <code>*</code>, <code>/</code>, <code>%</code></li><li>æ¯”è¾ƒè¿ç®—ï¼š<code>==</code>, <code>!=</code>, <code>&lt;</code>, <code>&gt;</code>, <code>&lt;=</code>, <code>&gt;=</code></li><li>é€»è¾‘è¿ç®—ï¼š<code>&amp;&amp;</code>, <code>||</code>, <code>!</code></li></ul> </li><li><strong>é›†åˆå’Œæ•°ç»„</strong>ï¼š 
  <ul><li>è®¿é—®é›†åˆå…ƒç´ ï¼š<code>#users[0]</code></li><li>é›†åˆæ“ä½œï¼š<code>#users.size()</code>, <code>#users.isEmpty()</code></li></ul> </li><li><strong>æ¡ä»¶è¿ç®—ç¬¦</strong>ï¼š 
  <ul><li>ä¸‰å…ƒè¿ç®—ç¬¦ï¼š<code>condition ? trueValue : falseValue</code></li><li>Elvisè¿ç®—ç¬¦ï¼š<code>expression ?: defaultValue</code></li></ul> </li><li><strong>å˜é‡</strong>ï¼š 
  <ul><li>å®šä¹‰å’Œä½¿ç”¨å˜é‡ï¼š<code>#variableName</code></li></ul> </li></ol> 
<p>æ¥ä¸‹æ¥è¿›å…¥Spring Cacheæ³¨è§£çš„å­¦ä¹ ï¼š</p> 
<h5><a id="322_Cacheable_89"></a>3.2.2 @Cacheable</h5> 
<ul><li><strong>ä½œç”¨</strong>ï¼š<code>@Cacheable</code>æ³¨è§£ç”¨äºæ ‡æ³¨éœ€è¦ç¼“å­˜çš„æ–¹æ³•ã€‚å½“è¯¥æ–¹æ³•è¢«è°ƒç”¨æ—¶ï¼ŒSpring Cacheä¼šå…ˆæ£€æŸ¥ç¼“å­˜ä¸­æ˜¯å¦å­˜åœ¨å¯¹åº”çš„æ•°æ®ã€‚å¦‚æœå­˜åœ¨ï¼Œåˆ™ç›´æ¥è¿”å›ç¼“å­˜æ•°æ®ï¼›å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™æ‰§è¡Œæ–¹æ³•å¹¶å°†ç»“æœå­˜å…¥ç¼“å­˜ã€‚</li><li><strong>ç¤ºä¾‹</strong>ï¼š<pre><code class="prism language-java"><span class="token annotation punctuation">@RestController</span><span class="token punctuation">(</span><span class="token string">"/users"</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@RequiredArgsConstructor</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserController</span> <span class="token punctuation">{<!-- --></span>

    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">UserService</span> userService<span class="token punctuation">;</span>
    
    <span class="token annotation punctuation">@Cacheable</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"user"</span><span class="token punctuation">,</span> key <span class="token operator">=</span> <span class="token string">"#id"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">User</span> <span class="token function">getUser</span><span class="token punctuation">(</span><span class="token class-name">Long</span> id<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// è·å–ç”¨æˆ·çš„é€»è¾‘</span>
        <span class="token keyword">return</span> userService<span class="token punctuation">.</span><span class="token function">findById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> </li><li><strong>å‚æ•°</strong>ï¼š 
  <ul><li><code>value</code>ï¼šæŒ‡å®šç¼“å­˜çš„åç§°ã€‚</li><li><code>key</code>ï¼šæŒ‡å®šç¼“å­˜çš„é”®ï¼Œå¯ä»¥ä½¿ç”¨SpELè¡¨è¾¾å¼ã€‚</li></ul> </li></ul> 
<h5><a id="323_CachePut_111"></a>3.2.3 @CachePut</h5> 
<ul><li><strong>ä½œç”¨</strong>ï¼š<code>@CachePut</code>æ³¨è§£ç”¨äºæ ‡æ³¨éœ€è¦æ›´æ–°ç¼“å­˜çš„æ–¹æ³•ã€‚å³ä½¿ç¼“å­˜ä¸­å·²ç»å­˜åœ¨æ•°æ®ï¼Œè¯¥æ–¹æ³•ä»ç„¶ä¼šæ‰§è¡Œï¼Œå¹¶å°†ç»“æœæ›´æ–°åˆ°ç¼“å­˜ä¸­ã€‚</li><li><strong>ç¤ºä¾‹</strong>ï¼š<pre><code class="prism language-java"><span class="token annotation punctuation">@RestController</span><span class="token punctuation">(</span><span class="token string">"/users"</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@RequiredArgsConstructor</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserController</span> <span class="token punctuation">{<!-- --></span>

    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">UserService</span> userService<span class="token punctuation">;</span>
    
    <span class="token annotation punctuation">@CachePut</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"user"</span><span class="token punctuation">,</span> key <span class="token operator">=</span> <span class="token string">"#user.id"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">User</span> <span class="token function">updateUser</span><span class="token punctuation">(</span><span class="token class-name">User</span> user<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// æ›´æ–°ç”¨æˆ·çš„é€»è¾‘</span>
        <span class="token keyword">return</span> userService<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> </li><li><strong>å‚æ•°</strong>ï¼š 
  <ul><li><code>value</code>ï¼šæŒ‡å®šç¼“å­˜çš„åç§°ã€‚</li><li><code>key</code>ï¼šæŒ‡å®šç¼“å­˜çš„é”®ï¼Œå¯ä»¥ä½¿ç”¨SpELè¡¨è¾¾å¼ã€‚</li></ul> </li></ul> 
<h5><a id="324_CacheEvict_133"></a>3.2.4 @CacheEvict</h5> 
<ul><li><strong>ä½œç”¨</strong>ï¼š<code>@CacheEvict</code>æ³¨è§£ç”¨äºæ ‡æ³¨éœ€è¦æ¸…é™¤ç¼“å­˜çš„æ–¹æ³•ã€‚å½“è¯¥æ–¹æ³•è¢«è°ƒç”¨æ—¶ï¼ŒSpring Cacheä¼šæ¸…é™¤å¯¹åº”çš„ç¼“å­˜æ•°æ®ã€‚</li><li><strong>ç¤ºä¾‹</strong>ï¼š<pre><code class="prism language-java"><span class="token annotation punctuation">@RestController</span><span class="token punctuation">(</span><span class="token string">"/users"</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@RequiredArgsConstructor</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserController</span> <span class="token punctuation">{<!-- --></span>

    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">UserService</span> userService<span class="token punctuation">;</span>
    
    <span class="token annotation punctuation">@CacheEvict</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"user"</span><span class="token punctuation">,</span> key <span class="token operator">=</span> <span class="token string">"#id"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">deleteUser</span><span class="token punctuation">(</span><span class="token class-name">Long</span> id<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// åˆ é™¤ç”¨æˆ·çš„é€»è¾‘</span>
        userService<span class="token punctuation">.</span><span class="token function">deleteById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> </li><li><strong>å‚æ•°</strong>ï¼š 
  <ul><li><code>value</code>ï¼šæŒ‡å®šç¼“å­˜çš„åç§°ã€‚</li><li><code>key</code>ï¼šæŒ‡å®šç¼“å­˜çš„é”®ï¼Œå¯ä»¥ä½¿ç”¨SpELè¡¨è¾¾å¼ã€‚</li><li><code>allEntries</code>ï¼šå¦‚æœè®¾ç½®ä¸º<code>true</code>ï¼Œåˆ™æ¸…é™¤ç¼“å­˜ä¸­çš„æ‰€æœ‰æ•°æ®ã€‚</li></ul> </li></ul> 
<h3><a id="4__157"></a>4. å®ç°æŸ¥è¯¢æ•°æ®ç¼“å­˜</h3> 
<h4><a id="41__159"></a>4.1 å‡†å¤‡å·¥ä½œ</h4> 
<ol><li>Rediså®‰è£…ä¸é…ç½®ï¼š</li></ol> 
<blockquote> 
 <p>è¿™é‡Œå¯ä»¥è‡ªè¡ŒæŸ¥æ‰¾æ–‡ç« è¿›è¡Œå®‰è£…å’Œé…ç½®ï¼Œç½‘ä¸Šä¼˜è´¨æ–‡ç« å¾ˆå¤šğŸ‘»ã€‚</p> 
</blockquote> 
<ol start="2"><li>åˆ›å»º<code>Product</code>å®ä½“ç±»ï¼š</li></ol> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@Data</span>
<span class="token annotation punctuation">@AllArgsConstructor</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Product</span> <span class="token keyword">implements</span> <span class="token class-name">Serializable</span> <span class="token punctuation">{<!-- --></span>

    <span class="token keyword">private</span> <span class="token class-name">Long</span> id<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token class-name">Integer</span> category<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> description<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token class-name">Integer</span> stock<span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre> 
<ol start="3"><li>åˆ›å»ºæšä¸¾ç±»<code>ResultEnum</code>ï¼š</li></ol> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@Getter</span>
<span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">ResultEnum</span> <span class="token punctuation">{<!-- --></span>

    <span class="token comment">/* æˆåŠŸçŠ¶æ€ç  */</span>
    <span class="token function">SUCCESS</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"æ“ä½œæˆåŠŸï¼"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

    <span class="token comment">/* é”™è¯¯çŠ¶æ€ç  */</span>
    <span class="token function">FAIL</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">"æ“ä½œå¤±è´¥ï¼"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

    <span class="token comment">/* å‚æ•°é”™è¯¯ï¼š10001-19999 */</span>
    <span class="token function">PARAM_IS_INVALID</span><span class="token punctuation">(</span><span class="token number">10001</span><span class="token punctuation">,</span> <span class="token string">"å‚æ•°æ— æ•ˆ"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">PARAM_IS_BLANK</span><span class="token punctuation">(</span><span class="token number">10002</span><span class="token punctuation">,</span> <span class="token string">"å‚æ•°ä¸ºç©º"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">PARAM_TYPE_BIND_ERROR</span><span class="token punctuation">(</span><span class="token number">10003</span><span class="token punctuation">,</span> <span class="token string">"å‚æ•°æ ¼å¼é”™è¯¯"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">PARAM_NOT_COMPLETE</span><span class="token punctuation">(</span><span class="token number">10004</span><span class="token punctuation">,</span> <span class="token string">"å‚æ•°ç¼ºå¤±"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

    <span class="token comment">/* ç”¨æˆ·é”™è¯¯ï¼š20001-29999*/</span>
    <span class="token function">USER_NOT_LOGGED_IN</span><span class="token punctuation">(</span><span class="token number">20001</span><span class="token punctuation">,</span> <span class="token string">"ç”¨æˆ·æœªç™»å½•ï¼Œè¯·å…ˆç™»å½•"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">USER_LOGIN_ERROR</span><span class="token punctuation">(</span><span class="token number">20002</span><span class="token punctuation">,</span> <span class="token string">"è´¦å·ä¸å­˜åœ¨æˆ–å¯†ç é”™è¯¯"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">USER_ACCOUNT_FORBIDDEN</span><span class="token punctuation">(</span><span class="token number">20003</span><span class="token punctuation">,</span> <span class="token string">"è´¦å·å·²è¢«ç¦ç”¨"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">USER_NOT_EXIST</span><span class="token punctuation">(</span><span class="token number">20004</span><span class="token punctuation">,</span> <span class="token string">"ç”¨æˆ·ä¸å­˜åœ¨"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">USER_HAS_EXISTED</span><span class="token punctuation">(</span><span class="token number">20005</span><span class="token punctuation">,</span> <span class="token string">"ç”¨æˆ·å·²å­˜åœ¨"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

    <span class="token comment">/* ç³»ç»Ÿé”™è¯¯ï¼š40001-49999 */</span>
    <span class="token function">FILE_MAX_SIZE_OVERFLOW</span><span class="token punctuation">(</span><span class="token number">40003</span><span class="token punctuation">,</span> <span class="token string">"ä¸Šä¼ å°ºå¯¸è¿‡å¤§"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">FILE_ACCEPT_NOT_SUPPORT</span><span class="token punctuation">(</span><span class="token number">40004</span><span class="token punctuation">,</span> <span class="token string">"ä¸Šä¼ æ–‡ä»¶æ ¼å¼ä¸æ”¯æŒ"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

    <span class="token comment">/* æ•°æ®é”™è¯¯ï¼š50001-599999 */</span>
    <span class="token function">RESULT_DATA_NONE</span><span class="token punctuation">(</span><span class="token number">50001</span><span class="token punctuation">,</span> <span class="token string">"æ•°æ®æœªæ‰¾åˆ°"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">DATA_IS_WRONG</span><span class="token punctuation">(</span><span class="token number">50002</span><span class="token punctuation">,</span> <span class="token string">"æ•°æ®æœ‰è¯¯"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">DATA_ALREADY_EXISTED</span><span class="token punctuation">(</span><span class="token number">50003</span><span class="token punctuation">,</span> <span class="token string">"æ•°æ®å·²å­˜åœ¨"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AUTH_CODE_ERROR</span><span class="token punctuation">(</span><span class="token number">50004</span><span class="token punctuation">,</span> <span class="token string">"éªŒè¯ç é”™è¯¯"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>


    <span class="token comment">/* æƒé™é”™è¯¯ï¼š70001-79999 */</span>
    <span class="token function">PERMISSION_UNAUTHENTICATED</span><span class="token punctuation">(</span><span class="token number">70001</span><span class="token punctuation">,</span> <span class="token string">"æ­¤æ“ä½œéœ€è¦ç™»é™†ç³»ç»Ÿï¼"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

    <span class="token function">PERMISSION_UNAUTHORIZED</span><span class="token punctuation">(</span><span class="token number">70002</span><span class="token punctuation">,</span> <span class="token string">"æƒé™ä¸è¶³ï¼Œæ— æƒæ“ä½œï¼"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

    <span class="token function">PERMISSION_EXPIRE</span><span class="token punctuation">(</span><span class="token number">70003</span><span class="token punctuation">,</span> <span class="token string">"ç™»å½•çŠ¶æ€è¿‡æœŸï¼"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

    <span class="token function">PERMISSION_TOKEN_EXPIRED</span><span class="token punctuation">(</span><span class="token number">70004</span><span class="token punctuation">,</span> <span class="token string">"tokenå·²è¿‡æœŸ"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

    <span class="token function">PERMISSION_LIMIT</span><span class="token punctuation">(</span><span class="token number">70005</span><span class="token punctuation">,</span> <span class="token string">"è®¿é—®æ¬¡æ•°å—é™åˆ¶"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

    <span class="token function">PERMISSION_TOKEN_INVALID</span><span class="token punctuation">(</span><span class="token number">70006</span><span class="token punctuation">,</span> <span class="token string">"æ— æ•ˆtoken"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

    <span class="token function">PERMISSION_SIGNATURE_ERROR</span><span class="token punctuation">(</span><span class="token number">70007</span><span class="token punctuation">,</span> <span class="token string">"ç­¾åå¤±è´¥"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// çŠ¶æ€ç </span>
    <span class="token keyword">int</span> code<span class="token punctuation">;</span>
    <span class="token comment">// æç¤ºä¿¡æ¯</span>
    <span class="token class-name">String</span> message<span class="token punctuation">;</span>

    <span class="token class-name">ResultEnum</span><span class="token punctuation">(</span><span class="token keyword">int</span> code<span class="token punctuation">,</span> <span class="token class-name">String</span> message<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>code <span class="token operator">=</span> code<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>message <span class="token operator">=</span> message<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">code</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> code<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">message</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> message<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setCode</span><span class="token punctuation">(</span><span class="token keyword">int</span> code<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>code <span class="token operator">=</span> code<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setMessage</span><span class="token punctuation">(</span><span class="token class-name">String</span> message<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>message <span class="token operator">=</span> message<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<ol start="4"><li>åˆ›å»ºç»Ÿä¸€è¿”å›ç»“æœå°è£…ç±»<code>Result</code>ï¼š</li></ol> 
<blockquote> 
 <p>ç›¸å…³æ–‡ç« å¯ä»¥çœ‹è¿™é‡Œï¼š<a href="http://t.csdnimg.cn/KkCme" rel="nofollow">Spring Boot3ç»Ÿä¸€ç»“æœå°è£…</a></p> 
</blockquote> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@Data</span>
<span class="token annotation punctuation">@NoArgsConstructor</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Result</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">implements</span> <span class="token class-name">Serializable</span> <span class="token punctuation">{<!-- --></span>

    <span class="token comment">// æ“ä½œä»£ç </span>
    <span class="token class-name">Integer</span> code<span class="token punctuation">;</span>

    <span class="token comment">// æç¤ºä¿¡æ¯</span>
    <span class="token class-name">String</span> message<span class="token punctuation">;</span>

    <span class="token comment">// ç»“æœæ•°æ®</span>
    <span class="token class-name">T</span> data<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Result</span><span class="token punctuation">(</span><span class="token class-name">ResultEnum</span> resultCode<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>code <span class="token operator">=</span> resultCode<span class="token punctuation">.</span><span class="token function">code</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>message <span class="token operator">=</span> resultCode<span class="token punctuation">.</span><span class="token function">message</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Result</span><span class="token punctuation">(</span><span class="token class-name">ResultEnum</span> resultCode<span class="token punctuation">,</span> <span class="token class-name">T</span> data<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>code <span class="token operator">=</span> resultCode<span class="token punctuation">.</span><span class="token function">code</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>message <span class="token operator">=</span> resultCode<span class="token punctuation">.</span><span class="token function">message</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>data <span class="token operator">=</span> data<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">Result</span><span class="token punctuation">(</span><span class="token class-name">String</span> message<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>message <span class="token operator">=</span> message<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//æˆåŠŸè¿”å›å°è£…-æ— æ•°æ®</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Result</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">success</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Result</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">ResultEnum</span><span class="token punctuation">.</span><span class="token constant">SUCCESS</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//æˆåŠŸè¿”å›å°è£…-å¸¦æ•°æ®</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Result</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">success</span><span class="token punctuation">(</span><span class="token class-name">T</span> data<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Result</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">ResultEnum</span><span class="token punctuation">.</span><span class="token constant">SUCCESS</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//å¤±è´¥è¿”å›å°è£…-ä½¿ç”¨é»˜è®¤æç¤ºä¿¡æ¯</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Result</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">error</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Result</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">ResultEnum</span><span class="token punctuation">.</span><span class="token constant">FAIL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//å¤±è´¥è¿”å›å°è£…-ä½¿ç”¨è¿”å›ç»“æœæšä¸¾æç¤ºä¿¡æ¯</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Result</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">error</span><span class="token punctuation">(</span><span class="token class-name">ResultEnum</span> resultCode<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Result</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>resultCode<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//å¤±è´¥è¿”å›å°è£…-ä½¿ç”¨è‡ªå®šä¹‰æç¤ºä¿¡æ¯</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Result</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">error</span><span class="token punctuation">(</span><span class="token class-name">String</span> message<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Result</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="42__319"></a>4.2 æ·»åŠ ä¾èµ–</h4> 
<pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-cache<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-data-redis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<h4><a id="43__332"></a>4.3 ä¿®æ”¹é…ç½®æ–‡ä»¶</h4> 
<pre><code class="prism language-yaml"><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">data</span><span class="token punctuation">:</span>
    <span class="token key atrule">redis</span><span class="token punctuation">:</span>
      <span class="token comment"># RedisæœåŠ¡å™¨åœ°å€</span>
      <span class="token key atrule">host</span><span class="token punctuation">:</span> $<span class="token punctuation">{<!-- --></span>shijun.redis.host<span class="token punctuation">}</span>
      <span class="token comment"># RedisæœåŠ¡å™¨ç«¯å£</span>
      <span class="token key atrule">port</span><span class="token punctuation">:</span> $<span class="token punctuation">{<!-- --></span>shijun.redis.port<span class="token punctuation">}</span>
      <span class="token comment"># RedisæœåŠ¡å™¨è®¤è¯å¯†ç </span>
      <span class="token key atrule">password</span><span class="token punctuation">:</span> $<span class="token punctuation">{<!-- --></span>shijun.redis.password<span class="token punctuation">}</span>
      <span class="token comment"># Redisæ•°æ®åº“ç´¢å¼•</span>
      <span class="token key atrule">database</span><span class="token punctuation">:</span> $<span class="token punctuation">{<!-- --></span>shijun.redis.database<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="44__348"></a>4.4 é…ç½®ç¼“å­˜ç®¡ç†å™¨</h4> 
<pre><code class="prism language-java"><span class="token comment">/**
 * é…ç½®ç±»ï¼Œç”¨äºè®¾ç½®ç¼“å­˜ç®¡ç†å™¨åŠç›¸å…³é…ç½®ï¼Œä»¥å¯ç”¨ç¼“å­˜åŠŸèƒ½
 *
 * @author shijun
 * @date 2024/06/13
 */</span>
<span class="token annotation punctuation">@EnableCaching</span>
<span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CacheConfig</span> <span class="token keyword">extends</span> <span class="token class-name">CachingConfigurerSupport</span> <span class="token punctuation">{<!-- --></span>

    <span class="token comment">/**
     * é…ç½®Redisé”®çš„åºåˆ—åŒ–æ–¹å¼
     *
     * @return StringRedisSerializerï¼Œç”¨äºåºåˆ—åŒ–å’Œååºåˆ—åŒ–Redisä¸­çš„é”®
     */</span>
    <span class="token keyword">private</span> <span class="token class-name">RedisSerializer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">keySerializer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">StringRedisSerializer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * é…ç½®Rediså€¼çš„åºåˆ—åŒ–æ–¹å¼
     *
     * @return GenericJackson2JsonRedisSerializerï¼Œä½¿ç”¨Jacksonåº“ä»¥JSONæ ¼å¼åºåˆ—åŒ–å’Œååºåˆ—åŒ–Redisä¸­çš„å€¼
     */</span>
    <span class="token keyword">private</span> <span class="token class-name">RedisSerializer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> <span class="token function">valueSerializer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">GenericJackson2JsonRedisSerializer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * ç¼“å­˜å‰ç¼€ï¼Œç”¨äºåŒºåˆ†ä¸åŒçš„ç¼“å­˜å‘½åç©ºé—´ï¼Œä¸€èˆ¬ä»¥æ¨¡å—åæˆ–è€…æœåŠ¡åå‘½åï¼Œè¿™é‡Œæš‚æ—¶å†™cache
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> <span class="token constant">CACHE_PREFIX</span> <span class="token operator">=</span> <span class="token string">"cache:"</span><span class="token punctuation">;</span>

    <span class="token comment">/**
     * é…ç½®ç¼“å­˜ç®¡ç†å™¨ï¼Œä½¿ç”¨Redisä½œä¸ºç¼“å­˜åç«¯
     *
     * @param redisConnectionFactory Redisè¿æ¥å·¥å‚ï¼Œç”¨äºåˆ›å»ºRedisè¿æ¥
     * @return RedisCacheManagerï¼ŒRedisç¼“å­˜ç®¡ç†å™¨å®ä¾‹
     */</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">CacheManager</span> <span class="token function">cacheManager</span><span class="token punctuation">(</span><span class="token class-name">RedisConnectionFactory</span> redisConnectionFactory<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// é…ç½®åºåˆ—åŒ–ï¼Œè§£å†³ä¹±ç çš„é—®é¢˜ï¼Œè®¾ç½®ç¼“å­˜åç§°çš„å‰ç¼€å’Œç¼“å­˜æ¡ç›®çš„é»˜è®¤è¿‡æœŸæ—¶é—´</span>
        <span class="token class-name">RedisCacheConfiguration</span> config <span class="token operator">=</span> <span class="token class-name">RedisCacheConfiguration</span><span class="token punctuation">.</span><span class="token function">defaultCacheConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token comment">// è®¾ç½®é”®çš„åºåˆ—åŒ–å™¨</span>
                <span class="token punctuation">.</span><span class="token function">serializeKeysWith</span><span class="token punctuation">(</span><span class="token class-name">RedisSerializationContext<span class="token punctuation">.</span>SerializationPair</span><span class="token punctuation">.</span><span class="token function">fromSerializer</span><span class="token punctuation">(</span><span class="token function">keySerializer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token comment">// è®¾ç½®å€¼çš„åºåˆ—åŒ–å™¨</span>
                <span class="token punctuation">.</span><span class="token function">serializeValuesWith</span><span class="token punctuation">(</span><span class="token class-name">RedisSerializationContext<span class="token punctuation">.</span>SerializationPair</span><span class="token punctuation">.</span><span class="token function">fromSerializer</span><span class="token punctuation">(</span><span class="token function">valueSerializer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token comment">// è®¾ç½®ç¼“å­˜åç§°çš„å‰ç¼€</span>
                <span class="token punctuation">.</span><span class="token function">computePrefixWith</span><span class="token punctuation">(</span>name <span class="token operator">-&gt;</span> <span class="token constant">CACHE_PREFIX</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">":"</span><span class="token punctuation">)</span>
                <span class="token comment">// è®¾ç½®ç¼“å­˜æ¡ç›®çš„é»˜è®¤è¿‡æœŸæ—¶é—´ä¸º300ç§’</span>
                <span class="token punctuation">.</span><span class="token function">entryTtl</span><span class="token punctuation">(</span><span class="token class-name">Duration</span><span class="token punctuation">.</span><span class="token function">ofSeconds</span><span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// åˆ›å»ºéé”å®šçš„Redisç¼“å­˜å†™å…¥å™¨</span>
        <span class="token class-name">RedisCacheWriter</span> redisCacheWriter <span class="token operator">=</span> <span class="token class-name">RedisCacheWriter</span><span class="token punctuation">.</span><span class="token function">nonLockingRedisCacheWriter</span><span class="token punctuation">(</span><span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">requireNonNull</span><span class="token punctuation">(</span>redisConnectionFactory<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// è¿”å›Redisç¼“å­˜ç®¡ç†å™¨å®ä¾‹ï¼Œä½¿ç”¨ä¸Šè¿°é…ç½®</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">RedisCacheManager</span><span class="token punctuation">(</span>redisCacheWriter<span class="token punctuation">,</span> config<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre> 
<blockquote> 
 <p><strong>åˆ†æï¼š</strong><br> <strong>StringRedisSerializer</strong> ï¼šä½¿ç”¨ <code>StringRedisSerializer</code> å°†ç¼“å­˜çš„é”®åºåˆ—åŒ–ä¸ºå­—ç¬¦ä¸²ã€‚å› ä¸ºRedisä¸­çš„é”®é€šå¸¸æ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼Œä½¿ç”¨å­—ç¬¦ä¸²åºåˆ—åŒ–å™¨å¯ä»¥ç¡®ä¿é”®åœ¨Redisä¸­ä»¥å¯è¯»çš„å½¢å¼å­˜å‚¨ï¼Œä¾¿äºè°ƒè¯•å’Œç®¡ç†ã€‚</p> 
 <p><strong>GenericJackson2JsonRedisSerializer</strong> ï¼šä½¿ç”¨ <code>GenericJackson2JsonRedisSerializer</code> å°†ç¼“å­˜çš„å€¼åºåˆ—åŒ–ä¸ºJSONæ ¼å¼ï¼Œå¯è¯»æ€§é«˜å¹¶ä¸”ä¾¿äºäººå·¥æ’æŸ¥æ•°æ®ã€‚</p> 
</blockquote> 
<h4><a id="45_Spring_Cache_419"></a>4.5 ä½¿ç”¨Spring Cacheæ³¨è§£</h4> 
<blockquote> 
 <p>ç”±äºæˆ‘ä»¬çš„<strong>ç¼“å­˜çš„æ•°æ®æºæ¥è‡ªäºæ•°æ®åº“</strong>,è€Œæ•°æ®åº“çš„<strong>æ•°æ®æ˜¯ä¼šå‘ç”Ÿå˜åŒ–çš„</strong>,å› æ­¤,å¦‚æœå½“æ•°æ®åº“ä¸­<strong>æ•°æ®å‘ç”Ÿå˜åŒ–,è€Œç¼“å­˜å´æ²¡æœ‰åŒæ­¥</strong>ï¼Œæ­¤æ—¶å°±ä¼šæœ‰<strong>æ•°æ®ä¸€è‡´æ€§é—®é¢˜å­˜åœ¨</strong>ï¼Œåœ¨ä¸€äº›å¹¶å‘åœºæ™¯ä¼šå‡ºç°é—®é¢˜ã€‚</p> 
 <p>è¿™é‡Œé‡‡ç”¨<code>Cache Aside Pattern</code> å³æ—è·¯ç¼“å­˜æ¨¡å¼ï¼šç¼“å­˜è°ƒç”¨è€…åœ¨æ›´æ–°å®Œæ•°æ®åº“åå†å»æ›´æ–°ç¼“å­˜ï¼Œä¹Ÿç§°ä¹‹ä¸ºåŒå†™æ–¹æ¡ˆã€‚</p> 
 <ul><li>è¯»æµç¨‹ï¼š<br> <img src="https://images2.imgbox.com/df/75/QinTT2Cq_o.png" alt="image-20240613224855076"></li></ul> 
 <p><strong>åˆ†æï¼š</strong></p> 
 <ol><li>åº”ç”¨ç¨‹åºé¦–å…ˆä»ç¼“å­˜ä¸­æŸ¥æ‰¾æ•°æ®ã€‚</li><li>å¦‚æœç¼“å­˜å‘½ä¸­ï¼Œåˆ™ç›´æ¥è¿”å›ç¼“å­˜ä¸­çš„æ•°æ®ã€‚</li><li>å¦‚æœç¼“å­˜æœªå‘½ä¸­ï¼Œåˆ™ä»æ•°æ®åº“ä¸­è¯»å–æ•°æ®ï¼Œå¹¶å°†è¯»å–åˆ°çš„æ•°æ®å†™å…¥ç¼“å­˜ï¼Œä»¥ä¾¿</li><li>åç»­è¯·æ±‚å¯ä»¥ç›´æ¥ä»ç¼“å­˜ä¸­è·å–ã€‚</li></ol> 
 <ul><li>å†™æµç¨‹<br> <img src="https://images2.imgbox.com/0e/65/rxA4doEr_o.png" alt="image-20240613221100300"></li></ul> 
 <p><strong>åˆ†æï¼š</strong></p> 
 <ol><li>åº”ç”¨ç¨‹åºé¦–å…ˆæ›´æ–°æ•°æ®åº“ä¸­çš„æ•°æ®ã€‚</li><li>ç„¶åä½¿ç¼“å­˜ä¸­çš„å¯¹åº”æ•°æ®å¤±æ•ˆ</li></ol> 
</blockquote> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@Slf4j</span>
<span class="token annotation punctuation">@RestController</span><span class="token punctuation">(</span><span class="token string">"/products"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ProductController</span> <span class="token punctuation">{<!-- --></span>


    <span class="token comment">/**
     * æ ¹æ®IDè·å–äº§å“ä¿¡æ¯
     * é€šè¿‡@Cacheableæ³¨è§£ï¼Œå½“è¯·æ±‚çš„äº§å“IDåœ¨ç¼“å­˜ä¸­å­˜åœ¨æ—¶ï¼Œç›´æ¥ä»ç¼“å­˜ä¸­è·å–äº§å“ä¿¡æ¯ï¼Œå‡å°‘æ•°æ®åº“æŸ¥è¯¢
     *
     * @param id äº§å“ID
     * @return è¿”å›æŸ¥è¯¢ç»“æœï¼ŒåŒ…å«æŒ‡å®šIDçš„äº§å“ä¿¡æ¯
     */</span>
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/getProductById"</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@Cacheable</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"productsCache"</span><span class="token punctuation">,</span> key <span class="token operator">=</span> <span class="token string">"#id"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Result</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Product</span><span class="token punctuation">&gt;</span></span> <span class="token function">getProductById</span><span class="token punctuation">(</span><span class="token class-name">Long</span> id<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// å½“ä»æ•°æ®åº“è·å–æ•°æ®æ—¶ä¼šæ‰“å°ï¼Œå¦‚æœæ˜¯ä»ç¼“å­˜ä¸­æŸ¥è¯¢å¹¶ä¸ä¼šæ‰§è¡Œåˆ°è¿™é‡Œã€‚</span>
        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"ä»æ•°æ®åº“è·å–äº§å“: id = {}"</span><span class="token punctuation">,</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Product</span> product <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Product</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span> <span class="token string">"product"</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token string">"è¯¾æœ¬"</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token class-name">Result</span><span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span>product<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * æ›´æ–°äº§å“ä¿¡æ¯
     * é€šè¿‡@CacheEvictæ³¨è§£ï¼Œå½“æ›´æ–°äº§å“æ—¶ï¼Œæ¸…é™¤ç¼“å­˜ä¸­å¯¹åº”äº§å“çš„æ•°æ®ï¼Œç¡®ä¿è·å–åˆ°æœ€æ–°çš„æ•°æ®
     * è®¾ç½®allEntriesä¸ºtrueï¼Œè¡¨ç¤ºæ¸…é™¤æ•´ä¸ªç¼“å­˜ä¸­çš„æ‰€æœ‰äº§å“æ•°æ®
     *
     * @param product äº§å“å¯¹è±¡ï¼ŒåŒ…å«æ›´æ–°åçš„è¯¦ç»†ä¿¡æ¯
     * @return è¿”å›æ›´æ–°ç»“æœï¼ŒæˆåŠŸæ›´æ–°æ—¶è¿”å›æˆåŠŸæ ‡å¿—
     */</span>
    <span class="token annotation punctuation">@PutMapping</span><span class="token punctuation">(</span><span class="token string">"/updateProduct"</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@CacheEvict</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"productsCache"</span><span class="token punctuation">,</span> key <span class="token operator">=</span> <span class="token string">"#product.id"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Result</span> <span class="token function">updateProduct</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">Product</span> product<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// æ›´æ–°æ“ä½œ</span>
        <span class="token keyword">return</span> <span class="token class-name">Result</span><span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * åˆ é™¤æŒ‡å®šIDçš„äº§å“
     * é€šè¿‡@CacheEvictæ³¨è§£ï¼Œå½“åˆ é™¤äº§å“æ—¶ï¼Œæ¸…é™¤ç¼“å­˜ä¸­å¯¹åº”äº§å“çš„æ•°æ®
     *
     * @param id å¾…åˆ é™¤äº§å“çš„ID
     * @return è¿”å›åˆ é™¤ç»“æœï¼ŒæˆåŠŸåˆ é™¤æ—¶è¿”å›æˆåŠŸæ ‡å¿—
     */</span>
    <span class="token annotation punctuation">@DeleteMapping</span><span class="token punctuation">(</span><span class="token string">"/deleteProductById"</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@CacheEvict</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"productsCache"</span><span class="token punctuation">,</span> key <span class="token operator">=</span> <span class="token string">"#id"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Result</span> <span class="token function">deleteProductById</span><span class="token punctuation">(</span><span class="token class-name">Long</span> id<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// åˆ é™¤æ“ä½œ</span>
        <span class="token keyword">return</span> <span class="token class-name">Result</span><span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


<span class="token punctuation">}</span>

</code></pre> 
<h4><a id="46__502"></a>4.6 æµ‹è¯•</h4> 
<h5><a id="461__504"></a>4.6.1 æŸ¥è¯¢æµ‹è¯•</h5> 
<blockquote> 
 <p>å› ä¸ºæˆ‘ä»¬åœ¨æŸ¥è¯¢æ¥å£ä¸Šä½¿ç”¨çš„<code>@Cacheable</code>æ¥å£ï¼Œæ‰€ä»¥å½“æ‰§è¡ŒæŸ¥è¯¢æ“ä½œæ—¶ï¼Œç¬¬ä¸€æ¬¡æŸ¥è¯¢ä¼šä»æ•°æ®åº“ä¸­è·å–ï¼Œå› æ­¤ä¼šè¾“å‡ºã€Œä»æ•°æ®åº“è·å–äº§å“: id = xã€ï¼Œæ­¤æ—¶æŸ¥çœ‹Redisæ§åˆ¶å°ä¼šå‘ç°å‡ºç°ä¸€ä¸ªå¯¹åº”çš„ç¼“å­˜ï¼Œä¹‹åçš„æ¯æ¬¡æŸ¥è¯¢éƒ½ä¼šä»Redisä¸­æŸ¥è¯¢ï¼ˆæ§åˆ¶å°ä¸ä¼šè¾“å‡ºã€Œä»æ•°æ®åº“è·å–äº§å“: id = xã€ï¼‰ï¼Œç›´åˆ°å¯¹åº”çš„ç¼“å­˜æ•°æ®æ—¶é—´ç»“æŸã€‚</p> 
</blockquote> 
<ol><li>å‘é€æŸ¥è¯¢è¯·æ±‚ï¼š</li></ol> 
<img src="https://images2.imgbox.com/f2/78/70wN8cQG_o.png" alt="image-20240613203320506"> 
<ol start="2"><li>æŸ¥çœ‹Redisä¸­çš„ç¼“å­˜æ•°æ®ï¼š</li></ol> 
<blockquote> 
 <p>é€šè¿‡è§‚å¯Ÿå¯ä»¥å‘ç°<code>CacheConfig</code>ç±»ä¸­çš„åºåˆ—åŒ–é…ç½®èµ·ä½œç”¨äº†ï¼ŒRedisä¸­çš„æ•°æ®ä¸å†æ˜¯ä¸€å †ä¹±ç ï¼Œå¹¶ä¸”åœ¨å³ä¸Šè§’è¿˜æœ‰æˆ‘ä»¬ä¹‹å‰é…ç½®çš„ç¼“å­˜çš„è¿‡æœŸæ—¶é—´ï¼ˆæˆ‘ä»¬ä¹‹å‰é…ç½®çš„300sï¼‰ã€‚</p> 
</blockquote> 
<img src="https://images2.imgbox.com/12/bb/U3p7ov1c_o.png" alt="image-20240613203847598"> 
<ol start="3"><li>æŸ¥çœ‹æ§åˆ¶å°å‘ç°æœ¬æ¬¡æŸ¥è¯¢ä¸ºä»æ•°æ®åº“æŸ¥è¯¢ï¼š</li></ol> 
<img src="https://images2.imgbox.com/0e/ed/eJfzaImq_o.png" alt="image-20240613212356495"> 
<ol start="4"><li>å†æ¬¡å‘é€ä¼šå‘ç°æ•°æ®æˆåŠŸçš„æŸ¥è¯¢äº†ï¼š</li></ol> 
<img src="https://images2.imgbox.com/b1/32/GwJkwKSi_o.png" alt="image-20240613203438434"> 
<ol start="5"><li>å†æ¬¡æŸ¥è¯¢æ§åˆ¶å°å‘ç°å¹¶æ²¡æœ‰è¾“å‡º<code>ä»æ•°æ®åº“è·å–äº§å“: id = 1</code>ï¼Œè¯´æ˜æœ¬æ¬¡æŸ¥è¯¢ä¸ºä»Redisç¼“å­˜ä¸­è·å–æ•°æ®ã€‚</li></ol> 
<img src="https://images2.imgbox.com/4b/73/cgSZKngP_o.png"> 
<h5><a id="462__528"></a>4.6.2 æ›´æ–°ã€åˆ é™¤æµ‹è¯•</h5> 
<blockquote> 
 <p>å› ä¸ºä¹‹å‰æˆ‘ä»¬åœ¨æ›´æ–°å’Œåˆ é™¤æ¥å£ä¸Šä½¿ç”¨çš„<code>@CacheEvict</code>æ³¨è§£ï¼Œæ‰€ä»¥å½“æ‰§è¡Œæ›´æ–°æˆ–è€…åˆ é™¤æ“ä½œæ—¶ï¼Œä¼šå°†Redisä¸­å¯¹åº”çš„äº§å“ç¼“å­˜æ•°æ®åˆ é™¤ã€‚</p> 
</blockquote> 
<ol><li>åˆ†åˆ«å‘é€æ›´æ–°è¯·æ±‚å’Œåˆ é™¤è¯·æ±‚ï¼Œç„¶åå†æ¬¡æŸ¥çœ‹Redisä¸­çš„ç¼“å­˜æ•°æ®ï¼š</li></ol> 
<img src="https://images2.imgbox.com/92/97/jBcQPtIy_o.png" alt="image-20240613215742944"> 
<img src="https://images2.imgbox.com/ac/8e/PcolsUid_o.png" alt="image-20240613221930757"> 
<ol start="2"><li>å¯ä»¥å‘ç°Rediså½“ä¸­å¯¹åº”çš„ç¼“å­˜æ•°æ®è¢«åˆ é™¤äº†ï¼Œç¬¦åˆæˆ‘ä»¬çš„è®¾è®¡ï¼š</li></ol> 
<img src="https://images2.imgbox.com/fa/8c/7JkePNbn_o.png" alt="image-20240613204329734"> 
<h3><a id="5__542"></a>5. æ€»ç»“</h3> 
<p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬è¯¦ç»†ä»‹ç»äº†å¦‚ä½•åœ¨Spring Booté¡¹ç›®ä¸­ä½¿ç”¨Spring Cacheå’ŒRediså®ç°æ•°æ®ç¼“å­˜ï¼Œå¹¶ç®€å•è®²è§£äº†ä½¿ç”¨<code>Cache Aside Pattern</code>æ¥è§£å†³æ•°æ®ä¸€è‡´æ€§é—®é¢˜ï¼Œå¸Œæœ›å¯¹å¤§å®¶å­¦ä¹ æœ‰æ‰€å¸®åŠ©ã€‚å¦‚æœ‰é—®é¢˜ï¼Œå¤§å®¶å¯ä»¥ç§ä¿¡æˆ–è€…åœ¨è¯„è®ºåŒºè¯¢é—®ğŸ˜Šã€‚</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/917278123655601fba881ae74a674547/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">åŸºäºSSM&#43;Jspçš„åœ¨çº¿æ•™è‚²èµ„æºç®¡ç†ç³»ç»Ÿ</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c193db648f05cf870e5954ad599695b9/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">ã€C&#43;&#43;ã€‘ç±»å’Œå¯¹è±¡ï¼ˆä¸‹ï¼‰</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ç¼–ç¨‹å¤§å’–.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>