<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Web自动化测试-掌握selenium工具用法，使用WebDriver测试Chrome/FireFox网页(Java - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/4daf71a12104ee498d770412f34b9889/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="Web自动化测试-掌握selenium工具用法，使用WebDriver测试Chrome/FireFox网页(Java">
  <meta property="og:description" content="目录
一、在Eclipse中构建Maven项目
1.全局配置Maven
2.配置JDK路径
3.创建Maven项目
4.引入selenium-java依赖
二、Chrome自动化脚本编写
1.创建一个ChromeTest类
2.测试ChromeDriver
3.下载chromedriver驱动
4.在脚本中通过System.setProperty方法指定chromedriver的地址
5.测试学习通网址登录功能
三、FireFox自动化脚本编写
1.新建一个FireFoxTest类
2.指定firefox可执行文件路径: webdriver.firefox.bin
3.下载geckodriver驱动
4.在脚本中通过System.setProperty方法指定chromedriver的地址
工具：eclipse(2016)、chrome(v.125)
依赖：selenium-java(3.141.59)
驱动：chromedriver(win64 v125)
配置环境：jdk1.8.0、 maven3.5.2
一、在Eclipse中构建Maven项目 1.全局配置Maven 点击Windows-&gt;Preferences
注意：要先在settinfs.xml中配置阿里云镜像仓库，可参考该文章1~3步骤IDEA 使用自定义MAVEN（maven安装及IDEA配置）_idea 用自定义maven-CSDN博客
同时在installations中add maven路径
2.配置JDK路径 同样是在Preferences中，确认指向的是JDK的路径而不 是JRE的路径
3.创建Maven项目 点击File-&gt;New-&gt;Project...
勾选Create a simple...
填入组名和项目名，点击Finish
创建完项目列表如下：
4.引入selenium-java依赖 在Maven官网可以下载：Maven Repository: Search/Browse/Explore (mvnrepository.com)
搜索selenium，选择Selenium Java
选择使用度较高的版本，这里选择了4.18.1
拷贝对应的Maven依赖包
点击pom.xml粘贴进去，注意要放在&lt;dependencies&gt;&lt;/dependencies&gt;里面
保存后，后自动生成Maven Dependendies
二、Chrome自动化脚本编写 1.创建一个ChromeTest类 2.测试ChromeDriver 输入以下代码，点击运行
import org.openqa.selenium.chrome.ChromeDriver; public class ChromeTest { public static void main(String[] args) throws Exception{ ChromeDriver driver = new ChromeDriver(); } } 若报以下错，说明Selenium Java版本过高，需要下载较低版本">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-06-04T23:01:52+08:00">
    <meta property="article:modified_time" content="2024-06-04T23:01:52+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Web自动化测试-掌握selenium工具用法，使用WebDriver测试Chrome/FireFox网页(Java</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="%C2%A0%E4%B8%80%E3%80%81%E5%9C%A8Eclipse%E4%B8%AD%E6%9E%84%E5%BB%BAMaven%E9%A1%B9%E7%9B%AE-toc" style="margin-left:80px;"><a href="#%C2%A0%E4%B8%80%E3%80%81%E5%9C%A8Eclipse%E4%B8%AD%E6%9E%84%E5%BB%BAMaven%E9%A1%B9%E7%9B%AE" rel="nofollow"> 一、在Eclipse中构建Maven项目</a></p> 
<p id="1.%E5%85%A8%E5%B1%80%E9%85%8D%E7%BD%AEMaven-toc" style="margin-left:120px;"><a href="#1.%E5%85%A8%E5%B1%80%E9%85%8D%E7%BD%AEMaven" rel="nofollow">1.全局配置Maven</a></p> 
<p id="2.%E9%85%8D%E7%BD%AEJDK%E8%B7%AF%E5%BE%84-toc" style="margin-left:120px;"><a href="#2.%E9%85%8D%E7%BD%AEJDK%E8%B7%AF%E5%BE%84" rel="nofollow">2.配置JDK路径</a></p> 
<p id="3.%E5%88%9B%E5%BB%BAMaven%E9%A1%B9%E7%9B%AE-toc" style="margin-left:120px;"><a href="#3.%E5%88%9B%E5%BB%BAMaven%E9%A1%B9%E7%9B%AE" rel="nofollow">3.创建Maven项目</a></p> 
<p id="4.%E5%BC%95%E5%85%A5selenium-java%E4%BE%9D%E8%B5%96-toc" style="margin-left:120px;"><a href="#4.%E5%BC%95%E5%85%A5selenium-java%E4%BE%9D%E8%B5%96" rel="nofollow">4.引入selenium-java依赖</a></p> 
<p id="%E4%BA%8C%E3%80%81Chrome%E8%87%AA%E5%8A%A8%E5%8C%96%E8%84%9A%E6%9C%AC%E7%BC%96%E5%86%99-toc" style="margin-left:80px;"><a href="#%E4%BA%8C%E3%80%81Chrome%E8%87%AA%E5%8A%A8%E5%8C%96%E8%84%9A%E6%9C%AC%E7%BC%96%E5%86%99" rel="nofollow">二、Chrome自动化脚本编写</a></p> 
<p id="1.%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AAChromeTest%E7%B1%BB-toc" style="margin-left:120px;"><a href="#1.%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AAChromeTest%E7%B1%BB" rel="nofollow">1.创建一个ChromeTest类</a></p> 
<p id="2.%E6%B5%8B%E8%AF%95ChromeDriver-toc" style="margin-left:120px;"><a href="#2.%E6%B5%8B%E8%AF%95ChromeDriver" rel="nofollow">2.测试ChromeDriver</a></p> 
<p id="3.%E4%B8%8B%E8%BD%BDchromedriver%E9%A9%B1%E5%8A%A8-toc" style="margin-left:120px;"><a href="#3.%E4%B8%8B%E8%BD%BDchromedriver%E9%A9%B1%E5%8A%A8" rel="nofollow">3.下载chromedriver驱动</a></p> 
<p id="4.%E5%9C%A8%E8%84%9A%E6%9C%AC%E4%B8%AD%E9%80%9A%E8%BF%87System.setProperty%E6%96%B9%E6%B3%95%E6%8C%87%E5%AE%9Achromedriver%E7%9A%84%E5%9C%B0%E5%9D%80-toc" style="margin-left:120px;"><a href="#4.%E5%9C%A8%E8%84%9A%E6%9C%AC%E4%B8%AD%E9%80%9A%E8%BF%87System.setProperty%E6%96%B9%E6%B3%95%E6%8C%87%E5%AE%9Achromedriver%E7%9A%84%E5%9C%B0%E5%9D%80" rel="nofollow">4.在脚本中通过System.setProperty方法指定chromedriver的地址</a></p> 
<p id="5.%E6%B5%8B%E8%AF%95%E5%AD%A6%E4%B9%A0%E9%80%9A%E7%BD%91%E5%9D%80%E7%99%BB%E5%BD%95%E5%8A%9F%E8%83%BD-toc" style="margin-left:120px;"><a href="#5.%E6%B5%8B%E8%AF%95%E5%AD%A6%E4%B9%A0%E9%80%9A%E7%BD%91%E5%9D%80%E7%99%BB%E5%BD%95%E5%8A%9F%E8%83%BD" rel="nofollow">5.测试学习通网址登录功能</a></p> 
<p id="%E4%B8%89%E3%80%81FireFox%E8%87%AA%E5%8A%A8%E5%8C%96%E8%84%9A%E6%9C%AC%E7%BC%96%E5%86%99-toc" style="margin-left:80px;"><a href="#%E4%B8%89%E3%80%81FireFox%E8%87%AA%E5%8A%A8%E5%8C%96%E8%84%9A%E6%9C%AC%E7%BC%96%E5%86%99" rel="nofollow">三、FireFox自动化脚本编写</a></p> 
<p id="1.%E6%96%B0%E5%BB%BA%E4%B8%80%E4%B8%AAFireFoxTest%E7%B1%BB-toc" style="margin-left:120px;"><a href="#1.%E6%96%B0%E5%BB%BA%E4%B8%80%E4%B8%AAFireFoxTest%E7%B1%BB" rel="nofollow">1.新建一个FireFoxTest类</a></p> 
<p id="2.%E6%8C%87%E5%AE%9Afirefox%E5%8F%AF%E6%89%A7%E8%A1%8C%E6%96%87%E4%BB%B6%E8%B7%AF%E5%BE%84%3A%20webdriver.firefox.bin-toc" style="margin-left:120px;"><a href="#2.%E6%8C%87%E5%AE%9Afirefox%E5%8F%AF%E6%89%A7%E8%A1%8C%E6%96%87%E4%BB%B6%E8%B7%AF%E5%BE%84%3A%20webdriver.firefox.bin" rel="nofollow">2.指定firefox可执行文件路径: webdriver.firefox.bin</a></p> 
<p id="3.%E4%B8%8B%E8%BD%BDgeckodriver%E9%A9%B1%E5%8A%A8-toc" style="margin-left:120px;"><a href="#3.%E4%B8%8B%E8%BD%BDgeckodriver%E9%A9%B1%E5%8A%A8" rel="nofollow">3.下载geckodriver驱动</a></p> 
<p id="4.%E5%9C%A8%E8%84%9A%E6%9C%AC%E4%B8%AD%E9%80%9A%E8%BF%87System.setProperty%E6%96%B9%E6%B3%95%E6%8C%87%E5%AE%9Achromedriver%E7%9A%84%E5%9C%B0%E5%9D%80-toc" style="margin-left:120px;"><a href="#4.%E5%9C%A8%E8%84%9A%E6%9C%AC%E4%B8%AD%E9%80%9A%E8%BF%87System.setProperty%E6%96%B9%E6%B3%95%E6%8C%87%E5%AE%9Achromedriver%E7%9A%84%E5%9C%B0%E5%9D%80" rel="nofollow">4.在脚本中通过System.setProperty方法指定chromedriver的地址</a></p> 
<blockquote> 
 <p><strong>工具：eclipse(2016)、chrome(v.125)</strong></p> 
 <p><strong>依赖：selenium-java(3.141.59)</strong></p> 
 <p><strong>驱动：chromedriver(win64 v125)</strong></p> 
 <p><strong>配置环境：jdk1.8.0、  maven3.5.2</strong></p> 
 <h2></h2> 
</blockquote> 
<h4 id="%C2%A0%E4%B8%80%E3%80%81%E5%9C%A8Eclipse%E4%B8%AD%E6%9E%84%E5%BB%BAMaven%E9%A1%B9%E7%9B%AE"> 一、在Eclipse中构建Maven项目</h4> 
<h5 id="1.%E5%85%A8%E5%B1%80%E9%85%8D%E7%BD%AEMaven">1.全局配置Maven</h5> 
<p>点击Windows-&gt;Preferences</p> 
<p><img alt="" height="310" src="https://images2.imgbox.com/5c/5b/qkkIt7T5_o.png" width="614"></p> 
<p><img alt="" height="540" src="https://images2.imgbox.com/43/80/S5Fg57X0_o.png" width="1123"></p> 
<p><span style="color:#fe2c24;"><strong>注意：要先在settinfs.xml中配置阿里云镜像仓库，可参考该文章1~3步骤</strong></span><a href="https://blog.csdn.net/Stepeh/article/details/125374467?spm=1001.2014.3001.5506" title="IDEA 使用自定义MAVEN（maven安装及IDEA配置）_idea 用自定义maven-CSDN博客">IDEA 使用自定义MAVEN（maven安装及IDEA配置）_idea 用自定义maven-CSDN博客</a></p> 
<p>同时在installations中add maven路径</p> 
<p><img alt="" height="490" src="https://images2.imgbox.com/dd/78/0hxnZz8G_o.png" width="1115"></p> 
<h5 id="2.%E9%85%8D%E7%BD%AEJDK%E8%B7%AF%E5%BE%84">2.配置JDK路径</h5> 
<p>同样是在Preferences中，<span style="color:#1f2123;">确认指向的是JDK</span><span style="color:#1f2123;">的路径而不 是JRE</span><span style="color:#1f2123;">的路径</span></p> 
<p><img alt="" height="401" src="https://images2.imgbox.com/25/b0/8Eia9d9u_o.png" width="602"></p> 
<h5 id="3.%E5%88%9B%E5%BB%BAMaven%E9%A1%B9%E7%9B%AE">3.创建Maven项目</h5> 
<p>点击File-&gt;New-&gt;Project...</p> 
<p><img alt="" height="119" src="https://images2.imgbox.com/0a/77/LVgVuhkn_o.png" width="480"></p> 
<p><img alt="" height="338" src="https://images2.imgbox.com/c9/53/DlpIArVr_o.png" width="478"></p> 
<p>勾选Create a simple...</p> 
<p><img alt="" height="408" src="https://images2.imgbox.com/cf/e7/8glvcmBy_o.png" width="490"></p> 
<p>填入组名和项目名，点击Finish</p> 
<p><img alt="" height="395" src="https://images2.imgbox.com/63/ca/hBige5lu_o.png" width="474"></p> 
<p>创建完项目列表如下：</p> 
<p><img alt="" height="263" src="https://images2.imgbox.com/72/cb/fJgwIKwL_o.png" width="365"></p> 
<h5 id="4.%E5%BC%95%E5%85%A5selenium-java%E4%BE%9D%E8%B5%96">4.引入<strong>selenium-java依赖</strong></h5> 
<p>在Maven官网可以下载<a href="https://mvnrepository.com/" rel="nofollow" title="：Maven Repository: Search/Browse/Explore (mvnrepository.com)">：Maven Repository: Search/Browse/Explore (mvnrepository.com)</a></p> 
<p>搜索selenium，选择Selenium Java</p> 
<p><img alt="" height="544" src="https://images2.imgbox.com/d6/bd/RlIGkAdZ_o.png" width="1200"></p> 
<p>选择使用度较高的版本，这里选择了4.18.1</p> 
<p><img alt="" height="348" src="https://images2.imgbox.com/7b/6f/kGEHH1vz_o.png" width="588"></p> 
<p>拷贝对应的Maven依赖包</p> 
<p><img alt="" height="299" src="https://images2.imgbox.com/26/65/Y0deu7BO_o.png" width="1044"></p> 
<p>点击pom.xml粘贴进去，注意要放在&lt;<strong>dependencies&gt;&lt;/dependencies&gt;</strong>里面</p> 
<p><img alt="" height="343" src="https://images2.imgbox.com/4e/6a/T5zpQHAM_o.png" width="1064"></p> 
<p>保存后，后自动生成Maven Dependendies</p> 
<p><img alt="" height="497" src="https://images2.imgbox.com/a3/78/PE93poR3_o.png" width="252"></p> 
<h4 id="%E4%BA%8C%E3%80%81Chrome%E8%87%AA%E5%8A%A8%E5%8C%96%E8%84%9A%E6%9C%AC%E7%BC%96%E5%86%99">二、Chrome自动化脚本编写</h4> 
<h5 id="1.%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AAChromeTest%E7%B1%BB">1.创建一个ChromeTest类</h5> 
<p><img alt="" height="270" src="https://images2.imgbox.com/f3/c5/FEDoAdlo_o.png" width="280"></p> 
<h5 id="2.%E6%B5%8B%E8%AF%95ChromeDriver">2.测试ChromeDriver</h5> 
<p>输入以下代码，点击运行</p> 
<pre><code class="language-java">import org.openqa.selenium.chrome.ChromeDriver;

public class ChromeTest {
	public static void main(String[] args) throws Exception{
		ChromeDriver driver = new ChromeDriver();
	}
}</code></pre> 
<p><span style="color:#fe2c24;">若报以下错，说明Selenium Java版本过高，需要下载较低版本</span></p> 
<pre><code class="language-java">Exception in thread "main" java.lang.UnsupportedClassVersionError: org/openqa/selenium/chrome/ChromeDriver has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0
	at java.lang.ClassLoader.defineClass1(Native Method)
	at java.lang.ClassLoader.defineClass(ClassLoader.java:763)
	at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)
	at java.net.URLClassLoader.defineClass(URLClassLoader.java:467)
	at java.net.URLClassLoader.access$100(URLClassLoader.java:73)
	at java.net.URLClassLoader$1.run(URLClassLoader.java:368)
	at java.net.URLClassLoader$1.run(URLClassLoader.java:362)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.net.URLClassLoader.findClass(URLClassLoader.java:361)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:424)
	at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:357)
	at com.test.ChromeTest.main(ChromeTest.java:9)
</code></pre> 
<p>这里我将依赖换成了<span style="color:#fe2c24;"><strong>3.141.59版本</strong></span></p> 
<pre><code class="language-java">&lt;dependency&gt;
	 &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;
	 &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;
	 &lt;version&gt;3.141.59&lt;/version&gt;
&lt;/dependency&gt;</code></pre> 
<p><span style="color:#fe2c24;">保存后，再次运行报错以下信息，这是正常情况，因为我们还没有<strong>设置Chrome浏览器的驱动</strong></span></p> 
<pre><code class="language-java">Exception in thread "main" java.lang.IllegalStateException: The path to the driver executable must be set by the webdriver.chrome.driver system property; for more information, see https://github.com/SeleniumHQ/selenium/wiki/ChromeDriver. The latest version can be downloaded from http://chromedriver.storage.googleapis.com/index.html
	at com.google.common.base.Preconditions.checkState(Preconditions.java:847)
	at org.openqa.selenium.remote.service.DriverService.findExecutable(DriverService.java:134)
	at org.openqa.selenium.chrome.ChromeDriverService.access$000(ChromeDriverService.java:35)
	at org.openqa.selenium.chrome.ChromeDriverService$Builder.findDefaultExecutable(ChromeDriverService.java:159)
	at org.openqa.selenium.remote.service.DriverService$Builder.build(DriverService.java:355)
	at org.openqa.selenium.chrome.ChromeDriverService.createDefaultService(ChromeDriverService.java:94)
	at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:123)
	at com.test.WebTest01.main(WebTest01.java:12)</code></pre> 
<h5 id="3.%E4%B8%8B%E8%BD%BDchromedriver%E9%A9%B1%E5%8A%A8">3.下载chromedriver驱动</h5> 
<p>因为我的Chrome浏览器的版本是125，在以下链接可以下载对应版本</p> 
<p><a href="https://www.cnblogs.com/aiyablog/articles/17948703" rel="nofollow" title="chromedriver浏览器驱动各版本下载（...113、114、115、116、117、118、119、120、121、122、123、124、125、126、127）（原创） - Z哎呀 - 博客园 (cnblogs.com)">chromedriver浏览器驱动各版本下载（...113、114、115、116、117、118、119、120、121、122、123、124、125、126、127）（原创） - Z哎呀 - 博客园 (cnblogs.com)</a></p> 
<p>将下载解压的chromedriver.exe复制 </p> 
<p><img alt="" height="185" src="https://images2.imgbox.com/95/3c/YCNawBNe_o.png" width="883"></p> 
<p>粘贴到项目的resources里面</p> 
<p><img alt="" height="275" src="https://images2.imgbox.com/57/38/COFEBXbk_o.png" width="266"></p> 
<h5 id="4.%E5%9C%A8%E8%84%9A%E6%9C%AC%E4%B8%AD%E9%80%9A%E8%BF%87System.setProperty%E6%96%B9%E6%B3%95%E6%8C%87%E5%AE%9Achromedriver%E7%9A%84%E5%9C%B0%E5%9D%80">4.在脚本中通过System.setProperty方法指定chromedriver的地址</h5> 
<pre><code class="language-java">// 系统设置Chrome驱动文件的路径
System.setProperty("webdriver.chrome.driver", "src/test/resources/chromedriver.exe");
ChromeDriver driver = new ChromeDriver();</code></pre> 
<p>再次运行，此时弹出Chrome窗口，运行成功</p> 
<p><img alt="" height="390" src="https://images2.imgbox.com/e2/75/DfTGCZd9_o.png" width="553"></p> 
<h5 id="5.%E6%B5%8B%E8%AF%95%E5%AD%A6%E4%B9%A0%E9%80%9A%E7%BD%91%E5%9D%80%E7%99%BB%E5%BD%95%E5%8A%9F%E8%83%BD">5.测试学习通网址登录功能</h5> 
<pre><code class="language-java">public static void main(String[] args) throws Exception{
		// 系统设置Chrome驱动文件的路径
		System.setProperty("webdriver.chrome.driver", "src/test/resources/chromedriver.exe");
		ChromeDriver driver = new ChromeDriver();
		//最大化浏览器窗口
		driver.manage().window().maximize();
		
		// 测试学习通网站
		String url = "https://passport2.chaoxing.com";
		driver.get(url);
		Thread.sleep(3000);
		
		// 通过F12查看对应id
		// 输入手机号
		WebElement phoneElement = driver.findElement(By.id("phone")); //手机号
		phoneElement.clear(); //清空文本输入框中的内容
		phoneElement.sendKeys("xxxxxxxxxx"); //在文本输入框中输入内容
		String phoneValue = phoneElement.getAttribute("value"); //获取文本框中已经输入的内容
		Thread.sleep(1000);
		// 输入密码
		WebElement passwordElement = driver.findElement(By.id("pwd"));
		passwordElement.clear();
		passwordElement.sendKeys("xxxxxxxxxx");
		String passwordValue = passwordElement.getAttribute("value");
		Thread.sleep(1000);
		//输出对应值
		System.out.println(phoneValue);
		System.out.println(passwordValue);
		
		//通过className获取自动勾选框
		WebElement checkElement = driver.findElement(By.className("check-input"));
		// 使用isSelected()方法检查复选框是否被选中  
        boolean isSelected = checkElement.isSelected();  
        // 输出结果  
        System.out.println("复选框是否被选中: " + isSelected); 
		// 如单复选框没有被选中
		if (!isSelected) {
			checkElement.click(); //点击选中
		}
		Thread.sleep(3000);
		
		// 点击登录
		WebElement loginElement = driver.findElement(By.id("loginBtn"));
		loginElement.click();
	}</code></pre> 
<p>点击运行后，将会弹出网址，自动登录</p> 
<h4 id="%E4%B8%89%E3%80%81FireFox%E8%87%AA%E5%8A%A8%E5%8C%96%E8%84%9A%E6%9C%AC%E7%BC%96%E5%86%99">三、FireFox自动化脚本编写</h4> 
<h5 id="1.%E6%96%B0%E5%BB%BA%E4%B8%80%E4%B8%AAFireFoxTest%E7%B1%BB">1.新建一个FireFoxTest类</h5> 
<pre><code class="language-java">import org.openqa.selenium.By;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.firefox.FirefoxDriver;

public class FireFoxTest {
	public static void main(String[] args) throws Exception{
	
		FirefoxDriver driver = new FirefoxDriver();
		
	}
}</code></pre> 
<p><span style="color:#fe2c24;">运行后报错以下信息，这是正常情况，原因是firefox安装在其它路径，不是默认的安装路径</span></p> 
<pre><code class="language-java">Exception in thread "main" org.openqa.selenium.WebDriverException: Cannot find firefox binary in PATH. Make sure firefox is installed. OS appears to be: WIN10
Build info: version: '3.141.59', revision: 'e82be7d358', time: '2018-11-14T08:17:03'
System info: host: 'DESKTOP-VMB9KRO', ip: '10.194.105.24', os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '1.8.0_121'
Driver info: driver.version: FirefoxDriver
	at org.openqa.selenium.firefox.FirefoxBinary.&lt;init&gt;(FirefoxBinary.java:100)
	at java.util.Optional.orElseGet(Optional.java:267)
	at org.openqa.selenium.firefox.FirefoxOptions.getBinary(FirefoxOptions.java:216)
	at org.openqa.selenium.firefox.FirefoxDriver.toExecutor(FirefoxDriver.java:187)
	at org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:147)
	at org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:125)
	at com.test.FireFoxTest.main(FireFoxTest.java:10)</code></pre> 
<h5 id="2.%E6%8C%87%E5%AE%9Afirefox%E5%8F%AF%E6%89%A7%E8%A1%8C%E6%96%87%E4%BB%B6%E8%B7%AF%E5%BE%84%3A%20webdriver.firefox.bin">2.指定firefox可执行文件路径: webdriver.firefox.bin</h5> 
<p>找到Firefox的exe执行文件，添加路径对应以下代码，再次运行</p> 
<pre><code class="language-java">//指定firefox可执行文件路径
System.setProperty("webdriver.firefox.bin","C:\\Users\\86153\\AppData\\Local\\Mozilla Firefox\\firefox.exe");
FirefoxDriver driver = new FirefoxDriver();
		</code></pre> 
<p><span style="color:#fe2c24;">再次报错以下信息，这也是因为没有配置FireFox驱动</span></p> 
<pre><code class="language-java">Exception in thread "main" java.lang.IllegalStateException: The path to the driver executable must be set by the webdriver.gecko.driver system property; for more information, see https://github.com/mozilla/geckodriver. The latest version can be downloaded from https://github.com/mozilla/geckodriver/releases
	at com.google.common.base.Preconditions.checkState(Preconditions.java:847)
	at org.openqa.selenium.remote.service.DriverService.findExecutable(DriverService.java:134)
	at org.openqa.selenium.firefox.GeckoDriverService.access$100(GeckoDriverService.java:44)
	at org.openqa.selenium.firefox.GeckoDriverService$Builder.findDefaultExecutable(GeckoDriverService.java:167)
	at org.openqa.selenium.remote.service.DriverService$Builder.build(DriverService.java:355)
	at org.openqa.selenium.firefox.FirefoxDriver.toExecutor(FirefoxDriver.java:190)
	at org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:147)
	at org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:125)
	at com.test.FireFoxTest.main(FireFoxTest.java:11)
</code></pre> 
<h5 id="3.%E4%B8%8B%E8%BD%BDgeckodriver%E9%A9%B1%E5%8A%A8">3.下载geckodriver驱动</h5> 
<p>selenium,geckodriver,firefox对应版本官网参考:</p> 
<p><a href="https://firefox-source-docs.mozilla.org/testing/geckodriver/Support.html" rel="nofollow" title="Supported platforms — Firefox Source Docs documentation (mozilla.org)">Supported platforms — Firefox Source Docs documentation (mozilla.org)</a></p> 
<p><img alt="" height="175" src="https://images2.imgbox.com/d5/a0/xVcSRwhd_o.png" width="1039"></p> 
<p>我的FireFox版本是126，下载对应0.34.0版本</p> 
<p>进入网址：<a href="https://github.com/mozilla/geckodriver" title="https://github.com/mozilla/geckodriver">https://github.com/mozilla/geckodriver</a> ，点击“Tags”，点击0.34.0版本的download，然后选择对应平台的压缩包下载</p> 
<p><img alt="" height="250" src="https://images2.imgbox.com/32/f4/sMdEVqJh_o.png" width="506"></p> 
<p><img alt="" height="322" src="https://images2.imgbox.com/81/a8/2m3XIG9W_o.png" width="511"></p> 
<p>同理，解压复制到resources文件里</p> 
<p><img alt="" height="283" src="https://images2.imgbox.com/d3/08/h5WSIf0J_o.png" width="258"></p> 
<h5>4.在脚本中通过System.setProperty方法指定chromedriver的地址</h5> 
<pre><code class="language-java">//指定firefox可执行文件路径

System.setProperty("webdriver.firefox.bin","C:\\Users\\86153\\AppData\\Local\\Mozilla Firefox\\firefox.exe");
// 系统设置gecko驱动文件的路径
System.setProperty("webdriver.gecko.driver", "src/test/resources/geckodriver.exe");
FirefoxDriver driver = new FirefoxDriver();</code></pre> 
<p>再次运行，弹出Firefox窗户，成功！</p> 
<p><img alt="" height="388" src="https://images2.imgbox.com/f4/54/DkK496JG_o.png" width="469"></p> 
<h5></h5>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/4c280dab4e1208afb8cd44a2e3253e01/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【简单理解化】 内存函数及它的模拟实现</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/2fdcafdb4cf96f9e060384b53c572a40/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">新手教程之使用LLaMa-Factory微调LLaMa3</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>