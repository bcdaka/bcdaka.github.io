<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>[Collection与数据结构] Map与Set(一):二叉搜索树与Map,Set的使用 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/29afee1745cd46dcf5438971c7ece567/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="[Collection与数据结构] Map与Set(一):二叉搜索树与Map,Set的使用">
  <meta property="og:description" content="🌸个人主页:https://blog.csdn.net/2301_80050796?spm=1000.2115.3001.5343
🏵️热门专栏:🍕 Collection与数据结构 (91平均质量分)https://blog.csdn.net/2301_80050796/category_12621348.html?spm=1001.2014.3001.5482
🧀Java EE(94平均质量分) https://blog.csdn.net/2301_80050796/category_12643370.html?spm=1001.2014.3001.5482
🍭MySql数据库(93平均质量分)https://blog.csdn.net/2301_80050796/category_12629890.html?spm=1001.2014.3001.5482
感谢点赞与关注~~~
目录 1. 搜索树1.1 概念1.2 查找结点1.3 插入结点1.4 删除结点(难点)1.5 实现二叉搜索树1.6 性能分析1.7 和Java中Collection的关系 2. Map和Set2.1 概念与场景2.2 两种模型2.3 Map的使用2.3.1 关于Map的说明2.3.2 关于Map.Entry&lt;K,V&gt;的说明2.3.3 常用方法 2.4 Set的使用2.4.1 常用方法 1. 搜索树 1.1 概念 二叉搜索树又称为二叉排序树,它可以是一颗空树,或者是具有以下性质的二叉树.
若他的右树不为空,则它的右子树上的所有结点都大于根结点.若它的左树不为空,则它的左子树上的所有结点都小于根结点.它的左子树和右子树也分别为二叉搜索树.
1.2 查找结点 如果根节点为空,返回false.如果根结点不为空:
如果根结点key == 查找key,返回true.如果根结点key &lt; 查找key,到其右子树中查找.如果根结点key &gt; 查找key,到其左子树中查找.
1.3 插入结点 如果为空树,直接令root = 所要插入的结点.之后返回true.
如果该树不是空树,按照搜索二叉树的性质确定查找逻辑.插入新结点.注意记录cur的父节点,否则无法插入.
1.4 删除结点(难点) 设待删除的结点是cur,带删除的结点的父节点是parent.
cur的左子树为空 要删除的节点是根结点,直接令root = root.right要删除的结点是中间的结点, 单分支,parent.right = cur.right要删除的结点是中间结点,&lt;字型,parent.left = cur.right cur的右子树为空 要删除的结点是根结点,直接令root = root.left要删除的结点是中间结点,单分支,parent.left = cur.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-05-21T17:03:56+08:00">
    <meta property="article:modified_time" content="2024-05-21T17:03:56+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">[Collection与数据结构] Map与Set(一):二叉搜索树与Map,Set的使用</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <blockquote> 
 <p>🌸个人主页:<a href="https://blog.csdn.net/2301_80050796?spm=1000.2115.3001.5343">https://blog.csdn.net/2301_80050796?spm=1000.2115.3001.5343</a><br> 🏵️热门专栏:🍕 Collection与数据结构 (91平均质量分)<a href="https://blog.csdn.net/2301_80050796/category_12621348.html?spm=1001.2014.3001.5482">https://blog.csdn.net/2301_80050796/category_12621348.html?spm=1001.2014.3001.5482</a><br> 🧀Java EE(94平均质量分) <a href="https://blog.csdn.net/2301_80050796/category_12643370.html?spm=1001.2014.3001.5482">https://blog.csdn.net/2301_80050796/category_12643370.html?spm=1001.2014.3001.5482</a><br> 🍭MySql数据库(93平均质量分)<a href="https://blog.csdn.net/2301_80050796/category_12629890.html?spm=1001.2014.3001.5482">https://blog.csdn.net/2301_80050796/category_12629890.html?spm=1001.2014.3001.5482</a><br> 感谢点赞与关注~~~<br> <img src="https://images2.imgbox.com/0e/9d/BTa6a5AW_o.jpg" alt="在这里插入图片描述"></p> 
</blockquote> 
<p></p> 
<div class="toc"> 
 <h4>目录</h4> 
 <ul><li><a href="#1__9" rel="nofollow">1. 搜索树</a></li><li><ul><li><a href="#11__10" rel="nofollow">1.1 概念</a></li><li><a href="#12__16" rel="nofollow">1.2 查找结点</a></li><li><a href="#13__22" rel="nofollow">1.3 插入结点</a></li><li><a href="#14__27" rel="nofollow">1.4 删除结点(难点)</a></li><li><a href="#15__44" rel="nofollow">1.5 实现二叉搜索树</a></li><li><a href="#16__182" rel="nofollow">1.6 性能分析</a></li><li><a href="#17_JavaCollection_189" rel="nofollow">1.7 和Java中Collection的关系</a></li></ul> 
  </li><li><a href="#2_MapSet_191" rel="nofollow">2. Map和Set</a></li><li><ul><li><a href="#21__192" rel="nofollow">2.1 概念与场景</a></li><li><a href="#22__202" rel="nofollow">2.2 两种模型</a></li><li><a href="#23_Map_208" rel="nofollow">2.3 Map的使用</a></li><li><ul><li><a href="#231_Map_209" rel="nofollow">2.3.1 关于Map的说明</a></li><li><a href="#232_MapEntryKV_211" rel="nofollow">2.3.2 关于Map.Entry&lt;K,V&gt;的说明</a></li><li><a href="#233__221" rel="nofollow">2.3.3 常用方法</a></li></ul> 
   </li><li><a href="#24_Set_284" rel="nofollow">2.4 Set的使用</a></li><li><ul><li><a href="#241__289" rel="nofollow">2.4.1 常用方法</a></li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="1__9"></a>1. 搜索树</h2> 
<h3><a id="11__10"></a>1.1 概念</h3> 
<p>二叉搜索树又称为二叉排序树,它可以是一颗空树,或者是具有以下性质的二叉树.</p> 
<ul><li>若他的右树不为空,则它的<mark>右子树上的所有结点都大于根结点</mark>.</li><li>若它的左树不为空,则它的<mark>左子树上的所有结点都小于根结点.</mark></li><li>它的左子树和右子树也分别为二叉搜索树.<br> <img src="https://images2.imgbox.com/8b/7b/56oA5O8J_o.png" alt="在这里插入图片描述"></li></ul> 
<h3><a id="12__16"></a>1.2 查找结点</h3> 
<p>如果<strong>根节点为空</strong>,返回false.如果根结点不为空:</p> 
<ul><li>如果根结点key == 查找key,返回true.</li><li>如果根结点key &lt; 查找key,到其右子树中查找.</li><li>如果根结点key &gt; 查找key,到其左子树中查找.<br> <img src="https://images2.imgbox.com/bb/5c/lR1jDZ6z_o.png" alt="在这里插入图片描述"></li></ul> 
<h3><a id="13__22"></a>1.3 插入结点</h3> 
<ul><li>如果为空树,<strong>直接令root = 所要插入的结点</strong>.之后返回true.<br> <img src="https://images2.imgbox.com/d6/d2/KjKdT5AO_o.png" alt="在这里插入图片描述"></li><li>如果该树不是空树,按照搜索二叉树的性质确定查找逻辑.插入新结点.<mark>注意记录cur的父节点,否则无法插入</mark>.<br> <img src="https://images2.imgbox.com/82/c6/FlZx1V0J_o.png" alt="在这里插入图片描述"></li></ul> 
<h3><a id="14__27"></a>1.4 删除结点(难点)</h3> 
<p>设待删除的结点是cur,带删除的结点的父节点是parent.</p> 
<ol><li>cur的左子树为空 
  <ul><li>要删除的节点是根结点,直接令<strong>root = root.right</strong></li><li>要删除的结点是中间的结点, 单分支,<strong>parent.right = cur.right</strong></li><li>要删除的结点是中间结点,&lt;字型,<strong>parent.left = cur.right</strong></li></ul> </li><li>cur的右子树为空 
  <ul><li>要删除的结点是根结点,直接令<strong>root = root.left</strong></li><li>要删除的结点是中间结点,单分支,<strong>parent.left = cur.left</strong></li><li>要删除的结点是中间结点,&gt;字型,<strong>parent.right = cur.left</strong></li></ul> </li><li>cur的左右子树都不为空<br> 可以使用<mark>替换法</mark>进行删除,即它在<mark>右子树中寻找最小的结点,或者在左子树中寻找最大的结点</mark>,使用找到的结点替换要删除的结点,然后删除找到的最小(大)的结点,之后又分为两种情况(以右子树为例): 
  <ul><li>最小的结点与上下的结点<strong>组成&lt;型</strong>.</li><li>最小的结点与上下结点形<strong>成单分支</strong>.<br> [图解]<br> <img src="https://images2.imgbox.com/e1/e9/nsKDLTPI_o.png" alt="在这里插入图片描述"></li></ul> </li></ol> 
<h3><a id="15__44"></a>1.5 实现二叉搜索树</h3> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SearchBinaryTree</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">//搜索树的结点</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">Node</span><span class="token punctuation">{<!-- --></span>
       <span class="token keyword">public</span> <span class="token keyword">int</span> key<span class="token punctuation">;</span>
       <span class="token keyword">public</span> <span class="token class-name">Node</span> left<span class="token punctuation">;</span>
       <span class="token keyword">public</span> <span class="token class-name">Node</span> right<span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token class-name">Node</span><span class="token punctuation">(</span><span class="token keyword">int</span> key<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>key <span class="token operator">=</span> key<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">private</span> <span class="token class-name">Node</span> root <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

    <span class="token comment">/**
     * 查找元素
     * @param key 索要查找的元素
     * @return 返回Node的哈希值
     */</span>
    <span class="token keyword">public</span> <span class="token class-name">Node</span> <span class="token function">search</span><span class="token punctuation">(</span><span class="token keyword">int</span> key<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token class-name">Node</span> cur <span class="token operator">=</span> root<span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>cur <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>cur<span class="token punctuation">.</span>key <span class="token operator">==</span> key<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                <span class="token keyword">return</span> cur<span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>cur<span class="token punctuation">.</span>key <span class="token operator">&lt;</span> key<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                cur <span class="token operator">=</span> cur<span class="token punctuation">.</span>right<span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                cur <span class="token operator">=</span> cur<span class="token punctuation">.</span>left<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span><span class="token comment">//没找到,返回null</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 在二叉搜索树中插入指定的值
     * @param key 所要插入的值
     * @return 返回是否插入成功
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">insert</span><span class="token punctuation">(</span><span class="token keyword">int</span> key<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token class-name">Node</span> node <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Node</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Node</span> cur <span class="token operator">=</span> root<span class="token punctuation">;</span>
        <span class="token class-name">Node</span> parent <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            root <span class="token operator">=</span> node<span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>cur <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>cur<span class="token punctuation">.</span>key <span class="token operator">==</span> key<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token comment">//二叉搜索树中不允许有两个相同的值,遇到相等返回false</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>cur<span class="token punctuation">.</span>key <span class="token operator">&lt;</span> key<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                parent <span class="token operator">=</span> cur<span class="token punctuation">;</span>
                cur <span class="token operator">=</span> cur<span class="token punctuation">.</span>right<span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                parent <span class="token operator">=</span> cur<span class="token punctuation">;</span>
                cur <span class="token operator">=</span> cur<span class="token punctuation">.</span>left<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token comment">//退出循环后,判断结点应该插入在左侧还是右侧</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>parent<span class="token punctuation">.</span>key <span class="token operator">&lt;</span> key<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            parent<span class="token punctuation">.</span>right <span class="token operator">=</span> node<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            parent<span class="token punctuation">.</span>left <span class="token operator">=</span> node<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 删除指定值的结点
     * @param key 所要删除的值
     * @return 返回是否删除成功
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">remove</span><span class="token punctuation">(</span><span class="token keyword">int</span> key<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token class-name">Node</span> cur <span class="token operator">=</span> root<span class="token punctuation">;</span>
        <span class="token class-name">Node</span> parent <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>cur <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>cur<span class="token punctuation">.</span>key <span class="token operator">==</span> key<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                <span class="token function">removeNode</span><span class="token punctuation">(</span>parent<span class="token punctuation">,</span>cur<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>cur<span class="token punctuation">.</span>key <span class="token operator">&lt;</span> key<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                parent <span class="token operator">=</span> cur<span class="token punctuation">;</span>
                cur <span class="token operator">=</span> cur<span class="token punctuation">.</span>right<span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                parent <span class="token operator">=</span> cur<span class="token punctuation">;</span>
                cur <span class="token operator">=</span> cur<span class="token punctuation">.</span>left<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token comment">//没找到,返回false</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 找到结点之后删除
     * @param parent 父结点
     * @param cur 当前要删除的结点
     */</span>
    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">removeNode</span><span class="token punctuation">(</span><span class="token class-name">Node</span> parent<span class="token punctuation">,</span><span class="token class-name">Node</span> cur<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>cur<span class="token punctuation">.</span>left <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token comment">//cur的左结点为空</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>cur <span class="token operator">==</span> root<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token comment">//当前要删除的结点是根结点</span>
                root <span class="token operator">=</span> root<span class="token punctuation">.</span>right<span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>parent<span class="token punctuation">.</span>right <span class="token operator">==</span> cur<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token comment">//删除的是单分支的中间节点</span>
                parent<span class="token punctuation">.</span>right <span class="token operator">=</span> cur<span class="token punctuation">.</span>right<span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span><span class="token comment">//删除的是&lt;字型的中间结点</span>
                parent<span class="token punctuation">.</span>left <span class="token operator">=</span> cur<span class="token punctuation">.</span>right<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>cur<span class="token punctuation">.</span>right <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token comment">//cur的右结点为空</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>cur <span class="token operator">==</span> root<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token comment">//当前要删除的结点是根结点</span>
                root <span class="token operator">=</span> root<span class="token punctuation">.</span>left<span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>parent<span class="token punctuation">.</span>left <span class="token operator">==</span> cur<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token comment">//删除的是单分支的中间节点</span>
                parent<span class="token punctuation">.</span>left <span class="token operator">=</span> cur<span class="token punctuation">.</span>left<span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span><span class="token comment">//删除的是&gt;字型的中间结点</span>
                parent<span class="token punctuation">.</span>right <span class="token operator">=</span> cur<span class="token punctuation">.</span>left<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span><span class="token comment">//左右结点都不为空,使用替换删除法</span>
            <span class="token comment">//在这个结点的右子树中寻找最小的值,用它进行替换,原因:这样右结点的值一定比替换之后的值大</span>
            <span class="token class-name">Node</span> t <span class="token operator">=</span> cur<span class="token punctuation">.</span>right<span class="token punctuation">;</span>
            <span class="token class-name">Node</span> tparent <span class="token operator">=</span> cur<span class="token punctuation">;</span>
            <span class="token comment">//寻找右子树的最小结点,一直向左子树遍历,因为只有左结点的值才比根结点小,</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span>left <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token comment">//当没有左结点的时候停止遍历</span>
                tparent <span class="token operator">=</span> t<span class="token punctuation">;</span>
                t <span class="token operator">=</span> t<span class="token punctuation">.</span>left<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            cur<span class="token punctuation">.</span>key <span class="token operator">=</span> t<span class="token punctuation">.</span>key<span class="token punctuation">;</span>
            <span class="token comment">//删除替换掉的结点</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>tparent<span class="token punctuation">.</span>left <span class="token operator">==</span> t<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token comment">//&lt;字型</span>
                tparent<span class="token punctuation">.</span>left <span class="token operator">=</span> t<span class="token punctuation">.</span>right<span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span><span class="token comment">//单分支型</span>
                tparent<span class="token punctuation">.</span>right <span class="token operator">=</span> t<span class="token punctuation">.</span>right<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<h3><a id="16__182"></a>1.6 性能分析</h3> 
<p>插入和删除操作都必须先查找，查找效率代表了二叉搜索树中各个操作的性能。<br> 对有n个结点的二叉搜索树，若每个元素查找的概率相等，则二叉搜索树平均查找长度是结点在二叉搜索树的深度的函数，即结点越深，则比较次数越多。<br> 但对于同一个关键码集合，如果各关键码插入的次序不同，可能得到不同结构的二叉搜索树：<br> <img src="https://images2.imgbox.com/ef/1a/gGqrk9s7_o.png" alt="在这里插入图片描述"><br> <mark>最优情况下，二叉搜索树为完全二叉树，其平均比较次数为：log<sub>2</sub>N</mark><br> <mark>最差情况下，二叉搜索树退化为单支树，其平均比较次数为：N/2</mark></p> 
<h3><a id="17_JavaCollection_189"></a>1.7 和Java中Collection的关系</h3> 
<p>TreeMap 和 TreeSet 即 java 中利用搜索树实现的 Map 和 Set；实际上用的是红黑树，而红黑树是一棵近似平衡的二叉搜索树，即在二叉搜索树的基础之上 + 颜色以及红黑树性质验证，关于红黑树的内容后序再进行讲解。</p> 
<h2><a id="2_MapSet_191"></a>2. Map和Set</h2> 
<h3><a id="21__192"></a>2.1 概念与场景</h3> 
<p>Map和Set是一种<strong>专门用来就那些搜索的容器或者数据结构</strong>,其搜索的效率与它们具体的例子有关.<br> 以前常见的搜索方式有：<br> 1. 直接遍历，时间复杂度为O(N)，元素如果比较多效率会非常慢<br> 2. 二分查找，时间复杂度为 ,但搜索前必须要求序列是有序的<br> 上述排序比较适合静态类型的查找，即一般不会对区间进行插入和删除操作了，而现实中的查找比如：<br> 1. 根据姓名查询考试成绩<br> 2. 通讯录，即根据姓名查询联系方式<br> 3. 不重复集合，即需要先搜索关键字是否已经在集合中<br> 可能在查找时进行一些插入和删除的操作，即动态查找，那上述两种方式就不太适合了，本节介绍的Map和Set是一种适合动态查找的集合容器。</p> 
<h3><a id="22__202"></a>2.2 两种模型</h3> 
<p>一般把搜索的数据称为<strong>关键字(key)</strong>,和关键字对应的值称为<strong>值(value)</strong>,将其称为<strong>key-value键值对</strong>,所以会有两种模型.</p> 
<ol><li>纯key模型,容器中只存了<strong>key一个值</strong>.</li><li>key-value模型,容器中存的是<strong>key-value的键值对</strong>.<br> <mark>Map中存储的是key-value键值对(有点类似于python中的字典),Set中只存储了key(有点类似于python中的集合)</mark>.</li></ol> 
<h3><a id="23_Map_208"></a>2.3 Map的使用</h3> 
<h4><a id="231_Map_209"></a>2.3.1 关于Map的说明</h4> 
<p>Map是一个接口类，该类没有继承自Collection，<mark>该类中存储的是&lt;K,V&gt;结构的键值对，并且K一定是唯一的，不能重复</mark>.</p> 
<h4><a id="232_MapEntryKV_211"></a>2.3.2 关于Map.Entry&lt;K,V&gt;的说明</h4> 
<p><strong>Map.Entry&lt;K,V&gt;是Map内部实现的内部类,用来表示Map中Key于Value的映射关系(类似于python字典中的items)</strong>,该内部类中主要提供了key和value的获取方式,以及value的设置.</p> 
<table><thead><tr><th>方法</th><th>解释</th></tr></thead><tbody><tr><td>K getKey()</td><td>返回 entry 中的 key</td></tr><tr><td>V getValue()</td><td>返回 entry 中的 value</td></tr><tr><td>V setValue(V value)</td><td>将键值对中的value替换为指定value</td></tr></tbody></table> 
<p>[注意]<br> 在Map.Entry&lt;K,V&gt;类中没有提供key的设置方法,<mark>即该类中的key一旦确定就不可更改</mark>.</p> 
<h4><a id="233__221"></a>2.3.3 常用方法</h4> 
<table><thead><tr><th>方法</th><th>解释</th></tr></thead><tbody><tr><td>V get(Object key)</td><td>返回 key 对应的 value，如果key不存在，返回null</td></tr><tr><td>V getOrDefault(Object key, V defaultValue)</td><td>返回 key 对应的 value，key 不存在，返回默认值</td></tr><tr><td>V put(K key, V value)</td><td>设置 key 对应的 value</td></tr><tr><td>V remove(Object key)</td><td>删除 key 对应的映射关系</td></tr><tr><td>Set<code>&lt;K&gt;</code> keySet()</td><td>返回所有 key 的<strong>不重复</strong>集合(Map中的key不可重复)</td></tr><tr><td>Collection<code>&lt;V&gt;</code> values()</td><td>返回所有 value 的<strong>可重复集</strong>合(Map中的value可重复)</td></tr><tr><td>Set&lt;Map.Entry&lt;K, V&gt;&gt; entrySet()</td><td>返回所有的 key-value <strong>映射关系</strong></td></tr><tr><td>boolean containsKey(Object key)</td><td>判断是否包含 key</td></tr><tr><td>boolean containsValue(Object value)</td><td>判断是否包含 value</td></tr></tbody></table> 
<p>[注意事项]</p> 
<ol><li>Map是一个接口，不能直接实例化对象，<mark>如果要实例化对象只能实例化其实现类TreeMap或者HashMap</mark></li><li>Map中存放键值对的<mark>Key是唯一的</mark>，<mark>value是可以重复的</mark></li><li>在<mark>TreeMap</mark>中插入键值对时，<mark>key不能为空</mark>，否则就会抛NullPointerException异常，<mark>value可以为空</mark>。<mark>但是HashMap的key和value都可以为空</mark>。</li><li>Map中的<mark>Key</mark>可以全部分离出来，<mark>存储到Set中来进行访问</mark>(因为Key不能重复)。</li><li>Map中的<mark>value</mark>可以全部分离出来，<mark>存储在Collection的任何一个子集合中</mark>(value可能有重复)。</li><li>Map中键值对的<mark>Key不能直接修改，value可以修改</mark>，如果要修改key，只能先将该key删除掉，然后再来进行重新插入。</li><li>TreeMap的底层结构<strong>是红黑树</strong>,增删查改的时间复杂度是log<sub>2</sub>N,HashMap的底层结构是<strong>哈希桶</strong>.时间复杂度是1,<strong>哈希桶直接可以根据索引找到位置,不需要遍历</strong>.</li><li>TreeMap和HashMap的<strong>线程都不安全</strong>.</li></ol> 
<p>使用实例:</p> 
<pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Map</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Set</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">TreeMap</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">"一"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//添加元素</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">"二"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">"三"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token string">"四"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token string">"五"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//打印map大小</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//获取5对应的value</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">getOrDefault</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token string">"不存在"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//6不存在,返回默认值</span>
        map<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//删除5对应的键值对</span>
        <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span>set <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">keySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//拿到map的key集合</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token operator">:</span>set<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>x<span class="token operator">+</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> x<span class="token operator">:</span>map<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>x<span class="token operator">+</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> set1 <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">entrySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> x<span class="token operator">:</span>set1<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token comment">//把一个不可迭代的对象转换为可迭代对象,经常用</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"key:"</span><span class="token operator">+</span>x<span class="token punctuation">.</span><span class="token function">getKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">" "</span><span class="token operator">+</span><span class="token string">"value:"</span><span class="token operator">+</span>x<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">containsKey</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">containsKey</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">containsValue</span><span class="token punctuation">(</span><span class="token string">"一"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">containsValue</span><span class="token punctuation">(</span><span class="token string">"六"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>运行结果:<br> <img src="https://images2.imgbox.com/b2/7f/AEKmHPMb_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="24_Set_284"></a>2.4 Set的使用</h3> 
<p>Set和Map最主要的区别有两点:</p> 
<ul><li>Set继承于Collection接口,而Map没有,<strong>所以Set可以遍历,Map不可以遍历</strong>.</li><li>Set中只存储key,而Map中存的是key-value的键值对.</li></ul> 
<h4><a id="241__289"></a>2.4.1 常用方法</h4> 
<table><thead><tr><th>方法</th><th>解释</th></tr></thead><tbody><tr><td>boolean add(E e)</td><td>添加元素，但重复元素不会被添加成功</td></tr><tr><td>void clear()</td><td>清空集合</td></tr><tr><td>boolean contains(Object o)</td><td>判断 o 是否在集合中</td></tr><tr><td>Iterator<code>&lt;E&gt;</code> iterator()</td><td>返回迭代器</td></tr><tr><td>boolean remove(Object o)</td><td>删除集合中的 o</td></tr><tr><td>int size()</td><td>返回set中元素的个数</td></tr><tr><td>boolean isEmpty()</td><td>检测set是否为空，空返回true，否则返回false</td></tr><tr><td>Object[] toArray()</td><td>将set中的元素转换为数组返回</td></tr><tr><td>boolean containsAll(Collection&lt;?&gt; c)</td><td><mark>集合c中的元素是否在set中全部存在</mark>，是返回true，否则返回false</td></tr><tr><td>boolean addAll(Collection&lt;? extends E&gt; c)</td><td>将集合c中的元素添加到set中，<mark>可以达到去重的效果</mark></td></tr></tbody></table> 
<p>[注意事项]</p> 
<ol><li>Set是继承自Collection的一个接口类,<strong>所以是可遍历的对象</strong>.在java中我们可以使用<mark>for-each的方法来遍历</mark>.</li><li>Set中只存储了key，<strong>并且要求key一定要唯一</strong>.</li><li>TreeSet的<mark>底层是使用Map来实现的</mark>，其使用<strong>key与Object的一个默认对象</strong>作为键值对插入到Map中的</li><li>Set最大的功能就是<mark>对集合中的元素进行去重</mark></li><li>实现Set接口的常用类有<mark>TreeSet和HashSet</mark>，还有一个LinkedHashSet，LinkedHashSet是在HashSet的基础上维护了一个双向链表来记录元素的插入次序。</li><li>Set中的<mark>Key不能修改</mark>(这里与python不同.python中的集合是可变的)，如果要修改，先将原来的删除掉，然后再重新插入</li><li><mark>TreeSet中不能插入null的key，HashSet可以</mark>.</li></ol>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/01f2192d0bc124a8dfca5b4b85093df5/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">10 分钟，教你如何用 LLama-Factory 训练和微调 LLama3 模型</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/41b25fa958a75c0c6d2ef6fa3f36cddb/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">基于【文心智能体平台】零代码搭建我的AI情感应用：心声导航</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>