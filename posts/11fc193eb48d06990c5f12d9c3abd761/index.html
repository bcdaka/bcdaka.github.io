<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>uniapp在自定义tabbar上动态修改svg图标颜色和字体颜色 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/11fc193eb48d06990c5f12d9c3abd761/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="uniapp在自定义tabbar上动态修改svg图标颜色和字体颜色">
  <meta property="og:description" content="需求：在uniapp项目内，自定义tabbar，需要将图标更换成svg格式，可动态修改图标及字体颜色。 效果图如下：
我使用的是uniapp结合uview2的组件使用，代码如下：
&lt;u-tabbar :value=&#34;currentIndex&#34; @change=&#34;tabbarChange&#34; :fixed=&#34;true&#34; :activeColor=&#34;themeColor&#34; :safeAreaInsetBottom=&#34;true&#34; zIndex=&#39;99&#39;&gt; &lt;u-tabbar-item v-for=&#34;(item,index) in tabbarList&#34; :key=&#34;index&#34; :text=&#34;item.text&#34; :badge=&#34;item.isBadge?carNum:&#39;&#39;&#34;&gt; &lt;!-- 选中的svg --&gt; &lt;view class=&#34;u-page__item__slot-icon tabbarItemIcon&#34; slot=&#34;active-icon&#34; :style=&#34;{backgroundImage: &#39;url(&#39;&#43;item.selectedIconPath&#43;&#39;)&#39;}&#34;&gt; &lt;/view&gt; &lt;!-- 未选中的svg --&gt; &lt;view class=&#34;u-page__item__slot-icon tabbarItemIcon&#34; slot=&#34;inactive-icon&#34; :style=&#34;{backgroundImage: &#39;url(&#39;&#43;item.iconPath&#43;&#39;)&#39;}&#34;&gt; &lt;/view&gt; &lt;/u-tabbar-item&gt; &lt;/u-tabbar&gt; 对上述代码进行解析：
currentIndex：是父组件传递过来的需要选中的下标fixed：是否固定底部themeColor：主题色tabbarChange：切换tabbar的事件 数据来源：
// 将对应的svg导入进来 import {index,category,cart,mine} from &#34;./svgUrls.js&#34; export default { props: { // 当前索引 currentIndex: { type: Number, default: 0 }, }, data() { let that=this; return { // 主题色 themeColor:&#34;">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-06-06T17:37:17+08:00">
    <meta property="article:modified_time" content="2024-06-06T17:37:17+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">uniapp在自定义tabbar上动态修改svg图标颜色和字体颜色</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="uniapptabbarsvg_0"></a>需求：在uniapp项目内，自定义tabbar，需要将图标更换成svg格式，可动态修改图标及字体颜色。</h3> 
<p>效果图如下：</p> 
<p><img src="https://images2.imgbox.com/8e/38/RMJdaODY_o.gif" alt="请添加图片描述"></p> 
<p>我使用的是uniapp结合uview2的组件使用，代码如下：</p> 
<pre><code class="prism language-javascript"><span class="token operator">&lt;</span>u<span class="token operator">-</span>tabbar <span class="token operator">:</span>value<span class="token operator">=</span><span class="token string">"currentIndex"</span> @change<span class="token operator">=</span><span class="token string">"tabbarChange"</span> <span class="token operator">:</span>fixed<span class="token operator">=</span><span class="token string">"true"</span> <span class="token operator">:</span>activeColor<span class="token operator">=</span><span class="token string">"themeColor"</span>
			<span class="token operator">:</span>safeAreaInsetBottom<span class="token operator">=</span><span class="token string">"true"</span> zIndex<span class="token operator">=</span><span class="token string">'99'</span><span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>u<span class="token operator">-</span>tabbar<span class="token operator">-</span>item v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">"(item,index) in tabbarList"</span> <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">"index"</span> <span class="token operator">:</span>text<span class="token operator">=</span><span class="token string">"item.text"</span>
		<span class="token operator">:</span>badge<span class="token operator">=</span><span class="token string">"item.isBadge?carNum:''"</span><span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 选中的svg <span class="token operator">--</span><span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"u-page__item__slot-icon tabbarItemIcon"</span>
			slot<span class="token operator">=</span><span class="token string">"active-icon"</span> <span class="token operator">:</span>style<span class="token operator">=</span><span class="token string">"{backgroundImage: 'url('+item.selectedIconPath+')'}"</span><span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 未选中的svg <span class="token operator">--</span><span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"u-page__item__slot-icon tabbarItemIcon"</span>
			slot<span class="token operator">=</span><span class="token string">"inactive-icon"</span> <span class="token operator">:</span>style<span class="token operator">=</span><span class="token string">"{backgroundImage: 'url('+item.iconPath+')'}"</span><span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span><span class="token operator">/</span>u<span class="token operator">-</span>tabbar<span class="token operator">-</span>item<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>u<span class="token operator">-</span>tabbar<span class="token operator">&gt;</span>
</code></pre> 
<p>对上述代码进行解析：</p> 
<ul><li>currentIndex：是父组件传递过来的需要选中的下标</li><li>fixed：是否固定底部</li><li>themeColor：主题色</li><li>tabbarChange：切换tabbar的事件</li></ul> 
<p>数据来源：</p> 
<pre><code class="prism language-javascript"><span class="token comment">// 将对应的svg导入进来</span>
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span>index<span class="token punctuation">,</span>category<span class="token punctuation">,</span>cart<span class="token punctuation">,</span>mine<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"./svgUrls.js"</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
	<span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
		<span class="token comment">// 当前索引</span>
		<span class="token literal-property property">currentIndex</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
			<span class="token literal-property property">type</span><span class="token operator">:</span> Number<span class="token punctuation">,</span>
			<span class="token keyword">default</span><span class="token operator">:</span> <span class="token number">0</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">let</span> that<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
			<span class="token comment">// 主题色</span>
			<span class="token literal-property property">themeColor</span><span class="token operator">:</span><span class="token string">"#0cea39"</span><span class="token punctuation">,</span>
			<span class="token comment">// tabbar数据</span>
			<span class="token literal-property property">tabbarList</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{<!-- --></span>
					<span class="token string-property property">"pagePath"</span><span class="token operator">:</span> <span class="token string">"/pages/index/index"</span><span class="token punctuation">,</span>
					<span class="token string-property property">"iconPath"</span><span class="token operator">:</span> <span class="token string">'"'</span> <span class="token operator">+</span> index<span class="token operator">+</span> <span class="token string">'"'</span><span class="token punctuation">,</span>
					<span class="token string-property property">"selectedIconPath"</span><span class="token operator">:</span> that<span class="token punctuation">.</span><span class="token function">changeColor</span><span class="token punctuation">(</span><span class="token string">'"'</span> <span class="token operator">+</span> index<span class="token operator">+</span> <span class="token string">'"'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
					<span class="token string-property property">"text"</span><span class="token operator">:</span> <span class="token string">"首页"</span>
				<span class="token punctuation">}</span><span class="token punctuation">,</span>
				<span class="token punctuation">{<!-- --></span>
					<span class="token string-property property">"pagePath"</span><span class="token operator">:</span> <span class="token string">"/pages/category/category"</span><span class="token punctuation">,</span>
					<span class="token string-property property">"iconPath"</span><span class="token operator">:</span> <span class="token string">'"'</span> <span class="token operator">+</span> category <span class="token operator">+</span> <span class="token string">'"'</span><span class="token punctuation">,</span>
					<span class="token string-property property">"selectedIconPath"</span><span class="token operator">:</span> that<span class="token punctuation">.</span><span class="token function">changeColor</span><span class="token punctuation">(</span><span class="token string">'"'</span> <span class="token operator">+</span> category <span class="token operator">+</span> <span class="token string">'"'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
					<span class="token string-property property">"text"</span><span class="token operator">:</span> <span class="token string">"分类"</span>
				<span class="token punctuation">}</span><span class="token punctuation">,</span>
				<span class="token punctuation">{<!-- --></span>
					<span class="token string-property property">"pagePath"</span><span class="token operator">:</span> <span class="token string">"/pages/cart/cart"</span><span class="token punctuation">,</span>
					<span class="token string-property property">"iconPath"</span><span class="token operator">:</span> <span class="token string">'"'</span> <span class="token operator">+</span> cart <span class="token operator">+</span> <span class="token string">'"'</span><span class="token punctuation">,</span>
					<span class="token string-property property">"selectedIconPath"</span><span class="token operator">:</span> that<span class="token punctuation">.</span><span class="token function">changeColor</span><span class="token punctuation">(</span><span class="token string">'"'</span> <span class="token operator">+</span> cart <span class="token operator">+</span> <span class="token string">'"'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
					<span class="token string-property property">"text"</span><span class="token operator">:</span> <span class="token string">"购物车"</span>
				<span class="token punctuation">}</span><span class="token punctuation">,</span>
				<span class="token punctuation">{<!-- --></span>
					<span class="token string-property property">"pagePath"</span><span class="token operator">:</span> <span class="token string">"/pages/mine/mine"</span><span class="token punctuation">,</span>
					<span class="token string-property property">"iconPath"</span><span class="token operator">:</span> <span class="token string">'"'</span> <span class="token operator">+</span> mine<span class="token operator">+</span> <span class="token string">'"'</span><span class="token punctuation">,</span>
					<span class="token string-property property">"selectedIconPath"</span><span class="token operator">:</span> that<span class="token punctuation">.</span><span class="token function">changeColor</span><span class="token punctuation">(</span><span class="token string">'"'</span> <span class="token operator">+</span> mine<span class="token operator">+</span> <span class="token string">'"'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
					<span class="token string-property property">"text"</span><span class="token operator">:</span> <span class="token string">"我的"</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">]</span><span class="token punctuation">,</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token literal-property property">methods</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
		<span class="token comment">// 改变svg的颜色</span>
		<span class="token function">changeColor</span><span class="token punctuation">(</span><span class="token parameter">url</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token keyword">let</span> res <span class="token operator">=</span> url<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">%23[a-zA-Z0-9]{6}</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>themeColor<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">"#"</span><span class="token punctuation">,</span> <span class="token string">"%23"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span> res<span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>各个图标的svg格式存放在svgUrls.js文件内[可随意存放位置和更改名称]</p> 
<pre><code class="prism language-javascript"><span class="token comment">// 这里代码偏多只展示index的，其他的自行填写</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> index<span class="token operator">=</span><span class="token string">"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 81 81'%3E%3Cpath fill='%23909399' d='M13.19 44.83q-2.2.22-4.06-.69c-5.39-2.66-2.57-7.5.45-10.58 6.53-6.65 12.91-13.44 19.17-20.22q4.55-4.92 7.17-5.97c5.22-2.09 9.59.32 13.07 4.11q10.02 10.86 20.33 21.39c3.01 3.07 6.79 7.92 1.43 11.04q-2.12 1.23-4.76.86a.42.41 4.4 0 0-.47.4q-.17 8.72.02 18.34c.11 5.46-2.48 9.51-8.21 9.69q-9.35.29-33.94.12-9.43-.06-9.37-9.61.06-8.97.05-18.08 0-.88-.88-.8zm4.99-3.29q-.01 11.32-.01 23.46 0 3.3 3 4.01 1.53.36 3.7.35 16.19-.04 31.43-.09 5.01-.02 5-4.56-.05-11.31-.04-23.28 0-.62.62-.62c1.91 0 4.74.36 6.5-.26q1.79-.62.49-2-12.48-13.32-23.61-24.91-5.59-5.81-11.15.02-11.96 12.56-23.82 25.18a1.12 1.12 0 0 0 .79 1.89l6.49.18q.61.02.61.63z'/%3E%3Cpath fill='%23909399' d='M40.23 41.22c6.2-5.65 13.84 3.37 7.01 8.95q-3.62 2.95-7.03 5.96-.47.41-.93.01-3.51-3.02-7.45-6.4c-6.15-5.26 1.24-14.1 7.44-8.52q.48.43.96 0z'/%3E%3C/svg%3E"</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> category <span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> cart <span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> mine<span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">;</span>
</code></pre> 
<p>比如说index的数据格式是如何来的。</p> 
<p><strong>首先</strong>：如果你没有svg格式，而是图片格式，那么你需要将图片格式转换为svg格式，可自行搜索转换工具，如果是svg格式则忽略。</p> 
<p><strong>其次</strong>：当前是svg格式，需要将svg格式进行转换为<code>data:image/svg+xml,</code>这种是css转义，不是base代码。</p> 
<p><strong>最后</strong>：转义完成后赋值给上面的变量即可。</p> 
<p>这样就可以动态修改tabbar的字体和svg图标的颜色啦。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/2e93c33be26cbb9aa2403a776f1e615b/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">[office] excel运用计算公式进行运算的方法 #知识分享#其他#学习方法</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b5a68cd4ee6d06cf809b3dfba9e68be9/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">浮动静态路由及负载均衡配置（华为）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>