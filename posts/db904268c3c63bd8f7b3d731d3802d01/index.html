<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Android Studio 版本升级后 Gradle project sync failed（Android V 应用升级） - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/db904268c3c63bd8f7b3d731d3802d01/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="Android Studio 版本升级后 Gradle project sync failed（Android V 应用升级）">
  <meta property="og:description" content="问题及解决方案 更新到蜥蜴 Android Studio Iguana 后，出现Gradle project sync failed的问题（IDE更新版本的常态了）。
背景：对应用进行Android V版本升级（SDK=35，gradle插件版本要 8.4.0）
1、Gradle 版本过低 报错信息：
FAILURE: Build failed with an exception.
* Where:
Build file &#39;E:\code\Demo\app\build.gradle&#39; line: 1
* What went wrong:
A problem occurred evaluating project &#39;:app&#39;.
&gt; Failed to apply plugin &#39;com.android.internal.version-check&#39;.
&gt; Minimum supported Gradle version is 8.6. Current version is 8.2. If using the gradle wrapper, try editing the distributionUrl in E:\code\Demo\gradle\wrapper\gradle-wrapper.properties to gradle-8.6-all.zip
2、应用项目没有gradle文件夹 因此并不能按提示配置版本号，正常Project文件夹如下：">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-05-20T15:56:54+08:00">
    <meta property="article:modified_time" content="2024-05-20T15:56:54+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Android Studio 版本升级后 Gradle project sync failed（Android V 应用升级）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h3 style="background-color:transparent;">问题及解决方案</h3> 
<p>更新到蜥蜴 Android Studio Iguana 后，出现Gradle project sync failed的问题（IDE更新版本的常态了）。</p> 
<p>背景：对应用进行Android V版本升级（SDK=35，gradle插件版本要 8.4.0）</p> 
<h4>1、Gradle 版本过低</h4> 
<p>报错信息：</p> 
<blockquote> 
 <p>FAILURE: Build failed with an exception.</p> 
 <p>* Where:<br> Build file 'E:\code\Demo\app\build.gradle' line: 1</p> 
 <p>* What went wrong:<br> A problem occurred evaluating project ':app'.<br> &gt;<strong> Failed to apply plugin 'com.android.internal.version-check'.</strong><br>    &gt; <strong>Minimum supported Gradle version is 8.6. Current version is 8.2.</strong> If using the gradle wrapper, try editing the distributionUrl in E:\code\Demo\gradle\wrapper\gradle-wrapper.properties to gradle-8.6-all.zip</p> 
</blockquote> 
<h4 style="background-color:transparent;">2、应用项目没有gradle文件夹</h4> 
<p>因此并不能按提示配置版本号，正常Project文件夹如下：</p> 
<figure class="image"> 
 <img alt="Preject - APP - gradle文件夹" height="110" src="https://images2.imgbox.com/bd/ff/SkFndDWp_o.png" width="284"> 
 <figcaption>
   Preject - APP - gradle文件夹 
 </figcaption> 
</figure> 
<figure class="image"> 
 <img alt="Android Studio 版本信息" height="290" src="https://images2.imgbox.com/30/9d/iJgdBpIN_o.png" width="516"> 
 <figcaption>
   Android Studio Iguana 版本信息 
 </figcaption> 
</figure> 
<p> 缺少gradle文件夹可以自行创建/拷贝生成，然后修改版本号为8.6</p> 
<pre><code class="hljs">#Tue Jun 27 15:58:22 CST 2023
distributionBase=GRADLE_USER_HOME
distributionPath=wrapper/dists
distributionUrl=https\://services.gradle.org/distributions/gradle-8.6-bin.zip
zipStoreBase=GRADLE_USER_HOME
zipStorePath=wrapper/dists
</code></pre> 
<p> 下载中 ：</p> 
<p><img alt="" height="30" src="https://images2.imgbox.com/8b/a7/BpTewJxy_o.png" width="804"></p> 
<p> </p> 
<h4>3、 Gradle 插件与IDE/项目不匹配</h4> 
<p>解决了问题2下载完之后出现问题了</p> 
<p><img alt="" height="85" src="https://images2.imgbox.com/53/98/W1p1Wxx9_o.png" width="948"></p> 
<blockquote> 
 <p>The project is using an incompatible version (AGP 8.4.0) of the Android Gradle plugin. Latest supported version is AGP 8.3.0<br><a class="link-info" href="https://developer.android.com/studio/releases?hl=zh-cn#android_gradle_plugin_and_android_studio_compatibility" rel="nofollow" title="See Android Studio &amp; AGP compatibility options.">See Android Studio &amp; AGP compatibility options.</a></p> 
</blockquote> 
<h3>总结</h3> 
<p>1、Gradle 及插件版本需要匹配</p> 
<table><caption>
   Android Gradle Plugin Version和Gradle Version的关系 
 </caption><tbody><tr><th>插件版本</th><th>所需的最低 Gradle 版本</th></tr><tr><td>8.4</td><td>土耳其里拉</td></tr><tr><td>8.3</td><td>8.4</td></tr><tr><td>8.2</td><td>8.2</td></tr><tr><td>8.1</td><td>8.0</td></tr><tr><td>8.0</td><td>8.0</td></tr><tr><td>7.4</td><td>7.5</td></tr></tbody></table> 
<p> 参考官方说明：<a href="https://developer.android.com/build/releases/gradle-plugin?hl=zh-cn#updating-gradle" rel="nofollow" title="Android Gradle 插件 8.4 版本说明  |  Android Studio  |  Android Developers">Android Gradle 插件 8.4 版本说明  |  Android Studio  |  Android Developers</a></p> 
<p></p> 
<p>2、Android V应用升级，必须用Jellyfish（水母）或更高的 IDE，因为SDK35需要gradle 8.4 (AGP 8.4.0)。</p> 
<table><caption>
   Android Gradle 插件和 Android Studio 兼容性 
 </caption><tbody><tr><th>Android Studio 版本</th><th>所需的 AGP 版本</th></tr><tr><td>Koala | 2024 年 1 月 1 日</td><td>3.2-8.5</td></tr><tr><td>Jellyfish | 2023.3.1</td><td>3.2-<span style="color:#fe2c24;"><strong>8.4</strong></span></td></tr><tr><td>Iguana | 2023.2.1</td><td>3.2-<span style="color:#fe2c24;">8.3</span></td></tr><tr><td>Hedgehog | 2023.1.1</td><td>3.2-8.2</td></tr><tr><td>Giraffe | 2022.3.1</td><td>3.2-8.1</td></tr><tr><td>Flamingo | 2022.2.1</td><td>3.2-8.0</td></tr></tbody></table> 
<p>参考官方说明：<a href="https://developer.android.com/studio/releases?hl=zh-cn#android_gradle_plugin_and_android_studio_compatibility" rel="nofollow" title="Android Studio Jellyfish | 2023.3.1  |  Android Developers">Android Studio Jellyfish | 2023.3.1  |  Android Developers</a></p> 
<p> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ea3095033fa6c1ca3e17819281e777fd/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">鸿蒙系统中的Webview技术详解</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/3d51c66f3679463d86554b926405e0d3/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">报错：Java.net.ConnectException: Connection timed out: connect</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>