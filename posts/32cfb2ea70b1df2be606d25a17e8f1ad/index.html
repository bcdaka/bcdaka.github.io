<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【MySQL基础】非常全面！一文掌握MySQL常用语法 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/32cfb2ea70b1df2be606d25a17e8f1ad/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="【MySQL基础】非常全面！一文掌握MySQL常用语法">
  <meta property="og:description" content="文章目录 基础命令MYSQL注释方式数据库连接连接数据库退出数据库连接 修改用户密码查询MYSQL版本查看所有数据库使用数据库查看所选择数据库的所有表查看表的具体信息创建数据库查看创建数据库的语句数据表管理创建数据表字段类型数据约束 查看创建数据表的语句查看表的结构修改表修改表名给指定表增加字段修改指定表的字段删除指定表的字段 删除表给表添加外键创建表的时候增加外键给已有表添加外键外键使用建议 INSERT 数据插入语句数据插入一次性插入多条数据把其他表查询到数据插入当前表案例 UPDATE 数据更新语句没有指定匹配条件的话，会所有表的所有记录根据条件来修改记录一次性修改多个字段的值稍微高级一点的使用 WHERE条件常用操作符判空and和or的使用 DELETE 数据删除TRUNCATE 数据表清空SELECT 数据查询语句SELECT语法完整结构查询一个表中的所有数据查询指定字段的数据给字段取别名给表取别名字符串拼接查询结果数据去重查询时增加计算模糊查询连接查询七种连接方式自连接 分页排序子查询（嵌套查询）innot inexistsnot existsin 和 exists 怎么选？ 查询常用函数【数学运算】【字符串函数】【时间和日期函数】【数据库相关】【统计相关】注意事项 分组、过滤集合操作Union（并集）Except（差集）Intersect（交集） 连接查询 索引视图例子创建视图查询视图更新视图 数据加密 source命令执行`.sql`文件的sql语句使用命令行的原因命令行使用流程1、启动mysql2、连接mysql3、看一下有啥数据库4、要sql文件导入到那个数据库，就使用哪个5、导入sql文件6、看我完整操作一遍 Docker安装的MySQL容器如何使用Source 基础命令 MYSQL注释方式 -- 单行注释 /* 多行注释 哈哈哈哈哈 哈哈哈哈 */ 数据库连接 连接数据库 mysql -u root -p12345678 退出数据库连接 使用exit;命令可以退出连接
修改用户密码 查询MYSQL版本 mysql&gt; select version(); &#43;-----------&#43; | version() | &#43;-----------&#43; | 8.0.27 | &#43;-----------&#43; 1 row in set (0.00 sec) 查看所有数据库 show databases; 使用数据库 如果想要操作数据库，需要使用use 数据库名;来选择要操作的数据库">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-08-11T17:43:40+08:00">
    <meta property="article:modified_time" content="2024-08-11T17:43:40+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【MySQL基础】非常全面！一文掌握MySQL常用语法</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-dracula">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#_2" rel="nofollow">基础命令</a></li><li><ul><li><a href="#MYSQL_4" rel="nofollow">MYSQL注释方式</a></li><li><a href="#_16" rel="nofollow">数据库连接</a></li><li><ul><li><a href="#_17" rel="nofollow">连接数据库</a></li><li><a href="#_26" rel="nofollow">退出数据库连接</a></li></ul> 
   </li><li><a href="#_31" rel="nofollow">修改用户密码</a></li><li><a href="#MYSQL_35" rel="nofollow">查询MYSQL版本</a></li><li><a href="#_47" rel="nofollow">查看所有数据库</a></li><li><a href="#_56" rel="nofollow">使用数据库</a></li><li><a href="#_63" rel="nofollow">查看所选择数据库的所有表</a></li><li><a href="#_72" rel="nofollow">查看表的具体信息</a></li><li><a href="#_97" rel="nofollow">创建数据库</a></li><li><a href="#_117" rel="nofollow">查看创建数据库的语句</a></li><li><a href="#_129" rel="nofollow">数据表管理</a></li><li><ul><li><a href="#_131" rel="nofollow">创建数据表</a></li><li><ul><li><a href="#_148" rel="nofollow">字段类型</a></li><li><a href="#_180" rel="nofollow">数据约束</a></li></ul> 
    </li><li><a href="#_222" rel="nofollow">查看创建数据表的语句</a></li><li><a href="#_237" rel="nofollow">查看表的结构</a></li><li><a href="#_249" rel="nofollow">修改表</a></li><li><ul><li><a href="#_250" rel="nofollow">修改表名</a></li><li><a href="#_260" rel="nofollow">给指定表增加字段</a></li><li><a href="#_295" rel="nofollow">修改指定表的字段</a></li><li><a href="#_350" rel="nofollow">删除指定表的字段</a></li></ul> 
    </li><li><a href="#_379" rel="nofollow">删除表</a></li><li><a href="#_400" rel="nofollow">给表添加外键</a></li><li><ul><li><a href="#_402" rel="nofollow">创建表的时候增加外键</a></li><li><a href="#_424" rel="nofollow">给已有表添加外键</a></li><li><a href="#_436" rel="nofollow">外键使用建议</a></li></ul> 
   </li></ul> 
   </li><li><a href="#INSERT__442" rel="nofollow">INSERT 数据插入语句</a></li><li><ul><li><a href="#_444" rel="nofollow">数据插入</a></li><li><a href="#_450" rel="nofollow">一次性插入多条数据</a></li><li><a href="#_455" rel="nofollow">把其他表查询到数据插入当前表</a></li><li><a href="#_462" rel="nofollow">案例</a></li></ul> 
   </li><li><a href="#UPDATE__542" rel="nofollow">UPDATE 数据更新语句</a></li><li><ul><li><a href="#_544" rel="nofollow">没有指定匹配条件的话，会所有表的所有记录</a></li><li><a href="#_576" rel="nofollow">根据条件来修改记录</a></li><li><a href="#_596" rel="nofollow">一次性修改多个字段的值</a></li><li><a href="#_622" rel="nofollow">稍微高级一点的使用</a></li></ul> 
   </li><li><a href="#WHERE_628" rel="nofollow">WHERE条件</a></li><li><ul><li><a href="#_629" rel="nofollow">常用操作符</a></li><li><a href="#_724" rel="nofollow">判空</a></li><li><a href="#andor_733" rel="nofollow">and和or的使用</a></li></ul> 
   </li><li><a href="#DELETE__747" rel="nofollow">DELETE 数据删除</a></li><li><a href="#TRUNCATE__766" rel="nofollow">TRUNCATE 数据表清空</a></li><li><a href="#SELECT__774" rel="nofollow">SELECT 数据查询语句</a></li><li><ul><li><a href="#SELECT_775" rel="nofollow">SELECT语法完整结构</a></li><li><a href="#_806" rel="nofollow">查询一个表中的所有数据</a></li><li><a href="#_812" rel="nofollow">查询指定字段的数据</a></li><li><a href="#_820" rel="nofollow">给字段取别名</a></li><li><a href="#_848" rel="nofollow">给表取别名</a></li><li><a href="#_872" rel="nofollow">字符串拼接</a></li><li><a href="#_888" rel="nofollow">查询结果数据去重</a></li><li><a href="#_915" rel="nofollow">查询时增加计算</a></li><li><a href="#_944" rel="nofollow">模糊查询</a></li><li><a href="#_975" rel="nofollow">连接查询</a></li><li><ul><li><a href="#_977" rel="nofollow">七种连接方式</a></li><li><a href="#_981" rel="nofollow">自连接</a></li></ul> 
    </li><li><a href="#_1029" rel="nofollow">分页</a></li><li><a href="#_1037" rel="nofollow">排序</a></li><li><a href="#_1080" rel="nofollow">子查询（嵌套查询）</a></li><li><ul><li><a href="#in_1119" rel="nofollow">in</a></li><li><a href="#not_in_1141" rel="nofollow">not in</a></li><li><a href="#exists_1146" rel="nofollow">exists</a></li><li><a href="#not_exists_1159" rel="nofollow">not exists</a></li><li><a href="#in__exists__1203" rel="nofollow">in 和 exists 怎么选？</a></li></ul> 
    </li><li><a href="#_1227" rel="nofollow">查询常用函数</a></li><li><ul><li><a href="#_1228" rel="nofollow">【数学运算】</a></li><li><a href="#_1236" rel="nofollow">【字符串函数】</a></li><li><a href="#_1250" rel="nofollow">【时间和日期函数】</a></li><li><a href="#_1264" rel="nofollow">【数据库相关】</a></li><li><a href="#_1270" rel="nofollow">【统计相关】</a></li><li><a href="#_1281" rel="nofollow">注意事项</a></li></ul> 
    </li><li><a href="#_1293" rel="nofollow">分组、过滤</a></li><li><a href="#_1336" rel="nofollow">集合操作</a></li><li><ul><li><a href="#Union_1337" rel="nofollow">Union（并集）</a></li><li><a href="#Except_1395" rel="nofollow">Except（差集）</a></li><li><a href="#Intersect_1406" rel="nofollow">Intersect（交集）</a></li></ul> 
    </li><li><a href="#_1417" rel="nofollow">连接查询</a></li></ul> 
   </li><li><a href="#_1419" rel="nofollow">索引</a></li><li><a href="#_1425" rel="nofollow">视图</a></li><li><ul><li><a href="#_1434" rel="nofollow">例子</a></li><li><ul><li><a href="#_1438" rel="nofollow">创建视图</a></li><li><a href="#_1453" rel="nofollow">查询视图</a></li><li><a href="#_1463" rel="nofollow">更新视图</a></li></ul> 
   </li></ul> 
   </li><li><a href="#_1498" rel="nofollow">数据加密</a></li></ul> 
  </li><li><a href="#sourcesqlsql_1584" rel="nofollow">source命令执行`.sql`文件的sql语句</a></li><li><ul><li><a href="#_1585" rel="nofollow">使用命令行的原因</a></li><li><a href="#_1587" rel="nofollow">命令行使用流程</a></li><li><ul><li><a href="#1mysql_1588" rel="nofollow">1、启动mysql</a></li><li><a href="#2mysql_1592" rel="nofollow">2、连接mysql</a></li><li><a href="#3_1597" rel="nofollow">3、看一下有啥数据库</a></li><li><a href="#4sql_1601" rel="nofollow">4、要sql文件导入到那个数据库，就使用哪个</a></li><li><a href="#5sql_1606" rel="nofollow">5、导入sql文件</a></li><li><a href="#6_1611" rel="nofollow">6、看我完整操作一遍</a></li></ul> 
   </li><li><a href="#DockerMySQLSource_1614" rel="nofollow">Docker安装的MySQL容器如何使用Source</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="_2"></a>基础命令</h2> 
<h3><a id="MYSQL_4"></a>MYSQL注释方式</h3> 
<pre><code class="prism language-sql"><span class="token comment">-- 单行注释</span>

<span class="token comment">/*
多行注释
哈哈哈哈哈
哈哈哈哈
*/</span>
</code></pre> 
<h3><a id="_16"></a>数据库连接</h3> 
<h4><a id="_17"></a>连接数据库</h4> 
<pre><code class="prism language-sql">mysql <span class="token operator">-</span>u root <span class="token operator">-</span>p12345678
</code></pre> 
<p><img src="https://images2.imgbox.com/76/95/JlwisjAP_o.png" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-LCyXjZE5-1688559235379)(assets/1688556594985-16.png#pic_center)]"></p> 
<h4><a id="_26"></a>退出数据库连接</h4> 
<p>使用<code>exit;</code>命令可以退出连接</p> 
<p><img src="https://images2.imgbox.com/5b/0f/X39qxMVz_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_31"></a>修改用户密码</h3> 
<p><img src="https://images2.imgbox.com/52/4a/rRhYI6ic_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="MYSQL_35"></a>查询MYSQL版本</h3> 
<pre><code class="prism language-sql">mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> version<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-----------+</span>
<span class="token operator">|</span> version<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+</span>
<span class="token operator">|</span> <span class="token number">8.0</span><span class="token number">.27</span>    <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre> 
<h3><a id="_47"></a>查看所有数据库</h3> 
<pre><code class="prism language-sql"><span class="token keyword">show</span> <span class="token keyword">databases</span><span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/8e/2a/r9dc46nc_o.png" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-BrfI5JJ0-1688559235380)(assets/1688556594986-18.png#pic_center)]"></p> 
<h3><a id="_56"></a>使用数据库</h3> 
<p>如果想要操作数据库，需要使用<code>use 数据库名;</code>来选择要操作的数据库</p> 
<p><img src="https://images2.imgbox.com/0d/d6/gRPzZzwh_o.png" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-c1Bc6SSg-1688559235381)(assets/1688556594986-19.png#pic_center)]"></p> 
<h3><a id="_63"></a>查看所选择数据库的所有表</h3> 
<pre><code class="prism language-sql"><span class="token keyword">show</span> <span class="token keyword">tables</span><span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/c9/17/2xmNLpfN_o.png" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-YjMDbbYV-1688559235381)(assets/1688556594986-20.png#pic_center)]"></p> 
<h3><a id="_72"></a>查看表的具体信息</h3> 
<p>使用<code>describe 表名;</code>可以查看表中的字段信息</p> 
<pre><code class="prism language-sql">mysql<span class="token operator">&gt;</span> <span class="token keyword">describe</span> <span class="token keyword">user</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------------+---------------+------+-----+-------------------+-----------------------------------------------+</span>
<span class="token operator">|</span> Field        <span class="token operator">|</span> <span class="token keyword">Type</span>          <span class="token operator">|</span> <span class="token boolean">Null</span> <span class="token operator">|</span> <span class="token keyword">Key</span> <span class="token operator">|</span> <span class="token keyword">Default</span>           <span class="token operator">|</span> Extra                                         <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------+---------------+------+-----+-------------------+-----------------------------------------------+</span>
<span class="token operator">|</span> id           <span class="token operator">|</span> <span class="token keyword">bigint</span>        <span class="token operator">|</span> <span class="token keyword">NO</span>   <span class="token operator">|</span> PRI <span class="token operator">|</span> <span class="token boolean">NULL</span>              <span class="token operator">|</span> <span class="token keyword">auto_increment</span>                                <span class="token operator">|</span>
<span class="token operator">|</span> userName     <span class="token operator">|</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">256</span><span class="token punctuation">)</span>  <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token boolean">NULL</span>              <span class="token operator">|</span>                                               <span class="token operator">|</span>
<span class="token operator">|</span> userAccount  <span class="token operator">|</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">256</span><span class="token punctuation">)</span>  <span class="token operator">|</span> <span class="token keyword">NO</span>   <span class="token operator">|</span> UNI <span class="token operator">|</span> <span class="token boolean">NULL</span>              <span class="token operator">|</span>                                               <span class="token operator">|</span>
<span class="token operator">|</span> userAvatar   <span class="token operator">|</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">1024</span><span class="token punctuation">)</span> <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token boolean">NULL</span>              <span class="token operator">|</span>                                               <span class="token operator">|</span>
<span class="token operator">|</span> gender       <span class="token operator">|</span> <span class="token keyword">tinyint</span>       <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token boolean">NULL</span>              <span class="token operator">|</span>                                               <span class="token operator">|</span>
<span class="token operator">|</span> userRole     <span class="token operator">|</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">256</span><span class="token punctuation">)</span>  <span class="token operator">|</span> <span class="token keyword">NO</span>   <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token keyword">user</span>              <span class="token operator">|</span>                                               <span class="token operator">|</span>
<span class="token operator">|</span> userPassword <span class="token operator">|</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">512</span><span class="token punctuation">)</span>  <span class="token operator">|</span> <span class="token keyword">NO</span>   <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token boolean">NULL</span>              <span class="token operator">|</span>                                               <span class="token operator">|</span>
<span class="token operator">|</span> accessKey    <span class="token operator">|</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">512</span><span class="token punctuation">)</span>  <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token boolean">NULL</span>              <span class="token operator">|</span>                                               <span class="token operator">|</span>
<span class="token operator">|</span> secretKey    <span class="token operator">|</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">512</span><span class="token punctuation">)</span>  <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token boolean">NULL</span>              <span class="token operator">|</span>                                               <span class="token operator">|</span>
<span class="token operator">|</span> createTime   <span class="token operator">|</span> <span class="token keyword">datetime</span>      <span class="token operator">|</span> <span class="token keyword">NO</span>   <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token keyword">CURRENT_TIMESTAMP</span> <span class="token operator">|</span> DEFAULT_GENERATED                             <span class="token operator">|</span>
<span class="token operator">|</span> updateTime   <span class="token operator">|</span> <span class="token keyword">datetime</span>      <span class="token operator">|</span> <span class="token keyword">NO</span>   <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token keyword">CURRENT_TIMESTAMP</span> <span class="token operator">|</span> DEFAULT_GENERATED <span class="token keyword">on</span> <span class="token keyword">update</span> <span class="token keyword">CURRENT_TIMESTAMP</span> <span class="token operator">|</span>
<span class="token operator">|</span> isDelete     <span class="token operator">|</span> <span class="token keyword">tinyint</span>       <span class="token operator">|</span> <span class="token keyword">NO</span>   <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token number">0</span>                 <span class="token operator">|</span>                                               <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------+---------------+------+-----+-------------------+-----------------------------------------------+</span>
<span class="token number">12</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre> 
<h3><a id="_97"></a>创建数据库</h3> 
<pre><code class="prism language-sql"><span class="token keyword">create</span> <span class="token keyword">database</span> <span class="token punctuation">[</span><span class="token keyword">if</span> <span class="token operator">not</span> <span class="token keyword">exists</span><span class="token punctuation">]</span> 数据库名称 <span class="token keyword">character</span> <span class="token keyword">set</span> 字符编码<span class="token punctuation">;</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">create</span> <span class="token keyword">database</span> practice <span class="token keyword">character</span> <span class="token keyword">set</span> utf8<span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">1</span> <span class="token keyword">row</span> affected<span class="token punctuation">,</span> <span class="token number">1</span> warning <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>

<span class="token comment">-- 已存在的数据库不能重复创建，不然会报错</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">create</span> <span class="token keyword">database</span> practice <span class="token keyword">character</span> <span class="token keyword">set</span> utf8<span class="token punctuation">;</span>
ERROR <span class="token number">1007</span> <span class="token punctuation">(</span>HY000<span class="token punctuation">)</span>: Can<span class="token string">'t create database '</span>practice'<span class="token punctuation">;</span> <span class="token keyword">database</span> <span class="token keyword">exists</span>

<span class="token comment">-- 使用if not exists，可以判断数据库不存在的时候才创建数据库，这样就不会报错</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">create</span> <span class="token keyword">database</span> <span class="token keyword">if</span> <span class="token operator">not</span> <span class="token keyword">exists</span> practice <span class="token keyword">character</span> <span class="token keyword">set</span> utf8<span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">1</span> <span class="token keyword">row</span> affected<span class="token punctuation">,</span> <span class="token number">2</span> <span class="token keyword">warnings</span> <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>
</code></pre> 
<p>如果数据库名字有短横杆，用``包住，不然可能会报错</p> 
<pre><code class="prism language-sql"><span class="token keyword">create</span> <span class="token keyword">database</span> <span class="token identifier"><span class="token punctuation">`</span>second-hand-market<span class="token punctuation">`</span></span> <span class="token keyword">character</span> <span class="token keyword">set</span> utf8mb4<span class="token punctuation">;</span>
</code></pre> 
<h3><a id="_117"></a>查看创建数据库的语句</h3> 
<pre><code class="prism language-sql">mysql<span class="token operator">&gt;</span> <span class="token keyword">show</span> <span class="token keyword">create</span> <span class="token keyword">database</span> practice<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----------+------------------------------------------------------------------------------------------------------+</span>
<span class="token operator">|</span> <span class="token keyword">Database</span> <span class="token operator">|</span> <span class="token keyword">Create</span> <span class="token keyword">Database</span>                                                                                      <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----------+------------------------------------------------------------------------------------------------------+</span>
<span class="token operator">|</span> practice <span class="token operator">|</span> <span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> <span class="token identifier"><span class="token punctuation">`</span>practice<span class="token punctuation">`</span></span> <span class="token comment">/*!40100 DEFAULT CHARACTER SET utf8 */</span> <span class="token comment">/*!80016 DEFAULT ENCRYPTION='N' */</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----------+------------------------------------------------------------------------------------------------------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre> 
<h3><a id="_129"></a>数据表管理</h3> 
<h4><a id="_131"></a>创建数据表</h4> 
<pre><code class="prism language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token punctuation">[</span><span class="token keyword">IF</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span><span class="token punctuation">]</span> <span class="token identifier"><span class="token punctuation">`</span>表名<span class="token punctuation">`</span></span><span class="token punctuation">(</span>
	<span class="token string">'字段名'</span>列类型<span class="token punctuation">[</span>属性<span class="token punctuation">]</span><span class="token punctuation">[</span>索引<span class="token punctuation">]</span><span class="token punctuation">[</span>注释<span class="token punctuation">]</span>，
	<span class="token string">'字段名'</span>列类型<span class="token punctuation">[</span>属性<span class="token punctuation">]</span><span class="token punctuation">[</span>索引<span class="token punctuation">]</span><span class="token punctuation">[</span>注释<span class="token punctuation">]</span>，
	<span class="token string">'字段名'</span>列类型<span class="token punctuation">[</span>属性<span class="token punctuation">]</span><span class="token punctuation">[</span>索引<span class="token punctuation">]</span><span class="token punctuation">[</span>注释<span class="token punctuation">]</span>
<span class="token punctuation">)</span><span class="token punctuation">[</span>表类型<span class="token punctuation">]</span><span class="token punctuation">[</span>字符集设置<span class="token punctuation">]</span><span class="token punctuation">[</span>注释<span class="token punctuation">]</span>
</code></pre> 
<p>如：</p> 
<pre><code class="prism language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span> <span class="token identifier"><span class="token punctuation">`</span>student<span class="token punctuation">`</span></span> <span class="token punctuation">(</span> 
    <span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span> <span class="token keyword">BIGINT</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">auto_increment</span> <span class="token keyword">COMMENT</span> <span class="token string">'学号'</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span> 
    <span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span> <span class="token keyword">VARCHAR</span> <span class="token punctuation">(</span> <span class="token number">30</span> <span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">'匿名'</span> <span class="token keyword">COMMENT</span> <span class="token string">'姓名'</span>
<span class="token punctuation">)</span> <span class="token keyword">COMMENT</span> <span class="token string">'学生表'</span>
</code></pre> 
<h5><a id="_148"></a>字段类型</h5> 
<table><thead><tr><th>字段类型</th><th>描述</th><th>示例值</th><th>存储字节数</th></tr></thead><tbody><tr><td><code>TINYINT</code></td><td>小整型，有符号或无符号，通常用于存储小范围的整数值。</td><td><code>-128</code> 到 <code>127</code> 或 <code>0</code> 到 <code>255</code></td><td>1</td></tr><tr><td><code>SMALLINT</code></td><td>中整型，有符号或无符号，适用于存储中等范围的整数值。</td><td><code>-32768</code> 到 <code>32767</code> 或 <code>0</code> 到 <code>65535</code></td><td>2</td></tr><tr><td><code>MEDIUMINT</code></td><td>中等大小的整型，有符号或无符号。</td><td><code>-8388608</code> 到 <code>8388607</code> 或 <code>0</code> 到 <code>16777215</code></td><td>3</td></tr><tr><td><code>INT</code> / <code>INTEGER</code></td><td>标准整型，有符号或无符号，适用于大多数整数场景。</td><td><code>-2147483648</code> 到 <code>2147483647</code> 或 <code>0</code> 到 <code>4294967295</code></td><td>4</td></tr><tr><td><code>BIGINT</code></td><td>大整型，有符号或无符号，适用于需要存储非常大数字的情况。</td><td><code>-9223372036854775808</code> 到 <code>9223372036854775807</code> 或 <code>0</code> 到 <code>18446744073709551615</code></td><td>8</td></tr><tr><td><code>FLOAT</code></td><td>单精度浮点数，用于存储实数。</td><td><code>3.14</code>, <code>-123.45</code></td><td>4</td></tr><tr><td><code>DOUBLE</code></td><td>双精度浮点数，提供比<code>FLOAT</code>更高的精度。</td><td><code>3.1415926535</code>, <code>-123456.789</code></td><td>8</td></tr><tr><td><code>DECIMAL</code></td><td>定点数，用于存储精确的数值，如货币金额。</td><td><code>1234.56</code>, <code>-789.01</code></td><td>可变（取决于精度和标度）</td></tr><tr><td><code>CHAR</code></td><td>固定长度的字符串类型。</td><td><code>'hello'</code></td><td>可变（取决于定义长度）</td></tr><tr><td><code>VARCHAR</code></td><td>可变长度的字符串类型。</td><td><code>'hello world'</code></td><td>可变（取决于实际存储的字符数量）</td></tr><tr><td><code>DATE</code></td><td>日期类型，格式为 YYYY-MM-DD。</td><td><code>'2023-03-01'</code></td><td>3</td></tr><tr><td><code>TIME</code></td><td>时间类型，格式为 HH:MM:SS。</td><td><code>'12:34:56'</code></td><td>3</td></tr><tr><td><code>DATETIME</code></td><td>日期和时间组合类型。</td><td><code>'2023-03-01 12:34:56'</code></td><td>8</td></tr><tr><td><code>TIMESTAMP</code></td><td>日期和时间类型，自动维护当前时间戳。</td><td><code>'2023-03-01 12:34:56'</code></td><td>4</td></tr><tr><td><code>TINYBLOB</code></td><td>用于存储较小的二进制数据，最大长度为 255 字节。</td><td>图片缩略图，短音频片段</td><td>数据长度 + 1</td></tr><tr><td><code>BLOB</code></td><td>用于存储中等大小的二进制数据，最大长度为 65,535 字节。</td><td>中等大小的图片，文档</td><td>数据长度 + 2</td></tr><tr><td><code>MEDIUMBLOB</code></td><td>用于存储较大的二进制数据，最大长度为 16MB。</td><td>较大的图片，较长的音频或视频剪辑</td><td>数据长度 + 3</td></tr><tr><td><code>LONGBLOB</code></td><td>用于存储非常大的二进制数据，最大长度为 4GB。</td><td>高清图片，完整的音频或视频文件</td><td>数据长度 + 4</td></tr><tr><td><code>TINYTEXT</code></td><td>用于存储较小的文本数据，最大长度为 255 字符。</td><td>短文本消息，注释或标签</td><td>数据长度 + 1</td></tr><tr><td><code>TEXT</code></td><td>用于存储中等大小的文本数据，最大长度为 65,535 字符。</td><td>长文本消息，文章摘要</td><td>数据长度 + 2</td></tr><tr><td><code>MEDIUMTEXT</code></td><td>用于存储较大的文本数据，最大长度为 16MB。</td><td>长篇文章，用户评论或论坛帖子</td><td>数据长度 + 3</td></tr><tr><td><code>LONGTEXT</code></td><td>用于存储非常大的文本数据，最大长度为 4GB。</td><td>长篇小说，大数据量的文本信息</td><td>数据长度 + 4</td></tr><tr><td><code>BOOLEAN</code> / <code>BOOL</code></td><td>布尔类型，表示真或假。</td><td><code>TRUE</code>, <code>FALSE</code></td><td>1</td></tr><tr><td><code>ENUM</code></td><td>枚举类型，允许在列表中选择一个值。</td><td><code>'apple'</code>, <code>'orange'</code></td><td>可变</td></tr><tr><td><code>SET</code></td><td>集合类型，允许在列表中选择多个值。</td><td><code>'apple, orange'</code></td><td>可变</td></tr></tbody></table> 
<p>请注意，<code>BLOB</code>、<code>TEXT</code>、<code>CHAR</code> 和 <code>VARCHAR</code> 的实际存储大小会根据存储的数据量而变化，但它们的最大容量是固定的。例如，<code>VARCHAR</code> 的最大长度为 65,535 字符，而 <code>BLOB</code> 和 <code>TEXT</code> 类型的最大大小则更大。此外，<code>DECIMAL</code> 类型的存储大小取决于其定义的精度和标度。</p> 
<h5><a id="_180"></a>数据约束</h5> 
<p>在MySQL中创建表或修改表时，可以应用多种数据约束以确保数据的完整性和一致性。以下是常见的数据约束类型：</p> 
<ol><li> <p><strong>主键约束（PRIMARY KEY）</strong>：</p> 
  <ul><li>指定一个或一组字段作为主键，用于唯一标识表中的每一行记录。</li><li>主键字段不允许有重复值，并且不能为NULL。</li></ul> </li><li> <p><strong>唯一约束（UNIQUE）</strong>：</p> 
  <ul><li>确保指定的字段或字段组合的值在表中是唯一的。</li><li>可以允许NULL值，但NULL值不会被视为重复。</li></ul> </li><li> <p><strong>非空约束（NOT NULL）</strong>：</p> 
  <ul><li>指定字段不能接受NULL值。</li><li>强制字段在插入新记录时必须提供值。</li></ul> </li><li> <p><strong>默认约束（DEFAULT）</strong>：</p> 
  <ul><li>为字段设定一个默认值，如果在插入新记录时未提供该字段的值，则自动使用默认值。</li></ul> </li><li> <p><strong>外键约束（FOREIGN KEY）</strong>：</p> 
  <ul><li>用于维护两个表之间的关系，确保外键字段的值与参照表的主键或唯一键相匹配。</li><li>外键可以防止删除或更改被其他表引用的记录。</li></ul> </li><li> <p><strong>检查约束（CHECK）</strong>：</p> 
  <ul><li>MySQL直到版本8.0.16才引入了对检查约束的支持，但其功能可能有限。</li><li>用于定义字段值必须满足的条件。</li></ul> </li></ol> 
<p>除了这些标准的SQL约束，MySQL还支持一些额外的功能，如自增（AUTO_INCREMENT）和生成表达式列（GENERATED COLUMNS），虽然它们不是传统意义上的约束，但它们可以帮助维护数据的完整性。一个使用上述约束的建表sql如下：</p> 
<pre><code class="prism language-sql"><span class="token comment">-- 创建一个包含各种约束的用户表</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> users <span class="token punctuation">(</span>
    user_id <span class="token keyword">INT</span> <span class="token keyword">AUTO_INCREMENT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>       <span class="token comment">-- 主键约束</span>
    email <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token keyword">UNIQUE</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>           <span class="token comment">-- 唯一约束和非空约束</span>
    password <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>               <span class="token comment">-- 非空约束</span>
    age <span class="token keyword">TINYINT</span> <span class="token keyword">UNSIGNED</span> <span class="token keyword">CHECK</span> <span class="token punctuation">(</span>age <span class="token operator">&gt;=</span> <span class="token number">18</span> <span class="token operator">AND</span> age <span class="token operator">&lt;=</span> <span class="token number">120</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">-- 检查约束，MySQL 8.0.16及以上支持</span>
    registration_date <span class="token keyword">DATE</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CURRENT_DATE</span><span class="token punctuation">,</span>  <span class="token comment">-- 默认约束</span>
    address <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    gender <span class="token keyword">ENUM</span><span class="token punctuation">(</span><span class="token string">'male'</span><span class="token punctuation">,</span> <span class="token string">'female'</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token string">'male'</span><span class="token punctuation">,</span> <span class="token comment">-- 本质上也是一种默认约束</span>
    <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>address<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> addresses<span class="token punctuation">(</span>address_id<span class="token punctuation">)</span> <span class="token comment">-- 外键约束</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="_222"></a>查看创建数据表的语句</h4> 
<pre><code class="prism language-sql">mysql<span class="token operator">&gt;</span> <span class="token keyword">use</span> practice<span class="token punctuation">;</span>
<span class="token keyword">Database</span> changed
mysql<span class="token operator">&gt;</span> <span class="token keyword">show</span> <span class="token keyword">create</span> <span class="token keyword">table</span> student<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">---------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+| Table   | Create Table</span>
                                                                                                                       <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">---------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+| student | CREATE TABLE `student` (</span>
  <span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span> <span class="token keyword">bigint</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">AUTO_INCREMENT</span> <span class="token keyword">COMMENT</span> <span class="token string">'学号'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">'匿名'</span> <span class="token keyword">COMMENT</span> <span class="token string">'姓名'</span><span class="token punctuation">,</span>
  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">InnoDB</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8mb3 <span class="token keyword">COMMENT</span><span class="token operator">=</span><span class="token string">'学生表'</span>          <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+1 row in set (0.00 sec)</span>
</code></pre> 
<h4><a id="_237"></a>查看表的结构</h4> 
<pre><code class="prism language-sql">mysql<span class="token operator">&gt;</span> <span class="token keyword">desc</span> student<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------+-------------+------+-----+---------+----------------+</span>
<span class="token operator">|</span> Field <span class="token operator">|</span> <span class="token keyword">Type</span>        <span class="token operator">|</span> <span class="token boolean">Null</span> <span class="token operator">|</span> <span class="token keyword">Key</span> <span class="token operator">|</span> <span class="token keyword">Default</span> <span class="token operator">|</span> Extra          <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+-------------+------+-----+---------+----------------+</span>
<span class="token operator">|</span> id    <span class="token operator">|</span> <span class="token keyword">bigint</span>      <span class="token operator">|</span> <span class="token keyword">NO</span>   <span class="token operator">|</span> PRI <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span> <span class="token keyword">auto_increment</span> <span class="token operator">|</span>
<span class="token operator">|</span> name  <span class="token operator">|</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token keyword">NO</span>   <span class="token operator">|</span>     <span class="token operator">|</span> 匿名    <span class="token operator">|</span>                <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+-------------+------+-----+---------+----------------+</span>
<span class="token number">2</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre> 
<h4><a id="_249"></a>修改表</h4> 
<h5><a id="_250"></a>修改表名</h5> 
<p>alter table 旧表名 rename as 新表名;</p> 
<pre><code class="prism language-sql">mysql<span class="token operator">&gt;</span> <span class="token keyword">alter</span> <span class="token keyword">table</span> student <span class="token keyword">rename</span> <span class="token keyword">as</span> teacher<span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">0</span> <span class="token keyword">rows</span> affected <span class="token punctuation">(</span><span class="token number">0.02</span> sec<span class="token punctuation">)</span>
</code></pre> 
<p>在MySQL中，你可以使用<code>ALTER TABLE</code>语句来修改现有表的结构。这包括向表中添加字段、修改字段的类型以及删除字段。下面是这些操作的SQL语法以及一些示例：</p> 
<h5><a id="_260"></a>给指定表增加字段</h5> 
<p>alter table 表名 add 字段名 列属性;</p> 
<pre><code class="prism language-sql">mysql<span class="token operator">&gt;</span> <span class="token keyword">alter</span> <span class="token keyword">table</span> teacher <span class="token keyword">add</span> gender <span class="token keyword">bigint</span><span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">0</span> <span class="token keyword">rows</span> affected <span class="token punctuation">(</span><span class="token number">0.02</span> sec<span class="token punctuation">)</span>
Records: <span class="token number">0</span>  Duplicates: <span class="token number">0</span>  <span class="token keyword">Warnings</span>: <span class="token number">0</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">desc</span> teacher<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------+-------------+------+-----+---------+----------------+</span>
<span class="token operator">|</span> Field  <span class="token operator">|</span> <span class="token keyword">Type</span>        <span class="token operator">|</span> <span class="token boolean">Null</span> <span class="token operator">|</span> <span class="token keyword">Key</span> <span class="token operator">|</span> <span class="token keyword">Default</span> <span class="token operator">|</span> Extra          <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+-------------+------+-----+---------+----------------+</span>
<span class="token operator">|</span> id     <span class="token operator">|</span> <span class="token keyword">bigint</span>      <span class="token operator">|</span> <span class="token keyword">NO</span>   <span class="token operator">|</span> PRI <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span> <span class="token keyword">auto_increment</span> <span class="token operator">|</span>
<span class="token operator">|</span> name   <span class="token operator">|</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token keyword">NO</span>   <span class="token operator">|</span>     <span class="token operator">|</span> 匿名    <span class="token operator">|</span>                <span class="token operator">|</span>
<span class="token operator">|</span> gender <span class="token operator">|</span> <span class="token keyword">bigint</span>      <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span>                <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+-------------+------+-----+---------+----------------+</span>
<span class="token number">3</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">alter</span> <span class="token keyword">table</span> teacher <span class="token keyword">add</span> age <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">0</span> <span class="token keyword">rows</span> affected<span class="token punctuation">,</span> <span class="token number">1</span> warning <span class="token punctuation">(</span><span class="token number">0.02</span> sec<span class="token punctuation">)</span>
Records: <span class="token number">0</span>  Duplicates: <span class="token number">0</span>  <span class="token keyword">Warnings</span>: <span class="token number">1</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">desc</span> teacher<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------+-------------+------+-----+---------+----------------+</span>
<span class="token operator">|</span> Field  <span class="token operator">|</span> <span class="token keyword">Type</span>        <span class="token operator">|</span> <span class="token boolean">Null</span> <span class="token operator">|</span> <span class="token keyword">Key</span> <span class="token operator">|</span> <span class="token keyword">Default</span> <span class="token operator">|</span> Extra          <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+-------------+------+-----+---------+----------------+</span>
<span class="token operator">|</span> id     <span class="token operator">|</span> <span class="token keyword">bigint</span>      <span class="token operator">|</span> <span class="token keyword">NO</span>   <span class="token operator">|</span> PRI <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span> <span class="token keyword">auto_increment</span> <span class="token operator">|</span>
<span class="token operator">|</span> name   <span class="token operator">|</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token keyword">NO</span>   <span class="token operator">|</span>     <span class="token operator">|</span> 匿名    <span class="token operator">|</span>                <span class="token operator">|</span>
<span class="token operator">|</span> gender <span class="token operator">|</span> <span class="token keyword">bigint</span>      <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span>                <span class="token operator">|</span>
<span class="token operator">|</span> age    <span class="token operator">|</span> <span class="token keyword">int</span>         <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span>                <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+-------------+------+-----+---------+----------------+</span>
<span class="token number">4</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre> 
<h5><a id="_295"></a>修改指定表的字段</h5> 
<blockquote> 
 <p>修改列属性</p> 
</blockquote> 
<p>alter table 表名 modify 字段名 列属性;</p> 
<pre><code class="prism language-sql">mysql<span class="token operator">&gt;</span> <span class="token keyword">alter</span> <span class="token keyword">table</span> teacher <span class="token keyword">modify</span> age <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">0</span> <span class="token keyword">rows</span> affected <span class="token punctuation">(</span><span class="token number">0.07</span> sec<span class="token punctuation">)</span>
Records: <span class="token number">0</span>  Duplicates: <span class="token number">0</span>  <span class="token keyword">Warnings</span>: <span class="token number">0</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">desc</span> teacher<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------+-------------+------+-----+---------+----------------+</span>
<span class="token operator">|</span> Field  <span class="token operator">|</span> <span class="token keyword">Type</span>        <span class="token operator">|</span> <span class="token boolean">Null</span> <span class="token operator">|</span> <span class="token keyword">Key</span> <span class="token operator">|</span> <span class="token keyword">Default</span> <span class="token operator">|</span> Extra          <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+-------------+------+-----+---------+----------------+</span>
<span class="token operator">|</span> id     <span class="token operator">|</span> <span class="token keyword">bigint</span>      <span class="token operator">|</span> <span class="token keyword">NO</span>   <span class="token operator">|</span> PRI <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span> <span class="token keyword">auto_increment</span> <span class="token operator">|</span>
<span class="token operator">|</span> name   <span class="token operator">|</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token keyword">NO</span>   <span class="token operator">|</span>     <span class="token operator">|</span> 匿名    <span class="token operator">|</span>                <span class="token operator">|</span>
<span class="token operator">|</span> gender <span class="token operator">|</span> <span class="token keyword">bigint</span>      <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span>                <span class="token operator">|</span>
<span class="token operator">|</span> age    <span class="token operator">|</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span>                <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+-------------+------+-----+---------+----------------+</span>
<span class="token number">4</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre> 
<blockquote> 
 <p>同时修改字段名和字段属性</p> 
</blockquote> 
<p>alter table 表名 change 旧字段名 新字段名 列属性;</p> 
<pre><code class="prism language-sql">mysql<span class="token operator">&gt;</span> <span class="token keyword">desc</span> teacher<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------+-------------+------+-----+---------+----------------+</span>
<span class="token operator">|</span> Field  <span class="token operator">|</span> <span class="token keyword">Type</span>        <span class="token operator">|</span> <span class="token boolean">Null</span> <span class="token operator">|</span> <span class="token keyword">Key</span> <span class="token operator">|</span> <span class="token keyword">Default</span> <span class="token operator">|</span> Extra          <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+-------------+------+-----+---------+----------------+</span>
<span class="token operator">|</span> id     <span class="token operator">|</span> <span class="token keyword">bigint</span>      <span class="token operator">|</span> <span class="token keyword">NO</span>   <span class="token operator">|</span> PRI <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span> <span class="token keyword">auto_increment</span> <span class="token operator">|</span>
<span class="token operator">|</span> name   <span class="token operator">|</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token keyword">NO</span>   <span class="token operator">|</span>     <span class="token operator">|</span> 匿名    <span class="token operator">|</span>                <span class="token operator">|</span>
<span class="token operator">|</span> gender <span class="token operator">|</span> <span class="token keyword">bigint</span>      <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span>                <span class="token operator">|</span>
<span class="token operator">|</span> age    <span class="token operator">|</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span>                <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+-------------+------+-----+---------+----------------+</span>
<span class="token number">4</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">alter</span> <span class="token keyword">table</span> teacher change age age1 <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">0</span> <span class="token keyword">rows</span> affected<span class="token punctuation">,</span> <span class="token number">1</span> warning <span class="token punctuation">(</span><span class="token number">0.07</span> sec<span class="token punctuation">)</span>
Records: <span class="token number">0</span>  Duplicates: <span class="token number">0</span>  <span class="token keyword">Warnings</span>: <span class="token number">1</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">desc</span> teacher<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------+-------------+------+-----+---------+----------------+</span>
<span class="token operator">|</span> Field  <span class="token operator">|</span> <span class="token keyword">Type</span>        <span class="token operator">|</span> <span class="token boolean">Null</span> <span class="token operator">|</span> <span class="token keyword">Key</span> <span class="token operator">|</span> <span class="token keyword">Default</span> <span class="token operator">|</span> Extra          <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+-------------+------+-----+---------+----------------+</span>
<span class="token operator">|</span> id     <span class="token operator">|</span> <span class="token keyword">bigint</span>      <span class="token operator">|</span> <span class="token keyword">NO</span>   <span class="token operator">|</span> PRI <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span> <span class="token keyword">auto_increment</span> <span class="token operator">|</span>
<span class="token operator">|</span> name   <span class="token operator">|</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token keyword">NO</span>   <span class="token operator">|</span>     <span class="token operator">|</span> 匿名    <span class="token operator">|</span>                <span class="token operator">|</span>
<span class="token operator">|</span> gender <span class="token operator">|</span> <span class="token keyword">bigint</span>      <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span>                <span class="token operator">|</span>
<span class="token operator">|</span> age1   <span class="token operator">|</span> <span class="token keyword">int</span>         <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span>                <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+-------------+------+-----+---------+----------------+</span>
<span class="token number">4</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre> 
<h5><a id="_350"></a>删除指定表的字段</h5> 
<pre><code class="prism language-sql">mysql<span class="token operator">&gt;</span> <span class="token keyword">desc</span> teacher<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------+-------------+------+-----+---------+----------------+</span>
<span class="token operator">|</span> Field  <span class="token operator">|</span> <span class="token keyword">Type</span>        <span class="token operator">|</span> <span class="token boolean">Null</span> <span class="token operator">|</span> <span class="token keyword">Key</span> <span class="token operator">|</span> <span class="token keyword">Default</span> <span class="token operator">|</span> Extra          <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+-------------+------+-----+---------+----------------+</span>
<span class="token operator">|</span> id     <span class="token operator">|</span> <span class="token keyword">bigint</span>      <span class="token operator">|</span> <span class="token keyword">NO</span>   <span class="token operator">|</span> PRI <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span> <span class="token keyword">auto_increment</span> <span class="token operator">|</span>
<span class="token operator">|</span> name   <span class="token operator">|</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token keyword">NO</span>   <span class="token operator">|</span>     <span class="token operator">|</span> 匿名    <span class="token operator">|</span>                <span class="token operator">|</span>
<span class="token operator">|</span> gender <span class="token operator">|</span> <span class="token keyword">bigint</span>      <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span>                <span class="token operator">|</span>
<span class="token operator">|</span> age1   <span class="token operator">|</span> <span class="token keyword">int</span>         <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span>                <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+-------------+------+-----+---------+----------------+</span>
<span class="token number">4</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">alter</span> <span class="token keyword">table</span> teacher <span class="token keyword">drop</span> gender<span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">0</span> <span class="token keyword">rows</span> affected <span class="token punctuation">(</span><span class="token number">0.06</span> sec<span class="token punctuation">)</span>
Records: <span class="token number">0</span>  Duplicates: <span class="token number">0</span>  <span class="token keyword">Warnings</span>: <span class="token number">0</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">desc</span> teacher<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------+-------------+------+-----+---------+----------------+</span>
<span class="token operator">|</span> Field <span class="token operator">|</span> <span class="token keyword">Type</span>        <span class="token operator">|</span> <span class="token boolean">Null</span> <span class="token operator">|</span> <span class="token keyword">Key</span> <span class="token operator">|</span> <span class="token keyword">Default</span> <span class="token operator">|</span> Extra          <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+-------------+------+-----+---------+----------------+</span>
<span class="token operator">|</span> id    <span class="token operator">|</span> <span class="token keyword">bigint</span>      <span class="token operator">|</span> <span class="token keyword">NO</span>   <span class="token operator">|</span> PRI <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span> <span class="token keyword">auto_increment</span> <span class="token operator">|</span>
<span class="token operator">|</span> name  <span class="token operator">|</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token keyword">NO</span>   <span class="token operator">|</span>     <span class="token operator">|</span> 匿名    <span class="token operator">|</span>                <span class="token operator">|</span>
<span class="token operator">|</span> age1  <span class="token operator">|</span> <span class="token keyword">int</span>         <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span>                <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+-------------+------+-----+---------+----------------+</span>
<span class="token number">3</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre> 
<h4><a id="_379"></a>删除表</h4> 
<p>语法如下：</p> 
<pre><code class="prism language-sql"><span class="token keyword">drop</span> <span class="token keyword">table</span> <span class="token punctuation">[</span><span class="token keyword">if</span> <span class="token keyword">exists</span><span class="token punctuation">]</span> 表名<span class="token punctuation">;</span>
</code></pre> 
<p>[测试]</p> 
<pre><code class="prism language-sql">mysql<span class="token operator">&gt;</span> <span class="token keyword">show</span> <span class="token keyword">tables</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------------------+</span>
<span class="token operator">|</span> Tables_in_practice <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------------+</span>
<span class="token operator">|</span> teacher            <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">drop</span> <span class="token keyword">table</span> <span class="token keyword">if</span> <span class="token keyword">exists</span> teacher<span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">0</span> <span class="token keyword">rows</span> affected <span class="token punctuation">(</span><span class="token number">0.02</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">show</span> <span class="token keyword">tables</span><span class="token punctuation">;</span>
Empty <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre> 
<h4><a id="_400"></a>给表添加外键</h4> 
<h5><a id="_402"></a>创建表的时候增加外键</h5> 
<pre><code class="prism language-sql"><span class="token comment">-- 创建专业表</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span> <span class="token identifier"><span class="token punctuation">`</span>major<span class="token punctuation">`</span></span> <span class="token punctuation">(</span>
    <span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span> <span class="token keyword">BIGINT</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">auto_increment</span> <span class="token keyword">COMMENT</span> <span class="token string">'专业id'</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
    <span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span> <span class="token keyword">VARCHAR</span> <span class="token punctuation">(</span> <span class="token number">30</span> <span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'专业名称'</span>
<span class="token punctuation">)</span> <span class="token keyword">COMMENT</span> <span class="token string">'专业表'</span>

<span class="token comment">-- 创建学生表，并将学生表的major_id声明为外键，引用专业表的id字段</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span> <span class="token identifier"><span class="token punctuation">`</span>student<span class="token punctuation">`</span></span> <span class="token punctuation">(</span>
    <span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span> <span class="token keyword">BIGINT</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">auto_increment</span> <span class="token keyword">COMMENT</span> <span class="token string">'学号'</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
    <span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span> <span class="token keyword">VARCHAR</span> <span class="token punctuation">(</span> <span class="token number">30</span> <span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">'匿名'</span> <span class="token keyword">COMMENT</span> <span class="token string">'姓名'</span><span class="token punctuation">,</span>
    <span class="token identifier"><span class="token punctuation">`</span>major_id<span class="token punctuation">`</span></span> <span class="token keyword">BIGINT</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'专业id'</span><span class="token punctuation">,</span>
    <span class="token keyword">key</span> <span class="token identifier"><span class="token punctuation">`</span>FK_majorId<span class="token punctuation">`</span></span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>major_id<span class="token punctuation">`</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">CONSTRAINT</span> <span class="token identifier"><span class="token punctuation">`</span>FK_majorId<span class="token punctuation">`</span></span> <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>major_id<span class="token punctuation">`</span></span><span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> <span class="token identifier"><span class="token punctuation">`</span>major<span class="token punctuation">`</span></span><span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">)</span> <span class="token keyword">COMMENT</span> <span class="token string">'学生表'</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/5a/f9/OTocvctm_o.png" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-gA063Sls-1688559235382)(assets/1688556594986-23.png#pic_center)]"></p> 
<h5><a id="_424"></a>给已有表添加外键</h5> 
<pre><code class="prism language-sql"><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> 表名 <span class="token keyword">ADD</span> <span class="token keyword">CONSTRAINT</span> 约束名 <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span><span class="token punctuation">(</span>作为外键的列的字段名<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> 引用哪个表<span class="token punctuation">(</span>哪个字段<span class="token punctuation">)</span>
</code></pre> 
<p>【案例】</p> 
<pre><code class="prism language-sql"><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> <span class="token identifier"><span class="token punctuation">`</span>student<span class="token punctuation">`</span></span> <span class="token keyword">ADD</span> <span class="token keyword">CONSTRAINT</span> <span class="token identifier"><span class="token punctuation">`</span>FK_majorId<span class="token punctuation">`</span></span> <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span><span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>major_id<span class="token punctuation">`</span></span><span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> <span class="token identifier"><span class="token punctuation">`</span>major<span class="token punctuation">`</span></span><span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h5><a id="_436"></a>外键使用建议</h5> 
<p>当使用了外键时，如果需要删除被引用表的记录，需要先删除引用表的记录。如上面的例子所示，如果需要删除一个专业，需要先删除这个专业所对应的学生。</p> 
<blockquote> 
 <p>建议：使用外键约束会让开发者很痛苦，测试数据不方便，建议不使用外键</p> 
</blockquote> 
<h3><a id="INSERT__442"></a>INSERT 数据插入语句</h3> 
<h4><a id="_444"></a>数据插入</h4> 
<pre><code class="prism language-sql"><span class="token keyword">insert</span> <span class="token keyword">into</span> <span class="token identifier"><span class="token punctuation">`</span>表名<span class="token punctuation">`</span></span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>字段名1<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>字段名2<span class="token punctuation">`</span></span><span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'字段值1'</span><span class="token punctuation">,</span><span class="token string">'字段值2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="_450"></a>一次性插入多条数据</h4> 
<pre><code class="prism language-sql"><span class="token keyword">insert</span> <span class="token keyword">into</span> <span class="token identifier"><span class="token punctuation">`</span>表名<span class="token punctuation">`</span></span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>字段名1<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>字段名2<span class="token punctuation">`</span></span><span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'字段值11'</span><span class="token punctuation">,</span><span class="token string">'字段值12'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">'字段值21'</span><span class="token punctuation">,</span><span class="token string">'字段值22'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">'字段值31'</span><span class="token punctuation">,</span><span class="token string">'字段值32'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="_455"></a>把其他表查询到数据插入当前表</h4> 
<pre><code class="prism language-sql"><span class="token keyword">insert</span> <span class="token keyword">into</span> <span class="token identifier"><span class="token punctuation">`</span>表名1<span class="token punctuation">`</span></span><span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>字段名1<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>字段名2<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>字段名3<span class="token punctuation">`</span></span><span class="token punctuation">)</span> 
	<span class="token keyword">select</span> <span class="token identifier"><span class="token punctuation">`</span>字段名4<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>字段名5<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>字段名6<span class="token punctuation">`</span></span> <span class="token keyword">from</span> <span class="token identifier"><span class="token punctuation">`</span>表名2<span class="token punctuation">`</span></span>
	<span class="token keyword">where</span> <span class="token punctuation">[</span>查询条件<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="_462"></a>案例</h4> 
<pre><code class="prism language-sql">mysql<span class="token operator">&gt;</span> <span class="token keyword">desc</span> student<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----------+-------------+------+-----+---------+----------------+</span>
<span class="token operator">|</span> Field    <span class="token operator">|</span> <span class="token keyword">Type</span>        <span class="token operator">|</span> <span class="token boolean">Null</span> <span class="token operator">|</span> <span class="token keyword">Key</span> <span class="token operator">|</span> <span class="token keyword">Default</span> <span class="token operator">|</span> Extra          <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----------+-------------+------+-----+---------+----------------+</span>
<span class="token operator">|</span> id       <span class="token operator">|</span> <span class="token keyword">bigint</span>      <span class="token operator">|</span> <span class="token keyword">NO</span>   <span class="token operator">|</span> PRI <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span> <span class="token keyword">auto_increment</span> <span class="token operator">|</span>
<span class="token operator">|</span> name     <span class="token operator">|</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token keyword">NO</span>   <span class="token operator">|</span>     <span class="token operator">|</span> 匿名    <span class="token operator">|</span>                <span class="token operator">|</span>
<span class="token operator">|</span> major_id <span class="token operator">|</span> <span class="token keyword">bigint</span>      <span class="token operator">|</span> <span class="token keyword">NO</span>   <span class="token operator">|</span> MUL <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span>                <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----------+-------------+------+-----+---------+----------------+</span>
<span class="token number">3</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">desc</span> major<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------+-------------+------+-----+---------+----------------+</span>
<span class="token operator">|</span> Field <span class="token operator">|</span> <span class="token keyword">Type</span>        <span class="token operator">|</span> <span class="token boolean">Null</span> <span class="token operator">|</span> <span class="token keyword">Key</span> <span class="token operator">|</span> <span class="token keyword">Default</span> <span class="token operator">|</span> Extra          <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+-------------+------+-----+---------+----------------+</span>
<span class="token operator">|</span> id    <span class="token operator">|</span> <span class="token keyword">bigint</span>      <span class="token operator">|</span> <span class="token keyword">NO</span>   <span class="token operator">|</span> PRI <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span> <span class="token keyword">auto_increment</span> <span class="token operator">|</span>
<span class="token operator">|</span> name  <span class="token operator">|</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token keyword">NO</span>   <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span>                <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+-------------+------+-----+---------+----------------+</span>
<span class="token number">2</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

<span class="token comment">--  insert into `表名` (`字段名`) values('字段值');</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">insert</span> <span class="token keyword">into</span> <span class="token identifier"><span class="token punctuation">`</span>major<span class="token punctuation">`</span></span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span><span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'计算机科学'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">1</span> <span class="token keyword">row</span> affected <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">insert</span> <span class="token keyword">into</span> <span class="token identifier"><span class="token punctuation">`</span>major<span class="token punctuation">`</span></span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span><span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'工业工程'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">1</span> <span class="token keyword">row</span> affected <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> major<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+-----------------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> name            <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-----------------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> 计算机科学      <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> 工业工程        <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-----------------+</span>
<span class="token number">2</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

<span class="token comment">-- 插入多条数据</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">insert</span> <span class="token keyword">into</span> <span class="token identifier"><span class="token punctuation">`</span>major<span class="token punctuation">`</span></span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span><span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'自动化'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">'机械工程'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">'工业设计'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">3</span> <span class="token keyword">rows</span> affected <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>
Records: <span class="token number">3</span>  Duplicates: <span class="token number">0</span>  <span class="token keyword">Warnings</span>: <span class="token number">0</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> major<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+-----------------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> name            <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-----------------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> 计算机科学      <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> 工业工程        <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> 自动化          <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">4</span> <span class="token operator">|</span> 机械工程        <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">5</span> <span class="token operator">|</span> 工业设计        <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-----------------+</span>
<span class="token number">5</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">insert</span> <span class="token keyword">into</span> <span class="token identifier"><span class="token punctuation">`</span>student<span class="token punctuation">`</span></span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>major_id<span class="token punctuation">`</span></span><span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'小明'</span><span class="token punctuation">,</span><span class="token string">'1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">1</span> <span class="token keyword">row</span> affected <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> student<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+--------+----------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> name   <span class="token operator">|</span> major_id <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+--------+----------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> 小明   <span class="token operator">|</span>        <span class="token number">1</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+--------+----------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

<span class="token comment">-- 插入数据的时候，不一定要给表的所有字段赋值，只赋值部分字段也可以，前提是省略的字段可以为空</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">insert</span> <span class="token keyword">into</span> <span class="token identifier"><span class="token punctuation">`</span>student<span class="token punctuation">`</span></span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>major_id<span class="token punctuation">`</span></span><span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">1</span> <span class="token keyword">row</span> affected <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>
<span class="token comment">-- 插入数据的时候，没有写入学生的名字，MYSQL会自动填入默认值“匿名”</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> student<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+--------+----------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> name   <span class="token operator">|</span> major_id <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+--------+----------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> 小明   <span class="token operator">|</span>        <span class="token number">1</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> 匿名   <span class="token operator">|</span>        <span class="token number">1</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+--------+----------+</span>
<span class="token number">2</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre> 
<h3><a id="UPDATE__542"></a>UPDATE 数据更新语句</h3> 
<h4><a id="_544"></a>没有指定匹配条件的话，会所有表的所有记录</h4> 
<pre><code class="prism language-sql">mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> major<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+-----------------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> name            <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-----------------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> 计算机科学      <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> 工业工程        <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> 自动化          <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">4</span> <span class="token operator">|</span> 机械工程        <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">5</span> <span class="token operator">|</span> 工业设计        <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-----------------+</span>
<span class="token number">5</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">update</span> major <span class="token keyword">set</span> name<span class="token operator">=</span><span class="token string">'智能制造'</span><span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">5</span> <span class="token keyword">rows</span> affected <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>
<span class="token keyword">Rows</span> <span class="token keyword">matched</span>: <span class="token number">5</span>  Changed: <span class="token number">5</span>  <span class="token keyword">Warnings</span>: <span class="token number">0</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> major<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+--------------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> name         <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+--------------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> 智能制造     <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> 智能制造     <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> 智能制造     <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">4</span> <span class="token operator">|</span> 智能制造     <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">5</span> <span class="token operator">|</span> 智能制造     <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+--------------+</span>
<span class="token number">5</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre> 
<h4><a id="_576"></a>根据条件来修改记录</h4> 
<pre><code class="prism language-sql">mysql<span class="token operator">&gt;</span> <span class="token keyword">update</span> major <span class="token keyword">set</span> name<span class="token operator">=</span><span class="token string">'智能科学与技术'</span> <span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">1</span> <span class="token keyword">row</span> affected <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>
<span class="token keyword">Rows</span> <span class="token keyword">matched</span>: <span class="token number">1</span>  Changed: <span class="token number">1</span>  <span class="token keyword">Warnings</span>: <span class="token number">0</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> major<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+-----------------------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> name                  <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-----------------------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> 智能科学与技术        <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> 智能制造              <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> 智能制造              <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">4</span> <span class="token operator">|</span> 智能制造              <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">5</span> <span class="token operator">|</span> 智能制造              <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-----------------------+</span>
<span class="token number">5</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre> 
<h4><a id="_596"></a>一次性修改多个字段的值</h4> 
<pre><code class="prism language-sql">mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> student<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+--------+----------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> name   <span class="token operator">|</span> major_id <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+--------+----------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> 小明   <span class="token operator">|</span>        <span class="token number">1</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> 匿名   <span class="token operator">|</span>        <span class="token number">1</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+--------+----------+</span>
<span class="token number">2</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">update</span> student <span class="token keyword">set</span> name<span class="token operator">=</span><span class="token string">'李华'</span><span class="token punctuation">,</span>major_id<span class="token operator">=</span><span class="token number">2</span> <span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">1</span> <span class="token keyword">row</span> affected <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>
<span class="token keyword">Rows</span> <span class="token keyword">matched</span>: <span class="token number">1</span>  Changed: <span class="token number">1</span>  <span class="token keyword">Warnings</span>: <span class="token number">0</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> student<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+--------+----------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> name   <span class="token operator">|</span> major_id <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+--------+----------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> 李华   <span class="token operator">|</span>        <span class="token number">2</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> 匿名   <span class="token operator">|</span>        <span class="token number">1</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+--------+----------+</span>
<span class="token number">2</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre> 
<h4><a id="_622"></a>稍微高级一点的使用</h4> 
<pre><code class="prism language-SQL"> update load_product,product set load_product.product_id = product.id where load_product.code=product.code
</code></pre> 
<h3><a id="WHERE_628"></a>WHERE条件</h3> 
<h4><a id="_629"></a>常用操作符</h4> 
<p>where条件可以搭配<code>UPDATE</code>、<code>DELETE</code>、<code>SELECT</code>进行使用，可以使用的操作符如下</p> 
<p><img src="https://images2.imgbox.com/f4/d7/osqKzwmv_o.png" alt="在这里插入图片描述"></p> 
<p>多个条件共同使用，使用and连接，如where id=1 and name=‘李华’</p> 
<pre><code class="prism language-sql">mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> id<span class="token punctuation">,</span>name <span class="token keyword">as</span> 专业名称 <span class="token keyword">from</span> major<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+-----------------------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> 专业名称              <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-----------------------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> 智能科学与技术        <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> 智能制造              <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> 智能制造              <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">4</span> <span class="token operator">|</span> 智能制造              <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">5</span> <span class="token operator">|</span> 智能制造              <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-----------------------+</span>
<span class="token number">5</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> id<span class="token punctuation">,</span>name <span class="token keyword">as</span> 专业名称 <span class="token keyword">from</span> major <span class="token keyword">where</span> name<span class="token operator">=</span><span class="token string">'智能制造'</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+--------------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> 专业名称     <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+--------------+</span>
<span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> 智能制造     <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> 智能制造     <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">4</span> <span class="token operator">|</span> 智能制造     <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">5</span> <span class="token operator">|</span> 智能制造     <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+--------------+</span>
<span class="token number">4</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> id<span class="token punctuation">,</span>name <span class="token keyword">as</span> 专业名称 <span class="token keyword">from</span> major <span class="token keyword">where</span> name<span class="token operator">!=</span><span class="token string">'智能制造'</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+-----------------------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> 专业名称              <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-----------------------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> 智能科学与技术        <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-----------------------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> id<span class="token punctuation">,</span>name <span class="token keyword">as</span> 专业名称 <span class="token keyword">from</span> major <span class="token keyword">where</span> <span class="token operator">not</span> name<span class="token operator">=</span><span class="token string">'智能制造'</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+-----------------------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> 专业名称              <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-----------------------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> 智能科学与技术        <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-----------------------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> id<span class="token punctuation">,</span>name <span class="token keyword">as</span> 专业名称 <span class="token keyword">from</span> major <span class="token keyword">where</span> name<span class="token operator">=</span><span class="token string">'智能制造'</span> <span class="token operator">and</span> id <span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+--------------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> 专业名称     <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+--------------+</span>
<span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> 智能制造     <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+--------------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> id<span class="token punctuation">,</span>name <span class="token keyword">as</span> 专业名称 <span class="token keyword">from</span> major <span class="token keyword">where</span> id <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+-----------------------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> 专业名称              <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-----------------------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> 智能科学与技术        <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-----------------------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> id<span class="token punctuation">,</span>name <span class="token keyword">as</span> 专业名称 <span class="token keyword">from</span> major <span class="token keyword">where</span> id <span class="token operator">&gt;=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+--------------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> 专业名称     <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+--------------+</span>
<span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> 智能制造     <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> 智能制造     <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">4</span> <span class="token operator">|</span> 智能制造     <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">5</span> <span class="token operator">|</span> 智能制造     <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+--------------+</span>
<span class="token number">4</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> id<span class="token punctuation">,</span>name <span class="token keyword">as</span> 专业名称 <span class="token keyword">from</span> major <span class="token keyword">where</span> id <span class="token operator">&gt;=</span> <span class="token number">2</span> <span class="token operator">and</span> id <span class="token operator">&lt;=</span> <span class="token number">4</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+--------------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> 专业名称     <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+--------------+</span>
<span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> 智能制造     <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> 智能制造     <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">4</span> <span class="token operator">|</span> 智能制造     <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+--------------+</span>
<span class="token number">3</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> id<span class="token punctuation">,</span>name <span class="token keyword">as</span> 专业名称 <span class="token keyword">from</span> major <span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">or</span> id <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+--------------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> 专业名称     <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+--------------+</span>
<span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> 智能制造     <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">4</span> <span class="token operator">|</span> 智能制造     <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+--------------+</span>
<span class="token number">2</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre> 
<h4><a id="_724"></a>判空</h4> 
<p>当然，还可以用来判空或者非空，并不是直接<code>=null</code>，而是<code>is null</code>和<code>is not null</code></p> 
<pre><code class="prism language-sql"><span class="token keyword">UPDATE</span> sys_user 
<span class="token keyword">SET</span> avatar <span class="token operator">=</span> concat<span class="token punctuation">(</span> <span class="token string">"https://hahaha/"</span><span class="token punctuation">,</span> FLOOR<span class="token punctuation">(</span>RAND<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">29</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">".png"</span> <span class="token punctuation">)</span> 
<span class="token keyword">WHERE</span>
	avatar <span class="token operator">IS</span> <span class="token boolean">NULL</span> 
	<span class="token operator">OR</span> avatar <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="andor_733"></a>and和or的使用</h4> 
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span>
	<span class="token operator">*</span> 
<span class="token keyword">FROM</span>
	chat 
<span class="token keyword">WHERE</span>
	<span class="token punctuation">(</span> from_who <span class="token operator">=</span> <span class="token string">"admin"</span> <span class="token operator">AND</span> to_who <span class="token operator">=</span> <span class="token string">"user1"</span> <span class="token punctuation">)</span> 
	<span class="token operator">OR</span> <span class="token punctuation">(</span> to_who <span class="token operator">=</span> <span class="token string">"admin"</span> <span class="token operator">AND</span> from_who <span class="token operator">=</span> <span class="token string">"user1"</span> <span class="token punctuation">)</span> 
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span>
	create_time <span class="token keyword">DESC</span><span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/8f/46/tXK6Utfo_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="DELETE__747"></a>DELETE 数据删除</h3> 
<blockquote> 
 <p>删除所有数据</p> 
</blockquote> 
<pre><code class="prism language-sql"><span class="token keyword">delete</span> <span class="token keyword">from</span> 表名<span class="token punctuation">;</span>
</code></pre> 
<p>使用delete删除所有数据，如果重启数据库，会出现如下现象</p> 
<ul><li>InnoDB 自增列会从1开始（存在内存中，断电即失）</li><li>MyISAM 自增列继续从上一个自增量开始（存在文件中，不会丢失）</li></ul> 
<blockquote> 
 <p>删除指定数据</p> 
</blockquote> 
<pre><code class="prism language-sql"><span class="token keyword">delete</span> <span class="token keyword">from</span> 表名 <span class="token keyword">where</span> 条件<span class="token punctuation">;</span>
</code></pre> 
<h3><a id="TRUNCATE__766"></a>TRUNCATE 数据表清空</h3> 
<blockquote> 
 <p>清空一个数据表的所有数据，自增id计数器重新恢复到1，表的结构和索引约束不会改变</p> 
</blockquote> 
<pre><code class="prism language-sql"><span class="token keyword">truncate</span> 表名
</code></pre> 
<h3><a id="SELECT__774"></a>SELECT 数据查询语句</h3> 
<h4><a id="SELECT_775"></a>SELECT语法完整结构</h4> 
<p>查询的所有操作可以总结为如下套路，如果看不懂，可以先去查看下面的案例，再回来领悟这段内容：</p> 
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token punctuation">[</span><span class="token keyword">ALL</span> <span class="token keyword">DISTINCT</span><span class="token punctuation">]</span>
{<!-- --><span class="token operator">*</span> <span class="token operator">|</span> <span class="token keyword">table</span><span class="token punctuation">.</span><span class="token operator">*</span> <span class="token operator">|</span> <span class="token punctuation">[</span><span class="token keyword">table</span><span class="token punctuation">.</span>field1<span class="token punctuation">[</span><span class="token keyword">as</span> alias1<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">,</span><span class="token keyword">table</span><span class="token punctuation">.</span>field2<span class="token punctuation">[</span><span class="token keyword">as</span> alias2<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">]</span>}
<span class="token keyword">FROM</span> table_name <span class="token punctuation">[</span><span class="token keyword">as</span> table_alias<span class="token punctuation">]</span>
	<span class="token punctuation">[</span><span class="token keyword">left</span> <span class="token operator">|</span> <span class="token keyword">right</span> <span class="token operator">|</span> <span class="token keyword">inner</span> <span class="token keyword">join</span> table_name2<span class="token punctuation">]</span><span class="token comment">--联合查询</span>
	<span class="token punctuation">[</span><span class="token keyword">WHERE</span>·<span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token comment">--指定结果需满足的条件</span>
	<span class="token punctuation">[</span><span class="token keyword">GROUP</span> <span class="token keyword">BY</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
	<span class="token comment">--指定结果按照哪几个字段来分组</span>
	<span class="token punctuation">[</span><span class="token keyword">HAVING</span><span class="token punctuation">]</span>
	<span class="token comment">--过滤分组的记录必须满足的次要条件</span>
	<span class="token punctuation">[</span><span class="token keyword">ORDER</span> <span class="token keyword">BY</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token comment">--指定查询记录按一个或多个条件排序</span>
	<span class="token punctuation">[</span><span class="token keyword">LIMIT</span> {<!-- --><span class="token punctuation">[</span><span class="token keyword">offset</span><span class="token punctuation">,</span><span class="token punctuation">]</span>row_count row_countoFFSET <span class="token keyword">offset</span>}<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token comment">--指定查询的记录从哪条至哪条</span>
</code></pre> 
<p>通俗点来讲，如下：</p> 
<pre><code class="prism language-sql">顺序很重要：
<span class="token keyword">select</span> 要查询的字段 <span class="token keyword">from</span> 表<span class="token punctuation">(</span>注意：表和字段可以取别名】
	xxx <span class="token keyword">join</span> 要连接的表 <span class="token keyword">on</span> 等值判断
	<span class="token keyword">where</span><span class="token punctuation">(</span>具体的值，子查间语句<span class="token punctuation">)</span>
	<span class="token keyword">Group</span> <span class="token keyword">By</span><span class="token punctuation">(</span>通过哪个字段来分组<span class="token punctuation">)</span>
	<span class="token keyword">Having</span><span class="token punctuation">(</span>过滤分组后的信息，条件和 <span class="token keyword">where</span> 是一样的，位置不同<span class="token punctuation">)</span>
	<span class="token keyword">Order</span> <span class="token keyword">By</span> <span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">(</span>通过哪个字段排序<span class="token punctuation">)</span>升序<span class="token operator">/</span>降序
	<span class="token keyword">Limit</span> startIndex<span class="token punctuation">,</span>pagesize
</code></pre> 
<p>【注】<code>[]：代表可选</code>; <code>{}：代表必选</code></p> 
<h4><a id="_806"></a>查询一个表中的所有数据</h4> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> 表名<span class="token punctuation">;</span>
</code></pre> 
<h4><a id="_812"></a>查询指定字段的数据</h4> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> 字段<span class="token number">1</span><span class="token punctuation">,</span>字段<span class="token number">2</span><span class="token punctuation">,</span>字段<span class="token number">3</span> <span class="token keyword">from</span> 表名<span class="token punctuation">;</span>
</code></pre> 
<p>注意：能查询部分字段的，千万不要查询*，这样会增加查询时间</p> 
<h4><a id="_820"></a>给字段取别名</h4> 
<pre><code class="prism language-sql">mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> name <span class="token keyword">from</span> major<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-----------------------+</span>
<span class="token operator">|</span> name                  <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------------------+</span>
<span class="token operator">|</span> 智能科学与技术        <span class="token operator">|</span>
<span class="token operator">|</span> 智能制造              <span class="token operator">|</span>
<span class="token operator">|</span> 智能制造              <span class="token operator">|</span>
<span class="token operator">|</span> 智能制造              <span class="token operator">|</span>
<span class="token operator">|</span> 智能制造              <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------------------+</span>
<span class="token number">5</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> name <span class="token keyword">as</span> 专业名称 <span class="token keyword">from</span> major<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-----------------------+</span>
<span class="token operator">|</span> 专业名称              <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------------------+</span>
<span class="token operator">|</span> 智能科学与技术        <span class="token operator">|</span>
<span class="token operator">|</span> 智能制造              <span class="token operator">|</span>
<span class="token operator">|</span> 智能制造              <span class="token operator">|</span>
<span class="token operator">|</span> 智能制造              <span class="token operator">|</span>
<span class="token operator">|</span> 智能制造              <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------------------+</span>
<span class="token number">5</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre> 
<h4><a id="_848"></a>给表取别名</h4> 
<pre><code class="prism language-sql">mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> student<span class="token punctuation">.</span>id <span class="token keyword">as</span> 学号<span class="token punctuation">,</span>student<span class="token punctuation">.</span>name <span class="token keyword">as</span> 姓名<span class="token punctuation">,</span>major<span class="token punctuation">.</span>name <span class="token keyword">as</span> 专业 <span class="token keyword">from</span> student <span class="token keyword">left</span> <span class="token keyword">join</span> major <span class="token keyword">on</span> student<span class="token punctuation">.</span>major_id <span class="token operator">=</span> major<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------+--------+-----------------------+</span>
<span class="token operator">|</span> 学号   <span class="token operator">|</span> 姓名   <span class="token operator">|</span> 专业                  <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+--------+-----------------------+</span>
<span class="token operator">|</span>      <span class="token number">1</span> <span class="token operator">|</span> 李华   <span class="token operator">|</span> 智能制造              <span class="token operator">|</span>
<span class="token operator">|</span>      <span class="token number">2</span> <span class="token operator">|</span> 匿名   <span class="token operator">|</span> 智能科学与技术        <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+--------+-----------------------+</span>
<span class="token number">2</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> s<span class="token punctuation">.</span>id <span class="token keyword">as</span> 学号<span class="token punctuation">,</span>s<span class="token punctuation">.</span>name <span class="token keyword">as</span> 姓名<span class="token punctuation">,</span>m<span class="token punctuation">.</span>name <span class="token keyword">as</span> 专业 <span class="token keyword">from</span> student <span class="token keyword">as</span> s <span class="token keyword">left</span> <span class="token keyword">join</span> major <span class="token keyword">as</span> m <span class="token keyword">on</span> s<span class="token punctuation">.</span>major_id <span class="token operator">=</span> m<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------+--------+-----------------------+</span>
<span class="token operator">|</span> 学号   <span class="token operator">|</span> 姓名   <span class="token operator">|</span> 专业                  <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+--------+-----------------------+</span>
<span class="token operator">|</span>      <span class="token number">1</span> <span class="token operator">|</span> 李华   <span class="token operator">|</span> 智能制造              <span class="token operator">|</span>
<span class="token operator">|</span>      <span class="token number">2</span> <span class="token operator">|</span> 匿名   <span class="token operator">|</span> 智能科学与技术        <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+--------+-----------------------+</span>
<span class="token number">2</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre> 
<p>取别名可以更方便开发者编写sql语句</p> 
<h4><a id="_872"></a>字符串拼接</h4> 
<pre><code class="prism language-sql">mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> concat<span class="token punctuation">(</span><span class="token string">'专业名称：'</span><span class="token punctuation">,</span>name<span class="token punctuation">)</span> <span class="token keyword">from</span> major<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------------------------------------+</span>
<span class="token operator">|</span> concat<span class="token punctuation">(</span><span class="token string">'专业名称：'</span><span class="token punctuation">,</span>name<span class="token punctuation">)</span>            <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------------------------------+</span>
<span class="token operator">|</span> 专业名称：智能科学与技术             <span class="token operator">|</span>
<span class="token operator">|</span> 专业名称：智能制造                   <span class="token operator">|</span>
<span class="token operator">|</span> 专业名称：智能制造                   <span class="token operator">|</span>
<span class="token operator">|</span> 专业名称：智能制造                   <span class="token operator">|</span>
<span class="token operator">|</span> 专业名称：智能制造                   <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------------------------------+</span>
<span class="token number">5</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre> 
<h4><a id="_888"></a>查询结果数据去重</h4> 
<p>重复的数据只显示一条</p> 
<pre><code class="prism language-sql">mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> name <span class="token keyword">as</span> 专业名称 <span class="token keyword">from</span> major<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-----------------------+</span>
<span class="token operator">|</span> 专业名称              <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------------------+</span>
<span class="token operator">|</span> 智能科学与技术        <span class="token operator">|</span>
<span class="token operator">|</span> 智能制造              <span class="token operator">|</span>
<span class="token operator">|</span> 智能制造              <span class="token operator">|</span>
<span class="token operator">|</span> 智能制造              <span class="token operator">|</span>
<span class="token operator">|</span> 智能制造              <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------------------+</span>
<span class="token number">5</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token keyword">distinct</span> name <span class="token keyword">as</span> 专业名称 <span class="token keyword">from</span> major<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-----------------------+</span>
<span class="token operator">|</span> 专业名称              <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------------------+</span>
<span class="token operator">|</span> 智能科学与技术        <span class="token operator">|</span>
<span class="token operator">|</span> 智能制造              <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------------------+</span>
<span class="token number">2</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre> 
<h4><a id="_915"></a>查询时增加计算</h4> 
<pre><code class="prism language-sql">mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> id<span class="token punctuation">,</span>name <span class="token keyword">as</span> 专业名称 <span class="token keyword">from</span> major<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+-----------------------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> 专业名称              <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-----------------------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> 智能科学与技术        <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> 智能制造              <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> 智能制造              <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">4</span> <span class="token operator">|</span> 智能制造              <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">5</span> <span class="token operator">|</span> 智能制造              <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-----------------------+</span>
<span class="token number">5</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

<span class="token comment">-- 将所有数据的 id 增加 1</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> id<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>name <span class="token keyword">as</span> 专业名称 <span class="token keyword">from</span> major<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">------+-----------------------+</span>
<span class="token operator">|</span> id<span class="token operator">+</span><span class="token number">1</span> <span class="token operator">|</span> 专业名称              <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+-----------------------+</span>
<span class="token operator">|</span>    <span class="token number">2</span> <span class="token operator">|</span> 智能科学与技术        <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">3</span> <span class="token operator">|</span> 智能制造              <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">4</span> <span class="token operator">|</span> 智能制造              <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">5</span> <span class="token operator">|</span> 智能制造              <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">6</span> <span class="token operator">|</span> 智能制造              <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+-----------------------+</span>
<span class="token number">5</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre> 
<h4><a id="_944"></a>模糊查询</h4> 
<p><img src="https://images2.imgbox.com/4e/f7/Kx68QvHa_o.png" alt="在这里插入图片描述"><br> 字符模糊查询：<code>%（代表0到任意个字符）</code>、<code>_（一个字符）</code></p> 
<pre><code class="prism language-sql"><span class="token comment">-- 查询姓刘的同学</span>
<span class="token comment">-- like结合 </span>
<span class="token keyword">SELECT</span> <span class="token identifier"><span class="token punctuation">`</span>studentNo<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>studentName<span class="token punctuation">`</span></span> <span class="token keyword">FROM</span> student <span class="token keyword">WHERE</span> studentName <span class="token operator">LIKE</span> <span class="token string">'刘%'</span><span class="token punctuation">;</span>

<span class="token comment">-- 查询姓刘的同学，名字后面只有一个字的</span>
<span class="token keyword">SELECT</span> <span class="token identifier"><span class="token punctuation">`</span>studentNo<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>studentName<span class="token punctuation">`</span></span> <span class="token keyword">FROM</span> student <span class="token keyword">WHERE</span> studentName <span class="token operator">LIKE</span> <span class="token string">'刘_'</span><span class="token punctuation">;</span>

<span class="token comment">-- 查询姓刘的同学，名字后面只有两个字的</span>
<span class="token keyword">SELECT</span> <span class="token identifier"><span class="token punctuation">`</span>studentNo<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>studentName<span class="token punctuation">`</span></span> <span class="token keyword">FROM</span> student <span class="token keyword">WHERE</span> studentName <span class="token operator">LIKE</span> <span class="token string">'刘__'</span><span class="token punctuation">;</span>

<span class="token comment">-- 查询名字中间有嘉字的同学 %嘉%</span>
<span class="token keyword">SELECT</span> <span class="token identifier"><span class="token punctuation">`</span>studentNo<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>studentName<span class="token punctuation">`</span></span> <span class="token keyword">FROM</span> student <span class="token keyword">WHERE</span> studentName <span class="token operator">LIKE</span> <span class="token string">'%嘉%'</span><span class="token punctuation">;</span>

<span class="token comment">-- 查询 1001,1002,1003 号学员</span>
<span class="token keyword">SELECT</span> <span class="token identifier"><span class="token punctuation">`</span>StudentNo<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>StudentName<span class="token punctuation">`</span></span> <span class="token keyword">FROM</span> student <span class="token keyword">WHERE</span> StudentNo <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token number">1001</span><span class="token punctuation">,</span><span class="token number">1002</span><span class="token punctuation">,</span><span class="token number">1003</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 查询地址为空的学生null ''</span>
<span class="token keyword">SELECT</span> <span class="token identifier"><span class="token punctuation">`</span>StudentNo<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>StudentName<span class="token punctuation">`</span></span> <span class="token keyword">FROM</span> student <span class="token keyword">WHERE</span> address<span class="token operator">=</span><span class="token string">''</span> <span class="token operator">OR</span> address <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>

<span class="token comment">-- 查询有出生日期的同学 不为空</span>
<span class="token keyword">SELECT</span> StudentNo<span class="token punctuation">,</span>StudentName <span class="token keyword">FROM</span> student <span class="token keyword">WHERE</span> BornDate <span class="token operator">IS</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>

<span class="token comment">-- 查询没有有出生日期的同学 为空</span>
<span class="token keyword">SELECT</span> StudentNo<span class="token punctuation">,</span>StudentName <span class="token keyword">FROM</span> student <span class="token keyword">WHERE</span> BornDate <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="_975"></a>连接查询</h4> 
<h5><a id="_977"></a>七种连接方式</h5> 
<p>https://blog.csdn.net/laodanqiu/article/details/131233741</p> 
<h5><a id="_981"></a>自连接</h5> 
<p>用途：一个表同时存储了父类数据和子类数据，如省市区表同时存储了中国的所有省、市、区的数据，希望查询出广东省下面的所有城市</p> 
<pre><code class="prism language-sql">mysql<span class="token operator">&gt;</span> <span class="token keyword">desc</span> province_city_region<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------------+-------------+------+-----+-------------------+-----------------------------------------------+</span>
<span class="token operator">|</span> Field       <span class="token operator">|</span> <span class="token keyword">Type</span>        <span class="token operator">|</span> <span class="token boolean">Null</span> <span class="token operator">|</span> <span class="token keyword">Key</span> <span class="token operator">|</span> <span class="token keyword">Default</span>           <span class="token operator">|</span> Extra                                         <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------------+-------------+------+-----+-------------------+-----------------------------------------------+</span>
<span class="token operator">|</span> id          <span class="token operator">|</span> <span class="token keyword">bigint</span>      <span class="token operator">|</span> <span class="token keyword">NO</span>   <span class="token operator">|</span> PRI <span class="token operator">|</span> <span class="token boolean">NULL</span>              <span class="token operator">|</span> <span class="token keyword">auto_increment</span>                                <span class="token operator">|</span>
<span class="token operator">|</span> create_time <span class="token operator">|</span> <span class="token keyword">datetime</span>    <span class="token operator">|</span> <span class="token keyword">NO</span>   <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token keyword">CURRENT_TIMESTAMP</span> <span class="token operator">|</span> DEFAULT_GENERATED                             <span class="token operator">|</span>
<span class="token operator">|</span> update_time <span class="token operator">|</span> <span class="token keyword">datetime</span>    <span class="token operator">|</span> <span class="token keyword">NO</span>   <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token keyword">CURRENT_TIMESTAMP</span> <span class="token operator">|</span> DEFAULT_GENERATED <span class="token keyword">on</span> <span class="token keyword">update</span> <span class="token keyword">CURRENT_TIMESTAMP</span> <span class="token operator">|</span>
<span class="token operator">|</span> is_deleted  <span class="token operator">|</span> <span class="token keyword">tinyint</span>     <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token number">0</span>                 <span class="token operator">|</span>                                               <span class="token operator">|</span>
<span class="token operator">|</span> name        <span class="token operator">|</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token boolean">NULL</span>              <span class="token operator">|</span>                                               <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token keyword">type</span>        <span class="token operator">|</span> <span class="token keyword">tinyint</span>     <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token boolean">NULL</span>              <span class="token operator">|</span>                                               <span class="token operator">|</span>
<span class="token operator">|</span> parent_id   <span class="token operator">|</span> <span class="token keyword">bigint</span>      <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token boolean">NULL</span>              <span class="token operator">|</span>                                               <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------------+-------------+------+-----+-------------------+-----------------------------------------------+</span>
<span class="token number">7</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> a<span class="token punctuation">.</span>id<span class="token punctuation">,</span>a<span class="token punctuation">.</span>name <span class="token keyword">as</span> 市名称<span class="token punctuation">,</span>b<span class="token punctuation">.</span>name <span class="token keyword">as</span> 省名称 <span class="token keyword">from</span> province_city_region <span class="token keyword">as</span> a<span class="token punctuation">,</span>province_city_region <span class="token keyword">as</span> b <span class="token keyword">where</span> b<span class="token punctuation">.</span>name<span class="token operator">=</span><span class="token string">"广东省"</span> <span class="token operator">and</span> a<span class="token punctuation">.</span>parent_id<span class="token operator">=</span>b<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">------+-----------+-----------+</span>
<span class="token operator">|</span> id   <span class="token operator">|</span> 市名称    <span class="token operator">|</span> 省名称    <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+-----------+-----------+</span>
<span class="token operator">|</span> <span class="token number">4792</span> <span class="token operator">|</span> 茂名市    <span class="token operator">|</span> 广东省    <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">4798</span> <span class="token operator">|</span> 湛江市    <span class="token operator">|</span> 广东省    <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">4808</span> <span class="token operator">|</span> 东莞市    <span class="token operator">|</span> 广东省    <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">4809</span> <span class="token operator">|</span> 江门市    <span class="token operator">|</span> 广东省    <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">4817</span> <span class="token operator">|</span> 清远市    <span class="token operator">|</span> 广东省    <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">4826</span> <span class="token operator">|</span> 佛山市    <span class="token operator">|</span> 广东省    <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">4832</span> <span class="token operator">|</span> 阳江市    <span class="token operator">|</span> 广东省    <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">4837</span> <span class="token operator">|</span> 汕头市    <span class="token operator">|</span> 广东省    <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">4845</span> <span class="token operator">|</span> 河源市    <span class="token operator">|</span> 广东省    <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">4852</span> <span class="token operator">|</span> 珠海市    <span class="token operator">|</span> 广东省    <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">4856</span> <span class="token operator">|</span> 汕尾市    <span class="token operator">|</span> 广东省    <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">4861</span> <span class="token operator">|</span> 深圳市    <span class="token operator">|</span> 广东省    <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">4868</span> <span class="token operator">|</span> 梅州市    <span class="token operator">|</span> 广东省    <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">4877</span> <span class="token operator">|</span> 揭阳市    <span class="token operator">|</span> 广东省    <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">4883</span> <span class="token operator">|</span> 韶关市    <span class="token operator">|</span> 广东省    <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">4894</span> <span class="token operator">|</span> 惠州市    <span class="token operator">|</span> 广东省    <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">4900</span> <span class="token operator">|</span> 潮州市    <span class="token operator">|</span> 广东省    <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">4904</span> <span class="token operator">|</span> 广州市    <span class="token operator">|</span> 广东省    <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">4916</span> <span class="token operator">|</span> 肇庆市    <span class="token operator">|</span> 广东省    <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">4925</span> <span class="token operator">|</span> 中山市    <span class="token operator">|</span> 广东省    <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">4926</span> <span class="token operator">|</span> 云浮市    <span class="token operator">|</span> 广东省    <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+-----------+-----------+</span>
<span class="token number">21</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre> 
<h4><a id="_1029"></a>分页</h4> 
<blockquote> 
 <p>【查询语句】limit 数据索引起始值 数据量的大小</p> 
</blockquote> 
<p><code>limit 0,5</code>:查询的是第0,1,2,3,4条数据</p> 
<p><code>limit 2,5</code>:查询的是第2,3,4,5,6条数据</p> 
<h4><a id="_1037"></a>排序</h4> 
<blockquote> 
 <p>【查询语句】order by 字段 ASC / DESC</p> 
</blockquote> 
<ul><li>ASC（升序）</li><li>DESC（降序）</li></ul> 
<pre><code class="prism language-sql">mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> province_city_region <span class="token keyword">order</span> <span class="token keyword">by</span> id <span class="token keyword">asc</span> <span class="token keyword">limit</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">------+---------------------+---------------------+------------+-----------+------+-----------+</span>
<span class="token operator">|</span> id   <span class="token operator">|</span> create_time         <span class="token operator">|</span> update_time         <span class="token operator">|</span> is_deleted <span class="token operator">|</span> name      <span class="token operator">|</span> <span class="token keyword">type</span> <span class="token operator">|</span> parent_id <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+---------------------+---------------------+------------+-----------+------+-----------+</span>
<span class="token operator">|</span> <span class="token number">2928</span> <span class="token operator">|</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">10</span> <span class="token number">20</span>:<span class="token number">38</span>:<span class="token number">54</span> <span class="token operator">|</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">10</span> <span class="token number">20</span>:<span class="token number">38</span>:<span class="token number">54</span> <span class="token operator">|</span>          <span class="token number">0</span> <span class="token operator">|</span> 山东省    <span class="token operator">|</span>    <span class="token number">0</span> <span class="token operator">|</span>         <span class="token number">0</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">2929</span> <span class="token operator">|</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">10</span> <span class="token number">20</span>:<span class="token number">38</span>:<span class="token number">54</span> <span class="token operator">|</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">10</span> <span class="token number">20</span>:<span class="token number">38</span>:<span class="token number">54</span> <span class="token operator">|</span>          <span class="token number">0</span> <span class="token operator">|</span> 莱芜市    <span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span>      <span class="token number">2928</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">2930</span> <span class="token operator">|</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">10</span> <span class="token number">20</span>:<span class="token number">38</span>:<span class="token number">54</span> <span class="token operator">|</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">10</span> <span class="token number">20</span>:<span class="token number">38</span>:<span class="token number">54</span> <span class="token operator">|</span>          <span class="token number">0</span> <span class="token operator">|</span> 莱城区    <span class="token operator">|</span>    <span class="token number">2</span> <span class="token operator">|</span>      <span class="token number">2929</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">2931</span> <span class="token operator">|</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">10</span> <span class="token number">20</span>:<span class="token number">38</span>:<span class="token number">54</span> <span class="token operator">|</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">10</span> <span class="token number">20</span>:<span class="token number">38</span>:<span class="token number">54</span> <span class="token operator">|</span>          <span class="token number">0</span> <span class="token operator">|</span> 钢城区    <span class="token operator">|</span>    <span class="token number">2</span> <span class="token operator">|</span>      <span class="token number">2929</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">2932</span> <span class="token operator">|</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">10</span> <span class="token number">20</span>:<span class="token number">38</span>:<span class="token number">54</span> <span class="token operator">|</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">10</span> <span class="token number">20</span>:<span class="token number">38</span>:<span class="token number">54</span> <span class="token operator">|</span>          <span class="token number">0</span> <span class="token operator">|</span> 济南市    <span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span>      <span class="token number">2928</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">2933</span> <span class="token operator">|</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">10</span> <span class="token number">20</span>:<span class="token number">38</span>:<span class="token number">54</span> <span class="token operator">|</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">10</span> <span class="token number">20</span>:<span class="token number">38</span>:<span class="token number">54</span> <span class="token operator">|</span>          <span class="token number">0</span> <span class="token operator">|</span> 历城区    <span class="token operator">|</span>    <span class="token number">2</span> <span class="token operator">|</span>      <span class="token number">2932</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">2934</span> <span class="token operator">|</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">10</span> <span class="token number">20</span>:<span class="token number">38</span>:<span class="token number">54</span> <span class="token operator">|</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">10</span> <span class="token number">20</span>:<span class="token number">38</span>:<span class="token number">54</span> <span class="token operator">|</span>          <span class="token number">0</span> <span class="token operator">|</span> 历下区    <span class="token operator">|</span>    <span class="token number">2</span> <span class="token operator">|</span>      <span class="token number">2932</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">2935</span> <span class="token operator">|</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">10</span> <span class="token number">20</span>:<span class="token number">38</span>:<span class="token number">54</span> <span class="token operator">|</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">10</span> <span class="token number">20</span>:<span class="token number">38</span>:<span class="token number">54</span> <span class="token operator">|</span>          <span class="token number">0</span> <span class="token operator">|</span> 长清区    <span class="token operator">|</span>    <span class="token number">2</span> <span class="token operator">|</span>      <span class="token number">2932</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">2936</span> <span class="token operator">|</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">10</span> <span class="token number">20</span>:<span class="token number">38</span>:<span class="token number">54</span> <span class="token operator">|</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">10</span> <span class="token number">20</span>:<span class="token number">38</span>:<span class="token number">54</span> <span class="token operator">|</span>          <span class="token number">0</span> <span class="token operator">|</span> 平阴县    <span class="token operator">|</span>    <span class="token number">2</span> <span class="token operator">|</span>      <span class="token number">2932</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">2937</span> <span class="token operator">|</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">10</span> <span class="token number">20</span>:<span class="token number">38</span>:<span class="token number">54</span> <span class="token operator">|</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">10</span> <span class="token number">20</span>:<span class="token number">38</span>:<span class="token number">54</span> <span class="token operator">|</span>          <span class="token number">0</span> <span class="token operator">|</span> 章丘市    <span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span>      <span class="token number">2932</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+---------------------+---------------------+------------+-----------+------+-----------+</span>
<span class="token number">10</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> province_city_region <span class="token keyword">order</span> <span class="token keyword">by</span> id <span class="token keyword">desc</span> <span class="token keyword">limit</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">------+---------------------+---------------------+------------+--------------------------+------+-----------+</span>
<span class="token operator">|</span> id   <span class="token operator">|</span> create_time         <span class="token operator">|</span> update_time         <span class="token operator">|</span> is_deleted <span class="token operator">|</span> name                     <span class="token operator">|</span> <span class="token keyword">type</span> <span class="token operator">|</span> parent_id <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+---------------------+---------------------+------------+--------------------------+------+-----------+</span>
<span class="token operator">|</span> <span class="token number">5851</span> <span class="token operator">|</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">10</span> <span class="token number">20</span>:<span class="token number">39</span>:<span class="token number">11</span> <span class="token operator">|</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">10</span> <span class="token number">20</span>:<span class="token number">39</span>:<span class="token number">11</span> <span class="token operator">|</span>          <span class="token number">0</span> <span class="token operator">|</span> 天峨县                   <span class="token operator">|</span>    <span class="token number">2</span> <span class="token operator">|</span>      <span class="token number">5840</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">5850</span> <span class="token operator">|</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">10</span> <span class="token number">20</span>:<span class="token number">39</span>:<span class="token number">11</span> <span class="token operator">|</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">10</span> <span class="token number">20</span>:<span class="token number">39</span>:<span class="token number">11</span> <span class="token operator">|</span>          <span class="token number">0</span> <span class="token operator">|</span> 凤山县                   <span class="token operator">|</span>    <span class="token number">2</span> <span class="token operator">|</span>      <span class="token number">5840</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">5849</span> <span class="token operator">|</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">10</span> <span class="token number">20</span>:<span class="token number">39</span>:<span class="token number">11</span> <span class="token operator">|</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">10</span> <span class="token number">20</span>:<span class="token number">39</span>:<span class="token number">11</span> <span class="token operator">|</span>          <span class="token number">0</span> <span class="token operator">|</span> 南丹县                   <span class="token operator">|</span>    <span class="token number">2</span> <span class="token operator">|</span>      <span class="token number">5840</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">5848</span> <span class="token operator">|</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">10</span> <span class="token number">20</span>:<span class="token number">39</span>:<span class="token number">11</span> <span class="token operator">|</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">10</span> <span class="token number">20</span>:<span class="token number">39</span>:<span class="token number">11</span> <span class="token operator">|</span>          <span class="token number">0</span> <span class="token operator">|</span> 环江毛南族自治县         <span class="token operator">|</span>    <span class="token number">2</span> <span class="token operator">|</span>      <span class="token number">5840</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">5847</span> <span class="token operator">|</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">10</span> <span class="token number">20</span>:<span class="token number">39</span>:<span class="token number">11</span> <span class="token operator">|</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">10</span> <span class="token number">20</span>:<span class="token number">39</span>:<span class="token number">11</span> <span class="token operator">|</span>          <span class="token number">0</span> <span class="token operator">|</span> 巴马瑶族自治县           <span class="token operator">|</span>    <span class="token number">2</span> <span class="token operator">|</span>      <span class="token number">5840</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">5846</span> <span class="token operator">|</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">10</span> <span class="token number">20</span>:<span class="token number">39</span>:<span class="token number">11</span> <span class="token operator">|</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">10</span> <span class="token number">20</span>:<span class="token number">39</span>:<span class="token number">10</span> <span class="token operator">|</span>          <span class="token number">0</span> <span class="token operator">|</span> 东兰县                   <span class="token operator">|</span>    <span class="token number">2</span> <span class="token operator">|</span>      <span class="token number">5840</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">5845</span> <span class="token operator">|</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">10</span> <span class="token number">20</span>:<span class="token number">39</span>:<span class="token number">11</span> <span class="token operator">|</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">10</span> <span class="token number">20</span>:<span class="token number">39</span>:<span class="token number">10</span> <span class="token operator">|</span>          <span class="token number">0</span> <span class="token operator">|</span> 金城江区                 <span class="token operator">|</span>    <span class="token number">2</span> <span class="token operator">|</span>      <span class="token number">5840</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">5844</span> <span class="token operator">|</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">10</span> <span class="token number">20</span>:<span class="token number">39</span>:<span class="token number">11</span> <span class="token operator">|</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">10</span> <span class="token number">20</span>:<span class="token number">39</span>:<span class="token number">10</span> <span class="token operator">|</span>          <span class="token number">0</span> <span class="token operator">|</span> 罗城仫佬族自治县         <span class="token operator">|</span>    <span class="token number">2</span> <span class="token operator">|</span>      <span class="token number">5840</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">5843</span> <span class="token operator">|</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">10</span> <span class="token number">20</span>:<span class="token number">39</span>:<span class="token number">11</span> <span class="token operator">|</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">10</span> <span class="token number">20</span>:<span class="token number">39</span>:<span class="token number">10</span> <span class="token operator">|</span>          <span class="token number">0</span> <span class="token operator">|</span> 宜州市                   <span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span>      <span class="token number">5840</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">5842</span> <span class="token operator">|</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">10</span> <span class="token number">20</span>:<span class="token number">39</span>:<span class="token number">11</span> <span class="token operator">|</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">10</span> <span class="token number">20</span>:<span class="token number">39</span>:<span class="token number">10</span> <span class="token operator">|</span>          <span class="token number">0</span> <span class="token operator">|</span> 都安瑶族自治县           <span class="token operator">|</span>    <span class="token number">2</span> <span class="token operator">|</span>      <span class="token number">5840</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+---------------------+---------------------+------------+--------------------------+------+-----------+</span>
<span class="token number">10</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre> 
<h4><a id="_1080"></a>子查询（嵌套查询）</h4> 
<p><code>注意</code>：数据量大的时候，子查询的效率高于连表查询</p> 
<p>查询数据库结构-1的所有考试结果（学号，科目编号，成绩），降序排列</p> 
<pre><code class="prism language-sql"><span class="token comment">-- 方式一：使用连接查询</span>
<span class="token keyword">SELECT</span> r<span class="token punctuation">.</span>StudentNo<span class="token punctuation">,</span> r<span class="token punctuation">.</span>SubjectNo<span class="token punctuation">,</span> <span class="token identifier"><span class="token punctuation">`</span>StudentResult<span class="token punctuation">`</span></span> 
<span class="token keyword">FROM</span> <span class="token identifier"><span class="token punctuation">`</span>result<span class="token punctuation">`</span></span> r
<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> <span class="token identifier"><span class="token punctuation">`</span>subject<span class="token punctuation">`</span></span> sub
<span class="token keyword">ON</span> r<span class="token punctuation">.</span>SubjectNo <span class="token operator">=</span> sub<span class="token punctuation">.</span>SubjectNo
<span class="token keyword">WHERE</span> SubjectName <span class="token operator">=</span> <span class="token string">'数据库结构-1'</span>
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> StudentResult <span class="token keyword">DESC</span>

<span class="token comment">-- 方式二：使用子查询（由里及外）</span>
<span class="token comment">-- 查询所有数据库结构-1的学生学号</span>
<span class="token keyword">SELECT</span> <span class="token identifier"><span class="token punctuation">`</span>StudentNo<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token identifier"><span class="token punctuation">`</span>SubjectNo<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token identifier"><span class="token punctuation">`</span>StudentResult<span class="token punctuation">`</span></span> 
<span class="token keyword">FROM</span> result
<span class="token keyword">WHERE</span> SubjectNo <span class="token operator">IN</span> <span class="token punctuation">(</span>
    <span class="token keyword">SELECT</span> SubjectNo <span class="token keyword">FROM</span> subject
    <span class="token keyword">WHERE</span> SubjectName <span class="token operator">=</span> <span class="token string">'数据库结构-1'</span>
<span class="token punctuation">)</span>
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> StudentResult <span class="token keyword">DESC</span>
</code></pre> 
<p>高等数学-2且分数不小于80的同学的学号和姓名</p> 
<pre><code class="prism language-sql"><span class="token comment">-- 连表查询 </span>
<span class="token keyword">SELECT</span> s<span class="token punctuation">.</span>StudentNo<span class="token punctuation">,</span> s<span class="token punctuation">.</span>StudentName
<span class="token keyword">FROM</span> student s
<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> result r <span class="token keyword">ON</span> s<span class="token punctuation">.</span>StudentNo <span class="token operator">=</span> r<span class="token punctuation">.</span>StudentNo
<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> subject sub <span class="token keyword">ON</span> r<span class="token punctuation">.</span>SubjectNo <span class="token operator">=</span> sub<span class="token punctuation">.</span>SubjectNo
<span class="token keyword">WHERE</span> SubjectName <span class="token operator">=</span> <span class="token string">'高等数学-2'</span> <span class="token operator">AND</span> StudentResult <span class="token operator">&gt;=</span> <span class="token number">80</span>

<span class="token comment">-- 子查询 在改造</span>
<span class="token keyword">SELECT</span> StudentNo<span class="token punctuation">,</span> StudentName <span class="token keyword">FROM</span> student <span class="token keyword">WHERE</span> StudentNo <span class="token operator">IN</span> <span class="token punctuation">(</span>
    <span class="token keyword">SELECT</span> StudentNo <span class="token keyword">FROM</span> result <span class="token keyword">WHERE</span> StudentResult <span class="token operator">&gt;</span> <span class="token number">80</span> <span class="token operator">AND</span> SubjectNo <span class="token operator">=</span> <span class="token punctuation">(</span>
        <span class="token keyword">SELECT</span> SubjectNo <span class="token keyword">FROM</span> <span class="token identifier"><span class="token punctuation">`</span>subject<span class="token punctuation">`</span></span> <span class="token keyword">WHERE</span> <span class="token identifier"><span class="token punctuation">`</span>SubjectName<span class="token punctuation">`</span></span> <span class="token operator">=</span> <span class="token string">'高等数学-2'</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">)</span>
</code></pre> 
<h5><a id="in_1119"></a>in</h5> 
<p><code>in</code>操作符主要用于在where子句中指定一个条件，该条件检查某一列的值是否在一个特定的值列表中或者是否由一个子查询返回的结果集所包含，如果在，则将数据返回</p> 
<ul><li>最简单的用法：检查某一列的值是否在一个特定的值列表中</li></ul> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> id <span class="token keyword">from</span> student <span class="token keyword">where</span> id <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<ul><li>检查某一列的值是否在子查询返回的结果集中：如查询和张三一个系的学生信息</li></ul> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> id<span class="token punctuation">,</span> name<span class="token punctuation">,</span> dept <span class="token keyword">from</span> student
	<span class="token keyword">where</span> dept <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token keyword">select</span> dept <span class="token keyword">from</span> student <span class="token keyword">where</span> name<span class="token operator">=</span><span class="token string">'张三'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<ul><li><code>in</code>还可以多重嵌套使用，例如查询机电学院中选修了’数据库’课程的学生姓名</li></ul> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> name <span class="token keyword">from</span> student <span class="token keyword">where</span> dept<span class="token operator">=</span>‘机电’ <span class="token operator">and</span> 
	student<span class="token punctuation">.</span>id <span class="token operator">in</span> <span class="token punctuation">(</span> <span class="token keyword">select</span> stu_id <span class="token keyword">from</span> student_course sc 
		<span class="token keyword">where</span> course_id <span class="token operator">in</span> <span class="token punctuation">(</span> <span class="token keyword">select</span> id <span class="token keyword">from</span> course <span class="token keyword">where</span> name<span class="token operator">=</span><span class="token string">'数据库'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>注：student_course为选课表</p> 
<h5><a id="not_in_1141"></a>not in</h5> 
<p><code>not in</code>的作用和<code>in</code>刚好反过来，即数据列的值不在特定的值列表中时返回，用法如下，与<code>in</code>的用法相同</p> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> id <span class="token keyword">from</span> student <span class="token keyword">where</span> id <span class="token operator">not</span> <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h5><a id="exists_1146"></a>exists</h5> 
<p><code>exists</code>关键字主要用于检查子查询是否返回至少一行数据，如果子查询至少返回一行数据，则返回true。注意：子查询找到匹配项就会立即停止执行</p> 
<ul><li>如查询有挂科的学生姓名（注：student_course为选课表）</li></ul> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> name <span class="token keyword">from</span> student <span class="token keyword">where</span> <span class="token keyword">exists</span> 
	<span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> student_course sc <span class="token keyword">where</span> student<span class="token punctuation">.</span>id <span class="token operator">=</span> sc<span class="token punctuation">.</span>stu_id <span class="token operator">and</span> grade <span class="token operator">&lt;</span> <span class="token number">60</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>优化：因为子查询只需要有数据返回即可，不关心具体返回什么数据，因此直接返回1即可，效率更高</p> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> name <span class="token keyword">from</span> student <span class="token keyword">where</span> <span class="token keyword">exists</span> 
	<span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token number">1</span> <span class="token keyword">from</span> student_course sc <span class="token keyword">where</span> student<span class="token punctuation">.</span>id <span class="token operator">=</span> sc<span class="token punctuation">.</span>stu_id <span class="token operator">and</span> grade <span class="token operator">&lt;</span> <span class="token number">60</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h5><a id="not_exists_1159"></a>not exists</h5> 
<p><code>not exists</code>关键字主要用于检查子查询是否返回至少一行数据，如果子查询至少返回一行数据，则返回false。</p> 
<ul><li>如查询全部及格的学生姓名（注：student_course为选课表）</li></ul> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> name <span class="token keyword">from</span> student <span class="token keyword">where</span> <span class="token operator">not</span> <span class="token keyword">exists</span> 
	<span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> student_course sc <span class="token keyword">where</span> student<span class="token punctuation">.</span>id <span class="token operator">=</span> sc<span class="token punctuation">.</span>stu_id <span class="token operator">and</span> grade <span class="token operator">&lt;</span> <span class="token number">60</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<ul><li>进阶用法：查询选修了全部课程的学生名单</li></ul> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> name <span class="token keyword">from</span> student
	<span class="token keyword">where</span> <span class="token operator">not</span> <span class="token keyword">exists</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token number">1</span> <span class="token keyword">from</span> course 
		<span class="token keyword">where</span> <span class="token operator">not</span> <span class="token keyword">exists</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token number">1</span> <span class="token keyword">from</span> student_course sc <span class="token keyword">where</span> student<span class="token punctuation">.</span>id <span class="token operator">=</span> sc<span class="token punctuation">.</span>stu_id <span class="token operator">and</span> sc<span class="token punctuation">.</span>course_id <span class="token operator">=</span> course<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>可能直接看上面的sql比较绕，上面的sql可以近似理解为如下伪代码</p> 
<pre><code class="prism language-java"><span class="token comment">// 初始化一个空的Set来存储选修了所有课程的学生及其信息</span>
<span class="token class-name">Set</span> studentList <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>

<span class="token comment">// 遍历所有的学生</span>
<span class="token keyword">for</span> each student in 学生群体 <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 初始化一个空的Set来存储当前学生未选修的课程</span>
    <span class="token class-name">Set</span> courseList <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>

    <span class="token comment">// 遍历所有的课程</span>
    <span class="token keyword">for</span> each course in 课程列表 <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 检查学生是否没有选修当前课程</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>student没有选修course<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// 如果没有选修，则添加此课程到未选修课程列表</span>
            courseList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>course<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 检查当前学生是否有未选修的课程</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>courseList<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 如果没有未选修的课程，说明该学生选修了所有课程</span>
        <span class="token comment">// 将学生添加到已选修所有课程的学生列表中</span>
        studentList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>student<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 打印或返回studentList，包含所有选修了所有课程的学生信息</span>
</code></pre> 
<h5><a id="in__exists__1203"></a>in 和 exists 怎么选？</h5> 
<p>遵循小表驱动大表原则</p> 
<ul><li>如果B表数据量小于A表数据量，用in更优</li></ul> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> A <span class="token keyword">where</span> id <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token keyword">select</span> id <span class="token keyword">from</span> B<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>相当于</p> 
<pre><code class="prism language-java"><span class="token keyword">for</span> select id from <span class="token class-name">B</span><span class="token punctuation">{<!-- --></span>
	<span class="token keyword">for</span> select <span class="token operator">*</span> from <span class="token class-name">A</span> where <span class="token class-name">A</span><span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token class-name">B</span><span class="token punctuation">.</span>id<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<ul><li>如果A表数据量小于B表数据量，用exists更优</li></ul> 
<pre><code class="prism language-sql"><span class="token comment"># 遍历A表数据，看B表是否有与当前Aid相同的数据，如果有，则查询出来</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> A <span class="token keyword">where</span> <span class="token keyword">exists</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token number">1</span> <span class="token keyword">from</span> B <span class="token keyword">where</span> B<span class="token punctuation">.</span>id <span class="token operator">=</span> A<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>相当于</p> 
<pre><code class="prism language-java"><span class="token keyword">for</span> select id from <span class="token class-name">A</span><span class="token punctuation">{<!-- --></span>
	<span class="token keyword">for</span> select <span class="token operator">*</span> from <span class="token class-name">B</span> where <span class="token class-name">B</span><span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token class-name">A</span><span class="token punctuation">.</span>id<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_1227"></a>查询常用函数</h4> 
<h5><a id="_1228"></a>【数学运算】</h5> 
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> ABS<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token comment">--绝对值</span>
<span class="token keyword">SELECT</span> CEILING<span class="token punctuation">(</span><span class="token number">9.4</span><span class="token punctuation">)</span><span class="token comment">--向上取整</span>
<span class="token keyword">SELECT</span> FLOOR<span class="token punctuation">(</span><span class="token number">9.4</span><span class="token punctuation">)</span><span class="token comment">--向下取整</span>
<span class="token keyword">SELECT</span> RAND<span class="token punctuation">(</span><span class="token punctuation">)</span>一一返回一个<span class="token number">0</span><span class="token operator">~</span><span class="token number">1</span>之间的随机数
<span class="token keyword">SELECT</span> SIGN <span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>一一判断一个数的符号<span class="token punctuation">(</span>负数返回<span class="token operator">-</span><span class="token number">1</span>，正数返回<span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span>返回<span class="token number">0</span><span class="token punctuation">)</span>
</code></pre> 
<h5><a id="_1236"></a>【字符串函数】</h5> 
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> CHAR_LENGTH<span class="token punctuation">(</span><span class="token string">'即使再小的帆也能远航'</span><span class="token punctuation">)</span><span class="token comment">--字符串长度</span>
<span class="token keyword">SELECT</span> CONCAT<span class="token punctuation">(</span><span class="token string">'哈'</span>，<span class="token string">'哈'</span>，<span class="token string">'哈'</span><span class="token punctuation">)</span><span class="token comment">--拼接字符串</span>
<span class="token keyword">SELECT</span> <span class="token keyword">INSERT</span><span class="token punctuation">(</span><span class="token string">'我爱编程helloworld'</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">'超级热爱'</span><span class="token punctuation">)</span><span class="token comment">--从某个位置开始替换某个长度</span>
<span class="token keyword">SELECT</span> LOWER<span class="token punctuation">(</span><span class="token string">'Abc'</span><span class="token punctuation">)</span><span class="token comment">--转化为小写字母</span>
<span class="token keyword">SELECT</span> UPPER<span class="token punctuation">(</span><span class="token string">'Abc'</span><span class="token punctuation">)</span><span class="token comment">--转化为大写字母</span>
<span class="token keyword">SELECT</span> INSTR<span class="token punctuation">(</span><span class="token string">'Abc'</span><span class="token punctuation">,</span><span class="token string">'bc'</span><span class="token punctuation">)</span><span class="token comment">--返回第一次出现的子串的索引</span>
<span class="token keyword">SELECT</span> <span class="token keyword">REPLACE</span><span class="token punctuation">(</span><span class="token string">'你好'</span>，<span class="token string">'好'</span>，<span class="token string">'坏'</span><span class="token punctuation">)</span><span class="token comment">--替换出现的指定字符串</span>
<span class="token keyword">SELECT</span> SUBSTR<span class="token punctuation">(</span><span class="token string">'你吃饭了吗'</span>，<span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token comment">--返回指定的子字符串（源字符串，截取的位置，截取的长度）</span>
<span class="token keyword">SELECT</span> REVERSE<span class="token punctuation">(</span><span class="token string">'我和你'</span><span class="token punctuation">)</span><span class="token comment">--反转</span>
<span class="token comment">-- 查询学生，将查询出来的数据姓氏进行替换</span>
<span class="token keyword">SELECT</span> <span class="token keyword">REPLACE</span><span class="token punctuation">(</span>student_name<span class="token punctuation">,</span><span class="token string">'王'</span>，<span class="token string">'玩'</span><span class="token punctuation">)</span><span class="token keyword">FROM</span> student
</code></pre> 
<h5><a id="_1250"></a>【时间和日期函数】</h5> 
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token keyword">CURRENT_DATE</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">--获取当前日期</span>
<span class="token keyword">SELECT</span> CURDATE<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span>一获取当前日期
<span class="token keyword">SELECT</span> <span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">--获取当前的时间</span>
<span class="token keyword">SELECT</span> LOCALTIME<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">--本地时间</span>
<span class="token keyword">SELECT</span> SYSDATE<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span>一系统时间
<span class="token keyword">SELECT</span> <span class="token keyword">YEAR</span><span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">SELECT</span> <span class="token keyword">MONTH</span><span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">SELECT</span> <span class="token keyword">DAY</span><span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">SELECT</span> <span class="token keyword">HOUR</span><span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">SELECT</span> <span class="token keyword">MINUTE</span><span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">SELECT</span> <span class="token keyword">SECOND</span><span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<h5><a id="_1264"></a>【数据库相关】</h5> 
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> SYSTEM <span class="token keyword">USER</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token keyword">USER</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> VERSION<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">--查询数据库版本</span>
</code></pre> 
<h5><a id="_1270"></a>【统计相关】</h5> 
<pre><code class="prism language-sql">都能够统计表中的数据（想查询一个表中有多少个记录，就使用这个cout<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>BornDate<span class="token punctuation">`</span></span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> student<span class="token punctuation">;</span><span class="token comment">--Count(字段)，会忽略所有的nul1值</span>
<span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> student<span class="token punctuation">;</span><span class="token comment">--Count(*),不会忽略null值，本质计算行数</span>
<span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> result<span class="token punctuation">;</span><span class="token comment">--Count(1),不会忽略忽略所有的nul1值，本质计算行数</span>
<span class="token keyword">SELECT</span> <span class="token function">SUM</span><span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>StudentResult<span class="token punctuation">`</span></span><span class="token punctuation">)</span> <span class="token keyword">AS</span> 总和 <span class="token keyword">FROM</span> result<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token function">AVG</span><span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>StudentResult<span class="token punctuation">`</span></span><span class="token punctuation">)</span> <span class="token keyword">AS</span> 平均分 <span class="token keyword">FROM</span> result<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token function">MAX</span><span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>StudentResult<span class="token punctuation">`</span></span><span class="token punctuation">)</span> <span class="token keyword">AS</span> 最高分 <span class="token keyword">FROM</span> result<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token function">MIN</span><span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>StudentResult<span class="token punctuation">`</span></span><span class="token punctuation">)</span> <span class="token keyword">As</span> 最低分 <span class="token keyword">FROM</span> result<span class="token punctuation">;</span>
</code></pre> 
<h5><a id="_1281"></a>注意事项</h5> 
<pre><code class="prism language-sql"><span class="token keyword">UPDATE</span> sys_user 
<span class="token keyword">SET</span> avatar <span class="token operator">=</span> concat<span class="token punctuation">(</span> <span class="token string">"https://hahaha/"</span><span class="token punctuation">,</span> FLOOR<span class="token punctuation">(</span>RAND<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">29</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">".png"</span> <span class="token punctuation">)</span> 
<span class="token keyword">WHERE</span>
	avatar <span class="token operator">IS</span> <span class="token boolean">NULL</span> 
	<span class="token operator">OR</span> avatar <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>
</code></pre> 
<p>使用函数可能导致字段的索引失效，造成效率下降，建议直接读出来，然后用java进行处理</p> 
<h4><a id="_1293"></a>分组、过滤</h4> 
<pre><code class="prism language-sql">mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> name<span class="token punctuation">,</span>gender <span class="token keyword">from</span> <span class="token keyword">user</span> <span class="token keyword">limit</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-----------------+--------+</span>
<span class="token operator">|</span> name            <span class="token operator">|</span> gender <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------------+--------+</span>
<span class="token operator">|</span> 系统管理员      <span class="token operator">|</span>      <span class="token number">0</span> <span class="token operator">|</span>
<span class="token operator">|</span> 企业管理员      <span class="token operator">|</span>      <span class="token number">0</span> <span class="token operator">|</span>
<span class="token operator">|</span> 门店管理员      <span class="token operator">|</span>      <span class="token number">0</span> <span class="token operator">|</span>
<span class="token operator">|</span> 郗淑            <span class="token operator">|</span>      <span class="token number">0</span> <span class="token operator">|</span>
<span class="token operator">|</span> 柳之            <span class="token operator">|</span>      <span class="token number">1</span> <span class="token operator">|</span>
<span class="token operator">|</span> 夏侯之          <span class="token operator">|</span>      <span class="token number">1</span> <span class="token operator">|</span>
<span class="token operator">|</span> 吉滢            <span class="token operator">|</span>      <span class="token number">0</span> <span class="token operator">|</span>
<span class="token operator">|</span> 独孤杰          <span class="token operator">|</span>      <span class="token number">1</span> <span class="token operator">|</span>
<span class="token operator">|</span> 蒙飘            <span class="token operator">|</span>      <span class="token number">0</span> <span class="token operator">|</span>
<span class="token operator">|</span> 卫柔            <span class="token operator">|</span>      <span class="token number">0</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------------+--------+</span>
<span class="token number">10</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

<span class="token comment">-- 根据 gender 进行分组</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> name<span class="token punctuation">,</span>gender <span class="token keyword">from</span> <span class="token keyword">user</span> <span class="token keyword">group</span> <span class="token keyword">by</span> gender <span class="token keyword">limit</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-----------------+--------+</span>
<span class="token operator">|</span> name            <span class="token operator">|</span> gender <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------------+--------+</span>
<span class="token operator">|</span> 系统管理员      <span class="token operator">|</span>      <span class="token number">0</span> <span class="token operator">|</span>
<span class="token operator">|</span> 柳之            <span class="token operator">|</span>      <span class="token number">1</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------------+--------+</span>
<span class="token number">2</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-sql"><span class="token comment">-- 查询不同课程的平均分，最高分，最低分，平均分大于80。根据不同的课程分组</span>
<span class="token keyword">SELECT</span> subjectName<span class="token punctuation">,</span><span class="token function">AVG</span><span class="token punctuation">(</span>StudentResult<span class="token punctuation">)</span> <span class="token keyword">AS</span> 平均分<span class="token punctuation">,</span><span class="token function">MAX</span><span class="token punctuation">(</span>StudentResult<span class="token punctuation">)</span> <span class="token keyword">AS</span> 最高分<span class="token punctuation">,</span><span class="token function">MIN</span><span class="token punctuation">(</span>StudentResult<span class="token punctuation">)</span> <span class="token keyword">AS</span> 最低分
<span class="token keyword">FROM</span> result r
<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> <span class="token identifier"><span class="token punctuation">`</span>subject<span class="token punctuation">`</span></span> sub
<span class="token keyword">ON</span> r<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>SubjectNo<span class="token punctuation">`</span></span> <span class="token operator">=</span> sub<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>SubjectNo<span class="token punctuation">`</span></span>
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> r<span class="token punctuation">.</span>SubjectNo
<span class="token keyword">HAVING</span> 平均分<span class="token operator">&gt;</span><span class="token number">80</span>
</code></pre> 
<p>能使用where，就不要使用having，不然可能导致索引失效</p> 
<h4><a id="_1336"></a>集合操作</h4> 
<h5><a id="Union_1337"></a>Union（并集）</h5> 
<p>假设有<code>employees</code>（员工） 和 <code>contractors</code>（合同工），使用下列sql可以查询出所有员工和合同工，并将数据合并在一起。</p> 
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> id<span class="token punctuation">,</span> name<span class="token punctuation">,</span> job_title <span class="token keyword">FROM</span> employees
<span class="token keyword">UNION</span>
<span class="token keyword">SELECT</span> id<span class="token punctuation">,</span> name<span class="token punctuation">,</span> job_title <span class="token keyword">FROM</span> contractors<span class="token punctuation">;</span>
</code></pre> 
<p>测试</p> 
<pre><code class="prism language-bash">mysql<span class="token operator">&gt;</span> SELECT id, name, job_title FROM contractors<span class="token punctuation">;</span>
+----+-------+-----------+
<span class="token operator">|</span> <span class="token function">id</span> <span class="token operator">|</span> name  <span class="token operator">|</span> job_title <span class="token operator">|</span>
+----+-------+-----------+
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> David <span class="token operator">|</span> Developer <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> Eve   <span class="token operator">|</span> Tester    <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> Frank <span class="token operator">|</span> Designer  <span class="token operator">|</span>
+----+-------+-----------+
<span class="token number">3</span> rows <span class="token keyword">in</span> <span class="token builtin class-name">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> SELECT id, name, job_title FROM employees<span class="token punctuation">;</span>
+----+-------+-----------+
<span class="token operator">|</span> <span class="token function">id</span> <span class="token operator">|</span> name  <span class="token operator">|</span> job_title <span class="token operator">|</span>
+----+-------+-----------+
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> Alice <span class="token operator">|</span> Developer <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> Bob   <span class="token operator">|</span> Designer  <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> Frank <span class="token operator">|</span> Designer  <span class="token operator">|</span>
+----+-------+-----------+
<span class="token number">3</span> rows <span class="token keyword">in</span> <span class="token builtin class-name">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> SELECT id, name, job_title FROM employees UNION SELECT id, name, job_title FROM contractors<span class="token punctuation">;</span>
+----+-------+-----------+
<span class="token operator">|</span> <span class="token function">id</span> <span class="token operator">|</span> name  <span class="token operator">|</span> job_title <span class="token operator">|</span>
+----+-------+-----------+
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> Alice <span class="token operator">|</span> Developer <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> Bob   <span class="token operator">|</span> Designer  <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> Frank <span class="token operator">|</span> Designer  <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> David <span class="token operator">|</span> Developer <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> Eve   <span class="token operator">|</span> Tester    <span class="token operator">|</span>
+----+-------+-----------+
<span class="token number">5</span> rows <span class="token keyword">in</span> <span class="token builtin class-name">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre> 
<p>从上面的执行结果可以发现，UNION操作符可以用于合并两个或更多SELECT语句的结果集，但会自动去除重复的行。</p> 
<p>如果希望包含所有行，即使有重复，可以使用UNION ALL：</p> 
<pre><code class="prism language-sql">mysql<span class="token operator">&gt;</span> <span class="token keyword">SELECT</span> id<span class="token punctuation">,</span> name<span class="token punctuation">,</span> job_title <span class="token keyword">FROM</span> employees <span class="token keyword">UNION</span> <span class="token keyword">ALL</span> <span class="token keyword">SELECT</span> id<span class="token punctuation">,</span> name<span class="token punctuation">,</span> job_title <span class="token keyword">FROM</span> contractors<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+-------+-----------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> name  <span class="token operator">|</span> job_title <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------+-----------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> Alice <span class="token operator">|</span> Developer <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> Bob   <span class="token operator">|</span> Designer  <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> Frank <span class="token operator">|</span> Designer  <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> David <span class="token operator">|</span> Developer <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> Eve   <span class="token operator">|</span> Tester    <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> Frank <span class="token operator">|</span> Designer  <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------+-----------+</span>
<span class="token number">6</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>
</code></pre> 
<h5><a id="Except_1395"></a>Except（差集）</h5> 
<pre><code class="prism language-sql">mysql<span class="token operator">&gt;</span> <span class="token keyword">SELECT</span> id<span class="token punctuation">,</span> name<span class="token punctuation">,</span> job_title <span class="token keyword">FROM</span> employees <span class="token keyword">except</span> <span class="token keyword">SELECT</span> id<span class="token punctuation">,</span> name<span class="token punctuation">,</span> job_title <span class="token keyword">FROM</span> contractors<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+-------+-----------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> name  <span class="token operator">|</span> job_title <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------+-----------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> Alice <span class="token operator">|</span> Developer <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> Bob   <span class="token operator">|</span> Designer  <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------+-----------+</span>
<span class="token number">2</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre> 
<h5><a id="Intersect_1406"></a>Intersect（交集）</h5> 
<pre><code class="prism language-sql">mysql<span class="token operator">&gt;</span> <span class="token keyword">SELECT</span> id<span class="token punctuation">,</span> name<span class="token punctuation">,</span> job_title <span class="token keyword">FROM</span> employees <span class="token keyword">intersect</span> <span class="token keyword">SELECT</span> id<span class="token punctuation">,</span> name<span class="token punctuation">,</span> job_title <span class="token keyword">FROM</span> contractors<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+-------+-----------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> name  <span class="token operator">|</span> job_title <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------+-----------+</span>
<span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> Frank <span class="token operator">|</span> Designer  <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------+-----------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre> 
<h4><a id="_1417"></a>连接查询</h4> 
<p><a href="https://blog.csdn.net/laodanqiu/article/details/131233741">【MySQL高级】MySQL表的七种连接方式【附带练习sql】</a></p> 
<h3><a id="_1419"></a>索引</h3> 
<p>准确地建立索引可以加快数据查询效率，详细的内容可以查看如下文章：</p> 
<ul><li><a href="https://blog.csdn.net/laodanqiu/article/details/131366020">【MySQL高级】MySQL索引基础介绍</a></li><li><a href="https://blog.csdn.net/laodanqiu/article/details/131414465">【MySQL高级】MySQL索引失效情况及避免方式【案例分析】</a></li></ul> 
<h3><a id="_1425"></a>视图</h3> 
<p>视图是一种虚拟的表，它并不在数据库中以存储的数据值形式存在，而是基于一个或多个已存在的表（基表）的SQL查询结果。当你查询视图时，实际上是在执行视图所包含的SQL语句，获取并返回结果集。</p> 
<p>视图的主要作用包括：</p> 
<ol><li><strong>简化复杂查询</strong>：如果有一组复杂的查询，你可以将其封装成视图，这样在需要时只需查询视图即可，无需每次都编写复杂的SQL语句。</li><li><strong>数据安全性</strong>：视图可以作为数据访问的过滤层，允许用户只看到他们应该看到的数据，隐藏敏感或不必要的信息。</li><li><strong>逻辑数据独立性</strong>：即使底层表的结构发生变化，只要视图的定义得到相应的更新，应用程序仍然可以通过视图访问数据，无需修改代码。</li><li><strong>数据重用</strong>：视图可以被多次使用，避免了重复编写相同的查询语句。</li></ol> 
<h4><a id="_1434"></a>例子</h4> 
<p>假设有两个表：</p> 
<ul><li>员工表 <code>employees(emp_id, first_name, last_name, dept_id)</code></li><li>部门表 <code>departments(dept_id, dept_name)</code></li></ul> 
<h5><a id="_1438"></a>创建视图</h5> 
<p>语法：</p> 
<pre><code class="prism language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">VIEW</span> EmployeeWithDepartment <span class="token keyword">AS</span> <span class="token keyword">SELECT</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre> 
<p>我们可以创建一个视图来展示每个员工的全名和所在部门的名字，而不直接暴露部门ID或其他可能不相关的字段：</p> 
<pre><code class="prism language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">VIEW</span> EmployeeWithDepartment <span class="token keyword">AS</span>
<span class="token keyword">SELECT</span> e<span class="token punctuation">.</span>first_name<span class="token punctuation">,</span> e<span class="token punctuation">.</span>last_name<span class="token punctuation">,</span> d<span class="token punctuation">.</span>dept_name
<span class="token keyword">FROM</span> employees e
<span class="token keyword">JOIN</span> departments d <span class="token keyword">ON</span> e<span class="token punctuation">.</span>dept_id <span class="token operator">=</span> d<span class="token punctuation">.</span>dept_id<span class="token punctuation">;</span>
</code></pre> 
<h5><a id="_1453"></a>查询视图</h5> 
<p>一旦视图创建完成，就可以像查询普通表一样查询这个视图：</p> 
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> EmployeeWithDepartment<span class="token punctuation">;</span>
</code></pre> 
<h5><a id="_1463"></a>更新视图</h5> 
<p>还可以通过视图来更新基表的数据，但这要求视图的定义满足一定的条件，如下视图不能更新</p> 
<ul><li> <p><strong>包含聚合函数的视图</strong>：如果视图的定义中使用了聚合函数，如 <code>SUM()</code>, <code>AVG()</code>, <code>MAX()</code>, <code>MIN()</code> 或 <code>COUNT()</code>，那么这样的视图通常不能更新，因为聚合操作意味着数据已经被汇总或计算，更新单个记录没有意义。</p> </li><li> <p><strong>包含 <code>DISTINCT</code> 关键字的视图</strong>：如果视图使用了 <code>DISTINCT</code> 来消除重复行，那么这样的视图也不能更新。</p> </li><li> <p><strong>包含 <code>GROUP BY</code> 子句的视图</strong>：使用了 <code>GROUP BY</code> 进行分组的视图同样不能更新，因为分组后的每一行代表了一组数据的汇总信息。</p> </li><li> <p><strong>包含 <code>HAVING</code> 子句的视图</strong>：<code>HAVING</code> 子句用于筛选 <code>GROUP BY</code> 后的结果集，因此也会影响视图的可更新性。</p> </li><li> <p><strong>包含 <code>UNION</code> 或 <code>UNION ALL</code> 的视图</strong>：使用了 <code>UNION</code> 或 <code>UNION ALL</code> 操作的视图不能更新，因为它们结合了多个查询的结果，这使得更新操作变得复杂。</p> </li><li> <p><strong>包含子查询的视图</strong>：如果视图的定义中包含子查询，特别是当子查询涉及到 <code>FROM</code> 子句中的表时，这样的视图通常也是不可更新的。</p> </li><li> <p><strong>包含表达式或常量字段的视图</strong>：如果视图的字段是由表达式或常量生成的，那么这样的视图也不能更新。</p> </li><li> <p><strong>包含函数调用的视图</strong>：如果视图的字段依赖于数据库函数，那么这种视图不能更新。</p> </li><li> <p><strong>包含 <code>JOIN</code> 的视图</strong>：如果视图基于多个表的联接，那么更新可能会影响到多个基表，这可能导致复杂的事务处理，因此这样的视图通常也不允许更新。</p> </li><li> <p><strong>嵌套视图</strong>：如果视图是从另一个不可更新的视图中派生出来的，那么这个视图本身也是不可更新的。</p> </li></ul> 
<p>为了确保视图能够被更新，其定义必须简单，通常只包含简单的 <code>SELECT</code> 语句，从单一表中选择特定的列，且不包含上述任何复杂元素。如果视图需要被更新，那么在创建视图时，应该考虑其定义，确保它符合可更新视图的要求。此外，即使视图定义允许更新，也需要检查基表的约束和事务一致性，以保证数据的完整性。</p> 
<p>例如，如果你想通过视图更新某个员工的部门，可以这样做：</p> 
<pre><code class="prism language-sql"><span class="token keyword">UPDATE</span> EmployeeWithDepartment <span class="token keyword">SET</span> dept_name <span class="token operator">=</span> <span class="token string">'New Department'</span> <span class="token keyword">WHERE</span> first_name <span class="token operator">=</span> <span class="token string">'John'</span><span class="token punctuation">;</span>
</code></pre> 
<p>如上述更新语句违反了视图的定义规则，就不会执行成功。正确的做法通常是直接更新底层的<code>employees</code>表或者设计视图时考虑到更新的需求。</p> 
<h3><a id="_1498"></a>数据加密</h3> 
<p>【建表sql】</p> 
<pre><code class="prism language-sql"><span class="token keyword">DROP</span> <span class="token keyword">TABLE</span>
<span class="token keyword">IF</span>
        <span class="token keyword">EXISTS</span> <span class="token identifier"><span class="token punctuation">`</span>user<span class="token punctuation">`</span></span><span class="token punctuation">;</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token identifier"><span class="token punctuation">`</span>user<span class="token punctuation">`</span></span> <span class="token punctuation">(</span>
        <span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span> <span class="token keyword">BIGINT</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">auto_increment</span> <span class="token keyword">COMMENT</span> <span class="token string">'主键'</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
        <span class="token identifier"><span class="token punctuation">`</span>create_time<span class="token punctuation">`</span></span> <span class="token keyword">datetime</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CURRENT_TIMESTAMP</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'创建时间'</span><span class="token punctuation">,</span>
        <span class="token identifier"><span class="token punctuation">`</span>update_time<span class="token punctuation">`</span></span> <span class="token keyword">datetime</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CURRENT_TIMESTAMP</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">ON</span> <span class="token keyword">UPDATE</span> <span class="token keyword">CURRENT_TIMESTAMP</span> <span class="token keyword">COMMENT</span> <span class="token string">'更新时间'</span><span class="token punctuation">,</span>
        <span class="token identifier"><span class="token punctuation">`</span>is_deleted<span class="token punctuation">`</span></span> <span class="token keyword">TINYINT</span> <span class="token keyword">DEFAULT</span> <span class="token number">0</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'是否删除 0：未删除 1：已删除'</span><span class="token punctuation">,</span>
        <span class="token identifier"><span class="token punctuation">`</span>username<span class="token punctuation">`</span></span> <span class="token keyword">VARCHAR</span> <span class="token punctuation">(</span> <span class="token number">50</span> <span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'用户名'</span><span class="token punctuation">,</span>
        <span class="token identifier"><span class="token punctuation">`</span>password<span class="token punctuation">`</span></span> <span class="token keyword">VARCHAR</span> <span class="token punctuation">(</span> <span class="token number">255</span> <span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'密码'</span><span class="token punctuation">,</span>
        <span class="token identifier"><span class="token punctuation">`</span>gender<span class="token punctuation">`</span></span> <span class="token keyword">TINYINT</span> <span class="token keyword">DEFAULT</span> <span class="token number">0</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'性别 0：男 1：女'</span><span class="token punctuation">,</span>
        <span class="token identifier"><span class="token punctuation">`</span>age<span class="token punctuation">`</span></span> <span class="token keyword">INT</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'年龄'</span>
<span class="token punctuation">)</span> <span class="token keyword">COMMENT</span> <span class="token string">'用户表'</span><span class="token punctuation">;</span>

<span class="token comment">-- 插入数据</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">insert</span> <span class="token keyword">into</span> <span class="token keyword">user</span><span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>username<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>password<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>gender<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>age<span class="token punctuation">`</span></span><span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'admin'</span><span class="token punctuation">,</span><span class="token string">'123456'</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">,</span><span class="token string">'123456'</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">28</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">'word'</span><span class="token punctuation">,</span><span class="token string">'123456'</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">17</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">3</span> <span class="token keyword">rows</span> affected <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>
Records: <span class="token number">3</span>  Duplicates: <span class="token number">0</span>  <span class="token keyword">Warnings</span>: <span class="token number">0</span>
</code></pre> 
<p>【密码MD5加密操作】</p> 
<pre><code class="prism language-sql">mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token keyword">user</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+---------------------+---------------------+------------+----------+----------+--------+------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> create_time         <span class="token operator">|</span> update_time         <span class="token operator">|</span> is_deleted <span class="token operator">|</span> username <span class="token operator">|</span> password <span class="token operator">|</span> gender <span class="token operator">|</span> age  <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+---------------------+---------------------+------------+----------+----------+--------+------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">05</span> <span class="token number">10</span>:<span class="token number">16</span>:<span class="token number">16</span> <span class="token operator">|</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">05</span> <span class="token number">10</span>:<span class="token number">16</span>:<span class="token number">16</span> <span class="token operator">|</span>          <span class="token number">0</span> <span class="token operator">|</span> admin    <span class="token operator">|</span> <span class="token number">123456</span>   <span class="token operator">|</span>      <span class="token number">0</span> <span class="token operator">|</span>   <span class="token number">18</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">05</span> <span class="token number">10</span>:<span class="token number">16</span>:<span class="token number">16</span> <span class="token operator">|</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">05</span> <span class="token number">10</span>:<span class="token number">16</span>:<span class="token number">16</span> <span class="token operator">|</span>          <span class="token number">0</span> <span class="token operator">|</span> hello    <span class="token operator">|</span> <span class="token number">123456</span>   <span class="token operator">|</span>      <span class="token number">0</span> <span class="token operator">|</span>   <span class="token number">28</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">05</span> <span class="token number">10</span>:<span class="token number">16</span>:<span class="token number">16</span> <span class="token operator">|</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">05</span> <span class="token number">10</span>:<span class="token number">16</span>:<span class="token number">16</span> <span class="token operator">|</span>          <span class="token number">0</span> <span class="token operator">|</span> word     <span class="token operator">|</span> <span class="token number">123456</span>   <span class="token operator">|</span>      <span class="token number">1</span> <span class="token operator">|</span>   <span class="token number">17</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+---------------------+---------------------+------------+----------+----------+--------+------+</span>
<span class="token number">3</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

<span class="token comment">-- 加密id=1的数据的密码</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">update</span> <span class="token keyword">user</span> <span class="token keyword">set</span> password<span class="token operator">=</span>MD5<span class="token punctuation">(</span>password<span class="token punctuation">)</span> <span class="token keyword">where</span> id<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">1</span> <span class="token keyword">row</span> affected <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>
<span class="token keyword">Rows</span> <span class="token keyword">matched</span>: <span class="token number">1</span>  Changed: <span class="token number">1</span>  <span class="token keyword">Warnings</span>: <span class="token number">0</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token keyword">user</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+---------------------+---------------------+------------+----------+----------------------------------+--------+------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> create_time         <span class="token operator">|</span> update_time         <span class="token operator">|</span> is_deleted <span class="token operator">|</span> username <span class="token operator">|</span> password                         <span class="token operator">|</span> gender <span class="token operator">|</span> age  <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+---------------------+---------------------+------------+----------+----------------------------------+--------+------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">05</span> <span class="token number">10</span>:<span class="token number">16</span>:<span class="token number">16</span> <span class="token operator">|</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">05</span> <span class="token number">10</span>:<span class="token number">18</span>:<span class="token number">38</span> <span class="token operator">|</span>          <span class="token number">0</span> <span class="token operator">|</span> admin    <span class="token operator">|</span> e10adc3949ba59abbe56e057f20f883e <span class="token operator">|</span>      <span class="token number">0</span> <span class="token operator">|</span>   <span class="token number">18</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">05</span> <span class="token number">10</span>:<span class="token number">16</span>:<span class="token number">16</span> <span class="token operator">|</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">05</span> <span class="token number">10</span>:<span class="token number">16</span>:<span class="token number">16</span> <span class="token operator">|</span>          <span class="token number">0</span> <span class="token operator">|</span> hello    <span class="token operator">|</span> <span class="token number">123456</span>                           <span class="token operator">|</span>      <span class="token number">0</span> <span class="token operator">|</span>   <span class="token number">28</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">05</span> <span class="token number">10</span>:<span class="token number">16</span>:<span class="token number">16</span> <span class="token operator">|</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">05</span> <span class="token number">10</span>:<span class="token number">16</span>:<span class="token number">16</span> <span class="token operator">|</span>          <span class="token number">0</span> <span class="token operator">|</span> word     <span class="token operator">|</span> <span class="token number">123456</span>                           <span class="token operator">|</span>      <span class="token number">1</span> <span class="token operator">|</span>   <span class="token number">17</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+---------------------+---------------------+------------+----------+----------------------------------+--------+------+</span>
<span class="token number">3</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

<span class="token comment">-- 加密所有数据的密码</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">update</span> <span class="token keyword">user</span> <span class="token keyword">set</span> password<span class="token operator">=</span>MD5<span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">3</span> <span class="token keyword">rows</span> affected <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>
<span class="token keyword">Rows</span> <span class="token keyword">matched</span>: <span class="token number">3</span>  Changed: <span class="token number">3</span>  <span class="token keyword">Warnings</span>: <span class="token number">0</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token keyword">user</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+---------------------+---------------------+------------+----------+----------------------------------+--------+------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> create_time         <span class="token operator">|</span> update_time         <span class="token operator">|</span> is_deleted <span class="token operator">|</span> username <span class="token operator">|</span> password                         <span class="token operator">|</span> gender <span class="token operator">|</span> age  <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+---------------------+---------------------+------------+----------+----------------------------------+--------+------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">05</span> <span class="token number">10</span>:<span class="token number">16</span>:<span class="token number">16</span> <span class="token operator">|</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">05</span> <span class="token number">10</span>:<span class="token number">19</span>:<span class="token number">01</span> <span class="token operator">|</span>          <span class="token number">0</span> <span class="token operator">|</span> admin    <span class="token operator">|</span> <span class="token number">14</span>e1b600b1fd579f47433b88e8d85291 <span class="token operator">|</span>      <span class="token number">0</span> <span class="token operator">|</span>   <span class="token number">18</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">05</span> <span class="token number">10</span>:<span class="token number">16</span>:<span class="token number">16</span> <span class="token operator">|</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">05</span> <span class="token number">10</span>:<span class="token number">19</span>:<span class="token number">01</span> <span class="token operator">|</span>          <span class="token number">0</span> <span class="token operator">|</span> hello    <span class="token operator">|</span> e10adc3949ba59abbe56e057f20f883e <span class="token operator">|</span>      <span class="token number">0</span> <span class="token operator">|</span>   <span class="token number">28</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">05</span> <span class="token number">10</span>:<span class="token number">16</span>:<span class="token number">16</span> <span class="token operator">|</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">05</span> <span class="token number">10</span>:<span class="token number">19</span>:<span class="token number">01</span> <span class="token operator">|</span>          <span class="token number">0</span> <span class="token operator">|</span> word     <span class="token operator">|</span> e10adc3949ba59abbe56e057f20f883e <span class="token operator">|</span>      <span class="token number">1</span> <span class="token operator">|</span>   <span class="token number">17</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+---------------------+---------------------+------------+----------+----------------------------------+--------+------+</span>
<span class="token number">3</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

<span class="token comment">-- 插入数据的时候就执行加密</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">insert</span> <span class="token keyword">into</span> <span class="token keyword">user</span><span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>username<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>password<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>gender<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>age<span class="token punctuation">`</span></span><span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'md5'</span><span class="token punctuation">,</span>MD5<span class="token punctuation">(</span><span class="token string">'123456'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">1</span> <span class="token keyword">row</span> affected <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token keyword">user</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+---------------------+---------------------+------------+----------+----------------------------------+--------+------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> create_time         <span class="token operator">|</span> update_time         <span class="token operator">|</span> is_deleted <span class="token operator">|</span> username <span class="token operator">|</span> password                         <span class="token operator">|</span> gender <span class="token operator">|</span> age  <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+---------------------+---------------------+------------+----------+----------------------------------+--------+------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">05</span> <span class="token number">10</span>:<span class="token number">16</span>:<span class="token number">16</span> <span class="token operator">|</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">05</span> <span class="token number">10</span>:<span class="token number">19</span>:<span class="token number">01</span> <span class="token operator">|</span>          <span class="token number">0</span> <span class="token operator">|</span> admin    <span class="token operator">|</span> <span class="token number">14</span>e1b600b1fd579f47433b88e8d85291 <span class="token operator">|</span>      <span class="token number">0</span> <span class="token operator">|</span>   <span class="token number">18</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">05</span> <span class="token number">10</span>:<span class="token number">16</span>:<span class="token number">16</span> <span class="token operator">|</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">05</span> <span class="token number">10</span>:<span class="token number">19</span>:<span class="token number">01</span> <span class="token operator">|</span>          <span class="token number">0</span> <span class="token operator">|</span> hello    <span class="token operator">|</span> e10adc3949ba59abbe56e057f20f883e <span class="token operator">|</span>      <span class="token number">0</span> <span class="token operator">|</span>   <span class="token number">28</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">05</span> <span class="token number">10</span>:<span class="token number">16</span>:<span class="token number">16</span> <span class="token operator">|</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">05</span> <span class="token number">10</span>:<span class="token number">19</span>:<span class="token number">01</span> <span class="token operator">|</span>          <span class="token number">0</span> <span class="token operator">|</span> word     <span class="token operator">|</span> e10adc3949ba59abbe56e057f20f883e <span class="token operator">|</span>      <span class="token number">1</span> <span class="token operator">|</span>   <span class="token number">17</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">4</span> <span class="token operator">|</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">05</span> <span class="token number">10</span>:<span class="token number">19</span>:<span class="token number">46</span> <span class="token operator">|</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">05</span> <span class="token number">10</span>:<span class="token number">19</span>:<span class="token number">46</span> <span class="token operator">|</span>          <span class="token number">0</span> <span class="token operator">|</span> md5      <span class="token operator">|</span> e10adc3949ba59abbe56e057f20f883e <span class="token operator">|</span>      <span class="token number">0</span> <span class="token operator">|</span>   <span class="token number">18</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+---------------------+---------------------+------------+----------+----------------------------------+--------+------+</span>
<span class="token number">4</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre> 
<p>在存储密码这种数据时，一定要进行加密，直接使用<code>MD5加密</code>也还是不安全的，可以被暴力破解，可以使用更加安全的<code>盐值加密</code></p> 
<h2><a id="sourcesqlsql_1584"></a>source命令执行<code>.sql</code>文件的sql语句</h2> 
<h3><a id="_1585"></a>使用命令行的原因</h3> 
<p>  有小伙伴说，干嘛要命令行导入sql文件，直接用navicat导入sql它不香吗，那确实是，直到小编导入一个很大的sql文件时，总会出现数据丢失，俺也不知道为啥，要是有小伙伴知道可以科普一下。</p> 
<h3><a id="_1587"></a>命令行使用流程</h3> 
<h4><a id="1mysql_1588"></a>1、启动mysql</h4> 
<pre><code class="prism language-sql">net <span class="token keyword">start</span> mysql
</code></pre> 
<h4><a id="2mysql_1592"></a>2、连接mysql</h4> 
<pre><code class="prism language-sql">mysql <span class="token operator">-</span>u root <span class="token operator">-</span>p12345678
</code></pre> 
<p>  12345678这么复杂的一串数字，不用猜，那肯定是我的mysql密码了</p> 
<h4><a id="3_1597"></a>3、看一下有啥数据库</h4> 
<pre><code class="prism language-sql"><span class="token keyword">show</span> <span class="token keyword">databases</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="4sql_1601"></a>4、要sql文件导入到那个数据库，就使用哪个</h4> 
<pre><code class="prism language-sql"><span class="token keyword">use</span> databaseName<span class="token punctuation">;</span>
</code></pre> 
<p>  databaseName是小伙伴要使用的数据库名称</p> 
<h4><a id="5sql_1606"></a>5、导入sql文件</h4> 
<pre><code class="prism language-sql">source d:<span class="token operator">/</span>Desktop<span class="token operator">/</span>database1<span class="token punctuation">.</span><span class="token keyword">sql</span><span class="token punctuation">;</span>
</code></pre> 
<p>  sql文件的路径一定要输入正确，注意斜杆的方向</p> 
<h4><a id="6_1611"></a>6、看我完整操作一遍</h4> 
<p><img src="https://images2.imgbox.com/dd/28/VyIxDOAC_o.png" alt="在这里插入图片描述"><br> 最后回车，接下来就会嗖嗖嗖执行sql语句，大功告成！</p> 
<h3><a id="DockerMySQLSource_1614"></a>Docker安装的MySQL容器如何使用Source</h3> 
<p>如果MySQL是通过Docker安装的话，直接使用source命令是会报错的，操作过程如下：</p> 
<p>进入容器控制台</p> 
<pre><code class="prism language-bash"><span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> <span class="token punctuation">[</span>容器名<span class="token punctuation">]</span> <span class="token function">bash</span>
</code></pre> 
<p>连接数据库</p> 
<pre><code class="prism language-bash">mysql <span class="token parameter variable">-u</span> root -p<span class="token punctuation">[</span>Mysql密码<span class="token punctuation">]</span>
</code></pre> 
<p>使用指定的数据库</p> 
<pre><code class="prism language-bash">use <span class="token punctuation">[</span>数据库名称<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> 
<p>看我操作一遍：</p> 
<p><img src="https://images2.imgbox.com/48/58/e2QJPDEv_o.png" alt="在这里插入图片描述"><br> 为什么会报错呢？原因是容器里面并没有这个文件，这个文件是在主机上面的。因为需要先将主机上面的文件拷贝到容器里面</p> 
<pre><code class="prism language-bash"><span class="token function">docker</span> <span class="token function">cp</span> <span class="token punctuation">[</span>主机的对应文件地址<span class="token punctuation">]</span> <span class="token punctuation">[</span>容器名<span class="token punctuation">]</span>:/var/local
</code></pre> 
<p><img src="https://images2.imgbox.com/00/b3/aR8ymJry_o.png" alt="在这里插入图片描述"><br> 拷贝成功之后，再执行source命令即可，注意路径要改成容器下的路径</p> 
<p><img src="https://images2.imgbox.com/3c/10/z2CD3oLE_o.png" alt="在这里插入图片描述"><br> 成了</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/9ef5408780739b0482d43c7fce124200/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">模板初阶（详解）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/dffe689f7771bb6798406094e58dab3d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【C&#43;&#43;高阶】：特殊类设计和四种类型转换</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>