<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Langchain--å¦‚ä½•ä½¿ç”¨å¤§æ¨¡å‹ 2.0 - ç¼–ç¨‹å¤§å’–</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/8c1eaafbef563841b786056d6e1d79d4/">
  <meta property="og:site_name" content="ç¼–ç¨‹å¤§å’–">
  <meta property="og:title" content="Langchain--å¦‚ä½•ä½¿ç”¨å¤§æ¨¡å‹ 2.0">
  <meta property="og:description" content="ã€ğŸŠæ˜“ç¼–æ©™Â·ç»ˆèº«æˆé•¿ç¤¾ç¾¤ğŸŠã€‘
å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯å°æ£®( ï¹¡Ë†oË†ï¹¡ ) ï¼ æ˜“ç¼–æ©™Â·ç»ˆèº«æˆé•¿ç¤¾ç¾¤åˆ›å§‹å›¢é˜Ÿå˜‰å®¾ï¼Œæ©™ä¼¼é”¦è®¡åˆ’é¢†è¡”æˆå‘˜ã€é˜¿é‡Œäº‘ä¸“å®¶åšä¸»ã€è…¾è®¯äº‘å†…å®¹å…±åˆ›å®˜ã€CSDNäººå·¥æ™ºèƒ½é¢†åŸŸä¼˜è´¨åˆ›ä½œè€… ã€‚Â Langchainä½¿ç”¨å¤§æ¨¡å‹Â æˆ‘ä»¬é™¤äº†å¯ä»¥ä½¿ç”¨Langchainè¿›è¡Œæ¨¡å‹å¯¹è¯ã€æç¤ºè¯åˆ›ä½œã€åµŒå…¥æ¨¡å‹ï¼Œè¿˜å¯ä»¥ä½¿ç”¨å…¶ä»–çš„ç»„ä»¶å¯¹å¤§æ¨¡å‹å°è£…ä½¿ç”¨ï¼Œæ‰“é€ æˆ‘ä»¬è‡ªå·±çš„å¤§æ¨¡å‹ã€‚
Agents é¦–å…ˆï¼Œæˆ‘ä»¬æ¥è°ˆè°ˆAgentsã€‚åœ¨Langchainï¼ŒAgentsæ˜¯æ‰§è¡Œç‰¹å®šä»»åŠ¡æˆ–åŠŸèƒ½çš„æ™ºèƒ½å®ä½“ã€‚å®ƒä»¬å¯ä»¥è¢«çœ‹ä½œæ˜¯è‡ªåŠ¨åŒ–çš„å°åŠ©æ‰‹ï¼Œèƒ½å¤Ÿæ ¹æ®é¢„è®¾çš„è§„åˆ™å’Œé€»è¾‘ï¼Œåœ¨Langchainç”Ÿæ€ç³»ç»Ÿä¸­è‡ªä¸»åœ°æ‰§è¡Œæ“ä½œã€‚æ¯”å¦‚ï¼Œæœ‰çš„Agentè´Ÿè´£ç›‘æ§åŒºå—é“¾ä¸Šçš„äº¤æ˜“æ´»åŠ¨ï¼Œæœ‰çš„åˆ™è´Ÿè´£å¤„ç†è¯­è¨€ä»»åŠ¡ï¼Œå¦‚æ–‡æœ¬ç”Ÿæˆã€ç¿»è¯‘æˆ–æƒ…æ„Ÿåˆ†æç­‰ã€‚è¿™äº›Agentçš„å­˜åœ¨ï¼Œæå¤§åœ°æé«˜äº†Langchainç³»ç»Ÿçš„è‡ªåŠ¨åŒ–ç¨‹åº¦å’Œæ•ˆç‡ã€‚
AIå¤§æ¨¡å‹è™½ç„¶å¾ˆå¼ºå¤§ï¼Œä½†æ˜¯è¿˜æœ‰ä¸€äº›å±€é™æ€§ï¼Œæ¯”å¦‚ï¼š
æ•°æ®ä¸åŠæ—¶ï¼šChatGPTæ•°æ®æ›´æ–°åˆ°2022å¹´åº•ï¼Œä¹Ÿå°±æ˜¯è¯´ä»Šå¹´çš„æ–°é—»å®ƒæ˜¯ä¸çŸ¥é“çš„ã€‚å¤„ç†å¤æ‚ä»»åŠ¡ï¼šå¤§æ¨¡å‹è™½ç„¶åœ¨é—®ç­”æ–¹é¢å¾ˆå‡ºè‰²ï¼Œä½†æ˜¯ä¸èƒ½ç›´æ¥å¤„ç†å¤æ‚ä»»åŠ¡ã€‚å¤§æ¨¡å‹çš„æ ¸å¿ƒèƒ½åŠ›æ˜¯ç†è§£æ„å›¾å’Œæ–‡æœ¬ç”Ÿæˆã€‚ æˆ‘ä»¬åœ¨ä½¿ç”¨Langchainçš„æ—¶å€™ï¼Œå¯ä»¥é€šè¿‡pycharmçš„æŸä¸ªå‡½æ•°ï¼ŒCtrl &#43; b æŸ¥çœ‹æä¾›çš„å‚æ•°ï¼Œä¹Ÿå¯ä»¥å»Langchainå®˜ç½‘æŸ¥çœ‹æä¾›çš„å„ç§APIï¼Œå¦‚æˆ‘ä»¬ä¹‹å‰ä½¿ç”¨çš„baiduqianfanï¼š
å¯ä»¥çœ‹åˆ°LLMsæ˜¯æˆ‘ä»¬çš„LLMsæ¨¡å—ï¼ŒBaiduQianfanæ˜¯å…¶ä¸­çš„åº“ã€‚
å…¶ä¸­ï¼šERNIE-Bot-turboæ˜¯é»˜è®¤çš„æ¨¡å‹ï¼ˆæ–‡å¿ƒä¸€è¨€Â ï¼‰ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å…¶ä»–çš„æ¨¡å‹ï¼Œæ¯”å¦‚ï¼šQianfan-Chinese-Llama-2-7Bï¼Œæ˜¯é€šè¿‡Llamaå¾®è°ƒçš„ä¸­æ–‡å¤§æ¨¡å‹ã€‚
æˆ‘ä»¬å…ˆå‡è®¾ï¼Œæƒ³è¦æŸ¥è¯¢å±±ä¸œçœ2023å¹´é«˜è€ƒäººæ•°æœ‰å¤šå°‘ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¤šä¸ªä»£ç†å·¥å…·ï¼Œè®©Agentsé€‰æ‹©æ‰§è¡Œã€‚
pip install duckduckgo-search é›†æˆDuckDuckGoæœç´¢å¼•æ“çš„åŠŸèƒ½ï¼Œå¯ä»¥å»æµè§ˆå™¨æœç´¢å¹¶é›†æˆä¿¡æ¯ã€‚ import os from langchain_community.chat_models import QianfanChatEndpoint from langchain.agents import load_tools from langchain.agents import initialize_agent from langchain.agents import AgentType os.environ[&#39;QIANFAN_AK&#39;] = &#34;******&#34; os.environ[&#39;QIANFAN_SK&#39;] = &#34;******&#34; llm = QianfanChatEndpoint(model=&#39;Chinese-Llama-2-7B&#39;) tools = load_tools([&#34;ddg-search&#34;, &#34;llm-math&#34;], llm=llm) agent = initialize_agent(tools, llm, agent=AgentType.ZERO_SHOT_REACT_DESCRIPTION, verbose=True) # verbose=Trueå‚æ•°æ˜¯åœ¨æ‰§è¡Œä»»åŠ¡æ—¶æ‰“å°æ›´å¤šçš„è°ƒè¯•ä¿¡æ¯ã€‚ print(&#39;agent&#39;, agent) from langchain import PromptTemplate prompt_template = &#34;">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-07-29T21:54:40+08:00">
    <meta property="article:modified_time" content="2024-07-29T21:54:40+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ç¼–ç¨‹å¤§å’–" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ç¼–ç¨‹å¤§å’–</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Langchain--å¦‚ä½•ä½¿ç”¨å¤§æ¨¡å‹ 2.0</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/bd/bf/obPz2V1h_o.png"></p> 
<hr> 
<blockquote> 
 <p><a class="link-info" href="https://blog.csdn.net/qq_64685283/article/details/140300140?spm=1001.2014.3001.5501" title="ã€ğŸŠæ˜“ç¼–æ©™Â·ç»ˆèº«æˆé•¿ç¤¾ç¾¤ğŸŠã€‘">ã€ğŸŠæ˜“ç¼–æ©™Â·ç»ˆèº«æˆé•¿ç¤¾ç¾¤ğŸŠã€‘</a></p> 
 <p><strong>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯å°æ£®( ï¹¡Ë†oË†ï¹¡ ) ï¼ æ˜“ç¼–æ©™Â·ç»ˆèº«æˆé•¿ç¤¾ç¾¤åˆ›å§‹å›¢é˜Ÿå˜‰å®¾ï¼Œæ©™ä¼¼é”¦è®¡åˆ’é¢†è¡”æˆå‘˜ã€é˜¿é‡Œäº‘ä¸“å®¶åšä¸»ã€è…¾è®¯äº‘å†…å®¹å…±åˆ›å®˜ã€CSDNäººå·¥æ™ºèƒ½é¢†åŸŸä¼˜è´¨åˆ›ä½œè€… ã€‚</strong>Â Â </p> 
</blockquote> 
<p><a class="link-info" href="https://blog.csdn.net/qq_64685283/article/details/140747382?spm=1001.2014.3001.5501" title="Langchainä½¿ç”¨å¤§æ¨¡å‹">Langchainä½¿ç”¨å¤§æ¨¡å‹</a>Â </p> 
<p><span style="background-color:#ffd900;">æˆ‘ä»¬é™¤äº†å¯ä»¥ä½¿ç”¨Langchainè¿›è¡Œæ¨¡å‹å¯¹è¯ã€æç¤ºè¯åˆ›ä½œã€åµŒå…¥æ¨¡å‹ï¼Œè¿˜å¯ä»¥ä½¿ç”¨å…¶ä»–çš„ç»„ä»¶å¯¹å¤§æ¨¡å‹å°è£…ä½¿ç”¨ï¼Œæ‰“é€ æˆ‘ä»¬è‡ªå·±çš„å¤§æ¨¡å‹ã€‚</span></p> 
<h4 id="24-agents">Agents</h4> 
<p>é¦–å…ˆï¼Œæˆ‘ä»¬æ¥è°ˆè°ˆAgentsã€‚åœ¨Langchainï¼ŒAgentsæ˜¯æ‰§è¡Œç‰¹å®šä»»åŠ¡æˆ–åŠŸèƒ½çš„æ™ºèƒ½å®ä½“ã€‚å®ƒä»¬å¯ä»¥è¢«çœ‹ä½œæ˜¯è‡ªåŠ¨åŒ–çš„å°åŠ©æ‰‹ï¼Œèƒ½å¤Ÿæ ¹æ®é¢„è®¾çš„è§„åˆ™å’Œé€»è¾‘ï¼Œåœ¨Langchainç”Ÿæ€ç³»ç»Ÿä¸­è‡ªä¸»åœ°æ‰§è¡Œæ“ä½œã€‚æ¯”å¦‚ï¼Œæœ‰çš„Agentè´Ÿè´£ç›‘æ§åŒºå—é“¾ä¸Šçš„äº¤æ˜“æ´»åŠ¨ï¼Œæœ‰çš„åˆ™è´Ÿè´£å¤„ç†è¯­è¨€ä»»åŠ¡ï¼Œå¦‚æ–‡æœ¬ç”Ÿæˆã€ç¿»è¯‘æˆ–æƒ…æ„Ÿåˆ†æç­‰ã€‚è¿™äº›Agentçš„å­˜åœ¨ï¼Œæå¤§åœ°æé«˜äº†Langchainç³»ç»Ÿçš„è‡ªåŠ¨åŒ–ç¨‹åº¦å’Œæ•ˆç‡ã€‚</p> 
<blockquote> 
 <p><span style="background-color:#ffd900;">AIå¤§æ¨¡å‹è™½ç„¶å¾ˆå¼ºå¤§ï¼Œä½†æ˜¯è¿˜æœ‰ä¸€äº›å±€é™æ€§ï¼Œæ¯”å¦‚ï¼š</span></p> 
 <ul><li><strong>æ•°æ®ä¸åŠæ—¶</strong>ï¼šChatGPTæ•°æ®æ›´æ–°åˆ°2022å¹´åº•ï¼Œä¹Ÿå°±æ˜¯è¯´ä»Šå¹´çš„æ–°é—»å®ƒæ˜¯ä¸çŸ¥é“çš„ã€‚</li><li><strong>å¤„ç†å¤æ‚ä»»åŠ¡</strong>ï¼šå¤§æ¨¡å‹è™½ç„¶åœ¨é—®ç­”æ–¹é¢å¾ˆå‡ºè‰²ï¼Œä½†æ˜¯ä¸èƒ½<strong>ç›´æ¥</strong>å¤„ç†å¤æ‚ä»»åŠ¡ã€‚</li><li>å¤§æ¨¡å‹çš„æ ¸å¿ƒèƒ½åŠ›æ˜¯ç†è§£æ„å›¾å’Œæ–‡æœ¬ç”Ÿæˆã€‚</li></ul> 
</blockquote> 
<p>æˆ‘ä»¬åœ¨ä½¿ç”¨Langchainçš„æ—¶å€™ï¼Œå¯ä»¥é€šè¿‡pycharmçš„æŸä¸ªå‡½æ•°ï¼ŒCtrl + b æŸ¥çœ‹æä¾›çš„å‚æ•°ï¼Œä¹Ÿå¯ä»¥å»Langchainå®˜ç½‘æŸ¥çœ‹æä¾›çš„å„ç§APIï¼Œå¦‚æˆ‘ä»¬ä¹‹å‰ä½¿ç”¨çš„baiduqianfanï¼š</p> 
<p><img alt="" src="https://images2.imgbox.com/d5/50/w5XQMliW_o.png">å¯ä»¥çœ‹åˆ°LLMsæ˜¯æˆ‘ä»¬çš„LLMsæ¨¡å—ï¼ŒBaiduQianfanæ˜¯å…¶ä¸­çš„åº“ã€‚</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/9c/34/DlwrGPeP_o.png">Â </p> 
<p><span style="background-color:#ffd900;">å…¶ä¸­ï¼šERNIE-Bot-turboæ˜¯é»˜è®¤çš„æ¨¡å‹ï¼ˆæ–‡å¿ƒä¸€è¨€Â ï¼‰ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å…¶ä»–çš„æ¨¡å‹ï¼Œæ¯”å¦‚ï¼šQianfan-Chinese-Llama-2-7Bï¼Œæ˜¯é€šè¿‡Llamaå¾®è°ƒçš„ä¸­æ–‡å¤§æ¨¡å‹ã€‚</span></p> 
<p>æˆ‘ä»¬å…ˆå‡è®¾ï¼Œæƒ³è¦æŸ¥è¯¢å±±ä¸œçœ2023å¹´é«˜è€ƒäººæ•°æœ‰å¤šå°‘ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¤šä¸ªä»£ç†å·¥å…·ï¼Œè®©Agentsé€‰æ‹©æ‰§è¡Œã€‚</p> 
<pre><code class="language-python">pip install duckduckgo-search</code></pre> 
<ul><li>é›†æˆDuckDuckGoæœç´¢å¼•æ“çš„åŠŸèƒ½ï¼Œå¯ä»¥å»æµè§ˆå™¨æœç´¢å¹¶é›†æˆä¿¡æ¯ã€‚</li></ul> 
<pre><code class="language-python">import os
from langchain_community.chat_models import QianfanChatEndpoint
from langchain.agents import load_tools
from langchain.agents import initialize_agent
from langchain.agents import AgentType

os.environ['QIANFAN_AK'] = "******"
os.environ['QIANFAN_SK'] = "******"

llm = QianfanChatEndpoint(model='Chinese-Llama-2-7B')

tools = load_tools(["ddg-search", "llm-math"], llm=llm)

agent = initialize_agent(tools, llm, agent=AgentType.ZERO_SHOT_REACT_DESCRIPTION, verbose=True)
# verbose=Trueå‚æ•°æ˜¯åœ¨æ‰§è¡Œä»»åŠ¡æ—¶æ‰“å°æ›´å¤šçš„è°ƒè¯•ä¿¡æ¯ã€‚
print('agent', agent)

from langchain import PromptTemplate
prompt_template = "å±±ä¸œçœ2023å¹´é«˜è€ƒäººæ•°æ˜¯å¤šå°‘"
prompt = PromptTemplate.from_template(prompt_template)
# åˆ›å»ºäº†ä¸€ä¸ªæç¤ºæ¨¡æ¿ï¼Œå¹¶å°†å…¶è½¬æ¢ä¸ºPromptTemplateå¯¹è±¡ã€‚
print('prompt--&gt;', prompt)


agent.run(prompt)</code></pre> 
<p>è¾“å‡ºï¼š</p> 
<pre><code class="language-python">agent verbose=True tags=['zero-shot-react-description'] agent=ZeroShotAgent(llm_chain=LLMChain(prompt=PromptTemplate(input_variables=['agent_scratchpad', 'input'], template='Answer the following questions as best you can. You have access to the following tools:\n\nduckduckgo_search - A wrapper around DuckDuckGo Search. Useful for when you need to answer questions about current events. Input should be a search query.\nCalculator(*args: Any, callbacks: Union[List[langchain_core.callbacks.base.BaseCallbackHandler], langchain_core.callbacks.base.BaseCallbackManager, NoneType] = None, tags: Optional[List[str]] = None, metadata: Optional[Dict[str, Any]] = None, **kwargs: Any) -&gt; Any - Useful for when you need to answer questions about math.\n\nUse the following format:\n\nQuestion: the input question you must answer\nThought: you should always think about what to do\nAction: the action to take, should be one of [duckduckgo_search, Calculator]\nAction Input: the input to the action\nObservation: the result of the action\n... (this Thought/Action/Action Input/Observation can repeat N times)\nThought: I now know the final answer\nFinal Answer: the final answer to the original input question\n\nBegin!\n\nQuestion: {input}\nThought:{agent_scratchpad}'), llm=QianfanChatEndpoint(client=&lt;qianfan.resources.llm.chat_completion.ChatCompletion object at 0x0000019B86B203D0&gt;, qianfan_ak=SecretStr('**********'), qianfan_sk=SecretStr('**********'))), output_parser=MRKLOutputParser(), allowed_tools=['duckduckgo_search', 'Calculator']) tools=[DuckDuckGoSearchRun(), Tool(name='Calculator', description='Useful for when you need to answer questions about math.', func=&lt;bound method Chain.run of LLMMathChain(llm_chain=LLMChain(prompt=PromptTemplate(input_variables=['question'], template='Translate a math problem into a expression that can be executed using Python\'s numexpr library. Use the output of running this code to answer the question.\n\nQuestion: ${<!-- -->{Question with math problem.}}\n```text\n${<!-- -->{single line mathematical expression that solves the problem}}\n```\n...numexpr.evaluate(text)...\n```output\n${<!-- -->{Output of running the code}}\n```\nAnswer: ${<!-- -->{Answer}}\n\nBegin.\n\nQuestion: What is 37593 * 67?\n```text\n37593 * 67\n```\n...numexpr.evaluate("37593 * 67")...\n```output\n2518731\n```\nAnswer: 2518731\n\nQuestion: 37593^(1/5)\n```text\n37593**(1/5)\n```\n...numexpr.evaluate("37593**(1/5)")...\n```output\n8.222831614237718\n```\nAnswer: 8.222831614237718\n\nQuestion: {question}\n'), llm=QianfanChatEndpoint(client=&lt;qianfan.resources.llm.chat_completion.ChatCompletion object at 0x0000019B86B203D0&gt;, qianfan_ak=SecretStr('**********'), qianfan_sk=SecretStr('**********'))))&gt;, coroutine=&lt;bound method Chain.arun of LLMMathChain(llm_chain=LLMChain(prompt=PromptTemplate(input_variables=['question'], template='Translate a math problem into a expression that can be executed using Python\'s numexpr library. Use the output of running this code to answer the question.\n\nQuestion: ${<!-- -->{Question with math problem.}}\n```text\n${<!-- -->{single line mathematical expression that solves the problem}}\n```\n...numexpr.evaluate(text)...\n```output\n${<!-- -->{Output of running the code}}\n```\nAnswer: ${<!-- -->{Answer}}\n\nBegin.\n\nQuestion: What is 37593 * 67?\n```text\n37593 * 67\n```\n...numexpr.evaluate("37593 * 67")...\n```output\n2518731\n```\nAnswer: 2518731\n\nQuestion: 37593^(1/5)\n```text\n37593**(1/5)\n```\n...numexpr.evaluate("37593**(1/5)")...\n```output\n8.222831614237718\n```\nAnswer: 8.222831614237718\n\nQuestion: {question}\n'), llm=QianfanChatEndpoint(client=&lt;qianfan.resources.llm.chat_completion.ChatCompletion object at 0x0000019B86B203D0&gt;, qianfan_ak=SecretStr('**********'), qianfan_sk=SecretStr('**********'))))&gt;)]
prompt--&gt; input_variables=[] template='å±±ä¸œçœ2023å¹´é«˜è€ƒäººæ•°æ˜¯å¤šå°‘'


&gt; Entering new AgentExecutor chain...
[INFO][2024-07-29 21:08:22.357] oauth.py:228 [t:18880]: trying to refresh access_token for ak `CNzMCb***`
[INFO][2024-07-29 21:08:24.915] oauth.py:243 [t:18880]: sucessfully refresh access_token
Thought: è¿™ä¸ªé—®é¢˜çš„å…³é”®æ˜¯éœ€è¦æŸ¥æ‰¾â€œå±±ä¸œçœ2023å¹´é«˜è€ƒäººæ•°â€ã€‚

Action: duckduckgo_search
Action Input: æŸ¥è¯¢è¾“å…¥ä¸ºâ€œå±±ä¸œçœ2023å¹´é«˜è€ƒäººæ•°â€
Observation: ä¸€ã€å±±ä¸œé«˜è€ƒè€ƒç”Ÿäººæ•°2023. å±±ä¸œæ˜¯æˆ‘å›½çš„æ•™è‚²å¤§çœ ï¼Œé«˜è€ƒäººæ•°ä½åˆ—å‰èŒ…ï¼Œ 2023å¹´å±±ä¸œçœé«˜è€ƒæŠ¥åè€ƒç”Ÿ98ä¸‡äººï¼Œå…¶ä¸­æ˜¥å­£é«˜è€ƒ26ä¸‡äººï¼Œ æ˜¥å­£é«˜è€ƒ ä¸€èˆ¬åœ¨å±±ä¸œç­‰åœ°ä¼šä¸¾è¡Œæ˜¥å­£é«˜è€ƒã€‚ å¤å­£é«˜è€ƒ72ä¸‡äººï¼Œ è¿™æ˜¯å…¨å›½ç»å¤§å¤šæ•°åœ°åŒºæ‰€ä¸¾è¡Œçš„é«˜è€ƒå½¢å¼ã€‚ å‚åŠ å¤å­£é«˜è€ƒç»Ÿä¸€è€ƒè¯•è€ƒç”Ÿ67ä¸‡äººï¼Œæ¯”2022å¹´å¢åŠ 7ä¸‡äººã€‚ ä»Šå¤©å°±ç»™å¤§å®¶æ•´ç†äº†2023å¹´å±±ä¸œé«˜è€ƒ6é€‰3é€‰ç§‘æ•°æ®åˆ†æï¼Œå¸Œæœ›èƒ½å¸®åŠ©å¹¿å¤§è€ƒç”Ÿå’Œå®¶é•¿ä»¬ç†æ¸…é€‰ç§‘æ€è·¯~. 2023å±±ä¸œé«˜è€ƒæ¦‚å†µæ¢³ç†. 2023å±±ä¸œé«˜è€ƒè€ƒç”Ÿäººæ•°åŠå‡å­¦åŸºæœ¬æƒ…å†µ. æ®ç»Ÿè®¡ï¼Œ 2023å¹´å…¨çœè€ƒç”Ÿäººæ•°å…±è®¡è¾¾97.76ä¸‡ ï¼Œå…¶ä¸­å¤å­£ç¼–åœºäººæ•°ä¸º66.86ä¸‡ï¼ˆè¾ƒ2022å¹´å¢é•¿6.98ä¸‡äºº ... åŸåˆ› 2023å¹´å±±ä¸œé«˜è€ƒå½•å–æ•°æ®å‡ºç‚‰ï¼Œå½•å–ç‡86.96%ï¼Œæ»‘æ¡£ç”Ÿ9æœˆä¸‹æ—¬è¿˜æœ‰æ³¨å†Œå…¥å­¦æœºä¼š. 2023å¹´å±±ä¸œé«˜è€ƒå½•å–æ•°æ®å‡ºç‚‰ï¼Œå½•å–ç‡86.96%ï¼Œæ»‘æ¡£ç”Ÿ9æœˆä¸‹æ—¬è¿˜æœ‰æ³¨å†Œå…¥å­¦æœºä¼š. å½•å–æ€»äººæ•°æ¯”å»å¹´å¢åŠ 46967äººã€‚. è¿™è¯´æ˜å°šæœ‰6402äººæœªè¾¾åˆ°150åˆ† (å«ç¼ºè€ƒ)ã€‚. è¿™æ ·ï¼Œ2023å¹´æœ¬ç§‘å½•å–ç‡ ... ä»Šå¤©ï¼ˆ8æœˆ4æ—¥ï¼‰ä¸Šåˆ9:00ï¼Œå±±ä¸œçœæ•™è‚²å…ä¸¾è¡Œ2023å¹´æ™®é€šé«˜è€ƒç¬¬ä¸‰æ¬¡æ–°é—»å‘å¸ƒä¼šï¼Œé‚€è¯·å±±ä¸œçœæ•™è‚²æ‹›ç”Ÿè€ƒè¯•é™¢æ™®æ‹›å¤„å¤„é•¿èµµä¸½ï¼Œé€šæŠ¥2023å¹´å±±ä¸œçœæ™®é€š ... å±±ä¸œé«˜è€ƒ2023å¹´æƒ…å†µæ±‡æ€». å¤å­£é«˜è€ƒåˆ†æ™®é€šç±»ã€è‰ºæœ¯ç±»ã€ä½“è‚²ç±»ä¸‰ç±»ï¼ŒæŒ‰ç±»åˆ«åˆ†æ‰¹æ¬¡å½•å–ï¼›æ˜¥å­£é«˜è€ƒåˆ†30ä¸ªä¸“ä¸šç±»åˆ«åŠæŠ€èƒ½æ‹”å°–äººæ‰ç±»å‹ï¼Œåˆ†æ‰¹æ¬¡å½•å–ã€‚. ï¼ˆä¸€ï¼‰å¼ºåŸºè®¡åˆ’. 2020å¹´é¦–æ¬¡å®æ–½å¼ºåŸºè®¡åˆ’æ‹›ç”Ÿã€‚. è€ƒç”Ÿåœ¨æå‰æ‰¹ä¹‹å‰ç”±æ‹›ç”Ÿé«˜æ ¡å®Œæˆå½•å–ï¼Œä¸éœ€è¦å¡«æŠ¥é«˜è€ƒå¿—æ„¿ ...
Thought:æˆ‘ä»¬ç°åœ¨å·²ç»çŸ¥é“äº†å±±ä¸œçœ2023å¹´çš„é«˜è€ƒäººæ•°ä¸º98ä¸‡äººã€‚
Final Answer:å±±ä¸œçœ2023å¹´é«˜è€ƒäººæ•°ä¸º98ä¸‡äººã€‚

&gt; Finished chain.</code></pre> 
<h4 id="25-memory">Memory</h4> 
<p>LangChainçš„Memoryæ¨¡å—æ˜¯ä¸€ä¸ªå…³é”®çš„ç»„æˆéƒ¨åˆ†ï¼Œå®ƒä¸“é—¨ç”¨äºå­˜å‚¨å’Œç®¡ç†å¯¹è¯ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œå¤§æ¨¡å‹æœ¬èº«ä¸å…·å¤‡ä¸Šä¸‹æ–‡çš„æ¦‚å¿µï¼Œå®ƒå¹¶ä¸ä¿å­˜ä¸Šæ¬¡äº¤äº’çš„å†…å®¹ï¼Œå®ƒä¹‹æ‰€ä»¥èƒ½å¤Ÿå’Œäººæ­£å¸¸æ²Ÿé€šå¯¹è¯ï¼Œå› ä¸ºå®ƒè¿›è¡Œäº†ä¸€å±‚å°è£…ï¼Œå°†å†å²è®°å½•å›ä¼ ç»™äº†æ¨¡å‹ã€‚</p> 
<p>é€šè¿‡å­˜å‚¨å¯¹è¯å†å²ï¼ŒMemoryæ¨¡å—å¸®åŠ©æ¨¡å‹æ›´å¥½åœ°ç†è§£ç”¨æˆ·çš„æ„å›¾ï¼Œä»è€Œç”Ÿæˆæ›´åŠ å‡†ç¡®çš„å“åº”ã€‚</p> 
<pre><code class="language-python">from langchain_community.chat_message_histories import ChatMessageHistory

history = ChatMessageHistory()
history.add_user_message("ä½ å¥½")
history.add_ai_message("æ€ä¹ˆäº†ï¼Ÿ")
print(history.messages)</code></pre> 
<p>è¾“å‡ºï¼š</p> 
<pre><code class="language-python">[HumanMessage(content='ä½ å¥½'), AIMessage(content='æ€ä¹ˆäº†ï¼Ÿ')]</code></pre> 
<p>æˆ–ä½¿ç”¨<code>ConversationChain</code>ï¼šæ”¯æŒå¯¹è¯è®°å¿†åŠŸèƒ½ã€‚</p> 
<pre><code class="language-python">from langchain import ConversationChain
llm = QianfanChatEndpoint()
conversation = ConversationChain(llm=llm)
resut1 = conversation.predict(input="å°æ˜æœ‰ä¸€è¾†è‡ªè¡Œè½¦")
print(resut1)
print('*'*80)
resut2 = conversation.predict(input="å°çº¢æœ‰ä¸€è¾†å±±åœ°è½¦")
print(resut2)
print('*'*80)
resut3 = conversation.predict(input="å°æ˜å’Œå°çº¢ä¸€å…±æœ‰å‡ è¾†è½¦?")
print(resut3)</code></pre> 
<p>è¾“å‡ºï¼š</p> 
<pre><code class="language-python">å°æ˜çš„ç¡®æœ‰ä¸€è¾†è‡ªè¡Œè½¦ã€‚é‚£ä¹ˆæ‚¨æƒ³è¦è¯¢é—®ä»€ä¹ˆç›¸å…³ä¿¡æ¯å‘¢ï¼Ÿæˆ‘äº†è§£åˆ°äº†æ‚¨å¯ä»¥ç»§ç»­æé—®ã€‚
********************************************************************************
æ˜¯çš„ï¼Œå°çº¢æœ‰ä¸€è¾†å±±åœ°è½¦ã€‚æ‚¨æƒ³è¦äº†è§£å…³äºå°çº¢çš„å±±åœ°è½¦çš„ä»€ä¹ˆä¿¡æ¯å‘¢ï¼Ÿè¯·å‘Šè¯‰æˆ‘ï¼Œæˆ‘ä¼šå°½åŠ›å¸®åŠ©æ‚¨ã€‚
********************************************************************************
æ ¹æ®æ‚¨æä¾›çš„ä¿¡æ¯ï¼Œå°æ˜æœ‰ä¸€è¾†è‡ªè¡Œè½¦ï¼Œå°çº¢æœ‰ä¸€è¾†å±±åœ°è½¦ã€‚å› æ­¤ï¼Œå°æ˜å’Œå°çº¢ä¸€å…±æœ‰ä¸¤è¾†è½¦ã€‚è¯·é—®æ‚¨éœ€è¦æˆ‘å¸®åŠ©æ‚¨åšäº›ä»€ä¹ˆå‘¢ï¼Ÿ</code></pre> 
<p>å¯ä»¥çœ‹åˆ°åŠ å…¥<code>ConversationChainåï¼Œæ¨¡å‹å¯ä»¥è®°å¿†ä¹‹å‰çš„èŠå¤©äº†ã€‚</code></p> 
<p>å¦‚æœæƒ³è¦åƒæ–‡å¿ƒä¸€è¨€ä¸€æ ·ï¼Œé•¿æœŸä¿å­˜å†å²æ¶ˆæ¯ï¼Œï¼Œå¯ä»¥ä½¿ç”¨<code>messages_to_dict</code>Â æ–¹æ³•ï¼š</p> 
<pre><code class="language-python">from langchain_community.chat_message_histories import ChatMessageHistory
from langchain.schema import messages_from_dict, messages_to_dict

history = ChatMessageHistory()
history.add_user_message("hello!")
history.add_ai_message("whats up?")

dicts = messages_to_dict(history.messages)

print(dicts)

now_messages = messages_from_dict(dicts)

print(now_messages)</code></pre> 
<p>è¾“å‡ºï¼š</p> 
<pre><code class="language-python">[{'type': 'human', 'data': {'content': 'hello!', 'additional_kwargs': {}, 'response_metadata': {}, 'type': 'human', 'name': None, 'id': None, 'example': False}}, {'type': 'ai', 'data': {'content': 'whats up?', 'additional_kwargs': {}, 'response_metadata': {}, 'type': 'ai', 'name': None, 'id': None, 'example': False, 'tool_calls': [], 'invalid_tool_calls': [], 'usage_metadata': None}}]
[HumanMessage(content='hello!'), AIMessage(content='whats up?')]</code></pre> 
<h4 id="26-indexes">Â Indexes</h4> 
<p>Indexesç»„ä»¶çš„ç›®çš„æ˜¯è®©LangChainå…·å¤‡å¤„ç†æ–‡æ¡£å¤„ç†çš„èƒ½åŠ›ï¼Œè¿™äº›èƒ½åŠ›åŒ…æ‹¬ä½†ä¸é™äºæ–‡æ¡£çš„åŠ è½½ã€è½¬æ¢ã€å­˜å‚¨ã€æ£€ç´¢ç­‰ã€‚</p> 
<p><strong>æ–‡æ¡£åŠ è½½å™¨ï¼ˆDocument Loadersï¼‰</strong></p> 
<ul><li><strong>åŠŸèƒ½</strong>ï¼šæ–‡æ¡£åŠ è½½å™¨æ˜¯LangChainå¤„ç†æ–‡æ¡£çš„ç¬¬ä¸€æ­¥ï¼Œè´Ÿè´£ä»å„ç§æ¥æºåŠ è½½æ–‡æ¡£ã€‚</li></ul> 
<p><strong>æ–‡æ¡£è½¬æ¢å™¨ï¼ˆDocument Convertersï¼‰</strong></p> 
<ul><li><strong>åŠŸèƒ½</strong>ï¼šæ–‡æ¡£è½¬æ¢å™¨åœ¨æ£€ç´¢è¿‡ç¨‹ä¸­å‘æŒ¥ç€å…³é”®ä½œç”¨ï¼Œå®ƒè´Ÿè´£å°†å¤§å‹æ–‡æ¡£åˆ†å‰²æˆè¾ƒå°çš„å—ï¼Œä»¥ä¾¿æ›´é«˜æ•ˆåœ°è·å–æ–‡æ¡£çš„ç›¸å…³éƒ¨åˆ†ã€‚</li></ul> 
<p><strong>å‘é‡å­˜å‚¨ï¼ˆVector Storesï¼‰</strong></p> 
<ul><li><strong>åŠŸèƒ½</strong>ï¼šéšç€åµŒå…¥å‘é‡çš„å¹¿æ³›åº”ç”¨ï¼Œå¯¹æ”¯æŒè¿™äº›å‘é‡çš„æ•°æ®åº“çš„éœ€æ±‚ä¹Ÿæ—¥ç›Šå¢é•¿ã€‚</li></ul> 
<p><strong>æ£€ç´¢å™¨ï¼ˆRetrieversï¼‰</strong></p> 
<ul><li><strong>åŠŸèƒ½</strong>ï¼šæ£€ç´¢å™¨æ˜¯LangChainç´¢å¼•ä¸­çš„æ ¸å¿ƒç»„ä»¶ä¹‹ä¸€ï¼Œè´Ÿè´£æ ¹æ®ç”¨æˆ·è¾“å…¥æ£€ç´¢ç›¸å…³æ•°æ®ã€‚</li></ul> 
<hr> 
<p>æ–‡æ¡£åŠ è½½å™¨ä¸»è¦åŸºäº<code>Unstructured</code>Â åŒ…ï¼Œ<code>Unstructured</code>Â æ˜¯ä¸€ä¸ªpythonåŒ…ï¼Œå¯ä»¥æŠŠå„ç§ç±»å‹çš„æ–‡ä»¶è½¬æ¢æˆæ–‡æœ¬ã€‚</p> 
<pre><code class="language-python">from langchain_community.document_loaders import UnstructuredFileLoader
loader = UnstructuredFileLoader('a.txt', encoding='utf-8')
docs = loader.load()

first_01 = docs[0].page_content[:4]
print(first_01)
print('*'*80)
from langchain_community.document_loaders import TextLoader
loader = TextLoader('a.txt', encoding='utf-8')
docs = loader.load()
print(docs)
print(len(docs))
first_01 = docs[0].page_content[:4]
print(first_01)</code></pre> 
<p>LangChainæ”¯æŒçš„æ–‡æ¡£åŠ è½½å™¨ ï¼š</p> 
<table><thead><tr><th>æ–‡æ¡£åŠ è½½å™¨</th><th>æè¿°</th></tr></thead><tbody><tr><td>CSV</td><td>CSVé—®ä»·</td></tr><tr><td>JSON Files</td><td>åŠ è½½JSONæ–‡ä»¶</td></tr><tr><td>Jupyter Notebook</td><td>åŠ è½½notebookæ–‡ä»¶</td></tr><tr><td>Markdown</td><td>åŠ è½½markdownæ–‡ä»¶</td></tr><tr><td>Microsoft PowerPoint</td><td>åŠ è½½pptæ–‡ä»¶</td></tr><tr><td>PDF</td><td>åŠ è½½pdfæ–‡ä»¶</td></tr><tr><td>Images</td><td>åŠ è½½å›¾ç‰‡</td></tr><tr><td>File Directory</td><td>åŠ è½½ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶</td></tr><tr><td>HTML</td><td>ç½‘é¡µ</td></tr></tbody></table> 
<p><strong>æ–‡æ¡£åˆ†å‰²å™¨Â </strong></p> 
<p>ç”±äºæ¨¡å‹å¯¹è¾“å…¥çš„å­—ç¬¦é•¿åº¦æœ‰é™åˆ¶ï¼Œæˆ‘ä»¬åœ¨ç¢°åˆ°å¾ˆé•¿çš„æ–‡æœ¬æ—¶ï¼Œéœ€è¦æŠŠæ–‡æœ¬åˆ†å‰²æˆå¤šä¸ªå°çš„æ–‡æœ¬ç‰‡æ®µã€‚å®ƒåŸºäºå•ä¸ªå­—ç¬¦åˆ†éš”ç¬¦ï¼ˆå¦‚ç©ºæ ¼ã€æ¢è¡Œç¬¦ç­‰ï¼‰æ¥æ‹†åˆ†æ–‡æœ¬ã€‚</p> 
<ul><li><strong>RecursiveCharacterTextSplitter</strong>ï¼šè¿™æ˜¯LangChainä¸­å¸¸ç”¨çš„ä¸€ä¸ªæ–‡æœ¬åˆ†å‰²å™¨ï¼Œå®ƒæ ¹æ®åˆ†éš”ç¬¦çš„å±‚æ¬¡ç»“æ„ï¼ˆå¦‚åŒæ¢è¡Œç¬¦ã€å•æ¢è¡Œç¬¦ã€ç©ºæ ¼ç­‰ï¼‰æ¥æ‹†åˆ†æ–‡æœ¬ï¼Œæ—¨åœ¨é€šè¿‡ä¼˜å…ˆè€ƒè™‘æ®µè½å’Œå¥å­ç­‰è‡ªç„¶è¾¹ç•Œçš„æ‹†åˆ†æ¥ä¿æŒæ–‡æœ¬çš„ç»“æ„å’Œè¿è´¯æ€§ã€‚</li><li><strong>TokenTextSplitter</strong>ï¼šæŒ‰tokenæ¥åˆ†å‰²æ–‡æœ¬ï¼Œé€‚ç”¨äºéœ€è¦æ ¹æ®è¯æ±‡æˆ–æ ‡è®°æ¥åˆ†å‰²æ–‡æœ¬çš„åœºæ™¯ã€‚</li><li><strong>MarkdownHeaderTextSplitter</strong>ï¼šåŸºäºæŒ‡å®šçš„æ ‡é¢˜æ¥åˆ†å‰²Markdownæ–‡ä»¶ï¼Œé€‚ç”¨äºMarkdownæ–‡æ¡£çš„ç»“æ„åŒ–åˆ†å‰²ã€‚</li></ul> 
<pre><code class="language-python">from langchain.text_splitter import CharacterTextSplitter


text_splitter = CharacterTextSplitter(
    separator = " ", 
    chunk_size = 5,
    chunk_overlap  = 0,
)
a = text_splitter.split_text("a b c d e f")
print(a)
b = text_splitter.create_documents(["a b c d e f", "e f g h"], )
print(b)</code></pre> 
<ul><li><code>separator = " "</code>ï¼šè®¾ç½®åˆ†éš”ç¬¦ä¸ºç©ºæ ¼ã€‚è¿™æ„å‘³ç€æ–‡æœ¬å°†åœ¨ç©ºæ ¼å¤„è¢«åˆ†å‰²ã€‚</li><li><code>chunk_size = 5</code>ï¼šè®¾ç½®æ¯ä¸ªåˆ†å‰²å—çš„å¤§å°ä¸º 5ã€‚è¿™æ„å‘³ç€æ¯æ¬¡åˆ†å‰²å°†äº§ç”ŸåŒ…å«æœ€å¤š 5 ä¸ªå­—ç¬¦çš„æ–‡æœ¬å—ã€‚</li><li><code>chunk_overlap = 0</code>ï¼šè®¾ç½®åˆ†å‰²å—ä¹‹é—´çš„é‡å é‡ä¸º 0ã€‚è¿™æ„å‘³ç€åˆ†å‰²å—ä¹‹é—´ä¸ä¼šæœ‰ä»»ä½•é‡å ï¼Œæ¯ä¸ªåˆ†å‰²éƒ½æ˜¯ç‹¬ç«‹çš„ã€‚</li></ul> 
<p>Â è¾“å‡ºï¼š</p> 
<pre><code class="language-python">['a b c', 'd e f']
[Document(page_content='a b c'), Document(page_content='d e f'), Document(page_content='e f g'), Document(page_content='h')]
</code></pre> 
<h4 id="263-vectorstores">VectorStores</h4> 
<blockquote> 
 <p><span style="background-color:#ffd900;">VectorStoreså³å‘é‡å­˜å‚¨ï¼Œæ˜¯LangChainä¸­ç”¨äºå­˜å‚¨å’Œæ£€ç´¢å‘é‡æ•°æ®çš„ç»„ä»¶ï¼›æ˜¯è¿æ¥è¯­è¨€æ¨¡å‹ä¸å®é™…åº”ç”¨æ•°æ®çš„å…³é”®æ¡¥æ¢ï¼Œè¿™äº›å‘é‡æ•°æ®é€šå¸¸æ˜¯é€šè¿‡æ–‡æœ¬åµŒå…¥æ¨¡å‹ï¼ˆå¦‚Word2Vecã€BERTã€Sentence Transformersç­‰ï¼‰å°†æ–‡æœ¬è½¬æ¢æˆæ•°å€¼å‘é‡å¾—åˆ°çš„ã€‚è¿™äº›å‘é‡èƒ½å¤Ÿåœ¨å¤šç»´ç©ºé—´ä¸­æ•æ‰è¯è¯­æˆ–æ–‡æ¡£ä¹‹é—´çš„è¯­ä¹‰ç›¸ä¼¼æ€§ï¼Œä»è€Œä¸ºåŸºäºå†…å®¹çš„æœç´¢æä¾›åŸºç¡€ã€‚</span></p> 
</blockquote> 
<p><code>langchain.vectorstores.FAISS</code>æ¨¡å—å°è£…äº†FAISSåº“çš„åŠŸèƒ½ï¼Œå¯ä»¥å°†æ–‡æœ¬åµŒå…¥å‘é‡å­˜å‚¨åœ¨FAISSå‘é‡æ•°æ®åº“ä¸­ã€‚è¿™äº›å‘é‡å¯ä»¥è¡¨ç¤ºæ–‡æ¡£ã€æ®µè½æˆ–ä»»ä½•å…¶ä»–å½¢å¼çš„æ–‡æœ¬æ•°æ®ã€‚</p> 
<p>å…ˆçœ‹ä¸€ä¸‹åŸæ•°æ®ï¼š</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/09/dd/i1qOPSBu_o.png">Â </p> 
<p>æˆ‘ä»¬è¦å†™ä¸€å¥è¯ï¼Œæ ¹æ®è¾“å…¥çš„æŸ¥è¯¢è¿›è¡Œç›¸ä¼¼æ€§æœç´¢ï¼Œæœ€åè¿”å›ä¸æŸ¥è¯¢æœ€ç›¸å…³çš„æ–‡æ¡£ã€‚</p> 
<pre><code class="language-python">from langchain_community.document_loaders import TextLoader
from langchain.text_splitter import CharacterTextSplitter
from langchain_community.vectorstores import FAISS
from langchain_community.embeddings import QianfanEmbeddingsEndpoint

loader = TextLoader('./pku.txt',encoding='utf-8')
documents = loader.load()
text_splitter = CharacterTextSplitter(chunk_size=100, chunk_overlap=0)
texts = text_splitter.split_documents(documents)
print(texts)

embeddings = QianfanEmbeddingsEndpoint()

db = FAISS.from_documents(texts, embeddings)
# ç›¸å½“äºåˆ›å»ºäº†æ ¹æ®è¿™ä¸ªåµŒå…¥æ¨¡å‹çš„å‘é‡æ•°æ®åº“
retriever = db.as_retriever(search_kwargs={'k': 1})
# è¾“å‡ºä¸€ä¸ªæœ€ç›¸å…³çš„
docs = retriever.get_relevant_documents("åŒ—äº¬å¤§å­¦ä»€ä¹ˆæ—¶å€™æˆç«‹çš„")
print(docs)</code></pre> 
<p>Â è¾“å‡ºï¼š</p> 
<pre><code class="language-python">[Document(metadata={'source': './pku.txt'}, page_content='åŒ—äº¬å¤§å­¦åˆ›åŠäº1898å¹´ï¼Œæ˜¯æˆŠæˆŒå˜æ³•çš„äº§ç‰©ï¼Œä¹Ÿæ˜¯ä¸­åæ°‘æ—æ•‘äº¡å›¾å­˜ã€å…´å­¦å›¾å¼ºçš„ç»“æœï¼Œåˆåäº¬å¸ˆå¤§å­¦å ‚ï¼Œæ˜¯ä¸­å›½è¿‘ç°ä»£ç¬¬ä¸€æ‰€å›½ç«‹ç»¼åˆæ€§å¤§å­¦ï¼Œè¾›äº¥é©å‘½åï¼Œäº1912å¹´æ”¹ä¸ºç°åã€‚'), Document(metadata={'source': './pku.txt'}, page_content='åœ¨æ‚ ä¹…çš„æ–‡æ˜å†ç¨‹ä¸­ï¼Œå¤ä»£ä¸­å›½æ›¾åˆ›ç«‹å¤ªå­¦ã€å›½å­å­¦ã€å›½å­ç›‘ç­‰å›½å®¶æœ€é«˜å­¦åºœï¼Œåœ¨ä¸­å›½å’Œä¸–ç•Œæ•™è‚²å²ä¸Šå…·æœ‰é‡è¦å½±å“ã€‚åŒ—äº¬å¤§å­¦â€œä¸Šæ‰¿å¤ªå­¦æ­£ç»Ÿï¼Œä¸‹ç«‹å¤§å­¦ç¥–åº­â€ï¼Œæ—¢æ˜¯ä¸­åæ–‡è„‰å’Œæ•™è‚²ä¼ ç»Ÿçš„ä¼ æ‰¿è€…ï¼Œä¹Ÿæ ‡å¿—ç€ä¸­å›½ç°ä»£é«˜ç­‰æ•™è‚²çš„å¼€ç«¯ã€‚å…¶åˆ›åŠä¹‹åˆä¹Ÿæ˜¯å›½å®¶æœ€é«˜æ•™è‚²è¡Œæ”¿æœºå…³ï¼Œå¯¹å»ºç«‹ä¸­å›½ç°ä»£å­¦åˆ¶ä½œå‡ºé‡è¦å†å²è´¡çŒ®ã€‚'), Document(metadata={'source': './pku.txt'}, page_content='ä½œä¸ºæ–°æ–‡åŒ–è¿åŠ¨çš„ä¸­å¿ƒå’Œäº”å››è¿åŠ¨çš„ç­–æºåœ°ï¼Œä½œä¸ºä¸­å›½æœ€æ—©ä¼ æ’­é©¬å…‹æ€ä¸»ä¹‰å’Œæ°‘ä¸»ç§‘å­¦æ€æƒ³çš„å‘ç¥¥åœ°ï¼Œä½œä¸ºä¸­å›½å…±äº§å…šæœ€åˆçš„é‡è¦æ´»åŠ¨åŸºåœ°ï¼ŒåŒ—äº¬å¤§å­¦ä¸ºæ°‘æ—çš„æŒ¯å…´å’Œè§£æ”¾ã€å›½å®¶çš„å»ºè®¾å’Œå‘å±•ã€ç¤¾ä¼šçš„æ–‡æ˜å’Œè¿›æ­¥åšå‡ºäº†çªå‡ºè´¡çŒ®ï¼Œåœ¨ä¸­å›½èµ°å‘ç°ä»£åŒ–çš„è¿›ç¨‹ä¸­èµ·åˆ°äº†é‡è¦çš„å…ˆé”‹ä½œç”¨ã€‚çˆ±å›½ã€è¿›æ­¥ã€æ°‘ä¸»ã€ç§‘å­¦çš„ç²¾ç¥å’Œå‹¤å¥‹ã€ä¸¥è°¨ã€æ±‚å®ã€åˆ›æ–°çš„å­¦é£åœ¨è¿™é‡Œç”Ÿç”Ÿä¸æ¯ã€ä»£ä»£ç›¸ä¼ ã€‚'), Document(metadata={'source': './pku.txt'}, page_content='1917å¹´ï¼Œè‘—åæ•™è‚²å®¶è”¡å…ƒåŸ¹å°±ä»»åŒ—äº¬å¤§å­¦æ ¡é•¿ï¼Œä»–â€œå¾ªæ€æƒ³è‡ªç”±åŸåˆ™ï¼Œå–å…¼å®¹å¹¶åŒ…ä¸»ä¹‰â€ï¼Œå¯¹åŒ—äº¬å¤§å­¦è¿›è¡Œäº†å“æœ‰æˆæ•ˆçš„æ”¹é©ï¼Œä¿ƒè¿›äº†æ€æƒ³è§£æ”¾å’Œå­¦æœ¯ç¹è£ã€‚é™ˆç‹¬ç§€ã€æå¤§é’Šã€æ¯›æ³½ä¸œä»¥åŠé²è¿…ã€èƒ¡é€‚ã€æå››å…‰ç­‰ä¸€æ‰¹æ°å‡ºäººå£«éƒ½æ›¾åœ¨åŒ—äº¬å¤§å­¦ä»»æ•™æˆ–ä»»èŒã€‚'), Document(metadata={'source': './pku.txt'}, page_content='1937å¹´å¢æ²Ÿæ¡¥äº‹å˜åï¼ŒåŒ—äº¬å¤§å­¦ä¸æ¸…åå¤§å­¦ã€å—å¼€å¤§å­¦å—è¿é•¿æ²™ï¼Œå…±åŒç»„æˆå›½ç«‹é•¿æ²™ä¸´æ—¶å¤§å­¦ã€‚1938å¹´ï¼Œä¸´æ—¶å¤§å­¦åˆè¥¿è¿æ˜†æ˜ï¼Œæ›´åä¸ºå›½ç«‹è¥¿å—è”åˆå¤§å­¦ã€‚æŠ—æ—¥æˆ˜äº‰èƒœåˆ©åï¼ŒåŒ—äº¬å¤§å­¦äº1946å¹´10æœˆåœ¨åŒ—å¹³å¤å‘˜ã€‚')]
[INFO][2024-07-29 21:45:12.597] oauth.py:228 [t:4572]: trying to refresh access_token for ak `CNzMCb***`
[INFO][2024-07-29 21:45:14.418] oauth.py:243 [t:4572]: sucessfully refresh access_token
D:\apollo\anaconda\lib\site-packages\langchain_core\_api\deprecation.py:139: LangChainDeprecationWarning: The method `BaseRetriever.get_relevant_documents` was deprecated in langchain-core 0.1.46 and will be removed in 0.3.0. Use invoke instead.
  warn_deprecated(
[Document(metadata={'source': './pku.txt'}, page_content='åŒ—äº¬å¤§å­¦åˆ›åŠäº1898å¹´ï¼Œæ˜¯æˆŠæˆŒå˜æ³•çš„äº§ç‰©ï¼Œä¹Ÿæ˜¯ä¸­åæ°‘æ—æ•‘äº¡å›¾å­˜ã€å…´å­¦å›¾å¼ºçš„ç»“æœï¼Œåˆåäº¬å¸ˆå¤§å­¦å ‚ï¼Œæ˜¯ä¸­å›½è¿‘ç°ä»£ç¬¬ä¸€æ‰€å›½ç«‹ç»¼åˆæ€§å¤§å­¦ï¼Œè¾›äº¥é©å‘½åï¼Œäº1912å¹´æ”¹ä¸ºç°åã€‚')]
</code></pre> 
<p>å¯ä»¥çœ‹å‡ºè¿˜æ˜¯å¾ˆç¬¦åˆæˆ‘ä»¬çš„æƒ³æ³•çš„~</p> 
<p>é€šè¿‡å­¦ä¹ LangChainçš„ç»„ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥å†æ ¹æ®å®˜æ–¹æ–‡æ¡£ï¼Œå»å®Œæˆæ–°çš„é¡¹ç›®ã€‚</p> 
<ol><li> <p><strong>æ–‡æœ¬æ£€ç´¢ä¸æœç´¢</strong>ï¼š<br> åˆ©ç”¨LangChainçš„æ–‡æœ¬åŠ è½½å™¨ã€æ–‡æœ¬åˆ†å‰²å™¨ã€å‘é‡å­˜å‚¨å’ŒåµŒå…¥æ¨¡å‹ï¼Œå¯ä»¥æ„å»ºä¸€ä¸ªå¼ºå¤§çš„æ–‡æœ¬æ£€ç´¢ç³»ç»Ÿã€‚è¯¥ç³»ç»Ÿèƒ½å¤Ÿå¯¹å¤§é‡æ–‡æœ¬æ•°æ®è¿›è¡Œç´¢å¼•ï¼Œå¹¶æ”¯æŒåŸºäºè¯­ä¹‰çš„æœç´¢æŸ¥è¯¢ï¼Œå¿«é€Ÿè¿”å›æœ€ç›¸å…³çš„ç»“æœã€‚</p> </li><li> <p><strong>æ–‡æ¡£ç›¸ä¼¼åº¦åˆ†æ</strong>ï¼š<br> é€šè¿‡è®¡ç®—æ–‡æ¡£ä¹‹é—´çš„å‘é‡ç›¸ä¼¼åº¦ï¼ŒLangChainå¯ä»¥å¸®åŠ©è¯†åˆ«å†…å®¹ç›¸ä¼¼çš„æ–‡æ¡£æˆ–æ®µè½ã€‚åœ¨å»é‡ã€æ¨èç³»ç»Ÿæˆ–å†…å®¹èšç±»ç­‰åœºæ™¯ä¸­éå¸¸æœ‰ç”¨ã€‚</p> </li><li> <p><strong>è‡ªç„¶è¯­è¨€ç†è§£ä¸åº”ç”¨</strong>ï¼š<br> LangChainä¸å„ç§è‡ªç„¶è¯­è¨€å¤„ç†ï¼ˆNLPï¼‰æ¨¡å‹å…¼å®¹ã€‚å¯ä»¥åˆ©ç”¨è¿™äº›æ¨¡å‹è¿›è¡Œæ–‡æœ¬åˆ†ç±»ã€æƒ…æ„Ÿåˆ†æã€å®ä½“è¯†åˆ«ç­‰ä»»åŠ¡ï¼Œè¿›è€Œæ„å»ºèŠå¤©æœºå™¨äººã€æ™ºèƒ½å®¢æœæˆ–æ–‡æœ¬åˆ†æå·¥å…·ã€‚</p> </li></ol>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/84e38505ae97b10ca7d1ecc4761dfca8/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">x-cmd pkg | yazi - è¶…å¿«ç»ˆç«¯æ–‡ä»¶ç®¡ç†å™¨</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/7d8b7f2686a2dd20f2ae5e60a93198bb/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">CSVè¡¨æ ¼æ‹†åˆ†æŒ‡å—ï¼šè®©ä½ çš„æ•°æ®ç®¡ç†æ›´é«˜æ•ˆ</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ç¼–ç¨‹å¤§å’–.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>