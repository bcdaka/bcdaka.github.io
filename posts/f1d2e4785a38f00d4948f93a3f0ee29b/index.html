<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【第0007页 · 数组】数组中重复的数据（如何实现数组的原地修改） - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/f1d2e4785a38f00d4948f93a3f0ee29b/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="【第0007页 · 数组】数组中重复的数据（如何实现数组的原地修改）">
  <meta property="og:description" content="【前言】本文以及之后的一些题解都会陆续整理到目录中，若想了解全部题解整理，请看这里：
第0007页 · 数组中重复的数据 今天，我们来看一个在实际工作中运用不多，但是对于一些算法题还是有必要的奇技淫巧——数组的原地修改。下面我们将通过两道题目来学习这种技巧。
【找到所有数组中消失的数】 给你一个含 n 个整数的数组 nums ，其中 nums[i] 在区间 [1, n] 内。请你找出所有在 [1, n] 范围内但没有出现在 nums 中的数字，并以数组的形式返回结果。
示例1示例2输入描述：nums = [4, 3, 2, 7, 8, 2, 3,1]输入描述：nums = [1, 1]输出描述：[5, 6]输出描述：[2] 【解题分析】这道题本来十分简单，但是如果加上一个要求：在不使用额外空间且时间复杂度为 O(n) 的情况下解决这个问题吗? 可以假定返回的数组不算在额外空间内。那么这道题就有些内容可以说了。
这里我们先来讲解一下这种原地修改的想法：首先，由于 nums 的长度恰好为 n，而我们要查找的数字范围均在 [1, n] 中，那么我们不妨将位置 k 处的值当成数字 k &#43; 1 是否出现的凭证。以上是 Hash 的思想。
接下来，我们需要考虑如何才能使位置 k 处的值能够代表数字 k &#43; 1 是否出现过。我们提供一种想法是如果 k &#43; 1 出现过，需要将位置 k 处的值加上 n，因为本来数组中所有的数都小于 n，只能是由于出现过而导致大于 n。根据以上想法，我们就可以使位置 k 处的值能够代表数字 k &#43; 1 是否出现过。">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-09-07T16:34:06+08:00">
    <meta property="article:modified_time" content="2024-09-07T16:34:06+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【第0007页 · 数组】数组中重复的数据（如何实现数组的原地修改）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <blockquote> 
 <p><strong>【前言】</strong>本文以及之后的一些题解都会陆续整理到目录中，若想了解全部题解整理，请看这里：</p> 
</blockquote> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/82/84/Kgkf4wif_o.png"></p> 
<h3>第0007页 · 数组中重复的数据</h3> 
<p>        今天，我们来看一个在实际工作中运用不多，但是对于一些算法题还是有必要的奇技淫巧——数组的原地修改。下面我们将通过两道题目来学习这种技巧。</p> 
<blockquote> 
 <p><a class="link-info" href="https://leetcode.cn/problems/find-all-numbers-disappeared-in-an-array/description/" rel="nofollow" title="【找到所有数组中消失的数】">【找到所有数组中消失的数】</a> 给你一个含 <code>n</code> 个整数的数组 <code>nums</code> ，其中 <code>nums[i]</code> 在区间 <code>[1, n]</code> 内。请你找出所有在 <code>[1, n]</code> 范围内但没有出现在 <code>nums</code> 中的数字，并以数组的形式返回结果。</p> 
 <table align="center" border="3" cellpadding="1" cellspacing="1" style="width:600px;"><thead><tr><th>示例1</th><th>示例2</th></tr></thead><tbody><tr><td>输入描述：nums = [4, 3, 2, 7, 8, 2, 3,1]</td><td>输入描述：nums = [1, 1]</td></tr><tr><td>输出描述：[5, 6]</td><td>输出描述：[2]</td></tr></tbody></table> 
 <p><strong>【解题分析】</strong>这道题本来十分简单，但是如果加上一个要求：在不使用额外空间且时间复杂度为<em> O</em><code>(n)</code><em> </em>的情况下解决这个问题吗? 可以假定返回的数组不算在额外空间内。那么这道题就有些内容可以说了。</p> 
 <p>        这里我们先来讲解一下这种原地修改的想法：首先，由于 nums 的长度恰好为 n，而我们要查找的数字范围均在 [1, n] 中，那么我们不妨将位置 k 处的值当成数字 k + 1 是否出现的凭证。以上是 <strong><span style="background-color:#ffd900;">Hash</span></strong> 的思想。</p> 
 <p>        接下来，我们需要考虑如何才能使位置 k 处的值能够代表数字 k + 1 是否出现过。我们提供一种想法是如果 k + 1 出现过，需要将位置 k 处的值加上 n，因为本来数组中所有的数都小于 n，只能是由于出现过而导致大于 n。根据以上想法，我们就可以使位置 k 处的值能够代表数字 k + 1 是否出现过。</p> 
 <p></p> 
 <p><strong>【源码展示】</strong></p> 
 <pre><code class="language-cpp">class Solution {
public:
    vector&lt;int&gt; findDisappearedNumbers(vector&lt;int&gt;&amp; nums) {
    int n = nums.size();
    for (int num : nums) {
        int x = (num - 1) % n;
        nums[x] += n;
    }
    vector&lt;int&gt; ret;
    for (int i = 0; i &lt; n; i++) {
        if (nums[i] &lt;= n) {
            ret.push_back(i + 1);
        }
    }
    return ret;
    }
};</code></pre> 
</blockquote> 
<p>         解决完上面这道题，我们再来看今天的第二题，中间也需要用到类似的思想。</p> 
<blockquote> 
 <p><a class="link-info" href="https://leetcode.cn/problems/find-all-duplicates-in-an-array/submissions/562430167/" rel="nofollow" title="【数组中重复的数据】">【数组中重复的数据】</a>给你一个长度为 <code>n</code> 的整数数组 <code>nums</code> ，其中 <code>nums</code> 的所有整数都在范围 <code>[1, n]</code> 内，且每个整数出现 <strong>一次</strong> 或 <strong>两次</strong> 。请你找出所有出现 <strong>两次</strong> 的整数，并以数组形式返回。</p> 
 <p>你必须设计并实现一个时间复杂度为 <code>O(n)</code> 且仅使用常量额外空间（不包括存储输出所需的空间）的算法解决此问题。</p> 
 <table align="center" border="3" cellpadding="1" cellspacing="1" style="width:600px;"><thead><tr><th>示例1</th><th>示例2</th><th>示例3</th></tr></thead><tbody><tr><td>输入：nums = [4,3,2,7,8,2,3,1]</td><td>输入：nums = [1,1,2]</td><td>输入：nums = [1]</td></tr><tr><td>输出：[2.3]</td><td>输出：[1]</td><td>输出：[1]</td></tr></tbody></table> 
 <p><strong>【解题分析】</strong>这里和上面一题的要求几乎一致，思路也差不多，就留给读者自行思考了</p> 
 <p><strong>【源码展示】</strong></p> 
 <pre><code class="language-cpp">class Solution {
public:
    vector&lt;int&gt; findDuplicates(vector&lt;int&gt;&amp; nums) {
        int size = nums.size();

        for (int i = 0; i&lt; size; i++) {
            // Swap until appear in right pos
            while (nums[i] != nums[nums[i] - 1]) {
                swap(nums[i], nums[nums[i] - 1]);
            }
        }

        vector&lt;int&gt; ans;

        for (int i = 0; i &lt; size; i++) {
            if (nums[i] != (i+1)) {
                ans.emplace_back(nums[i]);
            }
        }

        return ans;

    }
};</code></pre> 
</blockquote>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/40827bcc58d09bf62be214466295cad7/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">C语言练习题之 数组中出现次数超过一半的数</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/87e92db61d788e171e24e5f96f8de241/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【Qt】qt发布Release版本,打包.exe可执行文件</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>