<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>大数据 - Doris系列《四》- Doris常用函数 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/baeb2672c58c02c3a11ada555b3fc847/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="大数据 - Doris系列《四》- Doris常用函数">
  <meta property="og:description" content="往期文章：
大数据 - Doris系列《一》- Doris简介_doris详细介绍-CSDN博客
大数据 - Doris系列《二》- Doris安装（亲测成功版）_java8 please set vm.max_map_count to be 2000000 un-CSDN博客
大数据 - Doris系列《三》- 数据表设计之表的基本概念_doris 一张表最多字段-CSDN博客
目录
4.1.1条件函数
4.1.1.1 if函数
4.1.1.2 ifnull,nvl,coalesce,nullif函数
4.1.1.3 case
4.1.1.4 练习题
4.1.2聚合函数
4.1.2.1 min,max,sum,avg,count
4.1.2.2 min_by和max_by
🥙4.1.2.3 group_concat
4.1.2.4 collect_list，collect_set (1.2版本上线)
4.1.3 字符串函数
4.1.3.1 length，lower，upper，reverse
4.1.3.2 lpad，rpad
4.1.3.3 concat，concat_ws
4.1.3.4 substr
4.1.3.5 ends_with，starts_with
4.1.3.6 trim，ltrim，rtrim
4.1.3.7 null_or_empty，not_null_or_empty
4.1.3.8 replace
4.1.3.9 split_part
4.1.3.10 money_format
4.1.1条件函数 4.1.1.1 if函数 语法示例：
if(boolean condition, type valueTrue, type valueFalseOrNull) --如果表达式 condition 成立，返回结果 valueTrue；否则，返回结果 valueFalseOrNull --返回值类型：valueTrue 表达式结果的类型 示例：">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-04-30T08:30:00+08:00">
    <meta property="article:modified_time" content="2024-04-30T08:30:00+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">大数据 - Doris系列《四》- Doris常用函数</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>往期文章：</p> 
<p><a href="https://blog.csdn.net/weixin_40968325/article/details/135383624" title="大数据 - Doris系列《一》- Doris简介_doris详细介绍-CSDN博客">大数据 - Doris系列《一》- Doris简介_doris详细介绍-CSDN博客</a></p> 
<p><a href="https://blog.csdn.net/weixin_40968325/article/details/135397176" title="大数据 - Doris系列《二》- Doris安装（亲测成功版）_java8 please set vm.max_map_count to be 2000000 un-CSDN博客">大数据 - Doris系列《二》- Doris安装（亲测成功版）_java8 please set vm.max_map_count to be 2000000 un-CSDN博客</a></p> 
<p><a href="https://blog.csdn.net/weixin_40968325/article/details/135497951" title="大数据 - Doris系列《三》- 数据表设计之表的基本概念_doris 一张表最多字段-CSDN博客">大数据 - Doris系列《三》- 数据表设计之表的基本概念_doris 一张表最多字段-CSDN博客</a></p> 
<p id="main-toc"><strong>目录</strong></p> 
<p id="-toc" style="margin-left:80px;"></p> 
<p id="4.1.1%E6%9D%A1%E4%BB%B6%E5%87%BD%E6%95%B0-toc" style="margin-left:80px;"><a href="#4.1.1%E6%9D%A1%E4%BB%B6%E5%87%BD%E6%95%B0" rel="nofollow">4.1.1条件函数</a></p> 
<p id="4.1.1.1%20if%E5%87%BD%E6%95%B0-toc" style="margin-left:120px;"><a href="#4.1.1.1%20if%E5%87%BD%E6%95%B0" rel="nofollow">4.1.1.1 if函数</a></p> 
<p id="4.1.1.2%20ifnull%2Cnvl%2Ccoalesce%2Cnullif%E5%87%BD%E6%95%B0-toc" style="margin-left:120px;"><a href="#4.1.1.2%20ifnull%2Cnvl%2Ccoalesce%2Cnullif%E5%87%BD%E6%95%B0" rel="nofollow">4.1.1.2 ifnull,nvl,coalesce,nullif函数</a></p> 
<p id="4.1.1.3%20case-toc" style="margin-left:120px;"><a href="#4.1.1.3%20case" rel="nofollow">4.1.1.3 case</a></p> 
<p id="4.1.1.4%20%E7%BB%83%E4%B9%A0%E9%A2%98-toc" style="margin-left:120px;"><a href="#4.1.1.4%20%E7%BB%83%E4%B9%A0%E9%A2%98" rel="nofollow">4.1.1.4 练习题</a></p> 
<p id="4.1.2%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0-toc" style="margin-left:80px;"><a href="#4.1.2%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0" rel="nofollow">4.1.2聚合函数</a></p> 
<p id="4.1.2.1%20min%2Cmax%2Csum%2Cavg%2Ccount-toc" style="margin-left:120px;"><a href="#4.1.2.1%20min%2Cmax%2Csum%2Cavg%2Ccount" rel="nofollow">4.1.2.1 min,max,sum,avg,count</a></p> 
<p id="4.1.2.2%20min_by%E5%92%8Cmax_by-toc" style="margin-left:120px;"><a href="#4.1.2.2%20min_by%E5%92%8Cmax_by" rel="nofollow">4.1.2.2 min_by和max_by</a></p> 
<p id="%F0%9F%A5%994.1.2.3%20group_concat-toc" style="margin-left:120px;"><a href="#%F0%9F%A5%994.1.2.3%20group_concat" rel="nofollow">🥙4.1.2.3 group_concat</a></p> 
<p id="4.1.2.4%20collect_list%EF%BC%8Ccollect_set%20(1.2%E7%89%88%E6%9C%AC%E4%B8%8A%E7%BA%BF)-toc" style="margin-left:120px;"><a href="#4.1.2.4%20collect_list%EF%BC%8Ccollect_set%20%281.2%E7%89%88%E6%9C%AC%E4%B8%8A%E7%BA%BF%29" rel="nofollow">4.1.2.4 collect_list，collect_set (1.2版本上线)</a></p> 
<p id="4.1.3%20%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%87%BD%E6%95%B0-toc" style="margin-left:80px;"><a href="#4.1.3%20%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%87%BD%E6%95%B0" rel="nofollow">4.1.3 字符串函数</a></p> 
<p id="4.1.3.1%20length%EF%BC%8Clower%EF%BC%8Cupper%EF%BC%8Creverse-toc" style="margin-left:120px;"><a href="#4.1.3.1%20length%EF%BC%8Clower%EF%BC%8Cupper%EF%BC%8Creverse" rel="nofollow">4.1.3.1 length，lower，upper，reverse</a></p> 
<p id="4.1.3.2%20lpad%EF%BC%8Crpad-toc" style="margin-left:120px;"><a href="#4.1.3.2%20lpad%EF%BC%8Crpad" rel="nofollow">4.1.3.2 lpad，rpad</a></p> 
<p id="4.1.3.3%20concat%EF%BC%8Cconcat_ws-toc" style="margin-left:120px;"><a href="#4.1.3.3%20concat%EF%BC%8Cconcat_ws" rel="nofollow">4.1.3.3 concat，concat_ws</a></p> 
<p id="4.1.3.4%20substr-toc" style="margin-left:120px;"><a href="#4.1.3.4%20substr" rel="nofollow">4.1.3.4 substr</a></p> 
<p id="4.1.3.5%20ends_with%EF%BC%8Cstarts_with-toc" style="margin-left:120px;"><a href="#4.1.3.5%20ends_with%EF%BC%8Cstarts_with" rel="nofollow">4.1.3.5 ends_with，starts_with</a></p> 
<p id="4.1.3.6%20trim%EF%BC%8Cltrim%EF%BC%8Crtrim-toc" style="margin-left:120px;"><a href="#4.1.3.6%20trim%EF%BC%8Cltrim%EF%BC%8Crtrim" rel="nofollow">4.1.3.6 trim，ltrim，rtrim</a></p> 
<p id="4.1.3.7%20null_or_empty%EF%BC%8Cnot_null_or_empty-toc" style="margin-left:120px;"><a href="#4.1.3.7%20null_or_empty%EF%BC%8Cnot_null_or_empty" rel="nofollow">4.1.3.7 null_or_empty，not_null_or_empty</a></p> 
<p id="4.1.3.8%20replace-toc" style="margin-left:120px;"><a href="#4.1.3.8%20replace" rel="nofollow">4.1.3.8 replace</a></p> 
<p id="4.1.3.9%20split_part-toc" style="margin-left:120px;"><a href="#4.1.3.9%20split_part" rel="nofollow">4.1.3.9 split_part</a></p> 
<p id="4.1.3.10%20money_format-toc" style="margin-left:120px;"><a href="#4.1.3.10%20money_format" rel="nofollow">4.1.3.10 money_format</a></p> 
<hr id="hr-toc"> 
<p></p> 
<h4 id="4.1.1%E6%9D%A1%E4%BB%B6%E5%87%BD%E6%95%B0" style="background-color:transparent;">4.1.1条件函数</h4> 
<h5 id="4.1.1.1%20if%E5%87%BD%E6%95%B0">4.1.1.1 if函数</h5> 
<p>语法示例：</p> 
<pre><code class="hljs">if(boolean condition, type valueTrue, type valueFalseOrNull)
--如果表达式 condition 成立，返回结果 valueTrue；否则，返回结果 valueFalseOrNull
--返回值类型：valueTrue 表达式结果的类型</code></pre> 
<p>示例：</p> 
<pre><code class="hljs">mysql&gt; select  user_id, if(user_id = 1, "true", "false") as test_if from test;
+---------+---------+
| user_id | test_if |
+---------+---------+
| 1       | true    |
| 2       | false   |
+---------+---------+</code></pre> 
<h5 id="4.1.1.2%20ifnull%2Cnvl%2Ccoalesce%2Cnullif%E5%87%BD%E6%95%B0">4.1.1.2 ifnull,nvl,coalesce,nullif函数</h5> 
<p>语法示例：</p> 
<pre><code class="hljs">ifnull(expr1, expr2)
--如果 expr1 的值不为 NULL 则返回 expr1，否则返回 expr2

nvl(expr1, expr2)
--如果 expr1 的值不为 NULL 则返回 expr1，否则返回 expr2

coalesce(expr1, expr2, ...., expr_n))
--返回参数中的第一个非空表达式（从左向右）

nullif(expr1, expr2)
-- 如果两个参数相等，则返回NULL。否则返回第一个参数的值</code></pre> 
<p>示例：</p> 
<pre><code class="hljs">mysql&gt; select ifnull(1,0);
+--------------+
| ifnull(1, 0) |
+--------------+
|            1 |
+--------------+

mysql&gt; select nvl(null,10);
+------------------+
| nvl(null,10)     |
+------------------+
|               10 |
+------------------+

mysql&gt; select coalesce(NULL, null, '0000');
+--------------------------------+
| coalesce(NULL, '1111', '0000') |
+--------------------------------+
| 1111                           |
+--------------------------------+

mysql&gt; select coalesce(NULL, NULL,NULL,'0000', NULL);
+----------------------------------------+
| coalesce(NULL, NULL,NULL,'0000', NULL) |
+----------------------------------------+
| 0000                                   |
+----------------------------------------+

mysql&gt; select nullif(1,1);
+--------------+
| nullif(1, 1) |
+--------------+
|         NULL |
+--------------+

mysql&gt; select nullif(1,0);
+--------------+
| nullif(1, 0) |
+--------------+
|            1 |
+--------------+</code></pre> 
<h5 id="4.1.1.3%20case">4.1.1.3 case</h5> 
<p>语法示例：</p> 
<pre><code class="hljs">-- 方式一
CASE expression
    WHEN condition1 THEN result1
    [WHEN condition2 THEN result2]
    ...
    [WHEN conditionN THEN resultN]
    [ELSE result]
END


-- 方式二
CASE WHEN condition1 THEN result1
    [WHEN condition2 THEN result2]
    ...
    [WHEN conditionN THEN resultN]
    [ELSE result]
END

-- 将表达式和多个可能的值进行比较，当匹配时返回相应的结果</code></pre> 
<p>示例：</p> 
<pre><code class="hljs">mysql&gt; select user_id, 
case user_id 
when 1 then 'user_id = 1' 
when 2 then 'user_id = 2' 
else 'user_id not exist' 
end as test_case 
from test;
+---------+-------------+
| user_id | test_case   |
+---------+-------------+
| 1       | user_id = 1 |
| 2       | user_id = 2 |
| 3       | 'user_id not exist' |
+---------+-------------+
 
mysql&gt; select user_id, 
case 
when user_id = 1 then 'user_id = 1' 
when user_id = 2 then 'user_id = 2' 
else 'user_id not exist' 
end as test_case 
from test;
+---------+-------------+
| user_id | test_case   |
+---------+-------------+
| 1       | user_id = 1 |
| 2       | user_id = 2 |
+---------+-------------+</code></pre> 
<h5 id="4.1.1.4%20%E7%BB%83%E4%B9%A0%E9%A2%98">4.1.1.4 练习题</h5> 
<p><a href="https://leetcode.cn/problems/market-analysis-i/description/" rel="nofollow" title="SQL1158 市场分析I">SQL1158 市场分析I</a></p> 
<p></p> 
<h4 id="4.1.2%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0" style="background-color:transparent;">4.1.2聚合函数</h4> 
<h5 id="4.1.2.1%20min%2Cmax%2Csum%2Cavg%2Ccount">4.1.2.1 min,max,sum,avg,count</h5> 
<h5 id="4.1.2.2%20min_by%E5%92%8Cmax_by">4.1.2.2 min_by和max_by</h5> 
<pre><code class="hljs">MAX_BY(expr1, expr2)
返回expr2最大值所在行的 expr1 （求分组top1的简介函数）</code></pre> 
<p>语法示例：</p> 
<pre><code class="hljs">MySQL &gt; select * from tbl;
+------+------+------+------+
| k1   | k2   | k3   | k4   |
+------+------+------+------+
|    0 | 3    | 2    |  100 |
|    1 | 2    | 3    |    4 |
|    4 | 3    | 2    |    2 |
|    3 | 4    | 2    |    1 |
+------+------+------+------+

MySQL &gt; select max_by(k1, k4) from tbl;

select max_by(k1, k4) from tbl;
--取k4这个列中的最大值对应的k1这个列的值
+--------------------+
| max_by(`k1`, `k4`) |
+--------------------+
|                  0 |
+--------------------+ </code></pre> 
<p>练习：</p> 
<pre><code class="hljs">name   subject   score 
zss,chinese,99
zss,math,89
zss,English,79
lss,chinese,88
lss,math,88
lss,English,22
www,chinese,99
www,math,45
zll,chinese,23
zll,math,88
zll,English,80
www,English,94



-- 建表语句
create table score
(
name varchar(50),
subject varchar(50),
score double
)
DUPLICATE KEY(name)
DISTRIBUTED BY HASH(name) BUCKETS 1;

-- 通过本地文件的方式导入数据
curl \
 -u root: \
 -H "label:salary" \
 -H "column_separator:," \
 -T /root/data/sorce.txt \
 http://linux01:8040/api/test/score/_stream_load


-- 求每门课程成绩最高分的那个人
select  
subject,max_by(name,score) as name
from score
group by subject


+---------+------+
| subject | name |
+---------+------+
| English | www  |
| math    | lss  |
| chinese | www  |
+---------+------+</code></pre> 
<h5 id="%F0%9F%A5%994.1.2.3%20group_concat"><em><strong>🥙</strong></em>4.1.2.3 group_concat</h5> 
<blockquote> 
 <p>求：每一个人有考试成绩的所有科目</p> 
 <p>select name， group_concat(subject,',') as all_subject from score group by name</p> 
</blockquote> 
<p>语法示例：</p> 
<pre><code class="hljs">VARCHAR GROUP_CONCAT([DISTINCT] VARCHAR 列名[, VARCHAR sep]

该函数是类似于hive中collect_set()和collect_list()函数，group_concat 将结果集中的多行结果连接成一个字符串

-- group_concat对于收集的字段只能是string，varchar，char类型  
--当不指定分隔符的时候，默认使用 ','

VARCHAR ：代表GROUP_CONCAT函数返回值类型
[DISTINCT]：可选参数，针对需要拼接的列的值进行去重  
[, VARCHAR sep]：拼接成字符串的分隔符，默认是 ','</code></pre> 
<p>示例：</p> 
<pre><code class="hljs">--建表
create table example(
id int,
name varchar(50),
age int,
gender string,
is_marry boolean,
marry_date date,
marry_datetime datetime
)engine = olap
distributed by hash(id) buckets 3;

--插入数据
insert into example values \
(1,'zss',18,'male',0,null,null),\
(2,'lss',28,'female',1,'2022-01-01','2022-01-01 11:11:11'),\
(3,'ww',38,'male',1,'2022-02-01','2022-02-01 11:11:11'),\
(4,'zl',48,'female',0,null,null),\
(5,'tq',58,'male',1,'2022-03-01','2022-03-01 11:11:11'),\
(6,'mly',18,'male',1,'2022-04-01','2022-04-01 11:11:11'),\
(7,null,18,'male',1,'2022-05-01','2022-05-01 11:11:11');


+--------+---------------+

</code></pre> 
<p><em>当收集的那一列，有值为null时，他会自动将null的值过滤掉</em></p> 
<pre><code class="hljs">select 
gender,
group_concat(name,',') as gc_name
from example 
group by gender;
+--------+---------------+
| gender | gc_name       |
+--------+---------------+
| female | zl,lss        |
| male   | zss,ww,tq,mly |
+--------+---------------+

select 
gender,
group_concat(DISTINCT cast(age as string)) as gc_age
from example 
group by gender;

+--------+------------+
| gender | gc_age     |
+--------+------------+
| female | 48, 28     |
| male   | 58, 38, 18 |
+--------+------------+</code></pre> 
<h5 id="4.1.2.4%20collect_list%EF%BC%8Ccollect_set%20(1.2%E7%89%88%E6%9C%AC%E4%B8%8A%E7%BA%BF)" style="background-color:transparent;">4.1.2.4 collect_list，collect_set (1.2版本上线)</h5> 
<p>语法示例：</p> 
<pre><code class="hljs">ARRAY&lt;T&gt; collect_list(expr)
--返回一个包含 expr 中所有元素(不包括NULL)的数组，数组中元素顺序是不确定的。

ARRAY&lt;T&gt; collect_set(expr)
--返回一个包含 expr 中所有去重后元素(不包括NULL)的数组，数组中元素顺序是不确定的。</code></pre> 
<h4 id="4.1.3%20%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%87%BD%E6%95%B0" style="background-color:transparent;">4.1.3 字符串函数</h4> 
<h5 id="4.1.3.1%20length%EF%BC%8Clower%EF%BC%8Cupper%EF%BC%8Creverse">4.1.3.1 length，lower，upper，reverse</h5> 
<p>示例：</p> 
<pre><code class="hljs">获取到字符串的长度，对字符串转大小写和字符串的反转</code></pre> 
<h5 id="4.1.3.2%20lpad%EF%BC%8Crpad">4.1.3.2 lpad，rpad</h5> 
<p>语法：</p> 
<pre><code class="hljs">VARCHAR rpad(VARCHAR str, INT len, VARCHAR pad)

VARCHAR lpad(VARCHAR str, INT len, VARCHAR pad)

-- 返回 str 中长度为 len（从首字母开始算起）的字符串。
--如果 len 大于 str 的长度，则在 str 的后面不断补充 pad  字符，
--直到该字符串的长度达到 len 为止。如果 len 小于 str 的长度，
--该函数相当于截断 str 字符串，只返回长度为 len  的字符串。
--len 指的是字符长度而不是字节长度。</code></pre> 
<p>示例：</p> 
<pre><code class="hljs">-- 向左边补齐
SELECT lpad("1", 5, "0");
+---------------------+
| lpad("1", 5, "0") |
+---------------------+
| 00001             |
+---------------------+

-- 向右边补齐
SELECT rpad('11', 5, '0');
+---------------------+
| rpad('11', 5, '0')  |
+---------------------+
| 11000               |
+---------------------+
</code></pre> 
<h5 id="4.1.3.3%20concat%EF%BC%8Cconcat_ws">4.1.3.3 concat，concat_ws</h5> 
<p>语法：</p> 
<pre><code class="hljs">select concat("a", "b");
+------------------+
| concat('a', 'b') |
+------------------+
| ab               |
+------------------+

select concat("a", "b", "c");
+-----------------------+
| concat('a', 'b', 'c') |
+-----------------------+
| abc                   |
+-----------------------+

-- concat中，如果有一个值为null，那么得到的结果就是null
mysql&gt; select concat("a", null, "c");
+------------------------+
| concat('a', NULL, 'c') |
+------------------------+
| NULL                   |
+------------------------+


--使用第一个参数 sep 作为连接符
--将第二个参数以及后续所有参数(或ARRAY中的所有字符串)拼接成一个字符串。
-- 如果分隔符是 NULL，返回 NULL。 concat_ws函数不会跳过空字符串，会跳过 NULL 值。
mysql&gt; select concat_ws("_", "a", "b");
+----------------------------+
| concat_ws("_", "a", "b")   |
+----------------------------+
| a_b                        |
+----------------------------+

mysql&gt; select concat_ws(NULL, "d", "is");
+----------------------------+
| concat_ws(NULL, 'd', 'is') |
+----------------------------+
| NULL                       |
+----------------------------+
</code></pre> 
<h5 id="4.1.3.4%20substr">4.1.3.4 substr</h5> 
<p>语法：</p> 
<pre><code class="hljs">--求子字符串，返回第一个参数描述的字符串中从start开始长度为len的部分字符串。
--首字母的下标为1。
mysql&gt; select substr("Hello doris", 3, 5);
+-----------------------------+
| substr('Hello doris', 2, 1) |
+-----------------------------+
| e                           |
+-----------------------------+
mysql&gt; select substr("Hello doris", 1, 2);
+-----------------------------+
| substr('Hello doris', 1, 2) |
+-----------------------------+
| He                          |
+-----------------------------+</code></pre> 
<h5 id="4.1.3.5%20ends_with%EF%BC%8Cstarts_with">4.1.3.5 ends_with，starts_with</h5> 
<p>语法：</p> 
<pre><code class="hljs">BOOLEAN ENDS_WITH (VARCHAR str, VARCHAR suffix)
--如果字符串以指定后缀结尾，返回true。否则，返回false。
--任意参数为NULL，返回NULL。

BOOLEAN STARTS_WITH (VARCHAR str, VARCHAR prefix)
--如果字符串以指定前缀开头，返回true。否则，返回false。
--任意参数为NULL，返回NULL。</code></pre> 
<p>示例：</p> 
<pre><code class="hljs">mysql&gt; select ends_with("Hello doris", "doris");
+-----------------------------------+
| ends_with('Hello doris', 'doris') |
+-----------------------------------+
|                                 1 | 
+-----------------------------------+

mysql&gt; select ends_with("Hello doris", "Hello");
+-----------------------------------+
| ends_with('Hello doris', 'Hello') |
+-----------------------------------+
|                                 0 | 
+-----------------------------------+


MySQL [(none)]&gt; select starts_with("hello world","hello");
+-------------------------------------+
| starts_with('hello world', 'hello') |
+-------------------------------------+
|                                   1 |
+-------------------------------------+

MySQL [(none)]&gt; select starts_with("hello world","world");
+-------------------------------------+
| starts_with('hello world', 'world') |
+-------------------------------------+
|                                   0 |
+-------------------------------------+</code></pre> 
<h5 id="4.1.3.6%20trim%EF%BC%8Cltrim%EF%BC%8Crtrim">4.1.3.6 trim，ltrim，rtrim</h5> 
<p>语法：</p> 
<pre><code class="hljs">VARCHAR trim(VARCHAR str)
-- 将参数 str 中左侧和右侧开始部分连续出现的空格去掉
mysql&gt; SELECT trim('   ab d   ') str;
+------+
| str  |
+------+
| ab d |
+------+

VARCHAR ltrim(VARCHAR str)
-- 将参数 str 中从左侧部分开始部分连续出现的空格去掉
mysql&gt; SELECT ltrim('   ab d') str;
+------+
| str  |
+------+
| ab d |
+------+

VARCHAR rtrim(VARCHAR str)
--将参数 str 中从右侧部分开始部分连续出现的空格去掉

mysql&gt; SELECT rtrim('ab d   ') str;
+------+
| str  |
+------+
| ab d |
+------+</code></pre> 
<h5 id="4.1.3.7%20null_or_empty%EF%BC%8Cnot_null_or_empty">4.1.3.7 null_or_empty，not_null_or_empty</h5> 
<pre><code class="hljs">BOOLEAN NULL_OR_EMPTY (VARCHAR str)

-- 如果字符串为空字符串或者NULL，返回true。否则，返回false。
MySQL [(none)]&gt; select null_or_empty(null);
+---------------------+
| null_or_empty(NULL) |
+---------------------+
|                   1 |
+---------------------+

MySQL [(none)]&gt; select null_or_empty("");
+-------------------+
| null_or_empty('') |
+-------------------+
|                 1 |
+-------------------+

MySQL [(none)]&gt; select null_or_empty("a");
+--------------------+
| null_or_empty('a') |
+--------------------+
|                  0 |
+--------------------+

BOOLEAN NOT_NULL_OR_EMPTY (VARCHAR str)
如果字符串为空字符串或者NULL，返回false。否则，返回true。

MySQL [(none)]&gt; select not_null_or_empty(null);
+-------------------------+
| not_null_or_empty(NULL) |
+-------------------------+
|                       0 |
+-------------------------+

MySQL [(none)]&gt; select not_null_or_empty("");
+-----------------------+
| not_null_or_empty('') |
+-----------------------+
|                     0 |
+-----------------------+

MySQL [(none)]&gt; select not_null_or_empty("a");
+------------------------+
| not_null_or_empty('a') |
+------------------------+
|                      1 |
+------------------------+</code></pre> 
<h5 id="4.1.3.8%20replace">4.1.3.8 replace</h5> 
<pre><code class="hljs">VARCHAR REPLACE (VARCHAR str, VARCHAR old, VARCHAR new)
-- 将str字符串中的old子串全部替换为new串

mysql&gt; select replace("http://www.baidu.com:9090", "9090", "");
+------------------------------------------------------+
| replace('http://www.baidu.com:9090', '9090', '') |
+------------------------------------------------------+
| http://www.baidu.com:                                |
+------------------------------------------------------+</code></pre> 
<h5 id="4.1.3.9%20split_part">4.1.3.9 split_part</h5> 
<pre><code class="hljs">VARCHAR split_part(VARCHAR content, VARCHAR delimiter, INT field)
-- 根据分割符拆分字符串, 返回指定的分割部分(从一开始计数)。

mysql&gt; select split_part("hello world", " ", 1);
+----------------------------------+
| split_part('hello world', ' ', 1) |
+----------------------------------+
| hello                            |
+----------------------------------+


mysql&gt; select split_part("hello world", " ", 2);
+----------------------------------+
| split_part('hello world', ' ', 2) |
+----------------------------------+
| world                             |
+----------------------------------+

mysql&gt; select split_part("2019年7月8号", "月", 1);
+-----------------------------------------+
| split_part('2019年7月8号', '月', 1)     |
+-----------------------------------------+
| 2019年7                                 |
+-----------------------------------------+

mysql&gt; select split_part("abca", "a", 1);
+----------------------------+
| split_part('abca', 'a', 1) |
+----------------------------+
|                            |
+----------------------------+</code></pre> 
<h5 id="4.1.3.10%20money_format">4.1.3.10 money_format</h5> 
<pre><code class="hljs">VARCHAR money_format(Number)
-- 将数字按照货币格式输出，整数部分每隔3位用逗号分隔，小数部分保留2位

mysql&gt; select money_format(17014116);
+------------------------+
| money_format(17014116) |
+------------------------+
| 17,014,116.00          |
+------------------------+

mysql&gt; select money_format(1123.456);
+------------------------+
| money_format(1123.456) |
+------------------------+
| 1,123.46               |
+------------------------+

mysql&gt; select money_format(1123.4);
+----------------------+
| money_format(1123.4) |
+----------------------+
| 1,123.40             |
+----------------------+</code></pre> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/8be07dd39ba34a24c3d577774e42284b/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">超详细的万字Git分支教程（保姆级别）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/4b09ddc8c3d755a8d8f50c3eed40506f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Vue 2 中组件详解</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>