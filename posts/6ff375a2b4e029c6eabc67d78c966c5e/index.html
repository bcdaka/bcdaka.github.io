<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Android studio 性能调试 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/6ff375a2b4e029c6eabc67d78c966c5e/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="Android studio 性能调试">
  <meta property="og:description" content="一、概述 Android studio 的Profiler可用来分析cpu和memory问题，下来进行说明介绍。
二、Android studio CPU调试 从开发模拟器或设备中启动应用程序；
在 Android Studio 中，通过选择View &gt; Tool Windows &gt; Profiler启动分析器。
应用程序启动后，单击 &#43; 分析器中的按钮以查看下拉菜单。选择设备，然后在其他可分析进程下选择应用程序的条目。
选择监测CPU，可以看到线程和CPU占用信息
官网解释：
事件时间线：显示应用程序中在生命周期中不同状态之间转换的活动，并指示用户与设备的交互，包括屏幕旋转事件。有关在运行 Android 7.1（API 级别 25）及更低版本的设备上启用事件时间线的信息，请参阅 启用高级分析。CPU 时间线：显示应用程序的实时 CPU 使用情况（占总可用 CPU 时间的百分比）以及应用程序正在使用的线程总数。时间线还显示其他进程（例如系统进程或其他应用程序）的 CPU 使用情况，因此您可以将其与应用程序的使用情况进行比较。您可以通过沿着时间线的水平轴移动鼠标来检查历史 CPU 使用率数据。线程活动时间线：列出属于您的应用程序进程的每个线程，并使用下面列出的颜色沿着时间线指示其活动。记录跟踪后，您可以从此时间线中选择一个线程，以在跟踪窗格中检查其数据。 绿色：线程处于活动状态或准备好使用 CPU。也就是说，它处于正在运行或可运行状态。黄色：线程处于活动状态，但正在等待 I/O 操作（例如磁盘或网络 I/O），然后才能完成其工作。灰色：线程正在休眠，不消耗任何 CPU 时间。当线程需要访问尚不可用的资源时，有时会发生这种情况。线程要么进入自愿睡眠状态，要么内核将线程置于睡眠状态，直到所需的资源可用。CPU Profiler 还报告 Android Studio 和 Android 平台添加到应用程序进程中的线程的 CPU 使用情况，例如JDWP、 Profile Saver、Studio:VMStats、 Studio:Perfa和Studio:Heartbeat（尽管线程活动时间线中显示的确切名称可能有所不同）。Android Studio 会报告此数据，以便您可以确定线程活动和 CPU 使用率实际上是由应用代码引起的。
三、Android studio Memory调试 选择监测memory：
官网说明：
Java: Memory from objects allocated from Java or Kotlin code.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-03-14T18:23:32+08:00">
    <meta property="article:modified_time" content="2024-03-14T18:23:32+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Android studio 性能调试</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>一、概述</h2> 
<p>        Android studio 的Profiler可用来分析cpu和memory问题，下来进行说明介绍<strong>。</strong></p> 
<h2><strong>二、</strong>Android studio CPU调试</h2> 
<p style="margin-left:0;">从开发模拟器或设备中启动应用程序；</p> 
<p style="margin-left:0;"><strong>在 Android Studio 中，通过选择View</strong> &gt; <strong>Tool Windows</strong> &gt; <strong>Profiler</strong>启动分析器。</p> 
<p style="margin-left:0;">应用程序启动后，单击 + 分析器中的按钮以查看下拉菜单。选择设备，然后在其他可分析进程下选择应用程序的条目。</p> 
<p style="margin-left:0;">选择监测CPU，可以看到线程和CPU占用信息</p> 
<p style="margin-left:0;"><img alt="" height="290" src="https://images2.imgbox.com/ae/e7/BWJKAy7T_o.png" width="1200"></p> 
<p style="margin-left:0;"><img alt="" height="552" src="https://images2.imgbox.com/b7/e2/OVDp5NlR_o.png" width="1200"></p> 
<blockquote> 
 <p style="margin-left:0;">官网解释：</p> 
 <ol style="margin-left:30px;"><li><strong>事件时间线：</strong>显示应用程序中在生命周期中不同状态之间转换的活动，并指示用户与设备的交互，包括屏幕旋转事件。有关在运行 Android 7.1（API 级别 25）及更低版本的设备上启用事件时间线的信息，请参阅<a href="https://developer.android.com/studio/profile#advanced-profiling" rel="nofollow" title=" 启用高级分析"> 启用高级分析</a>。</li><li><strong>CPU 时间线：</strong>显示应用程序的实时 CPU 使用情况（占总可用 CPU 时间的百分比）以及应用程序正在使用的线程总数。时间线还显示其他进程（例如系统进程或其他应用程序）的 CPU 使用情况，因此您可以将其与应用程序的使用情况进行比较。您可以通过沿着时间线的水平轴移动鼠标来检查历史 CPU 使用率数据。</li><li><strong>线程活动时间线：</strong>列出属于您的应用程序进程的每个线程，并使用下面列出的颜色沿着时间线指示其活动。记录跟踪后，您可以从此时间线中选择一个线程，以在跟踪窗格中检查其数据。 
   <ul style="margin-left:0;"><li><strong>绿色：</strong>线程处于活动状态或准备好使用 CPU。也就是说，它处于正在运行或可运行状态。</li><li><strong>黄色：</strong>线程处于活动状态，但正在等待 I/O 操作（例如磁盘或网络 I/O），然后才能完成其工作。</li><li><strong>灰色：</strong>线程正在休眠，不消耗任何 CPU 时间。当线程需要访问尚不可用的资源时，有时会发生这种情况。线程要么进入自愿睡眠状态，要么内核将线程置于睡眠状态，直到所需的资源可用。</li></ul><p style="margin-left:0;">CPU Profiler 还报告 Android Studio 和 Android 平台添加到应用程序进程中的线程的 CPU 使用情况，例如<code>JDWP</code>、 <code>Profile Saver</code>、<code>Studio:VMStats</code>、 <code>Studio:Perfa</code>和<code>Studio:Heartbeat</code>（尽管线程活动时间线中显示的确切名称可能有所不同）。Android Studio 会报告此数据，以便您可以确定线程活动和 CPU 使用率实际上是由应用代码引起的。</p> </li></ol> 
</blockquote> 
<h2 style="margin-left:0px;"><strong>三、</strong>Android studio Memory调试</h2> 
<p style="margin-left:0;">选择监测memory：</p> 
<p style="margin-left:0;"><img alt="" height="345" src="https://images2.imgbox.com/1b/92/VKiQko8D_o.png" width="1046"></p> 
<blockquote> 
 <p>官网说明：</p> 
 <ul><li><strong>Java</strong>: Memory from objects allocated from Java or Kotlin code.</li><li> <p><strong>Native</strong>: Memory from objects allocated from C or C++ code.</p> <p>Even if you're not using C++ in your app, you might see some native memory used here because the Android framework uses native memory to handle various tasks on your behalf, such as when handling image assets and other graphics—even though the code you've written is in Java or Kotlin.</p> </li><li> <p><strong>Graphics</strong>: Memory used for graphics buffer queues to display pixels to the screen, including GL surfaces, GL textures, and so on. (Note that this is memory shared with the CPU, not dedicated GPU memory.)</p> </li><li> <p><strong>Stack</strong>: Memory used by both native and Java stacks in your app. This usually relates to how many threads your app is running.</p> </li><li> <p><strong>Code</strong>: Memory that your app uses for code and resources, such as dex bytecode, optimized or compiled dex code, .so libraries, and fonts.</p> </li><li> <p><strong>Others</strong>: Memory used by your app that the system isn't sure how to categorize.</p> </li><li> <p><strong>Allocated</strong>: The number of Java/Kotlin objects allocated by your app. This does not count objects allocated in C or C++.</p> <p>When connected to a device running Android 7.1 and lower, this allocation count starts only at the time the Memory Profiler connected to your running app. So any objects allocated before you start profiling are not accounted for. However, Android 8.0 and higher includes an on-device profiling tool that keeps track of all allocations, so this number always represents the total number of Java objects outstanding in your app on</p> </li></ul> 
</blockquote> 
<h2>四、Android studio logcat调试</h2> 
<p>点击如下红框进行logcat调试：</p> 
<p>过滤条件：</p> 
<p>//输入package:（输入一个p就会有提示的） ，+ 你的包名 package:com.test.test</p> 
<p>// 输入level: ，后面加上等级，如info，debug，warning等 // 当等级为Info时，过滤Info及以上的日志 level:debug</p> 
<p>// 输入tag: ,后面跟上你要过滤的TAG，此功能同老版本的AS tag:TAG</p> 
<p>// 输入message: +过滤的关键字 message:KW</p> 
<p><img alt="" height="51" src="https://images2.imgbox.com/0c/b2/Xahzz3l3_o.png" width="449"></p> 
<p><img alt="" height="363" src="https://images2.imgbox.com/e2/9f/C2DXuexd_o.png" width="1200"></p> 
<p> 详细可 参考官网：</p> 
<p><a href="https://developer.android.com/studio/profile?utm_source=android-studio" rel="nofollow" title="Profile your app performance  |  Android Studio  |  Android Developers">Profile your app performance  |  Android Studio  |  Android Developers</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/319f2e4ba37ff0af5a0e66e5b3e7a97b/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">由世界第一个AI软件工程师Devin引发的热潮背后----程序员到底会不会被代替?AI发展至如今是否初衷已变?</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/533303a8dd011e8d74c98922e1b34203/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">关于小程序如何做到强制更新</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>