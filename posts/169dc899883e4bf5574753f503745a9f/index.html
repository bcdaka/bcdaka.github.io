<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>极致的灵活度满足工程美学：用Vue Flow绘制一个完美流程图 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/169dc899883e4bf5574753f503745a9f/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="极致的灵活度满足工程美学：用Vue Flow绘制一个完美流程图">
  <meta property="og:description" content="目录
极致的灵活度满足工程美学：用Vue Flow绘制一个完美流程图
一、环境要求
二、初识Vue Flow
2.1、安装Vue Flow
2.2、Vue Flow构成
2.3、一个小坑
2.4、入门案例
三、Vue Flow优秀的自定义功能
3.1、引入
3.2、节点与连线的自定义
①打样（做模板）
②模版取名
③替换模版
3.3、节点与连线的事件
①节点事件
②连线事件
3.4、句柄（handles）
四、一个优质的案例
五、总结
极致的灵活度满足工程美学：用Vue Flow绘制一个完美流程图 Vue Flow的入门门槛要高不少，毕竟找不到中文文档，反正我是不太喜欢看纯英文的文档的。不过没关系，看完这篇还用不好Vue Flow请来找我麻烦。
一、环境要求 Node.js v20 或更高版本
Vue 3.3 或更高版本
前者，没有装nvm建议装一个nvm，noder没有nvm是行不通的。后者意味着Vue Flow不支持Vue2，据说有些辅助组件可以让部分功能在Vue中使用。
Tips:
如果把我的源码抄过去都跑不动，要么是依赖没有装好，要么是依赖的版本不对，Vue Flow的版本更迭是会伴随着API的更迭的，所以可以安装特定版本的Vue Flow来解决问题。我的Vue Flow版本是：​v1.39.0​
package.json：
&#34;@vue-flow/background&#34;: &#34;^1.3.0&#34;,
&#34;@vue-flow/controls&#34;: &#34;^1.1.2&#34;,
&#34;@vue-flow/core&#34;: &#34;^1.38.5&#34;,
&#34;@vue-flow/minimap&#34;: &#34;^1.5.0&#34;,
二、初识Vue Flow 2.1、安装Vue Flow 根据自己的包管理器安装
不习惯用add就用install，也没问题
npm add @vue-flow/core
pnpm add @vue-flow/core
yarn add @vue-flow/core
2.2、Vue Flow构成 在 Vue Flow 中，图由节点和边组成，每个节点或边都需要一个唯一的ID，节点还需要 XY 位置，而边需要 source 和 target 节点 ID，具体参照下方示例中的数据。">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-07-29T17:57:48+08:00">
    <meta property="article:modified_time" content="2024-07-29T17:57:48+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">极致的灵活度满足工程美学：用Vue Flow绘制一个完美流程图</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="%E2%80%8B%E2%80%8B%E2%80%8B%E2%80%8B%E2%80%8B%E2%80%8B%E2%80%8B%E6%9E%81%E8%87%B4%E7%9A%84%E7%81%B5%E6%B4%BB%E5%BA%A6%E6%BB%A1%E8%B6%B3%E5%B7%A5%E7%A8%8B%E7%BE%8E%E5%AD%A6%EF%BC%9A%E7%94%A8Vue%20Flow%E7%BB%98%E5%88%B6%E4%B8%80%E4%B8%AA%E5%AE%8C%E7%BE%8E%E6%B5%81%E7%A8%8B%E5%9B%BE-toc" style="margin-left:0px;"><a href="#%E2%80%8B%E2%80%8B%E2%80%8B%E2%80%8B%E2%80%8B%E2%80%8B%E2%80%8B%E6%9E%81%E8%87%B4%E7%9A%84%E7%81%B5%E6%B4%BB%E5%BA%A6%E6%BB%A1%E8%B6%B3%E5%B7%A5%E7%A8%8B%E7%BE%8E%E5%AD%A6%EF%BC%9A%E7%94%A8Vue%20Flow%E7%BB%98%E5%88%B6%E4%B8%80%E4%B8%AA%E5%AE%8C%E7%BE%8E%E6%B5%81%E7%A8%8B%E5%9B%BE" rel="nofollow">极致的灵活度满足工程美学：用Vue Flow绘制一个完美流程图</a></p> 
<p id="%E4%B8%80%E3%80%81%E7%8E%AF%E5%A2%83%E8%A6%81%E6%B1%82-toc" style="margin-left:40px;"><a href="#%E4%B8%80%E3%80%81%E7%8E%AF%E5%A2%83%E8%A6%81%E6%B1%82" rel="nofollow">一、环境要求</a></p> 
<p id="%E4%BA%8C%E3%80%81%E5%88%9D%E8%AF%86Vue%20Flow-toc" style="margin-left:40px;"><a href="#%E4%BA%8C%E3%80%81%E5%88%9D%E8%AF%86Vue%20Flow" rel="nofollow">二、初识Vue Flow</a></p> 
<p id="2.1%E3%80%81%E5%AE%89%E8%A3%85Vue%20Flow-toc" style="margin-left:120px;"><a href="#2.1%E3%80%81%E5%AE%89%E8%A3%85Vue%20Flow" rel="nofollow">2.1、安装Vue Flow</a></p> 
<p id="2.2%E3%80%81Vue%20Flow%E6%9E%84%E6%88%90-toc" style="margin-left:120px;"><a href="#2.2%E3%80%81Vue%20Flow%E6%9E%84%E6%88%90" rel="nofollow">2.2、Vue Flow构成</a></p> 
<p id="2.3%E3%80%81%E4%B8%80%E4%B8%AA%E5%B0%8F%E5%9D%91-toc" style="margin-left:120px;"><a href="#2.3%E3%80%81%E4%B8%80%E4%B8%AA%E5%B0%8F%E5%9D%91" rel="nofollow">2.3、一个小坑</a></p> 
<p id="2.4%E3%80%81%E5%85%A5%E9%97%A8%E6%A1%88%E4%BE%8B-toc" style="margin-left:120px;"><a href="#2.4%E3%80%81%E5%85%A5%E9%97%A8%E6%A1%88%E4%BE%8B" rel="nofollow">2.4、入门案例</a></p> 
<p id="%E4%B8%89%E3%80%81Vue%20Flow%E4%BC%98%E7%A7%80%E7%9A%84%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8A%9F%E8%83%BD-toc" style="margin-left:40px;"><a href="#%E4%B8%89%E3%80%81Vue%20Flow%E4%BC%98%E7%A7%80%E7%9A%84%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8A%9F%E8%83%BD" rel="nofollow">三、Vue Flow优秀的自定义功能</a></p> 
<p id="3.1%E3%80%81%E5%BC%95%E5%85%A5-toc" style="margin-left:120px;"><a href="#3.1%E3%80%81%E5%BC%95%E5%85%A5" rel="nofollow">3.1、引入</a></p> 
<p id="3.2%E3%80%81%E8%8A%82%E7%82%B9%E4%B8%8E%E8%BF%9E%E7%BA%BF%E7%9A%84%E8%87%AA%E5%AE%9A%E4%B9%89-toc" style="margin-left:120px;"><a href="#3.2%E3%80%81%E8%8A%82%E7%82%B9%E4%B8%8E%E8%BF%9E%E7%BA%BF%E7%9A%84%E8%87%AA%E5%AE%9A%E4%B9%89" rel="nofollow">3.2、节点与连线的自定义</a></p> 
<p id="%E2%91%A0%E6%89%93%E6%A0%B7%EF%BC%88%E5%81%9A%E6%A8%A1%E6%9D%BF%EF%BC%89-toc" style="margin-left:160px;"><a href="#%E2%91%A0%E6%89%93%E6%A0%B7%EF%BC%88%E5%81%9A%E6%A8%A1%E6%9D%BF%EF%BC%89" rel="nofollow">①打样（做模板）</a></p> 
<p id="%E2%91%A1%E6%A8%A1%E7%89%88%E5%8F%96%E5%90%8D-toc" style="margin-left:160px;"><a href="#%E2%91%A1%E6%A8%A1%E7%89%88%E5%8F%96%E5%90%8D" rel="nofollow">②模版取名</a></p> 
<p id="%E2%91%A2%E6%9B%BF%E6%8D%A2%E6%A8%A1%E7%89%88-toc" style="margin-left:160px;"><a href="#%E2%91%A2%E6%9B%BF%E6%8D%A2%E6%A8%A1%E7%89%88" rel="nofollow">③替换模版</a></p> 
<p id="%C2%A03.3%E3%80%81%E8%8A%82%E7%82%B9%E4%B8%8E%E8%BF%9E%E7%BA%BF%E7%9A%84%E4%BA%8B%E4%BB%B6-toc" style="margin-left:120px;"><a href="#%C2%A03.3%E3%80%81%E8%8A%82%E7%82%B9%E4%B8%8E%E8%BF%9E%E7%BA%BF%E7%9A%84%E4%BA%8B%E4%BB%B6" rel="nofollow"> 3.3、节点与连线的事件</a></p> 
<p id="%E2%91%A0%E8%8A%82%E7%82%B9%E4%BA%8B%E4%BB%B6-toc" style="margin-left:160px;"><a href="#%E2%91%A0%E8%8A%82%E7%82%B9%E4%BA%8B%E4%BB%B6" rel="nofollow">①节点事件</a></p> 
<p id="%E2%91%A1%E8%BF%9E%E7%BA%BF%E4%BA%8B%E4%BB%B6-toc" style="margin-left:160px;"><a href="#%E2%91%A1%E8%BF%9E%E7%BA%BF%E4%BA%8B%E4%BB%B6" rel="nofollow">②连线事件</a></p> 
<p id="3.4%E3%80%81%E5%8F%A5%E6%9F%84%EF%BC%88handles%EF%BC%89-toc" style="margin-left:120px;"><a href="#3.4%E3%80%81%E5%8F%A5%E6%9F%84%EF%BC%88handles%EF%BC%89" rel="nofollow">3.4、句柄（handles）</a></p> 
<p id="%E5%9B%9B%E3%80%81%E4%B8%80%E4%B8%AA%E4%BC%98%E8%B4%A8%E7%9A%84%E6%A1%88%E4%BE%8B-toc" style="margin-left:40px;"><a href="#%E5%9B%9B%E3%80%81%E4%B8%80%E4%B8%AA%E4%BC%98%E8%B4%A8%E7%9A%84%E6%A1%88%E4%BE%8B" rel="nofollow">四、一个优质的案例</a></p> 
<p id="%E4%BA%94%E3%80%81%E6%80%BB%E7%BB%93-toc" style="margin-left:40px;"><a href="#%E4%BA%94%E3%80%81%E6%80%BB%E7%BB%93" rel="nofollow">五、总结</a></p> 
<hr id="hr-toc"> 
<p></p> 
<h2>极致的灵活度满足工程美学：用Vue Flow绘制一个完美流程图</h2> 
<p>        Vue Flow的入门门槛要高不少，毕竟找不到中文文档，反正我是不太喜欢看纯英文的文档的。不过没关系，看完这篇还用不好Vue Flow请来找我麻烦。</p> 
<h3 id="%E4%B8%80%E3%80%81%E7%8E%AF%E5%A2%83%E8%A6%81%E6%B1%82">一、环境要求</h3> 
<p>        Node.js v20 或更高版本</p> 
<p>        Vue 3.3 或更高版本</p> 
<p>        前者，没有装nvm建议装一个nvm，noder没有nvm是行不通的。后者意味着Vue Flow不支持Vue2，据说有些辅助组件可以让部分功能在Vue中使用。</p> 
<blockquote> 
 <p><strong>Tips:</strong></p> 
 <p>        如果把我的源码抄过去都跑不动，要么是依赖没有装好，要么是依赖的版本不对，Vue Flow的版本更迭是会伴随着API的更迭的，所以可以安装特定版本的Vue Flow来解决问题。我的Vue Flow版本是：​v1.39.0​</p> 
 <p>package.json：</p> 
 <p>    "@vue-flow/background": "^1.3.0",</p> 
 <p>    "@vue-flow/controls": "^1.1.2",</p> 
 <p>    "@vue-flow/core": "^1.38.5",</p> 
 <p>    "@vue-flow/minimap": "^1.5.0",</p> 
</blockquote> 
<h3 id="%E4%BA%8C%E3%80%81%E5%88%9D%E8%AF%86Vue%20Flow">二、初识Vue Flow</h3> 
<h5 id="2.1%E3%80%81%E5%AE%89%E8%A3%85Vue%20Flow">2.1、安装Vue Flow</h5> 
<p>        根据自己的包管理器安装</p> 
<blockquote> 
 <p>不习惯用add就用install，也没问题</p> 
 <p>npm add @vue-flow/core</p> 
 <p>pnpm add @vue-flow/core</p> 
 <p>yarn add @vue-flow/core</p> 
</blockquote> 
<h5 id="2.2%E3%80%81Vue%20Flow%E6%9E%84%E6%88%90">2.2、Vue Flow构成</h5> 
<p>        在 Vue Flow 中，图由节点和边组成，<strong>每个节点或边都需要一个唯一的ID，</strong>节点还需要 XY 位置，而边需要 source 和 target 节点 ID，具体参照下方示例中的数据。</p> 
<h5 id="2.3%E3%80%81%E4%B8%80%E4%B8%AA%E5%B0%8F%E5%9D%91">2.3、一个小坑</h5> 
<p>        我最开始在官网上找案例的时候，发现除了教程案例以外的所有多组件案例都跑不动。不要只顾着怀疑自己，因为官网上的案例就是跑不动的。</p> 
<p>        原因在于：</p> 
<blockquote> 
 <p>为了确保 Vue Flow 正确显示，请确保包含必要的样式。</p> 
 <p>/* these are necessary styles for vue flow */</p> 
 <p>@import '@vue-flow/core/dist/style.css';</p> 
 <p>/* this contains the default theme, these are optional styles */</p> 
 <p>@import '@vue-flow/core/dist/theme-default.css';</p> 
</blockquote> 
<p>         是的，官网复杂案例全都没有添加这两行代码，估计是写文档的程序员被push的太狠了，抓紧写了几个案例就把代码放上来，没有意识到自己是全局引入（我猜的）了这两行代码，并且没有做任何提示。</p> 
<p>        但对于我们来说，只是为了画几个流程图的话，全局引入只会让代码变得冗余。局部引入就够了，把这两行放到style中官网的复杂案例就都可以执行了。</p> 
<h5 id="2.4%E3%80%81%E5%85%A5%E9%97%A8%E6%A1%88%E4%BE%8B">2.4、入门案例</h5> 
<p>        请注意，这个代码确定能跑，如果跑不动请先检查依赖。</p> 
<p>        结构非常简单，定义了一个节点数据数组，一个连线数据数组，然后绑定给VueFlow组件即可。</p> 
<pre><code class="language-javascript">&lt;script setup&gt;
import { ref } from "vue";
import { VueFlow } from "@vue-flow/core";

const nodes = ref([
  // an input node, specified by using `type: 'input'`
  {
    id: "1",
    type: "input",
    position: { x: 250, y: 5 },
    // all nodes can have a data object containing any data you want to pass to the node
    // a label can property can be used for default nodes
    data: { label: "Node 1" },
  },

  // default node, you can omit `type: 'default'` as it's the fallback type
  {
    id: "2",
    position: { x: 100, y: 100 },
    data: { label: "Node 2" },
  },

  // An output node, specified by using `type: 'output'`
  {
    id: "3",
    type: "output",
    position: { x: 400, y: 200 },
    data: { label: "Node 3" },
  },

  // this is a custom node
  // we set it by using a custom type name we choose, in this example `special`
  // the name can be freely chosen, there are no restrictions as long as it's a string
  {
    id: "4",
    type: "special", // &lt;-- this is the custom node type name
    position: { x: 800, y: 200 },
    data: {
      label: "Node 4",
      hello: "world",
    },
  },
]);

const edges = ref([
  // default bezier edge
  // consists of an edge id, source node id and target node id
  {
    id: "e1-&gt;2",
    source: "1",
    target: "2",
  },

  // set `animated: true` to create an animated edge path
  {
    id: "e2-&gt;3",
    source: "2",
    target: "3",
    animated: true,
  },

  // a custom edge, specified by using a custom type name
  // we choose `type: 'special'` for this example
  {
    id: "e3-&gt;4",
    type: "special",
    source: "3",
    target: "4",

    // all edges can have a data object containing any data you want to pass to the edge
    data: {
      hello: "world",
    },
  },
]);
&lt;/script&gt;

&lt;template&gt;
  &lt;VueFlow :nodes="nodes" :edges="edges" style="height: 100vh; width: 100vw"&gt;
  &lt;/VueFlow&gt;
&lt;/template&gt;

&lt;style&gt;
/* import the necessary styles for Vue Flow to work */
@import "@vue-flow/core/dist/style.css";

/* import the default theme, this is optional but generally recommended */
@import "@vue-flow/core/dist/theme-default.css";
&lt;/style&gt;</code></pre> 
<h3 id="%E4%B8%89%E3%80%81Vue%20Flow%E4%BC%98%E7%A7%80%E7%9A%84%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8A%9F%E8%83%BD">三、Vue Flow优秀的自定义功能</h3> 
<h5 id="3.1%E3%80%81%E5%BC%95%E5%85%A5">3.1、引入</h5> 
<p>        首先，预定义的配置项就不介绍了，上面的案例基本就是全部的预定义配置了，这一点和mermaid完全无法相比，<strong>但是你要用预定义的配置为什么不直接用mermaid呢？那个更简单清爽。</strong></p> 
<p>        Vue Flow的特点就是，什么都可以要，什么都要自己写。</p> 
<p>        相比于mermaid来说，Vue Flow接受的数据更复杂冗长，并且预定义的内容极少，连默认的布局都没有（节点通过position控制位置，很容易重叠）。但是Vue Flow提供的自定义API非常丰富并且强大。</p> 
<h5 id="3.2%E3%80%81%E8%8A%82%E7%82%B9%E4%B8%8E%E8%BF%9E%E7%BA%BF%E7%9A%84%E8%87%AA%E5%AE%9A%E4%B9%89">3.2、节点与连线的自定义</h5> 
<p>        自定义三步走：打样取名做替换。</p> 
<h6 id="%E2%91%A0%E6%89%93%E6%A0%B7%EF%BC%88%E5%81%9A%E6%A8%A1%E6%9D%BF%EF%BC%89">①打样（做模板）</h6> 
<p>        做一个节点或者连线的模版，比如我需要一个长得像太阳的节点，那么我就写一个组件，然后把这个组件做成一个太阳的样子。</p> 
<h6 id="%E2%91%A1%E6%A8%A1%E7%89%88%E5%8F%96%E5%90%8D">②模版取名</h6> 
<p>        给自己做的模版取一个名字，比如就叫sun，然后将想要使用这个模版的节点的type属性全部改成"sun"。</p> 
<h6 id="%E2%91%A2%E6%9B%BF%E6%8D%A2%E6%A8%A1%E7%89%88">③替换模版</h6> 
<p>        在&lt;VueFlow&gt;标签之间添加如下代码，主要关注插槽名称“#node-sun”意味着所有type为sun的节点都使用这个插槽的模版。比如我设计了一种连线取名为darge，那么插槽名就是“#edge-darge”。</p> 
<pre><code class="language-javascript">// 在script中引入
import sunNode from "./sunNode.vue";

&lt;template&gt;
  &lt;div class="layout-flow"&gt;

    &lt;VueFlow
      :nodes="nodes"
      :edges="edges"
      @nodes-initialized="layoutGraph('TB')"
    &gt;
      &lt;template #node-sun="props"&gt;
        &lt;div class="sunNode"&gt;
          &lt;span&gt;{<!-- -->{ props.data.label }}&lt;/span&gt;
        &lt;/div&gt;
      &lt;/template&gt;
    &lt;/VueFlow&gt;
  &lt;/div&gt;

&lt;/template&gt;
</code></pre> 
<h5 id="%C2%A03.3%E3%80%81%E8%8A%82%E7%82%B9%E4%B8%8E%E8%BF%9E%E7%BA%BF%E7%9A%84%E4%BA%8B%E4%BB%B6"> 3.3、节点与连线的事件</h5> 
<p>        该有的事件应有尽有，不得不佩服Vue Flow的完善与强大。</p> 
<h6 id="%E2%91%A0%E8%8A%82%E7%82%B9%E4%BA%8B%E4%BB%B6">①节点事件</h6> 
<p>        这是我比较建议的用法，比较简洁</p> 
<pre><code class="language-javascript">&lt;script setup&gt;
import { ref } from 'vue'
import { VueFlow } from '@vue-flow/core'

const nodes = ref([
  {
    id: '1',
    data: { label: 'Node 1' },
    position: { x: 50, y: 50 },
  },
])
  
function logEvent(name, data) {
  console.log(name, data)
}
&lt;/script&gt;

&lt;template&gt;
  &lt;!-- bind listeners to the event handlers --&gt;
  &lt;VueFlow
    :nodes="nodes"
    @node-drag-start="logEvent('drag start', $event)"
    @node-drag="logEvent('drag', $event)"
    @node-drag-stop="logEvent('drag stop', $event)"
    @node-click="logEvent('click', $event)"
    @node-double-click="logEvent('dblclick', $event)"
    @node-contextmenu="logEvent('contextmenu', $event)"
    @node-mouse-enter="logEvent('mouseenter', $event)"
    @node-mouse-leave="logEvent('mouseleave', $event)"
    @node-mouse-move="logEvent('mousemove', $event)"
  /&gt;
&lt;/template&gt;</code></pre> 
<p>        也可以使用useVueFlow这个API，将这些事件转化为钩子，我觉得优势不明显，写起来也冗余。</p> 
<pre><code class="language-javascript">&lt;script setup&gt;
import { ref } from 'vue'  
import { VueFlow, useVueFlow } from '@vue-flow/core'

// useVueFlow provides access to the event handlers
const { 
  onNodeDragStart, 
  onNodeDrag,
  onNodeDragStop, 
  onNodeClick, 
  onNodeDoubleClick, 
  onNodeContextMenu, 
  onNodeMouseEnter, 
  onNodeMouseLeave, 
  onNodeMouseMove 
} = useVueFlow()
  
const nodes = ref([
  {
    id: '1',
    data: { label: 'Node 1' },
    position: { x: 50, y: 50 },
  },
])
  
// bind listeners to the event handlers
onNodeDragStart((event) =&gt; {
  console.log('Node drag started', event)
})

onNodeDrag((event) =&gt; {
  console.log('Node dragged', event)
})

onNodeDragStop((event) =&gt; {
  console.log('Node drag stopped', event)
})
  
// ... and so on  
&lt;/script&gt;

&lt;template&gt;
  &lt;VueFlow :nodes="nodes" /&gt;
&lt;/template&gt;</code></pre> 
<h6 id="%E2%91%A1%E8%BF%9E%E7%BA%BF%E4%BA%8B%E4%BB%B6">②连线事件</h6> 
<p>        连线事件也可以使用useVueFlow这个API，用法和上方一样，我就不赘述了，这里展示一下有哪些事件API。</p> 
<pre><code class="language-javascript">&lt;script setup&gt;
import { ref } from 'vue'
import { VueFlow } from '@vue-flow/core'

const nodes = ref([
  {
    id: '1',
    position: { x: 50, y: 50 },
    data: { label: 'Node 1', },
  },
  {
    id: '2',
    position: { x: 50, y: 250 },
    data: { label: 'Node 2', },
  },
])

const edges = ref([
  {
    id: 'e1-&gt;2',
    source: '1',
    target: '2',
  },
])
  
function logEvent(eventName, data) {
  console.log(eventName, data)
}
&lt;/script&gt;

&lt;template&gt;
  &lt;VueFlow
    :nodes="nodes"
    :edges="edges"
    @edge-click="logEvent('edge clicked', $event)"
    @edge-double-click="logEvent('edge double clicked', $event)"
    @edge-context-menu="logEvent('edge context menu', $event)"
    @edge-mouse-enter="logEvent('edge mouse enter', $event)"
    @edge-mouse-leave="logEvent('edge mouse leave', $event)"
    @edge-mouse-move="logEvent('edge mouse move', $event)"
    @edge-update-start="logEvent('edge update start', $event)"
    @edge-update="logEvent('edge update', $event)"
    @edge-update-end="logEvent('edge update end', $event)"
  /&gt;
&lt;/template&gt;</code></pre> 
<h5 id="3.4%E3%80%81%E5%8F%A5%E6%9F%84%EF%BC%88handles%EF%BC%89">3.4、句柄（handles）</h5> 
<p>        句柄是通常放置在节点边界上的小圆圈。它们用于通过将连接线从一个手柄拖动到另一个手柄来将节点连接在一起，从而在节点之间形成连接（边缘）。句柄是 VueFlow 的重要组成部分，因为它们是用户在节点之间创建边的主要交互点。如果没有句柄，基本上不可能在节点之间创建边，因为句柄用于计算边的源点和目标点。</p> 
<p>        简单来说，就是两个节点连接需要通过句柄，如果没有句柄就无法连接。句柄就是连线两端的端点。常用在自定义节点的组件中，用来指定连线的起始点。</p> 
<p>        句柄handdle需要设置两个属性，一个是类型（source/target），一个是位置（Top、Right、Bottom、Left），示例如下：</p> 
<pre><code class="language-javascript">&lt;script setup&gt;
import { Handle } from '@vue-flow/core'
  
defineProps(['id', 'sourcePosition', 'targetPosition', 'data'])
&lt;/script&gt;

&lt;template&gt;
  &lt;Handle type="source" :position="sourcePosition" /&gt;
  
  &lt;span&gt;{<!-- -->{ data.label }}&lt;/span&gt;
  
  &lt;Handle type="target" :position="targetPosition" /&gt;
&lt;/template&gt;</code></pre> 
<h3 id="%E5%9B%9B%E3%80%81%E4%B8%80%E4%B8%AA%E4%BC%98%E8%B4%A8%E7%9A%84%E6%A1%88%E4%BE%8B" style="background-color:transparent;">四、一个优质的案例</h3> 
<p style="text-align:center;"><img alt="" height="323" src="https://images2.imgbox.com/1a/98/PwmFUCsP_o.png" width="508"></p> 
<p>        案例具体代码请访问：<a href="https://vueflow.dev/examples/layout.html" rel="nofollow" title="Layouting | Vue Flow">Layouting | Vue Flow</a></p> 
<p>        将所有组件代码复制到您的项目中即可，请注意相对路径关系，如果您没有全局引入2.3部分的内容，请在style中添加：</p> 
<pre><code class="language-javascript">&lt;style&gt;
@import "@vue-flow/core/dist/style.css";
@import "@vue-flow/core/dist/theme-default.css";


// ...其他的css样式
&lt;/style&gt;</code></pre> 
<h3 id="%E4%BA%94%E3%80%81%E6%80%BB%E7%BB%93">五、总结</h3> 
<p>        相比于mermaid，Vue Flow将注意力更多的转到灵活自定义的接口而不是大量的预定义模版，“什么都可以有，什么都要自己写。”是Vue Flow的典型特征。如果您想发挥自己天马行空的想象力，或者满足复杂的项目流程需求，Vue Flow一定能满足您的预期。</p> 
<p>        博客不应该只有代码和解决方案，重点应该在于给出解决方案的同时分享思维模式，只有思维才能可持续地解决问题，只有思维才是真正值得学习和分享的核心要素。如果这篇博客能给您带来一点帮助，麻烦您点个赞支持一下，还可以收藏起来以备不时之需，有疑问和错误欢迎在评论区指出~</p> 
<p>        更多优质内容，请关注：</p> 
<p><strong> JS语法与Vue开发：</strong></p> 
<p><strong>        </strong><a href="https://blog.csdn.net/RenGJ010617/article/details/140183879" title="Vue 性能革命：揭秘前端优化的终极技巧">Vue 性能革命：揭秘前端优化的终极技巧</a></p> 
<p><strong>        </strong><a href="https://blog.csdn.net/RenGJ010617/article/details/140103910" title="属性描述符初探——Vue实现数据劫持的基础">属性描述符初探——Vue实现数据劫持的基础</a></p> 
<p>        <a href="https://blog.csdn.net/RenGJ010617/article/details/139199863?spm=1001.2014.3001.5501" title="你真的会使用Vue3的onMounted钩子函数吗？Vue3中onMounted的用法详解">你真的会使用Vue3的onMounted钩子函数吗？Vue3中onMounted的用法详解</a></p> 
<p><strong>        </strong><a href="https://blog.csdn.net/RenGJ010617/article/details/139988463?spm=1001.2014.3001.5501" title="最细最有条理解析：事件循环（消息循环）是什么？进程与线程的定义、关系与差异">最细最有条理解析：事件循环（消息循环）是什么？进程与线程的定义、关系与差异</a></p> 
<p>        <a href="https://blog.csdn.net/RenGJ010617/article/details/139552334?spm=1001.2014.3001.5501" title="路由通配符，小小的字符有大大的作用，你真的熟悉吗？">路由通配符，小小的字符有大大的作用，你真的熟悉吗？</a> </p> 
<p>        <a href="https://blog.csdn.net/RenGJ010617/article/details/139552256?spm=1001.2014.3001.5501" title="管理数据必备！侦听器watch用法详解">管理数据必备！侦听器watch用法详解</a></p> 
<p>        <a href="https://blog.csdn.net/RenGJ010617/article/details/139704285?spm=1001.2014.3001.5501" title="什么是深拷贝？深拷贝和浅拷贝有什么区别">什么是深拷贝？深拷贝和浅拷贝有什么区别</a></p> 
<p>        <a href="https://blog.csdn.net/RenGJ010617/article/details/139535663?spm=1001.2014.3001.5501" title="对象数据的读取，看这一篇就够了！">对象数据的读取，看这一篇就够了！</a></p> 
<p>        <a href="https://blog.csdn.net/RenGJ010617/article/details/138393045?spm=1001.2014.3001.5501" title="通过array.every(）实现数据验证、权限检查和一致性检查，array.some与array.every的区别">通过array.every(）实现数据验证、权限检查和一致性检查，array.some与array.every的区别</a></p> 
<p>        <a href="https://blog.csdn.net/RenGJ010617/article/details/138730756?spm=1001.2014.3001.5501" title="通过array.some(）实现权限检查、表单验证、库存管理、内容审查和数据处理">通过array.some(）实现权限检查、表单验证、库存管理、内容审查和数据处理</a></p> 
<p>        <a href="https://blog.csdn.net/RenGJ010617/article/details/138466122?spm=1001.2014.3001.5501" title="通过array.map(）实现数据转换、创建派生数组、异步数据流处理、搜索和过滤等需求">通过array.map(）实现数据转换、创建派生数组、异步数据流处理、搜索和过滤等需求</a></p> 
<p>        <a href="https://blog.csdn.net/RenGJ010617/article/details/138353608?spm=1001.2014.3001.5501" title="通过array.reduce(）实现数据汇总、条件筛选和映射、对象属性的扁平化、转换数据格式等">通过array.reduce(）实现数据汇总、条件筛选和映射、对象属性的扁平化、转换数据格式等</a></p> 
<p>        <a href="https://blog.csdn.net/RenGJ010617/article/details/138222741?spm=1001.2014.3001.5501" title="通过array.filter()实现数组的数据筛选、数据清洗和链式调用">通过array.filter()实现数组的数据筛选、数据清洗和链式调用</a></p> 
<p>        <a href="https://blog.csdn.net/RenGJ010617/article/details/139361815?spm=1001.2014.3001.5501" title="多维数组操作，不要再用遍历循环foreach了，来试试数组展平的小妙招！">多维数组操作，不要再用遍历循环foreach了，来试试数组展平的小妙招！</a></p> 
<p>        <a href="https://blog.csdn.net/RenGJ010617/article/details/139374250?spm=1001.2014.3001.5501" title="别再用双层遍历循环来做新旧数组对比，寻找新增元素了！">别再用双层遍历循环来做新旧数组对比，寻找新增元素了！</a></p> 
<p>        <a href="https://blog.csdn.net/RenGJ010617/article/details/138395134?spm=1001.2014.3001.5501" title="shpfile转GeoJSON且控制转化精度；如何获取GeoJSON？GeoJson结构详解">shpfile转GeoJSON且控制转化精度；如何获取GeoJSON？GeoJson结构详解</a></p> 
<p>        <a href="https://blog.csdn.net/RenGJ010617/article/details/137978979?spm=1001.2014.3001.5501" title="Mapbox添加行政区矢量图层、分级设色图层、自定义鼠标悬浮框、添加天地图底图等">Mapbox添加行政区矢量图层、分级设色图层、自定义鼠标悬浮框、添加天地图底图等</a></p> 
<p><strong>Element plus拓展：</strong></p> 
<p>        <a href="https://blog.csdn.net/RenGJ010617/article/details/139096337?spm=1001.2014.3001.5501" title="通过el-tree自定义渲染网页版工作目录，实现鼠标悬浮显示完整名称等">通过el-tree自定义渲染网页版工作目录，实现鼠标悬浮显示完整名称等</a></p> 
<p>        <a href="https://blog.csdn.net/RenGJ010617/article/details/137382619?spm=1001.2014.3001.5501" title="el-table实现动态数据的实时排序，一篇文章讲清楚elementui的表格排序功能">el-table实现动态数据的实时排序，一篇文章讲清楚elementui的表格排序功能</a></p> 
<p>        <a href="https://blog.csdn.net/RenGJ010617/article/details/137212155?spm=1001.2014.3001.5501" title="el-table中如何添加渐变色带、多色色带">el-table中如何添加渐变色带、多色色带</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/55d53ac0424afcee0acb8fe90dfe92f5/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【C&#43;&#43;/STL】：哈希 -- 线性探测&amp;哈希桶</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/4dbcfbca19c60aee1bc3efbf6fb68f17/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">保姆级教程 ！SQL Server数据库的备份和还原</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>