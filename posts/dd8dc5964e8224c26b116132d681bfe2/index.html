<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Web Component -- å³å°†çˆ†å‘çš„åŸç”Ÿçš„ UI ç»„ä»¶åŒ–æ ‡å‡† - ç¼–ç¨‹å¤§å’–</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/dd8dc5964e8224c26b116132d681bfe2/">
  <meta property="og:site_name" content="ç¼–ç¨‹å¤§å’–">
  <meta property="og:title" content="Web Component -- å³å°†çˆ†å‘çš„åŸç”Ÿçš„ UI ç»„ä»¶åŒ–æ ‡å‡†">
  <meta property="og:description" content="Web Component æ¦‚è¿° Web Component æ˜¯ä¸€ç§ç”¨äºæ„å»ºå¯å¤ç”¨ç”¨æˆ·ç•Œé¢ç»„ä»¶çš„æŠ€æœ¯ï¼Œå¼€å‘è€…å¯ä»¥åˆ›å»ºè‡ªå®šä¹‰çš„ HTML æ ‡ç­¾ï¼Œå¹¶å°†å…¶å°è£…ä¸ºåŒ…å«é€»è¾‘å’Œæ ·å¼çš„ç‹¬ç«‹ç»„ä»¶ï¼Œä»è€Œåœ¨ä»»ä½• Web åº”ç”¨ä¸­é‡å¤ä½¿ç”¨ã€‚
æ¯ä¸ª Web Component éƒ½å…·æœ‰è‡ªå·±çš„ DOM å’Œæ ·å¼éš”ç¦»ï¼Œé¿å…äº†å…¨å±€ CSS å’Œ JavaScript çš„å†²çªé—®é¢˜ã€‚å®ƒè¿˜æ”¯æŒè‡ªå®šä¹‰äº‹ä»¶å’Œå±æ€§ï¼Œå¯ä»¥ä¸å…¶ä»–ç»„ä»¶è¿›è¡Œé€šä¿¡å’Œäº¤äº’ã€‚
ä¸åŒäº Vue/React ç­‰ç¤¾åŒºæˆ–å‚å•†çš„ç»„ä»¶åŒ–å¼€å‘æ–¹æ¡ˆï¼ŒWeb Component è¢«å®šä¹‰åœ¨æ ‡å‡†çš„ HTML å’Œ DOM æ ‡å‡†ä¸­ã€‚å®ƒç”±ä¸€ç»„ç›¸å…³çš„ Web å¹³å° API ç»„æˆï¼Œä¹Ÿå¯ä»¥ä¸ç°æœ‰çš„å‰ç«¯æ¡†æ¶å’Œåº“é…åˆä½¿ç”¨ã€‚
Web Component çš„å…¼å®¹æ€§è‰¯å¥½ï¼Œå¯ä»¥åœ¨ç°ä»£æµè§ˆå™¨ä¸­ç›´æ¥ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ polyfill å…¼å®¹åˆ°æ—§ç‰ˆæµè§ˆå™¨ï¼ˆIE11 ç†è®ºä¸Šå¯ä»¥å…¼å®¹ï¼Œå‡ºäºåˆæ­¥è°ƒç ”çš„è€ƒè™‘ï¼Œæœ¬æ–‡ä¸å¯¹å…¼å®¹æ€§ä½œè¿‡å¤šæ¢è®¨ï¼‰ã€‚
åŒç±»ç»„ä»¶åŒ–æ–¹æ¡ˆæ¯”è¾ƒ ProsæŠ€æœ¯Conså¯ä»¥å¼‚æ„Micro Frontendéœ€è¦ä¸»åº”ç”¨ã€å¯¹å­åº”ç”¨æœ‰ä¾µå…¥ã€æ ·å¼ç»Ÿä¸€å›°éš¾æ¨¡å—çº§çš„å¤šé¡¹ç›®åœ¨è¿è¡Œæ—¶å…±äº«Module Federationä¸»è¦ä¾èµ–webpack5ï¼Œæ—¢æœ‰é¡¹ç›®æ”¹é€ æˆæœ¬æœªçŸ¥ï¼›å®ç°å¼‚æ„å¼•ç”¨éœ€è¦å€ŸåŠ©å…¶ä»–æ’ä»¶æ¨¡å—çº§åŠ¨æ€å…±äº«Vue :is &#43; åŠ¨æ€importä¾èµ–vueæŠ€æœ¯æ ˆå¯ä»¥å¼‚æ„ã€å®Œå…¨è§£è€¦ã€å¯¹åŸæœ‰å¼€å‘æ–¹æ³•æ”¹é€ æå°Web CompnentIEå…¼å®¹æ€§ä»…11å¯é€šè¿‡Polyfillæ”¯æŒ TL;DR å®ä¾‹ï¼šç”¨å¼‚æ„ç³»ç»Ÿå…±å»º web components
https://gitee.com/tonylua/web-component-test1/tree/master
Web Component å…³é”®ç‰¹æ€§ Custom Elementsï¼ˆè‡ªå®šä¹‰å…ƒç´ ï¼‰ æ˜¯ Web æ ‡å‡†ä¸­çš„ä¸€é¡¹åŠŸèƒ½ï¼Œå®ƒå…è®¸å¼€å‘è€…è‡ªå®šä¹‰æ–°çš„ HTML å…ƒç´ ï¼Œå¼€å‘è€…å¯ä»¥ä½¿ç”¨ JavaScript å’Œ DOM APIï¼Œä½¿æ–°å…ƒç´ å…·æœ‰è‡ªå®šä¹‰çš„è¡Œä¸ºå’ŒåŠŸèƒ½
4.13.1.1 Creating an autonomous custom element This section is non-normative.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2023-09-11T17:31:41+08:00">
    <meta property="article:modified_time" content="2023-09-11T17:31:41+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ç¼–ç¨‹å¤§å’–" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ç¼–ç¨‹å¤§å’–</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Web Component -- å³å°†çˆ†å‘çš„åŸç”Ÿçš„ UI ç»„ä»¶åŒ–æ ‡å‡†</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div id="js_content"> 
 <p style="text-align:left;"><img src="https://images2.imgbox.com/7e/26/T41t1ssD_o.png" alt="c05c703df9c23a75070b3c3dbb44a55c.png"></p> 
 <h3>Web Component æ¦‚è¿° </h3> 
 <p>Web Component æ˜¯ä¸€ç§ç”¨äºæ„å»º<em>å¯å¤ç”¨ç”¨æˆ·ç•Œé¢ç»„ä»¶</em>çš„æŠ€æœ¯ï¼Œå¼€å‘è€…å¯ä»¥åˆ›å»ºè‡ªå®šä¹‰çš„ HTML æ ‡ç­¾ï¼Œå¹¶å°†å…¶å°è£…ä¸ºåŒ…å«é€»è¾‘å’Œæ ·å¼çš„ç‹¬ç«‹ç»„ä»¶ï¼Œä»è€Œåœ¨ä»»ä½• Web åº”ç”¨ä¸­é‡å¤ä½¿ç”¨ã€‚</p> 
 <p>æ¯ä¸ª Web Component éƒ½å…·æœ‰è‡ªå·±çš„ DOM å’Œæ ·å¼éš”ç¦»ï¼Œé¿å…äº†å…¨å±€ CSS å’Œ JavaScript çš„å†²çªé—®é¢˜ã€‚å®ƒè¿˜æ”¯æŒè‡ªå®šä¹‰äº‹ä»¶å’Œå±æ€§ï¼Œå¯ä»¥ä¸å…¶ä»–ç»„ä»¶è¿›è¡Œé€šä¿¡å’Œäº¤äº’ã€‚</p> 
 <p>ä¸åŒäº Vue/React ç­‰ç¤¾åŒºæˆ–å‚å•†çš„ç»„ä»¶åŒ–å¼€å‘æ–¹æ¡ˆï¼ŒWeb Component è¢«å®šä¹‰åœ¨æ ‡å‡†çš„ HTML å’Œ DOM æ ‡å‡†ä¸­ã€‚å®ƒç”±ä¸€ç»„ç›¸å…³çš„ Web å¹³å° API ç»„æˆï¼Œä¹Ÿå¯ä»¥ä¸ç°æœ‰çš„å‰ç«¯æ¡†æ¶å’Œåº“é…åˆä½¿ç”¨ã€‚</p> 
 <p>Web Component çš„å…¼å®¹æ€§è‰¯å¥½ï¼Œå¯ä»¥åœ¨ç°ä»£æµè§ˆå™¨ä¸­ç›´æ¥ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ polyfill å…¼å®¹åˆ°æ—§ç‰ˆæµè§ˆå™¨<em>ï¼ˆIE11 ç†è®ºä¸Šå¯ä»¥å…¼å®¹ï¼Œå‡ºäºåˆæ­¥è°ƒç ”çš„è€ƒè™‘ï¼Œæœ¬æ–‡ä¸å¯¹å…¼å®¹æ€§ä½œè¿‡å¤šæ¢è®¨ï¼‰</em>ã€‚</p> 
 <h4>åŒç±»ç»„ä»¶åŒ–æ–¹æ¡ˆæ¯”è¾ƒ</h4> 
 <table><thead><tr><th>Pros</th><th>æŠ€æœ¯</th><th>Cons</th></tr></thead><tbody><tr><td>å¯ä»¥å¼‚æ„</td><td><strong>Micro Frontend</strong></td><td>éœ€è¦ä¸»åº”ç”¨ã€å¯¹å­åº”ç”¨æœ‰ä¾µå…¥ã€æ ·å¼ç»Ÿä¸€å›°éš¾</td></tr><tr><td>æ¨¡å—çº§çš„å¤šé¡¹ç›®åœ¨è¿è¡Œæ—¶å…±äº«</td><td><strong>Module Federation</strong></td><td>ä¸»è¦ä¾èµ–webpack5ï¼Œæ—¢æœ‰é¡¹ç›®æ”¹é€ æˆæœ¬æœªçŸ¥ï¼›å®ç°å¼‚æ„å¼•ç”¨éœ€è¦å€ŸåŠ©å…¶ä»–æ’ä»¶</td></tr><tr><td>æ¨¡å—çº§åŠ¨æ€å…±äº«</td><td><strong>Vue <code>:is</code> + åŠ¨æ€<code>import</code></strong></td><td>ä¾èµ–vueæŠ€æœ¯æ ˆ</td></tr><tr><td>å¯ä»¥å¼‚æ„ã€å®Œå…¨è§£è€¦ã€å¯¹åŸæœ‰å¼€å‘æ–¹æ³•æ”¹é€ æå°</td><td><strong>Web Compnent</strong></td><td>IEå…¼å®¹æ€§ä»…11å¯é€šè¿‡Polyfillæ”¯æŒ</td></tr></tbody></table> 
 <h3>TL;DR </h3> 
 <p><img src="https://images2.imgbox.com/60/11/DpUdcAqL_o.jpg" alt="56dcc19c97bc6ada91d4380d94f19759.jpeg"> å®ä¾‹ï¼šç”¨å¼‚æ„ç³»ç»Ÿå…±å»º web components<br>https://gitee.com/tonylua/web-component-test1/tree/master</p> 
 <h3>Web Component å…³é”®ç‰¹æ€§ </h3> 
 <h4>Custom Elementsï¼ˆè‡ªå®šä¹‰å…ƒç´ ï¼‰</h4> 
 <p>æ˜¯ Web æ ‡å‡†ä¸­çš„ä¸€é¡¹åŠŸèƒ½ï¼Œå®ƒå…è®¸å¼€å‘è€…è‡ªå®šä¹‰æ–°çš„ HTML å…ƒç´ ï¼Œå¼€å‘è€…å¯ä»¥ä½¿ç”¨ JavaScript å’Œ DOM APIï¼Œä½¿æ–°å…ƒç´ å…·æœ‰è‡ªå®šä¹‰çš„è¡Œä¸ºå’ŒåŠŸèƒ½</p> 
 <blockquote> 
  <h6>4.13.1.1 Creating an autonomous custom element</h6> 
  <p><em>This section is non-normative.</em></p> 
  <p>For the purposes of illustrating how to create an autonomous custom element, let's define a custom element that encapsulates rendering a small icon for a country flag. Our goal is to be able to use it like so:</p> 
  <pre class="has"><code class="language-go">&lt;flag-iconÂ country="nl"&gt;&lt;/flag-icon&gt;</code></pre> 
  <p>To do this, we first declare a class for the custom element, extending <code>HTMLElement</code>:</p> 
  <pre class="has"><code class="language-go">classÂ FlagIconÂ extendsÂ HTMLElementÂ {
Â Â constructor()Â {
Â Â Â Â super();
Â Â Â Â this._countryCodeÂ =Â null;
Â Â }

Â Â staticÂ observedAttributesÂ =Â ["country"];

Â Â attributeChangedCallback(name,Â oldValue,Â newValue)Â {
Â Â Â Â //Â nameÂ willÂ alwaysÂ beÂ "country"Â dueÂ toÂ observedAttributes
Â Â Â Â this._countryCodeÂ =Â newValue;
Â Â Â Â this._updateRendering();
Â Â }
Â Â connectedCallback()Â {
Â Â Â Â this._updateRendering();
Â Â }

Â Â getÂ country()Â {
Â Â Â Â returnÂ this._countryCode;
Â Â }
Â Â setÂ country(v)Â {
Â Â Â Â this.setAttribute("country",Â v);
Â Â }

Â Â _updateRendering()Â {
Â Â Â Â ...
Â Â }
}</code></pre> 
  <p>We then need to use this class to define the element:</p> 
  <pre class="has"><code class="language-go">customElements.define("flag-icon",Â FlagIcon);</code></pre> 
 </blockquote> 
 <ul><li><p>ç»§æ‰¿è‡ªåŸºç±» HTMLElement</p></li><li><p>è‡ªå®šä¹‰çš„å…ƒç´ åç§°éœ€ç¬¦åˆ DOMString æ ‡å‡†ï¼Œç®€å•æ¥è¯´å°±æ˜¯å¿…é¡»å¸¦çŸ­æ¨ªçº¿</p></li><li><p>å…¶ä¸­ observedAttributes å£°æ˜çš„å±æ€§æ‰èƒ½è¢« attributeChangedCallback() ç›‘å¬</p></li><li><p>å®Œæ•´ç”Ÿå‘½å‘¨æœŸæ–¹æ³•è¯´æ˜ä¸º:</p></li></ul> 
 <pre class="has"><code class="language-go">classÂ MyCustomElementÂ extendsÂ HTMLElementÂ {
Â Â constructor()Â {
Â Â Â Â super();
Â Â Â Â //Â åœ¨æ„é€ å‡½æ•°ä¸­è¿›è¡Œåˆå§‹åŒ–æ“ä½œ
Â Â Â Â //Â ç”¨Â this.appendChild(...)Â ç­‰æŒ‚è½½åˆ°domä¸­
Â Â Â Â //Â ç”¨Â addEventListener()Â ç»‘å®šäº‹ä»¶åˆ°Â this.xxxÂ ä¸Š
Â Â }
Â Â connectedCallback()Â {
Â Â Â Â //Â å…ƒç´ è¢«æ’å…¥åˆ°æ–‡æ¡£æ—¶è§¦å‘ï¼Œç­‰ä»·äºÂ vueÂ çš„Â mounted
Â Â }
Â Â disconnectedCallback()Â {
Â Â Â Â //Â å…ƒç´ ä»æ–‡æ¡£ä¸­ç§»é™¤æ—¶è§¦å‘ï¼Œç­‰ä»·äºÂ vueÂ çš„Â beforeDestoryÂ /Â destoyed
Â Â }
Â Â attributeChangedCallback(attributeName,Â oldValue,Â newValue)Â {
Â Â Â Â //Â å…ƒç´ çš„å±æ€§è¢«æ·»åŠ ã€ç§»é™¤æˆ–æ›´æ”¹æ—¶è§¦å‘ï¼Œç­‰ä»·äºÂ vueÂ çš„Â beforeUpdateÂ /Â updated
Â Â }
}</code></pre> 
 <p>é™¤äº†ç»§æ‰¿ HTMLElementï¼Œä¹Ÿå¯ä»¥ç»§æ‰¿å…¶æ—¢æœ‰å­ç±»ï¼Œå¹¶åœ¨ä½¿ç”¨æ˜¯é‡‡ç”¨åŸç”Ÿæ ‡ç­¾ï¼ˆè¢«ç»§æ‰¿ç±»ï¼‰ + is è¯­æ³•ï¼Œå¦‚ï¼š</p> 
 <pre class="has"><code class="language-go">//Â CreateÂ aÂ classÂ forÂ theÂ element
classÂ WordCountÂ extendsÂ HTMLParagraphElementÂ {
Â Â constructor()Â {
Â Â Â Â //Â AlwaysÂ callÂ superÂ firstÂ inÂ constructor
Â Â Â Â super();

Â Â Â Â //Â ConstructorÂ contentsÂ omittedÂ forÂ brevity
Â Â Â Â //Â â€¦
Â Â }
}

//Â DefineÂ theÂ newÂ element
customElements.define("word-count",Â WordCount,Â {Â extends:Â "p"Â });</code></pre> 
 <pre class="has"><code class="language-go">&lt;pÂ is="word-count"&gt;&lt;/p&gt;</code></pre> 
 <h4>Shadow DOM</h4> 
 <p>DOM ç¼–ç¨‹æ¨¡å‹ä»¤äººè¯Ÿç—…çš„ä¸€ä¸ªæ–¹é¢å°±æ˜¯ç¼ºä¹<strong>å°è£…</strong>ï¼Œä¸åŒç»„ä»¶ä¹‹é—´çš„é€»è¾‘å’Œæ ·å¼å¾ˆå®¹æ˜“äº’ç›¸æ±¡æŸ“ã€‚</p> 
 <p>é‰´äºè¿™ä¸ªåŸå› ï¼ŒWeb components çš„ä¸€ä¸ªé‡è¦å±æ€§å°±æ˜¯<strong>å°è£…</strong>â€”â€”å¯ä»¥å°†æ ‡è®°ç»“æ„ã€æ ·å¼å’Œè¡Œä¸ºéšè—èµ·æ¥ï¼Œå¹¶ä¸é¡µé¢ä¸Šçš„å…¶ä»–ä»£ç ç›¸éš”ç¦»ã€‚å…¶ä¸­ï¼ŒShadow DOM æ¥å£æ˜¯å…³é”®æ‰€åœ¨ï¼Œå®ƒå¯ä»¥å°†ä¸€ä¸ªéšè—çš„ã€ç‹¬ç«‹çš„ DOM é™„åŠ åˆ°ä¸€ä¸ªå…ƒç´ ä¸Š</p> 
 <p>Shadow DOM æ˜¯ DOM nodes çš„é™„å±æ ‘ã€‚è¿™ç§ Shadow DOM å­æ ‘å¯ä»¥ä¸æŸå®¿ä¸»å…ƒç´ ç›¸å…³è”ï¼Œä½†å¹¶ä¸ä½œä¸ºè¯¥å…ƒç´ çš„æ™®é€šå­èŠ‚ç‚¹ï¼Œè€Œæ˜¯ä¼šå½¢æˆå…¶è‡ªæœ‰çš„ä½œç”¨åŸŸï¼›Shadow DOM ä¸­çš„æ ¹åŠå…¶å­èŠ‚ç‚¹ä¹Ÿä¸å¯è§ã€‚</p> 
 <p>ç›¸æ¯”äºä»¥å‰ä¸ºäº†å®ç°å°è£…è€Œåªèƒ½ä½¿ç”¨ <code>&lt;iframe&gt;</code> å®ç°çš„æƒ…å†µï¼ŒShadow DOM æ— ç–‘æ˜¯ä¸€ç§æ›´ä¼˜é›…çš„åˆ›å»ºéš”ç¦» DOM æ ‘çš„æ–¹æ³•ã€‚</p> 
 <blockquote> 
  <p><em>Shadow</em> DOM å…è®¸å°†éšè—çš„ DOM æ ‘é™„åŠ åˆ°å¸¸è§„çš„ DOM æ ‘ä¸­â€”â€”å®ƒä»¥ shadow root èŠ‚ç‚¹ä¸ºèµ·å§‹æ ¹èŠ‚ç‚¹ï¼Œåœ¨è¿™ä¸ªæ ¹èŠ‚ç‚¹çš„ä¸‹æ–¹ï¼Œå¯ä»¥æ˜¯ä»»æ„å…ƒç´ ï¼Œå’Œæ™®é€šçš„ DOM å…ƒç´ ä¸€æ ·ã€‚</p> 
  <img src="https://images2.imgbox.com/f7/0d/zoDlCz1H_o.png" alt="outside_default.png"> 
  <p>è¿™é‡Œï¼Œæœ‰ä¸€äº› Shadow DOM ç‰¹æœ‰çš„æœ¯è¯­éœ€è¦æˆ‘ä»¬äº†è§£ï¼š</p> 
  <ul><li><p>Shadow hostï¼šä¸€ä¸ªå¸¸è§„ DOM èŠ‚ç‚¹ï¼ŒShadow DOM ä¼šè¢«é™„åŠ åˆ°è¿™ä¸ªèŠ‚ç‚¹ä¸Šã€‚</p></li><li><p>Shadow treeï¼šShadow DOM å†…éƒ¨çš„ DOM æ ‘ã€‚</p></li><li><p>Shadow boundaryï¼šShadow DOM ç»“æŸçš„åœ°æ–¹ï¼Œä¹Ÿæ˜¯å¸¸è§„ DOM å¼€å§‹çš„åœ°æ–¹ã€‚</p></li><li><p>Shadow root: Shadow tree çš„æ ¹èŠ‚ç‚¹ã€‚</p></li></ul> 
  <p>ä½ å¯ä»¥ä½¿ç”¨åŒæ ·çš„æ–¹å¼æ¥æ“ä½œ Shadow DOMï¼Œå°±å’Œæ“ä½œå¸¸è§„ DOM ä¸€æ ·â€”â€”ä¾‹å¦‚æ·»åŠ å­èŠ‚ç‚¹ã€è®¾ç½®å±æ€§ï¼Œä»¥åŠä¸ºèŠ‚ç‚¹æ·»åŠ è‡ªå·±çš„æ ·å¼ï¼ˆä¾‹å¦‚é€šè¿‡ <code>element.style</code> å±æ€§ï¼‰ï¼Œæˆ–è€…ä¸ºæ•´ä¸ª Shadow DOM æ·»åŠ æ ·å¼ï¼ˆä¾‹å¦‚åœ¨ <code>&lt;style&gt;</code> å…ƒç´ å†…æ·»åŠ æ ·å¼ï¼‰ã€‚ä¸åŒçš„æ˜¯ï¼ŒShadow DOM å†…éƒ¨çš„å…ƒç´ å§‹ç»ˆä¸ä¼šå½±å“åˆ°å®ƒå¤–éƒ¨çš„å…ƒç´ ï¼ˆé™¤äº† <code>:focus-within</code>ï¼‰ï¼Œè¿™ä¸ºå°è£…æä¾›äº†ä¾¿åˆ©ã€‚</p> 
  <p>æ³¨æ„ï¼Œä¸ç®¡ä»å“ªä¸ªæ–¹é¢æ¥çœ‹ï¼ŒShadow DOM éƒ½ä¸æ˜¯ä¸€ä¸ªæ–°äº‹ç‰©â€”â€”åœ¨è¿‡å»çš„å¾ˆé•¿ä¸€æ®µæ—¶é—´é‡Œï¼Œæµè§ˆå™¨ç”¨å®ƒæ¥å°è£…ä¸€äº›å…ƒç´ çš„å†…éƒ¨ç»“æ„ã€‚ä»¥ä¸€ä¸ªæœ‰ç€é»˜è®¤æ’­æ”¾æ§åˆ¶æŒ‰é’®çš„ <code>&lt;video&gt;</code> å…ƒç´ ä¸ºä¾‹ã€‚ä½ æ‰€èƒ½çœ‹åˆ°çš„åªæ˜¯ä¸€ä¸ª <code>&lt;video&gt;</code> æ ‡ç­¾ï¼Œå®é™…ä¸Šï¼Œåœ¨å®ƒçš„ Shadow DOM ä¸­ï¼ŒåŒ…å«äº†ä¸€ç³»åˆ—çš„æŒ‰é’®å’Œå…¶ä»–æ§åˆ¶å™¨ã€‚Shadow DOM æ ‡å‡†å…è®¸ä½ ä¸ºä½ è‡ªå·±çš„å…ƒç´ ï¼ˆcustom elementï¼‰ç»´æŠ¤ä¸€ç»„ Shadow DOMã€‚</p> 
  <h4>åŸºæœ¬ç”¨æ³•</h4> 
  <p>å¯ä»¥ä½¿ç”¨ <code>Element.attachShadow()</code> æ–¹æ³•æ¥å°†ä¸€ä¸ª shadow root é™„åŠ åˆ°ä»»ä½•ä¸€ä¸ªå…ƒç´ ä¸Šã€‚å®ƒæ¥å—ä¸€ä¸ªé…ç½®å¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œè¯¥å¯¹è±¡æœ‰ä¸€ä¸ª <code>mode</code> å±æ€§ï¼Œå€¼å¯ä»¥æ˜¯ <code>open</code> æˆ–è€… <code>closed</code>ï¼š</p> 
  <pre class="has"><code class="language-go">letÂ shadowÂ =Â elementRef.attachShadow({Â mode:Â "open"Â });
letÂ shadowÂ =Â elementRef.attachShadow({Â mode:Â "closed"Â });</code></pre> 
  <p><code>open</code> è¡¨ç¤ºå¯ä»¥é€šè¿‡é¡µé¢å†…çš„ JavaScript æ–¹æ³•æ¥è·å– Shadow DOMï¼Œä¾‹å¦‚ä½¿ç”¨ <code>Element.shadowRoot</code> å±æ€§ï¼š</p> 
  <pre class="has"><code class="language-go">letÂ myShadowDomÂ =Â myCustomElem.shadowRoot;</code></pre> 
  <p>å¦‚æœä½ å°†ä¸€ä¸ª Shadow root é™„åŠ åˆ°ä¸€ä¸ª Custom element ä¸Šï¼Œå¹¶ä¸”å°† <code>mode</code> è®¾ç½®ä¸º <code>closed</code>ï¼Œé‚£ä¹ˆå°±ä¸å¯ä»¥ä»å¤–éƒ¨è·å– Shadow DOM äº†â€”â€”<code>myCustomElem.shadowRoot</code> å°†ä¼šè¿”å› <code>null</code>ã€‚æµè§ˆå™¨ä¸­çš„æŸäº›å†…ç½®å…ƒç´ å°±æ˜¯å¦‚æ­¤ï¼Œä¾‹å¦‚<code>&lt;video&gt;</code>ï¼ŒåŒ…å«äº†ä¸å¯è®¿é—®çš„ Shadow DOMã€‚</p> 
  <p>å¦‚æœä½ æƒ³å°†ä¸€ä¸ª Shadow DOM é™„åŠ åˆ° custom element ä¸Šï¼Œå¯ä»¥åœ¨ custom element çš„æ„é€ å‡½æ•°ä¸­æ·»åŠ å¦‚ä¸‹å®ç°ï¼ˆç›®å‰ï¼Œè¿™æ˜¯ shadow DOM æœ€å®ç”¨çš„ç”¨æ³•ï¼‰ï¼š</p> 
  <pre class="has"><code class="language-go">letÂ shadowÂ =Â this.attachShadow({Â mode:Â "open"Â });</code></pre> 
  <p>å°† Shadow DOM é™„åŠ åˆ°ä¸€ä¸ªå…ƒç´ ä¹‹åï¼Œå°±å¯ä»¥ä½¿ç”¨ DOM APIs å¯¹å®ƒè¿›è¡Œæ“ä½œï¼Œå°±å’Œå¤„ç†å¸¸è§„ DOM ä¸€æ ·ã€‚</p> 
  <pre class="has"><code class="language-go">varÂ paraÂ =Â document.createElement('p');
shadow.appendChild(para);
etc.</code></pre> 
 </blockquote> 
 <p><strong>æ³¨æ„ï¼š</strong></p> 
 <ul><li><p>è¦ä½¿ç”¨ Chrome è°ƒè¯•å™¨æ£€æŸ¥ Shadow DOMï¼Œéœ€è¦é€‰ä¸­è°ƒè¯•å™¨çš„ <code>Preferences</code> / <code>Elmenets</code> ä¸‹çš„ <code>show user agent shadow DOM</code> æ¡†*ï¼›æ¯”å¦‚å¯¹äºä¸Šæ–‡æåˆ°çš„ <code>&lt;video&gt;</code>ï¼Œåœ¨æ‰“å¼€è¯¥è°ƒè¯•é€‰é¡¹åï¼Œå°±èƒ½åœ¨å…ƒç´ é¢æ¿ä¸­çœ‹åˆ° <code>&lt;video&gt;</code> ä¸‹æŒ‚è½½çš„ shadow tree</p></li><li><p>ä¸€äº›æ¯”è¾ƒæ—§çš„èµ„æ–™ä¸­ä¼šå‡ºç° attachShadow() çš„å‰èº« createShadowRoot()ï¼Œè¯­ä¹‰åŸºæœ¬ç›¸åŒï¼›createShadowRoot()å·²ç»è¢«åºŸå¼ƒï¼Œå®ƒæ˜¯åœ¨ Shadow DOM v0 è§„èŒƒä¸­å¼•å…¥çš„ã€‚Shadow DOM çš„æœ€æ–°ç‰ˆæœ¬æ˜¯ v1ï¼Œæ˜¯ Web æ ‡å‡†çš„ä¸€éƒ¨åˆ†ã€‚</p></li></ul> 
 <h4>HTML templates å’Œ slot</h4> 
 <p><code>&lt;template&gt;</code> å…ƒç´ å…è®¸å¼€å‘è€…åœ¨ HTML ä¸­å®šä¹‰ä¸€ä¸ªæ¨¡æ¿ï¼Œå…¶ä¸­å¯ä»¥åŒ…å«ä»»æ„çš„ HTML ç»“æ„ã€æ–‡æœ¬å’Œå˜é‡å ä½ç¬¦ã€‚æ­¤å…ƒç´ åŠå…¶å†…å®¹ä¸ä¼šåœ¨ DOM ä¸­å‘ˆç°ï¼Œä½†ä»å¯ä½¿ç”¨ JavaScript å»å¼•ç”¨å®ƒã€‚</p> 
 <blockquote> 
  <pre class="has"><code class="language-go">&lt;templateÂ id="my-paragraph"&gt;
Â Â &lt;p&gt;MyÂ paragraph&lt;/p&gt;
&lt;/template&gt;</code></pre> 
  <p>ä¸Šé¢çš„ä»£ç ä¸ä¼šå±•ç¤ºåœ¨ä½ çš„é¡µé¢ä¸­ï¼Œç›´åˆ°ä½ ç”¨ JavaScript è·å–å®ƒçš„å¼•ç”¨ï¼Œç„¶åæ·»åŠ åˆ° DOM ä¸­ï¼Œå¦‚ä¸‹é¢çš„ä»£ç ï¼š</p> 
  <pre class="has"><code class="language-go">letÂ templateÂ =Â document.getElementById("my-paragraph");
letÂ templateContentÂ =Â template.content;
document.body.appendChild(templateContent);</code></pre> 
  <p>æ¨¡æ¿ï¼ˆTemplateï¼‰æœ¬èº«å°±æ˜¯æœ‰ç”¨çš„ï¼Œè€Œä¸ web ç»„ä»¶ï¼ˆweb componentï¼‰ä¸€èµ·ä½¿ç”¨æ•ˆæœæ›´å¥½ã€‚æˆ‘ä»¬å®šä¹‰ä¸€ä¸ª web ç»„ä»¶ä½¿ç”¨æ¨¡æ¿ä½œä¸ºé˜´å½±ï¼ˆshadowï¼‰DOM çš„å†…å®¹ï¼Œå«å®ƒ <code>&lt;my-paragraph&gt;</code>ï¼š</p> 
  <pre class="has"><code class="language-go">customElements.define(
Â Â "my-paragraph",
Â Â classÂ extendsÂ HTMLElementÂ {
Â Â Â Â constructor()Â {
Â Â Â Â Â Â super();
Â Â Â Â Â Â letÂ templateÂ =Â document.getElementById("my-paragraph");
Â Â Â Â Â Â letÂ templateContentÂ =Â template.content;

Â Â Â Â Â Â constÂ shadowRootÂ =Â this.attachShadow({Â mode:Â "open"Â });
Â Â Â Â Â Â shadowRoot.appendChild(templateContent.cloneNode(true));
Â Â Â Â }
Â Â },
);</code></pre> 
 </blockquote> 
 <p>ä½¿ç”¨ <code>&lt;slot&gt;</code> åˆ™èƒ½è¿›ä¸€æ­¥å±•ç¤ºä¸åŒçš„è‡ªå®šä¹‰å†…å®¹ï¼š</p> 
 <blockquote> 
  <pre class="has"><code class="language-go">&lt;templateÂ id="my-paragraph"&gt;
Â Â &lt;p&gt;&lt;slotÂ name="my-text"&gt;MyÂ defaultÂ text&lt;/slot&gt;&lt;/p&gt;
&lt;/template&gt;</code></pre> 
  <p>...</p> 
  <pre class="has"><code class="language-go">&lt;my-paragraph&gt;
Â Â &lt;ulÂ slot="my-text"&gt;
Â Â Â Â &lt;li&gt;Let'sÂ haveÂ someÂ differentÂ text!&lt;/li&gt;
Â Â Â Â &lt;li&gt;InÂ aÂ list!&lt;/li&gt;
Â Â &lt;/ul&gt;
&lt;/my-paragraph&gt;</code></pre> 
 </blockquote> 
 <h4>CSS Scopingï¼ˆå±€éƒ¨ä½œç”¨åŸŸçš„ CSSï¼‰</h4> 
 <blockquote> 
  <p>The <strong>CSS scoping</strong> module defines the CSS scoping and encapsulation mechanisms, focusing on the Shadow DOM scoping mechanism.</p> 
  <p>æ ¹æ® Shadow DOM ä½œç”¨åŸŸæœºåˆ¶ï¼Œ<strong>CSS scoping</strong> æ¨¡å—å®šä¹‰äº† CSS ä½œç”¨åŸŸå’Œå°è£…æœºåˆ¶</p> 
  <p>CSS styles are either global in scope or scoped to a shadow tree. Globally scoped styles apply to all the elements in the node tree that match the selector, including custom elements in that tree, but not to the shadow trees composing each custom element. Selectors and their associated style definitions don't bleed between scopes.</p> 
  <p>CSS æ ·å¼åˆ†ä¸ºå…¨å±€å’Œ shadow tree å±€éƒ¨ä¸¤ç§ã€‚å…¨å±€æ ·å¼åº”ç”¨äºèŠ‚ç‚¹æ ‘ä¸­ä¸é€‰æ‹©å™¨åŒ¹é…çš„æ‰€æœ‰å…ƒç´ ï¼ŒåŒ…æ‹¬è¯¥æ ‘ä¸­çš„è‡ªå®šä¹‰å…ƒç´ ï¼Œä½†ä¸åº”ç”¨äºç»„æˆæ¯ä¸ªè‡ªå®šä¹‰å…ƒç´ çš„shadow treeã€‚é€‰æ‹©å™¨åŠå…¶å…³è”çš„æ ·å¼å®šä¹‰ä¹Ÿä¸ä¼šåœ¨ä½œç”¨åŸŸä¹‹é—´æµé€šã€‚</p> 
  <p>Within the CSS of a shadow tree, selectors don't select elements outside the tree, either in the global scope or in other shadow trees. Each custom element has its own shadow tree, which contains all the components that make up the custom element (but not the custom element, or "host", itself).</p> 
  <p>åœ¨ shadow tree çš„ CSS ä¸­ï¼Œé€‰æ‹©å™¨ä¸ä¼šå½±å“æ ‘å¤–éƒ¨çš„å…ƒç´  -- æ— è®ºæ˜¯å…¨å±€ä½œç”¨åŸŸè¿˜æ˜¯å…¶ä»– shadow treeã€‚æ¯ä¸ªè‡ªå®šä¹‰å…ƒç´ éƒ½æœ‰è‡ªå·±çš„ shadow treeï¼Œå®ƒåŒ…å«ç»„æˆè‡ªå®šä¹‰å…ƒç´ çš„æ‰€æœ‰ç»„ä»¶ï¼ˆä½†ä¸åŒ…å«è‡ªå®šä¹‰å…ƒç´ æˆ–â€œå®¿ä¸»â€æœ¬èº«ï¼‰ã€‚</p> 
 </blockquote> 
 <h5><code>:host</code> ä¼ªç±»</h5> 
 <p>åœ¨ shadow DOM Â å†…éƒ¨ï¼Œè¦æƒ³ä¸ºâ€œå®¿ä¸»â€ shadow host æœ¬èº«æ·»åŠ æ ·å¼ï¼Œå¯ä»¥ç”¨ CSS é€‰æ‹©å™¨ <code>:host</code>ï¼š</p> 
 <pre class="has"><code class="language-go">:hostÂ {
Â Â /*Â ...Â */
}</code></pre> 
 <p><code>:host</code> é€‰æ‹©å™¨è¿˜æœ‰ä¸€ç§å‡½æ•°å¼çš„ç”¨æ³•ï¼Œæ¥æ”¶ä¸€ä¸ªé€‰æ‹©å™¨å‚æ•°ï¼Œè¯¥å‚æ•°è¡¨ç¤º shadow host æœ¬èº«å…·å¤‡ç‰¹å®šçš„çŠ¶æ€æˆ–æ ·å¼æ—¶æ‰ç”Ÿæ•ˆï¼Œå¦‚ï¼š</p> 
 <pre class="has"><code class="language-go">:host(:hover)Â {
Â Â background-color:Â #ccc;
}

:host(.active)Â {
Â Â color:Â red;
}

:host(.footer)Â {Â //Â å®¿ä¸»å…ƒç´ åŒ…å«footeræ ·å¼åæ—¶
Â Â colorÂ :Â red;Â 
}</code></pre> 
 <h4><code>:host-context</code> ä¼ªç±»</h4> 
 <p>ä¸ <code>:host(selector)</code> ç”¨æ³•ç±»ä¼¼çš„è¿˜æœ‰ <code>:host-context()</code> ä¼ªç±»ï¼Œä½†æ‰€è°“ context çš„è¯­æ„æŒ‡çš„æ˜¯ï¼Œä½œä¸ºå…¶å‚æ•°çš„é€‰æ‹©å™¨æŒ‡å‘çš„æ˜¯ shadow host å®¿ä¸»å…ƒç´ çš„ä¸Šä¸‹æ–‡ç¯å¢ƒï¼Œä¹Ÿå°±æ˜¯å…¶ä½œä¸ºå“ªä¸ªç¥–å…ˆå…ƒç´ çš„åä»£æ—¶æ‰ç”Ÿæ•ˆï¼Œå¦‚ï¼š</p> 
 <pre class="has"><code class="language-go">//Â å½“å®¿ä¸»æ˜¯Â h1Â åä»£æ—¶
:host-context(h1)Â {
Â Â font-weight:Â bold;
}

//Â å½“Â .dark-themeÂ ç±»åº”ç”¨äºä¸»æ–‡æ¡£Â bodyÂ æ—¶
:host-context(body.dark-theme)Â pÂ {
Â Â color:Â #fff;
}</code></pre> 
 <h5><code>::part</code> ä¼ªå…ƒç´ </h5> 
 <p>ç”¨äºåœ¨çˆ¶é¡µé¢æŒ‡å®š shadow DOM å†…éƒ¨ä½¿ç”¨äº†å¯¹åº” <code>part</code> å±æ€§å…ƒç´ çš„æ ·å¼ï¼š</p> 
 <pre class="has"><code class="language-go">&lt;html&gt;
&lt;head&gt;
Â &lt;templateÂ id="template"&gt;
Â Â MyÂ hostÂ element!
Â Â &lt;span part="sp"&gt;xxx&lt;/span&gt;
Â &lt;/template&gt;
Â &lt;style&gt;
Â Â #host::part(sp)Â {
Â Â Â background-color:Â aqua;
Â Â }
Â &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
Â &lt;divÂ id="host"&gt;&lt;/div&gt;
Â &lt;scriptÂ type="text/javascript"&gt;
Â Â varÂ templateÂ =Â document.querySelector('#template')
Â Â varÂ rootÂ =Â document.querySelector('#host').attachShadow({Â mode:Â "open"Â });
Â Â root.appendChild(template.content);
Â &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre> 
 <p><code>::part()</code> åœ¨éµå¾ª Shadow DOM å°è£…æ€§çš„åŒæ—¶ï¼Œæä¾›äº†ä¸€ä¸ª<strong>å®‰å…¨æŒ‡å®šå†…éƒ¨æ ·å¼</strong>çš„é€”å¾„ã€‚</p> 
 <p>ä½†è¿™ä¸æ˜¯å”¯ä¸€çš„æ‰‹æ®µï¼Œ<strong>å¦ä¸€ç§â€œç©¿é€â€æ–¹æ³•æ˜¯é€šè¿‡ CSS è‡ªå®šä¹‰å˜é‡</strong>ï¼š</p> 
 <pre class="has"><code class="language-go">&lt;html&gt;
&lt;head&gt;
Â Â Â &lt;templateÂ id="template"&gt;
Â Â Â Â &lt;style&gt;
Â Â Â Â Â span {
Â Â Â Â Â Â background-color:Â var(--sp-color,Â red);
Â Â Â Â Â }
Â Â Â Â &lt;/style&gt;
Â Â Â Â MyÂ hostÂ elementÂ willÂ haveÂ aÂ blueÂ border!
Â Â Â Â &lt;span part="sp"&gt;xxx&lt;/span&gt;
Â Â Â &lt;/template&gt;
Â Â Â &lt;style&gt;
Â Â Â Â #hostÂ {
Â Â Â Â Â --sp-color:Â blue;Â //Â ç”Ÿæ•ˆ
Â Â Â Â }
Â Â Â &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
Â Â Â &lt;divÂ id="host"&gt;&lt;/div&gt;
Â Â Â &lt;scriptÂ type="text/javascript"&gt;
Â Â Â Â varÂ templateÂ =Â document.querySelector('#template')
Â Â Â Â varÂ rootÂ =Â document.querySelector('#host').attachShadow({Â mode:Â "open"Â });
Â Â Â Â root.appendChild(template.content);
Â Â Â &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre> 
 <h5><code>::slotted</code> ä¼ªå…ƒç´ </h5> 
 <p>åœ¨è‡ªå®šä¹‰ç»„ä»¶å†…éƒ¨æŒ‡å®šè¯¥æ ·å¼åï¼Œä»…æœ‰ <strong>è¢«å¤–éƒ¨æˆåŠŸå¡«å……çš„slot</strong> æ‰ä¼šè¢«åŒ¹é…åˆ°ï¼Œä½¿ç”¨é»˜è®¤å€¼çš„ slot ä¸Šåˆ™ä¸ä¼šç”Ÿæ•ˆã€‚</p> 
 <h5>ä¼˜å…ˆçº§</h5> 
 <ul><li><p>å¯¹äºâ€œå®¿ä¸»â€å…ƒç´ ï¼Œå¤–éƒ¨æ ·å¼ä¼˜å…ˆçº§é«˜äºå†…éƒ¨çš„ <code>:host</code></p></li><li><p>å¦‚æœè¦è¦†ç›–çˆ¶é¡µä¸­è®¾ç½®çš„æ ·å¼ï¼Œåˆ™å¿…é¡»åœ¨å®¿ä¸»å…ƒç´ ä¸Šå†…è”å®Œæˆ</p></li><li><p>å¤–éƒ¨ <code>::part</code> æ ·å¼ä¼˜å…ˆçº§é«˜äºå†…éƒ¨å®šä¹‰</p></li></ul> 
 <p>è§‚å¯Ÿä»¥ä¸‹ä¾‹å­ï¼Œä¼˜å…ˆçº§ blur &gt; green &gt; red:</p> 
 <pre class="has"><code class="language-go">&lt;head&gt;
Â &lt;templateÂ id="template"&gt;
Â Â &lt;style&gt;
Â Â Â :hostÂ {
Â Â Â Â border:Â 1pxÂ solidÂ red;
Â Â Â Â padding:Â 10px;
Â Â Â Â line-height:Â 50px;
Â Â Â }
Â Â &lt;/style&gt;
Â Â MyÂ hostÂ elementÂ willÂ haveÂ aÂ blueÂ border!
Â &lt;/template&gt;
Â &lt;style&gt;
Â Â #hostÂ {
Â Â Â border-color:Â green;
Â Â }
Â &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
Â &lt;divÂ id="host"Â style="border-color:Â blue;"&gt;&lt;/div&gt;
Â &lt;scriptÂ type="text/javascript"&gt;
Â Â varÂ templateÂ =Â document.querySelector('#template')
Â Â varÂ rootÂ =Â document.querySelector('#host').attachShadow({Â mode:Â "open"Â });
Â Â root.appendChild(template.content);
Â &lt;/script&gt;
&lt;/body&gt;</code></pre> 
 <h4>Event retargetingï¼ˆäº‹ä»¶çš„é‡å®šå‘ï¼‰</h4> 
 <p>å½“ shadow DOM ä¸­å‘ç”Ÿçš„äº‹ä»¶åœ¨å¤–éƒ¨è¢«æ•è·æ—¶ï¼Œå°†ä¼šä»¥å…¶ host å…ƒç´ ä½œä¸ºç›®æ ‡ã€‚</p> 
 <blockquote> 
  <pre class="has"><code class="language-go">&lt;user-card&gt;&lt;/user-card&gt;

&lt;script&gt;
customElements.define('user-card',Â classÂ extendsÂ HTMLElementÂ {
Â Â connectedCallback()Â {
Â Â Â Â this.attachShadow({mode:Â 'open'});
Â Â Â Â this.shadowRoot.innerHTMLÂ =Â `&lt;p&gt;
Â Â Â Â Â Â &lt;button&gt;ClickÂ me&lt;/button&gt;
Â Â Â Â &lt;/p&gt;`;
Â Â Â Â this.shadowRoot.firstElementChild.onclickÂ =
Â Â Â Â Â Â eÂ =&gt;Â alert("InnerÂ target:Â "Â +Â e.target.tagName);
Â Â }
});

document.onclickÂ =
Â Â eÂ =&gt;Â alert("OuterÂ target:Â "Â +Â e.target.tagName);
&lt;/script&gt;

æ‰“å°å‡ºï¼š
InnerÂ target:Â BUTTON
OuterÂ target:Â USER-CARD</code></pre> 
 </blockquote> 
 <p>å¤–éƒ¨æ–‡æ¡£å¹¶ä¸éœ€è¦çŸ¥é“è‡ªå®šä¹‰ç»„ä»¶çš„å†…éƒ¨æƒ…å†µ -- ä»å®ƒçš„è§’åº¦æ¥çœ‹ï¼Œ<strong>äº‹ä»¶æ€»æ˜¯å‘ç”Ÿåœ¨è‡ªå®šä¹‰ç»„ä»¶ä¸Šï¼Œé™¤éäº‹ä»¶å‘ç”Ÿåœ¨ slot çš„å…ƒç´ ä¸Š</strong>ã€‚</p> 
 <blockquote> 
  <pre class="has"><code class="language-go">&lt;user-cardÂ id="userCard"&gt;
&lt;span slot="username"&gt;JohnÂ Smith&lt;/span&gt;
&lt;/user-card&gt;

&lt;script&gt;
customElements.define('user-card',Â classÂ extendsÂ HTMLElementÂ {
Â Â connectedCallback()Â {
Â Â Â Â this.attachShadow({mode:Â 'open'});
Â Â Â Â this.shadowRoot.innerHTMLÂ =Â `&lt;div&gt;
Â Â Â Â Â Â &lt;b&gt;Name:&lt;/b&gt;Â &lt;slotÂ name="username"&gt;&lt;/slot&gt;
Â Â Â Â &lt;/div&gt;`;

Â Â Â Â this.shadowRoot.firstElementChild.onclickÂ =
Â Â Â Â Â Â eÂ =&gt;Â alert("InnerÂ target:Â "Â +Â e.target.tagName);
Â Â }
});

userCard.onclickÂ =Â eÂ =&gt;Â alert(`OuterÂ target:Â ${e.target.tagName}`);
&lt;/script&gt;

æ‰“å°å‡ºï¼š
InnerÂ target:Â BUTTON
OuterÂ target:Â SPAN</code></pre> 
 </blockquote> 
 <h5>ä» Shadow DOM å†…éƒ¨è§¦å‘äº‹ä»¶</h5> 
 <p>å¦‚æœè¦å‘é€è‡ªå®šä¹‰äº‹ä»¶ï¼Œå¯ä»¥ä½¿ç”¨ CustomEventï¼Œæ³¨æ„è¦è®¾ç½®å†’æ³¡å’Œ composed</p> 
 <pre class="has"><code class="language-go">this._shadowRoot.dispatchEvent(
Â Â newÂ CustomEvent("weather-fetched",Â {
Â Â Â Â bubbles:Â true,
Â Â Â Â composed:Â true,
Â Â Â Â detail:Â json,
Â Â })
);</code></pre> 
 <h4>HTML imports</h4> 
 <p>Web Component æ ‡å‡†ä¸­<strong>è¢«åºŸå¼ƒ</strong>çš„ä¸€ä¸ªè‰æ¡ˆï¼ˆæœ‰å¼€æºæ›¿ä»£æ–¹æ¡ˆï¼‰ï¼Œç”¨äºå¼•å…¥è‡ªå®šä¹‰ç»„ä»¶çš„ç»“æ„å’Œå®Œæ•´å®šä¹‰ï¼Œä»è€Œå¯ä»¥ç›´æ¥åœ¨ä¸»é¡µé¢ html ä¸­å¼•ç”¨ï¼š</p> 
 <blockquote> 
  <pre class="has"><code class="language-go">&lt;linkÂ rel="import"Â href="module-my-comp.html"&gt;

&lt;my-compÂ /&gt;</code></pre> 
 </blockquote> 
 <h3>Web Component å¼€å‘æ¡†æ¶ </h3> 
 <p>é™¤äº†åŸç”Ÿå¼€å‘æ–¹æ³•ï¼Œç¤¾åŒºä¸­å¤§é‡æ—¢æœ‰/ç‰¹æœ‰å¼€å‘è¯­è¨€ï¼Œéƒ½å¯ä»¥è½¬è¯‘ä¸º Web Component</p> 
 <h4>Polymer</h4> 
 <p>Google æ¨å‡ºçš„ Web Components åº“ï¼Œæ”¯æŒæ•°æ®çš„å•å‘å’ŒåŒå‘ç»‘å®šï¼Œå…¼å®¹æ€§è¾ƒå¥½ï¼Œè·¨æµè§ˆå™¨æ€§èƒ½ä¹Ÿè¾ƒå¥½ï¼›åœ¨è¯­æ³•å±‚é¢ï¼ŒPolymer ä¹Ÿæœ€æ¥è¿‘ Web Components çš„åŸç”Ÿè¯­æ³•ã€‚</p> 
 <pre class="has"><code class="language-go">importÂ {Â PolymerElement,Â htmlÂ }Â fromÂ '@polymer/polymer/polymer-element.js';
importÂ '@polymer/iron-icon/iron-icon.js';Â //Â ä¸€ä¸ªå›¾æ ‡åº“

classÂ IconToggleÂ extendsÂ PolymerElementÂ {
Â Â staticÂ getÂ template()Â {
Â Â Â Â returnÂ html`
Â Â Â Â Â Â &lt;style&gt;
Â Â Â Â Â Â Â Â :hostÂ {
Â Â Â Â Â Â Â Â Â Â display:Â inline-block;
Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â iron-iconÂ {
Â Â Â Â Â Â Â Â Â Â fill:Â var(--icon-toggle-color,Â rgba(0,0,0,0));
Â Â Â Â Â Â Â Â Â Â stroke:Â var(--icon-toggle-outline-color,Â currentcolor);
Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â :host([pressed])Â iron-iconÂ {
Â Â Â Â Â Â Â Â Â Â fill:Â var(--icon-toggle-pressed-color,Â currentcolor);
Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â &lt;/style&gt;
Â Â Â Â Â Â &lt;!--Â shadowÂ DOMÂ goesÂ hereÂ --&gt;
Â Â Â Â Â Â &lt;iron-iconÂ icon="[[toggleIcon]]"&gt;&lt;/iron-icon&gt;
Â Â Â Â `;
Â Â }
Â Â staticÂ getÂ propertiesÂ ()Â {
Â Â Â Â returnÂ {
Â Â Â Â Â Â toggleIcon:Â {
Â Â Â Â Â Â Â Â type:Â String
Â Â Â Â Â Â },
Â Â Â Â Â Â pressed:Â {
Â Â Â Â Â Â Â Â type:Â Boolean,
Â Â Â Â Â Â Â Â notify:Â true,
Â Â Â Â Â Â Â Â reflectToAttribute:Â true,
Â Â Â Â Â Â Â Â value:Â false
Â Â Â Â Â Â }
Â Â Â Â };
Â Â }
Â Â constructor()Â {
Â Â Â Â super();
Â Â Â Â this.addEventListener('click',Â this.toggle.bind(this));
Â Â }
Â Â toggle()Â {
Â Â Â Â this.pressedÂ =Â !this.pressed;
Â Â }
}

customElements.define('icon-toggle',Â IconToggle);</code></pre> 
 <h4>Lit</h4> 
 <p>Google åœ¨ 2019 å¹´å®£å¸ƒåœæ­¢å¯¹ Polymer çš„è¿›ä¸€æ­¥å¼€å‘ï¼Œè½¬å‘æ”¯æŒ Web Components è§„èŒƒæ›´å¥½çš„ Litï¼›è¿™ä¹Ÿæ˜¯ç›®å‰ç¤¾åŒºä¸­è¢«æ¨èè¾ƒå¤šçš„ä¸€ä¸ª</p> 
 <blockquote> 
  <p>The Polymer library is in maintenance mode. For new development, we recommend <strong>Lit</strong>. -- Google</p> 
 </blockquote> 
 <pre class="has"><code class="language-go">importÂ {html,Â css,Â LitElement}Â fromÂ 'lit';
importÂ {customElement,Â property}Â fromÂ 'lit/decorators.js';

@customElement('simple-greeting')
exportÂ classÂ SimpleGreetingÂ extendsÂ LitElementÂ {
Â Â staticÂ stylesÂ =Â css`pÂ {Â color:Â blueÂ }`;

Â Â @property()
Â Â nameÂ =Â 'Somebody';

Â Â render()Â {
Â Â Â Â returnÂ html`&lt;p&gt;Hello,Â ${this.name}!&lt;/p&gt;`;
Â Â }
}</code></pre> 
 <pre class="has"><code class="language-go">&lt;simple-greetingÂ name="World"&gt;&lt;/simple-greeting&gt;</code></pre> 
 <h4>React</h4> 
 <p>react åœ¨ v17 ç‰ˆæœ¬ä¹‹åï¼Œå¢åŠ äº†å¯¹äºåœ¨ React ç»„ä»¶ä¸­ä½¿ç”¨ web component çš„æ”¯æŒï¼š</p> 
 <blockquote> 
  <p>If you render a tag <strong>with a dash</strong>, like, React will assume you want to render a custom HTML element. In React, rendering custom elements works differently from rendering built-in browser tags:</p> 
  <p>All custom element props are serialized to strings and are always set using attributes. Custom elements accept class rather than className, and for rather than htmlFor. If you render a built-in browser HTML element with an is attribute, it will also be treated as a custom element.</p> 
 </blockquote> 
 <pre class="has"><code class="language-go">importÂ React,Â {Â useStateÂ }Â Â fromÂ 'react';
importÂ './alert.js';

exportÂ defaultÂ functionÂ App()Â {
Â Â constÂ [show,Â setShow]Â =Â useState(true);

Â Â returnÂ (
Â Â Â Â &lt;div&gt;
Â Â Â Â Â Â &lt;buttonÂ onClick={()Â =&gt;Â setShow(!show)}&gt;toggleÂ alert&lt;/button&gt;

Â Â Â Â Â Â &lt;x-alertÂ hidden={show}Â status="success"Â closableÂ oncloseChange={()Â =&gt;Â setShow(!show)}&gt;
Â Â Â Â Â Â Â Â ThisÂ isÂ aÂ WebÂ ComponentÂ inÂ React
Â Â Â Â Â Â &lt;/x-alert&gt;
Â Â Â Â &lt;/div&gt;
Â Â );
}</code></pre> 
 <p>è€Œå¦‚æœæƒ³<strong>å°†æ ‡å‡† react ç»„ä»¶åŒ…è£…ä¸º web component</strong>ï¼Œå¯ä»¥åœ¨ react å·¥ç¨‹ä¸­ç›´æ¥ç»“åˆ web component åŸç”Ÿè¯­æ³•ã€ä½¿ç”¨ React å®ŒæˆèŠ‚ç‚¹æ¸²æŸ“ï¼Œå¹¶å¯¼å‡ºæˆç‹¬ç«‹ç»„ä»¶ã€‚</p> 
 <p>æ¯”å¦‚ Githubä¸Šè¿™ä¸ªä¾‹å­ï¼š</p> 
 <pre class="has"><code class="language-go">importÂ *Â asÂ ReactÂ fromÂ "react";
importÂ *Â asÂ ReactDomÂ fromÂ "react-dom";
importÂ {Â FetchDataÂ }Â fromÂ "./fetch-data";

classÂ StandaloneComponentÂ extendsÂ HTMLElementÂ {
Â Â mountPoint!:Â HTMLSpanElement;
Â Â name!:Â string;

Â Â connectedCallback()Â {
Â Â Â Â constÂ mountPointÂ =Â document.createElement("span");
Â Â Â Â this.attachShadow({Â mode:Â "open"Â }).appendChild(mountPoint);

Â Â Â Â constÂ nameÂ =Â this.getAttribute("name");
Â Â Â Â ifÂ (name)Â {
Â Â Â Â Â Â ReactDom.render(&lt;FetchDataÂ name={name}Â /&gt;,Â mountPoint);
Â Â Â Â }Â elseÂ {
Â Â Â Â Â Â console.error("YouÂ mustÂ declareÂ aÂ name!");
Â Â Â Â }
Â Â }
}
exportÂ defaultÂ StandaloneComponent;

window.customElements.get("standalone-component")Â ||
Â Â window.customElements.define("standalone-component",Â StandaloneComponent);</code></pre> 
 <p>å¦ä¸€ç§æ›´æ–¹ä¾¿çš„æ–¹å¼æ˜¯ä¾é  react ç¤¾åŒºä¸­çš„å·¥å…·ï¼Œå¸¸è§çš„å¦‚ï¼š</p> 
 <ul><li><p>react-web-component</p></li><li><p>direflow</p></li><li><p>react-shadow-root</p></li><li><p>react-to-web-component</p></li></ul> 
 <pre class="has"><code class="language-go">importÂ r2wcÂ fromÂ '@r2wc/react-to-web-component';
importÂ ChecklistÂ fromÂ './components/checklist/Checklist';

constÂ wcChecklistÂ =Â r2wc(Checklist,Â {Â props:Â {Â items:Â "json"Â }Â });

customElements.define("r2w-checklist",Â wcChecklist);</code></pre> 
 <h4>Vue3</h4> 
 <blockquote> 
  <p>Polymer æ˜¯å¦ä¸€ä¸ªç”±è°·æ­ŒèµåŠ©çš„é¡¹ç›®ï¼Œäº‹å®ä¸Šä¹Ÿæ˜¯ Vue çš„ä¸€ä¸ªçµæ„Ÿæ¥æºã€‚Vue çš„ç»„ä»¶å¯ä»¥ç²—ç•¥çš„ç±»æ¯”äº Polymer çš„è‡ªå®šä¹‰å…ƒç´ ï¼Œå¹¶ä¸”ä¸¤è€…å…·æœ‰ç›¸ä¼¼çš„å¼€å‘é£æ ¼ã€‚æœ€å¤§çš„ä¸åŒä¹‹å¤„åœ¨äºï¼ŒPolymer æ˜¯åŸºäºæœ€æ–°ç‰ˆçš„ Web Components æ ‡å‡†ä¹‹ä¸Šï¼Œå¹¶ä¸”éœ€è¦é‡é‡çº§çš„ polyfills æ¥å¸®åŠ©å·¥ä½œ (æ€§èƒ½ä¸‹é™)ï¼Œæµè§ˆå™¨æœ¬èº«å¹¶ä¸æ”¯æŒè¿™äº›åŠŸèƒ½ã€‚ç›¸æ¯”è€Œè¨€ï¼ŒVue åœ¨æ”¯æŒåˆ° IE9 çš„æƒ…å†µä¸‹å¹¶ä¸éœ€è¦ä¾èµ– polyfills æ¥å·¥ä½œã€‚</p> 
  <p>...</p> 
  <p>Vue implements a content distribution API inspired by the Web Components spec draft, using the <code>&lt;slot&gt;</code> element to serve as distribution outlets for content.</p> 
  <p>-- vue2å®˜æ–¹æ–‡æ¡£</p> 
 </blockquote> 
 <p>æºè‡ª Vue 2.x æ—¶ä»£å¯¹ Â Web Components çš„å…³æ³¨ï¼ŒVue 3 æ›´è¿›ä¸€æ­¥ï¼Œ<strong>åŸç”Ÿæ”¯æŒäº†å°† Vue 3 ç»„ä»¶å¯¼å‡ºä¸º Web Components</strong>ï¼š</p> 
 <blockquote> 
  <p>Vue æä¾›äº†ä¸€ä¸ªå’Œå®šä¹‰ä¸€èˆ¬ Vue ç»„ä»¶å‡ ä¹å®Œå…¨ä¸€è‡´çš„ <code>defineCustomElement</code> æ–¹æ³•æ¥æ”¯æŒåˆ›å»ºè‡ªå®šä¹‰å…ƒç´ ã€‚è¿™ä¸ªæ–¹æ³•æ¥æ”¶çš„å‚æ•°å’Œ <code>defineComponent</code> å®Œå…¨ç›¸åŒã€‚ä½†å®ƒä¼šè¿”å›ä¸€ä¸ªç»§æ‰¿è‡ª <code>HTMLElement</code> çš„è‡ªå®šä¹‰å…ƒç´ æ„é€ å™¨ï¼š</p> 
  <pre class="has"><code class="language-go">&lt;my-vue-element&gt;&lt;/my-vue-element&gt;</code></pre> 
  <pre class="has"><code class="language-go">importÂ {Â defineCustomElementÂ }Â fromÂ 'vue'

constÂ MyVueElementÂ =Â defineCustomElement({
Â Â //Â è¿™é‡Œæ˜¯åŒå¹³å¸¸ä¸€æ ·çš„Â VueÂ ç»„ä»¶é€‰é¡¹
Â Â props:Â {},
Â Â emits:Â {},
Â Â template:Â `...`,

Â Â //Â defineCustomElementÂ ç‰¹æœ‰çš„ï¼šæ³¨å…¥è¿›Â shadowÂ rootÂ çš„Â CSS
Â Â styles:Â [`/*Â inlinedÂ cssÂ */`]
})

//Â æ³¨å†Œè‡ªå®šä¹‰å…ƒç´ 
//Â æ³¨å†Œä¹‹åï¼Œæ‰€æœ‰æ­¤é¡µé¢ä¸­çš„Â `&lt;my-vue-element&gt;`Â æ ‡ç­¾
//Â éƒ½ä¼šè¢«å‡çº§
customElements.define('my-vue-element',Â MyVueElement)

//Â ä½ ä¹Ÿå¯ä»¥ç¼–ç¨‹å¼åœ°å®ä¾‹åŒ–å…ƒç´ ï¼š
//Â ï¼ˆå¿…é¡»åœ¨æ³¨å†Œä¹‹åï¼‰
document.body.appendChild(
Â Â newÂ MyVueElement({
Â Â Â Â //Â åˆå§‹åŒ–Â propsï¼ˆå¯é€‰ï¼‰
Â Â })
)</code></pre> 
  <p>...</p> 
  <p>å®˜æ–¹çš„ SFC å·¥å…·é“¾æ”¯æŒä»¥â€œè‡ªå®šä¹‰å…ƒç´ æ¨¡å¼â€å¯¼å…¥ SFC (éœ€è¦ <code>@vitejs/plugin-vue@^1.4.0</code> æˆ– <code>vue-loader@^16.5.0</code>)ã€‚ä¸€ä¸ªä»¥è‡ªå®šä¹‰å…ƒç´ æ¨¡å¼åŠ è½½çš„ SFC å°†ä¼šå†…è”å…¶ <code>&lt;style&gt;</code> æ ‡ç­¾ä¸º CSS å­—ç¬¦ä¸²ï¼Œå¹¶å°†å…¶æš´éœ²ä¸ºç»„ä»¶çš„ <code>styles</code> é€‰é¡¹ã€‚è¿™ä¼šè¢« <code>defineCustomElement</code> æå–ä½¿ç”¨ï¼Œå¹¶åœ¨åˆå§‹åŒ–æ—¶æ³¨å…¥åˆ°å…ƒç´ çš„ shadow root ä¸Šã€‚</p> 
  <p>è¦å¼€å¯è¿™ä¸ªæ¨¡å¼ï¼Œåªéœ€è¦å°†ä½ çš„ç»„ä»¶æ–‡ä»¶ä»¥ <code>.ce.vue</code> ç»“å°¾å³å¯ï¼š</p> 
  <pre class="has"><code class="language-go">importÂ {Â defineCustomElementÂ }Â fromÂ 'vue'
importÂ ExampleÂ fromÂ './Example.ce.vue'

console.log(Example.styles)Â //Â ["/*Â å†…è”Â cssÂ */"]

//Â è½¬æ¢ä¸ºè‡ªå®šä¹‰å…ƒç´ æ„é€ å™¨
constÂ ExampleElementÂ =Â defineCustomElement(Example)

//Â æ³¨å†Œ
customElements.define('my-example',Â ExampleElement)</code></pre> 
 </blockquote> 
 <p>åœ¨ Vue 3 ä¸­ä½¿ç”¨å…¶ä»– Web Component åŒæ ·ç®€å•ï¼Œæ ¹æ®ç¼–è¯‘ç¯å¢ƒæ˜¯æµè§ˆå™¨ã€vite æˆ–æ˜¯ vue cli ç­‰ï¼Œè®¾ç½®å…¶ <code>isCustomElement</code> é…ç½®å‡½æ•°ä¸º <code>(tag) =&gt; tag.includes('-')</code> ååŸºæœ¬å°±èƒ½æ­£å¸¸ä½¿ç”¨äº†ï¼›è¯¦è§å®˜æ–¹æ–‡æ¡£ã€‚</p> 
 <h4>Vue 2</h4> 
 <p>Vue 2 ä¸­å¹¶ä¸å…·å¤‡ Vue 3 ä¸­ defineCustomElement é‚£æ ·çš„æ–¹æ³•ã€‚</p> 
 <h5>webpack</h5> 
 <p>å¯¹äºå¤§éƒ¨åˆ†åŸºäºåŸç”Ÿ webpack çš„ Vue 2 é¡¹ç›®ï¼Œå¯ä»¥ç”¨å¼€æºæ’ä»¶ vue-custom-element è¾¾åˆ°å’Œ defineCustomElement ç±»ä¼¼çš„æ•ˆæœï¼Œå¦‚ï¼š</p> 
 <pre class="has"><code class="language-go">Vue.customElement('widget-vue',Â MyVueComponent,Â {
Â Â shadow:Â true,
Â Â beforeCreateVueInstance(root)Â {
Â Â Â Â constÂ rootNodeÂ =Â root.el.getRootNode();

Â Â Â Â ifÂ (rootNodeÂ instanceofÂ ShadowRoot)Â {
Â Â Â Â Â Â root.shadowRootÂ =Â rootNode;
Â Â Â Â }Â elseÂ {
Â Â Â Â Â Â root.shadowRootÂ =Â document.head;
Â Â Â Â }
Â Â Â Â returnÂ root;
Â Â },
});</code></pre> 
 <h5>Vue CLI</h5> 
 <p>è€Œåœ¨ç”± Vue CLI æ„å»ºçš„ Vue é¡¹ç›®ä¸­ï¼Œå¯ä»¥é€šè¿‡ä¸ºæ„å»ºå‘½ä»¤æŒ‡å®š <code>--target wc</code> å‚æ•°ï¼Œä»è€Œå°†ä¸€ä¸ªå•ç‹¬çš„å…¥å£æ„å»ºä¸ºä¸€ä¸ª Web Components ç»„ä»¶ï¼š</p> 
 <pre class="has"><code class="language-go">vue-cli-serviceÂ buildÂ --targetÂ wcÂ --nameÂ my-elementÂ [entry]</code></pre> 
 <ul><li><p><code>entry</code> åº”è¯¥æ˜¯ä¸€ä¸ª *.vue æ–‡ä»¶ã€‚Vue CLI å°†ä¼šæŠŠè¿™ä¸ªç»„ä»¶è‡ªåŠ¨åŒ…è£¹å¹¶æ³¨å†Œä¸º Web Components ç»„ä»¶ï¼Œæ— éœ€åœ¨ main.js é‡Œè‡ªè¡Œæ³¨å†Œ</p></li><li><p>åœ¨ Web Components æ¨¡å¼ä¸­ï¼ŒVue æ˜¯å¤–ç½®çš„ã€‚è¿™æ„å‘³ç€åŒ…ä¸­ä¸ä¼šæœ‰ Vueï¼Œå³ä¾¿ä½ åœ¨ä»£ç ä¸­å¯¼å…¥äº† Vueã€‚è¿™é‡Œçš„åŒ…ä¼šå‡è®¾åœ¨é¡µé¢ä¸­å·²ç»æœ‰ä¸€ä¸ªå¯ç”¨çš„å…¨å±€å˜é‡ Vue</p></li><li><p>è¯¥æ„å»ºå°†ä¼šäº§ç”Ÿä¸€ä¸ªå•ç‹¬çš„ JavaScript æ–‡ä»¶ (åŠå…¶å‹ç¼©åçš„ç‰ˆæœ¬) å°†æ‰€æœ‰çš„ä¸œè¥¿éƒ½å†…è”èµ·æ¥</p></li><li><p>å½“è¿™ä¸ªè„šæœ¬è¢«å¼•å…¥ç½‘é¡µæ—¶ï¼Œä¼šæ³¨å†Œè‡ªå®šä¹‰ç»„ä»¶ï¼Œå…¶ä½¿ç”¨ @vue/web-component-wrapper åŒ…è£¹ç›®æ ‡ Vue ç»„ä»¶ï¼Œå¹¶è‡ªåŠ¨ä»£ç†å±æ€§ã€ç‰¹æ€§ã€äº‹ä»¶å’Œæ’æ§½</p></li><li><p>ä¹Ÿå¯ä»¥è®¾ç½®æ„å»ºå‘½ä»¤æ‰“åŒ…å¤šä¸ªç»„ä»¶æˆ–å¼‚æ­¥ç»„ä»¶</p></li></ul> 
 <pre class="has"><code class="language-go">&lt;scriptÂ src="https://unpkg.com/vue"&gt;&lt;/script&gt;
&lt;scriptÂ src="path/to/my-element.js"&gt;&lt;/script&gt;

&lt;!--Â å¯åœ¨æ™®é€šÂ HTMLÂ ä¸­æˆ–è€…å…¶å®ƒä»»ä½•æ¡†æ¶ä¸­ä½¿ç”¨Â --&gt;
&lt;my-element&gt;&lt;/my-element&gt;</code></pre> 
 <h3>ğŸŒ°å®ä¾‹ï¼šç”¨å¼‚æ„ç³»ç»Ÿå…±å»º web components </h3> 
 <p><img src="https://images2.imgbox.com/36/c0/MG5b40aR_o.jpg" alt="326027c3c3ab62c9e2a07a53f52d3ee1.jpeg"> https://gitee.com/tonylua/web-component-test1/tree/master</p> 
 <h3>æ€»ç»“ </h3> 
 <p>æ­£å¦‚ä»¥ Flash ä¸ºä»£è¡¨çš„ RIA æŠ€æœ¯æµªæ½®æå¤§åœ°åˆºæ¿€äº†æµè§ˆå™¨å‚å•†ï¼Œä»è€ŒåŠ é€Ÿäº†æµè§ˆå™¨çš„è¿›æ­¥å¹¶å‚¬ç”Ÿäº† ES5/ES6 çš„è½åœ°ï¼›åŒæ ·ï¼ŒAngular/React/Vue ç­‰å‰ç«¯ç»„ä»¶åŒ–å¼€å‘æ¡†æ¶çš„æ™®åŠï¼Œä¹Ÿè®©åŸç”Ÿçš„ Web Components æ ‡å‡†ä¸æ–­å‘å±•ã€‚</p> 
 <p>Web Components æ­é…çš„ shadow DOM å°è£…ç­‰å®ç”¨ç‰¹æ€§ï¼Œè®©ä¸€ç›´å›°æ‰°å¼€å‘è€…ä»¬çš„æ ·å¼å±€éƒ¨åŒ–å’Œäº‹ä»¶éš”ç¦»ç­‰é—®é¢˜è¿åˆƒè€Œè§£ã€‚</p> 
 <p>éšç€ç°ä»£æµè§ˆå™¨å…¼å®¹æ€§çš„ä¸æ–­æ”¹å–„å’Œå„ç§å¼€å‘æ¡†æ¶å¯¹ Web Components Â çš„ä¸»åŠ¨æ‹¥æŠ±ï¼Œä¹ŸåŠ¿å¿…ä¼šåœ¨ä¸ä¹…çš„å°†æ¥æ‰“ç ´å‰ç«¯å¼€å‘æŠ€æœ¯æ ˆä¹‹é—´çš„å£å’ï¼Œè®©æ•´ä¸ªç¤¾åŒºæ²‰æ·€çš„æœåŠ¡å’Œèƒ½åŠ›è¿æ¥ä¸€æ¬¡å¤§çš„æ•´åˆã€‚</p> 
 <h3>å‚è€ƒèµ„æ–™ </h3> 
 <ul><li><p>http://w3c-html-ig-zh.github.io/webcomponents/spec-zh/shadow/</p></li><li><p>https://javascript.info/webcomponents-intro</p></li><li><p>https://www.webcomponents.org/introduction</p></li><li><p>https://juejin.cn/post/7072715334519619598</p></li><li><p>https://juejin.cn/post/7148974524795453476</p></li><li><p>https://juejin.cn/post/7107856163361783816</p></li><li><p>https://www.zhihu.com/question/321832109</p></li><li><p>https://juejin.cn/post/7181088227531915322</p></li><li><p>https://www.jitendrazaa.com/blog/salesforce/introduction-to-html-web-components/</p></li><li><p>https://juejin.cn/post/7168630364246638606</p></li><li><p>https://juejin.cn/post/6976557762377416718</p></li><li><p>https://cn.vuejs.org/guide/extras/web-components.html</p></li><li><p>https://web.dev/custom-elements-best-practices/</p></li><li><p>https://github.com/stcruy/building-a-reusable-vue-web-component</p></li><li><p>https://www.oreilly.com/library/view/modern-javascript/9781491971420/ch05.html</p></li><li><p>https://developer.mozilla.org/zh-CN/docs/Web/API/Web_components</p></li><li><p>https://deepinout.com/css/css-questions/417_css_what_is_the_different_between_host_host_hostcontext_selectors.html</p></li><li><p>https://www.zhangxinxu.com/wordpress/2021/02/css-part-shadow-dom/</p></li><li><p>https://juejin.cn/post/6923957212075261966</p></li><li><p>https://web.dev/custom-elements-best-practices/</p></li><li><p>https://www.abeautifulsite.net/tags/web%20components/</p></li><li><p>https://juejin.cn/post/7010595352550047752</p></li><li><p>https://dev.to/nurlan_tl/tips-to-create-web-components-using-vue-3-ts-vite-3a7a</p></li><li><p>https://itnext.io/react-and-web-components-3e0fca98a593</p></li><li><p>https://www.bitovi.com/blog/how-to-create-a-web-component-with-create-react-app</p></li></ul> 
 <p><img src="https://images2.imgbox.com/02/06/1OjCZXgJ_o.png" alt="5d0888ba1ab97e60cef92601b8c4144a.png"></p> 
 <p><img src="https://images2.imgbox.com/85/db/zBGE2KRt_o.png" alt="caa3a09f007e35698e52d7b383bf8534.png"></p> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/1a7bfaed61b1931d2c29925b315d52b2/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">åŠ¨æ€è§„åˆ’å…¥é—¨ï¼šæ–æ³¢é‚£å¥‘æ•°åˆ—æ¨¡å‹ä»¥åŠå¤šçŠ¶æ€ï¼ˆC&#43;&#43;ï¼‰</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/894a7d88a1e82fc7dbe0ae01a7d0fa6f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">ã€Java åŸºç¡€ç¯‡ã€‘Java HashSet é›†åˆè¯¦è§£ï¼šé«˜æ•ˆå­˜å‚¨å”¯ä¸€å…ƒç´ çš„åˆ©å™¨</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ç¼–ç¨‹å¤§å’–.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>