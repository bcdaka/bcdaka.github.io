<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【前端速通系列|第一篇】ES6核心语法 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/11a5508f6ceb0232389a5ad43408736a/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="【前端速通系列|第一篇】ES6核心语法">
  <meta property="og:description" content="文章目录 1.ES6简介2.let和const3.解构4.链判断5.参数默认值6.箭头函数7.模板字符串8.Promise9.Async函数10.Await关键字11.模块化 1.ES6简介 ES6 是 ECMAScript 2015 的缩写，是 ECMAScript 语言标准的第6个版本。ECMAScript 是 JavaScript 语言的国际标准化组织制定的规范，规定了语言的基本语法、类型、对象、属性以及方法等内容。ES6 于2015年6月正式发布，引入了许多重要的新特性和语法改进，旨在使 JavaScript 更适合构建复杂和大规模的应用程序。
2.let和const let 和 const 是在ES6中引入的两个新的变量声明关键字，它们为 JavaScript 的变量声明和作用域管理带来了重要的改进。
在此之前还有一个关键字可以声明变量,那就是var
例如:
var a = 1; let b = 2; 可能大家也听说过,能用var的地方都可以使用let进行替代. 至于为什么,是因为使用var会出现以下几个问题:
越狱 如图所示,a和b实在代码块中定义的,但是a越出了代码块,所以在使用时可能会出现一些问题
重复声明 用var声明变量时,可以对同一个变量重复声明,而使用let不行,只允许声明一次
变量提升 在Java中是使用变量是要先声明变量的,与let相同.但是使用var声明变量时则可以不先声明就可以使用. 而let则不行
接着说const, const修饰的变量是不允许修改的,可以看到这里就直接报错了
3.解构 解构允许你将数组或对象的属性直接赋值给不同的变量。
这里的解构分为数组结构和对象结构
数组解构:能够将数组中的元素直接分配给独立的变量。 let arr = [1, 2, 3]; console.log(arr[0]) console.log(arr[1]) console.log(arr[2]) let [a, b, c] = arr; console.log(a) console.log(b) console.log(c) 一般我们在取数组中的元素时,都是按照下标来取. 数组解构是将数组 [1, 2, 3] 的元素分别被解构赋值给变量 a, b, 和 c。">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-06-14T10:54:41+08:00">
    <meta property="article:modified_time" content="2024-06-14T10:54:41+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【前端速通系列|第一篇】ES6核心语法</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#1ES6_2" rel="nofollow">1.ES6简介</a></li><li><a href="#2letconst_6" rel="nofollow">2.let和const</a></li><li><a href="#3_41" rel="nofollow">3.解构</a></li><li><a href="#4_92" rel="nofollow">4.链判断</a></li><li><a href="#5_128" rel="nofollow">5.参数默认值</a></li><li><a href="#6_147" rel="nofollow">6.箭头函数</a></li><li><a href="#7_186" rel="nofollow">7.模板字符串</a></li><li><a href="#8Promise_217" rel="nofollow">8.Promise</a></li><li><a href="#9Async_263" rel="nofollow">9.Async函数</a></li><li><a href="#10Await_292" rel="nofollow">10.Await关键字</a></li><li><a href="#11_335" rel="nofollow">11.模块化</a></li></ul> 
</div> 
<br> 
<img src="https://images2.imgbox.com/49/cf/w6U4edAk_o.png" alt="在这里插入图片描述"> 
<p></p> 
<h2><a id="1ES6_2"></a>1.ES6简介</h2> 
<p>ES6 是 ECMAScript 2015 的缩写，是 ECMAScript 语言标准的第6个版本。ECMAScript 是 JavaScript 语言的国际标准化组织制定的规范，规定了语言的基本语法、类型、对象、属性以及方法等内容。ES6 于2015年6月正式发布，引入了许多重要的新特性和语法改进，旨在使 JavaScript 更适合构建复杂和大规模的应用程序。</p> 
<h2><a id="2letconst_6"></a>2.let和const</h2> 
<p><code>let</code> 和 <code>const</code> 是在ES6中引入的两个新的变量声明关键字，它们为 JavaScript 的变量声明和作用域管理带来了重要的改进。</p> 
<p>在此之前还有一个关键字可以声明变量,那就是<code>var</code></p> 
<p>例如:</p> 
<pre><code class="prism language-js"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
</code></pre> 
<p>可能大家也听说过,能用var的地方都可以使用let进行替代. 至于为什么,是因为使用var会出现以下几个问题:</p> 
<ol><li>越狱<img src="https://images2.imgbox.com/03/62/Kha5ZsiC_o.png" alt="image-20240608223806476"></li></ol> 
<p>如图所示,a和b实在代码块中定义的,但是a越出了代码块,所以在使用时可能会出现一些问题</p> 
<ol start="2"><li>重复声明</li></ol> 
<p>用var声明变量时,可以对同一个变量重复声明,而使用let不行,只允许声明一次</p> 
<p><img src="https://images2.imgbox.com/74/b1/m8qRqkRU_o.png" alt="image-20240608224220616"></p> 
<ol start="3"><li>变量提升</li></ol> 
<p>在Java中是使用变量是要先声明变量的,与let相同.但是使用var声明变量时则可以不先声明就可以使用. 而let则不行<br> <img src="https://images2.imgbox.com/6e/45/nOkoPIyl_o.png" alt="image-20240608224454314"></p> 
<p>接着说const, <strong>const修饰的变量是不允许修改的</strong>,可以看到这里就直接报错了<br> <img src="https://images2.imgbox.com/e5/f5/2myBp9OC_o.png" alt="image-20240608224827361"></p> 
<h2><a id="3_41"></a>3.解构</h2> 
<p>解构允许你将数组或对象的属性直接赋值给不同的变量。</p> 
<p>这里的解构分为数组结构和对象结构</p> 
<ul><li><strong>数组解构:能够将数组中的元素直接分配给独立的变量。</strong></li></ul> 
<pre><code class="prism language-js"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token keyword">let</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>
</code></pre> 
<p>一般我们在取数组中的元素时,都是按照下标来取. 数组解构是将数组 <code>[1, 2, 3]</code> 的元素分别被解构赋值给变量 <code>a</code>, <code>b</code>, 和 <code>c</code>。</p> 
<ul><li><strong>对象解构:将对象的属性值直接赋给同名的变量。</strong></li></ul> 
<pre><code class="prism language-js"><span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> zhansgan<span class="token punctuation">,</span>
    <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>id<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>age<span class="token punctuation">)</span>

<span class="token keyword">let</span> <span class="token punctuation">{<!-- --></span>name<span class="token punctuation">,</span> age<span class="token punctuation">}</span> <span class="token operator">=</span> user
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span>

<span class="token comment">// 还能用在方法上</span>
<span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{<!-- --></span>name<span class="token punctuation">,</span> age<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">test</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span>
</code></pre> 
<p>解构赋值不仅限于简单变量，它也可以用于函数参数，使得函数能更简洁地接收和使用数组或对象类型的参数，提高了代码的清晰度和效率。</p> 
<h2><a id="4_92"></a>4.链判断</h2> 
<p>链判断运算符（也称为可选链操作符）是ECMAScript 2020（ES2020）中引入的一个新特性，其符号表示为<code>?.</code>。这个运算符主要用于安全地访问深层嵌套的属性或方法，而无需担心中间某个环节为<code>null</code>或<code>undefined</code>时导致的错误。</p> 
<p>在没有链判断运算符的情况下，访问深层属性通常需要先检查每一级是否为<code>null</code>或<code>undefined</code>，以避免抛出错误。例如：</p> 
<pre><code class="prism language-js"><span class="token comment">// 如果想要获取obj.info.user.content</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>obj <span class="token operator">&amp;&amp;</span> obj<span class="token punctuation">.</span>info <span class="token operator">&amp;&amp;</span> obj<span class="token punctuation">.</span>info<span class="token punctuation">.</span>user<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>info<span class="token punctuation">.</span>user<span class="token punctuation">.</span>content<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'err'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>可以看到对每一层进行非空检查,会十分麻烦.</p> 
<p>而使用链判断运算符则可以很好的简化</p> 
<pre><code class="prism language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token operator">?.</span>info<span class="token operator">?.</span>user<span class="token operator">?.</span>content <span class="token operator">||</span> <span class="token string">'err'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>上面这一行代码就是对前面四行代码的简化.</p> 
<p><code>?.</code>运算符会在尝试访问属性前检查左侧的操作数是否为<code>null</code>或<code>undefined</code>。如果是，则立即停止评估并返回<code>undefined</code>，而不是继续执行并抛出错误。这在处理可能缺失的属性路径时非常有用，尤其是在处理外部API返回的数据或是可选配置对象时。</p> 
<p>这里要提两个运算符<code>||</code>和<code>??</code></p> 
<blockquote> 
 <p><code>??</code>（空值合并运算符）和<code>||</code>（逻辑或运算符）都可以用于为变量提供默认值</p> 
</blockquote> 
<ul><li><code>??</code>（空值合并运算符）<code>仅</code>在左侧的操作数为null或undefined时，才会返回右侧的操作数。这意味着如果左侧的操作数有一个非null和非undefined的值（即使这个值是false、0、空字符串或其他“假”值），都不会返回右侧的操作数。</li><li><code>||</code>（逻辑或运算符）在左侧的操作数被解释为“假”（包括null、undefined、false、0、空字符串、NaN）时，会返回右侧的操作数。因此，如果左侧是任何“假”值，不管它是不是严格意义上的null或undefined，都会返回右侧的操作数。</li></ul> 
<h2><a id="5_128"></a>5.参数默认值</h2> 
<p>参数默认值允许你在定义函数时为参数指定一个默认的值。如果函数被调用时没有为该参数提供值或者提供的值是<code>undefined</code>，那么该参数就会使用其默认值。</p> 
<p>在JavaScript中，可以直接在函数参数定义时通过<code>= value</code>来指定默认值：</p> 
<p>例如:</p> 
<pre><code class="prism language-js"><span class="token keyword">function</span> <span class="token function">hello</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">'World'</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hello, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出 "Hello, World!"</span>
<span class="token function">hello</span><span class="token punctuation">(</span><span class="token string">'abc'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出 "Hello, abc!"</span>
</code></pre> 
<h2><a id="6_147"></a>6.箭头函数</h2> 
<p>箭头函数是一种更<strong>简化的函数表达式书写方式</strong>，它使用<code>=&gt;</code>符号定义。它类似于Java中的lambda表达式</p> 
<p>一般情况下创建方法的两种方式:</p> 
<pre><code class="prism language-js"><span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token operator">+</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> <span class="token function-variable function">add1</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token operator">+</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>使用箭头函数创建</p> 
<pre><code class="prism language-js"><span class="token keyword">let</span> <span class="token function-variable function">add2</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token operator">+</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>⭐简单来说就是把function删除掉,在参数列表后面加 <code>=&gt;</code></p> 
<p>如果函数体内部只有一句话,也可以省略<code>{}</code></p> 
<pre><code class="prism language-js"><span class="token keyword">let</span> <span class="token function-variable function">add2</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token operator">+</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>如果函数只有参数,可以省略<code>()</code></p> 
<pre><code class="prism language-js"><span class="token keyword">let</span> <span class="token function-variable function">func1</span> <span class="token operator">=</span> <span class="token parameter">num</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span>
<span class="token function">func1</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// 调用方法</span>
</code></pre> 
<h2><a id="7_186"></a>7.模板字符串</h2> 
<p>ES6引入了模板字符串，这是一种增强型的字符串字面量表示法，使用**反引号`**来界定字符串。</p> 
<p>模板字符串最常见的用法就是插值.</p> 
<p><strong>插值（Interpolation）</strong>：通过<code>${expression}</code>语法，可以在字符串中嵌入表达式。表达式将在运行时求值，并将其转换为字符串形式插入到最终的字符串中。这使得字符串拼接变得简单且易读。</p> 
<p>例如:</p> 
<pre><code class="prism language-js"><span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">"zhangsan"</span>
<span class="token keyword">const</span> age <span class="token operator">=</span> <span class="token number">19</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">姓名是 </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, 年龄是</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>age<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
<span class="token comment">// 输出结果 姓名是 zhangsan, 年龄是19</span>
</code></pre> 
<p>除此之外,还有两个不常用的用法.</p> 
<p><strong>多行字符串</strong>：模板字符串允许你在字符串中直接编写多行文本，无需使用转义字符，这使得编写HTML片段、SQL语句或者任何需要跨越多行的文本变得更加自然。</p> 
<p>例如:</p> 
<pre><code class="prism language-js"><span class="token keyword">const</span> html <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
    &lt;div&gt;
        &lt;h1&gt;Hello, world!&lt;/h1&gt;
    &lt;/div&gt;
</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
</code></pre> 
<h2><a id="8Promise_217"></a>8.Promise</h2> 
<p>ES6引入了Promise对象，Promise代表异步对象</p> 
<blockquote> 
 <p><strong>Promise</strong> 是现代 JavaScript 中异步编程的基础，是一个由异步函数返回的可以向我们指示当前操作所处的状态的对象。在 Promise 返回给调用者的时候，操作往往还没有完成，但 Promise 对象可以让我们操作最终完成时对其进行处理（无论成功还是失败）基本概念:</p> 
</blockquote> 
<p>上面都是一些概念不好理解,可以看下我的理解</p> 
<p>⭐异步操作: 在实际开发中,我们往往要发送网络请求,如果是同步操作,就会等待网络请求完成.但如果网络请求很慢,就会阻塞后面代码的执行. 而异步操作则不会阻塞,发送网络请求完成后,依旧会执行后面代码,等网络请求成功后再进行处理</p> 
<p>Promise 有三种状态：</p> 
<ul><li><strong>Pending（等待中）</strong>：初始状态，既没有被兑现，也没有被拒绝。</li><li><strong>Fulfilled（已成功）</strong>：表示操作成功完成，此时Promise变为resolved状态，并携带一个成功的结果值。</li><li><strong>Rejected（已失败）</strong>：表示操作失败，Promise变为rejected状态，并携带一个失败的原因。</li></ul> 
<p><strong>创建Promise</strong></p> 
<pre><code class="prism language-js"><span class="token keyword">const</span> promise <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  <span class="token comment">// 异步操作</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token comment">/* 操作成功 */</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'操作成功后的操作'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
      <span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">'操作失败的原因'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p><strong>消费Promise</strong></p> 
<ul><li><strong>then()</strong>：用于处理成功的场景，可以链式调用。</li><li><strong>catch()</strong>：用于处理失败的场景。</li><li><strong>finally()</strong>：无论Promise成功还是失败，都会执行的回调，常用于清理资源。</li></ul> 
<pre><code class="prism language-js">promise
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'成功:'</span><span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'失败:'</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">finally</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'无论成功还是失败，都会执行'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h2><a id="9Async_263"></a>9.Async函数</h2> 
<p><code>Async/Await</code>是ES2017中引入的一个非常重要的特性，它建立在Promise的基础上，提供了更简洁、更易读的方式来处理异步操作。</p> 
<p><strong>async</strong>：是一个关键字，用于声明一个异步函数。异步函数总是返回一个Promise。</p> 
<p>示例:</p> 
<pre><code class="prism language-js"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 业务代码示例</span>
    <span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token number">101</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> x<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">"x不是偶数"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">data</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"then"</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"catch"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p>因为返回的是Promise对象,因为可以使用对应的then,catch方法.</p> 
<p>有一点需要注意,catch方法是处理失败的场景.如果想要让catch进行处理,就需要在业务代码中抛出异常</p> 
<h2><a id="10Await_292"></a>10.Await关键字</h2> 
<p><strong>await</strong>：只能在async函数内部使用，用来等待Promise的结果，它会使代码暂停执行，直到Promise解析完成（resolve或reject），然后继续执行并返回Promise的结果。</p> 
<p>在不使用await关键字时,要获取Promise对象里的数据,要用到<code>.then</code>方法,还要用到箭头函数.如果在<code>.then</code>方法中处理数据又有Promise对象,就需要再使用<code>.then</code>方法,就会非常麻烦且代码可读性不好.</p> 
<p>示例:</p> 
<pre><code class="prism language-js"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">fetchData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">let</span> promise1 <span class="token operator">=</span> <span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
    promise1<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">data</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">let</span> promise2 <span class="token operator">=</span> data<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        promise2<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">jdata</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>jdata<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">fetchData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>使用await关键字可以简单代码如下:</p> 
<pre><code class="prism language-js"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">fetchData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">let</span> promise1 <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> promise2 <span class="token operator">=</span> <span class="token keyword">await</span> promise1<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>promise2<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">fetchData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<blockquote> 
 <p><code>fetch</code>方法是现代Web开发中用于发送网络请求的核心API，它是在ES6中被引入的，用于替代传统的XMLHttpRequest（XHR）对象。<code>fetch</code>提供了一个更强大、灵活且易于使用的接口来处理网络请求，支持Promise，适用于各种资源的获取，如JSON数据、文本、图片等。</p> 
</blockquote> 
<p>基本用法:最基础的fetch调用非常简单，只需要传入<code>URL</code>作为参数</p> 
<p>返回值:fetch返回的是一个Promise，它会根据HTTP响应的状态来解析为一个Response对象。从Response对象中，你可以进一步提取数据，比如使用<code>.json()</code>、<code>.text()</code>等方法。</p> 
<p>⭐需要注意：async修饰的方法仍然是异步的，await只是在这个方法内做了暂停等待，等待期间async以外的代码依然继续执行，当await结束后async方法内部的代码继续执行</p> 
<h2><a id="11_335"></a>11.模块化</h2> 
<p>模块化是软件开发中的一个重要概念，它涉及到将复杂的程序分解为多个相互独立、功能单一的模块。</p> 
<p>ES6正式引入了原生的模块系统，它使用<code>import</code>和<code>export</code>关键字来定义和使用模块。</p> 
<p>在Java中,我们在开发中,通常会将用到的mapper,service,controller,实体类等创建在对应的包下面.如果我要在controller中使用到实体类对象,就需要<code>import</code>导入对应的实体类.js也是如此</p> 
<p>Java中可以使用访问控制修饰符保护对类、变量、方法和构造方法的访问,但是js中没有访问控制修饰符这一概念,但可以使用<code>export</code>关键字来实现.</p> 
<p>多说无益,直接看代码:</p> 
<p>我在lib目录下创建user.js 用于定义user相关的属性和方法,使用<code>export</code>关键字导出单个或多个函数、对象、类等。</p> 
<pre><code class="prism language-js"><span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"zhangsan"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">20</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">isAdult</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">age</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>age <span class="token operator">&gt;</span> <span class="token number">18</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"已成年"</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"未成年"</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> <span class="token function-variable function">test</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"test"</span><span class="token punctuation">)</span>
<span class="token comment">// export 导出</span>
<span class="token keyword">export</span> <span class="token punctuation">{<!-- --></span>user<span class="token punctuation">,</span> isAdult<span class="token punctuation">}</span>
</code></pre> 
<p>在main.js中进行导入调用</p> 
<pre><code class="prism language-js"><span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span>user<span class="token punctuation">,</span> isAdult<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'lib/user'</span>

<span class="token function">isAdult</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>age<span class="token punctuation">)</span>

<span class="token comment">// test(); 这个方法并没有导出,因此也没法导入使用</span>
</code></pre> 
<p>在html页面中导入js时,还需要使用<code>type="module"</code></p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>main.js<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>通过type=“module”，浏览器能够识别这些语句并正确地解析模块间的依赖关系，按照正确的顺序加载它们。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/27d969bfb68f818d8f150df4dd0fbb47/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Go Module详解</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/96c41c4adc7102c43dc9a77487dc28ca/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">基于STM32和人工智能的智能家居监控系统</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>