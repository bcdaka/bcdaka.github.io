<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>python GUI开发: tkinter菜单创建，记事本和画图软件综合项目的实战演练 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/f0ed5bd9b3aa3313281c842b0d7285ad/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="python GUI开发: tkinter菜单创建，记事本和画图软件综合项目的实战演练">
  <meta property="og:description" content="✨✨ 欢迎大家来到景天科技苑✨✨
🎈🎈 养成好习惯，先赞后看哦~🎈🎈
🏆 作者简介：景天科技苑
🏆《头衔》：大厂架构师，华为云开发者社区专家博主，阿里云开发者社区专家博主，CSDN全栈领域优质创作者，掘金优秀博主，51CTO博客专家等。
🏆《博客》：Python全栈，前后端开发，小程序开发，人工智能，js逆向，App逆向，网络系统安全，数据分析，Django，fastapi，flask等框架，linux，shell脚本等实操经验，网站搭建，数据库等分享。
所属的专栏：python图形化GUI编程tkinter精讲
景天的主页：景天科技苑
文章目录 菜单1.主菜单1.1【示例】记事本软件的主菜单 2.上下文菜单2.1【示例】为记事本程序增加上下文菜单 3.【项目】记事本软件开发4.【项目】画图软件开发 菜单 GUI 程序通常都有菜单，方便用户的交互。我们一般将菜单分为两种：
主菜单
主菜单通常位于 GUI 程序上方。例如：
快捷菜单（上下文菜单）
通过鼠标右键单击某个组件对象而弹出的菜单，一般是与该组件相关的操作。
1.主菜单 主菜单一般包含：文件、编辑、帮助等，位于 GUI 窗口的上面。创建主菜单一般有如下 4
步：
创建主菜单栏对象 menubar = tk.Menu(root) 创建菜单，并添加到主菜单栏对象 file_menu = tk.Menu(menubar) menubar.add_cascade(label=”文件”,menu=file_menu) 添加菜单项到 2 步中的菜单 file_menu.add_command(label=”打开”) file_menu.add_command(label=”保存”,accelerator=”^p” command=mySaveFile) file_menu.add_separator() file_menu.add_command(label=”退出”) 将主菜单栏添加到根窗口 root[“menu”]=menubar 1.1【示例】记事本软件的主菜单 #记事本软件,练习主菜单的设计 from tkinter import * from tkinter.filedialog import * root = Tk();root.geometry(&#34;400x400&#34;) root.title(&#34;记事本&#34;) #创建主菜单栏 menubar = Menu(root) #创建子菜单 menuFile = Menu(menubar) menuEdit = Menu(menubar) menuHelp = Menu(menubar) #将子菜单加入到主菜单栏 menubar.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-06-19T07:15:00+08:00">
    <meta property="article:modified_time" content="2024-06-19T07:15:00+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">python GUI开发: tkinter菜单创建，记事本和画图软件综合项目的实战演练</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><img src="https://images2.imgbox.com/2a/d5/rACO7lV0_o.jpg" alt="在这里插入图片描述"></p> 
<p><strong>✨✨ 欢迎大家来到景天科技苑✨✨</strong></p> 
<p><strong>🎈🎈 养成好习惯，先赞后看哦~🎈🎈</strong></p> 
<blockquote> 
 <p>🏆 作者简介：景天科技苑<br> 🏆《头衔》：大厂架构师，华为云开发者社区专家博主，阿里云开发者社区专家博主，CSDN全栈领域优质创作者，掘金优秀博主，51CTO博客专家等。<br> 🏆《博客》：Python全栈，前后端开发，小程序开发，人工智能，js逆向，App逆向，网络系统安全，数据分析，Django，fastapi，flask等框架，linux，shell脚本等实操经验，网站搭建，数据库等分享。</p> 
 <p><strong>所属的专栏：</strong><a href="https://blog.csdn.net/littlefun591/category_12694269.html?spm=1001.2014.3001.5482">python图形化GUI编程tkinter精讲</a><br> <strong>景天的主页：</strong><a href="https://jingtian.blog.csdn.net/" rel="nofollow">景天科技苑</a></p> 
</blockquote> 
<p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#_18" rel="nofollow">菜单</a></li><li><ul><li><a href="#1_32" rel="nofollow">1.主菜单</a></li><li><ul><li><a href="#11_63" rel="nofollow">1.1【示例】记事本软件的主菜单</a></li></ul> 
   </li><li><a href="#2_140" rel="nofollow">2.上下文菜单</a></li><li><ul><li><a href="#21_159" rel="nofollow">2.1【示例】为记事本程序增加上下文菜单</a></li></ul> 
   </li><li><a href="#3_236" rel="nofollow">3.【项目】记事本软件开发</a></li><li><a href="#4_436" rel="nofollow">4.【项目】画图软件开发</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="_18"></a>菜单</h2> 
<p>GUI 程序通常都有菜单，方便用户的交互。我们一般将菜单分为两种：</p> 
<ol><li> <p>主菜单<br> 主菜单通常位于 GUI 程序上方。例如：<br> <img src="https://images2.imgbox.com/07/56/pRposRZP_o.png" alt="在这里插入图片描述"></p> </li><li> <p>快捷菜单（上下文菜单）<br> 通过鼠标右键单击某个组件对象而弹出的菜单，一般是与该组件相关的操作。<br> <img src="https://images2.imgbox.com/3b/3d/xCRTmYxi_o.png" alt="在这里插入图片描述"></p> </li></ol> 
<h3><a id="1_32"></a>1.主菜单</h3> 
<p>主菜单一般包含：文件、编辑、帮助等，位于 GUI 窗口的上面。创建主菜单一般有如下 4<br> 步：</p> 
<ol><li>创建主菜单栏对象</li></ol> 
<pre><code class="prism language-python">menubar <span class="token operator">=</span> tk<span class="token punctuation">.</span>Menu<span class="token punctuation">(</span>root<span class="token punctuation">)</span>
</code></pre> 
<ol start="2"><li>创建菜单，并添加到主菜单栏对象</li></ol> 
<pre><code class="prism language-python">file_menu <span class="token operator">=</span> tk<span class="token punctuation">.</span>Menu<span class="token punctuation">(</span>menubar<span class="token punctuation">)</span>
menubar<span class="token punctuation">.</span>add_cascade<span class="token punctuation">(</span>label<span class="token operator">=</span>”文件”<span class="token punctuation">,</span>menu<span class="token operator">=</span>file_menu<span class="token punctuation">)</span>
</code></pre> 
<ol start="3"><li>添加菜单项到 2 步中的菜单</li></ol> 
<pre><code class="prism language-python">file_menu<span class="token punctuation">.</span>add_command<span class="token punctuation">(</span>label<span class="token operator">=</span>”打开”<span class="token punctuation">)</span>
file_menu<span class="token punctuation">.</span>add_command<span class="token punctuation">(</span>label<span class="token operator">=</span>”保存”<span class="token punctuation">,</span>accelerator<span class="token operator">=</span>”<span class="token operator">^</span>p” command<span class="token operator">=</span>mySaveFile<span class="token punctuation">)</span>
file_menu<span class="token punctuation">.</span>add_separator<span class="token punctuation">(</span><span class="token punctuation">)</span>
file_menu<span class="token punctuation">.</span>add_command<span class="token punctuation">(</span>label<span class="token operator">=</span>”退出”<span class="token punctuation">)</span>
</code></pre> 
<ol start="4"><li>将主菜单栏添加到根窗口</li></ol> 
<pre><code class="prism language-python">root<span class="token punctuation">[</span>“menu”<span class="token punctuation">]</span><span class="token operator">=</span>menubar
</code></pre> 
<h4><a id="11_63"></a>1.1【示例】记事本软件的主菜单</h4> 
<pre><code class="prism language-python"><span class="token comment">#记事本软件,练习主菜单的设计</span>

<span class="token keyword">from</span> tkinter <span class="token keyword">import</span> <span class="token operator">*</span>
<span class="token keyword">from</span> tkinter<span class="token punctuation">.</span>filedialog <span class="token keyword">import</span> <span class="token operator">*</span>

root <span class="token operator">=</span> Tk<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>root<span class="token punctuation">.</span>geometry<span class="token punctuation">(</span><span class="token string">"400x400"</span><span class="token punctuation">)</span>
root<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">"记事本"</span><span class="token punctuation">)</span>


<span class="token comment">#创建主菜单栏</span>
menubar <span class="token operator">=</span> Menu<span class="token punctuation">(</span>root<span class="token punctuation">)</span>

<span class="token comment">#创建子菜单</span>
menuFile <span class="token operator">=</span> Menu<span class="token punctuation">(</span>menubar<span class="token punctuation">)</span>
menuEdit <span class="token operator">=</span> Menu<span class="token punctuation">(</span>menubar<span class="token punctuation">)</span>
menuHelp <span class="token operator">=</span> Menu<span class="token punctuation">(</span>menubar<span class="token punctuation">)</span>

<span class="token comment">#将子菜单加入到主菜单栏</span>
menubar<span class="token punctuation">.</span>add_cascade<span class="token punctuation">(</span>label<span class="token operator">=</span><span class="token string">"文件(F)"</span><span class="token punctuation">,</span>menu<span class="token operator">=</span>menuFile<span class="token punctuation">)</span>
menubar<span class="token punctuation">.</span>add_cascade<span class="token punctuation">(</span>label<span class="token operator">=</span><span class="token string">"编辑(E)"</span><span class="token punctuation">,</span>menu<span class="token operator">=</span>menuEdit<span class="token punctuation">)</span>
menubar<span class="token punctuation">.</span>add_cascade<span class="token punctuation">(</span>label<span class="token operator">=</span><span class="token string">"帮助(H)"</span><span class="token punctuation">,</span>menu<span class="token operator">=</span>menuHelp<span class="token punctuation">)</span>

filename <span class="token operator">=</span> <span class="token string">""</span>


<span class="token keyword">def</span> <span class="token function">openfile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">global</span> filename
    w1<span class="token punctuation">.</span>delete<span class="token punctuation">(</span><span class="token string">'1.0'</span><span class="token punctuation">,</span> <span class="token string">'end'</span><span class="token punctuation">)</span>         <span class="token comment"># 先把Text控件中的内容清空</span>
    <span class="token keyword">with</span> askopenfile<span class="token punctuation">(</span>title<span class="token operator">=</span><span class="token string">"打开文件"</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
        content <span class="token operator">=</span> f<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>
        w1<span class="token punctuation">.</span>insert<span class="token punctuation">(</span>INSERT<span class="token punctuation">,</span> content<span class="token punctuation">)</span>
        filename <span class="token operator">=</span> f<span class="token punctuation">.</span>name
        <span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span>name<span class="token punctuation">)</span>


<span class="token keyword">def</span> <span class="token function">savefile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>filename<span class="token punctuation">,</span> <span class="token string">"w"</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
        content <span class="token operator">=</span> w1<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token number">1.0</span><span class="token punctuation">,</span> END<span class="token punctuation">)</span>
        f<span class="token punctuation">.</span>write<span class="token punctuation">(</span>content<span class="token punctuation">)</span>


<span class="token keyword">def</span> <span class="token function">exit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    root<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>



<span class="token comment"># 添加菜单项</span>
<span class="token comment">#accelerator 快捷键</span>
menuFile<span class="token punctuation">.</span>add_command<span class="token punctuation">(</span>label<span class="token operator">=</span><span class="token string">"打开"</span><span class="token punctuation">,</span> accelerator<span class="token operator">=</span><span class="token string">"ctrl+o"</span><span class="token punctuation">,</span> command<span class="token operator">=</span>openfile<span class="token punctuation">)</span>
menuFile<span class="token punctuation">.</span>add_command<span class="token punctuation">(</span>label<span class="token operator">=</span><span class="token string">"保存"</span><span class="token punctuation">,</span> command<span class="token operator">=</span>savefile<span class="token punctuation">)</span>
menuFile<span class="token punctuation">.</span>add_separator<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 添加分割线</span>
menuFile<span class="token punctuation">.</span>add_command<span class="token punctuation">(</span>label<span class="token operator">=</span><span class="token string">"退出"</span><span class="token punctuation">,</span> command<span class="token operator">=</span>exit<span class="token punctuation">)</span>
<span class="token comment"># 将主菜单栏加到根窗口</span>
root<span class="token punctuation">[</span><span class="token string">"menu"</span><span class="token punctuation">]</span> <span class="token operator">=</span> menubar

w1 <span class="token operator">=</span> Text<span class="token punctuation">(</span>root<span class="token punctuation">,</span> width<span class="token operator">=</span><span class="token number">50</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">30</span><span class="token punctuation">)</span>
w1<span class="token punctuation">.</span>pack<span class="token punctuation">(</span><span class="token punctuation">)</span>


root<span class="token punctuation">.</span>mainloop<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p>运行<br> <img src="https://images2.imgbox.com/cf/f4/bjnaJgXU_o.png" alt="在这里插入图片描述"></p> 
<p>点击文件<br> <img src="https://images2.imgbox.com/99/70/eBLzQ5uQ_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="2_140"></a>2.上下文菜单</h3> 
<p>快捷菜单（上下文菜单）是通过鼠标右键单击组件而弹出的菜单，一般是和这个组件相关的<br> 操作，比如：剪切、复制、粘贴、属性等。创建快捷菜单步骤如下：</p> 
<ol><li>创建菜单</li></ol> 
<pre><code class="prism language-python">menubar <span class="token operator">=</span> tk<span class="token punctuation">.</span>Menu<span class="token punctuation">(</span>root<span class="token punctuation">)</span>
menubar<span class="token punctuation">.</span>add_command<span class="token punctuation">(</span>label<span class="token operator">=</span>”字体”<span class="token punctuation">)</span>
</code></pre> 
<ol start="2"><li>绑定鼠标右键单击事件</li></ol> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">test</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">:</span>
  menubar<span class="token punctuation">.</span>post<span class="token punctuation">(</span>event<span class="token punctuation">.</span>x_root<span class="token punctuation">,</span>event<span class="token punctuation">.</span>y_root<span class="token punctuation">)</span> <span class="token comment">#在鼠标右键单击坐标处显示菜单</span>
  root<span class="token punctuation">.</span>bind<span class="token punctuation">(</span>“<span class="token operator">&lt;</span>Button<span class="token operator">-</span><span class="token number">3</span><span class="token operator">&gt;</span>”<span class="token punctuation">,</span>test<span class="token punctuation">)</span>
</code></pre> 
<h4><a id="21_159"></a>2.1【示例】为记事本程序增加上下文菜单</h4> 
<pre><code class="prism language-python"><span class="token triple-quoted-string string">"""开发记事本软件的菜单
"""</span>

<span class="token keyword">from</span> tkinter <span class="token keyword">import</span> <span class="token operator">*</span>
<span class="token keyword">class</span> <span class="token class-name">Application</span><span class="token punctuation">(</span>Frame<span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> master<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>master<span class="token punctuation">)</span>        <span class="token comment"># super()代表的是父类的定义，而不是父类对象</span>
        self<span class="token punctuation">.</span>master <span class="token operator">=</span> master
        self<span class="token punctuation">.</span>textpad <span class="token operator">=</span> <span class="token boolean">None</span>             <span class="token comment"># textpad表示Text文本框对象</span>
        self<span class="token punctuation">.</span>pack<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>createWidget<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">createWidget</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># 创建主菜单栏</span>
        menubar <span class="token operator">=</span> Menu<span class="token punctuation">(</span>root<span class="token punctuation">)</span>

        <span class="token comment"># 创建子菜单</span>
        menuFile <span class="token operator">=</span> Menu<span class="token punctuation">(</span>menubar<span class="token punctuation">)</span>
        menuEdit <span class="token operator">=</span> Menu<span class="token punctuation">(</span>menubar<span class="token punctuation">)</span>
        menuHelp <span class="token operator">=</span> Menu<span class="token punctuation">(</span>menubar<span class="token punctuation">)</span>

        <span class="token comment"># 将子菜单加入到主菜单栏</span>
        menubar<span class="token punctuation">.</span>add_cascade<span class="token punctuation">(</span>label<span class="token operator">=</span><span class="token string">"文件(F)"</span><span class="token punctuation">,</span> menu<span class="token operator">=</span>menuFile<span class="token punctuation">)</span>
        menubar<span class="token punctuation">.</span>add_cascade<span class="token punctuation">(</span>label<span class="token operator">=</span><span class="token string">"编辑(E)"</span><span class="token punctuation">,</span> menu<span class="token operator">=</span>menuEdit<span class="token punctuation">)</span>
        menubar<span class="token punctuation">.</span>add_cascade<span class="token punctuation">(</span>label<span class="token operator">=</span><span class="token string">"帮助(H)"</span><span class="token punctuation">,</span> menu<span class="token operator">=</span>menuHelp<span class="token punctuation">)</span>

        <span class="token comment"># 添加菜单项</span>
        menuFile<span class="token punctuation">.</span>add_command<span class="token punctuation">(</span>label<span class="token operator">=</span><span class="token string">"新建"</span><span class="token punctuation">,</span> accelerator<span class="token operator">=</span><span class="token string">"ctrl+n"</span><span class="token punctuation">,</span> command<span class="token operator">=</span>self<span class="token punctuation">.</span>test<span class="token punctuation">)</span>
        menuFile<span class="token punctuation">.</span>add_command<span class="token punctuation">(</span>label<span class="token operator">=</span><span class="token string">"打开"</span><span class="token punctuation">,</span> accelerator<span class="token operator">=</span><span class="token string">"ctrl+o"</span><span class="token punctuation">,</span> command<span class="token operator">=</span>self<span class="token punctuation">.</span>test<span class="token punctuation">)</span>
        menuFile<span class="token punctuation">.</span>add_command<span class="token punctuation">(</span>label<span class="token operator">=</span><span class="token string">"保存"</span><span class="token punctuation">,</span> accelerator<span class="token operator">=</span><span class="token string">"ctrl+s"</span><span class="token punctuation">,</span>command<span class="token operator">=</span>self<span class="token punctuation">.</span>test<span class="token punctuation">)</span>
        menuFile<span class="token punctuation">.</span>add_separator<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 添加分割线</span>
        menuFile<span class="token punctuation">.</span>add_command<span class="token punctuation">(</span>label<span class="token operator">=</span><span class="token string">"退出"</span><span class="token punctuation">,</span> accelerator<span class="token operator">=</span><span class="token string">"ctrl+q"</span><span class="token punctuation">,</span>command<span class="token operator">=</span>self<span class="token punctuation">.</span>test<span class="token punctuation">)</span>

        <span class="token comment"># 将主菜单栏加到根窗口</span>
        root<span class="token punctuation">[</span><span class="token string">"menu"</span><span class="token punctuation">]</span> <span class="token operator">=</span> menubar


        <span class="token comment">#文本编辑区</span>
        self<span class="token punctuation">.</span>textpad <span class="token operator">=</span> Text<span class="token punctuation">(</span>root<span class="token punctuation">,</span> width<span class="token operator">=</span><span class="token number">50</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">30</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>textpad<span class="token punctuation">.</span>pack<span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token comment"># 创建上下菜单</span>
        self<span class="token punctuation">.</span>contextMenu <span class="token operator">=</span> Menu<span class="token punctuation">(</span>root<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>contextMenu<span class="token punctuation">.</span>add_command<span class="token punctuation">(</span>label<span class="token operator">=</span><span class="token string">"背景颜色"</span><span class="token punctuation">,</span> command<span class="token operator">=</span>self<span class="token punctuation">.</span>test<span class="token punctuation">)</span>

        <span class="token comment">#为右键绑定事件</span>
        root<span class="token punctuation">.</span>bind<span class="token punctuation">(</span><span class="token string">"&lt;Button-3&gt;"</span><span class="token punctuation">,</span>self<span class="token punctuation">.</span>createContextMenu<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">test</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">pass</span>

    <span class="token keyword">def</span> <span class="token function">createContextMenu</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>event<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># 菜单在鼠标右键单击的坐标处显示</span>
        self<span class="token punctuation">.</span>contextMenu<span class="token punctuation">.</span>post<span class="token punctuation">(</span>event<span class="token punctuation">.</span>x_root<span class="token punctuation">,</span> event<span class="token punctuation">.</span>y_root<span class="token punctuation">)</span>


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    root <span class="token operator">=</span> Tk<span class="token punctuation">(</span><span class="token punctuation">)</span>
    root<span class="token punctuation">.</span>geometry<span class="token punctuation">(</span><span class="token string">"450x300+200+300"</span><span class="token punctuation">)</span>
    root<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">"景天科技苑的简易记事本"</span><span class="token punctuation">)</span>
    app <span class="token operator">=</span> Application<span class="token punctuation">(</span>master<span class="token operator">=</span>root<span class="token punctuation">)</span>
    root<span class="token punctuation">.</span>mainloop<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p>运行<br> <img src="https://images2.imgbox.com/5a/59/bnJzszYK_o.png" alt="在这里插入图片描述"></p> 
<p>在记事本中，右键可以显示背景颜色</p> 
<h3><a id="3_236"></a>3.【项目】记事本软件开发</h3> 
<p>结合所学 GUI 知识，开发一款模仿 windows 记事本的软件。包含了基本的功能：</p> 
<ol><li>新建文本文件</li><li>保存文件</li><li>修改文件内容</li><li>退出</li><li>各种快捷键处理</li><li>修改文本区域背景色</li></ol> 
<pre><code class="prism language-python"><span class="token triple-quoted-string string">"""开发记事本软件的菜单
"""</span>

<span class="token keyword">from</span> tkinter <span class="token keyword">import</span> <span class="token operator">*</span>
<span class="token keyword">from</span> tkinter<span class="token punctuation">.</span>filedialog <span class="token keyword">import</span> <span class="token operator">*</span>
<span class="token keyword">from</span> tkinter<span class="token punctuation">.</span>colorchooser <span class="token keyword">import</span> <span class="token operator">*</span>
<span class="token keyword">from</span> tkinter <span class="token keyword">import</span> messagebox

<span class="token keyword">class</span> <span class="token class-name">Application</span><span class="token punctuation">(</span>Frame<span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> master<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>master<span class="token punctuation">)</span>        <span class="token comment"># super()代表的是父类的定义，而不是父类对象</span>
        self<span class="token punctuation">.</span>master <span class="token operator">=</span> master
        self<span class="token punctuation">.</span>textpad <span class="token operator">=</span> <span class="token boolean">None</span>             <span class="token comment"># textpad表示Text文本框对象</span>
        self<span class="token punctuation">.</span>filename <span class="token operator">=</span> <span class="token boolean">None</span>
        self<span class="token punctuation">.</span>pack<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>createWidget<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">createWidget</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># 创建主菜单栏</span>
        menubar <span class="token operator">=</span> Menu<span class="token punctuation">(</span>root<span class="token punctuation">)</span>

        <span class="token comment"># 创建子菜单</span>
        menuFile <span class="token operator">=</span> Menu<span class="token punctuation">(</span>menubar<span class="token punctuation">)</span>
        menuEdit <span class="token operator">=</span> Menu<span class="token punctuation">(</span>menubar<span class="token punctuation">)</span>
        menuHelp <span class="token operator">=</span> Menu<span class="token punctuation">(</span>menubar<span class="token punctuation">)</span>

        <span class="token comment"># 将子菜单加入到主菜单栏</span>
        menubar<span class="token punctuation">.</span>add_cascade<span class="token punctuation">(</span>label<span class="token operator">=</span><span class="token string">"文件(F)"</span><span class="token punctuation">,</span> menu<span class="token operator">=</span>menuFile<span class="token punctuation">)</span>
        menubar<span class="token punctuation">.</span>add_cascade<span class="token punctuation">(</span>label<span class="token operator">=</span><span class="token string">"编辑(E)"</span><span class="token punctuation">,</span> menu<span class="token operator">=</span>menuEdit<span class="token punctuation">)</span>
        menubar<span class="token punctuation">.</span>add_cascade<span class="token punctuation">(</span>label<span class="token operator">=</span><span class="token string">"帮助(H)"</span><span class="token punctuation">,</span> menu<span class="token operator">=</span>menuHelp<span class="token punctuation">)</span>

        <span class="token comment"># 添加菜单项</span>
        menuFile<span class="token punctuation">.</span>add_command<span class="token punctuation">(</span>label<span class="token operator">=</span><span class="token string">"新建"</span><span class="token punctuation">,</span> accelerator<span class="token operator">=</span><span class="token string">"ctrl+n"</span><span class="token punctuation">,</span> command<span class="token operator">=</span>self<span class="token punctuation">.</span>newfile<span class="token punctuation">)</span>
        menuFile<span class="token punctuation">.</span>add_command<span class="token punctuation">(</span>label<span class="token operator">=</span><span class="token string">"打开"</span><span class="token punctuation">,</span> accelerator<span class="token operator">=</span><span class="token string">"ctrl+o"</span><span class="token punctuation">,</span> command<span class="token operator">=</span>self<span class="token punctuation">.</span>openfile<span class="token punctuation">)</span>
        menuFile<span class="token punctuation">.</span>add_command<span class="token punctuation">(</span>label<span class="token operator">=</span><span class="token string">"保存"</span><span class="token punctuation">,</span> accelerator<span class="token operator">=</span><span class="token string">"ctrl+s"</span><span class="token punctuation">,</span>command<span class="token operator">=</span>self<span class="token punctuation">.</span>savefile<span class="token punctuation">)</span>
        menuFile<span class="token punctuation">.</span>add_separator<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 添加分割线</span>
        menuFile<span class="token punctuation">.</span>add_command<span class="token punctuation">(</span>label<span class="token operator">=</span><span class="token string">"退出"</span><span class="token punctuation">,</span> accelerator<span class="token operator">=</span><span class="token string">"ctrl+q"</span><span class="token punctuation">,</span>command<span class="token operator">=</span>self<span class="token punctuation">.</span>exit<span class="token punctuation">)</span>

        <span class="token comment"># 将主菜单栏加到根窗口</span>
        root<span class="token punctuation">[</span><span class="token string">"menu"</span><span class="token punctuation">]</span> <span class="token operator">=</span> menubar

        <span class="token comment"># 增加快捷键的处理</span>
        root<span class="token punctuation">.</span>bind<span class="token punctuation">(</span><span class="token string">"&lt;Control-n&gt;"</span><span class="token punctuation">,</span><span class="token keyword">lambda</span> event<span class="token punctuation">:</span>self<span class="token punctuation">.</span>newfile<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        root<span class="token punctuation">.</span>bind<span class="token punctuation">(</span><span class="token string">"&lt;Control-o&gt;"</span><span class="token punctuation">,</span><span class="token keyword">lambda</span> event<span class="token punctuation">:</span>self<span class="token punctuation">.</span>openfile<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        root<span class="token punctuation">.</span>bind<span class="token punctuation">(</span><span class="token string">"&lt;Control-s&gt;"</span><span class="token punctuation">,</span><span class="token keyword">lambda</span> event<span class="token punctuation">:</span>self<span class="token punctuation">.</span>savefile<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        root<span class="token punctuation">.</span>bind<span class="token punctuation">(</span><span class="token string">"&lt;Control-q&gt;"</span><span class="token punctuation">,</span><span class="token keyword">lambda</span> event<span class="token punctuation">:</span>self<span class="token punctuation">.</span>exit<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

        <span class="token comment">#文本编辑区，多行文本</span>
        self<span class="token punctuation">.</span>textpad <span class="token operator">=</span> Text<span class="token punctuation">(</span>root<span class="token punctuation">,</span> width<span class="token operator">=</span><span class="token number">50</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">30</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>textpad<span class="token punctuation">.</span>pack<span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token comment"># 创建上下菜单</span>
        self<span class="token punctuation">.</span>contextMenu <span class="token operator">=</span> Menu<span class="token punctuation">(</span>root<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>contextMenu<span class="token punctuation">.</span>add_command<span class="token punctuation">(</span>label<span class="token operator">=</span><span class="token string">"背景颜色"</span><span class="token punctuation">,</span> command<span class="token operator">=</span>self<span class="token punctuation">.</span>openAskColor<span class="token punctuation">)</span>

        <span class="token comment">#为右键绑定事件</span>
        root<span class="token punctuation">.</span>bind<span class="token punctuation">(</span><span class="token string">"&lt;Button-3&gt;"</span><span class="token punctuation">,</span>self<span class="token punctuation">.</span>createContextMenu<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">newfile</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment">#如果是第一次新建，就新建新文本，如果是打开程序直接点击保存，就把写进去的内容保存起来</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>filename<span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>textpad<span class="token punctuation">.</span>delete<span class="token punctuation">(</span><span class="token string">"1.0"</span><span class="token punctuation">,</span> <span class="token string">"end"</span><span class="token punctuation">)</span>  <span class="token comment"># 把text控件中所有的内容清空</span>
            self<span class="token punctuation">.</span>filename<span class="token operator">=</span> asksaveasfilename<span class="token punctuation">(</span>title<span class="token operator">=</span><span class="token string">"另存为"</span><span class="token punctuation">,</span>initialfile<span class="token operator">=</span><span class="token string">"未命名.txt"</span><span class="token punctuation">,</span>
                              filetypes<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token string">"文本文档"</span><span class="token punctuation">,</span><span class="token string">"*.txt"</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                              defaultextension<span class="token operator">=</span><span class="token string">".txt"</span><span class="token punctuation">)</span>
            <span class="token comment">#判断是否新建，如果未新建，则不用保存</span>
            <span class="token keyword">if</span> self<span class="token punctuation">.</span>filename<span class="token punctuation">:</span>
                self<span class="token punctuation">.</span>savefile<span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                self<span class="token punctuation">.</span>destroy<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>filename<span class="token operator">=</span> asksaveasfilename<span class="token punctuation">(</span>title<span class="token operator">=</span><span class="token string">"另存为"</span><span class="token punctuation">,</span>initialfile<span class="token operator">=</span><span class="token string">"未命名.txt"</span><span class="token punctuation">,</span>
                              filetypes<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token string">"文本文档"</span><span class="token punctuation">,</span><span class="token string">"*.txt"</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                              defaultextension<span class="token operator">=</span><span class="token string">".txt"</span><span class="token punctuation">)</span>
            <span class="token comment">#判断是否新建，如果未新建，则不用保存</span>
            <span class="token keyword">if</span> self<span class="token punctuation">.</span>filename<span class="token punctuation">:</span>
                self<span class="token punctuation">.</span>savefile<span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                self<span class="token punctuation">.</span>destroy<span class="token punctuation">(</span><span class="token punctuation">)</span>


    <span class="token keyword">def</span> <span class="token function">openfile</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>textpad<span class="token punctuation">.</span>delete<span class="token punctuation">(</span><span class="token string">"1.0"</span><span class="token punctuation">,</span><span class="token string">"end"</span><span class="token punctuation">)</span>        <span class="token comment"># 把text控件中所有的内容清空</span>
        <span class="token comment"># with askopenfile(title="打开文本文件") as f: 别这样用，否则当没有打开文件时，会有个报错</span>
        f <span class="token operator">=</span> askopenfile<span class="token punctuation">(</span>title<span class="token operator">=</span><span class="token string">"打开文本文件"</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"打开的文件对象是:"</span><span class="token punctuation">,</span>f<span class="token punctuation">)</span>
        <span class="token comment">#如果有打开，则在将写入的插入，没打开不用插入，在光标所在处插入文本内容</span>
        <span class="token keyword">if</span> f<span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>textpad<span class="token punctuation">.</span>insert<span class="token punctuation">(</span>INSERT<span class="token punctuation">,</span>f<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token comment">#将打开之后的文件名赋值给self.filename</span>
            self<span class="token punctuation">.</span>filename <span class="token operator">=</span> f<span class="token punctuation">.</span>name
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>destroy<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment">#实现保存方法</span>
    <span class="token keyword">def</span> <span class="token function">savefile</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment">#第一次打开程序，直接点击保存bug修复</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"第一次打开程序点击保存"</span><span class="token punctuation">,</span>self<span class="token punctuation">.</span>filename<span class="token punctuation">)</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>filename<span class="token punctuation">:</span>
            f <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>filename<span class="token punctuation">,</span><span class="token string">"w"</span><span class="token punctuation">)</span>
            <span class="token keyword">if</span> f<span class="token punctuation">:</span>
                <span class="token comment">#获取到文本内容字符串，然后在通过open保存</span>
                c <span class="token operator">=</span> self<span class="token punctuation">.</span>textpad<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token number">1.0</span><span class="token punctuation">,</span>END<span class="token punctuation">)</span>
                f<span class="token punctuation">.</span>write<span class="token punctuation">(</span>c<span class="token punctuation">)</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            <span class="token comment"># messagebox.showinfo("Warning", "请先新建文件!")</span>
            self<span class="token punctuation">.</span>newfile<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">exit</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        root<span class="token punctuation">.</span>destroy<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">openAskColor</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        s1 <span class="token operator">=</span> askcolor<span class="token punctuation">(</span>color<span class="token operator">=</span><span class="token string">"red"</span><span class="token punctuation">,</span>title<span class="token operator">=</span><span class="token string">"选择背景色"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>textpad<span class="token punctuation">.</span>config<span class="token punctuation">(</span>bg<span class="token operator">=</span>s1<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">createContextMenu</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>event<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># 菜单在鼠标右键单击的坐标处显示</span>
        self<span class="token punctuation">.</span>contextMenu<span class="token punctuation">.</span>post<span class="token punctuation">(</span>event<span class="token punctuation">.</span>x_root<span class="token punctuation">,</span> event<span class="token punctuation">.</span>y_root<span class="token punctuation">)</span>


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    root <span class="token operator">=</span> Tk<span class="token punctuation">(</span><span class="token punctuation">)</span>
    root<span class="token punctuation">.</span>geometry<span class="token punctuation">(</span><span class="token string">"450x300+200+300"</span><span class="token punctuation">)</span>
    root<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">"景天的简易记事本"</span><span class="token punctuation">)</span>
    app <span class="token operator">=</span> Application<span class="token punctuation">(</span>master<span class="token operator">=</span>root<span class="token punctuation">)</span>
    root<span class="token punctuation">.</span>mainloop<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p>运行<br> <img src="https://images2.imgbox.com/0d/38/XdsLarUT_o.png" alt="在这里插入图片描述"></p> 
<p>点击文件-新建<br> <img src="https://images2.imgbox.com/99/c6/C0jP5j6x_o.png" alt="在这里插入图片描述"></p> 
<p>修改文件名<br> <img src="https://images2.imgbox.com/43/16/PdzquVzK_o.png" alt="在这里插入图片描述"></p> 
<p>点击保存，保存到了桌面<br> <img src="https://images2.imgbox.com/f7/19/CN93Nmgn_o.png" alt="在这里插入图片描述"></p> 
<p>点击文件-打开<br> <img src="https://images2.imgbox.com/fb/cc/qYopLFTN_o.png" alt="在这里插入图片描述"></p> 
<p>随便写点东西<br> <img src="https://images2.imgbox.com/3d/9f/9fHlsKNJ_o.png" alt="在这里插入图片描述"></p> 
<p>点击文件-保存，查看文件，内容已被保存进去<br> <img src="https://images2.imgbox.com/6b/3d/U2Syg866_o.png" alt="在这里插入图片描述"></p> 
<p>askopenfile返回的文件对象解析，里面的name即为包含路径的文件名字符串<br> <img src="https://images2.imgbox.com/d2/56/zEUqLuW3_o.png" alt="在这里插入图片描述"></p> 
<p>修改文本背景色，在文本域右键，背景颜色<br> <img src="https://images2.imgbox.com/da/d1/zYGneopo_o.png" alt="在这里插入图片描述"></p> 
<p>选一个背景色</p> 
<p><img src="https://images2.imgbox.com/b2/c3/hoxQGRQk_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/95/9c/1PMJle8d_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="4_436"></a>4.【项目】画图软件开发</h3> 
<p>开发一款简单的画图软件, 包含如下功能：</p> 
<ol><li>画笔</li><li>矩形/椭圆绘制</li><li>清屏</li><li>橡皮擦</li><li>直线/带箭头的直线</li><li>修改画笔颜色、背景颜色</li></ol> 
<pre><code class="prism language-python"><span class="token triple-quoted-string string">"""开发画图软件的菜单
"""</span>

<span class="token keyword">from</span> tkinter <span class="token keyword">import</span> <span class="token operator">*</span>
<span class="token keyword">from</span> tkinter<span class="token punctuation">.</span>colorchooser <span class="token keyword">import</span> <span class="token operator">*</span>

<span class="token comment">#窗口的宽度和高度</span>
win_width<span class="token operator">=</span><span class="token number">900</span>
win_height<span class="token operator">=</span><span class="token number">450</span>


<span class="token keyword">class</span> <span class="token class-name">Application</span><span class="token punctuation">(</span>Frame<span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> master<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span>bgcolor<span class="token operator">=</span><span class="token string">"#000000"</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>master<span class="token punctuation">)</span>        <span class="token comment"># super()代表的是父类的定义，而不是父类对象</span>
        self<span class="token punctuation">.</span>master <span class="token operator">=</span> master
        self<span class="token punctuation">.</span>bgcolor<span class="token operator">=</span>bgcolor
        self<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">0</span>
        self<span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token number">0</span>
        self<span class="token punctuation">.</span>fgcolor <span class="token operator">=</span> <span class="token string">"#ff0000"</span>
        self<span class="token punctuation">.</span>lastDraw <span class="token operator">=</span> <span class="token number">0</span>               <span class="token comment"># 表示最后绘制的图形的id</span>
        self<span class="token punctuation">.</span>startDrawFlag <span class="token operator">=</span> <span class="token boolean">False</span>
        self<span class="token punctuation">.</span>pack<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>createWidget<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">createWidget</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># 创建绘图区</span>
        self<span class="token punctuation">.</span>drawpad <span class="token operator">=</span> Canvas<span class="token punctuation">(</span>root<span class="token punctuation">,</span>width<span class="token operator">=</span>win_width<span class="token punctuation">,</span>height<span class="token operator">=</span>win_height<span class="token operator">*</span><span class="token number">0.9</span><span class="token punctuation">,</span>bg<span class="token operator">=</span>self<span class="token punctuation">.</span>bgcolor<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>drawpad<span class="token punctuation">.</span>pack<span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token comment">#创建按钮,并给每个按钮定义一个名字，好区分</span>
        btn_start <span class="token operator">=</span> Button<span class="token punctuation">(</span>root<span class="token punctuation">,</span>text<span class="token operator">=</span><span class="token string">"开始"</span><span class="token punctuation">,</span>name<span class="token operator">=</span><span class="token string">"start"</span><span class="token punctuation">)</span>
        btn_start<span class="token punctuation">.</span>pack<span class="token punctuation">(</span>side<span class="token operator">=</span><span class="token string">"left"</span><span class="token punctuation">,</span>padx<span class="token operator">=</span><span class="token string">"10"</span><span class="token punctuation">)</span>
        btn_pen <span class="token operator">=</span> Button<span class="token punctuation">(</span>root<span class="token punctuation">,</span>text<span class="token operator">=</span><span class="token string">"画笔"</span><span class="token punctuation">,</span>name<span class="token operator">=</span><span class="token string">"pen"</span><span class="token punctuation">)</span>
        btn_pen<span class="token punctuation">.</span>pack<span class="token punctuation">(</span>side<span class="token operator">=</span><span class="token string">"left"</span><span class="token punctuation">,</span>padx<span class="token operator">=</span><span class="token string">"10"</span><span class="token punctuation">)</span>
        btn_rect <span class="token operator">=</span> Button<span class="token punctuation">(</span>root<span class="token punctuation">,</span>text<span class="token operator">=</span><span class="token string">"矩形"</span><span class="token punctuation">,</span>name<span class="token operator">=</span><span class="token string">"rect"</span><span class="token punctuation">)</span>
        btn_rect<span class="token punctuation">.</span>pack<span class="token punctuation">(</span>side<span class="token operator">=</span><span class="token string">"left"</span><span class="token punctuation">,</span>padx<span class="token operator">=</span><span class="token string">"10"</span><span class="token punctuation">)</span>
        btn_oval <span class="token operator">=</span> Button<span class="token punctuation">(</span>root<span class="token punctuation">,</span>text<span class="token operator">=</span><span class="token string">"椭圆"</span><span class="token punctuation">,</span>name<span class="token operator">=</span><span class="token string">"oval"</span><span class="token punctuation">)</span>
        btn_oval<span class="token punctuation">.</span>pack<span class="token punctuation">(</span>side<span class="token operator">=</span><span class="token string">"left"</span><span class="token punctuation">,</span>padx<span class="token operator">=</span><span class="token string">"10"</span><span class="token punctuation">)</span>
        btn_clear <span class="token operator">=</span> Button<span class="token punctuation">(</span>root<span class="token punctuation">,</span>text<span class="token operator">=</span><span class="token string">"清屏"</span><span class="token punctuation">,</span>name<span class="token operator">=</span><span class="token string">"clear"</span><span class="token punctuation">)</span>
        btn_clear<span class="token punctuation">.</span>pack<span class="token punctuation">(</span>side<span class="token operator">=</span><span class="token string">"left"</span><span class="token punctuation">,</span>padx<span class="token operator">=</span><span class="token string">"10"</span><span class="token punctuation">)</span>
        btn_erasor <span class="token operator">=</span> Button<span class="token punctuation">(</span>root<span class="token punctuation">,</span>text<span class="token operator">=</span><span class="token string">"橡皮擦"</span><span class="token punctuation">,</span>name<span class="token operator">=</span><span class="token string">"erasor"</span><span class="token punctuation">)</span>
        btn_erasor<span class="token punctuation">.</span>pack<span class="token punctuation">(</span>side<span class="token operator">=</span><span class="token string">"left"</span><span class="token punctuation">,</span>padx<span class="token operator">=</span><span class="token string">"10"</span><span class="token punctuation">)</span>
        btn_line <span class="token operator">=</span> Button<span class="token punctuation">(</span>root<span class="token punctuation">,</span>text<span class="token operator">=</span><span class="token string">"直线"</span><span class="token punctuation">,</span>name<span class="token operator">=</span><span class="token string">"line"</span><span class="token punctuation">)</span>
        btn_line<span class="token punctuation">.</span>pack<span class="token punctuation">(</span>side<span class="token operator">=</span><span class="token string">"left"</span><span class="token punctuation">,</span>padx<span class="token operator">=</span><span class="token string">"10"</span><span class="token punctuation">)</span>
        btn_lineArrow <span class="token operator">=</span> Button<span class="token punctuation">(</span>root<span class="token punctuation">,</span>text<span class="token operator">=</span><span class="token string">"箭头直线"</span><span class="token punctuation">,</span>name<span class="token operator">=</span><span class="token string">"lineArrow"</span><span class="token punctuation">)</span>
        btn_lineArrow<span class="token punctuation">.</span>pack<span class="token punctuation">(</span>side<span class="token operator">=</span><span class="token string">"left"</span><span class="token punctuation">,</span>padx<span class="token operator">=</span><span class="token string">"10"</span><span class="token punctuation">)</span>
        btn_color <span class="token operator">=</span> Button<span class="token punctuation">(</span>root<span class="token punctuation">,</span>text<span class="token operator">=</span><span class="token string">"颜色"</span><span class="token punctuation">,</span>name<span class="token operator">=</span><span class="token string">"color"</span><span class="token punctuation">)</span>
        btn_color<span class="token punctuation">.</span>pack<span class="token punctuation">(</span>side<span class="token operator">=</span><span class="token string">"left"</span><span class="token punctuation">,</span>padx<span class="token operator">=</span><span class="token string">"10"</span><span class="token punctuation">)</span>

        <span class="token comment">#事件处理</span>
        <span class="token comment">#按下鼠标左键</span>
        btn_pen<span class="token punctuation">.</span>bind_class<span class="token punctuation">(</span><span class="token string">"Button"</span><span class="token punctuation">,</span><span class="token string">"&lt;1&gt;"</span><span class="token punctuation">,</span>self<span class="token punctuation">.</span>eventManager<span class="token punctuation">)</span>
        <span class="token comment">#释放按键事件</span>
        self<span class="token punctuation">.</span>drawpad<span class="token punctuation">.</span>bind<span class="token punctuation">(</span><span class="token string">"&lt;ButtonRelease-1&gt;"</span><span class="token punctuation">,</span>self<span class="token punctuation">.</span>stopDraw<span class="token punctuation">)</span>

        <span class="token comment">#增加颜色切换的快捷键</span>
        root<span class="token punctuation">.</span>bind<span class="token punctuation">(</span><span class="token string">"&lt;KeyPress-r&gt;"</span><span class="token punctuation">,</span>self<span class="token punctuation">.</span>kuaijiejian<span class="token punctuation">)</span>
        root<span class="token punctuation">.</span>bind<span class="token punctuation">(</span><span class="token string">"&lt;KeyPress-g&gt;"</span><span class="token punctuation">,</span>self<span class="token punctuation">.</span>kuaijiejian<span class="token punctuation">)</span>
        root<span class="token punctuation">.</span>bind<span class="token punctuation">(</span><span class="token string">"&lt;KeyPress-y&gt;"</span><span class="token punctuation">,</span>self<span class="token punctuation">.</span>kuaijiejian<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">eventManager</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>event<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment">#获取根据名字获取相关按钮</span>
        name <span class="token operator">=</span> event<span class="token punctuation">.</span>widget<span class="token punctuation">.</span>winfo_name<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token comment"># print("获取widget:", dir(event.widget))</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
        <span class="token keyword">if</span> name<span class="token operator">==</span><span class="token string">"line"</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>drawpad<span class="token punctuation">.</span>bind<span class="token punctuation">(</span><span class="token string">"&lt;B1-Motion&gt;"</span><span class="token punctuation">,</span>self<span class="token punctuation">.</span>myline<span class="token punctuation">)</span>
        <span class="token keyword">elif</span> name<span class="token operator">==</span><span class="token string">"lineArrow"</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>drawpad<span class="token punctuation">.</span>bind<span class="token punctuation">(</span><span class="token string">"&lt;B1-Motion&gt;"</span><span class="token punctuation">,</span>self<span class="token punctuation">.</span>mylineArrow<span class="token punctuation">)</span>
        <span class="token keyword">elif</span> name<span class="token operator">==</span><span class="token string">"rect"</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>drawpad<span class="token punctuation">.</span>bind<span class="token punctuation">(</span><span class="token string">"&lt;B1-Motion&gt;"</span><span class="token punctuation">,</span>self<span class="token punctuation">.</span>myRect<span class="token punctuation">)</span>
        <span class="token keyword">elif</span> name <span class="token operator">==</span> <span class="token string">"oval"</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>drawpad<span class="token punctuation">.</span>bind<span class="token punctuation">(</span><span class="token string">"&lt;B1-Motion&gt;"</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>myOval<span class="token punctuation">)</span>
        <span class="token keyword">elif</span> name<span class="token operator">==</span><span class="token string">"pen"</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>drawpad<span class="token punctuation">.</span>bind<span class="token punctuation">(</span><span class="token string">"&lt;B1-Motion&gt;"</span><span class="token punctuation">,</span>self<span class="token punctuation">.</span>myPen<span class="token punctuation">)</span>
        <span class="token keyword">elif</span> name<span class="token operator">==</span><span class="token string">"erasor"</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>drawpad<span class="token punctuation">.</span>bind<span class="token punctuation">(</span><span class="token string">"&lt;B1-Motion&gt;"</span><span class="token punctuation">,</span>self<span class="token punctuation">.</span>myErasor<span class="token punctuation">)</span>
        <span class="token keyword">elif</span> name<span class="token operator">==</span><span class="token string">"clear"</span><span class="token punctuation">:</span>
            <span class="token comment">#清屏，直接delete("all")</span>
            self<span class="token punctuation">.</span>drawpad<span class="token punctuation">.</span>delete<span class="token punctuation">(</span><span class="token string">"all"</span><span class="token punctuation">)</span>
        <span class="token keyword">elif</span> name<span class="token operator">==</span><span class="token string">"color"</span><span class="token punctuation">:</span>
            c <span class="token operator">=</span> askcolor<span class="token punctuation">(</span>color<span class="token operator">=</span>self<span class="token punctuation">.</span>fgcolor<span class="token punctuation">,</span>title<span class="token operator">=</span><span class="token string">"选择画笔颜色"</span><span class="token punctuation">)</span>
            <span class="token comment">#[(255,0,0),"#ff0000"]</span>
            <span class="token comment">#将选择的颜色赋值给前景色</span>
            self<span class="token punctuation">.</span>fgcolor <span class="token operator">=</span> c<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>

    <span class="token keyword">def</span> <span class="token function">stopDraw</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>event<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>startDrawFlag <span class="token operator">=</span> <span class="token boolean">False</span>
        self<span class="token punctuation">.</span>lastDraw <span class="token operator">=</span> <span class="token number">0</span>

    <span class="token keyword">def</span> <span class="token function">startDraw</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>event<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>drawpad<span class="token punctuation">.</span>delete<span class="token punctuation">(</span>self<span class="token punctuation">.</span>lastDraw<span class="token punctuation">)</span>

        <span class="token keyword">if</span> <span class="token keyword">not</span> self<span class="token punctuation">.</span>startDrawFlag<span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>startDrawFlag <span class="token operator">=</span> <span class="token boolean">True</span>
            self<span class="token punctuation">.</span>x <span class="token operator">=</span> event<span class="token punctuation">.</span>x
            self<span class="token punctuation">.</span>y <span class="token operator">=</span> event<span class="token punctuation">.</span>y

    <span class="token keyword">def</span> <span class="token function">myline</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>event<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>startDraw<span class="token punctuation">(</span>event<span class="token punctuation">)</span>
        <span class="token comment">#起点在鼠标开始的地方，终点在事件最后发生的地方</span>
        self<span class="token punctuation">.</span>lastDraw <span class="token operator">=</span> self<span class="token punctuation">.</span>drawpad<span class="token punctuation">.</span>create_line<span class="token punctuation">(</span>self<span class="token punctuation">.</span>x<span class="token punctuation">,</span>self<span class="token punctuation">.</span>y<span class="token punctuation">,</span>event<span class="token punctuation">.</span>x<span class="token punctuation">,</span>event<span class="token punctuation">.</span>y<span class="token punctuation">,</span>fill<span class="token operator">=</span>self<span class="token punctuation">.</span>fgcolor<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">mylineArrow</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>event<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>startDraw<span class="token punctuation">(</span>event<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>lastDraw <span class="token operator">=</span> self<span class="token punctuation">.</span>drawpad<span class="token punctuation">.</span>create_line<span class="token punctuation">(</span>self<span class="token punctuation">.</span>x<span class="token punctuation">,</span>self<span class="token punctuation">.</span>y<span class="token punctuation">,</span>event<span class="token punctuation">.</span>x<span class="token punctuation">,</span>event<span class="token punctuation">.</span>y<span class="token punctuation">,</span>arrow<span class="token operator">=</span>LAST<span class="token punctuation">,</span>fill<span class="token operator">=</span>self<span class="token punctuation">.</span>fgcolor<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">myRect</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>event<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>startDraw<span class="token punctuation">(</span>event<span class="token punctuation">)</span>
        <span class="token comment">#矩形边框颜色 outline</span>
        self<span class="token punctuation">.</span>lastDraw <span class="token operator">=</span> self<span class="token punctuation">.</span>drawpad<span class="token punctuation">.</span>create_rectangle<span class="token punctuation">(</span>self<span class="token punctuation">.</span>x<span class="token punctuation">,</span>self<span class="token punctuation">.</span>y<span class="token punctuation">,</span>event<span class="token punctuation">.</span>x<span class="token punctuation">,</span>event<span class="token punctuation">.</span>y<span class="token punctuation">,</span>outline<span class="token operator">=</span>self<span class="token punctuation">.</span>fgcolor<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">myOval</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>event<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>startDraw<span class="token punctuation">(</span>event<span class="token punctuation">)</span>
        <span class="token comment">#椭圆边框颜色 outline</span>
        self<span class="token punctuation">.</span>lastDraw <span class="token operator">=</span> self<span class="token punctuation">.</span>drawpad<span class="token punctuation">.</span>create_oval<span class="token punctuation">(</span>self<span class="token punctuation">.</span>x<span class="token punctuation">,</span>self<span class="token punctuation">.</span>y<span class="token punctuation">,</span>event<span class="token punctuation">.</span>x<span class="token punctuation">,</span>event<span class="token punctuation">.</span>y<span class="token punctuation">,</span>outline<span class="token operator">=</span>self<span class="token punctuation">.</span>fgcolor<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">myPen</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>event<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment">#画笔本质上也是直线，只是由无数个小直线组成</span>
        self<span class="token punctuation">.</span>startDraw<span class="token punctuation">(</span>event<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>drawpad<span class="token punctuation">.</span>create_line<span class="token punctuation">(</span>self<span class="token punctuation">.</span>x<span class="token punctuation">,</span>self<span class="token punctuation">.</span>y<span class="token punctuation">,</span>event<span class="token punctuation">.</span>x<span class="token punctuation">,</span>event<span class="token punctuation">.</span>y<span class="token punctuation">,</span>fill<span class="token operator">=</span>self<span class="token punctuation">.</span>fgcolor<span class="token punctuation">)</span>
        <span class="token comment">#移动画笔，多次重置起始位置，就可以让线跟着鼠标画起来</span>
        self<span class="token punctuation">.</span>x <span class="token operator">=</span> event<span class="token punctuation">.</span>x
        self<span class="token punctuation">.</span>y <span class="token operator">=</span> event<span class="token punctuation">.</span>y

    <span class="token keyword">def</span> <span class="token function">myErasor</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>event<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>startDraw<span class="token punctuation">(</span>event<span class="token punctuation">)</span>
        <span class="token comment">#橡皮擦实现的原理是用画布背景的矩形将原图遮盖</span>
        <span class="token comment">#将矩形区域放大一些</span>
        self<span class="token punctuation">.</span>drawpad<span class="token punctuation">.</span>create_rectangle<span class="token punctuation">(</span>event<span class="token punctuation">.</span>x<span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">,</span>event<span class="token punctuation">.</span>y<span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">,</span>event<span class="token punctuation">.</span>x<span class="token operator">+</span><span class="token number">4</span><span class="token punctuation">,</span>event<span class="token punctuation">.</span>y<span class="token operator">+</span><span class="token number">4</span><span class="token punctuation">,</span>fill<span class="token operator">=</span>self<span class="token punctuation">.</span>bgcolor<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>x <span class="token operator">=</span> event<span class="token punctuation">.</span>x
        self<span class="token punctuation">.</span>y <span class="token operator">=</span> event<span class="token punctuation">.</span>y

    <span class="token keyword">def</span> <span class="token function">kuaijiejian</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>event<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> event<span class="token punctuation">.</span>char <span class="token operator">==</span><span class="token string">"r"</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>fgcolor <span class="token operator">=</span> <span class="token string">"#ff0000"</span>
        <span class="token keyword">elif</span> event<span class="token punctuation">.</span>char <span class="token operator">==</span><span class="token string">"g"</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>fgcolor <span class="token operator">=</span> <span class="token string">"#00ff00"</span>
        <span class="token keyword">elif</span> event<span class="token punctuation">.</span>char <span class="token operator">==</span><span class="token string">"y"</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>fgcolor <span class="token operator">=</span> <span class="token string">"#ffff00"</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    root <span class="token operator">=</span> Tk<span class="token punctuation">(</span><span class="token punctuation">)</span>
    root<span class="token punctuation">.</span>geometry<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>win_width<span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"x"</span><span class="token operator">+</span><span class="token builtin">str</span><span class="token punctuation">(</span>win_height<span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"+200+300"</span><span class="token punctuation">)</span>
    root<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">"景天科技苑的画图软件"</span><span class="token punctuation">)</span>
    app <span class="token operator">=</span> Application<span class="token punctuation">(</span>master<span class="token operator">=</span>root<span class="token punctuation">)</span>
    root<span class="token punctuation">.</span>mainloop<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p>运行<br> <img src="https://images2.imgbox.com/dd/25/u6R5UpkZ_o.png" alt="在这里插入图片描述"></p> 
<p>可以根据各个按钮，实现不同功能<br> <img src="https://images2.imgbox.com/90/18/R9vtbaSB_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b22c34f295505fab902c0410b6e2d4c1/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Multisim软件仿真之频谱分析仪</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/915807d928b111b3c3661f76d6810058/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">前端冲刺必备指南</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>