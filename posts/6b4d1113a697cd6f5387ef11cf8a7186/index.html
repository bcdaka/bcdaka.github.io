<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Linux下安装Mysql数据库 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/6b4d1113a697cd6f5387ef11cf8a7186/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="Linux下安装Mysql数据库">
  <meta property="og:description" content="1.版本说明和引用 Linux版本Centos7
[root@localhost ~]# cat /proc/version Linux version 3.10.0-1160.el7.x86_64 (mockbuild@kbuilder.bsys.centos.org) (gcc version 4.8.5 20150623 (Red Hat 4.8.5-44) (GCC) ) #1 SMP Mon Oct 19 16:18:59 UTC 2020 Mysql版本8.4.0
安装方式手动rpm包安装
官方安装指导文档，其它系统和版本可参考文档MySQL :: MySQL 8.4 Reference Manual :: 2.5.4 Installing MySQL on Linux Using RPM Packages from Oracle
下载Mysql rpm包 MySQL :: Download MySQL Community Server (Archived Versions)
同时支持Linux8/9 选择相应版本下载
Bundle版本意思为合集，ARM和X86为系统架构，正常情况下是X86系统（Inter使用这个)
导入虚拟机 [root@localhost opt]# pwd /opt [root@localhost opt]# ls mysql-8.4.0-1.el7.x86_64.rpm-bundle.tar 解压压缩包">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-08-13T17:10:26+08:00">
    <meta property="article:modified_time" content="2024-08-13T17:10:26+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Linux下安装Mysql数据库</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>1.版本说明和引用</h2> 
<ul><li> <p>Linux版本Centos7</p> <pre><code class="language-bash">[root@localhost ~]# cat /proc/version
Linux version 3.10.0-1160.el7.x86_64 (mockbuild@kbuilder.bsys.centos.org) (gcc version 4.8.5 20150623 (Red Hat 4.8.5-44) (GCC) ) #1 SMP Mon Oct 19 16:18:59 UTC 2020</code></pre> </li><li> <p>Mysql版本8.4.0</p> </li><li> <p>安装方式手动rpm包安装</p> </li><li> <p>官方安装指导文档，其它系统和版本可参考文档<a href="https://dev.mysql.com/doc/refman/8.4/en/linux-installation-rpm.html" rel="nofollow" title="MySQL :: MySQL 8.4 Reference Manual :: 2.5.4 Installing MySQL on Linux Using RPM Packages from Oracle">MySQL :: MySQL 8.4 Reference Manual :: 2.5.4 Installing MySQL on Linux Using RPM Packages from Oracle</a></p> </li><li> <p>下载Mysql rpm包 <a href="https://downloads.mysql.com/archives/community/" rel="nofollow" title="MySQL :: Download MySQL Community Server (Archived Versions)">MySQL :: Download MySQL Community Server (Archived Versions)</a><br> 同时支持Linux8/9 选择相应版本下载<br><img alt="" src="https://images2.imgbox.com/03/59/MVm0uoqG_o.jpg"><strong>Bundle版本意思为合集，ARM和X86为系统架构，正常情况下是X86系统（Inter使用这个)</strong><br><img alt="" src="https://images2.imgbox.com/7a/05/jq9LjQ3K_o.jpg"></p> </li><li>导入虚拟机 <pre><code class="language-bash">[root@localhost opt]# pwd
/opt
[root@localhost opt]# ls
mysql-8.4.0-1.el7.x86_64.rpm-bundle.tar
</code></pre> </li><li> <p>解压压缩包</p> <pre><code class="language-bash">[root@localhost opt]# tar xvf mysql-8.4.0-1.el7.x86_64.rpm-bundle.tar 
mysql-community-client-8.4.0-1.el7.x86_64.rpm
mysql-community-client-plugins-8.4.0-1.el7.x86_64.rpm
mysql-community-common-8.4.0-1.el7.x86_64.rpm
mysql-community-debuginfo-8.4.0-1.el7.x86_64.rpm
mysql-community-devel-8.4.0-1.el7.x86_64.rpm
mysql-community-embedded-compat-8.4.0-1.el7.x86_64.rpm
mysql-community-icu-data-files-8.4.0-1.el7.x86_64.rpm
mysql-community-libs-8.4.0-1.el7.x86_64.rpm
mysql-community-libs-compat-8.4.0-1.el7.x86_64.rpm
mysql-community-server-8.4.0-1.el7.x86_64.rpm
mysql-community-server-debug-8.4.0-1.el7.x86_64.rpm
mysql-community-test-8.4.0-1.el7.x86_64.rpm</code></pre> </li><li> <p>所有rmp包内容如下</p> </li><li> 
  <table align="center" border="1" cellpadding="1" cellspacing="1" style="width:500px;"><caption>
     MysqlRPM包 
   </caption><tbody><tr><th style="width:324px;"> <p>Rpm包名</p> </th><th style="width:524px;">简介</th></tr><tr><td style="width:324px;"><code>mysql-community-client</code></td><td style="width:524px;">客户端和工具包</td></tr><tr><td style="width:324px;"><code>mysql-community-client-plugins</code></td><td style="width:524px;">客户端共享插件</td></tr><tr><td style="width:324px;"><code>mysql-community-common</code></td><td style="width:524px;">客户/服务端共享库文件</td></tr><tr><td style="width:324px;"><code>mysql-community-devel</code></td><td style="width:524px;">客户端开发者头/库文件</td></tr><tr><td style="width:324px;"><code>mysql-community-embedded-compat</code></td><td style="width:524px;">嵌入式相关支持</td></tr><tr><td style="width:324px;"><code>mysql-community-icu-data-files</code></td><td style="width:524px;">正则相关的ICU支持文件</td></tr><tr><td style="width:324px;"><code>mysql-community-libs</code></td><td style="width:524px;">客户端/应用库文件</td></tr><tr><td style="width:324px;"><code>mysql-community-libs-compat</code></td><td style="width:524px;">旧版兼容相关库文件</td></tr><tr><td style="width:324px;"><code>mysql-community-server</code></td><td style="width:524px;">服务端和工具包</td></tr><tr><td style="width:324px;"><code>mysql-community-server-debug</code></td><td style="width:524px;">服务调试和插件相关</td></tr><tr><td style="width:324px;"><code>mysql-community-test</code></td><td style="width:524px;">服务器测试相关</td></tr><tr><td style="width:324px;"><code>mysql-community</code></td><td style="width:524px;">源码文件</td></tr><tr><td style="width:324px;">Additional *debuginfo* RPMs</td><td style="width:524px;">可能还有其它debuginfo相关的rmp包</td></tr></tbody></table></li></ul> 
<h2>2.安装数据库</h2> 
<ol><li>安装相应rpm包 <pre><code class="language-bash">[root@localhost opt]# ls
mysql-8.4.0-1.el7.x86_64.rpm-bundle.tar
mysql-community-client-8.4.0-1.el7.x86_64.rpm
mysql-community-client-plugins-8.4.0-1.el7.x86_64.rpm
mysql-community-common-8.4.0-1.el7.x86_64.rpm
mysql-community-debuginfo-8.4.0-1.el7.x86_64.rpm
mysql-community-devel-8.4.0-1.el7.x86_64.rpm
mysql-community-embedded-compat-8.4.0-1.el7.x86_64.rpm
mysql-community-icu-data-files-8.4.0-1.el7.x86_64.rpm
mysql-community-libs-8.4.0-1.el7.x86_64.rpm
mysql-community-libs-compat-8.4.0-1.el7.x86_64.rpm
mysql-community-server-8.4.0-1.el7.x86_64.rpm
mysql-community-server-debug-8.4.0-1.el7.x86_64.rpm
mysql-community-test-8.4.0-1.el7.x86_64.rpm
[root@localhost opt]# pwd
/opt
[root@localhost opt]# yum install mysql-community-{server,client,client-plugins,icu-data-files,common,libs}-*
</code></pre> <p></p> </li><li> <p>自动安装后默认配置如下</p> </li><li> 
  <table align="center" border="1" cellpadding="1" cellspacing="1" style="width:600px;"><caption> 
    <p style="text-align:center;"></p> 
   </caption><thead><tr><th style="width:279px;"> <p>Files or Resources</p> </th><th style="text-align:center;width:519px;">Location</th></tr></thead><tbody><tr><td style="text-align:center;width:279px;">Client programs and scripts</td><td style="text-align:center;width:519px;"><code>/usr/bin</code></td></tr><tr><td style="text-align:center;width:279px;"><span style="color:#fe2c24;"><a href="https://dev.mysql.com/doc/refman/8.4/en/mysqld.html" rel="nofollow" title="mysqld">mysqld</a> server</span></td><td style="text-align:center;width:519px;"><code>/usr/sbin</code></td></tr><tr><td style="text-align:center;width:279px;"><span style="color:#fe2c24;"><strong>Configuration file（配置文件）</strong></span></td><td style="text-align:center;width:519px;"><code>/etc/my.cnf</code></td></tr><tr><td style="text-align:center;width:279px;">Data directory</td><td style="text-align:center;width:519px;"><code>/var/lib/mysql</code></td></tr><tr><td style="text-align:center;width:279px;"><strong><span style="color:#fe2c24;">Error log file（错误日志）</span></strong></td><td style="width:519px;"> <p style="text-align:center;">For RHEL, Oracle Linux, CentOS or Fedora platforms: <code>/var/log/mysqld.log</code></p> <p style="text-align:center;">For SLES: <code>/var/log/mysql/mysqld.log</code></p> </td></tr><tr><td style="text-align:center;width:279px;">Value of <a href="https://dev.mysql.com/doc/refman/8.4/en/server-system-variables.html#sysvar_secure_file_priv" rel="nofollow" title="secure_file_priv">secure_file_priv</a></td><td style="text-align:center;width:519px;"><code>/var/lib/mysql-files</code></td></tr><tr><td style="text-align:center;width:279px;">System V init script</td><td style="width:519px;"> <p style="text-align:center;">For RHEL, Oracle Linux, CentOS or Fedora platforms: <code>/etc/init.d/mysqld</code></p> <p style="text-align:center;">For SLES: <code>/etc/init.d/mysql</code></p> </td></tr><tr><td style="text-align:center;width:279px;">Systemd service</td><td style="width:519px;"> <p style="text-align:center;">For RHEL, Oracle Linux, CentOS or Fedora platforms: <code>mysqld</code></p> <p style="text-align:center;">For SLES: <code>mysql</code></p> </td></tr><tr><td style="text-align:center;width:279px;">Pid file</td><td style="text-align:center;width:519px;"><code>/var/run/mysql/mysqld.pid</code></td></tr><tr><td style="text-align:center;width:279px;">Socket</td><td style="text-align:center;width:519px;"><code>/var/lib/mysql/mysql.sock</code></td></tr><tr><td style="width:279px;">Keyring directory</td><td style="width:519px;"><code>/var/lib/mysql-keyring</code></td></tr><tr><td style="width:279px;">Unix manual pages</td><td style="width:519px;"><code>/usr/share/man</code></td></tr><tr><td style="width:279px;">Include (header) files</td><td style="width:519px;"><code>/usr/include/mysql</code></td></tr><tr><td style="width:279px;">Libraries</td><td style="width:519px;"><code>/usr/lib/mysql</code></td></tr><tr><td style="width:279px;">Miscellaneous support files (for example, error messages, and character set files)</td><td style="width:519px;"><code>/usr/share/mysql</code></td></tr></tbody></table></li><li>启动停止Mysql <pre><code class="language-bash">[root@localhost opt]# systemctl start mysqld
[root@localhost opt]# systemctl restart mysqld
[root@localhost opt]# systemctl stop mysqld</code></pre> </li><li>查看临时密码 <pre><code class="language-bash">[root@localhost opt]# grep 'temporary password' /var/log/mysqld.log
2024-08-13T02:20:22.872261Z 6 [Note] [MY-010454] [Server] A temporary password is generated for root@localhost: &amp;9Y,cyZl_/gP</code></pre> </li><li> <p>登陆mysql</p> <pre><code class="language-bash">[root@localhost opt]# mysql -uroot -p
Enter password: 
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 10
Server version: 8.4.0 MySQL Community Server - GPL

Copyright (c) 2000, 2024, Oracle and/or its affiliates.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

mysql&gt; </code></pre> </li><li> <p>修改密码（validate_password插件默认安装要求密码强度至少包含一个大写字母、一个小写字母、一位数字和一个特殊字符，并且密码总长度至少为8个字符）</p> <pre><code class="language-bash">mysql&gt; ALTER USER 'root'@'localhost' IDENTIFIED BY 'MyNewPass4!';</code></pre> </li><li> <p>修改远程连接</p> <pre><code class="language-bash">mysql&gt; use mysql
Reading table information for completion of table and column names
You can turn off this feature to get a quicker startup with -A

Database changed
mysql&gt; update user set host="%" where user="root";
Query OK, 0 rows affected (0.00 sec)
Rows matched: 1  Changed: 0  Warnings: 0</code></pre> </li><li> <p>开放防火墙3306端口</p> <pre><code class="language-bash">[root@localhost local]# firewall-cmd --zone=public --add-port=3306/tcp --permanent
[root@localhost local]# firewall-cmd --reload
[root@localhost local]# firewall-cmd --list-ports 查看所有开放的端口</code></pre> </li><li> <p>把密码强度修改为简单密码，修改文件后重启Mysql服务后登陆，再次修改密码可以设置简单密码，参见步骤4，6，7（可选）</p> <pre><code class="language-bash">[root@localhost opt]# vi /etc/my.cnf

# For advice on how to change settings please see
# http://dev.mysql.com/doc/refman/8.4/en/server-configuration-defaults.html

[mysqld]
#
# Remove leading # and set to the amount of RAM for the most important data
# cache in MySQL. Start at 70% of total RAM for dedicated server, else 10%.
# innodb_buffer_pool_size = 128M
#
# Remove the leading "# " to disable binary logging
# Binary logging captures changes between backups and is enabled by
# default. It's default setting is log_bin=binlog
# disable_log_bin
#
# Remove leading # to set options mainly useful for reporting servers.
# The server defaults are faster for transactions and fast SELECTs.
# Adjust sizes as needed, experiment to find the optimal values.
# join_buffer_size = 128M
# sort_buffer_size = 2M
# read_rnd_buffer_size = 2M

datadir=/var/lib/mysql
socket=/var/lib/mysql/mysql.sock
bind-address=0.0.0.0
log-error=/var/log/mysqld.log
pid-file=/var/run/mysqld/mysqld.pid
#设置密码强度策略为低
validate_password.policy=LOW
#设置密码长度为6个
validate_password.length=6</code></pre> </li><li> <p>添加本机免密登陆（可选)</p> <pre><code class="language-bash">[root@localhost opt]# vi /etc/my.cnf

# For advice on how to change settings please see
# http://dev.mysql.com/doc/refman/8.4/en/server-configuration-defaults.html

[mysqld]
#
# Remove leading # and set to the amount of RAM for the most important data
# cache in MySQL. Start at 70% of total RAM for dedicated server, else 10%.
# innodb_buffer_pool_size = 128M
#
# Remove the leading "# " to disable binary logging
# Binary logging captures changes between backups and is enabled by
# default. It's default setting is log_bin=binlog
# disable_log_bin
#
# Remove leading # to set options mainly useful for reporting servers.
# The server defaults are faster for transactions and fast SELECTs.
# Adjust sizes as needed, experiment to find the optimal values.
# join_buffer_size = 128M
# sort_buffer_size = 2M
# read_rnd_buffer_size = 2M

datadir=/var/lib/mysql
socket=/var/lib/mysql/mysql.sock
bind-address=0.0.0.0
log-error=/var/log/mysqld.log
pid-file=/var/run/mysqld/mysqld.pid
validate_password.policy=LOW
validate_password.length=6
#密码用户名写在[client]下
[client]
user=root
password=123456</code></pre> <p><br> 直接使用mysql命令可以登陆命令行无需再输入密码</p> <pre><code class="language-bash">[root@localhost opt]# mysql
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 12
Server version: 8.4.0 MySQL Community Server - GPL

Copyright (c) 2000, 2024, Oracle and/or its affiliates.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

mysql&gt; 
</code></pre> <p><br>  </p> </li></ol>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/6e4f3475099f1680559f3ba20eff21d6/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">C# 结合 Javascript 测试获取天气信息</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/10d6dcf2da042a3cd507910a462d596e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">[Megagon Labs] Annotating Columns with Pre-trained Language Models</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>