<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>springboot3ä½¿ç”¨è‡ªå®šä¹‰æ³¨è§£&#43;AOP&#43;redisä¼˜é›…å®ç°é˜²é‡å¤æäº¤ - ç¼–ç¨‹å¤§å’–</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/8c4a820ef9e7b2fa10bdff30a09f4946/">
  <meta property="og:site_name" content="ç¼–ç¨‹å¤§å’–">
  <meta property="og:title" content="springboot3ä½¿ç”¨è‡ªå®šä¹‰æ³¨è§£&#43;AOP&#43;redisä¼˜é›…å®ç°é˜²é‡å¤æäº¤">
  <meta property="og:description" content="â›°ï¸ä¸ªäººä¸»é¡µ:Â è’¾é…’
ğŸ”¥ç³»åˆ—ä¸“æ ï¼šã€Šspring bootå®æˆ˜ã€‹
ç›®å½•
å†™åœ¨å‰é¢
å®ç°æ€è·¯
å®ç°æ­¥éª¤
1.å®šä¹‰é˜²é‡å¤æäº¤æ³¨è§£
2.ç¼–å†™ä¸€ä¸ªåˆ‡é¢å»å‘ç°è¯¥æ³¨è§£ç„¶åæ‰§è¡Œé˜²é‡å¤æäº¤é€»è¾‘
3.æµ‹è¯•
ä¾èµ–æ¡ä»¶
1.æ¥å£ä¸Šæ ‡è®°é˜²é‡å¤æäº¤æ³¨è§£
2.æ¥å£æµ‹è¯•
å†™åœ¨æœ€å
å†™åœ¨å‰é¢ æœ¬æ–‡ä»‹ç»äº†springbootå¼€å‘åç«¯æœåŠ¡ä¸­ï¼Œé˜²é‡å¤æäº¤åŠŸèƒ½çš„è®¾è®¡ä¸å®ç°ï¼ŒåšæŒçœ‹å®Œç›¸ä¿¡å¯¹ä½ æœ‰å¸®åŠ©ã€‚
åŒæ—¶æ¬¢è¿è®¢é˜…springbootç³»åˆ—ä¸“æ ï¼ŒæŒç»­åˆ†äº«spring bootçš„ä½¿ç”¨ç»éªŒã€‚
å®ç°æ€è·¯ é€šè¿‡å®šä¹‰ä¸€ä¸ªé˜²é‡å¤æäº¤çš„è‡ªå®šä¹‰æ³¨è§£ï¼Œå†é€šè¿‡AOPçš„å‰ç½®é€šçŸ¥æ‹¦æˆªå¸¦æœ‰è¯¥æ³¨è§£çš„æ–¹æ³•ï¼Œæ‰§è¡Œé˜²é‡å¤æäº¤é€»è¾‘ï¼Œéœ€è¦æ‹¼æ¥ä¸€ä¸ªå”¯ä¸€çš„key,å¦‚æœredisä¸­ä¸å­˜åœ¨åˆ™ä»£è¡¨ç¬¬ä¸€æ¬¡è¯·æ±‚ï¼Œå°†è¿™ä¸ªkeyå­˜å…¥redisï¼Œè®¾ç½®æ³¨è§£ç±»ä¸­æŒ‡å®šçš„è¿‡æœŸæ—¶é—´ï¼Œé‡åˆ°ä¸‹æ¬¡é‡å¤æäº¤è¯·æ±‚ï¼Œç›´æ¥æŠ›å‡ºå¯¹åº”å¼‚å¸¸ï¼Œå…¨å±€å¼‚å¸¸å¤„ç†è¿”å›å¯¹åº”ä¿¡æ¯å³å¯ã€‚
éœ€è¦æ³¨æ„
è¿™ä¸ªkeyçš„ç”Ÿæˆéœ€è¦è€ƒè™‘æœ‰tokenå’Œæ— tokenæƒ…å†µï¼ŒåŒæ—¶æ»¡è¶³å”¯ä¸€æ€§ã€‚
æœ‰ token;å¯ä»¥ç”¨ token&#43;è¯·æ±‚å‚æ•°ï¼Œåšä¸ºå”¯ä¸€å€¼!æ—  token:å¯ä»¥ç”¨è¯·æ±‚è·¯å¾„&#43;è¯·æ±‚å‚æ•°ï¼Œåšä¸ºå”¯ä¸€å€¼! å®ç°æ­¥éª¤ 1.å®šä¹‰é˜²é‡å¤æäº¤æ³¨è§£ import java.lang.annotation.*; import java.util.concurrent.TimeUnit; /** * @author mijiupro */ @Inherited @Target({ElementType.METHOD}) @Retention(RetentionPolicy.RUNTIME) @Documented public @interface RepeatSubmit { /** * é”å®šæ—¶é—´ï¼Œé»˜è®¤5000æ¯«ç§’ */ int interval() default 5000; /** * é”å®šæ—¶é—´å•ä½ï¼Œé»˜è®¤æ¯«ç§’ */ TimeUnit timeUnit() default TimeUnit.MILLISECONDS; /** * æç¤ºä¿¡æ¯ */ String message() default &#34;">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-04-27T16:43:38+08:00">
    <meta property="article:modified_time" content="2024-04-27T16:43:38+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ç¼–ç¨‹å¤§å’–" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ç¼–ç¨‹å¤§å’–</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">springboot3ä½¿ç”¨è‡ªå®šä¹‰æ³¨è§£&#43;AOP&#43;redisä¼˜é›…å®ç°é˜²é‡å¤æäº¤</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>Â <img alt="" height="68" src="https://images2.imgbox.com/48/0a/sNmCaH29_o.jpg" width="68"></p> 
<p><span style="color:#956fe7;">â›°ï¸ä¸ªäººä¸»é¡µ:Â  Â  Â <a href="https://blog.csdn.net/qq_62262918?spm=1011.2266.3001.5343" title="è’¾é…’">è’¾é…’</a></span></p> 
<p>ğŸ”¥<span style="color:#ffd900;">ç³»åˆ—ä¸“æ </span>ï¼š<a href="https://blog.csdn.net/qq_62262918/category_12571219.html?spm=1001.2014.3001.5482" title="ã€Šspring bootå®æˆ˜ã€‹">ã€Šspring bootå®æˆ˜ã€‹</a></p> 
<hr> 
<p id="main-toc"><strong>ç›®å½•</strong></p> 
<p id="%E5%86%99%E5%9C%A8%E5%89%8D%E9%9D%A2-toc" style="margin-left:0px;"><a href="#%E5%86%99%E5%9C%A8%E5%89%8D%E9%9D%A2" rel="nofollow">å†™åœ¨å‰é¢</a></p> 
<p id="%E5%AE%9E%E7%8E%B0%E6%80%9D%E8%B7%AF-toc" style="margin-left:0px;"><a href="#%E5%AE%9E%E7%8E%B0%E6%80%9D%E8%B7%AF" rel="nofollow">å®ç°æ€è·¯</a></p> 
<p id="%E5%AE%9E%E7%8E%B0%E6%AD%A5%E9%AA%A4-toc" style="margin-left:0px;"><a href="#%E5%AE%9E%E7%8E%B0%E6%AD%A5%E9%AA%A4" rel="nofollow">å®ç°æ­¥éª¤</a></p> 
<p id="1.%E5%AE%9A%E4%B9%89%E9%98%B2%E9%87%8D%E5%A4%8D%E6%8F%90%E4%BA%A4%E6%B3%A8%E8%A7%A3-toc" style="margin-left:40px;"><a href="#1.%E5%AE%9A%E4%B9%89%E9%98%B2%E9%87%8D%E5%A4%8D%E6%8F%90%E4%BA%A4%E6%B3%A8%E8%A7%A3" rel="nofollow">1.å®šä¹‰é˜²é‡å¤æäº¤æ³¨è§£</a></p> 
<p id="2.%E7%BC%96%E5%86%99%E4%B8%80%E4%B8%AA%E5%88%87%E9%9D%A2%E5%8E%BB%E5%8F%91%E7%8E%B0%E8%AF%A5%E6%B3%A8%E8%A7%A3%E7%84%B6%E5%90%8E%E6%89%A7%E8%A1%8C%E9%98%B2%E9%87%8D%E5%A4%8D%E6%8F%90%E4%BA%A4%E9%80%BB%E8%BE%91-toc" style="margin-left:40px;"><a href="#2.%E7%BC%96%E5%86%99%E4%B8%80%E4%B8%AA%E5%88%87%E9%9D%A2%E5%8E%BB%E5%8F%91%E7%8E%B0%E8%AF%A5%E6%B3%A8%E8%A7%A3%E7%84%B6%E5%90%8E%E6%89%A7%E8%A1%8C%E9%98%B2%E9%87%8D%E5%A4%8D%E6%8F%90%E4%BA%A4%E9%80%BB%E8%BE%91" rel="nofollow">2.ç¼–å†™ä¸€ä¸ªåˆ‡é¢å»å‘ç°è¯¥æ³¨è§£ç„¶åæ‰§è¡Œé˜²é‡å¤æäº¤é€»è¾‘</a></p> 
<p id="3.%E6%B5%8B%E8%AF%95-toc" style="margin-left:40px;"><a href="#3.%E6%B5%8B%E8%AF%95" rel="nofollow">3.æµ‹è¯•</a></p> 
<p id="%E4%BE%9D%E8%B5%96%E6%9D%A1%E4%BB%B6-toc" style="margin-left:80px;"><a href="#%E4%BE%9D%E8%B5%96%E6%9D%A1%E4%BB%B6" rel="nofollow">ä¾èµ–æ¡ä»¶</a></p> 
<p id="1.%E6%8E%A5%E5%8F%A3%E4%B8%8A%E6%A0%87%E8%AE%B0%E9%98%B2%E9%87%8D%E5%A4%8D%E6%8F%90%E4%BA%A4%E6%B3%A8%E8%A7%A3-toc" style="margin-left:80px;"><a href="#1.%E6%8E%A5%E5%8F%A3%E4%B8%8A%E6%A0%87%E8%AE%B0%E9%98%B2%E9%87%8D%E5%A4%8D%E6%8F%90%E4%BA%A4%E6%B3%A8%E8%A7%A3" rel="nofollow">1.æ¥å£ä¸Šæ ‡è®°é˜²é‡å¤æäº¤æ³¨è§£</a></p> 
<p id="2.%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95-toc" style="margin-left:80px;"><a href="#2.%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95" rel="nofollow">2.æ¥å£æµ‹è¯•</a></p> 
<p id="%E5%86%99%E5%9C%A8%E6%9C%80%E5%90%8E-toc" style="margin-left:0px;"><a href="#%E5%86%99%E5%9C%A8%E6%9C%80%E5%90%8E" rel="nofollow">å†™åœ¨æœ€å</a></p> 
<hr id="hr-toc"> 
<p></p> 
<h2>å†™åœ¨å‰é¢</h2> 
<p>æœ¬æ–‡ä»‹ç»äº†springbootå¼€å‘<a href="https://so.csdn.net/so/search?q=%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%90%8E%E7%AB%AF&amp;spm=1001.2101.3001.7020" title="åç«¯">åç«¯</a>æœåŠ¡ä¸­ï¼Œé˜²é‡å¤æäº¤åŠŸèƒ½çš„è®¾è®¡ä¸å®ç°ï¼ŒåšæŒçœ‹å®Œç›¸ä¿¡å¯¹ä½ æœ‰å¸®åŠ©ã€‚</p> 
<p>åŒæ—¶æ¬¢è¿è®¢é˜…springbootç³»åˆ—ä¸“æ ï¼ŒæŒç»­åˆ†äº«spring bootçš„ä½¿ç”¨ç»éªŒã€‚</p> 
<p></p> 
<h2 id="%E5%AE%9E%E7%8E%B0%E6%80%9D%E8%B7%AF">å®ç°æ€è·¯</h2> 
<blockquote> 
 <p>é€šè¿‡å®šä¹‰ä¸€ä¸ªé˜²é‡å¤æäº¤çš„è‡ªå®šä¹‰æ³¨è§£ï¼Œå†é€šè¿‡AOPçš„å‰ç½®é€šçŸ¥æ‹¦æˆªå¸¦æœ‰è¯¥æ³¨è§£çš„æ–¹æ³•ï¼Œæ‰§è¡Œé˜²é‡å¤æäº¤é€»è¾‘ï¼Œéœ€è¦æ‹¼æ¥ä¸€ä¸ªå”¯ä¸€çš„key,å¦‚æœredisä¸­ä¸å­˜åœ¨åˆ™ä»£è¡¨ç¬¬ä¸€æ¬¡è¯·æ±‚ï¼Œå°†è¿™ä¸ªkeyå­˜å…¥redisï¼Œè®¾ç½®æ³¨è§£ç±»ä¸­æŒ‡å®šçš„è¿‡æœŸæ—¶é—´ï¼Œé‡åˆ°ä¸‹æ¬¡é‡å¤æäº¤è¯·æ±‚ï¼Œç›´æ¥æŠ›å‡ºå¯¹åº”å¼‚å¸¸ï¼Œå…¨å±€å¼‚å¸¸å¤„ç†è¿”å›å¯¹åº”ä¿¡æ¯å³å¯ã€‚</p> 
</blockquote> 
<p><strong>éœ€è¦æ³¨æ„</strong></p> 
<p>è¿™ä¸ªkeyçš„ç”Ÿæˆéœ€è¦è€ƒè™‘æœ‰tokenå’Œæ— tokenæƒ…å†µï¼ŒåŒæ—¶æ»¡è¶³å”¯ä¸€æ€§ã€‚</p> 
<blockquote> 
 <ul><li>æœ‰ token;å¯ä»¥ç”¨ token+è¯·æ±‚å‚æ•°ï¼Œåšä¸ºå”¯ä¸€å€¼!</li><li>æ—  token:å¯ä»¥ç”¨è¯·æ±‚è·¯å¾„+è¯·æ±‚å‚æ•°ï¼Œåšä¸ºå”¯ä¸€å€¼!</li></ul> 
</blockquote> 
<h2 id="%E5%AE%9E%E7%8E%B0%E6%AD%A5%E9%AA%A4">å®ç°æ­¥éª¤</h2> 
<h3 id="1.%E5%AE%9A%E4%B9%89%E9%98%B2%E9%87%8D%E5%A4%8D%E6%8F%90%E4%BA%A4%E6%B3%A8%E8%A7%A3">1.å®šä¹‰é˜²é‡å¤æäº¤æ³¨è§£</h3> 
<pre><code class="language-java">import java.lang.annotation.*;
import java.util.concurrent.TimeUnit;

/**
 * @author mijiupro
 */
@Inherited
@Target({ElementType.METHOD})
@Retention(RetentionPolicy.RUNTIME)
@Documented
public @interface RepeatSubmit {

    /**
     * é”å®šæ—¶é—´ï¼Œé»˜è®¤5000æ¯«ç§’
     */
    int interval() default 5000;

    /**
     * é”å®šæ—¶é—´å•ä½ï¼Œé»˜è®¤æ¯«ç§’
     */
    TimeUnit timeUnit() default TimeUnit.MILLISECONDS;

    /**
     * æç¤ºä¿¡æ¯
     */
    String message() default "ä¸å…è®¸é‡å¤æäº¤ï¼Œè¯·ç¨åå†è¯•ï¼";

}</code></pre> 
<h3 id="2.%E7%BC%96%E5%86%99%E4%B8%80%E4%B8%AA%E5%88%87%E9%9D%A2%E5%8E%BB%E5%8F%91%E7%8E%B0%E8%AF%A5%E6%B3%A8%E8%A7%A3%E7%84%B6%E5%90%8E%E6%89%A7%E8%A1%8C%E9%98%B2%E9%87%8D%E5%A4%8D%E6%8F%90%E4%BA%A4%E9%80%BB%E8%BE%91">2.ç¼–å†™ä¸€ä¸ªåˆ‡é¢å»å‘ç°è¯¥æ³¨è§£ç„¶åæ‰§è¡Œé˜²é‡å¤æäº¤é€»è¾‘</h3> 
<blockquote> 
 <p>å› ä¸ºç¼“å­˜çš„keyæœ‰æ‹¼æ¥è¯·æ±‚å‚æ•°ï¼Œæ‰€ä»¥é‡åˆ°æ–‡ä»¶ç±»å‹çš„å‚æ•°éœ€è¦è¿›è¡Œè¿‡æ»¤ï¼Œæ‹¼æ¥é€»è¾‘ä»¥åŠå‚æ•°è¿‡æ»¤æ–¹æ³•éƒ½åœ¨ä¸‹é¢ä»£ç ä¸­ã€‚</p> 
</blockquote> 
<pre><code class="language-java">import cn.hutool.crypto.SecureUtil;
import cn.hutool.json.JSONUtil;
import com.mijiu.commom.aop.annotation.RepeatSubmit;
import com.mijiu.commom.exception.GeneralBusinessException;
import jakarta.servlet.http.HttpServletRequest;
import jakarta.servlet.http.HttpServletResponse;
import lombok.extern.slf4j.Slf4j;
import org.apache.commons.lang3.StringUtils;
import org.aspectj.lang.JoinPoint;
import org.aspectj.lang.annotation.Aspect;
import org.aspectj.lang.annotation.Before;
import org.springframework.data.redis.core.StringRedisTemplate;
import org.springframework.stereotype.Component;
import org.springframework.validation.BindingResult;
import org.springframework.web.context.request.RequestContextHolder;
import org.springframework.web.context.request.ServletRequestAttributes;
import org.springframework.web.multipart.MultipartFile;

import java.util.Collection;
import java.util.Map;
import java.util.Objects;

/**
 * @author mijiupro
 */
@Aspect
@Component
@Slf4j
public class RepeatSubmitAspect {
    private final StringRedisTemplate redisTemplate;

    public RepeatSubmitAspect(StringRedisTemplate redisTemplate) {
        this.redisTemplate = redisTemplate;
    }

    @Before("@annotation(repeatSubmit)")
    public void before(JoinPoint joinPoint, RepeatSubmit repeatSubmit) {
        ServletRequestAttributes attributes = (ServletRequestAttributes) RequestContextHolder.getRequestAttributes();
        HttpServletRequest request = null;

        if (attributes != null) {
            request = attributes.getRequest();
        }

        //è¯·æ±‚å‚æ•°æ‹¼æ¥
        String requestParams = argsArrayToString(joinPoint.getArgs());

        String authorizationHeader = null;
        if (request != null) {
            authorizationHeader = request.getHeader("Authorization");
        }

        String submitKey = null;

        if (authorizationHeader != null) {
            //å¦‚æœå­˜åœ¨tokenåˆ™é€šè¿‡token+è¯·æ±‚å‚æ•°ç”Ÿæˆå”¯ä¸€æ ‡è¯†
            String token = StringUtils.removeStart(authorizationHeader, "Bearer ");
            submitKey= SecureUtil.md5(token+":"+requestParams);

        } else{
            //ä¸å­˜åœ¨tokenåˆ™é€šè¿‡è¯·æ±‚url+å‚æ•°ç”Ÿæˆå”¯ä¸€æ ‡è¯†
            if (request != null) {
                submitKey = SecureUtil.md5(request.getRequestURL().toString()+":"+requestParams);
            }
        }
        //ç¼“å­˜key
        String cacheKey = "repeat_submit:"+submitKey;

        if (Boolean.TRUE.equals(redisTemplate.hasKey(cacheKey))) {
            throw new GeneralBusinessException(repeatSubmit.message());
        }
        redisTemplate.opsForValue().set(cacheKey, "1", repeatSubmit.interval(), repeatSubmit.timeUnit());
    }


    /**
     * å‚æ•°æ‹¼æ¥
     * @param args  å‚æ•°æ•°ç»„
     * @return æ‹¼æ¥åçš„å­—ç¬¦ä¸²
     */
    private String argsArrayToString(Object[] args){
        StringBuilder params = new StringBuilder();
        if(args!= null &amp;&amp; args.length &gt; 0){
            for(Object o:args){
                if(Objects.nonNull(o)&amp;&amp;!isFilterObject(o)){
                    try {
                        params.append(JSONUtil.toJsonStr(o)).append(" ");
                    }catch (Exception e){
                        log.error("å‚æ•°æ‹¼æ¥å¼‚å¸¸:{}",e.getMessage());
                    }
                }
            }
        }
        return params.toString().trim();
    }

    /**
     * åˆ¤æ–­æ˜¯å¦éœ€è¦è¿‡æ»¤çš„å¯¹è±¡ã€‚
     * @param o  å¯¹è±¡
     * @return trueï¼šéœ€è¦è¿‡æ»¤ï¼›falseï¼šä¸éœ€è¦è¿‡æ»¤
     */
    private boolean isFilterObject(final Object o) {
        Class&lt;?&gt; c = o.getClass();
        //å¦‚æœæ˜¯æ•°ç»„ä¸”ç±»å‹ä¸ºæ–‡ä»¶ç±»å‹çš„éœ€è¦è¿‡æ»¤
        if(c.isArray()){
            return  c.getComponentType().isAssignableFrom(MultipartFile.class);
        }
        //å¦‚æœæ˜¯é›†åˆä¸”ç±»å‹ä¸ºæ–‡ä»¶ç±»å‹çš„éœ€è¦è¿‡æ»¤
        else if(Collection.class.isAssignableFrom(c)){
            Collection collection = (Collection) o;
            for(Object value:collection){
                return value instanceof MultipartFile;
            }
        }
        //å¦‚æœæ˜¯Mapä¸”ç±»å‹ä¸ºæ–‡ä»¶ç±»å‹çš„éœ€è¦è¿‡æ»¤
        else if(Map.class.isAssignableFrom(c)){
            Map map = (Map) o;
            for(Object value:map.entrySet()){
                Map.Entry entry = (Map.Entry) value;
                return entry.getValue() instanceof MultipartFile;
            }
        }
        //å¦‚æœæ˜¯æ–‡ä»¶ç±»å‹çš„éœ€è¦è¿‡æ»¤
        return o instanceof MultipartFile || o instanceof HttpServletRequest || o instanceof HttpServletResponse
                || o instanceof BindingResult;
    }

}</code></pre> 
<h3 id="3.%E6%B5%8B%E8%AF%95">3.æµ‹è¯•</h3> 
<h4 id="%E4%BE%9D%E8%B5%96%E6%9D%A1%E4%BB%B6"><strong>ä¾èµ–æ¡ä»¶</strong></h4> 
<p>redisï¼š</p> 
<p><a class="has-card" href="https://blog.csdn.net/qq_62262918/article/details/136067550?spm=1001.2014.3001.5502" title="Spring Boot3æ•´åˆRedis_springboot3æ•´åˆredis-CSDNåšå®¢"><span class="link-card-box"><span class="link-title">Spring Boot3æ•´åˆRedis_springboot3æ•´åˆredis-CSDNåšå®¢</span><span class="link-link"><img class="link-link-icon" src="https://images2.imgbox.com/d0/82/uEcoJnvw_o.png" alt="icon-default.png?t=N7T8">https://blog.csdn.net/qq_62262918/article/details/136067550?spm=1001.2014.3001.5502</span></span></a></p> 
<p>å…¨å±€å¼‚å¸¸æ•è·ï¼š</p> 
<p><a class="has-card" href="https://blog.csdn.net/qq_62262918/article/details/136110267?spm=1001.2014.3001.5502" title="Spring Boot3è‡ªå®šä¹‰å¼‚å¸¸åŠå…¨å±€å¼‚å¸¸æ•è·_å…¨å±€å¼‚å¸¸æ•è· è‡ªå®šä¹‰å¼‚å¸¸-CSDNåšå®¢"><span class="link-card-box"><span class="link-title">Spring Boot3è‡ªå®šä¹‰å¼‚å¸¸åŠå…¨å±€å¼‚å¸¸æ•è·_å…¨å±€å¼‚å¸¸æ•è· è‡ªå®šä¹‰å¼‚å¸¸-CSDNåšå®¢</span><span class="link-link"><img class="link-link-icon" src="https://images2.imgbox.com/4c/37/EqgeczUh_o.png" alt="icon-default.png?t=N7T8">https://blog.csdn.net/qq_62262918/article/details/136110267?spm=1001.2014.3001.5502</span></span></a></p> 
<p>swagger3ï¼š</p> 
<p><a class="has-card" href="https://blog.csdn.net/qq_62262918/article/details/135761392?spm=1001.2014.3001.5502" title="Spring Boot3æ•´åˆknife4j(swagger3)_springboot3 knife4j-CSDNåšå®¢"><span class="link-card-box"><span class="link-title">Spring Boot3æ•´åˆknife4j(swagger3)_springboot3 knife4j-CSDNåšå®¢</span><span class="link-link"><img class="link-link-icon" src="https://images2.imgbox.com/c3/98/paXH7C18_o.png" alt="icon-default.png?t=N7T8">https://blog.csdn.net/qq_62262918/article/details/135761392?spm=1001.2014.3001.5502</span></span></a></p> 
<p>hutoolå·¥å…·åŒ…ï¼š</p> 
<pre><code class="language-html">&lt;dependency&gt;
    &lt;groupId&gt;cn.hutool&lt;/groupId&gt;
    &lt;artifactId&gt;hutool-all&lt;/artifactId&gt;
    &lt;version&gt;5.8.25&lt;/version&gt;
&lt;/dependency&gt;</code></pre> 
<h4 id="1.%E6%8E%A5%E5%8F%A3%E4%B8%8A%E6%A0%87%E8%AE%B0%E9%98%B2%E9%87%8D%E5%A4%8D%E6%8F%90%E4%BA%A4%E6%B3%A8%E8%A7%A3">1.æ¥å£ä¸Šæ ‡è®°é˜²é‡å¤æäº¤æ³¨è§£</h4> 
<p>éšä¾¿å†™ä¸ªæµ‹è¯•æ¥å£æ·»åŠ é˜²é‡å¤æäº¤æ³¨è§£è®¾ç½®é—´éš”5000æ¯«ç§’</p> 
<pre><code class="language-java">    @PostMapping("/add")
    @RepeatSubmit(interval= 5000)
    public void test(@RequestBody User user){
        //æ·»åŠ ç”¨æˆ·çš„æ“ä½œé€»è¾‘ã€‚ã€‚ã€‚
    }</code></pre> 
<h4 id="2.%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95">2.æ¥å£æµ‹è¯•</h4> 
<p>ç¬¬ä¸€æ¬¡æäº¤</p> 
<p><img alt="" height="770" src="https://images2.imgbox.com/75/9c/qaIy0LZj_o.png" width="1200"></p> 
<p>å¯ä»¥çœ‹åˆ°å¯¹åº”ç¼“å­˜å·²ç»å­˜å…¥redisäº†</p> 
<p><img alt="" height="192" src="https://images2.imgbox.com/22/f2/EFT9QFKm_o.png" width="907"></p> 
<p>5så†…ç¬¬äºŒæ¬¡æäº¤</p> 
<p><img alt="" height="857" src="https://images2.imgbox.com/5d/1b/pqFwnfZe_o.png" width="1200"></p> 
<p></p> 
<h2 id="%E5%86%99%E5%9C%A8%E6%9C%80%E5%90%8E">å†™åœ¨æœ€å</h2> 
<p>springbootä½¿ç”¨è‡ªå®šä¹‰æ³¨è§£+AOP+redisä¼˜é›…å®ç°é˜²é‡å¤æäº¤åˆ°è¿™é‡Œå°±ç»“æŸäº†ï¼Œæœ¬æ–‡ä»‹ç»äº†ä¸€ç§é€šç”¨çš„é˜²é‡å¤æäº¤çš„å®ç°æ–¹å¼ï¼Œä»£ç é€»è¾‘æ¸…æ™°ã€‚ä»»ä½•é—®é¢˜è¯„è®ºåŒºæˆ–ç§ä¿¡è®¨è®ºï¼Œæ¬¢è¿æŒ‡æ­£ã€‚</p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/08030a2c7f9c3459a5e6cab6bbc4983b/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">spring boot3tokenæ‹¦æˆªå™¨é“¾çš„è®¾è®¡ä¸å®ç°</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/4a625635c378c2889f9cd4808f90780b/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">Node.js -- åŒ…ç®¡ç†å·¥å…·</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ç¼–ç¨‹å¤§å’–.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>