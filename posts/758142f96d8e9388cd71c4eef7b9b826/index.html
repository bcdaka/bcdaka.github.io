<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>算法【Java】 —— 滑动窗口 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/758142f96d8e9388cd71c4eef7b9b826/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="算法【Java】 —— 滑动窗口">
  <meta property="og:description" content="滑动窗口 在上一篇文章中，我们了解到了双指针算法，在双指针算法中我们知道了前后指针法，这篇文章就要提到前后指针法的一个经典的使用 —— 滑动窗口，在前后指针法中，我们知道一个指针在前，一个指针在后，但是两个指针都是向前移动，如果两个指针之间的元素或者下标之间的差值有一些别的作用或者含义的时候（本质上就是子数组或者子串），我们会使用到滑动窗口这个算法思想，下面以第一道例题为引例。
题目实战 引例 —— 长度最小的子数组 https://leetcode.cn/problems/minimum-size-subarray-sum/
这道题目要求我们找到最少元素构成的子数组之间所有的数据总和大于等于 target , 也就是找子数组的题目，如果使用暴力美学，那么就需要枚举出所有的子数组，然后进行比较，时间复杂度为 O(N ^ 2)
暴力美学也是使用的是前后指针法，但是由于没有利用好递增关系，所以你也可以认为滑动窗口也是前后指针法的进阶，我们先这样看，使用一个指针遍历数组，然后使用 count 来统计遍历过的元素之和，由于数组的元素是正整数，所以 count 会随着 指针的移动而增加，在数学上，我们认为这是一种递增关系。
这样我们可以先让一个指针遍历数组（这个可以叫进窗口），直到 count &gt;= target 的时候，就需要更新最短的长度，以及让 后指针 向前移动（这个可以叫出窗口），直到 count &lt; target，此时这个循环会让count 减小，这也就让长度减小，所以要在循环中也顺便更新最短的长度。这就是滑动窗口的思路
思考为什么前指针不需要后退，而是直接向前遍历即可？
在暴力美学中，前指针都是回到后指针前一个位置，然后开始继续向前遍历计算新的 count，但是由于具有递增关系，前指针回退是没有必要的，因为已经计算好当前的 count 了，你的回退反而浪费原本的count 这个数值。只需要继续向前遍历即可，我们这个 count 在滑动窗口是动态变化的，根据前指针移动而增加，根据后指针移动而减少。
所以滑动窗口是对前后指针法的暴力美学的优化
在思考问题的时候，我们优先会想到暴力美学，因为它直观也容易想到，如果符合滑动窗口的特性，我们就可以尝试优化。
总结一下滑动窗口的算法思想：
1.进窗口
2.出窗口
3.更新答案（下面是说成数据）（根据题意调整具体位置）
时间复杂度为O(2N) = O(N)
class Solution { public int minSubArrayLen(int target, int[] nums) { int len = nums.length; int count = 0; int ans = Integer.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-08-17T20:24:55+08:00">
    <meta property="article:modified_time" content="2024-08-17T20:24:55+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">算法【Java】 —— 滑动窗口</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="_0"></a>滑动窗口</h2> 
<p>在上一篇文章中，我们了解到了双指针算法，在双指针算法中我们知道了前后指针法，这篇文章就要提到前后指针法的一个经典的使用 —— 滑动窗口，在前后指针法中，我们知道一个指针在前，一个指针在后，但是两个指针都是向前移动，如果两个指针之间的元素或者下标之间的差值有一些别的作用或者含义的时候（本质上就是<strong>子数组或者子串</strong>），我们会使用到滑动窗口这个算法思想，下面以第一道例题为引例。</p> 
<h2><a id="_2"></a>题目实战</h2> 
<h3><a id="___3"></a>引例 —— 长度最小的子数组</h3> 
<p><a href="https://leetcode.cn/problems/minimum-size-subarray-sum/" rel="nofollow">https://leetcode.cn/problems/minimum-size-subarray-sum/</a></p> 
<p><img src="https://images2.imgbox.com/c3/37/Hu3X9IbW_o.png" alt="在这里插入图片描述"></p> 
<p>这道题目要求我们找到最少元素构成的子数组之间所有的数据总和大于等于 target , 也就是找子数组的题目，如果使用暴力美学，那么就需要枚举出所有的子数组，然后进行比较，时间复杂度为 O(N ^ 2)</p> 
<p>暴力美学也是使用的是前后指针法，但是由于没有利用好递增关系，所以你也可以认为滑动窗口也是前后指针法的进阶，我们先这样看，使用一个指针遍历数组，然后使用 count 来统计遍历过的元素之和，由于数组的元素是正整数，所以 count 会随着 指针的移动而增加，在数学上，我们认为这是一种递增关系。</p> 
<p>这样我们可以先让一个指针遍历数组（这个可以叫进窗口），直到 count &gt;= target 的时候，就需要更新最短的长度，以及让 后指针 向前移动（这个可以叫出窗口），直到 count &lt; target，此时这个循环会让count 减小，这也就让长度减小，所以要在循环中也顺便更新最短的长度。这就是滑动窗口的思路</p> 
<blockquote> 
 <p>思考为什么前指针不需要后退，而是直接向前遍历即可？<br> 在暴力美学中，前指针都是回到后指针前一个位置，然后开始继续向前遍历计算新的 count，但是由于具有递增关系，前指针回退是没有必要的，因为已经计算好当前的 count 了，你的回退反而浪费原本的count 这个数值。只需要继续向前遍历即可，我们这个 count 在滑动窗口是动态变化的，根据前指针移动而增加，根据后指针移动而减少。<br> 所以<strong>滑动窗口是对前后指针法的暴力美学的优化</strong><br> 在思考问题的时候，我们优先会想到暴力美学，因为它直观也容易想到，如果符合滑动窗口的特性，我们就可以尝试优化。</p> 
</blockquote> 
<p>总结一下滑动窗口的算法思想：<br> 1.进窗口<br> 2.出窗口<br> 3.更新答案（下面是说成数据）（根据题意调整具体位置）</p> 
<p>时间复杂度为O(2N) = O(N)</p> 
<pre><code class="prism language-java"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">minSubArrayLen</span><span class="token punctuation">(</span><span class="token keyword">int</span> target<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">int</span> len <span class="token operator">=</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
        <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token constant">MAX_VALUE</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> left <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> right <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> right <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> right<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">//进窗口</span>
            count <span class="token operator">+=</span> nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">;</span>

            <span class="token comment">//出窗口</span>
            <span class="token keyword">while</span><span class="token punctuation">(</span>count <span class="token operator">&gt;=</span> target<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                ans <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>ans<span class="token punctuation">,</span> right <span class="token operator">-</span> left <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//更新数据</span>
                count <span class="token operator">-=</span> nums<span class="token punctuation">[</span>left<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> ans <span class="token operator">==</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token constant">MAX_VALUE</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> ans<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<hr> 
<h3><a id="_49"></a>无重复字符的最长子串</h3> 
<p><a href="https://leetcode.cn/problems/longest-substring-without-repeating-characters/description/" rel="nofollow">https://leetcode.cn/problems/longest-substring-without-repeating-characters/description/</a></p> 
<p><img src="https://images2.imgbox.com/f8/b5/rYaAD6Qc_o.png" alt="在这里插入图片描述"></p> 
<p>解析：<br> 如果使用暴力美学，还是前后指针法，由于这是求最长的字符串（也就是子串问题），对于子串子数组我们优先会想到滑动窗口算法。</p> 
<p>在计算不重复的字符串的时候，前指针遇到不重复的字符，两个指针之间的距离就会自增，如果遇到重复的字符，后指针就会向前移动进行去重，按照暴力美学，前指针应该回退到后指针的前一个位置，但是有必要回退吗？首先因为经过后指针的去重，此时前后指针之间就没有重复的字符，这时候没有必要前指针回退，而这时候就是滑动窗口算法的特点。</p> 
<p>使用滑动窗口，将不重复的字符加入到窗口中，当遇到重复的字符后指针就向前移动进行去重，再进行完进窗口和出窗口后，我们就可以更新最长长度了。</p> 
<p>如何去重呢？大家可以使用Java 给我们提供的 HashSet，也就是哈希表进行去重。</p> 
<blockquote> 
 <p>补充：<strong>字符串转化成 字符数组的 方法 是 toCharArray().</strong></p> 
</blockquote> 
<p>本题使用 滑动窗口 + 哈希表，时间复杂度为O(2N) = O(N)</p> 
<pre><code class="prism language-java"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">lengthOfLongestSubstring</span><span class="token punctuation">(</span><span class="token class-name">String</span> ss<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token constant">MIN_VALUE</span><span class="token punctuation">;</span>
        <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> s <span class="token operator">=</span> ss<span class="token punctuation">.</span><span class="token function">toCharArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> len <span class="token operator">=</span> s<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
        <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Character</span><span class="token punctuation">&gt;</span></span> set <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> left <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> right <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> right <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> right<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">char</span> ch <span class="token operator">=</span> s<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">;</span>
            
            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>set<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//进窗口</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">while</span><span class="token punctuation">(</span>ch <span class="token operator">!=</span> s<span class="token punctuation">[</span>left<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    set<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>left<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//出窗口</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>

            <span class="token comment">//更新数据</span>
            ans <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>ans<span class="token punctuation">,</span>right <span class="token operator">-</span> left <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> ans <span class="token operator">==</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token constant">MIN_VALUE</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> ans<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<hr> 
<h3><a id="1_95"></a>最大连续1的个数</h3> 
<p><a href="https://leetcode.cn/problems/max-consecutive-ones-iii/description/" rel="nofollow">https://leetcode.cn/problems/max-consecutive-ones-iii/description/</a></p> 
<p><img src="https://images2.imgbox.com/4a/30/Z15qpLVV_o.png" alt="在这里插入图片描述"></p> 
<p>解析：<br> 由于这是字数组问题，可以考虑滑动窗口，由于题目给定的 K 是最大零数字的承载量，所以如果超过这个量就需要进行去重操作，后指针直接前移，在零元素的前一个位置停下即可，这是出窗口，进窗口的条件很简单就是小于等于承载量的时候，更新数据放在最后，这样就保证这是一个符合题意的子数组。</p> 
<blockquote> 
 <p><strong>承载量如何判断？引入一个变量 count 来记录当前的零元素个数</strong></p> 
</blockquote> 
<pre><code class="prism language-java"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">longestOnes</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums<span class="token punctuation">,</span> <span class="token keyword">int</span> k<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token constant">MIN_VALUE</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> len <span class="token operator">=</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
        <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> left <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> right <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> right <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> right<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">//进窗口</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                count<span class="token operator">++</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token comment">//出窗口</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>count <span class="token operator">&gt;</span> k<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">while</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>left<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">;</span><span class="token punctuation">}</span>
                count<span class="token operator">--</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token comment">//更新数据</span>
            ans <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>ans<span class="token punctuation">,</span> right <span class="token operator">-</span> left <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> ans<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<hr> 
<h3><a id="_x__0__133"></a>将 x 减到 0 的最小操作数</h3> 
<p><a href="https://leetcode.cn/problems/minimum-operations-to-reduce-x-to-zero/" rel="nofollow">https://leetcode.cn/problems/minimum-operations-to-reduce-x-to-zero/</a></p> 
<p><img src="https://images2.imgbox.com/5d/1d/Grs1J5ek_o.png" alt="在这里插入图片描述"></p> 
<p>解析：<br> 由于每次只能减去最左端或者最右端的数值，所以如果最后有结果的话，那就是数组减去左区间和右边间，这两个区间的所有数字之和恰好等于 x<br> <img src="https://images2.imgbox.com/97/19/zy3vFqAj_o.png" alt="在这里插入图片描述"><br> 题目要求求出最小的操作数，说明左右区间的长度之和要最小。</p> 
<p>如果正着求比较难的话，我们可以尝试反着求，也就是求中间部分最长，求中间部分一看就知道可以使用滑动窗口的方法。中间部分的数值应该等于 数组的所有数据之和减去 x ，我这里使用 target 变量来接受。</p> 
<p>现在就是处理滑动窗口了，使用 sum 来接受此时 前后指针之间的所有的数据之和，先进窗口（sum 加数据），然后如果 sum &gt; target 的时候就要出窗口（使用循环），最后更新数据的条件就是当 target == sum 时，进行更新数据。</p> 
<blockquote> 
 <p><strong>细微条件处理：当数组的所有的数据之和小于 x 的时候，直接返回 -1 ，不能进入滑动窗口的部分，因为 target 计算后 sum - x = target &lt; 0，在滑动窗口中 sum 始终大于 taget ，最终会一直出窗口，然后发生数组越界访问。</strong></p> 
</blockquote> 
<pre><code class="prism language-java"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">minOperations</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums<span class="token punctuation">,</span> <span class="token keyword">int</span> x<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">int</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> y <span class="token operator">:</span> nums<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            sum <span class="token operator">+=</span> y<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">int</span> target <span class="token operator">=</span> sum <span class="token operator">-</span> x<span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>target <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">int</span> len <span class="token operator">=</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
        <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token constant">MIN_VALUE</span><span class="token punctuation">;</span>
        sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> left <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> right <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> right <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> right<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">//进窗口</span>
            sum <span class="token operator">+=</span> nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">;</span>

            <span class="token comment">//出窗口</span>
            <span class="token keyword">while</span><span class="token punctuation">(</span>sum <span class="token operator">&gt;</span> target<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                sum <span class="token operator">-=</span> nums<span class="token punctuation">[</span>left<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token comment">//更新数据</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>sum <span class="token operator">==</span> target<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                count <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>count<span class="token punctuation">,</span> right <span class="token operator">-</span> left <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> count <span class="token operator">==</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token constant">MIN_VALUE</span> <span class="token operator">?</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">:</span> len <span class="token operator">-</span> count<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<hr> 
<h3><a id="_185"></a>水果成篮</h3> 
<p><a href="https://leetcode.cn/problems/fruit-into-baskets/" rel="nofollow">https://leetcode.cn/problems/fruit-into-baskets/</a></p> 
<p><img src="https://images2.imgbox.com/99/1b/FqM4wuFp_o.png" alt="在这里插入图片描述"></p> 
<p>解析：<br> 最多只能装两种水果类型，题目要求我们要求出最大的采摘数量，显而易见的要使用滑动窗口。<br> 进窗口，直接边遍历边进。<br> 出窗口，就是遇到第三个水果类型，需要进行调整。<br> 更新数据，在前两步骤做好就可以进行数据的更新了。</p> 
<p>现在就要讨论用什么东西来装水果？<br> 我们可以使用哈希表，Map 来接受水果类型和该水果目前的数量。</p> 
<p>整体思路就是 哈希表加滑动窗口</p> 
<pre><code class="prism language-java"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">totalFruit</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> fruits<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> len <span class="token operator">=</span> fruits<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
        <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token constant">MIN_VALUE</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> left <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> right <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> right <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> right<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">//进窗口</span>
            map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>fruits<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">,</span>map<span class="token punctuation">.</span><span class="token function">getOrDefault</span><span class="token punctuation">(</span>fruits<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">//出窗口</span>
            <span class="token keyword">while</span><span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>fruits<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">,</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>fruits<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>fruits<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    map<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>fruits<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                left<span class="token operator">++</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token comment">//更新数据</span>
            count <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>count<span class="token punctuation">,</span> right <span class="token operator">-</span> left <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> count<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<hr> 
<h3><a id="_230"></a>找到字符串中所有字母异位词</h3> 
<p><a href="https://leetcode.cn/problems/find-all-anagrams-in-a-string/description/" rel="nofollow">https://leetcode.cn/problems/find-all-anagrams-in-a-string/description/</a></p> 
<p><img src="https://images2.imgbox.com/96/63/REq3K6Jh_o.png" alt="在这里插入图片描述"></p> 
<p>解析：<br> 还是<strong>子串问题，使用滑动窗口</strong>。由于涉及到字符串的查找，所以我们可以使用 toCharArray() 方法将字符串转化为数组，便于我们的使用。</p> 
<p>如何存储两个字符串的内容：我们会想到使用哈希表，使用Map 来接受 字母 —— 出现数量 这个键值对，但是题目说了字符串只包含小写字母，那我们可以自己创建两个<strong>数组来模拟哈希表</strong>，而且使用数组更加方便。</p> 
<p>如何比较两个字符串的内容？很多老铁一定想过使用循环遍历，而且我们还是使用数组来模拟哈希表，那就更加方法，这里介绍一种更好的方法，不需要循环遍历就可以比较成功。<br> <strong>使用一个变量来接收有效的字符数量。</strong></p> 
<p>如何使用？<br> 我们在进出窗口的过程中顺便统计有效字符的个数，什么是有效的字符，我们需要和另一个哈希表的内容进行判断<br> 这也就说明了我们要事先制作好一个哈希表，然后才开始遍历字符串 s<br> 在遍历过程中，s 的哈希表对应的下标的元素先自增，然后开始判断，当这个字符也存在于 p 的哈希表中，并且 s 对应的元素值要小于等于 p 哈希表的，就算作有效字符<br> 如果是大于 p 的，说明这个字符要么是重复字符要么是 p 哈希表不存在的字符。</p> 
<p>出窗口：<strong>什么时候要出窗口？答：当当前的字符串长度大于 字符串 p 的长度</strong>，因为我们在进窗口的时候，只会统计有效字符个数，<strong>当有效字符个数等于 p 字符串的时候，才会更新数据</strong>，而此时满足当前 前后指针夹着的字符串全是有效字符 这个条件，只要当前的字符串的长度大于 p 字符串的长度的时候，就一定不是有效字符串，这时候就可以出窗口，顺便调整 s 哈希表的内容，由于此时的调整可能会删除掉有效字符，所以这个也要考虑有效字符的数量的变化，如果你要删除的字符对应的 s 哈希表的数值 小于等于 p 哈希表的时候 —— 有效字符数量就要自减，并且出窗口的次数实际上就是一次，所以用不到循环。</p> 
<pre><code class="prism language-java"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> <span class="token function">findAnagrams</span><span class="token punctuation">(</span><span class="token class-name">String</span> ss<span class="token punctuation">,</span> <span class="token class-name">String</span> pp<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> s <span class="token operator">=</span> ss<span class="token punctuation">.</span><span class="token function">toCharArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> p <span class="token operator">=</span> pp<span class="token punctuation">.</span><span class="token function">toCharArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> hash1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token number">26</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> hash2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token number">26</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">char</span> x <span class="token operator">:</span> p<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            hash2<span class="token punctuation">[</span>x<span class="token operator">-</span><span class="token char">'a'</span><span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">int</span> len <span class="token operator">=</span> s<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
        <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> size <span class="token operator">=</span> p<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> left <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> right <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> right <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> right<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">char</span> ch <span class="token operator">=</span> s<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token comment">//进窗口</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">++</span>hash1<span class="token punctuation">[</span>ch<span class="token operator">-</span><span class="token char">'a'</span><span class="token punctuation">]</span> <span class="token operator">&lt;=</span> hash2<span class="token punctuation">[</span>ch<span class="token operator">-</span><span class="token char">'a'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                count<span class="token operator">++</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token comment">//出窗口</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>right <span class="token operator">-</span> left <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&gt;</span> size<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>hash1<span class="token punctuation">[</span>s<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token operator">-</span><span class="token char">'a'</span><span class="token punctuation">]</span><span class="token operator">--</span> <span class="token operator">&lt;=</span> hash2<span class="token punctuation">[</span>s<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token operator">-</span><span class="token char">'a'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    count<span class="token operator">--</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                left<span class="token operator">++</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            
            <span class="token comment">//更新数据</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>count <span class="token operator">==</span> size<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> list<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<hr> 
<h3><a id="_294"></a>串联所有单词的子串</h3> 
<p><a href="https://leetcode.cn/problems/substring-with-concatenation-of-all-words/description/" rel="nofollow">https://leetcode.cn/problems/substring-with-concatenation-of-all-words/description/</a></p> 
<p><img src="https://images2.imgbox.com/a5/8e/NBnewi9t_o.png" alt="在这里插入图片描述"></p> 
<p>解析：<br> 这道题目和上一道单词的异位词很相似，只不过这道题目是以单词为单位的。<br> 不过我们如果将单词视为一个字符的话，思路和上面的一模一样。<br> 使用两个哈希表存放单词。<br> 如何划分字符串，由于 words 中每个单词的长度都是一致的，所以我们可以将字符串按照这个数量进行划分。</p> 
<p>我们从暴力美学出发，如果要找出所有的子字符串，那么就需要两层循环。<br> 在暴力美学的内层循环中我们要找到符合的子串，可以使用滑动窗口来求解，因为<strong>要比较的单词的长度都是一致的</strong>，所以我们可以按照单词的长度对字符串进行划分，也就是说在内层循环中<strong>使用滑动窗口的时候，指针每次移动都是加单词的长度</strong></p> 
<p>那么外层循环有必要遍历整个字符串吗？<br> 答：没有必要，因为单词的长度是一致的，所以你单词的划分最多的情况就是单词的长度：<br> <img src="https://images2.imgbox.com/8a/ca/jmkX5T70_o.png" alt="在这里插入图片描述"><br> 当外层循环遍历次数超过单词长度的时候，你会发现单词的划分和前面的循环重合，所以这些超过单词长度的循环次数是没有必要的，你如果硬要遍历的话，也可以，就是时间复杂度差了些。</p> 
<p>所以继续优化的话，<strong>最外层循环次数就是单词的长度</strong></p> 
<p>最后就是要注意方法的使用了，如何划分字符串，使用 substring(), 哈希表的使用方法要注意 getOrDefault()，如果不存在的话可以返回默认值，但是不会加入到哈希表，其他的就不说了，不了解这些方法的，可以去我往期文章中查阅：<a href="http://t.csdnimg.cn/ASN70" rel="nofollow">String 类</a><br> <a href="http://t.csdnimg.cn/vgMxJ" rel="nofollow">JavaDS —— 二叉搜索树、哈希表、Map 与 Set</a></p> 
<pre><code class="prism language-java"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> <span class="token function">findSubstring</span><span class="token punctuation">(</span><span class="token class-name">String</span> s<span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> words<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> mapW <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">String</span> x <span class="token operator">:</span> words<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            mapW<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>mapW<span class="token punctuation">.</span><span class="token function">getOrDefault</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">int</span> lenS <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> len <span class="token operator">=</span> words<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> mapS <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> size <span class="token operator">=</span> words<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            mapS<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> left <span class="token operator">=</span> i<span class="token punctuation">,</span> right <span class="token operator">=</span> i<span class="token punctuation">;</span> right <span class="token operator">+</span> len <span class="token operator">&lt;=</span> lenS<span class="token punctuation">;</span> right<span class="token operator">+=</span>len<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token class-name">String</span> str <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>right<span class="token punctuation">,</span>right<span class="token operator">+</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span>
                mapS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span>mapS<span class="token punctuation">.</span><span class="token function">getOrDefault</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//进窗口</span>

                <span class="token keyword">if</span><span class="token punctuation">(</span>mapS<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token operator">&lt;=</span> mapW<span class="token punctuation">.</span><span class="token function">getOrDefault</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    count<span class="token operator">++</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> 

                <span class="token comment">//出窗口</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>right <span class="token operator">-</span> left <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&gt;</span> len <span class="token operator">*</span> size<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token class-name">String</span> ch <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>left<span class="token punctuation">,</span>left<span class="token operator">+</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">if</span><span class="token punctuation">(</span>mapS<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span> <span class="token operator">&lt;=</span> mapW<span class="token punctuation">.</span><span class="token function">getOrDefault</span><span class="token punctuation">(</span>ch<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                        count<span class="token operator">--</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                    mapS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>ch<span class="token punctuation">,</span>mapS<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    left <span class="token operator">+=</span> len<span class="token punctuation">;</span>
                <span class="token punctuation">}</span>

                <span class="token comment">//更新数据</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>count <span class="token operator">==</span> size<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> list<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<hr> 
<h3><a id="_366"></a>最小覆盖子串</h3> 
<p><a href="https://leetcode.cn/problems/minimum-window-substring/" rel="nofollow">https://leetcode.cn/problems/minimum-window-substring/</a></p> 
<p><img src="https://images2.imgbox.com/23/2e/EOX6gjWE_o.png" alt="在这里插入图片描述"></p> 
<p>解析：<br> 还是一个子串问题，使用滑动窗口，由于字符串全是英文字母组成，我们可以使用数组来模拟哈希表的映射关系。<br> 这里我们可以使用 count 变量来统计有效字符个数。<br> 因为题目要求出最小覆盖子串，所以难免会有重复或者不存在于 t 的字符出现，所以为了便于判断是否已经容纳好 t 的所有字符，减少循环出现，我们可以使用额外的变量来统计有效字符个数</p> 
<p>进窗口：这个无需多言，直接进</p> 
<p>出窗口和更新数据要小心点，当 count 等于有效字符个数的时候，我们要更新数据，那什么时候出窗口呢？如果按照之前的讨论进窗口——出窗口——更新数据是很难实现的，在最开始的时候，我就跟大家提到更新数据这个操作要按照实际情况来讨论，在这道题目就体现出来了。</p> 
<p>首先更新完数据后，我们希望在下一个滑动窗口循环中能得到一个残缺的字符串，就是 count 要小于 有效字符总数这一个条件，所以在更新数据之后，我们可以进行出窗口的操作，要注意 count 的 变化，既然要达到 count 要小于 有效字符总数这个条件，我们可以在更新数据的时候写一个循环，正好随着出窗口的过程中一起将数据更新。</p> 
<pre><code class="prism language-java"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">minWindow</span><span class="token punctuation">(</span><span class="token class-name">String</span> ss<span class="token punctuation">,</span> <span class="token class-name">String</span> tt<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">String</span> str <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span><span class="token punctuation">(</span>ss<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> tt<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> str<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">int</span> lenS <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token constant">MAX_VALUE</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> hash1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token number">128</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> hash2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token number">128</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> s <span class="token operator">=</span> ss<span class="token punctuation">.</span><span class="token function">toCharArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> t <span class="token operator">=</span> tt<span class="token punctuation">.</span><span class="token function">toCharArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">char</span> x <span class="token operator">:</span> t<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            hash2<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">int</span> len <span class="token operator">=</span> s<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
        <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> size <span class="token operator">=</span> t<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> left <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> right <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> right <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> right<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">//进窗口</span>
            <span class="token keyword">char</span> ch <span class="token operator">=</span> s<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">;</span>
            hash1<span class="token punctuation">[</span>ch<span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>hash1<span class="token punctuation">[</span>ch<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> hash2<span class="token punctuation">[</span>ch<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                count<span class="token operator">++</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>   

            <span class="token keyword">while</span><span class="token punctuation">(</span>count <span class="token operator">==</span> size<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token comment">//更新数据</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>lenS <span class="token operator">&gt;</span> right <span class="token operator">-</span> left <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    lenS <span class="token operator">=</span> right <span class="token operator">-</span> left <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
                    str <span class="token operator">=</span> ss<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>left<span class="token punctuation">,</span>right<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>

                <span class="token comment">//出窗口</span>
                <span class="token keyword">char</span> x <span class="token operator">=</span> s<span class="token punctuation">[</span>left<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>hash1<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token operator">--</span> <span class="token operator">&lt;=</span> hash2<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    count<span class="token operator">--</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> str<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="_431"></a>小结</h2> 
<p>滑动窗口一般用于子数组或者子串问题上</p> 
<p>滑动窗口的基本思路：<br> 1.设置好两个指针 （left = 0, right = 0）<br> 2.进窗口控制 right 指针<br> 3.出窗口控制 left 指针<br> 4.根据实际情况更新数据</p> 
<p>一些注意事项：<br> 如果发现字符串完全由字母组成，可以直接使用数组来模拟哈希表，这样做会方便很多<br> 如果涉及到有效字符或者有效数字的时候，可以引入一个变量 来进行统计</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/1699cd7a829589a46b1fe39ae1471272/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【iOS】——响应者链和事件传递链</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/5269dc325094191510395c1bf77e8b07/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">LeetCode //C - 316. Remove Duplicate Letters</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>