<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>python—正则表达式 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/e1f37fc6eb4ef53b96a1fd6e1aa7ce72/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="python—正则表达式">
  <meta property="og:description" content="文章目录 导入re模块常用的元字符re模块match方法分组贪婪匹配编译 Python中的正则表达式是一种强大的文本处理工具，它使用一种特殊的语法来描述字符串的模式。Python通过re模块提供了对正则表达式的支持。使用正则表达式，你可以进行复杂的文本搜索、替换和验证等操作。 所以判断一个字符串是否是合法的Email的方法是： 创建一个匹配Email的正则表达式用该正则表达式去匹配用户的输入来判断是否合法 导入re模块 在使用正则表达式之前，你需要先导入Python的re模块。
import re 常用的元字符 Python中常见的元字符有：
要匹配变长的字符，在正则表达式中，用*表示任意个字符（包括0个），用&#43;表示至少一个字符，用?表示0个或1个字符，用{n}表示n个字符，用{n,m}表示n~m个字符。
A|B可以匹配A或B，所以(P|p)ython可以匹配’Python’或者’python’。
re模块 Python提供re模块，包含所有正则表达式的功能。由于Python的字符串本身也用\转义，所以要特别注意：
s = ‘ABC\001’ ，s类型为str，即Python最基本的字符串
由于’‘会对’&#39;进行转义，故对应的正则表达式字符串变成：‘ABC\001’
实例：
print(&#34;ABC\\001&#34;) #输出结果：ABC\001 如果使用r标记字符串，那么就不再需要考虑转义的问题了：
s = r’ABC\001’
对应的正则表达式字符串不变：‘ABC\001’
实例：
print(re.match(r&#34;\w&#43;\\\d&#43;&#34;,&#34;ABC\\001&#34;)) #输出结果：&lt;re.Match object; span=(0, 7), match=&#39;ABC\\001&#39;&gt; 推荐在Python中进行正则表达式匹配时，使用r前缀标记字符串
match方法 re模块提供了一个match方法，可以判断正则表达式是否匹配
match()方法判断是否匹配，如果匹配成功，返回一个Match对象，否则返回None
phone_num = &#34;0551-123456789&#34; print(re.match(r&#34;\d{4}-\d{3,8}&#34;,phone_num)) #输出结果：&lt;re.Match object; span=(0, 13), match=&#39;0551-12345678&#39;&gt; match方法通常会结合if选择结构进行判断：
分组 除了简单地判断是否匹配之外，正则表达式还有提取子串的强大功能。用()表示的就是要提取的分组（Group），比如：
t = &#34;19:59:59&#34; print(re.match(r&#34;([0-1]\d|2[0-3]):([0-5]\d):([0-5]\d)&#34;,t).groups()) print(re.match(r&#34;([0-1]\d|2[0-3]):([0-5]\d):([0-5]\d)&#34;,t).group(1)) print(re.match(r&#34;([0-1]\d|2[0-3]):([0-5]\d):([0-5]\d)&#34;,t).group(2)) print(re.match(r&#34;([0-1]\d|2[0-3]):([0-5]\d):([0-5]\d)&#34;,t).group(3)) #输出结果：(&#39;19&#39;, &#39;59&#39;, &#39;59&#39;) #19 #59 #59 如果正则表达式中定义了组，就可以在Match对象上用group()方法提取出子串来。
注意：group(0)永远是与整个正则表达式相匹配的字符串，group(1)、group(2)…表示第1、2、……个子串。
贪婪匹配 正则匹配默认是贪婪匹配，也就是匹配尽可能多的字符
例如，匹配出数字后面的0：">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-07-18T20:57:15+08:00">
    <meta property="article:modified_time" content="2024-07-18T20:57:15+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">python—正则表达式</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#re_6" rel="nofollow">导入re模块</a></li><li><a href="#_12" rel="nofollow">常用的元字符</a></li><li><a href="#re_17" rel="nofollow">re模块</a></li><li><a href="#match_37" rel="nofollow">match方法</a></li><li><a href="#_48" rel="nofollow">分组</a></li><li><a href="#_64" rel="nofollow">贪婪匹配</a></li><li><a href="#_73" rel="nofollow">编译</a></li></ul> 
</div> 
<br> Python中的正则表达式是一种强大的文本处理工具，它使用一种特殊的语法来描述字符串的模式。Python通过re模块提供了对正则表达式的支持。使用正则表达式，你可以进行复杂的文本搜索、替换和验证等操作。 
<br> 所以判断一个字符串是否是合法的Email的方法是： 
<p></p> 
<ul><li>创建一个匹配Email的正则表达式</li><li>用该正则表达式去匹配用户的输入来判断是否合法</li></ul> 
<h2><a id="re_6"></a>导入re模块</h2> 
<p>在使用正则表达式之前，你需要先导入Python的re模块。</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> re
</code></pre> 
<h2><a id="_12"></a>常用的元字符</h2> 
<p>Python中常见的元字符有：<br> <img src="https://images2.imgbox.com/08/80/DCm0x5Y2_o.png" alt="在这里插入图片描述"><br> 要匹配变长的字符，在正则表达式中，用*表示任意个字符（包括0个），用+表示至少一个字符，用?表示0个或1个字符，用{n}表示n个字符，用{n,m}表示n~m个字符。<br> A|B可以匹配A或B，所以(P|p)ython可以匹配’Python’或者’python’。</p> 
<h2><a id="re_17"></a>re模块</h2> 
<p>Python提供re模块，包含所有正则表达式的功能。由于Python的字符串本身也用\转义，所以要特别注意：<br> s = ‘ABC\001’ ，s类型为str，即Python最基本的字符串<br> 由于’‘会对’'进行转义，故对应的正则表达式字符串变成：‘ABC\001’<br> 实例：</p> 
<pre><code class="prism language-python"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"ABC\\001"</span><span class="token punctuation">)</span>
<span class="token comment">#输出结果：ABC\001</span>
</code></pre> 
<p>如果使用r标记字符串，那么就不再需要考虑转义的问题了：<br> s = r’ABC\001’<br> 对应的正则表达式字符串不变：‘ABC\001’<br> 实例：</p> 
<pre><code class="prism language-python"><span class="token keyword">print</span><span class="token punctuation">(</span>re<span class="token punctuation">.</span><span class="token keyword">match</span><span class="token punctuation">(</span><span class="token string">r"\w+\\\d+"</span><span class="token punctuation">,</span><span class="token string">"ABC\\001"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">#输出结果：&lt;re.Match object; span=(0, 7), match='ABC\\001'&gt;</span>
</code></pre> 
<p>推荐在Python中进行正则表达式匹配时，使用r前缀标记字符串</p> 
<h2><a id="match_37"></a>match方法</h2> 
<p>re模块提供了一个match方法，可以判断正则表达式是否匹配<br> match()方法判断是否匹配，如果匹配成功，返回一个Match对象，否则返回None</p> 
<pre><code class="prism language-python">    phone_num <span class="token operator">=</span> <span class="token string">"0551-123456789"</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>re<span class="token punctuation">.</span><span class="token keyword">match</span><span class="token punctuation">(</span><span class="token string">r"\d{4}-\d{3,8}"</span><span class="token punctuation">,</span>phone_num<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">#输出结果：&lt;re.Match object; span=(0, 13), match='0551-12345678'&gt;</span>
</code></pre> 
<p>match方法通常会结合if选择结构进行判断：<br> <img src="https://images2.imgbox.com/83/c4/fTjuGImx_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_48"></a>分组</h2> 
<p>除了简单地判断是否匹配之外，正则表达式还有提取子串的强大功能。用()表示的就是要提取的分组（Group），比如：</p> 
<pre><code class="prism language-python">t <span class="token operator">=</span> <span class="token string">"19:59:59"</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>re<span class="token punctuation">.</span><span class="token keyword">match</span><span class="token punctuation">(</span><span class="token string">r"([0-1]\d|2[0-3]):([0-5]\d):([0-5]\d)"</span><span class="token punctuation">,</span>t<span class="token punctuation">)</span><span class="token punctuation">.</span>groups<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>re<span class="token punctuation">.</span><span class="token keyword">match</span><span class="token punctuation">(</span><span class="token string">r"([0-1]\d|2[0-3]):([0-5]\d):([0-5]\d)"</span><span class="token punctuation">,</span>t<span class="token punctuation">)</span><span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>re<span class="token punctuation">.</span><span class="token keyword">match</span><span class="token punctuation">(</span><span class="token string">r"([0-1]\d|2[0-3]):([0-5]\d):([0-5]\d)"</span><span class="token punctuation">,</span>t<span class="token punctuation">)</span><span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>re<span class="token punctuation">.</span><span class="token keyword">match</span><span class="token punctuation">(</span><span class="token string">r"([0-1]\d|2[0-3]):([0-5]\d):([0-5]\d)"</span><span class="token punctuation">,</span>t<span class="token punctuation">)</span><span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">#输出结果：('19', '59', '59')</span>
<span class="token comment">#19</span>
<span class="token comment">#59</span>
<span class="token comment">#59</span>
</code></pre> 
<p>如果正则表达式中定义了组，就可以在Match对象上用group()方法提取出子串来。<br> 注意：group(0)永远是与整个正则表达式相匹配的字符串，group(1)、group(2)…表示第1、2、……个子串。</p> 
<h2><a id="_64"></a>贪婪匹配</h2> 
<p>正则匹配默认是贪婪匹配，也就是匹配尽可能多的字符<br> 例如，匹配出数字后面的0：</p> 
<pre><code class="prism language-python">num <span class="token operator">=</span> <span class="token string">"1101230000000"</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>re<span class="token punctuation">.</span><span class="token keyword">match</span><span class="token punctuation">(</span><span class="token string">r"^(\d+?)(0+)$"</span><span class="token punctuation">,</span>num<span class="token punctuation">)</span><span class="token punctuation">.</span>groups<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">#输出结果：('110123', '0000000')</span>
</code></pre> 
<p>?结束贪婪匹配，^ 表示行的开头，^\d表示必须以数字开头，$ 表示行的结束，\d$表示必须以数字结束。</p> 
<h2><a id="_73"></a>编译</h2> 
<p>当在Python中使用正则表达式时，re模块内部会干两件事情：</p> 
<ul><li>编译正则表达式，如果正则表达式的字符串本身不合法，会报错</li><li>用编译后的正则表达式去匹配字符串<br> 如果一个正则表达式要重复使用几千次，出于效率的考虑，可以使用compile方法预编译该正则表达式，接下来重复使用时就不需要编译这个步骤了，直接匹配。<br> 实例：</li></ul> 
<pre><code class="prism language-python">num1 <span class="token operator">=</span> <span class="token string">"1201230000000"</span>
num2 <span class="token operator">=</span> <span class="token string">"1101200000000"</span>
num3 <span class="token operator">=</span> <span class="token string">"1201100000000"</span>
re_comp <span class="token operator">=</span> re<span class="token punctuation">.</span><span class="token builtin">compile</span><span class="token punctuation">(</span><span class="token string">r"^(\d+?)(0+)$"</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>re_comp<span class="token punctuation">.</span><span class="token keyword">match</span><span class="token punctuation">(</span>num1<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>re_comp<span class="token punctuation">.</span><span class="token keyword">match</span><span class="token punctuation">(</span>num2<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>re_comp<span class="token punctuation">.</span><span class="token keyword">match</span><span class="token punctuation">(</span>num3<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">#输出结果：</span>
<span class="token comment">#&lt;re.Match object; span=(0, 13), match='1201230000000'&gt;</span>
<span class="token comment">#&lt;re.Match object; span=(0, 13), match='1101200000000'&gt;</span>
<span class="token comment">#&lt;re.Match object; span=(0, 13), match='1201100000000'&gt;</span>

</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/2508d33cbc2ee869c5ed1f35a4e0fcf5/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">国产化低功耗HDMI转VGA方案，大量出货产品，广泛应用在显示器以及广告机产品</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/0455ef6ac136a5b25f759565fa116db2/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">大数据开发之Hadoop</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>