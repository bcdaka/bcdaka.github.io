<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>大数据课堂笔记——lianxi数据库 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/c5b8d676734555c6d0f8ba7799ea7007/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="大数据课堂笔记——lianxi数据库">
  <meta property="og:description" content="创建数据库
create database 库名；
create database lianxi;
打开
use 库名；
use lianxi;
use table 表名；
创建表（主键：primary key ）
create table 表名 (列名1 数据类型1，……);
create table course
(couid char(4),
couname char(10),
teachername char(3)
);
删除表
drop database 数据表名;
显示命令运行结果
show tables;
add 列名 类型 [];
修改表
alter database 数据库名 character set 字符集名;
数据类型：
int
tinyint
smallint
mediumint
bigint
float(m,d)
char
varchar
date
time
datetime
blob
约束表达式：
primary key 主键
auto_increment 从1开始自增">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-04-21T12:30:22+08:00">
    <meta property="article:modified_time" content="2024-04-21T12:30:22+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">大数据课堂笔记——lianxi数据库</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="vhq0j6xsg"><span style="color:#fe2c24;">创建数据库</span></p> 
<p id="ukicpyrbo">create database 库名；</p> 
<p id="vi8n3y7am"><span style="color:#4da8ee;">create database lianxi;</span></p> 
<p id="n02mq41uw"><span style="color:#fe2c24;">打开</span></p> 
<p id="cri0xpo4b">use 库名；</p> 
<p id="rt4dwqaux"><span style="color:#4da8ee;">use lianxi;</span></p> 
<p id="hnlqe4pbi">use table 表名；</p> 
<p id="pfu6t4a8b"><span style="color:#fe2c24;">创建表（主键：primary key ）</span></p> 
<p id="i15ze0dp9">create table 表名 (列名1 数据类型1，……);</p> 
<p id="yz1tv8flh"><span style="color:#4da8ee;">create table course</span></p> 
<p id="s1ro3huft"><span style="color:#4da8ee;">(couid char(4),</span></p> 
<p id="h0qb3oder"><span style="color:#4da8ee;">couname char(10),</span></p> 
<p id="mbloh340z"><span style="color:#4da8ee;">teachername char(3)</span></p> 
<p id="w7n45tz0k"><span style="color:#4da8ee;">);</span></p> 
<p><span style="color:#fe2c24;">删除表</span></p> 
<p>drop database 数据表名;</p> 
<p><span style="color:#fe2c24;">显示命令运行结果</span><br> show tables;</p> 
<p>add 列名 类型 [];</p> 
<p><span style="color:#fe2c24;">修改表</span><br> alter database 数据库名 character set 字符集名;</p> 
<p><span style="color:#fe2c24;">数据类型：</span><br><span style="color:#0d0016;">    int<br>     tinyint<br>     smallint<br>     mediumint<br>     bigint<br>     float(m,d)<br>     char<br>     varchar<br>     date<br>     time<br>     datetime<br>     blob</span></p> 
<p><span style="color:#fe2c24;">约束表达式：</span><br><span style="color:#0d0016;">    primary key 主键<br>     auto_increment 从1开始自增<br>     check(term=1 or sex='1' or depid='1') 在内容里选择<br>     default '男' 默认值<br>     unique 无重复<br>     not null 空值</span></p> 
<p><span style="color:#fe2c24;">增加记录【不用自己填写的或没有的一律填 null】</span><br><span style="color:#0d0016;">insert into 表名 values(表内容); </span></p> 
<p><span style="color:#fe2c24;">建立关系级联更新级联删除</span></p> 
<p><span style="color:#0d0016;">foreign key(字段) references 表名(字段) on update cascade on delete cascade;</span></p> 
<p id="ihfuwvgb4"><span style="color:#fe2c24;">复制表</span></p> 
<p id="stemzquw5"><span style="color:#fe2c24;">结构：</span>create table 新表 like 旧表;</p> 
<p id="adgrfmix8"><span style="color:#4da8ee;">create table stu1 like stu;</span></p> 
<p id="ocleksxzt"><span style="color:#fe2c24;">表：</span>create table 新表 select * form 旧表;</p> 
<p id="c0vikz129"><span style="color:#4da8ee;">create table stu2 select * from stu;</span></p> 
<p id="k2wiy863t"><span style="color:#fe2c24;">插入数据：(必须赋值一一对应，空值填null)</span></p> 
<p id="cvs046g2a">insert into 表名[(字段列表)] values(值列表);</p> 
<p id="sxvzjk6w2"><span style="color:#4da8ee;">insert into stu(stuname,sex,birthday,phone) VALUES('李二','男','1995-1-1','11111111111');</span></p> 
<p id="qxzk58mib">insert into 表名 values(值列表);</p> 
<p id="sxeiubdog"><span style="color:#4da8ee;">insert into stu VALUES(null,'李二','男','1995-1-1',null,'11111111111',null,null,null);</span></p> 
<p id="g5a8hke74"><span style="color:#fe2c24;">为主键添加重复记录时insert出错,replace替换原记录</span></p> 
<p id="sdykh4onv">replace into 表名[(字段列表)] values(值列表);</p> 
<p id="mhestxv23">replace into 表名 values(值列表);</p> 
<p id="vu4m16cpi"><span style="color:#fe2c24;">插入多条记录</span></p> 
<p id="npba59ki7">insert into 表名[(字段列表)] values(值列表1),(值列表2),(……);</p> 
<p id="dikvzg7uj"><span style="color:#4da8ee;">insert into stu(stuname,sex) VALUES('郑霞','女'),('张瑶','女'),('陈成','男');</span></p> 
<p id="krwb48gqu">replace into 表名[(字段列表)] values(值列表),(值列表2),(……);</p> 
<p id="teir2ln8s"><span style="color:#fe2c24;">插入其他表数据</span></p> 
<p id="suw2kxzgr">insert into 目标数据表（字段列表1）select 字段列表2 from 数据表 where 条件；</p> 
<p id="fm8h5xtpg"><span style="color:#4da8ee;">insert into scores1                     insert into stu11(stuid,stuname)</span></p> 
<p id="z4dq3irtk"><span style="color:#4da8ee;">select *                                      select stuid,stuname</span></p> 
<p id="si79mvh2l"><span style="color:#4da8ee;">from scores                               from stu</span></p> 
<p id="i2e0mykdt"><span style="color:#4da8ee;">where score&lt;60;                       where sex='男';</span></p> 
<p id="hk8x9jvrg"><span style="color:#fe2c24;">修改数据</span></p> 
<p id="av03jfnzt">update 表名 set 字段名1=值1,字段名2=值2,……[where 条件];</p> 
<p id="cos637tq5"><span style="color:#4da8ee;">update scores                                update stu</span></p> 
<p id="nuw9rye50"><span style="color:#4da8ee;">set score=score+5                         set phone='未知'</span></p> 
<p id="q0n6hieyo"><span style="color:#4da8ee;">where stuid='20070102';                where phone is null;</span></p> 
<p id="tfrou20w6"><span style="color:#fe2c24;">修改多个表数据</span></p> 
<p id="zl7y4xh09">update 表名 set 列名1=表达式1[,列名2=表达式2，……] where 表.列=表.列 and 条件；</p> 
<p id="hgxs2oqc5"><span style="color:#4da8ee;">update scores,stu                                           update scores,course</span></p> 
<p id="e7ovza0gq"><span style="color:#4da8ee;">set score=score+5                                          set score=score*1.1</span></p> 
<p id="lwmvnj3ty"><span style="color:#4da8ee;">where scores.stuid=stu.stuid and sex='女';    where scores.couid=course.couid and couname='高等数学';</span></p> 
<p id="eaw8r4myh"><span style="color:#fe2c24;">删除记录</span></p> 
<p id="ewd1fiv6x">delete from 表名 [where 条件];</p> 
<p id="d1b7402wl"><span style="color:#4da8ee;">delete from stu                                                                update  course</span></p> 
<p id="gyvmsqz0p"><span style="color:#4da8ee;">where depid='1005' and birthday&gt;'1989-1-1';                 set teachername=''</span></p> 
<p id="selzrgxad"><span style="color:#4da8ee;">                                                                                        where couid='A001';</span></p> 
<p id="knjpocrdb"><span style="color:#fe2c24;">删除多个表的记录</span></p> 
<p id="ncdag2em8">delete from 表名1[,表名2……] using 表名列表 [where 条件];</p> 
<p id="sqhekwzc3"><span style="color:#4da8ee;">delete from scores                                                 delete from stu,scores</span></p> 
<p id="r8ekhp94a"><span style="color:#4da8ee;">using stu,scores                                                     using stu,scores</span></p> 
<p id="dxcjmyz6r"><span style="color:#4da8ee;">where stu.stuid=scores.stuid and sex='女';           where stu.stuid=scores.stuid and sex='男';</span></p> 
<p id="wmj5v72ed"><span style="color:#fe2c24;">只能删除所有记录（默认值从一开始，不会在日志中记录）</span></p> 
<p id="s2abiurct">truncate[table] 表名；</p> 
<p></p> 
<p class="img-center"><img alt="" height="665" id="dvceg3ro9" src="https://images2.imgbox.com/49/a5/a3Btldoj_o.png" width="1200"></p> 
<p></p> 
<h2><span style="color:#fe2c24;"><strong>lianxi数据库：</strong></span></h2> 
<p>create  database  lianxi;</p> 
<p>use  lianxi;</p> 
<p>create table course<br> (couid char(4),<br> couname char(10),<br> teachername char(3)<br> );</p> 
<p>INSERT INTO `course` VALUES ('A001', '英语', '袁圆');<br> INSERT INTO `course` VALUES ('A002', '高等数学', '谭鹃鹃');<br> INSERT INTO `course` VALUES ('B001', 'C语言程序设计', '王大强');<br> INSERT INTO `course` VALUES ('B002', '软件技术基础', '成华');<br> INSERT INTO `course` VALUES ('C001', 'SQL SERVER', '钟恬');<br> INSERT INTO `course` VALUES ('C002', 'VB程序设计', '张海');<br> INSERT INTO `course` VALUES ('C003', 'XML', '殷惠');</p> 
<p>create table dep<br> (depid char(4),<br> depname char(5),<br> director char(3),<br> phone char(11)<br> );</p> 
<p>INSERT INTO `dep` VALUES ('1001', '电子信息系', '吴天露', '08302568968');<br> INSERT INTO `dep` VALUES ('1002', '畜牧兽医系', '张长辉', '08302569541');<br> INSERT INTO `dep` VALUES ('1003', '农学园艺系', '陈齐', '08301254896');<br> INSERT INTO `dep` VALUES ('1004', '建筑工程系', '周洲', '08301478547');<br> INSERT INTO `dep` VALUES ('1005', '经济管理系', '刘伟', '08302569854');</p> 
<p>create table scores<br> (id int primary key auto_increment,<br> stuid int,<br> term char(1),<br> couid char(4),<br> score tinyint<br> );</p> 
<p>INSERT INTO `scores` VALUES (0,20070101, '1', 'A001', 78);<br> INSERT INTO `scores` VALUES (0,20070101, '6', 'A002', 89);<br> INSERT INTO `scores` VALUES (0,20070101, '3', 'B001', 85);<br> INSERT INTO `scores` VALUES (0,20070101, '4', 'B002', 45);<br> INSERT INTO `scores` VALUES (0,20070101, '5', 'C001', 78);<br> INSERT INTO `scores` VALUES (0,20070101, '2', 'C002', 65);<br> INSERT INTO `scores` VALUES (0,20070101, '1', 'C003', 25);<br> INSERT INTO `scores` VALUES (0,20070102, '4', 'A001', 89);<br> INSERT INTO `scores` VALUES (0,20070102, '5', 'A002', 63);<br> INSERT INTO `scores` VALUES (0,20070102, '2', 'B001', 65);<br> INSERT INTO `scores` VALUES (0,20070103, '1', 'B002', 87);<br> INSERT INTO `scores` VALUES (0,20070103, '3', 'C001', 89);<br> INSERT INTO `scores` VALUES (0,20070103, '1', 'C002', 98);<br> INSERT INTO `scores` VALUES (0,20070104, '1', 'C003', 98);<br> INSERT INTO `scores` VALUES (0,20070104, '2', 'A001', 87);<br> INSERT INTO `scores` VALUES (0,20070104, '3', 'A002', 47);<br> INSERT INTO `scores` VALUES (0,20070105, '4', 'A001', 85);<br> INSERT INTO `scores` VALUES (0,20070105, '5', 'A002', 98);<br> INSERT INTO `scores` VALUES (0,20070105, '6', 'B001', 96);<br> INSERT INTO `scores` VALUES (0,20070105, '1', 'B002', 87);<br> INSERT INTO `scores` VALUES (0,20070106, '1', 'A001', 98);<br> INSERT INTO `scores` VALUES (0,20070106, '3', 'A002', 78);<br> INSERT INTO `scores` VALUES (0,20070107, '1', 'A001', 47);<br> INSERT INTO `scores` VALUES (0,20070107, '1', 'A002', 75);<br> INSERT INTO `scores` VALUES (0,20070108, '4', 'A001', 99);<br> INSERT INTO `scores` VALUES (0,20070108, '1', 'A002', 87);<br> INSERT INTO `scores` VALUES (0,20070109, '1', 'C003', 78);<br> INSERT INTO `scores` VALUES (0,20070109, '2', 'C002', 58);<br> INSERT INTO `scores` VALUES (0,20070110, '1', 'C001', 68);<br> INSERT INTO `scores` VALUES (0,20070110, '1', 'C003', 98);</p> 
<p>create table stu<br> (stuid int,<br> stuname char(3),<br> sex enum('男','女'),<br> birthday date,<br> rx_score  smallint,  <br> phone char(12),<br> class char(8),<br> depid char(4),<br> remark varchar(200)<br> );</p> 
<p>INSERT INTO `stu` VALUES (20070101, '张华生', '男', '1989-01-07',400, '13312569854', '07软件技术1', '1001', NULL);<br> INSERT INTO `stu` VALUES (20070102, '刘雪梅', '女', '1989-01-17',500, '13369586963', '06软件技术1', '1001', NULL);<br> INSERT INTO `stu` VALUES (20070103, '何东', '男', '1988-07-24',450, '18936589635', '07计算机技术1', '1001', NULL);<br> INSERT INTO `stu` VALUES (20070104, '康勇', '男', '1987-04-17',430, '18936585745', '07计算机技术2', '1001', NULL);<br> INSERT INTO `stu` VALUES (20070105, '赵琳', '女', '1990-02-02',470, '18812569635', '06畜牧兽医1', '1002', NULL);<br> INSERT INTO `stu` VALUES (20070106, '王春', '女', '1990-04-04',480, '134569852635', '06园林技术1', '1003', NULL);<br> INSERT INTO `stu` VALUES (20070107, '吴苇', '女', '1989-12-23',390, '133698541254', '07建筑工程1', '1004', NULL);<br> INSERT INTO `stu` VALUES (20070108, '陈飞', '男', '1990-05-06',444, '135698541254', '06文秘', '1005', NULL);<br> INSERT INTO `stu` VALUES (20070109, '董成山', '男', '1988-02-05',495, '135485214526', '05市场营销', '1005', NULL);<br> INSERT INTO `stu` VALUES (20070110, '刘小梅', '女', '1990-01-07',505, null, '06市场营销', '1005', NULL);</p> 
<p>create  table  orders<br> (orderid  int  primary key  auto_increment,<br> productid  int,<br> productname   varchar(20),<br> unitprice  decimal(7,2),<br> nums  smallint,<br> customerid  int,<br> orderdate  date);</p> 
<p>insert into  orders values(null,10,'格力变频柜机',10000,100,1111,now());<br> insert into  orders values(null,15,'格力定频柜机',7000,50,1111,now());<br> insert into  orders values(null,18,'格力变频挂机',5000,80,1111,now());<br> insert into  orders values(null,10,'格力变频柜机',10000,50,1112,now());<br> insert into  orders values(null,15,'格力定频柜机',7000,20,1112,now());<br> insert into  orders values(null,18,'格力变频挂机',5000,30,1112,now());<br> insert into  orders values(null,10,'格力变频柜机',10000,20,1113,now());<br> insert into  orders values(null,15,'格力定频柜机',7000,50,1113,now());<br> insert into  orders values(null,18,'格力变频挂机',5000,80,1113,now());<br>  </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b784e7f2f264a00e1a4490860cf51c4a/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【Javascript】encodeURI、encodeURIComponent、decodeURI、decodeURIComponent</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/9dea1df8dd462c08960d7dcbe10ce8ab/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【C&#43;&#43;类和对象】日期类的实现</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>