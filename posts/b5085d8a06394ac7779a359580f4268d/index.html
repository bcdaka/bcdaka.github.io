<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【C语言】预处理详解 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/b5085d8a06394ac7779a359580f4268d/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="【C语言】预处理详解">
  <meta property="og:description" content="前言
上篇博客我们总结了编译与链接，有说过编译里第一步是预处理，那本篇博客将对预处理进行进一步的详细的总结
个人主页：小张同学zkf
若有问题 评论区见
感兴趣就关注一下吧
目录
1. 预定义符号
2. #define 定义常量
3. #define定义宏
4. 带有副作用的宏参数
5. 宏替换的规则
6. 宏和函数的对比
7. #和##
7.1 #运算符
7.2 ## 运算符
8. 命名约定
9. #undef
10. 命令行定义
11. 条件编译
12. 头文件的包含
12.1 头文件被包含的方式
12.1.1 本地文件包含
12.1.2 库文件包含
12.2 嵌套文件包含
13. 其他预处理指令
1. 预定义符号 C语言设置了一些预定义符号， 可以直接使用 ，预定义符号也是在 预处理期间 处理的。 __FILE__ // 进行编译的源文件 __LINE__ //文 件当前的行号 __DATE__ //文 件被编译的日期 __TIME__ //文 件被编译的时间 __STDC__ // 如果编译器遵循 ANSI C ，其值为 1 ，否则未定义 我们来看一下，在vs2022中是否遵循ANSI C（标准C）">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-04-03T20:53:25+08:00">
    <meta property="article:modified_time" content="2024-04-03T20:53:25+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【C语言】预处理详解</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <blockquote> 
 <p><span style="color:#4da8ee;">前言</span></p> 
 <p><span style="color:#0d0016;">上篇博客我们总结了编译与链接，有说过编译里第一步是预处理，那本篇博客将对预处理进行进一步的详细的总结</span></p> 
 <p>个人主页：<a class="link-info" href="https://blog.csdn.net/m0_74091744?spm=1010.2135.3001.5421" title="小张同学zkf">小张同学zkf</a></p> 
 <p><span style="color:#0d0016;">若有问题 评论区见</span></p> 
 <p><span style="color:#0d0016;">感兴趣就关注一下吧</span></p> 
 <p style="text-align:center;"><span style="color:#0d0016;"><img alt="" class="left" src="https://images2.imgbox.com/84/6f/rtVr8Srb_o.gif"></span></p> 
</blockquote> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/81/20/UbgA1S8l_o.gif"></p> 
<p id="main-toc"><strong>目录</strong></p> 
<p id="1.%20%E9%A2%84%E5%AE%9A%E4%B9%89%E7%AC%A6%E5%8F%B7-toc" style="margin-left:0px;"><a href="#1.%20%E9%A2%84%E5%AE%9A%E4%B9%89%E7%AC%A6%E5%8F%B7" rel="nofollow">1. 预定义符号</a></p> 
<p id="2.%20%23define%20%E5%AE%9A%E4%B9%89%E5%B8%B8%E9%87%8F-toc" style="margin-left:0px;"><a href="#2.%20%23define%20%E5%AE%9A%E4%B9%89%E5%B8%B8%E9%87%8F" rel="nofollow">2. #define 定义常量</a></p> 
<p id="3.%20%23define%E5%AE%9A%E4%B9%89%E5%AE%8F-toc" style="margin-left:0px;"><a href="#3.%20%23define%E5%AE%9A%E4%B9%89%E5%AE%8F" rel="nofollow">3. #define定义宏</a></p> 
<p id="4.%20%E5%B8%A6%E6%9C%89%E5%89%AF%E4%BD%9C%E7%94%A8%E7%9A%84%E5%AE%8F%E5%8F%82%E6%95%B0-toc" style="margin-left:0px;"><a href="#4.%20%E5%B8%A6%E6%9C%89%E5%89%AF%E4%BD%9C%E7%94%A8%E7%9A%84%E5%AE%8F%E5%8F%82%E6%95%B0" rel="nofollow">4. 带有副作用的宏参数</a></p> 
<p id="5.%20%E5%AE%8F%E6%9B%BF%E6%8D%A2%E7%9A%84%E8%A7%84%E5%88%99-toc" style="margin-left:0px;"><a href="#5.%20%E5%AE%8F%E6%9B%BF%E6%8D%A2%E7%9A%84%E8%A7%84%E5%88%99" rel="nofollow">5. 宏替换的规则</a></p> 
<p id="6.%20%E5%AE%8F%E5%92%8C%E5%87%BD%E6%95%B0%E7%9A%84%E5%AF%B9%E6%AF%94-toc" style="margin-left:0px;"><a href="#6.%20%E5%AE%8F%E5%92%8C%E5%87%BD%E6%95%B0%E7%9A%84%E5%AF%B9%E6%AF%94" rel="nofollow">6. 宏和函数的对比</a></p> 
<p id="%C2%A07.%20%23%E5%92%8C%23%23-toc" style="margin-left:0px;"><a href="#%C2%A07.%20%23%E5%92%8C%23%23" rel="nofollow"> 7. #和##</a></p> 
<p id="7.1%20%23%E8%BF%90%E7%AE%97%E7%AC%A6-toc" style="margin-left:40px;"><a href="#7.1%20%23%E8%BF%90%E7%AE%97%E7%AC%A6" rel="nofollow">7.1 #运算符</a></p> 
<p id="7.2%20%23%23%20%E8%BF%90%E7%AE%97%E7%AC%A6-toc" style="margin-left:40px;"><a href="#7.2%20%23%23%20%E8%BF%90%E7%AE%97%E7%AC%A6" rel="nofollow">7.2 ## 运算符</a></p> 
<p id="8.%20%E5%91%BD%E5%90%8D%E7%BA%A6%E5%AE%9A-toc" style="margin-left:0px;"><a href="#8.%20%E5%91%BD%E5%90%8D%E7%BA%A6%E5%AE%9A" rel="nofollow">8. 命名约定</a></p> 
<p id="9.%20%23undef-toc" style="margin-left:0px;"><a href="#9.%20%23undef" rel="nofollow">9. #undef</a></p> 
<p id="10.%20%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%AE%9A%E4%B9%89-toc" style="margin-left:0px;"><a href="#10.%20%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%AE%9A%E4%B9%89" rel="nofollow">10. 命令行定义</a></p> 
<p id="11.%20%E6%9D%A1%E4%BB%B6%E7%BC%96%E8%AF%91-toc" style="margin-left:0px;"><a href="#11.%20%E6%9D%A1%E4%BB%B6%E7%BC%96%E8%AF%91" rel="nofollow">11. 条件编译</a></p> 
<p id="12.%20%E5%A4%B4%E6%96%87%E4%BB%B6%E7%9A%84%E5%8C%85%E5%90%AB-toc" style="margin-left:0px;"><a href="#12.%20%E5%A4%B4%E6%96%87%E4%BB%B6%E7%9A%84%E5%8C%85%E5%90%AB" rel="nofollow">12. 头文件的包含</a></p> 
<p id="12.1%20%E5%A4%B4%E6%96%87%E4%BB%B6%E8%A2%AB%E5%8C%85%E5%90%AB%E7%9A%84%E6%96%B9%E5%BC%8F-toc" style="margin-left:40px;"><a href="#12.1%20%E5%A4%B4%E6%96%87%E4%BB%B6%E8%A2%AB%E5%8C%85%E5%90%AB%E7%9A%84%E6%96%B9%E5%BC%8F" rel="nofollow">12.1 头文件被包含的方式</a></p> 
<p id="12.1.1%20%E6%9C%AC%E5%9C%B0%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB-toc" style="margin-left:80px;"><a href="#12.1.1%20%E6%9C%AC%E5%9C%B0%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB" rel="nofollow">12.1.1 本地文件包含</a></p> 
<p id="12.1.2%20%E5%BA%93%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB-toc" style="margin-left:80px;"><a href="#12.1.2%20%E5%BA%93%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB" rel="nofollow">12.1.2 库文件包含</a></p> 
<p id="12.2%20%E5%B5%8C%E5%A5%97%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB-toc" style="margin-left:40px;"><a href="#12.2%20%E5%B5%8C%E5%A5%97%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB" rel="nofollow">12.2 嵌套文件包含</a></p> 
<p id="13.%20%E5%85%B6%E4%BB%96%E9%A2%84%E5%A4%84%E7%90%86%E6%8C%87%E4%BB%A4-toc" style="margin-left:0px;"><a href="#13.%20%E5%85%B6%E4%BB%96%E9%A2%84%E5%A4%84%E7%90%86%E6%8C%87%E4%BB%A4" rel="nofollow">13. 其他预处理指令</a></p> 
<hr id="hr-toc"> 
<p></p> 
<p></p> 
<h2 id="1.%20%E9%A2%84%E5%AE%9A%E4%B9%89%E7%AC%A6%E5%8F%B7"><span style="color:#0d0016;">1. 预定义符号</span></h2> 
<div> 
 <span style="color:#1f2329;">C语言设置了一些预定义符号，</span> 
 <span style="color:#fe2c24;">可以直接使用</span> 
 <span style="color:#1f2329;">，预定义符号也是在</span> 
 <strong><span style="color:#fe2c24;">预处理期间</span></strong> 
 <span style="color:#1f2329;">处理的。 </span> 
</div> 
<blockquote> 
 <div> 
  <div> 
   <span style="color:#2b2f36;">__FILE__ </span> 
   <span style="color:#a0a1a7;"><em>//</em></span> 
   <span style="color:#a0a1a7;"><em>进行编译的源文件 </em></span> 
  </div> 
  <div> 
   <span style="color:#2b2f36;">__LINE__ </span> 
   <span style="color:#a0a1a7;"><em>//文</em></span> 
   <span style="color:#a0a1a7;"><em>件当前的行号 </em></span> 
  </div> 
  <div> 
   <span style="color:#2b2f36;">__DATE__ </span> 
   <span style="color:#a0a1a7;"><em>//文</em></span> 
   <span style="color:#a0a1a7;"><em>件被编译的日期 </em></span> 
  </div> 
  <div> 
   <span style="color:#2b2f36;">__TIME__ </span> 
   <span style="color:#a0a1a7;"><em>//文</em></span> 
   <span style="color:#a0a1a7;"><em>件被编译的时间 </em></span> 
  </div> 
  <div> 
   <span style="color:#2b2f36;">__STDC__ </span> 
   <span style="color:#a0a1a7;"><em>//</em></span> 
   <span style="color:#a0a1a7;"><em>如果编译器遵循</em></span> 
   <span style="color:#a0a1a7;"><em>ANSI C</em></span> 
   <span style="color:#a0a1a7;"><em>，其值为</em></span> 
   <span style="color:#a0a1a7;"><em>1</em></span> 
   <span style="color:#a0a1a7;"><em>，否则未定义 </em></span> 
  </div> 
 </div> 
</blockquote> 
<p>我们来看一下，在vs2022中是否遵循ANSI C（标准C）</p> 
<p><img alt="" height="741" src="https://images2.imgbox.com/1f/d8/dZdPzhTF_o.png" width="1200"></p> 
<p> 由此可见，vs2022不遵循ANSI C</p> 
<p>注：<span style="color:#0d0016;"><span style="background-color:#ff9900;">预定义符号在预处理间就被替换了</span></span></p> 
<hr> 
<h2 id="2.%20%23define%20%E5%AE%9A%E4%B9%89%E5%B8%B8%E9%87%8F"><span style="color:#0d0016;">2. #define 定义常量</span></h2> 
<div> 
 <span style="color:#1f2329;">基本语法：</span> 
</div> 
<blockquote> 
 <div> 
  <div> 
   <span style="color:#4078f2;">#</span> 
   <span style="color:#a626a4;">define</span> 
   <span style="color:#4078f2;"> name stuff </span> 
  </div> 
 </div> 
</blockquote> 
<p style="text-align:center;"><img alt="" class="left" height="200" src="https://images2.imgbox.com/df/14/1INCm4yt_o.gif" width="200"></p> 
<blockquote> 
 <div> 
  <span style="color:#4078f2;">#</span> 
  <span style="color:#a626a4;">define</span> 
  <span style="color:#4078f2;"> MAX 1000 </span> 
 </div> 
 <div> 
  <span style="color:#4078f2;">#</span> 
  <span style="color:#a626a4;">define</span> 
  <span style="color:#4078f2;"> reg register </span> 
  <span style="color:#a0a1a7;"><em>//</em></span> 
  <span style="color:#a0a1a7;"><em>为</em></span> 
  <span style="color:#a0a1a7;"><em> register</em></span> 
  <span style="color:#a0a1a7;"><em>这个关键字，创建⼀个简短的名字 </em></span> 
 </div> 
 <div> 
  <span style="color:#4078f2;">#</span> 
  <span style="color:#a626a4;">define</span> 
  <span style="color:#4078f2;"> do_forever for(;;) </span> 
  <span style="color:#a0a1a7;"><em>//用</em></span> 
  <span style="color:#a0a1a7;"><em>更形象的符号来替换⼀种实现 </em></span> 
 </div> 
 <div> 
  <span style="color:#4078f2;">#</span> 
  <span style="color:#a626a4;">define</span> 
  <span style="color:#4078f2;"> CASE break;case </span> 
  <span style="color:#a0a1a7;"><em>//</em></span> 
  <span style="color:#a0a1a7;"><em>在写</em></span> 
  <span style="color:#a0a1a7;"><em>case</em></span> 
  <span style="color:#a0a1a7;"><em>语句的时候⾃动把</em></span> 
  <span style="color:#a0a1a7;"><em> break</em></span> 
  <span style="color:#a0a1a7;"><em>写上。 </em></span> 
 </div> 
 <div> 
  <span style="color:#a0a1a7;"><em>// </em></span> 
  <span style="color:#a0a1a7;"><em>如果定义的</em></span> 
  <span style="color:#a0a1a7;"><em> stuff</em></span> 
  <span style="color:#a0a1a7;"><em>过⻓，可以分成⼏行写，除了最后⼀⾏外，每⾏的后⾯都加⼀个反斜杠</em></span> 
  <span style="color:#a0a1a7;"><em>(</em></span> 
  <span style="color:#a0a1a7;"><em>续⾏ </em></span> 
 </div> 
 <div> 
  <span style="color:#a0a1a7;"><em>符</em></span> 
  <span style="color:#a0a1a7;"><em>)</em></span> 
  <span style="color:#a0a1a7;"><em>。 </em></span> 
 </div> 
 <div> 
  <span style="color:#4078f2;">#</span> 
  <span style="color:#a626a4;">define</span> 
  <span style="color:#4078f2;"> DEBUG_PRINT printf(</span> 
  <span style="color:#50a14f;">"file:%s\tline:%d\t \ </span> 
 </div> 
 <div> 
  <span style="color:#50a14f;">date:%s\ttime:%s\n"</span> 
  <span style="color:#4078f2;"> ,\ </span> 
 </div> 
 <div> 
  <span style="color:#4078f2;">__FILE__,__LINE__ , \ </span> 
 </div> 
 <div> 
  <span style="color:#4078f2;">__DATE__,__TIME__ ) </span> 
 </div> 
</blockquote> 
<p>注：<span style="background-color:#a2e043;">上面“\”是续行符</span></p> 
<p> 我们想一下，在<span style="color:#1f2329;">define定义标识符的时候，要不要在最后加上---</span><strong><span style="color:#fe2c24;">“;”</span></strong></p> 
<p><span style="color:#1f2329;">比如： </span></p> 
<blockquote> 
 <div> 
  <span style="color:#4078f2;">#</span> 
  <span style="color:#a626a4;">define</span> 
  <span style="color:#4078f2;"> MAX 1000; </span> 
 </div> 
 <div> 
  <span style="color:#4078f2;">#</span> 
  <span style="color:#a626a4;">define</span> 
  <span style="color:#4078f2;"> MAX 1000 </span> 
 </div> 
</blockquote> 
<p> <span style="color:#1f2329;">建议不要加上 </span><strong><span style="color:#fe2c24;">;  </span></strong><span style="color:#1f2329;">   </span><span style="color:#1f2329;">,这样容易导致问题。</span></p> 
<div> 
 <span style="color:#1f2329;">比如下面的场景：</span> 
</div> 
<blockquote> 
 <div> 
  <div> 
   <span style="color:#a626a4;">if</span> 
   <span style="color:#2b2f36;">(condition) </span> 
  </div> 
  <div> 
   <span style="color:#2b2f36;">max = MAX; </span> 
  </div> 
  <div> 
   <span style="color:#a626a4;">else </span> 
  </div> 
  <div> 
   <span style="color:#2b2f36;">max = </span> 
   <span style="color:#986801;">0</span> 
   <span style="color:#2b2f36;">; </span> 
  </div> 
 </div> 
</blockquote> 
<div> 
 <span style="color:#1f2329;">如果是加了分号的情况，等替换后，if和else之间就是2条语句，而没有大括号的时候，if后边只能有一条语句。这里会出现语法错误。 </span> 
</div> 
<div> 
 <hr> 
 <h2 id="3.%20%23define%E5%AE%9A%E4%B9%89%E5%AE%8F"><span style="color:#0d0016;">3. #define定义宏</span></h2> 
 <div> 
  <span style="color:#1f2329;">#define机制包括了一个规定，允许把参数替换到文本中，这种实现通常称为宏（macro）或定义宏（define macro）。 </span> 
 </div> 
 <div> 
  <div> 
   <span style="color:#1f2329;">下面是宏的申明方式：</span> 
  </div> 
  <blockquote> 
   <div> 
    <div> 
     <span style="color:#4078f2;">#</span> 
     <span style="color:#a626a4;">define</span> 
     <span style="color:#4078f2;"> name( parament-list ) stuff</span> 
    </div> 
   </div> 
  </blockquote> 
 </div> 
</div> 
<div> 
 <div> 
  <span style="color:#1f2329;">其中的 </span> 
  <span style="color:#1f2329;">parament-list </span> 
  <span style="color:#1f2329;">是一个由逗号隔开的符号表，它们可能出现在stuff中。</span> 
 </div> 
 <div> 
  <div> 
   <span style="color:#fe2c24;">注意：</span> 
  </div> 
  <div> 
   <blockquote> 
    <div> 
     <span style="color:#646a73;">参数列表的左括号必须与name紧邻，如果两者之间有任何空白存在，参数列表就会被解释为stuff的一部分。 </span> 
    </div> 
   </blockquote> 
  </div> 
 </div> 
</div> 
<p style="text-align:center;"><img alt="" class="left" height="200" src="https://images2.imgbox.com/14/9e/bMXXbZhA_o.gif" width="200"></p> 
<blockquote> 
 <p> <span style="color:#4078f2;">#</span><span style="color:#a626a4;">define</span><span style="color:#4078f2;"> SQUARE( x ) x * x</span></p> 
</blockquote> 
<div> 
 <span style="color:#1f2329;">这个宏接收一个参数 </span> 
 <span style="color:#1f2329;">x </span> 
 <span style="color:#1f2329;">.如果在上述声明之后，你把 </span> 
 <span style="color:#1f2329;">SQUARE( 5 ); </span> 
 <span style="color:#1f2329;">置于程序中，预处理器就会用</span> 
</div> 
<div> 
 <span style="color:#1f2329;">下面这个表达式替换上面的表达式：5*5</span> 
</div> 
<div> 
 <div> 
  <strong><span style="color:#ff9900;">警告：</span></strong> 
 </div> 
 <div> 
  <div> 
   <span style="color:#1f2329;">这个宏存在一个问题： </span> 
  </div> 
  <div> 
   <span style="color:#1f2329;">观察下面的代码段： </span> 
  </div> 
  <blockquote> 
   <div> 
    <div> 
     <span style="color:#986801;">int</span> 
     <span style="color:#2b2f36;"> a = </span> 
     <span style="color:#986801;">5</span> 
     <span style="color:#2b2f36;">; </span> 
    </div> 
    <div> 
     <span style="color:#c18401;">printf</span> 
     <span style="color:#2b2f36;">(</span> 
     <span style="color:#50a14f;">"%d\n"</span> 
     <span style="color:#2b2f36;"> ,SQUARE( a + </span> 
     <span style="color:#986801;">1</span> 
     <span style="color:#2b2f36;">) ); </span> 
    </div> 
   </div> 
  </blockquote> 
 </div> 
</div> 
<p><span style="color:#1f2329;">乍一看，你可能觉得这段代码将打印36，事实上它将打印11，为什么呢？</span></p> 
<p style="text-align:center;"><span style="color:#1f2329;"><img alt="" class="left" height="100" src="https://images2.imgbox.com/cd/dd/dTWY7nHx_o.gif" width="100"></span> </p> 
<div> 
 <span style="color:#1f2329;">替换文本时，参数x被替换成a + 1,所以这条语句实际上变成了：</span> 
</div> 
<blockquote> 
 <div> 
  <div> 
   <span style="color:#c18401;">printf</span> 
   <span style="color:#2b2f36;"> (</span> 
   <span style="color:#50a14f;">"%d\n"</span> 
   <span style="color:#2b2f36;">,a + </span> 
   <span style="color:#986801;">1</span> 
   <span style="color:#2b2f36;"> * a + </span> 
   <span style="color:#986801;">1</span> 
   <span style="color:#2b2f36;"> ); </span> 
  </div> 
 </div> 
</blockquote> 
<div> 
 <span style="color:#1f2329;">这样就比较清晰了，由替换产生的表达式并没有按照预想的次序进行求值。</span> 
</div> 
<div> 
 <div> 
  <span style="color:#1f2329;">在宏定义上加上两个括号，这个问题便轻松的解决了：</span> 
 </div> 
 <blockquote> 
  <div> 
   <div> 
    <span style="color:#4078f2;">#</span> 
    <span style="color:#a626a4;">define</span> 
    <span style="color:#4078f2;"> SQUARE(x) (x) * (x) </span> 
   </div> 
  </div> 
 </blockquote> 
 <p><span style="color:#1f2329;">这样预处理之后就产生了预期的效果： </span></p> 
 <blockquote> 
  <div> 
   <span style="color:#c18401;">printf</span> 
   <span style="color:#2b2f36;"> (</span> 
   <span style="color:#50a14f;">"%d\n"</span> 
   <span style="color:#2b2f36;">,(a + </span> 
   <span style="color:#986801;">1</span> 
   <span style="color:#2b2f36;">) * (a + </span> 
   <span style="color:#986801;">1</span> 
   <span style="color:#2b2f36;">) ); </span> 
  </div> 
 </blockquote> 
 <p> <span style="color:#1f2329;">这里还有一个宏定义：</span></p> 
 <blockquote> 
  <div> 
   <span style="color:#4078f2;">#</span> 
   <span style="color:#a626a4;">define</span> 
   <span style="color:#4078f2;"> DOUBLE(x) (x) + (x)</span> 
  </div> 
 </blockquote> 
 <p> <span style="color:#1f2329;">定义中我们使用了括号，想避免之前的问题，但是这个宏可能会出现新的错误。 </span></p> 
 <blockquote> 
  <div> 
   <span style="color:#986801;">int</span> 
   <span style="color:#2b2f36;"> a = </span> 
   <span style="color:#986801;">5</span> 
   <span style="color:#2b2f36;">; </span> 
  </div> 
  <div> 
   <span style="color:#c18401;">printf</span> 
   <span style="color:#2b2f36;">(</span> 
   <span style="color:#50a14f;">"%d\n"</span> 
   <span style="color:#2b2f36;"> ,</span> 
   <span style="color:#986801;">10</span> 
   <span style="color:#2b2f36;"> * DOUBLE(a)); </span> 
  </div> 
 </blockquote> 
 <div> 
  <span style="color:#1f2329;">这将打印什么值呢？看上去，好像打印100，但事实上打印的是55</span> 
 </div> 
 <div> 
  <span style="color:#1f2329;">我们发现替换之后： </span> 
 </div> 
 <blockquote> 
  <div> 
   <div> 
    <span style="color:#c18401;">printf</span> 
    <span style="color:#2b2f36;"> (</span> 
    <span style="color:#50a14f;">"%d\n"</span> 
    <span style="color:#2b2f36;">,</span> 
    <span style="color:#986801;">10</span> 
    <span style="color:#2b2f36;"> * (</span> 
    <span style="color:#986801;">5</span> 
    <span style="color:#2b2f36;">) + (</span> 
    <span style="color:#986801;">5</span> 
    <span style="color:#2b2f36;">));</span> 
   </div> 
  </div> 
 </blockquote> 
 <div> 
  <span style="color:#1f2329;">乘法运算先于宏定义的加法，所以出现了 </span> 
  <span style="color:#1f2329;">55 </span> 
  <span style="color:#1f2329;">. </span> 
 </div> 
 <div> 
  <span style="color:#1f2329;">这个问题的解决办法是在宏定义表达式两边加上一对括号就可以了。 </span> 
 </div> 
 <blockquote> 
  <div> 
   <div> 
    <span style="color:#4078f2;">#</span> 
    <span style="color:#a626a4;">define</span> 
    <span style="color:#4078f2;"> DOUBLE( x) ( ( x ) + ( x ) )</span> 
   </div> 
  </div> 
 </blockquote> 
</div> 
<div> 
 <span style="color:#fe2c24;">提示： </span> 
</div> 
<blockquote> 
 <div> 
  <span style="color:#646a73;">所以用于对数值表达式进行求值的宏定义都应该用这种方式加上括号，避免在使用宏时由于参数中的操作符或邻近操作符之间不可预料的相互作用。 </span> 
 </div> 
</blockquote> 
<div style="text-align:center;"> 
 <img alt="" class="left" height="150" src="https://images2.imgbox.com/6c/73/ZfLAbPV9_o.jpg" width="150"> 
</div> 
<div> 
 <span style="color:#fe2c24;"><strong><span style="background-color:#38d8f0;">写宏一定要考虑优先级和结合性，这个很重要！！！！！！！！！！！！</span></strong></span> 
</div> 
<p><span style="color:#fe2c24;"><strong><span style="background-color:#38d8f0;">该加括号就加括号 ！！！！！！！</span></strong></span></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<div> 
 <hr> 
 <h2 id="4.%20%E5%B8%A6%E6%9C%89%E5%89%AF%E4%BD%9C%E7%94%A8%E7%9A%84%E5%AE%8F%E5%8F%82%E6%95%B0"><span style="color:#0d0016;">4. 带有副作用的宏参数</span></h2> 
 <div> 
  <span style="color:#1f2329;">当宏参数在宏的定义中出现超过一次的时候，如果参数带有副作用，那么你在使用这个宏的时候就可能出现危险，导致不可预测的后果。副作用就是表达式求值的时候出现的永久性效果。 </span> 
 </div> 
 <div style="text-align:center;"> 
  <span style="color:#1f2329;"><img alt="" class="left" height="100" src="https://images2.imgbox.com/58/44/w3zvVQH0_o.gif" width="200"></span> 
 </div> 
</div> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<blockquote> 
 <div> 
  <span style="color:#646a73;">1 </span> 
  <span style="color:#2b2f36;">x+</span> 
  <span style="color:#986801;">1</span> 
  <span style="color:#2b2f36;">;</span> 
  <span style="color:#a0a1a7;"><em>//</em></span> 
  <span style="color:#a0a1a7;"><em>不带副作⽤ </em></span> 
 </div> 
 <div> 
  <span style="color:#646a73;">2 </span> 
  <span style="color:#2b2f36;">x++;</span> 
  <span style="color:#a0a1a7;"><em>//</em></span> 
  <span style="color:#a0a1a7;"><em>带有副作⽤ </em></span> 
 </div> 
</blockquote> 
<p> <span style="color:#1f2329;">MAX宏可以证明具有副作用的参数所引起的问题。 </span></p> 
<blockquote> 
 <div> 
  <span style="color:#4078f2;">#</span> 
  <span style="color:#a626a4;">define</span> 
  <span style="color:#4078f2;"> MAX(a, b) ( (a) &gt; (b) ? (a) : (b) ) </span> 
 </div> 
 <div> 
  <div> 
   <span style="color:#2b2f36;">... </span> 
  </div> 
  <div> 
   <div> 
    <span style="color:#2b2f36;">x = </span> 
    <span style="color:#986801;">5</span> 
    <span style="color:#2b2f36;">; </span> 
   </div> 
   <div> 
    <span style="color:#646a73;"> y</span> 
    <span style="color:#2b2f36;"> = </span> 
    <span style="color:#986801;">8</span> 
    <span style="color:#2b2f36;">; </span> 
   </div> 
   <div> 
    <span style="color:#2b2f36;">z = MAX(x++, y++); </span> 
   </div> 
   <div> 
    <span style="color:#646a73;"> </span> 
    <span style="color:#c18401;">printf</span> 
    <span style="color:#2b2f36;">(</span> 
    <span style="color:#50a14f;">"x=%d y=%d z=%d\n"</span> 
    <span style="color:#2b2f36;">, x, y, z);</span> 
    <span style="color:#a0a1a7;"><em>//</em></span> 
    <span style="color:#a0a1a7;"><em>输出的结果是什么？</em></span> 
   </div> 
  </div> 
 </div> 
</blockquote> 
<p> <span style="color:#1f2329;">这里我们得知道预处理器处理之后的结果是什么：</span></p> 
<blockquote> 
 <div> 
  <span style="color:#2b2f36;">z = ( (x++) &gt; (y++) ? (x++) : (y++));</span> 
 </div> 
</blockquote> 
<p> 第一个x++是5，第一个y++是8,5&lt;8是假,此刻x是6，y是9，执行第二个y++，那返回的值是9，z就为9，第二个y++之后，y最后为10,</p> 
<p><span style="color:#1f2329;">输出的结果是：x=6 y=10 z=9</span></p> 
<hr> 
<h2 id="5.%20%E5%AE%8F%E6%9B%BF%E6%8D%A2%E7%9A%84%E8%A7%84%E5%88%99"><span style="color:#0d0016;">5. 宏替换的规则</span></h2> 
<div> 
 <span style="color:#1f2329;">在程序中扩展#define定义符号和宏时，需要涉及几个步骤。 </span> 
</div> 
<div> 
 <span style="color:#1456f0;">1. </span> 
 <span style="color:#1f2329;">在调用宏时，首先对参数进行检查，看看是否包含任何由#define定义的符号。如果是，它们⾸先被替换。 </span> 
</div> 
<div> 
 <span style="color:#1456f0;">2. </span> 
 <span style="color:#1f2329;">替换文本随后被插入到程序中原来文本的位置。对于宏，参数名被他们的值所替换。 </span> 
</div> 
<div> 
 <span style="color:#1456f0;">3. </span> 
 <span style="color:#1f2329;">最后，再次对结果文件进行扫描，看看它是否包含任何由#define定义的符号。如果是，就重复上述处理过程。 </span> 
</div> 
<div> 
 <div> 
  <span style="color:#fe2c24;">注意：</span> 
 </div> 
 <div> 
  <div> 
   <span style="color:#1456f0;"><span style="background-color:#a2e043;">1. </span></span> 
   <span style="color:#fe2c24;"><span style="background-color:#a2e043;">宏参数</span></span> 
   <span style="color:#1f2329;"><span style="background-color:#a2e043;">和</span></span> 
   <span style="color:#fe2c24;"><span style="background-color:#a2e043;">#define 定义</span></span> 
   <span style="color:#1f2329;"><span style="background-color:#a2e043;">中可以出现其他#define定义的符号。但是对于宏，不能出现递归。 </span></span> 
  </div> 
  <div> 
   <span style="color:#1456f0;"><span style="background-color:#a2e043;">2. </span></span> 
   <span style="color:#1f2329;"><span style="background-color:#a2e043;">当预处理器搜索#define定义的符号的时候，字符串常量的内容并不被搜索。 </span></span> 
  </div> 
  <div> 
   <hr> 
   <h2 id="6.%20%E5%AE%8F%E5%92%8C%E5%87%BD%E6%95%B0%E7%9A%84%E5%AF%B9%E6%AF%94"><span style="color:#0d0016;">6. 宏和函数的对比</span></h2> 
   <div> 
    <span style="color:#1f2329;">宏通常被应用于执行简单的运算。 </span> 
   </div> 
   <div> 
    <span style="color:#1f2329;">比如在两个数中找出较大的一个时，写成下面的宏，更有优势一些。</span> 
   </div> 
   <blockquote> 
    <div> 
     <div> 
      <span style="color:#4078f2;">#</span> 
      <span style="color:#a626a4;">define</span> 
      <span style="color:#4078f2;"> MAX(a, b) ((a)&gt;(b)?(a):(b)) </span> 
     </div> 
    </div> 
   </blockquote> 
  </div> 
 </div> 
</div> 
<p> <span style="color:#1f2329;">那为什么不用函数来完成这个任务？</span></p> 
<p style="text-align:center;"><span style="color:#1f2329;"><img alt="" class="left" height="200" src="https://images2.imgbox.com/12/cf/vIrGqaJM_o.gif" width="200"></span></p> 
<p></p> 
<div> 
 <span style="color:#1f2329;">原因有二： </span> 
</div> 
<blockquote> 
 <div> 
  <span style="color:#1456f0;">1. </span> 
  <span style="color:#0d0016;">用</span> 
  <span style="color:#1f2329;">于调用函数和从函数返回的代码可能比实际执行这个小型计算工作所需要的时间更多。      所以宏比函数在程序的规模和速度方面更胜一筹。 </span> 
 </div> 
 <div> 
  <span style="color:#1456f0;">2. </span> 
  <span style="color:#1f2329;">更为重要的是函数的参数必须声明为特定的类型。所以函数只能在类型合适的表达式上使      用。反之这个宏可以适用于整形、长整型、浮点型等，甚至可以把类型当做参数传进去比 </span> 
  <span style="color:#1f2329;">。宏的参数是类型无关的，无需进行类型比较。 </span> 
 </div> 
</blockquote> 
<p> <strong><span style="color:#1f2329;">和函数相比宏的劣势：</span></strong></p> 
<div> 
 <span style="color:#1456f0;">1. </span> 
 <span style="color:#1f2329;">每次使用宏的时候，一份宏定义的代码将插入到程序中。除非宏比较短，否则可能大幅度增加程序的长度，如果不断调用这个宏，那程序长度不断增大，空间也会增大，反之函数永远调用的是那一块空间函数，在这个方面函数比较简便。 </span> 
</div> 
<div> 
 <span style="color:#1456f0;">2. </span> 
 <span style="color:#1f2329;">宏是没法调试的。 </span> 
</div> 
<div> 
 <span style="color:#1456f0;">3. </span> 
 <span style="color:#1f2329;">宏由于类型无关，也就不够严谨。 </span> 
</div> 
<div> 
 <span style="color:#1456f0;">4. </span> 
 <span style="color:#1f2329;">宏可能会带来运算符优先级的问题，导致程容易出现错。 </span> 
</div> 
<div></div> 
<div> 
 <div> 
  <span style="color:#1f2329;">宏有时候可以做函数做不到的事情。比如：宏的参数可以出现<strong>类型</strong>，但是函数做不到。</span> 
 </div> 
 <blockquote> 
  <div> 
   <span style="color:#4078f2;">#</span> 
   <span style="color:#a626a4;">define</span> 
   <span style="color:#4078f2;"> MALLOC(num, type)\ </span> 
  </div> 
  <div> 
   <span style="color:#4078f2;"> (type </span> 
   <span style="color:#4078f2;"><em>)malloc(num </em></span> 
   <span style="color:#4078f2;">sizeof(type)) </span> 
  </div> 
  <div> 
   <span style="color:#2b2f36;"> ... </span> 
  </div> 
  <div> 
   <span style="color:#646a73;"> </span> 
   <span style="color:#a0a1a7;"><em>//</em></span> 
   <span style="color:#a0a1a7;"><em>使用</em></span> 
  </div> 
  <div> 
   <span style="color:#2b2f36;"> MALLOC(</span> 
   <span style="color:#986801;">10</span> 
   <span style="color:#2b2f36;">, </span> 
   <span style="color:#986801;">int</span> 
   <span style="color:#2b2f36;">);</span> 
   <span style="color:#a0a1a7;"><em>//</em></span> 
   <span style="color:#a0a1a7;"><em>类型作为参数 </em></span> 
  </div> 
  <div></div> 
  <div> 
   <span style="color:#646a73;"> </span> 
   <span style="color:#a0a1a7;"><em>//</em></span> 
   <span style="color:#a0a1a7;"><em>预处理器替换之后： </em></span> 
  </div> 
  <div> 
   <span style="color:#2b2f36;"> (</span> 
   <span style="color:#986801;">int</span> 
   <span style="color:#2b2f36;"> *</span> 
   <span style="color:#2b2f36;"><em>)</em></span> 
   <span style="color:#c18401;"><em>malloc</em></span> 
   <span style="color:#2b2f36;"><em>(</em></span> 
   <span style="color:#986801;"><em>10 </em></span> 
   <span style="color:#a626a4;">sizeof</span> 
   <span style="color:#2b2f36;">(</span> 
   <span style="color:#986801;">int</span> 
   <span style="color:#2b2f36;">));</span> 
  </div> 
 </blockquote> 
</div> 
<div> 
 <strong><span style="color:#1f2329;">宏和函数的一个对比</span></strong> 
</div> 
<div> 
 <img alt="" height="775" src="https://images2.imgbox.com/42/2d/ZL3zob6v_o.png" width="1153"> 
</div> 
<blockquote> 
 <p><span style="color:#4da8ee;">补充</span></p> 
 <p>这里我们补充一个奇怪的东西，在c++里面有个内联函数（inline）它具有宏的特点，也有函数的特点，我们先简单了解下，等到c++再详细总解<img alt="" class="left" height="225" src="https://images2.imgbox.com/c3/68/zGPYitqt_o.gif" width="300"></p> 
</blockquote> 
<p></p> 
<hr> 
<h2 id="%C2%A07.%20%23%E5%92%8C%23%23"><span style="color:#0d0016;"> 7. #和##</span><span style="color:#1f2329;"> </span></h2> 
<h3 id="7.1%20%23%E8%BF%90%E7%AE%97%E7%AC%A6"><span style="color:#0d0016;">7.1 #运算符</span></h3> 
<div> 
 <span style="color:#1f2329;">#运算符将宏的一个参数转换为字符串字面量。它仅允许出现在带参数的宏的替换列表中。 </span> 
</div> 
<div> 
 <span style="color:#1f2329;">#运算符所执行的操作可以理解为”字符串化“。 </span> 
</div> 
<div> 
 <span style="color:#1f2329;">当我们有一个变量 </span> 
 <span style="color:#1f2329;">int a = 10; </span> 
 <span style="color:#1f2329;">的时候，我们想打印出： </span> 
 <span style="color:#1f2329;">the value of a is 10 </span> 
 <span style="color:#1f2329;">. </span> 
</div> 
<div> 
 <span style="color:#1f2329;">就可以写成：</span> 
</div> 
<blockquote> 
 <div> 
  <div> 
   <span style="color:#4078f2;">#</span> 
   <span style="color:#a626a4;">define</span> 
   <span style="color:#4078f2;"> PRINT(n) printf(</span> 
   <span style="color:#50a14f;">"the value of "</span> 
   <span style="color:#4078f2;">#n </span> 
   <span style="color:#50a14f;">" is %d"</span> 
   <span style="color:#4078f2;">, n); </span> 
  </div> 
 </div> 
</blockquote> 
<div> 
 <span style="color:#1f2329;">当我们按照下面的方式调用的时候： </span> 
</div> 
<div> 
 <span style="color:#1f2329;">PRINT(a);//当我们把a替换到宏的体内时，就出现了#a，而#a就是转换为"a"，时一个字符串 </span> 
</div> 
<div></div> 
<p> <span style="color:#1f2329;">代码就会被预处理为：</span></p> 
<blockquote> 
 <div> 
  <span style="color:#c18401;">printf</span> 
  <span style="color:#2b2f36;">(</span> 
  <span style="color:#50a14f;">"the value of ""a" " is %d"</span> 
  <span style="color:#2b2f36;">, a);</span> 
 </div> 
</blockquote> 
<p><span style="color:#1f2329;">运行代码就能在屏幕上打印： </span></p> 
<blockquote> 
 <div> 
  <span style="color:#2b2f36;">the value of a is </span> 
  <span style="color:#986801;">10</span> 
 </div> 
</blockquote> 
<h3 id="7.2%20%23%23%20%E8%BF%90%E7%AE%97%E7%AC%A6"><span style="color:#0d0016;">7.2 ## 运算符</span></h3> 
<div> 
 <span style="color:#1f2329;">## </span> 
 <span style="color:#1f2329;">可以把位于它两边的符号合成一个符号，它允许宏定义从分离的文本片段创建标识符。 </span> 
 <span style="color:#1f2329;">## </span> 
 <span style="color:#1f2329;">被称 </span> 
</div> 
<div> 
 <span style="color:#1f2329;">为记号粘合</span> 
</div> 
<div> 
 <span style="color:#1f2329;">这样的连接必须产生一个合法的标识符。否则其结果就是未定义的。 </span> 
</div> 
<div> 
 <span style="color:#1f2329;">这里我们想想，写一个函数求2个数的较大值的时候，不同的数据类型就得写不同的函数。 </span> 
</div> 
<p>比<span style="color:#1f2329;">如： </span></p> 
<blockquote> 
 <div> 
  <span style="color:#986801;">int </span> 
  <span style="color:#4078f2;">int_max</span> 
  <span style="color:#2b2f36;">(</span> 
  <span style="color:#986801;">int</span> 
  <span style="color:#2b2f36;"> x, </span> 
  <span style="color:#986801;">int</span> 
  <span style="color:#2b2f36;"> y) </span> 
 </div> 
 <div> 
  <span style="color:#2b2f36;">{ </span> 
 </div> 
 <div> 
  <span style="color:#a626a4;">return</span> 
  <span style="color:#2b2f36;"> x&gt;y?x:y; </span> 
 </div> 
 <div> 
  <span style="color:#2b2f36;">} </span> 
 </div> 
 <div> 
  <span style="color:#986801;">float </span> 
  <span style="color:#4078f2;">float_max</span> 
  <span style="color:#2b2f36;">(</span> 
  <span style="color:#986801;">float</span> 
  <span style="color:#2b2f36;"> x, </span> 
  <span style="color:#986801;">float</span> 
  <span style="color:#2b2f36;"> y) </span> 
 </div> 
 <div> 
  <span style="color:#2b2f36;">{ </span> 
 </div> 
 <div> 
  <span style="color:#a626a4;">return</span> 
  <span style="color:#2b2f36;"> x&gt;yx:y; </span> 
 </div> 
 <div> 
  <span style="color:#2b2f36;">} </span> 
 </div> 
</blockquote> 
<p> <span style="color:#1f2329;">但是这样写起来太繁琐了，现在我们这样写代码试试： </span></p> 
<blockquote> 
 <div> 
  <span style="color:#a0a1a7;"><em>//</em></span> 
  <span style="color:#a0a1a7;"><em>宏定义 </em></span> 
 </div> 
 <div> 
  <span style="color:#4078f2;">#</span> 
  <span style="color:#a626a4;">define</span> 
  <span style="color:#4078f2;"> GENERIC_MAX(type) \ </span> 
 </div> 
 <div> 
  <span style="color:#4078f2;">type type##_max(type x, type y)\ </span> 
 </div> 
 <div> 
  <span style="color:#4078f2;">{ \ </span> 
 </div> 
 <div> 
  <span style="color:#4078f2;">return (x&gt;y?x:y); \ </span> 
 </div> 
 <div> 
  <span style="color:#4078f2;">} </span> 
 </div> 
</blockquote> 
<p> <span style="color:#1f2329;">使用宏，定义不同函数</span></p> 
<blockquote> 
 <div> 
  <span style="color:#2b2f36;">GENERIC_MAX(</span> 
  <span style="color:#986801;">int</span> 
  <span style="color:#2b2f36;">) </span> 
 </div> 
 <div> 
  <span style="color:#a0a1a7;"><em>//</em></span> 
  <span style="color:#a0a1a7;"><em>替换到宏体内后</em></span> 
  <span style="color:#a0a1a7;"><em>int##_max </em></span> 
  <span style="color:#a0a1a7;"><em>⽣成了新的符号</em></span> 
  <span style="color:#a0a1a7;"><em> int_max</em></span> 
  <span style="color:#a0a1a7;"><em>做函数名 </em></span> 
 </div> 
 <div> 
  <span style="color:#646a73;"> </span> 
  <span style="color:#2b2f36;">GENERIC_MAX(</span> 
  <span style="color:#986801;">float</span> 
  <span style="color:#2b2f36;">) </span> 
  <span style="color:#a0a1a7;"><em>//</em></span> 
  <span style="color:#a0a1a7;"><em>替换到宏体内后</em></span> 
  <span style="color:#a0a1a7;"><em>float##_max </em></span> 
  <span style="color:#a0a1a7;"><em>⽣成了新的符号</em></span> 
  <span style="color:#a0a1a7;"><em> float_max</em></span> 
  <span style="color:#a0a1a7;"><em>做函数名 </em></span> 
 </div> 
 <div></div> 
 <div> 
  <span style="color:#646a73;"> </span> 
  <span style="color:#986801;">int </span> 
  <span style="color:#4078f2;">main</span> 
  <span style="color:#2b2f36;">() </span> 
 </div> 
 <div> 
  <span style="color:#646a73;"> </span> 
  <span style="color:#2b2f36;">{ </span> 
 </div> 
 <div>
     
  <span style="color:#a0a1a7;"><em>//</em></span> 
  <span style="color:#a0a1a7;"><em>调⽤函数 </em></span> 
 </div> 
 <div>
     
  <span style="color:#986801;">int</span> 
  <span style="color:#2b2f36;"> m = int_max(</span> 
  <span style="color:#986801;">2</span> 
  <span style="color:#2b2f36;">, </span> 
  <span style="color:#986801;">3</span> 
  <span style="color:#2b2f36;">); </span> 
 </div> 
 <div>
     
  <span style="color:#c18401;">printf</span> 
  <span style="color:#2b2f36;">(</span> 
  <span style="color:#50a14f;">"%d\n"</span> 
  <span style="color:#2b2f36;">, m); </span> 
 </div> 
 <div>
     
  <span style="color:#986801;">float</span> 
  <span style="color:#2b2f36;"> fm = float_max(</span> 
  <span style="color:#986801;">3.5f</span> 
  <span style="color:#2b2f36;">, </span> 
  <span style="color:#986801;">4.5f</span> 
  <span style="color:#2b2f36;">); </span> 
 </div> 
 <div>
     
  <span style="color:#c18401;">printf</span> 
  <span style="color:#2b2f36;">(</span> 
  <span style="color:#50a14f;">"%f\n"</span> 
  <span style="color:#2b2f36;">, fm); </span> 
 </div> 
 <div></div> 
 <div>
     
  <span style="color:#a626a4;">return </span> 
  <span style="color:#986801;">0</span> 
  <span style="color:#2b2f36;">; </span> 
 </div> 
 <div> 
  <span style="color:#646a73;"> </span> 
  <span style="color:#2b2f36;">}</span> 
 </div> 
</blockquote> 
<p> <span style="color:#1f2329;">输出：</span></p> 
<blockquote> 
 <div> 
  <span style="color:#986801;">3 </span> 
 </div> 
 <div> 
  <span style="color:#986801;">4.500000</span> 
 </div> 
</blockquote> 
<p><img alt="" height="847" src="https://images2.imgbox.com/98/3e/Z2CiMDyb_o.png" width="1051"> 整体代码如上图，这个代码非常巧妙地用宏来函数定义，只需将类型传进去，这个##就是用来将左右两个标识符合并成一个标识符，type改变，那对应的type_max也发生改变，这样就能有不同的函数名字。</p> 
<p>假如没有##，会发生什么</p> 
<p><img alt="" height="231" src="https://images2.imgbox.com/fd/60/pnnMa5a6_o.png" width="1200"></p> 
<p>如上图可知，没有##，这个type_max本身就是一体的，函数名不会随着你穿进去类型的变化而变化，type_max就是简简单单的一个标识符。 </p> 
<p> <span style="color:#1f2329;">在实际开发过程中##使用的很少，很难取出非常贴切的例子。 </span></p> 
<hr> 
<h2 id="8.%20%E5%91%BD%E5%90%8D%E7%BA%A6%E5%AE%9A"><span style="color:#0d0016;">8. 命名约定</span></h2> 
<div> 
 <span style="color:#1f2329;">一般来讲函数的宏的使用语法很相似。所以语言本身没法帮我们区分二者。 </span> 
</div> 
<div> 
 <span style="color:#1f2329;">那我们平时的一个习惯是：</span> 
</div> 
<blockquote> 
 <div> 
  <div> 
   <span style="color:#646a73;">把宏名全部大写 </span> 
  </div> 
  <div> 
   <span style="color:#646a73;">函数名不要全部大写</span> 
  </div> 
 </div> 
</blockquote> 
<p>当然也有小写的宏，例如： </p> 
<p><img alt="" height="123" src="https://images2.imgbox.com/39/13/t6nnalua_o.png" width="1155"></p> 
<hr> 
<h2 id="9.%20%23undef"><span style="color:#0d0016;">9. #undef </span></h2> 
<div> 
 <span style="color:#1f2329;">这条指令用于移除一个宏定义。</span> 
</div> 
<blockquote> 
 <div> 
  <div> 
   <span style="color:#4078f2;">#</span> 
   <span style="color:#a626a4;">undef</span> 
   <span style="color:#4078f2;"> NAME </span> 
  </div> 
  <div> 
   <span style="color:#646a73;"> </span> 
   <span style="color:#a0a1a7;"><em>//</em></span> 
   <span style="color:#a0a1a7;"><em>如果现存的⼀个名字需要被重新定义，那么它的旧名字⾸先要被移除。 </em></span> 
  </div> 
 </div> 
</blockquote> 
<p>比如：</p> 
<p><img alt="" height="417" src="https://images2.imgbox.com/b7/19/0YosJZPF_o.png" width="510"></p> 
<p>这个MAX不是被定义了嘛，因为#undef出现所以取消了MAX定义，此刻MAX未定义</p> 
<p><img alt="" height="132" src="https://images2.imgbox.com/3d/f8/aVWViMwW_o.png" width="1200"></p> 
<hr> 
<h2 id="10.%20%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%AE%9A%E4%B9%89"><span style="color:#0d0016;">10. 命令行定义 </span></h2> 
<div> 
 <span style="color:#1f2329;">许多C 的编译器提供了一种能力，允许在命令行中定义符号。用于启动编译过程。 </span> 
</div> 
<div> 
 <span style="color:#1f2329;">例如：当我们根据同一个源文件要编译出一个程序的不同版本的时候，这个特性有点用处。（假定某个程序中声明了一个某个长度的数组，如果机器内存有限，我们需要一个很小的数组，但是另外一个机器内存大些，我们需要一个数组能够大些。） </span> 
</div> 
<blockquote> 
 <div> 
  <div> 
   <span style="color:#4078f2;">#</span> 
   <span style="color:#a626a4;">include </span> 
   <span style="color:#50a14f;">&lt;stdio.h&gt; </span> 
  </div> 
  <div> 
   <span style="color:#986801;">int </span> 
   <span style="color:#4078f2;">main</span> 
   <span style="color:#2b2f36;">() </span> 
  </div> 
  <div> 
   <span style="color:#2b2f36;">{ </span> 
  </div> 
  <div> 
   <span style="color:#986801;">int </span> 
   <span style="color:#c18401;">array</span> 
   <span style="color:#2b2f36;"> [ARRAY_SIZE]; </span> 
  </div> 
  <div> 
   <span style="color:#986801;">int</span> 
   <span style="color:#2b2f36;"> i = </span> 
   <span style="color:#986801;">0</span> 
   <span style="color:#2b2f36;">; </span> 
  </div> 
  <div> 
   <span style="color:#a626a4;">for</span> 
   <span style="color:#2b2f36;">(i = </span> 
   <span style="color:#986801;">0</span> 
   <span style="color:#2b2f36;">; i&lt; ARRAY_SIZE; i ++) </span> 
  </div> 
  <div> 
   <span style="color:#2b2f36;">{ </span> 
  </div> 
  <div> 
   <span style="color:#c18401;">array</span> 
   <span style="color:#2b2f36;">[i] = i; </span> 
  </div> 
  <div> 
   <span style="color:#2b2f36;">} </span> 
  </div> 
  <div> 
   <span style="color:#a626a4;">for</span> 
   <span style="color:#2b2f36;">(i = </span> 
   <span style="color:#986801;">0</span> 
   <span style="color:#2b2f36;">; i&lt; ARRAY_SIZE; i ++) </span> 
  </div> 
  <div> 
   <span style="color:#2b2f36;">{ </span> 
  </div> 
  <div> 
   <span style="color:#c18401;">printf</span> 
   <span style="color:#2b2f36;">(</span> 
   <span style="color:#50a14f;">"%d "</span> 
   <span style="color:#2b2f36;"> ,</span> 
   <span style="color:#c18401;">array</span> 
   <span style="color:#2b2f36;">[i]); </span> 
  </div> 
  <div> 
   <span style="color:#2b2f36;">} </span> 
  </div> 
  <div> 
   <span style="color:#c18401;">printf</span> 
   <span style="color:#2b2f36;">(</span> 
   <span style="color:#50a14f;">"\n"</span> 
   <span style="color:#2b2f36;"> ); </span> 
  </div> 
  <div> 
   <span style="color:#a626a4;">return </span> 
   <span style="color:#986801;">0</span> 
   <span style="color:#2b2f36;">; </span> 
  </div> 
  <div> 
   <span style="color:#2b2f36;">} </span> 
  </div> 
 </div> 
</blockquote> 
<p>假如我们不用#define定义，我们可以直接在命令行中进行如下操作</p> 
<p> <span style="color:#1f2329;">编译指令： </span></p> 
<blockquote> 
 <div> 
  <span style="color:#a0a1a7;"><em>//linux </em></span> 
  <span style="color:#a0a1a7;"><em>环境演⽰ </em></span> 
 </div> 
 <div> 
  <span style="color:#2b2f36;">gcc -D ARRAY_SIZE=</span> 
  <span style="color:#986801;">10</span> 
  <span style="color:#2b2f36;"> programe.c </span> 
 </div> 
</blockquote> 
<p> 用-D命令直接把ARRAY_SIZE赋值成10(这是在gcc编译器下）</p> 
<hr> 
<h2 id="11.%20%E6%9D%A1%E4%BB%B6%E7%BC%96%E8%AF%91"><span style="color:#0d0016;">11. 条件编译</span></h2> 
<div> 
 <span style="color:#1f2329;">在编译一个程序的时候我们如果要将一条语句（一组语句）编译或者放弃是很方便的。因为我们有条件编译指令。 </span> 
</div> 
<div> 
 <span style="color:#1f2329;">比如说：</span> 
</div> 
<blockquote> 
 <div> 
  <span style="color:#646a73;">调试性的代码，删除可惜，保留又碍事，所以我们可以选择性的编译。</span> 
 </div> 
</blockquote> 
<blockquote> 
 <div> 
  <span style="color:#4078f2;">#</span> 
  <span style="color:#a626a4;">include </span> 
  <span style="color:#50a14f;">&lt;stdio.h&gt; </span> 
 </div> 
 <div> 
  <span style="color:#4078f2;">#</span> 
  <span style="color:#a626a4;">define</span> 
  <span style="color:#4078f2;"> __DEBUG__ </span> 
 </div> 
 <div> 
  <div> 
   <span style="color:#986801;">int </span> 
   <span style="color:#4078f2;">main</span> 
   <span style="color:#2b2f36;">() </span> 
  </div> 
  <div> 
   <span style="color:#2b2f36;">{ </span> 
  </div> 
  <div> 
   <span style="color:#986801;">int</span> 
   <span style="color:#2b2f36;"> i = </span> 
   <span style="color:#986801;">0</span> 
   <span style="color:#2b2f36;">; </span> 
  </div> 
  <div> 
   <span style="color:#986801;">int</span> 
   <span style="color:#2b2f36;"> arr[</span> 
   <span style="color:#986801;">10</span> 
   <span style="color:#2b2f36;">] = {<!-- --></span> 
   <span style="color:#986801;">0</span> 
   <span style="color:#2b2f36;">}; </span> 
  </div> 
  <div> 
   <span style="color:#a626a4;">for</span> 
   <span style="color:#2b2f36;">(i=</span> 
   <span style="color:#986801;">0</span> 
   <span style="color:#2b2f36;">; i&lt;</span> 
   <span style="color:#986801;">10</span> 
   <span style="color:#2b2f36;">; i++) </span> 
  </div> 
  <div> 
   <span style="color:#2b2f36;">{ </span> 
  </div> 
  <div> 
   <span style="color:#2b2f36;">arr[i] = i; </span> 
  </div> 
  <div> 
   <span style="color:#4078f2;">#</span> 
   <span style="color:#a626a4;">ifdef</span> 
   <span style="color:#4078f2;"> __DEBUG__ </span> 
  </div> 
  <div> 
   <span style="color:#c18401;">printf</span> 
   <span style="color:#2b2f36;">(</span> 
   <span style="color:#50a14f;">"%d\n"</span> 
   <span style="color:#2b2f36;">, arr[i]);</span> 
   <span style="color:#a0a1a7;"><em>//</em></span> 
   <span style="color:#a0a1a7;"><em>为了观察数组是否赋值成功。</em></span> 
  </div> 
  <div> 
   <span style="color:#4078f2;">#</span> 
   <span style="color:#a626a4;">endif </span> 
   <span style="color:#a0a1a7;"><em>//__DEBUG__ </em></span> 
  </div> 
  <div> 
   <span style="color:#2b2f36;">} </span> 
  </div> 
  <div> 
   <span style="color:#a626a4;">return </span> 
   <span style="color:#986801;">0</span> 
   <span style="color:#2b2f36;">; </span> 
  </div> 
  <div> 
   <span style="color:#2b2f36;">} </span> 
  </div> 
 </div> 
</blockquote> 
<p> <span style="color:#1f2329;">常见的条件编译指令：</span></p> 
<blockquote> 
 <div> 
  <span style="color:#986801;">1. </span> 
 </div> 
 <div> 
  <span style="color:#4078f2;">#</span> 
  <span style="color:#a626a4;">if</span> 
  <span style="color:#4078f2;">常量表达式 </span> 
 </div> 
 <div> 
  <span style="color:#a0a1a7;"><em>//... </em></span> 
 </div> 
 <div> 
  <span style="color:#4078f2;">#</span> 
  <span style="color:#a626a4;">endif </span> 
 </div> 
 <div> 
  <span style="color:#a0a1a7;"><em>//</em></span> 
  <span style="color:#a0a1a7;"><em>常量表达式由预处理器求值。 </em></span> 
 </div> 
 <div> 
  <span style="color:#2b2f36;">如： </span> 
 </div> 
 <div> 
  <span style="color:#4078f2;">#</span> 
  <span style="color:#a626a4;">define</span> 
  <span style="color:#4078f2;"> __DEBUG__ 1 </span> 
 </div> 
 <div> 
  <span style="color:#4078f2;">#</span> 
  <span style="color:#a626a4;">if</span> 
  <span style="color:#4078f2;"> __DEBUG__ </span> 
 </div> 
 <div> 
  <span style="color:#a0a1a7;"><em>//.. </em></span> 
 </div> 
 <div> 
  <span style="color:#4078f2;">#</span> 
  <span style="color:#a626a4;">endif </span> 
 </div> 
 <div> 
  <span style="color:#986801;">2.</span> 
  <span style="color:#2b2f36;">多个分支的条件编译 </span> 
 </div> 
 <div> 
  <span style="color:#4078f2;">#</span> 
  <span style="color:#a626a4;">if </span> 
  <span style="color:#4078f2;">常量表达式 </span> 
 </div> 
 <div> 
  <span style="color:#a0a1a7;"><em>//... </em></span> 
 </div> 
 <div> 
  <span style="color:#4078f2;">#</span> 
  <span style="color:#a626a4;">elif </span> 
  <span style="color:#4078f2;">常量表达式 </span> 
 </div> 
 <div> 
  <span style="color:#a0a1a7;"><em>//... </em></span> 
 </div> 
 <div> 
  <span style="color:#4078f2;">#</span> 
  <span style="color:#a626a4;">else </span> 
 </div> 
 <div> 
  <span style="color:#a0a1a7;"><em>//... </em></span> 
 </div> 
 <div> 
  <span style="color:#4078f2;">#</span> 
  <span style="color:#a626a4;">endif </span> 
 </div> 
 <div> 
  <span style="color:#986801;">3.</span> 
  <span style="color:#2b2f36;">判断是否被定义 </span> 
 </div> 
 <div> 
  <span style="color:#4078f2;">#</span> 
  <span style="color:#a626a4;">if</span> 
  <span style="color:#4078f2;"> defined(symbol) </span> 
 </div> 
 <div> 
  <span style="color:#4078f2;">#</span> 
  <span style="color:#a626a4;">ifdef</span> 
  <span style="color:#4078f2;"> symbol </span> 
 </div> 
 <div> 
  <span style="color:#4078f2;">#</span> 
  <span style="color:#a626a4;">if</span> 
  <span style="color:#4078f2;"> !defined(symbol) </span> 
 </div> 
 <div> 
  <span style="color:#4078f2;">#</span> 
  <span style="color:#a626a4;">ifndef</span> 
  <span style="color:#4078f2;"> symbol </span> 
 </div> 
 <div> 
  <span style="color:#986801;">4.</span> 
  <span style="color:#2b2f36;">嵌套指令 </span> 
 </div> 
 <div> 
  <div> 
   <span style="color:#4078f2;">#</span> 
   <span style="color:#a626a4;">if</span> 
   <span style="color:#4078f2;"> defined(OS_UNIX) </span> 
  </div> 
  <div>
      
   <span style="color:#4078f2;">#</span> 
   <span style="color:#a626a4;">ifdef</span> 
   <span style="color:#4078f2;"> OPTION1 </span> 
  </div> 
  <div> 
   <span style="color:#2b2f36;"> unix_version_option1(); </span> 
  </div> 
  <div>
      
   <span style="color:#4078f2;">#</span> 
   <span style="color:#a626a4;">endif </span> 
  </div> 
  <div>
      
   <span style="color:#4078f2;">#</span> 
   <span style="color:#a626a4;">ifdef</span> 
   <span style="color:#4078f2;"> OPTION2 </span> 
  </div> 
  <div> 
   <span style="color:#2b2f36;"> unix_version_option2(); </span> 
  </div> 
  <div>
      
   <span style="color:#4078f2;">#</span> 
   <span style="color:#a626a4;">endif </span> 
  </div> 
  <div> 
   <span style="color:#646a73;"> </span> 
   <span style="color:#4078f2;">#</span> 
   <span style="color:#a626a4;">elif</span> 
   <span style="color:#4078f2;"> defined(OS_MSDOS) </span> 
  </div> 
  <div>
      
   <span style="color:#4078f2;">#</span> 
   <span style="color:#a626a4;">ifdef</span> 
   <span style="color:#4078f2;"> OPTION2 </span> 
  </div> 
  <div> 
   <span style="color:#2b2f36;"> msdos_version_option2(); </span> 
  </div> 
  <div>
      
   <span style="color:#4078f2;">#</span> 
   <span style="color:#a626a4;">endif </span> 
  </div> 
  <div> 
   <span style="color:#646a73;"> </span> 
   <span style="color:#4078f2;">#</span> 
   <span style="color:#a626a4;">endif </span> 
  </div> 
 </div> 
</blockquote> 
<p>注意：<span style="background-color:#a2e043;">只要是#if指令，那么一定要在用完之后加上#endif ！！！</span></p> 
<hr> 
<h2 id="12.%20%E5%A4%B4%E6%96%87%E4%BB%B6%E7%9A%84%E5%8C%85%E5%90%AB"><span style="color:#0d0016;">12. 头文件的包含</span></h2> 
<h3 id="12.1%20%E5%A4%B4%E6%96%87%E4%BB%B6%E8%A2%AB%E5%8C%85%E5%90%AB%E7%9A%84%E6%96%B9%E5%BC%8F"><span style="color:#0d0016;">12.1 头文件被包含的方式</span></h3> 
<h4 id="12.1.1%20%E6%9C%AC%E5%9C%B0%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB"><span style="color:#0d0016;">12.1.1 本地文件包含</span></h4> 
<blockquote> 
 <div> 
  <span style="color:#4078f2;">#</span> 
  <span style="color:#a626a4;">include </span> 
  <span style="color:#50a14f;">"filename" </span> 
 </div> 
</blockquote> 
<div> 
 <span style="color:#1f2329;">查找策略：<span style="background-color:#a2e043;">先在源文件所在目录下查找，如果该头文件未找到，编译器就像查找库函数头文件一样在标准位置查找头文件。</span> </span> 
</div> 
<div> 
 <span style="color:#1f2329;">如果找不到就提示编译错误</span> 
</div> 
<div> 
 <strong><span style="color:#1f2329;">Linux环境的标准头文件的路径：</span></strong> 
</div> 
<blockquote> 
 <div> 
  <span style="color:#2b2f36;">/usr/include </span> 
 </div> 
</blockquote> 
<p> <strong><span style="color:#1f2329;">VS环境的标准头文件的路径：</span></strong></p> 
<blockquote> 
 <div> 
  <span style="color:#2b2f36;">C:\Program </span> 
  <span style="color:#4078f2;">Files</span> 
  <span style="color:#2b2f36;"> (x86)\Microsoft Visual Studio 12.0\VC\include </span> 
 </div> 
 <div> 
  <span style="color:#646a73;"> </span> 
  <span style="color:#a0a1a7;"><em>//</em></span> 
  <span style="color:#a0a1a7;"><em>这是</em></span> 
  <span style="color:#a0a1a7;"><em>VS2013</em></span> 
  <span style="color:#a0a1a7;"><em>的默认路径</em></span> 
 </div> 
</blockquote> 
<p> <span style="color:#1f2329;">注意按照自己的安装路径去找。 </span></p> 
<h4 id="12.1.2%20%E5%BA%93%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB"><span style="color:#0d0016;">12.1.2 库文件包含</span></h4> 
<blockquote> 
 <div> 
  <span style="color:#4078f2;">#</span> 
  <span style="color:#a626a4;">include </span> 
  <span style="color:#50a14f;">&lt;filename.h&gt;</span> 
 </div> 
</blockquote> 
<div> 
 <div> 
  <span style="color:#1f2329;">查找头文件直接去标准路径下去查找，如果找不到就提示编译错误。 </span> 
 </div> 
 <div> 
  <span style="color:#1f2329;">这样是不是可以说，对于库文件也可以使用 </span> 
  <span style="color:#1f2329;">“” </span> 
  <span style="color:#1f2329;">的形式包含？ </span> 
 </div> 
 <div> 
  <span style="color:#1f2329;">答案是肯定的，可以，但是这样做查找的效率就低些，当然这样也不容易区分是库文件还是本地文件了。</span> 
 </div> 
 <h3 id="12.2%20%E5%B5%8C%E5%A5%97%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB"><span style="color:#0d0016;">12.2 嵌套文件包含</span></h3> 
 <div> 
  <span style="color:#1f2329;">我们已经知道， </span> 
  <span style="color:#1f2329;">#include </span> 
  <span style="color:#1f2329;">指令可以使另外一个文件被编译。就像它实际出现于 </span> 
  <span style="color:#1f2329;">#include </span> 
  <span style="color:#1f2329;">指令的 </span> 
 </div> 
 <div> 
  <span style="color:#1f2329;">地方一样。 </span> 
 </div> 
 <div> 
  <span style="color:#1f2329;">这种替换的方式很简单：预处理器先删除这条指令，并用包含文件的内容替换。 </span> 
 </div> 
 <div> 
  <span style="color:#1f2329;">一个头文件被包含10次，那就实际被编译10次，如果重复包含，对编译的压力就比较大。</span> 
 </div> 
 <div> 
  <span style="color:#1f2329;">test.c</span> 
 </div> 
 <blockquote> 
  <div> 
   <div> 
    <span style="color:#4078f2;">#</span> 
    <span style="color:#a626a4;">include </span> 
    <span style="color:#50a14f;">"test.h" </span> 
   </div> 
   <div> 
    <span style="color:#4078f2;">#</span> 
    <span style="color:#a626a4;">include </span> 
    <span style="color:#50a14f;">"test.h" </span> 
   </div> 
   <div> 
    <span style="color:#4078f2;">#</span> 
    <span style="color:#a626a4;">include </span> 
    <span style="color:#50a14f;">"test.h" </span> 
   </div> 
   <div> 
    <span style="color:#4078f2;">#</span> 
    <span style="color:#a626a4;">include </span> 
    <span style="color:#50a14f;">"test.h" </span> 
   </div> 
   <div> 
    <span style="color:#4078f2;">#</span> 
    <span style="color:#a626a4;">include </span> 
    <span style="color:#50a14f;">"test.h" </span> 
   </div> 
   <div> 
    <span style="color:#986801;">int </span> 
    <span style="color:#4078f2;">main</span> 
    <span style="color:#2b2f36;">() </span> 
   </div> 
   <div> 
    <span style="color:#2b2f36;">{ </span> 
   </div> 
   <div></div> 
   <div> 
    <span style="color:#a626a4;">return </span> 
    <span style="color:#986801;">0</span> 
    <span style="color:#2b2f36;">; </span> 
   </div> 
   <div> 
    <span style="color:#2b2f36;">} </span> 
   </div> 
  </div> 
 </blockquote> 
 <div>
   test.h 
 </div> 
 <blockquote> 
  <div> 
   <div> 
    <span style="color:#986801;">void </span> 
    <span style="color:#4078f2;">test</span> 
    <span style="color:#2b2f36;">(); </span> 
   </div> 
   <div> 
    <span style="color:#a626a4;">struct</span> 
    <span style="color:#4078f2;">Stu </span> 
   </div> 
   <div> 
    <span style="color:#2b2f36;">{ </span> 
   </div> 
   <div> 
    <span style="color:#986801;">int</span> 
    <span style="color:#2b2f36;"> id; </span> 
   </div> 
   <div> 
    <span style="color:#986801;">char</span> 
    <span style="color:#2b2f36;"> name[</span> 
    <span style="color:#986801;">20</span> 
    <span style="color:#2b2f36;">]; </span> 
   </div> 
   <div> 
    <span style="color:#2b2f36;">}; </span> 
   </div> 
  </div> 
 </blockquote> 
</div> 
<div> 
 <span style="color:#1f2329;">如果直接这样写，test.c文件中将test.h包含5次，那么test.h文件的内容将会被拷贝5份在test.c中。 </span> 
</div> 
<div> 
 <span style="color:#1f2329;">如果test.h 文件比较大，这样预处理后代码量会剧增。如果工程比较大，有公共使用的头文件，被大家都能使用，又不做任何的处理，那么后果真的不堪设想。 </span> 
</div> 
<div> 
 <span style="color:#1f2329;">如何解决头文件被重复引入的问题？答案：条件编译。 </span> 
</div> 
<div> 
 <span style="color:#1f2329;">每个头文件的开头写：</span> 
</div> 
<blockquote> 
 <div> 
  <div> 
   <span style="color:#4078f2;">#</span> 
   <span style="color:#a626a4;">ifndef</span> 
   <span style="color:#4078f2;"> __TEST_H__ </span> 
  </div> 
  <div> 
   <span style="color:#4078f2;">#</span> 
   <span style="color:#a626a4;">define</span> 
   <span style="color:#4078f2;"> __TEST_H__ </span> 
  </div> 
  <div> 
   <span style="color:#a0a1a7;"><em>//</em></span> 
   <span style="color:#a0a1a7;"><em>头⽂件的内容 </em></span> 
  </div> 
  <div> 
   <span style="color:#4078f2;">#</span> 
   <span style="color:#a626a4;">endif</span> 
   <span style="color:#a0a1a7;"><em>//__TEST_H__</em></span> 
  </div> 
 </div> 
</blockquote> 
<p>或者</p> 
<blockquote> 
 <p> <span style="color:#4078f2;">#</span><span style="color:#a626a4;">pragma</span><span style="color:#4078f2;"> once</span></p> 
</blockquote> 
<p> <span style="color:#1f2329;">就可以避免头文件的重复引入。</span></p> 
<hr> 
<h2 id="13.%20%E5%85%B6%E4%BB%96%E9%A2%84%E5%A4%84%E7%90%86%E6%8C%87%E4%BB%A4"><span style="color:#0d0016;">13. 其他预处理指令</span></h2> 
<blockquote> 
 <div> 
  <span style="color:#4078f2;">#</span> 
  <span style="color:#a626a4;">error </span> 
 </div> 
 <div> 
  <span style="color:#4078f2;">#</span> 
  <span style="color:#a626a4;">pragma </span> 
 </div> 
 <div> 
  <span style="color:#4078f2;">#</span> 
  <span style="color:#a626a4;">line</span> 
 </div> 
 <div> 
  <div> 
   <span style="color:#4078f2;">#</span> 
   <span style="color:#a626a4;">pragma</span> 
   <span style="color:#4078f2;"> pack()</span> 
  </div> 
  <div>
    …… 
  </div> 
 </div> 
</blockquote> 
<hr> 
<blockquote> 
 <p><span style="color:#4da8ee;"> 结束语</span></p> 
 <p><span style="color:#0d0016;">本篇文章小编已经尽力在总结重点，但肯定有些地方挖的不够深，如果想更加详细的了解这方面的点点滴滴，我们可以参考《</span><span style="color:#1f2329;">C语言深度解剖</span><span style="color:#0d0016;">》</span></p> 
 <p><span style="color:#0d0016;">OK感谢观看！！！</span></p> 
 <p style="text-align:center;"><span style="color:#0d0016;"><img alt="" class="left" height="100" src="https://images2.imgbox.com/fb/e5/2iDjl2s5_o.gif" width="100"></span><img alt="" src="https://images2.imgbox.com/11/b7/BCvfn83Y_o.gif"><img alt="" class="right" src="https://images2.imgbox.com/9b/49/XGAbHF8y_o.gif"></p> 
</blockquote>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/3d7127a1b9139aa2852b574ef858d69e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【人工智能】保姆级波士顿房价预测</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/dedc289a882cf1b43f044c5a80664542/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">新人程序员必备在线工具推荐（cron、加解密、JSON、AI）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>