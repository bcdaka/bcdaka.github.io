<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Python魔法之旅-魔法方法(01) - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/5773841c8e6ed85c0f429093672a41f6/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="Python魔法之旅-魔法方法(01)">
  <meta property="og:description" content="目录
一、概述
1、定义
2、作用
二、主要应用场景
1、构造和析构
2、操作符重载
3、字符串和表示
4、容器管理
5、可调用对象
6、上下文管理
7、属性访问和描述符
8、迭代器和生成器
9、数值类型
10、复制和序列化
11、自定义元类行为
12、自定义类行为
13、类型检查和转换
14、自定义异常
三、学习方法
1、理解基础
2、查阅文档
3、编写示例
4、实践应用
5、阅读他人代码
6、参加社区讨论
7、持续学习
8、练习与总结
9、注意兼容性
10、避免过度使用
四、魔法方法
1、__abs__方法
1-1、语法
1-2、参数
1-3、功能
1-4、返回值
1-5、说明
1-6、用法
2、__add__方法
2-1、语法
2-2、参数
2-3、功能
2-4、返回值
2-5、说明
2-6、用法
3、__and__方法
3-1、语法
3-2、参数
3-3、功能
3-4、返回值
3-5、说明
3-6、用法
4、__bool__方法
4-1、语法
4-2、参数
4-3、功能
4-4、返回值
4-5、说明
4-6、用法 5、__call__方法
5-1、语法
5-2、参数
5-3、功能
5-4、返回值
5-5、说明
5-6、用法 五、推荐阅读
1、Python筑基之旅
2、Python函数之旅">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-05-30T13:49:36+08:00">
    <meta property="article:modified_time" content="2024-05-30T13:49:36+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Python魔法之旅-魔法方法(01)</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong><span style="color:#1a439c;">目录</span></strong></p> 
<p id="%E4%B8%80%E3%80%81%E6%A6%82%E8%BF%B0-toc" style="margin-left:40px;"><strong><a href="#%E4%B8%80%E3%80%81%E6%A6%82%E8%BF%B0" rel="nofollow"><span style="color:#1a439c;">一、概述</span></a></strong></p> 
<p id="1%E3%80%81%E5%AE%9A%E4%B9%89-toc" style="margin-left:80px;"><strong><a href="#1%E3%80%81%E5%AE%9A%E4%B9%89" rel="nofollow"><span style="color:#1a439c;">1、定义</span></a></strong></p> 
<p id="2%E3%80%81%E4%BD%9C%E7%94%A8-toc" style="margin-left:80px;"><strong><a href="#2%E3%80%81%E4%BD%9C%E7%94%A8" rel="nofollow"><span style="color:#1a439c;">2、作用</span></a></strong></p> 
<p id="%E4%BA%8C%E3%80%81%E4%B8%BB%E8%A6%81%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF-toc" style="margin-left:40px;"><strong><a href="#%E4%BA%8C%E3%80%81%E4%B8%BB%E8%A6%81%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF" rel="nofollow"><span style="color:#1a439c;">二、主要应用场景</span></a></strong></p> 
<p id="1%E3%80%81%E6%9E%84%E9%80%A0%E5%92%8C%E6%9E%90%E6%9E%84-toc" style="margin-left:80px;"><strong><a href="#1%E3%80%81%E6%9E%84%E9%80%A0%E5%92%8C%E6%9E%90%E6%9E%84" rel="nofollow"><span style="color:#1a439c;">1、构造和析构</span></a></strong></p> 
<p id="2%E3%80%81%E6%93%8D%E4%BD%9C%E7%AC%A6%E9%87%8D%E8%BD%BD-toc" style="margin-left:80px;"><strong><a href="#2%E3%80%81%E6%93%8D%E4%BD%9C%E7%AC%A6%E9%87%8D%E8%BD%BD" rel="nofollow"><span style="color:#1a439c;">2、操作符重载</span></a></strong></p> 
<p id="3%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%92%8C%E8%A1%A8%E7%A4%BA-toc" style="margin-left:80px;"><strong><a href="#3%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%92%8C%E8%A1%A8%E7%A4%BA" rel="nofollow"><span style="color:#1a439c;">3、字符串和表示</span></a></strong></p> 
<p id="4%E3%80%81%E5%AE%B9%E5%99%A8%E7%AE%A1%E7%90%86-toc" style="margin-left:80px;"><strong><a href="#4%E3%80%81%E5%AE%B9%E5%99%A8%E7%AE%A1%E7%90%86" rel="nofollow"><span style="color:#1a439c;">4、容器管理</span></a></strong></p> 
<p id="5%E3%80%81%E5%8F%AF%E8%B0%83%E7%94%A8%E5%AF%B9%E8%B1%A1-toc" style="margin-left:80px;"><strong><a href="#5%E3%80%81%E5%8F%AF%E8%B0%83%E7%94%A8%E5%AF%B9%E8%B1%A1" rel="nofollow"><span style="color:#1a439c;">5、可调用对象</span></a></strong></p> 
<p id="6%E3%80%81%E4%B8%8A%E4%B8%8B%E6%96%87%E7%AE%A1%E7%90%86-toc" style="margin-left:80px;"><strong><a href="#6%E3%80%81%E4%B8%8A%E4%B8%8B%E6%96%87%E7%AE%A1%E7%90%86" rel="nofollow"><span style="color:#1a439c;">6、上下文管理</span></a></strong></p> 
<p id="7%E3%80%81%E5%B1%9E%E6%80%A7%E8%AE%BF%E9%97%AE%E5%92%8C%E6%8F%8F%E8%BF%B0%E7%AC%A6-toc" style="margin-left:80px;"><strong><a href="#7%E3%80%81%E5%B1%9E%E6%80%A7%E8%AE%BF%E9%97%AE%E5%92%8C%E6%8F%8F%E8%BF%B0%E7%AC%A6" rel="nofollow"><span style="color:#1a439c;">7、属性访问和描述符</span></a></strong></p> 
<p id="8%E3%80%81%E8%BF%AD%E4%BB%A3%E5%99%A8%E5%92%8C%E7%94%9F%E6%88%90%E5%99%A8-toc" style="margin-left:80px;"><strong><a href="#8%E3%80%81%E8%BF%AD%E4%BB%A3%E5%99%A8%E5%92%8C%E7%94%9F%E6%88%90%E5%99%A8" rel="nofollow"><span style="color:#1a439c;">8、迭代器和生成器</span></a></strong></p> 
<p id="9%E3%80%81%E6%95%B0%E5%80%BC%E7%B1%BB%E5%9E%8B-toc" style="margin-left:80px;"><strong><a href="#9%E3%80%81%E6%95%B0%E5%80%BC%E7%B1%BB%E5%9E%8B" rel="nofollow"><span style="color:#1a439c;">9、数值类型</span></a></strong></p> 
<p id="10%E3%80%81%E5%A4%8D%E5%88%B6%E5%92%8C%E5%BA%8F%E5%88%97%E5%8C%96-toc" style="margin-left:80px;"><strong><a href="#10%E3%80%81%E5%A4%8D%E5%88%B6%E5%92%8C%E5%BA%8F%E5%88%97%E5%8C%96" rel="nofollow"><span style="color:#1a439c;">10、复制和序列化</span></a></strong></p> 
<p id="11%E3%80%81%E8%87%AA%E5%AE%9A%E4%B9%89%E5%85%83%E7%B1%BB%E8%A1%8C%E4%B8%BA-toc" style="margin-left:80px;"><strong><a href="#11%E3%80%81%E8%87%AA%E5%AE%9A%E4%B9%89%E5%85%83%E7%B1%BB%E8%A1%8C%E4%B8%BA" rel="nofollow"><span style="color:#1a439c;">11、自定义元类行为</span></a></strong></p> 
<p id="12%E3%80%81%E8%87%AA%E5%AE%9A%E4%B9%89%E7%B1%BB%E8%A1%8C%E4%B8%BA-toc" style="margin-left:80px;"><strong><a href="#12%E3%80%81%E8%87%AA%E5%AE%9A%E4%B9%89%E7%B1%BB%E8%A1%8C%E4%B8%BA" rel="nofollow"><span style="color:#1a439c;">12、自定义类行为</span></a></strong></p> 
<p id="13%E3%80%81%E7%B1%BB%E5%9E%8B%E6%A3%80%E6%9F%A5%E5%92%8C%E8%BD%AC%E6%8D%A2-toc" style="margin-left:80px;"><strong><a href="#13%E3%80%81%E7%B1%BB%E5%9E%8B%E6%A3%80%E6%9F%A5%E5%92%8C%E8%BD%AC%E6%8D%A2" rel="nofollow"><span style="color:#1a439c;">13、类型检查和转换</span></a></strong></p> 
<p id="14%E3%80%81%E8%87%AA%E5%AE%9A%E4%B9%89%E5%BC%82%E5%B8%B8-toc" style="margin-left:80px;"><strong><a href="#14%E3%80%81%E8%87%AA%E5%AE%9A%E4%B9%89%E5%BC%82%E5%B8%B8" rel="nofollow"><span style="color:#1a439c;">14、自定义异常</span></a></strong></p> 
<p id="%E4%B8%89%E3%80%81%E5%AD%A6%E4%B9%A0%E6%96%B9%E6%B3%95-toc" style="margin-left:40px;"><strong><a href="#%E4%B8%89%E3%80%81%E5%AD%A6%E4%B9%A0%E6%96%B9%E6%B3%95" rel="nofollow"><span style="color:#1a439c;">三、学习方法</span></a></strong></p> 
<p id="1%E3%80%81%E7%90%86%E8%A7%A3%E5%9F%BA%E7%A1%80-toc" style="margin-left:80px;"><strong><a href="#1%E3%80%81%E7%90%86%E8%A7%A3%E5%9F%BA%E7%A1%80" rel="nofollow"><span style="color:#1a439c;">1、理解基础</span></a></strong></p> 
<p id="2%E3%80%81%E6%9F%A5%E9%98%85%E6%96%87%E6%A1%A3-toc" style="margin-left:80px;"><strong><a href="#2%E3%80%81%E6%9F%A5%E9%98%85%E6%96%87%E6%A1%A3" rel="nofollow"><span style="color:#1a439c;">2、查阅文档</span></a></strong></p> 
<p id="3%E3%80%81%E7%BC%96%E5%86%99%E7%A4%BA%E4%BE%8B-toc" style="margin-left:80px;"><strong><a href="#3%E3%80%81%E7%BC%96%E5%86%99%E7%A4%BA%E4%BE%8B" rel="nofollow"><span style="color:#1a439c;">3、编写示例</span></a></strong></p> 
<p id="4%E3%80%81%E5%AE%9E%E8%B7%B5%E5%BA%94%E7%94%A8-toc" style="margin-left:80px;"><strong><a href="#4%E3%80%81%E5%AE%9E%E8%B7%B5%E5%BA%94%E7%94%A8" rel="nofollow"><span style="color:#1a439c;">4、实践应用</span></a></strong></p> 
<p id="5%E3%80%81%E9%98%85%E8%AF%BB%E4%BB%96%E4%BA%BA%E4%BB%A3%E7%A0%81-toc" style="margin-left:80px;"><strong><a href="#5%E3%80%81%E9%98%85%E8%AF%BB%E4%BB%96%E4%BA%BA%E4%BB%A3%E7%A0%81" rel="nofollow"><span style="color:#1a439c;">5、阅读他人代码</span></a></strong></p> 
<p id="6%E3%80%81%E5%8F%82%E5%8A%A0%E7%A4%BE%E5%8C%BA%E8%AE%A8%E8%AE%BA-toc" style="margin-left:80px;"><strong><a href="#6%E3%80%81%E5%8F%82%E5%8A%A0%E7%A4%BE%E5%8C%BA%E8%AE%A8%E8%AE%BA" rel="nofollow"><span style="color:#1a439c;">6、参加社区讨论</span></a></strong></p> 
<p id="7%E3%80%81%E6%8C%81%E7%BB%AD%E5%AD%A6%E4%B9%A0-toc" style="margin-left:80px;"><strong><a href="#7%E3%80%81%E6%8C%81%E7%BB%AD%E5%AD%A6%E4%B9%A0" rel="nofollow"><span style="color:#1a439c;">7、持续学习</span></a></strong></p> 
<p id="8%E3%80%81%E7%BB%83%E4%B9%A0%E4%B8%8E%E6%80%BB%E7%BB%93-toc" style="margin-left:80px;"><strong><a href="#8%E3%80%81%E7%BB%83%E4%B9%A0%E4%B8%8E%E6%80%BB%E7%BB%93" rel="nofollow"><span style="color:#1a439c;">8、练习与总结</span></a></strong></p> 
<p id="9%E3%80%81%E6%B3%A8%E6%84%8F%E5%85%BC%E5%AE%B9%E6%80%A7-toc" style="margin-left:80px;"><strong><a href="#9%E3%80%81%E6%B3%A8%E6%84%8F%E5%85%BC%E5%AE%B9%E6%80%A7" rel="nofollow"><span style="color:#1a439c;">9、注意兼容性</span></a></strong></p> 
<p id="10%E3%80%81%E9%81%BF%E5%85%8D%E8%BF%87%E5%BA%A6%E4%BD%BF%E7%94%A8-toc" style="margin-left:80px;"><strong><a href="#10%E3%80%81%E9%81%BF%E5%85%8D%E8%BF%87%E5%BA%A6%E4%BD%BF%E7%94%A8" rel="nofollow"><span style="color:#1a439c;">10、避免过度使用</span></a></strong></p> 
<p id="%E5%9B%9B%E3%80%81%E5%BA%94%E7%94%A8%E7%A4%BA%E4%BE%8B-toc" style="margin-left:40px;"><strong><a href="#%E5%9B%9B%E3%80%81%E5%BA%94%E7%94%A8%E7%A4%BA%E4%BE%8B" rel="nofollow"><span style="color:#1a439c;">四、魔法方法</span></a></strong></p> 
<p id="1%E3%80%81__abs__%E6%96%B9%E6%B3%95-toc" style="margin-left:80px;"><strong><a href="#1%E3%80%81__abs__%E6%96%B9%E6%B3%95" rel="nofollow"><span style="color:#1a439c;">1、__abs__方法</span></a></strong></p> 
<p id="1-1%E3%80%81%E8%AF%AD%E6%B3%95-toc" style="margin-left:120px;"><strong><a href="#1-1%E3%80%81%E8%AF%AD%E6%B3%95" rel="nofollow"><span style="color:#1a439c;">1-1、语法</span></a></strong></p> 
<p id="1-2%E3%80%81%E5%8F%82%E6%95%B0-toc" style="margin-left:120px;"><strong><a href="#1-2%E3%80%81%E5%8F%82%E6%95%B0" rel="nofollow"><span style="color:#1a439c;">1-2、参数</span></a></strong></p> 
<p id="1-3%E3%80%81%E5%8A%9F%E8%83%BD-toc" style="margin-left:120px;"><strong><a href="#1-3%E3%80%81%E5%8A%9F%E8%83%BD" rel="nofollow"><span style="color:#1a439c;">1-3、功能</span></a></strong></p> 
<p id="1-4%E3%80%81%E8%BF%94%E5%9B%9E%E5%80%BC-toc" style="margin-left:120px;"><strong><a href="#1-4%E3%80%81%E8%BF%94%E5%9B%9E%E5%80%BC" rel="nofollow"><span style="color:#1a439c;">1-4、返回值</span></a></strong></p> 
<p id="1-5%E3%80%81%E8%AF%B4%E6%98%8E-toc" style="margin-left:120px;"><strong><a href="#1-5%E3%80%81%E8%AF%B4%E6%98%8E" rel="nofollow"><span style="color:#1a439c;">1-5、说明</span></a></strong></p> 
<p id="1-6%E3%80%81%E7%94%A8%E6%B3%95-toc" style="margin-left:120px;"><strong><a href="#1-6%E3%80%81%E7%94%A8%E6%B3%95" rel="nofollow"><span style="color:#1a439c;">1-6、用法</span></a></strong></p> 
<p id="2%E3%80%81__add__%E6%96%B9%E6%B3%95-toc" style="margin-left:80px;"><strong><a href="#2%E3%80%81__add__%E6%96%B9%E6%B3%95" rel="nofollow"><span style="color:#1a439c;">2、__add__方法</span></a></strong></p> 
<p id="2-1%E3%80%81%E8%AF%AD%E6%B3%95-toc" style="margin-left:120px;"><strong><a href="#2-1%E3%80%81%E8%AF%AD%E6%B3%95" rel="nofollow"><span style="color:#1a439c;">2-1、语法</span></a></strong></p> 
<p id="2-2%E3%80%81%E5%8F%82%E6%95%B0-toc" style="margin-left:120px;"><strong><a href="#2-2%E3%80%81%E5%8F%82%E6%95%B0" rel="nofollow"><span style="color:#1a439c;">2-2、参数</span></a></strong></p> 
<p id="2-3%E3%80%81%E5%8A%9F%E8%83%BD-toc" style="margin-left:120px;"><strong><a href="#2-3%E3%80%81%E5%8A%9F%E8%83%BD" rel="nofollow"><span style="color:#1a439c;">2-3、功能</span></a></strong></p> 
<p id="2-4%E3%80%81%E8%BF%94%E5%9B%9E%E5%80%BC-toc" style="margin-left:120px;"><strong><a href="#2-4%E3%80%81%E8%BF%94%E5%9B%9E%E5%80%BC" rel="nofollow"><span style="color:#1a439c;">2-4、返回值</span></a></strong></p> 
<p id="2-5%E3%80%81%E8%AF%B4%E6%98%8E-toc" style="margin-left:120px;"><strong><a href="#2-5%E3%80%81%E8%AF%B4%E6%98%8E" rel="nofollow"><span style="color:#1a439c;">2-5、说明</span></a></strong></p> 
<p id="2-6%E3%80%81%E7%94%A8%E6%B3%95-toc" style="margin-left:120px;"><strong><a href="#2-6%E3%80%81%E7%94%A8%E6%B3%95" rel="nofollow"><span style="color:#1a439c;">2-6、用法</span></a></strong></p> 
<p id="3%E3%80%81__and__%E6%96%B9%E6%B3%95-toc" style="margin-left:80px;"><strong><a href="#3%E3%80%81__and__%E6%96%B9%E6%B3%95" rel="nofollow"><span style="color:#1a439c;">3、__and__方法</span></a></strong></p> 
<p id="3-1%E3%80%81%E8%AF%AD%E6%B3%95-toc" style="margin-left:120px;"><strong><a href="#3-1%E3%80%81%E8%AF%AD%E6%B3%95" rel="nofollow"><span style="color:#1a439c;">3-1、语法</span></a></strong></p> 
<p id="3-2%E3%80%81%E5%8F%82%E6%95%B0-toc" style="margin-left:120px;"><strong><a href="#3-2%E3%80%81%E5%8F%82%E6%95%B0" rel="nofollow"><span style="color:#1a439c;">3-2、参数</span></a></strong></p> 
<p id="3-3%E3%80%81%E5%8A%9F%E8%83%BD-toc" style="margin-left:120px;"><strong><a href="#3-3%E3%80%81%E5%8A%9F%E8%83%BD" rel="nofollow"><span style="color:#1a439c;">3-3、功能</span></a></strong></p> 
<p id="3-4%E3%80%81%E8%BF%94%E5%9B%9E%E5%80%BC-toc" style="margin-left:120px;"><strong><a href="#3-4%E3%80%81%E8%BF%94%E5%9B%9E%E5%80%BC" rel="nofollow"><span style="color:#1a439c;">3-4、返回值</span></a></strong></p> 
<p id="3-5%E3%80%81%E8%AF%B4%E6%98%8E-toc" style="margin-left:120px;"><strong><a href="#3-5%E3%80%81%E8%AF%B4%E6%98%8E" rel="nofollow"><span style="color:#1a439c;">3-5、说明</span></a></strong></p> 
<p id="3-6%E3%80%81%E7%94%A8%E6%B3%95-toc" style="margin-left:120px;"><strong><a href="#3-6%E3%80%81%E7%94%A8%E6%B3%95" rel="nofollow"><span style="color:#1a439c;">3-6、用法</span></a></strong></p> 
<p id="4%E3%80%81__bool__%E6%96%B9%E6%B3%95-toc" style="margin-left:80px;"><strong><a href="#4%E3%80%81__bool__%E6%96%B9%E6%B3%95" rel="nofollow"><span style="color:#1a439c;">4、__bool__方法</span></a></strong></p> 
<p id="4-1%E3%80%81%E8%AF%AD%E6%B3%95-toc" style="margin-left:120px;"><strong><a href="#4-1%E3%80%81%E8%AF%AD%E6%B3%95" rel="nofollow"><span style="color:#1a439c;">4-1、语法</span></a></strong></p> 
<p id="4-2%E3%80%81%E5%8F%82%E6%95%B0-toc" style="margin-left:120px;"><strong><a href="#4-2%E3%80%81%E5%8F%82%E6%95%B0" rel="nofollow"><span style="color:#1a439c;">4-2、参数</span></a></strong></p> 
<p id="4-3%E3%80%81%E5%8A%9F%E8%83%BD-toc" style="margin-left:120px;"><strong><a href="#4-3%E3%80%81%E5%8A%9F%E8%83%BD" rel="nofollow"><span style="color:#1a439c;">4-3、功能</span></a></strong></p> 
<p id="4-4%E3%80%81%E8%BF%94%E5%9B%9E%E5%80%BC-toc" style="margin-left:120px;"><strong><a href="#4-4%E3%80%81%E8%BF%94%E5%9B%9E%E5%80%BC" rel="nofollow"><span style="color:#1a439c;">4-4、返回值</span></a></strong></p> 
<p id="4-5%E3%80%81%E8%AF%B4%E6%98%8E-toc" style="margin-left:120px;"><strong><a href="#4-5%E3%80%81%E8%AF%B4%E6%98%8E" rel="nofollow"><span style="color:#1a439c;">4-5、说明</span></a></strong></p> 
<p id="4-6%E3%80%81%E7%94%A8%E6%B3%95%C2%A0-toc" style="margin-left:120px;"><strong><a href="#4-6%E3%80%81%E7%94%A8%E6%B3%95%C2%A0" rel="nofollow"><span style="color:#1a439c;">4-6、用法 </span></a></strong></p> 
<p id="5%E3%80%81__call__%E6%96%B9%E6%B3%95-toc" style="margin-left:80px;"><strong><a href="#5%E3%80%81__call__%E6%96%B9%E6%B3%95" rel="nofollow"><span style="color:#1a439c;">5、__call__方法</span></a></strong></p> 
<p id="5-1%E3%80%81%E8%AF%AD%E6%B3%95-toc" style="margin-left:120px;"><strong><a href="#5-1%E3%80%81%E8%AF%AD%E6%B3%95" rel="nofollow"><span style="color:#1a439c;">5-1、语法</span></a></strong></p> 
<p id="5-2%E3%80%81%E5%8F%82%E6%95%B0-toc" style="margin-left:120px;"><strong><a href="#5-2%E3%80%81%E5%8F%82%E6%95%B0" rel="nofollow"><span style="color:#1a439c;">5-2、参数</span></a></strong></p> 
<p id="5-3%E3%80%81%E5%8A%9F%E8%83%BD-toc" style="margin-left:120px;"><strong><a href="#5-3%E3%80%81%E5%8A%9F%E8%83%BD" rel="nofollow"><span style="color:#1a439c;">5-3、功能</span></a></strong></p> 
<p id="5-4%E3%80%81%E8%BF%94%E5%9B%9E%E5%80%BC-toc" style="margin-left:120px;"><strong><a href="#5-4%E3%80%81%E8%BF%94%E5%9B%9E%E5%80%BC" rel="nofollow"><span style="color:#1a439c;">5-4、返回值</span></a></strong></p> 
<p id="5-5%E3%80%81%E8%AF%B4%E6%98%8E-toc" style="margin-left:120px;"><strong><a href="#5-5%E3%80%81%E8%AF%B4%E6%98%8E" rel="nofollow"><span style="color:#1a439c;">5-5、说明</span></a></strong></p> 
<p id="5-6%E3%80%81%E7%94%A8%E6%B3%95%C2%A0-toc" style="margin-left:120px;"><strong><a href="#5-6%E3%80%81%E7%94%A8%E6%B3%95%C2%A0" rel="nofollow"><span style="color:#1a439c;">5-6、用法 </span></a></strong></p> 
<p id="%E4%BA%94%E3%80%81%E6%8E%A8%E8%8D%90%E9%98%85%E8%AF%BB-toc" style="margin-left:40px;"><strong><a href="#%E4%BA%94%E3%80%81%E6%8E%A8%E8%8D%90%E9%98%85%E8%AF%BB" rel="nofollow"><span style="color:#1a439c;">五、推荐阅读</span></a></strong></p> 
<p id="1%E3%80%81Python%E7%AD%91%E5%9F%BA%E4%B9%8B%E6%97%85-toc" style="margin-left:80px;"><strong><a href="#1%E3%80%81Python%E7%AD%91%E5%9F%BA%E4%B9%8B%E6%97%85" rel="nofollow"><span style="color:#1a439c;">1、Python筑基之旅</span></a></strong></p> 
<p id="2%E3%80%81Python%E5%87%BD%E6%95%B0%E4%B9%8B%E6%97%85-toc" style="margin-left:80px;"><strong><a href="#2%E3%80%81Python%E5%87%BD%E6%95%B0%E4%B9%8B%E6%97%85" rel="nofollow"><span style="color:#1a439c;">2、Python函数之旅</span></a></strong></p> 
<p id="3%E3%80%81Python%E7%AE%97%E6%B3%95%E4%B9%8B%E6%97%85-toc" style="margin-left:80px;"><strong><a href="#3%E3%80%81Python%E7%AE%97%E6%B3%95%E4%B9%8B%E6%97%85" rel="nofollow"><span style="color:#1a439c;">3、Python算法之旅</span></a></strong></p> 
<p id="4%E3%80%81%E5%8D%9A%E5%AE%A2%E4%B8%AA%E4%BA%BA%E4%B8%BB%E9%A1%B5-toc" style="margin-left:80px;"><strong><a href="#4%E3%80%81%E5%8D%9A%E5%AE%A2%E4%B8%AA%E4%BA%BA%E4%B8%BB%E9%A1%B5" rel="nofollow"><span style="color:#1a439c;">4、博客个人主页</span></a></strong></p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/71/86/YjaOdPOt_o.gif"></p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/9c/5b/rlYL80Fv_o.png"></p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/23/03/GrIrH4tK_o.gif"></p> 
<h3 id="%E4%B8%80%E3%80%81%E6%A6%82%E8%BF%B0">一、概述</h3> 
<h4 id="1%E3%80%81%E5%AE%9A%E4%B9%89">1、定义</h4> 
<p>        <span style="color:#fe2c24;"><strong>魔法方法</strong></span><strong><span style="color:#511b78;">(Magic Methods/Special Methods，也称特殊方法或双下划线方法)</span></strong>是Python中<span style="color:#fe2c24;"><strong>一类具有特殊命名规则的方法，它们的名称通常以双下划线(`__`)开头和结尾</strong></span>。</p> 
<p>        <span style="color:#fe2c24;"><strong>魔法方法</strong></span>用于在特定情况下<span style="color:#fe2c24;"><strong>自动被Python解释器调用，而不需要显式地调用它们，它们提供了一种机制，</strong></span>让你可以定义自定义类时具有与内置类型相似的行为。</p> 
<h4 id="2%E3%80%81%E4%BD%9C%E7%94%A8">2、作用</h4> 
<p>        <strong><span style="color:#fe2c24;">魔法方法</span></strong>允许开发者<span style="color:#fe2c24;"><strong>重载Python中的一些内置操作或函数的行为，从而为自定义的类添加特殊的功能</strong></span>。</p> 
<h3 id="%E4%BA%8C%E3%80%81%E4%B8%BB%E8%A6%81%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF">二、主要应用场景</h3> 
<h4 id="1%E3%80%81%E6%9E%84%E9%80%A0%E5%92%8C%E6%9E%90%E6%9E%84">1、构造和析构</h4> 
<p>1-1、__init__(self, [args...])：在创建对象时初始化属性。<br> 1-2、__new__(cls, [args...])：在创建对象时控制实例的创建过程(通常与元类一起使用)。<br> 1-3、__del__(self)：在对象被销毁前执行清理操作，如关闭文件或释放资源。</p> 
<h4 id="2%E3%80%81%E6%93%8D%E4%BD%9C%E7%AC%A6%E9%87%8D%E8%BD%BD">2、操作符重载</h4> 
<p>2-1、__add__(self, other)、__sub__(self, other)、__mul__(self, other)等：自定义对象之间的算术运算。<br> 2-2、__eq__(self, other)、__ne__(self, other)、__lt__(self, other)等：定义对象之间的比较操作。</p> 
<h4 id="3%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%92%8C%E8%A1%A8%E7%A4%BA">3、字符串和表示</h4> 
<p>3-1、__str__(self)：定义对象的字符串表示，常用于print()函数。<br> 3-2、__repr__(self)：定义对象的官方字符串表示，用于repr()函数和交互式解释器。</p> 
<h4 id="4%E3%80%81%E5%AE%B9%E5%99%A8%E7%AE%A1%E7%90%86">4、容器管理</h4> 
<p>4-1、__getitem__(self, key)、__setitem__(self, key, value)、__delitem__(self, key)：用于实现类似列表或字典的索引访问、设置和删除操作。<br> 4-2、__len__(self)：返回对象的长度或元素个数。</p> 
<h4 id="5%E3%80%81%E5%8F%AF%E8%B0%83%E7%94%A8%E5%AF%B9%E8%B1%A1">5、可调用对象</h4> 
<p>5-1、__call__(self, [args...])：允许对象像函数一样被调用。</p> 
<h4 id="6%E3%80%81%E4%B8%8A%E4%B8%8B%E6%96%87%E7%AE%A1%E7%90%86">6、上下文管理</h4> 
<p>6-1、__enter__(self)、__exit__(self, exc_type, exc_val, exc_tb)：用于实现上下文管理器，如with语句中的对象。</p> 
<h4 id="7%E3%80%81%E5%B1%9E%E6%80%A7%E8%AE%BF%E9%97%AE%E5%92%8C%E6%8F%8F%E8%BF%B0%E7%AC%A6">7、属性访问和描述符</h4> 
<p>7-1、__getattr__, __setattr__, __delattr__：这些方法允许对象在访问或修改不存在的属性时执行自定义操作。<br> 7-2、描述符(Descriptors)是实现了__get__, __set__, 和__delete__方法的对象，它们可以控制对另一个对象属性的访问。</p> 
<h4 id="8%E3%80%81%E8%BF%AD%E4%BB%A3%E5%99%A8%E5%92%8C%E7%94%9F%E6%88%90%E5%99%A8">8、迭代器和生成器</h4> 
<p>8-1、__iter__和__next__：这些方法允许对象支持迭代操作，如使用for循环遍历对象。<br> 8-2、__aiter__, __anext__：这些是异步迭代器的魔法方法，用于支持异步迭代。</p> 
<h4 id="9%E3%80%81%E6%95%B0%E5%80%BC%E7%B1%BB%E5%9E%8B">9、数值类型</h4> 
<p>9-1、__int__(self)、__float__(self)、__complex__(self)：定义对象到数值类型的转换。<br> 9-2、__index__(self)：定义对象用于切片时的整数转换。</p> 
<h4 id="10%E3%80%81%E5%A4%8D%E5%88%B6%E5%92%8C%E5%BA%8F%E5%88%97%E5%8C%96">10、复制和序列化</h4> 
<p>10-1、__copy__和__deepcopy__：允许对象支持浅复制和深复制操作。<br> 10-2、__getstate__和__setstate__：用于自定义对象的序列化和反序列化过程。</p> 
<h4 id="11%E3%80%81%E8%87%AA%E5%AE%9A%E4%B9%89%E5%85%83%E7%B1%BB%E8%A1%8C%E4%B8%BA">11、自定义元类行为</h4> 
<p>11-1、__metaclass__(Python 2)或元类本身(Python 3)：允许自定义类的创建过程，如动态创建类、修改类的定义等。</p> 
<h4 id="12%E3%80%81%E8%87%AA%E5%AE%9A%E4%B9%89%E7%B1%BB%E8%A1%8C%E4%B8%BA">12、自定义类行为</h4> 
<p>12-1、__init__和__new__：用于初始化对象或控制对象的创建过程。<br> 12-2、__init_subclass__：在子类被创建时调用，允许在子类中执行一些额外的操作。</p> 
<h4 id="13%E3%80%81%E7%B1%BB%E5%9E%8B%E6%A3%80%E6%9F%A5%E5%92%8C%E8%BD%AC%E6%8D%A2">13、类型检查和转换</h4> 
<p>13-1、__instancecheck__和__subclasscheck__：用于自定义isinstance()和issubclass()函数的行为。</p> 
<h4 id="14%E3%80%81%E8%87%AA%E5%AE%9A%E4%B9%89%E5%BC%82%E5%B8%B8">14、自定义异常</h4> 
<p>14-1、你可以通过继承内置的Exception类来创建自定义的异常类，并定义其特定的行为。</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/58/60/Ch1CnE1W_o.png"></p> 
<h3 id="%E4%B8%89%E3%80%81%E5%AD%A6%E4%B9%A0%E6%96%B9%E6%B3%95">三、学习方法</h3> 
<p>        要学好Python的魔法方法，你可以遵循以下方法及步骤：</p> 
<h4 id="1%E3%80%81%E7%90%86%E8%A7%A3%E5%9F%BA%E7%A1%80">1、理解基础</h4> 
<p>        首先确保你对Python的基本语法、数据类型、类和对象等概念有深入的理解，这些是理解魔法方法的基础。</p> 
<h4 id="2%E3%80%81%E6%9F%A5%E9%98%85%E6%96%87%E6%A1%A3">2、查阅文档</h4> 
<p>        仔细阅读Python官方文档中关于魔法方法的部分，文档会详细解释每个魔法方法的作用、参数和返回值。你可以通过访问Python的官方网站或使用help()函数在Python解释器中查看文档。</p> 
<h4 id="3%E3%80%81%E7%BC%96%E5%86%99%E7%A4%BA%E4%BE%8B">3、编写示例</h4> 
<p>        为每个魔法方法编写简单的示例代码，以便更好地理解其用法和效果，通过实际编写和运行代码，你可以更直观地感受到魔法方法如何改变对象的行为。</p> 
<h4 id="4%E3%80%81%E5%AE%9E%E8%B7%B5%E5%BA%94%E7%94%A8">4、实践应用</h4> 
<p>        在实际项目中尝试使用魔法方法。如，你可以创建一个自定义的集合类，使用__getitem__、__setitem__和__delitem__方法来实现索引操作。只有通过实践应用，你才能更深入地理解魔法方法的用途和重要性。</p> 
<h4 id="5%E3%80%81%E9%98%85%E8%AF%BB%E4%BB%96%E4%BA%BA%E4%BB%A3%E7%A0%81">5、阅读他人代码</h4> 
<p>        阅读开源项目或他人编写的代码，特别是那些使用了魔法方法的代码，这可以帮助你学习如何在实际项目中使用魔法方法。通过分析他人代码中的魔法方法使用方式，你可以学习到一些新的技巧和最佳实践。</p> 
<h4 id="6%E3%80%81%E5%8F%82%E5%8A%A0%E7%A4%BE%E5%8C%BA%E8%AE%A8%E8%AE%BA">6、参加社区讨论</h4> 
<p>        参与Python社区的讨论，与其他开发者交流关于魔法方法的使用经验和技巧，在社区中提问或回答关于魔法方法的问题，这可以帮助你更深入地理解魔法方法并发现新的应用场景。</p> 
<h4 id="7%E3%80%81%E6%8C%81%E7%BB%AD%E5%AD%A6%E4%B9%A0">7、持续学习</h4> 
<p>        Python语言和其生态系统不断发展，新的魔法方法和功能可能会不断被引入，保持对Python社区的关注，及时学习新的魔法方法和最佳实践。</p> 
<h4 id="8%E3%80%81%E7%BB%83%E4%B9%A0%E4%B8%8E%E6%80%BB%E7%BB%93">8、练习与总结</h4> 
<p>        多做练习，通过编写各种使用魔法方法的代码来巩固你的理解，定期总结你学到的知识和经验，形成自己的知识体系。</p> 
<h4 id="9%E3%80%81%E6%B3%A8%E6%84%8F%E5%85%BC%E5%AE%B9%E6%80%A7">9、注意兼容性</h4> 
<p>        在使用魔法方法时，要注意不同Python版本之间的兼容性差异，确保你的代码在不同版本的Python中都能正常工作。</p> 
<h4 id="10%E3%80%81%E9%81%BF%E5%85%8D%E8%BF%87%E5%BA%A6%E4%BD%BF%E7%94%A8">10、避免过度使用</h4> 
<p>        虽然魔法方法非常强大，但过度使用可能会导致代码难以理解和维护，在编写代码时，要权衡使用魔法方法的利弊，避免滥用。</p> 
<p>        总之，学好Python的魔法方法需要不断地学习、实践和总结，只有通过不断地练习和积累经验，你才能更好地掌握这些强大的工具，并在实际项目中灵活运用它们。</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/fd/a2/Q4ApHTDm_o.png"></p> 
<h3 id="%E5%9B%9B%E3%80%81%E5%BA%94%E7%94%A8%E7%A4%BA%E4%BE%8B">四、魔法方法</h3> 
<h4 id="1%E3%80%81__abs__%E6%96%B9%E6%B3%95">1、__abs__方法</h4> 
<h5 id="1-1%E3%80%81%E8%AF%AD%E6%B3%95">1-1、语法</h5> 
<pre><code class="language-python">__abs__(self, /)
    abs(self)</code></pre> 
<h5 id="1-2%E3%80%81%E5%8F%82%E6%95%B0">1-2、参数</h5> 
<p><span style="color:#fe2c24;"><strong>1-2-1、self(必须)：</strong></span>调用该方法的对象本身。</p> 
<p><span style="color:#fe2c24;"><strong>1-2-2、/(可选)：</strong></span>这是从Python 3.8开始引入的参数注解语法，它表示这个方法不接受任何位置参数(positional-only parameters)之后的关键字参数(keyword arguments)。</p> 
<h5 id="1-3%E3%80%81%E5%8A%9F%E8%83%BD">1-3、功能</h5> 
<p>        定义当使用内置的abs()函数作用于一个对象时，该对象应该如何计算其绝对值或模(magnitude)。</p> 
<h5 id="1-4%E3%80%81%E8%BF%94%E5%9B%9E%E5%80%BC">1-4、返回值</h5> 
<p>        返回一个非负值，表示该对象的“大小”或“绝对值”。</p> 
<h5 id="1-5%E3%80%81%E8%AF%B4%E6%98%8E">1-5、说明</h5> 
<p>        该方法通常用于自定义数值类型或需要支持绝对值运算的类。</p> 
<h5 id="1-6%E3%80%81%E7%94%A8%E6%B3%95">1-6、用法</h5> 
<pre><code class="language-python"># 001、__abs__方法：
# 1、定义一个简单的数值类
class Number:
    def __init__(self, value):
        self.value = value
    def __abs__(self):
        return abs(self.value)
# 使用示例
num = Number(-5)
print(abs(num))  # 输出: 5，调用了__abs__方法

# 2、定义一个复数类
import math
class ComplexNumber:
    def __init__(self, real, imag):
        self.real = real
        self.imag = imag
    def __abs__(self):
        return math.sqrt(self.real ** 2 + self.imag ** 2)
# 使用示例
cnum = ComplexNumber(3, 4)
print(abs(cnum))  # 输出: 5.0（因为 3^2 + 4^2 = 25, sqrt(25) = 5）

# 3、定义一个有理数类
class RationalNumber:
    def __init__(self, numerator, denominator):
        self.numerator = numerator
        self.denominator = denominator
        self.reduce()  # 假设我们有一个reduce方法来简化分数
    def reduce(self):
        # 这里只是一个简单的示例，真实情况可能需要更复杂的逻辑来简化分数
        gcd = math.gcd(abs(self.numerator), abs(self.denominator))
        self.numerator //= gcd
        self.denominator //= gcd
    def __abs__(self):
        return RationalNumber(abs(self.numerator), self.denominator)
    def __str__(self):
        return f"{self.numerator}/{self.denominator}"
# 使用示例
rat = RationalNumber(-4, 2)
print(abs(rat))  # 输出: 2/1 或 2（取决于你如何定义 __str__ 方法）

# 4、定义一个向量类
class Vector:
    def __init__(self, x, y):
        self.x = x
        self.y = y
    def __abs__(self):
        return (self.x ** 2 + self.y ** 2) ** 0.5
# 使用示例
v = Vector(3, 4)
print(abs(v))  # 输出: 5.0（向量的模长或绝对值）</code></pre> 
<h4 id="2%E3%80%81__add__%E6%96%B9%E6%B3%95">2、__add__方法</h4> 
<h5 id="2-1%E3%80%81%E8%AF%AD%E6%B3%95">2-1、语法</h5> 
<pre><code class="language-python">__add__(self, other, /)
    Return self + other</code></pre> 
<h5 id="2-2%E3%80%81%E5%8F%82%E6%95%B0">2-2、参数</h5> 
<p><span style="color:#fe2c24;"><strong>2-2-1、self</strong></span><span style="color:#956fe7;"><strong>(必须)</strong></span><span style="color:#fe2c24;"><strong>：</strong></span>表示调用该方法的对象本身。</p> 
<p><span style="color:#fe2c24;"><strong>2-2-2、other</strong></span><span style="color:#956fe7;"><strong>(必须)</strong></span><span style="color:#fe2c24;"><strong>：</strong></span>表示与self进行相加操作的对象。</p> 
<p><span style="color:#fe2c24;"><strong>2-2-3、/</strong></span><span style="color:#956fe7;"><strong>(可选)</strong></span><span style="color:#fe2c24;"><strong>：</strong></span>这是从Python 3.8开始引入的参数注解语法，它表示这个方法不接受任何位置参数(positional-only parameters)之后的关键字参数(keyword arguments)。</p> 
<h5 id="2-3%E3%80%81%E5%8A%9F%E8%83%BD">2-3、功能</h5> 
<p>        用于定义当对象使用“+”运算符进行加法运算时的行为。</p> 
<h5 id="2-4%E3%80%81%E8%BF%94%E5%9B%9E%E5%80%BC">2-4、返回值</h5> 
<p>        返回一个值，这个值通常表示两个对象相加的结果。</p> 
<h5 id="2-5%E3%80%81%E8%AF%B4%E6%98%8E">2-5、说明</h5> 
<p>        返回值可以是任何类型，但通常它应该是与原始对象类型相同或兼容的类型。</p> 
<h5 id="2-6%E3%80%81%E7%94%A8%E6%B3%95">2-6、用法</h5> 
<pre><code class="language-python"># 002、__add__方法：
# 1、整数类的简单加法
class Integer:
    def __init__(self, value):
        self.value = value
    def __add__(self, other):
        if isinstance(other, Integer):
            return Integer(self.value + other.value)
        elif isinstance(other, int):
            return Integer(self.value + other)
        else:
            raise TypeError("Unsupported operand types for +: 'Integer' and '{}'".format(type(other).__name__))
    def __repr__(self):
        return "Integer({})".format(self.value)
# 使用示例
a = Integer(5)
b = Integer(3)
c = a + b  # 调用 a.__add__(b)
print(c)  # 输出: Integer(8)
d = a + 2  # 调用 a.__add__(2)
print(d)  # 输出: Integer(7)

# 2、向量类的向量加法
class Vector:
    def __init__(self, x, y):
        self.x = x
        self.y = y
    def __add__(self, other):
        if isinstance(other, Vector):
            return Vector(self.x + other.x, self.y + other.y)
        else:
            raise TypeError("Unsupported operand types for +: 'Vector' and '{}'".format(type(other).__name__))
    def __repr__(self):
        return "Vector({}, {})".format(self.x, self.y)
# 使用示例
v1 = Vector(1, 2)
v2 = Vector(3, 4)
v3 = v1 + v2  # 调用 v1.__add__(v2)
print(v3)  # 输出: Vector(4, 6)</code></pre> 
<h4 id="3%E3%80%81__and__%E6%96%B9%E6%B3%95">3、__and__方法</h4> 
<h5 id="3-1%E3%80%81%E8%AF%AD%E6%B3%95">3-1、语法</h5> 
<pre><code class="language-python">__and__(self, other, /)
    Return self &amp; other</code></pre> 
<h5 id="3-2%E3%80%81%E5%8F%82%E6%95%B0">3-2、参数</h5> 
<p><span style="color:#fe2c24;"><strong>3-2-1、self</strong></span><span style="color:#956fe7;"><strong>(必须)</strong></span><span style="color:#fe2c24;"><strong>：</strong></span>表示调用该方法的对象本身。</p> 
<p><span style="color:#fe2c24;"><strong>3-2-2、other</strong></span><span style="color:#956fe7;"><strong>(必须)</strong></span><span style="color:#fe2c24;"><strong>：</strong></span>表示与self进行按位与操作的对象。</p> 
<p><span style="color:#fe2c24;"><strong>3-2-3、/</strong></span><span style="color:#956fe7;"><strong>(可选)</strong></span><span style="color:#fe2c24;"><strong>：</strong></span>这是从Python 3.8开始引入的参数注解语法，它表示这个方法不接受任何位置参数(positional-only parameters)之后的关键字参数(keyword arguments)。</p> 
<h5 id="3-3%E3%80%81%E5%8A%9F%E8%83%BD">3-3、功能</h5> 
<p>        用于定义对象之间按位与(bitwise AND)操作的行为。</p> 
<h5 id="3-4%E3%80%81%E8%BF%94%E5%9B%9E%E5%80%BC">3-4、返回值</h5> 
<p>        返回一个值或另一种类型的对象，这个值表示两个操作数按位与的结果。</p> 
<h5 id="3-5%E3%80%81%E8%AF%B4%E6%98%8E">3-5、说明</h5> 
<p>        返回值可以是任何类型，但通常它会返回与操作数相同类型的一个新对象，或者在某些情况下返回另一种类型的对象(只要这个结果是按位与操作的逻辑结果)。</p> 
<h5 id="3-6%E3%80%81%E7%94%A8%E6%B3%95">3-6、用法</h5> 
<pre><code class="language-python"># 003、__and__方法：
class BitField:
    def __init__(self, value):
        self.value = value
    def __and__(self, other):
        # 检查other是否为BitField或整数
        if isinstance(other, BitField):
            other_value = other.value
        elif isinstance(other, int):
            other_value = other
        else:
            raise TypeError(f"Unsupported operand type for &amp;: 'BitField' and '{type(other).__name__}'")
        # 执行按位与操作并返回新的BitField对象
        return BitField(self.value &amp; other_value)
    def __repr__(self):
        # 返回值的二进制表示（仅用于演示）
        return f"BitField(binary: {bin(self.value)[2:]}, decimal: {self.value})"
# 使用示例
bf1 = BitField(60)  # 60 in binary is 0011 1100
bf2 = BitField(13)  # 13 in binary is 0000 1101
# 执行按位与操作
result = bf1 &amp; bf2
print(result)  # 输出: BitField(binary: 1100, decimal: 12)
# 也可以与整数进行按位与操作
result_int = bf1 &amp; 5  # 5 in binary is 0000 0101
print(result_int)  # 输出: BitField(binary: 100, decimal: 4)</code></pre> 
<h4 id="4%E3%80%81__bool__%E6%96%B9%E6%B3%95">4、__bool__方法</h4> 
<h5 id="4-1%E3%80%81%E8%AF%AD%E6%B3%95">4-1、语法</h5> 
<pre><code class="language-python">__bool__(self, /)
    True if self else False</code></pre> 
<h5 id="4-2%E3%80%81%E5%8F%82%E6%95%B0">4-2、参数</h5> 
<p><span style="color:#fe2c24;"><strong>3-2-1、self</strong></span><span style="color:#956fe7;"><strong>(必须)</strong></span><span style="color:#fe2c24;"><strong>：</strong></span>表示调用该方法的对象本身。</p> 
<p><span style="color:#fe2c24;"><strong>3-2-2、/</strong></span><span style="color:#956fe7;"><strong>(可选)</strong></span><span style="color:#fe2c24;"><strong>：</strong></span>这是从Python 3.8开始引入的参数注解语法，它表示这个方法不接受任何位置参数(positional-only parameters)之后的关键字参数(keyword arguments)。</p> 
<h5 id="4-3%E3%80%81%E5%8A%9F%E8%83%BD">4-3、功能</h5> 
<p>        允许类的实例在需要布尔值的上下文中(如<code>if</code>语句、<code>while</code>循环的条件、<code>bool()</code>函数调用等)被正确地评估，即需要根据上下文做出正确的评估。</p> 
<h5 id="4-4%E3%80%81%E8%BF%94%E5%9B%9E%E5%80%BC">4-4、返回值</h5> 
<p>        返回一个布尔值，即<code>True</code>或<code>False</code>。</p> 
<h5 id="4-5%E3%80%81%E8%AF%B4%E6%98%8E">4-5、说明</h5> 
<p>        返回值决定了类的实例在布尔上下文中被视为<code>True</code>还是<code>False</code>。</p> 
<h5 id="4-6%E3%80%81%E7%94%A8%E6%B3%95%C2%A0">4-6、用法 </h5> 
<pre><code class="language-python"># 004、__bool__方法：
# 1、基于值的简单示例
class SimpleBool:
    def __init__(self, value):
        self.value = value
    def __bool__(self):
        return bool(self.value)
# 使用示例
s1 = SimpleBool(True)
s2 = SimpleBool(False)
s3 = SimpleBool(0)
s4 = SimpleBool(1)
print(bool(s1))  # 输出: True
print(bool(s2))  # 输出: False
print(bool(s3))  # 输出: False
print(bool(s4))  # 输出: True
if s1:
    print("s1 is True")  # 输出: s1 is True
if not s2:
    print("s2 is False")  # 输出: s2 is False

# 2、自定义条件判断
class CustomBool:
    def __init__(self, value):
        self.value = value
    def __bool__(self):
        # 假设我们想要当value大于0时返回True
        return self.value &gt; 0
# 使用示例
c1 = CustomBool(5)
c2 = CustomBool(-3)
c3 = CustomBool(0)
print(bool(c1))  # 输出: True
print(bool(c2))  # 输出: False
print(bool(c3))  # 输出: False
if c1:
    print("c1 is greater than 0")  # 输出: c1 is greater than 0
# 3、字符串类，基于内容是否为空
class StringWithBool:
    def __init__(self, content):
        self.content = content
    def __bool__(self):
        # 如果内容非空，返回True
        return bool(self.content.strip())
# 使用示例
str1 = StringWithBool("Hello, Myelsa!")
str2 = StringWithBool("")
str3 = StringWithBool("   ")  # 只有空格
print(bool(str1))  # 输出: True
print(bool(str2))  # 输出: False
print(bool(str3))  # 输出: False（因为strip()移除了空格）  
if str1:
    print("str1 is not empty")  # 输出: str1 is not empty</code></pre> 
<h4 id="5%E3%80%81__call__%E6%96%B9%E6%B3%95">5、__call__方法</h4> 
<h5 id="5-1%E3%80%81%E8%AF%AD%E6%B3%95">5-1、语法</h5> 
<pre><code class="language-python">__call__(*args, **kwargs)
    Call self as a function</code></pre> 
<h5 id="5-2%E3%80%81%E5%8F%82%E6%95%B0">5-2、参数</h5> 
<p><span style="color:#fe2c24;"><strong>5-2-1、*args</strong></span><strong><span style="color:#956fe7;">(可变位置参数)</span></strong>：允许你传递任意数量的位置参数给函数。 </p> 
<p><strong><span style="color:#fe2c24;">5-2-2、**kwargs</span><span style="color:#956fe7;">(可变关键字参数)</span></strong>：允许你传递任意数量的关键字参数给函数。 </p> 
<h5 id="5-3%E3%80%81%E5%8A%9F%E8%83%BD">5-3、功能</h5> 
<p>        为类的实例提供函数式调用的能力。</p> 
<h5 id="5-4%E3%80%81%E8%BF%94%E5%9B%9E%E5%80%BC">5-4、返回值</h5> 
<p>        可以是任何类型，具体取决于你的实现，就像普通的函数一样，你可以从__call__方法中返回任何你想要的值或对象。</p> 
<h5 id="5-5%E3%80%81%E8%AF%B4%E6%98%8E">5-5、说明</h5> 
<p>        当实例被调用时(即使用圆括号和可能的参数)，Python会自动调用该实例的<code>__call__</code>方法，并将括号中的参数传递给该方法。</p> 
<h5 id="5-6%E3%80%81%E7%94%A8%E6%B3%95%C2%A0">5-6、用法 </h5> 
<pre><code class="language-python"># 005、__call__方法：
# 1、简单的函数式类
class Greeter:
    def __init__(self, name):
        self.name = name
    def __call__(self, greeting="Hello"):
        return f"{greeting}, {self.name}!"
# 使用示例
greeter = Greeter("Myelsa")
print(greeter("Hi"))  # 输出: Hi, Myelsa!
print(greeter())  # 输出: Hello, Myelsa!（因为默认参数是"Hello"）
# 2、计算器类
class Calculator:
    def __init__(self, initial_value=0):
        self.value = initial_value
    def __call__(self, operand, operation="+"):
        if operation == "+":
            self.value += operand
        elif operation == "-":
            self.value -= operand
            # 可以添加更多操作，如乘法、除法等
        return self.value
# 使用示例
calc = Calculator(10)
print(calc(5))  # 输出: 15（执行加法操作）
print(calc(3, "-"))  # 输出: 12（执行减法操作）
# 3、可调用对象作为装饰器
class MyDecorator:
    def __init__(self, func):
        self.func = func
    def __call__(self, *args, **kwargs):
        print("Before function call.")
        result = self.func(*args, **kwargs)
        print("After function call.")
        return result
# 使用示例
@MyDecorator
def say_hello(name):
    print(f"Hello, {name}!")
say_hello("Jimmy")
# 输出:
# Before function call.
# Hello, Jimmy!
# After function call.
# 4、作为装饰器的类
class Timer:
    def __init__(self, func):
        self.func = func
    def __call__(self, *args, **kwargs):
        import time
        start_time = time.time()
        result = self.func(*args, **kwargs)
        end_time = time.time()
        print(f"Function {self.func.__name__} took {end_time - start_time:.6f}s to execute.")
        return result
# 使用示例
@Timer
def slow_function():
    import time
    time.sleep(1)  # 模拟耗时操作
    return "Done"
print(slow_function())  # 输出执行时间以及 "Done"
# 5、具有状态的函数式类
class Counter:
    def __init__(self, start=0):
        self.count = start
    def __call__(self):
        self.count += 1
        return self.count
# 使用示例
counter = Counter(5)
print(counter())  # 输出: 6
print(counter())  # 输出: 7
print(counter())  # 输出: 8</code></pre> 
<h3 id="%E4%BA%94%E3%80%81%E6%8E%A8%E8%8D%90%E9%98%85%E8%AF%BB">五、推荐阅读</h3> 
<h4 id="1%E3%80%81Python%E7%AD%91%E5%9F%BA%E4%B9%8B%E6%97%85">1、<a class="link-info" href="https://myelsa1024.blog.csdn.net/article/details/139241094?spm=1001.2014.3001.5502" rel="nofollow" title="Python筑基之旅">Python筑基之旅</a></h4> 
<h4 id="2%E3%80%81Python%E5%87%BD%E6%95%B0%E4%B9%8B%E6%97%85">2、<a class="link-info" href="https://myelsa1024.blog.csdn.net/article/details/138916144?spm=1001.2014.3001.5502" rel="nofollow" title="Python函数之旅">Python函数之旅</a></h4> 
<h4 id="3%E3%80%81Python%E7%AE%97%E6%B3%95%E4%B9%8B%E6%97%85">3、<a class="link-info" href="https://blog.csdn.net/ygb_1024/article/details/136889623?spm=1001.2014.3001.5501" title="Python算法之旅">Python算法之旅</a></h4> 
<h4 id="4%E3%80%81%E5%8D%9A%E5%AE%A2%E4%B8%AA%E4%BA%BA%E4%B8%BB%E9%A1%B5">4、<a class="link-info" href="https://blog.csdn.net/ygb_1024?spm=1010.2135.3001.5421" title="博客个人主页">博客个人主页</a></h4>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/2054e2e6ff610bdae514ca55f92f9a60/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">使用element的小弹框并修改css</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/90e7bde2b59a25a9ec9ea08334511b0a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【MySQL】数据类型</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>