<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>mybatis-config.xml中的environments是什么？ - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/5e2ab281302759e1e512f5c5c7c61b1e/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="mybatis-config.xml中的environments是什么？">
  <meta property="og:description" content="在 MyBatis 的配置文件 mybatis-config.xml 中，environments 元素用于配置 MyBatis 应用程序的环境信息，主要包括数据源和事务管理器的配置。
功能和作用 数据源配置：在 environments 中可以配置一个或多个数据库环境（例如开发环境、测试环境、生产环境），每个环境可以指定一个数据源（如连接池），用于与数据库进行交互。
事务管理器配置：每个环境可以配置一个事务管理器，用于管理 MyBatis 的事务。事务管理器负责管理事务的开始、提交、回滚等操作，确保数据库操作的一致性和可靠性。
配置示例 以下是一个简单的 environments 配置示例：
&lt;environments default=&#34;development&#34;&gt; &lt;environment id=&#34;development&#34;&gt; &lt;transactionManager type=&#34;JDBC&#34;/&gt; &lt;dataSource type=&#34;POOLED&#34;&gt; &lt;property name=&#34;driver&#34; value=&#34;com.mysql.jdbc.Driver&#34;/&gt; &lt;property name=&#34;url&#34; value=&#34;jdbc:mysql://localhost:3306/mydatabase&#34;/&gt; &lt;property name=&#34;username&#34; value=&#34;root&#34;/&gt; &lt;property name=&#34;password&#34; value=&#34;password&#34;/&gt; &lt;/dataSource&gt; &lt;/environment&gt; &lt;/environments&gt; &lt;environments&gt; 元素指定了默认的环境为 development，可以定义多个环境，每个环境有一个唯一的 id。&lt;transactionManager&gt; 元素指定了事务管理器的类型，这里使用的是 JDBC 事务管理器。&lt;dataSource&gt; 元素指定了数据源的类型为 POOLED（连接池），并提供了连接数据库所需的相关属性。 使用方法 在 MyBatis 的映射器（Mapper）文件中，可以通过指定 environment 属性来选择使用的环境，例如：
&lt;mapper namespace=&#34;com.example.mapper.UserMapper&#34; environment=&#34;development&#34;&gt; &lt;!-- mapper configuration here --&gt; &lt;/mapper&gt; 这样配置之后，MyBatis 将会使用 development 环境中配置的数据源和事务管理器来执行 SQL 语句。">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-07-21T11:26:55+08:00">
    <meta property="article:modified_time" content="2024-07-21T11:26:55+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">mybatis-config.xml中的environments是什么？</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>在 MyBatis 的配置文件 <code>mybatis-config.xml</code> 中，<code>environments</code> 元素用于配置 MyBatis 应用程序的环境信息，主要包括数据源和事务管理器的配置。</p> 
<h4><a id="_2"></a>功能和作用</h4> 
<ol><li> <p><strong>数据源配置</strong>：在 <code>environments</code> 中可以配置一个或多个数据库环境（例如开发环境、测试环境、生产环境），每个环境可以指定一个数据源（如连接池），用于与数据库进行交互。</p> </li><li> <p><strong>事务管理器配置</strong>：每个环境可以配置一个事务管理器，用于管理 MyBatis 的事务。事务管理器负责管理事务的开始、提交、回滚等操作，确保数据库操作的一致性和可靠性。</p> </li></ol> 
<h4><a id="_8"></a>配置示例</h4> 
<p>以下是一个简单的 <code>environments</code> 配置示例：</p> 
<pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>environments</span> <span class="token attr-name">default</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>development<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>environment</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>development<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transactionManager</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>JDBC<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dataSource</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>POOLED<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>driver<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.mysql.jdbc.Driver<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>url<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>jdbc:mysql://localhost:3306/mydatabase<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>root<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dataSource</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>environment</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>environments</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<ul><li><code>&lt;environments&gt;</code> 元素指定了默认的环境为 <code>development</code>，可以定义多个环境，每个环境有一个唯一的 <code>id</code>。</li><li><code>&lt;transactionManager&gt;</code> 元素指定了事务管理器的类型，这里使用的是 JDBC 事务管理器。</li><li><code>&lt;dataSource&gt;</code> 元素指定了数据源的类型为 POOLED（连接池），并提供了连接数据库所需的相关属性。</li></ul> 
<h4><a id="_30"></a>使用方法</h4> 
<p>在 MyBatis 的映射器（Mapper）文件中，可以通过指定 <code>environment</code> 属性来选择使用的环境，例如：</p> 
<pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">namespace</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.example.mapper.UserMapper<span class="token punctuation">"</span></span> <span class="token attr-name">environment</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>development<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- mapper configuration here --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mapper</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>这样配置之后，MyBatis 将会使用 <code>development</code> 环境中配置的数据源和事务管理器来执行 SQL 语句。</p> 
<p>总之，<code>environments</code> 元素在 MyBatis 中用于配置不同的数据库环境和相关的事务管理器，使得应用程序可以在不同的部署环境中灵活地切换和配置数据库连接和事务管理。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/5684f59c7472f52d1373fe2446e2e81b/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【C&#43;&#43;】stack与queue的使用以及模拟实现</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/d146eba844e44151e4a782119cbab374/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【超详细】Python datetime（当前日期、时间戳转换、前一天日期等）【附：时区原理详解】</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>