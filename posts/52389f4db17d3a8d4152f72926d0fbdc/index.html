<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>AI测试｜利用OpenAI的文本生成模型，自动生成测试用例的几个场景示例_ai测试自动生成用例(1) - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/52389f4db17d3a8d4152f72926d0fbdc/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="AI测试｜利用OpenAI的文本生成模型，自动生成测试用例的几个场景示例_ai测试自动生成用例(1)">
  <meta property="og:description" content="网上学习资料一大堆，但如果学到的知识不成体系，遇到问题时只是浅尝辄止，不再深入研究，那么很难做到真正的技术提升。
需要这份系统化的资料的朋友，可以戳这里获取
一个人可以走的很快，但一群人才能走的更远！不论你是正从事IT行业的老鸟或是对IT行业感兴趣的新人，都欢迎加入我们的的圈子（技术交流、学习资源、职场吐槽、大厂内推、面试辅导），让我们一起学习成长！
2.安装 OpenAI 包：
!pip install openai -q 第2步：导入库 在你的笔记本中，导入必要的库：
从openai导入 OpenAI 第3步：OpenAI认证 获取你的 OpenAI API 密钥并进行身份验证，如下所示：
openai.api_key = &#39;your-api-key&#39; client = OpenAI(api_key=openai.api_key) 第4步：定义测试用例生成函数 定义一个函数来根据软件需求生成测试用例。
def generate_test_cases(requirement): response = client.chat.completions.create( model=&#34;gpt-3.5-turbo&#34;, messages=[ {&#34;role&#34;: &#34;system&#34;, &#34;content&#34;: &#34;You are a helpful assistant capable of generating software test cases.&#34;}, {&#34;role&#34;: &#34;user&#34;, &#34;content&#34;: requirement} ] ) return response.choices[0].message.content 第5步：测试功能
使用示例需求测试该功能：
requirement = &#34;The system shall allow users to securely login with a username and password.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-05-15T05:21:00+08:00">
    <meta property="article:modified_time" content="2024-05-15T05:21:00+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">AI测试｜利用OpenAI的文本生成模型，自动生成测试用例的几个场景示例_ai测试自动生成用例(1)</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><img src="https://images2.imgbox.com/6f/77/S3WeIUxT_o.png" alt="img"><br> <img src="https://images2.imgbox.com/94/11/AnqQKhpj_o.png" alt="img"></p> 
<p><strong>网上学习资料一大堆，但如果学到的知识不成体系，遇到问题时只是浅尝辄止，不再深入研究，那么很难做到真正的技术提升。</strong></p> 
<p><strong><a href="https://bbs.csdn.net/topics/618631832">需要这份系统化的资料的朋友，可以戳这里获取</a></strong></p> 
<p><strong>一个人可以走的很快，但一群人才能走的更远！不论你是正从事IT行业的老鸟或是对IT行业感兴趣的新人，都欢迎加入我们的的圈子（技术交流、学习资源、职场吐槽、大厂内推、面试辅导），让我们一起学习成长！</strong></p> 
<p>2.安装 OpenAI 包：</p> 
<pre><code>!pip install openai -q
</code></pre> 
<h4><a id="2_21"></a><strong>第2步：导入库</strong></h4> 
<p>在你的笔记本中，导入必要的库：</p> 
<pre><code>从openai导入 OpenAI
</code></pre> 
<h4><a id="3OpenAI_32"></a><strong>第3步：OpenAI认证</strong></h4> 
<p>获取你的 OpenAI API 密钥并进行身份验证，如下所示：</p> 
<pre><code>openai.api_key = 'your-api-key' client = OpenAI(api_key=openai.api_key)
</code></pre> 
<h4><a id="4_43"></a><strong>第4步：定义测试用例生成函数</strong></h4> 
<p>定义一个函数来根据软件需求生成测试用例。</p> 
<pre><code>def generate_test_cases(requirement):    response = client.chat.completions.create(      model="gpt-3.5-turbo",      messages=[        {"role": "system", "content": "You are a helpful assistant capable of generating software test cases."},        {"role": "user", "content": requirement}      ]    )    return response.choices[0].message.content
</code></pre> 
<p><strong>第5步：测试功能</strong></p> 
<p>使用示例需求测试该功能：</p> 
<pre><code>requirement = "The system shall allow users to securely login with a username and password."test_cases = generate_test_cases(requirement)print(test_cases)
</code></pre> 
<p><img src="https://images2.imgbox.com/7d/b5/ehVFWItz_o.png" alt=""></p> 
<h4><a id="6_68"></a><strong>第6步：输出分析和细化</strong></h4> 
<p>评估输出的相关性和完整性，根据需要完善提示或参数。</p> 
<h4><a id="7_74"></a><strong>第7步：与测试管理工具集成</strong></h4> 
<p>（可选）将输出与测试管理工具或存储库集成，以自动将新测试用例添加到套件中。</p> 
<h3><a id="_80"></a><strong>结论</strong></h3> 
<p>你现在已经创建了一个工具，可以使用 OpenAI 的文本生成模型生成测试用例。该工具不仅节省时间，还能确保人工难以达到的一致性和彻底性。</p> 
<h3><a id="_86"></a><strong>未来的增强功能</strong></h3> 
<ul><li>集成GPT-4-vision-preview 以进行 GUI 测试。</li><li>实施可重复的输出以保持一致性。</li><li>使用 JSON 模式进行与测试管理工具兼容的结构化输出。</li></ul> 
<p>在软件测试中的人工智能动态领域，保持适应性和探索性至关重要，从而释放其全部潜力。</p> 
<h3><a id="2Shopping_Cart__97"></a><strong>示例2：为购物车（Shopping Cart ）功能生成回归测试场景</strong></h3> 
<p>目标：自动生成电子商务应用程序中购物车功能的回归测试场景，确保新的更改不会破坏现有功能。</p> 
<h3><a id="_103"></a><strong>代码演练：</strong></h3> 
<p><strong>设置身份验证：</strong></p> 
<p>使用你的 OpenAI API 密钥向 OpenAI 客户端进行身份验证。</p> 
<pre><code>从 openai导入 OpenAI客户端 = OpenAI(api_key= 'your-api-key' )
</code></pre> 
<p><strong>定义测试用例生成器函数：</strong></p> 
<p>该函数将获取功能描述并返回回归测试场景。</p> 
<pre><code>def generate_regression_tests(feature_description):    response = client.chat.completions.create(        model="gpt-3.5-turbo",        messages=[            {"role": "system", "content": "You are a helpful assistant capable of generating regression test scenarios for a shopping cart feature."},            {"role": "user", "content": feature_description}        ]    )    return response.choices[0].message.content
</code></pre> 
<p><strong>调用具有功能描述的函数：</strong></p> 
<p>提供购物车功能的描述以生成测试场景。</p> 
<pre><code>feature_description = "Ensure that the shopping cart allows users to add items, remove items, and proceed to checkout."regression_tests = generate_regression_tests(feature_description)print(regression_tests)
</code></pre> 
<p><strong>评估和完善：</strong></p> 
<p>分析生成的测试场景，并根据需要迭代提示以确保全面覆盖。</p> 
<p><img src="https://images2.imgbox.com/7b/91/Hghc4YIB_o.png" alt="图片"></p> 
<p><strong>示例3：验证天气预报服务的API响应</strong></p> 
<p>目标：生成测试用例来验证天气预报服务的JSON API响应，确保数据结构和值符合预期。</p> 
<h3><a id="_155"></a><strong>代码演练：</strong></h3> 
<p><strong>设置身份验证：</strong></p> 
<p>使用你提供的 API 密钥通过 OpenAI API 进行身份验证。</p> 
<pre><code>from openai import OpenAIclient = OpenAI(api_key='your-api-key')
</code></pre> 
<p><strong>定义测试用例生成器函数：</strong></p> 
<p>此函数将获取 API 端点描述并返回测试用例以验证API的JSON响应。</p> 
<pre><code>def generate_api_validation_tests(api_description):    response = client.chat.completions.create(        model="gpt-3.5-turbo",        messages=[            {"role": "system", "content": "You are a helpful assistant that generates test cases to validate JSON responses from an API."},            {"role": "user", "content": api_description}        ]    )    return response.choices[0].message.content
</code></pre> 
<p><strong>使用API描述调用函数：</strong></p> 
<p>提供 API 端点的描述以生成验证测试用例。</p> 
<pre><code>api_description = "The weather API should return a JSON response with fields for temperature, humidity, and precipitation forecast for the next 5 days."api_validation_tests = generate_api_validation_tests(api_description)print(api_validation_tests)
</code></pre> 
<p><img src="https://images2.imgbox.com/63/0a/zuN6Lnfp_o.png" alt="图片"></p> 
<p><strong>评估和完善：</strong></p> 
<p>检查生成的测试用例的准确性和完整性。确保测试用例检查每个字段是否存在以及数据格式的正确性。</p> 
<p><strong>用户说明：</strong></p> 
<ul><li>确保替换’your-api-key’为实际的 OpenAI API 密钥。</li><li>在 Jupyter Notebook 环境（例如 Google Colab）中运行每个代码块。</li><li>运行测试用例生成器函数后，查看建议的测试用例。</li><li>如果输出不令人满意，请细化功能或 API 描述以使其更加具体，或调整系统消息以更好地指导模型。</li><li>迭代输入和系统消息，直到生成的测试用例满足您对覆盖范围和细节的要求。</li></ul> 
<p>通过遵循这些示例，你可以扩展 AI 驱动的测试生成的功能，以涵盖软件测试的各个方面，从而使测试过程更加稳健和高效。</p> 
<p><strong>让我们为此创建一个Web应用程序</strong></p> 
<p><strong>第1步：创建 GitHub 帐户</strong></p> 
<p>1.访问GitHub 的网站。（https://github.com/）</p> 
<p>2.单击右上角的“注册”按钮。</p> 
<p>3.在必填字段中填写新 GitHub 帐户的用户名、电子邮件地址和密码。</p> 
<p>4.通过 GitHub 发送给你的电子邮件验证你的帐户。<br> 5.按照屏幕上的说明完成设置。</p> 
<p><strong>第2步：创建新存储库</strong></p> 
<p>1.登录后，单击右上角的“+”图标并选择“新存储库（New repository）”。</p> 
<p>2.为你的存储库命名，例如“streamlit-test-case-generator”。</p> 
<p>3.选择你希望存储库是公共的还是私有的。</p> 
<p>4.使用 README 文件初始化存储库。</p> 
<p>5.单击“创建存储库”。</p> 
<p><strong>第3步：将文件添加到你的存储库</strong></p> 
<p>1.在你的存储库中，单击“添加文件”并选择“创建新文件”。</p> 
<p>2.创建一个名为app.py—这将是 Streamlit 应用程序的主 Python 文件。</p> 
<p>3.将你的 Streamlit 代码写入app.py. 确保您的代码包含 API 密钥的错误处理，以避免暴露它。</p> 
<p>4.创建另一个名为requirements.txt. 此文件应列出你的应用程序依赖的所有 Python 库，包括streamlit和openai.</p> 
<p>5.单击“提交新文件”来提交新文件。</p> 
<p>这是app.py：</p> 
<pre><code>import streamlit as stimport openaiimport os


![img](https://img-blog.csdnimg.cn/img_convert/14257fb5cfa79b94f70f3807ce23244e.png)
![img](https://img-blog.csdnimg.cn/img_convert/64b5647dfdd82ec95b4ff646657d4dcc.png)

**网上学习资料一大堆，但如果学到的知识不成体系，遇到问题时只是浅尝辄止，不再深入研究，那么很难做到真正的技术提升。**

**[需要这份系统化的资料的朋友，可以戳这里获取](https://bbs.csdn.net/topics/618631832)**

**一个人可以走的很快，但一群人才能走的更远！不论你是正从事IT行业的老鸟或是对IT行业感兴趣的新人，都欢迎加入我们的的圈子（技术交流、学习资源、职场吐槽、大厂内推、面试辅导），让我们一起学习成长！**

)]
[外链图片转存中...(img-vxXAcMjj-1715721638098)]

**网上学习资料一大堆，但如果学到的知识不成体系，遇到问题时只是浅尝辄止，不再深入研究，那么很难做到真正的技术提升。**

**[需要这份系统化的资料的朋友，可以戳这里获取](https://bbs.csdn.net/topics/618631832)**

**一个人可以走的很快，但一群人才能走的更远！不论你是正从事IT行业的老鸟或是对IT行业感兴趣的新人，都欢迎加入我们的的圈子（技术交流、学习资源、职场吐槽、大厂内推、面试辅导），让我们一起学习成长！**

</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/9fa493c647240699c97620bedaf59eef/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">TreeMap详解：Java 有序 Map 原理与实现</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/d913289d5faec57d61107240a08f8e4c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Android&#43;Appium自动化测试环境搭建及实操_appium实现android自动化</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>