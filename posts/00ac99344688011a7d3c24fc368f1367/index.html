<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【工程实践】np.loadtxt()读取数据 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/00ac99344688011a7d3c24fc368f1367/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="【工程实践】np.loadtxt()读取数据">
  <meta property="og:description" content="前言 机器学习中可使用np.loadtxt()可以高效的导入数据，np.loadtxt()适合.txt文件和.csv文件。但是它默认读取float类型的值。
1.np.loadtxt()读取txt文件 1-1 基础参数 numpy.loadtxt( fname, dtype=, comments=&#39;#&#39;, delimiter=None, converters=None, skiprows=0, usecols=None, unpack=False, ndmin=0) 1-2 参数详解 fname要读取的文件、文件名、或生成器。
dtype数据类型，默认float。
comments注释。
delimiter分隔符，默认是空格。
skiprows跳过前几行读取，默认是0，必须是int整型。
usecols要读取哪些列，0是第一列。例如，usecols = （1,4,5）将提取第2，第5和第6列。默认读取所有列。
unpack如果为True，将分列读取。
1-3 应用示例 文件的存储路径为:&#39;./data.txt&#39;， 文件内容如下：
1-3-1 fname fname可以是文件的路径也可以是要读取的文件。 #根据文件名直接读取 data = np.loadtxt(&#39;./data/data.csv&#39;) 1-3-2 dtype dtype默认为np.float32类型，也可以设置为其他类型，比如int。设置为其他dtype时需要考虑数据本身的类型。
#设置dtype data = np.loadtxt(&#39;./data/data.csv&#39;,dtype=np.float32) #设置dtype data = np.loadtxt(&#39;./data/data.csv&#39;,dtype=int) 1-3-3 comments comment的是指, 如果行的开头为comment的值，那在读取时就会跳过该行。示例代码中comment = &#39;1&#39;,则在读取数据时，会跳过开头为1的行。
data = np.loadtxt(&#39;./data.txt&#39;,dtype = int,comments=&#39;1&#39;) 1-3-4 delimiter delimiter是分隔符，默认是空格。
data = np.loadtxt(&#39;./data.txt&#39;,dtype = int,comments=&#39;1&#39;,delimiter=&#39; &#39;) 我们改变一下数据，将数据中的分隔符改为&#39;,&#39;之后再重新读取。">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2023-11-14T08:53:19+08:00">
    <meta property="article:modified_time" content="2023-11-14T08:53:19+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【工程实践】np.loadtxt()读取数据</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>前言</h2> 
<p>        机器学习中可使用np.loadtxt()可以高效的导入数据，np.loadtxt()适合.txt文件和.csv文件。但是它默认读取float类型的值。</p> 
<h2>1.np.loadtxt()读取txt文件</h2> 
<h3>1-1 基础参数</h3> 
<pre><code>numpy.loadtxt(
    fname, dtype=, comments='#', 
    delimiter=None, converters=None, 
    skiprows=0, usecols=None, 
    unpack=False, ndmin=0)
</code></pre> 
<h3>1-2 参数详解 </h3> 
<blockquote> 
 <p>fname要读取的文件、文件名、或生成器。<br> dtype数据类型，默认float。<br> comments注释。<br> delimiter分隔符，默认是空格。<br> skiprows跳过前几行读取，默认是0，必须是int整型。<br> usecols要读取哪些列，0是第一列。例如，usecols = （1,4,5）将提取第2，第5和第6列。默认读取所有列。<br> unpack如果为True，将分列读取。</p> 
</blockquote> 
<h3>1-3 应用示例</h3> 
<p>        文件的存储路径为:'./data.txt'， 文件内容如下：</p> 
<p class="img-center"><img alt="" height="150" src="https://images2.imgbox.com/b3/95/R0V1j4qZ_o.png" width="311"></p> 
<h4><strong> 1-3-1 </strong>fname</h4> 
<p>        fname可以是文件的路径也可以是要读取的文件。 </p> 
<pre><code>#根据文件名直接读取
data = np.loadtxt('./data/data.csv')</code></pre> 
<p class="img-center"><img alt="" height="150" src="https://images2.imgbox.com/a8/6f/27monoqG_o.png" width="500"></p> 
<h4> 1-3-2 dtype</h4> 
<p>        dtype默认为np.float32类型，也可以设置为其他类型，比如int。设置为其他dtype时需要考虑数据本身的类型。</p> 
<pre><code>#设置dtype
data = np.loadtxt('./data/data.csv',dtype=np.float32)
#设置dtype
data = np.loadtxt('./data/data.csv',dtype=int)</code></pre> 
<p class="img-center"><img alt="" height="127" src="https://images2.imgbox.com/0e/1b/TwVNGcvC_o.png" width="500"></p> 
<h4>  1-3-3 comments</h4> 
<p>        comment的是指, 如果行的开头为comment的值，那在读取时就会跳过该行。示例代码中comment  = '1',则在读取数据时，会跳过开头为1的行。</p> 
<pre><code>data = np.loadtxt('./data.txt',dtype = int,comments='1')</code></pre> 
<p class="img-center"><img alt="" height="114" src="https://images2.imgbox.com/d2/95/slcwTNpN_o.png" width="500"></p> 
<h4>1-3-4 delimiter </h4> 
<p>        delimiter是分隔符，默认是空格。</p> 
<pre><code>data = np.loadtxt('./data.txt',dtype = int,comments='1',delimiter=' ')</code></pre> 
<p class="img-center"><img alt="" height="127" src="https://images2.imgbox.com/7f/df/j3vh2qiY_o.png" width="500"></p> 
<p>        我们改变一下数据，将数据中的分隔符改为','之后再重新读取。</p> 
<pre><code>data = np.loadtxt('./data.txt',dtype = int,delimiter=',')</code></pre> 
<p class="img-center"><img alt="" height="138" src="https://images2.imgbox.com/a3/4c/lo6iZvTs_o.png" width="500"></p> 
<h4> 1-3-5 skiprows</h4> 
<p>        skiprows跳过前几行读取，默认是0，必须是int整型。skiprows = 2则表示跳过前两行读取数据。</p> 
<pre><code>data = np.loadtxt('./data.txt',dtype = int,delimiter=',',skiprows=2)</code></pre> 
<p>        读取数据时，设定 skiprows = 2，则将前两行跳过，从第三行开始读取。</p> 
<p class="img-center"><img alt="" height="82" src="https://images2.imgbox.com/83/2e/a7co4ZVd_o.png" width="500"></p> 
<h4>1-3-6 usecols</h4> 
<p>        usecols要读取哪些列，0是第一列。例如，usecols = （1,4,5）将提取第2，第5和第6列。默认读取所有列。</p> 
<p>        读取第2列数据。</p> 
<pre><code>data = np.loadtxt('./data.txt',dtype = int,delimiter=',',usecols = 1)</code></pre> 
<p class="img-center"><img alt="" height="65" src="https://images2.imgbox.com/61/4c/MtlBSGeZ_o.png" width="500"></p> 
<p>        读取第2，6，9列数据。 </p> 
<pre><code>data = np.loadtxt('./data.txt',dtype = int,delimiter=',',usecols =(1,5,8))</code></pre> 
<p class="img-center"><img alt="" height="83" src="https://images2.imgbox.com/97/0a/fV2739Y9_o.png" width="500"></p> 
<h4>1-3-7 unpack</h4> 
<p>        unpack如果设置为Ture，将分列读取，类似于矩阵的转置。</p> 
<p>        未设置之前，数据读取时是以行为单位进行读取。</p> 
<p class="img-center"><img alt="" height="150" src="https://images2.imgbox.com/a8/74/rAj9xt2w_o.png" width="445"></p> 
<p>         设置unpack=Ture之后再次读取，矩阵的列变为了行。</p> 
<p class="img-center"><img alt="" height="200" src="https://images2.imgbox.com/5a/e5/bOst7wrw_o.png" width="297"></p> 
<h2 style="background-color:transparent;">2 np.loadtxt()读取csv文件 </h2> 
<p>        读取csv文件与读取txt文件的参数一致，需要注意的是csv文件的分隔符一般是“,”并且含有表头，所以需要使用delimiter=','作为分隔符，以及使用skiprows=1跳过表头。</p> 
<p>        原始csv文件内容：</p> 
<p class="img-center"><img alt="" height="150" src="https://images2.imgbox.com/2a/16/bWrfYssa_o.png" width="559"></p> 
<pre><code>#根据data_path读取文件内容
train_XY  = np.loadtxt(data_path, delimiter=',', skiprows = 1,dtype=np.float32)</code></pre> 
<p class="img-center"><img alt="" height="150" src="https://images2.imgbox.com/20/23/lznKXuTl_o.png" width="472"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/a23fb9949a703dc585efbc21b599acf1/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Java 算法篇-深入了解单链表的反转（实现：用 5 种方式来具体实现）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/afc8eeaf7f10fe786c5fbca35feea1d1/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Unity与原生交互之AndroidStudio篇——Unity导出Android工程，导入AndroidStudio打包APK全流程</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>