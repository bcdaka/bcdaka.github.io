<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Spring Boot3è‡ªå®šä¹‰å¼‚å¸¸åŠå…¨å±€å¼‚å¸¸æ•è· - ç¼–ç¨‹å¤§å’–</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/f91cdc0939efb87de2e1cd0d11ce3731/">
  <meta property="og:site_name" content="ç¼–ç¨‹å¤§å’–">
  <meta property="og:title" content="Spring Boot3è‡ªå®šä¹‰å¼‚å¸¸åŠå…¨å±€å¼‚å¸¸æ•è·">
  <meta property="og:description" content="â›°ï¸ä¸ªäººä¸»é¡µ:Â è’¾é…’
ğŸ”¥ç³»åˆ—ä¸“æ ï¼šã€Šspring bootå®æˆ˜ã€‹
ç›®å½•
å‰ç½®æ¡ä»¶
ç›®çš„
ä¸»è¦æ­¥éª¤
å®šä¹‰è‡ªå®šä¹‰å¼‚å¸¸ç±»
åˆ›å»ºå…¨å±€å¼‚å¸¸å¤„ç†å™¨
æ‰‹åŠ¨æŠ›å‡ºè‡ªå®šä¹‰å¼‚å¸¸
å‰ç½®æ¡ä»¶ å·²ç»åˆå§‹åŒ–å¥½ä¸€ä¸ªspring booté¡¹ç›®ä¸”ç‰ˆæœ¬ä¸º3Xï¼Œé¡¹ç›®å¯æ­£å¸¸å¯åŠ¨ã€‚
ä½œè€…ç‰ˆæœ¬ä¸º3.2.2
åˆå§‹åŒ–æ•™ç¨‹ï¼š
æ–°ç‰ˆidea(2023)åˆ›å»ºspring boot3é¡¹ç›®-CSDNåšå®¢https://blog.csdn.net/qq_62262918/article/details/135785412?spm=1001.2014.3001.5501
ç›®çš„ Spring Bootåº”ç”¨ç¨‹åºå¼€å‘ä¸­ï¼Œä¼šé‡åˆ°å„ç§å¼‚å¸¸æœ‰å¯é¢„çŸ¥çš„ä¹Ÿæœ‰ä¸å¯é¢„çŸ¥çš„ï¼Œæˆ‘ä»¬å¾ˆå°‘ä¼šæ¯ä¸ªè¿‡ç¨‹åšå•ç‹¬å¼‚å¸¸å¤„ç†ï¼Œé€šå¸¸ä¼šå°†å„ç§ç±»å‹çš„å¼‚å¸¸å¤„ç†è¿‡ç¨‹è§£è€¦å‡ºæ¥ï¼Œä¿è¯ä¸šåŠ¡é€»è¾‘å•ä¸€ã€ç›¸å…³å¼‚å¸¸å¤„ç†å•ä¸€ã€‚
é€šå¸¸å°†å¼‚å¸¸è¿›è¡Œå¤„ç†ï¼Œå°è£…ä¸€ä¸‹å¯¹åº”é”™è¯¯ä¿¡æ¯è¿”å›å‹å¥½ä¿¡æ¯ã€‚é¿å…æŠŠå¼‚å¸¸ç›´æ¥ç»™å‰ç«¯ã€ç”¨æˆ·ã€‚
åä¾‹ï¼šå¼‚å¸¸ç›´æ¥è¿”å›(ä¸å‹å¥½)
æ­£ä¾‹ï¼šå¤„ç†åè¿”å›æç¤ºä¿¡æ¯(å‹å¥½)
ä¸»è¦æ­¥éª¤ è‡ªå®šä¹‰å¼‚å¸¸ç±» ä¸‹é¢æˆ‘ä»¬ä¸¾ä¾‹å®šä¹‰å‡ ç§å¸¸ç”¨å¼‚å¸¸ç±»ï¼š
ç¬¬ä¸€ç§ï¼šé€šç”¨ä¸šåŠ¡å¼‚å¸¸ç±»
æœ‰ä¸€äº›ä¸šåŠ¡å¼‚å¸¸å¯èƒ½ä»…ä»…æ˜¯è¿”å›çš„é”™è¯¯æç¤ºä¿¡æ¯çš„ä¸åŒï¼Œå¹¶ä¸éœ€è¦é¢å¤–çš„ç‰¹æ®Šé€»è¾‘å¤„ç†ï¼Œæˆ‘ä»¬ä»…ä»…åœ¨ä¸šåŠ¡ä»£ç é‡Œé¢å°†å®ƒæŠ›å‡ºæ¥è§¦å‘å¯¹åº”è¿”å›å¤„ç†ã€‚
å¦‚å›¾ï¼š
ä»£ç å¦‚ä¸‹ï¼š
import lombok.Getter; import lombok.Setter; /** * @author mijiupro * é€šç”¨ä¸šåŠ¡å¼‚å¸¸ç±» */ @Getter @Setter public class GeneralBusinessException extends RuntimeException{ private int code=0; private String message; public GeneralBusinessException(String message) { this.message = message; } } ç¬¬äºŒç§ï¼šç‰¹æ®Šå¤„ç†ä¸šåŠ¡å¼‚å¸¸ç±»
å¯èƒ½å¤„äºå®‰å…¨æ€§è€ƒè™‘ï¼Œé€šå¸¸ä¼šè¿›è¡Œå¯†ç é”™è¯¯æ¬¡æ•°é™åˆ¶ï¼Œæ¯æ¬¡å‡ºç°å¯†ç é”™è¯¯å¼‚å¸¸å°±éœ€è¦è¿›è¡Œç´¯åŠ 
å¯¹äºè¿™ç§éœ€è¦è¿›è¡Œç‰¹æ®Šå¤„ç†çš„ä¸šåŠ¡å¼‚å¸¸ï¼Œæˆ‘ä»¬å°±éœ€è¦å•ç‹¬å®šä¹‰å‡ºå¯¹åº”å¼‚å¸¸ç±»ã€‚
ä»£ç å¦‚ä¸‹ï¼š
import com.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-04-27T16:37:13+08:00">
    <meta property="article:modified_time" content="2024-04-27T16:37:13+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ç¼–ç¨‹å¤§å’–" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ç¼–ç¨‹å¤§å’–</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Spring Boot3è‡ªå®šä¹‰å¼‚å¸¸åŠå…¨å±€å¼‚å¸¸æ•è·</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>Â <img alt="" height="68" src="https://images2.imgbox.com/a4/0e/JSxZ76bF_o.jpg" width="68"></p> 
<p><span style="color:#a2e043;">â›°ï¸<a href="https://so.csdn.net/so/search?q=%E4%B8%AA%E4%BA%BA%E4%B8%BB%E9%A1%B5&amp;spm=1001.2101.3001.7020" title="ä¸ªäººä¸»é¡µ">ä¸ªäººä¸»é¡µ</a>:Â  Â  Â <a href="https://blog.csdn.net/qq_62262918?spm=1011.2266.3001.5343" title="è’¾é…’">è’¾é…’</a></span></p> 
<p><span style="color:#b95514;">ğŸ”¥ç³»åˆ—ä¸“æ ï¼š<a href="https://blog.csdn.net/qq_62262918/category_12571219.html?spm=1001.2014.3001.5482" title="ã€Šspring bootå®æˆ˜ã€‹">ã€Šspring bootå®æˆ˜ã€‹</a></span></p> 
<hr> 
<p id="main-toc"><strong>ç›®å½•</strong></p> 
<p id="%E5%89%8D%E7%BD%AE%E6%9D%A1%E4%BB%B6-toc" style="margin-left:0px;"><a href="#%E5%89%8D%E7%BD%AE%E6%9D%A1%E4%BB%B6" rel="nofollow">å‰ç½®æ¡ä»¶</a></p> 
<p id="%E7%9B%AE%E7%9A%84-toc" style="margin-left:0px;"><a href="#%E7%9B%AE%E7%9A%84" rel="nofollow">ç›®çš„</a></p> 
<p id="%E4%B8%BB%E8%A6%81%E6%AD%A5%E9%AA%A4-toc" style="margin-left:0px;"><a href="#%E4%B8%BB%E8%A6%81%E6%AD%A5%E9%AA%A4" rel="nofollow">ä¸»è¦æ­¥éª¤</a></p> 
<p id="%E5%AE%9A%E4%B9%89%E8%87%AA%E5%AE%9A%E4%B9%89%E5%BC%82%E5%B8%B8%E7%B1%BB-toc" style="margin-left:40px;"><a href="#%E5%AE%9A%E4%B9%89%E8%87%AA%E5%AE%9A%E4%B9%89%E5%BC%82%E5%B8%B8%E7%B1%BB" rel="nofollow">å®šä¹‰è‡ªå®šä¹‰å¼‚å¸¸ç±»</a></p> 
<p id="%E5%88%9B%E5%BB%BA%E5%85%A8%E5%B1%80%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E5%99%A8-toc" style="margin-left:40px;"><a href="#%E5%88%9B%E5%BB%BA%E5%85%A8%E5%B1%80%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E5%99%A8" rel="nofollow">åˆ›å»ºå…¨å±€å¼‚å¸¸å¤„ç†å™¨</a></p> 
<p id="%E6%89%8B%E5%8A%A8%E6%8A%9B%E5%87%BA%E8%87%AA%E5%AE%9A%E4%B9%89%E5%BC%82%E5%B8%B8-toc" style="margin-left:40px;"><a href="#%E6%89%8B%E5%8A%A8%E6%8A%9B%E5%87%BA%E8%87%AA%E5%AE%9A%E4%B9%89%E5%BC%82%E5%B8%B8" rel="nofollow">æ‰‹åŠ¨æŠ›å‡ºè‡ªå®šä¹‰å¼‚å¸¸</a></p> 
<hr id="hr-toc"> 
<p></p> 
<h2 id="%E5%89%8D%E7%BD%AE%E6%9D%A1%E4%BB%B6">å‰ç½®æ¡ä»¶</h2> 
<p>å·²ç»åˆå§‹åŒ–å¥½ä¸€ä¸ªspring booté¡¹ç›®ä¸”ç‰ˆæœ¬ä¸º3Xï¼Œé¡¹ç›®å¯æ­£å¸¸å¯åŠ¨ã€‚</p> 
<p>ä½œè€…ç‰ˆæœ¬ä¸º3.2.2</p> 
<p>åˆå§‹åŒ–æ•™ç¨‹ï¼š</p> 
<p><a class="has-card" href="https://blog.csdn.net/qq_62262918/article/details/135785412?spm=1001.2014.3001.5501" title="æ–°ç‰ˆidea(2023)åˆ›å»ºspring boot3é¡¹ç›®-CSDNåšå®¢"><span class="link-card-box"><span class="link-title">æ–°ç‰ˆidea(2023)åˆ›å»ºspring boot3é¡¹ç›®-CSDNåšå®¢</span><span class="link-link"><img class="link-link-icon" src="https://images2.imgbox.com/10/d1/nFeAapSb_o.png" alt="icon-default.png?t=N7T8">https://blog.csdn.net/qq_62262918/article/details/135785412?spm=1001.2014.3001.5501</span></span></a></p> 
<h2 id="%E7%9B%AE%E7%9A%84">ç›®çš„</h2> 
<p>Spring Bootåº”ç”¨ç¨‹åºå¼€å‘ä¸­ï¼Œä¼šé‡åˆ°å„ç§å¼‚å¸¸æœ‰å¯é¢„çŸ¥çš„ä¹Ÿæœ‰ä¸å¯é¢„çŸ¥çš„ï¼Œæˆ‘ä»¬å¾ˆå°‘ä¼šæ¯ä¸ªè¿‡ç¨‹åšå•ç‹¬å¼‚å¸¸å¤„ç†ï¼Œé€šå¸¸ä¼šå°†å„ç§ç±»å‹çš„å¼‚å¸¸å¤„ç†è¿‡ç¨‹è§£è€¦å‡ºæ¥ï¼Œ<span style="background-color:#ffd900;">ä¿è¯ä¸šåŠ¡é€»è¾‘å•ä¸€ã€ç›¸å…³å¼‚å¸¸å¤„ç†å•ä¸€</span>ã€‚</p> 
<p>é€šå¸¸å°†å¼‚å¸¸è¿›è¡Œå¤„ç†ï¼Œ<span style="background-color:#ffd900;">å°è£…ä¸€ä¸‹å¯¹åº”é”™è¯¯ä¿¡æ¯è¿”å›å‹å¥½ä¿¡æ¯</span>ã€‚é¿å…æŠŠå¼‚å¸¸ç›´æ¥ç»™å‰ç«¯ã€ç”¨æˆ·ã€‚</p> 
<p><strong>åä¾‹ï¼šå¼‚å¸¸ç›´æ¥è¿”å›(ä¸å‹å¥½)</strong></p> 
<p><img alt="" height="217" src="https://images2.imgbox.com/b4/88/TtyRVDzM_o.png" width="701"></p> 
<p><strong>æ­£ä¾‹ï¼šå¤„ç†åè¿”å›æç¤ºä¿¡æ¯(å‹å¥½)</strong></p> 
<p><img alt="" height="257" src="https://images2.imgbox.com/9b/93/wve1mKbu_o.png" width="717"></p> 
<p></p> 
<h2 id="%E4%B8%BB%E8%A6%81%E6%AD%A5%E9%AA%A4">ä¸»è¦æ­¥éª¤</h2> 
<h3 id="%E5%AE%9A%E4%B9%89%E8%87%AA%E5%AE%9A%E4%B9%89%E5%BC%82%E5%B8%B8%E7%B1%BB"><strong>è‡ªå®šä¹‰å¼‚å¸¸ç±»</strong></h3> 
<p>ä¸‹é¢æˆ‘ä»¬ä¸¾ä¾‹å®šä¹‰å‡ ç§å¸¸ç”¨å¼‚å¸¸ç±»ï¼š</p> 
<blockquote> 
 <p>ç¬¬ä¸€ç§ï¼šé€šç”¨ä¸šåŠ¡å¼‚å¸¸ç±»</p> 
</blockquote> 
<p>æœ‰ä¸€äº›ä¸šåŠ¡å¼‚å¸¸å¯èƒ½ä»…ä»…æ˜¯è¿”å›çš„é”™è¯¯æç¤ºä¿¡æ¯çš„ä¸åŒï¼Œå¹¶ä¸éœ€è¦é¢å¤–çš„ç‰¹æ®Šé€»è¾‘å¤„ç†ï¼Œæˆ‘ä»¬ä»…ä»…åœ¨ä¸šåŠ¡ä»£ç é‡Œé¢å°†å®ƒæŠ›å‡ºæ¥è§¦å‘å¯¹åº”è¿”å›å¤„ç†ã€‚</p> 
<p>å¦‚å›¾ï¼š</p> 
<p><img alt="" height="141" src="https://images2.imgbox.com/0e/4d/DsuxdVsi_o.png" width="931"></p> 
<p>ä»£ç å¦‚ä¸‹ï¼š</p> 
<pre><code class="language-java">import lombok.Getter;
import lombok.Setter;

/**
 * @author mijiupro
 * é€šç”¨ä¸šåŠ¡å¼‚å¸¸ç±»
 */
@Getter
@Setter
public class GeneralBusinessException extends RuntimeException{
    private int code=0;
    private String message;

    public GeneralBusinessException(String message) {
        this.message = message;
    }

}</code></pre> 
<blockquote> 
 <p>ç¬¬äºŒç§ï¼šç‰¹æ®Šå¤„ç†ä¸šåŠ¡å¼‚å¸¸ç±»</p> 
</blockquote> 
<p>å¯èƒ½å¤„äºå®‰å…¨æ€§è€ƒè™‘ï¼Œé€šå¸¸ä¼šè¿›è¡Œå¯†ç é”™è¯¯æ¬¡æ•°é™åˆ¶ï¼Œæ¯æ¬¡å‡ºç°å¯†ç é”™è¯¯å¼‚å¸¸å°±éœ€è¦è¿›è¡Œç´¯åŠ </p> 
<p>å¯¹äºè¿™ç§éœ€è¦è¿›è¡Œç‰¹æ®Šå¤„ç†çš„ä¸šåŠ¡å¼‚å¸¸ï¼Œæˆ‘ä»¬å°±éœ€è¦å•ç‹¬å®šä¹‰å‡ºå¯¹åº”å¼‚å¸¸ç±»ã€‚</p> 
<p>ä»£ç å¦‚ä¸‹ï¼š</p> 
<pre><code class="language-java">import com.mijiu.commom.enumerate.ResultEnum;
import lombok.Getter;

/**
 * å¯†ç é”™è¯¯å¼‚å¸¸
 *
 * @author mijiupro
 */
@Getter
public class PasswordErrorException extends RuntimeException {
    private final ResultEnum resultEnum;
    
    public PasswordErrorException(ResultEnum resultEnum) {
        this.resultEnum = resultEnum;
    }

}</code></pre> 
<p>å¯¹äºå„ç§ä¸šåŠ¡å¼‚å¸¸çš„å¯¹åº”é”™è¯¯æç¤ºä¿¡æ¯é€šå¸¸å¯ä»¥é€šè¿‡ä¸€ä¸ªæšä¸¾ç±»æ¥ç»´æŠ¤ã€‚</p> 
<pre><code class="language-java">import lombok.Getter;

/**
 * @author mijiupro
 */
@Getter
public enum ResultEnum {

    /* æˆåŠŸçŠ¶æ€ç  */
    SUCCESS(1, "æ“ä½œæˆåŠŸï¼"),

    /* é”™è¯¯çŠ¶æ€ç  */
    FAIL(0, "æ“ä½œå¤±è´¥ï¼"),

    /* å‚æ•°é”™è¯¯ï¼š10001-19999 */
    PARAM_IS_INVALID(10001, "å‚æ•°æ— æ•ˆ"),
    PARAM_IS_BLANK(10002, "å‚æ•°ä¸ºç©º"),
    PARAM_TYPE_BIND_ERROR(10003, "å‚æ•°æ ¼å¼é”™è¯¯"),
    PARAM_NOT_COMPLETE(10004, "å‚æ•°ç¼ºå¤±"),

    /* ç”¨æˆ·é”™è¯¯ï¼š20001-29999*/
    USER_NOT_LOGGED_IN(20001, "ç”¨æˆ·æœªç™»å½•ï¼Œè¯·å…ˆç™»å½•"),
    USER_LOGIN_ERROR(20002, "è´¦å·ä¸å­˜åœ¨æˆ–å¯†ç é”™è¯¯"),
    USER_ACCOUNT_FORBIDDEN(20003, "è´¦å·å·²è¢«ç¦ç”¨"),
    USER_NOT_EXIST(20004, "ç”¨æˆ·ä¸å­˜åœ¨"),
    USER_HAS_EXISTED(20005, "ç”¨æˆ·å·²å­˜åœ¨"),

    /* ç³»ç»Ÿé”™è¯¯ï¼š40001-49999 */
    FILE_MAX_SIZE_OVERFLOW(40003, "ä¸Šä¼ å°ºå¯¸è¿‡å¤§"),
    FILE_ACCEPT_NOT_SUPPORT(40004, "ä¸Šä¼ æ–‡ä»¶æ ¼å¼ä¸æ”¯æŒ"),

    /* æ•°æ®é”™è¯¯ï¼š50001-599999 */
    RESULT_DATA_NONE(50001, "æ•°æ®æœªæ‰¾åˆ°"),
    DATA_IS_WRONG(50002, "æ•°æ®æœ‰è¯¯"),
    DATA_ALREADY_EXISTED(50003, "æ•°æ®å·²å­˜åœ¨"),
    AUTH_CODE_ERROR(50004, "éªŒè¯ç é”™è¯¯"),


    /* æƒé™é”™è¯¯ï¼š70001-79999 */
    PERMISSION_UNAUTHENTICATED(70001, "æ­¤æ“ä½œéœ€è¦ç™»é™†ç³»ç»Ÿï¼"),

    PERMISSION_UNAUTHORIZED(70002, "æƒé™ä¸è¶³ï¼Œæ— æƒæ“ä½œï¼"),

    PERMISSION_EXPIRE(70003, "ç™»å½•çŠ¶æ€è¿‡æœŸï¼"),

    PERMISSION_TOKEN_EXPIRED(70004, "tokenå·²è¿‡æœŸ"),

    PERMISSION_LIMIT(70005, "è®¿é—®æ¬¡æ•°å—é™åˆ¶"),

    PERMISSION_TOKEN_INVALID(70006, "æ— æ•ˆtoken"),

    PERMISSION_SIGNATURE_ERROR(70007, "ç­¾åå¤±è´¥");

    // çŠ¶æ€ç 
    int code;
    // æç¤ºä¿¡æ¯
    String message;

    ResultEnum(int code, String message) {
        this.code = code;
        this.message = message;
    }

    public int code() {
        return code;
    }

    public String message() {
        return message;
    }

    public void setCode(int code) {
        this.code = code;
    }

    public void setMessage(String message) {
        this.message = message;
    }
}</code></pre> 
<h3></h3> 
<h3 id="%E5%88%9B%E5%BB%BA%E5%85%A8%E5%B1%80%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E5%99%A8"><strong>åˆ›å»ºå…¨å±€å¼‚å¸¸å¤„ç†å™¨</strong></h3> 
<blockquote> 
 <p>å®šä¹‰çš„å„ç§ä¸šåŠ¡å¼‚å¸¸å¯¹åº”å¤„ç†é€»è¾‘ä»£ç é€šå¸¸åœ¨å…¨å±€å¼‚å¸¸å¤„ç†å™¨æ¥å†™ã€‚</p> 
</blockquote> 
<p>éœ€è¦åˆ›å»ºä¸€ä¸ªå…¨å±€å¼‚å¸¸å¤„ç†å™¨ç±»ï¼Œç”¨äºæ•è·å’Œå¤„ç†æ‰€æœ‰çš„å¼‚å¸¸ã€‚å¯ä»¥ä½¿ç”¨@ControllerAdvice Â æˆ–è€…@RestControllerAdviceæ³¨è§£å°†è¯¥ç±»æ ‡è®°ä¸ºå…¨å±€å¼‚å¸¸å¤„ç†å™¨ï¼Œå¹¶ä½¿ç”¨@ExceptionHandler æ³¨è§£å®šä¹‰å…·ä½“çš„å¼‚å¸¸å¤„ç†æ–¹æ³•ã€‚ä¾‹å¦‚ï¼Œåˆ›å»ºä¸€ä¸ªåä¸º <code>GlobalExceptionHandler</code> çš„å…¨å±€å¼‚å¸¸å¤„ç†å™¨ç±»ï¼š</p> 
<pre><code class="language-java">import com.mijiu.commom.exception.AccountNotFoundException;
import com.mijiu.commom.exception.PasswordErrorException;
import com.mijiu.commom.exception.TokenOverdueException;
import com.mijiu.commom.result.Result;
import com.mijiu.commom.enumerate.ResultEnum;
import lombok.extern.slf4j.Slf4j;
import org.springframework.http.HttpStatus;
import org.springframework.web.bind.annotation.*;

/**
 * @author mijiupro
 */
@RestControllerAdvice(basePackages = "com.mijiu.controller")
@ResponseBody
@Slf4j
public class GlobalExceptionHandler {



    // å¯†ç é”™è¯¯å¼‚å¸¸
    @ExceptionHandler(PasswordErrorException.class)
    @ResponseStatus(HttpStatus.BAD_REQUEST)
    public Result&lt;String&gt; handlePasswordErrorException(PasswordErrorException ex) {
        //å¦‚é€šè¿‡redisè¿›è¡Œå¯†ç é”™è¯¯è®¡æ•°å™¨ç´¯åŠ æ“ä½œ
        //ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚
        
        //æ—¥å¿—è®°å½•ç­‰ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚

        return Result.error(ex.getResultEnum());
    }

 

    //é€šç”¨ä¸šåŠ¡å¼‚å¸¸å¤„ç†
    @ExceptionHandler(GeneralBusinessException.class)
    @ResponseStatus(HttpStatus.BAD_REQUEST)
    public Result&lt;String&gt; generalBusinessExceptionHandler(GeneralBusinessException ex) {
        return Result.error(ex.getMessage());
    }

    /**
     *
     * é€šç”¨å¼‚å¸¸å¤„ç†(ç”¨äºå¤„ç†ä¸å¯é¢„çŸ¥çš„å¼‚å¸¸)
     */
    @ExceptionHandler(Exception.class)
    public Result&lt;String&gt; exceptionHandler(Exception ex) {
        log.error(ex.getMessage());
        return Result.error(ResultEnum.FAIL);
    }
}</code></pre> 
<p></p> 
<p></p> 
<blockquote> 
 <p>å¯¹äºä¸å¯é¢„çŸ¥çš„å¼‚å¸¸é€šå¸¸ç›´æ¥æ•è·æ‰€æœ‰å¼‚å¸¸çˆ¶ç±»Exceptionå¼‚å¸¸å³å¯</p> 
</blockquote> 
<p><img alt="" height="244" src="https://images2.imgbox.com/e5/ca/jjaKrZAt_o.png" width="416"></p> 
<p>è¿™æ®µä»£ç ä¼šè§¦å‘<span style="background-color:#fe2c24;">ArithmeticExceptionÂ </span>ï¼Œç±»ä¼¼è¿™ç§çš„ä¸å¯é¢„çŸ¥å¼‚å¸¸ä¼šæœ‰å¾ˆå¤šï¼Œå®ƒä»¬éƒ½ç»§æ‰¿è‡ªExceptionæ‰€ä»¥å…¨å±€æ‹¦æˆªExceptionè¿›è¡Œå¤„ç†å³å¯ã€‚</p> 
<p><img alt="" height="509" src="https://images2.imgbox.com/13/36/RM9H02Vv_o.png" width="980"></p> 
<p><img alt="" height="198" src="https://images2.imgbox.com/05/df/ErApruMA_o.png" width="441"></p> 
<p></p> 
<p>å¯¹äºå¼‚å¸¸çš„å¤„ç†è¿”å›çš„ä¿¡æ¯é€šå¸¸ç”¨ç»Ÿä¸€æ ¼å¼å°è£…ï¼š</p> 
<pre><code class="language-java">import com.mijiu.commom.enumerate.ResultEnum;
import lombok.Data;


/**
 * @author mijiupro
 */

@Data
public class Result&lt;T&gt; {

    // æ“ä½œä»£ç 
    Integer code;

    // æç¤ºä¿¡æ¯
    String message;

    // ç»“æœæ•°æ®
    T data;

    public Result(ResultEnum resultCode) {
        this.code = resultCode.code();
        this.message = resultCode.message();
    }

    public Result(ResultEnum resultCode, T data) {
        this.code = resultCode.code();
        this.message = resultCode.message();
        this.data = data;
    }
    public Result(String message) {
        this.message = message;
    }
    //æˆåŠŸè¿”å›å°è£…-æ— æ•°æ®
    public static Result&lt;String&gt; success() {
        return new Result&lt;String&gt;(ResultEnum.SUCCESS);
    }
    //æˆåŠŸè¿”å›å°è£…-å¸¦æ•°æ®
    public static &lt;T&gt; Result&lt;T&gt; success(T data) {
        return new Result&lt;T&gt;(ResultEnum.SUCCESS, data);
    }
    //å¤±è´¥è¿”å›å°è£…-ä½¿ç”¨é»˜è®¤æç¤ºä¿¡æ¯
    public static Result&lt;String&gt; error() {
        return new Result&lt;String&gt;(ResultEnum.FAIL);
    }
    //å¤±è´¥è¿”å›å°è£…-ä½¿ç”¨è¿”å›ç»“æœæšä¸¾æç¤ºä¿¡æ¯
    public static Result&lt;String&gt; error(ResultEnum resultCode) {
        return new Result&lt;String&gt;(resultCode);
    }
    //å¤±è´¥è¿”å›å°è£…-ä½¿ç”¨è‡ªå®šä¹‰æç¤ºä¿¡æ¯
    public static Result&lt;String&gt; error(String message) {
        return new Result&lt;String&gt;(message);

    }
}</code></pre> 
<h3></h3> 
<h3 id="%E6%89%8B%E5%8A%A8%E6%8A%9B%E5%87%BA%E8%87%AA%E5%AE%9A%E4%B9%89%E5%BC%82%E5%B8%B8">æ‰‹åŠ¨æŠ›å‡ºè‡ªå®šä¹‰å¼‚å¸¸</h3> 
<p></p> 
<p>åœ¨ä¸šåŠ¡ä»£ç ä¸­æŠ›å‡ºå¯¹åº”ä¸šåŠ¡è‡ªå®šä¹‰å¼‚å¸¸ï¼š</p> 
<p>æœ‰å‚æ„é€ ä¼ é€’é”™è¯¯æšä¸¾ä¿¡æ¯(çŠ¶æ€ç +é”™è¯¯å†…å®¹)ï¼Œå…¨å±€å¼‚å¸¸æ•è·å¹¶ä»è‡ªå®šä¹‰å¼‚å¸¸ç±»æ‹¿åˆ°ç›¸å…³è¿”å›ä¿¡æ¯ç»Ÿä¸€å°è£…è¿”å›ã€‚</p> 
<p>åƒè¿™æ ·ç›´æ¥æŠ›å‡ºå³å¯</p> 
<p><img alt="" height="545" src="https://images2.imgbox.com/e7/51/7LhZHRSv_o.png" width="1200"></p> 
<p><img alt="" height="191" src="https://images2.imgbox.com/c6/de/7SgSK9Q1_o.png" width="519"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/fb5937f5cf78703aa19a4a2dd89e0425/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">å¯†åº¦å³°å€¼èšç±»(DPC)ç®—æ³•ï¼ˆPython3å®ç°ï¼‰</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c89a3c7931f88f84e4b2245dffa28212/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">spring boot3è§£å†³è·¨åŸŸçš„å‡ ç§æ–¹å¼</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ç¼–ç¨‹å¤§å’–.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>