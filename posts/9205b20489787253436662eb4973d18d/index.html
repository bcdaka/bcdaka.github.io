<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Java反应式框架Reactor中的Mono和Flux，2024年最新Java面试精讲 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/9205b20489787253436662eb4973d18d/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="Java反应式框架Reactor中的Mono和Flux，2024年最新Java面试精讲">
  <meta property="og:description" content="由于响应流的特点，我们不能再返回一个简单的POJO对象来表示结果了。必须返回一个类似Java中的Future的概念，在有结果可用时通知消费者进行消费响应。
Reactive Stream规范中这种被定义为Publisher&lt;T&gt; ，Publisher&lt;T&gt;是一个可以提供0-N个序列元素的提供者，并根据其订阅者Subscriber&lt;? super T&gt;的需求推送元素。一个Publisher&lt;T&gt;可以支持多个订阅者，并可以根据订阅者的逻辑进行推送序列元素。下面这个Excel计算就能说明一些Publisher&lt;T&gt;的特点。
A1-A9就可以看做Publisher&lt;T&gt;及其提供的元素序列。A10-A13分别是求和函数SUM(A1:A9)、平均函数AVERAGE(A1:A9)、最大值函数MAX(A1:A9)、最小值函数MIN(A1:A9)，可以看作订阅者Subscriber。假如说我们没有A10-A13，那么A1-A9就没有实际意义，它们并不产生计算。这也是响应式的一个重要特点：当没有订阅时发布者什么也不做。
而Flux和Mono都是Publisher&lt;T&gt;在Reactor 3实现。Publisher&lt;T&gt;提供了subscribe方法，允许消费者在有结果可用时进行消费。如果没有消费者Publisher&lt;T&gt;不会做任何事情，他根据消费情况进行响应。 Publisher&lt;T&gt;可能返回零或者多个，甚至可能是无限的，为了更加清晰表示期待的结果就引入了两个实现模型Mono和Flux。
4. Flux
Flux 是一个发出(emit)0-N个元素组成的异步序列的Publisher&lt;T&gt;,可以被onComplete信号或者onError信号所终止。在响应流规范中存在三种给下游消费者调用的方法 onNext, onComplete, 和onError。下面这张图表示了Flux的抽象模型：
以上的的讲解对于初次接触反应式编程的依然是难以理解的，所以这里有一个循序渐进的理解过程。
有些类比并不是很妥当，但是对于你循序渐进的理解这些新概念还是有帮助的。
传统数据处理 我们在平常是这么写的：
public List allUsers() {
return Arrays.asList(new ClientUser(“felord.cn”, “reactive”),
new ClientUser(“Felordcn”, “Reactor”));
}
我们通过迭代返回值List来get这些元素进行再处理（消费），这种方式有点类似厨师做了很多菜，吃不吃在于食客。需要食客主动去来吃就行了（pull的方式），至于喜欢吃什么不喜欢吃什么自己随意，怎么吃也自己随意。
流式数据处理 在Java 8中我们可以改写为流的表示：
public Stream allUsers() {
return Stream.of(new ClientUser(“felord.cn”, “reactive”),
new ClientUser(“Felordcn”, “Reactor”));
}
依然是厨师做了很多菜，但是这种就更加高级了一些，提供了菜品的搭配方式（不包含具体细节），食客可以按照说明根据自己的习惯搭配着去吃，一但开始概不退换，吃完为止，过期不候。
反应式数据处理 在Reactor中我们又可以改写为Flux表示：
public Flux allUsers(){
return Flux.just(new ClientUser(“felord.cn”, “reactive”),
new ClientUser(“Felordcn”, “Reactor”));
}
这时候食客只需要订餐就行了，做好了自然就呈上来，而且可以随时根据食客的饭量进行调整。如果没有食客订餐那么厨师就什么都不用做。当然不止有这么点特性，不过对于方便我们理解来说这就够了。
5. Mono
小编13年上海交大毕业，曾经在小公司待过，也去过华为、OPPO等大厂，18年进入阿里一直到现在。
深知大多数初中级Java工程师，想要提升技能，往往是自己摸索成长，但自己不成体系的自学效果低效又漫长，而且极易碰到天花板技术停滞不前！
因此收集整理了一份《2024年最新Java开发全套学习资料》送给大家，初衷也很简单，就是希望能够帮助到想自学提升又不知道该从何学起的朋友，同时减轻大家的负担。">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-03-21T05:27:10+08:00">
    <meta property="article:modified_time" content="2024-03-21T05:27:10+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Java反应式框架Reactor中的Mono和Flux，2024年最新Java面试精讲</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>由于响应流的特点，我们不能再返回一个简单的<strong>POJO</strong>对象来表示结果了。必须返回一个类似<strong>Java</strong>中的<code>Future</code>的概念，在有结果可用时通知消费者进行消费响应。</p> 
<p><strong>Reactive Stream</strong>规范中这种被定义为<code>Publisher&lt;T&gt;</code> ，<code>Publisher&lt;T&gt;</code>是一个可以提供0-N个序列元素的提供者，并根据其订阅者<code>Subscriber&lt;? super T&gt;</code>的需求推送元素。一个<code>Publisher&lt;T&gt;</code>可以支持多个订阅者，并可以根据订阅者的逻辑进行推送序列元素。下面这个<strong>Excel</strong>计算就能说明一些<code>Publisher&lt;T&gt;</code>的特点。</p> 
<p><img src="https://images2.imgbox.com/4e/19/p95IBMHE_o.png" alt=""></p> 
<p><strong>A1-A9</strong>就可以看做<code>Publisher&lt;T&gt;</code>及其提供的元素序列。<strong>A10-A13</strong>分别是求和函数<code>SUM(A1:A9)</code>、平均函数<code>AVERAGE(A1:A9)</code>、最大值函数<code>MAX(A1:A9)</code>、最小值函数<code>MIN(A1:A9)</code>，可以看作订阅者<code>Subscriber</code>。假如说我们没有<strong>A10-A13</strong>，那么<strong>A1-A9</strong>就没有实际意义，它们并不产生计算。这也是响应式的一个重要特点：<strong>当没有订阅时发布者什么也不做</strong>。</p> 
<p>而<code>Flux</code>和<code>Mono</code>都是<code>Publisher&lt;T&gt;</code>在<strong>Reactor 3</strong>实现。<code>Publisher&lt;T&gt;</code>提供了<code>subscribe</code>方法，允许消费者在有结果可用时进行消费。如果没有消费者<code>Publisher&lt;T&gt;</code>不会做任何事情，他根据消费情况进行响应。 <code>Publisher&lt;T&gt;</code>可能返回零或者多个，甚至可能是无限的，为了更加清晰表示期待的结果就引入了两个实现模型<code>Mono</code>和<code>Flux</code>。</p> 
<p>4. Flux</p> 
<hr> 
<p><code>Flux</code> 是一个发出(emit)<code>0-N</code>个元素组成的异步序列的<code>Publisher&lt;T&gt;</code>,可以被<code>onComplete</code>信号或者<code>onError</code>信号所终止。在响应流规范中存在三种给下游消费者调用的方法 <code>onNext</code>, <code>onComplete</code>, 和<code>onError</code>。下面这张图表示了Flux的抽象模型：</p> 
<p><img src="https://images2.imgbox.com/08/40/TcKxp8Yj_o.png" alt="Flux"></p> 
<p>以上的的讲解对于初次接触反应式编程的依然是难以理解的，所以这里有一个循序渐进的理解过程。</p> 
<blockquote> 
 <p><strong>有些类比并不是很妥当，但是对于你循序渐进的理解这些新概念还是有帮助的。</strong></p> 
</blockquote> 
<h4><a id="_45"></a>传统数据处理</h4> 
<p>我们在平常是这么写的：</p> 
<p>public List allUsers() {<!-- --></p> 
<p>return Arrays.asList(new ClientUser(“felord.cn”, “reactive”),</p> 
<p>new ClientUser(“Felordcn”, “Reactor”));</p> 
<p>}</p> 
<p>我们通过迭代返回值<code>List</code>来<code>get</code>这些元素进行再处理（消费），这种方式有点类似厨师做了很多菜，吃不吃在于食客。需要食客主动去来吃就行了（<strong>pull</strong>的方式），至于喜欢吃什么不喜欢吃什么自己随意，怎么吃也自己随意。</p> 
<h4><a id="_73"></a>流式数据处理</h4> 
<p>在<strong>Java 8</strong>中我们可以改写为流的表示：</p> 
<p>public Stream allUsers() {<!-- --></p> 
<p>return Stream.of(new ClientUser(“felord.cn”, “reactive”),</p> 
<p>new ClientUser(“Felordcn”, “Reactor”));</p> 
<p>}</p> 
<p>依然是厨师做了很多菜，但是这种就更加高级了一些，提供了菜品的搭配方式（不包含具体细节），食客可以按照说明根据自己的习惯搭配着去吃，一但开始概不退换，吃完为止，过期不候。</p> 
<h4><a id="_101"></a>反应式数据处理</h4> 
<p>在<strong>Reactor</strong>中我们又可以改写为<code>Flux</code>表示：</p> 
<p>public Flux allUsers(){<!-- --></p> 
<p>return Flux.just(new ClientUser(“felord.cn”, “reactive”),</p> 
<p>new ClientUser(“Felordcn”, “Reactor”));</p> 
<p>}</p> 
<p>这时候食客只需要订餐就行了，做好了自然就呈上来，而且可以随时根据食客的饭量进行调整。如果没有食客订餐那么厨师就什么都不用做。当然不止有这么点特性，不过对于方便我们理解来说这就够了。</p> 
<p>5. Mono</p> 
<hr> 
<p><strong>小编13年上海交大毕业，曾经在小公司待过，也去过华为、OPPO等大厂，18年进入阿里一直到现在。</strong></p> 
<p><strong>深知大多数初中级Java工程师，想要提升技能，往往是自己摸索成长，但自己不成体系的自学效果低效又漫长，而且极易碰到天花板技术停滞不前！</strong></p> 
<p><strong>因此收集整理了一份《2024年最新Java开发全套学习资料》送给大家，初衷也很简单，就是希望能够帮助到想自学提升又不知道该从何学起的朋友，同时减轻大家的负担。</strong><br> <img src="https://images2.imgbox.com/32/3a/k7h4wSI5_o.jpg" alt="img"><br> <img src="https://images2.imgbox.com/f5/8b/kfy9OzhM_o.png" alt="img"><br> <img src="https://images2.imgbox.com/ac/aa/2U7mV8RT_o.png" alt="img"></p> 
<p><strong>由于文件比较大，这里只是将部分目录截图出来，每个节点里面都包含大厂面经、学习笔记、源码讲义、实战项目、讲解视频</strong></p> 
<p><strong>如果你觉得这些内容对你有帮助，可以添加下面V无偿领取！（备注Java）</strong><br> <img src="https://images2.imgbox.com/0e/93/hMk92vWO_o.jpg" alt="img"></p> 
<h2><a id="_153"></a>最后</h2> 
<p>每年转战互联网行业的人很多，说白了也是冲着高薪去的，不管你是即将步入这个行业还是想转行，学习是必不可少的。作为一个Java开发，学习成了日常生活的一部分，不学习你就会被这个行业淘汰，这也是这个行业残酷的现实。</p> 
<p>如果你对Java感兴趣，想要转行改变自己，那就要趁着机遇行动起来。或许，这份<strong>限量版的Java零基础宝典</strong>能够对你有所帮助。</p> 
<p><img src="https://images2.imgbox.com/23/74/LrbmUN68_o.png" alt=""></p> 
<p>ava开发，学习成了日常生活的一部分，不学习你就会被这个行业淘汰，这也是这个行业残酷的现实。</p> 
<p>如果你对Java感兴趣，想要转行改变自己，那就要趁着机遇行动起来。或许，这份<strong>限量版的Java零基础宝典</strong>能够对你有所帮助。</p> 
<p>[外链图片转存中…(img-1T59rUyN-1710970019245)]</p> 
<blockquote> 
 <p><strong>本文已被<a href="https://bbs.csdn.net/topics/618154847">CODING开源项目：【一线大厂Java面试题解析+核心总结学习笔记+最新讲解视频+实战项目源码】</a>收录</strong></p> 
</blockquote>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b3c0a99c74b408cdad6d5f39e15f21b3/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【C/C&#43;&#43;】详解 assert() 断言（什么是assert? assert有什么作用？）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/03c87c1cd64ea36eb5c32a53da896769/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">压缩神器：Compressor.js - 优化你的Web图像</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>