<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>ã€C&#43;&#43;é«˜é˜¶ã€‘ï¼šAVLæ ‘çš„å…¨é¢æ¢ç´¢å’Œæ·±åº¦å­¦ä¹  - ç¼–ç¨‹å¤§å’–</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/078d864319520252f8df321d66ac0a59/">
  <meta property="og:site_name" content="ç¼–ç¨‹å¤§å’–">
  <meta property="og:title" content="ã€C&#43;&#43;é«˜é˜¶ã€‘ï¼šAVLæ ‘çš„å…¨é¢æ¢ç´¢å’Œæ·±åº¦å­¦ä¹ ">
  <meta property="og:description" content="âœ¨Â ä¸–äº‹æ¼«éšæµæ°´ï¼Œç®—æ¥ä¸€æ¢¦æµ®ç”ŸÂ ğŸŒÂ ğŸ“ƒä¸ªäººä¸»é¡µï¼šisland1314
ğŸ”¥ä¸ªäººä¸“æ ï¼šC&#43;&#43;å­¦ä¹ 
ğŸš€ æ¬¢è¿å…³æ³¨ï¼šğŸ‘ç‚¹èµ ğŸ‘‚ğŸ½ç•™è¨€ ğŸ˜æ”¶è— ğŸ’ ğŸ’ ğŸ’
AVLæ ‘ç›®å½•
ğŸš€å‰è¨€
ä¸€.Â AVLæ ‘çš„æ¦‚å¿µ
äºŒ. AVLæ ‘èŠ‚ç‚¹çš„å®šä¹‰
ğŸ§©1. åŸºæœ¬å…ƒç´ 
ğŸ§©2.Â å¹³è¡¡å› å­ï¼ˆ_bfï¼‰
ğŸ§©3.æ„é€ å‡½æ•°
ğŸ§©AVLèŠ‚ç‚¹å®šä¹‰ï¼š
ä¸‰. AVLæ ‘çš„æ’å…¥
å››. AVLæ ‘çš„æ—‹è½¬
ğŸŒˆå³å•æ—‹
ğŸŒˆå·¦å•æ—‹
ğŸŒ™å·¦å³åŒæ—‹
ğŸŒ™å³å·¦åŒæ—‹
äº”. AVLæ ‘çš„éªŒè¯
ğŸ“1. éªŒè¯å…¶ä¸ºäºŒå‰æœç´¢æ ‘
ğŸ“2. éªŒè¯å…¶ä¸ºå¹³è¡¡æ ‘
ğŸ“3. éªŒè¯ç”¨ä¾‹ï¼š
å…­.AVLæ ‘çš„æ€§èƒ½å’Œå®Œæ•´ä»£ç 
ğŸš€å‰è¨€ å‰é¢æˆ‘ä»¬å­¦åˆ°äº†äºŒå‰æœç´¢æ ‘ï¼Œã€C&#43;&#43;é«˜é˜¶ã€‘äºŒå‰æœç´¢æ ‘çš„å…¨é¢è§£æä¸é«˜æ•ˆå®ç°
è™½ç„¶äºŒå‰æœç´¢æ ‘è™½å¯ä»¥ç¼©çŸ­æŸ¥æ‰¾çš„æ•ˆç‡ï¼Œä½†å¦‚æœæ•°æ®æœ‰åºæˆ–æ¥è¿‘æœ‰åºäºŒå‰æœç´¢æ ‘å°†é€€åŒ–ä¸ºå•æ”¯æ ‘ï¼ŒæŸ¥æ‰¾å…ƒç´ ç›¸å½“äºåœ¨é¡ºåºè¡¨ä¸­æœç´¢å…ƒç´ ï¼Œæ•ˆç‡ä½ä¸‹ã€‚å› æ­¤ï¼Œä¸¤ä½ä¿„ç½—æ–¯çš„æ•°å­¦å®¶G.M.Adelson-Velskiiå’ŒE.M.Landisåœ¨1962å¹´å‘æ˜äº†ä¸€ç§è§£å†³ä¸Šè¿°é—®é¢˜çš„æ–¹æ³•ï¼Œå³AVLæ ‘ï¼Œå®ƒä»¥å…¶ç‹¬ç‰¹çš„å¹³è¡¡æœºåˆ¶å’Œé«˜æ•ˆçš„æœç´¢æ€§èƒ½ï¼Œæˆä¸ºäº†ä¸€é¢—ç’€ç’¨çš„æ˜æ˜Ÿã€‚å®ƒä¸ä»…è§£å†³äº†äºŒå‰æœç´¢æ ‘åœ¨æ•°æ®æ’å…¥å’Œåˆ é™¤æ—¶å¯èƒ½äº§ç”Ÿçš„å¤±è¡¡é—®é¢˜ï¼Œæ›´é€šè¿‡æ—‹è½¬æ“ä½œï¼Œä½¿å¾—æ ‘çš„é«˜åº¦å§‹ç»ˆä¿æŒåœ¨ä¸€ä¸ªç›¸å¯¹è¾ƒä½çš„æ°´å¹³ï¼Œä»è€Œä¿è¯äº†æœç´¢çš„é«˜æ•ˆæ€§ã€‚è®©æˆ‘ä»¬æ¥è¯¦ç»†çœ‹çœ‹AVLæ ‘åˆ°åº•æ˜¯æ€ä¹ˆè§£å†³ä¸Šè¿°é—®é¢˜çš„å§ï¼Œè¸ä¸Šè¿™å­¦ä¹ ä¹‹æ—…ã€‚
ä¸€.Â AVLæ ‘çš„æ¦‚å¿µ ğŸ“’äºŒå‰æœç´¢æ ‘è™½å¯ä»¥ç¼©çŸ­æŸ¥æ‰¾çš„æ•ˆç‡ï¼Œä½†å¦‚æœæ•°æ®æœ‰åºæˆ–æ¥è¿‘æœ‰åºäºŒå‰æœç´¢æ ‘å°†é€€åŒ–ä¸ºå•æ”¯æ ‘ï¼ŒæŸ¥æ‰¾å…ƒç´ ç›¸å½“äºåœ¨é¡ºåºè¡¨ä¸­æœç´¢å…ƒç´ ï¼Œæ•ˆç‡ä½ä¸‹ã€‚
å› æ­¤ï¼Œä¸¤ä½ä¿„ç½—æ–¯çš„æ•°å­¦å®¶G.M.Adelson-Velskiiå’ŒE.M.Landisåœ¨1962å¹´å‘æ˜äº†ä¸€ç§è§£å†³ä¸Šè¿°é—®é¢˜çš„æ–¹æ³•ï¼š
å½“å‘äºŒå‰æœç´¢æ ‘ä¸­æ’å…¥æ–°ç»“ç‚¹åï¼Œå¦‚æœèƒ½ä¿è¯æ¯ä¸ªç»“ç‚¹çš„å·¦å³å­æ ‘é«˜åº¦ä¹‹å·®çš„ç»å¯¹å€¼ä¸è¶…è¿‡1(éœ€è¦å¯¹æ ‘ä¸­çš„ç»“ç‚¹è¿›è¡Œè°ƒæ•´)ï¼Œå³å¯é™ä½æ ‘çš„é«˜åº¦ï¼Œä»è€Œå‡å°‘å¹³å‡æœç´¢é•¿åº¦ï¼Œ
ğŸ“™ä¸€æ£µAVLæ ‘æˆ–è€…æ˜¯ç©ºæ ‘ï¼Œæˆ–è€…æ˜¯å…·æœ‰ä»¥ä¸‹æ€§è´¨çš„äºŒå‰æœç´¢æ ‘ï¼š
å®ƒçš„å·¦å³å­æ ‘éƒ½æ˜¯AVLæ ‘å·¦å³å­æ ‘é«˜åº¦ä¹‹å·®(ç®€ç§°å¹³è¡¡å› å­)çš„ç»å¯¹å€¼ä¸è¶…è¿‡1(-1/0/1) ğŸˆæ³¨æ„ï¼š å¦‚æœä¸€æ£µäºŒå‰æœç´¢æ ‘æ˜¯é«˜åº¦å¹³è¡¡çš„ï¼Œå®ƒå°±æ˜¯AVLæ ‘ã€‚å¦‚æœå®ƒæœ‰nä¸ªç»“ç‚¹ï¼Œå…¶é«˜åº¦å¯ä¿æŒåœ¨Oï¼ˆï¼‰æœç´¢æ—¶é—´å¤æ‚åº¦Oï¼ˆï¼‰ã€‚
äºŒ. AVLæ ‘èŠ‚ç‚¹çš„å®šä¹‰ AVLæ ‘èŠ‚ç‚¹çš„å®šä¹‰é€šå¸¸åŒ…å«ä»¥ä¸‹å‡ ä¸ªå…³é”®éƒ¨åˆ†ï¼š
ğŸ§©1. åŸºæœ¬å…ƒç´  åœ¨è°ƒæ•´å¤±è¡¡çš„AVLæ ‘æ—¶ï¼Œæˆ‘ä»¬éœ€è¦é¢‘ç¹çš„è®¿é—®çˆ¶èŠ‚ç‚¹ï¼Œæ‰€ä»¥åœ¨AVLæ ‘ä¸­æˆ‘ä»¬éœ€è¦ä½¿ç”¨ä¸‰å‰é“¾ï¼Œå› æ­¤AVLæ ‘çš„èŠ‚ç‚¹é™¤äº†åŒ…å«å·¦å³å­èŠ‚ç‚¹çš„æŒ‡é’ˆï¼Œè¿˜éœ€è¦ä¸€ä¸ªæŒ‡å‘çˆ¶èŠ‚ç‚¹çš„æŒ‡é’ˆã€‚
_leftï¼šæŒ‡å‘èŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹çš„æŒ‡é’ˆ_rightï¼šæŒ‡å‘èŠ‚ç‚¹çš„å³å­èŠ‚ç‚¹çš„æŒ‡é’ˆ_parentï¼šæŒ‡å‘èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹çš„æŒ‡é’ˆ_kvï¼šä¸€ä¸ªç»“æ„ä½“æˆ–é…å¯¹ï¼ˆpairï¼‰ï¼ŒåŒ…å«èŠ‚ç‚¹çš„é”®å€¼ï¼ˆkeyï¼‰å’Œå€¼ï¼ˆvalueï¼‰ã€‚è¿™å–å†³äºAVLæ ‘çš„å…·ä½“ç”¨é€”ï¼Œå¯èƒ½åªåŒ…å«é”®æˆ–åŒ…å«é”®å€¼å¯¹ã€‚ ğŸ§©2.Â å¹³è¡¡å› å­ï¼ˆ_bfï¼‰ ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºèŠ‚ç‚¹å·¦å­æ ‘å’Œå³å­æ ‘çš„é«˜åº¦å·®ã€‚AVLæ ‘çš„æ€§è´¨è¦æ±‚ä»»ä½•èŠ‚ç‚¹çš„å¹³è¡¡å› å­çš„ç»å¯¹å€¼ä¸è¶…è¿‡1ï¼ˆ-1, 0, 1ï¼‰ å¦‚æœå·¦å­æ ‘æ¯”å³å­æ ‘é«˜ä¸€å±‚ï¼Œé‚£ä¹ˆå¹³è¡¡å› å­å°±ä¸º-1ï¼›å¦‚æœå·¦å³å­æ ‘ä¸€æ ·é«˜ï¼Œå¹³è¡¡å› å­å°±ä¸º0ï¼›å¦‚æœå³å­æ ‘æ¯”å·¦å­æ ‘é«˜ä¸€å±‚ï¼Œé‚£ä¹ˆå¹³è¡¡å› å­å°±ä¸º1ï¼Œè¿™ä¸‰ç§æƒ…å†µä¸‹AVLæ ‘çš„æ€§è´¨éƒ½æ²¡æœ‰è¢«æ‰“ç ´ã€‚
æŒ‰ç…§è¿™ä¸ªè§„åˆ™ï¼Œå¦‚æœå¹³è¡¡å› å­ä¸º-2ã€2æˆ–å…¶ä»–å€¼ï¼Œåˆ™è¯´æ˜å·¦å³å­æ ‘å·²ç»å¤±è¡¡ï¼Œæ€§è´¨è¢«æ‰“ç ´ã€‚
ğŸ§©3.æ„é€ å‡½æ•° åˆå§‹åŒ–ä¸€ä¸ªæ–°èŠ‚ç‚¹æ—¶ï¼Œé€šå¸¸éœ€è¦ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œå®ƒæ¥å—ä¸€ä¸ªé”®å€¼å¯¹ï¼ˆæˆ–ä»…é”®ï¼‰ï¼Œå¹¶è®¾ç½®èŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹ã€å³å­èŠ‚ç‚¹ã€çˆ¶èŠ‚ç‚¹å’Œå¹³è¡¡å› å­ï¼ˆåˆå§‹åŒ–ä¸º0ï¼‰ å¦å¤–éœ€è¦è¯´æ˜ä¸€ä¸‹ï¼Œæœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨key/valueæ¨¡å‹çš„AVLæ ‘">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-07-24T16:48:19+08:00">
    <meta property="article:modified_time" content="2024-07-24T16:48:19+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ç¼–ç¨‹å¤§å’–" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ç¼–ç¨‹å¤§å’–</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">ã€C&#43;&#43;é«˜é˜¶ã€‘ï¼šAVLæ ‘çš„å…¨é¢æ¢ç´¢å’Œæ·±åº¦å­¦ä¹ </h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/fe/ed/T3o7E1tY_o.jpg"></p> 
<p>âœ¨Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <strong>Â  Â  Â <span style="color:#956fe7;">ä¸–äº‹æ¼«éšæµæ°´ï¼Œç®—æ¥ä¸€æ¢¦æµ®ç”ŸÂ </span> </strong>Â  Â  ğŸŒÂ </p> 
<p>ğŸ“ƒ<a href="https://so.csdn.net/so/search?q=%E4%B8%AA%E4%BA%BA%E4%B8%BB%E9%A1%B5&amp;spm=1001.2101.3001.7020" title="ä¸ªäººä¸»é¡µ">ä¸ªäººä¸»é¡µ</a>ï¼š<a href="https://blog.csdn.net/island1314?spm=1011.2266.3001.5343" title="island1314">island1314</a></p> 
<p>ğŸ”¥ä¸ªäººä¸“æ ï¼š<a href="https://blog.csdn.net/island1314/category_12622912.html" title="C++å­¦ä¹ ">C++å­¦ä¹ </a></p> 
<p>ğŸš€ æ¬¢è¿å…³æ³¨ï¼šğŸ‘ç‚¹èµ ğŸ‘‚ğŸ½ç•™è¨€ ğŸ˜æ”¶è— Â ğŸ’ ğŸ’ ğŸ’</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/b5/a3/Co1r0dsA_o.gif"></p> 
<hr> 
<p id="main-toc"><strong>AVLæ ‘ç›®å½•</strong></p> 
<p id="%F0%9F%9A%80%E5%89%8D%E8%A8%80-toc" style="margin-left:40px;"><a href="#%F0%9F%9A%80%E5%89%8D%E8%A8%80" rel="nofollow">ğŸš€å‰è¨€</a></p> 
<p id="%E4%B8%80.%C2%A0AVL%E6%A0%91%E7%9A%84%E6%A6%82%E5%BF%B5-toc" style="margin-left:40px;"><a href="#%E4%B8%80.%C2%A0AVL%E6%A0%91%E7%9A%84%E6%A6%82%E5%BF%B5" rel="nofollow">ä¸€.Â AVLæ ‘çš„æ¦‚å¿µ</a></p> 
<p id="%E4%BA%8C.%20AVL%E6%A0%91%E8%8A%82%E7%82%B9%E7%9A%84%E5%AE%9A%E4%B9%89-toc" style="margin-left:40px;"><a href="#%E4%BA%8C.%20AVL%E6%A0%91%E8%8A%82%E7%82%B9%E7%9A%84%E5%AE%9A%E4%B9%89" rel="nofollow">äºŒ. AVLæ ‘èŠ‚ç‚¹çš„å®šä¹‰</a></p> 
<p id="%F0%9F%A7%A91.%20%E5%9F%BA%E6%9C%AC%E5%85%83%E7%B4%A0-toc" style="margin-left:80px;"><a href="#%F0%9F%A7%A91.%20%E5%9F%BA%E6%9C%AC%E5%85%83%E7%B4%A0" rel="nofollow">ğŸ§©1. åŸºæœ¬å…ƒç´ </a></p> 
<p id="%F0%9F%A7%A92.%C2%A0BST%E5%AE%9A%E4%B9%89%EF%BC%9A-toc" style="margin-left:80px;"><a href="#%F0%9F%A7%A92.%C2%A0BST%E5%AE%9A%E4%B9%89%EF%BC%9A" rel="nofollow">ğŸ§©2.Â å¹³è¡¡å› å­ï¼ˆ_bfï¼‰</a></p> 
<p id="%F0%9F%A7%A93.%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0-toc" style="margin-left:80px;"><a href="#%F0%9F%A7%A93.%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0" rel="nofollow">ğŸ§©3.æ„é€ å‡½æ•°</a></p> 
<p id="%F0%9F%A7%A9AVL%E8%8A%82%E7%82%B9%E5%AE%9A%E4%B9%89%EF%BC%9A-toc" style="margin-left:80px;"><a href="#%F0%9F%A7%A9AVL%E8%8A%82%E7%82%B9%E5%AE%9A%E4%B9%89%EF%BC%9A" rel="nofollow">ğŸ§©AVLèŠ‚ç‚¹å®šä¹‰ï¼š</a></p> 
<p id="%E4%B8%89.%20AVL%E6%A0%91%E7%9A%84%E6%8F%92%E5%85%A5-toc" style="margin-left:40px;"><a href="#%E4%B8%89.%20AVL%E6%A0%91%E7%9A%84%E6%8F%92%E5%85%A5" rel="nofollow">ä¸‰. AVLæ ‘çš„æ’å…¥</a></p> 
<p id="%E5%9B%9B.%20AVL%E6%A0%91%E7%9A%84%E6%97%8B%E8%BD%AC-toc" style="margin-left:40px;"><a href="#%E5%9B%9B.%20AVL%E6%A0%91%E7%9A%84%E6%97%8B%E8%BD%AC" rel="nofollow">å››. AVLæ ‘çš„æ—‹è½¬</a></p> 
<p id="%F0%9F%8C%88%E5%8F%B3%E5%8D%95%E6%97%8B-toc" style="margin-left:80px;"><a href="#%F0%9F%8C%88%E5%8F%B3%E5%8D%95%E6%97%8B" rel="nofollow">ğŸŒˆå³å•æ—‹</a></p> 
<p id="%F0%9F%8C%88%E5%B7%A6%E5%8D%95%E6%97%8B-toc" style="margin-left:80px;"><a href="#%F0%9F%8C%88%E5%B7%A6%E5%8D%95%E6%97%8B" rel="nofollow">ğŸŒˆå·¦å•æ—‹</a></p> 
<p id="%F0%9F%8C%99%E5%B7%A6%E5%8F%B3%E5%8F%8C%E6%97%8B-toc" style="margin-left:80px;"><a href="#%F0%9F%8C%99%E5%B7%A6%E5%8F%B3%E5%8F%8C%E6%97%8B" rel="nofollow">ğŸŒ™å·¦å³åŒæ—‹</a></p> 
<p id="%F0%9F%8C%99%E5%8F%B3%E5%B7%A6%E5%8F%8C%E6%97%8B-toc" style="margin-left:80px;"><a href="#%F0%9F%8C%99%E5%8F%B3%E5%B7%A6%E5%8F%8C%E6%97%8B" rel="nofollow">ğŸŒ™å³å·¦åŒæ—‹</a></p> 
<p id="%E4%BA%94.%20AVL%E6%A0%91%E7%9A%84%E9%AA%8C%E8%AF%81-toc" style="margin-left:40px;"><a href="#%E4%BA%94.%20AVL%E6%A0%91%E7%9A%84%E9%AA%8C%E8%AF%81" rel="nofollow">äº”. AVLæ ‘çš„éªŒè¯</a></p> 
<p id="%F0%9F%93%9D1.%20%E9%AA%8C%E8%AF%81%E5%85%B6%E4%B8%BA%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91-toc" style="margin-left:80px;"><a href="#%F0%9F%93%9D1.%20%E9%AA%8C%E8%AF%81%E5%85%B6%E4%B8%BA%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91" rel="nofollow">ğŸ“1. éªŒè¯å…¶ä¸ºäºŒå‰æœç´¢æ ‘</a></p> 
<p id="%F0%9F%93%9D2.%20%E9%AA%8C%E8%AF%81%E5%85%B6%E4%B8%BA%E5%B9%B3%E8%A1%A1%E6%A0%91-toc" style="margin-left:80px;"><a href="#%F0%9F%93%9D2.%20%E9%AA%8C%E8%AF%81%E5%85%B6%E4%B8%BA%E5%B9%B3%E8%A1%A1%E6%A0%91" rel="nofollow">ğŸ“2. éªŒè¯å…¶ä¸ºå¹³è¡¡æ ‘</a></p> 
<p id="%F0%9F%93%9D3.%20%E9%AA%8C%E8%AF%81%E7%94%A8%E4%BE%8B%EF%BC%9A-toc" style="margin-left:80px;"><a href="#%F0%9F%93%9D3.%20%E9%AA%8C%E8%AF%81%E7%94%A8%E4%BE%8B%EF%BC%9A" rel="nofollow">ğŸ“3. éªŒè¯ç”¨ä¾‹ï¼š</a></p> 
<p id="%E5%85%AD.AVL%E6%A0%91%E7%9A%84%E6%80%A7%E8%83%BD%E5%92%8C%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81-toc" style="margin-left:40px;"><a href="#%E5%85%AD.AVL%E6%A0%91%E7%9A%84%E6%80%A7%E8%83%BD%E5%92%8C%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81" rel="nofollow">å…­.AVLæ ‘çš„æ€§èƒ½å’Œå®Œæ•´ä»£ç </a></p> 
<hr> 
<h3 id="%F0%9F%9A%80%E5%89%8D%E8%A8%80">ğŸš€å‰è¨€</h3> 
<p>Â  Â  Â  Â å‰é¢æˆ‘ä»¬å­¦åˆ°äº†äºŒå‰æœç´¢æ ‘ï¼Œ<a href="https://blog.csdn.net/island1314/article/details/140522805?spm=1001.2014.3001.5501" title="ã€C++é«˜é˜¶ã€‘äºŒå‰æœç´¢æ ‘çš„å…¨é¢è§£æä¸é«˜æ•ˆå®ç°">ã€C++é«˜é˜¶ã€‘äºŒå‰æœç´¢æ ‘çš„å…¨é¢è§£æä¸é«˜æ•ˆå®ç°</a></p> 
<p>Â  Â  Â  Â è™½ç„¶äºŒå‰æœç´¢æ ‘è™½å¯ä»¥ç¼©çŸ­æŸ¥æ‰¾çš„æ•ˆç‡ï¼Œä½†å¦‚æœæ•°æ®æœ‰åºæˆ–æ¥è¿‘æœ‰åºäºŒå‰æœç´¢æ ‘å°†é€€åŒ–ä¸ºå•æ”¯æ ‘ï¼ŒæŸ¥æ‰¾å…ƒç´ ç›¸å½“äºåœ¨é¡ºåºè¡¨ä¸­æœç´¢å…ƒç´ ï¼Œæ•ˆç‡ä½ä¸‹ã€‚å› æ­¤ï¼Œä¸¤ä½ä¿„ç½—æ–¯çš„æ•°å­¦å®¶G.M.Adelson-Velskiiå’ŒE.M.Landisåœ¨1962å¹´å‘æ˜äº†ä¸€ç§è§£å†³ä¸Šè¿°é—®é¢˜çš„æ–¹æ³•ï¼Œ<strong>å³AVLæ ‘ï¼Œå®ƒ</strong>ä»¥å…¶ç‹¬ç‰¹çš„å¹³è¡¡æœºåˆ¶å’Œé«˜æ•ˆçš„æœç´¢æ€§èƒ½ï¼Œæˆä¸ºäº†ä¸€é¢—ç’€ç’¨çš„æ˜æ˜Ÿã€‚<strong>å®ƒä¸ä»…è§£å†³äº†äºŒå‰æœç´¢æ ‘åœ¨æ•°æ®æ’å…¥å’Œåˆ é™¤æ—¶å¯èƒ½äº§ç”Ÿçš„å¤±è¡¡é—®é¢˜ï¼Œæ›´é€šè¿‡æ—‹è½¬æ“ä½œï¼Œä½¿å¾—æ ‘çš„é«˜åº¦å§‹ç»ˆä¿æŒåœ¨ä¸€ä¸ªç›¸å¯¹è¾ƒä½çš„æ°´å¹³ï¼Œä»è€Œä¿è¯äº†æœç´¢çš„é«˜æ•ˆæ€§ã€‚</strong>è®©æˆ‘ä»¬æ¥è¯¦ç»†çœ‹çœ‹AVLæ ‘åˆ°åº•æ˜¯æ€ä¹ˆè§£å†³ä¸Šè¿°é—®é¢˜çš„å§ï¼Œè¸ä¸Šè¿™å­¦ä¹ ä¹‹æ—…ã€‚</p> 
<h3 id="%E4%B8%80.%C2%A0AVL%E6%A0%91%E7%9A%84%E6%A6%82%E5%BF%B5">ä¸€.<a class="link-info" href="https://so.csdn.net/so/search?q=AVL%E6%A0%91&amp;spm=1001.2101.3001.7020" title="Â AVLæ ‘">Â AVLæ ‘</a>çš„æ¦‚å¿µ</h3> 
<p>ğŸ“’äºŒå‰æœç´¢æ ‘è™½å¯ä»¥ç¼©çŸ­æŸ¥æ‰¾çš„æ•ˆç‡ï¼Œä½†<strong>å¦‚æœæ•°æ®æœ‰åºæˆ–æ¥è¿‘æœ‰åºäºŒå‰æœç´¢æ ‘å°†é€€åŒ–ä¸ºå•æ”¯æ ‘ï¼ŒæŸ¥æ‰¾å…ƒç´ ç›¸å½“äºåœ¨é¡ºåºè¡¨ä¸­æœç´¢å…ƒç´ ï¼Œæ•ˆç‡ä½ä¸‹</strong>ã€‚</p> 
<p><strong>å› æ­¤ï¼Œä¸¤ä½ä¿„ç½—æ–¯çš„æ•°å­¦å®¶G.M.Adelson-Velskiiå’ŒE.M.Landisåœ¨1962å¹´å‘æ˜äº†ä¸€ç§è§£å†³ä¸Šè¿°é—®é¢˜çš„æ–¹æ³•ï¼š</strong></p> 
<blockquote> 
 <p><strong>å½“å‘äºŒå‰æœç´¢æ ‘ä¸­æ’å…¥æ–°ç»“ç‚¹åï¼Œå¦‚æœèƒ½ä¿è¯æ¯ä¸ªç»“ç‚¹çš„å·¦å³å­æ ‘é«˜åº¦ä¹‹å·®çš„ç»å¯¹å€¼ä¸è¶…è¿‡1(éœ€è¦å¯¹æ ‘ä¸­çš„ç»“ç‚¹è¿›è¡Œè°ƒæ•´)ï¼Œå³å¯é™ä½æ ‘çš„é«˜åº¦ï¼Œä»è€Œå‡å°‘å¹³å‡æœç´¢é•¿åº¦ï¼Œ</strong></p> 
</blockquote> 
<p>ğŸ“™<strong>ä¸€æ£µAVLæ ‘æˆ–è€…æ˜¯ç©ºæ ‘ï¼Œæˆ–è€…æ˜¯å…·æœ‰ä»¥ä¸‹æ€§è´¨çš„äºŒå‰æœç´¢æ ‘ï¼š</strong></p> 
<blockquote> 
 <ul><li><strong>å®ƒçš„å·¦å³å­æ ‘éƒ½æ˜¯AVLæ ‘</strong></li><li><strong>å·¦å³å­æ ‘é«˜åº¦ä¹‹å·®(ç®€ç§°å¹³è¡¡å› å­)çš„ç»å¯¹å€¼ä¸è¶…è¿‡1(-1/0/1)</strong></li></ul> 
</blockquote> 
<p><img alt="" height="308" src="https://images2.imgbox.com/fa/bf/L4UhVM3n_o.png" width="570"></p> 
<p>ğŸˆæ³¨æ„ï¼š å¦‚æœä¸€æ£µäºŒå‰æœç´¢æ ‘æ˜¯é«˜åº¦å¹³è¡¡çš„ï¼Œå®ƒå°±æ˜¯AVLæ ‘ã€‚å¦‚æœå®ƒæœ‰nä¸ªç»“ç‚¹ï¼Œå…¶<strong>é«˜åº¦å¯ä¿æŒåœ¨Oï¼ˆ<img alt="^{log_{2}N}" class="mathcode" src="https://images2.imgbox.com/df/67/Yd47mPx6_o.png">ï¼‰</strong><strong>æœç´¢æ—¶é—´å¤æ‚åº¦Oï¼ˆ<img alt="{log_{2}N}^{}" class="mathcode" src="https://images2.imgbox.com/b1/9e/m98aZuMO_o.png">ï¼‰ã€‚</strong></p> 
<h3 id="%E4%BA%8C.%20AVL%E6%A0%91%E8%8A%82%E7%82%B9%E7%9A%84%E5%AE%9A%E4%B9%89">äºŒ. AVLæ ‘èŠ‚ç‚¹çš„å®šä¹‰</h3> 
<p><strong>AVLæ ‘èŠ‚ç‚¹çš„å®šä¹‰é€šå¸¸åŒ…å«ä»¥ä¸‹å‡ ä¸ªå…³é”®éƒ¨åˆ†ï¼š</strong></p> 
<h4 id="%F0%9F%A7%A91.%20%E5%9F%BA%E6%9C%AC%E5%85%83%E7%B4%A0" style="background-color:transparent;">ğŸ§©<strong>1. åŸºæœ¬å…ƒç´ </strong></h4> 
<p>Â  Â  Â åœ¨è°ƒæ•´å¤±è¡¡çš„AVLæ ‘æ—¶ï¼Œæˆ‘ä»¬éœ€è¦é¢‘ç¹çš„è®¿é—®çˆ¶èŠ‚ç‚¹ï¼Œæ‰€ä»¥åœ¨AVLæ ‘ä¸­æˆ‘ä»¬éœ€è¦ä½¿ç”¨ä¸‰å‰é“¾ï¼Œå› æ­¤AVLæ ‘çš„èŠ‚ç‚¹é™¤äº†åŒ…å«å·¦å³å­èŠ‚ç‚¹çš„æŒ‡é’ˆï¼Œè¿˜éœ€è¦ä¸€ä¸ªæŒ‡å‘çˆ¶èŠ‚ç‚¹çš„æŒ‡é’ˆã€‚</p> 
<blockquote> 
 <p></p> 
 <ul><li>_leftï¼šæŒ‡å‘èŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹çš„æŒ‡é’ˆ</li><li>_rightï¼šæŒ‡å‘èŠ‚ç‚¹çš„å³å­èŠ‚ç‚¹çš„æŒ‡é’ˆ</li><li>_parentï¼šæŒ‡å‘èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹çš„æŒ‡é’ˆ</li><li>_kvï¼šä¸€ä¸ªç»“æ„ä½“æˆ–é…å¯¹ï¼ˆpairï¼‰ï¼ŒåŒ…å«èŠ‚ç‚¹çš„é”®å€¼ï¼ˆkeyï¼‰å’Œå€¼ï¼ˆvalueï¼‰ã€‚è¿™å–å†³äºAVLæ ‘çš„å…·ä½“ç”¨é€”ï¼Œå¯èƒ½åªåŒ…å«é”®æˆ–åŒ…å«é”®å€¼å¯¹ã€‚</li></ul> 
</blockquote> 
<h4 id="%F0%9F%A7%A92.%C2%A0BST%E5%AE%9A%E4%B9%89%EF%BC%9A">ğŸ§©2.Â <strong>å¹³è¡¡å› å­ï¼ˆ_bfï¼‰</strong></h4> 
<blockquote> 
 <ul><li><strong>ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºèŠ‚ç‚¹å·¦å­æ ‘å’Œå³å­æ ‘çš„é«˜åº¦å·®ã€‚AVLæ ‘çš„æ€§è´¨è¦æ±‚ä»»ä½•èŠ‚ç‚¹çš„å¹³è¡¡å› å­çš„ç»å¯¹å€¼ä¸è¶…è¿‡1ï¼ˆ-1, 0, 1ï¼‰</strong></li><li> <p><strong>å¦‚æœå·¦å­æ ‘æ¯”å³å­æ ‘é«˜ä¸€å±‚ï¼Œé‚£ä¹ˆå¹³è¡¡å› å­å°±ä¸º-1ï¼›å¦‚æœå·¦å³å­æ ‘ä¸€æ ·é«˜ï¼Œå¹³è¡¡å› å­å°±ä¸º0ï¼›å¦‚æœå³å­æ ‘æ¯”å·¦å­æ ‘é«˜ä¸€å±‚ï¼Œé‚£ä¹ˆå¹³è¡¡å› å­å°±ä¸º1ï¼Œ</strong>è¿™ä¸‰ç§æƒ…å†µä¸‹AVLæ ‘çš„æ€§è´¨éƒ½æ²¡æœ‰è¢«æ‰“ç ´ã€‚</p> </li><li> <p></p> <p>æŒ‰ç…§è¿™ä¸ªè§„åˆ™ï¼Œ<strong>å¦‚æœå¹³è¡¡å› å­ä¸º-2ã€2æˆ–å…¶ä»–å€¼ï¼Œåˆ™è¯´æ˜å·¦å³å­æ ‘å·²ç»å¤±è¡¡ï¼Œæ€§è´¨è¢«æ‰“ç ´ã€‚</strong></p> <p></p> </li></ul> 
</blockquote> 
<h4 id="%F0%9F%A7%A93.%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0">ğŸ§©3.æ„é€ å‡½æ•°</h4> 
<blockquote> 
 <ul><li>åˆå§‹åŒ–ä¸€ä¸ªæ–°èŠ‚ç‚¹æ—¶ï¼Œé€šå¸¸éœ€è¦ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œå®ƒæ¥å—ä¸€ä¸ªé”®å€¼å¯¹ï¼ˆæˆ–ä»…é”®ï¼‰ï¼Œå¹¶è®¾ç½®èŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹ã€å³å­èŠ‚ç‚¹ã€çˆ¶èŠ‚ç‚¹å’Œå¹³è¡¡å› å­ï¼ˆåˆå§‹åŒ–ä¸º0ï¼‰</li></ul> 
</blockquote> 
<p><span style="color:#fe2c24;">å¦å¤–éœ€è¦è¯´æ˜ä¸€ä¸‹ï¼Œæœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨key/valueæ¨¡å‹çš„AVLæ ‘</span></p> 
<h4 id="%F0%9F%A7%A9AVL%E8%8A%82%E7%82%B9%E5%AE%9A%E4%B9%89%EF%BC%9A">ğŸ§©AVL<strong>èŠ‚ç‚¹å®šä¹‰ï¼š</strong></h4> 
<pre><code class="language-cpp">template&lt;class K, class V&gt;
struct AVLTreeNode
{
	pair&lt;K, V&gt; _kv;//ç¬¬ä¸€ä¸ªæ•°æ®å­˜å‚¨keyï¼Œç¬¬äºŒä¸ªæ•°æ®å­˜å‚¨value
	AVLTreeNode&lt;K, V&gt;* _left;
	AVLTreeNode&lt;K, V&gt;* _right;
	AVLTreeNode&lt;K, V&gt;* _parent;
	int _bf; // balance factorï¼Œå¹³è¡¡å› å­ï¼Œå€¼ä¸ºå³å­æ ‘ä¸å·¦å­æ ‘é«˜åº¦å·®ï¼Œå³è¾¹æ’å…¥å°±åŠ ä¸€ï¼Œå·¦è¾¹æ’å…¥å‡ä¸€

	AVLTreeNode(const pair&lt;K, V&gt;&amp; kv)
		:_kv(kv)
		, _left(nullptr)
		, _right(nullptr)
		, _parent(nullptr)
		, _bf(0)  //æ–°èŠ‚ç‚¹å·¦å³éƒ½ä¸ºç©ºï¼Œå¹³è¡¡å› å­ä¸º0
	{}
};</code></pre> 
<p><strong>æ³¨æ„ï¼š</strong></p> 
<p>å¯èƒ½æœ‰äº›åŒå­¦å¯¹pairæ²¡æœ‰äº†è§£ï¼Œè¿™é‡Œç®€å•ä»‹ç»ä¸€ä¸‹ï¼Œ<strong>pairå¯ä»¥å°†ä¸¤ä¸ªæ•°æ®ç»„æˆä¸€ç»„å…ƒç´ ï¼Œå› æ­¤å¯¹äºkey/valueæ¨¡å‹è¿™ç§éœ€è¦ç”¨åˆ°ä¸¤ä¸ªæ•°æ®ä¸ºä¸€ç»„çš„å…ƒç´ æ—¶å°±å¯ä»¥ä½¿ç”¨ï¼Œå†…éƒ¨çš„æˆå‘˜å˜é‡ä¸ºfirstå’Œsecondï¼Œä¸»è¦ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š</strong></p> 
<pre><code class="language-cpp">pair&lt;T1, T2&gt; p1(v1, v2); //è¾“å…¥ä¸¤ä¸ªæ•°æ®åˆ›å»ºpairç±»å‹å˜é‡
make_pair(v1, v2);       //è¾“å…¥ä¸¤ä¸ªæ•°æ®é€šè¿‡å‡½æ•°åˆ›å»ºpairç±»å‹å˜é‡
p1.first                 //è®¿é—®p1çš„ç¬¬ä¸€ä¸ªæ•°æ®
p1.second                //è®¿é—®p1çš„ç¬¬äºŒä¸ªæ•°æ®</code></pre> 
<h3 id="%E4%B8%89.%20AVL%E6%A0%91%E7%9A%84%E6%8F%92%E5%85%A5">ä¸‰. AVLæ ‘çš„æ’å…¥</h3> 
<p>ğŸŒˆ<strong>AVLæ ‘å°±æ˜¯åœ¨äºŒå‰æœç´¢æ ‘çš„åŸºç¡€ä¸Šå¼•å…¥äº†å¹³è¡¡å› å­ï¼Œå› æ­¤AVLæ ‘ä¹Ÿå¯ä»¥çœ‹æˆæ˜¯äºŒå‰æœç´¢æ ‘ã€‚é‚£ä¹ˆAVLæ ‘çš„æ’å…¥è¿‡ç¨‹å¯ä»¥åˆ†ä¸ºä¸¤æ­¥ï¼š</strong></p> 
<blockquote> 
 <ul><li><strong>æŒ‰ç…§äºŒå‰æœç´¢æ ‘çš„æ–¹å¼æ’å…¥æ–°èŠ‚ç‚¹</strong></li><li><strong>è°ƒæ•´èŠ‚ç‚¹çš„å¹³è¡¡å› å­</strong></li></ul> 
</blockquote> 
<p><strong>åœ¨æˆ‘ä»¬è¿›è¡Œæ’å…¥æ“ä½œä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆå®šä¹‰ä¸€ä¸ªAVLæ ‘çš„ç±»</strong></p> 
<p><strong>AVLæ ‘å®šä¹‰ï¼š</strong></p> 
<pre><code class="language-cpp">template&lt;class K,class V&gt;
class AVLTree
{
Â Â  Â typedef AVLTreeNode&lt;K, V&gt; Node;
public:
Â Â  Â // å…¶ä»–æœªå®ç°çš„æˆå‘˜å‡½æ•°
private:
Â Â  Â Node* _root = nullptr;
};</code></pre> 
<p><span style="color:#fe2c24;"><strong>curæ’å…¥åï¼Œparentçš„å¹³è¡¡å› å­ä¸€å®šéœ€è¦è°ƒæ•´</strong></span></p> 
<blockquote> 
 <p><strong>åœ¨æ’å…¥ä¹‹å‰ï¼Œparentçš„å¹³è¡¡å› å­åˆ†ä¸ºä¸‰ç§æƒ…å†µï¼š-1ï¼Œ0, 1, åˆ†ä»¥ä¸‹ä¸¤ç§æƒ…å†µï¼š</strong></p> 
 <ul><li><strong>å¦‚æœcuræ’å…¥åˆ°parentçš„å·¦ä¾§ï¼Œåªéœ€ç»™parentçš„å¹³è¡¡å› å­-1å³å¯</strong></li><li><strong>å¦‚æœcuræ’å…¥åˆ°parentçš„å³ä¾§ï¼Œåªéœ€ç»™parentçš„å¹³è¡¡å› å­+1å³å¯</strong></li></ul> 
</blockquote> 
<blockquote> 
 <p><strong>æ’å…¥åï¼Œparentçš„å¹³è¡¡å› å­å¯èƒ½æœ‰ä¸‰ç§æƒ…å†µï¼š0ï¼Œæ­£è´Ÿ1ï¼Œ æ­£è´Ÿ2</strong></p> 
 <p></p> 
 <ul><li>å¦‚æœparentçš„å¹³è¡¡å› å­ä¸º0ï¼Œè¯´æ˜æ’å…¥ä¹‹å‰parentçš„å¹³è¡¡å› å­ä¸ºæ­£è´Ÿ1ï¼Œæ’å…¥åè¢«è°ƒæ•´<br> æˆ0ï¼Œæ­¤æ—¶æ»¡è¶³AVLæ ‘çš„æ€§è´¨ï¼Œæ’å…¥æˆåŠŸ</li><li>å¦‚æœparentçš„å¹³è¡¡å› å­ä¸ºæ­£è´Ÿ1ï¼Œè¯´æ˜æ’å…¥å‰pParentçš„å¹³è¡¡å› å­ä¸€å®šä¸º0ï¼Œæ’å…¥åè¢«æ›´<br> æ–°æˆæ­£è´Ÿ1ï¼Œæ­¤æ—¶ä»¥parentä¸ºæ ¹çš„æ ‘çš„é«˜åº¦å¢åŠ ï¼Œéœ€è¦ç»§ç»­å‘ä¸Šæ›´æ–°</li><li>å¦‚æœparentçš„å¹³è¡¡å› å­ä¸ºæ­£è´Ÿ2ï¼Œåˆ™parentçš„å¹³è¡¡å› å­è¿åå¹³è¡¡æ ‘çš„æ€§è´¨ï¼Œéœ€è¦å¯¹å…¶è¿›<br> è¡Œæ—‹è½¬å¤„ç†</li></ul> 
</blockquote> 
<p><strong>AVLæ ‘çš„æ’å…¥æ“ä½œç±»ä¼¼äºæˆ‘ä»¬ä¹‹å‰äºŒå‰æœç´¢æ ‘çš„æ’å…¥ï¼Œåªä¸è¿‡AVLæ ‘çš„æ’å…¥æ“ä½œæ¶‰åŠåˆ°æ—‹è½¬æ“ä½œï¼Œæˆ‘ä»¬å…ˆæ¼”ç¤ºä¸€ä¸‹å®ƒçš„å…¨éƒ¨ä»£ç </strong></p> 
<pre><code class="language-cpp">bool Insert(const pair&lt;K, V&gt;&amp; kv)  //å’Œä¹‹å‰çš„äºŒå‰å¹³è¡¡æ ‘æ’å…¥ç±»ä¼¼
{
	if (_root == nullptr)
	{
		_root = new Node(kv);
		return true;
	}
	//ç¬¬ä¸€æ­¥å…ˆæ‰¾åˆ°curåº”è¯¥æ’å…¥çš„ä½ç½®
	Node* parent = nullptr, * cur = _root;
	while (cur)
	{
		parent = cur; //ä¿ç•™å…¶çˆ¶èŠ‚ç‚¹
		if (cur-&gt;_kv.first &lt; kv.first)
		{
			cur = cur-&gt;_right;
		}
		else if (cur-&gt;_kv.first &gt; kv.first)
		{
			cur = cur-&gt;_left;
		}
		else return false; //å…ƒç´ é‡å¤ï¼Œæ’å…¥å¤±è´¥
		
	}
	//ç¬¬äºŒæ­¥æ’å…¥æ–°èŠ‚ç‚¹
	cur = new Node(kv); //æ–°æ’å…¥èŠ‚ç‚¹
	if (parent-&gt;_kv.first &lt; kv.first)
	{
		parent-&gt;_right = cur;
	}
	else
	{
		parent-&gt;_left = cur;
	}
	cur-&gt;_parent = parent;

	//ç¬¬ä¸‰æ­¥æ›´æ–°å¹³è¡¡å› å­
	while (parent)
	{
		if (cur == parent-&gt;_left) //åœ¨å·¦ä¾§æ’å…¥èŠ‚ç‚¹ï¼Œå¹³è¡¡å› å­å‡å°
			parent-&gt;_bf--;
		else //å³ä¾§æ’å…¥èŠ‚ç‚¹ï¼Œå¹³è¡¡å› å­å¢å¤§
			parent-&gt;_bf++;

		if (parent-&gt;_bf == 0)
		{
			break;
		}
		else if (parent-&gt;_bf == 1 || parent-&gt;_bf == -1)
		{
			// ç»§ç»­å¾€ä¸Šæ›´æ–°
			cur = parent;
			parent = parent-&gt;_parent;
		}
		else if (parent-&gt;_bf == 2 || parent-&gt;_bf == -2) //å’Œä¹¦ä¸Šç›¸åï¼Œå› ä¸ºä¹¦ä¸Šæ˜¯æŠŠå·¦ä¾§æ’å…¥èŠ‚ç‚¹å¹³è¡¡å› å­å¢å¤§ï¼Œè¿™é‡Œå·¦ä¾§æ’å…¥å‡å°
		{
			// ä¸å¹³è¡¡äº†ï¼Œæ—‹è½¬å¤„ç†ï¼Œcurä¸ºæ’å…¥èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ï¼Œpaerntä¸ºcurçš„çˆ¶èŠ‚ç‚¹
			if (parent-&gt;_bf == 2 &amp;&amp; cur-&gt;_bf == 1) //RRå‹ï¼Œåœ¨å­æ ‘æ ¹èŠ‚ç‚¹å³å­æ ‘çš„å³å­æ ‘æ’å…¥èŠ‚ç‚¹
			{ //é€†æ—¶é’ˆå·¦æ—‹è½¬
				RotateL(parent);
			}
			else if (parent-&gt;_bf == -2 &amp;&amp; cur-&gt;_bf == -1)//LLå‹ï¼Œåœ¨å­æ ‘æ ¹èŠ‚ç‚¹å·¦å­æ ‘ä¸Šçš„å·¦å­æ ‘æ’å…¥èŠ‚ç‚¹ï¼Œ
			{ //é¡ºæ—¶é’ˆå³æ—‹è½¬
				RotateR(parent);
			}
			else  if (parent-&gt;_bf == 2 &amp;&amp; cur-&gt;_bf == -1) //RLå‹ï¼Œåœ¨å­æ ‘æ ¹èŠ‚ç‚¹å³å­æ ‘ä¸Šçš„å·¦å­æ ‘æ’å…¥èŠ‚ç‚¹
			{//å…ˆé¡ºæ—¶é’ˆå³æ—‹å˜æˆRRå‹ï¼Œå†é€†æ—¶é’ˆå·¦æ—‹ï¼Œæœ€åå°±æ˜¯åŸå­æ ‘æ ¹èŠ‚ç‚¹å³å­æ ‘ä¸Šå·¦å­æ ‘ä½œä¸ºå­æ ‘æ ¹èŠ‚ç‚¹ã€‚
				RotateRL(parent);
			}
			else if (parent-&gt;_bf == -2 &amp;&amp; cur-&gt;_bf == 1) //LRå‹ï¼Œåœ¨å­æ ‘æ ¹èŠ‚ç‚¹å·¦å­æ ‘ä¸Šçš„å³å­æ ‘æ’å…¥èŠ‚ç‚¹
			{ //å…ˆé€†æ—¶é’ˆå·¦æ—‹å˜æˆLLå‹ï¼Œå†é¡ºæ—¶é’ˆå³æ—‹ï¼Œæœ€åå°±æ˜¯åŸå­æ ‘æ ¹èŠ‚ç‚¹å·¦å­æ ‘ä¸Šçš„å³å­æ ‘ä½œä¸ºå­æ ‘æ ¹èŠ‚ç‚¹ã€‚
				RotateLR(parent);
			}
			break;
		}
		else
		{
			assert(false);
		}
	}

	return true;
}</code></pre> 
<h3></h3> 
<h3 id="%E5%9B%9B.%20AVL%E6%A0%91%E7%9A%84%E6%97%8B%E8%BD%AC">å››. AVLæ ‘çš„æ—‹è½¬</h3> 
<p><strong>å¦‚æœåœ¨ä¸€æ£µåŸæœ¬æ˜¯å¹³è¡¡çš„AVLæ ‘ä¸­æ’å…¥ä¸€ä¸ªæ–°èŠ‚ç‚¹ï¼Œå¯èƒ½é€ æˆä¸å¹³è¡¡ï¼Œæ­¤æ—¶å¿…é¡»è°ƒæ•´æ ‘çš„ç»“æ„ï¼Œ<br> ä½¿ä¹‹å¹³è¡¡åŒ–ã€‚æ ¹æ®èŠ‚ç‚¹æ’å…¥ä½ç½®çš„ä¸åŒï¼ŒAVLæ ‘çš„æ—‹è½¬åˆ†ä¸ºå››ç§ï¼š</strong></p> 
<h4 id="%F0%9F%8C%88%E5%8F%B3%E5%8D%95%E6%97%8B">ğŸŒˆå³å•æ—‹</h4> 
<p><strong>æ–°èŠ‚ç‚¹æ’å…¥å­æ ‘æ ¹èŠ‚ç‚¹å·¦å­æ ‘çš„å·¦å­æ ‘ä¸Šï¼ˆLLå‹ï¼‰:</strong></p> 
<p><img alt="" height="238" src="https://images2.imgbox.com/28/8e/rne3aIsg_o.png" width="987"></p> 
<p><strong>æ­¤å¤„æ—‹è½¬æ˜¯å°†<code>30</code>çš„å³å­æ ‘å˜æˆ<code>60</code>çš„å·¦å­æ ‘ï¼Œç„¶åè®©<code>60</code>æˆä¸º<code>30</code>çš„å³å­æ ‘</strong></p> 
<p><strong>åœ¨æ—‹è½¬ä¸­æœ‰å‡ ç‚¹è¦æ³¨æ„ï¼š</strong></p> 
<blockquote> 
 <ul><li><strong><code>30</code>è¿™ä¸ªèŠ‚ç‚¹çš„å³å­©å­å¯èƒ½ä¸å­˜åœ¨</strong></li><li><strong><code>60</code>è¿™ä¸ªèŠ‚ç‚¹å¯èƒ½æ˜¯æ ¹èŠ‚ç‚¹ï¼Œä¹Ÿå¯èƒ½æ˜¯å­æ ‘</strong></li></ul> 
</blockquote> 
<p><strong>å¦‚æœæ˜¯æ ¹èŠ‚ç‚¹ï¼Œæ—‹è½¬å®Œæˆåï¼Œè¦æ›´æ–°æ ¹èŠ‚ç‚¹</strong><br><strong>å¦‚æœæ˜¯å­æ ‘ï¼Œå¯èƒ½æ˜¯æŸä¸ªèŠ‚ç‚¹çš„å·¦å­æ ‘ï¼Œä¹Ÿå¯èƒ½æ˜¯å³å­æ ‘</strong></p> 
<p><strong>AVLæ ‘å³å•æ—‹ä»£ç ç¤ºä¾‹ï¼š</strong></p> 
<pre><code class="language-cpp">void RotateR(Node* parent) //é¡ºæ—¶é’ˆå³å•æ—‹ï¼Œarentä¸ºæ ¹ï¼ŒsubLä¸ºæ ¹å·¦å­æ ‘ï¼ŒsubLRä¸ºæ ¹å·¦å­æ ‘çš„å³å­æ ‘
{ //subLRå˜æˆpareneçš„å·¦è¾¹ï¼Œparentå˜æˆsubLçš„å³è¾¹ï¼ŒsubLå˜æˆè¿™é¢—å­æ ‘çš„æ ¹
	Node* subL = parent-&gt;_left, *subLR = subL-&gt;_right;
	Node* parentParent = parent-&gt;_parent;
	
	//æ”¹å˜parentçš„å·¦å­æ ‘
	parent-&gt;_left = subLR;
	if (subLR != nullptr) //é¿å…ä¸ºç©º
		subLR-&gt;_parent = parent;

	//æ”¹å˜parentçš„çˆ¶èŠ‚ç‚¹
	subL-&gt;_right = parent;
	parent-&gt;_parent = subL;

	//æ”¹å˜å­æ ‘æ ¹èŠ‚ç‚¹ï¼Œè°ƒæ•´subLä¸ºå­æ ‘æ ¹èŠ‚ç‚¹
	if (parentParent == nullptr){//ç¬¬ä¸€ç§æƒ…å†µï¼šparentä¸ºæ ¹èŠ‚ç‚¹
		_root = subL;
		subL-&gt;_parent = nullptr;
	}
	else{//ç¬¬äºŒç§æƒ…å†µï¼šparentä¸ä¸ºæ ¹èŠ‚ç‚¹
		if (parentParent-&gt;_left == parent) parentParent-&gt;_left = subL;
		else parentParent-&gt;_right = subL;
		subL-&gt;_parent = parentParent; //è®°å¾—æ›´æ–°å­æ ‘æ ¹èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹
	}
	parent-&gt;_bf = subL-&gt;_bf = 0; //æ›´æ–°å¹³è¡¡å› å­
}</code></pre> 
<h4 id="%F0%9F%8C%88%E5%B7%A6%E5%8D%95%E6%97%8B">ğŸŒˆå·¦å•æ—‹</h4> 
<p><strong>æ–°èŠ‚ç‚¹æ’å…¥å­æ ‘æ ¹èŠ‚ç‚¹å³å­æ ‘çš„å³å­æ ‘ä¸Šï¼ˆLLå‹ï¼‰:</strong></p> 
<p><img alt="" height="282" src="https://images2.imgbox.com/c4/14/Od4Gs8Jw_o.png" width="977"></p> 
<p><strong>å·¦å•æ—‹ä¸ä¸Šé¢çš„å³å•æ—‹ç±»ä¼¼ï¼Œæ‰€ä»¥æˆ‘ä»¬ç›´æ¥æ¥çœ‹ä»£ç </strong></p> 
<p><strong>AVLæ ‘å·¦å•æ—‹ä»£ç ç¤ºä¾‹ï¼š</strong></p> 
<pre><code class="language-cpp">void RotateL(Node* parent) //é€†æ—¶é’ˆå·¦å•æ—‹ï¼Œparentä¸ºå­æ ‘æ ¹èŠ‚ç‚¹ï¼ŒsubRä¸ºæ ¹å³å­æ ‘ï¼ŒsubRLä¸ºæ ¹å³å­æ ‘çš„å·¦å­æ ‘
{ //subRLå˜æˆpareneçš„å³è¾¹ï¼Œparentå˜æˆsubRçš„å·¦è¾¹ï¼ŒsubRå˜æˆè¿™é¢—å­æ ‘çš„æ ¹
	Node* subR = parent-&gt;_right, *subRL = subR-&gt;_left;
	Node* parentParent = parent-&gt;_parent;

	//æ”¹å˜parenttçš„å³å­æ ‘
	parent-&gt;_right = subRL;
	if(subRL != nullptr) //é¿å…ä¸ºç©º
		subRL-&gt;_parent = parent;

	//æ”¹å˜parentçš„çˆ¶èŠ‚ç‚¹
	subR-&gt;_left = parent;
	parent-&gt;_parent = subR;

	//æ”¹å˜å­æ ‘æ ¹èŠ‚ç‚¹ï¼Œè°ƒæ•´subRä¸ºå­æ ‘æ ¹èŠ‚ç‚¹
	if (parentParent == nullptr) { //ç¬¬ä¸€ç§æƒ…å†µï¼šparentä¸ºæ ¹èŠ‚ç‚¹
		_root = subR;
		subR-&gt;_parent = nullptr;
	}
	else{ //ç¬¬äºŒç§æƒ…å†µï¼Œparentä¸æ˜¯æ ¹èŠ‚ç‚¹
		if (parentParent-&gt;_left == parent) parentParent-&gt;_left = subR;
		else parentParent-&gt;_right = subR;
		subR-&gt;_parent = parentParent;//è®°å¾—æ›´æ–°å­æ ‘æ ¹èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹
	}
	parent-&gt;_bf = subR-&gt;_bf = 0;//æ›´æ–°å¹³è¡¡å› å­
}</code></pre> 
<h4 id="%F0%9F%8C%99%E5%B7%A6%E5%8F%B3%E5%8F%8C%E6%97%8B">ğŸŒ™å·¦å³åŒæ—‹</h4> 
<p><strong>æ–°èŠ‚ç‚¹æ’å…¥å­æ ‘æ ¹èŠ‚ç‚¹å·¦å­æ ‘çš„å³å­æ ‘ä¸Šï¼ˆLRå‹ï¼‰:</strong></p> 
<p><img alt="" height="570" src="https://images2.imgbox.com/52/bf/SW3d0k07_o.png" width="912"></p> 
<p><span style="color:#fe2c24;">è¿™é‡Œæ˜¯å°†åŒæ—‹å˜æˆå•æ—‹åå†æ—‹è½¬ï¼Œå…ˆå¯¹<code>30</code>è¿›è¡Œå·¦å•æ—‹ï¼Œç„¶åå†å¯¹<code>90</code>è¿›è¡Œå³å•æ—‹ï¼Œæ—‹è½¬å®Œæˆåå†è€ƒè™‘å¹³è¡¡å› å­çš„æ›´æ–°ã€‚</span></p> 
<p><strong>AVLæ ‘å·¦å³åŒæ—‹ä»£ç ç¤ºä¾‹ï¼š</strong></p> 
<pre><code class="language-cpp">void RotateLR(Node* parent) //å…ˆä»¥æ ¹èŠ‚ç‚¹çš„å·¦å­æ ‘è¿›è¡Œå³æ—‹ï¼Œå†å¯¹æ ¹èŠ‚ç‚¹è¿›è¡Œå·¦æ—‹
{
	Node* subL = parent-&gt;_left, *subLR = subL-&gt;_right;
	int bf = subLR-&gt;_bf;

	RotateL(parent-&gt;_left);
	RotateR(parent);

	if (bf == 0) { //å…¶æœ¬èº«å°±æ˜¯æ–°å¢èŠ‚ç‚¹ï¼Œh = 0
		subL-&gt;_bf = 0;
		subLR-&gt;_bf = 0;
		parent-&gt;_bf = 0;
	}
	else if (bf == 1) { //åœ¨subLçš„å³å­æ ‘æ’å…¥èŠ‚ç‚¹
		subL-&gt;_bf = -1;
		subLR-&gt;_bf = 0;
		parent-&gt;_bf = 0;
	}
	else if (bf == -1){ //åœ¨subLçš„å·¦å­æ ‘æ’å…¥èŠ‚ç‚¹
		subL-&gt;_bf = 0;
		subLR-&gt;_bf = 0;
		parent-&gt;_bf = 1;
	}
	else assert(false);
}</code></pre> 
<h4 id="%F0%9F%8C%99%E5%8F%B3%E5%B7%A6%E5%8F%8C%E6%97%8B">ğŸŒ™å³å·¦åŒæ—‹</h4> 
<p><strong>æ–°èŠ‚ç‚¹æ’å…¥å­æ ‘æ ¹èŠ‚ç‚¹å³å­æ ‘çš„å·¦å­æ ‘ä¸Šï¼ˆRLå‹ï¼‰:</strong></p> 
<p><img alt="" height="646" src="https://images2.imgbox.com/08/8c/7twN6yFc_o.png" width="877"></p> 
<p><span style="color:#fe2c24;">æ“ä½œè¿‡ç¨‹å·¦å³åŒæ—‹ç±»ä¼¼ï¼Œæˆ‘ä»¬ç›´æ¥çœ‹ä»£ç </span></p> 
<pre><code class="language-cpp">void RotateRL(Node* parent) //å…ˆä»¥æ ¹èŠ‚ç‚¹çš„å³å­æ ‘è¿›è¡Œå³æ—‹ï¼Œå†å¯¹æ ¹èŠ‚ç‚¹è¿›è¡Œå·¦æ—‹
{
	Node* subR = parent-&gt;_right, *subRL = subR-&gt;_left;
	int bf = subRL-&gt;_bf; //g

	RotateR(parent-&gt;_right);
	RotateL(parent);

	//æ›´æ–°å¹³è¡¡å› å­
	if (bf == 0) { //å…¶æœ¬èº«å°±æ˜¯æ–°å¢èŠ‚ç‚¹, h = 0
		subR-&gt;_bf = 0;
		subRL-&gt;_bf = 0;
		parent-&gt;_bf = 0;
	}
	else if (bf == -1) { //åœ¨subRLä¸Šçš„å³å­æ ‘æ’å…¥èŠ‚ç‚¹
		subR-&gt;_bf = 1;
		subRL-&gt;_bf = 0;
		parent-&gt;_bf = 0;
	}
	else if (bf == 1) { //åœ¨subRLçš„å·¦å­æ ‘ä¸Šæ’å…¥èŠ‚ç‚¹
		subR-&gt;_bf = 0;
		subRL-&gt;_bf = 0;
		parent-&gt;_bf = -1;
	}
	else assert(false);
}</code></pre> 
<p><strong>æ€»ç»“ï¼š</strong></p> 
<blockquote> 
 <p>å‡å¦‚ä»¥parentä¸ºæ ¹çš„å­æ ‘ä¸å¹³è¡¡ï¼Œå³parentçš„å¹³è¡¡å› å­ä¸º2æˆ–è€…-2ï¼Œåˆ†ä»¥ä¸‹æƒ…å†µè€ƒè™‘</p> 
 <ul><li>parentçš„å¹³è¡¡å› å­ä¸º2ï¼Œè¯´æ˜parentçš„å³å­æ ‘é«˜ï¼Œè®¾parentçš„å³å­æ ‘çš„æ ¹ä¸ºsubR<br><strong>å½“subRçš„å¹³è¡¡å› å­ä¸º1æ—¶ï¼Œæ‰§è¡Œå·¦å•æ—‹</strong><br><strong>å½“subRçš„å¹³è¡¡å› å­ä¸º-1æ—¶ï¼Œæ‰§è¡Œå³å·¦åŒæ—‹</strong></li></ul> 
 <ul><li>parentçš„å¹³è¡¡å› å­ä¸º-2ï¼Œè¯´æ˜parentçš„å·¦å­æ ‘é«˜ï¼Œè®¾parentçš„å·¦å­æ ‘çš„æ ¹ä¸ºsubL<br><strong>å½“subLçš„å¹³è¡¡å› å­ä¸º-1æ˜¯ï¼Œæ‰§è¡Œå³å•æ—‹</strong><br><strong>å½“subLçš„å¹³è¡¡å› å­ä¸º1æ—¶ï¼Œæ‰§è¡Œå·¦å³åŒæ—‹</strong></li></ul> 
</blockquote> 
<p><span style="color:#fe2c24;"><strong>æ—‹è½¬å®Œæˆåï¼ŒåŸparentä¸ºæ ¹çš„å­æ ‘ä¸ªé«˜åº¦é™ä½ï¼Œå·²ç»å¹³è¡¡ï¼Œä¸éœ€è¦å†å‘ä¸Šæ›´æ–°</strong></span></p> 
<h3 id="%E4%BA%94.%20AVL%E6%A0%91%E7%9A%84%E9%AA%8C%E8%AF%81">äº”. AVLæ ‘çš„éªŒè¯</h3> 
<p>ğŸ“<strong>AVLæ ‘æ˜¯åœ¨äºŒå‰æœç´¢æ ‘çš„åŸºç¡€ä¸ŠåŠ å…¥äº†å¹³è¡¡æ€§çš„é™åˆ¶ï¼Œå› æ­¤è¦éªŒè¯AVLæ ‘ï¼Œå¯ä»¥åˆ†ä¸¤æ­¥ï¼š</strong></p> 
<h4 id="%F0%9F%93%9D1.%20%E9%AA%8C%E8%AF%81%E5%85%B6%E4%B8%BA%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91">ğŸ“1. éªŒè¯å…¶ä¸ºäºŒå‰æœç´¢æ ‘</h4> 
<blockquote> 
 <p><strong>å¦‚æœä¸­åºéå†å¯å¾—åˆ°ä¸€ä¸ªæœ‰åºçš„åºåˆ—ï¼Œå°±è¯´æ˜ä¸ºäºŒå‰æœç´¢æ ‘</strong></p> 
</blockquote> 
<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p> 
<pre><code class="language-cpp">void InOrder()
{
	_InOrder(_root);
	cout &lt;&lt; endl;
}

void _InOrder(Node* root)
{
	if (root == nullptr)
	{
		return;
	}
	_InOrder(root-&gt;_left);
	cout &lt;&lt; root-&gt;_kv.first &lt;&lt; " ";
	_InOrder(root-&gt;_right);
}
</code></pre> 
<h4 id="%F0%9F%93%9D2.%20%E9%AA%8C%E8%AF%81%E5%85%B6%E4%B8%BA%E5%B9%B3%E8%A1%A1%E6%A0%91">ğŸ“<strong>2. éªŒè¯å…¶ä¸ºå¹³è¡¡æ ‘</strong></h4> 
<blockquote> 
 <ul><li><strong>æ¯ä¸ªèŠ‚ç‚¹å­æ ‘é«˜åº¦å·®çš„ç»å¯¹å€¼ä¸è¶…è¿‡1(æ³¨æ„èŠ‚ç‚¹ä¸­å¦‚æœæ²¡æœ‰å¹³è¡¡å› å­)</strong></li><li><strong>èŠ‚ç‚¹çš„å¹³è¡¡å› å­æ˜¯å¦è®¡ç®—æ­£ç¡®</strong></li></ul> 
</blockquote> 
<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p> 
<pre><code class="language-cpp">	bool IsBalance()
	{
		return _IsBalance(_root);
	}

private:  
	bool _IsBalance(Node* root) 
	{
		if (root == nullptr) return true;
		int leftHeight = _Height(root-&gt;_left), rightHeight = _Height(root-&gt;_right);
		int diff = rightHeight - leftHeight;
		if (abs(diff) &gt;= 2)
		{
			cout &lt;&lt; root-&gt;_kv.first &lt;&lt; "é«˜åº¦å·®å¼‚å¸¸" &lt;&lt; endl;
			return false;
		}
		if (diff != root-&gt;_bf)
		{
			cout &lt;&lt; root-&gt;_kv.first &lt;&lt; "å¹³è¡¡å› å­å¼‚å¸¸" &lt;&lt; endl;
			return false;
		}
		
		return _IsBalance(root-&gt;_left) &amp;&amp; _IsBalance(root-&gt;_right);
	}

	size_t _Height(Node* root)
	{
		if (root == nullptr) return 0;
		size_t leftHeight = _Height(root-&gt;_left);
		size_t rightHeight = _Height(root-&gt;_right);
		return leftHeight &gt; rightHeight ? leftHeight + 1 : rightHeight + 1;
	}</code></pre> 
<h4 id="%F0%9F%93%9D3.%20%E9%AA%8C%E8%AF%81%E7%94%A8%E4%BE%8B%EF%BC%9A">ğŸ“<strong>3. éªŒè¯ç”¨ä¾‹ï¼š</strong></h4> 
<pre><code class="language-cpp">void TestAVLTree()
{
	AVLTree&lt;int, int&gt; t;
	int a[] = { 4, 2, 6, 1, 3, 5, 15, 7, 16, 14 };
	for (auto e : a)
	{
		t.Insert({ e, e });
		//cout &lt;&lt; e &lt;&lt; "-&gt;" &lt;&lt; t.IsBalance() &lt;&lt; endl;
	}
	t.InOrder();
	cout &lt;&lt; endl;
	if (t.IsBalance()) printf("AVLæ ‘å»ºç«‹æˆåŠŸ\n");
	else printf("AVLæ ‘å»ºç«‹å¤±è´¥\n");

}
</code></pre> 
<p><img alt="" height="230" src="https://images2.imgbox.com/48/ad/Oq328jmR_o.png" width="558"></p> 
<p></p> 
<h3 id="%E5%85%AD.AVL%E6%A0%91%E7%9A%84%E6%80%A7%E8%83%BD%E5%92%8C%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81">å…­.AVLæ ‘çš„æ€§èƒ½å’Œå®Œæ•´ä»£ç </h3> 
<p>AVLæ ‘è¿½æ±‚çš„æ˜¯ä¸¥æ ¼å¹³è¡¡ï¼Œå› æ­¤å¯ä»¥ä¿è¯æŸ¥æ‰¾æ—¶é«˜æ•ˆçš„æ—¶é—´å¤æ‚åº¦O(logN)ï¼Œä½†æ˜¯å¦‚æœæˆ‘ä»¬éœ€è¦é¢‘ç¹çš„å¯¹å…¶è¿›è¡Œæ—‹è½¬æ¥ç»´æŠ¤å¹³è¡¡ï¼Œä¸€å®šç¨‹åº¦ä¸Šä¼šå½±å“æ•ˆç‡ï¼Œå°¤å…¶æ˜¯åˆ é™¤èŠ‚ç‚¹æ—¶çš„æœ€å·®æƒ…å†µä¸‹æˆ‘ä»¬å¯èƒ½éœ€è¦ä¸€è·¯æ—‹è½¬åˆ°æ ¹çš„ä½ç½®ã€‚</p> 
<p>ç›¸å¯¹äºAVLæ ‘çš„ä¸¥æ ¼å¹³è¡¡ï¼Œçº¢é»‘æ ‘åˆ™è¿½æ±‚ä¸€ç§ç›¸å¯¹å¹³è¡¡ï¼Œå› æ­¤ä¼šç•¥èƒœä¸€ç­¹ï¼Œåé¢çš„æ–‡ç« ä¸­ä¼šå¯¹çº¢é»‘æ ‘è¿›è¡Œè®²è§£ã€‚</p> 
<table border="1" cellpadding="1" cellspacing="1" style="width:680px;"><tbody><tr><td style="text-align:center;"><strong>ç¼ºé™·</strong></td><td style="text-align:center;"><strong>åŸå› </strong></td></tr><tr><td style="text-align:center;"><strong>æ’å…¥æ“ä½œå¤æ‚</strong></td><td style="text-align:center;">ä¸ºäº†ä¿æŒæ ‘çš„å¹³è¡¡ï¼Œæ¯æ¬¡æ’å…¥æˆ–åˆ é™¤èŠ‚ç‚¹æ—¶ï¼ŒAVLæ ‘å¯èƒ½éœ€è¦è¿›è¡Œå¤šæ¬¡æ—‹è½¬æ“ä½œã€‚å…·ä½“æ¥è¯´ï¼Œæ’å…¥ä¸€ä¸ªèŠ‚ç‚¹å¯èƒ½éœ€è¦å•æ—‹è½¬æˆ–åŒæ—‹è½¬æ¥é‡æ–°å¹³è¡¡æ ‘ç»“æ„ï¼Œè€Œåˆ é™¤èŠ‚ç‚¹åå¯èƒ½éœ€è¦ä»è¢«åˆ é™¤èŠ‚ç‚¹åˆ°æ ¹èŠ‚ç‚¹è¿™æ¡è·¯å¾„ä¸Šæ‰€æœ‰èŠ‚ç‚¹çš„å¹³è¡¡ï¼Œæ—‹è½¬çš„é‡çº§æœ€åæƒ…å†µä¸‹ä¸ºO(logN)ã€‚è¿™å¢åŠ äº†æ“ä½œçš„å¤æ‚æ€§å¹¶å¯èƒ½å½±å“æ€§èƒ½ã€‚</td></tr><tr><td style="text-align:center;"><strong>ç»´æŠ¤æˆæœ¬é«˜</strong></td><td style="text-align:center;">ç”±äºAVLæ ‘è¦æ±‚æ¯ä¸ªèŠ‚ç‚¹çš„å·¦å³å­æ ‘é«˜åº¦å·®ä¸è¶…è¿‡1ï¼Œå› æ­¤éœ€è¦é¢‘ç¹åœ°æ£€æŸ¥å’Œè°ƒæ•´æ ‘çš„ç»“æ„ã€‚è¿™ç§ä¸¥æ ¼çš„å¹³è¡¡è¦æ±‚å¯¼è‡´äº†ç›¸å¯¹è¾ƒé«˜çš„ç»´æŠ¤æˆæœ¬ï¼Œç‰¹åˆ«æ˜¯åœ¨é¢‘ç¹è¿›è¡Œæ’å…¥å’Œåˆ é™¤æ“ä½œçš„æƒ…å†µä¸‹ã€‚</td></tr><tr><td style="text-align:center;"><strong>ç©ºé—´å¼€é”€è¾ƒå¤§</strong></td><td style="text-align:center;">è™½ç„¶AVLæ ‘åœ¨æŸ¥æ‰¾æ•ˆç‡ä¸Šå…·æœ‰ä¼˜åŠ¿ï¼Œä½†ç”±äºå…¶éœ€è¦é¢‘ç¹åœ°è¿›è¡Œæ—‹è½¬æ“ä½œä»¥ç»´æŒå¹³è¡¡ï¼Œè¿™å¯èƒ½å¯¼è‡´é¢å¤–çš„ç©ºé—´å¼€é”€ã€‚å°¤å…¶æ˜¯åœ¨å¤„ç†å¤§é‡æ•°æ®æ—¶ï¼Œè¿™ç§å¼€é”€å¯èƒ½ä¼šæ›´åŠ æ˜æ˜¾ã€‚</td></tr><tr><td style="text-align:center;"><strong>ä¸é€‚ç”¨äºæ‰€æœ‰åœºæ™¯</strong></td><td style="text-align:center;">AVLæ ‘é€‚ç”¨äºæŸ¥æ‰¾æ“ä½œè¿œå¤šäºæ’å…¥å’Œåˆ é™¤æ“ä½œçš„åœºæ™¯ã€‚å¦‚æœåœ¨ä¸€ä¸ªåº”ç”¨ä¸­æ’å…¥å’Œåˆ é™¤æ“ä½œä¹Ÿéå¸¸é¢‘ç¹ï¼Œé‚£ä¹ˆAVLæ ‘å¯èƒ½ä¸æ˜¯æœ€ä¼˜é€‰æ‹©ï¼Œå› ä¸ºæ¯æ¬¡æ’å…¥å’Œåˆ é™¤éƒ½éœ€è¦è¿›è¡Œå¹³è¡¡è°ƒæ•´ï¼Œè¿™ä¼šå½±å“æ€§èƒ½ã€‚</td></tr></tbody></table> 
<p>AVLæ ‘çš„å®Œæ•´ä»£ç å¦‚ä¸‹ï¼š</p> 
<pre><code class="language-cpp">#pragma once
#include &lt;iostream&gt;
#include &lt;assert.h&gt;
#include &lt;cmath&gt;
using namespace std;

template&lt;class K, class V&gt;
struct AVLTreeNode
{
	pair&lt;K, V&gt; _kv;//ç¬¬ä¸€ä¸ªæ•°æ®å­˜å‚¨keyï¼Œç¬¬äºŒä¸ªæ•°æ®å­˜å‚¨value
	AVLTreeNode&lt;K, V&gt;* _left;
	AVLTreeNode&lt;K, V&gt;* _right;
	AVLTreeNode&lt;K, V&gt;* _parent;
	int _bf; // balance factorï¼Œå¹³è¡¡å› å­ï¼Œå€¼ä¸ºå³å­æ ‘ä¸å·¦å­æ ‘é«˜åº¦å·®ï¼Œå³è¾¹æ’å…¥å°±åŠ ä¸€ï¼Œå·¦è¾¹æ’å…¥å‡ä¸€

	AVLTreeNode(const pair&lt;K, V&gt;&amp; kv)
		:_kv(kv)
		, _left(nullptr)
		, _right(nullptr)
		, _parent(nullptr)
		, _bf(0)  //æ–°èŠ‚ç‚¹å·¦å³éƒ½ä¸ºç©ºï¼Œå¹³è¡¡å› å­ä¸º0
	{}
};

template&lt;class K, class V&gt;
class AVLTree
{
	typedef AVLTreeNode&lt;K, V&gt; Node;

public:
	 //é»˜è®¤æˆå‘˜å‡½æ•°
	AVLTree() = default; //æ„é€ 

	AVLTree(const AVLTree&lt;K, V&gt;&amp; t) //æ‹·è´æ„é€ 
	{
		_root = Copy(t._root);
	}

	AVLTree&lt;K, V&gt;&amp; operator=(AVLTree&lt;K, V&gt; t) //èµ‹å€¼æ„é€ 
	{
		swap(_root, t._root);
		return *this;
	}

	~AVLTree() //ææ„
	{
		Destroy(_root);
		_root = nullptr;
	}

	bool Insert(const pair&lt;K, V&gt;&amp; kv)  //å’Œä¹‹å‰çš„äºŒå‰å¹³è¡¡æ ‘æ’å…¥ç±»ä¼¼
	{
		if (_root == nullptr)
		{
			_root = new Node(kv);
			return true;
		}
		//ç¬¬ä¸€æ­¥å…ˆæ‰¾åˆ°curåº”è¯¥æ’å…¥çš„ä½ç½®
		Node* parent = nullptr, * cur = _root;
		while (cur)
		{
			parent = cur; //ä¿ç•™å…¶çˆ¶èŠ‚ç‚¹
			if (cur-&gt;_kv.first &lt; kv.first)
			{
				cur = cur-&gt;_right;
			}
			else if (cur-&gt;_kv.first &gt; kv.first)
			{
				cur = cur-&gt;_left;
			}
			else return false; //å…ƒç´ é‡å¤ï¼Œæ’å…¥å¤±è´¥
			
		}
		//ç¬¬äºŒæ­¥æ’å…¥æ–°èŠ‚ç‚¹
		cur = new Node(kv); //æ–°æ’å…¥èŠ‚ç‚¹
		if (parent-&gt;_kv.first &lt; kv.first)
		{
			parent-&gt;_right = cur;
		}
		else
		{
			parent-&gt;_left = cur;
		}
		cur-&gt;_parent = parent;

		//ç¬¬ä¸‰æ­¥æ›´æ–°å¹³è¡¡å› å­
		while (parent)
		{
			if (cur == parent-&gt;_left) //åœ¨å·¦ä¾§æ’å…¥èŠ‚ç‚¹ï¼Œå¹³è¡¡å› å­å‡å°
				parent-&gt;_bf--;
			else //å³ä¾§æ’å…¥èŠ‚ç‚¹ï¼Œå¹³è¡¡å› å­å¢å¤§
				parent-&gt;_bf++;

			if (parent-&gt;_bf == 0)
			{
				break;
			}
			else if (parent-&gt;_bf == 1 || parent-&gt;_bf == -1)
			{
				// ç»§ç»­å¾€ä¸Šæ›´æ–°
				cur = parent;
				parent = parent-&gt;_parent;
			}
			else if (parent-&gt;_bf == 2 || parent-&gt;_bf == -2) //å’Œä¹¦ä¸Šç›¸åï¼Œå› ä¸ºä¹¦ä¸Šæ˜¯æŠŠå·¦ä¾§æ’å…¥èŠ‚ç‚¹å¹³è¡¡å› å­å¢å¤§ï¼Œè¿™é‡Œå·¦ä¾§æ’å…¥å‡å°
			{
				// ä¸å¹³è¡¡äº†ï¼Œæ—‹è½¬å¤„ç†ï¼Œcurä¸ºæ’å…¥èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ï¼Œpaerntä¸ºcurçš„çˆ¶èŠ‚ç‚¹
				if (parent-&gt;_bf == 2 &amp;&amp; cur-&gt;_bf == 1) //RRå‹ï¼Œåœ¨å­æ ‘æ ¹èŠ‚ç‚¹å³å­æ ‘çš„å³å­æ ‘æ’å…¥èŠ‚ç‚¹
				{ //é€†æ—¶é’ˆå·¦æ—‹è½¬
					RotateL(parent);
				}
				else if (parent-&gt;_bf == -2 &amp;&amp; cur-&gt;_bf == -1)//LLå‹ï¼Œåœ¨å­æ ‘æ ¹èŠ‚ç‚¹å·¦å­æ ‘ä¸Šçš„å·¦å­æ ‘æ’å…¥èŠ‚ç‚¹ï¼Œ
				{ //é¡ºæ—¶é’ˆå³æ—‹è½¬
					RotateR(parent);
				}
				else  if (parent-&gt;_bf == 2 &amp;&amp; cur-&gt;_bf == -1) //RLå‹ï¼Œåœ¨å­æ ‘æ ¹èŠ‚ç‚¹å³å­æ ‘ä¸Šçš„å·¦å­æ ‘æ’å…¥èŠ‚ç‚¹
				{//å…ˆé¡ºæ—¶é’ˆå³æ—‹å˜æˆRRå‹ï¼Œå†é€†æ—¶é’ˆå·¦æ—‹ï¼Œæœ€åå°±æ˜¯åŸå­æ ‘æ ¹èŠ‚ç‚¹å³å­æ ‘ä¸Šå·¦å­æ ‘ä½œä¸ºå­æ ‘æ ¹èŠ‚ç‚¹ã€‚
					RotateRL(parent);
				}
				else if (parent-&gt;_bf == -2 &amp;&amp; cur-&gt;_bf == 1) //LRå‹ï¼Œåœ¨å­æ ‘æ ¹èŠ‚ç‚¹å·¦å­æ ‘ä¸Šçš„å³å­æ ‘æ’å…¥èŠ‚ç‚¹
				{ //å…ˆé€†æ—¶é’ˆå·¦æ—‹å˜æˆLLå‹ï¼Œå†é¡ºæ—¶é’ˆå³æ—‹ï¼Œæœ€åå°±æ˜¯åŸå­æ ‘æ ¹èŠ‚ç‚¹å·¦å­æ ‘ä¸Šçš„å³å­æ ‘ä½œä¸ºå­æ ‘æ ¹èŠ‚ç‚¹ã€‚
					RotateLR(parent);
				}
				break;
			}
			else
			{
				assert(false);
			}
		}

		return true;
	}

	Node* Find(const K&amp; key)
	{
		Node* cur = _root;
		while (cur)
		{
			if (cur-&gt;_key &lt; key){
				cur = cur-&gt;_right;
			}
			else if (cur-&gt;_key &gt; key){
				cur = cur-&gt;_left;
			}
			else{
				return cur;
			}
		}
		return nullptr;
	}

	Node* LeftMost()
	{
		if (_root == nullptr) return nullptr;
		Node* cur = _root;
		while (cur-&gt;_left) cur = cur-&gt;_left;
		return cur;
	}

	Node* RightMost()
	{
		if (_root == nullptr) return nullptr;
		Node* cur = _root;
		while (cur-&gt;_right) cur = cur-&gt;_right;
		return cur;
	}

	void InOrder()
	{
		_InOrder(_root);
		cout &lt;&lt; endl;
	}

	bool IsBalance()
	{
		return _IsBalance(_root);
	}

private:  

	bool _IsBalance(Node* root) 
	{
		if (root == nullptr) return true;
		int leftHeight = _Height(root-&gt;_left), rightHeight = _Height(root-&gt;_right);
		int diff = rightHeight - leftHeight;
		if (abs(diff) &gt;= 2)
		{
			cout &lt;&lt; root-&gt;_kv.first &lt;&lt; "é«˜åº¦å·®å¼‚å¸¸" &lt;&lt; endl;
			return false;
		}
		if (diff != root-&gt;_bf)
		{
			cout &lt;&lt; root-&gt;_kv.first &lt;&lt; "å¹³è¡¡å› å­å¼‚å¸¸" &lt;&lt; endl;
			return false;
		}
		
		return _IsBalance(root-&gt;_left) &amp;&amp; _IsBalance(root-&gt;_right);
	}


	size_t _Height(Node* root)
	{
		if (root == nullptr) return 0;
		size_t leftHeight = _Height(root-&gt;_left);
		size_t rightHeight = _Height(root-&gt;_right);
		return leftHeight &gt; rightHeight ? leftHeight + 1 : rightHeight + 1;
	}

	void _InOrder(Node* root)
	{
		if (root == nullptr)
		{
			return;
		}

		_InOrder(root-&gt;_left);
		cout &lt;&lt; root-&gt;_kv.first &lt;&lt; ":" &lt;&lt; root-&gt;_kv.second &lt;&lt; endl;
		_InOrder(root-&gt;_right);
	}


	void RotateL(Node* parent) //é€†æ—¶é’ˆå·¦å•æ—‹ï¼Œparentä¸ºå­æ ‘æ ¹èŠ‚ç‚¹ï¼ŒsubRä¸ºæ ¹å³å­æ ‘ï¼ŒsubRLä¸ºæ ¹å³å­æ ‘çš„å·¦å­æ ‘
	{ //subRLå˜æˆpareneçš„å³è¾¹ï¼Œparentå˜æˆsubRçš„å·¦è¾¹ï¼ŒsubRå˜æˆè¿™é¢—å­æ ‘çš„æ ¹
		Node* subR = parent-&gt;_right, *subRL = subR-&gt;_left;
		Node* parentParent = parent-&gt;_parent;

		//æ”¹å˜parenttçš„å³å­æ ‘
		parent-&gt;_right = subRL;
		if(subRL != nullptr) //é¿å…ä¸ºç©º
			subRL-&gt;_parent = parent;

		//æ”¹å˜parentçš„çˆ¶èŠ‚ç‚¹
		subR-&gt;_left = parent;
		parent-&gt;_parent = subR;

		//æ”¹å˜å­æ ‘æ ¹èŠ‚ç‚¹ï¼Œè°ƒæ•´subRä¸ºå­æ ‘æ ¹èŠ‚ç‚¹
		if (parentParent == nullptr) { //ç¬¬ä¸€ç§æƒ…å†µï¼šparentä¸ºæ ¹èŠ‚ç‚¹
			_root = subR;
			subR-&gt;_parent = nullptr;
		}
		else{ //ç¬¬äºŒç§æƒ…å†µï¼Œparentä¸æ˜¯æ ¹èŠ‚ç‚¹
			if (parentParent-&gt;_left == parent) parentParent-&gt;_left = subR;
			else parentParent-&gt;_right = subR;
			subR-&gt;_parent = parentParent;//è®°å¾—æ›´æ–°å­æ ‘æ ¹èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹
		}
		parent-&gt;_bf = subR-&gt;_bf = 0;//æ›´æ–°å¹³è¡¡å› å­
	}

	void RotateR(Node* parent) //é¡ºæ—¶é’ˆå³å•æ—‹ï¼Œarentä¸ºæ ¹ï¼ŒsubLä¸ºæ ¹å·¦å­æ ‘ï¼ŒsubLRä¸ºæ ¹å·¦å­æ ‘çš„å³å­æ ‘
	{ //subLRå˜æˆpareneçš„å·¦è¾¹ï¼Œparentå˜æˆsubLçš„å³è¾¹ï¼ŒsubLå˜æˆè¿™é¢—å­æ ‘çš„æ ¹
		Node* subL = parent-&gt;_left, *subLR = subL-&gt;_right;
		Node* parentParent = parent-&gt;_parent;
		
		//æ”¹å˜parentçš„å·¦å­æ ‘
		parent-&gt;_left = subLR;
		if (subLR != nullptr) //é¿å…ä¸ºç©º
			subLR-&gt;_parent = parent;

		//æ”¹å˜parentçš„çˆ¶èŠ‚ç‚¹
		subL-&gt;_right = parent;
		parent-&gt;_parent = subL;

		//æ”¹å˜å­æ ‘æ ¹èŠ‚ç‚¹ï¼Œè°ƒæ•´subLä¸ºå­æ ‘æ ¹èŠ‚ç‚¹
		if (parentParent == nullptr){//ç¬¬ä¸€ç§æƒ…å†µï¼šparentä¸ºæ ¹èŠ‚ç‚¹
			_root = subL;
			subL-&gt;_parent = nullptr;
		}
		else{//ç¬¬äºŒç§æƒ…å†µï¼šparentä¸ä¸ºæ ¹èŠ‚ç‚¹
			if (parentParent-&gt;_left == parent) parentParent-&gt;_left = subL;
			else parentParent-&gt;_right = subL;
			subL-&gt;_parent = parentParent; //è®°å¾—æ›´æ–°å­æ ‘æ ¹èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹
		}
		parent-&gt;_bf = subL-&gt;_bf = 0; //æ›´æ–°å¹³è¡¡å› å­
	}

	void RotateRL(Node* parent) //å…ˆä»¥æ ¹èŠ‚ç‚¹çš„å³å­æ ‘è¿›è¡Œå³æ—‹ï¼Œå†å¯¹æ ¹èŠ‚ç‚¹è¿›è¡Œå·¦æ—‹
	{
		Node* subR = parent-&gt;_right, *subRL = subR-&gt;_left;
		int bf = subRL-&gt;_bf; //g

		RotateR(parent-&gt;_right);
		RotateL(parent);

		//æ›´æ–°å¹³è¡¡å› å­
		if (bf == 0) { //å…¶æœ¬èº«å°±æ˜¯æ–°å¢èŠ‚ç‚¹, h = 0
			subR-&gt;_bf = 0;
			subRL-&gt;_bf = 0;
			parent-&gt;_bf = 0;
		}
		else if (bf == -1) { //åœ¨subRLä¸Šçš„å³å­æ ‘æ’å…¥èŠ‚ç‚¹
			subR-&gt;_bf = 1;
			subRL-&gt;_bf = 0;
			parent-&gt;_bf = 0;
		}
		else if (bf == 1) { //åœ¨subRLçš„å·¦å­æ ‘ä¸Šæ’å…¥èŠ‚ç‚¹
			subR-&gt;_bf = 0;
			subRL-&gt;_bf = 0;
			parent-&gt;_bf = -1;
		}
		else assert(false);
	}

	void RotateLR(Node* parent) //å…ˆä»¥æ ¹èŠ‚ç‚¹çš„å·¦å­æ ‘è¿›è¡Œå³æ—‹ï¼Œå†å¯¹æ ¹èŠ‚ç‚¹è¿›è¡Œå·¦æ—‹
	{
		Node* subL = parent-&gt;_left, *subLR = subL-&gt;_right;
		int bf = subLR-&gt;_bf;

		RotateL(parent-&gt;_left);
		RotateR(parent);

		if (bf == 0) { //å…¶æœ¬èº«å°±æ˜¯æ–°å¢èŠ‚ç‚¹ï¼Œh = 0
			subL-&gt;_bf = 0;
			subLR-&gt;_bf = 0;
			parent-&gt;_bf = 0;
		}
		else if (bf == 1) { //åœ¨subLçš„å³å­æ ‘æ’å…¥èŠ‚ç‚¹
			subL-&gt;_bf = -1;
			subLR-&gt;_bf = 0;
			parent-&gt;_bf = 0;
		}
		else if (bf == -1){ //åœ¨subLçš„å·¦å­æ ‘æ’å…¥èŠ‚ç‚¹
			subL-&gt;_bf = 0;
			subLR-&gt;_bf = 0;
			parent-&gt;_bf = 1;
		}
		else assert(false);
	}

	void Destroy(Node* root)
	{
		if (root == nullptr)return;

		Destroy(root-&gt;_left);
		Destroy(root-&gt;_right);
		delete root;
	}

	Node* Copy(Node* root)
	{
		if (root == nullptr)
			return nullptr;

		Node* newRoot = new Node(root-&gt;_key, root-&gt;_value);
		newRoot-&gt;_left = Copy(root-&gt;_left);
		newRoot-&gt;_right = Copy(root-&gt;_right);

		return newRoot;
	}

private:
	Node* _root = nullptr;
};



void TestAVLTree()
{
	AVLTree&lt;int, int&gt; t;
	int a[] = { 4, 2, 6, 1, 3, 5, 15, 7, 16, 14 };
	for (auto e : a)
	{
		t.Insert({ e, e });
		//cout &lt;&lt; e &lt;&lt; "-&gt;" &lt;&lt; t.IsBalance() &lt;&lt; endl;
	}
	t.InOrder();
	cout &lt;&lt; endl;

	printf("æœ€å·¦è¾¹èŠ‚ç‚¹ä¸ºï¼š%dï¼Œæœ€å³è¾¹èŠ‚ç‚¹ä¸ºï¼š%d\n", t.LeftMost()-&gt;_kv.first, t.RightMost()-&gt;_kv.first);
	if (t.IsBalance()) printf("AVLæ ‘å»ºç«‹æˆåŠŸ\n");
	else printf("AVLæ ‘å»ºç«‹å¤±è´¥\n");

}

</code></pre> 
<p></p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/64/c7/KnFzUmKw_o.gif"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b3fe8cfcd1fda769d51e62af74ff4b2b/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">SpringBootæ•´åˆAES&#43;RSAåŠ å¯†ï¼ˆå«å‰ç«¯ä»£ç ï¼‰</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/79bb748ff650d3960ded8fef51a5f8b0/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">é€šè¿‡ä½¿ç”¨Excel VBAæ¥è¿›è¡ŒOutlookè‡ªåŠ¨é‚®ä»¶å‘é€</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ç¼–ç¨‹å¤§å’–.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>