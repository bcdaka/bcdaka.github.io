<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Python学习打卡：day17 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/9ba34bd04cc6447d82101b0641be8998/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="Python学习打卡：day17">
  <meta property="og:description" content="day17 笔记来源于：黑马程序员python教程，8天python从入门到精通，学python看这套就够了
目录 day17121、Python 操作 MySQL 基础使用pymysql创建到 MySQL 的数据库链接执行 SQL 语句执行非查询性质的SQL语句执行查询性质的SQL语句 122、Python 操作 MySQL 数据的插入自动 commit 123、综合案例案例需求DDL 定义实现步骤 Python 高阶技巧1、闭包基础概念简单闭包修改外部函数变量的值使用闭包实现 ATM 小案例 2、装饰器装饰器的一般写法（闭包写法）装饰器的语法糖写法 3、单例模式4、工厂模式5、多线程并行执行概念进程、线程并行执行 6、多线程编程 121、Python 操作 MySQL 基础使用 pymysql 在Python中，使用第三方库：pymysql 来完成对MySQL数据库的操作。
安装：
1、pip install pymysql；
2、或者 PyCharm中安装包 PyMySQL（使用清华源：https://pypi.tuna.tsinghua.edu.cn/simple）。
创建到 MySQL 的数据库链接 &#34;&#34;&#34; 演示 Python pymysql库的基础操作 &#34;&#34;&#34; from pymysql import Connection # 构建到 MySQL数据库的链接 conn = Connection( host = &#34;localhost&#34;, # 主机名（IP） port = 3306, # 端口 user= &#39;root&#39;, # 账户 password= &#39;666666&#39; # 密码 ) # 打印 MySQL 数据库软件信息 # 验证是否连接上指定数据库 print(conn.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-06-27T19:13:36+08:00">
    <meta property="article:modified_time" content="2024-06-27T19:13:36+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Python学习打卡：day17</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="day17_0"></a>day17</h2> 
<p>笔记来源于：<a rel="nofollow">黑马程序员python教程，8天python从入门到精通，学python看这套就够了</a><br> </p> 
<div class="toc"> 
 <h4>目录</h4> 
 <ul><li><a href="#day17_0" rel="nofollow">day17</a></li><li><ul><li><a href="#121Python__MySQL__3" rel="nofollow">121、Python 操作 MySQL 基础使用</a></li><li><ul><li><a href="#pymysql_5" rel="nofollow">pymysql</a></li><li><a href="#_MySQL__17" rel="nofollow">创建到 MySQL 的数据库链接</a></li><li><a href="#_SQL__43" rel="nofollow">执行 SQL 语句</a></li><li><ul><li><a href="#SQL_45" rel="nofollow">执行非查询性质的SQL语句</a></li><li><a href="#SQL_81" rel="nofollow">执行查询性质的SQL语句</a></li></ul> 
   </li></ul> 
   </li><li><a href="#122Python__MySQL__123" rel="nofollow">122、Python 操作 MySQL 数据的插入</a></li><li><ul><li><a href="#_commit_168" rel="nofollow">自动 commit</a></li></ul> 
   </li><li><a href="#123_187" rel="nofollow">123、综合案例</a></li><li><ul><li><a href="#_189" rel="nofollow">案例需求</a></li><li><a href="#DDL__198" rel="nofollow">DDL 定义</a></li><li><a href="#_215" rel="nofollow">实现步骤</a></li></ul> 
  </li></ul> 
  </li><li><a href="#Python__288" rel="nofollow">Python 高阶技巧</a></li><li><ul><li><a href="#1_290" rel="nofollow">1、闭包</a></li><li><ul><li><a href="#_292" rel="nofollow">基础概念</a></li><li><a href="#_308" rel="nofollow">简单闭包</a></li><li><a href="#_331" rel="nofollow">修改外部函数变量的值</a></li><li><a href="#_ATM__359" rel="nofollow">使用闭包实现 ATM 小案例</a></li></ul> 
   </li><li><a href="#2_402" rel="nofollow">2、装饰器</a></li><li><ul><li><a href="#_406" rel="nofollow">装饰器的一般写法（闭包写法）</a></li><li><a href="#_445" rel="nofollow">装饰器的语法糖写法</a></li></ul> 
   </li><li><a href="#3_480" rel="nofollow">3、单例模式</a></li><li><a href="#4_500" rel="nofollow">4、工厂模式</a></li><li><a href="#5_561" rel="nofollow">5、多线程并行执行概念</a></li><li><ul><li><a href="#_563" rel="nofollow">进程、线程</a></li><li><a href="#_596" rel="nofollow">并行执行</a></li></ul> 
   </li><li><a href="#6_613" rel="nofollow">6、多线程编程</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h3><a id="121Python__MySQL__3"></a>121、Python 操作 MySQL 基础使用</h3> 
<h4><a id="pymysql_5"></a>pymysql</h4> 
<p>在Python中，使用第三方库：pymysql 来完成对MySQL数据库的操作。</p> 
<p>安装：</p> 
<p>1、pip install pymysql；</p> 
<p>2、或者 PyCharm中安装包 PyMySQL（使用清华源：<code>https://pypi.tuna.tsinghua.edu.cn/simple</code>）。</p> 
<h4><a id="_MySQL__17"></a>创建到 MySQL 的数据库链接</h4> 
<pre><code class="prism language-python"><span class="token triple-quoted-string string">"""
演示 Python pymysql库的基础操作
"""</span>
<span class="token keyword">from</span> pymysql <span class="token keyword">import</span> Connection

<span class="token comment"># 构建到 MySQL数据库的链接</span>
conn <span class="token operator">=</span> Connection<span class="token punctuation">(</span>
    host <span class="token operator">=</span> <span class="token string">"localhost"</span><span class="token punctuation">,</span>     <span class="token comment"># 主机名（IP）</span>
    port <span class="token operator">=</span> <span class="token number">3306</span><span class="token punctuation">,</span>            <span class="token comment"># 端口</span>
    user<span class="token operator">=</span> <span class="token string">'root'</span><span class="token punctuation">,</span>           <span class="token comment"># 账户</span>
    password<span class="token operator">=</span> <span class="token string">'666666'</span>      <span class="token comment"># 密码</span>
<span class="token punctuation">)</span>

<span class="token comment"># 打印 MySQL 数据库软件信息</span>
<span class="token comment"># 验证是否连接上指定数据库</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>conn<span class="token punctuation">.</span>get_server_info<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># 关闭链接</span>
conn<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<h4><a id="_SQL__43"></a>执行 SQL 语句</h4> 
<h5><a id="SQL_45"></a>执行非查询性质的SQL语句</h5> 
<p>示例代码如下：</p> 
<pre><code class="prism language-python"><span class="token triple-quoted-string string">"""
演示 Python pymysql库的基础操作
"""</span>
<span class="token keyword">from</span> pymysql <span class="token keyword">import</span> Connection

<span class="token comment"># 构建到 MySQL数据库的链接</span>
conn <span class="token operator">=</span> Connection<span class="token punctuation">(</span>
    host <span class="token operator">=</span> <span class="token string">"localhost"</span><span class="token punctuation">,</span>     <span class="token comment"># 主机名（IP）</span>
    port <span class="token operator">=</span> <span class="token number">3306</span><span class="token punctuation">,</span>            <span class="token comment"># 端口</span>
    user<span class="token operator">=</span> <span class="token string">'root'</span><span class="token punctuation">,</span>           <span class="token comment"># 账户</span>
    password<span class="token operator">=</span> <span class="token string">'666666'</span>      <span class="token comment"># 密码</span>
<span class="token punctuation">)</span>

<span class="token comment"># # 打印 MySQL 数据库软件信息</span>
<span class="token comment"># # 验证是否连接上指定数据库</span>
<span class="token comment"># print(conn.get_server_info())</span>

<span class="token comment"># 执行非查询性质的 SQL</span>
cursor <span class="token operator">=</span> conn<span class="token punctuation">.</span>cursor<span class="token punctuation">(</span><span class="token punctuation">)</span>      <span class="token comment"># 获取到游标对象</span>

<span class="token comment"># 选择数据库</span>
conn<span class="token punctuation">.</span>select_db<span class="token punctuation">(</span><span class="token string">"test"</span><span class="token punctuation">)</span>
<span class="token comment"># 执行 sql</span>
cursor<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token string">"create table test_pymysql (id int);"</span><span class="token punctuation">)</span>

<span class="token comment"># 关闭链接</span>
conn<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<h5><a id="SQL_81"></a>执行查询性质的SQL语句</h5> 
<pre><code class="prism language-python"><span class="token triple-quoted-string string">"""
演示 Python pymysql库的基础操作
"""</span>
<span class="token keyword">from</span> pymysql <span class="token keyword">import</span> Connection

<span class="token comment"># 构建到 MySQL数据库的链接</span>
conn <span class="token operator">=</span> Connection<span class="token punctuation">(</span>
    host <span class="token operator">=</span> <span class="token string">"localhost"</span><span class="token punctuation">,</span>     <span class="token comment"># 主机名（IP）</span>
    port <span class="token operator">=</span> <span class="token number">3306</span><span class="token punctuation">,</span>            <span class="token comment"># 端口</span>
    user<span class="token operator">=</span> <span class="token string">'root'</span><span class="token punctuation">,</span>           <span class="token comment"># 账户</span>
    password<span class="token operator">=</span> <span class="token string">'666666'</span>      <span class="token comment"># 密码</span>
<span class="token punctuation">)</span>

<span class="token comment"># print(conn.get_server_info())</span>

<span class="token comment"># 执行非查询性质的 SQL</span>
<span class="token comment"># 获取到游标对象</span>
cursor <span class="token operator">=</span> conn<span class="token punctuation">.</span>cursor<span class="token punctuation">(</span><span class="token punctuation">)</span>      

<span class="token comment"># # 选择数据库</span>
<span class="token comment"># conn.select_db("test")</span>
<span class="token comment"># # 执行 sql</span>
<span class="token comment"># cursor.execute("create table test_pymysql (id int);")</span>

<span class="token comment"># 选择数据库</span>
conn<span class="token punctuation">.</span>select_db<span class="token punctuation">(</span><span class="token string">"world"</span><span class="token punctuation">)</span>
<span class="token comment"># 使用游标对象，执行 sql 语句</span>
cursor<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token string">"select * from student_1"</span><span class="token punctuation">)</span>
<span class="token comment"># 获取查询结果</span>
results <span class="token operator">=</span> cursor<span class="token punctuation">.</span>fetchall<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> r <span class="token keyword">in</span> results<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span>

<span class="token comment"># 关闭链接</span>
conn<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<h3><a id="122Python__MySQL__123"></a>122、Python 操作 MySQL 数据的插入</h3> 
<p>直接使用：</p> 
<pre><code class="prism language-python">cursor<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token string">"insert into student_2 values(10002, '林俊杰', 31, '男')"</span><span class="token punctuation">)</span>
</code></pre> 
<p>经过执行是无法将数据插入到数据表 student 中的。</p> 
<p>因为：pymysql在执行数据插入或其它产生数据更改的SQL语句时，默认是需要提交更改的，即，需要通过代码“确认”这种更改行为。通过链接对象.commit() 即可确认此行为。</p> 
<p>示例代码：</p> 
<pre><code class="prism language-python"><span class="token triple-quoted-string string">"""
演示使用 pymysql 库进行数据插入的操作
"""</span>
<span class="token keyword">from</span> pymysql <span class="token keyword">import</span> Connection

<span class="token comment"># 构建到 MySQL数据库的链接</span>
conn <span class="token operator">=</span> Connection<span class="token punctuation">(</span>
    host <span class="token operator">=</span> <span class="token string">"localhost"</span><span class="token punctuation">,</span>     <span class="token comment"># 主机名（IP）</span>
    port <span class="token operator">=</span> <span class="token number">3306</span><span class="token punctuation">,</span>            <span class="token comment"># 端口</span>
    user<span class="token operator">=</span> <span class="token string">'root'</span><span class="token punctuation">,</span>           <span class="token comment"># 账户</span>
    password<span class="token operator">=</span> <span class="token string">'666666'</span><span class="token punctuation">,</span>      <span class="token comment"># 密码</span>
<span class="token punctuation">)</span>

<span class="token comment"># 执行非查询性质的 SQL</span>
cursor <span class="token operator">=</span> conn<span class="token punctuation">.</span>cursor<span class="token punctuation">(</span><span class="token punctuation">)</span>      <span class="token comment"># 获取到游标对象</span>

<span class="token comment"># 选择数据库</span>
conn<span class="token punctuation">.</span>select_db<span class="token punctuation">(</span><span class="token string">"world"</span><span class="token punctuation">)</span>
<span class="token comment"># 执行 sql</span>
cursor<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token string">"insert into student_2 values(10002, '林俊杰', 31, '男')"</span><span class="token punctuation">)</span>

<span class="token comment"># 通过 commit 确认</span>
conn<span class="token punctuation">.</span>commit<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 关闭链接</span>
conn<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<h4><a id="_commit_168"></a>自动 commit</h4> 
<p>如果不想手动commit确认，可以在构建链接对象的时候，设置自动commit的属性。</p> 
<p>示例代码：</p> 
<pre><code class="prism language-python"><span class="token comment"># 构建到 MySQL数据库的链接</span>
conn <span class="token operator">=</span> Connection<span class="token punctuation">(</span>
    host <span class="token operator">=</span> <span class="token string">"localhost"</span><span class="token punctuation">,</span>     <span class="token comment"># 主机名（IP）</span>
    port <span class="token operator">=</span> <span class="token number">3306</span><span class="token punctuation">,</span>            <span class="token comment"># 端口</span>
    user<span class="token operator">=</span> <span class="token string">'root'</span><span class="token punctuation">,</span>           <span class="token comment"># 账户</span>
    password<span class="token operator">=</span> <span class="token string">'666666'</span><span class="token punctuation">,</span>      <span class="token comment"># 密码</span>
    autocommit<span class="token operator">=</span><span class="token boolean">True</span>         <span class="token comment"># 自动提交（确认）</span>
<span class="token punctuation">)</span>
</code></pre> 
<h3><a id="123_187"></a>123、综合案例</h3> 
<h4><a id="_189"></a>案例需求</h4> 
<p>我们使用《面向对象》章节案例中的数据集，完成使用Python语言，读取数据，并将数据写入MySQL的功能。</p> 
<p><img src="https://images2.imgbox.com/4d/42/cyIctRaR_o.png" alt=""></p> 
<h4><a id="DDL__198"></a>DDL 定义</h4> 
<p>本次需求开发我们需要新建一个数据库来使用，数据库名称：py_sql</p> 
<p>基于数据结构，可以得到建表语句：</p> 
<pre><code class="prism language-mysql">create table orders(
order_date date,
order_id varchar(255),
money int,
province varchar(10)
);
</code></pre> 
<h4><a id="_215"></a>实现步骤</h4> 
<p><img src="https://images2.imgbox.com/8d/0e/3EJeSyDq_o.png" alt="在这里插入图片描述"></p> 
<p>示例代码：</p> 
<p>DBeaver：</p> 
<pre><code class="prism language-mysql">create database py_sql charset utf8;

use py_sql;

create table orders(
order_date date,
order_id varchar(255),
money int,
province varchar(10)
);
</code></pre> 
<p>Python：</p> 
<pre><code class="prism language-python"><span class="token triple-quoted-string string">"""
SQL 综合案例，读取文件，写入 MySQL 数据库中
"""</span>

<span class="token keyword">from</span> file_define <span class="token keyword">import</span> TextFileReader<span class="token punctuation">,</span> JsonFileReader
<span class="token keyword">from</span> data_define <span class="token keyword">import</span> Record
<span class="token keyword">from</span> pymysql <span class="token keyword">import</span> Connection

text_file_reader <span class="token operator">=</span> TextFileReader<span class="token punctuation">(</span><span class="token string">"E:/3code/PyCharm/pythonProject/mysql/03_综合案例/2011年1月销售数据.txt"</span><span class="token punctuation">)</span>
json_file_reader <span class="token operator">=</span> JsonFileReader<span class="token punctuation">(</span><span class="token string">"E:/3code/PyCharm/pythonProject/mysql/03_综合案例/2011年2月销售数据JSON.txt"</span><span class="token punctuation">)</span>

jan_data<span class="token punctuation">:</span> <span class="token builtin">list</span><span class="token punctuation">[</span>Record<span class="token punctuation">]</span> <span class="token operator">=</span> text_file_reader<span class="token punctuation">.</span>read_data<span class="token punctuation">(</span><span class="token punctuation">)</span>
feb_data<span class="token punctuation">:</span> <span class="token builtin">list</span><span class="token punctuation">[</span>Record<span class="token punctuation">]</span> <span class="token operator">=</span> json_file_reader<span class="token punctuation">.</span>read_data<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 将 2 个月份的数据合并为 1 个 list 来存储</span>
all_data<span class="token punctuation">:</span> <span class="token builtin">list</span><span class="token punctuation">[</span>Record<span class="token punctuation">]</span> <span class="token operator">=</span> jan_data <span class="token operator">+</span> feb_data
<span class="token keyword">print</span><span class="token punctuation">(</span>all_data<span class="token punctuation">)</span>

<span class="token comment"># 构建 MySQL 链接对象</span>
conn <span class="token operator">=</span> Connection<span class="token punctuation">(</span>
    host<span class="token operator">=</span><span class="token string">'localhost'</span><span class="token punctuation">,</span>
    port<span class="token operator">=</span><span class="token number">3306</span><span class="token punctuation">,</span>
    user<span class="token operator">=</span><span class="token string">'root'</span><span class="token punctuation">,</span>
    password<span class="token operator">=</span><span class="token string">'666666'</span><span class="token punctuation">,</span>
    autocommit<span class="token operator">=</span><span class="token boolean">True</span>
<span class="token punctuation">)</span>

<span class="token comment"># 获得游标对象</span>
cursor <span class="token operator">=</span> conn<span class="token punctuation">.</span>cursor<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 选择数据库</span>
conn<span class="token punctuation">.</span>select_db<span class="token punctuation">(</span><span class="token string">"py_sql"</span><span class="token punctuation">)</span>

<span class="token comment"># 组织 SQL 语句</span>
<span class="token keyword">for</span> record <span class="token keyword">in</span> all_data<span class="token punctuation">:</span>
    sql <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"insert into orders(order_date, order_id, money, province) "</span></span> 
           <span class="token string-interpolation"><span class="token string">f"values('</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>record<span class="token punctuation">.</span>date<span class="token punctuation">}</span></span><span class="token string">', '</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>record<span class="token punctuation">.</span>order_id<span class="token punctuation">}</span></span><span class="token string">', '</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>record<span class="token punctuation">.</span>money<span class="token punctuation">}</span></span><span class="token string">', '</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>record<span class="token punctuation">.</span>province<span class="token punctuation">}</span></span><span class="token string">')"</span></span><span class="token punctuation">)</span>
    <span class="token comment"># print(sql)</span>

    <span class="token comment"># 执行 SQL 语句</span>
    cursor<span class="token punctuation">.</span>execute<span class="token punctuation">(</span>sql<span class="token punctuation">)</span>

<span class="token comment"># 关闭 MySQL 链接对象</span>
</code></pre> 
<h2><a id="Python__288"></a>Python 高阶技巧</h2> 
<h3><a id="1_290"></a>1、闭包</h3> 
<h4><a id="_292"></a>基础概念</h4> 
<p>通过全局变量account_amount来记录余额</p> 
<p>尽管功能实现是ok的，但是仍有问题：</p> 
<ul><li>代码在命名空间上（变量定义）不够干净、整洁</li><li>全局变量有被修改的风险</li></ul> 
<p>因此：</p> 
<ul><li>将变量定义在函数内部是行不通</li><li>我们需要使用闭包</li></ul> 
<p>在函数嵌套的前提下，内部函数使用了外部函数的变量，并且外部函数返回了内部函数，我们把这个使用外部函数变量的内部函数称为<strong>闭包</strong>。</p> 
<h4><a id="_308"></a>简单闭包</h4> 
<p><img src="https://images2.imgbox.com/8f/c1/vEWFqROX_o.png" alt=""></p> 
<p>示例代码：</p> 
<pre><code class="prism language-python"><span class="token comment"># 简单闭包</span>
<span class="token keyword">def</span> <span class="token function">outer</span><span class="token punctuation">(</span>logo<span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">inner</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"&lt;</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>logo<span class="token punctuation">}</span></span><span class="token string">&gt;</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>msg<span class="token punctuation">}</span></span><span class="token string">&lt;</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>logo<span class="token punctuation">}</span></span><span class="token string">&gt;"</span></span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> inner

fn1 <span class="token operator">=</span> outer<span class="token punctuation">(</span><span class="token string">"黑马程序员"</span><span class="token punctuation">)</span>
fn1<span class="token punctuation">(</span><span class="token string">"welcome"</span><span class="token punctuation">)</span>
</code></pre> 
<h4><a id="_331"></a>修改外部函数变量的值</h4> 
<p><img src="https://images2.imgbox.com/ba/63/75aIc40l_o.png" alt="在这里插入图片描述"></p> 
<p>示例代码：</p> 
<pre><code class="prism language-python"><span class="token comment"># 使用 nonlocal 关键字修改外部函数的值</span>
<span class="token keyword">def</span> <span class="token function">outer</span><span class="token punctuation">(</span>num1<span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">inner</span><span class="token punctuation">(</span>num2<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">nonlocal</span> num1
        num1 <span class="token operator">+=</span> num2
        <span class="token keyword">print</span><span class="token punctuation">(</span>num1<span class="token punctuation">)</span>
    <span class="token keyword">return</span> inner

fn <span class="token operator">=</span> outer<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
fn<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
fn<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>
fn<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>
fn<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>
</code></pre> 
<h4><a id="_ATM__359"></a>使用闭包实现 ATM 小案例</h4> 
<pre><code class="prism language-python"><span class="token triple-quoted-string string">"""
演示 Python 的闭包特性
"""</span>
<span class="token comment"># 使用闭包实现 ATM 小案例</span>
<span class="token keyword">def</span> <span class="token function">account_create</span><span class="token punctuation">(</span>initial_account <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">atm</span><span class="token punctuation">(</span>num<span class="token punctuation">,</span> deposit<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">nonlocal</span> initial_account
        <span class="token keyword">if</span> deposit<span class="token punctuation">:</span>
            initial_account <span class="token operator">+=</span> num
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"存款， +</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>num<span class="token punctuation">}</span></span><span class="token string">, 账户余额：</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>initial_account<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            initial_account <span class="token operator">-=</span> num
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"存款， -</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>num<span class="token punctuation">}</span></span><span class="token string">, 账户余额：</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>initial_account<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>

    <span class="token keyword">return</span> atm

atm <span class="token operator">=</span> account_create<span class="token punctuation">(</span><span class="token punctuation">)</span>

atm<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>
atm<span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span>
atm<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> deposit<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>
</code></pre> 
<p><mark>tips</mark>：</p> 
<p>优点，使用闭包可以让我们得到：</p> 
<ul><li>无需定义全局变量即可实现通过函数，持续的访问、修改某个值</li><li>闭包使用的变量的所用于在函数内，难以被错误的调用修改</li></ul> 
<p>缺点：</p> 
<ul><li>由于内部函数持续引用外部函数的值，所以会导致这一部分内存空间不被释放，一直占用内存</li></ul> 
<h3><a id="2_402"></a>2、装饰器</h3> 
<p>装饰器其实也是一种闭包， 其功能就是<mark>在不破坏目标函数原有的代码和功能的前提下，为目标函数增加新功能</mark>。</p> 
<h4><a id="_406"></a>装饰器的一般写法（闭包写法）</h4> 
<p>示例代码：</p> 
<pre><code class="prism language-python"><span class="token comment"># 装饰器的一般写法(闭包)</span>
<span class="token keyword">def</span> <span class="token function">outer</span><span class="token punctuation">(</span>func<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">inner</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"我睡觉了"</span><span class="token punctuation">)</span>
        func<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"我起床了"</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> inner

<span class="token keyword">def</span> <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">import</span> random
    <span class="token keyword">import</span> time
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"睡眠中......"</span><span class="token punctuation">)</span>
    time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

fn <span class="token operator">=</span> outer<span class="token punctuation">(</span>sleep<span class="token punctuation">)</span>
fn<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p>定义一个闭包函数， 在闭包函数内部：</p> 
<ul><li>执行目标函数</li><li>并完成功能的添加</li></ul> 
<p>执行结果：</p> 
<pre><code class="prism language-python"><span class="token comment"># 结果</span>
我睡觉了
睡眠中<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
我起床了
</code></pre> 
<h4><a id="_445"></a>装饰器的语法糖写法</h4> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">outer</span><span class="token punctuation">(</span>func<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">inner</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"我睡觉了"</span><span class="token punctuation">)</span>
        func<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"我起床了"</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> inner

<span class="token decorator annotation punctuation">@outer</span>
<span class="token keyword">def</span> <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">import</span> random
    <span class="token keyword">import</span> time
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"睡眠中......"</span><span class="token punctuation">)</span>
    time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

sleep<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p>使用@outer</p> 
<p>定义在目标函数sleep之上</p> 
<p>执行结果：</p> 
<pre><code class="prism language-python"><span class="token comment"># 结果</span>
我睡觉了
睡眠中<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
我起床了
</code></pre> 
<h3><a id="3_480"></a>3、单例模式</h3> 
<p>某些场景下， 我们需要一个类无论获取多少次类对象，都仅仅提供一个具体的实例，用以节省创建类对象的开销和内存开销，比如某些工具类，仅需要1个实例，即可在各处使用。</p> 
<p>这就是<mark>单例模式</mark>所要实现的效果。</p> 
<p>单例模式（Singleton Pattern）是一种常用的软件设计模式，该模式的主要目的是确保某一个类只有一个实例存在。</p> 
<p>在整个系统中，某个类只能出现一个实例时，单例对象就能派上用场。</p> 
<ul><li>定义：保证一个类只有一个实例,并提供一个访问它的全局访问点；</li><li>适用场景：当一个类只能有一个实例，而客户可以从一个众所周知的访问点访问它时。</li></ul> 
<p>单例的实现模式：</p> 
<p><img src="https://images2.imgbox.com/86/9b/BEHdqMj3_o.png" alt=""></p> 
<h3><a id="4_500"></a>4、工厂模式</h3> 
<p>当需要大量创建一个类的实例的时候， 可以使用工厂模式。</p> 
<p>即，从原生的使用类的构造去创建对象的形式迁移到，基于工厂提供的方法去创建对象的形式。</p> 
<p>例如：由</p> 
<p><img src="https://images2.imgbox.com/53/19/si6oy46i_o.png" alt="在这里插入图片描述"></p> 
<p>转到</p> 
<p><img src="https://images2.imgbox.com/9b/6f/kUPXH6Wr_o.png" alt="在这里插入图片描述"></p> 
<p>上述示例使用工厂类的get_person()方法去创建具体的类对象</p> 
<p>优点：</p> 
<ul><li>大批量创建对象的时候有统一的入口，易于代码维护；</li><li>当发生修改，仅修改工厂类的创建方法即可；</li><li>符合现实世界的模式，即由工厂来制作产品（对象）。</li></ul> 
<p>示例代码：</p> 
<pre><code class="prism language-python"><span class="token triple-quoted-string string">"""
演示 设计模式之工厂模式
"""</span>
<span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span>

<span class="token keyword">class</span> <span class="token class-name">Worker</span><span class="token punctuation">(</span>Person<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span>

<span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">(</span>Person<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span>

<span class="token keyword">class</span> <span class="token class-name">Teacher</span><span class="token punctuation">(</span>Person<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span>

<span class="token keyword">class</span> <span class="token class-name">PersonFactory</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">get_person</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> p_type<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> p_type <span class="token operator">==</span> <span class="token string">'w'</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> Worker<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">elif</span> p_type <span class="token operator">==</span> <span class="token string">'s'</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> Student<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> Teacher<span class="token punctuation">(</span><span class="token punctuation">)</span>

pf <span class="token operator">=</span> PersonFactory<span class="token punctuation">(</span><span class="token punctuation">)</span>
worker <span class="token operator">=</span> pf<span class="token punctuation">.</span>get_person<span class="token punctuation">(</span><span class="token string">'w'</span><span class="token punctuation">)</span>
stu <span class="token operator">=</span> pf<span class="token punctuation">.</span>get_person<span class="token punctuation">(</span><span class="token string">'s'</span><span class="token punctuation">)</span>
teacher <span class="token operator">=</span> pf<span class="token punctuation">.</span>get_person<span class="token punctuation">(</span><span class="token string">'t'</span><span class="token punctuation">)</span>
</code></pre> 
<h3><a id="5_561"></a>5、多线程并行执行概念</h3> 
<h4><a id="_563"></a>进程、线程</h4> 
<p>进程： 就是一个程序，运行在系统之上，那么便称之这个程序为一个运行进程，并分配进程ID方便系统管理。</p> 
<p>线程：线程是归属于进程的，一个进程可以开启多个线程，执行不同的工作，是进程的实际工作最小单位。</p> 
<p>进程就好比一家公司，是操作系统对程序进行运行管理的单位；</p> 
<p>线程就好比公司的员工，进程可以有多个线程（员工），是进程实际的工作者。</p> 
<p>操作系统中可以运行多个进程，即多任务运行；</p> 
<p>一个进程内可以运行多个线程，即多线程运行。</p> 
<p><mark>tips</mark>：</p> 
<p>进程之间是内存隔离的， 即不同的进程拥有各自的内存空间。 这就类似于不同的公司拥有不同的办公场所。</p> 
<p>线程之间是内存共享的，线程是属于进程的，一个进程内的多个线程之间是共享这个进程所拥有的内存空间的。</p> 
<p>这就好比，公司员工之间是共享公司的办公场所。</p> 
<p><img src="https://images2.imgbox.com/fb/64/ABskNrmP_o.png" alt=""></p> 
<h4><a id="_596"></a>并行执行</h4> 
<p>并行执行的意思指的是同一时间做不同的工作。</p> 
<p>进程之间就是并行执行的，操作系统可以同时运行好多程序，这些程序都是在并行执行。</p> 
<p>除了进程外，线程其实也是可以并行执行的。</p> 
<p>也就是比如一个Python程序，其实是完全可以做到：</p> 
<ul><li>一个线程在输出：你好</li><li>一个线程在输出：Hello</li></ul> 
<p>像这样一个程序在同一时间做两件乃至多件不同的事情， 我们就称之为：多线程并行执行</p> 
<h3><a id="6_613"></a>6、多线程编程</h3> 
<p>基本语法：</p> 
<p><img src="https://images2.imgbox.com/42/eb/GAMHw1Bs_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/dd/89/2GxWXkxs_o.png" alt="在这里插入图片描述"></p> 
<p>单线程：</p> 
<p>示例代码：</p> 
<pre><code class="prism language-python"><span class="token triple-quoted-string string">"""
演示 多线程编程的使用
"""</span>

<span class="token keyword">import</span> time

<span class="token keyword">def</span> <span class="token function">sing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"我在唱歌，啦啦啦..."</span><span class="token punctuation">)</span>
        time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">dance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"我在跳舞，呱呱呱..."</span><span class="token punctuation">)</span>
        time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    sing<span class="token punctuation">(</span><span class="token punctuation">)</span>
    dance<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 结果</span>
我在唱歌，啦啦啦<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
我在唱歌，啦啦啦<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
我在唱歌，啦啦啦<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
我在唱歌，啦啦啦<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
我在唱歌，啦啦啦<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
我在唱歌，啦啦啦<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
我在唱歌，啦啦啦<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
我在唱歌，啦啦啦<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
我在唱歌，啦啦啦<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
我在唱歌，啦啦啦<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
我在唱歌，啦啦啦<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre> 
<p>单方面循环 sing()</p> 
<p>多线程：</p> 
<pre><code class="prism language-python"><span class="token triple-quoted-string string">"""
演示 多线程编程的使用
"""</span>

<span class="token keyword">import</span> time
<span class="token keyword">import</span> threading

<span class="token keyword">def</span> <span class="token function">sing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"我在唱歌，啦啦啦..."</span><span class="token punctuation">)</span>
        time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">dance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"我在跳舞，呱呱呱..."</span><span class="token punctuation">)</span>
        time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    <span class="token comment"># 创建一个唱歌线程</span>
    sing_thread <span class="token operator">=</span> threading<span class="token punctuation">.</span>Thread<span class="token punctuation">(</span>target<span class="token operator">=</span>sing<span class="token punctuation">)</span>
    
    <span class="token comment"># 创建一个跳舞线程</span>
    dance_thread <span class="token operator">=</span> threading<span class="token punctuation">.</span>Thread<span class="token punctuation">(</span>target<span class="token operator">=</span>dance<span class="token punctuation">)</span>
    
    <span class="token comment"># 进程启动</span>
    sing_thread<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>
    dance_thread<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>
   
<span class="token comment"># 结果</span>
我在唱歌，啦啦啦<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
我在跳舞，呱呱呱<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
我在唱歌，啦啦啦<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>我在跳舞，呱呱呱<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

我在唱歌，啦啦啦<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>我在跳舞，呱呱呱<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

我在跳舞，呱呱呱<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
我在唱歌，啦啦啦<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre> 
<p>多线程传参：</p> 
<p>需要传参的话可以通过：</p> 
<ul><li>args参数通过元组（按参数顺序）的方式传参</li><li>或使用kwargs参数用字典的形式传参</li></ul> 
<p>示例代码：</p> 
<pre><code class="prism language-python"><span class="token triple-quoted-string string">"""
演示 多线程编程的使用
"""</span>

<span class="token keyword">import</span> time
<span class="token keyword">import</span> threading

<span class="token keyword">def</span> <span class="token function">sing</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span>
        time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">dance</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span>
        time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    <span class="token comment"># 创建一个唱歌线程</span>
    sing_thread <span class="token operator">=</span> threading<span class="token punctuation">.</span>Thread<span class="token punctuation">(</span>target<span class="token operator">=</span>sing<span class="token punctuation">,</span> args<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">"我要唱歌，哈哈哈"</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 创建一个跳舞线程</span>
    dance_thread <span class="token operator">=</span> threading<span class="token punctuation">.</span>Thread<span class="token punctuation">(</span>target<span class="token operator">=</span>dance<span class="token punctuation">,</span> kwargs<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token string">"msg"</span><span class="token punctuation">:</span><span class="token string">"我在跳舞，啦啦啦"</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 进程启动</span>
    sing_thread<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>
    dance_thread<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>
    
<span class="token comment"># 结果</span>
我要唱歌，哈哈哈
我在跳舞，啦啦啦
我要唱歌，哈哈哈
我在跳舞，啦啦啦
我要唱歌，哈哈哈
我在跳舞，啦啦啦
我在跳舞，啦啦啦
我要唱歌，哈哈哈
我在跳舞，啦啦啦
我要唱歌，哈哈哈
我要唱歌，哈哈哈我在跳舞，啦啦啦

我在跳舞，啦啦啦
我要唱歌，哈哈哈
我在跳舞，啦啦啦我要唱歌，哈哈哈
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/aac368961838b31b8efbc433f48fa4b0/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【数据结构】递归复杂度与链表OJ之双指针</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/848a337645d9d4f47981279c6609ae84/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">最新Adobe2024全家桶下载，PS/PR/AE/AI/AU/LR/ID详细安装教程</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>