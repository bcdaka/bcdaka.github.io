<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>记录Stable-Diffusion-Webui 在Windows11的Anaconda环境下的避坑安装 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/a87037e33798be68ad9d81c2b101d1de/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="记录Stable-Diffusion-Webui 在Windows11的Anaconda环境下的避坑安装">
  <meta property="og:description" content="#记录工作，工作复盘
仅作记录，未尽之处请补充，谢谢！
电脑配置情况大致记录如下，请参考：
MSI移动工作站，64G内存，4GB显存
一、安装前准备： 阅读文档，明确软件依赖和安装要求：
在用Anaconda环境下安装stable-diffusion-webui之前，电脑上先要安装有以下软件：
1、Anaconda
首先安装 Anaconda，本处用于可窗口化的管理虚拟环境和方便解决环境中包的依赖问题
可以参考本站大神的详细文章教程：
Anaconda超详细安装教程（Windows环境下）_conda安装-CSDN博客https://blog.csdn.net/fan18317517352/article/details/123035625
2、PyCharm
其次安装PyCharm，本处用于方便地在指定的虚拟环境和项目路径下修改、编辑和调试运行代码
可以参考本站大神的详细文章教程：
pycharm安装教程，超详细-CSDN博客https://blog.csdn.net/qq_44809707/article/details/122501118?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522170493554316777224416471%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=170493554316777224416471&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-2-122501118-null-null.142%5Ev99%5Epc_search_result_base4&amp;utm_term=pycharm%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B&amp;spm=1018.2226.3001.4187
3、Python
Stable-Diffusion-Webui需求的python 3.10.6 版本
此处python不用单独安装，安装Anaconda后在conda的虚拟环境中可按要求任意指定python版本
因为电脑上有多个python版本，所有用Anaconda管理运行指定的python环境和用PyCharm运行stable-diffusion-webui项目比较稳妥，不会影响后续再安装的python项目和以前已有的python项目运行。
stable-diffusion-webui项目官方文档建议python=3.10.6，我用python3.11.5安装不成功，所以首次安装建议还是老老实实的用官方建议的要求来安装，后续再些许微调。
4、GIT
本处用于克隆和Github上的项目文件和保持或推送项目文件更新
可以参考本站大神的详细文章教程：
git安装教程-CSDN博客https://blog.csdn.net/qq_38952352/article/details/127656385?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522170497944516800227429236%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=170497944516800227429236&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-127656385-null-null.142%5Ev99%5Epc_search_result_base4&amp;utm_term=git%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B&amp;spm=1018.2226.3001.4187
5、Visual Studio 2022
安装了Visual Studio 2022或Visual Studio 2019版本，并且下载并启用了C&#43;&#43;相关组件
可以参考本站大神的详细文章教程：
（一看就会）Visual Studio2022安装配置详细教程_visual studio 2022-CSDN博客https://blog.csdn.net/DuanNaiLin/article/details/132841938?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522170497955816800213018377%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=170497955816800213018377&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_click~default-2-132841938-null-null.142%5Ev99%5Epc_search_result_base4&amp;utm_term=Visual%20Studio%202022&amp;spm=1018.2226.3001.4187
二、开始安装（新建conda环境 克隆项目） 以下是记录的安装操作步骤：
没有Anaconda的先安装Anaconda，已有Anaconda的开始新建运行环境：
在以管理员身份运行Anaconda Prompt（base）中，输入以下命令，我这里用的环境名是“StableDiffusion”来举例，环境名可以自己定义，注意字母的大小写和不要有空格，空格可以用连接符“-”来连接，比如环境名“Stable-Diffusion”或者“s-d-w”，最好直接用“sdw”这样自己能区分又易记且简短的环境名：
#新建名为“StableDiffusion”并且python版本等于3.10.6的Conda环境，默认操作是确认yes conda create -n StableDiffusion python=3.10.6 -y 1、新建Anaconda环境，指定Python版本为3.10.3，默认同意执行全部操作“-y” 2、激活刚才新建的Anaconda环境 等运行一段时间，新建环境完成之后， 一定要继续输入命令来先激活环境：
#激活刚才新建的 名为“StableDiffusion”（并且python版本等于3.10.6的）Conda环境 ​conda activate StableDiffusion 这里先激活是避免后续因环境没激活而产生的连环错误。
3、打开PyCharm新建项目 确定所在文件夹，配置刚才已经激活的环境解释器为本项目的解释器，这一步比较重要。
比如用PyCharm新建项目位于D:\PythonProject目录下，新建名为stable-diffusion-webui的文件夹；
并配置前面步骤已经新建好的环境解释器作为本项目的解释器（conda环境中的python.exe路径）
可以参考本站大神的详细文章教程：
PyCharm与Anaconda超详细安装配置教程_pycharm安装anaconda环境-CSDN博客https://blog.csdn.net/qq_32892383/article/details/116137730?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522170498047516800184141989%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=170498047516800184141989&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-116137730-null-null.142%5Ev99%5Epc_search_result_base4&amp;utm_term=pycharm%E9%85%8D%E7%BD%AEanaconda&amp;spm=1018.2226.3001.4187重点参考在这篇文章的结尾部分。">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-01-12T12:38:14+08:00">
    <meta property="article:modified_time" content="2024-01-12T12:38:14+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">记录Stable-Diffusion-Webui 在Windows11的Anaconda环境下的避坑安装</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>#记录工作，工作复盘</p> 
<p>仅作记录，未尽之处请补充，谢谢！</p> 
<p>电脑配置情况大致记录如下，请参考：</p> 
<p>MSI移动工作站，64G内存，4GB显存</p> 
<p></p> 
<h2>一、安装前准备：</h2> 
<p>阅读文档，明确软件依赖和安装要求：</p> 
<p>在用Anaconda环境下安装stable-diffusion-webui之前，电脑上先要安装有以下软件：</p> 
<p>1、Anaconda</p> 
<p>首先安装 Anaconda，本处用于可窗口化的管理虚拟环境和方便解决环境中包的依赖问题</p> 
<p>可以参考本站大神的详细文章教程：</p> 
<p><a class="has-card" href="https://blog.csdn.net/fan18317517352/article/details/123035625" title="Anaconda超详细安装教程（Windows环境下）_conda安装-CSDN博客"><span class="link-card-box"><span class="link-title">Anaconda超详细安装教程（Windows环境下）_conda安装-CSDN博客</span><span class="link-link"><img class="link-link-icon" src="https://images2.imgbox.com/0b/45/BE76lKrU_o.png" alt="icon-default.png?t=N7T8">https://blog.csdn.net/fan18317517352/article/details/123035625</span></span></a><img alt="" height="419" src="https://images2.imgbox.com/2a/fa/6YEDw904_o.png" width="954"></p> 
<p></p> 
<p>2、PyCharm</p> 
<p>其次安装PyCharm，本处用于方便地在指定的虚拟环境和项目路径下修改、编辑和调试运行代码</p> 
<p>可以参考本站大神的详细文章教程：</p> 
<p><a class="has-card" href="https://blog.csdn.net/qq_44809707/article/details/122501118?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522170493554316777224416471%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=170493554316777224416471&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-2-122501118-null-null.142%5Ev99%5Epc_search_result_base4&amp;utm_term=pycharm%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B&amp;spm=1018.2226.3001.4187" title="pycharm安装教程，超详细-CSDN博客"><span class="link-card-box"><span class="link-title">pycharm安装教程，超详细-CSDN博客</span><span class="link-link"><img class="link-link-icon" src="https://images2.imgbox.com/8f/32/I9nx7cIg_o.png" alt="icon-default.png?t=N7T8">https://blog.csdn.net/qq_44809707/article/details/122501118?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522170493554316777224416471%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=170493554316777224416471&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-2-122501118-null-null.142%5Ev99%5Epc_search_result_base4&amp;utm_term=pycharm%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B&amp;spm=1018.2226.3001.4187</span></span></a><img alt="" height="557" src="https://images2.imgbox.com/b7/6c/g98AtdCS_o.png" width="779"></p> 
<p></p> 
<p>3、Python</p> 
<p>Stable-Diffusion-Webui需求的python 3.10.6 版本</p> 
<p>此处python不用单独安装，安装Anaconda后在conda的虚拟环境中可按要求任意指定python版本</p> 
<p>因为电脑上有多个python版本，所有用Anaconda管理运行指定的python环境和用PyCharm运行stable-diffusion-webui项目比较稳妥，不会影响后续再安装的python项目和以前已有的python项目运行。</p> 
<p>stable-diffusion-webui项目官方文档建议python=3.10.6，我用python3.11.5安装不成功，所以首次安装建议还是老老实实的用官方建议的要求来安装，后续再些许微调。</p> 
<p><img alt="" height="941" src="https://images2.imgbox.com/de/42/8sx1NY7c_o.png" width="1200"></p> 
<p></p> 
<p>4、GIT</p> 
<p>本处用于克隆和Github上的项目文件和保持或推送项目文件更新</p> 
<p>可以参考本站大神的详细文章教程：</p> 
<p><a class="has-card" href="https://blog.csdn.net/qq_38952352/article/details/127656385?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522170497944516800227429236%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=170497944516800227429236&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-127656385-null-null.142%5Ev99%5Epc_search_result_base4&amp;utm_term=git%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B&amp;spm=1018.2226.3001.4187" title="git安装教程-CSDN博客"><span class="link-card-box"><span class="link-title">git安装教程-CSDN博客</span><span class="link-link"><img class="link-link-icon" src="https://images2.imgbox.com/23/e2/n8bL9ETo_o.png" alt="icon-default.png?t=N7T8">https://blog.csdn.net/qq_38952352/article/details/127656385?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522170497944516800227429236%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=170497944516800227429236&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-127656385-null-null.142%5Ev99%5Epc_search_result_base4&amp;utm_term=git%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B&amp;spm=1018.2226.3001.4187</span></span></a><img alt="" height="716" src="https://images2.imgbox.com/55/86/Nn4w2SfG_o.png" width="965"></p> 
<p></p> 
<p>5、Visual Studio 2022</p> 
<p>安装了Visual Studio 2022或Visual Studio 2019版本，并且下载并启用了C++相关组件</p> 
<p>可以参考本站大神的详细文章教程：</p> 
<p><a class="has-card" href="https://blog.csdn.net/DuanNaiLin/article/details/132841938?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522170497955816800213018377%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=170497955816800213018377&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_click~default-2-132841938-null-null.142%5Ev99%5Epc_search_result_base4&amp;utm_term=Visual%20Studio%202022&amp;spm=1018.2226.3001.4187" title="（一看就会）Visual Studio2022安装配置详细教程_visual studio 2022-CSDN博客"><span class="link-card-box"><span class="link-title">（一看就会）Visual Studio2022安装配置详细教程_visual studio 2022-CSDN博客</span><span class="link-link"><img class="link-link-icon" src="https://images2.imgbox.com/b9/ea/Vw3iIm2n_o.png" alt="icon-default.png?t=N7T8">https://blog.csdn.net/DuanNaiLin/article/details/132841938?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522170497955816800213018377%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=170497955816800213018377&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_click~default-2-132841938-null-null.142%5Ev99%5Epc_search_result_base4&amp;utm_term=Visual%20Studio%202022&amp;spm=1018.2226.3001.4187</span></span></a></p> 
<p><img alt="" height="423" src="https://images2.imgbox.com/d3/98/3JQfJEDT_o.png" width="951"></p> 
<h3></h3> 
<h2>二、开始安装（新建conda环境 克隆项目）</h2> 
<p>以下是记录的安装操作步骤：</p> 
<p> 没有Anaconda的先安装Anaconda，已有Anaconda的开始新建运行环境：</p> 
<p>在以管理员身份运行Anaconda Prompt（base）中，输入以下命令，我这里用的环境名是“StableDiffusion”来举例，环境名可以自己定义，注意字母的大小写和不要有空格，空格可以用连接符“-”来连接，比如环境名“Stable-Diffusion”或者“s-d-w”，最好直接用“sdw”这样自己能区分又易记且简短的环境名：</p> 
<pre><code class="language-python">#新建名为“StableDiffusion”并且python版本等于3.10.6的Conda环境，默认操作是确认yes
conda create -n StableDiffusion python=3.10.6 -y
</code></pre> 
<p></p> 
<h3>1、新建Anaconda环境，指定Python版本为3.10.3，默认同意执行全部操作“-y”</h3> 
<p><img alt="" height="635" src="https://images2.imgbox.com/29/f2/2Thx5pCD_o.png" width="1129"></p> 
<h3></h3> 
<h3>2、激活刚才新建的Anaconda环境</h3> 
<p>等运行一段时间，新建环境完成之后， 一定要继续输入命令来先激活环境：</p> 
<pre><code class="language-python">#激活刚才新建的 名为“StableDiffusion”（并且python版本等于3.10.6的）Conda环境
​conda activate StableDiffusion
</code></pre> 
<p> 这里先激活是避免后续因环境没激活而产生的连环错误。</p> 
<p><img alt="" height="635" src="https://images2.imgbox.com/2a/f8/AEt9SFYx_o.png" width="1129"></p> 
<p></p> 
<h3>3、打开PyCharm新建项目</h3> 
<p>确定所在文件夹，配置刚才已经激活的环境解释器为本项目的解释器，这一步比较重要。</p> 
<p>比如用PyCharm新建项目位于D:\PythonProject目录下，新建名为stable-diffusion-webui的文件夹；</p> 
<p>并配置前面步骤已经新建好的环境解释器作为本项目的解释器（conda环境中的python.exe路径）</p> 
<p>可以参考本站大神的详细文章教程：</p> 
<p><a class="has-card" href="https://blog.csdn.net/qq_32892383/article/details/116137730?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522170498047516800184141989%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=170498047516800184141989&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-116137730-null-null.142%5Ev99%5Epc_search_result_base4&amp;utm_term=pycharm%E9%85%8D%E7%BD%AEanaconda&amp;spm=1018.2226.3001.4187" title="PyCharm与Anaconda超详细安装配置教程_pycharm安装anaconda环境-CSDN博客"><span class="link-card-box"><span class="link-title">PyCharm与Anaconda超详细安装配置教程_pycharm安装anaconda环境-CSDN博客</span><span class="link-link"><img class="link-link-icon" src="https://images2.imgbox.com/5f/ba/cMX9DwNq_o.png" alt="icon-default.png?t=N7T8">https://blog.csdn.net/qq_32892383/article/details/116137730?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522170498047516800184141989%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=170498047516800184141989&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-116137730-null-null.142%5Ev99%5Epc_search_result_base4&amp;utm_term=pycharm%E9%85%8D%E7%BD%AEanaconda&amp;spm=1018.2226.3001.4187</span></span></a>重点参考在这篇文章的结尾部分。</p> 
<p><img alt="" height="1040" src="https://images2.imgbox.com/74/c9/9Hvkxe00_o.png" width="1200"></p> 
<h3></h3> 
<h3>4、用PyCharm从远程克隆项目到本地</h3> 
<p>在PyCharm左上角图标处点击弹出的菜单栏上找到GIT——拉取——然后填入地址：</p> 
<p><a href="https://github.com/AUTOMATIC1111/stable-diffusion-webui.git" title="GitHub - AUTOMATIC1111/stable-diffusion-webui: Stable Diffusion web UI">GitHub - AUTOMATIC1111/stable-diffusion-webui: Stable Diffusion web UI</a></p> 
<p><img alt="" height="958" src="https://images2.imgbox.com/d3/bd/ukzwqPcR_o.png" width="1200"></p> 
<p><img alt="" height="897" src="https://images2.imgbox.com/ec/dc/IHMFXH2v_o.png" width="1200"></p> 
<p></p> 
<p>怎么拉取可以参考本站大神的详细文章教程：</p> 
<p><a class="has-card" href="https://blog.csdn.net/weixin_47759543/article/details/134273180?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522170498033216800182181583%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fall.%2522%257D&amp;request_id=170498033216800182181583&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_ecpm_v1~rank_v31_ecpm-1-134273180-null-null.142%5Ev99%5Epc_search_result_base4&amp;utm_term=%E7%94%A8PyCharm%E4%BB%8E%E8%BF%9C%E7%A8%8B%E5%85%8B%E9%9A%86%E9%A1%B9%E7%9B%AE%E5%88%B0%E6%9C%AC%E5%9C%B0&amp;spm=1018.2226.3001.4187" title="git使用教程 - pycharm拉取git仓库项目代码_pycharm打开并克隆github仓库-CSDN博客"><span class="link-card-box"><span class="link-title">git使用教程 - pycharm拉取git仓库项目代码_pycharm打开并克隆github仓库-CSDN博客</span><span class="link-link"><img class="link-link-icon" src="https://images2.imgbox.com/6e/55/TjormgGl_o.png" alt="icon-default.png?t=N7T8">https://blog.csdn.net/weixin_47759543/article/details/134273180?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522170498033216800182181583%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fall.%2522%257D&amp;request_id=170498033216800182181583&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_ecpm_v1~rank_v31_ecpm-1-134273180-null-null.142%5Ev99%5Epc_search_result_base4&amp;utm_term=%E7%94%A8PyCharm%E4%BB%8E%E8%BF%9C%E7%A8%8B%E5%85%8B%E9%9A%86%E9%A1%B9%E7%9B%AE%E5%88%B0%E6%9C%AC%E5%9C%B0&amp;spm=1018.2226.3001.4187</span></span></a><img alt="" height="1040" src="https://images2.imgbox.com/99/d9/Odaa1fTF_o.png" width="1200"></p> 
<p></p> 
<h2>三、为conda环境编辑代码文件</h2> 
<h3>1、编辑“webui-user.bat”文件</h3> 
<p>在PyCharm窗口中打开项目中的文件“webui-user.bat”并编辑</p> 
<p><img alt="" height="305" src="https://images2.imgbox.com/d9/5a/73en6Aji_o.png" width="774"></p> 
<h4>set PYTHON=这里粘贴前面新建过的虚拟环境中的python路径</h4> 
<p>（找到位置后鼠标右键“复制文件地址”，然后在等号后这里直接粘贴）</p> 
<p>例如我的：</p> 
<pre>set PYTHON="D:\ProgramData\anaconda3\envs\StableDiffusion\python.exe"</pre> 
<h4>set GIT=这里粘贴系统环境变量里的第一个GIT软件的路径</h4> 
<p>（找到系统变量里的位置靠上的GIT软件路径，找到后复制路径，然后在等号后这里直接粘贴）</p> 
<p>例如我的：</p> 
<pre>set GIT="D:\msys64\usr\bin\git.exe"</pre> 
<p>系统里有可能会存在多个GIT路径，需要查找GIT在环境变量里靠前的第一个路径</p> 
<p></p> 
<h4>set VENV_DIR=这里粘贴前面新建过的本项目的虚拟环境中的目录路径</h4> 
<p>（找到虚拟环境所在目录后标题栏复制地址，然后在等号后这里直接粘贴）</p> 
<p>例如我的：</p> 
<pre>set VENV_DIR="D:\ProgramData\anaconda3\envs\StableDiffusion\"</pre> 
<h4>set COMMANDLINE_ARGS=这里是填写启动和设置的一些参数</h4> 
<p>（这里的参数可以在后边软件配置后，调试功能后再修改或增加参数来设置）</p> 
<p>例如我的：</p> 
<pre>set COMMANDLINE_ARGS=--xformers --autolaunch --no-half --lowvram --precision full --disable-nan-check</pre> 
<p>这条可以后期使用时，根据实现情况再作设置和调整，请参考本文第“六、调参、使用”</p> 
<p></p> 
<h3>2、编辑“webui.bat”文件</h3> 
<p>紧接着在PyCharm窗口中打开打开“webui.bat”文件，CTRL+F在搜索框里输入“Scripts”，将带“/Scripts/”的字符路径删掉，比如语句是：</p> 
<pre><code class="language-python">#原语句：
:activate_venv
set PYTHON="%VENV_DIR%\Scripts\Python.exe"
echo venv %PYTHON%

#删除修改后的语句：
:activate_venv
set PYTHON="%VENV_DIR%\Python.exe"
echo venv %PYTHON%</code></pre> 
<p>记得大概是有3处吧 </p> 
<p><img alt="" height="656" src="https://images2.imgbox.com/3e/1c/CdomEOgr_o.png" width="1172"></p> 
<p>这里删改的目的和作用是：</p> 
<p>目的是修改成我们conda虚拟环境可以识别和使用的路径；</p> 
<p>作用是可以让程序正常在conda的虚拟环境中运行，并且不会再在根目录创建“.venv”文件夹和文件，减少本目录里的空间占用，并且方便用Anaconda的IDE或Anaconda Prompt进行管理和解决环境中的各种问题等。</p> 
<p>其实在conda环境中安装，还会修改到其他文件，包括环境目录路径下的一些.py程序的代码，不过由于影响不大或者是些不太重要的警告信息，解除后因当时没有详细记录，有需要探讨的请评论留言，谢谢！</p> 
<p></p> 
<h2>四、进行安装</h2> 
<h3>1、运行“webui-user.bat”文件进行安装</h3> 
<p>在powershell7及以上版本中的用法是需要在文件名前加“.\”</p> 
<pre><code class="language-python">#使用语法在文件名前加“.\”
.\webui-user.bat</code></pre> 
<p><img alt="" height="1040" src="https://images2.imgbox.com/e1/20/CXWmFFWn_o.png" width="1200"></p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/8a/04/0MQDZzij_o.png"></p> 
<p>看到输出“Running on local URL:  http://127.0.0.1:7860” 时，算是基本安装成功。</p> 
<h3></h3> 
<h3>2、安装额外的依赖模块</h3> 
<p>在输出窗口的信息中，翻阅报错信息，比如：没有到到XX模块这样的。</p> 
<p>根据输出信息显示没找到哪个模块就用pip安装哪个模块，例如：pip install XXX。</p> 
<p></p> 
<p>然后关闭pycharm里的终端，重新打开终端，输入“.\webui-user.bat”重新运行。并查看输出信息，针对性的排除启动故障。</p> 
<h2><img alt="" height="1040" src="https://images2.imgbox.com/98/96/EYvhEUaC_o.png" width="1200"></h2> 
<h3></h3> 
<h2>三、安装模型</h2> 
<p>安装模型其实比较简单，过程就是下载所需的模型文件后完整复制模型文件到对应的文件夹中。</p> 
<h3>1、下载模型文件</h3> 
<p>为什么单独说下载模型文件这个事，是因为下载其实由于网络原因会比较麻烦。</p> 
<p>模型是使用Stable-Diffusion-Webui必不可少的，可以在搜索引擎中搜索“Stable-Diffusion-Webui 模型”，并根据教程下载相关模型文件。</p> 
<p>因为模型太多了，功能也有差异，还有很多插件也需要单独的小模型文件，所以这里就不再过多赘述了，网上的教程有很多，都很有参考价值。优质的模型网站也有很多，比如C站和抱脸虫站等，但网络问题需要解决，有些模型文件很大，下载器也要好使并设置好能使用代理。</p> 
<p><img alt="" height="579" src="https://images2.imgbox.com/f2/15/PZT1QRmW_o.png" width="939"></p> 
<h3></h3> 
<h3>2、安装模型文件</h3> 
<p>模型下载后，要按照使用教程，将模型文件复制进Stable-Diffusion-Webui目录下相应的文件夹。</p> 
<p>比如主模型要放进主模型的文件夹中</p> 
<p>插件模型要放进插件模型的相应文件夹中</p> 
<p></p> 
<p>可以参考本站大神的详细文章教程：</p> 
<p><a class="has-card" href="https://blog.csdn.net/qq_44963223/article/details/129941138?ops_request_misc=&amp;request_id=&amp;biz_id=102&amp;utm_term=Stable-Diffusion-Webui%20%E6%A8%A1%E5%9E%8B&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduweb~default-4-129941138.142%5Ev99%5Epc_search_result_base4&amp;spm=1018.2226.3001.4187" title="stable diffusion（安装以及模型的初步使用）_stable diffusion 模型安装-CSDN博客"><span class="link-card-box"><span class="link-title">stable diffusion（安装以及模型的初步使用）_stable diffusion 模型安装-CSDN博客</span><span class="link-link"><img class="link-link-icon" src="https://images2.imgbox.com/ca/54/IRxI3clo_o.png" alt="icon-default.png?t=N7T8">https://blog.csdn.net/qq_44963223/article/details/129941138?ops_request_misc=&amp;request_id=&amp;biz_id=102&amp;utm_term=Stable-Diffusion-Webui%20%E6%A8%A1%E5%9E%8B&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduweb~default-4-129941138.142%5Ev99%5Epc_search_result_base4&amp;spm=1018.2226.3001.4187</span></span></a></p> 
<p><img alt="" height="568" src="https://images2.imgbox.com/9a/48/t5iVAD87_o.png" width="950"></p> 
<p></p> 
<h2>四、更改使用界面语言为中文</h2> 
<p>这里是扩展插件界面加载后搜索并安装一个插件，然后重启下Stable-Diffusion-Webui就可以了</p> 
<p>可以参考本站大神的详细文章教程：</p> 
<p><a class="has-card" href="https://blog.csdn.net/ddrfan/article/details/130290864?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522170498215116800227483596%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=170498215116800227483596&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduend~default-1-130290864-null-null.142%5Ev99%5Epc_search_result_base4&amp;utm_term=Stable-Diffusion-Webui%20%E4%B8%AD%E6%96%87&amp;spm=1018.2226.3001.4187" title="探索【Stable-Diffusion WEBUI】的插件：界面主题与中文翻译_stable diffusion提示词翻译-CSDN博客"><span class="link-card-box"><span class="link-title">探索【Stable-Diffusion WEBUI】的插件：界面主题与中文翻译_stable diffusion提示词翻译-CSDN博客</span><span class="link-link"><img class="link-link-icon" src="https://images2.imgbox.com/4e/fe/n1oW3Ki2_o.png" alt="icon-default.png?t=N7T8">https://blog.csdn.net/ddrfan/article/details/130290864?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522170498215116800227483596%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=170498215116800227483596&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduend~default-1-130290864-null-null.142%5Ev99%5Epc_search_result_base4&amp;utm_term=Stable-Diffusion-Webui%20%E4%B8%AD%E6%96%87&amp;spm=1018.2226.3001.4187</span></span></a></p> 
<p><img alt="" height="911" src="https://images2.imgbox.com/87/00/M0zTxJPK_o.png" width="1200"></p> 
<h3></h3> 
<h2>五、安装扩展等</h2> 
<p>安装可能会需要用到的扩展</p> 
<p>比如换脸插件、图片转视频插件等</p> 
<p>同样也可以先搜索然后安装</p> 
<p>可以参考本站大神的详细文章教程：</p> 
<p><a class="has-card" href="https://blog.csdn.net/caroline_wendy/article/details/131856141?ops_request_misc=&amp;request_id=&amp;biz_id=102&amp;utm_term=Stable-Diffusion-Webui%20%E6%8D%A2%E8%84%B8%E6%8F%92%E4%BB%B6&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduweb~default-0-131856141.142%5Ev99%5Epc_search_result_base4&amp;spm=1018.2226.3001.4187" title="Stable Diffusion - 扩展 Roop 换脸 (Face Swapping) 插件的配置与使用_8x_nmkd-superscale_150000_g-CSDN博客"><span class="link-card-box"><span class="link-title">Stable Diffusion - 扩展 Roop 换脸 (Face Swapping) 插件的配置与使用_8x_nmkd-superscale_150000_g-CSDN博客</span><span class="link-link"><img class="link-link-icon" src="https://images2.imgbox.com/c3/ec/LMb56eYJ_o.png" alt="icon-default.png?t=N7T8">https://blog.csdn.net/caroline_wendy/article/details/131856141?ops_request_misc=&amp;request_id=&amp;biz_id=102&amp;utm_term=Stable-Diffusion-Webui%20%E6%8D%A2%E8%84%B8%E6%8F%92%E4%BB%B6&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduweb~default-0-131856141.142%5Ev99%5Epc_search_result_base4&amp;spm=1018.2226.3001.4187</span></span></a><img alt="" height="911" src="https://images2.imgbox.com/a0/c4/FKVHHaOf_o.png" width="1200"></p> 
<p></p> 
<h2>六、调参，使用</h2> 
<p>调参：</p> 
<p>调整启动参数，比如出黑图的情况，或者马赛克的情况等</p> 
<p>可以参考本站大神的详细文章教程：</p> 
<p><a class="has-card" href="https://blog.csdn.net/qq_42160304/article/details/133530178?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522170498244816800192211892%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=170498244816800192211892&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-5-133530178-null-null.142%5Ev99%5Epc_search_result_base4&amp;utm_term=Stable-Diffusion-Webui%20%E5%90%AF%E5%8A%A8%E5%8F%82%E6%95%B0&amp;spm=1018.2226.3001.4187" title="记录下StableDiffusion的webui启动参数（cmd_args.py）_stable-diffusion-webui 启动参数-CSDN博客"><span class="link-card-box"><span class="link-title">记录下StableDiffusion的webui启动参数（cmd_args.py）_stable-diffusion-webui 启动参数-CSDN博客</span><span class="link-link"><img class="link-link-icon" src="https://images2.imgbox.com/cd/fa/vfiuMplq_o.png" alt="icon-default.png?t=N7T8">https://blog.csdn.net/qq_42160304/article/details/133530178?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522170498244816800192211892%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=170498244816800192211892&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-5-133530178-null-null.142%5Ev99%5Epc_search_result_base4&amp;utm_term=Stable-Diffusion-Webui%20%E5%90%AF%E5%8A%A8%E5%8F%82%E6%95%B0&amp;spm=1018.2226.3001.4187</span></span></a></p> 
<p><img alt="" height="697" src="https://images2.imgbox.com/d3/b6/hpLUjwuB_o.png" width="953"></p> 
<p></p> 
<p>使用：</p> 
<p></p> 
<p></p> 
<p>另外，附上完整的启动输出日志以供参考。如下：</p> 
<pre><code class="language-python">(StableDiffusion) PS D:\PythonProject\stable-diffusion-webui&gt; .\webui-user.bat
Using existing venv in directory "D:\ProgramData\anaconda3\envs\StableDiffusion\"
Python 3.10.6 | packaged by conda-forge | (main, Aug 22 2022, 20:29:51) [MSC v.1929 64 bit (AMD64)]
Version: v1.7.0-2-g3e9773a6
Commit hash: 3e9773a667503d9aee847862c2abb6eb36411523
Installing sd-webui-controlnet requirement: trimesh[easy]
Faceswaplab : Use GPU requirements
Checking faceswaplab requirements
0.03342500000144355
ReActor preheating... Device: CUDA
Looking in indexes: https://mirrors.aliyun.com/pypi/simple/
Requirement already satisfied: insightface in d:\programdata\anaconda3\envs\stablediffusion\lib\site-packages (from -r D:\PythonProject\stable-diffusion-webui\extensions\sd-webui-roop\requirements.txt (line 1)) (0.7.3)
Requirement already satisfied: onnx in d:\programdata\anaconda3\envs\stablediffusion\lib\site-packages (from -r D:\PythonProject\stable-diffusion-webui\extensions\sd-webui-roop\requirements.txt (line 2)) (1.14.0)
Requirement already satisfied: onnxruntime in d:\programdata\anaconda3\envs\stablediffusion\lib\site-packages (from -r D:\PythonProject\stable-diffusion-webui\extensions\sd-webui-roop\requirements.txt (line 3)) (1.15.0)        
Requirement already satisfied: opencv-python in d:\programdata\anaconda3\envs\stablediffusion\lib\site-packages (from -r D:\PythonProject\stable-diffusion-webui\extensions\sd-webui-roop\requirements.txt (line 4)) (4.8.1.78)    
Requirement already satisfied: ifnude in c:\users\love\appdata\roaming\python\python310\site-packages (from -r D:\PythonProject\stable-diffusion-webui\extensions\sd-webui-roop\requirements.txt (line 5)) (0.0.3)
Requirement already satisfied: cython in d:\programdata\anaconda3\envs\stablediffusion\lib\site-packages (from -r D:\PythonProject\stable-diffusion-webui\extensions\sd-webui-roop\requirements.txt (line 6)) (3.0.6)
Requirement already satisfied: numpy in d:\programdata\anaconda3\envs\stablediffusion\lib\site-packages (from insightface-&gt;-r D:\PythonProject\stable-diffusion-webui\extensions\sd-webui-roop\requirements.txt (line 1)) (1.23.5) 
Requirement already satisfied: tqdm in c:\users\love\appdata\roaming\python\python310\site-packages (from insightface-&gt;-r D:\PythonProject\stable-diffusion-webui\extensions\sd-webui-roop\requirements.txt (line 1)) (4.66.1)     
Requirement already satisfied: requests in d:\programdata\anaconda3\envs\stablediffusion\lib\site-packages (from insightface-&gt;-r D:\PythonProject\stable-diffusion-webui\extensions\sd-webui-roop\requirements.txt (line 1)) (2.31.0)
Requirement already satisfied: matplotlib in c:\users\love\appdata\roaming\python\python310\site-packages (from insightface-&gt;-r D:\PythonProject\stable-diffusion-webui\extensions\sd-webui-roop\requirements.txt (line 1)) (3.8.0)
Requirement already satisfied: Pillow in d:\programdata\anaconda3\envs\stablediffusion\lib\site-packages (from insightface-&gt;-r D:\PythonProject\stable-diffusion-webui\extensions\sd-webui-roop\requirements.txt (line 1)) (9.5.0) 
Requirement already satisfied: scipy in d:\programdata\anaconda3\envs\stablediffusion\lib\site-packages (from insightface-&gt;-r D:\PythonProject\stable-diffusion-webui\extensions\sd-webui-roop\requirements.txt (line 1)) (1.11.4) 
Requirement already satisfied: scikit-learn in d:\programdata\anaconda3\envs\stablediffusion\lib\site-packages (from insightface-&gt;-r D:\PythonProject\stable-diffusion-webui\extensions\sd-webui-roop\requirements.txt (line 1)) (1.3.2)
Requirement already satisfied: scikit-image in d:\programdata\anaconda3\envs\stablediffusion\lib\site-packages (from insightface-&gt;-r D:\PythonProject\stable-diffusion-webui\extensions\sd-webui-roop\requirements.txt (line 1)) (0.21.0)
Requirement already satisfied: easydict in d:\programdata\anaconda3\envs\stablediffusion\lib\site-packages (from insightface-&gt;-r D:\PythonProject\stable-diffusion-webui\extensions\sd-webui-roop\requirements.txt (line 1)) (1.11)
Requirement already satisfied: albumentations in d:\programdata\anaconda3\envs\stablediffusion\lib\site-packages (from insightface-&gt;-r D:\PythonProject\stable-diffusion-webui\extensions\sd-webui-roop\requirements.txt (line 1)) (1.3.1)
Requirement already satisfied: prettytable in d:\programdata\anaconda3\envs\stablediffusion\lib\site-packages (from insightface-&gt;-r D:\PythonProject\stable-diffusion-webui\extensions\sd-webui-roop\requirements.txt (line 1)) (3.9.0)
Requirement already satisfied: protobuf&gt;=3.20.2 in d:\programdata\anaconda3\envs\stablediffusion\lib\site-packages (from onnx-&gt;-r D:\PythonProject\stable-diffusion-webui\extensions\sd-webui-roop\requirements.txt (line 2)) (3.20.3)
Requirement already satisfied: typing-extensions&gt;=3.6.2.1 in d:\programdata\anaconda3\envs\stablediffusion\lib\site-packages (from onnx-&gt;-r D:\PythonProject\stable-diffusion-webui\extensions\sd-webui-roop\requirements.txt (line 2)) (4.9.0)
Requirement already satisfied: coloredlogs in d:\programdata\anaconda3\envs\stablediffusion\lib\site-packages (from onnxruntime-&gt;-r D:\PythonProject\stable-diffusion-webui\extensions\sd-webui-roop\requirements.txt (line 3)) (15.0.1)
Requirement already satisfied: flatbuffers in d:\programdata\anaconda3\envs\stablediffusion\lib\site-packages (from onnxruntime-&gt;-r D:\PythonProject\stable-diffusion-webui\extensions\sd-webui-roop\requirements.txt (line 3)) (23.5.26)
Requirement already satisfied: packaging in d:\programdata\anaconda3\envs\stablediffusion\lib\site-packages (from onnxruntime-&gt;-r D:\PythonProject\stable-diffusion-webui\extensions\sd-webui-roop\requirements.txt (line 3)) (23.2)
Requirement already satisfied: sympy in c:\users\love\appdata\roaming\python\python310\site-packages (from onnxruntime-&gt;-r D:\PythonProject\stable-diffusion-webui\extensions\sd-webui-roop\requirements.txt (line 3)) (1.12)      
Requirement already satisfied: opencv-python-headless&gt;=4.5.1.48 in d:\programdata\anaconda3\envs\stablediffusion\lib\site-packages (from ifnude-&gt;-r D:\PythonProject\stable-diffusion-webui\extensions\sd-webui-roop\requirements.txt (line 5)) (4.8.1.78)
Requirement already satisfied: PyYAML in d:\programdata\anaconda3\envs\stablediffusion\lib\site-packages (from albumentations-&gt;insightface-&gt;-r D:\PythonProject\stable-diffusion-webui\extensions\sd-webui-roop\requirements.txt (line 1)) (6.0.1)
Requirement already satisfied: qudida&gt;=0.0.4 in d:\programdata\anaconda3\envs\stablediffusion\lib\site-packages (from albumentations-&gt;insightface-&gt;-r D:\PythonProject\stable-diffusion-webui\extensions\sd-webui-roop\requirements.txt (line 1)) (0.0.4)
Requirement already satisfied: networkx&gt;=2.8 in c:\users\love\appdata\roaming\python\python310\site-packages (from scikit-image-&gt;insightface-&gt;-r D:\PythonProject\stable-diffusion-webui\extensions\sd-webui-roop\requirements.txt (line 1)) (3.1)
Requirement already satisfied: imageio&gt;=2.27 in d:\programdata\anaconda3\envs\stablediffusion\lib\site-packages (from scikit-image-&gt;insightface-&gt;-r D:\PythonProject\stable-diffusion-webui\extensions\sd-webui-roop\requirements.txt (line 1)) (2.33.0)
Requirement already satisfied: tifffile&gt;=2022.8.12 in d:\programdata\anaconda3\envs\stablediffusion\lib\site-packages (from scikit-image-&gt;insightface-&gt;-r D:\PythonProject\stable-diffusion-webui\extensions\sd-webui-roop\requirements.txt (line 1)) (2023.12.9)
Requirement already satisfied: PyWavelets&gt;=1.1.1 in d:\programdata\anaconda3\envs\stablediffusion\lib\site-packages (from scikit-image-&gt;insightface-&gt;-r D:\PythonProject\stable-diffusion-webui\extensions\sd-webui-roop\requirements.txt (line 1)) (1.5.0)
Requirement already satisfied: lazy_loader&gt;=0.2 in d:\programdata\anaconda3\envs\stablediffusion\lib\site-packages (from scikit-image-&gt;insightface-&gt;-r D:\PythonProject\stable-diffusion-webui\extensions\sd-webui-roop\requirements.txt (line 1)) (0.3)
Requirement already satisfied: humanfriendly&gt;=9.1 in d:\programdata\anaconda3\envs\stablediffusion\lib\site-packages (from coloredlogs-&gt;onnxruntime-&gt;-r D:\PythonProject\stable-diffusion-webui\extensions\sd-webui-roop\requirements.txt (line 3)) (10.0)
Requirement already satisfied: contourpy&gt;=1.0.1 in c:\users\love\appdata\roaming\python\python310\site-packages (from matplotlib-&gt;insightface-&gt;-r D:\PythonProject\stable-diffusion-webui\extensions\sd-webui-roop\requirements.txt (line 1)) (1.1.1)
Requirement already satisfied: cycler&gt;=0.10 in c:\users\love\appdata\roaming\python\python310\site-packages (from matplotlib-&gt;insightface-&gt;-r D:\PythonProject\stable-diffusion-webui\extensions\sd-webui-roop\requirements.txt (line 1)) (0.12.1)
Requirement already satisfied: fonttools&gt;=4.22.0 in c:\users\love\appdata\roaming\python\python310\site-packages (from matplotlib-&gt;insightface-&gt;-r D:\PythonProject\stable-diffusion-webui\extensions\sd-webui-roop\requirements.txt (line 1)) (4.43.1)
Requirement already satisfied: kiwisolver&gt;=1.0.1 in c:\users\love\appdata\roaming\python\python310\site-packages (from matplotlib-&gt;insightface-&gt;-r D:\PythonProject\stable-diffusion-webui\extensions\sd-webui-roop\requirements.txt (line 1)) (1.4.5)
Requirement already satisfied: pyparsing&gt;=2.3.1 in c:\users\love\appdata\roaming\python\python310\site-packages (from matplotlib-&gt;insightface-&gt;-r D:\PythonProject\stable-diffusion-webui\extensions\sd-webui-roop\requirements.txt (line 1)) (3.1.1)
Requirement already satisfied: python-dateutil&gt;=2.7 in d:\programdata\anaconda3\envs\stablediffusion\lib\site-packages (from matplotlib-&gt;insightface-&gt;-r D:\PythonProject\stable-diffusion-webui\extensions\sd-webui-roop\requirements.txt (line 1)) (2.8.2)
Requirement already satisfied: wcwidth in d:\programdata\anaconda3\envs\stablediffusion\lib\site-packages (from prettytable-&gt;insightface-&gt;-r D:\PythonProject\stable-diffusion-webui\extensions\sd-webui-roop\requirements.txt (line 1)) (0.2.12)
Requirement already satisfied: charset-normalizer&lt;4,&gt;=2 in c:\users\love\appdata\roaming\python\python310\site-packages (from requests-&gt;insightface-&gt;-r D:\PythonProject\stable-diffusion-webui\extensions\sd-webui-roop\requirements.txt (line 1)) (3.2.0)
Requirement already satisfied: idna&lt;4,&gt;=2.5 in c:\users\love\appdata\roaming\python\python310\site-packages (from requests-&gt;insightface-&gt;-r D:\PythonProject\stable-diffusion-webui\extensions\sd-webui-roop\requirements.txt (line 1)) (3.4)
Requirement already satisfied: urllib3&lt;3,&gt;=1.21.1 in c:\users\love\appdata\roaming\python\python310\site-packages (from requests-&gt;insightface-&gt;-r D:\PythonProject\stable-diffusion-webui\extensions\sd-webui-roop\requirements.txt (line 1)) (1.26.18)
Requirement already satisfied: certifi&gt;=2017.4.17 in d:\programdata\anaconda3\envs\stablediffusion\lib\site-packages (from requests-&gt;insightface-&gt;-r D:\PythonProject\stable-diffusion-webui\extensions\sd-webui-roop\requirements.txt (line 1)) (2023.11.17)
Requirement already satisfied: joblib&gt;=1.1.1 in d:\programdata\anaconda3\envs\stablediffusion\lib\site-packages (from scikit-learn-&gt;insightface-&gt;-r D:\PythonProject\stable-diffusion-webui\extensions\sd-webui-roop\requirements.txt (line 1)) (1.3.2)
Requirement already satisfied: threadpoolctl&gt;=2.0.0 in d:\programdata\anaconda3\envs\stablediffusion\lib\site-packages (from scikit-learn-&gt;insightface-&gt;-r D:\PythonProject\stable-diffusion-webui\extensions\sd-webui-roop\requirements.txt (line 1)) (3.2.0)
Requirement already satisfied: mpmath&gt;=0.19 in c:\users\love\appdata\roaming\python\python310\site-packages (from sympy-&gt;onnxruntime-&gt;-r D:\PythonProject\stable-diffusion-webui\extensions\sd-webui-roop\requirements.txt (line 3)) (1.3.0)
Requirement already satisfied: colorama in c:\users\love\appdata\roaming\python\python310\site-packages (from tqdm-&gt;insightface-&gt;-r D:\PythonProject\stable-diffusion-webui\extensions\sd-webui-roop\requirements.txt (line 1)) (0.4.6)
Requirement already satisfied: pyreadline3 in d:\programdata\anaconda3\envs\stablediffusion\lib\site-packages (from humanfriendly&gt;=9.1-&gt;coloredlogs-&gt;onnxruntime-&gt;-r D:\PythonProject\stable-diffusion-webui\extensions\sd-webui-roop\requirements.txt (line 3)) (3.4.1)
Requirement already satisfied: six&gt;=1.5 in d:\programdata\anaconda3\envs\stablediffusion\lib\site-packages (from python-dateutil&gt;=2.7-&gt;matplotlib-&gt;insightface-&gt;-r D:\PythonProject\stable-diffusion-webui\extensions\sd-webui-roop\requirements.txt (line 1)) (1.16.0)
Launching Web UI with arguments: --xformers --autolaunch --no-half --lowvram --precision full --disable-nan-check
[AddNet] Updating model hashes...
100%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 25/25 [00:00&lt;00:00, 7101.77it/s]
[AddNet] Updating model hashes...
100%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 25/25 [00:00&lt;00:00, 6249.34it/s]
ControlNet preprocessor location: D:\PythonProject\stable-diffusion-webui\extensions\sd-webui-controlnet\annotator\downloads
2024-01-11 22:03:03,691 - ControlNet - INFO - ControlNet v1.1.427
2024-01-11 22:03:03,983 - ControlNet - INFO - ControlNet v1.1.427
sd-webui-prompt-all-in-one background API service started successfully.
22:03:05 - ReActor - STATUS - Running v0.6.0-a4
2024-01-11 22:03:05,615 - roop - INFO - roop v0.0.2
2024-01-11 22:03:05,704 - roop - INFO - roop v0.0.2
Loading weights [0158e0715e] from D:\PythonProject\stable-diffusion-webui\models\Stable-diffusion\0.7(majicmixRealistic_v7) + 0.3(vae-ft-mse-840000-ema-pruned).safetensors
2024-01-11 22:03:05,889 - AnimateDiff - INFO - Injecting LCM to UI.
2024-01-11 22:03:06,725 - AnimateDiff - INFO - Hacking i2i-batch.
Creating model from config: D:\PythonProject\stable-diffusion-webui\configs\v1-inference.yaml
LatentDiffusion: Running in eps-prediction mode
DiffusionWrapper has 859.52 M params.
making attention of type 'vanilla-xformers' with 512 in_channels
building MemoryEfficientAttnBlock with 512 in_channels...
Working with z of shape (1, 4, 32, 32) = 4096 dimensions.
making attention of type 'vanilla-xformers' with 512 in_channels
building MemoryEfficientAttnBlock with 512 in_channels...
Running on local URL:  http://127.0.0.1:7860
Loading VAE weights specified in settings: D:\PythonProject\stable-diffusion-webui\models\VAE\vae-ft-mse-840000-ema-pruned.safetensors
Applying attention optimization: xformers... done.

To create a public link, set `share=True` in `launch()`.
Model loaded in 7.7s (load weights from disk: 2.4s, create model: 2.0s, apply weights to model: 1.3s, apply float(): 0.6s, load VAE: 0.5s, calculate empty prompt: 0.9s).
Startup time: 95.6s (initial startup: 0.1s, prepare environment: 38.8s, import torch: 9.4s, import gradio: 5.0s, setup paths: 2.6s, initialize shared: 0.5s, other imports: 1.8s, setup codeformer: 0.4s, load scripts: 7.4s, create ui: 3.3s, gradio launch: 5.0s, app_started_callback: 21.1s).

</code></pre> 
<p>运行界面：</p> 
<p><img alt="" height="911" src="https://images2.imgbox.com/fc/8e/kqMeJstu_o.png" width="1200"></p> 
<p>未尽之处欢迎在评论区补充和一起讨论，谢谢。</p> 
<p></p> 
<p>附注：实际在Windows11的conda环境安装过程中，还会出现一些状况，不过目前已经基本得到完美的解决，比如修改一些项目中的”.py“文件和一些主项目还有插件的“requirements.txt”文件的内容，修改一些虚拟环境中的导入语句设置等，不过影响不大，已基本排除完，能够不报错健康运行，本次复盘记录的比较粗糙，更多信息欢迎共同探讨，谢谢！</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/706f544e64d5ea094e4ee154e6d2f859/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">小程序webview嵌入的H5页面，点击按钮，返回小程序的指定页面</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6ad1dc4be6361f530d6e907ecc5cce5a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【JaveWeb教程】（22） MySQL数据库开发之多表查询：内连接、外连接、子查询 详细代码示例讲解（最全面）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>