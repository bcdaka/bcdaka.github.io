<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Python 人工智能实战|产生式规则推理系统：动物识别系统、智能客服系统 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/1c2a6c657f04435573d1f079a8fedb3d/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="Python 人工智能实战|产生式规则推理系统：动物识别系统、智能客服系统">
  <meta property="og:description" content="一、动物识别系统 1.1：前言 产生式系统是基于产生式规则的推理系统，它以产生式规则为基础，利用规则匹配的推理机制来进行推断和解决问题。下图是产生式系统的组成，请从“动物识别系统”程序代码中分别找出规则库、综合数据库和推理机部分，并分析系统实现流程，以及三个部分的所使用的数据存储结构和基本语法。
1.2：核心思路 如何保存规则-&gt;规则库： 使用feature列表存储特征，rule数组表示即将待匹配的规则前提（根据feature列表中特征相应的序号）如何存储用户输入&amp;中间结果-&gt;综合数据库： 以一个数组/列表变量存储用户输入的相应特征以及推理过程产生的中间前提匹配流程-&gt;推理机： 将综合数据库中的特征信息和rule规则前提依次进行匹配（注意：其实就是前提匹配），并且将得到的中间结论添加到综合数据库，依次完规则匹配，得到最终结果。
1.3：代码实现 # -*- coding: utf-8 -*- import sys # 存储规则中所有的feature features = [&#34;&#34;, &#34;有奶&#34;, &#34;有毛发&#34;, &#34;有羽毛&#34;, &#34;会飞&#34;, &#34;会下蛋&#34;, \ &#34;吃肉&#34;, &#34;有犬齿&#34;, &#34;有爪&#34;,&#34;眼盯前方&#34;, &#34;有蹄&#34;, &#34;嚼反刍&#34;,\ &#34;黄褐色&#34;, &#34;身上有暗斑点&#34;, &#34;身上有黑色条纹&#34;, &#34;有长脖子&#34;, \ &#34;有长腿&#34;, &#34;不会飞&#34;, &#34;会游泳&#34;, &#34;有黑白二色&#34;, &#34;善飞&#34;,\ &#34;哺乳动物&#34;, &#34;鸟&#34;, &#34;食肉动物&#34;, &#34;蹄类动物&#34;, &#34;金钱豹&#34;, &#34;虎&#34;,\ &#34;长颈鹿&#34;, &#34;斑马&#34;, &#34;鸵鸟&#34;, &#34;企鹅&#34;, &#34;信天翁&#34;] print(&#39;以下是一些动物的特征：&#39;) print(&#39;\n&#39;) i = 1 while i &lt; len(features): print(&#39;%d&#39; %i &#43;&#39;.&#39;&#43; features[i]&#43; &#39; &#39;, end=&#39;&#39;) i = i&#43;1 if i % 4 == 1: print(&#39;\n&#39;) print(&#39;\n&#39;) answer = input(&#39;请选择动物的特征编号，用英文逗号分开，回车结束输入：&#39;) # 接收到的answer是一个字符串 try: answer = list(answer.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-04-01T11:03:21+08:00">
    <meta property="article:modified_time" content="2024-04-01T11:03:21+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Python 人工智能实战|产生式规则推理系统：动物识别系统、智能客服系统</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-dracula">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="_0"></a>一、动物识别系统</h2> 
<h3><a id="11_2"></a>1.1：前言</h3> 
<p>产生式系统是基于产生式规则的推理系统，它以产生式规则为基础，利用规则匹配的推理机制来进行推断和解决问题。下图是产生式系统的组成，请从“动物识别系统”程序代码中分别找出规则库、综合数据库和推理机部分，并分析系统实现流程，以及三个部分的所使用的数据存储结构和基本语法。<br> <img src="https://images2.imgbox.com/13/eb/m0qpGksS_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/73/ce/cF2nHGLz_o.jpg" alt="在这里插入图片描述"></p> 
<h3><a id="12_8"></a>1.2：核心思路</h3> 
<ul><li><em><strong>如何保存规则-&gt;<font color="#e84393">规则库：</font></strong></em> 使用<code>feature</code>列表存储特征，<code>rule</code>数组表示即将待匹配的规则前提（根据feature列表中特征相应的序号）</li><li><em><strong>如何存储用户输入&amp;中间结果-&gt;<font color="#e84393">综合数据库：</font></strong></em> 以一个数组/列表变量存储<em>用户输入</em>的相应特征以及推理过程产生的中间前提</li><li><em><strong>匹配流程-&gt;<font color="#e84393">推理机：</font></strong></em> 将综合数据库中的特征信息和<code>rule</code>规则前提依次进行匹配（注意：其实就是前提匹配），并且将得到的中间结论添加到综合数据库，依次完规则匹配，得到最终结果。<br> <img src="https://images2.imgbox.com/51/1b/e60uuxkF_o.png" alt="在这里插入图片描述"></li></ul> 
<h3><a id="13_14"></a>1.3：代码实现</h3> 
<pre><code class="prism language-python"> <span class="token comment"># -*- coding: utf-8 -*-</span>
<span class="token keyword">import</span> sys

<span class="token comment"># 存储规则中所有的feature</span>
features <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">""</span><span class="token punctuation">,</span> <span class="token string">"有奶"</span><span class="token punctuation">,</span> <span class="token string">"有毛发"</span><span class="token punctuation">,</span> <span class="token string">"有羽毛"</span><span class="token punctuation">,</span> <span class="token string">"会飞"</span><span class="token punctuation">,</span> <span class="token string">"会下蛋"</span><span class="token punctuation">,</span>  \
            <span class="token string">"吃肉"</span><span class="token punctuation">,</span> <span class="token string">"有犬齿"</span><span class="token punctuation">,</span> <span class="token string">"有爪"</span><span class="token punctuation">,</span><span class="token string">"眼盯前方"</span><span class="token punctuation">,</span> <span class="token string">"有蹄"</span><span class="token punctuation">,</span> <span class="token string">"嚼反刍"</span><span class="token punctuation">,</span>\
            <span class="token string">"黄褐色"</span><span class="token punctuation">,</span> <span class="token string">"身上有暗斑点"</span><span class="token punctuation">,</span> <span class="token string">"身上有黑色条纹"</span><span class="token punctuation">,</span> <span class="token string">"有长脖子"</span><span class="token punctuation">,</span> \
            <span class="token string">"有长腿"</span><span class="token punctuation">,</span> <span class="token string">"不会飞"</span><span class="token punctuation">,</span> <span class="token string">"会游泳"</span><span class="token punctuation">,</span> <span class="token string">"有黑白二色"</span><span class="token punctuation">,</span> <span class="token string">"善飞"</span><span class="token punctuation">,</span>\
            <span class="token string">"哺乳动物"</span><span class="token punctuation">,</span> <span class="token string">"鸟"</span><span class="token punctuation">,</span> <span class="token string">"食肉动物"</span><span class="token punctuation">,</span> <span class="token string">"蹄类动物"</span><span class="token punctuation">,</span> <span class="token string">"金钱豹"</span><span class="token punctuation">,</span> <span class="token string">"虎"</span><span class="token punctuation">,</span>\
            <span class="token string">"长颈鹿"</span><span class="token punctuation">,</span> <span class="token string">"斑马"</span><span class="token punctuation">,</span> <span class="token string">"鸵鸟"</span><span class="token punctuation">,</span> <span class="token string">"企鹅"</span><span class="token punctuation">,</span> <span class="token string">"信天翁"</span><span class="token punctuation">]</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'以下是一些动物的特征：'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'\n'</span><span class="token punctuation">)</span>

i <span class="token operator">=</span> <span class="token number">1</span>
<span class="token keyword">while</span> i <span class="token operator">&lt;</span> <span class="token builtin">len</span><span class="token punctuation">(</span>features<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'%d'</span> <span class="token operator">%</span>i <span class="token operator">+</span><span class="token string">'.'</span><span class="token operator">+</span> features<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">+</span> <span class="token string">'  '</span><span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">)</span>
    i <span class="token operator">=</span> i<span class="token operator">+</span><span class="token number">1</span>
    <span class="token keyword">if</span> i <span class="token operator">%</span> <span class="token number">4</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'\n'</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'\n'</span><span class="token punctuation">)</span>



answer <span class="token operator">=</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">'请选择动物的特征编号，用英文逗号分开，回车结束输入：'</span><span class="token punctuation">)</span>
<span class="token comment"># 接收到的answer是一个字符串</span>
<span class="token keyword">try</span><span class="token punctuation">:</span>
    answer <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>answer<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">','</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    new_answer <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token keyword">for</span> x <span class="token keyword">in</span> answer<span class="token punctuation">]</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>new_answer<span class="token punctuation">)</span>
<span class="token keyword">except</span> Exception<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'您输入的是数字么？或者，逗号不是英文的？'</span><span class="token punctuation">)</span>
    sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># rule只保存了前提（方便后面进行匹配，因为匹配是匹配前提！！！）</span>
rule1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>   <span class="token comment"># if 动物有毛发  then  动物是哺乳动物</span>
rule2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>   <span class="token comment"># if 动物有奶  then  动物是哺乳动物</span>

rule3 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span>   <span class="token comment"># if 动物有羽毛  then  动物是鸟</span>
rule4 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>  <span class="token comment"># f 动物会飞  and  会生蛋 then  动物是鸟</span>

rule5 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span>  <span class="token comment"># if 动物吃肉 then 动物是食肉动物</span>
rule6 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span>  <span class="token comment"># if 动物有犀利牙齿 and 有爪 and 眼向前方 then 动物是食肉动物</span>

rule7 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">21</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span>  <span class="token comment"># if 动物是哺乳动物and有蹄then动物是有蹄类动物</span>
rule8 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">21</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">]</span>  <span class="token comment"># if 动物是哺乳动物and反刍then动物是有蹄类动物</span>

rule9 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">21</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">]</span>  <span class="token comment"># if 动物是哺乳动物and是食肉动物and有黄褐色 and 有暗斑点 then 动物是豹</span>
rule10 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">21</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">]</span>  <span class="token comment"># if 动物是哺乳动物 and是食肉动物and有黄褐色 and 有黑色条纹 then 动物是虎</span>
rule11 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">24</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">]</span>  <span class="token comment"># if动物是有蹄类动物  and 有长脖子and有长腿and有暗斑点 then 动物是长颈鹿</span>
rule12 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">24</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">]</span>  <span class="token comment"># if 动物是有蹄类动物 and有黑色条纹 then 动物是斑马</span>
rule13 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">17</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">]</span>  <span class="token comment"># if 动物是鸟and不会飞 and有长脖子and有长腿 and有黑白二色 then 动物是鸵鸟</span>
rule14 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">17</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">]</span>  <span class="token comment"># if 动物是鸟 and不会飞 and会游泳 and有黑白二色 then  动物是企鹅</span>
rule15 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>  <span class="token comment"># if 动物是鸟 and善飞 then 动物是信天翁</span>

<span class="token comment">#推理过程如下：</span>
<span class="token comment">#dict=[]</span>
<span class="token keyword">if</span> <span class="token builtin">set</span><span class="token punctuation">(</span>rule1<span class="token punctuation">)</span><span class="token operator">&lt;=</span><span class="token builtin">set</span><span class="token punctuation">(</span>new_answer<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token comment"># 规则库前提内容 &lt; 综合库内容，说明肯定能从规则库推理出新结论（也就是“匹配”）</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'2-&gt;21'</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'这个动物是'</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>features<span class="token punctuation">[</span><span class="token number">21</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    new_answer<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">21</span><span class="token punctuation">)</span>  <span class="token comment"># 将推理的中间结果加入综合库</span>
<span class="token keyword">if</span> <span class="token builtin">set</span><span class="token punctuation">(</span>rule2<span class="token punctuation">)</span><span class="token operator">&lt;=</span><span class="token builtin">set</span><span class="token punctuation">(</span>new_answer<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'1-&gt;21'</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'这个动物是'</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>features<span class="token punctuation">[</span><span class="token number">21</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    new_answer<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">21</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> <span class="token builtin">set</span><span class="token punctuation">(</span>rule3<span class="token punctuation">)</span><span class="token operator">&lt;=</span><span class="token builtin">set</span><span class="token punctuation">(</span>new_answer<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'3-&gt;22'</span><span class="token punctuation">)</span>
    new_answer<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">22</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> <span class="token builtin">set</span><span class="token punctuation">(</span>rule4<span class="token punctuation">)</span><span class="token operator">&lt;=</span><span class="token builtin">set</span><span class="token punctuation">(</span>new_answer<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'4+5-&gt;22'</span><span class="token punctuation">)</span>
    new_answer<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">22</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> <span class="token builtin">set</span><span class="token punctuation">(</span>rule5<span class="token punctuation">)</span><span class="token operator">&lt;=</span><span class="token builtin">set</span><span class="token punctuation">(</span>new_answer<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'6-&gt;23'</span><span class="token punctuation">)</span>
    new_answer<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">23</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> <span class="token builtin">set</span><span class="token punctuation">(</span>rule6<span class="token punctuation">)</span><span class="token operator">&lt;=</span><span class="token builtin">set</span><span class="token punctuation">(</span>new_answer<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'7+8+9-&gt;23'</span><span class="token punctuation">)</span>
    new_answer<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">23</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> <span class="token builtin">set</span><span class="token punctuation">(</span>rule7<span class="token punctuation">)</span><span class="token operator">&lt;=</span><span class="token builtin">set</span><span class="token punctuation">(</span>new_answer<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'21+10-&gt;24'</span><span class="token punctuation">)</span>
    new_answer<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">24</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> <span class="token builtin">set</span><span class="token punctuation">(</span>rule8<span class="token punctuation">)</span><span class="token operator">&lt;=</span><span class="token builtin">set</span><span class="token punctuation">(</span>new_answer<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'21+11-&gt;24'</span><span class="token punctuation">)</span>
    new_answer<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">24</span><span class="token punctuation">)</span>
<span class="token comment">#最后判断是什么动物</span>
<span class="token keyword">if</span> <span class="token builtin">set</span><span class="token punctuation">(</span>rule9<span class="token punctuation">)</span><span class="token operator">&lt;=</span><span class="token builtin">set</span><span class="token punctuation">(</span>new_answer<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>features<span class="token punctuation">[</span><span class="token number">25</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">elif</span> <span class="token builtin">set</span><span class="token punctuation">(</span>rule10<span class="token punctuation">)</span><span class="token operator">&lt;=</span><span class="token builtin">set</span><span class="token punctuation">(</span>new_answer<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>features<span class="token punctuation">[</span><span class="token number">26</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">elif</span> <span class="token builtin">set</span><span class="token punctuation">(</span>rule11<span class="token punctuation">)</span><span class="token operator">&lt;=</span><span class="token builtin">set</span><span class="token punctuation">(</span>new_answer<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>features<span class="token punctuation">[</span><span class="token number">27</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">elif</span> <span class="token builtin">set</span><span class="token punctuation">(</span>rule12<span class="token punctuation">)</span><span class="token operator">&lt;=</span><span class="token builtin">set</span><span class="token punctuation">(</span>new_answer<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>features<span class="token punctuation">[</span><span class="token number">28</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">elif</span> <span class="token builtin">set</span><span class="token punctuation">(</span>rule13<span class="token punctuation">)</span><span class="token operator">&lt;=</span><span class="token builtin">set</span><span class="token punctuation">(</span>new_answer<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>features<span class="token punctuation">[</span><span class="token number">29</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">elif</span> <span class="token builtin">set</span><span class="token punctuation">(</span>rule14<span class="token punctuation">)</span><span class="token operator">&lt;=</span><span class="token builtin">set</span><span class="token punctuation">(</span>new_answer<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>features<span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">elif</span> <span class="token builtin">set</span><span class="token punctuation">(</span>rule15<span class="token punctuation">)</span><span class="token operator">&lt;=</span><span class="token builtin">set</span><span class="token punctuation">(</span>new_answer<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>features<span class="token punctuation">[</span><span class="token number">31</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token punctuation">:</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'识别失败！'</span><span class="token punctuation">)</span>


</code></pre> 
<h2><a id="_123"></a>二、简单的自动问答系统</h2> 
<h3><a id="21_125"></a>2.1：前言</h3> 
<p>实现一个简单的自动问答系统。要求系统能够实现如下功能：<br> 如果用户"询问产品"，则显示"了解您想了解的产品信息，请问您具体对哪些产品感兴趣？<br> 如果用户"询问价格"，则显示"您可以在我们的官方网站上查询到最新的产品价格信息。<br> 如果用户"询问库存"，则显示"您所感兴趣的产品目前还有货，您可以直接在官网进行购买。<br> 如果用户"投诉"，则显示"非常抱歉给您带来不便，请您提供您的订单号，我们会尽快为您解决问题。<br> 如果用户"退货"，则显示"如果您对购买的产品不满意，可以在15天内提出退货申请，我们会尽快为您处理。<br> 如果用户"取消订单"，则显示"请您提供订单号，我们将为您取消订单并处理相关退款。<br> 如果用户"咨询售后服务"，则显示"您可以在我们的官方网站上查询到售后服务的联系方式，我们会尽快为您提供帮助。<br> 分析算法基本流程，并编程实现。程序实现时需思考如下几点：<br> 1、规则库如何存储？<br> 2、规则与用户输入如何匹配？<br> 提示：如果a和b都是字符串，则语法If a in b可判断b是否包含a</p> 
<h3><a id="22_138"></a>2.2：核心思路</h3> 
<p>这个自动问答系统本质上和动物识别系统一样，都是产生式规则推理系统，而且比上面的动物识别系统要简单很多，因为<b><font color="#1e90ff">不会产生中间结果！</font></b>如此一来，我们可以直接<strong>把前提和结论作为一个规则以元组或map的形式存起来就好</strong>，所有的规则还是以列表存储。</p> 
<ul><li><em><strong>如何保存规则-&gt;<font color="#e84393">规则库：</font></strong></em> 同样还是采用列表存储，但这次是把前提和结论一起存起来</li><li><em><strong>如何存储用户输入&amp;中间结果-&gt;<font color="#e84393">综合数据库：</font></strong></em> 直接用一个变量存储</li><li><em><strong>匹配流程-&gt;<font color="#e84393">推理机：</font></strong></em> 将综合数据库中的特征信息和<code>rule</code>规则前提依次进行匹配，依次完规则匹配，得到最终结果。</li></ul> 
<h3><a id="23_145"></a>2.3：代码实现</h3> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sys

<span class="token comment"># 定义智能客服系统规则库</span>
rules <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"询问产品"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">"了解您想了解的产品信息，请问您具体对哪些产品感兴趣？"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"询问价格"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">"您可以在我们的官方网站上查询到最新的产品价格信息。"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"询问库存"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">"您所感兴趣的产品目前还有货，您可以直接在官网进行购买。"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"投诉"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">"非常抱歉给您带来不便，请您提供您的订单号，我们会尽快为您解决问题。"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"退货"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">"如果您对购买的产品不满意，可以在15天内提出退货申请，我们会尽快为您处理。"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"取消订单"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">"请您提供订单号，我们将为您取消订单并处理相关退款。"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"咨询售后服务"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">"您可以在我们的官方网站上查询到售后服务的联系方式，我们会尽快为您提供帮助。"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">]</span>

<span class="token comment"># 收集投诉信息的函数</span>
<span class="token keyword">def</span> <span class="token function">collect_complaint_info</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    order_number <span class="token operator">=</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">"请提供您的订单号："</span><span class="token punctuation">)</span>
    complaint_details <span class="token operator">=</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">"请简要描述您的投诉内容："</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> order_number<span class="token punctuation">,</span> complaint_details

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"欢迎使用智能客服系统！"</span><span class="token punctuation">)</span>
user_input <span class="token operator">=</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">"请输入您的问题或需求："</span><span class="token punctuation">)</span>

<span class="token comment"># 初始化解决方案为空</span>
solution <span class="token operator">=</span> <span class="token boolean">None</span>

<span class="token comment"># 遍历规则库，寻找匹配的规则</span>
<span class="token keyword">for</span> rule <span class="token keyword">in</span> rules<span class="token punctuation">:</span>
      item<span class="token operator">=</span> rule<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
      <span class="token keyword">if</span> item <span class="token keyword">in</span> user_input<span class="token punctuation">:</span>
          solution <span class="token operator">=</span> rule<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
          <span class="token keyword">break</span>

<span class="token comment"># 根据匹配到的解决方案输出结果</span>
<span class="token keyword">if</span> solution<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"解决方案："</span><span class="token punctuation">,</span> solution<span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"对不起，无法识别您的问题或需求。"</span><span class="token punctuation">)</span>
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/7e083a45988fe3023d9114ebf4330da8/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【合合TextIn】AI构建新质生产力，合合信息Embedding模型助力专业知识应用</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/49df11dd80fab9f8588047412f17783c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">vsCode 刷 leetcode 使用 Cookie 登录</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>