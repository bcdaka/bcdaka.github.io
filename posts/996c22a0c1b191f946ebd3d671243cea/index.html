<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>数据结构和算法——图书馆管理系统（含代码） - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/996c22a0c1b191f946ebd3d671243cea/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="数据结构和算法——图书馆管理系统（含代码）">
  <meta property="og:description" content="目录
一、项目介绍................................ 二、设计方案及规划.................... 三、设计内容及步骤.................... 一、项目介绍 1.课程项目需求分析描述
1.结合c语言中的相关知识，进行项目课程的设计编译运行。充分调用c语言中，数值、循环、函数、结构体等知识点。
2．代码编译运行正常，符合 项目要求，系统相关功能可以正常运行。
3．充分学习和巩固c语言对课程设计的运用。
4．对于图书管理系统，能够区分出用户与管理员。分别具有的各项功能。图书的新增、修改和删除功能，查看图书的借阅排名和图书的借阅和归还。
5.对于书籍增加评论，提高用户的使用体验。
2.课程设计目的
1.充分调动和巩固已学的c语言知识。
2.更好的，更加灵活的对于数据结构与算法的运用。
3.增加对于项目的设立和完善，最后取得成功的经验。
4.提高发现问题，寻找解决方案的综合能力。
3.课程设计要求
1．项目逻辑思维清晰，页面菜单整洁。
2．代码编译运行正常。
3．代码结构严谨，分工明确。
4．图书管理系统功能项目完善。
4.课程设计意义
让学生能够更好的学习和运用数据结构与算法的知识。加以巩固相关知识，更好的完成好项目。提高学生面对困难，寻找解决方案的能力。发挥承上启下的作用，巩固好已学知识，为以后的课程学习打好基础。提高学生对于系统化使用知识的调用，在完成项目中增加经验，提高编译能力。
二、设计方案及规划 （一）、设计方案
顺应时代的发展潮流，计算机科学的迅猛发展，科技的进步，相关行业越来越在使用电子化发展了。面对图书馆登记借阅和图书信息保存，这些工作需要纸质保存，更新效率不高，对于读者和图书管理员都比较繁琐。
因此决定，使用c语言来设计图书管理系统，更好服务于读者和管理员的工作。结合C语言知识点：变量、数组、结构体、结构体数组、循环、条件判断等，
（二）、设计规划
第一天:
画出相应的流程图,并且完成管理员使图书信息增加,并使图书编号,名称,价格等各种信息的显示功能.
第二天:
完成管理员可以使图书信息的修改,删除,功能.
第三天:
完成用户可以使用,图书单条评论功能,并显示评论,修改单条评论功能.
第四天:
使用户可以多条评论,并且实现可以修改各条评论的功能,并且显示图书的评论数及评论,管理员可以删除评论功能.
第五天:
增加用户的借阅功能,归还功能,并且使图书状态可以随用户借阅和归还而发生改变.
第六天:
增加可以使用图书名称查找功能,调试代码,使之实现以上的各种功能,制作ppt
第七天:
完善代码,进行答辩.
三、设计内容及步骤 设计内容：
设计管理员和用户页面设计管理员的功能设计用户的功能目的：使用c语言对于图书实现智能化，实现管理员的增加、删除和修改等功能，并设计出用户的借阅、归还等功能。提高工作效率，减轻负担。
（包括目的说明和安装配置过程示意图）
安装开发工具dev C&#43;&#43;:
1.访问Dev-C&#43;&#43;官网. 2.运行安装程序. 3.选择偏好的语言. 4.接受许可协议. 5.选择目标文件夹. 6.选择要安装的组件. 7.创建快捷方式. 8.检查选项并开始安装. 9.等待安装完成. 10.点击完成,退出设置向导. 代码如下 #include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;
#define MAX_BOOK 1000">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-03-05T15:19:36+08:00">
    <meta property="article:modified_time" content="2024-03-05T15:19:36+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">数据结构和算法——图书馆管理系统（含代码）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p style="margin-left:0;text-align:center;"><strong>目录</strong></p> 
<p style="margin-left:0;"><a href="#_Toc477816697" rel="nofollow">一、项目介绍................................ </a></p> 
<p style="margin-left:0;"><a href="#_Toc477816698" rel="nofollow">二、设计方案及规划.................... </a></p> 
<p style="margin-left:0;"><a href="#_Toc477816699" rel="nofollow">三、设计内容及步骤.................... </a></p> 
<p style="margin-left:0;"></p> 
<p style="margin-left:0;"></p> 
<table border="1" cellspacing="0" style="margin-left:5.4pt;"><tbody><tr><td style="border-color:#000000;vertical-align:top;width:486pt;"> <h2 style="margin-left:0;"><a name="_Toc477816697">一、项目介绍</a></h2> <p style="margin-left:0;"><span style="color:#000000;">1.</span><span style="color:#000000;">课程项目需求分析描述</span></p> <p style="margin-left:0;"><span style="color:#000000;">   1.</span><span style="color:#000000;">结合c语言中的相关知识，进行项目课程的设计编译运行。充分调用c语言中，数值、循环、函数、结构体等知识点。</span></p> <p style="margin-left:0;"><span style="color:#000000;">   2</span><span style="color:#000000;">．代码编译运行正常，符合 项目要求，系统相关功能可以正常运行。</span></p> <p style="margin-left:0;"><span style="color:#000000;">   3</span><span style="color:#000000;">．充分学习和巩固c语言对课程设计的运用。</span></p> <p style="margin-left:0;"><span style="color:#000000;">   4</span><span style="color:#000000;">．对于图书管理系统，能够区分出用户与管理员。分别具有的各项功能。图书的新增、修改和删除功能，查看图书的借阅排名和图书的借阅和归还。</span></p> <p style="margin-left:0;"><span style="color:#000000;">   5.</span><span style="color:#000000;">对于书籍增加评论，提高用户的使用体验。</span></p> <p style="margin-left:0;"></p> <p style="margin-left:0;"><span style="color:#000000;">2.</span><span style="color:#000000;">课程设计目的</span></p> <p style="margin-left:0;"><span style="color:#000000;">  1.</span><span style="color:#000000;">充分调动和巩固已学的c语言知识。</span></p> <p style="margin-left:0;"><span style="color:#000000;">  2.</span><span style="color:#000000;">更好的，更加灵活的对于数据结构与算法的运用。</span></p> <p style="margin-left:0;"><span style="color:#000000;">  3.</span><span style="color:#000000;">增加对于项目的设立和完善，最后取得成功的经验。</span></p> <p style="margin-left:0;"><span style="color:#000000;">  4.</span><span style="color:#000000;">提高发现问题，寻找解决方案的综合能力。</span></p> <p style="margin-left:0;"></p> <p style="margin-left:0;"><span style="color:#000000;">3.</span><span style="color:#000000;">课程设计要求</span></p> <p style="margin-left:0;"><span style="color:#000000;">  1</span><span style="color:#000000;">．项目逻辑思维清晰，页面菜单整洁。</span></p> <p style="margin-left:0;"><span style="color:#000000;">  2</span><span style="color:#000000;">．代码编译运行正常。</span></p> <p style="margin-left:0;"><span style="color:#000000;">  3</span><span style="color:#000000;">．代码结构严谨，分工明确。</span></p> <p style="margin-left:0;"><span style="color:#000000;">  4</span><span style="color:#000000;">．图书管理系统功能项目完善。</span></p> <p style="margin-left:0;"></p> <p style="margin-left:0;"><span style="color:#000000;">4.</span><span style="color:#000000;">课程设计意义</span></p> <p style="margin-left:0;">让学生能够更好的学习和运用数据结构与算法的知识。加以巩固相关知识，更好的完成好项目。提高学生面对困难，寻找解决方案的能力。发挥承上启下的作用，巩固好已学知识，为以后的课程学习打好基础。提高学生对于系统化使用知识的调用，在完成项目中增加经验，提高编译能力。</p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:486pt;"> <h2 style="margin-left:0;"><a name="_Toc477816698">二、设计方案及规划</a></h2> <p style="margin-left:0;"><span style="color:#000000;">（一）、设计方案</span></p> <p style="margin-left:0;"><span style="color:#000000;">顺应时代的发展潮流，计算机科学的迅猛发展，科技的进步，相关行业越来越在使用电子化发展了。面对图书馆登记借阅和图书信息保存，这些工作需要纸质保存，更新效率不高，对于读者和图书管理员都比较繁琐。</span></p> <p style="margin-left:0;"><span style="color:#000000;">因此决定，使用c语言来设计图书管理系统，更好服务于读者和管理员的工作。结合C语言知识点：变量、数组、结构体、结构体数组、循环、条件判断等，</span></p> <p style="margin-left:0;"></p> <p style="margin-left:0;"><span style="color:#000000;">（二）、设计规划</span></p> <p style="margin-left:0;"><span style="color:#000000;">第一天:</span></p> <p style="margin-left:0;"><span style="color:#000000;">画出相应的流程图,并且完成管理员使图书信息增加,并使图书编号,名称,价格等各种信息的显示功能.</span></p> <p style="margin-left:0;"><span style="color:#000000;">第二天:</span></p> <p style="margin-left:0;"><span style="color:#000000;">完成管理员可以使图书信息的修改,删除,功能.</span></p> <p style="margin-left:0;"><span style="color:#000000;">第三天:</span></p> <p style="margin-left:0;"><span style="color:#000000;">完成用户可以使用,图书单条评论功能,并显示评论,修改单条评论功能.</span></p> <p style="margin-left:0;"><span style="color:#000000;">第四天:</span></p> <p style="margin-left:0;"><span style="color:#000000;">使用户可以多条评论,并且实现可以修改各条评论的功能,并且显示图书的评论数及评论,管理员可以删除评论功能.</span></p> <p style="margin-left:0;"><span style="color:#000000;">第五天:</span></p> <p style="margin-left:0;"><span style="color:#000000;">增加用户的借阅功能,归还功能,并且使图书状态可以随用户借阅和归还而发生改变.</span></p> <p style="margin-left:0;"><span style="color:#000000;">第六天:</span></p> <p style="margin-left:0;"><span style="color:#000000;">增加可以使用图书名称查找功能,调试代码,使之实现以上的各种功能,制作ppt</span></p> <p style="margin-left:0;"><span style="color:#000000;">第七天:</span></p> <p style="margin-left:0;"><span style="color:#000000;">完善代码,进行答辩.</span></p> <p style="margin-left:0;"></p> <h2 style="margin-left:0;"><a name="_Toc477816699">三、设计内容及步骤</a></h2> <p style="margin-left:0;"><strong>设计内容：</strong></p> 
    <ol><li>设计管理员和用户页面</li><li>设计管理员的功能</li><li>设计用户的功能</li></ol><p style="margin-left:0;">目的：使用c语言对于图书实现智能化，实现管理员的增加、删除和修改等功能，并设计出用户的借阅、归还等功能。提高工作效率，减轻负担。</p> <p style="margin-left:0;"></p> <p style="margin-left:0;"><span style="color:#000000;">（包括目的说明和安装配置过程示意图）</span></p> <p style="margin-left:0;"><a name="_Toc296451031"></a><a name="_Toc296452785"></a><a name="_Toc296455753"></a><a name="_Toc328061526"></a><a name="_Toc296450326"></a><a name="_Toc327992772"></a><a name="_Toc328064625"></a><a name="_Toc328057249"><strong><span style="color:#000000;">安装</span></strong></a><strong><span style="color:#000000;">开发工具dev C++<a name="_Toc296455754"></a><a name="_Toc328057250"></a><a name="_Toc296450327"></a><a name="_Toc296452786"></a><a name="_Toc327992773"></a><a name="_Toc328061527"></a><a name="_Toc296451032"></a><a name="_Toc328064626">:</a></span></strong></p> <h3 style="margin-left:0;">1.访问Dev-C++官网.</h3> <h3 style="margin-left:0;">2.运行安装程序.</h3> <h3 style="margin-left:0;">3.选择偏好的语言.</h3> <h3 style="margin-left:0;">4.接受许可协议.</h3> <h3 style="margin-left:0;">5.选择目标文件夹.</h3> <h3 style="margin-left:0;">6.选择要安装的组件.</h3> <h3 style="margin-left:0;">7.创建快捷方式.</h3> <h3 style="margin-left:0;">8.检查选项并开始安装.</h3> <h3 style="margin-left:0;">9.等待安装完成.</h3> <h3 style="margin-left:0;">10.点击完成,退出设置向导.</h3> <h3 style="margin-left:0;">代码如下</h3> <p>#include &lt;stdio.h&gt;<br> #include &lt;stdlib.h&gt;<br> #include &lt;string.h&gt;<br> #define MAX_BOOK 1000<br> #define MAX_COMMENTS 10000<br> struct book//书籍信息的结构体<br> {<!-- --><br>     char id[10];         //图书的编号 <br>     char name[20];       //名字 <br>     int state;           //图书号的状态<br>     int cl;              //库存量 <br>     float price;         //图书价格 <br>     int commentcount;    // 评论数<br>     int commentids[100]; // 评论 ID 列表<br>     int borrow_count;    //图书的借出数 <br> }; <br> struct book book[100];//图书数组 <br> int num=0;//图书数量 <br> //读者信息 <br> struct dz {<!-- --><br> char usernum[20]; // 用户编号 <br> char name[20];//用户姓名<br> char xb[20] ;//用户性别 <br> char zh[20];//用户账号<br> char mm[20] ;//用户密码 </p> <p>char sjh[20];//注册手机号 <br> };<br> // 用户列表<br> struct dz dz[100];<br> int dznum = 0;</p> <p>typedef struct {<!-- --><br>     int id;             // ID<br>     int book_id;<br>    <br>     char text[200];     // 评论内容<br> } Comment;<br> int num_comments = 1;<br> Comment comments[1000];<br> void sortMp(){//价格排序 <br>     struct book temp; <br>      for(int i = 0; i &lt; num-1; i++) {<!-- --><br>         for(int j = i+1; j &lt; num; j++) {<!-- --><br>             if(book[i].price &gt; book[j].price) {<!-- --><br>                 temp = book[i];<br>                 book[i] = book[j];<br>                 book[j] = temp;<br>             }<br>         }<br>     }<br> } </p> <p>void welcome (){//欢迎主页 <br> printf("**********欢迎使用是图书管理系统*************\n");<br> printf("1.管理身份登录\n");<br> printf("2.普通用户登录\n");<br> printf("3.退出\n");<br> printf("*********************************************\n");<br> }<br> //增加图书 <br> void addBook(){<!-- --><br>     while(1){<!-- --><br>     printf("输入图书编号\n");    <br>     scanf("%s",&amp;book[num].id);<br>     printf("输入图书名称\n");    <br>     scanf("%s",&amp;book[num].name);<br>     printf("输入图书状态 1表示图书借阅  2表示未借阅\n");    <br>     scanf("%d",&amp;book[num].state);<br>     printf("输入图书价格\n");    <br>     scanf("%f",&amp;book[num].price);<br>     printf("输入图书库存量\n");    <br>     scanf("%d",&amp;book[num].cl);<br>     printf("是否继续录入y/n \n");<br>     char yn;<br>     scanf(" %c",&amp;yn);<br>     num++; <br>     if(yn=='y'){<!-- --><br>     continue;<br>     /*continue语句的作用是跳过本次循<br>     环体中余下尚未执行的语句，<br>     立即进行下一次的循环条件判定，<br>     可以理解为仅结束本次循环。<br>      注意：continue语句并没有使整个循环终止。*/</p> <p>    }else{<!-- --><br>         break;<br>         }<br>     }<br> }</p> <p>//显示注册的图书信息<br> void show(){<!-- --><br>     //将我们的图书信息显示出来 <br>     if(num== 0) {<!-- --><br>         printf("当前无图书！\n");<br>         return;<br>     }          sortMp();<br>     printf("编号\t书名\t  库存量\t    状态\t价格\t评论数\n"); <br>     for(int i=0;i&lt;num;i++){<!-- --><br>         printf("%s\t", book[i].id) ; <br>         printf("%s\t" ,book[i].name) ; <br>         printf("%d\t", book[i].cl) ; <br>         printf("%d\t", book[i].state) ; <br>         printf("%.2f\t",book[i].price) ; <br>         printf("%d\n", book[i].commentcount);<br>     }    <br> } <br> //修改 信息 <br> void updateBook() {<!-- --><br>     //处理编号重复问题 <br>     //提示修改图书的序号 <br>     //输入修改图书的序号之前,可以看到被修改的书<br>     //显示注册的信息 <br>     show (); <br>     char a[10];<br>     printf("请输入要修改的图书编号：");<br>     scanf("%s", a);<br>     int i;<br>     for(i = 0; i &lt; num; i++) {<!-- --><br>         if(strcmp(book[i].id, a) == 0) {<!-- --><br>         printf("输入修改后的图书编号\n");    <br>         scanf("%s",&amp;book[i].id);<br>         printf("请输入修改后的图书名称：");<br>         scanf("%s", book[i].name);<br>         printf("请输入修改后的价格：");<br>         scanf("%f", &amp;book[i].price);<br>         printf("请输入修改后的库存量：");<br>         scanf("%d", &amp;book[i].cl);<br>         printf("修改成功！\n");<br>         return; <br>     } <br>     } <br>         printf("未找到该图书！\n");<br> } </p> <p>// 注销图书<br> void deleteBook() {<!-- --><br>     char b[10];<br>     printf("请输入要注销的图书编号：");<br>     scanf("%s", b);<br>     int i;<br>     for(i = 0; i &lt; num; i++) {<!-- --><br>         if(strcmp(book[i].id, b) == 0) {<!-- --><br>             int j;<br>             for(j = i; j &lt; num - 1; j++) {/*字符串比较函数：strcmp()<br> 格式：strcmp(s1,s2)<br> 功能：比较字符串 s1 和字符串 s2 的大小。<br> 说明<br> 自左至右逐个字符比较字符串中各字符的 ASCII 码<br> 遇到不同字符或'\0'时比较过程结束，此时，ASCII 码值大的字符所在的字符串大*/<br>                 <br>                 book[j] = book[j + 1];<br>             }<br>             num--;<br>             printf("注销成功！\n");<br>             return;<br>             /*函数值及 return<br> 函数值：函数执行后带回的一个结果<br> 函数值通过函数体中 return 返回*/ <br>     }<br> }<br>     printf("未找到该图书！\n");<br> }</p> <p>// 借阅图书<br> void borrowBook() {<!-- --><br>     char c[10];<br>     printf("请输入要借阅的图书编号：");<br>     scanf("%s", c);<br>     int i;<br>     for (i = 0; i &lt; num; i++) {<!-- --><br>         if (strcmp(book[i].id, c) == 0) {<!-- --><br>             if (book[i].cl &lt;= 0) {<!-- --><br>                 printf("该图书已全部借出！\n");<br>                 return;<br>             }<br>             book[i].cl--;<br>             book[i].borrow_count++; // 更新借阅次数<br>             printf("借阅成功！\n");<br>             return;  <br>     }<br> }<br>     printf("未找到该图书！\n");<br> }<br> // 获取借阅排名前 k 的书籍信息<br> void get_top_borrowed_books(int k) {<!-- --><br>     // 按照 borrow_count 从大到小排序<br>     for (int i = 0; i &lt; num - 1; i++) {<!-- --><br>         for (int j = i + 1; j &lt; num; j++) {<!-- --><br>             if (book[i].borrow_count &lt; book[j].borrow_count) {<!-- --><br>                 struct book temp = book[i];<br>                 book[i] = book[j];<br>                 book[j] = temp;<br>             }<br>         }<br>     }</p> <p>    // 输出排名前 k 的书籍信息和借阅次数<br>     printf("借阅排行榜（前 %d）：\n", k);<br>     printf("编号\t书名\t借阅次数\n");<br>     for (int i = 0; i &lt; k &amp;&amp; i &lt; num; i++) {<!-- --><br>         printf("%s\t%s\t%d\n", book[i].id, book[i].name, book[i].borrow_count);<br>     }<br> }</p> <p><br> //归还图书 <br> void returnBook() {<!-- --><br>    char id[10];<br>     printf("请输入要归还的图书编号：");<br>     scanf("%s", id);<br>     int found = 0;<br>     for (int i = 0; i &lt; num; i++) {<!-- --><br>         if (strcmp(book[i].id, id) == 0) {<!-- --><br>             found = 1;<br>             if (book[i].state == 2) {<!-- --><br>                 printf("该图书未被借阅，无法归还！\n");<br>                 return;<br>             }<br>             int num;<br>             printf("请输入归还数量：");<br>             scanf("%d", &amp;num);<br>             if (num &gt; book[i].borrow_count) { //检查归还数是否合法<br>                 printf("归还数量大于借出量！\n");<br>                 return;<br>             }<br>             book[i].cl += num;<br>             book[i].borrow_count -= num;<br>             if (book[i].borrow_count == 0) {<!-- --><br>                 book[i].state = 2; // 修改图书状态为未借出<br>                 printf("该书已全部归还！\n");<br>             } else {<!-- --><br>                 book[i].state = 1; // 修改图书状态为部分借出<br>             }<br>             printf("还书成功！\n");<br>         }<br>     }<br>     if (!found) {<!-- --><br>         printf("未找到该图书！\n");<br>     }</p> <p>}</p> <p>void add_comment() {// 评论图书<br>     char a[10];<br>     show();<br>     printf("请输入要评论的图书编号：");<br>     scanf("%s", a);<br>     for (int i = 0; i &lt; num; i++) {<!-- --><br>         if (strcmp(book[i].id, a) == 0) {<!-- --><br>             int comment_id = num_comments;<br>             comments[num_comments].id = comment_id; <br>             //将评论的编号存储到评论数组 comments 的 id 属性中。 <br>             comments[num_comments].book_id = i;<br>             //将评论对应的图书编号存储到评论数组 comments 的 book_id 属性中。<br>             printf("请输入评论：");<br>             getchar(); // getchar()函数可以将之前输入的回车符消耗掉，从而避免对后续输入造成影响。<br>             /*getchar()：输入字符数据，格式：getchar()功能：从键盘缓冲区读入一个字符*/<br>             fgets(comments[num_comments].text, sizeof(comments[num_comments].text), stdin);<br>             /*fgets(buffer,n,fp);从 fp 指向的文件读取 n-1 个字符；存储到以 buffer 为首地址的内存空*/<br>             //sizeof(comments[num_comments].text)表示对comments[num_comments].text数组的大小进行了限制，以防止用户输入过长的内容导致内存溢出。<br>             comments[num_comments].text[strlen(comments[num_comments].text)-1] = '\0';<br>             //它从一个评论数组中取出最后一个字符，并将其替换为'\0'，以将用户输入的回车符去除。<br>             //strlen（s）的功能是求字符串s的长度 <br>             book[i].commentids[book[i].commentcount] = comment_id;//使评论对应书籍 <br>             book[i].commentcount++;//使评论数增加 <br>             num_comments++;<br>             printf("评论成功！\n");<br>             return;<br>     }<br>     }<br> printf("没有这本书！\n");<br> }</p> <p>// 修改评论<br> void update_comment() {<!-- --><br>     char a[10];<br>     show();<br>     printf("请输入要修改评论的图书编号：");<br>     scanf("%s", a);<br>     for (int i = 0; i &lt; num; i++) {<!-- --><br>         if (strcmp(book[i].id, a) == 0) {<!-- --><br>             if (book[i].commentcount == 0) {<!-- --><br>                 printf("该图书还没有评论！\n");<br>                 return;<br>                 }<br>                 printf("请输入要修改的评论编号（1-%d）：", book[i].commentcount);<br>                 int comment_num;<br>                 if (scanf("%d", &amp;comment_num) != 1 || comment_num &lt; 1 || comment_num &gt; book[i].commentcount) <br>                 //如果用户输入的评论编号无效（不是整数，或者不在有效范围内），则输出无效的评论编号的提示信息，并结束函数。 <br>                 {<!-- --><br>                     printf("无效的评论编号！\n");<br>                     return;<br>                     }<br>                     int comment_id = book[i].commentids[comment_num-1];<br>                     //将用户输入的评论编号转换为评论的编号，存储到变量 comment_id 中。<br>                     for (int j = 0; j &lt; num_comments; j++) {<!-- --><br>                         if (comments[j].id == comment_id) {<!-- --><br>                             printf("[%d] %s\n", comments[j].id, comments[j].text); <br>                             printf("请输入新的评论：");<br>                             getchar(); // 消耗掉之前输入的回车符<br>                             fgets(comments[j].text, sizeof(comments[j].text), stdin);<br>                             //从标准输入中读取用户输入的新的评论内容，并将其存储到当前评论的 text 属性中。<br>                             comments[j].text[strcspn(comments[j].text, "\r\n")] = '\0'; // 去掉末尾可能存在的回车符<br>                             printf("修改成功！\n");<br>                             return;<br>                 }<br>             }<br>             printf("未找到该评论！\n");<br>             return;<br>         }<br>     }<br>     printf("未找到该图书！\n");<br> }<br> // 删除评论<br> void delete_comment() {<!-- --><br>     char a[10];<br>     show();<br>     printf("请输入要删除评论的图书编号：");<br>     scanf("%s", a);<br>     for (int i = 0; i &lt; num; i++) {<!-- --><br>         if (strcmp(book[i].id, a) == 0) {<!-- --><br>             if (book[i].commentcount == 0) {<!-- --><br>                 printf("该图书还没有评论！\n");<br>                 return;<br>                 }<br>                 // 提示用户输入要删除的评论编号，并进行有效性检查<br>                 printf("请输入要删除的评论编号（1-%d）：", book[i].commentcount);<br>                 int comment_num;<br>                 scanf("%d", &amp;comment_num);<br>                 if (comment_num &lt; 1 || comment_num &gt; book[i].commentcount) {<!-- --><br>                     printf("无效的评论编号！\n");<br>                     return;<br>                 }<br>                 // 通过要删除的评论编号找到对应的评论，然后将其从数组中删除<br>                 int comment_id = book[i].commentids[comment_num-1];<br>                 for (int j = 1; j &lt; num_comments; j++) {<!-- --><br>                     if (comments[j].id == comment_id) {<!-- --><br>                         for (int k = j; k &lt; num_comments - 1; k++) {<!-- --><br>                         comments[k] = comments[k + 1];// 将数组元素向前移动<br>                         }<br>                         num_comments--;<br>                         for (int k = comment_num-1; k &lt; book[i].commentcount - 1; k++) {<!-- --><br>                         book[i].commentids[k] = book[i].commentids[k+1];<br>                         }<br>                 book[i].commentcount--;// 更新该图书的评论数目<br>                 printf("删除成功！\n");<br>                 return;<br>                 }<br>             }<br>         }<br>     }<br> printf("未找到该图书或该图书还没有评论！\n");<br> }</p> <p>// 显示图书及评论信息<br> void show_book_comments() {<!-- --><br>     char a[10];<br>     show();<br>     printf("请输入要查看评论的图书编号：");<br>     scanf("%s", a);<br>     for (int i = 0; i &lt; num; i++) {<!-- --><br>     if (strcmp(book[i].id, a) == 0) {<!-- --><br>         printf("评论数\n");<br>         printf("%d\n", book[i].commentcount);<br>     if (book[i].commentcount &gt; 0) {<!-- --><br>         printf("评论列表：\n");<br>         //如果当前图书有评论，则使用 for 循环遍历该图书的所有评论，<br>         //并通过 commentids 数组中存储的评论编号找到对应的评论内容，<br>         //输出评论内容和编号。如果当前图书没有评论，则输出提示信息<br>         for (int j = 0; j &lt; book[i].commentcount; j++) {<!-- --><br>             int comment_id = book[i].commentids[j];<br>             for (int k = 1; k &lt; num_comments; k++) {<!-- --><br>                 if (comments[k].id == comment_id) {<!-- --><br>                 printf("[%d] %s\n", comments[k].id, comments[k].text);<br>                 break;<br>                 }<br>             }<br>         }<br>        }else {<!-- --><br>         printf("该图书还没有评论！\n");<br>         }<br>         return;<br>     }<br>     }<br> printf("没有这本书！\n");<br> }</p> <p>//查找书籍<br> void find_book() {<!-- --><br>     char b[20];<br>     printf("请输入查找图书的名字：");<br>     scanf("%s", b);<br>     int found = 0;<br>     for (int i = 0; i &lt; num; i++) {<!-- --><br>         if (strcmp(book[i].name, b) == 0) {<!-- --><br>             printf("编号：%s\t", book[i].id);<br>             printf("名称：%s\t", book[i].name);<br>             printf("状态：%d\t", book[i].state);<br>             printf("价格：%f\t", book[i].price);<br>             printf("库存量：%d\t", book[i].cl);<br>             printf("\n******查找成功******\n");<br>             found = 1;<br>             }<br>         }<br>         if (found!=1) {<!-- --><br>             printf("未找到相关图书。\n");<br>              }<br> }</p> <p>//注册用户<br> void zc() <br> {<!-- --><br>     printf("请输入编号\n");<br>     scanf("%s",&amp;dz[dznum].usernum ) ;<br>     printf("输入名字\n");<br>     scanf("%s",&amp;dz[dznum].name ) ;<br>     printf("请输入性别\n"); <br>     scanf("%s",&amp;dz[dznum].xb );<br>     printf("请输入账号\n");<br>     scanf("%s",&amp;dz[dznum].zh );<br>     printf("请输入密码\n");<br>     scanf("%s",&amp;dz[dznum].mm );<br>     printf("请输入注册手机号\n");<br>     scanf("%s",&amp;dz[dznum].sjh );<br>      dznum++;//变量先使用，然后再自增<br>     printf("注册成功\n") ;<br> }<br> //找回密码 <br> void zh() <br>     {    <br>      char phone[20];    <br>      printf("请输入注册时填写的手机号码：");    <br>      scanf("%s", phone);    <br>      for (int i = 0; i &lt; dznum; i++) <br>      {      <br>        if (strcmp(dz[i]. sjh,phone) == 0) <br>        {        <br>            printf("您的账号是：%s\n", dz[i].zh); <br>            printf("账号的密码是: %s\n",dz[i].mm );         <br>            return;     <br>               }  <br>           }    <br>           printf("找不到对应的账号！\n");<br>           }</p> <p>// 登录函数<br> void dlu() {<!-- --><br>     char name[20];<br>     char pass[20];<br>     printf("请输入账号：\n");<br>     scanf("%s", &amp;name);<br>     printf("请输入密码：\n");<br>     scanf("%s", &amp;pass);<br>     for (int i = 0; i &lt; dznum; i++) {<!-- --><br>         if (strcmp(dz[i].zh, name) == 0 &amp;&amp; strcmp(dz[i].mm, pass) == 0) <br>   {<!-- --><br>             printf("登录成功！\n");<br>                      while(true){                 <br>                      printf("\n********欢迎用户登录*******\n");                    <br>                     printf("根据序号选择功能\n"); <br>                     printf("1.借阅图书\n");<br>                     printf("2.归还图书\n");<br>                     printf("3.图书详情展示\n");<br>                     printf("4.图书评论\n"); <br>                     printf("5.修改评论\n"); <br>                     printf("6.查看图书评论\n") ;<br>                     printf("7.查看借阅排名情况\n");<br>                     printf("8.查找图书功能\n") ; <br>                     printf("0.返回\n");<br>                     printf("***************************\n");     <br>                     int k; <br>                     scanf("%d",&amp;k); <br>                     if(k==1){<!-- --><br>                         printf("1.借阅图书\n");    <br>                         borrowBook();<br>                     }else if(k==2){<!-- --><br>                         printf("2.归还图书\n");<br>                         returnBook();<br>                     }else if(k==3){<!-- --><br>                         printf("3.图书详情展示\n");<br>                         show (); <br>                     }else if(k==4){<!-- --><br>                         printf("4.图书评论\n"); <br>                         add_comment();<br>                     }else if(k==5){<!-- --><br>                         printf("5.修改评论\n");<br>                         update_comment();<br>                     }else if(k==6){<!-- --><br>                          printf("6.查看图书评论\n") ; <br>                          show_book_comments() ; <br>                     }else if(k==7){<!-- --><br>                          printf("7.查看借阅排名情况\n");    <br>                          int n=10;<br>                          get_top_borrowed_books(n);<br>                     }else if(k==8){<!-- --><br>                             printf("8.查找图书功能\n") ; <br>                             find_book();        <br>                     }else{<!-- --><br>                         printf("0.返回主页\n");<br>                         break;<br>                     } <br>                     } <br>             return;<br>         }<br>     else<br>     {<!-- --><br>     printf("登录失败：用户名或密码错误！请重新登录！\n");<br>    return;<br> }<br> }<br> }</p> <p>void lmenu()//显示登录菜单<br> {<!-- --></p> <p><br> printf("\n\n\t    欢迎进入登录系统\n\n");<br> printf("**********************************************");<br> printf("\n\t\t1.登录系统\n");<br> printf("\n\t\t2.创建账号\n");<br> printf("\n\t\t3.找回密码\n");<br> printf("\n\t\t4.退出系统\n");<br> printf("\n\t    请按键选择，回车确定\n");<br> printf("**********************************************");<br> return ;<br> }</p> <p><br> void comuser()<br> {<!-- --><br> printf("根据序号选择功能\n"); <br> printf("1.借阅图书\n");<br> printf("2.归还图书\n");<br> printf("3.图书详情展示\n");<br> printf("4.图书评论\n"); <br> printf("5.修改评论\n"); <br> printf("6.查看图书评论\n") ;<br> printf("7.查看借阅排名情况\n");<br> printf("8.查找图书功能\n") ; <br> printf("0.返回\n");<br>  } </p> <p>void mangview()<br> { <br> printf("1.查看已存图书\n");<br> printf("2.注册新图书\n");<br> printf("3.修改已有图书信息\n"); <br> printf("4.注销现存图书\n"); <br> printf("5.查看图书评论\n") ; <br> printf("6.管理评论\n");<br> printf("7.查看借阅排名情况\n");<br> printf("8.查找图书功能\n") ; <br> printf("0.返回主页\n");<br> } </p> <p>void mauser()<br> {<!-- --><br> printf("根据序号选择功能\n"); <br> printf("1.查看已存图书\n");<br> printf("2.注册新图书\n");<br> printf("3.修改已有图书信息\n"); <br> printf("4.注销现存图书\n"); <br> printf("5.查看图书评论\n") ; <br> printf("6.管理评论\n");<br> printf("7.查看借阅排名情况\n");<br> printf("8.查找图书功能\n") ; <br> printf("0.返回主页\n");<br> } </p> <p>int main(){<!-- --><br>     <br>         //程序开始进入欢迎界面<br>         do{<!-- --><br>         welcome();<br>         printf("选择登录方式的序号,进行登录\n") ;<br>         int xh;<br>         //输入<br>         scanf("%d",&amp;xh); <br>         if(xh==1){//管理员界面 <br>                         int choice;<br>                         char password[20];<br>                         printf("\n请输入管理员密码：");<br>                         scanf("%s", password);<br>                         if(strcmp(password, "1") != 0) {  //strcmp字符串比较 <br>                         printf("\n密码错误！\n");<br>                         return 0;<br>                            }<br>                    do{ //管理员界面  <br>                         printf("\n********欢迎管理员登录*******\n"); <br>                         mangview();<br>                         printf("*****************************\n");     <br>                            int mxh;<br>                           scanf("%d",&amp;mxh);<br>                          if(mxh==1) {<!-- --><br>                             printf("1.查看已存图书\n");    <br>                             show (); <br>                             }else if(mxh==2){<!-- --><br>                             addBook();<br>                             }else if(mxh==3){<!-- --><br>                             printf("3.修改已有图书信息\n");<br>                             updateBook(); <br>                             }else if(mxh==4){<!-- --><br>                             printf("4.注销现存图书\n"); <br>                             deleteBook(); <br>                             }else if(mxh==5){<!-- --><br>                             printf("5.查看图书评论\n") ;<br>                             show_book_comments() ; <br>                             }else if(mxh==6){<!-- --><br>                             printf("6.删除图书评论\n");     <br>                             delete_comment(); <br>                             }else if(mxh==7){<!-- --><br>                             printf("7.查看借阅排名情况\n");    <br>                             int k=10;<br>                             get_top_borrowed_books(k);<br>                             }else if(mxh==8){<!-- --><br>                             printf("8.查找图书功能\n") ; <br>                             find_book();<br>                             }else{<!-- --><br>                             printf("0.返回主页\n");<br>                             break;    <br>                             }                              <br>                        }while(true); <br>                      } <br>                      else if(xh==2)<br>                      {//用户界面 <br>                      lmenu();<br>                      int xz;<br>                      printf("\n输入选择\n");<br>                      scanf("%d",&amp;xz);<br>                      <br>                      if(xz==1)<br>                      { <br>                       dlu();<br>                 <br>                         }<br>                     else if(xz==2)<br>                         {<!-- --><br>                             zc();<br>                         }<br>                     else if(xz==3)<br>                         {<!-- --><br>                             zh();<br>                         }<br>                     else if(xz==4)<br>                     {<!-- --><br>                         break;<br>                     }<br>                     }<br>                      else{<!-- --><br>                     //输入3,表退出<br>                     printf("3.退出,感谢您的使用\n");<br>                     exit(0);<br>                     break; <br>                     }<br> }while(true); <br>                     return 0;<br> }<br>         </p> <p><br>  </p> <p style="margin-left:0;"></p> </td></tr></tbody></table>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/a014a24e24e2792bd3ae5d7243547aa9/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">python生成可视化操作界面,python怎么做可视化界面</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/7813c994ca0463c00e02794b37598089/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">2024年MySQL 下载、安装及启动停止教程（非常详细），涉及命令行net start mysql80提示发生系统错误5的解决方案</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>