<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>前端：地图篇（一） - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/c4588fb7a7bd6b30b3250e7210450e98/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="前端：地图篇（一）">
  <meta property="og:description" content="1、前言 在很多的出行程序中，都会使用到地图这一个功能，在实际的开发中我们也不会去开发一个自己的地图模型。如果自己开发一个地图模型，那么需要投入的成本、人力都是非常巨大的。所以我们很多网站和APP中使用的都是第三方的接口和JS，在案例中我们使用百度地图作为第三方。
2、工具准备 1、我们既然要使用第三方的功能，所以我们需要在百度中有一个账号。
点击这里，可以跳转到百度注册页面
2、其次呢，我们需要在百度地图开放平台申请开通开发者功能。
点击这里，可以跳转到百度地图开放平台
3、进入控制台后，进入应用管理 -&gt; 我的应用 -&gt; 创建应用，申请一个AK， 这个AK很重要，是访问百度相关API的密钥（用户标识）。
4、申请AK。
5、填写好相应的信息提交，分类要选择好，服务端对应的是后台程序，浏览器端对应的是前端程序，其他的分类也可以从字面意思了解得出来。
申请好AK后，我们就可以开始使用百度地图API了。
3、百度地图基本操作 使用百度地图的时候，我们要明白一点，百度已经为我们生成了地图模板，我们只需要添加相应的组件和相应的事件功能就可以了。
3.1、展示地图 因为百度已经为我们设计好了地图模板，所以我们可以使用HTML，也可以使用Vue等框架。这里我们使用基础的HTML。
3.1.1、创建HTML文件 创建一个简单的HTML文件，写一个ID为container的DIV。
&lt;!DOCTYPE html&gt; &lt;html&gt; &lt;head&gt; &lt;meta name=&#34;viewport&#34; content=&#34;initial-scale=1.0, user-scalable=no&#34; /&gt; &lt;meta http-equiv=&#34;Content-Type&#34; content=&#34;text/html; charset=utf-8&#34; /&gt; &lt;title&gt;Baidu Map &lt;/title&gt; &lt;style type=&#34;text/css&#34;&gt; html{height:100%} body{height:100%;margin:0px;padding:0px} #container{height:100%} &lt;/style&gt; &lt;/head&gt; &lt;body&gt; &lt;div id=&#34;container&#34;&gt;&lt;/div&gt; &lt;/body&gt; &lt;/html&gt; 3.1.2、引入百度地图JS 在引入百度地图的JS时，我们就需要使用到我们申请的AK。
&lt;script type=&#34;text/javascript&#34; src=&#34;https://api.map.baidu.com/api?v=1.0&amp;type=webgl&amp;ak=您的密钥&#34;&gt;&lt;/script&gt; 3.1.3、编写JS脚本 在我们引入百度地图的JS后，我们就需要自定义JS，将地图模板放入定义的container容器中。
&lt;script&gt; let map = new BMapGL.Map(&#34;container&#34;); // 创建地图实例 let point = new BMapGL.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2023-08-03T22:28:35+08:00">
    <meta property="article:modified_time" content="2023-08-03T22:28:35+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">前端：地图篇（一）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="1_0"></a>1、前言</h2> 
<p>在很多的出行程序中，都会使用到地图这一个功能，在实际的开发中我们也不会去开发一个自己的地图模型。如果自己开发一个地图模型，那么需要投入的成本、人力都是非常巨大的。所以我们很多网站和APP中使用的都是第三方的接口和JS，在案例中我们使用百度地图作为第三方。</p> 
<h2><a id="2_3"></a>2、工具准备</h2> 
<p>1、我们既然要使用第三方的功能，所以我们需要在百度中有一个账号。<br> <a href="https://passport.baidu.com/v2/?reg" rel="nofollow">点击这里，可以跳转到百度注册页面</a></p> 
<p><img src="https://images2.imgbox.com/5d/c2/2pZuo6B7_o.png" alt="注册页面"></p> 
<p>2、其次呢，我们需要在百度地图开放平台申请开通开发者功能。<br> <a href="https://lbsyun.baidu.com/index.php?title=%E9%A6%96%E9%A1%B5" rel="nofollow">点击这里，可以跳转到百度地图开放平台</a></p> 
<p><img src="https://images2.imgbox.com/66/61/y27ijO8Q_o.png" alt="百度地图开放平台"><br> 3、进入<code>控制台</code>后，进入<code>应用管理</code> -&gt; <code>我的应用</code> -&gt; <code>创建应用</code>，<font color="red">申请一个AK，</font> 这个AK很重要，是访问百度相关API的密钥（用户标识）。</p> 
<p><img src="https://images2.imgbox.com/e4/74/X8x7jkus_o.png" alt="在这里插入图片描述"></p> 
<p>4、申请AK。</p> 
<p><img src="https://images2.imgbox.com/89/13/u8wPhowk_o.png" alt="在这里插入图片描述"></p> 
<p>5、填写好相应的信息提交，分类要选择好，服务端对应的是后台程序，浏览器端对应的是前端程序，其他的分类也可以从字面意思了解得出来。</p> 
<p>申请好AK后，我们就可以开始使用百度地图API了。</p> 
<h2><a id="3_25"></a>3、百度地图基本操作</h2> 
<p>使用百度地图的时候，我们要明白一点，百度已经为我们生成了地图模板，我们只需要添加相应的组件和相应的事件功能就可以了。</p> 
<h3><a id="31_29"></a>3.1、展示地图</h3> 
<p>因为百度已经为我们设计好了地图模板，所以我们可以使用HTML，也可以使用Vue等框架。这里我们使用基础的HTML。</p> 
<h4><a id="311HTML_32"></a>3.1.1、创建HTML文件</h4> 
<p>创建一个简单的HTML文件，写一个ID为container的DIV。</p> 
<pre><code class="prism language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>initial-scale=1.0, user-scalable=no<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Content-Type<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/html; charset=utf-8<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Baidu Map <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/css<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">  
        <span class="token selector">html</span><span class="token punctuation">{<!-- --></span><span class="token property">height</span><span class="token punctuation">:</span>100%<span class="token punctuation">}</span>  
        <span class="token selector">body</span><span class="token punctuation">{<!-- --></span><span class="token property">height</span><span class="token punctuation">:</span>100%<span class="token punctuation">;</span><span class="token property">margin</span><span class="token punctuation">:</span>0px<span class="token punctuation">;</span><span class="token property">padding</span><span class="token punctuation">:</span>0px<span class="token punctuation">}</span>  
        <span class="token selector">#container</span><span class="token punctuation">{<!-- --></span><span class="token property">height</span><span class="token punctuation">:</span>100%<span class="token punctuation">}</span>  
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<h4><a id="312JS_54"></a>3.1.2、引入百度地图JS</h4> 
<p>在引入百度地图的JS时，我们就需要使用到我们申请的AK。</p> 
<pre><code class="prism language-js"><span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/javascript"</span> src<span class="token operator">=</span><span class="token string">"https://api.map.baidu.com/api?v=1.0&amp;type=webgl&amp;ak=您的密钥"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> 
<h4><a id="313JS_61"></a>3.1.3、编写JS脚本</h4> 
<p>在我们引入百度地图的JS后，我们就需要自定义JS，将地图模板放入定义的container容器中。</p> 
<pre><code class="prism language-js"><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
	<span class="token keyword">let</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BMapGL<span class="token punctuation">.</span>Map</span><span class="token punctuation">(</span><span class="token string">"container"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">// 创建地图实例 </span>
	<span class="token keyword">let</span> point <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BMapGL<span class="token punctuation">.</span>Point</span><span class="token punctuation">(</span><span class="token number">116.404</span><span class="token punctuation">,</span> <span class="token number">39.915</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 创建焦点坐标 </span>
	map<span class="token punctuation">.</span><span class="token function">centerAndZoom</span><span class="token punctuation">(</span>point<span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                 <span class="token comment">// 初始化地图，设置中心点坐标和地图级别</span>
	map<span class="token punctuation">.</span><span class="token function">enableScrollWheelZoom</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">//开启鼠标滚轮缩放、鼠标拖动</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> 
<p>此时，我们运行HTML文件就可以看见效果了。<br> <img src="https://images2.imgbox.com/96/2f/fhNv2lo3_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="32_76"></a>3.2、更改地图类型</h3> 
<table><thead><tr><th>类型常量</th><th>描述</th></tr></thead><tbody><tr><td>BMAP_NORMAL_MAP</td><td>标准地图（默认）</td></tr><tr><td>BMAP_EARTH_MAP</td><td>地球模式</td></tr><tr><td>BMAP_SATELLITE_MAP</td><td>普通卫星地图</td></tr></tbody></table> 
<p><strong>更改类型：</strong></p> 
<pre><code class="prism language-js">map<span class="token punctuation">.</span><span class="token function">setMapType</span><span class="token punctuation">(</span><span class="token constant">BMAP_EARTH_MAP</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// 设置地图类型为地球模式</span>
</code></pre> 
<p><strong>效果</strong><br> <img src="https://images2.imgbox.com/d1/93/uGSPlWHh_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="33_92"></a>3.3、添加覆盖物</h3> 
<p>除了百度提供的地图模型以外的覆盖在模型上部的内容，都是覆盖物。</p> 
<h4><a id="331_95"></a>3.3.1、绘制点、线、面</h4> 
<p><font color="red">可以使用map.addOverlay方法向地图添加覆盖物，使用map.removeOverlay方法移除覆盖物。</font></p> 
<p>基本覆盖物对象：</p> 
<table><thead><tr><th>类名</th><th>描述</th></tr></thead><tbody><tr><td>Marker</td><td>表示地图上的点，可自定义标注的图标</td></tr><tr><td>Polyline</td><td>表示地图上的折线</td></tr><tr><td>Polygon</td><td>表示地图上的多边形</td></tr><tr><td>Circle</td><td>表示地图上的圆</td></tr></tbody></table> 
<ol><li>Marker是一个用来往地图上添加点标记的类。使用它将任何你希望用户看到的兴趣点标注在地图上。</li><li>API提供了默认图标样式，您也可以通过Icon类来指定自定义图标。Marker的构造函数的参数为Point和MarkerOptions（可选）。</li><li>注意：当您使用自定义图标时，标注的地理坐标点将位于标注所用图标的中心位置，您可通过Icon的offset属性修改标定位置。</li></ol> 
<h5><a id="3311_111"></a>3.3.1.1、创建折线</h5> 
<p>Polyline表示地图上的折线覆盖物，它包含一组点，并将这些点连接起来形成折线。</p> 
<pre><code class="prism language-js"><span class="token keyword">function</span> <span class="token function">polyline</span><span class="token punctuation">(</span><span class="token parameter">map</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> polyline <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BMapGL<span class="token punctuation">.</span>Polyline</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
        <span class="token keyword">new</span> <span class="token class-name">BMapGL<span class="token punctuation">.</span>Point</span><span class="token punctuation">(</span><span class="token number">112.910838</span><span class="token punctuation">,</span><span class="token number">28.276226</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment">// 第一个点</span>
        <span class="token keyword">new</span> <span class="token class-name">BMapGL<span class="token punctuation">.</span>Point</span><span class="token punctuation">(</span><span class="token number">113.024096</span><span class="token punctuation">,</span><span class="token number">28.260446</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 第二个点</span>
        <span class="token keyword">new</span> <span class="token class-name">BMapGL<span class="token punctuation">.</span>Point</span><span class="token punctuation">(</span><span class="token number">113.028121</span><span class="token punctuation">,</span><span class="token number">28.155017</span><span class="token punctuation">)</span> <span class="token comment">// 第三个点</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span><span class="token literal-property property">strokeColor</span><span class="token operator">:</span><span class="token string">"blue"</span><span class="token punctuation">,</span> <span class="token literal-property property">strokeWeight</span><span class="token operator">:</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token literal-property property">strokeOpacity</span><span class="token operator">:</span><span class="token number">0.5</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">/**
		strokeColor： 线条颜色
		strokeWeight： 线条宽度
		strokeOpacity：线条透明度
	**/</span>

    map<span class="token punctuation">.</span><span class="token function">addOverlay</span><span class="token punctuation">(</span>polyline<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 添加遮罩物</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>效果：<br> <img src="https://images2.imgbox.com/79/1e/UNzSrLRY_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="3312_134"></a>3.3.1.2、创建多边形</h5> 
<p>Polygon表示地图上的多边形覆盖物，它包含一组点。多边形将这组点按顺序首尾相连，最终围成一个封闭图形。</p> 
<pre><code class="prism language-js"><span class="token keyword">function</span> <span class="token function">polygon</span><span class="token punctuation">(</span><span class="token parameter">map</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> polygon <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BMapGL<span class="token punctuation">.</span>Polygon</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
        <span class="token keyword">new</span> <span class="token class-name">BMapGL<span class="token punctuation">.</span>Point</span><span class="token punctuation">(</span><span class="token number">112.910838</span><span class="token punctuation">,</span><span class="token number">28.276226</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token keyword">new</span> <span class="token class-name">BMapGL<span class="token punctuation">.</span>Point</span><span class="token punctuation">(</span><span class="token number">113.024096</span><span class="token punctuation">,</span><span class="token number">28.260446</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token keyword">new</span> <span class="token class-name">BMapGL<span class="token punctuation">.</span>Point</span><span class="token punctuation">(</span><span class="token number">113.028121</span><span class="token punctuation">,</span><span class="token number">28.155017</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token keyword">new</span> <span class="token class-name">BMapGL<span class="token punctuation">.</span>Point</span><span class="token punctuation">(</span><span class="token number">112.971779</span><span class="token punctuation">,</span><span class="token number">28.148392</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token keyword">new</span> <span class="token class-name">BMapGL<span class="token punctuation">.</span>Point</span><span class="token punctuation">(</span><span class="token number">112.909688</span><span class="token punctuation">,</span><span class="token number">28.159093</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token keyword">new</span> <span class="token class-name">BMapGL<span class="token punctuation">.</span>Point</span><span class="token punctuation">(</span><span class="token number">112.910838</span><span class="token punctuation">,</span><span class="token number">28.276226</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span><span class="token literal-property property">strokeColor</span><span class="token operator">:</span><span class="token string">"blue"</span><span class="token punctuation">,</span> <span class="token literal-property property">strokeWeight</span><span class="token operator">:</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token literal-property property">strokeOpacity</span><span class="token operator">:</span><span class="token number">0.5</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">addOverlay</span><span class="token punctuation">(</span>polygon<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>效果：<br> <img src="https://images2.imgbox.com/26/0c/B63rYafy_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="332_154"></a>3.3.2、创建标注</h4> 
<h5><a id="3321_155"></a>3.3.2.1、创建一个简单的标注</h5> 
<p>我们所使用的遮罩物都是基于一个点的，所以我们需要遮罩物所展示的基本点。</p> 
<pre><code class="prism language-js"><span class="token keyword">let</span> point <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BMapGL<span class="token punctuation">.</span>Point</span><span class="token punctuation">(</span><span class="token number">112.937528</span><span class="token punctuation">,</span><span class="token number">28.244156</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 创建焦点坐标</span>
<span class="token keyword">let</span> marker <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BMapGL<span class="token punctuation">.</span>Marker</span><span class="token punctuation">(</span>point<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// 创建标注</span>
map<span class="token punctuation">.</span><span class="token function">addOverlay</span><span class="token punctuation">(</span>marker<span class="token punctuation">)</span><span class="token punctuation">;</span>                     <span class="token comment">// 将标注添加到地图中</span>
</code></pre> 
<p>完成JS：</p> 
<pre><code class="prism language-js"><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
    <span class="token keyword">let</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BMapGL<span class="token punctuation">.</span>Map</span><span class="token punctuation">(</span><span class="token string">"container"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">// 创建地图实例</span>
    <span class="token keyword">let</span> point <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BMapGL<span class="token punctuation">.</span>Point</span><span class="token punctuation">(</span><span class="token number">112.937528</span><span class="token punctuation">,</span><span class="token number">28.244156</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 创建焦点坐标</span>
    map<span class="token punctuation">.</span><span class="token function">centerAndZoom</span><span class="token punctuation">(</span>point<span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                 <span class="token comment">// 初始化地图，设置中心点坐标和地图级别</span>
    map<span class="token punctuation">.</span><span class="token function">enableScrollWheelZoom</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">//开启鼠标滚轮缩放</span>

    <span class="token keyword">let</span> marker <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BMapGL<span class="token punctuation">.</span>Marker</span><span class="token punctuation">(</span>point<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// 创建标注</span>
    map<span class="token punctuation">.</span><span class="token function">addOverlay</span><span class="token punctuation">(</span>marker<span class="token punctuation">)</span><span class="token punctuation">;</span>                     <span class="token comment">// 将标注添加到地图中</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> 
<p>效果：<br> <img src="https://images2.imgbox.com/4a/94/yDWkgsTt_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="3322_180"></a>3.3.2.2、自定义标注图片</h5> 
<p>我们可以使用指定的图片来作为标注。</p> 
<pre><code class="prism language-js"><span class="token keyword">function</span> <span class="token function">pointIcon</span><span class="token punctuation">(</span><span class="token parameter">map</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">let</span> myIcon <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BMapGL<span class="token punctuation">.</span>Icon</span><span class="token punctuation">(</span><span class="token string">"1.jpg"</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">BMapGL<span class="token punctuation">.</span>Size</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 指定定位位置。</span>
        <span class="token comment">// 当标注显示在地图上时，其所指向的地理位置距离图标左上</span>
        <span class="token comment">// 角各偏移10像素和25像素。您可以看到在本例中该位置即是</span>
        <span class="token comment">// 图标中央下端的尖角位置。</span>
        <span class="token literal-property property">anchor</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">BMapGL<span class="token punctuation">.</span>Size</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token comment">// 设置图片偏移。</span>
        <span class="token comment">// 当您需要从一幅较大的图片中截取某部分作为标注图标时，您</span>
        <span class="token comment">// 需要指定大图的偏移位置，此做法与css sprites技术类似。</span>
        <span class="token literal-property property">imageOffset</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">BMapGL<span class="token punctuation">.</span>Size</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span> <span class="token operator">-</span> <span class="token number">25</span><span class="token punctuation">)</span>   <span class="token comment">// 设置图片偏移</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 创建标注对象并添加到地图</span>
    <span class="token keyword">let</span> marker <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BMapGL<span class="token punctuation">.</span>Marker</span><span class="token punctuation">(</span>point<span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span><span class="token literal-property property">icon</span><span class="token operator">:</span> myIcon<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">addOverlay</span><span class="token punctuation">(</span>marker<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>效果：<br> <img src="https://images2.imgbox.com/1b/08/zwGTJVBB_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="34_209"></a>3.4、事件</h3> 
<p>百度地图API中的大部分对象都含有addEventListener方法，您可以通过该方法来监听对象事件。</p> 
<h4><a id="341_211"></a>3.4.1、遮罩物事件</h4> 
<pre><code class="prism language-js">marker<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"click"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>   
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"您点击了标注"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>当点击marker这个遮罩物之后就会触发click事件。</p> 
<h4><a id="342_219"></a>3.4.2、地图事件</h4> 
<pre><code class="prism language-js">map<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'click!'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 当点击了地图的某个地方后就会触发click事件。</span>
</code></pre> 
<p>通过回调函数的参数，可以获取当前点击点的经纬度信息。</p> 
<pre><code class="prism language-js">map<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> handleClick<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'点击的经纬度：'</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>latlng<span class="token punctuation">.</span>lng <span class="token operator">+</span> <span class="token string">', '</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>latlng<span class="token punctuation">.</span>lat<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> mercator <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">lnglatToMercator</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>latlng<span class="token punctuation">.</span>lng<span class="token punctuation">,</span> e<span class="token punctuation">.</span>latlng<span class="token punctuation">.</span>lat<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'点的墨卡托坐标：'</span> <span class="token operator">+</span> mercator<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">', '</span> <span class="token operator">+</span> mercator<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

map<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> handleClick<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 移除事件</span>
</code></pre> 
<h4><a id="343_242"></a>3.4.3、右击事件</h4> 
<p>Javascript API GL提供了MenuItem构造函数来定义菜单项实例，其接收三个参数，分别是菜单项显示的文本（string）、点击后的回调函数（Function）以及一个可选的MenultOptions（对象字面量）参数。</p> 
<pre><code class="prism language-js"><span class="token keyword">function</span> <span class="token function">rightClick</span><span class="token punctuation">(</span><span class="token parameter">map</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	<span class="token keyword">let</span> txtMenuItem <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">text</span><span class="token operator">:</span><span class="token string">'放大'</span><span class="token punctuation">,</span> <span class="token comment">// 定义菜单项的显示文本</span>
            <span class="token function-variable function">callback</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>    <span class="token comment">// 定义菜单项点击触发的回调函数</span>
                map<span class="token punctuation">.</span><span class="token function">zoomIn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">text</span><span class="token operator">:</span><span class="token string">'缩小'</span><span class="token punctuation">,</span>
            <span class="token function-variable function">callback</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                map<span class="token punctuation">.</span><span class="token function">zoomOut</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> txtMenuItem<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	    menu<span class="token punctuation">.</span><span class="token function">addItem</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">BMapGL<span class="token punctuation">.</span>MenuItem</span><span class="token punctuation">(</span> <span class="token comment">// 定义菜单项实例</span>
	        txtMenuItem<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>text<span class="token punctuation">,</span>    <span class="token comment">// 传入菜单项的显示文本</span>
	        txtMenuItem<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>callback<span class="token punctuation">,</span>   <span class="token comment">// 传入菜单项的回调函数</span>
	        <span class="token punctuation">{<!-- --></span>
	            <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">300</span><span class="token punctuation">,</span>    <span class="token comment">// 指定菜单项的宽度</span>
	            <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">'menu'</span> <span class="token operator">+</span> i   <span class="token comment">// 指定菜单项dom的id</span>
	        <span class="token punctuation">}</span>
	    <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	map<span class="token punctuation">.</span><span class="token function">addContextMenu</span><span class="token punctuation">(</span>menu<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 给地图添加右键菜单</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="4_273"></a>4、小结</h2> 
<ol><li>获取指定位置的经纬坐标：<a href="http://api.map.baidu.com/lbsapi/getpoint/index.html" rel="nofollow">点击这里可以跳转到百度获取经纬坐标网页。</a></li><li>查看百度地图API参考类：<a href="https://mapopen-pub-jsapi.bj.bcebos.com/jsapi/reference/jsapi_webgl_1_0.html" rel="nofollow">点击这里可以跳转到百度地图API参考文档</a></li><li>查看百度地图开发指南：<a href="https://lbsyun.baidu.com/index.php?title=jspopularGL/guide/geocoding" rel="nofollow">点击这里可以跳转到百度地图开发指南</a></li></ol>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/a1cc5fb66f4b003be62be8e705b94f65/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【2024大数据专业毕业设计必过选题】100个大数据专业毕设选题免费详细讲解，大数据毕业生必看毕设选题、创新点，hadoop/spark/hive/实时数据分析选题指导</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a3608a4e037d97b13aeffdd84689b8d2/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">全网最详细的TVBOX带会员版二开图文教程：一、tvbox如意前端后台搭建教程；二、tvbox后台配置教程；三、tvbox源码Android Studio配置修改教程；四、tvbox源码as打包教程</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>