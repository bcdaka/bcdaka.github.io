<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>SpringBoot和Axios数据的传递和接收-Restful完全版 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/33fdb97d66bfb6f6590cd0e58ddce7b3/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="SpringBoot和Axios数据的传递和接收-Restful完全版">
  <meta property="og:description" content="文章目录 一、基础知识铺垫Axios使用HTTP请求方式数据传输方式SpringBoot获取数据的方式 二、基础传递代码示例（一）Path Variables（二）Get、Delete@RequestParam@ModelAttribute （三）Post、Put、Patch@RequestBody 三、稍微复杂一点的传递（一）数组（二）GET/POST复合型 四、特殊数据（一）文件（二）Cookies 一、基础知识铺垫 Axios使用 使用axios发送请求，一般有三个最常用的属性。
属性含义url请求的端点 URL。methodHTTP 请求方法（如 get, post, put, delete, patch 等）。params / data如果 method 是 get 或 delete，使用 params 来传递 URL 查询参数。如果是 post, put, patch，则使用 data 传递请求体数据。通常是一个对象 {}。 HTTP请求方式 Restful风格定义了多种请求方式。
方式简介常用场景GET请求指定的资源。通常用来获取或查询资源。读取或查询资源，如获取用户列表或特定用户的详细信息。POST向指定资源提交数据，请求服务器进行处理（如创建或修改）。数据包含在请求体中。创建新资源（如新用户、新帖子），或提交用户数据表单。PUT用请求体中的数据替换目标资源的所有当前表示。更新现有资源的全部内容，如编辑用户的完整个人信息。PATCH对资源应用部分修改。更新资源的一部分，如修改用户的邮箱地址或密码。DELETE删除指定的资源。删除资源，如删除用户账户或帖子。 数据传输方式 方式介绍URL路径参数（Path Variables）通过 URL 的路径部分传递数据。在 Spring Boot 中使用 @PathVariable 注解获取。适用于 RESTful 风格的 API，例如获取特定资源的详情。查询参数（Query Parameters）通过 URL 的查询字符串（?key=value 形式）传递数据。在 Spring Boot 中使用 @RequestParam 注解获取。适用于 GET 和 DELETE 请求。请求体（Request Body）通过 HTTP 请求的 body 部分传递数据。在 Spring Boot 中使用 @RequestBody 注解获取。适用于 POST , PUT 和 PATCH请求，发送复杂的数据结构。 SpringBoot获取数据的方式 需要提及的是，单单从“获取数据”的角度，我们可以把Delete和Get归为一类，把Put、Patch、Post归为一类。">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-04-17T11:39:58+08:00">
    <meta property="article:modified_time" content="2024-04-17T11:39:58+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">SpringBoot和Axios数据的传递和接收-Restful完全版</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#_1" rel="nofollow">一、基础知识铺垫</a></li><li><ul><li><ul><li><a href="#Axios_2" rel="nofollow">Axios使用</a></li><li><a href="#HTTP_11" rel="nofollow">HTTP请求方式</a></li><li><a href="#_20" rel="nofollow">数据传输方式</a></li><li><a href="#SpringBoot_27" rel="nofollow">SpringBoot获取数据的方式</a></li></ul> 
  </li></ul> 
  </li><li><a href="#_42" rel="nofollow">二、基础传递代码示例</a></li><li><ul><li><a href="#Path_Variables_44" rel="nofollow">（一）Path Variables</a></li><li><a href="#GetDelete_75" rel="nofollow">（二）Get、Delete</a></li><li><ul><li><a href="#RequestParam_76" rel="nofollow">@RequestParam</a></li><li><a href="#ModelAttribute_94" rel="nofollow">@ModelAttribute</a></li></ul> 
   </li><li><a href="#PostPutPatch_149" rel="nofollow">（三）Post、Put、Patch</a></li><li><ul><li><a href="#RequestBody_150" rel="nofollow">@RequestBody</a></li></ul> 
  </li></ul> 
  </li><li><a href="#_252" rel="nofollow">三、稍微复杂一点的传递</a></li><li><ul><li><a href="#_253" rel="nofollow">（一）数组</a></li><li><a href="#GETPOST_333" rel="nofollow">（二）GET/POST复合型</a></li></ul> 
  </li><li><a href="#_366" rel="nofollow">四、特殊数据</a></li><li><ul><li><a href="#_367" rel="nofollow">（一）文件</a></li><li><a href="#Cookies_460" rel="nofollow">（二）Cookies</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="_1"></a>一、基础知识铺垫</h2> 
<h4><a id="Axios_2"></a>Axios使用</h4> 
<p>使用axios发送请求，一般有三个最常用的属性。</p> 
<table><thead><tr><th>属性</th><th>含义</th></tr></thead><tbody><tr><td><code>url</code></td><td>请求的端点 <code>URL</code>。</td></tr><tr><td><code>method</code></td><td><code>HTTP</code> 请求方法（如 <code>get</code>, <code>post</code>, <code>put</code>, <code>delete</code>, <code>patch</code> 等）。</td></tr><tr><td><code>params</code> / <code>data</code></td><td>如果 <code>method</code> 是 <code>get</code> 或 <code>delete</code>，使用 <code>params</code> 来传递 <code>URL</code> 查询参数。如果是 <code>post</code>, <code>put</code>, <code>patch</code>，则使用 <code>data</code> 传递请求体数据。通常是一个对象 {}。</td></tr></tbody></table> 
<h4><a id="HTTP_11"></a>HTTP请求方式</h4> 
<p><code>Restful</code>风格定义了多种请求方式。</p> 
<table><thead><tr><th>方式</th><th>简介</th><th>常用场景</th></tr></thead><tbody><tr><td><code>GET</code></td><td>请求指定的资源。通常用来获取或查询资源。</td><td>读取或查询资源，如获取用户列表或特定用户的详细信息。</td></tr><tr><td><code>POST</code></td><td>向指定资源提交数据，请求服务器进行处理（如创建或修改）。数据包含在请求体中。</td><td>创建新资源（如新用户、新帖子），或提交用户数据表单。</td></tr><tr><td><code>PUT</code></td><td>用请求体中的数据替换目标资源的所有当前表示。</td><td>更新现有资源的全部内容，如编辑用户的完整个人信息。</td></tr><tr><td><code>PATCH</code></td><td>对资源应用部分修改。</td><td>更新资源的一部分，如修改用户的邮箱地址或密码。</td></tr><tr><td><code>DELETE</code></td><td>删除指定的资源。</td><td>删除资源，如删除用户账户或帖子。</td></tr></tbody></table> 
<h4><a id="_20"></a>数据传输方式</h4> 
<table><thead><tr><th>方式</th><th>介绍</th></tr></thead><tbody><tr><td>URL路径参数（<code>Path Variables</code>）</td><td>通过 <code>URL</code> 的路径部分传递数据。在 <code>Spring Boot</code> 中使用 <code>@PathVariable</code> 注解获取。适用于 <code>RESTful</code> 风格的 <code>API</code>，例如获取特定资源的详情。</td></tr><tr><td>查询参数（<code>Query Parameters</code>）</td><td>通过 <code>URL</code> 的查询字符串（?key=value 形式）传递数据。在 <code>Spring Boot</code> 中使用 <code>@RequestParam</code> 注解获取。适用于 <code>GET</code> 和 <code>DELETE</code> 请求。</td></tr><tr><td>请求体（<code>Request Body</code>）</td><td>通过 <code>HTTP</code> 请求的 <code>body</code> 部分传递数据。在 <code>Spring Boot</code> 中使用 <code>@RequestBody</code> 注解获取。适用于 <code>POST</code> , <code>PUT</code> 和 <code>PATCH</code>请求，发送复杂的数据结构。</td></tr></tbody></table> 
<h4><a id="SpringBoot_27"></a>SpringBoot获取数据的方式</h4> 
<p>需要提及的是，单单从“获取数据”的角度，我们可以把<code>Delete</code>和<code>Get</code>归为一类，把<code>Put</code>、<code>Patch</code>、<code>Post</code>归为一类。</p> 
<ul><li>前者在<code>axios</code>中使用<code>params</code>传递参数，属于<code>Query Parameters</code>。</li><li>后者在<code>axios</code>中使用<code>data</code>传递参数，属于<code>Request Body</code>。</li><li>无论是哪一种，都可以有<code>Path Variables</code>。</li></ul> 
<blockquote> 
 <p>在 Spring Boot（及一般的 HTTP 服务开发）中，将请求分为“GET 体系”和“POST 体系”可能会导致一些混淆，因为每种 HTTP 方法（GET、POST、PUT、PATCH、DELETE 等）都设计有其独特的用途和语义。不过，如果我们从“如何获取请求中的数据”这个角度来看，可以有一种比较宽泛的分类方式，尤其是关注于数据是通过 URL 还是请求体传递。</p> 
</blockquote> 
<table><thead><tr><th>体系</th><th>获取数据的常用注解</th></tr></thead><tbody><tr><td>Path Variables</td><td><code>@PathVariable</code></td></tr><tr><td>Get、Delete类</td><td><code>@RequestParam</code>、<code>@ModelAttribute</code></td></tr><tr><td>Post、Put、Patch类</td><td><code>@RequestBody</code></td></tr></tbody></table> 
<h2><a id="_42"></a>二、基础传递代码示例</h2> 
<p>除了特殊的数据类型，普通的数据传递，默认以<code>axios.defaults.headers['Content-Type'] = 'application/json;charset=utf-8';</code>为策略。</p> 
<h3><a id="Path_Variables_44"></a>（一）Path Variables</h3> 
<p><code>Path Variables</code>数据在<code>url</code>上，无关乎<code>get</code>还是<code>post</code>。</p> 
<pre><code class="prism language-javascript"><span class="token keyword">return</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">'/test/users/123'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'get'</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token keyword">return</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">'/test/users/345/info'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'post'</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/test"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CourseTestController</span> <span class="token punctuation">{<!-- --></span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/users/{userId}"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getUser</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span> <span class="token class-name">String</span> userId<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token string">"Received GET request for User ID: "</span> <span class="token operator">+</span> userId<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">"/users/{userId}/info"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">updateUser</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span> <span class="token class-name">String</span> userId<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token string">"Received POST request for User ID: "</span> <span class="token operator">+</span> userId<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="GetDelete_75"></a>（二）Get、Delete</h3> 
<h4><a id="RequestParam_76"></a>@RequestParam</h4> 
<p><code>@RequestParam</code> 主要用于将<code>单个请求参数</code>绑定到方法的参数上，通过指定 <code>value</code> 或 <code>name</code> 属性，你可以明确告诉 <code>Spring Boot</code> 请求参数的实际名称。</p> 
<pre><code class="prism language-javascript"><span class="token keyword">return</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">'/users'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'get'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">params</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">type</span><span class="token operator">:</span><span class="token string">"1"</span><span class="token punctuation">,</span>
      <span class="token literal-property property">status</span><span class="token operator">:</span><span class="token string">"2"</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<pre><code class="prism language-java">	<span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/users"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getUser</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span> <span class="token class-name">String</span> type<span class="token punctuation">,</span> <span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"status"</span><span class="token punctuation">)</span> <span class="token class-name">String</span> userStatus<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token string">"Received GET request for"</span> <span class="token operator">+</span> type <span class="token operator">+</span> <span class="token string">" "</span> <span class="token operator">+</span> userStatus<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre> 
<h4><a id="ModelAttribute_94"></a>@ModelAttribute</h4> 
<p>利用 <code>@ModelAttribute</code> 注解。这个注解会告诉 <code>Spring Boot</code>，应该将请求中的查询参数自动绑定到方法参数对象的属性上。</p> 
<pre><code class="prism language-javascript"><span class="token keyword">return</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">'/users'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'get'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">params</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">type</span><span class="token operator">:</span><span class="token string">"1"</span><span class="token punctuation">,</span>
      <span class="token literal-property property">status</span><span class="token operator">:</span><span class="token string">"2"</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<pre><code class="prism language-java">	<span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/users"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getUser</span><span class="token punctuation">(</span><span class="token annotation punctuation">@ModelAttribute</span> <span class="token class-name">Query</span> query<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token string">"Received GET request for"</span> <span class="token operator">+</span> query<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
	<span class="token annotation punctuation">@Data</span>
	<span class="token keyword">class</span> <span class="token class-name">Query</span><span class="token punctuation">{<!-- --></span>
	    <span class="token class-name">String</span> type<span class="token punctuation">;</span>
	    <span class="token class-name">String</span> status<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
</code></pre> 
<p>通常情况下，我们会将所有的查询参数封装到一个对象中，而不是分开为两个对象，除非这<code>两个对象在逻辑上代表着完全不同的东西</code>，且您希望显式地区分它们。如果您确实有特定的理由需要这样做，也是可行的。比如第二个<code>Query2</code>表示<code>分页查询时的分页参数</code>。</p> 
<pre><code class="prism language-javascript"><span class="token keyword">return</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">'/users'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'delete'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">params</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">type</span><span class="token operator">:</span><span class="token string">"1"</span><span class="token punctuation">,</span>
      <span class="token literal-property property">status</span><span class="token operator">:</span><span class="token string">"2"</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<pre><code class="prism language-java">	<span class="token annotation punctuation">@DeleteMapping</span><span class="token punctuation">(</span><span class="token string">"/users"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">deleteUser</span><span class="token punctuation">(</span><span class="token annotation punctuation">@ModelAttribute</span> <span class="token class-name">Query1</span> query1<span class="token punctuation">,</span> <span class="token annotation punctuation">@ModelAttribute</span> <span class="token class-name">Query2</span> query2<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token string">"Received GET request for"</span> <span class="token operator">+</span> query1<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> query2<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
	<span class="token annotation punctuation">@Data</span>
	<span class="token keyword">class</span> <span class="token class-name">Query1</span><span class="token punctuation">{<!-- --></span>
	    <span class="token class-name">String</span> type<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token annotation punctuation">@Data</span>
	<span class="token keyword">class</span> <span class="token class-name">Query2</span><span class="token punctuation">{<!-- --></span>
    <span class="token class-name">String</span> userStatus<span class="token punctuation">;</span>
    <span class="token comment">// 如果您希望整个对象通过 @ModelAttribute 来绑定，同时又有个别属性名不匹配</span>
    <span class="token comment">// 您可以在后端对象中添加 setter 方法，并在其中处理名称不匹配的问题</span>
    <span class="token comment">// 注意：Lombok @Data 注解会生成默认的 setter 方法，</span>
    <span class="token comment">// 所以如果使用 Lombok，您需要手动添加一个额外的 setter 方法来处理不匹配的情况</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setStatus</span><span class="token punctuation">(</span><span class="token class-name">String</span> status<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>userStatus <span class="token operator">=</span> status<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="PostPutPatch_149"></a>（三）Post、Put、Patch</h3> 
<h4><a id="RequestBody_150"></a>@RequestBody</h4> 
<pre><code class="prism language-javascript"><span class="token keyword">return</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">'/users'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'post'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">data</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">userId</span><span class="token operator">:</span> <span class="token number">123</span><span class="token punctuation">,</span>
      <span class="token literal-property property">userName</span><span class="token operator">:</span> <span class="token string">"John Doe"</span><span class="token punctuation">,</span>
      <span class="token literal-property property">userAge</span><span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span>
      <span class="token literal-property property">userSex</span><span class="token operator">:</span> <span class="token string">"Male"</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<pre><code class="prism language-java">    <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">"/users"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getUser</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">UserVo</span> userVo<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> userVo<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
	<span class="token annotation punctuation">@Data</span>
	<span class="token keyword">class</span> <span class="token class-name">UserVo</span><span class="token punctuation">{<!-- --></span>
	    <span class="token class-name">Long</span> userId<span class="token punctuation">;</span>
	    <span class="token class-name">String</span> userName<span class="token punctuation">;</span>
	    <span class="token class-name">Long</span> userAge<span class="token punctuation">;</span>
	    <span class="token class-name">String</span> userSex<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
</code></pre> 
<p>当 <code>Spring Boot</code> 后端的 <code>UserVo</code> 类中的属性名和前端传递的 <code>JSON</code> 对象的键名不一致时，可以使用<code>@JsonProperty</code>。</p> 
<pre><code class="prism language-javascript"><span class="token keyword">return</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">'/users'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'put'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">data</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">userId</span><span class="token operator">:</span> <span class="token number">123</span><span class="token punctuation">,</span>
      <span class="token literal-property property">userName</span><span class="token operator">:</span> <span class="token string">"John Doe"</span><span class="token punctuation">,</span>
      <span class="token literal-property property">userAge</span><span class="token operator">:</span> <span class="token number">32</span><span class="token punctuation">,</span>
      <span class="token literal-property property">userSex</span><span class="token operator">:</span> <span class="token string">"Male"</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<pre><code class="prism language-java">    <span class="token annotation punctuation">@PutMapping</span><span class="token punctuation">(</span><span class="token string">"/users"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getUser</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">UserVo</span> userVo<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> userVo<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
	<span class="token annotation punctuation">@Data</span>
	<span class="token keyword">class</span> <span class="token class-name">UserVo</span><span class="token punctuation">{<!-- --></span>
	    <span class="token class-name">Long</span> userId<span class="token punctuation">;</span>
	    <span class="token annotation punctuation">@JsonProperty</span><span class="token punctuation">(</span><span class="token string">"userName"</span><span class="token punctuation">)</span>
	    <span class="token class-name">String</span> name<span class="token punctuation">;</span>
	    <span class="token class-name">Long</span> userAge<span class="token punctuation">;</span>
	    <span class="token class-name">String</span> userSex<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
</code></pre> 
<pre><code class="prism language-javascript"><span class="token keyword">return</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">'/users'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'patch'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">data</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">userId</span><span class="token operator">:</span> <span class="token number">123</span><span class="token punctuation">,</span>
      <span class="token literal-property property">userAge</span><span class="token operator">:</span> <span class="token number">34</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<pre><code class="prism language-java">    <span class="token annotation punctuation">@PatchMapping</span><span class="token punctuation">(</span><span class="token string">"/users"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getUser</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">UserVo</span> userVo<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> userVo<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
	<span class="token annotation punctuation">@Data</span>
	<span class="token keyword">class</span> <span class="token class-name">UserVo</span><span class="token punctuation">{<!-- --></span>
	    <span class="token class-name">Long</span> userId<span class="token punctuation">;</span>
	    <span class="token annotation punctuation">@JsonProperty</span><span class="token punctuation">(</span><span class="token string">"userName"</span><span class="token punctuation">)</span>
	    <span class="token class-name">String</span> name<span class="token punctuation">;</span>
	    <span class="token class-name">Long</span> userAge<span class="token punctuation">;</span>
	    <span class="token class-name">String</span> userSex<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
</code></pre> 
<p>如果你不想额外写一个类作为<code>@RequestBody</code>的参数，你可以选择使用<code>Map</code>或者<code>JsonNode</code>。</p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@PutMapping</span><span class="token punctuation">(</span><span class="token string">"/users"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">R</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Boolean</span><span class="token punctuation">&gt;</span></span> <span class="token function">getUser</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> body<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token class-name">Long</span> id <span class="token operator">=</span> <span class="token class-name">Long</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>body<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"userId"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> mind <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span> body<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 业务逻辑</span>
<span class="token punctuation">}</span>
</code></pre> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@PutMapping</span><span class="token punctuation">(</span><span class="token string">"/users"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">R</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Boolean</span><span class="token punctuation">&gt;</span></span> <span class="token function">getUser</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">JsonNode</span> body<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token class-name">Long</span> id <span class="token operator">=</span> body<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"userId"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">asLong</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> mind <span class="token operator">=</span> body<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">asText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 业务逻辑</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="_252"></a>三、稍微复杂一点的传递</h2> 
<h3><a id="_253"></a>（一）数组</h3> 
<p>如果用的是<code>Post</code>，那么一般一切安好。</p> 
<pre><code class="prism language-javascript"><span class="token keyword">return</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">'/users'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'post'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">data</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">userId</span><span class="token operator">:</span> <span class="token number">123</span><span class="token punctuation">,</span>
      <span class="token literal-property property">userOrder</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'1223'</span><span class="token punctuation">,</span> <span class="token string">'3445'</span><span class="token punctuation">,</span> <span class="token string">'556'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<pre><code class="prism language-java">    <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">"/users"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getUser</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">UserVo</span> userVo<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> userVo<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
	<span class="token annotation punctuation">@Data</span>
	<span class="token keyword">class</span> <span class="token class-name">UserVo</span><span class="token punctuation">{<!-- --></span>
	    <span class="token class-name">Long</span> userId<span class="token punctuation">;</span>
	    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> userOrder<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
</code></pre> 
<p>如果用的是<code>Get</code>，就需要注意默认情况下，Spring Boot 期望列表或数组类型的查询参数以特定的格式传递，例如：<code>userOrder=1223&amp;userOrder=3445&amp;userOrder=556</code>。但在你的例子中，由于是通过 axios 发送请求，并且当你在请求的 params 中包含一个数组时，axios 会将数组转换为 <code>userOrder[0]=1223&amp;userOrder[1]=3445&amp;userOrder[2]=556</code> 的格式，这与 Spring Boot 的默认<code>期望不匹配</code>。</p> 
<pre><code class="prism language-javascript"><span class="token keyword">return</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">'/users'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'get'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">params</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">userId</span><span class="token operator">:</span> <span class="token number">123</span><span class="token punctuation">,</span>
      <span class="token literal-property property">userOrder</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'1223'</span><span class="token punctuation">,</span> <span class="token string">'3445'</span><span class="token punctuation">,</span> <span class="token string">'556'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">','</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<pre><code class="prism language-java">	<span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/users"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getUser</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span> <span class="token class-name">String</span> userId<span class="token punctuation">,</span> <span class="token annotation punctuation">@RequestParam</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> userOrder<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> userId <span class="token operator">+</span> <span class="token string">"\n"</span> <span class="token operator">+</span> userOrder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre> 
<p>对于数组元素是简单类型，直接用字符’,'拼接即可，变成<code>userOrder=1223,3445,556</code>，Springboot也能匹配。或者可以去参考<code>qs.stringify</code>也就是<code>qs</code>库的用法。</p> 
<p>如果数组元素比较复杂呢？如果你仍然坚持使用<code>get</code>，建议去阅读<code>qs</code>使用。一般的做法是用<code>post</code>，可以省去很多麻烦。</p> 
<pre><code class="prism language-javascript"><span class="token keyword">return</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">'/users'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'post'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">data</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">userId</span><span class="token operator">:</span> <span class="token number">123</span><span class="token punctuation">,</span>
      <span class="token literal-property property">userOrder</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">'1223'</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Order1'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">'3445'</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Order2'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">'556'</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Order3'</span> <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<pre><code class="prism language-java">    <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">"/users"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getUser</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">UserVo</span> userVo<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> userVo<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
	<span class="token annotation punctuation">@Data</span>
	<span class="token keyword">class</span> <span class="token class-name">UserVo</span><span class="token punctuation">{<!-- --></span>
	    <span class="token class-name">Long</span> userId<span class="token punctuation">;</span>
	    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Item</span><span class="token punctuation">&gt;</span></span> userOrder<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token annotation punctuation">@Data</span>
	<span class="token keyword">class</span> <span class="token class-name">Item</span><span class="token punctuation">{<!-- --></span>
	    <span class="token class-name">String</span> id<span class="token punctuation">;</span>
	    <span class="token class-name">String</span> name<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="GETPOST_333"></a>（二）GET/POST复合型</h3> 
<p>对于复合型请求，即在<code>URL</code>中通过查询参数（例如分页信息）传递部分数据，同时在请求体中通过<code>JSON</code>传递更复杂的数据（例如筛选条件），<code>Spring Boot</code>可以通过同时使用<code>@RequestParam</code>和<code>@RequestBody</code>注解来接收这两种类型的数据。</p> 
<pre><code class="prism language-javascript"><span class="token keyword">const</span> pageParams <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">page</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token literal-property property">size</span><span class="token operator">:</span> <span class="token number">10</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/users?page=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>pageParams<span class="token punctuation">.</span>page<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&amp;size=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>pageParams<span class="token punctuation">.</span>size<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'post'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">data</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">userId</span><span class="token operator">:</span> <span class="token number">123</span><span class="token punctuation">,</span>
      <span class="token literal-property property">userName</span><span class="token operator">:</span> <span class="token string">"Jack"</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<pre><code class="prism language-java">    <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">"/users"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getUser</span><span class="token punctuation">(</span>
        <span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">UserVo</span> userVo<span class="token punctuation">,</span>
        <span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span><span class="token string">"page"</span><span class="token punctuation">)</span> <span class="token keyword">int</span> page<span class="token punctuation">,</span>
        <span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span><span class="token string">"size"</span><span class="token punctuation">)</span> <span class="token keyword">int</span> size
    <span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> userVo<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
	<span class="token annotation punctuation">@Data</span>
	<span class="token keyword">class</span> <span class="token class-name">UserVo</span><span class="token punctuation">{<!-- --></span>
	    <span class="token class-name">Long</span> userId<span class="token punctuation">;</span>
	    <span class="token class-name">String</span> userName<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="_366"></a>四、特殊数据</h2> 
<h3><a id="_367"></a>（一）文件</h3> 
<p>上传文件时，使用的 <code>Content-Type</code> 通常是 <code>multipart/form-data</code>。这种类型允许将请求体中的数据作为一系列部分（parts）发送，每个部分可以包含文件内容或其他数据。这种方式非常适合文件上传，因为它支持在单个请求中发送<code>文件数据及其他表单字段</code>。</p> 
<pre><code class="prism language-javascript"><span class="token keyword">const</span> formData <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FormData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
formData<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'file'</span><span class="token punctuation">,</span> file<span class="token punctuation">)</span><span class="token punctuation">;</span>
formData<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'filename'</span><span class="token punctuation">,</span> file<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
formData<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'chunkIndex'</span><span class="token punctuation">,</span> i<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
formData<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'totalChunks'</span><span class="token punctuation">,</span> totalChunks<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
formData<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'md5'</span><span class="token punctuation">,</span> md5<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> rsp <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">addChunk</span><span class="token punctuation">(</span>formData<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">addChunk</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">data</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">return</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">'/video/chunk'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'post'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">data</span><span class="token operator">:</span> data
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<pre><code class="prism language-java">	<span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/video/chunk"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">R</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">handleChunkUpload</span><span class="token punctuation">(</span>
        <span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span><span class="token string">"file"</span><span class="token punctuation">)</span> <span class="token class-name">MultipartFile</span> file<span class="token punctuation">,</span>
        <span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span><span class="token string">"md5"</span><span class="token punctuation">)</span> <span class="token class-name">String</span> md5<span class="token punctuation">,</span>
        <span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span><span class="token string">"filename"</span><span class="token punctuation">)</span> <span class="token class-name">String</span> filename<span class="token punctuation">,</span>
        <span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span><span class="token string">"chunkIndex"</span><span class="token punctuation">)</span> <span class="token keyword">int</span> chunkIndex<span class="token punctuation">,</span>
        <span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span><span class="token string">"totalChunks"</span><span class="token punctuation">)</span> <span class="token keyword">int</span> totalChunks<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">ObjectUtil</span><span class="token punctuation">.</span><span class="token function">isNull</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> <span class="token class-name">R</span><span class="token punctuation">.</span><span class="token function">fail</span><span class="token punctuation">(</span><span class="token string">"上传文件不能为空"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">Boolean</span> b <span class="token operator">=</span> mediaFilesService<span class="token punctuation">.</span><span class="token function">handleChunkUpload</span><span class="token punctuation">(</span>file<span class="token punctuation">,</span> md5<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> <span class="token class-name">R</span><span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> <span class="token class-name">R</span><span class="token punctuation">.</span><span class="token function">fail</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre> 
<p>在 <code>Vue 3</code> 的框架 <code>Element Plus</code>中，<code>el-upload</code> 组件用于文件上传，它底层使用的也是 <code>multipart/form-data</code> 这种 Content-Type 来上传文件。这是因为 <code>multipart/form-data</code> 允许在一个请求中发送多部分数据，包括文本字段和文件，非常适合文件上传的场景</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-upload</span>
    <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://example.com/upload<span class="token punctuation">"</span></span>
    <span class="token attr-name">:data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>extraData<span class="token punctuation">"</span></span>
    <span class="token attr-name">:on-success</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>handleSuccess<span class="token punctuation">"</span></span>
    <span class="token attr-name">:on-error</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>handleError<span class="token punctuation">"</span></span>
  <span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>small<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>primary<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>点击上传<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-upload</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> ElMessage <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'element-plus'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token punctuation">;</span>

<span class="token comment">// 额外数据</span>
<span class="token keyword">const</span> extraData <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">userId</span><span class="token operator">:</span> <span class="token string">"123"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">description</span><span class="token operator">:</span> <span class="token string">"这是一个文件描述"</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">handleSuccess</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">response<span class="token punctuation">,</span> file<span class="token punctuation">,</span> fileList</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  <span class="token comment">// 文件上传成功的回调</span>
  ElMessage<span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token string">'文件上传成功'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">handleError</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> file<span class="token punctuation">,</span> fileList</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  <span class="token comment">// 文件上传失败的回调</span>
  ElMessage<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'文件上传失败'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

</code></pre> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FileUploadController</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">"/upload"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">handleFileUpload</span><span class="token punctuation">(</span>
            <span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span><span class="token string">"file"</span><span class="token punctuation">)</span> <span class="token class-name">MultipartFile</span> file<span class="token punctuation">,</span>
            <span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span><span class="token string">"userId"</span><span class="token punctuation">)</span> <span class="token class-name">String</span> userId<span class="token punctuation">,</span>
            <span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span><span class="token string">"description"</span><span class="token punctuation">)</span> <span class="token class-name">String</span> description<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token string">"文件上传成功，用户ID: "</span> <span class="token operator">+</span> userId <span class="token operator">+</span> <span class="token string">"，描述: "</span> <span class="token operator">+</span> description<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="Cookies_460"></a>（二）Cookies</h3> 
<p><code>cookies</code>的传递和获取和<code>Path Variables</code>一样也无关乎<code>get</code>和<code>post</code>。</p> 
<pre><code class="prism language-javascript">document<span class="token punctuation">.</span>cookie <span class="token operator">=</span> <span class="token string">"exampleCookie=exampleValue; path=/;"</span><span class="token punctuation">;</span>
<span class="token comment">// 输出当前域下的所有 Cookies</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Current cookies:"</span><span class="token punctuation">,</span> document<span class="token punctuation">.</span>cookie<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">return</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
   <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">'/users'</span><span class="token punctuation">,</span>
   <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'get'</span><span class="token punctuation">,</span>
   <span class="token literal-property property">withCredentials</span><span class="token operator">:</span><span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<pre><code class="prism language-java">	<span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/users"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getUser</span><span class="token punctuation">(</span><span class="token annotation punctuation">@CookieValue</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"exampleCookie"</span><span class="token punctuation">,</span> defaultValue <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">)</span> <span class="token class-name">String</span> exampleCookie<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> exampleCookie<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre> 
<p>在这个示例中，用于从接收到的请求中提取名为 <code>exampleCookie</code>的 Cookie 值。如果请求中没有 exampleCookie Cookie，<code>defaultValue</code>指定的默认值 ""会被使用。</p> 
<p><img src="https://images2.imgbox.com/d5/b4/qBcWN5jQ_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ba08b66a13d3655255d5d542a23b0bd8/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">使用Java&#43;Qwen&#43;SearXNG构建本地AI搜索问答</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/9a55eedf8ea247f47fa9655b6d0a9c18/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">二叉树详解(深度优先遍历、前序，中序，后序、广度优先遍历、二叉树所有节点的个数、叶节点的个数)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>