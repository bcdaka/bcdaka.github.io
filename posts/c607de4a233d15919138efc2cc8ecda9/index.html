<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>详解SkyWalking前端监控的性能指标 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/c607de4a233d15919138efc2cc8ecda9/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="详解SkyWalking前端监控的性能指标">
  <meta property="og:description" content="SkyWalking 从8.2.0版本开始支持对前端浏览器端的性能进行监控，不仅可以像以前一样监控浏览器发送给后端服务的与请求，还能看到前端的渲染速度、错误日志等信息——这些信息是获取最终用户体验的最有效指标。实现的方式是引入skywalking-client-js库，这是一个 skywalking 官方出品的一个前端埋点上报插件，支持React, Angular, Vue框架。它有如下功能：
提供指标和错误收集到SkyWalking后端。
轻量级的。一个简单的JavaScript库。不需要浏览器插件。
浏览器作为整个分布式跟踪系统的起点。
skywalking-client-js本质 浏览器端的监控其实也是在前端代码里插入一个js的agent，和后台代码的接入一样。Skywalking-client-js 将错误数据跟踪到 OAP 服务器，最终在 UI 端可视化数据。
Browser监控入口 详解Browser-App 监控页面 对于应用程序的错误概述，有几个基本统计信息和错误趋势的指标，包括以下指标。
App Error Count, 应用错误计数，所选时间段内的错误总数。
App JS Error Rate ，应用JS 错误率，选定时间段内出现 JS 错误的 PV 占总 PV 的比例。
All of Apps Error Count, 所有应用错误计数，前 N 个应用错误计数排名。
All of Apps JS Error Rate，所有应用JS错误率，前N个应用JS错误率排名。
Error Count of Versions in the Selected App，所选应用中版本的错误计数，所选应用排名中版本的前 N 个错误计数。
Error Rate of Versions in the Selected App，所选应用中版本的错误率，所选应用中版本排名前 N 名的 JS 错误率。">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-02-04T08:46:21+08:00">
    <meta property="article:modified_time" content="2024-02-04T08:46:21+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">详解SkyWalking前端监控的性能指标</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>SkyWalking 从8.2.0版本开始支持对前端浏览器端的性能进行监控，不仅可以像以前一样监控浏览器发送给后端服务的与请求，还能看到前端的渲染速度、错误日志等信息——这些信息是获取最终用户体验的最有效指标。实现的方式是引入<code>skywalking-client-js</code>库，这是一个 skywalking 官方出品的一个前端埋点上报插件，支持React, Angular, Vue框架。它有如下功能：</p> 
<ul><li> <p>提供指标和错误收集到SkyWalking后端。</p> </li><li> <p>轻量级的。一个简单的JavaScript库。不需要浏览器插件。</p> </li><li> <p>浏览器作为整个分布式跟踪系统的起点。</p> </li></ul> 
<h2><code>skywalking-client-js</code>本质</h2> 
<p>浏览器端的监控其实也是在前端代码里插入一个js的agent，和后台代码的接入一样。Skywalking-client-js 将错误数据跟踪到 OAP 服务器，最终在 UI 端可视化数据。</p> 
<h2>Browser监控入口</h2> 
<p><img alt="" height="714" src="https://images2.imgbox.com/45/36/LSxxdmCS_o.png" width="222"></p> 
<h2>详解Browser-App 监控页面</h2> 
<p><img alt="" height="709" src="https://images2.imgbox.com/e3/70/haWcPJrk_o.png" width="1200"></p> 
<p>对于应用程序的错误概述，有几个基本统计信息和错误趋势的指标，包括以下指标。</p> 
<ul><li> <p>App Error Count, 应用错误计数，所选时间段内的错误总数。</p> </li><li> <p>App JS Error Rate ，应用JS 错误率，选定时间段内出现 JS 错误的 PV 占总 PV 的比例。</p> </li><li> <p>All of Apps Error Count, 所有应用错误计数，前 N 个应用错误计数排名。</p> </li><li> <p>All of Apps JS Error Rate，所有应用JS错误率，前N个应用JS错误率排名。</p> </li><li> <p>Error Count of Versions in the Selected App，所选应用中版本的错误计数，所选应用排名中版本的前 N 个错误计数。</p> </li><li> <p>Error Rate of Versions in the Selected App，所选应用中版本的错误率，所选应用中版本排名前 N 名的 JS 错误率。</p> </li><li> <p>Error Count of the Selected App，所选应用的错误计数，所选应用排名的前 N 个错误计数。</p> </li><li> <p>Error Rate of the Selected App，所选应用的错误率，所选应用排名的前 N 个 JS 错误率。</p> </li></ul> 
<p></p> 
<h2>详解Browser-App 监控页面</h2> 
<p><img alt="" height="694" src="https://images2.imgbox.com/2e/71/em6RDLdl_o.png" width="1200"></p> 
<ul><li style="text-align:left;"><span style="background-color:#ffffff;"><span style="color:#2c3e50;">Page Error Count Layout：页面不同类型错误统计，包括resource_error_sum、js_error_sum、unknown_error_sum 和ajax_error_sum 这几个指标不多做解释，太简单了。</span></span></li><li style="text-align:left;"><span style="background-color:#ffffff;"><span style="color:#2c3e50;">Page Performance ：页面性能概要统计，包括res_avg、load_page_avg、trans_avg、fpt_avg、dom_analysis_avg、dns_avg、dom_ready_avg</span></span>、<span style="background-color:#ffffff;"><span style="color:#2c3e50;">redirect_avg</span><span style="color:#2c3e50;">、</span><span style="color:#2c3e50;">tcp_avg</span><span style="color:#2c3e50;">、</span><span style="color:#2c3e50;">ttfb_avg，具体参数含义大家自行对照下表即可：</span></span></li></ul> 
<table border="1" cellspacing="0" style="margin-left:2.4pt;width:521.95pt;"><tbody><tr><td style="background-color:#ffffff;"> <p style="margin-left:.0001pt;text-align:center;"><strong><span style="color:#2c3e50;">Metrics Name</span></strong></p> </td><td style="background-color:#ffffff;width:86.65pt;"> <p style="margin-left:.0001pt;text-align:center;"><strong><span style="color:#2c3e50;">Describe</span></strong></p> </td><td style="background-color:#ffffff;width:213px;"> <p style="margin-left:.0001pt;text-align:center;"><strong><span style="color:#2c3e50;">Calculating Formulae</span></strong></p> </td><td style="background-color:#ffffff;width:245px;"> <p style="margin-left:.0001pt;text-align:center;"><strong><span style="color:#2c3e50;">Note</span></strong></p> </td></tr><tr><td style="background-color:#ffffff;border-color:#dfe2e5;"> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#2c3e50;">redirectTime</span></p> </td><td style="background-color:#ffffff;width:86.65pt;"> <p style="margin-left:.0001pt;text-align:justify;"><span style="color:#2c3e50;">Page redirection time</span></p> </td><td style="background-color:#ffffff;width:213px;"> <p style="margin-left:.0001pt;text-align:justify;"><span style="color:#2c3e50;">redirectEnd - redirectStart</span></p> </td><td style="background-color:#ffffff;width:245px;"> <p style="margin-left:.0001pt;text-align:justify;"><span style="color:#2c3e50;">If the current document and the document that is redirected to are not from the same <a href="http://tools.ietf.org/html/rfc6454" rel="nofollow" title="origin">origin</a>, set redirectStart, redirectEnd to 0</span></p> </td></tr><tr><td style="background-color:#f6f8fa;border-color:#dfe2e5;"> <p style="margin-left:.0001pt;text-align:justify;"><span style="color:#2c3e50;">ttfbTime</span></p> </td><td style="background-color:#f6f8fa;width:86.65pt;"> <p style="margin-left:.0001pt;text-align:justify;"><span style="color:#2c3e50;">Time to First Byte</span></p> </td><td style="background-color:#f6f8fa;width:213px;"> <p style="margin-left:.0001pt;text-align:justify;"><span style="color:#2c3e50;">responseStart - requestStart</span></p> </td><td style="background-color:#f6f8fa;width:245px;"> <p style="margin-left:.0001pt;text-align:justify;"><span style="color:#2c3e50;">According to <a href="https://developers.google.com/web/tools/chrome-devtools/network/reference?spm=a2c4g.11186623.2.16.2f495c7cmRef8Q#timing" rel="nofollow" title="Google Development">Google Development</a></span></p> </td></tr><tr><td style="background-color:#ffffff;border-color:#dfe2e5;"> <p style="margin-left:.0001pt;text-align:justify;"><span style="color:#2c3e50;">dnsTime</span></p> </td><td style="background-color:#ffffff;width:86.65pt;"> <p style="margin-left:.0001pt;text-align:justify;"><span style="color:#2c3e50;">Time to DNS query</span></p> </td><td style="background-color:#ffffff;width:213px;"> <p style="margin-left:.0001pt;text-align:justify;"><span style="color:#2c3e50;">domainLookupEnd - domainLookupStart</span></p> </td><td style="background-color:#ffffff;width:245px;"></td></tr><tr><td style="background-color:#f6f8fa;border-color:#dfe2e5;"> <p style="margin-left:.0001pt;text-align:justify;"><span style="color:#2c3e50;">tcpTime</span></p> </td><td style="background-color:#f6f8fa;width:86.65pt;"> <p style="margin-left:.0001pt;text-align:justify;"><span style="color:#2c3e50;">Time to TCP link</span></p> </td><td style="background-color:#f6f8fa;width:213px;"> <p style="margin-left:.0001pt;text-align:justify;"><span style="color:#2c3e50;">connectEnd - connectStart</span></p> </td><td style="background-color:#f6f8fa;width:245px;"></td></tr><tr><td style="background-color:#ffffff;border-color:#dfe2e5;"> <p style="margin-left:.0001pt;text-align:justify;"><span style="color:#2c3e50;">transTime</span></p> </td><td style="background-color:#ffffff;width:86.65pt;"> <p style="margin-left:.0001pt;text-align:justify;"><span style="color:#2c3e50;">Time to content transfer</span></p> </td><td style="background-color:#ffffff;width:213px;"> <p style="margin-left:.0001pt;text-align:justify;"><span style="color:#2c3e50;">responseEnd - responseStart</span></p> </td><td style="background-color:#ffffff;width:245px;"></td></tr><tr><td style="background-color:#f6f8fa;border-color:#dfe2e5;"> <p style="margin-left:.0001pt;text-align:justify;"><span style="color:#2c3e50;">sslTime</span></p> </td><td style="background-color:#f6f8fa;width:86.65pt;"> <p style="margin-left:.0001pt;text-align:justify;"><span style="color:#2c3e50;">Time to SSL secure connection</span></p> </td><td style="background-color:#f6f8fa;width:213px;"> <p style="margin-left:.0001pt;text-align:justify;"><span style="color:#2c3e50;">connectEnd - secureConnectionStart</span></p> </td><td style="background-color:#f6f8fa;width:245px;"> <p style="margin-left:.0001pt;text-align:justify;"><span style="color:#2c3e50;">Only supports HTTPS</span></p> </td></tr><tr><td style="background-color:#ffffff;border-color:#dfe2e5;"> <p style="margin-left:.0001pt;text-align:justify;"><span style="color:#2c3e50;">resTime</span></p> </td><td style="background-color:#ffffff;width:86.65pt;"> <p style="margin-left:.0001pt;text-align:justify;"><span style="color:#2c3e50;">Time to resource loading</span></p> </td><td style="background-color:#ffffff;width:213px;"> <p style="margin-left:.0001pt;text-align:justify;"><span style="color:#2c3e50;">loadEventStart - domContentLoadedEventEnd</span></p> </td><td style="background-color:#ffffff;width:245px;"> <p style="margin-left:.0001pt;text-align:justify;"><span style="color:#2c3e50;">Represents a synchronized load resource in pages</span></p> </td></tr><tr><td style="background-color:#f6f8fa;border-color:#dfe2e5;"> <p style="margin-left:.0001pt;text-align:justify;"><span style="color:#2c3e50;">fmpTime</span></p> </td><td style="background-color:#f6f8fa;width:86.65pt;"> <p style="margin-left:.0001pt;text-align:justify;"><span style="color:#2c3e50;">Time to First Meaningful Paint</span></p> </td><td style="background-color:#f6f8fa;width:213px;"> <p style="margin-left:.0001pt;text-align:justify;"><span style="color:#2c3e50;">-</span></p> </td><td style="background-color:#f6f8fa;width:245px;"> <p style="margin-left:.0001pt;text-align:justify;"><span style="color:#2c3e50;">Listen for changes in page elements. Traverse each new element, and calculate the total score of these elements. If the element is visible, the score is 1 * weight; if the element is not visible, the score is 0</span></p> </td></tr><tr><td style="background-color:#ffffff;border-color:#dfe2e5;"> <p style="margin-left:.0001pt;text-align:justify;"><span style="color:#2c3e50;">domAnalysisTime</span></p> </td><td style="background-color:#ffffff;width:86.65pt;"> <p style="margin-left:.0001pt;text-align:justify;"><span style="color:#2c3e50;">Time to DOM analysis</span></p> </td><td style="background-color:#ffffff;width:213px;"> <p style="margin-left:.0001pt;text-align:justify;"><span style="color:#2c3e50;">domInteractive - responseEnd</span></p> </td><td style="background-color:#ffffff;width:245px;"></td></tr><tr><td style="background-color:#f6f8fa;border-color:#dfe2e5;"> <p style="margin-left:.0001pt;text-align:justify;"><span style="color:#2c3e50;">fptTime</span></p> </td><td style="background-color:#f6f8fa;width:86.65pt;"> <p style="margin-left:.0001pt;text-align:justify;"><span style="color:#2c3e50;">First Paint Time</span></p> </td><td style="background-color:#f6f8fa;width:213px;"> <p style="margin-left:.0001pt;text-align:justify;"><span style="color:#2c3e50;">responseEnd - fetchStart</span></p> </td><td style="background-color:#f6f8fa;width:245px;"></td></tr><tr><td style="background-color:#ffffff;border-color:#dfe2e5;"> <p style="margin-left:.0001pt;text-align:justify;"><span style="color:#2c3e50;">domReadyTime</span></p> </td><td style="background-color:#ffffff;width:86.65pt;"> <p style="margin-left:.0001pt;text-align:justify;"><span style="color:#2c3e50;">Time to DOM ready</span></p> </td><td style="background-color:#ffffff;width:213px;"> <p style="margin-left:.0001pt;text-align:justify;"><span style="color:#2c3e50;">domContentLoadedEventEnd - fetchStart</span></p> </td><td style="background-color:#ffffff;width:245px;"></td></tr><tr><td style="background-color:#f6f8fa;border-color:#dfe2e5;"> <p style="margin-left:.0001pt;text-align:justify;"><span style="color:#2c3e50;">loadPageTime</span></p> </td><td style="background-color:#f6f8fa;width:86.65pt;"> <p style="margin-left:.0001pt;text-align:justify;"><span style="color:#2c3e50;">Page full load time</span></p> </td><td style="background-color:#f6f8fa;width:213px;"> <p style="margin-left:.0001pt;text-align:justify;"><span style="color:#2c3e50;">loadEventStart - fetchStart</span></p> </td><td style="background-color:#f6f8fa;width:245px;"></td></tr><tr><td style="background-color:#ffffff;border-color:#dfe2e5;"> <p style="margin-left:.0001pt;text-align:justify;"><span style="color:#2c3e50;">ttlTime</span></p> </td><td style="background-color:#ffffff;width:86.65pt;"> <p style="margin-left:.0001pt;text-align:justify;"><span style="color:#2c3e50;">Time to interact</span></p> </td><td style="background-color:#ffffff;width:213px;"> <p style="margin-left:.0001pt;text-align:justify;"><span style="color:#2c3e50;">domInteractive - fetchStart</span></p> </td><td style="background-color:#ffffff;width:245px;"></td></tr><tr><td style="background-color:#f6f8fa;border-color:#dfe2e5;"> <p style="margin-left:.0001pt;text-align:justify;"><span style="color:#2c3e50;">firstPackTime</span></p> </td><td style="background-color:#f6f8fa;width:86.65pt;"> <p style="margin-left:.0001pt;text-align:justify;"><span style="color:#2c3e50;">Time to first package</span></p> </td><td style="background-color:#f6f8fa;width:213px;"> <p style="margin-left:.0001pt;text-align:justify;"><span style="color:#2c3e50;">responseStart - domainLookupStart</span></p> </td><td style="background-color:#f6f8fa;width:245px;"></td></tr></tbody></table> 
<p><span style="background-color:#ffffff;"><span style="color:#2c3e50;">至于Page FPT Latency</span><span style="color:#2c3e50;">、</span><span style="color:#2c3e50;">Page TTL Latency</span><span style="color:#2c3e50;">、</span><span style="color:#2c3e50;">Page DOM Ready Latency</span><span style="color:#2c3e50;">、</span><span style="color:#2c3e50;">Page Load Latency</span><span style="color:#2c3e50;">、</span><span style="color:#2c3e50;">Page First Pack Latency</span><span style="color:#2c3e50;">、</span><span style="color:#2c3e50;">Page FMP Latency</span> <span style="color:#2c3e50;">就是具体单独指标的展示</span></span></p> 
<p>我的每一篇文章都希望帮助读者解决实际工作中遇到的问题！如果文章帮到了您，劳烦点赞、收藏、转发！您的鼓励是我不断更新文章最大的动力！</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/fbf84b33018dd70f559f00bf57db1fa3/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">MATLAB知识点：矩阵的重构和重新排列</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/1a48d9f6c8d0cebe846c6d5dc0b5fd4c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【hive】- 使用insert into/insert overwrite插入数据到静态分区、动态分区、动静态分区</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>