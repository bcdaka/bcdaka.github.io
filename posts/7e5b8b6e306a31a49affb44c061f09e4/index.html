<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【C&#43;&#43;奇妙冒险】拷贝构造函数、运算符重载（赋值重载|const成员|取地址重载|const取地址重载） - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/7e5b8b6e306a31a49affb44c061f09e4/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="【C&#43;&#43;奇妙冒险】拷贝构造函数、运算符重载（赋值重载|const成员|取地址重载|const取地址重载）">
  <meta property="og:description" content="文章目录 前言🚩拷贝构造函数🫧概念🫧特征🫧默认生成的拷贝构造🫧default关键字（浅谈） 🚩运算符重载🫧概念🫧运算符重载注意事项🫧封装如何保证？ 🚩赋值运算符重载🫧赋值运算符重载格式🫧返回值引用和不加引用的区别🫧赋值运算符只能重载成类的成员函数不能重载成全局函数🫧编译器生成的默认赋值运算符重载 🚩const成员🫧const 成员🫧const修饰成员函数🔺小结 🫧思考 🚩取地址及const取地址重载🫧取地址重载🫧const取地址重载🫧取地址重载和const取地址重载一般不需要重载 前言 🚩拷贝构造函数 创建对象时，可否创建一个与已存在的对象一模一样的新对象呢？
可以的
用拷贝构造就能做到：
Date d1(2024, 5, 28); Date d2(d1); return 0; 什么原理？我们下面会讲，反正不是张力…
🫧概念 拷贝构造函数：只有单个形参，该形参是对本类类型对象的引用（一般常用const修饰），在已存在的类类型对象创建新对象时，由编译器自动调用。
🫧特征 拷贝构造函数也是特殊成员函数，特征如下：
拷贝构造函数是构造函数的一个重载形式拷贝构造的参数只有一个且必须是类类型对象的引用（必须使用引用）
注：使用传值方式编译器直接报错，因为会引发无穷递归调用若未显示定义，编译器会生成默认的拷贝构造
默认的拷贝构造函数对象按内存存储，按字节序完成拷贝（浅拷贝or值拷贝） 原型：类名 （const 类名&amp; 形参） 例如：Date（const Date&amp; d） 拷贝构造函数的用法：
代码：
#include&lt;iostream&gt; using namespace std; class Date { public: Date(int year = 2024, int month = 5, int day = 28) { _year = year; _month = month; _day = day; } // 拷贝构造函数 // Date d2(d1) Date(const Date&amp; d) // 不传引用会无限递归调用 { _year = d.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-05-29T15:05:51+08:00">
    <meta property="article:modified_time" content="2024-05-29T15:05:51+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【C&#43;&#43;奇妙冒险】拷贝构造函数、运算符重载（赋值重载|const成员|取地址重载|const取地址重载）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#_6" rel="nofollow">前言</a></li><li><a href="#_7" rel="nofollow">🚩拷贝构造函数</a></li><li><ul><li><a href="#_19" rel="nofollow">🫧概念</a></li><li><a href="#_22" rel="nofollow">🫧特征</a></li><li><a href="#_95" rel="nofollow">🫧默认生成的拷贝构造</a></li><li><a href="#default_181" rel="nofollow">🫧default关键字（浅谈）</a></li></ul> 
  </li><li><a href="#_243" rel="nofollow">🚩运算符重载</a></li><li><ul><li><a href="#_244" rel="nofollow">🫧概念</a></li><li><a href="#_261" rel="nofollow">🫧运算符重载注意事项</a></li><li><a href="#_314" rel="nofollow">🫧封装如何保证？</a></li></ul> 
  </li><li><a href="#_355" rel="nofollow">🚩赋值运算符重载</a></li><li><ul><li><a href="#_356" rel="nofollow">🫧赋值运算符重载格式</a></li><li><a href="#_405" rel="nofollow">🫧返回值引用和不加引用的区别</a></li><li><a href="#_499" rel="nofollow">🫧赋值运算符只能重载成类的成员函数不能重载成全局函数</a></li><li><a href="#_540" rel="nofollow">🫧编译器生成的默认赋值运算符重载</a></li></ul> 
  </li><li><a href="#const_647" rel="nofollow">🚩const成员</a></li><li><ul><li><a href="#const__648" rel="nofollow">🫧const 成员</a></li><li><a href="#const_734" rel="nofollow">🫧const修饰成员函数</a></li><li><ul><li><a href="#_784" rel="nofollow">🔺小结</a></li></ul> 
   </li><li><a href="#_788" rel="nofollow">🫧思考</a></li></ul> 
  </li><li><a href="#const_798" rel="nofollow">🚩取地址及const取地址重载</a></li><li><ul><li><a href="#_799" rel="nofollow">🫧取地址重载</a></li><li><a href="#const_839" rel="nofollow">🫧const取地址重载</a></li><li><a href="#const_873" rel="nofollow">🫧取地址重载和const取地址重载一般不需要重载</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<hr> 
<h2><a id="_6"></a>前言</h2> 
<h2><a id="_7"></a>🚩拷贝构造函数</h2> 
<p>创建对象时，可否创建一个与已存在的对象一模一样的新对象呢？<br> <sub>可以的</sub><br> 用拷贝构造就能做到：</p> 
<pre><code class="prism language-cpp">	Date <span class="token function">d1</span><span class="token punctuation">(</span><span class="token number">2024</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">28</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	Date <span class="token function">d2</span><span class="token punctuation">(</span>d1<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
</code></pre> 
<p>什么原理？我们下面会讲，反正不是张力…</p> 
<h3><a id="_19"></a>🫧概念</h3> 
<p>拷贝构造函数：<strong>只有单个形参</strong>，该形参是对<strong>本类类型对象的引用</strong>（一般常用const修饰），<strong>在已存在的类类型对象创建新对象时，由编译器自动调用</strong>。</p> 
<h3><a id="_22"></a>🫧特征</h3> 
<p>拷贝构造函数也是特殊成员函数，特征如下：</p> 
<ul><li>拷贝构造函数是构造函数的一个重载形式</li><li>拷贝构造的参数只有一个且必须是类类型对象的引用（必须使用引用）<br> <sub>注：使用传值方式编译器直接报错，因为会引发无穷递归调用</sub></li><li>若未显示定义，编译器会生成默认的拷贝构造<br> <sub>默认的拷贝构造函数对象按内存存储，按字节序完成拷贝（浅拷贝or值拷贝）</sub></li></ul> 
<dl> 
 
   原型：类名 （const 类名&amp; 形参） 
  
 <dd>
   例如：Date（const Date&amp; d） 
 </dd> 
</dl> 
<p>拷贝构造函数的用法：<br> <sub>代码：</sub></p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">Date</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token function">Date</span><span class="token punctuation">(</span><span class="token keyword">int</span> year <span class="token operator">=</span> <span class="token number">2024</span><span class="token punctuation">,</span> <span class="token keyword">int</span> month <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token keyword">int</span> day <span class="token operator">=</span> <span class="token number">28</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		_year <span class="token operator">=</span> year<span class="token punctuation">;</span>
		_month <span class="token operator">=</span> month<span class="token punctuation">;</span>
		_day <span class="token operator">=</span> day<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">// 拷贝构造函数</span>
	<span class="token comment">// Date d2(d1)</span>
	<span class="token function">Date</span><span class="token punctuation">(</span><span class="token keyword">const</span> Date<span class="token operator">&amp;</span> d<span class="token punctuation">)</span> <span class="token comment">// 不传引用会无限递归调用</span>
	<span class="token punctuation">{<!-- --></span>
		_year <span class="token operator">=</span> d<span class="token punctuation">.</span>_year<span class="token punctuation">;</span>
		_month <span class="token operator">=</span> d<span class="token punctuation">.</span>_month<span class="token punctuation">;</span>
		_day <span class="token operator">=</span> d<span class="token punctuation">.</span>_day<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">void</span> <span class="token function">Print</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		cout <span class="token operator">&lt;&lt;</span> _year <span class="token operator">&lt;&lt;</span> <span class="token string">"-"</span> <span class="token operator">&lt;&lt;</span> _month <span class="token operator">&lt;&lt;</span> <span class="token string">"-"</span> <span class="token operator">&lt;&lt;</span> _day <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token keyword">private</span><span class="token operator">:</span>
	<span class="token keyword">int</span> _year<span class="token punctuation">;</span>
	<span class="token keyword">int</span> _month<span class="token punctuation">;</span>
	<span class="token keyword">int</span> _day<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	Date <span class="token function">d1</span><span class="token punctuation">(</span><span class="token number">2024</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">28</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	d1<span class="token punctuation">.</span><span class="token function">Print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	Date <span class="token function">d2</span><span class="token punctuation">(</span>d1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//拷贝构造 ，生成一个和d1一模一样的对象</span>
	d2<span class="token punctuation">.</span><span class="token function">Print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<blockquote> 
 <p>运行结果</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/47/66/iKqU7EGq_o.png" alt="在这里插入图片描述"></p> 
<p>上述代码所示，为什么一定要传引用传参呢？<br> <sub>调用拷贝构造，需要传参，传值传参又是一个拷贝构造</sub><br> <sub>然后调用这个拷贝构造，又需要传参，然后传值传参又是一个拷贝构造</sub><br> <sub>然后又调用拷贝构造…</sub><br> 如下图所示：</p> 
<p><img src="https://images2.imgbox.com/0f/3e/FGgWgfyn_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>运行结果：</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/6b/b2/x40IP2y7_o.png" alt="在这里插入图片描述"><br> <sub>报错了o(╥﹏╥)o</sub><br> 这就是不加引用的后果，const想加就加，如果你不想改变函数体，就建议加上const。</p> 
<h3><a id="_95"></a>🫧默认生成的拷贝构造</h3> 
<p>我们前面了解了拷贝构造函数的特性，“<strong>若未显示定义，则编译器会生成默认的拷贝构造函数</strong>”<br> 那它对内置类型和自定义类型是如何处理的呢？</p> 
<blockquote> 
 <p>代码测试：</p> 
</blockquote> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">Time</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token comment">// 构造函数</span>
	<span class="token function">Time</span><span class="token punctuation">(</span><span class="token keyword">int</span> hour <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">int</span> minute <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">int</span> second <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		_hour <span class="token operator">=</span> hour<span class="token punctuation">;</span>
		_minute <span class="token operator">=</span> minute<span class="token punctuation">;</span>
		_second <span class="token operator">=</span> second<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">// 拷贝构造 </span>
	<span class="token function">Time</span><span class="token punctuation">(</span><span class="token keyword">const</span> Time<span class="token operator">&amp;</span> t<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		_hour <span class="token operator">=</span> t<span class="token punctuation">.</span>_hour<span class="token punctuation">;</span>
		_minute <span class="token operator">=</span> t<span class="token punctuation">.</span>_minute<span class="token punctuation">;</span>
		_second <span class="token operator">=</span> t<span class="token punctuation">.</span>_second<span class="token punctuation">;</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Time(const Time&amp; t)"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token keyword">private</span><span class="token operator">:</span>
	<span class="token keyword">int</span> _hour<span class="token punctuation">;</span>
	<span class="token keyword">int</span> _minute<span class="token punctuation">;</span>
	<span class="token keyword">int</span> _second<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">Date</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token comment">// 构造函数</span>
	<span class="token function">Date</span><span class="token punctuation">(</span><span class="token keyword">int</span> year <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">int</span> month <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">int</span> day <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		_year <span class="token operator">=</span> year<span class="token punctuation">;</span>
		_month <span class="token operator">=</span> month<span class="token punctuation">;</span>
		_day <span class="token operator">=</span> day<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token keyword">private</span><span class="token operator">:</span>
	<span class="token comment">// 内置类型</span>
	<span class="token keyword">int</span> _year<span class="token punctuation">;</span>
	<span class="token keyword">int</span> _month<span class="token punctuation">;</span>
	<span class="token keyword">int</span> _day<span class="token punctuation">;</span>
	<span class="token comment">// 自定义类型</span>
	Time _t<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	Date <span class="token function">d1</span><span class="token punctuation">(</span><span class="token number">2024</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">28</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// 用已经存在的 d1 拷贝构造 d2 此处会调用Date类的拷贝构造</span>
	<span class="token comment">// 但Date类并未显示定义拷贝构造 则编译器会为Date类自动生成一个默认拷贝构造函数</span>
	Date <span class="token function">d2</span><span class="token punctuation">(</span>d1<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<blockquote> 
 <p>运行结果</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/2a/e3/ihHfy0nW_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>通过调试观察</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/c8/fa/MyY2sCmL_o.png" alt="在这里插入图片描述"></p> 
<p><strong>所以，默认生成的拷贝构造函数：</strong></p> 
<ul><li>对内置类型：按照字节方式直接拷贝的</li><li>对自定义类型：调用其拷贝构造函数完成拷贝的</li></ul> 
<p><strong>编译器生成的默认拷贝构造函数已经可以完成字节序的值拷贝了，还需要自己显式实现吗？</strong><br> 当然，像我们这样日期类的是可以不用自己写的，但是像栈（Stack）这样的类，如果Stack st1 拷贝构造出 Stack st2 这会导致它们都指向同一块空间，从而对同一块空间析构两次，造成程序崩溃。</p> 
<blockquote> 
 <p>注意：类中如果没有涉及资源申请时，拷贝构造函数是否写都可以；一旦涉及到资源申请时，则拷贝构造函数是一定要写的，否则就是浅拷贝。</p> 
</blockquote> 
<p>拷贝构造函数的经典调用场景：</p> 
<ul><li>使用已存在对象创建新对象</li><li>函数参数类型为类类型对象</li><li>函数返回值类型为类类型对象</li></ul> 
<blockquote> 
 <p>为了提高程序效率，一般对象传参时，尽量使用引用类型，返回时根据实际场景，能用引用尽量使用引用</p> 
</blockquote> 
<h3><a id="default_181"></a>🫧default关键字（浅谈）</h3> 
<p><sub>我们知道，拷贝构造也是构造函数</sub><br> 🌰<br> 🗨️代码演示：</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">Time</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token comment">//拷贝构造函数</span>
	<span class="token function">Time</span><span class="token punctuation">(</span><span class="token keyword">const</span> Time<span class="token operator">&amp;</span> t<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		_hour <span class="token operator">=</span> t<span class="token punctuation">.</span>_hour<span class="token punctuation">;</span>
		_minute <span class="token operator">=</span> t<span class="token punctuation">.</span>_minute<span class="token punctuation">;</span>
		_second <span class="token operator">=</span> t<span class="token punctuation">.</span>_second<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token keyword">private</span><span class="token operator">:</span>
	<span class="token keyword">int</span> _hour<span class="token punctuation">;</span>
	<span class="token keyword">int</span> _minute<span class="token punctuation">;</span>
	<span class="token keyword">int</span> _second<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">Date</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
<span class="token keyword">private</span><span class="token operator">:</span>
	<span class="token comment">// 内置类型</span>
	<span class="token keyword">int</span> _year<span class="token punctuation">;</span>
	<span class="token keyword">int</span> _month<span class="token punctuation">;</span>
	<span class="token keyword">int</span> _day<span class="token punctuation">;</span>
	<span class="token comment">// 自定义类型</span>
	Time _t<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	Date d1<span class="token punctuation">;</span>
	Date <span class="token function">d2</span><span class="token punctuation">(</span>d1<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<blockquote> 
 <p>运行结果</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/23/dc/19NhOobK_o.png" alt="在这里插入图片描述"></p> 
<p>报错了，d1没初始化？编译器不是会默认生成一个构造函数帮我们初始化吗，为什么这里没有？</p> 
<p>解答：<strong>拷贝构造本身就是一种构造函数，所以编译器不会生成默认构造函数</strong><br> 1️⃣ Date d1;<br> 上述代码中，Date类的实现需要调用Time类中的默认构造函数来初始_t，而在Time类中，没有显示定义一个无参的默认构造函数，只有一个拷贝构造函数，所以当编译器尝试调用Time类中的默认构造函数时，会失败（找不到）。<br> <sub>当实例化Date类中的d1时，Date类默认生成的构造函数会被调用，会对类中的成员变量进行初始化，_year,_month,_day这些都没问题，确实已经初始化了，问题就出在自定义类型_t中，_t需要调用它的Time类中的无参默认构造函数，而它没有，所以报错了</sub></p> 
<p>2️⃣ Date d2(d1)<br> 当我们尝试使用拷贝构造，d1创建d2时，同样的道理，而且d1都初始化失败了，拿什么创建d2，所以理所应当也会出问题<br> <sub>一样的，编译器会调用Date类的拷贝构造，逐一拷贝_year,_month,_day成员变量，_t当然也没问题，因为Time类中有我们写的拷贝构造函数，但是我们在创建d1的时候就出问题了，所以d2也会出错</sub></p> 
<p>在C++中，我们可以加上这样一条代码</p> 
<pre><code class="prism language-cpp"><span class="token function">Time</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token keyword">default</span><span class="token punctuation">;</span>
</code></pre> 
<p>让编译器强制生成拷贝构造</p> 
<h2><a id="_243"></a>🚩运算符重载</h2> 
<h3><a id="_244"></a>🫧概念</h3> 
<p><em><strong>C++为了增强代码的可读性引入了运算符重载，运算符重载是具有特殊函数名的函数</strong></em>，也具有其返回值类型，函数名字以及参数列表，其返回值类型与参数列表与普通的函数类似。</p> 
<p>🏳️ <strong>函数名字为：关键字operator后面接需要重载的运算符符号。</strong></p> 
<pre><code class="prism language-cpp"><span class="token comment">//例如：</span>
<span class="token keyword">operator</span><span class="token operator">&lt;</span>
<span class="token keyword">operator</span><span class="token operator">&gt;</span>
<span class="token keyword">operator</span><span class="token operator">==</span>
</code></pre> 
<p>🏳️ <strong>函数原型：返回值类型 operator操作符(参数列表)</strong></p> 
<h3><a id="_261"></a>🫧运算符重载注意事项</h3> 
<p>注意：</p> 
<ul><li>不能通过连接其他符号来创建新的操作符：比如 operator@ ❌️</li><li>重载操作符必须有一个类类型参数</li><li>用于内置类型的运算符，其含义不能变，例如：内置的整形+，不能改变其含义</li><li>作为类成员函数重载时，其形参看起来比操作数数目少1，因为成员函数的第一个参数为隐藏的this</li><li>.*（点星运算符），::（域运算符），sizeof ，?:（三目运算符） .（点运算符） 以上5个操作符不能重载。</li></ul> 
<p>🗨️代码演示：全局的operator==</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">Date</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token function">Date</span><span class="token punctuation">(</span><span class="token keyword">int</span> year <span class="token operator">=</span> <span class="token number">2024</span><span class="token punctuation">,</span> <span class="token keyword">int</span> month <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token keyword">int</span> day <span class="token operator">=</span> <span class="token number">28</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		_year <span class="token operator">=</span> year<span class="token punctuation">;</span>
		_month <span class="token operator">=</span> month<span class="token punctuation">;</span>
		_day <span class="token operator">=</span> day<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token comment">//private:</span>
	<span class="token keyword">int</span> _year<span class="token punctuation">;</span>
	<span class="token keyword">int</span> _month<span class="token punctuation">;</span>
	<span class="token keyword">int</span> _day<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// d1 == d2</span>
<span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token operator">==</span><span class="token punctuation">(</span><span class="token keyword">const</span> Date<span class="token operator">&amp;</span> d1<span class="token punctuation">,</span> <span class="token keyword">const</span> Date<span class="token operator">&amp;</span> d2<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> d1<span class="token punctuation">.</span>_year <span class="token operator">==</span> d2<span class="token punctuation">.</span>_year 
		<span class="token operator">&amp;&amp;</span> d1<span class="token punctuation">.</span>_month <span class="token operator">==</span> d2<span class="token punctuation">.</span>_month 
		<span class="token operator">&amp;&amp;</span> d1<span class="token punctuation">.</span>_day <span class="token operator">==</span> d2<span class="token punctuation">.</span>_day<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	Date <span class="token function">d1</span><span class="token punctuation">(</span><span class="token number">2024</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">28</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	Date <span class="token function">d2</span><span class="token punctuation">(</span><span class="token number">2024</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">27</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span>d1 <span class="token operator">==</span> d2<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<blockquote> 
 <p>运行结果</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/03/0c/qgpOozqe_o.png" alt="在这里插入图片描述"></p> 
<p><strong>这里细心的老铁可能发现了，运算符重载成全局的就需要成员变量是公有的，如上述代码可见，我把private给注释掉了。</strong><br> <img src="https://images2.imgbox.com/b9/46/OJp3oGAb_o.png" alt="在这里插入图片描述"></p> 
<p><strong>那么问题来了，封装性如何保证？</strong></p> 
<h3><a id="_314"></a>🫧封装如何保证？</h3> 
<p>可以用友元，但是这里我们直接重载成函数就好了。</p> 
<p>🗨️<sub>代码演示：</sub></p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">Date</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token function">Date</span><span class="token punctuation">(</span><span class="token keyword">int</span> year <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">int</span> month <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">int</span> day <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		_year <span class="token operator">=</span> year<span class="token punctuation">;</span>
		_month <span class="token operator">=</span> month<span class="token punctuation">;</span>
		_day <span class="token operator">=</span> day<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">// d1 == d2</span>
	<span class="token comment">// 函数原型：bool operator==(Date* this,const Date&amp; d2)</span>
	<span class="token comment">// 这里需要注意的是，左操作数是this，指向调用函数的对象</span>
	<span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token operator">==</span><span class="token punctuation">(</span><span class="token keyword">const</span> Date<span class="token operator">&amp;</span> d2<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> _year <span class="token operator">==</span> d2<span class="token punctuation">.</span>_year
			<span class="token operator">&amp;&amp;</span> _month <span class="token operator">==</span> d2<span class="token punctuation">.</span>_month
			<span class="token operator">&amp;&amp;</span> _day <span class="token operator">==</span> d2<span class="token punctuation">.</span>_day<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token keyword">private</span><span class="token operator">:</span>
	<span class="token keyword">int</span> _year<span class="token punctuation">;</span>
	<span class="token keyword">int</span> _month<span class="token punctuation">;</span>
	<span class="token keyword">int</span> _day<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	Date <span class="token function">d1</span><span class="token punctuation">(</span><span class="token number">2024</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	Date <span class="token function">d2</span><span class="token punctuation">(</span><span class="token number">2024</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span>d1 <span class="token operator">==</span> d2<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="_355"></a>🚩赋值运算符重载</h2> 
<h3><a id="_356"></a>🫧赋值运算符重载格式</h3> 
<ul><li>返回参数：const T&amp;，传递引用可以提高效率</li><li>返回值类型：T&amp;，返回引用可以提高效率，有返回值的目的是为了连续赋值</li><li>检测是否自己给自己赋值</li><li>返回*this：要符合连续赋值的含义</li></ul> 
<p>🗨️代码演示：<br> d1 = d2</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">Date</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token function">Date</span><span class="token punctuation">(</span><span class="token keyword">int</span> year <span class="token operator">=</span> <span class="token number">2024</span><span class="token punctuation">,</span> <span class="token keyword">int</span> month <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token keyword">int</span> day <span class="token operator">=</span> <span class="token number">28</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		_year <span class="token operator">=</span> year<span class="token punctuation">;</span>
		_month <span class="token operator">=</span> month<span class="token punctuation">;</span>
		_day <span class="token operator">=</span> day<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	Date<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">const</span> Date<span class="token operator">&amp;</span> d<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token comment">// &amp;d 是取地址</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">!=</span> <span class="token operator">&amp;</span>d<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			_year <span class="token operator">=</span> d<span class="token punctuation">.</span>_year<span class="token punctuation">;</span>
			_month <span class="token operator">=</span> d<span class="token punctuation">.</span>_month<span class="token punctuation">;</span>
			_day <span class="token operator">=</span> d<span class="token punctuation">.</span>_day<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span><span class="token comment">// 返回左操作数d1</span>
	<span class="token punctuation">}</span>
<span class="token keyword">private</span><span class="token operator">:</span>
	<span class="token keyword">int</span> _year<span class="token punctuation">;</span>
	<span class="token keyword">int</span> _month<span class="token punctuation">;</span>
	<span class="token keyword">int</span> _day<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>

	Date <span class="token function">d1</span><span class="token punctuation">(</span><span class="token number">2024</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">28</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	Date <span class="token function">d2</span><span class="token punctuation">(</span><span class="token number">2024</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">27</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	d1 <span class="token operator">=</span> d2<span class="token punctuation">;</span><span class="token comment">// 两个已经存在的对象</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><strong>上述代码中，if 语句就是防止自己给自己赋值。</strong></p> 
<h3><a id="_405"></a>🫧返回值引用和不加引用的区别</h3> 
<pre><code class="prism language-cpp">Date<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">const</span> Date<span class="token operator">&amp;</span> d<span class="token punctuation">)</span> <span class="token comment">// 加上引用</span>
<span class="token punctuation">{<!-- --></span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">}</span>
Date <span class="token keyword">operator</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">const</span> Date<span class="token operator">&amp;</span> d<span class="token punctuation">)</span>  <span class="token comment">// 去掉引用</span>
<span class="token punctuation">{<!-- --></span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">}</span>
</code></pre> 
<p>🗨️代码演示：</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">Date</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token comment">// 构造函数</span>
	<span class="token function">Date</span><span class="token punctuation">(</span><span class="token keyword">int</span> year<span class="token punctuation">,</span> <span class="token keyword">int</span> month<span class="token punctuation">,</span> <span class="token keyword">int</span> day<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		_year <span class="token operator">=</span> year<span class="token punctuation">;</span>
		_month <span class="token operator">=</span> month<span class="token punctuation">;</span>
		_day <span class="token operator">=</span> day<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">// 拷贝构造</span>
	<span class="token function">Date</span><span class="token punctuation">(</span><span class="token keyword">const</span> Date<span class="token operator">&amp;</span> d<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		_year <span class="token operator">=</span> d<span class="token punctuation">.</span>_year<span class="token punctuation">;</span>
		_month <span class="token operator">=</span> d<span class="token punctuation">.</span>_month<span class="token punctuation">;</span>
		_day <span class="token operator">=</span> d<span class="token punctuation">.</span>_day<span class="token punctuation">;</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Date(const Date&amp; d)"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">// 赋值重载</span>
	Date <span class="token keyword">operator</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">const</span> Date<span class="token operator">&amp;</span> d<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">!=</span> <span class="token operator">&amp;</span>d<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			_year <span class="token operator">=</span> d<span class="token punctuation">.</span>_year<span class="token punctuation">;</span>
			_month <span class="token operator">=</span> d<span class="token punctuation">.</span>_month<span class="token punctuation">;</span>
			_day <span class="token operator">=</span> d<span class="token punctuation">.</span>_day<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span><span class="token comment">//返回d1</span>
	<span class="token punctuation">}</span>
<span class="token keyword">private</span><span class="token operator">:</span>
	<span class="token keyword">int</span> _year<span class="token punctuation">;</span>
	<span class="token keyword">int</span> _month<span class="token punctuation">;</span>
	<span class="token keyword">int</span> _day<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	Date <span class="token function">d1</span><span class="token punctuation">(</span><span class="token number">2024</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">28</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	Date <span class="token function">d2</span><span class="token punctuation">(</span><span class="token number">2024</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	Date <span class="token function">d3</span><span class="token punctuation">(</span><span class="token number">2024</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	d1 <span class="token operator">=</span> d2 <span class="token operator">=</span> d3<span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<blockquote> 
 <p>运行结果：</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/4a/0a/e2HCQsuB_o.png" alt="在这里插入图片描述"><br> 调用了两次拷贝构造函数<br> 1️⃣ 第一次调用：是d2=d3，因为是从左往右的，所以d2=d3先<br> 又因为传值返回不会直接返回对象，而是生成一个拷贝构造<br> 由下图可见，d3拷贝给给d2<br> <img src="https://images2.imgbox.com/b8/22/343wNZRq_o.png" alt="在这里插入图片描述"></p> 
<p>2️⃣<br> d2=d3这个过程结束后，会生成一个临时变量“tmp”，再把tmp作为返回值调用，又因为传值返回不会直接返回对象，而是生成一个拷贝构造，此时调用了两次拷贝构造。</p> 
<p><img src="https://images2.imgbox.com/4b/59/8L3piZCZ_o.png" alt="在这里插入图片描述"><br> 3️⃣<br> 这里我们再把引用&amp;加上<br> 🗨️代码演示：</p> 
<pre><code class="prism language-cpp">	Date<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">const</span> Date<span class="token operator">&amp;</span> d<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">!=</span> <span class="token operator">&amp;</span>d<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			_year <span class="token operator">=</span> d<span class="token punctuation">.</span>_year<span class="token punctuation">;</span>
			_month <span class="token operator">=</span> d<span class="token punctuation">.</span>_month<span class="token punctuation">;</span>
			_day <span class="token operator">=</span> d<span class="token punctuation">.</span>_day<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
</code></pre> 
<blockquote> 
 <p>调试结果：</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/f7/36/lw3qDM5D_o.png" alt="在这里插入图片描述"><br> 我去！减少了拷贝调用，神奇</p> 
<h3><a id="_499"></a>🫧赋值运算符只能重载成类的成员函数不能重载成全局函数</h3> 
<p>🗨️代码演示：</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">Date</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token function">Date</span><span class="token punctuation">(</span><span class="token keyword">int</span> year <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">int</span> month <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">int</span> day <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		_year <span class="token operator">=</span> year<span class="token punctuation">;</span>
		_month <span class="token operator">=</span> month<span class="token punctuation">;</span>
		_day <span class="token operator">=</span> day<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">int</span> _year<span class="token punctuation">;</span>
	<span class="token keyword">int</span> _month<span class="token punctuation">;</span>
	<span class="token keyword">int</span> _day<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 赋值运算符重载成全局函数，注意重载成全局函数时没有this指针了，需要给两个参数</span>
Date<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">=</span><span class="token punctuation">(</span>Date<span class="token operator">&amp;</span> left<span class="token punctuation">,</span> <span class="token keyword">const</span> Date<span class="token operator">&amp;</span> d<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">&amp;</span>left <span class="token operator">!=</span> <span class="token operator">&amp;</span>d<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		left<span class="token punctuation">.</span>_year <span class="token operator">=</span> d<span class="token punctuation">.</span>_year<span class="token punctuation">;</span>
		left<span class="token punctuation">.</span>_month <span class="token operator">=</span> d<span class="token punctuation">.</span>_month<span class="token punctuation">;</span>
		left<span class="token punctuation">.</span>_day <span class="token operator">=</span> d<span class="token punctuation">.</span>_day<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> left<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 报错</span>

</code></pre> 
<blockquote> 
 <p>运行结果：</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/a9/83/qYDSexFh_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>原因：赋值运算符如果不显式实现，编译器会生成一个默认的。此时用户再在类外自己实现一个全局的赋值运算符重载，就和编译器在类中生成的默认赋值运算符重载冲突了，故赋值运算符重载只能是类的成员函数。</p> 
</blockquote> 
<h3><a id="_540"></a>🫧编译器生成的默认赋值运算符重载</h3> 
<p>赋值重载其实也是默认成员函数之一<br> 我们不写，编译器会自己生成<br> <img src="https://images2.imgbox.com/d8/a5/dIAWLXsP_o.png" alt="在这里插入图片描述"><br> 1️⃣对于内置类型<br> 🗨️代码演示：</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">Date</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token function">Date</span><span class="token punctuation">(</span><span class="token keyword">int</span> year <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">int</span> month <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">int</span> day <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		_year <span class="token operator">=</span> year<span class="token punctuation">;</span>
		_month <span class="token operator">=</span> month<span class="token punctuation">;</span>
		_day <span class="token operator">=</span> day<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token keyword">private</span><span class="token operator">:</span>
	<span class="token keyword">int</span> _year<span class="token punctuation">;</span>
	<span class="token keyword">int</span> _month<span class="token punctuation">;</span>
	<span class="token keyword">int</span> _day<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	Date <span class="token function">d1</span><span class="token punctuation">(</span><span class="token number">2024</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">28</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	Date <span class="token function">d2</span><span class="token punctuation">(</span><span class="token number">2024</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	d1 <span class="token operator">=</span> d2<span class="token punctuation">;</span>

	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<blockquote> 
 <p>调试结果：</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/16/cf/znOQJiNh_o.png" alt="在这里插入图片描述"><br> 2️⃣对于自定义类型：<br> 🗨️代码演示：</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">Time</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token function">Time</span><span class="token punctuation">(</span><span class="token keyword">int</span> hour <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">int</span> minute <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">int</span> second <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		_hour <span class="token operator">=</span> hour<span class="token punctuation">;</span>
		_minute <span class="token operator">=</span> minute<span class="token punctuation">;</span>
		_second <span class="token operator">=</span> second<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	Time<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">const</span> Time<span class="token operator">&amp;</span> t<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">!=</span> <span class="token operator">&amp;</span>t<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			_hour <span class="token operator">=</span> t<span class="token punctuation">.</span>_hour<span class="token punctuation">;</span>
			_minute <span class="token operator">=</span> t<span class="token punctuation">.</span>_minute<span class="token punctuation">;</span>
			_second <span class="token operator">=</span> t<span class="token punctuation">.</span>_second<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token keyword">private</span><span class="token operator">:</span>
	<span class="token keyword">int</span> _hour<span class="token punctuation">;</span>
	<span class="token keyword">int</span> _minute<span class="token punctuation">;</span>
	<span class="token keyword">int</span> _second<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">Date</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token function">Date</span><span class="token punctuation">(</span><span class="token keyword">int</span> year <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">int</span> month <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">int</span> day <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		_year <span class="token operator">=</span> year<span class="token punctuation">;</span>
		_month <span class="token operator">=</span> month<span class="token punctuation">;</span>
		_day <span class="token operator">=</span> day<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token keyword">private</span><span class="token operator">:</span>
	<span class="token keyword">int</span> _year<span class="token punctuation">;</span>
	<span class="token keyword">int</span> _month<span class="token punctuation">;</span>
	<span class="token keyword">int</span> _day<span class="token punctuation">;</span>

	Time _t<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	Date <span class="token function">d1</span><span class="token punctuation">(</span><span class="token number">2024</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	Date <span class="token function">d2</span><span class="token punctuation">(</span><span class="token number">2024</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	d1 <span class="token operator">=</span> d2<span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<blockquote> 
 <p>调试结果<br> <img src="https://images2.imgbox.com/e8/d4/eEQiREux_o.png" alt="在这里插入图片描述"></p> 
</blockquote> 
<p>用户没有显式实现时，编译器会生成一个默认赋值运算符重载，以值的方式逐字节拷贝<br> 所以，默认生成的赋值运算符重载</p> 
<ul><li>内置类型成员变量是直接赋值的<br> 会完成字节序值拷贝 —— 浅拷贝</li><li>自定义类型成员变量需要调用对应类的赋值运算符重载完成赋值<br> 调用它的 operator= 赋值</li></ul> 
<p>疑问：既然编译器会自己默认生成，已经可以完成字节序的值拷贝了，我们还需要自己实现吗？<br> <sub>和上面刚刚讲的拷贝构造那儿意思一样，日期类可以这样，有时候还是需要自己实现的，这里我就不多赘述了</sub></p> 
<h2><a id="const_647"></a>🚩const成员</h2> 
<h3><a id="const__648"></a>🫧const 成员</h3> 
<p>🗨️代码演示：</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">Date</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token function">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		_year <span class="token operator">=</span> <span class="token number">2024</span><span class="token punctuation">;</span>
		_month <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
		_day <span class="token operator">=</span> <span class="token number">29</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">void</span> <span class="token function">Print</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		cout <span class="token operator">&lt;&lt;</span> _year <span class="token operator">&lt;&lt;</span> <span class="token string">"-"</span> <span class="token operator">&lt;&lt;</span> _month <span class="token operator">&lt;&lt;</span> <span class="token string">"-"</span> <span class="token operator">&lt;&lt;</span> _day <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token keyword">private</span><span class="token operator">:</span>
	<span class="token keyword">int</span> _year<span class="token punctuation">;</span>
	<span class="token keyword">int</span> _month<span class="token punctuation">;</span>
	<span class="token keyword">int</span> _day<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	Date d1<span class="token punctuation">;</span>
	d1<span class="token punctuation">.</span><span class="token function">Print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	Date d2<span class="token punctuation">;</span>
	d2<span class="token punctuation">.</span><span class="token function">Print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<blockquote> 
 <p>运行结果：</p> 
</blockquote> 
<p>没问题，编译成功<br> <img src="https://images2.imgbox.com/1a/36/JDOuHNHH_o.png" alt="在这里插入图片描述"></p> 
<p>但是如果我们用const来修饰这个对象呢？</p> 
<p>🗨️代码演示：</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">Date</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token function">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		_year <span class="token operator">=</span> <span class="token number">2024</span><span class="token punctuation">;</span>
		_month <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
		_day <span class="token operator">=</span> <span class="token number">29</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">void</span> <span class="token function">Print</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		cout <span class="token operator">&lt;&lt;</span> _year <span class="token operator">&lt;&lt;</span> <span class="token string">"-"</span> <span class="token operator">&lt;&lt;</span> _month <span class="token operator">&lt;&lt;</span> <span class="token string">"-"</span> <span class="token operator">&lt;&lt;</span> _day <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token keyword">private</span><span class="token operator">:</span>
	<span class="token keyword">int</span> _year<span class="token punctuation">;</span>
	<span class="token keyword">int</span> _month<span class="token punctuation">;</span>
	<span class="token keyword">int</span> _day<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	Date d1<span class="token punctuation">;</span>
	d1<span class="token punctuation">.</span><span class="token function">Print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// 同样的代码 就加了个关键字</span>
	<span class="token keyword">const</span> Date d2<span class="token punctuation">;</span>
	d2<span class="token punctuation">.</span><span class="token function">Print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<blockquote> 
 <p>运行结果</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/cb/18/BpajBGuq_o.png" alt="在这里插入图片描述"></p> 
<p><strong>编译器报错是因为在尝试调用d2.Print();时，Print()函数没有被声明为const成员函数，而d2是一个常量对象，因此编译器无法允许在常量对象上调用非const成员函数，因为非const成员函数可能会修改对象的状态，也就是从只读状态变成了可读可写，属于是权限放大了，我们之前也讲过权限不能放大，只能缩小。</strong></p> 
<h3><a id="const_734"></a>🫧const修饰成员函数</h3> 
<p>将const修饰的“成员函数”称之为const成员函数，const修饰类成员函数，实际修饰该成员函数隐含的this指针，表明在该成员函数中不能对类的任何成员进行修改。<br> <img src="https://images2.imgbox.com/11/74/wHdxu0df_o.png" alt="在这里插入图片描述"></p> 
<p>加上const，保持权限统一</p> 
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">Print</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span>
</code></pre> 
<p>🗨️代码演示：</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">Date</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token function">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		_year <span class="token operator">=</span> <span class="token number">2024</span><span class="token punctuation">;</span>
		_month <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
		_day <span class="token operator">=</span> <span class="token number">29</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">void</span> <span class="token function">Print</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span>
	<span class="token punctuation">{<!-- --></span>
		cout <span class="token operator">&lt;&lt;</span> _year <span class="token operator">&lt;&lt;</span> <span class="token string">"-"</span> <span class="token operator">&lt;&lt;</span> _month <span class="token operator">&lt;&lt;</span> <span class="token string">"-"</span> <span class="token operator">&lt;&lt;</span> _day <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token keyword">private</span><span class="token operator">:</span>
	<span class="token keyword">int</span> _year<span class="token punctuation">;</span>
	<span class="token keyword">int</span> _month<span class="token punctuation">;</span>
	<span class="token keyword">int</span> _day<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	Date d1<span class="token punctuation">;</span>
	d1<span class="token punctuation">.</span><span class="token function">Print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">const</span> Date d2<span class="token punctuation">;</span>
	d2<span class="token punctuation">.</span><span class="token function">Print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/28/1c/la5KHI68_o.png" alt="在这里插入图片描述"><br> 🍵<br> const修饰的是成员函数，用来指示该函数不会修改对象的状态。在类中声明成员函数时，如果不希望该函数修改对象的状态，则应该将其声明为const成员函数。</p> 
<p>this指针是一个隐含的指向当前对象的指针，在成员函数中可以使用它来访问当前对象的成员变量和成员函数。当一个成员函数被调用时，编译器会自动将当前对象的地址传递给this指针。在const成员函数中，this指针的类型是指向常量对象的指针（const ClassName* const this），这意味着不能通过this指针修改对象的成员变量。</p> 
<h4><a id="_784"></a>🔺小结</h4> 
<ul><li>成员函数，如果是一个 对成员变量只进行读访问的 函数 —&gt; 建议加const，这样const对象和非const对象都可以用。</li><li>成员函数，如果是一个 对成员变量要进行读写访问的 函数 —&gt; 不能加const，否则不能修改成员变量。</li></ul> 
<h3><a id="_788"></a>🫧思考</h3> 
<ol><li>const对象可以调用非const成员函数吗？<br> <sub>不可以，权限放大</sub></li><li>非const对象可以调用const成员函数吗？<br> <sub>可以，权限缩小</sub></li><li>const成员函数内可以调用其它的非const成员函数吗？<br> <sub>不可以，权限放大</sub></li><li>非const成员函数内可以调用其它的const成员函数吗？<br> <sub>可以，权限缩小</sub></li></ol> 
<h2><a id="const_798"></a>🚩取地址及const取地址重载</h2> 
<h3><a id="_799"></a>🫧取地址重载</h3> 
<p><img src="https://images2.imgbox.com/33/7e/vu7GGLVe_o.png" alt="在这里插入图片描述"></p> 
<p>由上图可见，取地址重载也是默认成员函数<br> 看名字就知道是取地址的<br> 🗨️代码演示：</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">Date</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token function">Date</span><span class="token punctuation">(</span><span class="token keyword">int</span> year <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">int</span> month <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">int</span> day <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		_year <span class="token operator">=</span> year<span class="token punctuation">;</span>
		_month <span class="token operator">=</span> month<span class="token punctuation">;</span>
		_day <span class="token operator">=</span> day<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	Date<span class="token operator">*</span> <span class="token keyword">operator</span><span class="token operator">&amp;</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token comment">// this是指针，指向对象地址，返回this就是返回对象地址</span>
		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token keyword">private</span><span class="token operator">:</span>
	<span class="token keyword">int</span> _year<span class="token punctuation">;</span>
	<span class="token keyword">int</span> _month<span class="token punctuation">;</span>
	<span class="token keyword">int</span> _day<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	Date <span class="token function">d1</span><span class="token punctuation">(</span><span class="token number">2024</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">28</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token operator">&amp;</span>d1 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<blockquote> 
 <p>运行结果</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/1e/36/FRDqQC0p_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="const_839"></a>🫧const取地址重载</h3> 
<p>🗨️代码演示：</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">Date</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token function">Date</span><span class="token punctuation">(</span><span class="token keyword">int</span> year <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">int</span> month <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">int</span> day <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		_year <span class="token operator">=</span> year<span class="token punctuation">;</span>
		_month <span class="token operator">=</span> month<span class="token punctuation">;</span>
		_day <span class="token operator">=</span> day<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">const</span> Date<span class="token operator">*</span> <span class="token keyword">operator</span><span class="token operator">&amp;</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token keyword">private</span><span class="token operator">:</span>
	<span class="token keyword">int</span> _year<span class="token punctuation">;</span>
	<span class="token keyword">int</span> _month<span class="token punctuation">;</span>
	<span class="token keyword">int</span> _day<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">const</span> Date <span class="token function">d1</span><span class="token punctuation">(</span><span class="token number">2024</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">28</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token operator">&amp;</span>d1 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<blockquote> 
 <p>运行结果</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/c3/93/RwTxJY1B_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="const_873"></a>🫧取地址重载和const取地址重载一般不需要重载</h3> 
<p><strong>这两个默认成员函数一般不用重新定义 ，编译器默认会生成。</strong><br> 🗨️代码演示：</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">Date</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token function">Date</span><span class="token punctuation">(</span><span class="token keyword">int</span> year <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">int</span> month <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">int</span> day <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		_year <span class="token operator">=</span> year<span class="token punctuation">;</span>
		_month <span class="token operator">=</span> month<span class="token punctuation">;</span>
		_day <span class="token operator">=</span> day<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token keyword">private</span><span class="token operator">:</span>
	<span class="token keyword">int</span> _year<span class="token punctuation">;</span>
	<span class="token keyword">int</span> _month<span class="token punctuation">;</span>
	<span class="token keyword">int</span> _day<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">const</span> Date <span class="token function">d1</span><span class="token punctuation">(</span><span class="token number">2024</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">28</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token operator">&amp;</span>d1 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/ec/9c/SVaPyMdI_o.png" alt="在这里插入图片描述"></p> 
<p><strong>这两个运算符一般不需要重载，使用编译器生成的默认取地址的重载即可，只有特殊情况，才需<br> 要重载，比如想让别人获取到指定的内容！</strong><br> <sub>可以返回一个假地址</sub><br> <img src="https://images2.imgbox.com/98/2d/tZ8HWJcW_o.png" alt="在这里插入图片描述"><br> 完~end</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/838bc62b1d75b185eedf783512726bc5/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">让 AI 回答更精准 ◎ 来学学这些Prompt入门小技巧</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/125a86035dbbb01fabb28a1d89b7ee73/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">LEfSe分析：R语言一句代码轻松实现</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>