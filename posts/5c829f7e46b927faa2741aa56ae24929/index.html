<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>OJ题目【栈和队列】 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/5c829f7e46b927faa2741aa56ae24929/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="OJ题目【栈和队列】">
  <meta property="og:description" content="题目导入 栈：
题目一：有效的括号题目二：用栈实现队列 队列
题目：实现循环队列 栈 题目一 有效的括号 题目要求
给定一个只包括 ‘(’，‘)’，‘{’，‘}’，‘[’，‘]’ 的字符串 s ，判断字符串是否有效。
有效字符串需满足：
左括号必须用相同类型的右括号闭合。左括号必须以正确的顺序闭合。每个右括号都有一个对应的相同类型的左括号。 下图为力扣的示例
题目代码原型
bool isValid(char* s) { //The code is written here } 这题就很适合用栈来实现，当是左括号的时候就入栈，如果是右括号就与栈顶的左括号进行对比，如果匹配成功就将栈顶的左括号给Pop掉
创建栈
Stack st; StackInit(&amp;st); 入栈函数：
if (*s == &#39;(&#39; || *s == &#39;[&#39; || *s == &#39;{&#39;) { StackPush(&amp;st, *s); } 但是匹配了没有意义，因为栈内可能还有多个元素，所以我们要判断不匹配的情况（不匹配可以直接出结果）
代码如下：
else { STDataType tmp = StackTop(&amp;st); StackPop(&amp;st); if ((tmp == &#39;(&#39; &amp;&amp; *s != &#39;)&#39;) || (tmp == &#39;[&#39; &amp;&amp; *s !">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-06-04T21:30:32+08:00">
    <meta property="article:modified_time" content="2024-06-04T21:30:32+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">OJ题目【栈和队列】</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="_0"></a>题目导入</h2> 
<p>栈：</p> 
<ul><li>题目一：<a href="https://leetcode.cn/problems/valid-parentheses/description/" rel="nofollow">有效的括号</a></li><li>题目二：<a href="https://leetcode.cn/problems/implement-queue-using-stacks/description/" rel="nofollow">用栈实现队列</a></li></ul> 
<p>队列</p> 
<ul><li>题目：<a href="https://leetcode.cn/problems/design-circular-queue/description/" rel="nofollow">实现循环队列</a></li></ul> 
<h2><a id="_10"></a>栈</h2> 
<h3><a id="__11"></a>题目一 有效的括号</h3> 
<p>题目要求</p> 
<blockquote> 
 <p>给定一个只包括 <strong>‘(’，‘)’，‘{’，‘}’，‘[’，‘]’</strong> 的字符串 s ，判断字符串是否有效。<br> 有效字符串需满足：</p> 
 <ol><li>左括号必须用相同类型的右括号闭合。</li><li>左括号必须以正确的顺序闭合。</li><li>每个右括号都有一个对应的相同类型的左括号。</li></ol> 
</blockquote> 
<p>下图为力扣的示例<br> <img src="https://images2.imgbox.com/1e/8c/VogiPKhm_o.png" alt="在这里插入图片描述"><br> 题目代码原型</p> 
<pre><code class="prism language-c">bool <span class="token function">isValid</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> s<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token comment">//The code is written here</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>这题就很适合用栈来实现，当是左括号的时候就入栈，如果是右括号就与栈顶的左括号进行对比，如果匹配成功就将栈顶的左括号给Pop掉<br> 创建栈</p> 
<pre><code class="prism language-c">    Stack st<span class="token punctuation">;</span>
    <span class="token function">StackInit</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>st<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>入栈函数：</p> 
<pre><code class="prism language-c"> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">*</span>s <span class="token operator">==</span> <span class="token char">'('</span> <span class="token operator">||</span> <span class="token operator">*</span>s <span class="token operator">==</span> <span class="token char">'['</span> <span class="token operator">||</span> <span class="token operator">*</span>s <span class="token operator">==</span> <span class="token char">'{'</span><span class="token punctuation">)</span>
 <span class="token punctuation">{<!-- --></span>
     <span class="token function">StackPush</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>st<span class="token punctuation">,</span> <span class="token operator">*</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
</code></pre> 
<p>但是匹配了没有意义，因为栈内可能还有多个元素，<strong>所以我们要判断不匹配的情况（不匹配可以直接出结果）</strong><br> 代码如下：</p> 
<pre><code class="prism language-c"> <span class="token keyword">else</span>
 <span class="token punctuation">{<!-- --></span>
     STDataType tmp <span class="token operator">=</span> <span class="token function">StackTop</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>st<span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token function">StackPop</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>st<span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>tmp <span class="token operator">==</span> <span class="token char">'('</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">*</span>s <span class="token operator">!=</span> <span class="token char">')'</span><span class="token punctuation">)</span> <span class="token operator">||</span>
         <span class="token punctuation">(</span>tmp <span class="token operator">==</span> <span class="token char">'['</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">*</span>s <span class="token operator">!=</span> <span class="token char">']'</span><span class="token punctuation">)</span> <span class="token operator">||</span>
         <span class="token punctuation">(</span>tmp <span class="token operator">==</span> <span class="token char">'{'</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">*</span>s <span class="token operator">!=</span> <span class="token char">'}'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
     <span class="token punctuation">{<!-- --></span>
         <span class="token function">StackDestroy</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>st<span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token keyword">return</span> false<span class="token punctuation">;</span>
     <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
</code></pre> 
<p>这是判断一次，题目的<code>s</code>不可能就这这么点字符，所以我们要使用循环</p> 
<pre><code class="prism language-c">    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">*</span>s<span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">*</span>s <span class="token operator">==</span> <span class="token char">'('</span> <span class="token operator">||</span> <span class="token operator">*</span>s <span class="token operator">==</span> <span class="token char">'['</span> <span class="token operator">||</span> <span class="token operator">*</span>s <span class="token operator">==</span> <span class="token char">'{'</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token function">StackPush</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>st<span class="token punctuation">,</span> <span class="token operator">*</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span>
        <span class="token punctuation">{<!-- --></span>
            STDataType tmp <span class="token operator">=</span> <span class="token function">StackTop</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>st<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">StackPop</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>st<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>tmp <span class="token operator">==</span> <span class="token char">'('</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">*</span>s <span class="token operator">!=</span> <span class="token char">')'</span><span class="token punctuation">)</span> <span class="token operator">||</span>
                <span class="token punctuation">(</span>tmp <span class="token operator">==</span> <span class="token char">'['</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">*</span>s <span class="token operator">!=</span> <span class="token char">']'</span><span class="token punctuation">)</span> <span class="token operator">||</span>
                <span class="token punctuation">(</span>tmp <span class="token operator">==</span> <span class="token char">'{'</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">*</span>s <span class="token operator">!=</span> <span class="token char">'}'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                <span class="token function">StackDestroy</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>st<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> false<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        s<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre> 
<p>循环走出来了，就代表<code>s</code>已经走到<code>\0</code>了，这时候我们就需要判断栈内是否还有元素，如果还有就代表<code>s</code>并不是一个有效的字符串（有效字符串需满足：每个右括号都有一个对应的相同类型的左括号。）<br> 代码如下</p> 
<pre><code class="prism language-c">    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">StackEmpty</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>st<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//栈为非空，还有元素</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token function">StackDestroy</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>st<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> false<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">StackDestroy</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>st<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> true<span class="token punctuation">;</span>
</code></pre> 
<p>这样大体就写完了，但是这还有个问题：<strong>当<code>s</code>的第一个元素就是右括号该怎么办？</strong><br> 其实很简单，当<code>s</code>的第一个元素就是右括号的时候，就代表<code>s</code>并不是一个有效的字符串，并且这时候的栈是空的，所以我们只需要对栈进行判空操作就好了。</p> 
<pre><code class="prism language-c">    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">*</span>s<span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">*</span>s <span class="token operator">==</span> <span class="token char">'('</span> <span class="token operator">||</span> <span class="token operator">*</span>s <span class="token operator">==</span> <span class="token char">'['</span> <span class="token operator">||</span> <span class="token operator">*</span>s <span class="token operator">==</span> <span class="token char">'{'</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token function">StackPush</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>st<span class="token punctuation">,</span> <span class="token operator">*</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">StackEmpty</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>st<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//当s的第一个元素就是右括号</span>
            <span class="token punctuation">{<!-- --></span>
                <span class="token function">StackDestroy</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>st<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> false<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            STDataType tmp <span class="token operator">=</span> <span class="token function">StackTop</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>st<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">StackPop</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>st<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>tmp <span class="token operator">==</span> <span class="token char">'('</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">*</span>s <span class="token operator">!=</span> <span class="token char">')'</span><span class="token punctuation">)</span> <span class="token operator">||</span>
                <span class="token punctuation">(</span>tmp <span class="token operator">==</span> <span class="token char">'['</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">*</span>s <span class="token operator">!=</span> <span class="token char">']'</span><span class="token punctuation">)</span> <span class="token operator">||</span>
                <span class="token punctuation">(</span>tmp <span class="token operator">==</span> <span class="token char">'{'</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">*</span>s <span class="token operator">!=</span> <span class="token char">'}'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                <span class="token function">StackDestroy</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>st<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> false<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
       
</code></pre> 
<h4><a id="_128"></a>完整代码：</h4> 
<pre><code class="prism language-c">bool <span class="token function">isValid</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> s<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    Stack st<span class="token punctuation">;</span><span class="token comment">//创建栈</span>
    <span class="token function">StackInit</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>st<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">*</span>s<span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">*</span>s <span class="token operator">==</span> <span class="token char">'('</span> <span class="token operator">||</span> <span class="token operator">*</span>s <span class="token operator">==</span> <span class="token char">'['</span> <span class="token operator">||</span> <span class="token operator">*</span>s <span class="token operator">==</span> <span class="token char">'{'</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token function">StackPush</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>st<span class="token punctuation">,</span> <span class="token operator">*</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">StackEmpty</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>st<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                <span class="token function">StackDestroy</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>st<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> false<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token comment">//方法一</span>
            STDataType tmp <span class="token operator">=</span> <span class="token function">StackTop</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>st<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">StackPop</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>st<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>tmp <span class="token operator">==</span> <span class="token char">'('</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">*</span>s <span class="token operator">!=</span> <span class="token char">')'</span><span class="token punctuation">)</span> <span class="token operator">||</span>
                <span class="token punctuation">(</span>tmp <span class="token operator">==</span> <span class="token char">'['</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">*</span>s <span class="token operator">!=</span> <span class="token char">']'</span><span class="token punctuation">)</span> <span class="token operator">||</span>
                <span class="token punctuation">(</span>tmp <span class="token operator">==</span> <span class="token char">'{'</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">*</span>s <span class="token operator">!=</span> <span class="token char">'}'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                <span class="token function">StackDestroy</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>st<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> false<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            
            <span class="token comment">//方法二(任选其一)</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token function">StackTop</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>st<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token char">'('</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">*</span>s <span class="token operator">!=</span> <span class="token char">')'</span><span class="token punctuation">)</span> <span class="token operator">||</span>
                <span class="token punctuation">(</span><span class="token function">StackTop</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>st<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token char">'['</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">*</span>s <span class="token operator">!=</span> <span class="token char">']'</span><span class="token punctuation">)</span> <span class="token operator">||</span>
                <span class="token punctuation">(</span><span class="token function">StackTop</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>st<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token char">'{'</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">*</span>s <span class="token operator">!=</span> <span class="token char">'}'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                <span class="token function">StackDestroy</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>st<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> false<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">else</span>
            <span class="token punctuation">{<!-- --></span>
            	<span class="token function">StackPop</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>st<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        s<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">StackEmpty</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>st<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token function">StackDestroy</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>st<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> false<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">StackDestroy</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>st<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> true<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><strong>在函数结束先，将自己在该函数开辟的空间个释放掉，这是一个好习惯。</strong></p> 
<h3><a id="__184"></a>题目二 用栈实现队列</h3> 
<p><img src="https://images2.imgbox.com/5b/66/x9PIAI2e_o.png" alt="在这里插入图片描述"><br> <strong>队列是先进先出，栈是先进后出</strong>，这题我们就需要使用两个栈来实现了。<br> 先入栈的元素是在栈底，而先出的元素是在栈顶，所以我们把有元素的栈里面的元素入到没有元素的栈里面，就能完成队列的出队操作，类似下图<br> <img src="https://images2.imgbox.com/ed/e1/EqxMPbjZ_o.png" alt="在这里插入图片描述"></p> 
<p>我们入队列（用栈实现的）是入到有元素的栈里面，因为我将数据入到非空栈的时候是入到栈顶的，当我要进行出队列的时候，是将栈下标一及以后的元素入到空栈，再将非空栈的栈底元素Pop掉<br> <img src="https://images2.imgbox.com/e2/6a/6CkiUSXZ_o.png" alt="在这里插入图片描述"></p> 
<p>peek的要求是返回队列开头的元素，这样我们直接返回非空栈中下标为0的元素。</p> 
<h4><a id="_194"></a>完整代码</h4> 
<pre><code class="prism language-c"><span class="token comment">// 支持动态增长的栈</span>
<span class="token keyword">typedef</span> <span class="token keyword">int</span> STDataType<span class="token punctuation">;</span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">Stack</span>
<span class="token punctuation">{<!-- --></span>
	STDataType<span class="token operator">*</span> _a<span class="token punctuation">;</span>
	<span class="token keyword">int</span> _top<span class="token punctuation">;</span>		<span class="token comment">// 栈顶</span>
	<span class="token keyword">int</span> _capacity<span class="token punctuation">;</span>  <span class="token comment">// 容量 </span>
<span class="token punctuation">}</span>Stack<span class="token punctuation">;</span>

<span class="token comment">// 初始化栈 </span>
<span class="token keyword">void</span> <span class="token function">StackInit</span><span class="token punctuation">(</span>Stack<span class="token operator">*</span> ps<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>ps<span class="token punctuation">)</span><span class="token punctuation">;</span>
	ps<span class="token operator">-&gt;</span>_a <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	ps<span class="token operator">-&gt;</span>_top <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	ps<span class="token operator">-&gt;</span>_capacity <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token comment">// 入栈 </span>
<span class="token keyword">void</span> <span class="token function">StackPush</span><span class="token punctuation">(</span>Stack<span class="token operator">*</span> ps<span class="token punctuation">,</span> STDataType data<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>ps<span class="token operator">-&gt;</span>_top <span class="token operator">==</span> ps<span class="token operator">-&gt;</span>_capacity<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">int</span> _NewCapacity <span class="token operator">=</span> ps<span class="token operator">-&gt;</span>_capacity <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token number">4</span> <span class="token operator">:</span> ps<span class="token operator">-&gt;</span>_capacity <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>
		STDataType<span class="token operator">*</span> _tmp <span class="token operator">=</span> <span class="token punctuation">(</span>STDataType<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">realloc</span><span class="token punctuation">(</span>ps<span class="token operator">-&gt;</span>_a<span class="token punctuation">,</span> _NewCapacity <span class="token operator">*</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>STDataType<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		ps<span class="token operator">-&gt;</span>_a <span class="token operator">=</span> _tmp<span class="token punctuation">;</span>
		ps<span class="token operator">-&gt;</span>_capacity <span class="token operator">=</span> _NewCapacity<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	ps<span class="token operator">-&gt;</span>_a<span class="token punctuation">[</span>ps<span class="token operator">-&gt;</span>_top<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> data<span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token comment">// 出栈 </span>
<span class="token keyword">void</span> <span class="token function">StackPop</span><span class="token punctuation">(</span>Stack<span class="token operator">*</span> ps<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>ps <span class="token operator">&amp;&amp;</span> ps<span class="token operator">-&gt;</span>_top <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	ps<span class="token operator">-&gt;</span>_top<span class="token operator">--</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token comment">// 获取栈顶元素 </span>
STDataType <span class="token function">StackTop</span><span class="token punctuation">(</span>Stack<span class="token operator">*</span> ps<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>ps <span class="token operator">&amp;&amp;</span> ps<span class="token operator">-&gt;</span>_top <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> ps<span class="token operator">-&gt;</span>_a<span class="token punctuation">[</span>ps<span class="token operator">-&gt;</span>_top <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token comment">// 获取栈中有效元素个数 </span>
<span class="token keyword">int</span> <span class="token function">StackSize</span><span class="token punctuation">(</span>Stack<span class="token operator">*</span> ps<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>ps <span class="token operator">&amp;&amp;</span> ps<span class="token operator">-&gt;</span>_top <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> ps<span class="token operator">-&gt;</span>_top<span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token comment">// 检测栈是否为空，如果为空返回非零结果，如果不为空返回0 </span>
<span class="token keyword">int</span> <span class="token function">StackEmpty</span><span class="token punctuation">(</span>Stack<span class="token operator">*</span> ps<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> <span class="token punctuation">(</span>ps<span class="token operator">-&gt;</span>_top <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token comment">// 销毁栈 </span>
<span class="token keyword">void</span> <span class="token function">StackDestroy</span><span class="token punctuation">(</span>Stack<span class="token operator">*</span> ps<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">free</span><span class="token punctuation">(</span>ps<span class="token operator">-&gt;</span>_a<span class="token punctuation">)</span><span class="token punctuation">;</span>
	ps<span class="token operator">-&gt;</span>_a <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	ps<span class="token operator">-&gt;</span>_top <span class="token operator">=</span> ps<span class="token operator">-&gt;</span>_capacity <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token punctuation">{<!-- --></span>
    Stack s1<span class="token punctuation">;</span>
    Stack s2<span class="token punctuation">;</span>
<span class="token punctuation">}</span> MyQueue<span class="token punctuation">;</span>


MyQueue<span class="token operator">*</span> <span class="token function">myQueueCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    MyQueue<span class="token operator">*</span> obj <span class="token operator">=</span> <span class="token punctuation">(</span>MyQueue<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>MyQueue<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">StackInit</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token punctuation">(</span>obj<span class="token operator">-&gt;</span>s1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">StackInit</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token punctuation">(</span>obj<span class="token operator">-&gt;</span>s2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> obj<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">myQueuePush</span><span class="token punctuation">(</span>MyQueue<span class="token operator">*</span> obj<span class="token punctuation">,</span> <span class="token keyword">int</span> x<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">StackEmpty</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>s1<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token function">StackPush</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>s1<span class="token punctuation">,</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token function">StackPush</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>s2<span class="token punctuation">,</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">myQueuePop</span><span class="token punctuation">(</span>MyQueue<span class="token operator">*</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token comment">//假设法</span>
    Stack<span class="token operator">*</span> Empty <span class="token operator">=</span> <span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>s1<span class="token punctuation">;</span>
    Stack<span class="token operator">*</span> NotEmpty <span class="token operator">=</span> <span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>s2<span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">StackEmpty</span><span class="token punctuation">(</span>Empty<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        Empty <span class="token operator">=</span> <span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>s2<span class="token punctuation">;</span>
        NotEmpty <span class="token operator">=</span> <span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>s1<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">int</span> top <span class="token operator">=</span> <span class="token function">StackSize</span><span class="token punctuation">(</span>NotEmpty<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> tmp <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>tmp <span class="token operator">!=</span> top<span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token function">StackPush</span><span class="token punctuation">(</span>Empty<span class="token punctuation">,</span>NotEmpty<span class="token operator">-&gt;</span>_a<span class="token punctuation">[</span>tmp<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">StackPop</span><span class="token punctuation">(</span>NotEmpty<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">int</span> val <span class="token operator">=</span> <span class="token function">StackTop</span><span class="token punctuation">(</span>NotEmpty<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">StackPop</span><span class="token punctuation">(</span>NotEmpty<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> val<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">myQueuePeek</span><span class="token punctuation">(</span>MyQueue<span class="token operator">*</span> obj<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">StackEmpty</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>s1<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> obj<span class="token operator">-&gt;</span>s1<span class="token punctuation">.</span>_a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> obj<span class="token operator">-&gt;</span>s2<span class="token punctuation">.</span>_a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

bool <span class="token function">myQueueEmpty</span><span class="token punctuation">(</span>MyQueue<span class="token operator">*</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token function">StackEmpty</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>s1<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token function">StackEmpty</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>s2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">myQueueFree</span><span class="token punctuation">(</span>MyQueue<span class="token operator">*</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">StackDestroy</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>s1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">StackDestroy</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>s2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">free</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>

    obj <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="_343"></a>队列</h2> 
<h3><a id="_344"></a>题目：实现循环队列</h3> 
<p><img src="https://images2.imgbox.com/5c/3e/q8aOXlbQ_o.png" alt="在这里插入图片描述"><br> 循环队列可以用数组和链表来实现，本文是用数组实现。<br> 可能有很多人看到题目就设计一个数组，定一个<code>head</code>和<code>tail</code>当<code>head</code>或者<code>tail</code>到了数组结尾的时候，就绕回到数组开头。<br> <img src="https://images2.imgbox.com/aa/26/YCdFhRlZ_o.png" alt="在这里插入图片描述"></p> 
<p>但是这里有个问题：<strong>我的判空和判满该这么区分呢？</strong><br> <mark>判空很简单，判断head是否等于tail，是的话就是空。但是，在这个数组中，判满的逻辑也是判断head是否等于tail。</mark><br> 这种情况也别称为假溢出。</p> 
<p>这时候我们就有两种方法来解决。</p> 
<ul><li>第一种：使用一个size来记录，数组元素的个数，如果等于数组长度就是满，如果等于零就是空</li><li>第二种：<strong>在开辟数组的时候多开一个空间</strong>，这个空间在逻辑上是不存放数组的，这里的不存放是说在存放数据的时候，就是有某块空间不存放数据，并不是多开的那个空间不存放数据。如下图<img src="https://images2.imgbox.com/ff/29/5rLbVCYv_o.png" alt="在这里插入图片描述"></li></ul> 
<p>如图所示，当判满成立的时候，就是有某块空间不存放数据，上图tail所指向的空间，那里面的元素已经被我Pop掉了，已经不认为是队列内的元素了<br> 所以方法二也可以将判满和判空给区分开来</p> 
<p>判满：<mark>看tail+1是否等于head（当然要解决回绕的问题）</mark><br> 判空就还是看tail是否等于head。</p> 
<p>本文使用的是第二种方法。</p> 
<h4><a id="myCircularQueueCreate_368"></a>循环队列的创建(myCircularQueueCreate)</h4> 
<p>假设队列的长度为k</p> 
<pre><code class="prism language-c"><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> <span class="token operator">*</span> _a<span class="token punctuation">;</span>
    <span class="token keyword">int</span> _head<span class="token punctuation">;</span>
    <span class="token keyword">int</span> _tail<span class="token punctuation">;</span>
    <span class="token keyword">int</span> _k<span class="token punctuation">;</span> <span class="token comment">//该队列的长度</span>
<span class="token punctuation">}</span> MyCircularQueue<span class="token punctuation">;</span>

MyCircularQueue<span class="token operator">*</span> <span class="token function">myCircularQueueCreate</span><span class="token punctuation">(</span><span class="token keyword">int</span> k<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token comment">//先开辟队列</span>
    MyCircularQueue<span class="token operator">*</span> obj <span class="token operator">=</span> <span class="token punctuation">(</span>MyCircularQueue<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>MyCircularQueue<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//再开辟队列的数组部分</span>
    obj<span class="token operator">-&gt;</span>_a <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token operator">*</span> <span class="token punctuation">(</span>k<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//多开一个空间</span>
    obj<span class="token operator">-&gt;</span>_head <span class="token operator">=</span> obj<span class="token operator">-&gt;</span>_tail <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    obj<span class="token operator">-&gt;</span>_k <span class="token operator">=</span> k<span class="token punctuation">;</span><span class="token comment">//将队列长度k赋值给我的_k</span>
    <span class="token keyword">return</span> obj<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>注：因为力扣上的动态开辟基本不会报错，所以可以省略判断开辟成功的步骤（在日常敲代码的时候还是判断比较好）</p> 
<h4><a id="_389"></a>解决回绕问题：</h4> 
<p>当我的tail等于k+1的时候，直接取模就好了<br> 当然也可以暴力一点，不管tail的值，直接取模</p> 
<pre><code class="prism language-c">obj<span class="token operator">-&gt;</span>_tail <span class="token operator">%=</span> obj<span class="token operator">-&gt;</span>_k<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>
</code></pre> 
<p>所以我们就可以直接写判空和判满的代码了：</p> 
<pre><code class="prism language-c"><span class="token comment">//判空</span>
bool <span class="token function">myCircularQueueIsEmpty</span><span class="token punctuation">(</span>MyCircularQueue<span class="token operator">*</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> obj<span class="token operator">-&gt;</span>_head <span class="token operator">==</span> obj<span class="token operator">-&gt;</span>_tail<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//判满</span>
bool <span class="token function">myCircularQueueIsFull</span><span class="token punctuation">(</span>MyCircularQueue<span class="token operator">*</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>obj<span class="token operator">-&gt;</span>_tail<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token punctuation">(</span>obj<span class="token operator">-&gt;</span>k<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">==</span> obj<span class="token operator">-&gt;</span>_head<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> 
<h4><a id="myCircularQueueEnQueue_412"></a>入队列(myCircularQueueEnQueue)</h4> 
<p>题目代码：</p> 
<pre><code class="prism language-c">bool <span class="token function">myCircularQueueEnQueue</span><span class="token punctuation">(</span>MyCircularQueue<span class="token operator">*</span> obj<span class="token punctuation">,</span> <span class="token keyword">int</span> value<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    
<span class="token punctuation">}</span>

</code></pre> 
<p>题目对这段代码的要求： <mark>向循环队列插入一个元素。如果成功插入则返回真。</mark></p> 
<p>那么插入不成功就返回假（队列满了就不能插入了）<br> 所以可以直接调用判满函数</p> 
<pre><code class="prism language-c"><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">myCircularQueueIsFull</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> false<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>如果没满，就继续插入，然后解决回绕问题，也可以使用暴力方法（不管tail的大小，直接%上k+1）</p> 
<pre><code class="prism language-c"><span class="token comment">//插入数据</span>
bool <span class="token function">myCircularQueueEnQueue</span><span class="token punctuation">(</span>MyCircularQueue<span class="token operator">*</span> obj<span class="token punctuation">,</span> <span class="token keyword">int</span> value<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">myCircularQueueIsFull</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> false<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    obj<span class="token operator">-&gt;</span>_a<span class="token punctuation">[</span>obj<span class="token operator">-&gt;</span>_tail<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>
    <span class="token comment">//方法一（暴力）</span>
    obj<span class="token operator">-&gt;</span>_tail <span class="token operator">%=</span> <span class="token punctuation">(</span>obj<span class="token operator">-&gt;</span>_k<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	<span class="token comment">//方法二（判断）</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>obj<span class="token operator">-&gt;</span>_tail <span class="token operator">==</span> obj<span class="token operator">-&gt;</span>_k<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        obj<span class="token operator">-&gt;</span>_tail <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> true<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="myCircularQueueDeQueue_454"></a>出队列(myCircularQueueDeQueue)</h4> 
<p>题目代码：</p> 
<pre><code class="prism language-c"><span class="token comment">//删除数据</span>
bool <span class="token function">myCircularQueueDeQueue</span><span class="token punctuation">(</span>MyCircularQueue<span class="token operator">*</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

<span class="token punctuation">}</span>
</code></pre> 
<p>题目对这段代码的要求：<mark>从循环队列中删除一个元素。如果成功删除则返回真。</mark></p> 
<p>那么删除不成功就返回假（队列空了就不能插入了）<br> 所以可以直接调用判空函数</p> 
<pre><code class="prism language-c">    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">myCircularQueueIsEmpty</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> false<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre> 
<p>因为队列是先进先出(<strong>FIFO</strong>)，所以我们继续出队列的时候并不是对<code>tail</code>操作，而是对<code>head</code>操作。<br> 出队列的时候直接++head就好了（当然也要解决回绕问题）。<br> 解决回绕问题和入队列的操作是一样的。</p> 
<pre><code class="prism language-c"><span class="token comment">//删除数据</span>
bool <span class="token function">myCircularQueueDeQueue</span><span class="token punctuation">(</span>MyCircularQueue<span class="token operator">*</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">myCircularQueueIsEmpty</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> false<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    obj<span class="token operator">-&gt;</span>_head<span class="token operator">++</span><span class="token punctuation">;</span>
    obj<span class="token operator">-&gt;</span>_head <span class="token operator">%=</span> <span class="token punctuation">(</span>obj<span class="token operator">-&gt;</span>_k <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> true<span class="token punctuation">;</span>
    
<span class="token punctuation">}</span>

</code></pre> 
<h4><a id="myCircularQueueFront_494"></a>取队头元素(myCircularQueueFront)</h4> 
<p>题目对这个函数的要求：<mark>从队首获取元素。如果队列为空，返回 -1 。</mark><br> 直接返回head位置的元素就好了</p> 
<pre><code class="prism language-c"><span class="token comment">//取队头元素</span>
<span class="token keyword">int</span> <span class="token function">myCircularQueueFront</span><span class="token punctuation">(</span>MyCircularQueue<span class="token operator">*</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">myCircularQueueIsEmpty</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> obj<span class="token operator">-&gt;</span>_a<span class="token punctuation">[</span>obj<span class="token operator">-&gt;</span>_head<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="myCircularQueueRear_509"></a>取队尾元素(myCircularQueueRear)</h4> 
<p>题目对这个函数的要求：<mark>获取队尾元素。如果队列为空，返回 -1 。</mark></p> 
<p><strong>注意：我这里的tail其实是指向待插入数据的空间，也就是最后一个元素的下一个空间。</strong><br> 所以我们返回尾元素，其实是返回<code>tai</code>l的前一个空间。<br> 一般情况下只需要返回<code>tail - 1</code>就可以了，但是，有一种特殊情况，就是当入完队列后我的<code>tail</code>进行了回绕，这时候<code>tail</code>是<strong>0</strong>，我这时返回<code>tail - 1</code>的元素就会造成越界。<img src="https://images2.imgbox.com/41/6c/dzcr8bBU_o.png" alt="在这里插入图片描述"><br> 有两种方法处理</p> 
<ul><li>第一种：判断tail是否等于0，是的话返回下标为 <code>k </code>个元素。</li><li>第二种：先<code>tail-1</code>然后加上<code>k+1</code>再<code>%k+1</code>，这种方法不需要判断tail，可以直接返回值。</li></ul> 
<pre><code class="prism language-c"><span class="token comment">//第一种</span>
<span class="token keyword">return</span> obj<span class="token operator">-&gt;</span>_a<span class="token punctuation">[</span>obj<span class="token operator">-&gt;</span>_tail <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">?</span> k <span class="token punctuation">;</span> obj<span class="token operator">-&gt;</span>_tail<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">//第二种</span>
<span class="token keyword">return</span> obj<span class="token operator">-&gt;</span>_a<span class="token punctuation">[</span><span class="token punctuation">(</span>obj<span class="token operator">-&gt;</span>_tail<span class="token operator">-</span><span class="token number">1</span> <span class="token operator">+</span> obj<span class="token operator">-&gt;</span>_k<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span>  <span class="token punctuation">(</span>obj<span class="token operator">-&gt;</span>_k<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
</code></pre> 
<p>第二种方法解决正常情况<br> 将tail=3带入，k=5带入</p> 
<blockquote> 
 <p>((3-1) + (5+1)) % (5+1)<br> = (2+6) % 6<br> = 8 % 6<br> = 2</p> 
</blockquote> 
<p>第二种方法解决特殊情况<br> 将tail=0带入，k=5带入</p> 
<blockquote> 
 <p>((0-1) + (5+1)) % (5+1)<br> = (-1+6) % 6<br> = 5 % 6<br> = 5</p> 
</blockquote> 
<p>所以第二种也可以写成这样</p> 
<pre><code class="prism language-c"><span class="token keyword">return</span> obj<span class="token operator">-&gt;</span>_a<span class="token punctuation">[</span><span class="token punctuation">(</span>obj<span class="token operator">-&gt;</span>_tail <span class="token operator">+</span> obj<span class="token operator">-&gt;</span>_k<span class="token punctuation">)</span> <span class="token operator">%</span>  <span class="token punctuation">(</span>obj<span class="token operator">-&gt;</span>_k<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token comment">// -1 和 1 抵消了</span>
</code></pre> 
<p>函数代码如下</p> 
<pre><code class="prism language-c"><span class="token comment">//取队尾元素</span>
<span class="token keyword">int</span> <span class="token function">myCircularQueueRear</span><span class="token punctuation">(</span>MyCircularQueue<span class="token operator">*</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">myCircularQueueIsEmpty</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> obj<span class="token operator">-&gt;</span>_a<span class="token punctuation">[</span><span class="token punctuation">(</span>obj<span class="token operator">-&gt;</span>_tail <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">+</span> obj<span class="token operator">-&gt;</span>_k <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token punctuation">(</span>obj<span class="token operator">-&gt;</span>_k <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="myCircularQueueFree_560"></a>销毁循环队列(myCircularQueueFree)</h4> 
<p>从内到外释放，先释放内部，再释放外部。</p> 
<pre><code class="prism language-c"><span class="token comment">//销毁队列</span>
<span class="token keyword">void</span> <span class="token function">myCircularQueueFree</span><span class="token punctuation">(</span>MyCircularQueue<span class="token operator">*</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">free</span><span class="token punctuation">(</span>obj<span class="token operator">-&gt;</span>_a<span class="token punctuation">)</span><span class="token punctuation">;</span>
    obj<span class="token operator">-&gt;</span>_a <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    obj<span class="token operator">-&gt;</span>_head <span class="token operator">=</span> obj<span class="token operator">-&gt;</span>_tail <span class="token operator">=</span> obj<span class="token operator">-&gt;</span>_k <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token function">free</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_572"></a>完整代码</h4> 
<pre><code class="prism language-c"><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> <span class="token operator">*</span> _a<span class="token punctuation">;</span>
    <span class="token keyword">int</span> _head<span class="token punctuation">;</span>
    <span class="token keyword">int</span> _tail<span class="token punctuation">;</span>
    <span class="token keyword">int</span> _k<span class="token punctuation">;</span> 
<span class="token punctuation">}</span> MyCircularQueue<span class="token punctuation">;</span>

<span class="token comment">//创建循环队列</span>
MyCircularQueue<span class="token operator">*</span> <span class="token function">myCircularQueueCreate</span><span class="token punctuation">(</span><span class="token keyword">int</span> k<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    MyCircularQueue<span class="token operator">*</span> obj <span class="token operator">=</span> <span class="token punctuation">(</span>MyCircularQueue<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>MyCircularQueue<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    obj<span class="token operator">-&gt;</span>_a <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token operator">*</span> <span class="token punctuation">(</span>k<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    obj<span class="token operator">-&gt;</span>_head <span class="token operator">=</span> obj<span class="token operator">-&gt;</span>_tail <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    obj<span class="token operator">-&gt;</span>_k <span class="token operator">=</span> k<span class="token punctuation">;</span>
    <span class="token keyword">return</span> obj<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//判空</span>
bool <span class="token function">myCircularQueueIsEmpty</span><span class="token punctuation">(</span>MyCircularQueue<span class="token operator">*</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> obj<span class="token operator">-&gt;</span>_head <span class="token operator">==</span> obj<span class="token operator">-&gt;</span>_tail<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//判满</span>
bool <span class="token function">myCircularQueueIsFull</span><span class="token punctuation">(</span>MyCircularQueue<span class="token operator">*</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>obj<span class="token operator">-&gt;</span>_tail<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token punctuation">(</span>obj<span class="token operator">-&gt;</span>_k <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">==</span> obj<span class="token operator">-&gt;</span>_head<span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token comment">//插入数据</span>
bool <span class="token function">myCircularQueueEnQueue</span><span class="token punctuation">(</span>MyCircularQueue<span class="token operator">*</span> obj<span class="token punctuation">,</span> <span class="token keyword">int</span> value<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">myCircularQueueIsFull</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> false<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    obj<span class="token operator">-&gt;</span>_a<span class="token punctuation">[</span>obj<span class="token operator">-&gt;</span>_tail<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>
    <span class="token comment">//obj-&gt;_tail %= (obj-&gt;_k+1);</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>obj<span class="token operator">-&gt;</span>_tail <span class="token operator">==</span> obj<span class="token operator">-&gt;</span>_k<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        obj<span class="token operator">-&gt;</span>_tail <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> true<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//删除数据</span>
bool <span class="token function">myCircularQueueDeQueue</span><span class="token punctuation">(</span>MyCircularQueue<span class="token operator">*</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">myCircularQueueIsEmpty</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> false<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    obj<span class="token operator">-&gt;</span>_head<span class="token operator">++</span><span class="token punctuation">;</span>
    obj<span class="token operator">-&gt;</span>_head <span class="token operator">%=</span> <span class="token punctuation">(</span>obj<span class="token operator">-&gt;</span>_k <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> true<span class="token punctuation">;</span>
    
<span class="token punctuation">}</span>

<span class="token comment">//取队头元素</span>
<span class="token keyword">int</span> <span class="token function">myCircularQueueFront</span><span class="token punctuation">(</span>MyCircularQueue<span class="token operator">*</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">myCircularQueueIsEmpty</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> obj<span class="token operator">-&gt;</span>_a<span class="token punctuation">[</span>obj<span class="token operator">-&gt;</span>_head<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//取队尾元素</span>
<span class="token keyword">int</span> <span class="token function">myCircularQueueRear</span><span class="token punctuation">(</span>MyCircularQueue<span class="token operator">*</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">myCircularQueueIsEmpty</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> obj<span class="token operator">-&gt;</span>_a<span class="token punctuation">[</span><span class="token punctuation">(</span>obj<span class="token operator">-&gt;</span>_tail <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">+</span> obj<span class="token operator">-&gt;</span>_k <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token punctuation">(</span>obj<span class="token operator">-&gt;</span>_k <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token comment">//销毁队列</span>
<span class="token keyword">void</span> <span class="token function">myCircularQueueFree</span><span class="token punctuation">(</span>MyCircularQueue<span class="token operator">*</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">free</span><span class="token punctuation">(</span>obj<span class="token operator">-&gt;</span>_a<span class="token punctuation">)</span><span class="token punctuation">;</span>
    obj<span class="token operator">-&gt;</span>_a <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    obj<span class="token operator">-&gt;</span>_head <span class="token operator">=</span> obj<span class="token operator">-&gt;</span>_tail <span class="token operator">=</span> obj<span class="token operator">-&gt;</span>_k <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token function">free</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="_657"></a>结语</h2> 
<p>最后感谢您能阅读完此片文章，如果有任何建议或纠正欢迎在评论区留言，也可以前往我的主页看更多好文哦(<a href="https://blog.csdn.net/2301_80216111?spm=1000.2115.3001.5343">点击此处跳转到主页</a>)。<br> 如果您认为这篇文章对您有所收获，点一个小小的赞就是我创作的巨大动力，谢谢！！！</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/1484318d3ea3f4e1e3e85a437e51ac8e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">python的sql解析库-sqlparse</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b20d9d1284d49b41bb8b786d3c160027/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">使用wheelnav.js构建酷炫的动态导航菜单</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>