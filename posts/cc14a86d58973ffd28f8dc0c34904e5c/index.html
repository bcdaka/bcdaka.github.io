<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Java æ•°æ®ç»“æ„ç¯‡-å®ç°å †çš„æ ¸å¿ƒæ–¹æ³•ä¸å †çš„åº”ç”¨ï¼ˆå®ç° TOP-K é—®é¢˜ï¼šæœ€å° k ä¸ªæ•°ï¼‰ - ç¼–ç¨‹å¤§å’–</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/cc14a86d58973ffd28f8dc0c34904e5c/">
  <meta property="og:site_name" content="ç¼–ç¨‹å¤§å’–">
  <meta property="og:title" content="Java æ•°æ®ç»“æ„ç¯‡-å®ç°å †çš„æ ¸å¿ƒæ–¹æ³•ä¸å †çš„åº”ç”¨ï¼ˆå®ç° TOP-K é—®é¢˜ï¼šæœ€å° k ä¸ªæ•°ï¼‰">
  <meta property="og:description" content="ğŸ”¥åšå®¢ä¸»é¡µï¼šÂ ã€å°æ‰³_-CSDNåšå®¢ã€‘
â¤æ„Ÿè°¢å¤§å®¶ç‚¹èµğŸ‘æ”¶è—â­è¯„è®ºâœÂ æ–‡ç« ç›®å½•
1.0 å †çš„è¯´æ˜
2.0 å †çš„æˆå‘˜å˜é‡åŠå…¶æ„é€ æ–¹æ³•Â 3.0 å®ç°å †çš„æ ¸å¿ƒæ–¹æ³•
3.1Â å®ç°å †çš„æ ¸å¿ƒæ–¹æ³• - è·å–å †é¡¶å…ƒç´  peek()
3.2Â å®ç°å †çš„æ ¸å¿ƒæ–¹æ³• - ä¸‹æ½œ down(int i)
3.3Â å®ç°å †çš„æ ¸å¿ƒæ–¹æ³• - äº¤æ¢å…ƒç´  swap(int i,int j)
3.4Â å®ç°å †æ ¸å¿ƒæ–¹æ³• - åˆ é™¤å †é¡¶å…ƒç´  poll()
3.5Â å®ç°å †çš„æ ¸å¿ƒæ–¹æ³• - æ›¿æ¢å †é¡¶å…ƒç´  replace(int i)
3.6Â å®ç°å †çš„æ ¸å¿ƒæ–¹æ³• - æ·»åŠ å…ƒç´  offer(int value)
3.7Â å®ç°å †çš„æ ¸å¿ƒæ–¹æ³• - å»ºå † heapify()
3.8 å®ç°å †çš„æ ¸å¿ƒæ–¹æ³•å®Œæ•´ä»£ç 
4.0 TOP - K é—®é¢˜ï¼šæœ€å°çš„ K ä¸ªæ•°
4.1 å®ç°æœ€å° k ä¸ªæ•°çš„æ€è·¯
4.2 ä»£ç å®ç°æœ€å° k ä¸ªæ•°
1.0 å †çš„è¯´æ˜ å †ï¼ˆHeapï¼‰æ˜¯ä¸€ç§åŸºäºæ ‘çš„æ•°æ®ç»“æ„ï¼Œé€šå¸¸ç”¨äºåŠ¨æ€åˆ†é…å†…å­˜ç©ºé—´ã€‚å †å¯ä»¥è¢«çœ‹ä½œæ˜¯ä¸€æ£µå®Œå…¨äºŒå‰æ ‘ï¼Œå…¶ä¸­æ¯ä¸ªèŠ‚ç‚¹éƒ½æ»¡è¶³å †çš„æ€§è´¨ï¼Œå³çˆ¶èŠ‚ç‚¹çš„å€¼å¤§äºæˆ–ç­‰äºå­èŠ‚ç‚¹çš„å€¼ï¼ˆå¤§æ ¹å †ï¼‰ï¼Œæˆ–çˆ¶èŠ‚ç‚¹çš„å€¼å°äºæˆ–ç­‰äºå­èŠ‚ç‚¹çš„å€¼ï¼ˆå°æ ¹å †ï¼‰ã€‚åœ¨å †ä¸­ï¼Œæ ¹èŠ‚ç‚¹çš„å€¼æ˜¯æœ€å¤§æˆ–æœ€å°çš„ï¼Œå› æ­¤ä¹Ÿè¢«ç§°ä¸ºæœ€å¤§å †æˆ–æœ€å°å †ã€‚">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2023-12-19T20:52:09+08:00">
    <meta property="article:modified_time" content="2023-12-19T20:52:09+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ç¼–ç¨‹å¤§å’–" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ç¼–ç¨‹å¤§å’–</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Java æ•°æ®ç»“æ„ç¯‡-å®ç°å †çš„æ ¸å¿ƒæ–¹æ³•ä¸å †çš„åº”ç”¨ï¼ˆå®ç° TOP-K é—®é¢˜ï¼šæœ€å° k ä¸ªæ•°ï¼‰</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <blockquote> 
 <p><strong>ğŸ”¥åšå®¢ä¸»é¡µï¼šÂ ã€<strong><a href="https://blog.csdn.net/Tingfeng__?spm=1000.2115.3001.5343" title="å°æ‰³_-CSDNåšå®¢ã€‘">å°æ‰³_-CSDNåšå®¢ã€‘</a></strong><br> â¤æ„Ÿè°¢å¤§å®¶ç‚¹èµğŸ‘æ”¶è—â­è¯„è®ºâœ</strong>Â Â </p> 
</blockquote> 
<p class="img-center"><img alt="" height="400" src="https://images2.imgbox.com/cd/33/lZtZzEtP_o.jpg" width="400"></p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/2f/a3/rIpEbgKD_o.gif"></p> 
<p>Â </p> 
<p id="main-toc"><strong>æ–‡ç« ç›®å½•</strong></p> 
<p id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.0%20%E5%A0%86%E7%9A%84%E8%AF%B4%E6%98%8E-toc" style="margin-left:0px;"><strong><a href="#%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.0%20%E5%A0%86%E7%9A%84%E8%AF%B4%E6%98%8E" rel="nofollow">Â  Â  Â  Â  1.0 å †çš„è¯´æ˜</a></strong></p> 
<p id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%202.0%20%E5%A0%86%E7%9A%84%E6%88%90%E5%91%98%E5%8F%98%E9%87%8F%E5%8F%8A%E5%85%B6%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95%C2%A0-toc" style="margin-left:0px;"><strong><a href="#%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%202.0%20%E5%A0%86%E7%9A%84%E6%88%90%E5%91%98%E5%8F%98%E9%87%8F%E5%8F%8A%E5%85%B6%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95%C2%A0" rel="nofollow">Â  Â  Â  Â  2.0 å †çš„æˆå‘˜å˜é‡åŠå…¶æ„é€ æ–¹æ³•Â </a></strong></p> 
<p id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%203.0%20%E5%AE%9E%E7%8E%B0%E5%A0%86%E7%9A%84%E6%A0%B8%E5%BF%83%E6%96%B9%E6%B3%95-toc" style="margin-left:0px;"><strong><a href="#%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%203.0%20%E5%AE%9E%E7%8E%B0%E5%A0%86%E7%9A%84%E6%A0%B8%E5%BF%83%E6%96%B9%E6%B3%95" rel="nofollow">Â  Â  Â  Â  3.0 å®ç°å †çš„æ ¸å¿ƒæ–¹æ³•</a></strong></p> 
<p id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%203.1%C2%A0%E5%AE%9E%E7%8E%B0%E5%A0%86%E7%9A%84%E6%A0%B8%E5%BF%83%E6%96%B9%E6%B3%95%20-%20%E8%8E%B7%E5%8F%96%E5%A0%86%E9%A1%B6%E5%85%83%E7%B4%A0%20peek()-toc" style="margin-left:40px;"><strong><a href="#%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%203.1%C2%A0%E5%AE%9E%E7%8E%B0%E5%A0%86%E7%9A%84%E6%A0%B8%E5%BF%83%E6%96%B9%E6%B3%95%20-%20%E8%8E%B7%E5%8F%96%E5%A0%86%E9%A1%B6%E5%85%83%E7%B4%A0%20peek%28%29" rel="nofollow">Â  Â  Â  Â  3.1Â å®ç°å †çš„æ ¸å¿ƒæ–¹æ³• - è·å–å †é¡¶å…ƒç´  peek()</a></strong></p> 
<p id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%203.2%C2%A0%E5%AE%9E%E7%8E%B0%E5%A0%86%E7%9A%84%E6%A0%B8%E5%BF%83%E6%96%B9%E6%B3%95%20-%20%E4%B8%8B%E6%BD%9C%20down(int%20i)-toc" style="margin-left:40px;"><strong><a href="#%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%203.2%C2%A0%E5%AE%9E%E7%8E%B0%E5%A0%86%E7%9A%84%E6%A0%B8%E5%BF%83%E6%96%B9%E6%B3%95%20-%20%E4%B8%8B%E6%BD%9C%20down%28int%20i%29" rel="nofollow">Â  Â  Â  Â  3.2Â å®ç°å †çš„æ ¸å¿ƒæ–¹æ³• - ä¸‹æ½œ down(int i)</a></strong></p> 
<p id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%203.3%C2%A0%E5%AE%9E%E7%8E%B0%E5%A0%86%E7%9A%84%E6%A0%B8%E5%BF%83%E6%96%B9%E6%B3%95%20-%20%E4%BA%A4%E6%8D%A2%E5%85%83%E7%B4%A0%20swap(int%20i%2Cint%20j)-toc" style="margin-left:40px;"><strong><a href="#%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%203.3%C2%A0%E5%AE%9E%E7%8E%B0%E5%A0%86%E7%9A%84%E6%A0%B8%E5%BF%83%E6%96%B9%E6%B3%95%20-%20%E4%BA%A4%E6%8D%A2%E5%85%83%E7%B4%A0%20swap%28int%20i%2Cint%20j%29" rel="nofollow">Â  Â  Â  Â  3.3Â å®ç°å †çš„æ ¸å¿ƒæ–¹æ³• - äº¤æ¢å…ƒç´  swap(int i,int j)</a></strong></p> 
<p id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%203.4%C2%A0%E5%AE%9E%E7%8E%B0%E5%A0%86%E6%A0%B8%E5%BF%83%E6%96%B9%E6%B3%95%20-%20%E5%88%A0%E9%99%A4%E5%A0%86%E9%A1%B6%E5%85%83%E7%B4%A0%20poll()-toc" style="margin-left:40px;"><strong><a href="#%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%203.4%C2%A0%E5%AE%9E%E7%8E%B0%E5%A0%86%E6%A0%B8%E5%BF%83%E6%96%B9%E6%B3%95%20-%20%E5%88%A0%E9%99%A4%E5%A0%86%E9%A1%B6%E5%85%83%E7%B4%A0%20poll%28%29" rel="nofollow">Â  Â  Â  Â  3.4Â å®ç°å †æ ¸å¿ƒæ–¹æ³• - åˆ é™¤å †é¡¶å…ƒç´  poll()</a></strong></p> 
<p id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%203.5%C2%A0%E5%AE%9E%E7%8E%B0%E5%A0%86%E7%9A%84%E6%A0%B8%E5%BF%83%E6%96%B9%E6%B3%95%20-%20%E6%9B%BF%E6%8D%A2%E5%A0%86%E9%A1%B6%E5%85%83%E7%B4%A0%20replace(int%20i)-toc" style="margin-left:40px;"><strong><a href="#%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%203.5%C2%A0%E5%AE%9E%E7%8E%B0%E5%A0%86%E7%9A%84%E6%A0%B8%E5%BF%83%E6%96%B9%E6%B3%95%20-%20%E6%9B%BF%E6%8D%A2%E5%A0%86%E9%A1%B6%E5%85%83%E7%B4%A0%20replace%28int%20i%29" rel="nofollow">Â  Â  Â  Â  3.5Â å®ç°å †çš„æ ¸å¿ƒæ–¹æ³• - æ›¿æ¢å †é¡¶å…ƒç´  replace(int i)</a></strong></p> 
<p id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%203.6%C2%A0%E5%AE%9E%E7%8E%B0%E5%A0%86%E7%9A%84%E6%A0%B8%E5%BF%83%E6%96%B9%E6%B3%95%20-%20%E6%B7%BB%E5%8A%A0%E5%85%83%E7%B4%A0%20offer(int%20value)-toc" style="margin-left:40px;"><strong><a href="#%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%203.6%C2%A0%E5%AE%9E%E7%8E%B0%E5%A0%86%E7%9A%84%E6%A0%B8%E5%BF%83%E6%96%B9%E6%B3%95%20-%20%E6%B7%BB%E5%8A%A0%E5%85%83%E7%B4%A0%20offer%28int%20value%29" rel="nofollow">Â  Â  Â  Â  3.6Â å®ç°å †çš„æ ¸å¿ƒæ–¹æ³• - æ·»åŠ å…ƒç´  offer(int value)</a></strong></p> 
<p id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%203.7%C2%A0%E5%AE%9E%E7%8E%B0%E5%A0%86%E7%9A%84%E6%A0%B8%E5%BF%83%E6%96%B9%E6%B3%95%20-%20%E5%BB%BA%E5%A0%86%20heapify()-toc" style="margin-left:40px;"><strong><a href="#%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%203.7%C2%A0%E5%AE%9E%E7%8E%B0%E5%A0%86%E7%9A%84%E6%A0%B8%E5%BF%83%E6%96%B9%E6%B3%95%20-%20%E5%BB%BA%E5%A0%86%20heapify%28%29" rel="nofollow">Â  Â  Â  Â  3.7Â å®ç°å †çš„æ ¸å¿ƒæ–¹æ³• - å»ºå † heapify()</a></strong></p> 
<p id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%203.8%20%E5%AE%9E%E7%8E%B0%E5%A0%86%E7%9A%84%E6%A0%B8%E5%BF%83%E6%96%B9%E6%B3%95%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81-toc" style="margin-left:40px;"><strong><a href="#%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%203.8%20%E5%AE%9E%E7%8E%B0%E5%A0%86%E7%9A%84%E6%A0%B8%E5%BF%83%E6%96%B9%E6%B3%95%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81" rel="nofollow">Â  Â  Â  Â  3.8 å®ç°å †çš„æ ¸å¿ƒæ–¹æ³•å®Œæ•´ä»£ç </a></strong></p> 
<p id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%204.0%20TOP%20-%20K%20%E9%97%AE%E9%A2%98%EF%BC%9A%E6%9C%80%E5%B0%8F%E7%9A%84%20K%20%E4%B8%AA%E6%95%B0-toc" style="margin-left:0px;"><strong><a href="#%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%204.0%20TOP%20-%20K%20%E9%97%AE%E9%A2%98%EF%BC%9A%E6%9C%80%E5%B0%8F%E7%9A%84%20K%20%E4%B8%AA%E6%95%B0" rel="nofollow">Â  Â  Â  Â  4.0 TOP - K é—®é¢˜ï¼šæœ€å°çš„ K ä¸ªæ•°</a></strong></p> 
<p id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%204.1%20%E5%AE%9E%E7%8E%B0%E6%9C%80%E5%B0%8F%20k%20%E4%B8%AA%E6%95%B0%E7%9A%84%E6%80%9D%E8%B7%AF-toc" style="margin-left:40px;"><strong><a href="#%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%204.1%20%E5%AE%9E%E7%8E%B0%E6%9C%80%E5%B0%8F%20k%20%E4%B8%AA%E6%95%B0%E7%9A%84%E6%80%9D%E8%B7%AF" rel="nofollow">Â  Â  Â  Â  4.1 å®ç°æœ€å° k ä¸ªæ•°çš„æ€è·¯</a></strong></p> 
<p id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%204.2%20%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0%E6%9C%80%E5%B0%8F%20k%20%E4%B8%AA%E6%95%B0-toc" style="margin-left:40px;"><strong><a href="#%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%204.2%20%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0%E6%9C%80%E5%B0%8F%20k%20%E4%B8%AA%E6%95%B0" rel="nofollow">Â  Â  Â  Â  4.2 ä»£ç å®ç°æœ€å° k ä¸ªæ•°</a></strong></p> 
<hr id="hr-toc"> 
<p></p> 
<h2 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.0%20%E5%A0%86%E7%9A%84%E8%AF%B4%E6%98%8E">Â  Â  Â  Â  1.0 å †çš„è¯´æ˜</h2> 
<p>Â Â Â Â Â Â Â Â <strong>å †ï¼ˆHeapï¼‰æ˜¯ä¸€ç§åŸºäºæ ‘çš„æ•°æ®ç»“æ„ï¼Œé€šå¸¸ç”¨äºåŠ¨æ€åˆ†é…å†…å­˜ç©ºé—´ã€‚å †å¯ä»¥è¢«çœ‹ä½œæ˜¯<span style="color:#fe2c24;">ä¸€æ£µå®Œå…¨äºŒå‰æ ‘</span>ï¼Œå…¶ä¸­æ¯ä¸ªèŠ‚ç‚¹éƒ½æ»¡è¶³å †çš„æ€§è´¨ï¼Œå³<span style="color:#fe2c24;">çˆ¶èŠ‚ç‚¹çš„å€¼å¤§äºæˆ–ç­‰äºå­èŠ‚ç‚¹çš„å€¼ï¼ˆå¤§æ ¹å †ï¼‰ï¼Œæˆ–çˆ¶èŠ‚ç‚¹çš„å€¼å°äºæˆ–ç­‰äºå­èŠ‚ç‚¹çš„å€¼ï¼ˆå°æ ¹å †ï¼‰</span>ã€‚åœ¨å †ä¸­ï¼Œæ ¹èŠ‚ç‚¹çš„å€¼æ˜¯æœ€å¤§æˆ–æœ€å°çš„ï¼Œå› æ­¤ä¹Ÿè¢«ç§°ä¸ºæœ€å¤§å †æˆ–æœ€å°å †ã€‚</strong></p> 
<p><strong>Â Â Â Â Â Â Â Â å †çš„å®ç°é€šå¸¸ä½¿ç”¨<span style="color:#fe2c24;">æ•°ç»„æ¥å­˜å‚¨å †ä¸­çš„å…ƒç´ </span>ï¼Œ<span style="color:#fe2c24;">é€šè¿‡è®¡ç®—æ•°ç»„ä¸‹æ ‡æ¥å®ç°èŠ‚ç‚¹ä¹‹é—´çš„å…³ç³»</span>ã€‚å †çš„<span style="color:#fe2c24;">æ—¶é—´å¤æ‚åº¦ä¸º O(log n)</span>ï¼Œå…¶ä¸­ n æ˜¯å †ä¸­å…ƒç´ çš„æ•°é‡ã€‚</strong></p> 
<p><strong>Â Â Â Â Â Â Â Â å †çš„æ“ä½œåŒ…æ‹¬<span style="color:#fe2c24;">æ’å…¥</span>ã€<span style="color:#fe2c24;">åˆ é™¤</span>å’Œ<span style="color:#fe2c24;">æŸ¥æ‰¾ç­‰</span>ã€‚æ’å…¥æ“ä½œå°†ä¸€ä¸ªæ–°å…ƒç´ æ’å…¥åˆ°å †ä¸­ï¼Œåˆ é™¤æ“ä½œå°†å †ä¸­çš„æœ€å¤§æˆ–æœ€å°å…ƒç´ åˆ é™¤ï¼ŒæŸ¥æ‰¾æ“ä½œå¯ä»¥åœ¨å †ä¸­æŸ¥æ‰¾ç‰¹å®šå…ƒç´ çš„ä½ç½®ã€‚</strong></p> 
<p></p> 
<h2 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%202.0%20%E5%A0%86%E7%9A%84%E6%88%90%E5%91%98%E5%8F%98%E9%87%8F%E5%8F%8A%E5%85%B6%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95%C2%A0">Â  Â  Â  Â  2.0 å †çš„æˆå‘˜å˜é‡åŠå…¶æ„é€ æ–¹æ³•Â </h2> 
<p>Â  Â  Â  Â  <strong>ä¸»è¦çš„æˆå‘˜å˜é‡ä¸ºï¼š<span style="color:#fe2c24;">int[] arr</span> <span style="color:#fe2c24;">æ•°ç»„</span>ï¼šç”¨æ¥å­˜æ”¾å…ƒç´ çš„å®¹å™¨ï¼›<span style="color:#fe2c24;">int size</span> ï¼šä»£è¡¨å½“å‰çš„å…ƒç´ ä¸ªæ•°ã€‚</strong></p> 
<p><strong>Â  Â  Â  Â  æ„é€ æ–¹æ³•ï¼šæŒ‡å®š<span style="color:#fe2c24;">æ•°ç»„å¤§å°å¸¦å‚æ•°çš„æ„é€ å™¨</span>ã€<span style="color:#fe2c24;">å‚æ•°ä¸ºæ•°ç»„çš„æ„é€ å™¨</span>ã€‚</strong></p> 
<p><strong>ä»£ç å¦‚ä¸‹ï¼š</strong></p> 
<blockquote> 
 <pre><code class="language-java">public class MyHeap {
    public int[] arr;
    public int size;

    public MyHeap(int capacity) {
        arr = new int[capacity];
    }

    public MyHeap(int[] arr) {
        this.arr = arr;
        this.size = arr.length;
        heapify();
    }

}</code></pre> 
 <p>Â  Â  Â  Â Â </p> 
</blockquote> 
<p></p> 
<h2 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%203.0%20%E5%AE%9E%E7%8E%B0%E5%A0%86%E7%9A%84%E6%A0%B8%E5%BF%83%E6%96%B9%E6%B3%95">Â  Â  Â  Â  3.0 å®ç°å †çš„æ ¸å¿ƒæ–¹æ³•</h2> 
<p>Â  Â  Â  Â  <span style="color:#fe2c24;"><strong>è·å–å †é¡¶å…ƒç´ ã€ä¸‹æ½œã€äº¤æ¢å…ƒç´ ã€æ·»åŠ å…ƒç´ ã€æ›¿æ¢å…ƒç´ ã€åˆ é™¤å…ƒç´ ã€å»ºå †ã€‚</strong></span></p> 
<h3 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%203.1%C2%A0%E5%AE%9E%E7%8E%B0%E5%A0%86%E7%9A%84%E6%A0%B8%E5%BF%83%E6%96%B9%E6%B3%95%20-%20%E8%8E%B7%E5%8F%96%E5%A0%86%E9%A1%B6%E5%85%83%E7%B4%A0%20peek()">Â  Â  Â  Â  3.1Â å®ç°å †çš„æ ¸å¿ƒæ–¹æ³• - è·å–å †é¡¶å…ƒç´  peek()</h3> 
<p>Â  Â  Â  Â  <strong>ç”¨æ•°ç»„å®ç°å †ï¼Œåœ¨è·å–å †é¡¶å…ƒä¹‹å‰ï¼Œå…ˆéœ€è¦åˆ¤æ–­è¯¥æ•°ç»„æ˜¯å¦ä¸ºç©ºï¼Œè‹¥ä¸ä¸ºç©ºï¼Œåˆ™ç›´æ¥è¿”å›æ•°ç»„ç´¢å¼•ä¸º 0 çš„å…ƒç´ ï¼›è‹¥æ•°ç»„ä¸ºç©ºï¼Œåˆ™è¿”å› 0 æˆ–è€…æŠ›å‡ºå¼‚å¸¸ä¹Ÿå¯ä»¥ã€‚</strong></p> 
<p><strong>ä»£ç å¦‚ä¸‹ï¼š</strong></p> 
<blockquote> 
 <pre><code class="language-java">    //è·å–æ ˆé¡¶å…ƒç´ 
    public int peek() {
        if (isEmpty()) {
            return -1;
        }
        return arr[0];
    }</code></pre> 
 <p></p> 
</blockquote> 
<h3 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%203.2%C2%A0%E5%AE%9E%E7%8E%B0%E5%A0%86%E7%9A%84%E6%A0%B8%E5%BF%83%E6%96%B9%E6%B3%95%20-%20%E4%B8%8B%E6%BD%9C%20down(int%20i)">Â  Â  Â  Â  3.2Â å®ç°å †çš„æ ¸å¿ƒæ–¹æ³• - ä¸‹æ½œ down(int i)</h3> 
<p>Â  Â  Â  Â  <strong>è¯¥æ–¹æ³•ä¸»è¦ç”¨äºåˆ é™¤æ ˆé¡¶å…ƒç´ ã€æ›¿æ¢å…ƒç´ ç­‰æ ¸å¿ƒæ–¹æ³•ã€‚ä¸‹æ½œçš„æ„æ€å°±æ˜¯<span style="color:#fe2c24;">å°†å½“å‰çš„å…ƒç´ æ‰€åœ¨çš„ä½ç½®ä¸ç¬¦åˆå¤§é¡¶å †æˆ–è€…å°é¡¶å †çš„è§„åˆ™ï¼Œå› æ­¤éœ€è¦å‘ä¸‹è°ƒæ•´ã€‚æ‰¾åˆ°åˆé€‚çš„ä½ç½®æ¥å­˜æ”¾å½“å‰çš„å…ƒç´ </span>ã€‚</strong></p> 
<p><strong>Â å…·ä½“ä¸‹æ½œçš„æ€è·¯ï¼š</strong></p> 
<blockquote> 
 <p><strong>å‡è®¾éœ€è¦æ»¡è¶³å¤§é¡¶å †çš„è§„åˆ™ï¼š</strong></p> 
 <p class="img-center"><img alt="" height="273" src="https://images2.imgbox.com/39/6d/I0BffTnZ_o.png" width="317"></p> 
 <p>Â  Â  Â  Â  <strong>ç”±ä»¥ä¸Šçš„å›¾æ¥çœ‹ï¼Œå½“å‰çš„ç´¢å¼•ä¸º 0 å¤„çš„å…ƒç´  7 å°äºè¯¥å·¦å­©å­çš„å…ƒç´ ï¼Œå› æ­¤å½“å‰ä¸æ»¡è¶³å¤§é¡¶å †çš„è§„åˆ™ã€‚éœ€è¦å°†ä¸¤è€…è¿›è¡Œäº¤æ¢ã€‚</strong></p> 
 <p><strong>äº¤æ¢çš„ç»“æœä¸ºï¼š</strong></p> 
 <p class="img-center"><img alt="" height="301" src="https://images2.imgbox.com/9a/8a/k2czRbfp_o.png" width="317"></p> 
 <p>Â  Â  Â  Â  <strong>äº¤æ¢å®Œä¹‹åï¼Œå½“å‰ç´¢å¼•ä¸º 2 å¤„çš„å…ƒç´  7 å°äºè¯¥å³å­©å­çš„å…ƒç´ ï¼Œæ‰€ä»¥ç´¢å¼• 2 ä¸ ç´¢å¼• 5 éœ€è¦ç»§ç»­äº¤æ¢ã€‚è‹¥å½“å‰ä¸º i è¯¥<span style="color:#fe2c24;">å³å­©å­çš„ç´¢å¼•Â left = 2 * i + 1</span>ï¼›è¯¥<span style="color:#fe2c24;">å·¦å­©å­çš„ç´¢å¼•Â right = 2 * i + 2</span> ï¼ˆä¹Ÿå¯ä»¥è¡¨ç¤ºä¸º <span style="color:#fe2c24;">right = left + 1</span>Â ï¼‰ä¸€å¼€å§‹é»˜è®¤å½“å‰çš„æœ€å¤§å…ƒç´ çš„ç´¢å¼• <span style="color:#fe2c24;">max = i </span>ï¼Œæ¥ç€æ¥åˆ¤æ–­è¯¥å·¦å³å­©å­çš„å…ƒç´ æ˜¯å¦å¤§äºå½“å‰ç´¢å¼•<span style="color:#fe2c24;"> max </span>ï¼Œè‹¥å¤§äºå½“å‰ç´¢å¼• <span style="color:#fe2c24;">max</span> æ—¶ï¼Œéœ€è¦è¿›è¡Œäº¤æ¢<span style="color:#fe2c24;"> max = left æˆ–è€… max = right </span>ã€‚è‹¥ä¸å¤§äºå½“å‰ç´¢å¼•ä¸º<span style="color:#fe2c24;"> max </span>å¤„çš„å…ƒç´ ï¼Œåˆ™ä¸éœ€è¦äº¤æ¢ã€‚ç”±äºæ¯ä¸€æ¬¡éƒ½æ˜¯å­é—®é¢˜è¿‡ç¨‹ï¼Œæ‰€ä»¥å¯ä»¥åˆ©ç”¨é€’å½’æ¥å®ç°ï¼Œ<span style="color:#fe2c24;">å½“ä¸”ä»…å½“ max != i æ—¶</span>ï¼Œè¯´æ˜ max å·²ç»è¢«äº¤æ¢è¿‡äº†ï¼Œéœ€è¦ç»§ç»­å‘ä¸‹é€’å‡ºï¼Œ<span style="color:#fe2c24;">ç›´åˆ° max == i æ—¶ï¼Œç»“æŸé€’å‡ºï¼Œå¼€å§‹å›æº¯</span>ã€‚å½“ç„¶ï¼Œè¿™é‡Œä¸éœ€è¦å›å¸¦ä»»ä½•å€¼æˆ–è€…å˜é‡ï¼Œå³è¯¥é€’å½’å‡½æ•°çš„è¿”å›ç±»å‹ä¸º viod ã€‚</strong></p> 
</blockquote> 
<p><strong>ä»£ç å¦‚ä¸‹ï¼š</strong></p> 
<blockquote> 
 <pre><code class="language-java">    //ä¸‹æ½œ
    public void down(int i) {
        int left = 2 * i + 1;
        int right = left + 1;
        int max = i;
        if (left &lt; size &amp;&amp; arr[left] &gt; arr[max]) {
            max = left;
        }
        if (right &lt; size &amp;&amp; arr[right] &gt; arr[max]) {
            max = right;
        }
        if (max != i) {

            //äº¤æ¢
            swap(i,max);

            //ç»§ç»­ä¸‹æ½œ
            down(max);
        }
    }</code></pre> 
 <p></p> 
</blockquote> 
<h3 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%203.3%C2%A0%E5%AE%9E%E7%8E%B0%E5%A0%86%E7%9A%84%E6%A0%B8%E5%BF%83%E6%96%B9%E6%B3%95%20-%20%E4%BA%A4%E6%8D%A2%E5%85%83%E7%B4%A0%20swap(int%20i%2Cint%20j)">Â  Â  Â  Â  3.3Â å®ç°å †çš„æ ¸å¿ƒæ–¹æ³• - äº¤æ¢å…ƒç´  swap(int i,int j)</h3> 
<p>Â  Â  Â  Â  <strong><span style="color:#fe2c24;">äº¤æ¢æ•°ç»„ç´¢å¼•ä¸­ i ä¸ j å¤„çš„å…ƒç´ </span>ã€‚</strong></p> 
<p><strong>ä»£ç å¦‚ä¸‹ï¼š</strong></p> 
<blockquote> 
 <pre><code class="language-java">    //äº¤æ¢
    public void swap(int i, int j) {
        int temp = arr[i];
        arr[i] = arr[j];
        arr[j] = temp;
    }</code></pre> 
 <p></p> 
</blockquote> 
<h3 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%203.4%C2%A0%E5%AE%9E%E7%8E%B0%E5%A0%86%E6%A0%B8%E5%BF%83%E6%96%B9%E6%B3%95%20-%20%E5%88%A0%E9%99%A4%E5%A0%86%E9%A1%B6%E5%85%83%E7%B4%A0%20poll()">Â  Â  Â  Â  3.4Â å®ç°å †æ ¸å¿ƒæ–¹æ³• - åˆ é™¤å †é¡¶å…ƒç´  poll()</h3> 
<p>Â  Â  Â  Â  <strong>å…·ä½“å®ç°æ€è·¯ï¼šä¸ºäº†æ›´é«˜æ•ˆç‡çš„åˆ é™¤å †é¡¶å…ƒç´ åä¿æŒåŸæ¥å¤§é¡¶å †æˆ–è€…å°é¡¶å †çš„è§„åˆ™ã€‚</strong></p> 
<p><strong>Â  Â  Â  Â  <span style="color:#fe2c24;">æ­¥éª¤ä¸€ï¼šå…ˆå°†å †é¡¶å…ƒç´ ä¸æœ€åä¸€ä¸ªå…ƒç´ è¿›è¡Œäº¤æ¢ã€‚å³ arr[0] = arr[size - 1] ã€‚</span></strong></p> 
<p><span style="color:#fe2c24;"><strong>Â  Â  Â  Â  æ­¥éª¤äºŒï¼šå°† size-- ã€‚</strong></span></p> 
<p><strong><span style="color:#fe2c24;">Â  Â  Â  Â  æ­¥éª¤ä¸‰ï¼šäº¤æ¢åçš„å †ï¼Œå¯èƒ½ä¼šä¸æ»¡è¶³å¤§é¡¶å †æˆ–è€…å°é¡¶å †çš„è§„åˆ™ï¼Œåˆ™éœ€è¦å°†å †é¡¶å…ƒç´ è¿›è¡Œä¸‹æ½œè°ƒæ•´ï¼Œæ‰¾åˆ°åˆé€‚çš„ä½ç½®å­˜æ”¾è¯¥å…ƒç´ ã€‚æœ€åéœ€è¦è¿”å›åˆ é™¤çš„å…ƒç´ ã€‚</span></strong></p> 
<p><strong>ä»£ç å¦‚ä¸‹ï¼š</strong></p> 
<blockquote> 
 <pre><code class="language-java">    //åˆ é™¤å †é¡¶å…ƒç´ 
    public int poll() {
        if (isEmpty()) {
            return 0;
        }
        int t = arr[0];
        arr[0] = arr[size - 1];
        size--;
        //ä¸‹æ½œ
        down(0);

        return t;
    }</code></pre> 
 <p><strong>Â  Â  Â  Â  æ³¨æ„ï¼šåœ¨åˆ é™¤å †é¡¶å…ƒç´ ä¹‹å‰ï¼Œéœ€è¦å…ˆåˆ¤æ–­å½“å‰çš„æ•°ç»„æ˜¯å¦ä¸ºç©ºæ•°ç»„ã€‚</strong></p> 
</blockquote> 
<p>Â  Â  Â  Â  <strong>åŒç†ï¼Œè‹¥éœ€è¦åˆ é™¤æŒ‡å®šå †ä¸­çš„å…ƒç´ ç´¢å¼•ï¼Œå®ç°æ€è·¯æ˜¯ä¸€æ ·çš„ã€‚</strong></p> 
<p><strong>ä»£ç å¦‚ä¸‹ï¼š</strong></p> 
<blockquote> 
 <pre><code class="language-java">    //æŒ‡å®šåˆ é™¤å…ƒç´ 
    public int poll(int i) {
        if (i &gt; size) {
            return 0;
        }
        int temp = arr[i];
        arr[i] = arr[size - 1];
        size--;
        //ä¸‹æ½œ
        down(i);
        return temp;
    }</code></pre> 
 <p><strong>Â  Â  Â  Â  å…ˆåˆ¤æ–­ç´¢å¼•æ˜¯å¦åˆæ³•ï¼Œè‹¥ä¸åˆæ³•ï¼Œåˆ™è¿”å› 0 æˆ–è€…æŠ›å‡ºå¼‚å¸¸ä¹Ÿå¯ä»¥ã€‚</strong></p> 
</blockquote> 
<h3 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%203.5%C2%A0%E5%AE%9E%E7%8E%B0%E5%A0%86%E7%9A%84%E6%A0%B8%E5%BF%83%E6%96%B9%E6%B3%95%20-%20%E6%9B%BF%E6%8D%A2%E5%A0%86%E9%A1%B6%E5%85%83%E7%B4%A0%20replace(int%20i)">Â  Â  Â  Â  3.5Â å®ç°å †çš„æ ¸å¿ƒæ–¹æ³• - æ›¿æ¢å †é¡¶å…ƒç´  replace(int i)</h3> 
<p>Â  Â  Â  Â  <strong>å…·ä½“æ€è·¯ä¸ºï¼š<span style="color:#fe2c24;">å…ˆåˆ¤æ–­è¯¥æ•°ç»„æ˜¯å¦ä¸ºç©ºæ•°ç»„ï¼Œè‹¥ä¸ä¸ºç©ºæ•°ç»„ï¼Œåˆ™ç›´æ¥æ›¿æ¢å †é¡¶å…ƒç´  arr[0] = iï¼›ä¹‹åå¯èƒ½ä¼šä¸æ»¡è¶³å¤§é¡¶å †æˆ–è€…å°é¡¶å †çš„è§„åˆ™ï¼Œæ‰€ä»¥ç´¢å¼•ä¸º 0 å¤„éœ€è¦ä¸‹æ½œè°ƒæ•´ï¼Œæ‰¾åˆ°åˆé€‚çš„ä½ç½®å­˜æ”¾å…ƒç´ ã€‚</span></strong></p> 
<p><strong>ä»£ç å®ç°ï¼š</strong></p> 
<blockquote> 
 <pre><code class="language-java">    //æ›¿æ¢å †é¡¶å…ƒç´ 
    public void replace(int i) {
        if (isEmpty()) {
            return;
        }
        arr[0] = i;
        down(0);
    }</code></pre> 
 <p></p> 
</blockquote> 
<h3 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%203.6%C2%A0%E5%AE%9E%E7%8E%B0%E5%A0%86%E7%9A%84%E6%A0%B8%E5%BF%83%E6%96%B9%E6%B3%95%20-%20%E6%B7%BB%E5%8A%A0%E5%85%83%E7%B4%A0%20offer(int%20value)">Â  Â  Â  Â  3.6Â å®ç°å †çš„æ ¸å¿ƒæ–¹æ³• - æ·»åŠ å…ƒç´  offer(int value)</h3> 
<p>Â  Â  Â  Â  <strong>å…·ä½“å®ç°æ€è·¯ï¼šå…ˆåˆ¤æ–­å½“å‰ç´¢å¼•ä¸º <span style="color:#fe2c24;">i = size</span> å¤„çš„åŒäº²èŠ‚ç‚¹ä¸º<span style="color:#fe2c24;"> j = (iÂ - 1) / 2 </span>ï¼Œåˆ¤æ–­ <span style="color:#fe2c24;">arr[j]</span> ä¸Â <span style="color:#fe2c24;">value</span> çš„å¤§å°ï¼Œè‹¥ä¸ºå¤§é¡¶å †è§„åˆ™ï¼Œåˆ™å½“Â <span style="color:#fe2c24;">arr[j] &gt; value</span> æ—¶ï¼Œä¸éœ€è¦ç»§ç»­å¾€ä¸Šèµ°äº†ï¼Œåœ¨ <span style="color:#fe2c24;">i </span>å¤„å­˜æ”¾ <span style="color:#fe2c24;">value </span>å³å¯ <span style="color:#fe2c24;">arr[i] = value </span>ï¼›å½“Â <span style="color:#fe2c24;">arr[j] &lt;= value</span> æ—¶ï¼Œå…ˆå°† <span style="color:#fe2c24;">arr[j] </span>å¤„çš„å…ƒç´ å­˜æ”¾åœ¨ <span style="color:#fe2c24;">arr[i] </span>ä¸­ï¼Œæ¥ç€éœ€è¦ç»§ç»­å¾€ä¸Šèµ°ï¼Œ<span style="color:#fe2c24;"> i = j ï¼Œj = (i - 1) / 2 </span>ç›´åˆ°<span style="color:#fe2c24;"> i == 0 æˆ–è€… arr[j] &gt; value </span>æ—¶ï¼Œé€€å‡ºå¾ªç¯ã€‚åœ¨<span style="color:#fe2c24;"> arr[i] </span>å¤„å­˜æ”¾ <span style="color:#fe2c24;">value</span> ã€‚</strong></p> 
<p><strong>ä»£ç å¦‚ä¸‹ï¼š</strong></p> 
<blockquote> 
 <pre><code class="language-java">    //æ·»åŠ å…ƒç´ 
    public boolean offer(int value) {
        if (isFull()) {
            return false;
        }
        int i = size;
        int j = (size - 1) / 2;
        while (i &gt; 0 &amp;&amp; arr[j] &lt; value) {
            arr[i] = arr[j];
            i = j;
            j = (i - 1) / 2;
        }
        arr[i] = value;
        size++;
        return true;
    }</code></pre> 
 <p>Â  Â  Â  Â <strong> éœ€è¦æ³¨æ„ï¼šæ·»åŠ å…ƒç´ å‰ï¼Œéœ€è¦å…ˆåˆ¤æ–­è¯¥æ•°ç»„æ˜¯å¦æ»¡äº†ã€‚è¿˜æœ‰æ·»åŠ å®Œä¹‹åï¼Œéœ€è¦è¿›è¡Œ <span style="color:#fe2c24;">size++</span> ã€‚</strong></p> 
</blockquote> 
<h3 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%203.7%C2%A0%E5%AE%9E%E7%8E%B0%E5%A0%86%E7%9A%84%E6%A0%B8%E5%BF%83%E6%96%B9%E6%B3%95%20-%20%E5%BB%BA%E5%A0%86%20heapify()">Â  Â  Â  Â  3.7Â å®ç°å †çš„æ ¸å¿ƒæ–¹æ³• - å»ºå † heapify()</h3> 
<p>Â  Â  Â  Â  <strong>è¯¥æ–¹æ³•å®ç°çš„æ„ä¹‰ï¼Œè‹¥éšæœºç»™å‡ºä¸€ä¸ªæ•°ç»„ï¼Œéœ€è¦å®ç°ç”±å¤§é¡¶å †æˆ–è€…å°é¡¶å †çš„ç»“æ„å­˜æ”¾å…ƒç´ ã€‚å› æ­¤å°±ä¼šç”¨åˆ°è¯¥æ–¹æ³•ã€‚</strong></p> 
<p><strong>Â  Â  Â  Â  å®ç°æ€è·¯ä¸ºï¼š<span style="color:#fe2c24;">éœ€è¦æ‰¾åˆ°æœ€åä¸€ä¸ªéå¶å­èŠ‚ç‚¹ï¼Œä»åå¾€å‰ï¼Œå°†å½“å‰çš„å…ƒç´ è¿›è¡Œä¸‹æ½œå¤„ç†å³å¯å®Œæˆå»ºå †ã€‚</span></strong></p> 
<p><strong>ä»£ç å¦‚ä¸‹ï¼š</strong></p> 
<blockquote> 
 <pre><code class="language-java">    //å»ºå †
    public void heapify() {

        //å…ˆæ‰¾åˆ°æœ€åéå¶å­èŠ‚ç‚¹
        int lastNonLeafNodes = size / 2 - 1;
        for (int i = lastNonLeafNodes; i &gt;= 0 ; i--) {
            //ä¸‹æ½œ
            down(i);
        }
    }</code></pre> 
 <p></p> 
</blockquote> 
<h3 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%203.8%20%E5%AE%9E%E7%8E%B0%E5%A0%86%E7%9A%84%E6%A0%B8%E5%BF%83%E6%96%B9%E6%B3%95%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81">Â  Â  Â  Â  3.8 å®ç°å †çš„æ ¸å¿ƒæ–¹æ³•å®Œæ•´ä»£ç </h3> 
<blockquote> 
 <pre><code class="language-java">public class MyHeap {
    public int[] arr;
    public int size;

    public MyHeap(int capacity) {
        arr = new int[capacity];
    }

    public MyHeap(int[] arr) {
        this.arr = arr;
        this.size = arr.length;
        heapify();
    }

    //è·å–æ ˆé¡¶å…ƒç´ 
    public int peek() {
        if (isEmpty()) {
            return -1;
        }
        return arr[0];
    }

    //åˆ é™¤å †é¡¶å…ƒç´ 
    public int poll() {
        if (isEmpty()) {
            return 0;
        }
        int t = arr[0];
        arr[0] = arr[size - 1];
        size--;
        //ä¸‹æ½œ
        down(0);

        return t;
    }

    //æŒ‡å®šåˆ é™¤å…ƒç´ 
    public int poll(int i) {
        if (i &gt; size) {
            return 0;
        }
        int temp = arr[i];
        arr[i] = arr[size - 1];
        size--;
        //ä¸‹æ½œ
        down(i);
        return temp;
    }

    //æ›¿æ¢å †é¡¶å…ƒç´ 
    public void replace(int i) {
        if (isEmpty()) {
            return;
        }
        arr[0] = i;
        down(0);
    }


    //æ·»åŠ å…ƒç´ 
    public boolean offer(int value) {
        if (isFull()) {
            return false;
        }
        int i = size;
        int j = (size - 1) / 2;
        while (i &gt; 0 &amp;&amp; arr[j] &lt; value) {
            arr[i] = arr[j];
            i = j;
            j = (i - 1) / 2;
        }
        arr[i] = value;
        size++;
        return true;
    }

    //å»ºå †
    public void heapify() {

        //å…ˆæ‰¾åˆ°æœ€åéå¶å­èŠ‚ç‚¹
        int lastNonLeafNodes = size / 2 - 1;
        for (int i = lastNonLeafNodes; i &gt;= 0 ; i--) {
            //ä¸‹æ½œ
            down(i);
        }
    }

    //ä¸‹æ½œ
    public void down(int i) {
        int left = 2 * i + 1;
        int right = left + 1;
        int max = i;
        if (left &lt; size &amp;&amp; arr[left] &gt; arr[max]) {
            max = left;
        }
        if (right &lt; size &amp;&amp; arr[right] &gt; arr[max]) {
            max = right;
        }
        if (max != i) {

            //äº¤æ¢
            swap(i,max);

            //ç»§ç»­ä¸‹æ½œ
            down(max);
        }
    }

    //äº¤æ¢
    public void swap(int i, int j) {
        int temp = arr[i];
        arr[i] = arr[j];
        arr[j] = temp;
    }


    //åˆ¤æ–­æ˜¯å¦ä¸ºç©ºæ•°ç»„
    public boolean isEmpty() {
        return size == 0;
    }

    //åˆ¤æ–­æ˜¯å¦ä¸ºæ»¡æ•°ç»„
    public boolean isFull() {
        return  size == arr.length;
    }
}</code></pre> 
 <p></p> 
</blockquote> 
<p></p> 
<h2 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%204.0%20TOP%20-%20K%20%E9%97%AE%E9%A2%98%EF%BC%9A%E6%9C%80%E5%B0%8F%E7%9A%84%20K%20%E4%B8%AA%E6%95%B0">Â  Â  Â  Â  4.0 TOP - K é—®é¢˜ï¼šæœ€å°çš„ K ä¸ªæ•°</h2> 
<blockquote> 
 <p><strong>é¢˜ç›®ï¼š</strong></p> 
 <p><strong>Â Â Â Â Â Â Â Â è®¾è®¡ä¸€ä¸ªç®—æ³•ï¼Œæ‰¾å‡ºæ•°ç»„ä¸­æœ€å°çš„kä¸ªæ•°ã€‚ä»¥ä»»æ„é¡ºåºè¿”å›è¿™ k ä¸ªæ•°å‡å¯ã€‚</strong></p> 
 <p><strong>ç¤ºä¾‹ï¼š</strong></p> 
 <pre><strong>è¾“å…¥ï¼š</strong> <strong>arr = [1,3,5,7,2,4,6,8], k = 4
è¾“å‡ºï¼š [1,2,3,4]</strong>
</pre> 
 <p><strong>æç¤ºï¼š</strong></p> 
 <p><strong><code>0 &lt;= len(arr) &lt;= 100000</code></strong></p> 
 <p><strong><code>0 &lt;= k &lt;= min(100000, len(arr))</code></strong></p> 
 <p></p> 
 <p><strong>OJ é“¾æ¥ï¼š</strong></p> 
 <p><a href="https://leetcode.cn/problems/smallest-k-lcci/" rel="nofollow" title="é¢è¯•é¢˜ 17.14.Â æœ€å°Kä¸ªæ•°">é¢è¯•é¢˜ 17.14.Â æœ€å°Kä¸ªæ•°</a></p> 
</blockquote> 
<h3 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%204.1%20%E5%AE%9E%E7%8E%B0%E6%9C%80%E5%B0%8F%20k%20%E4%B8%AA%E6%95%B0%E7%9A%84%E6%80%9D%E8%B7%AF">Â  Â  Â  Â  4.1 å®ç°æœ€å° k ä¸ªæ•°çš„æ€è·¯</h3> 
<p>Â  Â  Â  Â  <strong>å…·ä½“æ€è·¯ä¸ºï¼š<span style="color:#fe2c24;">ç»“åˆå¤§é¡¶å †çš„æ•°æ®ç»“æ„çš„ç‰¹ç‚¹ï¼Œæ ¹èŠ‚ç‚¹çš„å…ƒç´ æ°¸è¿œæ¯”å­©å­èŠ‚ç‚¹çš„å…ƒç´ å¤§ã€‚å…ˆå°†ç»™å®šçš„ arr æ•°ç»„çš„å‰ k ä¸ªå…ƒç´ ç›´æ¥é€šè¿‡ heap.offer() æ–¹æ³•æ·»åŠ åˆ°å¤§é¡¶å †ä¸Šï¼Œç„¶å arr æ•°ç»„å‰©ä¸‹çš„å…ƒç´ éœ€è¦è·Ÿå †é¡¶å…ƒç´ ç›¸å¯¹æ¯”ï¼Œè‹¥å †é¡¶å…ƒç´ å¤§äº arr[i]Â ä¸­çš„å…ƒç´ ï¼Œåˆ™éœ€è¦è¿›è¡Œäº¤æ¢ï¼Œå°† arr[i] çš„å…ƒç´ æ›¿æ¢åˆ°å †é¡¶ï¼Œæ¥ç€è¿˜ä¸èƒ½ç»“æŸï¼Œæœ‰å¯èƒ½æ›¿æ¢å®Œçš„å…ƒç´ å°±ä¸ç¬¦åˆå¤§é¡¶å †çš„è§„åˆ™äº†ï¼Œå› æ­¤è¿˜éœ€è¦å°†å †é¡¶å…ƒç´ ä¸‹æ½œå¤„ç†è°ƒæ•´ï¼Œæ‰¾åˆ°åˆé€‚çš„ä½ç½®å­˜æ”¾è¯¥å…ƒç´ ï¼›è‹¥å †é¡¶å…ƒç´ ä¸å¤§äº arr[i] ä¸­çš„å…ƒç´ ï¼Œåˆ™ä¸éœ€è¦äº¤æ¢ã€‚ä¸€ç›´å°† arr æ•°ç»„ä¸­çš„å…ƒç´ éå†ç»“æŸï¼Œåˆ™å¾ªç¯åœæ­¢ã€‚æœ€åå †ä¸Šå­˜å‚¨çš„ k ä¸ªå…ƒç´ å°±æ˜¯è¯¥æ•°ç»„ arr ä¸­æœ€å°çš„å…ƒç´ äº†ã€‚</span></strong></p> 
<h3 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%204.2%20%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0%E6%9C%80%E5%B0%8F%20k%20%E4%B8%AA%E6%95%B0" style="background-color:transparent;">Â  Â  Â  Â  4.2 ä»£ç å®ç°æœ€å° k ä¸ªæ•°</h3> 
<blockquote> 
 <pre><code class="language-java">public class Solution {
    public int[] smallestK(int[] arr, int k) {
        MaxHeap heap = new MaxHeap(k);
        for(int i = 0; i &lt; k ; i++) {
            heap.offer(arr[i]);
        }
        for(int i = k; i &lt; arr.length; i++) {
            if(heap.peek() &gt; arr[i]) {
                heap.arr[0] = arr[i];
                heap.down(0);
            }
        }
        return heap.arr;
    }

}

//å®ç°ä¸€ä¸ªå¤§é¡¶å †
class MaxHeap {
    int[] arr;
    int size;

    public MaxHeap(int capacity) {
        arr = new int[capacity];
    }

    public MaxHeap(int[] smallestK) {
        this.arr = smallestK;
        this.size = smallestK.length;
    }

    //æ’å…¥å…ƒç´ 
    public boolean offer(int value) {
        if(isFull()) {
            return false;
        }
        int i = size;
        int j = (i - 1) / 2;
        while(i &gt; 0 &amp;&amp; arr[j] &lt; value) {
            arr[i] = arr[j];
            i = j;
            j = (i - 1) / 2;
        }
        arr[i] = value;
        size++;
        return true;
    }

    //åˆ é™¤å †é¡¶å…ƒç´ 
    public int poll() {
        if(isEmpty()) {
            return 0;
        }
        int ret = arr[0];
        arr[0] = arr[size - 1];
        size--;
        down(0);
        return ret;
    }
    //ä¸‹æ½œ
    public void down(int i) {
        int left = 2 * i + 1;
        int right = left + 1;
        int max = i;
        if(left &lt; size &amp;&amp; arr[left] &gt; arr[max]) {
            max = left;
        }
        if(right &lt; size &amp;&amp; arr[right] &gt; arr[max]) {
            max = right;
        }
        if(max != i) {
            swap(max,i);
            down(max);
        }

    }

    //äº¤æ¢
    public void swap(int i, int j) {
        int temp = arr[i];
        arr[i] = arr[j];
        arr[j] = temp;
    }

    //è·å–å †é¡¶å…ƒç´ 
    public int peek() {
        if(isEmpty()) {
            return 0;
        }
        return arr[0];
    }

    //åˆ¤æ–­æ˜¯å¦ä¸ºç©º
    public boolean isEmpty() {
        return size == 0;
    }

    //åˆ¤æ–­æ˜¯å¦ä¸ºæ»¡
    public boolean isFull() {
        return size == arr.length;
    }

}</code></pre> 
 <p></p> 
</blockquote> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/67/9a/i6YZfPns_o.gif"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/06b4853c0eec41970a130dbf4da7b697/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">å®½å¸¦ä¿¡å·å¤„ç†å®ç°DOAä¼°è®¡ï¼ˆISMç®—æ³•ã€MUSICã€MVDRã€CBFï¼‰</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/12e37005d8c84051484e525f9cdfce6e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">redisTemplate.opsForValue() æ‡‚è¿™äº›å°±å¤Ÿäº†</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ç¼–ç¨‹å¤§å’–.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>