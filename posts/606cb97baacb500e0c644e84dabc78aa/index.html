<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>è¯¦ç»†å‰–æMySQLä¸´é”®é” - ç¼–ç¨‹å¤§å’–</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/606cb97baacb500e0c644e84dabc78aa/">
  <meta property="og:site_name" content="ç¼–ç¨‹å¤§å’–">
  <meta property="og:title" content="è¯¦ç»†å‰–æMySQLä¸´é”®é”">
  <meta property="og:description" content="ğŸ’—æ¨èé˜…è¯»æ–‡ç« ğŸ’—
ğŸŒ¸JavaSEç³»åˆ—ğŸŒ¸ğŸ‘‰1ï¸âƒ£ã€ŠJavaSEç³»åˆ—æ•™ç¨‹ã€‹ğŸŒºMySQLç³»åˆ—ğŸŒºğŸ‘‰2ï¸âƒ£ã€ŠMySQLç³»åˆ—æ•™ç¨‹ã€‹ğŸ€JavaWebç³»åˆ—ğŸ€ğŸ‘‰3ï¸âƒ£ã€ŠJavaWebç³»åˆ—æ•™ç¨‹ã€‹ğŸŒ»SSMæ¡†æ¶ç³»åˆ—ğŸŒ»ğŸ‘‰4ï¸âƒ£ã€ŠSSMæ¡†æ¶ç³»åˆ—æ•™ç¨‹ã€‹ ğŸ‰æœ¬åšå®¢çŸ¥è¯†ç‚¹æ”¶å½•äºğŸ‰ğŸ‘‰ğŸš€ã€ŠMySQLç³»åˆ—æ•™ç¨‹ã€‹ğŸš€â€”&gt;âœˆï¸03ã€é”ã€äº‹åŠ¡åŸç†ã€MVCCã€‘âœˆï¸
æ–‡ç« ç›®å½• 2.4 ä¸´é”®é”2.4.1 ä¸´é”®é”çš„åŒºé—´æµ‹è¯•2.4.2 ä¸´é”®é”-æ™®é€šåˆ—1ï¼‰é—´éš™é”2ï¼‰è®°å½•é” 2.4.3 ä¸´é”®é”-æ™®é€šç´¢å¼•1ï¼‰éä¸´ç•Œå€¼2ï¼‰ä¸´ç•Œå€¼3ï¼‰èŒƒå›´å€¼ 2.4.4 ä¸´é”®é”-ä¸»é”®å’Œå”¯ä¸€ç´¢å¼•1ï¼‰éä¸´ç•Œå€¼2ï¼‰ä¸´ç•Œå€¼3ï¼‰èŒƒå›´å€¼ 2.4.5 ä¸´é”®é”æ€»ç»“ 2.4 ä¸´é”®é” 2.4.1 ä¸´é”®é”çš„åŒºé—´æµ‹è¯• ä¸´é”®é”ï¼ˆNext-Key Lockï¼‰ï¼šä¸´é”®é”æ˜¯æŸ¥è¯¢æ—¶InnoDBæ ¹æ®æŸ¥è¯¢çš„æ¡ä»¶è€Œé”å®šçš„ä¸€ä¸ªèŒƒå›´ï¼Œè¿™ä¸ªèŒƒå›´ä¸­åŒ…å«æœ‰é—´éš™é”å’Œè®°å½•é”ï¼›ä¸´é”®é”=é—´éš™é”&#43;è®°å½•é”ã€‚
å…¶è®¾è®¡çš„ç›®çš„æ˜¯ä¸ºäº†è§£å†³Phantom Problem(å¹»è¯»)ï¼›ä¸»è¦æ˜¯é˜»å¡insertï¼Œä½†ç”±äºä¸´é”®é”ä¸­åŒ…å«æœ‰è®°å½•é”ï¼Œå› æ­¤ä¸´é”®é”æ‰€é”å®šçš„èŒƒå›´å†…å¦‚æœåŒ…å«æœ‰è®°å½•ï¼Œé‚£ä¹ˆä¹Ÿä¼šç»™è¿™äº›è®°å½•æ·»åŠ è®°å½•é”ï¼Œä»è€Œé€ æˆé˜»å¡é™¤insertä¹‹å¤–çš„æ“ä½œï¼›
Tipsï¼šä¸´é”®é”çš„ä¸»è¦ç›®çš„ï¼Œä¹Ÿæ˜¯ä¸ºäº†é¿å…å¹»è¯»(Phantom Read)ã€‚å¦‚æœæŠŠäº‹åŠ¡çš„éš”ç¦»çº§åˆ«é™çº§ä¸ºRCï¼Œä¸´é”®é”åˆ™ä¹Ÿä¼šå¤±æ•ˆã€‚
ä¸´é”®é”é”ä½çš„åŒºé—´ä¸ºï¼šè®°å½•&#43;åŒºé—´ï¼ˆå·¦å¼€å³é—­ï¼‰
å·¦å¼€å³é—­ï¼šä¸é”ä½å·¦è¾¹ï¼Œé”å³è¾¹
æµ‹è¯•è¡¨ï¼š
drop table if exists t2; CREATE TABLE `t2` ( `id` int(11) NOT NULL AUTO_INCREMENT, `num` int(11) , PRIMARY KEY (`id`) USING BTREE ) ENGINE = InnoDB ; INSERT INTO `t2`(`id`, `num`) VALUES (5, 5); INSERT INTO `t2`(`id`, `num`) VALUES (10, 10); INSERT INTO `t2`(`id`, `num`) VALUES (15, 15); INSERT INTO `t2`(`id`, `num`) VALUES (20, 20); -- åˆ›å»ºæ™®é€šç´¢å¼• create index idx_num on t2(num); -- åˆ›å»ºå”¯ä¸€ç´¢å¼• create unique index idx_num on t2(num); -- åˆ é™¤ç´¢å¼• drop index idx_num on t2; åŒºé—´ç¤ºæ„å›¾ï¼š Tipsï¼šé—´éš™é”åªä¼šé˜»å¡insertï¼Œè®°å½•é”ä¼šé˜»å¡ä»»æ„çš„é”ï¼ˆå•è¦æ³¨æ„æ’ä»–é”å’Œå…±äº«é”çš„å…³ç³»ï¼‰ï¼›">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-04-16T19:17:10+08:00">
    <meta property="article:modified_time" content="2024-04-16T19:17:10+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ç¼–ç¨‹å¤§å’–" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ç¼–ç¨‹å¤§å’–</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">è¯¦ç»†å‰–æMySQLä¸´é”®é”</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night-eighties">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <blockquote> 
 <p>ğŸ’—æ¨èé˜…è¯»æ–‡ç« ğŸ’—<br> <br></p> 
 <ul><li>ğŸŒ¸<strong>JavaSEç³»åˆ—</strong>ğŸŒ¸ğŸ‘‰1ï¸âƒ£<a href="https://coder1024.blog.csdn.net/article/details/119572236" rel="nofollow">ã€ŠJavaSEç³»åˆ—æ•™ç¨‹ã€‹</a></li><li>ğŸŒº<strong>MySQLç³»åˆ—</strong>ğŸŒºğŸ‘‰2ï¸âƒ£<a href="https://coder1024.blog.csdn.net/article/details/126493426" rel="nofollow">ã€ŠMySQLç³»åˆ—æ•™ç¨‹ã€‹</a></li><li>ğŸ€<strong>JavaWebç³»åˆ—</strong>ğŸ€ğŸ‘‰3ï¸âƒ£<a href="https://coder1024.blog.csdn.net/article/details/128447828" rel="nofollow">ã€ŠJavaWebç³»åˆ—æ•™ç¨‹ã€‹</a></li><li>ğŸŒ»<strong>SSMæ¡†æ¶ç³»åˆ—</strong>ğŸŒ»ğŸ‘‰4ï¸âƒ£<a href="https://coder1024.blog.csdn.net/article/details/128103219" rel="nofollow">ã€ŠSSMæ¡†æ¶ç³»åˆ—æ•™ç¨‹ã€‹</a></li></ul> 
</blockquote> 
<blockquote> 
 <p>ğŸ‰æœ¬åšå®¢çŸ¥è¯†ç‚¹æ”¶å½•äºğŸ‰ğŸ‘‰ğŸš€<a href="https://coder1024.blog.csdn.net/article/details/119572236" rel="nofollow">ã€ŠMySQLç³»åˆ—æ•™ç¨‹ã€‹</a>ğŸš€â€”&gt;âœˆï¸<a href="https://blog.csdn.net/Bb15070047748/article/details/131410295">03ã€é”ã€äº‹åŠ¡åŸç†ã€MVCCã€‘</a>âœˆï¸</p> 
</blockquote> 
<p></p> 
<div class="toc"> 
 <h4>æ–‡ç« ç›®å½•</h4> 
 <ul><li><ul><li><a href="#24__11" rel="nofollow">2.4 ä¸´é”®é”</a></li><li><ul><li><a href="#241__12" rel="nofollow">2.4.1 ä¸´é”®é”çš„åŒºé—´æµ‹è¯•</a></li><li><a href="#242__81" rel="nofollow">2.4.2 ä¸´é”®é”-æ™®é€šåˆ—</a></li><li><ul><li><a href="#1_100" rel="nofollow">1ï¼‰é—´éš™é”</a></li><li><a href="#2_118" rel="nofollow">2ï¼‰è®°å½•é”</a></li></ul> 
    </li><li><a href="#243__136" rel="nofollow">2.4.3 ä¸´é”®é”-æ™®é€šç´¢å¼•</a></li><li><ul><li><a href="#1_160" rel="nofollow">1ï¼‰éä¸´ç•Œå€¼</a></li><li><a href="#2_218" rel="nofollow">2ï¼‰ä¸´ç•Œå€¼</a></li><li><a href="#3_266" rel="nofollow">3ï¼‰èŒƒå›´å€¼</a></li></ul> 
    </li><li><a href="#244__309" rel="nofollow">2.4.4 ä¸´é”®é”-ä¸»é”®å’Œå”¯ä¸€ç´¢å¼•</a></li><li><ul><li><a href="#1_324" rel="nofollow">1ï¼‰éä¸´ç•Œå€¼</a></li><li><a href="#2_361" rel="nofollow">2ï¼‰ä¸´ç•Œå€¼</a></li><li><a href="#3_395" rel="nofollow">3ï¼‰èŒƒå›´å€¼</a></li></ul> 
    </li><li><a href="#245__438" rel="nofollow">2.4.5 ä¸´é”®é”æ€»ç»“</a></li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h3><a id="24__11"></a>2.4 ä¸´é”®é”</h3> 
<h4><a id="241__12"></a>2.4.1 ä¸´é”®é”çš„åŒºé—´æµ‹è¯•</h4> 
<p>ä¸´é”®é”ï¼ˆNext-Key Lockï¼‰ï¼šä¸´é”®é”æ˜¯æŸ¥è¯¢æ—¶InnoDBæ ¹æ®æŸ¥è¯¢çš„æ¡ä»¶è€Œé”å®šçš„ä¸€ä¸ªèŒƒå›´ï¼Œè¿™ä¸ªèŒƒå›´ä¸­åŒ…å«æœ‰é—´éš™é”å’Œè®°å½•é”ï¼›<strong>ä¸´é”®é”=é—´éš™é”+è®°å½•é”</strong>ã€‚<br> å…¶è®¾è®¡çš„ç›®çš„æ˜¯ä¸ºäº†è§£å†³Phantom Problem(å¹»è¯»)ï¼›ä¸»è¦æ˜¯é˜»å¡insertï¼Œä½†ç”±äºä¸´é”®é”ä¸­åŒ…å«æœ‰è®°å½•é”ï¼Œå› æ­¤ä¸´é”®é”æ‰€é”å®šçš„èŒƒå›´å†…å¦‚æœåŒ…å«æœ‰è®°å½•ï¼Œé‚£ä¹ˆä¹Ÿä¼šç»™è¿™äº›è®°å½•æ·»åŠ è®°å½•é”ï¼Œä»è€Œé€ æˆé˜»å¡é™¤insertä¹‹å¤–çš„æ“ä½œï¼›<br> Tipsï¼š<strong>ä¸´é”®é”çš„ä¸»è¦ç›®çš„ï¼Œä¹Ÿæ˜¯ä¸ºäº†é¿å…å¹»è¯»(Phantom Read)ã€‚å¦‚æœæŠŠäº‹åŠ¡çš„éš”ç¦»çº§åˆ«é™çº§ä¸ºRCï¼Œä¸´é”®é”åˆ™ä¹Ÿä¼šå¤±æ•ˆã€‚</strong><br> ä¸´é”®é”é”ä½çš„åŒºé—´ä¸ºï¼š<strong>è®°å½•+åŒºé—´ï¼ˆå·¦å¼€å³é—­ï¼‰</strong><br> <strong>å·¦å¼€å³é—­ï¼šä¸é”ä½å·¦è¾¹ï¼Œé”å³è¾¹</strong><br> æµ‹è¯•è¡¨ï¼š</p> 
<pre><code class="prism language-sql"><span class="token keyword">drop</span> <span class="token keyword">table</span> <span class="token keyword">if</span> <span class="token keyword">exists</span> t2<span class="token punctuation">;</span>

<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token identifier"><span class="token punctuation">`</span>t2<span class="token punctuation">`</span></span>  <span class="token punctuation">(</span>
  <span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>num<span class="token punctuation">`</span></span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token punctuation">,</span>
  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span><span class="token punctuation">)</span> <span class="token keyword">USING</span> <span class="token keyword">BTREE</span>
<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span> <span class="token operator">=</span> <span class="token keyword">InnoDB</span> <span class="token punctuation">;</span>

<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">`</span>t2<span class="token punctuation">`</span></span><span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token identifier"><span class="token punctuation">`</span>num<span class="token punctuation">`</span></span><span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">`</span>t2<span class="token punctuation">`</span></span><span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token identifier"><span class="token punctuation">`</span>num<span class="token punctuation">`</span></span><span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">`</span>t2<span class="token punctuation">`</span></span><span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token identifier"><span class="token punctuation">`</span>num<span class="token punctuation">`</span></span><span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">`</span>t2<span class="token punctuation">`</span></span><span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token identifier"><span class="token punctuation">`</span>num<span class="token punctuation">`</span></span><span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- åˆ›å»ºæ™®é€šç´¢å¼•</span>
<span class="token keyword">create</span> <span class="token keyword">index</span> idx_num <span class="token keyword">on</span> t2<span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- åˆ›å»ºå”¯ä¸€ç´¢å¼•</span>
<span class="token keyword">create</span> <span class="token keyword">unique</span> <span class="token keyword">index</span> idx_num <span class="token keyword">on</span> t2<span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- åˆ é™¤ç´¢å¼•</span>
<span class="token keyword">drop</span> <span class="token keyword">index</span> idx_num <span class="token keyword">on</span> t2<span class="token punctuation">;</span>
</code></pre> 
<ul><li>åŒºé—´ç¤ºæ„å›¾ï¼š</li></ul> 
<p><img src="https://images2.imgbox.com/ff/25/wfUO4DWB_o.png" alt=""><br> Tipsï¼šé—´éš™é”åªä¼šé˜»å¡insertï¼Œè®°å½•é”ä¼šé˜»å¡ä»»æ„çš„é”ï¼ˆå•è¦æ³¨æ„æ’ä»–é”å’Œå…±äº«é”çš„å…³ç³»ï¼‰ï¼›<br> ã€æµ‹è¯•æ¡ˆä¾‹-01-é—´éš™é”ã€‘<br> ä¸´é”®é”çš„è§¦å‘ä¸ä»…æŠŠæ¡ä»¶åŒºé—´ï¼ˆ11-16ï¼‰çš„æ•°æ®è¡Œé”ä½äº†ï¼Œè¿˜æŠŠä¸´é”®çš„æ•°æ®è¡Œç»Ÿç»Ÿé”ä½äº†ï¼›é”ä½çš„åŒºé—´ä¸ºï¼š(10,15]ã€(15,20]<br> <strong>é”ä½çš„idèŒƒå›´ï¼š10ï¼ˆä¸å«ï¼‰~20ï¼ˆå«ï¼‰</strong></p> 
<table><thead><tr><th>session1</th><th>session2</th></tr></thead><tbody><tr><td>begin;</td><td></td></tr><tr><td></td><td>begin;</td></tr><tr><td>select * from t2 where id&gt;11 and id&lt;16 for update;</td><td></td></tr><tr><td></td><td>insert into t2 values(10,0); â€“ ä¸é˜»å¡</td></tr><tr><td></td><td>insert into t2 values(11,0); â€“ é˜»å¡</td></tr><tr><td></td><td>insert into t2 values(15,0); â€“ é˜»å¡</td></tr><tr><td></td><td>insert into t2 values(16,0); â€“ é˜»å¡</td></tr><tr><td></td><td>insert into t2 values(18,10); â€“ é˜»å¡</td></tr><tr><td></td><td>insert into t2 values(20,0); â€“ é˜»å¡</td></tr><tr><td></td><td>insert into t2 values(21,0); â€“ ä¸é˜»å¡</td></tr><tr><td>rollback;</td><td></td></tr><tr><td></td><td>rollback;</td></tr></tbody></table> 
<p>ã€æ¡ˆä¾‹æµ‹è¯•-02-è®°å½•é”ã€‘<br> ä¸´é”®é”æ˜¯é—´éš™é”+è®°å½•é”çš„ï¼›ä¸Šè¿°æ¡ˆä¾‹ä¸­æµ‹è¯•äº†ä¸´é”®é”ä¸­çš„é—´éš™é”ï¼Œè¿™æ¬¡æˆ‘ä»¬æ¥æµ‹è¯•ä¸€ä¸‹ä¸´é”®é”ä¸­çš„è®°å½•é”ï¼›</p> 
<table><thead><tr><th>session1</th><th>session2</th></tr></thead><tbody><tr><td>begin;</td><td></td></tr><tr><td></td><td>begin;</td></tr><tr><td>select * from t2 where id&gt;11 and id&lt;16 for update;</td><td></td></tr><tr><td></td><td>select * from t2 where id=12 for update; â€“ é—´éš™é”,ä¸é˜»å¡</td></tr><tr><td></td><td>select * from t2 where id=15 for update; â€“ è®°å½•é”,é˜»å¡</td></tr><tr><td></td><td>select * from t2 where id=17 for update; â€“ é—´éš™é”,ä¸é˜»å¡</td></tr><tr><td></td><td>select * from t2 where id=20 for update; â€“ è®°å½•é”,é˜»å¡</td></tr><tr><td>rollback;</td><td></td></tr><tr><td></td><td>rollback;</td></tr></tbody></table> 
<h4><a id="242__81"></a>2.4.2 ä¸´é”®é”-æ™®é€šåˆ—</h4> 
<p>æˆ‘ä»¬åˆšåˆšæµ‹è¯•çš„æ˜¯ä»¥ä¸»é”®ç´¢å¼•è¿›è¡Œæµ‹è¯•ï¼Œå¦‚æœé‡‡ç”¨ä¸åŒçš„åˆ—ï¼ˆæ™®é€šåˆ—ã€æ™®é€šç´¢å¼•ã€å”¯ä¸€ç´¢å¼•/ä¸»é”®ç´¢å¼•ç­‰ï¼‰ï¼Œåˆ™ä¸´é”®é”ä¸­çš„é—´éš™é”å’Œè®°å½•é”ä½çš„å†…å®¹å¤§ä¸ç›¸åŒï¼›<br> å¦‚æœæŸ¥è¯¢çš„æ˜¯æ™®é€šåˆ—ï¼Œé‚£ä¹ˆè§¦å‘çš„ä¸´é”®é”ä¸ºï¼š<strong>è¡¨çº§åˆ«çš„é—´éš™é”+è¡¨çº§åˆ«çš„è®°å½•é”</strong></p> 
<ul><li>æµ‹è¯•è¡¨ï¼š</li></ul> 
<pre><code class="prism language-sql"><span class="token keyword">drop</span> <span class="token keyword">table</span> <span class="token keyword">if</span> <span class="token keyword">exists</span> t2<span class="token punctuation">;</span>

<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token identifier"><span class="token punctuation">`</span>t2<span class="token punctuation">`</span></span>  <span class="token punctuation">(</span>
  <span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>num<span class="token punctuation">`</span></span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token punctuation">,</span>
  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span><span class="token punctuation">)</span> <span class="token keyword">USING</span> <span class="token keyword">BTREE</span>
<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span> <span class="token operator">=</span> <span class="token keyword">InnoDB</span> <span class="token punctuation">;</span>

<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">`</span>t2<span class="token punctuation">`</span></span><span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token identifier"><span class="token punctuation">`</span>num<span class="token punctuation">`</span></span><span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">`</span>t2<span class="token punctuation">`</span></span><span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token identifier"><span class="token punctuation">`</span>num<span class="token punctuation">`</span></span><span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">`</span>t2<span class="token punctuation">`</span></span><span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token identifier"><span class="token punctuation">`</span>num<span class="token punctuation">`</span></span><span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">`</span>t2<span class="token punctuation">`</span></span><span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token identifier"><span class="token punctuation">`</span>num<span class="token punctuation">`</span></span><span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h5><a id="1_100"></a>1ï¼‰é—´éš™é”</h5> 
<p>ã€æ¡ˆä¾‹æµ‹è¯•-01-è¡¨çº§åˆ«é—´éš™é”ã€‘</p> 
<table><thead><tr><th>session1</th><th>session2</th></tr></thead><tbody><tr><td>begin;</td><td></td></tr><tr><td></td><td>begin;</td></tr><tr><td>select * from t2 where num=11 for update;</td><td></td></tr><tr><td></td><td>insert into t2 values(null,3); â€“ é˜»å¡</td></tr><tr><td></td><td>insert into t2 values(null,5); â€“ é˜»å¡</td></tr><tr><td></td><td>insert into t2 values(null,8); â€“ é˜»å¡</td></tr><tr><td></td><td>insert into t2 values(null,10); â€“ é˜»å¡</td></tr><tr><td></td><td>insert into t2 values(null,18); â€“ é˜»å¡</td></tr><tr><td></td><td>insert into t2 values(null,21); â€“ é˜»å¡</td></tr><tr><td>rollback;</td><td></td></tr><tr><td></td><td>rollback;</td></tr></tbody></table> 
<p><strong>Tipsï¼šinnoDBæŸ¥è¯¢å¦‚æœæ²¡æœ‰ä½¿ç”¨åˆ°ç´¢å¼•é»˜è®¤è§¦å‘è¡¨çº§ä¸´é”®é”ï¼ŒæŠŠæ‰€æœ‰çš„é—´éš™éƒ½é”ä½äº†</strong></p> 
<h5><a id="2_118"></a>2ï¼‰è®°å½•é”</h5> 
<p>ä»¥æ™®é€šåˆ—æŸ¥è¯¢é™¤äº†ä¼šè§¦å‘è¡¨çº§åˆ«çš„ä¸´é”®é”å¤–ï¼ŒåŒæ—¶è¿˜ä¼šè§¦å‘è¡¨çº§åˆ«çš„è®°å½•é”ï¼›<br> ã€æ¡ˆä¾‹æµ‹è¯•-02-è¡¨çº§åˆ«è®°å½•é”ã€‘</p> 
<table><thead><tr><th>session1</th><th>session2</th></tr></thead><tbody><tr><td>begin;</td><td></td></tr><tr><td></td><td>begin;</td></tr><tr><td>select * from t2 where num=11 for update;</td><td></td></tr><tr><td></td><td>select * from t2 where id=3 for update; â€“ é—´éš™é”,ä¸é˜»å¡</td></tr><tr><td></td><td>select * from t2 where id=5 for update; â€“ è®°å½•é”,é˜»å¡</td></tr><tr><td></td><td>select * from t2 where id=8 for update; â€“ é—´éš™é”,ä¸é˜»å¡</td></tr><tr><td></td><td>select * from t2 where id=15 for update; â€“ è®°å½•é”,é˜»å¡</td></tr><tr><td></td><td>select * from t2 where id=18 for update; â€“ é—´éš™é”,ä¸é˜»å¡</td></tr><tr><td></td><td>select * from t2 where id=20 for update; â€“ è®°å½•é”,é˜»å¡</td></tr><tr><td>rollback;</td><td></td></tr><tr><td></td><td>rollback;</td></tr></tbody></table> 
<h4><a id="243__136"></a>2.4.3 ä¸´é”®é”-æ™®é€šç´¢å¼•</h4> 
<p>å¦‚æœæŸ¥è¯¢çš„åˆ—ä¸ºæ™®é€šç´¢å¼•åˆ—ï¼Œè¦çœ‹è¢«æŸ¥è¯¢çš„è®°å½•æ˜¯å¦åœ¨ä¸´ç•Œå€¼ï¼Œä»¥åŠæ˜¯å¦æ˜¯èŒƒå›´æŸ¥è¯¢ï¼Œæ‰èƒ½åˆ¤æ–­ä¸´å»ºé”çš„èŒƒå›´ï¼›</p> 
<ul><li>è¢«æŸ¥è¯¢çš„è®°å½•æ˜¯å¦åœ¨ä¸´ç•Œå€¼æƒ…å†µï¼š 
  <ul><li>éä¸´ç•Œå€¼ï¼šé‚£ä¹ˆé—´éš™é”ä¸ºå½“å‰è®°å½•æ‰€åœ¨çš„åŒºé—´ï¼Œè®°å½•é”åˆ™ä¸ä¼šç”Ÿæ•ˆï¼ˆè®°å½•é”ä¸å­˜åœ¨ï¼‰ï¼›</li><li>ä¸´ç•Œå€¼ï¼šé‚£ä¹ˆé—´éš™é”ä¸ºç›¸é‚»çš„ä¸¤ä¸ªåŒºé—´ï¼Œè®°å½•é”é€€åŒ–æˆè¡Œé”ï¼ˆå³åªä¼šé”ä½è¢«æŸ¥è¯¢çš„é‚£æ¡è®°å½•ï¼‰ï¼›</li></ul> </li><li>èŒƒå›´æŸ¥è¯¢æƒ…å†µï¼šé—´éš™é”ä¸ºèŒƒå›´æ‰€æ¶‰åŠåˆ°çš„æ‰€æœ‰åŒºé—´ï¼Œè®°å½•é”ä¹Ÿä¼šå‡çº§ä¸ºèŒƒå›´é”æ¶‰åŠåˆ°çš„åŒºé—´</li></ul> 
<pre><code class="prism language-sql"><span class="token keyword">drop</span> <span class="token keyword">table</span> <span class="token keyword">if</span> <span class="token keyword">exists</span> t2<span class="token punctuation">;</span>

<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token identifier"><span class="token punctuation">`</span>t2<span class="token punctuation">`</span></span>  <span class="token punctuation">(</span>
  <span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>num<span class="token punctuation">`</span></span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token punctuation">,</span>
  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span><span class="token punctuation">)</span> <span class="token keyword">USING</span> <span class="token keyword">BTREE</span>
<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span> <span class="token operator">=</span> <span class="token keyword">InnoDB</span> <span class="token punctuation">;</span>

<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">`</span>t2<span class="token punctuation">`</span></span><span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token identifier"><span class="token punctuation">`</span>num<span class="token punctuation">`</span></span><span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">`</span>t2<span class="token punctuation">`</span></span><span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token identifier"><span class="token punctuation">`</span>num<span class="token punctuation">`</span></span><span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">`</span>t2<span class="token punctuation">`</span></span><span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token identifier"><span class="token punctuation">`</span>num<span class="token punctuation">`</span></span><span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">`</span>t2<span class="token punctuation">`</span></span><span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token identifier"><span class="token punctuation">`</span>num<span class="token punctuation">`</span></span><span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- åˆ›å»ºæ™®é€šç´¢å¼•</span>
<span class="token keyword">create</span> <span class="token keyword">index</span> idx_num <span class="token keyword">on</span> t2<span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h5><a id="1_160"></a>1ï¼‰éä¸´ç•Œå€¼</h5> 
<p>å½“ä½¿ç”¨æ™®é€šç´¢å¼•åˆ—æŸ¥è¯¢ï¼ŒæŸ¥è¯¢çš„è®°å½•ä¸å¤„äºä¸´ç•Œå€¼æ—¶ï¼Œ<strong>é‚£ä¹ˆé—´éš™é”ä¸ºè¢«æŸ¥è¯¢è®°å½•æ‰€åœ¨çš„åŒºé—´</strong>ï¼Œè®°å½•é”åˆ™ä¸ä¼šç”Ÿæ•ˆï¼›<br> ã€æµ‹è¯•æ¡ˆä¾‹-01-é—´éš™é”ã€‘</p> 
<table><thead><tr><th>session1</th><th>session2</th></tr></thead><tbody><tr><td>begin;</td><td></td></tr><tr><td></td><td>begin;</td></tr><tr><td>â€“ è§¦å‘é—´éš™é”ï¼Œé”ä½(15,20]åŒºé—´</td><td></td></tr><tr><td>select * from t2 where num=17 for update;</td><td></td></tr><tr><td></td><td>insert into t2 values(null,15); â€“ é˜»å¡</td></tr><tr><td></td><td>insert into t2 values(null,18); â€“ é˜»å¡</td></tr><tr><td></td><td>insert into t2 values(null,20); â€“ ä¸é˜»å¡</td></tr><tr><td>rollback;</td><td></td></tr><tr><td></td><td>rollback;</td></tr></tbody></table> 
<p>num=17è¿™æ¡è®°å½•ä¸æ˜¯ä¼šé”å®š(15,20]åŒºé—´å—ï¼Ÿä¸ºä»€ä¹ˆ15è¢«é˜»å¡äº†ï¼Œ20åè€Œæ²¡è¢«é˜»å¡å‘¢ï¼Ÿ<br> è¿™é‡Œéœ€è¦ç‰µæ‰¯åˆ°å¦ä¸€ä¸ªé—®é¢˜äº†ï¼Œåœ¨InnoDBä¸­ï¼Œ<strong>ç›¸åŒçš„æ™®é€šç´¢å¼•çš„å¶å­èŠ‚ç‚¹æ˜¯ä»¥ä¸»é”®çš„é¡ºåºè¿›è¡Œæ’åˆ—çš„</strong>ï¼Œæˆ‘ä»¬æ¥æ¨¡æ‹Ÿä¸€ä¸‹åˆšåˆšæ’å…¥çš„æ•°æ®åœ¨B+Treeä¸Šçš„å˜åŒ–ï¼š<br> <img src="https://images2.imgbox.com/bd/15/qJBUiXLd_o.png" alt=""><br> åªè€ƒè™‘å¶å­èŠ‚ç‚¹çš„å˜åŒ–ï¼Œå¯ä»¥çœ‹åˆ°åœ¨ä¸Šå›¾åœ¨æ¼”å˜çš„è¿‡ç¨‹ä¸­äº§ç”Ÿäº†åˆ†è£‚æƒ…å†µï¼ˆå‡è®¾æ¯ä¸ªå¶å­èŠ‚ç‚¹éƒ½åªå­˜å‚¨ä¸¤ä¸ªå…ƒç´ ï¼‰ï¼Œå¦‚æœæ™®é€šç´¢å¼•çš„é‡å¤å€¼å¤ªå¤šåŠ¿å¿…ä¼šé€ æˆå¤§é‡çš„åˆ†è£‚æƒ…å†µï¼Œå‡ä½æ’å…¥æ•ˆç‡ï¼Œå› æ­¤ç´¢å¼•åˆ—ä¸å®œé€‰æ‹©é‡å¤ç‡å¤ªå¤§çš„åˆ—ï¼›<br> å†çœ‹ä¸‹å›¾æ•°æ®åº“è¡¨ä¸­å®é™…å­˜å‚¨çš„åˆ—çš„æ ·å­æˆ‘ä»¬å°±ä¼šæ˜ç™½ä¸ºä»€ä¹ˆnum=20ä¸é˜»å¡ï¼Œnum=15é˜»å¡äº†</p> 
<ul><li>numç´¢å¼•åˆ—æ’åˆ—æƒ…å†µï¼š</li></ul> 
<p><img src="https://images2.imgbox.com/f9/99/C8MFKwJQ_o.png" alt=""><br> æŸ¥è¯¢ç¤ºæ„å›¾ï¼š<br> <img src="https://images2.imgbox.com/4e/01/oESgoSiB_o.png" alt=""><br> ã€æµ‹è¯•æ¡ˆä¾‹-02-é—´éš™é”ã€‘<br> å½“æˆ‘ä»¬æŠŠidåˆ—çš„å½±å“ä¹Ÿè®¡ç®—è¿›æ¥æ—¶ï¼Œæ•°æ®å°±ç¬¦åˆæˆ‘ä»¬æ­£å¸¸åˆ†æçš„æƒ…å†µäº†ï¼š</p> 
<table><thead><tr><th>session1</th><th>session2</th></tr></thead><tbody><tr><td>begin;</td><td></td></tr><tr><td></td><td>begin;</td></tr><tr><td>â€“ è§¦å‘é—´éš™é”ï¼Œé”ä½(15,20]åŒºé—´</td><td></td></tr><tr><td>select * from t2 where num=17 for update;</td><td></td></tr><tr><td></td><td>insert into t2 values(14,15); â€“ ä¸é˜»å¡</td></tr><tr><td></td><td>insert into t2 values(18,18); â€“ é˜»å¡</td></tr><tr><td></td><td>insert into t2 values(19,20); â€“ é˜»å¡</td></tr><tr><td>rollback;</td><td></td></tr><tr><td></td><td>rollback;<img src="https://images2.imgbox.com/b8/04/rV8p5Flf_o.png" alt=""></td></tr></tbody></table> 
<p>ã€æµ‹è¯•æ¡ˆä¾‹-03-è®°å½•é”ã€‘<br> å½“ä½¿ç”¨æ™®é€šç´¢å¼•åˆ—æŸ¥è¯¢ï¼ŒæŸ¥è¯¢çš„è®°å½•ä¸å¤„äºä¸´ç•Œå€¼æ—¶ï¼Œé‚£ä¹ˆé—´éš™é”ä¸ºè¢«æŸ¥è¯¢è®°å½•æ‰€åœ¨çš„åŒºé—´ï¼Œ<strong>è®°å½•é”åˆ™ä¸ä¼šç”Ÿæ•ˆ</strong></p> 
<table><thead><tr><th>session1</th><th>session2</th></tr></thead><tbody><tr><td>begin;</td><td></td></tr><tr><td></td><td>begin;</td></tr><tr><td>â€“ æ²¡æœ‰num=17çš„è¿™æ¡è®°å½•ï¼Œè®°å½•é”ä¸ä¼šå­˜åœ¨</td><td></td></tr><tr><td>select * from t2 where num=17 for update;</td><td></td></tr><tr><td></td><td>select * from t2 where num=15 for update; â€“ ä¸é˜»å¡</td></tr><tr><td></td><td>select * from t2 where num=16 for update; â€“ ä¸é˜»å¡</td></tr><tr><td></td><td>select * from t2 where num=17 for update; â€“ ä¸é˜»å¡</td></tr><tr><td></td><td>select * from t2 where num=20 for update; â€“ ä¸é˜»å¡</td></tr><tr><td>rollback;</td><td></td></tr><tr><td></td><td>rollback;</td></tr></tbody></table> 
<h5><a id="2_218"></a>2ï¼‰ä¸´ç•Œå€¼</h5> 
<p>ã€æµ‹è¯•æ¡ˆä¾‹-01-é—´éš™é”ã€‘<br> å½“ä½¿ç”¨æ™®é€šç´¢å¼•åˆ—æ¥æŸ¥è¯¢ï¼Œå¹¶ä¸”æŸ¥è¯¢çš„è®°å½•å¤„äºä¸´ç•Œå€¼æ—¶ï¼Œ<strong>é‚£ä¹ˆé—´éš™é”ä¸ºç›¸é‚»çš„ä¸¤ä¸ªåŒºé—´</strong>ï¼Œè®°å½•é”é€€åŒ–æˆè¡Œé”ï¼›<br> ä¸‹é¢æ¡ˆä¾‹å°†ä¼šé”ä½(10,15]ã€(15,20]ä¸¤ä¸ªåŒºé—´</p> 
<table><thead><tr><th>session1</th><th>session2</th></tr></thead><tbody><tr><td>begin;</td><td></td></tr><tr><td></td><td>begin;</td></tr><tr><td>â€“ è§¦å‘çš„é—´éš™é”çš„åŒºé—´ä¸º(10,15]ã€(15,20]</td><td></td></tr><tr><td>select * from t2 where num=15 for update;</td><td></td></tr><tr><td></td><td>insert into t2 values(null,8); â€“ ä¸é˜»å¡</td></tr><tr><td></td><td>insert into t2 values(null,10); â€“ é˜»å¡</td></tr><tr><td></td><td>insert into t2 values(null,11); â€“ é˜»å¡</td></tr><tr><td></td><td>insert into t2 values(null,15); â€“ é˜»å¡</td></tr><tr><td></td><td>insert into t2 values(null,18); â€“ é˜»å¡</td></tr><tr><td></td><td>insert into t2 values(null,20); â€“ ä¸é˜»å¡</td></tr><tr><td>rollback;</td><td></td></tr><tr><td></td><td>rollback;</td></tr></tbody></table> 
<p>å‘ç°å®é™…æ’å…¥çš„æ•°æ®è·Ÿæˆ‘ä»¬åˆ†æçš„æƒ…å†µä¸ä¸€è‡´ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬ä¾ç„¶ä¹Ÿè¦è§‚å¯ŸB+Treeçš„å®ç°ï¼š</p> 
<ul><li>ç´¢å¼•åº•å±‚æ„å»ºè¿‡ç¨‹ï¼š</li></ul> 
<p><img src="https://images2.imgbox.com/26/65/o4wpWGzE_o.png" alt=""></p> 
<ul><li>ä¸´é”®é”åŒºé—´ï¼š</li></ul> 
<p><img src="https://images2.imgbox.com/09/3f/eMyqdYw8_o.png" alt=""><br> <strong>15å¤„äº(10,15]å’Œ(15,20]ä¸¤ä¸ªä¸´é”®åŒºé—´ï¼Œå› æ­¤åœ¨ä¸¤ä¸ªåŒºé—´å†…çš„æ•°æ®è¡Œéƒ½è¢«é”ä½äº†</strong><br> ã€æµ‹è¯•æ¡ˆä¾‹-02-è®°å½•é”ã€‘<br> å½“ä½¿ç”¨æ™®é€šç´¢å¼•åˆ—æ¥æŸ¥è¯¢ï¼Œå¹¶ä¸”æŸ¥è¯¢çš„è®°å½•å¤„äºä¸´ç•Œå€¼æ—¶ï¼Œé‚£ä¹ˆé—´éš™é”ä¸ºç›¸é‚»çš„ä¸¤ä¸ªåŒºé—´ï¼Œ<strong>è®°å½•é”é€€åŒ–æˆè¡Œé”</strong>ï¼›</p> 
<table><thead><tr><th>session1</th><th>session2</th></tr></thead><tbody><tr><td>begin;</td><td></td></tr><tr><td></td><td>begin;</td></tr><tr><td>â€“ è®°å½•é”åªé”ä½num=15è¿™è¡Œè®°å½•</td><td></td></tr><tr><td>select * from t2 where num=15 for update;</td><td></td></tr><tr><td></td><td>select * from t2 where num=10 for update; â€“ ä¸é˜»å¡</td></tr><tr><td></td><td>select * from t2 where num=12 for update; â€“ ä¸é˜»å¡</td></tr><tr><td></td><td>select * from t2 where num=15 for update; â€“ é˜»å¡</td></tr><tr><td></td><td>select * from t2 where num=18 for update; â€“ ä¸é˜»å¡</td></tr><tr><td></td><td>select * from t2 where num=20 for update; â€“ ä¸é˜»å¡</td></tr><tr><td></td><td>select * from t2 where num=22 for update; â€“ ä¸é˜»å¡</td></tr><tr><td>rollback;</td><td></td></tr><tr><td></td><td>rollback;</td></tr></tbody></table> 
<h5><a id="3_266"></a>3ï¼‰èŒƒå›´å€¼</h5> 
<p>ã€æµ‹è¯•æ¡ˆä¾‹-01-é—´éš™é”ã€‘<br> å½“ä½¿ç”¨æ™®é€šç´¢å¼•è¿›è¡Œæ¡ä»¶èŒƒå›´æŸ¥è¯¢æ—¶ï¼Œ<strong>é‚£ä¹ˆé—´éš™é”æŸ¥è¯¢èŒƒå›´æ‰€æ¶‰åŠåˆ°çš„åŒºé—´</strong>ï¼Œè®°å½•é”ä¹Ÿä¼šå‡çº§ä¸ºæŸ¥è¯¢èŒƒå›´æ¶‰åŠåˆ°çš„åŒºé—´ï¼›</p> 
<table><thead><tr><th>session1</th><th>session2</th></tr></thead><tbody><tr><td>begin;</td><td></td></tr><tr><td></td><td>begin;</td></tr><tr><td>â€“ é—´éš™é”ä¸º(10,20]åŒºé—´</td><td></td></tr><tr><td>select * from t2 where num&gt;11 and num &lt;16 for update;</td><td></td></tr><tr><td></td><td>insert into t2 values(9,10); â€“ ä¸é˜»å¡</td></tr><tr><td></td><td>insert into t2 values(11,10); â€“ é˜»å¡ï¼ˆå‚è€ƒB+Treeçš„æ„å»ºï¼‰</td></tr><tr><td></td><td>insert into t2 values(11,11); â€“ é˜»å¡</td></tr><tr><td></td><td>insert into t2 values(12,12); â€“ é˜»å¡</td></tr><tr><td></td><td>insert into t2 values(15,15); â€“ é˜»å¡ï¼ˆè¢«è®°å½•é”é˜»å¡ï¼‰</td></tr><tr><td></td><td>insert into t2 values(18,18); â€“ é˜»å¡</td></tr><tr><td></td><td>insert into t2 values(19,20); â€“ é˜»å¡</td></tr><tr><td></td><td>insert into t2 values(21,20); â€“ ä¸é˜»å¡ï¼ˆå‚è€ƒB+Treeçš„æ„å»ºï¼‰</td></tr><tr><td>rollback;</td><td></td></tr><tr><td></td><td>rollback;</td></tr></tbody></table> 
<ul><li>åˆ†æåº•å±‚B+Treeæ„å»ºæƒ…å†µï¼š</li></ul> 
<p><img src="https://images2.imgbox.com/6e/b8/DWZXRGwj_o.png" alt=""><br> ã€æµ‹è¯•æ¡ˆä¾‹-02-è®°å½•é”ã€‘<br> å½“ä½¿ç”¨æ™®é€šç´¢å¼•è¿›è¡Œæ¡ä»¶èŒƒå›´æŸ¥è¯¢æ—¶ï¼Œé‚£ä¹ˆé—´éš™é”æŸ¥è¯¢èŒƒå›´æ‰€æ¶‰åŠåˆ°çš„åŒºé—´ï¼Œ<strong>è®°å½•é”ä¹Ÿä¼šå‡çº§ä¸ºæŸ¥è¯¢èŒƒå›´æ¶‰åŠåˆ°çš„åŒºé—´ï¼›</strong></p> 
<table><thead><tr><th>session1</th><th>session2</th></tr></thead><tbody><tr><td>begin;</td><td></td></tr><tr><td></td><td>begin;</td></tr><tr><td>â€“ è®°å½•é”çš„åŒºé—´ä¸º(10,20]åŒºé—´</td><td></td></tr><tr><td>select * from t2 where num&gt;11 and num &lt;16 for update;</td><td></td></tr><tr><td></td><td>select * from t2 where num=10 for update; â€“ ä¸é˜»å¡ï¼ˆå·¦å¼€å³é—­ï¼‰</td></tr><tr><td></td><td>select * from t2 where num=12 for update; â€“ ä¸é˜»å¡ï¼ˆå±äºé—´éš™ï¼‰</td></tr><tr><td></td><td>select * from t2 where num=15 for update; â€“ é˜»å¡ï¼ˆè§¦å‘è®°å½•é”ï¼‰</td></tr><tr><td></td><td>select * from t2 where num=16 for update; â€“ ä¸é˜»å¡ï¼ˆå±äºé—´éš™ï¼‰</td></tr><tr><td></td><td>select * from t2 where num=18 for update; â€“ ä¸é˜»å¡ï¼ˆå±äºé—´éš™ï¼‰</td></tr><tr><td></td><td>select * from t2 where num=20 for update; â€“ é˜»å¡ï¼ˆå·¦å¼€å³é—­ï¼Œè§¦å‘è®°å½•é”ï¼‰</td></tr><tr><td></td><td>select * from t2 where num=21 for update; â€“ ä¸é˜»å¡ï¼ˆå³æ˜¯é—´éš™ï¼Œä¹Ÿä¸åœ¨åŒºé—´ï¼‰</td></tr><tr><td>rollback;</td><td></td></tr><tr><td></td><td>rollback;</td></tr></tbody></table> 
<h4><a id="244__309"></a>2.4.4 ä¸´é”®é”-ä¸»é”®å’Œå”¯ä¸€ç´¢å¼•</h4> 
<p>å¦‚æœæŸ¥è¯¢çš„æ˜¯å”¯ä¸€ç´¢å¼•æˆ–ä¸»é”®ç´¢å¼•ï¼Œä¹Ÿè¦çœ‹è¢«æŸ¥è¯¢çš„è®°å½•æ˜¯å¦åœ¨ä¸´ç•Œå€¼ï¼›æ˜¯å¦æ˜¯èŒƒå›´æŸ¥è¯¢ç­‰</p> 
<ul><li>è¢«æŸ¥è¯¢çš„è®°å½•æ˜¯å¦åœ¨ä¸´ç•Œå€¼æƒ…å†µï¼š 
  <ul><li>ä¸åœ¨ä¸´ç•Œå€¼ï¼š<strong>é—´éš™é”ä¸ºå½“å‰è¢«æŸ¥è¯¢çš„è®°å½•æ‰€åœ¨çš„åŒºé—´ï¼Œè®°å½•é”ä¼šæ¶ˆå¤±ï¼›</strong></li><li>åœ¨ä¸´ç•Œå€¼ï¼š<strong>é—´éš™é”ä¼šæ¶ˆå¤±ï¼Œè®°å½•é”é€€åŒ–æˆè¡Œé”</strong></li></ul> </li><li>èŒƒå›´æŸ¥è¯¢æƒ…å†µï¼šé—´éš™é”ä¸ºèŒƒå›´æŸ¥è¯¢æ‰€æ¶‰åŠåˆ°çš„æ‰€æœ‰åŒºé—´ï¼Œè®°å½•é”ä¹Ÿä¼šå‡çº§ä¸ºèŒƒå›´æ‰€æ¶‰åŠåˆ°çš„åŒºé—´ï¼ˆå’Œæ™®é€šç´¢å¼•çš„æ•ˆæœä¸€è‡´ï¼‰ï¼›</li></ul> 
<p>åˆ›å»ºå”¯ä¸€ç´¢å¼•ï¼š</p> 
<pre><code class="prism language-sql"><span class="token comment">-- åˆ é™¤ç´¢å¼•</span>
<span class="token keyword">drop</span> <span class="token keyword">index</span> idx_num <span class="token keyword">on</span> t2<span class="token punctuation">;</span>
<span class="token comment">-- åˆ›å»ºå”¯ä¸€ç´¢å¼•</span>
<span class="token keyword">create</span> <span class="token keyword">unique</span> <span class="token keyword">index</span> idx_num <span class="token keyword">on</span> t2<span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h5><a id="1_324"></a>1ï¼‰éä¸´ç•Œå€¼</h5> 
<p>å”¯ä¸€ç´¢å¼•åœ¨æŸ¥è¯¢éä¸´ç•Œå€¼çš„è®°å½•æ—¶å’Œæ™®é€šç´¢å¼•çš„ç‰¹ç‚¹ä¸€æ ·ï¼Œå³==<strong>é—´éš™é”ä¸ºå½“å‰è®°å½•æ‰€åœ¨çš„åŒºé—´ï¼Œè®°å½•é”ä¸ç”Ÿæ•ˆï¼›</strong>==<br> ã€æµ‹è¯•æ¡ˆä¾‹-01-é—´éš™é”ã€‘</p> 
<table><thead><tr><th>session-01</th><th>session-02</th></tr></thead><tbody><tr><td>begin;</td><td></td></tr><tr><td></td><td>begin;</td></tr><tr><td>â€“ é—´éš™é”é”ä½çš„åŒºé—´ä¸º(15,20]</td><td></td></tr><tr><td>select * from t2 where num=17 for update;</td><td></td></tr><tr><td></td><td>insert into t2 values(null,11); â€“ ä¸é˜»å¡</td></tr><tr><td></td><td>insert into t2 values(null,15); â€“ ä¸é˜»å¡</td></tr><tr><td></td><td>insert into t2 values(null,16); â€“ é˜»å¡</td></tr><tr><td></td><td>insert into t2 values(null,18); â€“ é˜»å¡</td></tr><tr><td></td><td>insert into t2 values(null,20); â€“ ä¸é˜»å¡</td></tr><tr><td></td><td>insert into t2 values(null,21); â€“ ä¸é˜»å¡</td></tr></tbody></table> 
<ul><li>åˆ†ænumåˆ—ç´¢å¼•çš„B+Treeåº•å±‚æ„å»ºæƒ…å†µï¼š</li></ul> 
<p><img src="https://images2.imgbox.com/1a/56/eYBY0QPS_o.png" alt=""><br> Tipsï¼šå”¯ä¸€ç´¢å¼•å†²çªæ—¶MySQLä¼šç«‹å³å“åº”ï¼Œä¸ä¼šè§¦å‘ä¸´é”®é”<br> ã€æµ‹è¯•æ¡ˆä¾‹-02-è®°å½•é”ã€‘<br> å”¯ä¸€ç´¢å¼•åœ¨æŸ¥è¯¢éä¸´ç•Œå€¼çš„è®°å½•æ—¶ï¼Œè®°å½•é”ä¸ç”Ÿæ•ˆï¼›</p> 
<table><thead><tr><th>session1</th><th>session2</th></tr></thead><tbody><tr><td>begin;</td><td></td></tr><tr><td></td><td>begin;</td></tr><tr><td>â€“ æ²¡æœ‰num=17çš„è¿™æ¡è®°å½•ï¼Œè®°å½•é”ä¸ä¼šå­˜åœ¨</td><td></td></tr><tr><td>select * from t2 where num=17 for update;</td><td></td></tr><tr><td></td><td>select * from t2 where num=15 for update; â€“ ä¸é˜»å¡</td></tr><tr><td></td><td>select * from t2 where num=16 for update; â€“ ä¸é˜»å¡</td></tr><tr><td></td><td>select * from t2 where num=17 for update; â€“ ä¸é˜»å¡</td></tr><tr><td></td><td>select * from t2 where num=20 for update; â€“ ä¸é˜»å¡</td></tr><tr><td>rollback;</td><td></td></tr><tr><td></td><td>rollback;</td></tr></tbody></table> 
<h5><a id="2_361"></a>2ï¼‰ä¸´ç•Œå€¼</h5> 
<p>åœ¨ä½¿ç”¨å”¯ä¸€ç´¢å¼•æŸ¥è¯¢ä¸´ç•Œå€¼æ—¶ï¼Œé—´éš™é”ä¼šæ¶ˆå¤±ï¼Œè®°å½•é”ä¼šé€€åŒ–æˆè¡Œé”ï¼›<br> ã€æµ‹è¯•æ¡ˆä¾‹-01-é—´éš™é”ã€‘</p> 
<table><thead><tr><th>session1</th><th>session2</th></tr></thead><tbody><tr><td>begin;</td><td></td></tr><tr><td></td><td>begin;</td></tr><tr><td>select * from t2 where num=15 for update;</td><td></td></tr><tr><td></td><td>insert into t2 values(null,4); â€“ ä¸é˜»å¡</td></tr><tr><td></td><td>insert into t2 values(null,8); â€“ ä¸é˜»å¡</td></tr><tr><td></td><td>insert into t2 values(null,11); â€“ ä¸é˜»å¡</td></tr><tr><td></td><td>insert into t2 values(null,15); â€“ é˜»å¡(é˜»å¡çš„åŸå› æ˜¯è®°å½•é”ï¼Œè€Œä¸æ˜¯é—´éš™é”)</td></tr><tr><td></td><td>insert into t2 values(null,28); â€“ ä¸é˜»å¡</td></tr><tr><td>rollback;</td><td>insert into t2 values(null,20); â€“ ä¸é˜»å¡</td></tr><tr><td></td><td>rollback;</td></tr></tbody></table> 
<p>ã€æµ‹è¯•æ¡ˆä¾‹-02-è®°å½•é”ã€‘</p> 
<table><thead><tr><th>session1</th><th>session2</th></tr></thead><tbody><tr><td>begin;</td><td></td></tr><tr><td></td><td>begin;</td></tr><tr><td>â€“ è®°å½•é”åªé”ä½num=15è¿™è¡Œè®°å½•</td><td></td></tr><tr><td>select * from t2 where num=15 for update;</td><td></td></tr><tr><td></td><td>select * from t2 where num=10 for update; â€“ ä¸é˜»å¡</td></tr><tr><td></td><td>select * from t2 where num=12 for update; â€“ ä¸é˜»å¡</td></tr><tr><td></td><td>select * from t2 where num=15 for update; â€“ é˜»å¡</td></tr><tr><td></td><td>select * from t2 where num=18 for update; â€“ ä¸é˜»å¡</td></tr><tr><td></td><td>select * from t2 where num=20 for update; â€“ ä¸é˜»å¡</td></tr><tr><td></td><td>select * from t2 where num=22 for update; â€“ ä¸é˜»å¡</td></tr><tr><td>rollback;</td><td></td></tr><tr><td></td><td>rollback;</td></tr></tbody></table> 
<h5><a id="3_395"></a>3ï¼‰èŒƒå›´å€¼</h5> 
<p>ã€æµ‹è¯•æ¡ˆä¾‹-01-é—´éš™é”ã€‘<br> å½“ä½¿ç”¨æ™®é€šç´¢å¼•è¿›è¡Œæ¡ä»¶èŒƒå›´æŸ¥è¯¢æ—¶ï¼Œ<strong>é‚£ä¹ˆé—´éš™é”æŸ¥è¯¢èŒƒå›´æ‰€æ¶‰åŠåˆ°çš„åŒºé—´</strong>ï¼Œè®°å½•é”ä¹Ÿä¼šå‡çº§ä¸ºæŸ¥è¯¢èŒƒå›´æ¶‰åŠåˆ°çš„åŒºé—´ï¼›</p> 
<table><thead><tr><th>session1</th><th>session2</th></tr></thead><tbody><tr><td>begin;</td><td></td></tr><tr><td></td><td>begin;</td></tr><tr><td>â€“ é—´éš™é”ä¸º(10,20]åŒºé—´</td><td></td></tr><tr><td>select * from t2 where num&gt;11 and num &lt;16 for update;</td><td></td></tr><tr><td></td><td>insert into t2 values(9,10); â€“ ä¸é˜»å¡</td></tr><tr><td></td><td>insert into t2 values(11,10); â€“ é˜»å¡ï¼ˆå‚è€ƒB+Treeçš„æ„å»ºï¼‰</td></tr><tr><td></td><td>insert into t2 values(11,11); â€“ é˜»å¡</td></tr><tr><td></td><td>insert into t2 values(12,12); â€“ é˜»å¡</td></tr><tr><td></td><td>insert into t2 values(15,15); â€“ é˜»å¡ï¼ˆè¢«è®°å½•é”é˜»å¡ï¼‰</td></tr><tr><td></td><td>insert into t2 values(18,18); â€“ é˜»å¡</td></tr><tr><td></td><td>insert into t2 values(19,20); â€“ é˜»å¡</td></tr><tr><td></td><td>insert into t2 values(21,20); â€“ ä¸é˜»å¡ï¼ˆå‚è€ƒB+Treeçš„æ„å»ºï¼‰</td></tr><tr><td>rollback;</td><td></td></tr><tr><td></td><td>rollback;</td></tr></tbody></table> 
<ul><li>åˆ†æåº•å±‚B+Treeæ„å»ºæƒ…å†µï¼š</li></ul> 
<p><img src="https://images2.imgbox.com/47/18/wR2JskCG_o.png" alt=""><br> ã€æµ‹è¯•æ¡ˆä¾‹-02-è®°å½•é”ã€‘<br> å½“ä½¿ç”¨æ™®é€šç´¢å¼•è¿›è¡Œæ¡ä»¶èŒƒå›´æŸ¥è¯¢æ—¶ï¼Œé‚£ä¹ˆé—´éš™é”æŸ¥è¯¢èŒƒå›´æ‰€æ¶‰åŠåˆ°çš„åŒºé—´ï¼Œ<strong>è®°å½•é”ä¹Ÿä¼šå‡çº§ä¸ºæŸ¥è¯¢èŒƒå›´æ¶‰åŠåˆ°çš„åŒºé—´ï¼›</strong></p> 
<table><thead><tr><th>session1</th><th>session2</th></tr></thead><tbody><tr><td>begin;</td><td></td></tr><tr><td></td><td>begin;</td></tr><tr><td>â€“ è®°å½•é”çš„åŒºé—´ä¸º(10,20]åŒºé—´</td><td></td></tr><tr><td>select * from t2 where num&gt;11 and num &lt;16 for update;</td><td></td></tr><tr><td></td><td>select * from t2 where num=10 for update; â€“ ä¸é˜»å¡ï¼ˆå·¦å¼€å³é—­ï¼‰</td></tr><tr><td></td><td>select * from t2 where num=12 for update; â€“ ä¸é˜»å¡ï¼ˆå±äºé—´éš™ï¼‰</td></tr><tr><td></td><td>select * from t2 where num=15 for update; â€“ é˜»å¡ï¼ˆè§¦å‘è®°å½•é”ï¼‰</td></tr><tr><td></td><td>select * from t2 where num=16 for update; â€“ ä¸é˜»å¡ï¼ˆå±äºé—´éš™ï¼‰</td></tr><tr><td></td><td>select * from t2 where num=18 for update; â€“ ä¸é˜»å¡ï¼ˆå±äºé—´éš™ï¼‰</td></tr><tr><td></td><td>select * from t2 where num=20 for update; â€“ é˜»å¡ï¼ˆå·¦å¼€å³é—­ï¼Œè§¦å‘è®°å½•é”ï¼‰</td></tr><tr><td></td><td>select * from t2 where num=21 for update; â€“ ä¸é˜»å¡ï¼ˆå³æ˜¯é—´éš™ï¼Œä¹Ÿä¸åœ¨åŒºé—´ï¼‰</td></tr><tr><td>rollback;</td><td></td></tr><tr><td></td><td>rollback;</td></tr></tbody></table> 
<h4><a id="245__438"></a>2.4.5 ä¸´é”®é”æ€»ç»“</h4> 
<p>ä¸´é”®é”æ˜¯InnoDBåœ¨æŸ¥è¯¢æ•°æ®æ—¶é”å®šçš„ä¸€ä¸ªèŒƒå›´ï¼Œè¿™ä¸ªèŒƒå›´åŒ…å«æœ‰é—´éš™é”å’Œè®°å½•é”ï¼›æ ¹æ®æŸ¥è¯¢çš„æ¡ä»¶ä¸åŒã€åˆ—çš„ç±»å‹ä¸åŒï¼ˆæ˜¯å¦æ˜¯ç´¢å¼•ç­‰ï¼‰è§¦å‘çš„ä¸´é”®é”èŒƒå›´ä¹Ÿä¸åŒï¼›</p> 
<ul><li>æ™®é€šåˆ—ï¼šä¸´é”®é”ä¸­çš„é—´éš™é”å’Œè®°å½•é”å‡ä¸ºè¡¨çº§åˆ«ï¼›</li><li>æ™®é€šç´¢å¼•åˆ—ï¼š 
  <ul><li>éä¸´ç•Œå€¼ï¼šé—´éš™é”ä¸ºè¢«æŸ¥è¯¢çš„è®°å½•æ‰€åœ¨çš„åŒºé—´ï¼Œè®°å½•é”ä¸ç”Ÿæ•ˆ</li><li>ä¸´ç•Œå€¼ï¼šé—´éš™é”ä¸ºè¢«æŸ¥è¯¢è®°å½•æ‰€åœ¨çš„ç›¸é‚»ä¸¤ä¸ªåŒºé—´ï¼Œè®°å½•é”é€€åŒ–ä¸ºè¡Œé”</li><li>èŒƒå›´å€¼ï¼šé—´éš™é”å’Œè®°å½•é”å‡ä¸ºæŸ¥è¯¢æ¡ä»¶æ‰€æ¶‰åŠåˆ°çš„åŒºé—´</li></ul> </li><li>å”¯ä¸€ç´¢å¼•æˆ–ä¸»é”®ç´¢å¼•åˆ—ï¼š 
  <ul><li>éä¸´ç•Œå€¼ï¼šé—´éš™é”ä¸ºè¢«æŸ¥è¯¢çš„è®°å½•æ‰€åœ¨çš„åŒºé—´ï¼Œè®°å½•é”ä¸ç”Ÿæ•ˆ</li><li>ä¸´ç•Œå€¼ï¼šé—´éš™é”å¤±æ•ˆï¼Œè®°å½•é”é€€åŒ–ä¸ºè¡Œé”</li><li>èŒƒå›´å€¼ï¼šé—´éš™é”å’Œè®°å½•é”å‡ä¸ºæŸ¥è¯¢æ¡ä»¶æ‰€æ¶‰åŠåˆ°çš„åŒºé—´</li></ul> </li></ul> 
<p>Tipsï¼š<strong>ä¸´é”®é”çš„ä¸»è¦ç›®çš„ï¼Œä¹Ÿæ˜¯ä¸ºäº†é¿å…å¹»è¯»(Phantom Read)ã€‚å¦‚æœæŠŠäº‹åŠ¡çš„éš”ç¦»çº§åˆ«é™çº§ä¸ºRCï¼Œä¸´é”®é”åˆ™ä¹Ÿä¼šå¤±æ•ˆã€‚</strong></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/6722266c84bc0c54cd0b3cc898f80731/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">ã€Pythonã€‘ä¸€æ–‡è¯¦ç»†ä»‹ç» OrderedDict å¯¹è±¡</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/8e531dde32f95749fefeaaa6df01d776/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">ã€SpringBootã€‘é¡¹ç›®â€”TLIASæ™ºèƒ½å­¦ä¹ è¾…åŠ©ç³»ç»Ÿ</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ç¼–ç¨‹å¤§å’–.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>