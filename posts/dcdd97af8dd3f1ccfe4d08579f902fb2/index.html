<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>OpenAI 开源的免费 AI 语音转文字工具 - Whisper，一步一步本地部署运行 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/dcdd97af8dd3f1ccfe4d08579f902fb2/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="OpenAI 开源的免费 AI 语音转文字工具 - Whisper，一步一步本地部署运行">
  <meta property="og:description" content="Whisper 是 OpenAI 研发的一个通用的语音识别模型，可以把语音转为文本。它在大量多样化的音频数据集上进行训练，同时还是一个多任务模型，可以执行多语言语音识别、语音翻译和语言识别。
一、使用场景 语音 =&gt; 文字 是一个非常实用的功能，例如：
会议、讲座、法庭、医疗等等场景的记录
口述笔记，方便需要频繁记录思路、灵感的人，更快地记录想法
智能助手，例如智能音箱、导航等
文案提取，看到好的视频，可以把视频中的话转为文本文案
ChatGPT 的手机 APP 可以和我们语音对话聊天，就是使用 Whisper 把我们的语音转为的文本。
所以，Whisper 的强大能力不用多说。
现在市面上语音转文字的产品很多都是收费的，例如讯飞语记等等。
Whisper 是开源免费的，而且效果极佳，如果能在自己的电脑中运行，岂不是美事。
下面就以Windows11为例，介绍一下它的安装运行流程。
二、安装步骤 1）安装 ffmpeg 下载地址：
ffmpeg.org/download.html
安装后，打开cmd命令行，确定可以执行 ffmpeg 命令：
ffmpeg -version 如果无法执行，手动配置一下环境变量PATH。
2）安装 rust 下载地址：
rust-lang.org/tools/install
同样的，安装后需要确定命令行可以执行，测试命令：
rustc --version 如果无法执行，手动配置一下环境变量PATH。
rust 的默认安装位置是 ~/.cargo/bin。
3）安装 Whisper 配置python虚拟环境，因为 Whisper 需要特定版本的 python。
conda create --name whisper_env python=3.9.18 activate whisper_env 安装依赖库：
pip install setuptools-rust pip install -U openai-whisper 三、运行 命令行运行：">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-03-21T11:18:55+08:00">
    <meta property="article:modified_time" content="2024-03-21T11:18:55+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">OpenAI 开源的免费 AI 语音转文字工具 - Whisper，一步一步本地部署运行</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p></p> 
<p class="img-center"><img alt="" height="934" src="https://images2.imgbox.com/32/1c/rjHKV1cH_o.png" width="1200"></p> 
<p>Whisper 是 OpenAI 研发的一个通用的语音识别模型，可以把语音转为文本。它在大量多样化的音频数据集上进行训练，同时还是一个多任务模型，可以执行多语言语音识别、语音翻译和语言识别。</p> 
<h3>一、使用场景</h3> 
<p><strong>语音 =&gt; 文字</strong> 是一个非常实用的功能，例如：</p> 
<ul><li> <p>会议、讲座、法庭、医疗等等场景的记录</p> </li><li> <p>口述笔记，方便需要频繁记录思路、灵感的人，更快地记录想法</p> </li><li> <p>智能助手，例如智能音箱、导航等</p> </li><li> <p>文案提取，看到好的视频，可以把视频中的话转为文本文案</p> </li></ul> 
<p>ChatGPT 的手机 APP 可以和我们语音对话聊天，就是使用 Whisper 把我们的语音转为的文本。</p> 
<p>所以，Whisper 的强大能力不用多说。</p> 
<p>现在市面上语音转文字的产品很多都是收费的，例如讯飞语记等等。</p> 
<p>Whisper 是开源免费的，而且效果极佳，如果能在自己的电脑中运行，岂不是美事。</p> 
<p>下面就以Windows11为例，介绍一下它的安装运行流程。</p> 
<h3>二、安装步骤</h3> 
<h4>1）安装 ffmpeg</h4> 
<p>下载地址：</p> 
<blockquote> 
 <p>ffmpeg.org/download.html</p> 
</blockquote> 
<p>安装后，打开cmd命令行，确定可以执行 ffmpeg 命令：</p> 
<pre><code>ffmpeg -version
</code></pre> 
<p>如果无法执行，手动配置一下环境变量PATH。</p> 
<h4>2）安装 rust</h4> 
<p>下载地址：</p> 
<blockquote> 
 <p>rust-lang.org/tools/install</p> 
</blockquote> 
<p>同样的，安装后需要确定命令行可以执行，测试命令：</p> 
<pre><code>rustc --version
</code></pre> 
<p>如果无法执行，手动配置一下环境变量PATH。</p> 
<p>rust 的默认安装位置是 <code>~/.cargo/bin</code>。</p> 
<h4>3）安装 Whisper</h4> 
<p>配置python虚拟环境，因为 Whisper 需要特定版本的 python。</p> 
<pre><code>conda create --name whisper_env python=3.9.18
activate whisper_env
</code></pre> 
<p>安装依赖库：</p> 
<pre><code>pip install setuptools-rust
pip install -U openai-whisper
</code></pre> 
<h3>三、运行</h3> 
<p><strong>命令行运行</strong>：</p> 
<pre><code>whisper Haul.mp3 --model medium
</code></pre> 
<p>其中 “Haul.mp3” 是我测试用的音频文件。</p> 
<p>“--model medium” 是指定使用 medium 版本的模型（Whisper 有多种模型：tiny、base、small、medium、large，模型大小依次变大）。</p> 
<p>第一次运行时，会先下载指定的模型，需要耐心等待一会儿。</p> 
<p></p> 
<p class="img-center"><img alt="" height="622" src="https://images2.imgbox.com/0d/d6/ceiVbf25_o.png" width="1200"></p> 
<p>模型下载之后，就会开始执行语音识别，输出识别结果。</p> 
<p></p> 
<p class="img-center"><img alt="" height="658" src="https://images2.imgbox.com/33/13/M66tKsrZ_o.png" width="1200"></p> 
<p>并且会自动写入文件。</p> 
<p><strong>Python代码中运行</strong>：</p> 
<pre><code>import whisper

# 加载模型
model = whisper.load_model("medium")

# 加载音频文件
audio = whisper.load_audio("Haul.mp3")
audio = whisper.pad_or_trim(audio)

# make log-Mel spectrogram and move to the same device as the model
mel = whisper.log_mel_spectrogram(audio).to(model.device)

# detect the spoken language
_, probs = model.detect_language(mel)
print(f"Detected language: {max(probs, key=probs.get)}")

# decode the audio
options = whisper.DecodingOptions()
result = whisper.decode(model, mel, options)

# print the recognized text
print(result.text)
</code></pre> 
<hr> 
<p>怎么样，感觉不错吧，有兴趣的话，快试试吧。</p> 
<p>项目地址：</p> 
<blockquote> 
 <p>github.com/openai/whisper</p> 
</blockquote> 
<p><em>#AI 人工智能，#OpenAI，#whisper, #ChatGPT，#语音转文字，#gpt890</em></p> 
<blockquote> 
 <p>信息来源 gpt890.com/article/34</p> 
</blockquote>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/aa3981ec9744c178ad4c7c5501e60266/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">鸿蒙打包Flutter为HAP流程</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e7312b440367374c9a9be2eedc57692b/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">一文读懂「AIGC，AI Generated Content」AI生成内容</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>