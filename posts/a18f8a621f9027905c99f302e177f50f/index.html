<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>SpringBootå®æˆ˜ï¼šè½»æ¾å®ç°æ¥å£æ•°æ®è„±æ• - ç¼–ç¨‹å¤§å’–</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/a18f8a621f9027905c99f302e177f50f/">
  <meta property="og:site_name" content="ç¼–ç¨‹å¤§å’–">
  <meta property="og:title" content="SpringBootå®æˆ˜ï¼šè½»æ¾å®ç°æ¥å£æ•°æ®è„±æ•">
  <meta property="og:description" content="æ–‡ç« ç›®å½• å¼•è¨€ä¸€ã€æ¥å£æ•°æ®è„±æ•æ¦‚è¿°1.1 æ¥å£æ•°æ®è„±æ•çš„å®šä¹‰1.2 æ¥å£æ•°æ®è„±æ•çš„é‡è¦æ€§1.3 æ¥å£æ•°æ®è„±æ•çš„å®ç°æ–¹å¼ äºŒã€å¼€å‘ç¯å¢ƒä¸‰ã€å®ç°æ¥å£è¿”å›æ•°æ®è„±æ•3.1 æ·»åŠ ä¾èµ–3.2 åˆ›å»ºè‡ªå®šä¹‰æ³¨è§£3.3 å®šä¹‰è„±æ•æšä¸¾ç±»3.4 åˆ›å»ºè‡ªå®šä¹‰åºåˆ—åŒ–ç±» å››ã€æµ‹è¯•4.1 ç¼–å†™æµ‹è¯•ä»£ç 4.2 æµ‹è¯• äº”ã€æ€»ç»“ å¼•è¨€ åœ¨å½“ä»Šçš„ä¿¡æ¯åŒ–æ—¶ä»£ï¼Œæ•°æ®å®‰å…¨å°¤ä¸ºé‡è¦ã€‚æ¥å£è¿”å›æ•°æ®è„±æ•æ˜¯ä¸€ç§é‡è¦çš„æ•°æ®ä¿æŠ¤æ‰‹æ®µï¼Œå¯ä»¥é˜²æ­¢æ•æ„Ÿä¿¡æ¯é€šè¿‡æ¥å£è¿”å›ç»™å®¢æˆ·ç«¯ï¼Œé™ä½æ•°æ®æ³„éœ²çš„é£é™©ã€‚æœ¬æ–‡æ—¨åœ¨æ¢è®¨å¦‚ä½•åœ¨SpringBootåº”ç”¨ç¨‹åºä¸­å®ç°æ¥å£è¿”å›æ•°æ®è„±æ•ã€‚æˆ‘ä»¬å°†ä»‹ç»ä¸€ç§åŸºäºè‡ªå®šä¹‰æ³¨è§£ç»“åˆHutoolè„±æ•å·¥å…·ç±»çš„æ–¹æ¡ˆï¼Œä»¥å®ç°SpringBootä¸­çš„æ¥å£è¿”å›æ•°æ®è„±æ•ã€‚
ä¸€ã€æ¥å£æ•°æ®è„±æ•æ¦‚è¿° 1.1 æ¥å£æ•°æ®è„±æ•çš„å®šä¹‰ æ¥å£æ•°æ®è„±æ•æ˜¯æŒ‡åœ¨Webåº”ç”¨ç¨‹åºçš„APIæ¥å£è¿”å›æ•°æ®æ—¶ï¼Œå¯¹åŒ…å«æ•æ„Ÿä¿¡æ¯çš„å­—æ®µè¿›è¡Œå¤„ç†ï¼Œä½¿å…¶éƒ¨åˆ†æˆ–å…¨éƒ¨ä¿¡æ¯è¢«éšè—æˆ–æ›¿æ¢ï¼Œä»¥é˜²æ­¢æ•æ„Ÿä¿¡æ¯çš„æ³„éœ²ã€‚è¿™ä¸ªè¿‡ç¨‹é€šå¸¸ä¸ä¼šæ”¹å˜æ•°æ®çš„åŸå§‹æ ¼å¼ï¼Œè€Œæ˜¯é€šè¿‡ç‰¹å®šçš„ç®—æ³•æˆ–è§„åˆ™ï¼Œå°†æ•æ„Ÿéƒ¨åˆ†æ›¿æ¢ä¸ºç‰¹å®šå­—ç¬¦ï¼ˆå¦‚æ˜Ÿå·*ï¼‰æˆ–è€…ä¿ç•™éƒ¨åˆ†ä¿¡æ¯ã€‚
1.2 æ¥å£æ•°æ®è„±æ•çš„é‡è¦æ€§ æ•°æ®è„±æ•çš„é‡è¦æ€§ä¸»è¦ä½“ç°åœ¨ä»¥ä¸‹å‡ ä¸ªæ–¹é¢:
ä¿æŠ¤ç”¨æˆ·éšç§: å¯¹äºå§“åã€èº«ä»½è¯å·ã€æ‰‹æœºå·ç­‰ä¸ªäººæ•æ„Ÿä¿¡æ¯è¿›è¡Œè„±æ•,å¯ä»¥æœ‰æ•ˆä¿æŠ¤ç”¨æˆ·éšç§,é˜²æ­¢ä¿¡æ¯è¢«æ»¥ç”¨ã€‚éµå®ˆæ³•å¾‹æ³•è§„: è®¸å¤šå›½å®¶å’Œåœ°åŒºéƒ½åˆ¶å®šäº†ä¸¥æ ¼çš„æ•°æ®ä¿æŠ¤æ³•è§„,å¦‚æ¬§ç›Ÿçš„GDPRå’Œä¸­å›½çš„ã€Šä¸ªäººä¿¡æ¯ä¿æŠ¤æ³•ã€‹ã€‚å®æ–½æ•°æ®è„±æ•æœ‰åŠ©äºä¼ä¸šåˆè§„ç»è¥ã€‚é™ä½å®‰å…¨é£é™©: é€šè¿‡è„±æ•å¤„ç†,å³ä½¿æ•°æ®ä¸æ…æ³„éœ²,ä¹Ÿèƒ½æœ€å¤§é™åº¦åœ°å‡å°‘æ•æ„Ÿä¿¡æ¯è¢«ç›—ç”¨çš„é£é™©ã€‚æ”¯æŒæ•°æ®å…±äº«: åœ¨ä¿æŠ¤éšç§çš„åŒæ—¶,è„±æ•æ•°æ®ä»ç„¶ä¿ç•™äº†ä¸€å®šçš„åˆ†æä»·å€¼,æœ‰åˆ©äºæ•°æ®çš„å®‰å…¨å…±äº«å’Œåˆ©ç”¨ã€‚ 1.3 æ¥å£æ•°æ®è„±æ•çš„å®ç°æ–¹å¼ æ‰‹åŠ¨è„±æ•ï¼šåœ¨ä¸šåŠ¡é€»è¾‘å±‚ç›´æ¥å¯¹æ•æ„Ÿæ•°æ®è¿›è¡Œå¤„ç†ã€‚è¿™ç§æ–¹å¼çµæ´»ä½†å®¹æ˜“é—æ¼ï¼Œä¸”ä»£ç é‡å¤ç‡é«˜ã€‚
AOPï¼ˆé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼‰ï¼šé€šè¿‡åˆ‡é¢æ‹¦æˆªè¿”å›æ•°æ®ï¼Œç»Ÿä¸€å¤„ç†æ•æ„Ÿå­—æ®µã€‚è¿™ç§æ–¹å¼å¯ä»¥é›†ä¸­ç®¡ç†è„±æ•é€»è¾‘ï¼Œä½†å¯èƒ½å½±å“æ€§èƒ½ã€‚
è‡ªå®šä¹‰åºåˆ—åŒ–å™¨ï¼šåˆ©ç”¨JSONåºåˆ—åŒ–æ¡†æ¶ï¼ˆå¦‚Jacksonï¼‰çš„è‡ªå®šä¹‰åºåˆ—åŒ–å™¨æ¥å¤„ç†æ•æ„Ÿå­—æ®µã€‚è¿™ç§æ–¹å¼æ€§èƒ½è¾ƒå¥½ï¼Œä¸”ä¸ä¸šåŠ¡é€»è¾‘è§£è€¦ã€‚
æ³¨è§£&#43;åå°„ï¼šé€šè¿‡è‡ªå®šä¹‰æ³¨è§£æ ‡è®°éœ€è¦è„±æ•çš„å­—æ®µï¼Œç„¶ååˆ©ç”¨åå°„æœºåˆ¶åœ¨è¿è¡Œæ—¶è¿›è¡Œè„±æ•å¤„ç†ã€‚è¿™ç§æ–¹å¼ä½¿ç”¨ç®€å•ï¼Œæ˜“äºç»´æŠ¤ã€‚
æœ¬æ–‡å°†é‡ç‚¹ä»‹ç»å¦‚ä½•ç»“åˆè‡ªå®šä¹‰æ³¨è§£å’ŒHutoolå·¥å…·ç±»æ¥å®ç°æ¥å£æ•°æ®è„±æ•ã€‚
äºŒã€å¼€å‘ç¯å¢ƒ JDKç‰ˆæœ¬ï¼šJDK 17Spring Bootç‰ˆæœ¬ï¼šSpring Boot 3.2.2æ„å»ºå·¥å…·ï¼šMaven ä¸‰ã€å®ç°æ¥å£è¿”å›æ•°æ®è„±æ• 3.1 æ·»åŠ ä¾èµ– é¦–å…ˆåœ¨ pom.xml æ–‡ä»¶ä¸­æ·»åŠ å¿…è¦çš„ä¾èµ–ï¼š
&lt;!-- Hutoolå·¥å…·åŒ… --&gt; &lt;dependency&gt; &lt;groupId&gt;cn.hutool&lt;/groupId&gt; &lt;artifactId&gt;hutool-all&lt;/artifactId&gt; &lt;version&gt;5.8.25&lt;/version&gt; &lt;/dependency&gt; &lt;!-- Jacksonä¾èµ– --&gt; &lt;dependency&gt; &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt; &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt; &lt;version&gt;2.9.2&lt;/version&gt; &lt;/dependency&gt; 3.2 åˆ›å»ºè‡ªå®šä¹‰æ³¨è§£ æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰æ³¨è§£ @Desensitizeï¼š
/** * ç”¨äºæ ‡è®°å­—æ®µéœ€è¦è¿›è¡Œè„±æ•å¤„ç†çš„æ³¨è§£ * * @author shijun * @date 2024/07/09 */ @Retention(RetentionPolicy.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-07-09T19:38:57+08:00">
    <meta property="article:modified_time" content="2024-07-09T19:38:57+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ç¼–ç¨‹å¤§å’–" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ç¼–ç¨‹å¤§å’–</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">SpringBootå®æˆ˜ï¼šè½»æ¾å®ç°æ¥å£æ•°æ®è„±æ•</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>æ–‡ç« ç›®å½•</h4> 
 <ul><li><a href="#_3" rel="nofollow">å¼•è¨€</a></li><li><a href="#_7" rel="nofollow">ä¸€ã€æ¥å£æ•°æ®è„±æ•æ¦‚è¿°</a></li><li><ul><li><a href="#11__9" rel="nofollow">1.1 æ¥å£æ•°æ®è„±æ•çš„å®šä¹‰</a></li><li><a href="#12__13" rel="nofollow">1.2 æ¥å£æ•°æ®è„±æ•çš„é‡è¦æ€§</a></li><li><a href="#13__22" rel="nofollow">1.3 æ¥å£æ•°æ®è„±æ•çš„å®ç°æ–¹å¼</a></li></ul> 
  </li><li><a href="#_34" rel="nofollow">äºŒã€å¼€å‘ç¯å¢ƒ</a></li><li><a href="#_40" rel="nofollow">ä¸‰ã€å®ç°æ¥å£è¿”å›æ•°æ®è„±æ•</a></li><li><ul><li><a href="#31__42" rel="nofollow">3.1 æ·»åŠ ä¾èµ–</a></li><li><a href="#32__61" rel="nofollow">3.2 åˆ›å»ºè‡ªå®šä¹‰æ³¨è§£</a></li><li><a href="#33__96" rel="nofollow">3.3 å®šä¹‰è„±æ•æšä¸¾ç±»</a></li><li><a href="#34__146" rel="nofollow">3.4 åˆ›å»ºè‡ªå®šä¹‰åºåˆ—åŒ–ç±»</a></li></ul> 
  </li><li><a href="#_269" rel="nofollow">å››ã€æµ‹è¯•</a></li><li><ul><li><a href="#41__271" rel="nofollow">4.1 ç¼–å†™æµ‹è¯•ä»£ç </a></li><li><a href="#42__354" rel="nofollow">4.2 æµ‹è¯•</a></li></ul> 
  </li><li><a href="#_358" rel="nofollow">äº”ã€æ€»ç»“</a></li></ul> 
</div> 
<br> 
<img src="https://images2.imgbox.com/70/bc/VHF0psqU_o.gif" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"> 
<p></p> 
<h2><a id="_3"></a>å¼•è¨€</h2> 
<blockquote> 
 <p>åœ¨å½“ä»Šçš„ä¿¡æ¯åŒ–æ—¶ä»£ï¼Œæ•°æ®å®‰å…¨å°¤ä¸ºé‡è¦ã€‚æ¥å£è¿”å›æ•°æ®è„±æ•æ˜¯ä¸€ç§é‡è¦çš„æ•°æ®ä¿æŠ¤æ‰‹æ®µï¼Œå¯ä»¥é˜²æ­¢æ•æ„Ÿä¿¡æ¯é€šè¿‡æ¥å£è¿”å›ç»™å®¢æˆ·ç«¯ï¼Œé™ä½æ•°æ®æ³„éœ²çš„é£é™©ã€‚æœ¬æ–‡æ—¨åœ¨æ¢è®¨å¦‚ä½•åœ¨SpringBootåº”ç”¨ç¨‹åºä¸­å®ç°æ¥å£è¿”å›æ•°æ®è„±æ•ã€‚æˆ‘ä»¬å°†ä»‹ç»ä¸€ç§åŸºäºè‡ªå®šä¹‰æ³¨è§£ç»“åˆHutoolè„±æ•å·¥å…·ç±»çš„æ–¹æ¡ˆï¼Œä»¥å®ç°SpringBootä¸­çš„æ¥å£è¿”å›æ•°æ®è„±æ•ã€‚</p> 
</blockquote> 
<h2><a id="_7"></a>ä¸€ã€æ¥å£æ•°æ®è„±æ•æ¦‚è¿°</h2> 
<h3><a id="11__9"></a>1.1 æ¥å£æ•°æ®è„±æ•çš„å®šä¹‰</h3> 
<p><strong>æ¥å£æ•°æ®è„±æ•</strong>æ˜¯æŒ‡åœ¨Webåº”ç”¨ç¨‹åºçš„APIæ¥å£è¿”å›æ•°æ®æ—¶ï¼Œå¯¹åŒ…å«æ•æ„Ÿä¿¡æ¯çš„å­—æ®µè¿›è¡Œå¤„ç†ï¼Œä½¿å…¶éƒ¨åˆ†æˆ–å…¨éƒ¨ä¿¡æ¯è¢«éšè—æˆ–æ›¿æ¢ï¼Œä»¥é˜²æ­¢æ•æ„Ÿä¿¡æ¯çš„æ³„éœ²ã€‚è¿™ä¸ªè¿‡ç¨‹é€šå¸¸ä¸ä¼šæ”¹å˜æ•°æ®çš„åŸå§‹æ ¼å¼ï¼Œè€Œæ˜¯é€šè¿‡ç‰¹å®šçš„ç®—æ³•æˆ–è§„åˆ™ï¼Œå°†æ•æ„Ÿéƒ¨åˆ†æ›¿æ¢ä¸ºç‰¹å®šå­—ç¬¦ï¼ˆå¦‚æ˜Ÿå·*ï¼‰æˆ–è€…ä¿ç•™éƒ¨åˆ†ä¿¡æ¯ã€‚</p> 
<h3><a id="12__13"></a>1.2 æ¥å£æ•°æ®è„±æ•çš„é‡è¦æ€§</h3> 
<p>æ•°æ®è„±æ•çš„é‡è¦æ€§ä¸»è¦ä½“ç°åœ¨ä»¥ä¸‹å‡ ä¸ªæ–¹é¢:</p> 
<ol><li>ä¿æŠ¤ç”¨æˆ·éšç§: å¯¹äºå§“åã€èº«ä»½è¯å·ã€æ‰‹æœºå·ç­‰ä¸ªäººæ•æ„Ÿä¿¡æ¯è¿›è¡Œè„±æ•,å¯ä»¥æœ‰æ•ˆä¿æŠ¤ç”¨æˆ·éšç§,é˜²æ­¢ä¿¡æ¯è¢«æ»¥ç”¨ã€‚</li><li>éµå®ˆæ³•å¾‹æ³•è§„: è®¸å¤šå›½å®¶å’Œåœ°åŒºéƒ½åˆ¶å®šäº†ä¸¥æ ¼çš„æ•°æ®ä¿æŠ¤æ³•è§„,å¦‚æ¬§ç›Ÿçš„GDPRå’Œä¸­å›½çš„ã€Šä¸ªäººä¿¡æ¯ä¿æŠ¤æ³•ã€‹ã€‚å®æ–½æ•°æ®è„±æ•æœ‰åŠ©äºä¼ä¸šåˆè§„ç»è¥ã€‚</li><li>é™ä½å®‰å…¨é£é™©: é€šè¿‡è„±æ•å¤„ç†,å³ä½¿æ•°æ®ä¸æ…æ³„éœ²,ä¹Ÿèƒ½æœ€å¤§é™åº¦åœ°å‡å°‘æ•æ„Ÿä¿¡æ¯è¢«ç›—ç”¨çš„é£é™©ã€‚</li><li>æ”¯æŒæ•°æ®å…±äº«: åœ¨ä¿æŠ¤éšç§çš„åŒæ—¶,è„±æ•æ•°æ®ä»ç„¶ä¿ç•™äº†ä¸€å®šçš„åˆ†æä»·å€¼,æœ‰åˆ©äºæ•°æ®çš„å®‰å…¨å…±äº«å’Œåˆ©ç”¨ã€‚</li></ol> 
<h3><a id="13__22"></a>1.3 æ¥å£æ•°æ®è„±æ•çš„å®ç°æ–¹å¼</h3> 
<ol><li> <p>æ‰‹åŠ¨è„±æ•ï¼šåœ¨ä¸šåŠ¡é€»è¾‘å±‚ç›´æ¥å¯¹æ•æ„Ÿæ•°æ®è¿›è¡Œå¤„ç†ã€‚è¿™ç§æ–¹å¼çµæ´»ä½†å®¹æ˜“é—æ¼ï¼Œä¸”ä»£ç é‡å¤ç‡é«˜ã€‚</p> </li><li> <p>AOPï¼ˆé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼‰ï¼šé€šè¿‡åˆ‡é¢æ‹¦æˆªè¿”å›æ•°æ®ï¼Œç»Ÿä¸€å¤„ç†æ•æ„Ÿå­—æ®µã€‚è¿™ç§æ–¹å¼å¯ä»¥é›†ä¸­ç®¡ç†è„±æ•é€»è¾‘ï¼Œä½†å¯èƒ½å½±å“æ€§èƒ½ã€‚</p> </li><li> <p>è‡ªå®šä¹‰åºåˆ—åŒ–å™¨ï¼šåˆ©ç”¨JSONåºåˆ—åŒ–æ¡†æ¶ï¼ˆå¦‚Jacksonï¼‰çš„è‡ªå®šä¹‰åºåˆ—åŒ–å™¨æ¥å¤„ç†æ•æ„Ÿå­—æ®µã€‚è¿™ç§æ–¹å¼æ€§èƒ½è¾ƒå¥½ï¼Œä¸”ä¸ä¸šåŠ¡é€»è¾‘è§£è€¦ã€‚</p> </li><li> <p>æ³¨è§£+åå°„ï¼šé€šè¿‡è‡ªå®šä¹‰æ³¨è§£æ ‡è®°éœ€è¦è„±æ•çš„å­—æ®µï¼Œç„¶ååˆ©ç”¨åå°„æœºåˆ¶åœ¨è¿è¡Œæ—¶è¿›è¡Œè„±æ•å¤„ç†ã€‚è¿™ç§æ–¹å¼ä½¿ç”¨ç®€å•ï¼Œæ˜“äºç»´æŠ¤ã€‚</p> </li></ol> 
<p>æœ¬æ–‡å°†é‡ç‚¹ä»‹ç»å¦‚ä½•ç»“åˆè‡ªå®šä¹‰æ³¨è§£å’ŒHutoolå·¥å…·ç±»æ¥å®ç°æ¥å£æ•°æ®è„±æ•ã€‚</p> 
<h2><a id="_34"></a>äºŒã€å¼€å‘ç¯å¢ƒ</h2> 
<ul><li><strong>JDKç‰ˆæœ¬</strong>ï¼šJDK 17</li><li><strong>Spring Bootç‰ˆæœ¬</strong>ï¼šSpring Boot 3.2.2</li><li><strong>æ„å»ºå·¥å…·</strong>ï¼šMaven</li></ul> 
<h2><a id="_40"></a>ä¸‰ã€å®ç°æ¥å£è¿”å›æ•°æ®è„±æ•</h2> 
<h3><a id="31__42"></a>3.1 æ·»åŠ ä¾èµ–</h3> 
<p>é¦–å…ˆåœ¨ <code>pom.xml </code>æ–‡ä»¶ä¸­æ·»åŠ å¿…è¦çš„ä¾èµ–ï¼š</p> 
<pre><code class="prism language-xml">    <span class="token comment">&lt;!-- Hutoolå·¥å…·åŒ… --&gt;</span>    
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>cn.hutool<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>hutool-all<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>5.8.25<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- Jacksonä¾èµ– --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.fasterxml.jackson.core<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>jackson-databind<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.9.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<h3><a id="32__61"></a>3.2 åˆ›å»ºè‡ªå®šä¹‰æ³¨è§£</h3> 
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰æ³¨è§£ <code>@Desensitize</code>ï¼š</p> 
<pre><code class="prism language-java"><span class="token comment">/**
 * ç”¨äºæ ‡è®°å­—æ®µéœ€è¦è¿›è¡Œè„±æ•å¤„ç†çš„æ³¨è§£
 *
 * @author shijun
 * @date 2024/07/09
 */</span>
<span class="token annotation punctuation">@Retention</span><span class="token punctuation">(</span><span class="token class-name">RetentionPolicy</span><span class="token punctuation">.</span><span class="token constant">RUNTIME</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span><span class="token class-name">ElementType</span><span class="token punctuation">.</span><span class="token constant">FIELD</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@JacksonAnnotationsInside</span>
<span class="token annotation punctuation">@JsonSerialize</span><span class="token punctuation">(</span>using <span class="token operator">=</span> <span class="token class-name">DesensitizeSerializer</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token annotation punctuation">@interface</span> <span class="token class-name">Desensitize</span> <span class="token punctuation">{<!-- --></span>

    <span class="token comment">/**
     * è„±æ•ç±»å‹
     */</span>
    <span class="token class-name">DesensitizeType</span> <span class="token function">type</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token class-name">DesensitizeType</span><span class="token punctuation">.</span><span class="token constant">DEFAULT</span><span class="token punctuation">;</span>

    <span class="token comment">/**
     * è„±æ•èµ·å§‹ä½ç½®
     */</span>
    <span class="token keyword">int</span> <span class="token function">startInclude</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token comment">/**
     * è„±æ•ç»“æŸä½ç½®
     */</span>
    <span class="token keyword">int</span> <span class="token function">endExclude</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token number">0</span><span class="token punctuation">;</span>
    
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="33__96"></a>3.3 å®šä¹‰è„±æ•æšä¸¾ç±»</h3> 
<p>ç„¶åï¼Œå®šä¹‰æšä¸¾ç±» <code>DesensitizeType</code> æ¥å®šä¹‰å­—æ®µçš„è„±æ•ç±»å‹ï¼š</p> 
<pre><code class="prism language-java"><span class="token comment">/**
 * è„±æ•ç±»å‹æšä¸¾ç±»
 */</span>
<span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">DesensitizeType</span> <span class="token punctuation">{<!-- --></span>

    <span class="token comment">/**
     * é»˜è®¤è„±æ•
     */</span>
    <span class="token constant">DEFAULT</span><span class="token punctuation">,</span>
    <span class="token comment">/**
     * è‡ªå®šä¹‰è„±æ•
     */</span>
    <span class="token constant">CUSTOM_RULE</span><span class="token punctuation">,</span>
    <span class="token comment">/**
     * æ‰‹æœºå·è„±æ•
     */</span>
    <span class="token constant">PHONE</span><span class="token punctuation">,</span>
    <span class="token comment">/**
     * ç”µå­é‚®ä»¶è„±æ•
     */</span>
    <span class="token constant">EMAIL</span><span class="token punctuation">,</span>
    <span class="token comment">/**
     * èº«ä»½è¯å·è„±æ•
     */</span>
    <span class="token constant">ID_CARD</span><span class="token punctuation">,</span>
    <span class="token comment">/**
     * é“¶è¡Œå¡å·è„±æ•
     */</span>
    <span class="token constant">BANK_CARD</span><span class="token punctuation">,</span>
    <span class="token comment">/**
     * åœ°å€è„±æ•
     */</span>
    <span class="token constant">ADDRESS</span><span class="token punctuation">,</span>
    <span class="token comment">/**
     * ä¸­æ–‡å§“åè„±æ•
     */</span>
    <span class="token constant">CHINESE_NAME</span><span class="token punctuation">,</span>
    <span class="token comment">/**
     * å¯†ç è„±æ•
     */</span>
    <span class="token constant">PASSWORD</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

</code></pre> 
<h3><a id="34__146"></a>3.4 åˆ›å»ºè‡ªå®šä¹‰åºåˆ—åŒ–ç±»</h3> 
<blockquote> 
 <p>Hutoolæ”¯æŒçš„è„±æ•æ•°æ®ç±»å‹åŒ…æ‹¬ï¼š</p> 
 <ol><li>ç”¨æˆ·id</li><li>ä¸­æ–‡å§“å</li><li>èº«ä»½è¯å·</li><li>åº§æœºå·</li><li>æ‰‹æœºå·</li><li>åœ°å€</li><li>ç”µå­é‚®ä»¶</li><li>å¯†ç </li><li>ä¸­å›½å¤§é™†è½¦ç‰Œï¼ŒåŒ…å«æ™®é€šè½¦è¾†ã€æ–°èƒ½æºè½¦è¾†</li><li>é“¶è¡Œå¡</li></ol> 
 <p>æ•´ä½“æ¥è¯´ï¼Œæ‰€è°“è„±æ•å°±æ˜¯éšè—æ‰ä¿¡æ¯ä¸­çš„ä¸€éƒ¨åˆ†å…³é”®ä¿¡æ¯ï¼Œç”¨<code>*</code>ä»£æ›¿ã€‚å¤§å®¶å¯ä»¥è‡ªå·±çœ‹ä¸€çœ‹<code>DesensitizedUtil</code>ç±»ä¸­æ–¹æ³•ï¼Œå…¶å®å°±æ˜¯<code>replace</code>æ–¹æ³•å’Œ<code>hide</code>æ–¹æ³•çš„ä½¿ç”¨ï¼Œæƒ³è¦è‡ªå®šä¹‰è§„åˆ™è¿›è¡Œéšè—å¯ä»¥ä»¿ç…§è¿›è¡Œå®ç°ã€‚</p> 
</blockquote> 
<pre><code class="prism language-java"><span class="token comment">/**
 * è„±æ•åºåˆ—åŒ–å™¨ï¼Œç”¨äºåœ¨åºåˆ—åŒ–å­—ç¬¦ä¸²æ—¶æ ¹æ®ä¸åŒçš„è„±æ•ç±»å‹è¿›è¡Œæ•°æ®è„±æ•ã€‚
 *
 * @author shijun
 * @date 2024/07/08
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DesensitizeSerializer</span> <span class="token keyword">extends</span> <span class="token class-name">JsonSerializer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">implements</span> <span class="token class-name">ContextualSerializer</span> <span class="token punctuation">{<!-- --></span>

    <span class="token comment">/**
     * è„±æ•ç±»å‹ï¼Œé»˜è®¤ä¸ºDEFAULT
     */</span>
    <span class="token keyword">private</span> <span class="token class-name">DesensitizeType</span> type<span class="token punctuation">;</span>
    <span class="token comment">/**
     * è„±æ•èµ·å§‹ä½ç½®
     */</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> startInclude<span class="token punctuation">;</span>
    <span class="token comment">/**
     * è„±æ•ç»“æŸä½ç½®
     */</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> endExclude<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">DesensitizeSerializer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token class-name">DesensitizeType</span><span class="token punctuation">.</span><span class="token constant">DEFAULT</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token keyword">public</span> <span class="token class-name">DesensitizeSerializer</span><span class="token punctuation">(</span><span class="token class-name">DesensitizeType</span> type<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>type <span class="token operator">=</span> type<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * åºåˆ—åŒ–å­—ç¬¦ä¸²æ—¶è°ƒç”¨ï¼Œæ ¹æ®è„±æ•ç±»å‹å¯¹å­—ç¬¦ä¸²è¿›è¡Œç›¸åº”çš„è„±æ•å¤„ç†ã€‚
     *
     * @param value       å¾…åºåˆ—åŒ–çš„å­—ç¬¦ä¸²
     * @param gen         JSONç”Ÿæˆå™¨ï¼Œç”¨äºå†™å…¥å¤„ç†åçš„å­—ç¬¦ä¸²
     * @param serializers åºåˆ—åŒ–å™¨æä¾›è€…ï¼Œç”¨äºè·å–å…¶ä»–åºåˆ—åŒ–å™¨
     * @throws IOException å¦‚æœåºåˆ—åŒ–è¿‡ç¨‹ä¸­å‘ç”ŸI/Oé”™è¯¯
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">serialize</span><span class="token punctuation">(</span><span class="token class-name">String</span> value<span class="token punctuation">,</span> <span class="token class-name">JsonGenerator</span> gen<span class="token punctuation">,</span> <span class="token class-name">SerializerProvider</span> serializers<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">switch</span> <span class="token punctuation">(</span>type<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">case</span> <span class="token constant">CUSTOM_RULE</span><span class="token operator">:</span>
                <span class="token comment">// è¿™é‡Œæ˜¯å¯¹å­—ç¬¦ä¸²çš„startIncludeåˆ°endExcludeå­—æ®µè¿›è¡Œéšè—å¤„ç†ï¼Œå¦‚æœæƒ³è¦å®ç°ä¸¤ç«¯ä¿ç•™ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨StrUtilçš„replaceæ–¹æ³•</span>
                gen<span class="token punctuation">.</span><span class="token function">writeString</span><span class="token punctuation">(</span><span class="token class-name">StrUtil</span><span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> startInclude<span class="token punctuation">,</span> endExclude<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token constant">PHONE</span><span class="token operator">:</span>
                gen<span class="token punctuation">.</span><span class="token function">writeString</span><span class="token punctuation">(</span><span class="token class-name">DesensitizedUtil</span><span class="token punctuation">.</span><span class="token function">mobilePhone</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token constant">EMAIL</span><span class="token operator">:</span>
                gen<span class="token punctuation">.</span><span class="token function">writeString</span><span class="token punctuation">(</span><span class="token class-name">DesensitizedUtil</span><span class="token punctuation">.</span><span class="token function">email</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token constant">ID_CARD</span><span class="token operator">:</span>
                gen<span class="token punctuation">.</span><span class="token function">writeString</span><span class="token punctuation">(</span><span class="token class-name">DesensitizedUtil</span><span class="token punctuation">.</span><span class="token function">idCardNum</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token constant">BANK_CARD</span><span class="token operator">:</span>
                gen<span class="token punctuation">.</span><span class="token function">writeString</span><span class="token punctuation">(</span><span class="token class-name">DesensitizedUtil</span><span class="token punctuation">.</span><span class="token function">bankCard</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token constant">ADDRESS</span><span class="token operator">:</span>
                gen<span class="token punctuation">.</span><span class="token function">writeString</span><span class="token punctuation">(</span><span class="token class-name">DesensitizedUtil</span><span class="token punctuation">.</span><span class="token function">address</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token constant">CHINESE_NAME</span><span class="token operator">:</span>
                gen<span class="token punctuation">.</span><span class="token function">writeString</span><span class="token punctuation">(</span><span class="token class-name">DesensitizedUtil</span><span class="token punctuation">.</span><span class="token function">chineseName</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token constant">PASSWORD</span><span class="token operator">:</span>
                gen<span class="token punctuation">.</span><span class="token function">writeString</span><span class="token punctuation">(</span><span class="token class-name">DesensitizedUtil</span><span class="token punctuation">.</span><span class="token function">password</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">default</span><span class="token operator">:</span>
                gen<span class="token punctuation">.</span><span class="token function">writeString</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * æ ¹æ®ä¸Šä¸‹æ–‡ä¿¡æ¯åˆ›å»ºè‡ªå®šä¹‰çš„åºåˆ—åŒ–å™¨ï¼Œç”¨äºå¤„ç†å¸¦æœ‰@Desensitizeæ³¨è§£çš„å±æ€§ã€‚
     *
     * @param prov     åºåˆ—åŒ–å™¨æä¾›è€…ï¼Œç”¨äºè·å–å…¶ä»–åºåˆ—åŒ–å™¨
     * @param property å½“å‰å±æ€§çš„ä¿¡æ¯ï¼Œç”¨äºè·å–æ³¨è§£å’Œå±æ€§ç±»å‹
     * @return è‡ªå®šä¹‰çš„åºåˆ—åŒ–å™¨å®ä¾‹
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">JsonSerializer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> <span class="token function">createContextual</span><span class="token punctuation">(</span><span class="token class-name">SerializerProvider</span> prov<span class="token punctuation">,</span> <span class="token class-name">BeanProperty</span> property<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>property <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">Desensitize</span> annotation <span class="token operator">=</span> property<span class="token punctuation">.</span><span class="token function">getAnnotation</span><span class="token punctuation">(</span><span class="token class-name">Desensitize</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>annotation <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>type <span class="token operator">=</span> annotation<span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>annotation<span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">DesensitizeType</span><span class="token punctuation">.</span><span class="token constant">CUSTOM_RULE</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token keyword">this</span><span class="token punctuation">.</span>startInclude <span class="token operator">=</span> annotation<span class="token punctuation">.</span><span class="token function">startInclude</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">this</span><span class="token punctuation">.</span>endExclude <span class="token operator">=</span> annotation<span class="token punctuation">.</span><span class="token function">endExclude</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre> 
<blockquote> 
 <p>ä»£ç åˆ†æï¼š</p> 
 <ul><li><code>serialize</code>æ–¹æ³•åœ¨åºåˆ—åŒ–å­—ç¬¦ä¸²æ—¶è¢«è°ƒç”¨ï¼Œæ ¹æ®è„±æ•ç±»å‹å¯¹å­—ç¬¦ä¸²è¿›è¡Œç›¸åº”çš„è„±æ•å¤„ç†ã€‚æ ¹æ®ä¸åŒçš„è„±æ•ç±»å‹ï¼Œä½¿ç”¨ä¸åŒçš„å¤„ç†æ–¹æ³•å¯¹å­—ç¬¦ä¸²è¿›è¡Œè„±æ•ï¼Œå¹¶å°†å¤„ç†åçš„å­—ç¬¦ä¸²å†™å…¥JSONç”Ÿæˆå™¨ä¸­ã€‚</li><li><code>createContextual</code>æ–¹æ³•æ ¹æ®ä¸Šä¸‹æ–‡ä¿¡æ¯åˆ›å»ºè‡ªå®šä¹‰çš„åºåˆ—åŒ–å™¨ï¼Œç”¨äºå¤„ç†å¸¦æœ‰<code>@Desensitize</code>æ³¨è§£çš„å±æ€§ã€‚å®ƒé€šè¿‡è·å–æ³¨è§£ä¸­çš„è„±æ•ç±»å‹å’Œè‡ªå®šä¹‰è§„åˆ™çš„èµ·å§‹ä½ç½®å’Œç»“æŸä½ç½®ï¼Œå¯¹å®ä¾‹è¿›è¡Œç›¸åº”çš„è®¾ç½®ï¼Œå¹¶è¿”å›è‡ªå®šä¹‰çš„åºåˆ—åŒ–å™¨å®ä¾‹ã€‚</li></ul> 
 <p>è¿™ä¸ªåºåˆ—åŒ–å™¨çš„ä¸»è¦ç”¨é€”æ˜¯åœ¨ JSON åºåˆ—åŒ–è¿‡ç¨‹ä¸­è‡ªåŠ¨å¯¹æ ‡è®°äº† <code>@Desensitize</code> æ³¨è§£çš„å­—æ®µè¿›è¡Œè„±æ•å¤„ç†ã€‚</p> 
</blockquote> 
<h2><a id="_269"></a>å››ã€æµ‹è¯•</h2> 
<h3><a id="41__271"></a>4.1 ç¼–å†™æµ‹è¯•ä»£ç </h3> 
<ol><li>ç¼–å†™å®ä½“ç±»</li></ol> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@Data</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserDTO</span> <span class="token punctuation">{<!-- --></span>

    <span class="token comment">/**
     * ç”¨æˆ·å§“å
     */</span>
    <span class="token annotation punctuation">@Desensitize</span><span class="token punctuation">(</span>type <span class="token operator">=</span> <span class="token class-name">DesensitizeType</span><span class="token punctuation">.</span><span class="token constant">CHINESE_NAME</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>

    <span class="token comment">/**
     * ç”¨æˆ·æ‰‹æœºå·
     */</span>
    <span class="token annotation punctuation">@Desensitize</span><span class="token punctuation">(</span>type <span class="token operator">=</span> <span class="token class-name">DesensitizeType</span><span class="token punctuation">.</span><span class="token constant">PHONE</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> phoneNumber<span class="token punctuation">;</span>

    <span class="token comment">/**
     * ç”¨æˆ·ç”µå­é‚®ä»¶åœ°å€
     */</span>
    <span class="token annotation punctuation">@Desensitize</span><span class="token punctuation">(</span>type <span class="token operator">=</span> <span class="token class-name">DesensitizeType</span><span class="token punctuation">.</span><span class="token constant">EMAIL</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> email<span class="token punctuation">;</span>

    <span class="token comment">/**
     * ç”¨æˆ·å¯†ç 
     */</span>
    <span class="token annotation punctuation">@Desensitize</span><span class="token punctuation">(</span>type <span class="token operator">=</span> <span class="token class-name">DesensitizeType</span><span class="token punctuation">.</span><span class="token constant">PASSWORD</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> password<span class="token punctuation">;</span>

    <span class="token comment">/**
     * ç”¨æˆ·èº«ä»½è¯å·ç 
     */</span>
    <span class="token annotation punctuation">@Desensitize</span><span class="token punctuation">(</span>type <span class="token operator">=</span> <span class="token class-name">DesensitizeType</span><span class="token punctuation">.</span><span class="token constant">ID_CARD</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> idCard<span class="token punctuation">;</span>

    <span class="token comment">/**
     * ç”¨æˆ·é“¶è¡Œå¡å·
     */</span>
    <span class="token annotation punctuation">@Desensitize</span><span class="token punctuation">(</span>type <span class="token operator">=</span> <span class="token class-name">DesensitizeType</span><span class="token punctuation">.</span><span class="token constant">BANK_CARD</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> bankCard<span class="token punctuation">;</span>

    <span class="token comment">/**
     * ç”¨æˆ·åœ°å€
     */</span>
    <span class="token annotation punctuation">@Desensitize</span><span class="token punctuation">(</span>type <span class="token operator">=</span> <span class="token class-name">DesensitizeType</span><span class="token punctuation">.</span><span class="token constant">ADDRESS</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> address<span class="token punctuation">;</span>

    <span class="token comment">/**
     * æ¸¸æˆåç§°
     */</span>
    <span class="token annotation punctuation">@Desensitize</span><span class="token punctuation">(</span>type <span class="token operator">=</span> <span class="token class-name">DesensitizeType</span><span class="token punctuation">.</span><span class="token constant">CUSTOM_RULE</span><span class="token punctuation">,</span> startInclude <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> endExclude <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> gameName<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> 
<ol start="2"><li>ç¼–å†™æµ‹è¯•æ¥å£</li></ol> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/test"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestController</span> <span class="token punctuation">{<!-- --></span>
    
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/desensitize"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">UserDTO</span> <span class="token function">getUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">UserDTO</span> userDTO <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UserDTO</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        userDTO<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">"å­™å¤§åœ£"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        userDTO<span class="token punctuation">.</span><span class="token function">setEmail</span><span class="token punctuation">(</span><span class="token string">"shijun@163.com"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        userDTO<span class="token punctuation">.</span><span class="token function">setPhoneNumber</span><span class="token punctuation">(</span><span class="token string">"12345678901"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        userDTO<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span><span class="token string">"123456"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        userDTO<span class="token punctuation">.</span><span class="token function">setAddress</span><span class="token punctuation">(</span><span class="token string">"è¾½å®çœç›˜é”¦å¸‚å…´éš†å°åŒºçº¢æ‘ä¹¡441å·"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        userDTO<span class="token punctuation">.</span><span class="token function">setIdCard</span><span class="token punctuation">(</span><span class="token string">"447465200912089605"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        userDTO<span class="token punctuation">.</span><span class="token function">setBankCard</span><span class="token punctuation">(</span><span class="token string">"6217000000000000000"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        userDTO<span class="token punctuation">.</span><span class="token function">setGameName</span><span class="token punctuation">(</span><span class="token string">"è¶…çº§æ— æ•Œå¤§é“é”¤"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> userDTO<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="42__354"></a>4.2 æµ‹è¯•</h3> 
<p><img src="https://images2.imgbox.com/41/e1/sjg7hRpN_o.png" alt="image-20240709170909054"></p> 
<h2><a id="_358"></a>äº”ã€æ€»ç»“</h2> 
<p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬æ¢è®¨äº†åœ¨SpringBootåº”ç”¨ç¨‹åºä¸­å®ç°æ•°æ®è„±æ•çš„é‡è¦æ€§ï¼Œå¹¶æå‡ºäº†é€šè¿‡è‡ªå®šä¹‰æ³¨è§£ç»“åˆHutoolè„±æ•å·¥å…·ç±»å®ç°æ•°æ®è„±æ•çš„è§£å†³æ–¹æ¡ˆã€‚é€šè¿‡è¿™ä¸ªæ–¹æ¡ˆï¼Œæˆ‘ä»¬èƒ½å¤Ÿæœ‰æ•ˆåœ°å¯¹æ•æ„Ÿæ•°æ®è¿›è¡Œè„±æ•å¤„ç†ï¼Œä»è€Œä¿æŠ¤ç”¨æˆ·éšç§å’Œæ•°æ®å®‰å…¨ï¼Œå¸Œæœ›å¯¹å¤§å®¶æœ‰æ‰€å¸®åŠ©ğŸ˜Šã€‚</p> 
<p><img src="https://images2.imgbox.com/1e/69/7qrTafJf_o.gif" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/366b13ee26ef7d88462a2816a00ad824/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">ã€Ty CLIã€‘ä¸€ä¸ªå¼€ç®±å³ç”¨çš„å‰ç«¯è„šæ‰‹æ¶</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/0ffd8f7520cb9625f957b6499a8b2ff1/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">ç”Ÿæˆå¼äººå·¥æ™ºèƒ½ï¼šåŠ©æ”»å¼€å‘è€…è¿˜æ˜¯å–ä»£å¼€å‘è€…ï¼Ÿ</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ç¼–ç¨‹å¤§å’–.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>