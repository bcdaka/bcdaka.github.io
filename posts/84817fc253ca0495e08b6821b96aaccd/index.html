<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>C&#43;&#43; --＞ 类和对象（一） - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/84817fc253ca0495e08b6821b96aaccd/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="C&#43;&#43; --＞ 类和对象（一）">
  <meta property="og:description" content="欢迎来到我的Blog，点击关注哦💕
前言 前面讲到了C&#43;&#43;的入门需要学习的知识，是为了后面更好的学习。学习是不断深入的，内容是不断复杂的。笃定信心。
一、面向对象编程(OOP)和面向过程编程(POP)的认识 面向过程编程（Procedural Programming，简称POP） POP特性 程序的核心是函数，这些函数是一系列预定义操作的集合，旨在执行特定任务。这种方法让程序员可以重用代码，提高效率，并且使代码更易于跟踪和维护。通过将复杂问题拆解为更小、更具体的任务，面向过程编程使解决问题变得更加直接. 面向对象编程（Object Oriented Programming，简称OOP） OOP特性 封装：是将对象的属性和方法结合在一起，并尽可能隐藏对象的内部细节，只暴露必要的接口供外部使用。继承：允许一个类（子类）继承另一个类（父类）的属性和方法，实现代码的重用和层次化组织。多态：允许使用相同的接口来处理不同类型的对象，具有不同的实现，增加了代码的灵活性和可扩展性. 二、类 类的定义：类是用户自定义的数据类型，它允许将数据（成员变量）和操作数据的函数（成员函数）封装在一起。
类的定义 class ClassName { public: // 公共成员声明 private: // 私有成员声明 protected: // 受保护成员声明 }; 访问限定修饰符 public（公有）：公有成员可以在类的内部、派生类和类的外部访问。它们构成了类的公共接口，通常用于定义可以被外部直接访问和操作的方法和属性。protected（受保护）：受保护的成员只能在类的内部和派生类中访问，而不能在类的外部访问。它们用于实现基类和派生类之间的共享实现细节。private（私有）：私有成员只能在类的内部访问，外部无法直接访问。私有成员用于隐藏类的内部实现细节，防止外部代码直接访问和修改类的状态 类和结构区别 在C&#43;&#43; 中将 C语言中 struct升级成了类，在C&#43;&#43;中strcut也可以声明类。
结构（struct）默认访问类型是 public类的默认访问类型是private 类的作用域 **类 **: 类的作用域是指类定义中声明的成员变量和成员函数的可见范围。类的作用域由类名和作用域解析运算符（::）共同控制。
类的实例化 类的实例化：指创建类的具体对象的过程。这个过程通常涉及到分配内存空间给新创建的对象，并设置其初始属性值。
例如：
class Stack { //类定义 }; int main() { Stack st; return 0; } 对象的大小 对象的大小类似于C语言中的结构体大小的计算方法。
第一个成员在与结构体偏移量为0的地址处。其他成员变量要对齐到某个数字（对齐数）的整数倍的地址处。 注意：对齐数 = 编译器默认的一个对齐数 与 该成员大小的较小值。 VS中默认的对齐数为8结构体总大小为：最大对齐数（所有变量类型最大者与默认对齐参数取最小）的整数倍。如果嵌套了结构体的情况，嵌套的结构体对齐到自己的最大对齐数的整数倍处，结构体的整 体大小就是所有最大对齐数（含嵌套结构体的对齐数）的整数倍 class A1 { public: void f1(){} private: int _a; }; // 类中仅有成员函数 class A2 { public: void f2() {} }; // 类中什么都没有---空类 class A3 {}; sizeof(A1) = 4sizeof(A2) = 1sizeof(A3) = 1 C&#43;&#43;标准规定空类必须具有非零大小的原因主要有以下几点 确保对象地址唯一性：C&#43;&#43;标准要求不同的对象不能具有相同的地址。如果空类的大小为0，那么在数组中连续创建多个空类对象时，这些对象将没有区分它们的内存空间，从而违反了这一原则.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-07-09T16:15:27+08:00">
    <meta property="article:modified_time" content="2024-07-09T16:15:27+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">C&#43;&#43; --＞ 类和对象（一）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><a href="https://blog.csdn.net/Cayyyy?spm=1011.2415.3001.5343">欢迎来到我的Blog，点击关注哦💕</a></p> 
<h2><a id="_1"></a>前言</h2> 
<blockquote> 
 <p>前面讲到了C++的入门需要学习的知识，是为了后面更好的学习。学习是不断深入的，内容是不断复杂的。笃定信心。</p> 
</blockquote> 
<h2><a id="OOPPOP_5"></a>一、面向对象编程(OOP)和面向过程编程(POP)的认识</h2> 
<h3><a id="Procedural_ProgrammingPOP_7"></a>面向过程编程（Procedural Programming，简称POP）</h3> 
<h4><a id="POP_9"></a>POP特性</h4> 
<ul><li>程序的核心是函数，这些函数是一系列预定义操作的集合，旨在执行特定任务。</li><li>这种方法让程序员可以重用代码，提高效率，并且使代码更易于跟踪和维护。</li><li>通过将复杂问题拆解为更小、更具体的任务，面向过程编程使解决问题变得更加直接.</li></ul> 
<h3><a id="Object_Oriented_ProgrammingOOP_15"></a>面向对象编程（Object Oriented Programming，简称OOP）</h3> 
<h4><a id="OOP_17"></a>OOP特性</h4> 
<ul><li>封装：是将对象的属性和方法结合在一起，并尽可能隐藏对象的内部细节，只暴露必要的接口供外部使用。</li><li>继承：允许一个类（子类）继承另一个类（父类）的属性和方法，实现代码的重用和层次化组织。</li><li>多态：允许使用相同的接口来处理不同类型的对象，具有不同的实现，增加了代码的灵活性和可扩展性.</li></ul> 
<h2><a id="_23"></a>二、类</h2> 
<p>类的定义：类是用户自定义的数据类型，它允许将数据（成员变量）和操作数据的函数（成员函数）封装在一起。</p> 
<h3><a id="_27"></a>类的定义</h3> 
<pre><code class="prism language-cpp"><span class="token keyword">class</span> <span class="token class-name">ClassName</span> <span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token comment">// 公共成员声明</span>
<span class="token keyword">private</span><span class="token operator">:</span>
    <span class="token comment">// 私有成员声明</span>
<span class="token keyword">protected</span><span class="token operator">:</span>
    <span class="token comment">// 受保护成员声明</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="_40"></a>访问限定修饰符</h4> 
<ul><li><strong>public（公有）</strong>：公有成员可以在类的内部、派生类和类的外部访问。它们构成了类的公共接口，通常用于定义可以被外部直接访问和操作的方法和属性。</li><li><strong>protected（受保护）</strong>：受保护的成员只能在类的内部和派生类中访问，而不能在类的外部访问。它们用于实现基类和派生类之间的共享实现细节。</li><li><strong>private（私有）</strong>：私有成员只能在类的内部访问，外部无法直接访问。私有成员用于隐藏类的内部实现细节，防止外部代码直接访问和修改类的状态</li></ul> 
<h4><a id="_46"></a>类和结构区别</h4> 
<p>在C++ 中将 C语言中 <mark>struct</mark>升级成了类，在C++中strcut也可以声明类。</p> 
<ul><li>结构（struct）默认访问类型是 <mark>public</mark></li><li>类的默认访问类型是private</li></ul> 
<h3><a id="_53"></a>类的作用域</h3> 
<p>**类 **: 类的作用域是指类定义中声明的成员变量和成员函数的可见范围。类的作用域由类名和作用域解析运算符（::）共同控制。</p> 
<h3><a id="_57"></a>类的实例化</h3> 
<p><strong>类的实例化</strong>：指创建类的具体对象的过程。这个过程通常涉及到分配内存空间给新创建的对象，并设置其初始属性值。</p> 
<p>例如：</p> 
<pre><code class="prism language-cpp"><span class="token keyword">class</span> <span class="token class-name">Stack</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">//类定义</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	Stack st<span class="token punctuation">;</span>

	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_77"></a>对象的大小</h4> 
<p>对象的大小类似于C语言中的结构体大小的计算方法。</p> 
<ul><li>第一个成员在与结构体偏移量为0的地址处。</li><li>其他成员变量要对齐到某个数字（对齐数）的整数倍的地址处。 注意：对齐数 = 编译器默认的一个对齐数 与 该成员大小的较小值。 VS中默认的对齐数为8</li><li>结构体总大小为：最大对齐数（所有变量类型最大者与默认对齐参数取最小）的整数倍。</li><li>如果嵌套了结构体的情况，嵌套的结构体对齐到自己的最大对齐数的整数倍处，结构体的整 体大小就是所有最大对齐数（含嵌套结构体的对齐数）的整数倍</li></ul> 
<pre><code class="prism language-cpp"><span class="token keyword">class</span> <span class="token class-name">A1</span> <span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">void</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
<span class="token keyword">private</span><span class="token operator">:</span>
    <span class="token keyword">int</span> _a<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 类中仅有成员函数</span>
<span class="token keyword">class</span> <span class="token class-name">A2</span> <span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
   <span class="token keyword">void</span> <span class="token function">f2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 类中什么都没有---空类</span>
<span class="token keyword">class</span> <span class="token class-name">A3</span>
<span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<ul><li>sizeof(A1) = 4</li><li>sizeof(A2) = 1</li><li>sizeof(A3) = 1</li></ul> 
<h5><a id="C_107"></a>C++标准规定空类必须具有非零大小的原因主要有以下几点</h5> 
<ul><li> <p><strong>确保对象地址唯一性</strong>：C++标准要求不同的对象不能具有相同的地址。如果空类的大小为0，那么在数组中连续创建多个空类对象时，这些对象将没有区分它们的内存空间，从而违反了这一原则.</p> </li><li> <p><strong>避免指针运算问题</strong>：如果空类的大小为0，那么使用指针进行算术运算时将无法正确计算偏移量，因为除以0是非法的操作。这将导致编译器需要编写额外的代码来处理这些异常情况.</p> </li><li> <p><strong>内存分配和对齐</strong>：新对象的分配需要不同的内存地址，且内存分配通常考虑到对齐要求。一个非零大小的空类可以确保即使是最基本的对象也至少占据一个内存单元，满足基本的内存对齐要求.</p> </li><li> <p><strong>优化空间利用</strong>：C++标准允许空基类优化，即如果空类作为基类时不会与同一类型的另一个对象或子对象分配在同一地址，编译器可以选择不为其分配任何空间。这意味着空类的非零大小实际上不会增加派生类的内存占用，除非派生类本身需要更多空间.</p> </li></ul> 
<h2><a id="this_117"></a>三、this指针</h2> 
<p><code>this</code>指针是一个隐含的成员指针，它在类的非静态成员函数中可用，指向调用该函数的对象实例。</p> 
<ul><li><code>this</code>指针是一个常量指针，其指向的内容可以被修改，但指针本身不能被重新赋值。</li><li><code>this</code>指针的类型是指向类类型的指针，即<code>const ClassType*</code>。</li><li><code>this</code>指针在成员函数的整个执行期间都存在，其生命周期与函数的其他参数相同。</li><li><code>this</code>指针不是对象内存的一部分，因此不会影响对象的大小</li></ul> 
<pre><code class="prism language-cpp"><span class="token keyword">class</span> <span class="token class-name">A</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
 <span class="token keyword">void</span> <span class="token function">Print</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
 <span class="token punctuation">{<!-- --></span>
 cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Print()"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
<span class="token keyword">private</span><span class="token operator">:</span>
 <span class="token keyword">int</span> _a<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
 A<span class="token operator">*</span> p <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>
 p<span class="token operator">-&gt;</span><span class="token function">Print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<pre><code class="prism language-cpp"><span class="token keyword">class</span> <span class="token class-name">B</span>
<span class="token punctuation">{<!-- --></span> 
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">void</span> <span class="token function">PrintB</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
   <span class="token punctuation">{<!-- --></span>
        cout<span class="token operator">&lt;&lt;</span>_a<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token keyword">private</span><span class="token operator">:</span>
 <span class="token keyword">int</span> _a<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    B<span class="token operator">*</span> p <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>
    p<span class="token operator">-&gt;</span><span class="token function">PrintB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> 
<ul><li>A会正常运行， 因为p调用的公共代码块的，没有进行成员访问。</li><li>B段代码进行了成员访问，Print函数内部 this-&gt;_a。</li></ul>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/3bca887f85a99890ef255ab6b27e934d/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">苹果电脑玩游戏咋样 苹果电脑能玩什么游戏 mac支持的steam游戏 好玩的苹果电脑游戏推荐</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/24845fbbe6b6effe9608c314453fdf9c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">百度文心4.0 Turbo开放，领跑国内AI大模型赛道！</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>