<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>ã€C&#43;&#43;åº–ä¸è§£ç‰›ã€‘C&#43;&#43;11---lambdaè¡¨è¾¾å¼ | åŒ…è£…å™¨ - ç¼–ç¨‹å¤§å’–</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/cc8d98fc32b5e21cb69085328f65ae71/">
  <meta property="og:site_name" content="ç¼–ç¨‹å¤§å’–">
  <meta property="og:title" content="ã€C&#43;&#43;åº–ä¸è§£ç‰›ã€‘C&#43;&#43;11---lambdaè¡¨è¾¾å¼ | åŒ…è£…å™¨">
  <meta property="og:description" content="ğŸä½ å¥½ï¼Œæˆ‘æ˜¯ RO-BERRY ğŸ“— è‡´åŠ›äºCã€C&#43;&#43;ã€æ•°æ®ç»“æ„ã€TCP/IPã€æ•°æ®åº“ç­‰ç­‰ä¸€ç³»åˆ—çŸ¥è¯† ğŸ„æ„Ÿè°¢ä½ çš„é™ªä¼´ä¸æ”¯æŒ ï¼Œæ•…äº‹æ—¢æœ‰äº†å¼€å¤´ï¼Œå°±è¦ç”»ä¸Šä¸€ä¸ªå®Œç¾çš„å¥å·ï¼Œè®©æˆ‘ä»¬ä¸€èµ·åŠ æ²¹ ç›®å½• 1. lambdaè¡¨è¾¾å¼1.1 C&#43;&#43;98ä¸­çš„ä¸€ä¸ªä¾‹å­1.2 lambdaè¡¨è¾¾å¼1.3 lambdaè¡¨è¾¾å¼è¯­æ³•1.4. æ•è·åˆ—è¡¨è¯´æ˜1.5 å‡½æ•°å¯¹è±¡ä¸lambdaè¡¨è¾¾å¼ 2.åŒ…è£…å™¨2.1 bind 1. lambdaè¡¨è¾¾å¼ 1.1 C&#43;&#43;98ä¸­çš„ä¸€ä¸ªä¾‹å­ åœ¨C&#43;&#43;98ä¸­ï¼Œå¦‚æœæƒ³è¦å¯¹ä¸€ä¸ªæ•°æ®é›†åˆä¸­çš„å…ƒç´ è¿›è¡Œæ’åºï¼Œå¯ä»¥ä½¿ç”¨std::sortæ–¹æ³•ã€‚
#include &lt;algorithm&gt; #include &lt;functional&gt; int main() { int array[] = { 4,1,8,5,3,7,0,9,2,6 }; // é»˜è®¤æŒ‰ç…§å°äºæ¯”è¾ƒï¼Œæ’å‡ºæ¥ç»“æœæ˜¯å‡åº std::sort(array, array &#43; sizeof(array) / sizeof(array[0])); // å¦‚æœéœ€è¦é™åºï¼Œéœ€è¦æ”¹å˜å…ƒç´ çš„æ¯”è¾ƒè§„åˆ™ std::sort(array, array &#43; sizeof(array) / sizeof(array[0]), greater&lt;int&gt;()); return 0; } åœ¨è¿™é‡Œï¼Œgreateræ˜¯ä¸€ä¸ªå‡½æ•°å¯¹è±¡ï¼ˆfunction objectï¼‰ï¼Œå®ƒæ˜¯C&#43;&#43;æ ‡å‡†åº“ä¸­çš„ä¸€ä¸ªæ¨¡æ¿ç±»ï¼Œç”¨äºæ¯”è¾ƒä¸¤ä¸ªå…ƒç´ çš„å¤§å°å…³ç³»ã€‚greateræ˜¯ä¸€ä¸ªç”¨äºé™åºæ’åºçš„æ¯”è¾ƒå™¨ï¼Œå®ƒä¼šå°†è¾ƒå¤§çš„å…ƒç´ æ’åœ¨å‰é¢ã€‚
å¦‚æœå¾…æ’åºå…ƒç´ ä¸ºè‡ªå®šä¹‰ç±»å‹ï¼Œéœ€è¦ç”¨æˆ·å®šä¹‰æ’åºæ—¶çš„æ¯”è¾ƒè§„åˆ™ï¼š
#include&lt;iostream&gt; using namespace std; #include &lt;algorithm&gt; #include &lt;functional&gt; #include &lt;string&gt; #include &lt;vector&gt; struct Goods { string _name; // åå­— double _price; // ä»·æ ¼ int _evaluate; // è¯„ä»· Goods(const char* str, double price, int evaluate) :_name(str) , _price(price) , _evaluate(evaluate) {} }; struct ComparePriceLess { bool operator()(const Goods&amp; gl, const Goods&amp; gr) { return gl.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-05-02T10:03:50+08:00">
    <meta property="article:modified_time" content="2024-05-02T10:03:50+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ç¼–ç¨‹å¤§å’–" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ç¼–ç¨‹å¤§å’–</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">ã€C&#43;&#43;åº–ä¸è§£ç‰›ã€‘C&#43;&#43;11---lambdaè¡¨è¾¾å¼ | åŒ…è£…å™¨</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <center> 
 <img src="https://images2.imgbox.com/4c/d5/iZzaDU9u_o.png" width="20%"> 
</center> 
<center> 
 <font face="ä»¿å®‹" color="#00FFFF" size="3"> ğŸä½ å¥½ï¼Œæˆ‘æ˜¯ <a href="https://blog.csdn.net/weixin_60521256?spm=1010.2135.3001.5343">RO-BERRY</a> </font> 
</center> 
<center> 
 <font face="ä»¿å®‹" color="bluie" size="3"> ğŸ“— è‡´åŠ›äºCã€C++ã€æ•°æ®ç»“æ„ã€TCP/IPã€æ•°æ®åº“ç­‰ç­‰ä¸€ç³»åˆ—çŸ¥è¯†</font> 
 <center> 
  <font face="ä»¿å®‹" color="orange" size="3"> ğŸ„æ„Ÿè°¢ä½ çš„é™ªä¼´ä¸æ”¯æŒ ï¼Œæ•…äº‹æ—¢æœ‰äº†å¼€å¤´ï¼Œå°±è¦ç”»ä¸Šä¸€ä¸ªå®Œç¾çš„å¥å·ï¼Œè®©æˆ‘ä»¬ä¸€èµ·åŠ æ²¹</font> 
 </center> 
</center> 
<hr> 
<p><img src="https://images2.imgbox.com/41/c3/6QPk726T_o.gif" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<hr> 
<p></p> 
<div class="toc"> 
 <h4>ç›®å½•</h4> 
 <ul><li><a href="#1_lambda_13" rel="nofollow">1. lambdaè¡¨è¾¾å¼</a></li><li><ul><li><a href="#11_C98_14" rel="nofollow">1.1 C++98ä¸­çš„ä¸€ä¸ªä¾‹å­</a></li><li><a href="#12_lambda_76" rel="nofollow">1.2 lambdaè¡¨è¾¾å¼</a></li><li><a href="#13_lambda_94" rel="nofollow">1.3 lambdaè¡¨è¾¾å¼è¯­æ³•</a></li><li><a href="#14__141" rel="nofollow">1.4. æ•è·åˆ—è¡¨è¯´æ˜</a></li><li><a href="#15_lambda_185" rel="nofollow">1.5 å‡½æ•°å¯¹è±¡ä¸lambdaè¡¨è¾¾å¼</a></li></ul> 
  </li><li><a href="#2_222" rel="nofollow">2.åŒ…è£…å™¨</a></li><li><ul><li><a href="#21_bind_375" rel="nofollow">2.1 bind</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<hr> 
<h2><a id="1_lambda_13"></a>1. lambdaè¡¨è¾¾å¼</h2> 
<h3><a id="11_C98_14"></a>1.1 C++98ä¸­çš„ä¸€ä¸ªä¾‹å­</h3> 
<p>åœ¨C++98ä¸­ï¼Œå¦‚æœæƒ³è¦å¯¹ä¸€ä¸ªæ•°æ®é›†åˆä¸­çš„å…ƒç´ è¿›è¡Œæ’åºï¼Œå¯ä»¥ä½¿ç”¨std::sortæ–¹æ³•ã€‚</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;functional&gt;</span></span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> array<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">4</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">6</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token comment">// é»˜è®¤æŒ‰ç…§å°äºæ¯”è¾ƒï¼Œæ’å‡ºæ¥ç»“æœæ˜¯å‡åº</span>
	std<span class="token double-colon punctuation">::</span><span class="token function">sort</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> array <span class="token operator">+</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>array<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// å¦‚æœéœ€è¦é™åºï¼Œéœ€è¦æ”¹å˜å…ƒç´ çš„æ¯”è¾ƒè§„åˆ™</span>
	std<span class="token double-colon punctuation">::</span><span class="token function">sort</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> array <span class="token operator">+</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>array<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token generic-function"><span class="token function">greater</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<blockquote> 
 <p>åœ¨è¿™é‡Œï¼Œgreateræ˜¯ä¸€ä¸ªå‡½æ•°å¯¹è±¡ï¼ˆfunction objectï¼‰ï¼Œå®ƒæ˜¯C++æ ‡å‡†åº“ä¸­çš„ä¸€ä¸ªæ¨¡æ¿ç±»ï¼Œç”¨äºæ¯”è¾ƒä¸¤ä¸ªå…ƒç´ çš„å¤§å°å…³ç³»ã€‚greateræ˜¯ä¸€ä¸ªç”¨äºé™åºæ’åºçš„æ¯”è¾ƒå™¨ï¼Œå®ƒä¼šå°†è¾ƒå¤§çš„å…ƒç´ æ’åœ¨å‰é¢ã€‚</p> 
</blockquote> 
<p>å¦‚æœå¾…æ’åºå…ƒç´ ä¸ºè‡ªå®šä¹‰ç±»å‹ï¼Œéœ€è¦ç”¨æˆ·å®šä¹‰æ’åºæ—¶çš„æ¯”è¾ƒè§„åˆ™ï¼š</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;functional&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span>
<span class="token keyword">struct</span> <span class="token class-name">Goods</span>
<span class="token punctuation">{<!-- --></span>
	string _name<span class="token punctuation">;</span>  <span class="token comment">// åå­—</span>
	<span class="token keyword">double</span> _price<span class="token punctuation">;</span> <span class="token comment">// ä»·æ ¼</span>
	<span class="token keyword">int</span> _evaluate<span class="token punctuation">;</span> <span class="token comment">// è¯„ä»·</span>
	<span class="token function">Goods</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> str<span class="token punctuation">,</span> <span class="token keyword">double</span> price<span class="token punctuation">,</span> <span class="token keyword">int</span> evaluate<span class="token punctuation">)</span>
		<span class="token operator">:</span><span class="token function">_name</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span>
		<span class="token punctuation">,</span> <span class="token function">_price</span><span class="token punctuation">(</span>price<span class="token punctuation">)</span>
		<span class="token punctuation">,</span> <span class="token function">_evaluate</span><span class="token punctuation">(</span>evaluate<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">struct</span> <span class="token class-name">ComparePriceLess</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">const</span> Goods<span class="token operator">&amp;</span> gl<span class="token punctuation">,</span> <span class="token keyword">const</span> Goods<span class="token operator">&amp;</span> gr<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> gl<span class="token punctuation">.</span>_price <span class="token operator">&lt;</span> gr<span class="token punctuation">.</span>_price<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">struct</span> <span class="token class-name">ComparePriceGreater</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">const</span> Goods<span class="token operator">&amp;</span> gl<span class="token punctuation">,</span> <span class="token keyword">const</span> Goods<span class="token operator">&amp;</span> gr<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> gl<span class="token punctuation">.</span>_price <span class="token operator">&gt;</span> gr<span class="token punctuation">.</span>_price<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	vector<span class="token operator">&lt;</span>Goods<span class="token operator">&gt;</span> v <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token punctuation">{<!-- --></span> <span class="token string">"è‹¹æœ"</span><span class="token punctuation">,</span> <span class="token number">2.1</span><span class="token punctuation">,</span> <span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> <span class="token string">"é¦™è•‰"</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> <span class="token string">"æ©™å­"</span><span class="token punctuation">,</span> <span class="token number">2.2</span><span class="token punctuation">,</span><span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> <span class="token string">"è è"</span><span class="token punctuation">,</span> <span class="token number">1.5</span><span class="token punctuation">,</span> <span class="token number">4</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token function">sort</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">ComparePriceLess</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">sort</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">ComparePriceGreater</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>éšç€C++è¯­æ³•çš„å‘å±•ï¼Œäººä»¬å¼€å§‹è§‰å¾—ä¸Šé¢çš„å†™æ³•å¤ªå¤æ‚äº†ï¼Œæ¯æ¬¡ä¸ºäº†å®ç°ä¸€ä¸ªalgorithmç®—æ³•ï¼Œéƒ½è¦é‡æ–°å»å†™ä¸€ä¸ªç±»ï¼Œå¦‚æœæ¯æ¬¡æ¯”è¾ƒçš„é€»è¾‘ä¸ä¸€æ ·ï¼Œè¿˜è¦å»å®ç°å¤šä¸ªç±»ï¼Œç‰¹åˆ«æ˜¯ç›¸åŒç±»çš„å‘½åï¼Œè¿™äº›éƒ½ç»™ç¼–ç¨‹è€…å¸¦æ¥äº†æå¤§çš„ä¸ä¾¿ã€‚å› æ­¤ï¼Œåœ¨C++11è¯­æ³•ä¸­å‡ºç°äº†Lambdaè¡¨è¾¾å¼ã€‚</p> 
<hr> 
<h3><a id="12_lambda_76"></a>1.2 lambdaè¡¨è¾¾å¼</h3> 
<pre><code class="prism language-cpp"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	vector<span class="token operator">&lt;</span>Goods<span class="token operator">&gt;</span> v <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token punctuation">{<!-- --></span> <span class="token string">"è‹¹æœ"</span><span class="token punctuation">,</span> <span class="token number">2.1</span><span class="token punctuation">,</span> <span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> <span class="token string">"é¦™è•‰"</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> <span class="token string">"æ©™å­"</span><span class="token punctuation">,</span> <span class="token number">2.2</span><span class="token punctuation">,</span><span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> <span class="token string">"è è"</span><span class="token punctuation">,</span> <span class="token number">1.5</span><span class="token punctuation">,</span> <span class="token number">4</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token function">sort</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">const</span> Goods<span class="token operator">&amp;</span> g1<span class="token punctuation">,</span> <span class="token keyword">const</span> Goods<span class="token operator">&amp;</span> g2<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> g1<span class="token punctuation">.</span>_price <span class="token operator">&lt;</span> g2<span class="token punctuation">.</span>_price<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">sort</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">const</span> Goods<span class="token operator">&amp;</span> g1<span class="token punctuation">,</span> <span class="token keyword">const</span> Goods<span class="token operator">&amp;</span> g2<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> g1<span class="token punctuation">.</span>_price <span class="token operator">&gt;</span> g2<span class="token punctuation">.</span>_price<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">sort</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">const</span> Goods<span class="token operator">&amp;</span> g1<span class="token punctuation">,</span> <span class="token keyword">const</span> Goods<span class="token operator">&amp;</span> g2<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> g1<span class="token punctuation">.</span>_evaluate <span class="token operator">&lt;</span> g2<span class="token punctuation">.</span>_evaluate<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">sort</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">const</span> Goods<span class="token operator">&amp;</span> g1<span class="token punctuation">,</span> <span class="token keyword">const</span> Goods<span class="token operator">&amp;</span> g2<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> g1<span class="token punctuation">.</span>_evaluate <span class="token operator">&gt;</span> g2<span class="token punctuation">.</span>_evaluate<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>ä¸Šè¿°ä»£ç å°±æ˜¯ä½¿ç”¨C++11ä¸­çš„lambdaè¡¨è¾¾å¼æ¥è§£å†³ï¼Œå¯ä»¥çœ‹å‡ºlambdaè¡¨è¾¾å¼å®é™…æ˜¯ä¸€ä¸ªåŒ¿åå‡½æ•°ã€‚</p> 
<hr> 
<h3><a id="13_lambda_94"></a>1.3 lambdaè¡¨è¾¾å¼è¯­æ³•</h3> 
<blockquote> 
 <p>lambdaè¡¨è¾¾å¼ä¹¦å†™æ ¼å¼ï¼š<code>[capture-list] (parameters) mutable -&gt; return-type { statement }</code></p> 
</blockquote> 
<ol><li>lambdaè¡¨è¾¾å¼å„éƒ¨åˆ†è¯´æ˜</li></ol> 
<ul><li><code>[capture-list]</code> : æ•æ‰åˆ—è¡¨ï¼Œè¯¥åˆ—è¡¨æ€»æ˜¯å‡ºç°åœ¨lambdaå‡½æ•°çš„å¼€å§‹ä½ç½®ï¼Œç¼–è¯‘å™¨æ ¹æ®[]æ¥åˆ¤æ–­æ¥ä¸‹æ¥çš„ä»£ç æ˜¯å¦ä¸ºlambdaå‡½æ•°ï¼Œæ•æ‰åˆ—è¡¨èƒ½å¤Ÿæ•æ‰ä¸Šä¸‹æ–‡ä¸­çš„å˜é‡ä¾›lambdaå‡½æ•°ä½¿ç”¨ã€‚</li><li><code>(parameters)</code>ï¼šå‚æ•°åˆ—è¡¨ã€‚ä¸æ™®é€šå‡½æ•°çš„å‚æ•°åˆ—è¡¨ä¸€è‡´ï¼Œå¦‚æœä¸éœ€è¦å‚æ•°ä¼ é€’ï¼Œåˆ™å¯ä»¥è¿åŒ()ä¸€èµ·çœç•¥</li><li><code>mutable</code>ï¼šé»˜è®¤æƒ…å†µä¸‹ï¼Œlambdaå‡½æ•°æ€»æ˜¯ä¸€ä¸ªconstå‡½æ•°ï¼Œmutableå¯ä»¥å–æ¶ˆå…¶å¸¸é‡æ€§ã€‚ä½¿ç”¨è¯¥ä¿®é¥°ç¬¦æ—¶ï¼Œå‚æ•°åˆ—è¡¨ä¸å¯çœç•¥(å³ä½¿å‚æ•°ä¸ºç©º)ã€‚</li><li><code>-&gt;returntype</code>ï¼šè¿”å›å€¼ç±»å‹ã€‚ç”¨è¿½è¸ªè¿”å›ç±»å‹å½¢å¼å£°æ˜å‡½æ•°çš„è¿”å›å€¼ç±»å‹ï¼Œæ²¡æœ‰è¿”å›å€¼æ—¶æ­¤éƒ¨åˆ†å¯çœç•¥ã€‚è¿”å›å€¼ç±»å‹æ˜ç¡®æƒ…å†µä¸‹ï¼Œä¹Ÿå¯çœç•¥ï¼Œç”±ç¼–è¯‘å™¨å¯¹è¿”å›ç±»å‹è¿›è¡Œæ¨å¯¼ã€‚</li><li><code>{statement}</code>ï¼šå‡½æ•°ä½“ã€‚åœ¨è¯¥å‡½æ•°ä½“å†…ï¼Œé™¤äº†å¯ä»¥ä½¿ç”¨å…¶å‚æ•°å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨æ‰€æœ‰æ•è·åˆ°çš„å˜é‡ã€‚</li></ul> 
<p><strong>æ³¨æ„ï¼š</strong></p> 
<blockquote> 
 <p>åœ¨lambdaå‡½æ•°å®šä¹‰ä¸­ï¼Œå‚æ•°åˆ—è¡¨å’Œè¿”å›å€¼ç±»å‹éƒ½æ˜¯å¯é€‰éƒ¨åˆ†ï¼Œè€Œæ•æ‰åˆ—è¡¨å’Œå‡½æ•°ä½“å¯ä»¥ä¸ºç©ºã€‚å› æ­¤C++11ä¸­æœ€ç®€å•çš„lambdaå‡½æ•°ä¸ºï¼š[]{}; è¯¥lambdaå‡½æ•°ä¸èƒ½åšä»»ä½•äº‹æƒ…ã€‚</p> 
</blockquote> 
<pre><code class="prism language-cpp"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">//å±€éƒ¨çš„åŒ¿åå‡½æ•°å¯¹è±¡----ç®€å•çš„addå‡½æ•°</span>
	<span class="token keyword">auto</span> add <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token keyword">int</span><span class="token punctuation">{<!-- --></span><span class="token keyword">return</span> a<span class="token operator">+</span>b<span class="token punctuation">}</span><span class="token punctuation">;</span>
	cout<span class="token operator">&lt;&lt;</span><span class="token function">add</span><span class="token punctuation">(</span> <span class="token number">1</span> <span class="token punctuation">,</span> <span class="token number">2</span> <span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
	
	<span class="token comment">// æœ€ç®€å•çš„lambdaè¡¨è¾¾å¼, è¯¥lambdaè¡¨è¾¾å¼æ²¡æœ‰ä»»ä½•æ„ä¹‰</span>
	<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">;</span>

	<span class="token comment">// çœç•¥å‚æ•°åˆ—è¡¨å’Œè¿”å›å€¼ç±»å‹ï¼Œè¿”å›å€¼ç±»å‹ç”±ç¼–è¯‘å™¨æ¨å¯¼ä¸ºint</span>
	<span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
	<span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span> <span class="token punctuation">{<!-- --></span><span class="token keyword">return</span> a <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

	<span class="token comment">// çœç•¥äº†è¿”å›å€¼ç±»å‹ï¼Œæ— è¿”å›å€¼ç±»å‹</span>
	<span class="token keyword">auto</span> fun1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">&amp;</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">int</span> c<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>b <span class="token operator">=</span> a <span class="token operator">+</span> c<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token function">fun1</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> a <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> b <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	<span class="token comment">// å„éƒ¨åˆ†éƒ½å¾ˆå®Œå–„çš„lambdaå‡½æ•°</span>
	<span class="token keyword">auto</span> fun2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>b<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">int</span> c<span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token keyword">int</span> <span class="token punctuation">{<!-- --></span><span class="token keyword">return</span> b <span class="token operator">+=</span> a <span class="token operator">+</span> c<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>  <span class="token comment">//è¿™é‡Œæ•æ‰çš„æ˜¯ç­‰äºå·ä¹Ÿå°±æ˜¯å…¨å±€çš„å˜é‡ï¼Œ&amp;bå°±æ˜¯ç»™bå–åˆ«åä¾¿äºç»™bè¿›è¡Œä¿®æ”¹æ“ä½œ</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token function">fun2</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>   <span class="token comment">//--- b = b(13) + a(3) + c(10)   ---è¾“å‡ºä¸º26</span>

	<span class="token comment">// å¤åˆ¶æ•æ‰x</span>
	<span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
	<span class="token keyword">auto</span> add_x <span class="token operator">=</span> <span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">)</span> <span class="token keyword">mutable</span> <span class="token punctuation">{<!-- --></span> x <span class="token operator">*=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token keyword">return</span> a <span class="token operator">+</span> x<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token function">add_x</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/ab/cc/BoLnXkKQ_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>é€šè¿‡ä¸Šè¿°ä¾‹å­å¯ä»¥çœ‹å‡ºï¼Œlambdaè¡¨è¾¾å¼å®é™…ä¸Šå¯ä»¥ç†è§£ä¸ºæ— åå‡½æ•°ï¼Œè¯¥å‡½æ•°æ— æ³•ç›´æ¥è°ƒç”¨ï¼Œå¦‚æœæƒ³è¦ç›´æ¥è°ƒç”¨ï¼Œå¯å€ŸåŠ©autoå°†å…¶èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡ã€‚</p> 
<hr> 
<h3><a id="14__141"></a>1.4. æ•è·åˆ—è¡¨è¯´æ˜</h3> 
<blockquote> 
 <p>æ•æ‰åˆ—è¡¨æè¿°äº†ä¸Šä¸‹æ–‡ä¸­é‚£äº›æ•°æ®å¯ä»¥è¢«lambdaä½¿ç”¨ï¼Œä»¥åŠä½¿ç”¨çš„æ–¹å¼ä¼ å€¼è¿˜æ˜¯ä¼ å¼•ç”¨ã€‚</p> 
</blockquote> 
<blockquote> 
 <p><code>[var]</code>ï¼šè¡¨ç¤ºå€¼ä¼ é€’æ–¹å¼æ•æ‰å˜é‡var<br> <code>[=]</code>ï¼šè¡¨ç¤ºå€¼ä¼ é€’æ–¹å¼æ•è·æ‰€æœ‰çˆ¶ä½œç”¨åŸŸä¸­çš„å˜é‡(åŒ…æ‹¬this)<br> <code>[&amp;var]</code>ï¼šè¡¨ç¤ºå¼•ç”¨ä¼ é€’æ•æ‰å˜é‡var<br> <code>[&amp;]</code>ï¼šè¡¨ç¤ºå¼•ç”¨ä¼ é€’æ•æ‰æ‰€æœ‰çˆ¶ä½œç”¨åŸŸä¸­çš„å˜é‡(åŒ…æ‹¬this)<br> <code>[this]</code>ï¼šè¡¨ç¤ºå€¼ä¼ é€’æ–¹å¼æ•æ‰å½“å‰çš„thisæŒ‡é’ˆ</p> 
</blockquote> 
<blockquote> 
 <p><font color="orange"><strong>ä¼ å€¼æ•æ‰ï¼Œå…¶æ˜¯æ•°æ®çš„æ‹·è´<br> ä¼ å¼•ç”¨æ•æ‰ï¼Œå°±æ˜¯å…¶æ•°æ®</strong></font></p> 
</blockquote> 
<p><strong>æ³¨æ„ï¼š</strong></p> 
<ol><li>çˆ¶ä½œç”¨åŸŸæŒ‡åŒ…å«lambdaå‡½æ•°çš„è¯­å¥å—</li><li>è¯­æ³•ä¸Šæ•æ‰åˆ—è¡¨å¯ç”±å¤šä¸ªæ•æ‰é¡¹ç»„æˆï¼Œå¹¶ä»¥é€—å·åˆ†å‰²ã€‚</li></ol> 
<blockquote> 
 <p>æ¯”å¦‚ï¼š[=, &amp;a, &amp;b]ï¼šä»¥å¼•ç”¨ä¼ é€’çš„æ–¹å¼æ•æ‰å˜é‡aå’Œbï¼Œå€¼ä¼ é€’æ–¹å¼æ•æ‰å…¶ä»–æ‰€æœ‰å˜é‡<br> [&amp;ï¼Œa, this]ï¼šå€¼ä¼ é€’æ–¹å¼æ•æ‰å˜é‡aå’Œthisï¼Œå¼•ç”¨æ–¹å¼æ•æ‰å…¶ä»–å˜é‡</p> 
</blockquote> 
<ol start="3"><li>æ•æ‰åˆ—è¡¨ä¸å…è®¸å˜é‡é‡å¤ä¼ é€’ï¼Œå¦åˆ™å°±ä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯ã€‚</li></ol> 
<blockquote> 
 <p>æ¯”å¦‚ï¼š[=, a]ï¼š=å·²ç»ä»¥å€¼ä¼ é€’æ–¹å¼æ•æ‰äº†æ‰€æœ‰å˜é‡ï¼Œæ•æ‰aé‡å¤</p> 
</blockquote> 
<ol start="4"><li>åœ¨å—ä½œç”¨åŸŸä»¥å¤–çš„lambdaå‡½æ•°æ•æ‰åˆ—è¡¨å¿…é¡»ä¸ºç©ºã€‚</li><li>åœ¨å—ä½œç”¨åŸŸä¸­çš„lambdaå‡½æ•°ä»…èƒ½æ•æ‰çˆ¶ä½œç”¨åŸŸä¸­å±€éƒ¨å˜é‡ï¼Œæ•æ‰ä»»ä½•éæ­¤ä½œç”¨åŸŸæˆ–è€…éå±€éƒ¨å˜é‡éƒ½ä¼šå¯¼è‡´ç¼–è¯‘æŠ¥é”™ã€‚</li><li>lambdaè¡¨è¾¾å¼ä¹‹é—´ä¸èƒ½ç›¸äº’èµ‹å€¼ï¼Œå³ä½¿çœ‹èµ·æ¥ç±»å‹ç›¸åŒ</li></ol> 
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token punctuation">(</span><span class="token operator">*</span>PF<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">auto</span> f1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{<!-- --></span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"hello world"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token keyword">auto</span> f2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{<!-- --></span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"hello world"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token comment">// æ­¤å¤„å…ˆä¸è§£é‡ŠåŸå› ï¼Œç­‰lambdaè¡¨è¾¾å¼åº•å±‚å®ç°åŸç†çœ‹å®Œåï¼Œå¤§å®¶å°±æ¸…æ¥šäº†</span>
 	<span class="token comment">//f1 = f2;   // ç¼–è¯‘å¤±è´¥---&gt;æç¤ºæ‰¾ä¸åˆ°operator=()</span>
	<span class="token comment">// å…è®¸ä½¿ç”¨ä¸€ä¸ªlambdaè¡¨è¾¾å¼æ‹·è´æ„é€ ä¸€ä¸ªæ–°çš„å‰¯æœ¬</span>
	<span class="token keyword">auto</span> <span class="token function">f3</span><span class="token punctuation">(</span>f2<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">f3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// å¯ä»¥å°†lambdaè¡¨è¾¾å¼èµ‹å€¼ç»™ç›¸åŒç±»å‹çš„å‡½æ•°æŒ‡é’ˆ</span>
	PF <span class="token operator">=</span> f2<span class="token punctuation">;</span>
	<span class="token function">PF</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/c1/70/QdLRquBw_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<hr> 
<h3><a id="15_lambda_185"></a>1.5 å‡½æ•°å¯¹è±¡ä¸lambdaè¡¨è¾¾å¼</h3> 
<p>å‡½æ•°å¯¹è±¡ï¼Œåˆç§°ä¸ºä»¿å‡½æ•°ï¼Œå³å¯ä»¥æƒ³å‡½æ•°ä¸€æ ·ä½¿ç”¨çš„å¯¹è±¡ï¼Œå°±æ˜¯åœ¨ç±»ä¸­é‡è½½äº†operator()è¿ç®—ç¬¦çš„ç±»å¯¹è±¡ã€‚</p> 
<pre><code class="prism language-cpp"><span class="token keyword">class</span> <span class="token class-name">Rate</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token function">Rate</span><span class="token punctuation">(</span><span class="token keyword">double</span> rate<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">_rate</span><span class="token punctuation">(</span>rate<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
	<span class="token keyword">double</span> <span class="token keyword">operator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">double</span> money<span class="token punctuation">,</span> <span class="token keyword">int</span> year<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> money <span class="token operator">*</span> _rate <span class="token operator">*</span> year<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token keyword">private</span><span class="token operator">:</span>
	<span class="token keyword">double</span> _rate<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">// å‡½æ•°å¯¹è±¡</span>
	<span class="token keyword">double</span> rate <span class="token operator">=</span> <span class="token number">0.49</span><span class="token punctuation">;</span>
	Rate <span class="token function">r1</span><span class="token punctuation">(</span>rate<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">r1</span><span class="token punctuation">(</span><span class="token number">10000</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// lamber</span>
	<span class="token keyword">auto</span> r2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">double</span> monty<span class="token punctuation">,</span> <span class="token keyword">int</span> year<span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token keyword">double</span> <span class="token punctuation">{<!-- --></span><span class="token keyword">return</span> monty <span class="token operator">*</span> rate <span class="token operator">*</span> year<span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token function">r2</span><span class="token punctuation">(</span><span class="token number">10000</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>ä»ä½¿ç”¨æ–¹å¼ä¸Šæ¥çœ‹ï¼Œä»¿å‡½æ•°ä¸lambdaè¡¨è¾¾å¼å®Œå…¨ä¸€æ ·ã€‚</p> 
<p>å‡½æ•°å¯¹è±¡å°†rateä½œä¸ºå…¶æˆå‘˜å˜é‡ï¼Œåœ¨å®šä¹‰å¯¹è±¡æ—¶ç»™å‡ºåˆå§‹å€¼å³å¯ï¼Œlambdaè¡¨è¾¾å¼é€šè¿‡æ•è·åˆ—è¡¨å¯ä»¥ç›´æ¥å°†è¯¥å˜é‡æ•è·åˆ°ã€‚</p> 
<p><img src="https://images2.imgbox.com/00/fb/fZO6gP0V_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> å®é™…åœ¨åº•å±‚ç¼–è¯‘å™¨å¯¹äºlambdaè¡¨è¾¾å¼çš„å¤„ç†æ–¹å¼ï¼Œå®Œå…¨å°±æ˜¯æŒ‰ç…§å‡½æ•°å¯¹è±¡çš„æ–¹å¼å¤„ç†çš„ï¼Œå³ï¼šå¦‚æœå®šä¹‰äº†ä¸€ä¸ªlambdaè¡¨è¾¾å¼ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªç±»ï¼Œåœ¨è¯¥ç±»ä¸­é‡è½½äº†operator()ã€‚</p> 
<hr> 
<h2><a id="2_222"></a>2.åŒ…è£…å™¨</h2> 
<p>functionåŒ…è£…å™¨<br> functionåŒ…è£…å™¨ ä¹Ÿå«ä½œé€‚é…å™¨ã€‚C++ä¸­çš„functionæœ¬è´¨æ˜¯ä¸€ä¸ªç±»æ¨¡æ¿ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªåŒ…è£…å™¨ã€‚<br> é‚£ä¹ˆæˆ‘ä»¬æ¥çœ‹çœ‹ï¼Œæˆ‘ä»¬ä¸ºä»€ä¹ˆéœ€è¦functionå‘¢ï¼Ÿ</p> 
<pre><code class="prism language-cpp">ret <span class="token operator">=</span> <span class="token function">func</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>ä¸Šé¢funcå¯èƒ½æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿé‚£ä¹ˆfuncå¯èƒ½æ˜¯å‡½æ•°åï¼Ÿå‡½æ•°æŒ‡é’ˆï¼Ÿå‡½æ•°å¯¹è±¡(ä»¿å‡½æ•°å¯¹è±¡)ï¼Ÿä¹Ÿæœ‰å¯èƒ½æ˜¯lamberè¡¨è¾¾å¼å¯¹è±¡ï¼Ÿæ‰€ä»¥è¿™äº›éƒ½æ˜¯å¯è°ƒç”¨çš„ç±»å‹ï¼å¦‚æ­¤ä¸°å¯Œçš„ç±»å‹ï¼Œå¯èƒ½ä¼šå¯¼è‡´æ¨¡æ¿çš„æ•ˆç‡ä½ä¸‹ï¼<br> ä¸ºä»€ä¹ˆå‘¢ï¼Ÿæˆ‘ä»¬ç»§ç»­å¾€ä¸‹çœ‹</p> 
<pre><code class="prism language-cpp"><span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">F</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
T <span class="token function">useF</span><span class="token punctuation">(</span>F f<span class="token punctuation">,</span> T x<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">static</span> <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"count:"</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">++</span>count <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"count:"</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">&amp;</span>count <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token function">f</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">double</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token keyword">double</span> i<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> i <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">struct</span> <span class="token class-name">Functor</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">double</span> <span class="token keyword">operator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">double</span> d<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> d <span class="token operator">/</span> <span class="token number">3</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">// å‡½æ•°å</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token function">useF</span><span class="token punctuation">(</span>f<span class="token punctuation">,</span> <span class="token number">11.11</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	
	<span class="token comment">// å‡½æ•°å¯¹è±¡</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token function">useF</span><span class="token punctuation">(</span><span class="token function">Functor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">11.11</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	
	<span class="token comment">// lamberè¡¨è¾¾å¼</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token function">useF</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">double</span> d<span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token keyword">double</span> <span class="token punctuation">{<!-- --></span> <span class="token keyword">return</span> d <span class="token operator">/</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">11.11</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/27/e1/vaQrCo0E_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> é€šè¿‡ä¸Šé¢çš„ç¨‹åºéªŒè¯ï¼Œæˆ‘ä»¬ä¼šå‘ç°useFå‡½æ•°æ¨¡æ¿å®ä¾‹åŒ–äº†ä¸‰ä»½ã€‚<br> åŒ…è£…å™¨å¯ä»¥å¾ˆå¥½çš„è§£å†³ä¸Šé¢çš„é—®é¢˜</p> 
<pre><code class="prism language-cpp">std<span class="token double-colon punctuation">::</span>functionåœ¨å¤´æ–‡ä»¶<span class="token operator">&lt;</span>functional<span class="token operator">&gt;</span>
<span class="token comment">// ç±»æ¨¡æ¿åŸå‹å¦‚ä¸‹</span>
<span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">&gt;</span> function<span class="token punctuation">;</span>     <span class="token comment">// undefined</span>
<span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">Ret</span><span class="token punctuation">,</span> <span class="token keyword">class</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> Args<span class="token operator">&gt;</span>
<span class="token keyword">class</span> <span class="token class-name">function</span><span class="token operator">&lt;</span><span class="token function">Ret</span><span class="token punctuation">(</span>Args<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre> 
<p><strong>æ¨¡æ¿å‚æ•°è¯´æ˜ï¼š</strong></p> 
<ul><li>Ret: è¢«è°ƒç”¨å‡½æ•°çš„è¿”å›ç±»å‹</li><li>Argsâ€¦ï¼šè¢«è°ƒç”¨å‡½æ•°çš„å½¢å‚</li></ul> 
<p><strong>ä»¥ä¸‹ä¸ºåŒ…è£…å™¨ä½¿ç”¨å®ä¾‹ï¼š</strong></p> 
<pre><code class="prism language-cpp"><span class="token comment">// ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;functional&gt;</span></span>
<span class="token keyword">int</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">struct</span> <span class="token class-name">Functor</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token keyword">int</span> <span class="token keyword">operator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">Plus</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">plusi</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">double</span> <span class="token function">plusd</span><span class="token punctuation">(</span><span class="token keyword">double</span> a<span class="token punctuation">,</span> <span class="token keyword">double</span> b<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">// å‡½æ•°å(å‡½æ•°æŒ‡é’ˆ)</span>
	std<span class="token double-colon punctuation">::</span>function<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token operator">&gt;</span> func1 <span class="token operator">=</span> f<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token function">func1</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	<span class="token comment">// å‡½æ•°å¯¹è±¡</span>
	std<span class="token double-colon punctuation">::</span>function<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token operator">&gt;</span> func2 <span class="token operator">=</span> <span class="token function">Functor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token function">func2</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	<span class="token comment">// lamberè¡¨è¾¾å¼</span>
	std<span class="token double-colon punctuation">::</span>function<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token operator">&gt;</span> func3 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span><span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token function">func3</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	<span class="token comment">// ç±»çš„æˆå‘˜å‡½æ•°</span>
	std<span class="token double-colon punctuation">::</span>function<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token operator">&gt;</span> func4 <span class="token operator">=</span> <span class="token operator">&amp;</span>Plus<span class="token double-colon punctuation">::</span>plusi<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token function">func4</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>function<span class="token operator">&lt;</span><span class="token keyword">double</span><span class="token punctuation">(</span>Plus<span class="token punctuation">,</span> <span class="token keyword">double</span><span class="token punctuation">,</span> <span class="token keyword">double</span><span class="token punctuation">)</span><span class="token operator">&gt;</span> func5 <span class="token operator">=</span> <span class="token operator">&amp;</span>Plus<span class="token double-colon punctuation">::</span>plusd<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token function">func5</span><span class="token punctuation">(</span><span class="token function">Plus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1.1</span><span class="token punctuation">,</span> <span class="token number">2.2</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/39/83/5HapWihf_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> æœ‰äº†åŒ…è£…å™¨ï¼Œå¦‚ä½•è§£å†³æ¨¡æ¿çš„æ•ˆç‡ä½ä¸‹ï¼Œå®ä¾‹åŒ–å¤šä»½çš„é—®é¢˜å‘¢ï¼Ÿ</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;functional&gt;</span></span>
<span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">F</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
T <span class="token function">useF</span><span class="token punctuation">(</span>F f<span class="token punctuation">,</span> T x<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">static</span> <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"count:"</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">++</span>count <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"count:"</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">&amp;</span>count <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token function">f</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">double</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token keyword">double</span> i<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> i <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">struct</span> <span class="token class-name">Functor</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">double</span> <span class="token keyword">operator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">double</span> d<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> d <span class="token operator">/</span> <span class="token number">3</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">// å‡½æ•°å</span>
	std<span class="token double-colon punctuation">::</span>function<span class="token operator">&lt;</span><span class="token keyword">double</span><span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">)</span><span class="token operator">&gt;</span> func1 <span class="token operator">=</span> f<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token function">useF</span><span class="token punctuation">(</span>func1<span class="token punctuation">,</span> <span class="token number">11.11</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token comment">// å‡½æ•°å¯¹è±¡</span>
	std<span class="token double-colon punctuation">::</span>function<span class="token operator">&lt;</span><span class="token keyword">double</span><span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">)</span><span class="token operator">&gt;</span> func2 <span class="token operator">=</span> <span class="token function">Functor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token function">useF</span><span class="token punctuation">(</span>func2<span class="token punctuation">,</span> <span class="token number">11.11</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token comment">// lamberè¡¨è¾¾å¼</span>
	std<span class="token double-colon punctuation">::</span>function<span class="token operator">&lt;</span><span class="token keyword">double</span><span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">)</span><span class="token operator">&gt;</span> func3 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">double</span> d<span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token keyword">double</span> <span class="token punctuation">{<!-- --></span> <span class="token keyword">return</span> d <span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token function">useF</span><span class="token punctuation">(</span>func3<span class="token punctuation">,</span> <span class="token number">11.11</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/2d/5f/CgBKlFy5_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h3><a id="21_bind_375"></a>2.1 bind</h3> 
<p>std::bindå‡½æ•°å®šä¹‰åœ¨å¤´æ–‡ä»¶ä¸­ï¼Œæ˜¯ä¸€ä¸ªå‡½æ•°æ¨¡æ¿ï¼Œå®ƒå°±åƒä¸€ä¸ªå‡½æ•°åŒ…è£…å™¨(é€‚é…å™¨)ï¼Œæ¥å—ä¸€ä¸ªå¯è°ƒç”¨å¯¹è±¡ï¼ˆcallable objectï¼‰ï¼Œç”Ÿæˆä¸€ä¸ªæ–°çš„å¯è°ƒç”¨å¯¹è±¡æ¥â€œé€‚åº”â€åŸå¯¹è±¡çš„å‚æ•°åˆ—è¡¨ã€‚ä¸€èˆ¬è€Œè¨€ï¼Œæˆ‘ä»¬ç”¨å®ƒå¯ä»¥æŠŠä¸€ä¸ªåŸæœ¬æ¥æ”¶Nä¸ªå‚æ•°çš„å‡½æ•°fnï¼Œé€šè¿‡ç»‘å®šä¸€äº›å‚æ•°ï¼Œè¿”å›ä¸€ä¸ªæ¥æ”¶Mä¸ªï¼ˆMå¯ä»¥å¤§äºNï¼Œä½†è¿™ä¹ˆåšæ²¡ä»€ä¹ˆæ„ä¹‰ï¼‰å‚æ•°çš„æ–°å‡½æ•°ã€‚åŒæ—¶ï¼Œä½¿ç”¨std::bindå‡½æ•°è¿˜å¯ä»¥å®ç°å‚æ•°é¡ºåºè°ƒæ•´ç­‰æ“ä½œã€‚</p> 
<pre><code class="prism language-cpp"><span class="token comment">// åŸå‹å¦‚ä¸‹ï¼š</span>
<span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">Fn</span><span class="token punctuation">,</span> <span class="token keyword">class</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> Args<span class="token operator">&gt;</span>
<span class="token comment">/* unspecified */</span> <span class="token function">bind</span> <span class="token punctuation">(</span>Fn<span class="token operator">&amp;&amp;</span> fn<span class="token punctuation">,</span> Args<span class="token operator">&amp;&amp;</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// with return type (2) </span>
<span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">Ret</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">Fn</span><span class="token punctuation">,</span> <span class="token keyword">class</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> Args<span class="token operator">&gt;</span>
<span class="token comment">/* unspecified */</span> <span class="token function">bind</span> <span class="token punctuation">(</span>Fn<span class="token operator">&amp;&amp;</span> fn<span class="token punctuation">,</span> Args<span class="token operator">&amp;&amp;</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>å¯ä»¥å°†bindå‡½æ•°çœ‹ä½œæ˜¯ä¸€ä¸ªé€šç”¨çš„å‡½æ•°é€‚é…å™¨ï¼Œå®ƒæ¥å—ä¸€ä¸ªå¯è°ƒç”¨å¯¹è±¡ï¼Œç”Ÿæˆä¸€ä¸ªæ–°çš„å¯è°ƒç”¨å¯¹<br> è±¡æ¥â€œé€‚åº”â€åŸå¯¹è±¡çš„å‚æ•°åˆ—è¡¨ã€‚</p> 
<blockquote> 
 <p>è°ƒç”¨bindçš„ä¸€èˆ¬å½¢å¼ï¼š<code>auto newCallable = bind(callable,arg_list);</code></p> 
</blockquote> 
<ul><li>å…¶ä¸­ï¼ŒnewCallableæœ¬èº«æ˜¯ä¸€ä¸ªå¯è°ƒç”¨å¯¹è±¡ï¼Œarg_listæ˜¯ä¸€ä¸ªé€—å·åˆ†éš”çš„å‚æ•°åˆ—è¡¨ï¼Œå¯¹åº”ç»™å®šçš„callableçš„å‚æ•°ã€‚å½“æˆ‘ä»¬è°ƒç”¨newCallableæ—¶ï¼ŒnewCallableä¼šè°ƒç”¨callable,å¹¶ä¼ ç»™å®ƒarg_listä¸­çš„å‚æ•°ã€‚</li><li>arg_listä¸­çš„å‚æ•°å¯èƒ½åŒ…å«å½¢å¦‚_nçš„åå­—ï¼Œå…¶ä¸­næ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œè¿™äº›å‚æ•°æ˜¯â€œå ä½ç¬¦â€ï¼Œè¡¨ç¤ºnewCallableçš„å‚æ•°ï¼Œå®ƒä»¬å æ®äº†ä¼ é€’ç»™newCallableçš„å‚æ•°çš„â€œä½ç½®â€ã€‚æ•°å€¼nè¡¨ç¤ºç”Ÿæˆçš„å¯è°ƒç”¨å¯¹è±¡ä¸­å‚æ•°çš„ä½ç½®ï¼š_1ä¸ºnewCallableçš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œ_2ä¸ºç¬¬äºŒä¸ªå‚æ•°ï¼Œä»¥æ­¤ç±»æ¨</li></ul> 
<hr> 
<p>åœ¨C++11æ ‡å‡†ä¸­ï¼Œbindæ˜¯ä¸€ä¸ªéå¸¸å®ç”¨çš„å‡½æ•°æ¨¡æ¿ï¼Œå®ƒå…è®¸æˆ‘ä»¬å°†å‡½æ•°å’Œå‡½æ•°çš„å‚æ•°ç»‘å®šåˆ°ä¸€èµ·ï¼Œç”Ÿæˆä¸€ä¸ªæ–°çš„å¯è°ƒç”¨å¯¹è±¡ã€‚è¿™ä¸ªæ–°çš„å¯è°ƒç”¨å¯¹è±¡å¯ä»¥åœ¨åç»­çš„ä»£ç ä¸­è¢«å¤šæ¬¡è°ƒç”¨ï¼Œè€Œä¸éœ€è¦å†æ¬¡ç»‘å®šå‡½æ•°å’Œå‚æ•°ã€‚</p> 
<p>bindçš„è¯­æ³•å¦‚ä¸‹ï¼š</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;functional&gt;</span></span>
std<span class="token double-colon punctuation">::</span><span class="token function">bind</span><span class="token punctuation">(</span>å‡½æ•°å<span class="token punctuation">,</span> å‚æ•°åˆ—è¡¨<span class="token punctuation">)</span>
</code></pre> 
<blockquote> 
 <p>è¿”å›å€¼ä¸ºä¸€ä¸ªå¯è°ƒç”¨å¯¹è±¡ã€‚<br> ä¾‹å¦‚ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªå‡½æ•°fï¼š</p> 
</blockquote> 
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">,</span> <span class="token keyword">int</span> c<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> a <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> b <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> c <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<blockquote> 
 <p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨bindå°†å…¶ç»‘å®šåˆ°å‚æ•°1å’Œ2ä¸Šï¼Œç”Ÿæˆä¸€ä¸ªæ–°çš„å¯è°ƒç”¨å¯¹è±¡gï¼š</p> 
</blockquote> 
<pre><code class="prism language-cpp"><span class="token keyword">auto</span> g <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">bind</span><span class="token punctuation">(</span>f<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span>placeholders<span class="token double-colon punctuation">::</span>_1<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<blockquote> 
 <p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å¯ä»¥åƒè°ƒç”¨å‡½æ•°ä¸€æ ·è°ƒç”¨gï¼Œå¹¶ä¼ å…¥ä¸€ä¸ªå‚æ•°3ï¼š</p> 
</blockquote> 
<pre><code class="prism language-cpp"><span class="token function">g</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<blockquote> 
 <p>è¿™æ ·ï¼Œå‡½æ•°få°±ä¼šä»¥1ã€2å’Œ3ä½œä¸ºå‚æ•°ä¾æ¬¡è¢«è°ƒç”¨ã€‚</p> 
</blockquote> 
<hr> 
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªä½¿ç”¨å®ä¾‹</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;functional&gt;</span></span>
<span class="token keyword">int</span> <span class="token function">Plus</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Sub</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token keyword">int</span> <span class="token function">sub</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> a <span class="token operator">-</span> b<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">//è¡¨ç¤ºç»‘å®šå‡½æ•°plus å‚æ•°åˆ†åˆ«ç”±è°ƒç”¨ func1 çš„ç¬¬ä¸€ï¼ŒäºŒä¸ªå‚æ•°æŒ‡å®š</span>
	std<span class="token double-colon punctuation">::</span>function<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token operator">&gt;</span> func1 <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">bind</span><span class="token punctuation">(</span>Plus<span class="token punctuation">,</span> placeholders<span class="token double-colon punctuation">::</span>_1<span class="token punctuation">,</span>placeholders<span class="token double-colon punctuation">::</span>_2<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//auto func1 = std::bind(Plus, placeholders::_1, placeholders::_2);</span>
	<span class="token comment">//func2çš„ç±»å‹ä¸º function&lt;void(int, int, int)&gt; ä¸func1ç±»å‹ä¸€æ ·</span>
	<span class="token comment">//è¡¨ç¤ºç»‘å®šå‡½æ•° plus çš„ç¬¬ä¸€ï¼ŒäºŒä¸ºï¼š 1ï¼Œ 2</span>
	<span class="token keyword">auto</span>  func2 <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">bind</span><span class="token punctuation">(</span>Plus<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token function">func1</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token function">func2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	Sub s<span class="token punctuation">;</span>
	<span class="token comment">// ç»‘å®šæˆå‘˜å‡½æ•°</span>
	std<span class="token double-colon punctuation">::</span>function<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token operator">&gt;</span> func3 <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>Sub<span class="token double-colon punctuation">::</span>sub<span class="token punctuation">,</span> s<span class="token punctuation">,</span>
		placeholders<span class="token double-colon punctuation">::</span>_1<span class="token punctuation">,</span> placeholders<span class="token double-colon punctuation">::</span>_2<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// å‚æ•°è°ƒæ¢é¡ºåº</span>
	std<span class="token double-colon punctuation">::</span>function<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token operator">&gt;</span> func4 <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>Sub<span class="token double-colon punctuation">::</span>sub<span class="token punctuation">,</span> s<span class="token punctuation">,</span>
		placeholders<span class="token double-colon punctuation">::</span>_2<span class="token punctuation">,</span> placeholders<span class="token double-colon punctuation">::</span>_1<span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token function">func3</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token function">func4</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/c1b9185f0f35de464daf53f3e88c135b/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">MySQLå¦‚ä½•è®¾è®¡åº“è¡¨ç»“æ„</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/12a3a81baa52ab31098af99091124a85/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">æ™ºèƒ½æ¶ˆè´¹è®°è´¦|åŸºäºSSM&#43;vueçš„å¤§å­¦ç”Ÿæ™ºèƒ½æ¶ˆè´¹è®°è´¦ç³»ç»Ÿ(æºç &#43;æ•°æ®åº“&#43;æ–‡æ¡£)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ç¼–ç¨‹å¤§å’–.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>