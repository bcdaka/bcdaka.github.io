<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>DB-GPT安装部署使用初体验 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/7eff74c383c2acb7ef19f0373c6fd527/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="DB-GPT安装部署使用初体验">
  <meta property="og:description" content="DB-GPT是什么？引自官网：
DB-GPT是一个开源的AI原生数据应用开发框架(AI Native Data App Development framework with AWEL(Agentic Workflow Expression Language) and Agents)。
目的是构建大模型领域的基础设施，通过开发多模型管理(SMMF)、Text2SQL效果优化、RAG框架以及优化、Multi-Agents框架协作、AWEL(智能体工作流编排)等多种技术能力，让围绕数据库构建大模型应用更简单，更方便。
数据3.0 时代，基于模型、数据库，企业/开发者可以用更少的代码搭建自己的专属应用。
总而言之：基于大模型的数据集大成者的应用。
官网文档地址
功能 私域问答&amp;数据处理&amp;RAG(Retrieval-Augmented Generation)
支持内置、多文件格式上传、插件自抓取等方式自定义构建知识库，对海量结构化，非结构化数据做统一向量存储与检索多数据源&amp;GBI(Generative Business Intelligence)
支持自然语言与Excel、数据库、数仓等多种数据源交互，并支持分析报告。多模型管理
海量模型支持，包括开源、API代理等几十种大语言模型。如LLaMA/LLaMA2、Baichuan、ChatGLM、文心、通义、智谱、星火等。自动化微调
围绕大语言模型、Text2SQL数据集、LoRA/QLoRA/Pturning等微调方法构建的自动化微调轻量框架, 让TextSQL微调像流水线一样方便。Data-Driven Multi-Agents&amp;Plugins
支持自定义插件执行任务，原生支持Auto-GPT插件模型，Agents协议采用Agent Protocol标准隐私安全
通过私有化大模型、代理脱敏等多种技术保障数据的隐私安全 其他介绍详见官方文档 安装部署 参考源码部署
注：如本地部署大模型，可离线下载后放置DB-GPT/models目录下。
考虑大家资源有限，此处介绍代理模式安装。
代理模式即各大大模型厂商提供的API接口，有免费的、限免的、付费的，大家酌情选择。
免费/限免的有：
阿里系： https://dashscope.console.aliyun.com/billing科大讯飞：星火大模型，官网领取额度
结论：通义千问qwen-turbo模型效果稍好点。
有条件的可以上chat-gpt和智谱AI，效果更好。 参数配置 以通义千问为例。
拷贝.env.template为.env设置 LLM_MODEL=tongyi_proxyllm # PROXYLLM_BACKEND = qwen-1.8b-chat （可选模型， 免费） PROXYLLM_BACKEND = qwen-turbo EMBEDDING_MODEL=text2vec #通义千问 PROXY_SERVER_URL=https://dashscope.aliyuncs.com/api/v1/services/aigc/text-generation/generation # Aliyun tongyi TONGYI_PROXY_API_KEY=={自己申请的key} 启动 python ./dbgpt/app/dbgpt_server.py 启动成功：
INFO: Uvicorn running on http://0.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-03-25T20:25:19+08:00">
    <meta property="article:modified_time" content="2024-03-25T20:25:19+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">DB-GPT安装部署使用初体验</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>DB-GPT是什么？引自官网：</p> 
<blockquote> 
 <p>DB-GPT是一个开源的AI原生数据应用开发框架(AI Native Data App Development framework with AWEL(Agentic Workflow Expression Language) and Agents)。<br> 目的是构建大模型领域的基础设施，通过开发多模型管理(SMMF)、Text2SQL效果优化、RAG框架以及优化、Multi-Agents框架协作、AWEL(智能体工作流编排)等多种技术能力，让围绕数据库构建大模型应用更简单，更方便。<br> 数据3.0 时代，基于模型、数据库，企业/开发者可以用更少的代码搭建自己的专属应用。</p> 
</blockquote> 
<p>总而言之：基于大模型的数据集大成者的应用。</p> 
<p><a href="https://www.yuque.com/eosphoros/dbgpt-docs" rel="nofollow">官网文档地址</a></p> 
<h3><a id="_8"></a>功能</h3> 
<ul><li>私域问答&amp;数据处理&amp;RAG(Retrieval-Augmented Generation)<br> 支持内置、多文件格式上传、插件自抓取等方式自定义构建知识库，对海量结构化，非结构化数据做统一向量存储与检索</li><li>多数据源&amp;GBI(Generative Business Intelligence)<br> 支持自然语言与Excel、数据库、数仓等多种数据源交互，并支持分析报告。</li><li>多模型管理<br> 海量模型支持，包括开源、API代理等几十种大语言模型。如LLaMA/LLaMA2、Baichuan、ChatGLM、文心、通义、智谱、星火等。</li><li>自动化微调<br> 围绕大语言模型、Text2SQL数据集、LoRA/QLoRA/Pturning等微调方法构建的自动化微调轻量框架, 让TextSQL微调像流水线一样方便。</li><li>Data-Driven Multi-Agents&amp;Plugins<br> 支持自定义插件执行任务，原生支持Auto-GPT插件模型，Agents协议采用Agent Protocol标准</li><li>隐私安全<br> 通过私有化大模型、代理脱敏等多种技术保障数据的隐私安全</li></ul> 
<h3><a id="_23"></a>其他介绍详见官方文档</h3> 
<h3><a id="_25"></a>安装部署</h3> 
<p><a href="https://www.yuque.com/eosphoros/dbgpt-docs/urh3fcx8tu0s9xmb" rel="nofollow">参考源码部署</a></p> 
<p><strong>注</strong>：如本地部署大模型，可离线下载后放置DB-GPT/models目录下。<br> 考虑大家资源有限，此处介绍代理模式安装。<br> 代理模式即各大大模型厂商提供的API接口，有免费的、限免的、付费的，大家酌情选择。<br> 免费/限免的有：</p> 
<ul><li>阿里系： https://dashscope.console.aliyun.com/billing</li><li>科大讯飞：星火大模型，官网领取额度<br> 结论：通义千问qwen-turbo模型效果稍好点。<br> 有条件的可以上chat-gpt和智谱AI，效果更好。</li></ul> 
<h4><a id="_38"></a>参数配置</h4> 
<p>以通义千问为例。</p> 
<ul><li>拷贝<code>.env.template</code>为<code>.env</code></li><li>设置</li></ul> 
<pre><code>LLM_MODEL=tongyi_proxyllm
# PROXYLLM_BACKEND = qwen-1.8b-chat （可选模型， 免费）
PROXYLLM_BACKEND = qwen-turbo
EMBEDDING_MODEL=text2vec
#通义千问
PROXY_SERVER_URL=https://dashscope.aliyuncs.com/api/v1/services/aigc/text-generation/generation
# Aliyun tongyi
TONGYI_PROXY_API_KEY=={自己申请的key}
</code></pre> 
<h3><a id="_53"></a>启动</h3> 
<pre><code class="prism language-bash">python ./dbgpt/app/dbgpt_server.py
</code></pre> 
<p>启动成功：</p> 
<pre><code>INFO:     Uvicorn running on http://0.0.0.0:5000 (Press CTRL+C to quit)
2024-03-25 19:51:06 bogon dbgpt.model.adapter.proxy_adapter[1457] INFO Load model from params: 

=========================== ProxyModelParameters ===========================

model_name: tongyi_proxyllm
model_path: tongyi_proxyllm
proxy_server_url: https://dashscope.aliyuncs.com/api/v1/services/aigc/text-generation/generation
proxy_api_key: ********
proxy_api_base: None
proxy_api_app_id: None
proxy_api_secret: None
proxy_api_type: None
proxy_api_version: None
http_proxy: None
proxyllm_backend: qwen-turbo
model_type: proxy
device: cpu
prompt_template: None
max_context_size: 4096
llm_client_class: None

======================================================================
</code></pre> 
<h3><a id="_84"></a>功能演练</h3> 
<p>地址：http://127.0.0.1:5000/<br> <img src="https://images2.imgbox.com/b9/9b/8hNnbDyn_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_88"></a>数据库配置</h4> 
<p><img src="https://images2.imgbox.com/79/15/Yoz9cIfo_o.png" alt="在这里插入图片描述"><br> 支持各大主流传统数据库、大数据库、KV数据库等。</p> 
<h4><a id="_92"></a>功能清单</h4> 
<p><img src="https://images2.imgbox.com/73/bc/eiAkzJQH_o.png" alt="在这里插入图片描述"><br> 支持数据对话、数据库对话、Excel对话、知识库对话、报表分析、代理对话等。</p> 
<h4><a id="_96"></a>数据对话</h4> 
<p><img src="https://images2.imgbox.com/a3/94/5w73gH3P_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/d6/4b/ctVizJvc_o.png" alt="在这里插入图片描述"></p> 
<p>效果还行，单表查询不错。</p> 
<h4><a id="_102"></a>数据库对话</h4> 
<p><img src="https://images2.imgbox.com/fa/93/ob0oklyG_o.png" alt="在这里插入图片描述"><br> 效果一般，无法进行数据库连接操作。</p> 
<h4><a id="Excel_107"></a>Excel对话</h4> 
<p><img src="https://images2.imgbox.com/b2/cc/FHHGhJgW_o.png" alt="在这里插入图片描述"><br> 上传Excel后，会进行初步的总结。</p> 
<p><img src="https://images2.imgbox.com/d9/b9/vHY1Wn8R_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/fa/cc/ObRRd0w3_o.png" alt="在这里插入图片描述"><br> 整体还行。</p> 
<h4><a id="_116"></a>知识库对话</h4> 
<p>略。<br> 常规操作。</p> 
<h4><a id="_119"></a>报表分析</h4> 
<p><img src="https://images2.imgbox.com/07/33/XwFibvGT_o.png" alt="在这里插入图片描述"><br> 无法达到预期效果，应该和模型有关。<br> 官方的一段话：数据对话对模型能力的要求相对较高，ChatGPT/GPT-4有较高的成功率。其他开源模型可以尝试Vicuna-13B。</p> 
<h4><a id="_124"></a>其他功能</h4> 
<ul><li>模型管理</li><li>应用开发</li><li>插件开发</li><li>智能体编排语言(AWEL) 这个看上去很6的样子</li></ul> 
<h3><a id="_130"></a>持续跟进。。。</h3>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/24b3380fdc9c27c9b8e61167446577ea/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">企业数字化转型之数据中台架构、大数据支撑平台、资源库建设方案</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a4f22acc77cbd626341a00c52f164778/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">MySQL 之 安装与配置环境变量</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>