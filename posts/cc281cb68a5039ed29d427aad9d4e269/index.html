<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>C&#43;&#43;初阶学习第八弹——探索STL奥秘（三）——深入刨析vector的使用 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/cc281cb68a5039ed29d427aad9d4e269/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="C&#43;&#43;初阶学习第八弹——探索STL奥秘（三）——深入刨析vector的使用">
  <meta property="og:description" content="string（上）：C&#43;&#43;初阶学习第六弹——探索STL奥秘（一）——标准库中的string类-CSDN博客
string（下）：C&#43;&#43;初阶学习第七弹——探索STL奥秘（二）——string的模拟实现-CSDN博客
前言：
在前面我们已经学习了string的使用和模拟实现，它们在使用上有异曲同工之妙，所以在学习了string之后我们再学习vector就会容易很多，下面跟着我的脚步我们来学习一下vector的具体用法
目录
一、vector的基本概念
二、vector的使用
2.1 vector在库中的存在方式及常见接口
2.2 vector的构造
2.3 vector迭代器的使用
2.4 vector的空间增长问题
2.5 vector的增删查改
三、总结
一、vector的基本概念 vector和string一样，都是属于C&#43;&#43;模板库中的部分：
Vector，中文名称为“向量”，是C&#43;&#43; STL（Standard Template Library，标准模板库）中的一种数据结构，它是一个动态数组，可以动态地增加或减少其大小。vector在内存中是连续存储的，这意味着它的所有元素都存储在内存中相邻的位置。
基本概念：
vector是一个模板类，定义在头文件（include&lt;vector&gt;）中。可以使用vector来存储任意类型的对象，包括自定义类型。
vector有以下几个重要的特点：
可动态增长：vector可以动态地增加其大小，无需重新分配内存。可动态缩小：vector可以动态地缩小其大小，释放不需要的内存。支持随机访问：vector支持随机访问，这意味着可以通过下标快速访问vector的元素。支持插入和删除：vector支持在头或尾插入和删除元素，但在中间插入和删除元素的效率较低。 二、vector的使用 接下来我们就来学习一下vector的基本使用方法，由于之前我们已经有了string的学习基础，所以在下面我们会讲的较为快速一些，主要就讲一下vector的几个比较常用的用法，我们的重心还是放在后面vector的模拟实现上
2.1 vector在库中的存在方式及常见接口 我们先来看一下vector在库中的存在形式
这其中涉及到类模板和容器的问题，这些目前我们还没有学到，等我们后面学到了再讲
vector由于是一个容器，它支持不同类型的数据进行操作，所以这个写法上与string还是有不少区别，如vector在定义一个变量时的方式为：
vector&lt;int&gt; v1; vector&lt;double&gt; v2; vector&lt;string&gt; v3; 我们先来看一下vector的一些比较重要的接口函数：
下面我们就先来讲一下几个比较重要的接口函数
2.2 vector的构造 vector的构造方式上与string并没有太大区别，主要也是无参的默认构造，初始化构造，拷贝构造等，没有太大的难度，下面的讲解会直接给出代码实例
代码实例如下：
#include&lt;iostream&gt; #include&lt;vector&gt; using namespace std; // 1、测试vector的几种构造方法 void test1_vector() { vector&lt;int&gt;(); //这种的会发生隐式类型转换，但只在本行起作用 vector&lt;int&gt; v1; //无参构造 vector&lt;int&gt; v2(10, 100); //构造一个vector有10个100 vector&lt;int&gt; v3(v2); //拷贝构造 vector&lt;int&gt; v4(v2.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-05-17T20:50:02+08:00">
    <meta property="article:modified_time" content="2024-05-17T20:50:02+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">C&#43;&#43;初阶学习第八弹——探索STL奥秘（三）——深入刨析vector的使用</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><strong>string（上）：</strong><a href="https://blog.csdn.net/2301_80220607/article/details/138662335?spm=1001.2014.3001.5502" title="C++初阶学习第六弹——探索STL奥秘（一）——标准库中的string类-CSDN博客">C++初阶学习第六弹——探索STL奥秘（一）——标准库中的string类-CSDN博客</a></p> 
<p><strong>string（下）：</strong><a href="https://blog.csdn.net/2301_80220607/article/details/138785146?spm=1001.2014.3001.5502" title="C++初阶学习第七弹——探索STL奥秘（二）——string的模拟实现-CSDN博客">C++初阶学习第七弹——探索STL奥秘（二）——string的模拟实现-CSDN博客</a></p> 
<p><strong>前言：</strong></p> 
<blockquote> 
 <p>在前面我们已经学习了string的使用和模拟实现，它们在使用上有异曲同工之妙，所以在学习了string之后我们再学习vector就会容易很多，下面跟着我的脚步我们来学习一下vector的具体用法</p> 
</blockquote> 
<p id="main-toc"><strong>目录</strong></p> 
<p id="-toc" style="margin-left:0px;"></p> 
<p id="%E4%B8%80%E3%80%81vector%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-toc" style="margin-left:0px;"><a href="#%E4%B8%80%E3%80%81vector%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5" rel="nofollow">一、vector的基本概念</a></p> 
<p id="%E4%BA%8C%E3%80%81vector%E7%9A%84%E4%BD%BF%E7%94%A8-toc" style="margin-left:0px;"><a href="#%E4%BA%8C%E3%80%81vector%E7%9A%84%E4%BD%BF%E7%94%A8" rel="nofollow">二、vector的使用</a></p> 
<p id="2.1%20vector%E5%9C%A8%E5%BA%93%E4%B8%AD%E7%9A%84%E5%AD%98%E5%9C%A8%E6%96%B9%E5%BC%8F%E5%8F%8A%E5%B8%B8%E8%A7%81%E6%8E%A5%E5%8F%A3-toc" style="margin-left:80px;"><a href="#2.1%20vector%E5%9C%A8%E5%BA%93%E4%B8%AD%E7%9A%84%E5%AD%98%E5%9C%A8%E6%96%B9%E5%BC%8F%E5%8F%8A%E5%B8%B8%E8%A7%81%E6%8E%A5%E5%8F%A3" rel="nofollow">2.1 vector在库中的存在方式及常见接口</a></p> 
<p id="2.2%20vector%E7%9A%84%E6%9E%84%E9%80%A0-toc" style="margin-left:80px;"><a href="#2.2%20vector%E7%9A%84%E6%9E%84%E9%80%A0" rel="nofollow">2.2 vector的构造</a></p> 
<p id="2.3%20vector%E8%BF%AD%E4%BB%A3%E5%99%A8%E7%9A%84%E4%BD%BF%E7%94%A8-toc" style="margin-left:80px;"><a href="#2.3%20vector%E8%BF%AD%E4%BB%A3%E5%99%A8%E7%9A%84%E4%BD%BF%E7%94%A8" rel="nofollow">2.3 vector迭代器的使用</a></p> 
<p id="2.4%20vector%E7%9A%84%E7%A9%BA%E9%97%B4%E5%A2%9E%E9%95%BF%E9%97%AE%E9%A2%98-toc" style="margin-left:80px;"><a href="#2.4%20vector%E7%9A%84%E7%A9%BA%E9%97%B4%E5%A2%9E%E9%95%BF%E9%97%AE%E9%A2%98" rel="nofollow">2.4 vector的空间增长问题</a></p> 
<p id="2.5%20vector%E7%9A%84%E5%A2%9E%E5%88%A0%E6%9F%A5%E6%94%B9-toc" style="margin-left:80px;"><a href="#2.5%20vector%E7%9A%84%E5%A2%9E%E5%88%A0%E6%9F%A5%E6%94%B9" rel="nofollow">2.5 vector的增删查改</a></p> 
<p id="%E4%B8%89%E3%80%81%E6%80%BB%E7%BB%93-toc" style="margin-left:0px;"><a href="#%E4%B8%89%E3%80%81%E6%80%BB%E7%BB%93" rel="nofollow">三、总结</a></p> 
<hr id="hr-toc"> 
<p></p> 
<h2 id="%E4%B8%80%E3%80%81vector%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5">一、vector的基本概念</h2> 
<p>vector和string一样，<strong>都是属于C++模板库中的部分：</strong></p> 
<blockquote> 
 <p>Vector，中文名称为“向量”，是C++ STL（Standard Template Library，标准模板库）中的一种数据结构，<span style="color:#fe2c24;"><strong>它是一个动态数组</strong></span>，可以动态地增加或减少其大小。vector在内存中是连续存储的，这意味着它的所有元素都存储在内存中相邻的位置。</p> 
</blockquote> 
<p><strong>基本概念：</strong></p> 
<blockquote> 
 <p>vector是一个模板类，定义在头文件（<strong><span style="background-color:#ffd900;">include&lt;vector&gt;</span></strong>）中。可以使用vector来存储任意类型的对象，包括自定义类型。</p> 
</blockquote> 
<p><strong>vector有以下几个重要的特点：</strong></p> 
<blockquote> 
 <ol><li><strong>可动态增长</strong>：vector可以动态地增加其大小，无需重新分配内存。</li><li><strong>可动态缩小</strong>：vector可以动态地缩小其大小，释放不需要的内存。</li><li><strong>支持随机访问</strong>：vector支持随机访问，这意味着可以通过下标快速访问vector的元素。</li><li><strong>支持插入和删除</strong>：vector支持在头或尾插入和删除元素，但在中间插入和删除元素的效率较低。</li></ol> 
</blockquote> 
<h2 id="%E4%BA%8C%E3%80%81vector%E7%9A%84%E4%BD%BF%E7%94%A8">二、vector的使用</h2> 
<p>接下来我们就来学习一下vector的基本使用方法，由于之前我们已经有了string的学习基础，所以在下面我们会讲的较为快速一些，主要就讲一下vector的几个比较常用的用法，我们的重心还是放在后面vector的模拟实现上</p> 
<h4 id="2.1%20vector%E5%9C%A8%E5%BA%93%E4%B8%AD%E7%9A%84%E5%AD%98%E5%9C%A8%E6%96%B9%E5%BC%8F%E5%8F%8A%E5%B8%B8%E8%A7%81%E6%8E%A5%E5%8F%A3">2.1 vector在库中的存在方式及常见接口</h4> 
<blockquote> 
 <p>我们先来看一下vector在库中的存在形式</p> 
 <p><img alt="" height="37" src="https://images2.imgbox.com/28/e2/mGK3CgAC_o.png" width="872"></p> 
 <p>这其中涉及到类模板和容器的问题，这些目前我们还没有学到，等我们后面学到了再讲</p> 
</blockquote> 
<p><strong>vector由于是一个容器，它支持不同类型的数据进行操作，所以这个写法上与string还是有不少区别，如vector在定义一个变量时的方式为：</strong></p> 
<pre><code class="language-cpp">vector&lt;int&gt; v1;
vector&lt;double&gt; v2;
vector&lt;string&gt; v3;</code></pre> 
<p>我们先来看一下vector的一些比较重要的接口函数：</p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/e4/93/CgFHx67Z_o.png" width="903"></p> 
<p>下面我们就先来讲一下几个比较重要的接口函数</p> 
<h4 id="2.2%20vector%E7%9A%84%E6%9E%84%E9%80%A0">2.2 vector的构造</h4> 
<blockquote> 
 <p>vector的构造方式上与string并没有太大区别，主要也是无参的默认构造，初始化构造，拷贝构造等，没有太大的难度，下面的讲解会直接给出代码实例</p> 
</blockquote> 
<p><img alt="" height="391" src="https://images2.imgbox.com/24/b9/T7bhiZsy_o.png" width="1200"></p> 
<p><strong>代码实例如下：</strong></p> 
<pre><code class="language-cpp">#include&lt;iostream&gt;
#include&lt;vector&gt;
using namespace std;

// 1、测试vector的几种构造方法
void test1_vector()
{
	vector&lt;int&gt;();    //这种的会发生隐式类型转换，但只在本行起作用
	vector&lt;int&gt; v1;   //无参构造
	vector&lt;int&gt; v2(10, 100);   //构造一个vector有10个100
	vector&lt;int&gt; v3(v2);    //拷贝构造
	vector&lt;int&gt; v4(v2.begin(), v2.end());   //迭代器构造
	//下面还有一种迭代器构造的方式,这里涉及了迭代器的初始化，我们在下面会讲
	int arr[] = { 16,2,77,29 };
	vector&lt;int&gt; v5(arr, arr + sizeof(arr) / sizeof(int));

	cout &lt;&lt; "The contents of v5 are:";
	for (vector&lt;int&gt;::iterator it = v5.begin(); it != v5.end(); ++it)
		cout &lt;&lt; ' ' &lt;&lt; *it;
	cout &lt;&lt; '\n';
}
int main()
{
	test1_vector();
	return 0;
}</code></pre> 
<p><strong>运行结果：</strong><br></p> 
<p><img alt="" height="202" src="https://images2.imgbox.com/e4/2d/2bj0pDns_o.png" width="933"></p> 
<h4 id="2.3%20vector%E8%BF%AD%E4%BB%A3%E5%99%A8%E7%9A%84%E4%BD%BF%E7%94%A8">2.3 vector迭代器的使用</h4> 
<p><strong>这里的使用与string类似，我们往下看：</strong></p> 
<p><img alt="" height="310" src="https://images2.imgbox.com/6a/e1/RWIqJr2Q_o.png" width="1200"></p> 
<p><strong>代码实例：</strong></p> 
<pre><code class="language-cpp">void test2_vector()
{
	vector&lt;int&gt; v1;
	v1.push_back(1);
	v1.push_back(2);
	v1.push_back(3);
	v1.push_back(4);
	//正向迭代器1
	vector&lt;int&gt;::iterator it = v1.begin();
	while (it != v1.end())
	{
		cout &lt;&lt; *it &lt;&lt; " ";
		++it;
	}
	cout &lt;&lt; endl;
	//正向迭代器2
	for (auto e : v1)     //for循环的本质其实就是迭代器，而且它还会自己++
	{
		cout &lt;&lt; e &lt;&lt; " ";
	}
	cout &lt;&lt; endl;
	//反向迭代器
	vector&lt;int&gt;::reverse_iterator rt = v1.rbegin();
	while (rt != v1.rend())
	{
		cout &lt;&lt; *rt &lt;&lt; " ";
		rt++;
	}
	cout &lt;&lt; endl;
}
</code></pre> 
<p><strong>运行结果：</strong></p> 
<p><img alt="" height="261" src="https://images2.imgbox.com/36/4b/QLYDGb88_o.png" width="969"></p> 
<p>正反向迭代器在vector中的应用是很好理解的</p> 
<p><img alt="" height="179" src="https://images2.imgbox.com/20/1f/sLVE7J3P_o.png" width="934"></p> 
<h4 id="2.4%20vector%E7%9A%84%E7%A9%BA%E9%97%B4%E5%A2%9E%E9%95%BF%E9%97%AE%E9%A2%98">2.4 vector的空间增长问题</h4> 
<p><img alt="" height="443" src="https://images2.imgbox.com/93/4c/uBp30nAG_o.png" width="1200"></p> 
<blockquote> 
 <p><strong><span style="background-color:#ffd900;">注意事项：</span></strong><br> 1、vector在不同环境下的默认扩容速度是不同的，一般是1.5倍或者2倍</p> 
 <p>2、reverse只负责开辟空间，一般在知道需要多少空间的时候可以调用该函数，省去了扩容的麻烦</p> 
 <p>3、resize不仅可以扩容，还可以进行初始化来改变size</p> 
</blockquote> 
<p>上面的这些重点就是<span style="color:#fe2c24;"><strong>resize和reverse</strong></span>两项，我们先把这两个单拎出来看一下：</p> 
<p><img alt="" height="155" src="https://images2.imgbox.com/aa/1b/CHJouLLU_o.png" width="741"></p> 
<p><img alt="" height="106" src="https://images2.imgbox.com/8d/6b/jPsSJzEo_o.png" width="543"></p> 
<p>resize有两个参数，一个是开辟空间大小，一个是初始化大小</p> 
<p>reverse只有一个参数，就是开辟空间大小</p> 
<p><strong>代码示例：</strong></p> 
<pre><code class="language-cpp">void test3_vector()
{
	vector&lt;int&gt; v1;
	v1.reserve(100);         //开辟一个100大小的空间
	cout &lt;&lt; v1.capacity() &lt;&lt; endl;

	vector&lt;int&gt; v2;
	v2.resize(10);          //开辟一个10个大小的空间，同时改变size，并通过半缺省来初始化
	for (auto e : v2)
	{
		cout &lt;&lt; e &lt;&lt; " ";
	}
	cout &lt;&lt; endl;

	vector&lt;int&gt; v3;
	v3.resize(10, 3);  //将数据初始化为3
	for (auto e : v3)
	{
		cout &lt;&lt; e &lt;&lt; " ";
	}
	cout &lt;&lt; endl;
}
</code></pre> 
<p><strong>运行结果：</strong></p> 
<p><img alt="" height="283" src="https://images2.imgbox.com/56/e2/D0q5iX8h_o.png" width="915"></p> 
<h4 id="2.5%20vector%E7%9A%84%E5%A2%9E%E5%88%A0%E6%9F%A5%E6%94%B9">2.5 vector的增删查改</h4> 
<p>这些全部通过接口函数来实现，难度不大</p> 
<p><img alt="" height="556" src="https://images2.imgbox.com/27/25/PnxbT5pJ_o.png" width="1200"></p> 
<p><strong>代码实例：</strong></p> 
<pre><code class="language-cpp">void test4_vector()
{
	vector&lt;int&gt; v1;
	//增——push_back（尾插）
	v1.push_back(1);
	v1.push_back(2);
	v1.push_back(3);
	v1.push_back(4);
	cout &lt;&lt; "增：";
	for (auto e : v1)
	{
		cout &lt;&lt; e &lt;&lt; " ";
	}
	cout &lt;&lt; endl;

	//删——pop_back（尾删）
	v1.pop_back();
	cout &lt;&lt; "删：";
	for (auto e : v1)
	{
		cout &lt;&lt; e &lt;&lt; " ";
	}
	cout &lt;&lt; endl;

	//查——find（这个是算法库中的接口，不是vector的接口,返回类型是查找位置的迭代器）
	auto pos1 = find(v1.begin(), v1.end(), 2);
	cout &lt;&lt; "查：";
	cout &lt;&lt; *pos1 &lt;&lt; endl;    //如果没找到就不进行任何操作

	//在任意位置插入——insert
	//要先用find找到要插入的位置，然后再插入数据
	auto pos2 = find(v1.begin(), v1.end(), 2);
	if (pos2 != v1.end())
	{
		v1.insert(pos2, 20);
	}
	cout &lt;&lt; "插入任意位置：";
	for (auto e : v1)
	{
		cout &lt;&lt; e &lt;&lt; " ";
	}
	cout &lt;&lt; endl;

	//在任意位置删除——erase
	//同样要先用find找到要删除的位置，然后再删除数据
	auto pos3 = find(v1.begin(), v1.end(), 2);
	v1.erase(pos3);
	cout &lt;&lt; "删除任意位置：";
	for (auto e : v1)
	{
		cout &lt;&lt; e &lt;&lt; " ";
	}
	cout &lt;&lt; endl;

	//改——operator[]
	v1[0] = 100;
	cout &lt;&lt; "改：";
	for (auto e : v1)
	{
		cout &lt;&lt; e &lt;&lt; " ";
	}
	cout &lt;&lt; endl;
}
</code></pre> 
<p><strong>运行结果：</strong></p> 
<p><img alt="" height="293" src="https://images2.imgbox.com/f5/25/reC9aNQN_o.png" width="903"></p> 
<h2 id="%E4%B8%89%E3%80%81%E6%80%BB%E7%BB%93">三、总结</h2> 
<blockquote> 
 <p>以上就是vector的用法讲解，相比于string，vector的使用范围其实更广，vector的难点在于其模拟实现上，这个我们后面就讲</p> 
</blockquote> 
<p><strong><span style="background-color:#ffd900;">感谢各位大佬观看，创作不易，还请各位大佬点赞支持！！！</span></strong></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/719c7d4de84bf600b566faa5f93e62d3/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">HDFS分布文件系统（Hadoop Distributed File System）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/5b6a3b462f344a8726a28284365e07da/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">平面设计课程在线学习|基于SSM＋vue的平面设计课程在线学习平台系统的设计与实现(源码&#43;数据库&#43;文档)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>