<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Java：连接mysql数据库的五种方式 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/93c219542956d05333fb598bd0d58c8f/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="Java：连接mysql数据库的五种方式">
  <meta property="og:description" content="方式1
public void connect01() throws SQLException { Driver driver = new Driver(); String url = &#34;jdbc:mysql://localhost:3306/db02&#34;; Properties properties = new Properties(); properties.setProperty(&#34;user&#34;, &#34;root&#34;); properties.setProperty(&#34;password&#34;, &#34;1234&#34;); Connection connect = driver.connect(url, properties); System.out.println(connect); } 方式2
public void connect02() throws ClassNotFoundException, InstantiationException, IllegalAccessException, SQLException { Class&lt;?&gt; aClass = Class.forName(&#34;com.mysql.jdbc.Driver&#34;); Driver driver = (Driver) aClass.newInstance(); String url = &#34;jdbc:mysql://localhost:3306/db02&#34;; Properties properties = new Properties(); properties.setProperty(&#34;user&#34;, &#34;root&#34;); properties.setProperty(&#34;password&#34;, &#34;1234&#34;); Connection connect = driver.connect(url, properties); System.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2023-10-17T16:16:09+08:00">
    <meta property="article:modified_time" content="2023-10-17T16:16:09+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Java：连接mysql数据库的五种方式</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>方式1</p> 
<pre><code class="language-java">public void connect01() throws SQLException {
        Driver driver = new Driver();
        String url = "jdbc:mysql://localhost:3306/db02";
        Properties properties = new Properties();
        properties.setProperty("user", "root");
        properties.setProperty("password", "1234");
        Connection connect = driver.connect(url, properties);
        System.out.println(connect);
    }</code></pre> 
<hr> 
<p>方式2</p> 
<pre><code class="language-java">public void connect02() throws ClassNotFoundException, InstantiationException, IllegalAccessException, SQLException {
        Class&lt;?&gt; aClass = Class.forName("com.mysql.jdbc.Driver");
        Driver driver = (Driver) aClass.newInstance();
        String url = "jdbc:mysql://localhost:3306/db02";
        Properties properties = new Properties();
        properties.setProperty("user", "root");
        properties.setProperty("password", "1234");
        Connection connect = driver.connect(url, properties);
        System.out.println(connect);
    }</code></pre> 
<hr> 
<p>方式3</p> 
<pre><code class="language-java">//方式3 使用DriverManager 替代 Diver 进行统一管理 扩展性更好一点
    public void connect03() throws ClassNotFoundException, InstantiationException, IllegalAccessException, SQLException {
        //
        Class&lt;?&gt; aClass = Class.forName("com.mysql.jdbc.Driver");
        Driver driver = (Driver) aClass.newInstance();
        String url = "jdbc:mysql://localhost:3306/db02";
        String user = "root";
        String password = "1234";

        DriverManager.registerDriver(driver);//注册Driver驱动
        Connection connection = DriverManager.getConnection(url, user, password);
        System.out.println(connection);
    }</code></pre> 
<p>方式4</p> 
<pre><code class="language-java">//方式4 使用Class.forName 自动完成注册驱动 简化代码
    //这种方式获取连接是使用最多的，推荐使用
    public void connect04() throws ClassNotFoundException, SQLException {
        //使用反射加载 Driver类
        //在加载 Driver类时 完成注册
        /*
        * 源码 1. 静态代码块 在类加载的时候 会执行一次
        *       2.DriverManager.registerDriver(new Driver());
        *       3.因此注册Driver的工作已经完成
        *     static{
        *             try{
        *                  DriverManager.registerDriver(new Driver());
        *                }catch(SQLException var1){
        *                  throw new RuntimeException("Can't register driver!");
        *                }
        *               }
        *            }
        * */
        Class.forName("com.mysql.jdbc.Driver");
        //1.mysql驱动5.1.6可以无需Class.forName("com.mysql.jdbc.Driver")
        //2.从jdk1.5以后使用了jdbc4 不再需要显示调用class.forName()注册驱动而是自动调用驱动
        //    jar包下META-INF/services/java.sql.Driver文本中的类名称去注册
        //3.建议还是写上Class.forName("com.mysql.jdbc.Driver")，更加明确
        //创建url 和 user 和 password
        String url = "jdbc:mysql://localhost:3306/db02";
        String user = "root";
        String password = "1234";
        Connection connection = DriverManager.getConnection(url, user, password);
        System.out.println(connection);
    }</code></pre> 
<p></p> 
<p><img alt="" height="1080" src="https://images2.imgbox.com/ca/38/FnfTh3wB_o.png" width="1200"></p> 
<hr> 
<p>方式5</p> 
<pre><code class="language-java">//方式5 在方式4的基础上改进 增加配置文件 让连接mysql更加灵活
    public void connect05() throws IOException, ClassNotFoundException, SQLException {
        //通过Properties对象获取配置文件的信息
        Properties properties = new Properties();
        properties.load(new FileInputStream("src/mysql.properties"));
        //获取相关的值
        String user = properties.getProperty("user");
        String password = properties.getProperty("password");
        String driver = properties.getProperty("driver");
        String url = properties.getProperty("url");

        Class.forName(driver);

        Connection connection = DriverManager.getConnection(url, user, password);

        System.out.println(connection);
    }</code></pre> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/058d3c4bc2c866aa6a1f0d5854543517/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Stable-diffusion安装时Can‘t load tokenizer for ‘openai/clip-vit-large-patch14‘问题解决</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/113426933d710c6d79b3774ebd4e3468/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">ElasticSearch 8.x 安装及集群搭建</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>