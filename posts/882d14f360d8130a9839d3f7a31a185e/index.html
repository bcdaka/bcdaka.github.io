<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Nacos、Eureka、Zookeeper、Consul对比 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/882d14f360d8130a9839d3f7a31a185e/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="Nacos、Eureka、Zookeeper、Consul对比">
  <meta property="og:description" content="开发中，经常需要对微服务进行管理，所以需要引入一些服务治理的中间件，用于注册、发现服务，常见的服务治理中间件为
服务治理中间件 【1】Nacos
【2】Eureka
【3】Zookeeper
【4】Consul（Consul 所在的 HashiCorp 公司宣布，不允许中国境内使用该公司旗下的产品和软件。）
对比一览表 名称NacosEurekaZookeeperConsul开发语言JavaJavaCJava功能特性服务注册&amp;发现、配置管理、流量控制、DNS、动态DNS服务注册&amp;发现数据存储、协调服务注册&amp;发现、配置管理应用场景K8S、Service Mesh、SpringCloudSpringCloudHadoop分布式集群K8S、SpringCloudCAP理论CP/APAPCPCP运行模式自主部署、集群模式自主部署、集群模式需独立部署、启动集群其它OpenAPI标准、支持多语言Spring开发、易于集成开发者阿里巴巴NetFilxApache基金会 CAP理论 CP：Consistency and Partition tolerance 一致性与分区容错度
AP：Availability and Partition tolerance 可用性与分区容错度
一致性（C）：确保分布式系统中的所有数据备份在同一时刻具有相同的值，即所有节点访问同一份最新的数据副本。
~
可用性（A）：在集群中一部分节点发生故障后，集群整体仍然能够响应客户端的读写请求，保持服务的高可用性。
~
分区容错性（P）：在分布式系统中，由于网络分区等原因，系统可能会无法与部分节点通信，此时系统必须能够继续提供服务，即使是在部分节点不可用的情况下。
CAP三者是相互矛盾的！
一个分布式系统，不能同时将CAP都很好的满足，只能满足其中两者，所以可以使用AP策略、也可以用CP策略
功能特性 Nacos是一个全栈的解决方案，而支持服务发现、配置管理和流量管理等多个功能。
Eureka专注于服务注册和发现、适用于SpringCloud体系。
Zookeeper则是一个通用的分布式数据存储和协调系统，适用于大规模分布式系统的场景
Consul与Nacos基本相同
负载均衡 Nacos 本身具备负载均衡能力，可以提供服务端负载均衡与客户端负载均衡。
Zookeeper 不支持。
Eureka 本身不支持，通过Ribbon做负载均衡。
Consul 本身不支持，通过Fabio做负载均衡。
健康检查 服务端健康检查最常见的方式是 TCP 端口探测和 HTTP 接口返回码探测，这两种探测方式因为其协议的通用性可以支持绝大多数的健康检查场景。Zookeeper 和 Eureka 都实现了⼀种 TTL(Time To Live)机制，就是如果客户端在⼀定时间内没有向注册中心发送心跳，则会将这个客户端摘除。
Zookeeper 使用TCP的KeepAlive保持客户端和服务端的连接。
Eureka 通过客户端心跳来确定客户端是否启动。
Consul 通过check方法实现健康检查，check方法有五种：Script &#43; Interval、HTTP &#43; Interval、TCP&#43; Interval、Docker &#43; interval、TTL。">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-02-12T16:50:44+08:00">
    <meta property="article:modified_time" content="2024-02-12T16:50:44+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Nacos、Eureka、Zookeeper、Consul对比</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>开发中，经常需要对微服务进行管理，所以需要引入一些服务治理的中间件，用于注册、发现服务，常见的服务治理中间件为</p> 
<h2><a id="_3"></a>服务治理中间件</h2> 
<p>【1】Nacos<br> 【2】Eureka<br> 【3】Zookeeper<br> 【4】Consul（Consul 所在的 HashiCorp 公司宣布，不允许中国境内使用该公司旗下的产品和软件。）</p> 
<h3><a id="_10"></a>对比一览表</h3> 
<table><thead><tr><th>名称</th><th>Nacos</th><th>Eureka</th><th>Zookeeper</th><th>Consul</th></tr></thead><tbody><tr><td>开发语言</td><td>Java</td><td>Java</td><td>C</td><td>Java</td></tr><tr><td>功能特性</td><td>服务注册&amp;发现、配置管理、流量控制、DNS、动态DNS</td><td>服务注册&amp;发现</td><td>数据存储、协调</td><td>服务注册&amp;发现、配置管理</td></tr><tr><td>应用场景</td><td>K8S、Service Mesh、SpringCloud</td><td>SpringCloud</td><td>Hadoop分布式集群</td><td>K8S、SpringCloud</td></tr><tr><td>CAP理论</td><td>CP/AP</td><td>AP</td><td>CP</td><td>CP</td></tr><tr><td>运行模式</td><td>自主部署、集群模式</td><td>自主部署、集群模式</td><td>需独立部署、启动集群</td><td></td></tr><tr><td>其它</td><td>OpenAPI标准、支持多语言</td><td>Spring开发、易于集成</td><td></td><td></td></tr><tr><td>开发者</td><td>阿里巴巴</td><td>NetFilx</td><td>Apache基金会</td><td></td></tr></tbody></table> 
<h3><a id="CAP_21"></a>CAP理论</h3> 
<p>CP：Consistency and Partition tolerance 一致性与分区容错度<br> AP：Availability and Partition tolerance 可用性与分区容错度</p> 
<blockquote> 
 <p><strong>一致性（C）</strong>：确保分布式系统中的所有数据备份在同一时刻具有相同的值，即所有节点访问同一份最新的数据副本。<br> ~<br> <strong>可用性（A）</strong>：在集群中一部分节点发生故障后，集群整体仍然能够响应客户端的读写请求，保持服务的高可用性。<br> ~<br> <strong>分区容错性（P）</strong>：在分布式系统中，由于网络分区等原因，系统可能会无法与部分节点通信，此时系统必须能够继续提供服务，即使是在部分节点不可用的情况下。</p> 
</blockquote> 
<p>CAP三者是相互矛盾的！</p> 
<p>一个分布式系统，不能同时将CAP都很好的满足，只能满足其中两者，所以可以使用AP策略、也可以用CP策略</p> 
<h3><a id="_37"></a>功能特性</h3> 
<p>Nacos是一个全栈的解决方案，而支持服务发现、配置管理和流量管理等多个功能。<br> Eureka专注于服务注册和发现、适用于SpringCloud体系。<br> Zookeeper则是一个通用的分布式数据存储和协调系统，适用于大规模分布式系统的场景<br> Consul与Nacos基本相同</p> 
<h3><a id="_44"></a>负载均衡</h3> 
<p>Nacos 本身具备负载均衡能力，可以提供服务端负载均衡与客户端负载均衡。<br> Zookeeper 不支持。<br> Eureka 本身不支持，通过Ribbon做负载均衡。<br> Consul 本身不支持，通过Fabio做负载均衡。</p> 
<h3><a id="_52"></a>健康检查</h3> 
<p>服务端健康检查最常见的方式是 TCP 端口探测和 HTTP 接口返回码探测，这两种探测方式因为其协议的通用性可以支持绝大多数的健康检查场景。Zookeeper 和 Eureka 都实现了⼀种 TTL(Time To Live)机制，就是如果客户端在⼀定时间内没有向注册中心发送心跳，则会将这个客户端摘除。</p> 
<p>Zookeeper 使用TCP的KeepAlive保持客户端和服务端的连接。<br> Eureka 通过客户端心跳来确定客户端是否启动。<br> Consul 通过check方法实现健康检查，check方法有五种：Script + Interval、HTTP + Interval、TCP+ Interval、Docker + interval、TTL。<br> Nacos 既支持客户端的健康检查（KeepAlive、Client Beet），也支持服务端的健康检查（MYSQL命令等）。</p> 
<h3><a id="_62"></a>性能与容量</h3> 
<p>影响读写性能的因素很多：⼀致性协议、机器的配置、集群的规模、存量数据的规模、数据结构及读写逻辑的设计等等。并非性能越高就越好，因为追求性能往往需要其他方面做出牺牲。</p> 
<p>Zookeeper 在写性能可以达到上万的 TPS，容量从存储节点数来说可以达到百万级别。不过 Paxos 协议限制了 Zookeeper 集群的规模（3、5个节点）。当大量实例上下线时，Zookeeper 的表现并不稳定，同时在推送机制上的缺陷，会引起客户端的资源占用上升，从而性能急剧下降。<br> Eureka 在服务实例规模在 5000 左右的时候，就已经出现服务不可用的问题，甚至在压测的过程中，如果并发的线程数过高，就会造成 Eureka crash。<br> Nacos 在开源版本中，服务实例注册的支撑量约为 100 万，服务的数量可以达到 10 万以上。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ef9dd16d3a353e5405ef1ea12501962e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">工业制造：分布式控制系统（DCS），一文掌握。</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/cbea9750212892d8414434d65948d477/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">3秒实现无痛基于Stable Diffusion WebUI安装ComfyUI！无需重复安装环境！无需重复下载模型！安装教程</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>