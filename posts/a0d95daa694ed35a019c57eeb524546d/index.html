<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>在Python中使用pyecharts图形画可视化大屏 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/a0d95daa694ed35a019c57eeb524546d/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="在Python中使用pyecharts图形画可视化大屏">
  <meta property="og:description" content="目录
引言
一.Pyecharts的基本用法
1.语法结构​编辑
二.绘制4个pyecharts图形
1.需要注意的问题
2.绘制散点图
​编辑3.绘制饼图
4.雷达图
5. 柱形图代码展示
三.制作大屏标题 1.代码解释
1.图表结果展示
2.使用pyecharts库创建Page对象
3.使用Python的BeautifulSoup库来读取和修改一个HTML文件
大总结
引言 pyecharts 是一个用于生成 ECharts 图表的类库，可以方便地在 Python 中进行数据可视化。ECharts 是一种使用 JavaScript 实现的，功能丰富的图表库。通过 pyecharts，我们可以在 Python 中创建各种类型的图表，包括折线图、柱状图、饼图、散点图等。使用pyecharts进行可视化大屏的优点有很多，比如：
丰富的图表类型：pyecharts支持多种类型的图表，可以满足不同的数据可视化需求。
高效的性能：pyecharts的性能非常好，可以快速生成大量的图表。
易用性：pyecharts的API设计简洁易用，可以快速上手。
可扩展性：pyecharts支持自定义主题和与其他Python库的集成，方便用户扩展功能。
一.Pyecharts的基本用法 1.语法结构 Pyecharts的语法结构包括以下部分：
图表类型：Pyecharts支持多种图表类型，如柱状图、折线图、饼图、散点图等。每种图表类型都有自己的方法和属性，用于设置图表的外观和数据。数据：Pyecharts图表的数据以列表形式给出，每个列表代表一个系列的数据。每个系列可以包含多个数据点，每个数据点包含x轴和y轴的值。配置项：Pyecharts图表支持多种配置项，如标题、图例、提示框、工具栏等。这些配置项可以用于设置图表的外观和交互方式。方法链：Pyecharts图表的方法可以链式调用，例如add_xaxis().add_yaxis()。这种链式调用方式使得代码更加简洁和易读。 总之，Pyecharts的语法结构基于ECharts的语法结构，通过Python类库的方式实现。使用Pyecharts可以方便地在Python中创建各种类型的图表，并对其进行配置和定制。
二.绘制4个pyecharts图形 pyecharts是一个基于Python语言的数据可视化库，可以用来创建各种类型的图形，如折线图、柱状图、散点图、饼图、地图等。它基于Echarts库，通过Python语言提供了更简单、更便捷的方式来创建图形，无需编写复杂的JavaScript代码。使用pyecharts，用户可以通过简单的Python代码来定义图形的数据、样式、布局等，然后生成HTML文件，从而实现图形的展示和交互。通过pyecharts，用户可以在Python环境下灵活、高效地进行数据可视化工作。
1.需要注意的问题 （1）.绘制pyecharts图形需要导入库的相关类和函数：在Python文件中导入pyecharts库的相关类和函数：
import pandas as pd from pyecharts.charts import Scatter from pyecharts import options as opts （2）.安装pyecharts库：通过pip安装pyecharts库，可以使用以下命令进行安装：
pip install pyecharts 2.绘制散点图 1.安装pyecharts库，导入必要的包：
# 绘制一个散点图 import pandas as pd from pyecharts.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2023-12-25T22:31:28+08:00">
    <meta property="article:modified_time" content="2023-12-25T22:31:28+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">在Python中使用pyecharts图形画可视化大屏</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="%E5%BC%95%E8%A8%80-toc" style="margin-left:0px;">               <a href="#%E5%BC%95%E8%A8%80" rel="nofollow">引言</a></p> 
<p id="%E4%B8%80.Pyecharts%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95-toc" style="margin-left:40px;"><a href="#%E4%B8%80.Pyecharts%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95" rel="nofollow">一.Pyecharts的基本用法</a></p> 
<p id="1.%E8%AF%AD%E6%B3%95%E7%BB%93%E6%9E%84%E2%80%8B%E7%BC%96%E8%BE%91-toc" style="margin-left:80px;"><a href="#1.%E8%AF%AD%E6%B3%95%E7%BB%93%E6%9E%84%E2%80%8B%E7%BC%96%E8%BE%91" rel="nofollow">1.语法结构​编辑</a></p> 
<p id="%E4%BA%8C.%E7%BB%98%E5%88%B64%E4%B8%AApyecharts%E5%9B%BE%E5%BD%A2-toc" style="margin-left:40px;"><a href="#%E4%BA%8C.%E7%BB%98%E5%88%B64%E4%B8%AApyecharts%E5%9B%BE%E5%BD%A2" rel="nofollow">二.绘制4个pyecharts图形</a></p> 
<p id="1.%E9%9C%80%E8%A6%81%E6%B3%A8%E6%84%8F%E7%9A%84%E9%97%AE%E9%A2%98-toc" style="margin-left:80px;"><a href="#1.%E9%9C%80%E8%A6%81%E6%B3%A8%E6%84%8F%E7%9A%84%E9%97%AE%E9%A2%98" rel="nofollow">1.需要注意的问题</a></p> 
<p id="2.%E7%BB%98%E5%88%B6%E6%95%A3%E7%82%B9%E5%9B%BE-toc" style="margin-left:80px;"><a href="#2.%E7%BB%98%E5%88%B6%E6%95%A3%E7%82%B9%E5%9B%BE" rel="nofollow">2.绘制散点图</a></p> 
<p id="%E2%80%8B%E7%BC%96%E8%BE%913.%E7%BB%98%E5%88%B6%E9%A5%BC%E5%9B%BE-toc" style="margin-left:80px;"><a href="#%E2%80%8B%E7%BC%96%E8%BE%913.%E7%BB%98%E5%88%B6%E9%A5%BC%E5%9B%BE" rel="nofollow">​编辑3.绘制饼图</a></p> 
<p id="4.%E9%9B%B7%E8%BE%BE%E5%9B%BE-toc" style="margin-left:80px;"><a href="#4.%E9%9B%B7%E8%BE%BE%E5%9B%BE" rel="nofollow">4.雷达图</a></p> 
<p id="5.%C2%A0%E6%9F%B1%E5%BD%A2%E5%9B%BE%E4%BB%A3%E7%A0%81%E5%B1%95%E7%A4%BA-toc" style="margin-left:80px;"><a href="#5.%C2%A0%E6%9F%B1%E5%BD%A2%E5%9B%BE%E4%BB%A3%E7%A0%81%E5%B1%95%E7%A4%BA" rel="nofollow">5. 柱形图代码展示</a></p> 
<p id="%C2%A0%E4%B8%89.%E5%88%B6%E4%BD%9C%E5%A4%A7%E5%B1%8F%E6%A0%87%E9%A2%98%C2%A0-toc" style="margin-left:40px;"><a href="#%C2%A0%E4%B8%89.%E5%88%B6%E4%BD%9C%E5%A4%A7%E5%B1%8F%E6%A0%87%E9%A2%98%C2%A0" rel="nofollow"> 三.制作大屏标题 </a></p> 
<p id="1.%E4%BB%A3%E7%A0%81%E8%A7%A3%E9%87%8A-toc" style="margin-left:80px;"><a href="#1.%E4%BB%A3%E7%A0%81%E8%A7%A3%E9%87%8A" rel="nofollow">1.代码解释</a></p> 
<p id="%C2%A01.%E5%9B%BE%E8%A1%A8%E7%BB%93%E6%9E%9C%E5%B1%95%E7%A4%BA-toc" style="margin-left:120px;"><a href="#%C2%A01.%E5%9B%BE%E8%A1%A8%E7%BB%93%E6%9E%9C%E5%B1%95%E7%A4%BA" rel="nofollow"> 1.图表结果展示</a></p> 
<p id="2.%E4%BD%BF%E7%94%A8pyecharts%E5%BA%93%E5%88%9B%E5%BB%BAPage%E5%AF%B9%E8%B1%A1-toc" style="margin-left:80px;"><a href="#2.%E4%BD%BF%E7%94%A8pyecharts%E5%BA%93%E5%88%9B%E5%BB%BAPage%E5%AF%B9%E8%B1%A1" rel="nofollow">2.使用pyecharts库创建Page对象</a></p> 
<p id="3.%E4%BD%BF%E7%94%A8Python%E7%9A%84BeautifulSoup%E5%BA%93%E6%9D%A5%E8%AF%BB%E5%8F%96%E5%92%8C%E4%BF%AE%E6%94%B9%E4%B8%80%E4%B8%AAHTML%E6%96%87%E4%BB%B6-toc" style="margin-left:80px;"><a href="#3.%E4%BD%BF%E7%94%A8Python%E7%9A%84BeautifulSoup%E5%BA%93%E6%9D%A5%E8%AF%BB%E5%8F%96%E5%92%8C%E4%BF%AE%E6%94%B9%E4%B8%80%E4%B8%AAHTML%E6%96%87%E4%BB%B6" rel="nofollow">3.使用Python的BeautifulSoup库来读取和修改一个HTML文件</a></p> 
<p id="%E5%A4%A7%E6%80%BB%E7%BB%93-toc" style="margin-left:0px;"><a href="#%E5%A4%A7%E6%80%BB%E7%BB%93" rel="nofollow">大总结</a></p> 
<hr id="hr-toc"> 
<p></p> 
<h2>引言</h2> 
<p><code>pyecharts</code> 是一个用于生成 ECharts 图表的类库，可以方便地在 Python 中进行数据可视化。ECharts 是一种使用 JavaScript 实现的，功能丰富的图表库。通过 <code>pyecharts</code>，我们可以在 Python 中创建各种类型的图表，包括折线图、柱状图、饼图、散点图等。使用pyecharts进行可视化大屏的优点有很多，比如：</p> 
<p>丰富的图表类型：pyecharts支持多种类型的图表，可以满足不同的数据可视化需求。</p> 
<p>高效的性能：pyecharts的性能非常好，可以快速生成大量的图表。</p> 
<p>易用性：pyecharts的API设计简洁易用，可以快速上手。</p> 
<p>可扩展性：pyecharts支持自定义主题和与其他Python库的集成，方便用户扩展功能。</p> 
<h3 id="%E4%B8%80.Pyecharts%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95">一.Pyecharts的基本用法</h3> 
<h4 id="1.%E8%AF%AD%E6%B3%95%E7%BB%93%E6%9E%84%E2%80%8B%E7%BC%96%E8%BE%91">1.语法结构<img alt="" src="https://images2.imgbox.com/cd/2f/lTtfUIHP_o.png"></h4> 
<p>Pyecharts的语法结构包括以下部分：</p> 
<ol><li>图表类型：Pyecharts支持多种图表类型，如柱状图、折线图、饼图、散点图等。每种图表类型都有自己的方法和属性，用于设置图表的外观和数据。</li><li>数据：Pyecharts图表的数据以列表形式给出，每个列表代表一个系列的数据。每个系列可以包含多个数据点，每个数据点包含x轴和y轴的值。</li><li>配置项：Pyecharts图表支持多种配置项，如标题、图例、提示框、工具栏等。这些配置项可以用于设置图表的外观和交互方式。</li><li>方法链：Pyecharts图表的方法可以链式调用，例如<code>add_xaxis().add_yaxis()</code>。这种链式调用方式使得代码更加简洁和易读。</li></ol> 
<p>总之，Pyecharts的语法结构基于ECharts的语法结构，通过Python类库的方式实现。使用Pyecharts可以方便地在Python中创建各种类型的图表，并对其进行配置和定制。</p> 
<h3 id="%E4%BA%8C.%E7%BB%98%E5%88%B64%E4%B8%AApyecharts%E5%9B%BE%E5%BD%A2">二.绘制4个pyecharts图形</h3> 
<p>pyecharts是一个基于Python语言的数据可视化库，可以用来创建各种类型的图形，如折线图、柱状图、散点图、饼图、地图等。它基于Echarts库，通过Python语言提供了更简单、更便捷的方式来创建图形，无需编写复杂的JavaScript代码。使用pyecharts，用户可以通过简单的Python代码来定义图形的数据、样式、布局等，然后生成HTML文件，从而实现图形的展示和交互。通过pyecharts，用户可以在Python环境下灵活、高效地进行数据可视化工作。</p> 
<h4 id="1.%E9%9C%80%E8%A6%81%E6%B3%A8%E6%84%8F%E7%9A%84%E9%97%AE%E9%A2%98">1.需要注意的问题</h4> 
<p>（1）.绘制pyecharts图形需要导入库的相关类和函数：在Python文件中导入pyecharts库的相关类和函数：</p> 
<pre><code class="language-python">import pandas as pd
from pyecharts.charts import Scatter
from pyecharts import options as opts</code></pre> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/d6/07/mfs24dB8_o.png"></p> 
<p>（2）.安装pyecharts库：通过pip安装pyecharts库，可以使用以下命令进行安装：</p> 
<pre><code class="language-python">pip install pyecharts
</code></pre> 
<p><img alt="" src="https://images2.imgbox.com/b9/04/lIaRFnLz_o.png"></p> 
<h4 id="2.%E7%BB%98%E5%88%B6%E6%95%A3%E7%82%B9%E5%9B%BE">2.绘制散点图</h4> 
<p>1.安装pyecharts库，导入必要的包：</p> 
<pre><code class="language-python"># 绘制一个散点图
import pandas as pd
from pyecharts.charts import Scatter
from pyecharts import options as opts

</code></pre> 
<p> 2.导入使用的数据集并准备需要的数据并绘制散点图</p> 
<p><img alt="" height="123" src="https://images2.imgbox.com/79/c6/kuBztxcp_o.png" width="1005"></p> 
<pre><code class="language-python">scatter=(
    Scatter()
    .add_xaxis(xaxis_data=x)
    .add_yaxis(
        '',
        y_axis=y,
        symbol_size=12,
        label_opts=opts.LabelOpts(is_show=False)
    )
    .set_global_opts(
        xaxis_opts=opts.AxisOpts(
            type_='value',
        ),
        yaxis_opts=opts.AxisOpts(
            type_='value',
        )
    )
    )
scatter.render_notebook()
#scatter.render('散点图.html')

以下是这段代码的逐行解释：
scatter=(：开始定义一个名为scatter的变量，该变量将存储生成的散点图。
Scatter()：创建一个新的Scatter对象，这是生成散点图的基础。
.add_xaxis(xaxis_data=x)：为散点图添加x轴的数据。其中，x是一个包含x轴数据的列表或数组。
.add_yaxis('', y_axis=y, symbol_size=12, label_opts=opts.LabelOpts(is_show=False))：

''：y轴的名称（这里为空字符串，表示不显示名称）。
y_axis=y：为散点图添加y轴的数据。其中，y是一个包含y轴数据的列表或数组。
symbol_size=12：设置散点的大小为12。
label_opts=opts.LabelOpts(is_show=False)：设置标签的选项，这里设置为不显示标签。
.set_global_opts(：设置全局的配置选项。

xaxis_opts=opts.AxisOpts(type_='value',)：设置x轴的类型为数值型。
yaxis_opts=opts.AxisOpts(type_='value',)：设置y轴的类型为数值型。
)：结束.set_global_opts()方法的调用。

): 结束Scatter()对象的创建。

scatter.render_notebook()：在Jupyter Notebook中渲染这个散点图。如果在一个Jupyter环境中运行这段代码，能看到一个在Notebook中显示的散点图。

scatter.render('散点图.html')：这是一个注释行，可以使用scatter.render('散点图.html')将散点图渲染到一个名为"散点图.html"的HTML文件中。</code></pre> 
<p>以下是在jupyter中运行上面的代码所得到的散点图：</p> 
<h4 id="%E2%80%8B%E7%BC%96%E8%BE%913.%E7%BB%98%E5%88%B6%E9%A5%BC%E5%9B%BE"><img alt="" height="429" src="https://images2.imgbox.com/f3/41/SdTYCln3_o.png" width="841">3.绘制饼图</h4> 
<p>根据以上绘制散点图的具体描述，我们现在来绘制一个饼图，绘制过程不明白的可以参考上面散点图的详细描述!</p> 
<p><strong>(1)导入数据包与所使用的数据文件</strong></p> 
<p><img alt="" height="127" src="https://images2.imgbox.com/63/ad/MacqvTbQ_o.png" width="671"></p> 
<p><strong>（2）这一段代码使用了数据分箱 (数据分桶）和分组统计</strong> </p> 
<p></p> 
<ol><li>使用<code>pd.cut</code>方法将<code>df['年龄']</code>的数据分为四个年龄段：少年、青年、中年和老年。</li><li>2. 分箱的边界是：0, 20, 40, 60, 100。</li><li>每个年龄段用相应的标签标识。</li><li>使用<code>df.groupby('年龄段').size()</code>对分箱后的数据进行分组统计，得到每个年龄段的人数。</li></ol> 
<pre><code class="language-python">
# 数据分箱
df['年龄段'] = pd.cut(
    df['年龄'],
    bins = [0,20,40,60,100],
    labels=['少年','青年','中年','老年']
)
# 分组统计
result = df.groupby('年龄段').size()
#数据准备
data = [[x,int(y)] for x,y in zip(result.index,result.values)]
pie = (
    Pie()
    .add(
        '',#数据的系列名称，如果只有一个系列的数据，填空字符
        data,
        radius = ['30%','75%'], #横向 左右
        center=['25%','50%'],   #上下
        rosetype='radius'
    )
)
pie.render_notebook()</code></pre> 
<p>以下是图形运行展示：<img alt="" height="445" src="https://images2.imgbox.com/a3/46/JRp1xKlL_o.png" width="563"></p> 
<h4 id="4.%E9%9B%B7%E8%BE%BE%E5%9B%BE">4.雷达图</h4> 
<p>（1）绘制雷达图步骤：1.导入数据-2.定义数据标签-3.设置全局配置项-4.添加数据标签-5.设置图例和标题-6.最后打印图表</p> 
<p>（2）创建雷达图并设置全局配置项：</p> 
<ul><li><code>radar = Radar()</code>：创建一个新的雷达图对象。</li><li><code>radar.add_schema(schema=[opts.RadarIndicatorItem(name=labels[i], max_=20) for i in range(len(labels))])</code>：为雷达图添加指标和最大值。这里使用了一个列表推导式来为每个指标设置名称和最大值。</li></ul> 
<p>（3） 添加数据和标签：</p> 
<ul><li>使用一个循环来遍历数据和标签，并使用<code>radar.add()</code>方法将数据添加到雷达图中。</li><li><code>labels[i]</code>是当前循环的指标名称。</li><li><code>[x[i], y[i]]</code>是当前指标的数据。</li><li><code>color="pink"</code>设置线条颜色为粉红色。</li><li><code>linestyle_opts=opts.LineStyleOpts(width=2, opacity=0.9)</code>设置线条样式，包括宽度和透明度。</li></ul> 
<pre><code class="language-python">#  雷达图
from pyecharts import options as opts  
from pyecharts.charts import Radar  
  
# 定义数据和标签  
x = [[3, 6, 7, 8, 5, 9]]  
y = [[6, 8, 2, 7, 3, 5]]  
labels = ['年龄', '群众', '团员', '女生', '男生', '老师']  
  
# 创建雷达图并设置全局配置项  
radar = Radar()  
radar.add_schema(schema=[opts.RadarIndicatorItem(name=labels[i], max_=20) for i in range(len(labels))])  
  
# 添加数据和标签  
for i in range(len(x)):  
    radar.add(labels[i], [x[i], y[i]], color="pink", linestyle_opts=opts.LineStyleOpts(width=2, opacity=0.9))  
  
# 设置图例和标题  
radar.set_global_opts(legend_opts=opts.LegendOpts(pos_left="center", pos_top="top"), title_opts=opts.TitleOpts(title="Radar Chart"))  
  
# 渲染图表  
#radar.render("雷达图.html")
radar.render_notebook()</code></pre> 
<p><strong>图片展示： </strong></p> 
<p><img alt="" height="483" src="https://images2.imgbox.com/c0/f8/xXoEvqRt_o.png" width="729"></p> 
<h4 id="5.%C2%A0%E6%9F%B1%E5%BD%A2%E5%9B%BE%E4%BB%A3%E7%A0%81%E5%B1%95%E7%A4%BA">5. 柱形图代码展示</h4> 
<p>（1）导入数据包，从Excel文件中读取数据，然后按照“工作地所在省份”进行分组并统计每个省份的会员卡号数量。最后，对结果进行降序排序并取前30名。</p> 
<p>（2）进行数据准备：将<code>result</code>的索引转化为列表并赋值给<code>x</code>，然后将索引和值都转化为列表并分别赋值给<code>y1</code>和<code>y2</code>。</p> 
<p>（3）<strong><code>.reversal_axis()</code></strong>是用来实现柱形图的，即从大到小的顺序显示。最后，设置全局配置项，包括标题、标题链接和标题文本样式。</p> 
<pre><code class="language-python">#绘制柱形图
from pyecharts.charts import Bar
df1=pd.read_excel('数据集/航空公司数据.xlsx')
result = df1.groupby('工作地所在省份')['会员卡号'].count().sort_values(ascending=False)[:30]
#数据准备
x = result.index.tolist()
y1 = result.index.tolist()
y2 = result.values.tolist()
#画图
y = (
    Bar( ) #init_opts=opts.InitOpts(width='600px',height='400px')
    .add_xaxis(x)
    .add_yaxis('人数',y1,stack=100) #stack 表示堆积效果，两个stack参数值要相等
    .add_yaxis('省份',y2,stack=100)
    .reversal_axis() #实现条形图效果
    .set_global_opts(
       title_opts=opts.TitleOpts(
       title="各省份用户人数柱形图（前30名）",
       title_link='https://www.baidu.com', #标题链接
       title_textstyle_opts = opts.TextStyleOpts( #文字样本配置项
           color = 'red',
           font_size = 20,
        
           )
       )
    )
)
y.render_notebook()</code></pre> 
<p><strong>以下是展示结果图片：</strong><img alt="" height="455" src="https://images2.imgbox.com/67/96/bBsuKOxw_o.png" width="857"></p> 
<h3 id="%C2%A0%E4%B8%89.%E5%88%B6%E4%BD%9C%E5%A4%A7%E5%B1%8F%E6%A0%87%E9%A2%98%C2%A0"> 三.制作大屏标题 </h3> 
<h4 id="1.%E4%BB%A3%E7%A0%81%E8%A7%A3%E9%87%8A">1.代码解释</h4> 
<p>1.这段代码是使用<code>pyecharts</code>库来创建一个标题为“大屏标题”的饼图，并设置了一些全局选项。</p> 
<p>2.使用<code>datetime.now()</code>获取当前时间，然后使用<code>strftime('%Y-%m-%d')</code>格式化为'年-月-日'的格式，并赋值给<code>now_time</code>变量。</p> 
<p>3.使用<code>render_notebook()</code>方法将图表渲染到Jupyter Notebook中。这样，当在Jupyter环境中运行这段代码时，我们会看到一个显示“大屏标题”和“截至：当前时间”的空白区域，这是构成大屏的标题部分。</p> 
<pre><code class="language-python">from pyecharts.charts import Pie
from datetime import datetime
now_time = datetime.now().strftime('%Y-%m-%d') # 获取当前时间
big_title = (
    Pie() # 不画图，只显示一个标题，用来构成大屏的标题
        .set_global_opts(
        title_opts=opts.TitleOpts(title="大屏标题",
                                  title_textstyle_opts=opts.TextStyleOpts(font_size=40,
#                                                                           color='#FFFFFF',
                                                                         ),
                                  subtitle = f'截至：{now_time}',
                                  pos_top=10
                                 )
        )
)
big_title.render_notebook()</code></pre> 
<h5 id="%C2%A01.%E5%9B%BE%E8%A1%A8%E7%BB%93%E6%9E%9C%E5%B1%95%E7%A4%BA"> 1.图表结果展示</h5> 
<p><img alt="" height="215" src="https://images2.imgbox.com/c9/c6/91gxKT6G_o.png" width="381"></p> 
<h4 id="2.%E4%BD%BF%E7%94%A8pyecharts%E5%BA%93%E5%88%9B%E5%BB%BAPage%E5%AF%B9%E8%B1%A1" style="background-color:transparent;">2.使用<code>pyecharts</code>库创建<code>Page</code>对象</h4> 
<p>使用<code>pyecharts</code>库来创建一个<code>Page</code>对象，该对象可以用来组合多个图表并展示在一个页面上。</p> 
<p>（1）<strong>添加图表到Page对象</strong>:使用<code>add</code>方法将多个图表添加到<code>Page</code>对象中。这些图表可以是上面已经创建好的，如<code>big_title</code>, <code>scatter</code>, <code>pie</code>, <code>radar</code>, 和 <code>y </code>这样，这些图表将会被组合到一个页面上展示啦。</p> 
<pre><code class="language-python">from pyecharts.charts import Page
page = Page() # 创建Page对象

page.add(  # 添加图表到Page对象
    big_title,
    scatter,
    pie,
    radar,
    y
    
)
# page.render_notebook()
page.render('tp.html') # 渲染Page对象到HTML文件
在html中可以调整各个图形的位置和大小，按“Save Config”键保存配置chart_config.json（有的电脑不成功）。</code></pre> 
<p> 在<span style="color:#0d0016;">运行这个代码后可能会出现</span> <span style="color:#fe2c24;">no test named ' false ' </span><span style="color:#0d0016;">的报错</span>：</p> 
<p><img alt="" height="337" src="https://images2.imgbox.com/e8/45/uTQpbPcG_o.png" width="941"></p> 
<p>解决方法有两种：在anac</p> 
<h4 id="3.%E4%BD%BF%E7%94%A8Python%E7%9A%84BeautifulSoup%E5%BA%93%E6%9D%A5%E8%AF%BB%E5%8F%96%E5%92%8C%E4%BF%AE%E6%94%B9%E4%B8%80%E4%B8%AAHTML%E6%96%87%E4%BB%B6">3.使用Python的BeautifulSoup库来读取和修改一个HTML文件</h4> 
<p>从<code>bs4</code>模块导入<code>BeautifulSoup</code>类，这是一个用于解析HTML和XML文档的库。</p> 
<pre><code class="language-python">from bs4 import BeautifulSoup</code></pre> 
<p> with open语句打开名为"tp.html"的文件，并设置模式为"r+"（读写模式），同时指定编码为'utf-8'，使用<code>BeautifulSoup</code>类解析HTML文件内容，并将解析后的对象赋值给<code>html_bf</code>。 </p> 
<pre><code class="language-python">with open("tp.html", "r+", encoding='utf-8') as html:
    html_bf = BeautifulSoup(html, 'lxml')</code></pre> 
<ul><li>使用BeautifulSoup的<code>select</code>方法来选择所有带有类名"chart-container"的<code>&lt;div&gt;</code>标签。这些标签被存储在<code>divs</code>变量中。</li><li>下面的五行代码都是为<code>divs</code>列表中的每个元素（即每个带有"chart-container"类的<code>&lt;div&gt;</code>标签）设置样式属性</li></ul> 
<pre><code class="language-python">
    divs = html_bf.select('.chart-container') # 根据css定位标签，选中图像的父节点标签
    
    divs[0]["style"] = "width:50%;height:99px;position:absolute;top:0px;left:10%;border-style:dashed;border-color:#000000;border-width:0px;"
    divs[1]["style"] = "width:350px;height:270px;position:absolute;top:50px;left:30px;border-style:solid;border-color:#88888;border-width:2px;"
    divs[2]["style"] = "width:350px;height:270px;position:absolute;top:50px;left:390px;border-style:solid;border-color:#66666;border-width:2px;"
    divs[3]["style"] = "width:350px;height:260px;position:absolute;top:350px;left:30px;border-style:solid;border-color:#444444;border-width:2px;"
    divs[4]["style"] = "width:350px;height:260px;position:absolute;top:350px;left:390px;border-style:solid;border-color:#444444;border-width:2px;"

    body = html_bf.find("body") # 根据标签名称定位到body标签
    body["style"] = "background-color:p;" # 修改背景颜色
    html_new = str(html_bf) # 将BeautifulSoup对象转换为字符
    html.seek(0, 0) # 光标移动至
    html.truncate() # 删除光标后的所有字符内容
    html.write(html_new) # 将由BeautifulSoup对象转换得到的字符重新写入html文件
    html.close()</code></pre> 
<p><strong>以上代码的运行结果展示如图：</strong></p> 
<p><img alt="" height="683" src="https://images2.imgbox.com/93/d5/an9ckmB0_o.png" width="835"></p> 
<p><strong> </strong></p> 
<p>总结：这段代码的主要目的是读取一个HTML文件，并使用BeautifulSoup库修改其中特定元素的样式，然后重新写入修改后的内容</p> 
<h2 id="%E5%A4%A7%E6%80%BB%E7%BB%93">大总结</h2> 
<p>使用pyecharts进行数据可视化是一种非常有效的方式，它能够将复杂的数据转化为直观的图表，帮助我们更好地理解和分析数据。这是我对pyecharts进行数据可视化的一些心得体会和总结：<strong>简洁易用</strong>：pyecharts的API设计非常简洁，使用起来非常方便。<strong>交互性强</strong>：pyecharts支持图表之间的交互，比如可以通过鼠标悬停在某个数据点上，显示更多的信息。<strong>可扩展性强</strong>：pyecharts支持自定义主题，我们可以根据需要调整图表的样式。同时，它也支持与其他Python库的集成，比如使用pandas进行数据处理，使用matplotlib进行数据预处理等。</p> 
<p>在使用pyecharts进行数据可视化的过程中，我也遇到了一些问题。比如，对于一些复杂的图表类型，可能需要花费更多的时间来学习和理解。另外，虽然pyecharts的性能很好，但是如果需要生成大量的图表或者需要实时渲染的场景，可能需要考虑其他的解决方案。</p> 
<p>总的来说，使用pyecharts进行数据可视化是一种非常有效的方式。它简洁易用，交互性强，可扩展性强，性能良好，社区活跃。在未来的工作中，我会继续使用pyecharts进行数据可视化，也会向社区贡献自己的力量。</p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/7c9ac449be79de6bd4e0013e5b24fb30/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【知识点随笔分享 | 第九篇】常见的限流算法</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/fcba8ea2120aa55ddd5664165c6f9fe8/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Python错题集-问题2：invalid escape sequence（无效的转义序列）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>