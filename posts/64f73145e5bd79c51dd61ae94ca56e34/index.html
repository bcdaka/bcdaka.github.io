<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>go引入自建包名报错 package XXX is not in std - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/64f73145e5bd79c51dd61ae94ca56e34/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="go引入自建包名报错 package XXX is not in std">
  <meta property="og:description" content="在写一个测试引入包名的测试案列中出现了下面的错误
D:\goworkspace\src\go_code\project_01\main&gt;go run main.go main.go:5:2: package go_code/project_01/calutils is not in std (G:\go_env\src\go_code\project_01\calutils) main.go:6:2: package go_code/project_01/dbutils is not in std (G:\go_env\src\go_code\project_01\dbutils) 这个错误消息表明Go代码尝试导入一个位于项目目录之外的包，并且Go无法找到这个包。首先看了我的包名对应的路径是没有问题的。 排除了路径错误原因，接下来检查配置环境变量
环境变量GOPATH的值即项目路径下的根目录，下面对应的是我的项目路径
当我配置好了以后再次运行还是报上面的错误。这时候就要查看go的环境变量了，输入下面命令进行查看
D:\goworkspace\src\go_code\project_01\main&gt;go env set GO111MODULE= set GOARCH=amd64 set GOBIN= set GOCACHE=C:\Users\wxq\AppData\Local\go-build set GOENV=C:\Users\wxq\AppData\Roaming\go\env set GOEXE=.exe set GOEXPERIMENT= set GOFLAGS= set GOHOSTARCH=amd64 set GOHOSTOS=windows set GOINSECURE= set GOMODCACHE=D:\goworkspace\pkg\mod set GONOPROXY= set GONOSUMDB= set GOOS=windows set GOPATH=D:\goworkspace set GOPRIVATE= set GOPROXY=https://proxy.golang.org,direct set GOROOT=G:\go_env set GOSUMDB=sum.golang.org set GOTMPDIR= set GOTOOLCHAIN=auto set GOTOOLDIR=G:\go_env\pkg\tool\windows_amd64 set GOVCS= set GOVERSION=go1.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2023-11-07T11:04:57+08:00">
    <meta property="article:modified_time" content="2023-11-07T11:04:57+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">go引入自建包名报错 package XXX is not in std</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>在写一个测试引入包名的测试案列中出现了下面的错误</p> 
<pre><code class="language-bash">D:\goworkspace\src\go_code\project_01\main&gt;go run main.go
main.go:5:2: package go_code/project_01/calutils is not in std (G:\go_env\src\go_code\project_01\calutils)
main.go:6:2: package go_code/project_01/dbutils is not in std (G:\go_env\src\go_code\project_01\dbutils)</code></pre> 
<p>这个错误消息表明Go代码尝试导入一个位于项目目录之外的包，并且Go无法找到这个包。首先看了我的包名对应的路径是没有问题的。 <img alt="" height="366" src="https://images2.imgbox.com/a2/cd/OQOYGhLx_o.png" width="660"></p> 
<p> 排除了路径错误原因，接下来检查配置环境变量</p> 
<p><img alt="" height="787" src="https://images2.imgbox.com/90/6b/0x4Yt2Aq_o.png" width="1200"></p> 
<p> 环境变量GOPATH的值即项目路径下的根目录，下面对应的是我的项目路径</p> 
<p><img alt="" height="271" src="https://images2.imgbox.com/37/af/TBrXTokq_o.png" width="886"></p> 
<p>当我配置好了以后再次运行还是报上面的错误。这时候就要查看go的环境变量了，输入下面命令进行查看</p> 
<pre><code class="language-bash">D:\goworkspace\src\go_code\project_01\main&gt;go env
set GO111MODULE=
set GOARCH=amd64
set GOBIN=
set GOCACHE=C:\Users\wxq\AppData\Local\go-build
set GOENV=C:\Users\wxq\AppData\Roaming\go\env
set GOEXE=.exe
set GOEXPERIMENT=
set GOFLAGS=
set GOHOSTARCH=amd64
set GOHOSTOS=windows
set GOINSECURE=
set GOMODCACHE=D:\goworkspace\pkg\mod
set GONOPROXY=
set GONOSUMDB=
set GOOS=windows
set GOPATH=D:\goworkspace
set GOPRIVATE=
set GOPROXY=https://proxy.golang.org,direct
set GOROOT=G:\go_env
set GOSUMDB=sum.golang.org
set GOTMPDIR=
set GOTOOLCHAIN=auto
set GOTOOLDIR=G:\go_env\pkg\tool\windows_amd64
set GOVCS=
set GOVERSION=go1.21.3
set GCCGO=gccgo
set GOAMD64=v1
set AR=ar
set CC=gcc
set CXX=g++
set CGO_ENABLED=0
set GOMOD=D:\goworkspace\src\go_code\project_01\main\go.mod
set GOWORK=
set CGO_CFLAGS=-O2 -g
set CGO_CPPFLAGS=
set CGO_CXXFLAGS=-O2 -g
set CGO_FFLAGS=-O2 -g
set CGO_LDFLAGS=-O2 -g
set PKG_CONFIG=pkg-config
set GOGCCFLAGS=-m64 -fno-caret-diagnostics -Qunused-arguments -Wl,--no-gc-sections -fmessage-length=0 -ffile-prefix-map=C:\Users\wxq\AppData\Local\Temp\go-build2653196118=/tmp/go-build -gno-record-gcc-switches</code></pre> 
<p> </p> 
<p>根据配置信息，问题出在Go Modules的开启或关闭上。</p> 
<ol><li> <p>当你运行 <code>go env -w GO111MODULE=</code> 时，它将清除 <code>GO111MODULE</code> 环境变量的设置，将其重置为空字符串。这将导致Go工具认为你的项目不使用Go Modules，因此它会尝试在GOPATH中查找包，但无法找到你的项目中的非标准库包。</p> </li><li> <p>当你运行 <code>go env -w GO111MODULE=off</code> 时，它将显式地将 <code>GO111MODULE</code> 设置为 "off"，这意味着你禁用了Go Modules，并且Go工具会尝试在GOPATH中查找包。</p> </li></ol> 
<p></p> 
<p> 修改 <code>GO111MODULE </code></p> 
<pre><code class="language-bash">go env -w GO111MODULE=off</code></pre> 
<p> 这个时候一个包下的文件引入其他包名路径找不到的问题就解决了！</p> 
<pre><code class="language-bash">D:\goworkspace\src\go_code\project_01\main&gt;go run main.go
测试
cal 函数执行了！
函数GetConnect执行了！
</code></pre> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/166717b7a00296e16d4bbf7f49832e45/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">AI短视频制作一本通：文本生成视频、图片生成视频、视频生成视频</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/7b3dc7a34e83d9610c9bcde46457685a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">一文深入搞懂ARM处理器架构</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>