<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>在AndroidStudio创建Flutter项目并运行到模拟器 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/319567f7f05af61b2724966eda27a0ee/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="在AndroidStudio创建Flutter项目并运行到模拟器">
  <meta property="og:description" content="1.Flutter简介 Flutter是Google开源的构建用户界面（UI）工具包，帮助开发者通过一套代码库高效构建多平台精美应用，支持移动、Web、桌面和嵌入式平台。Flutter 开源、免费，拥有宽松的开源协议，适合商业项目。
官网：
Flutter中文网 官网
2.安装AndroidStudio并下载Flutter插件 AndroidStudio安装方法可以参考这篇文章：2023最新版Android studio安装入门教程（非常详细）从零基础入门到精通，看完这一篇就够了-CSDN博客
我的安装AndroidSDK地址保存在D:\PubData\Android\SDK。如下图所示：
在AndroidStudio开发工具中File&gt;Settings&gt;Plugins中搜索Flutter安装。第一次安装Flutter会提示安装Dart插件，点击Install按钮。最后重启IDE使插件生效。
查看到安装好了Flutter和Dart。 3.Flutter SDK安装 官网地址：
Archive | Flutter
根据自己的环境下载最新稳定版本（Stable channel），当前最新版是3.19.6 。
下载完成后，解压到某一位置，D:\PubData\flutter_windows_3.19.2-stable
4.设置环境变量 设置系统环境变量：
添加用户环境变量的Path：
设置完成后，在cmd命令行执行flutter doctor来检查flutter环境是否正常。如果有问题会显示红色的X，根据具体情况自行解决，再进行检查。如下图中的X问题的解决方法：
4.1问题1—缺少安装插件 cmdline-tools component is missing 描述：
[!] Android toolchain - develop for Android devices (Android SDK version 34.0.0)
X cmdline-tools component is missing
Run `path/to/sdkmanager --install &#34;cmdline-tools;latest&#34;`
See https://developer.android.com/studio/command-line for more details.
解决办法：根据路径Settings&gt;Languages&amp;frameworks&gt;SDK Tools&gt;Android SDK Command-line Tools(latest)勾选点Apply按钮安装。
4.2问题2Android license status unknown. 描述：">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-05-01T06:17:33+08:00">
    <meta property="article:modified_time" content="2024-05-01T06:17:33+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">在AndroidStudio创建Flutter项目并运行到模拟器</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2><span style="color:#0d0016;"><strong>1.Flutter简介       </strong></span><span style="color:#ff9900;"><strong> </strong></span></h2> 
<p><span style="color:#ff9900;"><strong>        Flutter</strong></span>是Google开源的构建用户界面（UI）工具包，帮助开发者通过一套代码库高效构建多平台精美应用，支持移动、Web、桌面和嵌入式平台。Flutter 开源、免费，拥有宽松的开源协议，适合商业项目。</p> 
<p>        官网：</p> 
<p><a href="https://flutter.p2hp.com/" rel="nofollow" title="Flutter中文网 官网">Flutter中文网 官网</a></p> 
<h2>2.安装AndroidStudio并下载Flutter插件</h2> 
<p>        AndroidStudio安装方法可以参考这篇文章：<a href="https://blog.csdn.net/Javachichi/article/details/132139222" title="2023最新版Android studio安装入门教程（非常详细）从零基础入门到精通，看完这一篇就够了-CSDN博客">2023最新版Android studio安装入门教程（非常详细）从零基础入门到精通，看完这一篇就够了-CSDN博客</a></p> 
<p>我的安装AndroidSDK地址保存在D:\PubData\Android\SDK。如下图所示：</p> 
<p><img alt="" height="357" src="https://images2.imgbox.com/f6/20/C6Zd77Zg_o.png" width="1012"></p> 
<p>        在AndroidStudio开发工具中File&gt;Settings&gt;Plugins中搜索Flutter安装。第一次安装<code>Flutter</code>会提示安装<code>Dart</code>插件，点击<code>Install</code>按钮。最后重启IDE使插件生效。</p> 
<p class="img-center"><img alt="" height="459" src="https://images2.imgbox.com/f1/69/LfiN8UK1_o.png" width="622"></p> 
<p>      查看到安装好了Flutter和Dart。   </p> 
<p class="img-center"><img alt="" height="466" src="https://images2.imgbox.com/95/56/dJkJEewa_o.png" width="632"></p> 
<h2> 3.Flutter SDK安装</h2> 
<p>        官网地址：</p> 
<p><a href="https://docs.flutter.dev/release/archive?tab=windows" rel="nofollow" title="Archive | Flutter">Archive | Flutter</a></p> 
<p>        根据自己的环境下载最新稳定版本（Stable channel），当前最新版是<a href="https://storage.googleapis.com/flutter_infra_release/releases/stable/windows/flutter_windows_3.19.6-stable.zip" rel="nofollow" title="3.19.6">3.19.6</a> 。</p> 
<p class="img-center"><img alt="" height="353" src="https://images2.imgbox.com/c5/1c/1mApny6O_o.png" width="663"></p> 
<p>        下载完成后，解压到某一位置，<code>D:\PubData\flutter_windows_3.19.2-stable</code></p> 
<h2><code>4.设置环境变量</code></h2> 
<p>         设置系统环境变量：</p> 
<p class="img-center"><img alt="" height="190" src="https://images2.imgbox.com/a3/8c/v9qmw5qY_o.png" width="667"></p> 
<p>        添加用户环境变量的Path：</p> 
<p class="img-center"><img alt="" height="566" src="https://images2.imgbox.com/4b/de/Thwybl1l_o.png" width="527"></p> 
<p>     设置完成后，在<code>cmd</code>命令行执行<code>flutter doctor</code>来检查<code>flutter</code>环境是否正常。如果有问题会显示红色的<code>X</code>，根据具体情况自行解决，再进行检查。如下图中的X问题的解决方法：</p> 
<p><img alt="" height="707" src="https://images2.imgbox.com/fe/5b/yTIadfSk_o.png" width="993"></p> 
<p><img alt="" height="1081" src="https://images2.imgbox.com/58/d7/ZEXkrh8l_o.png" width="903"></p> 
<h3>4.1问题1—缺少安装插件 <code>cmdline-tools component is missing</code></h3> 
<p><strong>        描述：</strong></p> 
<p>[!] Android toolchain - develop for Android devices (Android SDK version 34.0.0)<br>     X cmdline-tools component is missing<br>       Run `path/to/sdkmanager --install "cmdline-tools;latest"`<br>       See https://developer.android.com/studio/command-line for more details.</p> 
<p>         <strong>解决办法：根据路径Settings&gt;Languages&amp;frameworks&gt;SDK Tools&gt;Android SDK Command-line Tools(latest)勾选点Apply按钮安装。</strong></p> 
<p><img alt="" height="708" src="https://images2.imgbox.com/f7/bf/ARILiudy_o.png" width="998"></p> 
<p><img alt="" height="707" src="https://images2.imgbox.com/38/01/WVR1pNB7_o.png" width="987"></p> 
<h3>4.2问题2Android license status unknown.</h3> 
<p>     <strong>   描述：</strong></p> 
<p>    X Android license status unknown.<br>       Run `flutter doctor --android-licenses` to accept the SDK licenses.</p> 
<p><strong>        解决办法： </strong></p> 
<p>        执行 <code>flutter doctor --android-licenses </code>，如果报错版本问题一般是<code>Android Studio</code>自带了<code>jdk</code>版本与<code>JAVA_HOME</code>配置的<code>jdk</code>版本冲突了，可以检查 <code>JAVA_HOME</code> 环境变量，将路径设置为<code>D:\\Android Studio\\jre</code> 再执行 <code>flutter doctor --android-licenses </code>并同意各种协议。</p> 
<h3>4.2问题3 Network resources网络资源访问超时</h3> 
<p>     <strong>   描述：</strong></p> 
<p>[!] Network resources<br>     X A network error occurred while checking "https://maven.google.com/": 信号灯超时时间已到</p> 
<p>    X A network error occurred while checking "https://github.com/": 信号灯超时时间已到</p> 
<p><strong>        解决办法：按如下步骤修改</strong></p> 
<p><strong>         a.修改flutter安装路径下packages\flutter_tools\lib\src\路径下的http_host_validator.dart文件中的kMaven配置：</strong></p> 
<p> const String kMaven = 'https://maven.aliyun.com/repository/google/';</p> 
<p><img alt="" height="154" src="https://images2.imgbox.com/cd/43/rpp2mXbG_o.png" width="906"></p> 
<p><strong>        b.删除flutter安装目录/<code>bin/cache</code> 文件夹</strong></p> 
<p><strong>        c.重新执行flutter doctor </strong></p> 
<p><img alt="" height="427" src="https://images2.imgbox.com/63/ac/EOCTkQHe_o.png" width="867"></p> 
<h2>5.Android 开发环境设置</h2> 
<h3> 5.1 创建android模拟器</h3> 
<p>在菜单 <code>Tools &gt; Device Manager</code> 点击 <code>Create device</code> 创建设备 。</p> 
<p><img alt="" height="618" src="https://images2.imgbox.com/fb/3a/BPU2XwEc_o.png" width="1200"></p> 
<p> 默认提供了一些设备，我这里选择一个pixel 3a.</p> 
<p><img alt="" height="758" src="https://images2.imgbox.com/a2/6c/9i42lR2L_o.png" width="1116"></p> 
<p> 选择镜像并下载，建议选择 x86 或 x86_64，点击finish创建模拟器。</p> 
<p><img alt="" height="758" src="https://images2.imgbox.com/54/99/rMA0y5Li_o.png" width="1116"> 点击运行，效果如下：</p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/b9/af/GE3BRz76_o.png" width="1200"></p> 
<h3>5.2创建Flutter项目</h3> 
<p>         在 Android Studio 打开 <code>File &gt; New &gt; New Flutter Project</code>，选择SDK路径：</p> 
<p><img alt="" height="719" src="https://images2.imgbox.com/d0/1e/ZqSpR0uc_o.png" width="800"></p> 
<p>         点击Next，填写项目名称，配置Android和<a href="https://it.cha138.com/ios/" rel="nofollow" title="ios">ios</a>语言，点击 Create:</p> 
<p><img alt="" height="719" src="https://images2.imgbox.com/27/c1/JHYlrn6h_o.png" width="800"></p> 
<p> 报错提示Projectname的命名方式不对，我改为my_test_app后就可以了，如下是创建好的项目：</p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/8b/62/OlT7dd0g_o.png" width="1200"></p> 
<p>选择安卓模拟器，发现是灰色的，点run按钮，提示：not applicable for the "main.dart" configuration，解决办法，在Project Structure中要配置SDK。如下配置后，重启生效：</p> 
<p><img alt="" height="864" src="https://images2.imgbox.com/5b/d2/BI6VgRFb_o.png" width="1040"></p> 
<p>运行报错：</p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/d8/87/BHG3SaBN_o.png" width="1200"> 换成默认的jdk试下：</p> 
<p><img alt="" height="864" src="https://images2.imgbox.com/8b/d5/5CAyEhBB_o.png" width="1040"></p> 
<p>         经过一段长时间的等待，终于可以在模拟器上看到运行的程序了。</p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/cb/02/6edyj8pu_o.png" width="1200"></p> 
<p>console窗口的信息如下： </p> 
<pre><code class="language-bash">Launching lib\main.dart on sdk gphone64 x86 64 in debug mode...
Running Gradle task 'assembleDebug'...
Checking the license for package Android SDK Tools in D:\PubData\Android\SDK\licenses
License for package Android SDK Tools accepted.
Preparing "Install Android SDK Tools (revision: 26.1.1)".
"Install Android SDK Tools (revision: 26.1.1)" ready.
Installing Android SDK Tools in D:\PubData\Android\SDK\tools
"Install Android SDK Tools (revision: 26.1.1)" complete.
"Install Android SDK Tools (revision: 26.1.1)" finished.
Checking the license for package Android SDK Build-Tools 30.0.3 in D:\PubData\Android\SDK\licenses
License for package Android SDK Build-Tools 30.0.3 accepted.
Preparing "Install Android SDK Build-Tools 30.0.3 (revision: 30.0.3)".
"Install Android SDK Build-Tools 30.0.3 (revision: 30.0.3)" ready.
Installing Android SDK Build-Tools 30.0.3 in D:\PubData\Android\SDK\build-tools\30.0.3
"Install Android SDK Build-Tools 30.0.3 (revision: 30.0.3)" complete.
"Install Android SDK Build-Tools 30.0.3 (revision: 30.0.3)" finished.
√  Built build\app\outputs\flutter-apk\app-debug.apk.
Installing build\app\outputs\flutter-apk\app-debug.apk...
Debug service listening on ws://127.0.0.1:64507/QBYNZVjlvMs=/ws
Syncing files to device sdk gphone64 x86 64...
</code></pre> 
<p><img alt="" height="807" src="https://images2.imgbox.com/af/7a/rioJJ30H_o.png" width="676"></p> 
<p>         至此，在Androidstudio上创建Flutter项目成功。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/0174c5a98aec0b7af9376b4f1b74690f/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">GitHub Copilot Workspace：欢迎进入原生Copilot开发环境</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a076333db1cec5ca42663e97dcd26f39/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">2024年Python最新Python二级考试试题汇总（史上最全）_计算机二级python真题</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>