<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>æ³¨å†Œä¸­å¿ƒ--Eureka - ç¼–ç¨‹å¤§å’–</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/dbc0a5f38b4ee3f8b255af2ec3cc6091/">
  <meta property="og:site_name" content="ç¼–ç¨‹å¤§å’–">
  <meta property="og:title" content="æ³¨å†Œä¸­å¿ƒ--Eureka">
  <meta property="og:description" content="ğŸ¥Â ä¸ªäººä¸»é¡µï¼šDikz12ğŸ”¥ä¸ªäººä¸“æ ï¼šSpring Cloudå®æˆ˜ğŸ“•æ ¼è¨€ï¼šå¾æ„šå¤šä¸æ•ï¼Œè€Œæ„¿åŠ å­¦æ¬¢è¿å¤§å®¶ğŸ‘ç‚¹èµâœè¯„è®ºâ­æ”¶è— ç›®å½•
1.é¡¹ç›®é—®é¢˜
2.è§£å†³URLé—®é¢˜Â 2.1è§£å†³æ€è·¯Â 2.2æ³¨å†Œä¸­å¿ƒ
2.3 CAPç†è®º
3.Eureka
3.1æ­å»ºEureka Server
â€‹4.æœåŠ¡æ³¨å†Œ
1.é¡¹ç›®é—®é¢˜ urlæ˜¯å†™æ­»çš„ï¼Œå¦‚æœIPåœ°å€å‘ç”Ÿå˜åŒ–ï¼Œéœ€è¦ä¿®æ”¹ä»£ç ï¼›å¦‚æœå¤šæœºéƒ¨ç½²ï¼Œæ€ä¹ˆå¤„ç†ï¼Ÿè¿”å›ç»“æœå¦‚ä½•å…±ç”¨ï¼Œurléå¸¸å®¹æ˜“å†™é”™ï¼›Â 2.è§£å†³URLé—®é¢˜Â å½“æ›´æ¢æœºå™¨ï¼Œæˆ–è€…æ–°å¢æœºå™¨æ—¶ï¼Œè¿™ä¸ªURLå°±éœ€è¦è·Ÿç€å˜æ›´ï¼Œå°±éœ€è¦å»é€šçŸ¥æ‰€æœ‰çš„ç›¸å…³æœåŠ¡å»ä¿®æ”¹.
2.1è§£å†³æ€è·¯Â è¯•æƒ³â½£æ´»ä¸­çš„åœºæ™¯:
æˆ‘ä»¬â½£æ´»ä¸­ï¼Œé¿å…ä¸äº†å’Œå„ä¸ªæœºæ„(åŒ»é™¢,å­¦æ ¡,æ”¿åºœéƒ¨â»”ç­‰)æ‰“äº¤é“ï¼Œå°±éœ€è¦ä¿å­˜å„ä¸ªæœºæ„çš„ç”µè¯å·ç .å¦‚æœæœºæ„æ¢äº†ç”µè¯å·ç ï¼Œå°±éœ€è¦é€šçŸ¥å„ä¸ªä½¿â½¤â½…ï¼Œä½†æ˜¯è¿™äº›æœºæ„çš„ä½¿â½¤â½…ç¾¤ä½“æ˜¯å·¨â¼¤çš„,æ²¡åŠæ³•åšåˆ°â¼€â¼€é€šçŸ¥,æ€ä¹ˆå¤„ç†å‘¢?
æœºæ„ç”µè¯å¦‚æœå‘â½£å˜åŒ–ï¼Œé€šçŸ¥114.â½¤â¼¾éœ€è¦è”ç³»æœºæ„æ—¶ï¼Œå…ˆæ‰“114æŸ¥è¯¢ç”µè¯ï¼Œç„¶åå†è”ç³»å„ä¸ªæœºæ„.
114æŸ¥å·å°çš„ä½œâ½¤ä¸»è¦æœ‰ä¸¤ä¸ª:
å·ç æ³¨å†Œï¼šæœåŠ¡â½…æŠŠç”µè¯ä¸ŠæŠ¥ç»™114.
å·ç æŸ¥è¯¢ï¼šä½¿â½¤â½…é€šè¿‡114å¯ä»¥æŸ¥åˆ°å¯¹åº”çš„å·ç .
åŒæ ·çš„ï¼Œå¾®æœåŠ¡å¼€å‘æ—¶ï¼Œä¹Ÿå¯ä»¥é‡‡â½¤ç±»ä¼¼çš„â½…æ¡ˆ.
æœåŠ¡å¯åŠ¨/å˜æ›´æ—¶ï¼Œå‘æ³¨å†Œä¸­â¼¼æŠ¥é“.æ³¨å†Œä¸­â¼¼è®°å½•åº”â½¤å’ŒIPçš„å…³ç³».
è°ƒâ½¤â½…è°ƒâ½¤æ—¶ï¼Œå…ˆå»æ³¨å†Œä¸­â¼¼è·å–æœåŠ¡â½…çš„IPï¼Œå†å»æœåŠ¡â½…è¿›â¾è°ƒâ½¤.
2.2æ³¨å†Œä¸­å¿ƒ æ³¨å†Œä¸­â¼¼ä¸»è¦æœ‰ä¸‰ç§â»†â¾Šï¼š
æœåŠ¡æä¾›è€…(Server)ï¼šâ¼€æ¬¡ä¸šåŠ¡ä¸­,è¢«å…¶å®ƒå¾®æœåŠ¡è°ƒâ½¤çš„æœåŠ¡.ä¹Ÿå°±æ˜¯æä¾›æ¥â¼ç»™å…¶å®ƒå¾®æœåŠ¡.æœåŠ¡æ¶ˆè´¹è€…(Client)ï¼šâ¼€æ¬¡ä¸šåŠ¡ä¸­,è°ƒâ½¤å…¶å®ƒå¾®æœåŠ¡çš„æœåŠ¡.ä¹Ÿå°±æ˜¯è°ƒâ½¤å…¶å®ƒå¾®æœåŠ¡æä¾›çš„æ¥â¼.æœåŠ¡æ³¨å†Œä¸­â¼¼(Registry):â½¤äºä¿å­˜Serverçš„æ³¨å†Œä¿¡æ¯,å½“ServerèŠ‚ç‚¹å‘â½£å˜æ›´æ—¶,Registryä¼šåŒæ­¥å˜æ›´.æœåŠ¡ä¸æ³¨å†Œä¸­â¼¼ä½¿â½¤â¼€å®šæœºåˆ¶é€šä¿¡,å¦‚æœæ³¨å†Œä¸­â¼¼ä¸æŸæœåŠ¡â»“æ—¶é—´â½†æ³•é€šä¿¡,å°±ä¼šæ³¨é”€è¯¥å®ä¾‹. æœåŠ¡æä¾›è€…å’ŒæœåŠ¡æ¶ˆè´¹è€…æ˜¯ç›¸å¯¹çš„.
æœåŠ¡æ³¨å†Œï¼šæœåŠ¡æä¾›è€…åœ¨å¯åŠ¨æ—¶,å‘Registryæ³¨å†Œâ¾ƒâ¾æœåŠ¡,å¹¶å‘Registryå®šæœŸå‘é€â¼¼è·³æ±‡æŠ¥å­˜æ´»çŠ¶æ€.
æœåŠ¡å‘ç°ï¼šæœåŠ¡æ¶ˆè´¹è€…ä»æ³¨å†Œä¸­â¼¼æŸ¥è¯¢æœåŠ¡æä¾›è€…çš„åœ°å€ï¼Œå¹¶é€šè¿‡è¯¥åœ°å€è°ƒâ½¤æœåŠ¡æä¾›è€…çš„æ¥â¼.æœåŠ¡å‘ç°çš„â¼€ä¸ªé‡è¦ä½œâ½¤å°±æ˜¯æä¾›ç»™æœåŠ¡æ¶ˆè´¹è€…â¼€ä¸ªå¯â½¤çš„æœåŠ¡åˆ—è¡¨.
2.3 CAPç†è®º è°ˆåˆ°æ³¨å†Œä¸­â¼¼ï¼Œå°±é¿ä¸å¼€CAPç†è®º.
CAPç†è®ºæ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿè®¾è®¡ä¸­æœ€åŸºç¡€ï¼Œä¹Ÿæ˜¯æœ€ä¸ºå…³é”®çš„ç†è®º.
â¼€è‡´æ€§(Consistency)ï¼šCAPç†è®ºä¸­çš„â¼€è‡´æ€§,æŒ‡çš„æ˜¯å¼ºâ¼€è‡´æ€§.æ‰€æœ‰èŠ‚ç‚¹åœ¨åŒâ¼€æ—¶é—´å…·æœ‰ç›¸åŒçš„æ•°æ®.å¯â½¤æ€§(Availability)ï¼šä¿è¯æ¯ä¸ªè¯·æ±‚éƒ½æœ‰å“åº”(å“åº”ç»“æœå¯èƒ½ä¸å¯¹)åˆ†åŒºå®¹é”™æ€§(Partition Tolerance)ï¼šå½“å‡ºç°â½¹ç»œåˆ†åŒºåï¼Œç³»ç»Ÿä»ç„¶èƒ½å¤Ÿå¯¹å¤–æä¾›æœåŠ¡. ä»¥ç”Ÿæ´»ä¸­çš„åœºæ™¯ä¸¾ä¾‹ï¼šé“¶è¡Œåˆ©ç‡ä¸‹è°ƒï¼Œè¿™ä¸ªé€šçŸ¥éœ€è¦ä¸‹å‘åˆ°å„ä¸ªé“¶è¡Œçš„å·¥ä½œäººå‘˜.
ä¸€è‡´æ€§ï¼šæ‰€æœ‰çš„é“¶è¡Œå·¥ä½œäººå‘˜ï¼Œå¯¹å®¢æˆ·è®²çš„åˆ©ç‡éƒ½æ˜¯ä¸€æ ·çš„.
å¯ç”¨æ€§ï¼šä¸è®ºä½•æ—¶ï¼Œé“¶è¡Œäººå‘˜å¯¹å®¢æˆ·å’¨è¯¢åˆ©ç‡çš„è¯·æ±‚ï¼Œéƒ½æ˜¯æœ‰ç­”æ¡ˆçš„.(ç­”æ¡ˆå¯èƒ½æ˜¯æ—§çš„ï¼‰
åˆ†åŒºå®¹é”™æ€§ï¼šå¦‚æœä¸€ä¸ªå·¥ä½œäººå‘˜è¯·å‡äº†ï¼Œé“¶è¡Œä¾ç„¶å¯ä»¥å¯¹å¤–æä¾›æœåŠ¡.
Pæ˜¯å¿…é¡»è¦ä¿è¯çš„ï¼Œæ‰€ä»¥Cå’ŒAåªèƒ½é€‰ä¸€ä¸ª.æˆ‘ä»¬çš„æ¶æ„å°±æ˜¯CPæ¶æ„æˆ–è€…APæ¶æ„ã€‚
CPæ¶æ„ï¼šä¸ºäº†ä¿è¯åˆ†å¸ƒå¼ç³»ç»Ÿå¯¹å¤–çš„æ•°æ®â¼€è‡´æ€§,äºæ˜¯é€‰æ‹©ä¸è¿”å›ä»»ä½•æ•°æ®
APæ¶æ„ï¼šä¸ºäº†ä¿è¯åˆ†å¸ƒå¼ç³»ç»Ÿçš„å¯â½¤æ€§,èŠ‚ç‚¹è¿”å›æ—§ç‰ˆæœ¬çš„æ•°æ®(å³ä½¿è¿™ä¸ªæ•°æ®ä¸æ­£ç¡®)
3.Eureka Eurekaæ˜¯Netflix OSSå¥—ä»¶ä¸­å…³äºæœåŠ¡æ³¨å†Œå’Œå‘ç°çš„è§£å†³â½…æ¡ˆ.Spring Cloudå¯¹urekaè¿›â¾äº†é›†æˆï¼Œå¹¶ä½œä¸ºä¼˜å…ˆæ¨èâ½…æ¡ˆè¿›â¾å®£ä¼ ï¼Œè™½ç„¶â½¬å‰Eureka 2.0å·²ç»åœâ½Œç»´æŠ¤ï¼Œæ–°çš„å¾®æœåŠ¡æ¶æ„è®¾è®¡ä¸­,ä¹Ÿä¸å†å»ºè®®ä½¿â½¤ï¼Œä½†æ˜¯â½¬å‰ä¾ç„¶æœ‰â¼¤é‡å…¬å¸çš„å¾®æœåŠ¡ç³»ç»Ÿä½¿â½¤Eurekaä½œä¸ºæ³¨å†Œä¸­â¼¼.
å®˜â½…â½‚æ¡£:https://github.com/Netflix/eureka/wiki
Eurekaçš„å­¦ä¹ ,ä¸»è¦åŒ…å«ä»¥ä¸‹ä¸‰ä¸ªéƒ¨åˆ†:
æ­å»ºEureka Serverå°†order-service,product-serviceéƒ½æ³¨å†Œåˆ°Eurekaorder-serviceè¿œç¨‹è°ƒâ½¤æ—¶,ä»Eurekaä¸­è·å–product-serviceçš„æœåŠ¡åˆ—è¡¨,ç„¶åè¿›â¾äº¤äº’ 3.1æ­å»ºEureka Server åˆ›å»ºEureka-serverâ¼¦æ¨¡å—
å¼•â¼Šeureka-serverä¾èµ–
&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-server&lt;/artifactId&gt; &lt;/dependency&gt; &lt;/dependencies&gt; é¡¹ç›®æ„å»ºæ’ä»¶Â &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-08-01T17:34:31+08:00">
    <meta property="article:modified_time" content="2024-08-01T17:34:31+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ç¼–ç¨‹å¤§å’–" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ç¼–ç¨‹å¤§å’–</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">æ³¨å†Œä¸­å¿ƒ--Eureka</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p class="img-center"><img alt="" height="339" src="https://images2.imgbox.com/5d/a7/26o6P93D_o.png" width="602"></p> 
<ul><li>ğŸ¥Â ä¸ªäººä¸»é¡µï¼š<a href="https://blog.csdn.net/m0_65465009?type=blog" title="Dikz12">Dikz12</a></li><li>ğŸ”¥ä¸ªäººä¸“æ ï¼š<a href="https://blog.csdn.net/m0_65465009/category_12736738.html" title="Spring Cloudå®æˆ˜">Spring Cloudå®æˆ˜</a></li><li>ğŸ“•æ ¼è¨€ï¼šå¾æ„šå¤šä¸æ•ï¼Œè€Œæ„¿åŠ å­¦</li><li>æ¬¢è¿å¤§å®¶ğŸ‘ç‚¹èµâœè¯„è®ºâ­æ”¶è—</li></ul> 
<p id="main-toc"><strong>ç›®å½•</strong></p> 
<p id="1.%E9%A1%B9%E7%9B%AE%E9%97%AE%E9%A2%98-toc" style="margin-left:0px;"><a href="#1.%E9%A1%B9%E7%9B%AE%E9%97%AE%E9%A2%98" rel="nofollow">1.é¡¹ç›®é—®é¢˜</a></p> 
<p id="2.%E8%A7%A3%E5%86%B3URL%E9%97%AE%E9%A2%98%C2%A0-toc" style="margin-left:0px;"><a href="#2.%E8%A7%A3%E5%86%B3URL%E9%97%AE%E9%A2%98%C2%A0" rel="nofollow">2.è§£å†³URLé—®é¢˜Â </a></p> 
<p id="2.1%E8%A7%A3%E5%86%B3%E6%80%9D%E8%B7%AF%C2%A0-toc" style="margin-left:40px;"><a href="#2.1%E8%A7%A3%E5%86%B3%E6%80%9D%E8%B7%AF%C2%A0" rel="nofollow">2.1è§£å†³æ€è·¯Â </a></p> 
<p id="2.2%E6%B3%A8%E5%86%8C%E4%B8%AD%E5%BF%83-toc" style="margin-left:40px;"><a href="#2.2%E6%B3%A8%E5%86%8C%E4%B8%AD%E5%BF%83" rel="nofollow">2.2æ³¨å†Œä¸­å¿ƒ</a></p> 
<p id="2.3%20CAP%E7%90%86%E8%AE%BA-toc" style="margin-left:40px;"><a href="#2.3%20CAP%E7%90%86%E8%AE%BA" rel="nofollow">2.3 CAPç†è®º</a></p> 
<p id="3.Eureka-toc" style="margin-left:0px;"><a href="#3.Eureka" rel="nofollow">3.Eureka</a></p> 
<p id="3.1%E6%90%AD%E5%BB%BAEureka%20Server-toc" style="margin-left:40px;"><a href="#3.1%E6%90%AD%E5%BB%BAEureka%20Server" rel="nofollow">3.1æ­å»ºEureka Server</a></p> 
<p id="%E2%80%8B%E7%BC%96%E8%BE%914.%E6%9C%8D%E5%8A%A1%E6%B3%A8%E5%86%8C-toc" style="margin-left:0px;"><a href="#%E2%80%8B%E7%BC%96%E8%BE%914.%E6%9C%8D%E5%8A%A1%E6%B3%A8%E5%86%8C" rel="nofollow">â€‹4.æœåŠ¡æ³¨å†Œ</a></p> 
<hr id="hr-toc"> 
<p></p> 
<h2 id="1.%E9%A1%B9%E7%9B%AE%E9%97%AE%E9%A2%98">1.é¡¹ç›®é—®é¢˜</h2> 
<ol><li>urlæ˜¯å†™æ­»çš„ï¼Œå¦‚æœIPåœ°å€å‘ç”Ÿå˜åŒ–ï¼Œéœ€è¦ä¿®æ”¹ä»£ç ï¼›</li><li>å¦‚æœå¤šæœºéƒ¨ç½²ï¼Œæ€ä¹ˆå¤„ç†ï¼Ÿ</li><li>è¿”å›ç»“æœå¦‚ä½•å…±ç”¨ï¼Œurléå¸¸å®¹æ˜“å†™é”™ï¼›Â </li></ol> 
<h2 id="2.%E8%A7%A3%E5%86%B3URL%E9%97%AE%E9%A2%98%C2%A0">2.è§£å†³URLé—®é¢˜Â </h2> 
<p class="img-center"><img alt="" height="98" src="https://images2.imgbox.com/0b/5c/YdqGQs0K_o.png" width="637"></p> 
<p>å½“æ›´æ¢æœºå™¨ï¼Œæˆ–è€…æ–°å¢æœºå™¨æ—¶ï¼Œè¿™ä¸ªURLå°±éœ€è¦è·Ÿç€å˜æ›´ï¼Œå°±éœ€è¦å»é€šçŸ¥æ‰€æœ‰çš„ç›¸å…³æœåŠ¡å»ä¿®æ”¹.</p> 
<h3 id="2.1%E8%A7%A3%E5%86%B3%E6%80%9D%E8%B7%AF%C2%A0">2.1è§£å†³æ€è·¯Â </h3> 
<p><strong>è¯•æƒ³â½£æ´»ä¸­çš„åœºæ™¯:</strong><br> æˆ‘ä»¬â½£æ´»ä¸­ï¼Œé¿å…ä¸äº†å’Œå„ä¸ªæœºæ„(åŒ»é™¢,å­¦æ ¡,æ”¿åºœéƒ¨â»”ç­‰)æ‰“äº¤é“ï¼Œå°±éœ€è¦ä¿å­˜å„ä¸ªæœºæ„çš„ç”µè¯å·ç .å¦‚æœæœºæ„æ¢äº†ç”µè¯å·ç ï¼Œå°±éœ€è¦é€šçŸ¥å„ä¸ªä½¿â½¤â½…ï¼Œä½†æ˜¯è¿™äº›æœºæ„çš„ä½¿â½¤â½…ç¾¤ä½“æ˜¯å·¨â¼¤çš„,æ²¡åŠæ³•åšåˆ°â¼€â¼€é€šçŸ¥,æ€ä¹ˆå¤„ç†å‘¢?</p> 
<p>æœºæ„ç”µè¯å¦‚æœå‘â½£å˜åŒ–ï¼Œé€šçŸ¥114.â½¤â¼¾éœ€è¦è”ç³»æœºæ„æ—¶ï¼Œå…ˆæ‰“114æŸ¥è¯¢ç”µè¯ï¼Œç„¶åå†è”ç³»å„ä¸ªæœºæ„.<br><span style="color:#fe2c24;">114æŸ¥å·å°çš„ä½œâ½¤ä¸»è¦æœ‰ä¸¤ä¸ª:</span><br> å·ç æ³¨å†Œï¼šæœåŠ¡â½…æŠŠç”µè¯ä¸ŠæŠ¥ç»™114.<br> å·ç æŸ¥è¯¢ï¼šä½¿â½¤â½…é€šè¿‡114å¯ä»¥æŸ¥åˆ°å¯¹åº”çš„å·ç .</p> 
<p class="img-center"><img alt="" height="339" src="https://images2.imgbox.com/62/64/Mvsi6tNJ_o.png" width="597"></p> 
<p>Â åŒæ ·çš„ï¼Œ<span style="color:#fe2c24;">å¾®æœåŠ¡å¼€å‘</span>æ—¶ï¼Œä¹Ÿå¯ä»¥é‡‡â½¤ç±»ä¼¼çš„â½…æ¡ˆ.<br> æœåŠ¡å¯åŠ¨/å˜æ›´æ—¶ï¼Œå‘<span style="color:#fe2c24;">æ³¨å†Œä¸­â¼¼</span>æŠ¥é“.æ³¨å†Œä¸­â¼¼è®°å½•åº”â½¤å’ŒIPçš„å…³ç³».<br> è°ƒâ½¤â½…è°ƒâ½¤æ—¶ï¼Œå…ˆå»æ³¨å†Œä¸­â¼¼<span style="color:#fe2c24;">è·å–æœåŠ¡â½…çš„IP</span>ï¼Œå†å»æœåŠ¡â½…è¿›â¾è°ƒâ½¤.</p> 
<h3 id="2.2%E6%B3%A8%E5%86%8C%E4%B8%AD%E5%BF%83">2.2æ³¨å†Œä¸­å¿ƒ</h3> 
<p><strong>æ³¨å†Œä¸­â¼¼ä¸»è¦æœ‰ä¸‰ç§â»†â¾Šï¼š</strong></p> 
<ul><li>æœåŠ¡æä¾›è€…(Server)ï¼šâ¼€æ¬¡ä¸šåŠ¡ä¸­,è¢«å…¶å®ƒå¾®æœåŠ¡è°ƒâ½¤çš„æœåŠ¡.ä¹Ÿå°±æ˜¯æä¾›æ¥â¼ç»™å…¶å®ƒå¾®æœåŠ¡.</li><li>æœåŠ¡æ¶ˆè´¹è€…(Client)ï¼šâ¼€æ¬¡ä¸šåŠ¡ä¸­,è°ƒâ½¤å…¶å®ƒå¾®æœåŠ¡çš„æœåŠ¡.ä¹Ÿå°±æ˜¯è°ƒâ½¤å…¶å®ƒå¾®æœåŠ¡æä¾›çš„æ¥â¼.</li><li>æœåŠ¡æ³¨å†Œä¸­â¼¼(Registry):â½¤äºä¿å­˜Serverçš„æ³¨å†Œä¿¡æ¯,å½“ServerèŠ‚ç‚¹å‘â½£å˜æ›´æ—¶,Registryä¼šåŒæ­¥å˜æ›´.æœåŠ¡ä¸æ³¨å†Œä¸­â¼¼ä½¿â½¤â¼€å®šæœºåˆ¶é€šä¿¡,å¦‚æœæ³¨å†Œä¸­â¼¼ä¸æŸæœåŠ¡â»“æ—¶é—´â½†æ³•é€šä¿¡,å°±ä¼šæ³¨é”€è¯¥å®ä¾‹.</li></ul> 
<blockquote> 
 <p><span style="color:#fe2c24;">Â æœåŠ¡æä¾›è€…å’ŒæœåŠ¡æ¶ˆè´¹è€…æ˜¯ç›¸å¯¹çš„.</span></p> 
</blockquote> 
<p class="img-center"><img alt="" height="296" src="https://images2.imgbox.com/e6/48/yTMPNvrE_o.png" width="620"></p> 
<p><strong>Â æœåŠ¡æ³¨å†Œï¼š</strong>æœåŠ¡æä¾›è€…åœ¨å¯åŠ¨æ—¶,å‘Registry<span style="color:#fe2c24;">æ³¨å†Œâ¾ƒâ¾æœåŠ¡</span>,å¹¶å‘Registryå®šæœŸå‘é€â¼¼è·³æ±‡æŠ¥å­˜æ´»çŠ¶æ€.<br><strong>æœåŠ¡å‘ç°ï¼š</strong>æœåŠ¡æ¶ˆè´¹è€…ä»æ³¨å†Œä¸­â¼¼<span style="color:#fe2c24;">æŸ¥è¯¢æœåŠ¡æä¾›è€…çš„åœ°å€</span>ï¼Œå¹¶é€šè¿‡è¯¥åœ°å€è°ƒâ½¤æœåŠ¡æä¾›è€…çš„æ¥â¼.æœåŠ¡å‘ç°çš„â¼€ä¸ªé‡è¦ä½œâ½¤å°±æ˜¯æä¾›ç»™æœåŠ¡æ¶ˆè´¹è€…â¼€ä¸ªå¯â½¤çš„æœåŠ¡åˆ—è¡¨.</p> 
<h3 id="2.3%20CAP%E7%90%86%E8%AE%BA">2.3 CAPç†è®º</h3> 
<p>è°ˆåˆ°æ³¨å†Œä¸­â¼¼ï¼Œå°±é¿ä¸å¼€CAPç†è®º.<br> CAPç†è®ºæ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿè®¾è®¡ä¸­æœ€åŸºç¡€ï¼Œä¹Ÿæ˜¯æœ€ä¸ºå…³é”®çš„ç†è®º.</p> 
<p class="img-center"><img alt="" height="300" src="https://images2.imgbox.com/57/a0/wvUjasU1_o.png" width="344"></p> 
<ul><li>â¼€è‡´æ€§(Consistency)ï¼šCAPç†è®ºä¸­çš„â¼€è‡´æ€§,æŒ‡çš„æ˜¯å¼ºâ¼€è‡´æ€§.æ‰€æœ‰èŠ‚ç‚¹åœ¨åŒâ¼€æ—¶é—´å…·æœ‰ç›¸åŒçš„æ•°æ®.</li><li>å¯â½¤æ€§(Availability)ï¼šä¿è¯æ¯ä¸ªè¯·æ±‚éƒ½æœ‰å“åº”(å“åº”ç»“æœå¯èƒ½ä¸å¯¹)</li><li>åˆ†åŒºå®¹é”™æ€§(Partition Tolerance)ï¼šå½“å‡ºç°â½¹ç»œåˆ†åŒºåï¼Œç³»ç»Ÿä»ç„¶èƒ½å¤Ÿå¯¹å¤–æä¾›æœåŠ¡.</li></ul> 
<p>ä»¥ç”Ÿæ´»ä¸­çš„åœºæ™¯ä¸¾ä¾‹ï¼šé“¶è¡Œåˆ©ç‡ä¸‹è°ƒï¼Œè¿™ä¸ªé€šçŸ¥éœ€è¦ä¸‹å‘åˆ°å„ä¸ªé“¶è¡Œçš„å·¥ä½œäººå‘˜.</p> 
<p>ä¸€è‡´æ€§ï¼šæ‰€æœ‰çš„é“¶è¡Œå·¥ä½œäººå‘˜ï¼Œå¯¹å®¢æˆ·è®²çš„åˆ©ç‡éƒ½æ˜¯ä¸€æ ·çš„.</p> 
<p>å¯ç”¨æ€§ï¼šä¸è®ºä½•æ—¶ï¼Œé“¶è¡Œäººå‘˜å¯¹å®¢æˆ·å’¨è¯¢åˆ©ç‡çš„è¯·æ±‚ï¼Œéƒ½æ˜¯æœ‰ç­”æ¡ˆçš„.(ç­”æ¡ˆå¯èƒ½æ˜¯æ—§çš„ï¼‰</p> 
<p>åˆ†åŒºå®¹é”™æ€§ï¼šå¦‚æœä¸€ä¸ªå·¥ä½œäººå‘˜è¯·å‡äº†ï¼Œé“¶è¡Œä¾ç„¶å¯ä»¥å¯¹å¤–æä¾›æœåŠ¡.</p> 
<blockquote> 
 <p>Pæ˜¯å¿…é¡»è¦ä¿è¯çš„ï¼Œæ‰€ä»¥Cå’ŒAåªèƒ½é€‰ä¸€ä¸ª.æˆ‘ä»¬çš„æ¶æ„å°±æ˜¯CPæ¶æ„æˆ–è€…APæ¶æ„ã€‚</p> 
 <p><strong>CPæ¶æ„ï¼š</strong>ä¸ºäº†ä¿è¯åˆ†å¸ƒå¼ç³»ç»Ÿå¯¹å¤–çš„æ•°æ®â¼€è‡´æ€§,äºæ˜¯é€‰æ‹©ä¸è¿”å›ä»»ä½•æ•°æ®<br><strong>APæ¶æ„ï¼š</strong>ä¸ºäº†ä¿è¯åˆ†å¸ƒå¼ç³»ç»Ÿçš„å¯â½¤æ€§,èŠ‚ç‚¹è¿”å›æ—§ç‰ˆæœ¬çš„æ•°æ®(å³ä½¿è¿™ä¸ªæ•°æ®ä¸æ­£ç¡®)</p> 
</blockquote> 
<h2 id="3.Eureka">3.Eureka</h2> 
<p>Â Eurekaæ˜¯Netflix OSSå¥—ä»¶ä¸­å…³äºæœåŠ¡æ³¨å†Œå’Œå‘ç°çš„è§£å†³â½…æ¡ˆ.Spring Cloudå¯¹urekaè¿›â¾äº†é›†æˆï¼Œå¹¶ä½œä¸ºä¼˜å…ˆæ¨èâ½…æ¡ˆè¿›â¾å®£ä¼ ï¼Œè™½ç„¶â½¬å‰Eureka 2.0å·²ç»åœâ½Œç»´æŠ¤ï¼Œæ–°çš„å¾®æœåŠ¡æ¶æ„è®¾è®¡ä¸­,ä¹Ÿä¸å†å»ºè®®ä½¿â½¤ï¼Œä½†æ˜¯â½¬å‰ä¾ç„¶æœ‰â¼¤é‡å…¬å¸çš„å¾®æœåŠ¡ç³»ç»Ÿä½¿â½¤Eurekaä½œä¸ºæ³¨å†Œä¸­â¼¼.</p> 
<p>å®˜â½…â½‚æ¡£:<a class="link-info" href="https://github.com/Netflix/eureka/wiki" title="https://github.com/Netflix/eureka/wiki">https://github.com/Netflix/eureka/wiki</a><br><strong>Â Eurekaçš„å­¦ä¹ ,ä¸»è¦åŒ…å«ä»¥ä¸‹ä¸‰ä¸ªéƒ¨åˆ†:</strong></p> 
<ol><li>Â æ­å»ºEureka Server</li><li>å°†order-service,product-serviceéƒ½æ³¨å†Œåˆ°Eureka</li><li>order-serviceè¿œç¨‹è°ƒâ½¤æ—¶,ä»Eurekaä¸­è·å–product-serviceçš„æœåŠ¡åˆ—è¡¨,ç„¶åè¿›â¾äº¤äº’</li></ol> 
<h3 id="3.1%E6%90%AD%E5%BB%BAEureka%20Server" style="background-color:transparent;">3.1æ­å»ºEureka Server</h3> 
<p><strong>åˆ›å»ºEureka-serverâ¼¦æ¨¡å—</strong></p> 
<p class="img-center"><img alt="" height="450" src="https://images2.imgbox.com/dd/fe/CUhJxID6_o.png" width="578"></p> 
<p><strong>å¼•â¼Šeureka-serverä¾èµ–</strong></p> 
<pre><code class="hljs">    &lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-server&lt;/artifactId&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;</code></pre> 
<p><strong>é¡¹ç›®æ„å»ºæ’ä»¶Â </strong></p> 
<pre><code class="hljs">    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;</code></pre> 
<p><strong>Â ç¼–å†™é…ç½®æ–‡ä»¶</strong></p> 
<pre><code class="hljs">server:
  port: 10010  
spring:
  application:
    name: eureka-server
eureka:
  instance:
    hostname: localhost
  client:
    fetch-registry: false # è¡¨ç¤ºæ˜¯å¦ä»Eureka Serverè·å–æ³¨å†Œä¿¡æ¯,é»˜è®¤ä¸ºtrue.å› ä¸ºè¿™æ˜¯ä¸€ä¸ªå•ç‚¹çš„Eureka Server,ä¸éœ€è¦åŒæ­¥å…¶ä»–çš„Eureka ServerèŠ‚ç‚¹çš„æ•°æ®,è¿™é‡Œè®¾ç½®ä¸ºfalse
    register-with-eureka: false # è¡¨ç¤ºæ˜¯å¦å°†è‡ªå·±æ³¨å†Œåˆ°Eureka Server,é»˜è®¤ä¸ºtrue.ç”±äºå½“å‰åº”ç”¨å°±æ˜¯Eureka Server,æ•…è€Œè®¾ç½®ä¸ºfalse.
    service-url:
      # è®¾ç½®ä¸Eureka Serverçš„åœ°å€,æŸ¥è¯¢æœåŠ¡å’Œæ³¨å†ŒæœåŠ¡éƒ½éœ€è¦ä¾èµ–è¿™ä¸ªåœ°å€
      defaultZone: http://${eureka.instance.hostname}:${server.port}/eureka/</code></pre> 
<p><strong>å®Œå–„å¯åŠ¨ç±»Â </strong></p> 
<p>ç»™è¯¥é¡¹â½¬ç¼–å†™â¼€ä¸ªå¯åŠ¨ç±»ï¼Œå¹¶åœ¨å¯åŠ¨ç±»ä¸Šæ·»åŠ Â @EnableEurekaServer æ³¨è§£ï¼Œå¼€å¯eurekaæ³¨å†Œä¸­â¼¼æœåŠ¡.</p> 
<pre><code class="hljs">@EnableEurekaServer
@SpringBootApplication
public class EurekaServerApplication {
    public static void main(String[] args) {
        SpringApplication.run(EurekaServerApplication.class,args);
    }
}</code></pre> 
<p class="img-center"><img alt="" height="166" src="https://images2.imgbox.com/97/15/ugCZ8IlQ_o.png" width="475"></p> 
<p><strong>å¯åŠ¨æœåŠ¡</strong>Â </p> 
<p>å¯ä»¥çœ‹åˆ°eureka-serverå·²ç»å¯åŠ¨æˆåŠŸäº†.Â </p> 
<h2 id="%E2%80%8B%E7%BC%96%E8%BE%914.%E6%9C%8D%E5%8A%A1%E6%B3%A8%E5%86%8C" style="background-color:transparent;"><img alt="" height="230" src="https://images2.imgbox.com/37/4c/RI6wfIrx_o.png" width="697"><br> 4.æœåŠ¡æ³¨å†Œ</h2> 
<p>Â æŠŠproduct-serviceï¼Œorder-serviceæ³¨å†Œåˆ°eureka-serverä¸­</p> 
<p><strong>å¼•å…¥eureka-clientä¾èµ–åˆ°product-serviceï¼Œorder-serviceä¸­çš„pomæ–‡ä»¶</strong></p> 
<pre><code class="hljs">&lt;dependency&gt;
&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
&lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre> 
<p><strong>å®Œå–„product-serviceï¼Œorder-serviceä¸­é…ç½®â½‚ä»¶</strong></p> 
<pre><code class="hljs">spring:
  application:
    name: product-service
eureka:
  client:
    service-url:
      defaultZone: http://127.0.0.1:10010/eureka</code></pre> 
<p class="img-center"><img alt="" height="419" src="https://images2.imgbox.com/b5/9f/UAUAnWp5_o.png" width="802"></p> 
<p><strong>å¯åŠ¨product-serviceæœåŠ¡Â </strong></p> 
<p>å¯ä»¥çœ‹åˆ°product-serviceå·²ç»æ³¨å†Œåˆ°eurekaä¸Šäº†.</p> 
<p><img alt="" height="262" src="https://images2.imgbox.com/cd/9d/HMenFwkr_o.png" width="1200"><strong>Â è¿œç¨‹è°ƒç”¨</strong></p> 
<pre><code class="hljs">@Service
public class OrderService {
    @Autowired
    private OrderMapper orderMapper;
    @Autowired
    private RestTemplate restTemplate;

    @Autowired
    private DiscoveryClient discoveryClient;

    public OrderInfo selectOrderById(Integer orderId) {
        OrderInfo orderInfo = orderMapper.selectOrderById(orderId);
//        String url = "http://127.0.0.1:9090/product/" + orderInfo.getProductId();
        //æ ¹æ®åº”ç”¨åè·å–æœåŠ¡åˆ—è¡¨
        List&lt;ServiceInstance&gt; instances = discoveryClient.getInstances("product-service");
        //è·å–ç¬¬ä¸€ä¸ªæœåŠ¡
//        EurekaServiceInstance serviceInstance = (EurekaServiceInstance)instances.get(0);
        //æ‹¼æ¥url
        String url = instances.get(0).getUri() + "/product/" + orderInfo.getProductId();
        ProductInfo productInfo = restTemplate.getForObject(url, ProductInfo.class);
        orderInfo.setProductInfo(productInfo);
        return orderInfo;
    }
}</code></pre> 
<p><strong>å¯åŠ¨æµ‹è¯•</strong></p> 
<p>åˆ·æ–°æ³¨å†Œä¸­â¼¼ï¼Œå¯ä»¥çœ‹åˆ°order-serviceå·²ç»æ³¨å†Œåˆ°eurekaä¸Šäº†</p> 
<p><img alt="" height="329" src="https://images2.imgbox.com/71/27/IwugJ4WA_o.png" width="1200"></p> 
<p>è®¿é—®æ¥â¼:http://127.0.0.1:8080/order/1<br> å¯ä»¥çœ‹åˆ°,è¿œç¨‹è°ƒâ½¤ä¹ŸæˆåŠŸäº†.</p> 
<p><img alt="" height="185" src="https://images2.imgbox.com/76/f5/1rlJiQa0_o.png" width="1200"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/19562f6a1fd33071cb380a81c5312d2f/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">åˆ›æ–°é£Ÿå ‚ç®¡ç†ï¼šé‡‡è´­ç³»ç»Ÿæºç ä¸ä¾›åº”é“¾APPå¼€å‘è¯¦è§£</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/3f2589afd90d60b9729e9de616d4eeda/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">UDPç½‘ç»œé€šä¿¡ï¼ˆå‘é€ç«¯&#43;æ¥æ”¶ç«¯ï¼‰å®ä¾‹ â€”â€” Python</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ç¼–ç¨‹å¤§å’–.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>