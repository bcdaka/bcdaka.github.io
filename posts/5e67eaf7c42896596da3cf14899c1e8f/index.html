<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>LeetCode面试150——134加油站 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/5e67eaf7c42896596da3cf14899c1e8f/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="LeetCode面试150——134加油站">
  <meta property="og:description" content="题目难度：中等
默认优化目标：最小化平均时间复杂度。
Python默认为Python3。
目录
1 题目描述
2 题目解析
3 算法原理及代码实现
3.1 贪心算法
参考文献
1 题目描述 在一条环路上有 n 个加油站，其中第 i 个加油站有汽油 gas[i] 升。
你有一辆油箱容量无限的的汽车，从第 i 个加油站开往第 i&#43;1 个加油站需要消耗汽油 cost[i] 升。你从其中的一个加油站出发，开始时油箱为空。
给定两个整数数组 gas 和 cost ，如果你可以按顺序绕环路行驶一周，则返回出发时加油站的编号，否则返回 -1 。如果存在解，则 保证 它是 唯一 的。
示例 1:
输入: gas = [1,2,3,4,5], cost = [3,4,5,1,2] 输出: 3 解释: 从 3 号加油站(索引为 3 处)出发，可获得 4 升汽油。此时油箱有 = 0 &#43; 4 = 4 升汽油 开往 4 号加油站，此时油箱有 4 - 1 &#43; 5 = 8 升汽油 开往 0 号加油站，此时油箱有 8 - 2 &#43; 1 = 7 升汽油 开往 1 号加油站，此时油箱有 7 - 3 &#43; 2 = 6 升汽油 开往 2 号加油站，此时油箱有 6 - 4 &#43; 3 = 5 升汽油 开往 3 号加油站，你需要消耗 5 升汽油，正好足够你返回到 3 号加油站。 因此，3 可为起始索引。 示例 2:">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-08-04T11:45:42+08:00">
    <meta property="article:modified_time" content="2024-08-04T11:45:42+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">LeetCode面试150——134加油站</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>题目难度：<span style="color:#ff9900;"><strong>中等</strong></span></p> 
<p>默认优化目标：最小化平均时间复杂度。</p> 
<p>Python默认为Python3。</p> 
<p></p> 
<p id="main-toc"><strong>目录</strong></p> 
<p id="1%20%E9%A2%98%E7%9B%AE%E6%8F%8F%E8%BF%B0-toc" style="margin-left:0px;"><a href="#1%20%E9%A2%98%E7%9B%AE%E6%8F%8F%E8%BF%B0" rel="nofollow">1 题目描述</a></p> 
<p id="2%20%E9%A2%98%E7%9B%AE%E8%A7%A3%E6%9E%90-toc" style="margin-left:0px;"><a href="#2%20%E9%A2%98%E7%9B%AE%E8%A7%A3%E6%9E%90" rel="nofollow">2 题目解析</a></p> 
<p id="3%20%E7%AE%97%E6%B3%95%E5%8E%9F%E7%90%86%E5%8F%8A%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0-toc" style="margin-left:0px;"><a href="#3%20%E7%AE%97%E6%B3%95%E5%8E%9F%E7%90%86%E5%8F%8A%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0" rel="nofollow">3 算法原理及代码实现</a></p> 
<p id="3.1%20%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95-toc" style="margin-left:40px;"><a href="#3.1%20%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95" rel="nofollow">3.1 贪心算法</a></p> 
<p id="%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE-toc" style="margin-left:0px;"><a href="#%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE" rel="nofollow">参考文献</a></p> 
<hr id="hr-toc"> 
<p></p> 
<p></p> 
<h2 id="1%20%E9%A2%98%E7%9B%AE%E6%8F%8F%E8%BF%B0">1 题目描述</h2> 
<p>在一条环路上有 <code>n</code> 个加油站，其中第 <code>i</code> 个加油站有汽油 <code>gas[i]</code> 升。</p> 
<p>你有一辆油箱容量无限的的汽车，从第 <code>i</code> 个加油站开往第 <code>i+1</code> 个加油站需要消耗汽油 <code>cost[i]</code> 升。你从其中的一个加油站出发，开始时油箱为空。</p> 
<p>给定两个整数数组 <code>gas</code> 和 <code>cost</code> ，如果你可以按顺序绕环路行驶一周，则返回出发时加油站的编号，否则返回 <code>-1</code> 。如果存在解，则 <strong>保证</strong> 它是 <strong>唯一</strong> 的。</p> 
<p><strong>示例 1:</strong></p> 
<pre>输入: gas = [1,2,3,4,5], cost = [3,4,5,1,2]
输出: 3
解释:
从 3 号加油站(索引为 3 处)出发，可获得 4 升汽油。此时油箱有 = 0 + 4 = 4 升汽油
开往 4 号加油站，此时油箱有 4 - 1 + 5 = 8 升汽油
开往 0 号加油站，此时油箱有 8 - 2 + 1 = 7 升汽油
开往 1 号加油站，此时油箱有 7 - 3 + 2 = 6 升汽油
开往 2 号加油站，此时油箱有 6 - 4 + 3 = 5 升汽油
开往 3 号加油站，你需要消耗 5 升汽油，正好足够你返回到 3 号加油站。
因此，3 可为起始索引。</pre> 
<p><strong>示例 2:</strong></p> 
<pre>输入: gas = [2,3,4], cost = [3,4,3]
输出: -1
解释:
你不能从 0 号或 1 号加油站出发，因为没有足够的汽油可以让你行驶到下一个加油站。
我们从 2 号加油站出发，可以获得 4 升汽油。 此时油箱有 = 0 + 4 = 4 升汽油
开往 0 号加油站，此时油箱有 4 - 3 + 2 = 3 升汽油
开往 1 号加油站，此时油箱有 3 - 3 + 3 = 3 升汽油
你无法返回 2 号加油站，因为返程需要消耗 4 升汽油，但是你的油箱只有 3 升汽油。
因此，无论怎样，你都不可能绕环路行驶一周。</pre> 
<p><strong>提示:</strong></p> 
<ul><li> <p><code>gas.length == n</code></p> </li><li> <p><code>cost.length == n</code></p> </li><li> <p><code>1 &lt;= n &lt;= 105</code></p> </li><li> <p><code>0 &lt;= gas[i], cost[i] &lt;= 104</code></p> </li></ul> 
<p></p> 
<h2 id="2%20%E9%A2%98%E7%9B%AE%E8%A7%A3%E6%9E%90">2 题目解析</h2> 
<p>输入是汽油数组<code>gas</code>和耗油数组<code>cost</code>，输出是出发时加油站的编号(无则返回-1)。暴力求解的思路是，选定从0号加油站开始，一个个去试，平均时间复杂度为O(n^2)。显然不让人满意。</p> 
<p></p> 
<h2 id="3%20%E7%AE%97%E6%B3%95%E5%8E%9F%E7%90%86%E5%8F%8A%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0">3 算法原理及代码实现</h2> 
<h3 id="3.1%20%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95">3.1 贪心算法</h3> 
<p>假设从加油站<code>x</code>出发，每经过一个加油站就加一次油，最后可以到达加油站<code>y</code>。有如下式子</p> 
<p><br><img alt="\sum_{i=x}^{y}gos[i]&lt;\sum_{i=x}^{y}cost[i]\\ \sum_{i=x}^j gos[i] \geq \sum_{i=x}^j cost[i],j\in[x,y)" class="mathcode" src="https://images2.imgbox.com/35/5d/xKPyjiJz_o.png"><br>  </p> 
<p></p> 
<p>我们推导上式，有</p> 
<p><br><img alt="\sum_{i=z}^y gas[i]=\sum_{i=x}^y gas[i]-\sum_{i=x}^{z-1}gas[i]\\ &lt;\sum_{i=x}^y cost[i]-\sum_{i=x}^{z-1} gas[i]\\ &lt;\sum_{i=x}^y cost[i]-\sum_{i=x}^{z-1}cost[i]=\sum_{i=x}^y cost[i]" class="mathcode" src="https://images2.imgbox.com/5c/60/LG9Tb6Np_o.png"><br>  </p> 
<p></p> 
<p>这表明，从<code>x,y</code>之间的任何一个加油站出发，都无法到达<code>y</code>的下一个加油站。</p> 
<p>算法的步骤为，先从第0个加油站检查，行输出，不行再从第一个无法到达的加油站开始。循环此步骤。</p> 
<p>平均时间复杂度O(n)，平均空间复杂度O(1)。</p> 
<p>C++代码实现</p> 
<pre><code class="language-cpp">class Solution {
public:
    int canCompleteCircuit(vector&lt;int&gt;&amp; gas, vector&lt;int&gt;&amp; cost) {
        int totalGas = 0, totalCost = 0, start = 0, tank = 0;
        for (int i = 0; i &lt; gas.size(); i++) {
            totalGas += gas[i];
            totalCost += cost[i];
            tank += gas[i] - cost[i];
            if (tank &lt; 0) {
                start = i + 1;
                tank = 0;
            }
        }
        return (totalGas &lt; totalCost) ? -1 : start;
    }</code></pre> 
<p>Python代码实现</p> 
<pre><code class="language-python">class Solution:
    def canCompleteCircuit(self, gas: List[int], cost: List[int]) -&gt; int:
        total_gas, total_cost, start, tank = 0, 0, 0, 0
        for i in range(len(gas)):
            total_gas += gas[i]
            total_cost += cost[i]
            tank += gas[i] - cost[i]
            if tank &lt; 0:
                start = i + 1
                tank = 0
        return -1 if total_gas &lt; total_cost else start</code></pre> 
<p></p> 
<h2 id="%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE">参考文献</h2> 
<p><a href="https://leetcode.cn/studyplan/top-interview-150/" rel="nofollow" title="力扣面试经典150题">力扣面试经典150题</a></p> 
<p><a href="https://leetcode.cn/problems/gas-station/solutions/488357/jia-you-zhan-by-leetcode-solution/" rel="nofollow" title="力扣官方题解">力扣官方题解</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/3b328a36209a65e1d386a0f0eb5b72a9/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【数据结构】排序算法（冒泡排序、插入排序、希尔排序、选择排序、堆排序、计数排序）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/63f7a9ce33e742873aceb45e86cf9c33/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">了解Java中的反射，带你如何使用反射</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>