<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>学java的第3天 后端商城小程序工作 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/22667a64e6ed50c038cc2358b1e5220f/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="学java的第3天 后端商城小程序工作">
  <meta property="og:description" content="1.数据库的大坑 特殊字段名 ’我的图片表中有一个字段是描述我写成desc了，正好是mysql中的关键字 就不能使用了
2.后端编写 2.1可以把请求分开
在商品浏览页中 只显示商品的大致信息 当用户再点击其他按钮时在发出请求
2.2把请求合并 把数据整合到一起 利用association 和 collection 表示 2.2.1association 多对一 &lt;association property=&#34;categories&#34; javaType=&#34;com.hrmy.entity.Categories&#34;&gt; &lt;id property=&#34;id&#34; column=&#34;id&#34;/&gt; &lt;result property=&#34;parentId&#34; column=&#34;parent_id&#34;/&gt; &lt;result property=&#34;name&#34; column=&#34;name&#34;/&gt; &lt;result property=&#34;createdAt&#34; column=&#34;created_at&#34;/&gt; &lt;result property=&#34;updatedAt&#34; column=&#34;update_at&#34;/&gt; &lt;/association&gt; 2.2.2collection 一对多
2.3遇到的问题 collection中需要ofType 3.一个框框实现条件模糊查找 @Data @AllArgsConstructor @NoArgsConstructor public class ProductSearchVo { //商品名称 private String productSearchVo; } @ApiOperation(value = &#34;根据商品名字模糊查询商品&#34;) @GetMapping(&#34;{nameAndId}&#34;) public Result queryByNameAndId(@ApiParam(value = &#34;商品或者id模糊查询商品&#34;) ProductSearchVo productSearchVo) { return productsService.queryByNameAndId(productSearchVo); } &lt;select id=&#34;">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-07-05T18:04:36+08:00">
    <meta property="article:modified_time" content="2024-07-05T18:04:36+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">学java的第3天 后端商城小程序工作</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>1.数据库的大坑 特殊字段名</h2> 
<p>’我的图片表中有一个字段是描述我写成desc了，正好是mysql中的关键字 就不能使用了</p> 
<p><img alt="" height="390" src="https://images2.imgbox.com/9d/97/TJtofJKp_o.png" width="671"></p> 
<h3>2.后端编写 </h3> 
<p>2.1可以把请求分开</p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/f4/b6/hTf96lK3_o.png" width="591"></p> 
<p>在商品浏览页中 只显示商品的大致信息 当用户再点击其他按钮时在发出请求</p> 
<h3>2.2把请求合并</h3> 
<p>把数据整合到一起 利用association 和 collection 表示 </p> 
<h4>2.2.1association</h4> 
<p>多对一 <img alt="" height="121" src="https://images2.imgbox.com/27/d4/idXDQX3e_o.png" width="556"></p> 
<pre><code class="language-XML">&lt;association property="categories" javaType="com.hrmy.entity.Categories"&gt;
            &lt;id property="id" column="id"/&gt;
            &lt;result property="parentId" column="parent_id"/&gt;
            &lt;result property="name" column="name"/&gt;
            &lt;result property="createdAt" column="created_at"/&gt;
            &lt;result property="updatedAt" column="update_at"/&gt;
        &lt;/association&gt;</code></pre> 
<h4>2.2.2collection</h4> 
<p>一对多</p> 
<p><img alt="" height="94" src="https://images2.imgbox.com/85/f9/HhHVhKWM_o.png" width="535"></p> 
<p><img alt="" height="318" src="https://images2.imgbox.com/1d/e4/ZorQdnOS_o.png" width="1200"></p> 
<h3>2.3遇到的问题</h3> 
<p>collection中需要ofType </p> 
<h2>3.一个框框实现条件模糊查找</h2> 
<pre><code class="language-java">@Data
@AllArgsConstructor
@NoArgsConstructor
public class ProductSearchVo {
    //商品名称
    private String productSearchVo;
}</code></pre> 
<pre><code class="language-java">    @ApiOperation(value = "根据商品名字模糊查询商品")
    @GetMapping("{nameAndId}")
    public Result queryByNameAndId(@ApiParam(value = "商品或者id模糊查询商品")  ProductSearchVo productSearchVo) {
        return productsService.queryByNameAndId(productSearchVo);
    }</code></pre> 
<pre><code class="language-XML"> &lt;select id="queryByNameAndId" resultType="com.hrmy.entity.Products"&gt;
        select
            id, name, category_id, created_at, updated_at, desc_img, status, sales,main_photo
        from products
        where ishot = 0
        &lt;if test="productSearchVo != null and productSearchVo !=''"&gt;
            and (name like concat ('%',#{productSearchVo},'%')) or (id like concat('%',#{productSearchVo},'%'))
        &lt;/if&gt;
    &lt;/select&gt;</code></pre> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/4639cbe5c98b6d0f837425a61265b2de/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">百度云智能媒体内容分析一体机（MCA）建设</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/69c11c2d30964e5b67cce2e2e75bf495/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">React 19 竞态问题解决</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>