<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Java：什么是向上转型与向下转型（详细图解） - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/a49cacf7d1108532fd93dfa92bbd7e47/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="Java：什么是向上转型与向下转型（详细图解）">
  <meta property="og:description" content="目录
一、什么是向上转型
1、概念
2、代码示例
3、向上转型的优缺点
二、什么是向下转型
1、向下转型的概念
​编辑
2、代码示例
三、向下转型的缺点及 instanceof 的使用
1、向下转型的缺点
2、instanceof的使用
一、什么是向上转型 1、概念 向上转型就是创建一个子类对象，将其当成父类对象来使用。
语法格式：父类类型 对象名 = new 子类类型()
Animal animal = new Cat ()；
Animal 是父类类型，但可以引用 Cat这个子类类型，因为是从小范围到大范围的转换。
2、代码示例 class Aminal { public void display() { System.out.println(&#34;Animal&#34;); } } class Cat extends Aminal { public void display() { System.out.println(&#34;Cat&#34;); } } class Dog extends Aminal { } public class Main{ public static void main(String[] args) { Aminal aminal1 = new Aminal(); Aminal aminal2 = new Cat(); Aminal aminal3 = new Dog(); aminal1.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-02-14T14:40:45+08:00">
    <meta property="article:modified_time" content="2024-02-14T14:40:45+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Java：什么是向上转型与向下转型（详细图解）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="-toc" style="margin-left:0px;"></p> 
<p id="%E4%B8%80%E3%80%81%E4%BB%80%E4%B9%88%E6%98%AF%E5%90%91%E4%B8%8A%E8%BD%AC%E5%9E%8B-toc" style="margin-left:0px;"><a href="#%E4%B8%80%E3%80%81%E4%BB%80%E4%B9%88%E6%98%AF%E5%90%91%E4%B8%8A%E8%BD%AC%E5%9E%8B" rel="nofollow">一、什么是向上转型</a></p> 
<p id="1%E3%80%81%E6%A6%82%E5%BF%B5-toc" style="margin-left:40px;"><a href="#1%E3%80%81%E6%A6%82%E5%BF%B5" rel="nofollow">1、概念</a></p> 
<p id="2%E3%80%81%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B-toc" style="margin-left:40px;"><a href="#2%E3%80%81%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B" rel="nofollow">2、代码示例</a></p> 
<p id="3%E3%80%81%E5%90%91%E4%B8%8A%E8%BD%AC%E5%9E%8B%E7%9A%84%E4%BC%98%E7%BC%BA%E7%82%B9-toc" style="margin-left:40px;"><a href="#3%E3%80%81%E5%90%91%E4%B8%8A%E8%BD%AC%E5%9E%8B%E7%9A%84%E4%BC%98%E7%BC%BA%E7%82%B9" rel="nofollow">3、向上转型的优缺点</a></p> 
<p id="%E4%BA%8C%E3%80%81%E4%BB%80%E4%B9%88%E6%98%AF%E5%90%91%E4%B8%8B%E8%BD%AC%E5%9E%8B-toc" style="margin-left:0px;"><a href="#%E4%BA%8C%E3%80%81%E4%BB%80%E4%B9%88%E6%98%AF%E5%90%91%E4%B8%8B%E8%BD%AC%E5%9E%8B" rel="nofollow">二、什么是向下转型</a></p> 
<p id="1%E3%80%81%E5%90%91%E4%B8%8B%E8%BD%AC%E5%9E%8B%E7%9A%84%E6%A6%82%E5%BF%B5-toc" style="margin-left:40px;"><a href="#1%E3%80%81%E5%90%91%E4%B8%8B%E8%BD%AC%E5%9E%8B%E7%9A%84%E6%A6%82%E5%BF%B5" rel="nofollow">1、向下转型的概念</a></p> 
<p id="%E2%80%8B%E7%BC%96%E8%BE%91-toc" style="margin-left:0px;"><a href="#%E2%80%8B%E7%BC%96%E8%BE%91" rel="nofollow">​编辑</a></p> 
<p id="2%E3%80%81%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B-toc" style="margin-left:40px;"><a href="#2%E3%80%81%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B" rel="nofollow">2、代码示例</a></p> 
<p id="%E4%B8%89%E3%80%81%E5%90%91%E4%B8%8B%E8%BD%AC%E5%9E%8B%E7%9A%84%E7%BC%BA%E7%82%B9%E5%8F%8A%20instanceof%20%E7%9A%84%E4%BD%BF%E7%94%A8-toc" style="margin-left:0px;"><a href="#%E4%B8%89%E3%80%81%E5%90%91%E4%B8%8B%E8%BD%AC%E5%9E%8B%E7%9A%84%E7%BC%BA%E7%82%B9%E5%8F%8A%20instanceof%20%E7%9A%84%E4%BD%BF%E7%94%A8" rel="nofollow">三、向下转型的缺点及 instanceof 的使用</a></p> 
<p id="1%E3%80%81%E5%90%91%E4%B8%8B%E8%BD%AC%E5%9E%8B%E7%9A%84%E7%BC%BA%E7%82%B9-toc" style="margin-left:40px;"><a href="#1%E3%80%81%E5%90%91%E4%B8%8B%E8%BD%AC%E5%9E%8B%E7%9A%84%E7%BC%BA%E7%82%B9" rel="nofollow">1、向下转型的缺点</a></p> 
<p id="2%E3%80%81instanceof%E7%9A%84%E4%BD%BF%E7%94%A8-toc" style="margin-left:40px;"><a href="#2%E3%80%81instanceof%E7%9A%84%E4%BD%BF%E7%94%A8" rel="nofollow">2、instanceof的使用</a></p> 
<hr id="hr-toc"> 
<p></p> 
<h2 id="%E4%B8%80%E3%80%81%E4%BB%80%E4%B9%88%E6%98%AF%E5%90%91%E4%B8%8A%E8%BD%AC%E5%9E%8B">一、什么是向上转型</h2> 
<h3 id="1%E3%80%81%E6%A6%82%E5%BF%B5">1、概念</h3> 
<p>向上转型就是<strong>创建一个子类对象</strong>，将其<strong>当成父类对象来使用</strong>。</p> 
<blockquote> 
 <p>语法格式：父类类型  对象名  =  new  子类类型()</p> 
 <p>                     Animal   animal  =  new Cat ()；</p> 
</blockquote> 
<p><strong>Animal 是父类类型，但可以引用 Cat这个子类类型，因为是从小范围到大范围的转换。</strong></p> 
<p class="img-center"><img alt="" height="486" src="https://images2.imgbox.com/18/94/B5bDQYP3_o.png" width="1073"></p> 
<p></p> 
<h3 id="2%E3%80%81%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B">2、代码示例</h3> 
<pre><code class="language-java">class Aminal {
    public void display() {
        System.out.println("Animal");
    }
}
class Cat extends Aminal {
    public void display() {
        System.out.println("Cat");
    }
}
class Dog extends Aminal {

}

public class Main{
    public static void main(String[] args) {
        Aminal aminal1 = new Aminal();
        Aminal aminal2 = new Cat();
        Aminal aminal3 = new Dog();

        aminal1.display();
        aminal2.display();
        aminal3.display();
    }
}</code></pre> 
<p><img alt="" height="425" src="https://images2.imgbox.com/2c/6d/eOAdJjNm_o.png" width="810"></p> 
<blockquote> 
 <p>animal2中，Cat类 <strong>重写了</strong> display方法，所以在实现时，打印的是Cat类中实现的内容。</p> 
 <p>animal3中，Dog类 <strong>没有重写 </strong>display方法，所以打印的还是父类中的内容。</p> 
 <p></p> 
 <p>由此我们可以得出：<strong>向上转型实现时</strong></p> 
 <p><strong>                                先看子类有没有</strong></p> 
 <p><strong>                                若是子类找不到</strong></p> 
 <p><strong>                                再看父类有没有</strong></p> 
 <p><strong>                                <span style="color:#fe2c24;">二者都无</span></strong><span style="color:#fe2c24;"><strong>则报错！</strong></span></p> 
</blockquote> 
<h3 id="3%E3%80%81%E5%90%91%E4%B8%8A%E8%BD%AC%E5%9E%8B%E7%9A%84%E4%BC%98%E7%BC%BA%E7%82%B9">3、向上转型的优缺点</h3> 
<blockquote> 
 <p>优点：让代码实现更简单灵活</p> 
 <p>缺点：不能调用到子类特有的方法</p> 
</blockquote> 
<p>例如：</p> 
<pre><code class="language-java">class Animal {
    public void display() {
        System.out.println("Animal");
    }
}

class Dog extends Animal {
    public void display() {
        System.out.println("dog");
    }

    public void eat() {
        System.out.println("吃骨头");
    }
}

public class Main {
    public static void main(String[] args) {
        Animal animal = new Dog();

        animal.display();
        animal.eat(); //会报错
    }
}</code></pre> 
<blockquote> 
 <p><strong>所以，<span style="color:#fe2c24;">向上转型无法调用子类特有的方法！</span></strong></p> 
 <p><img alt="" height="162" src="https://images2.imgbox.com/f8/43/WHX1HjMo_o.png" width="446"></p> 
 <p></p> 
</blockquote> 
<p></p> 
<h2 id="%E4%BA%8C%E3%80%81%E4%BB%80%E4%B9%88%E6%98%AF%E5%90%91%E4%B8%8B%E8%BD%AC%E5%9E%8B">二、什么是向下转型</h2> 
<h3 id="1%E3%80%81%E5%90%91%E4%B8%8B%E8%BD%AC%E5%9E%8B%E7%9A%84%E6%A6%82%E5%BF%B5">1、向下转型的概念</h3> 
<blockquote> 
 <p>将一个子类对象向上转型之后可以当成父类对象使用，若需要调用子类特有的方法，则需要<strong>将父类对象再还原为子类对象</strong>。这就称作向下转型。</p> 
</blockquote> 
<h2 id="%E2%80%8B%E7%BC%96%E8%BE%91" style="text-align:center;"><img alt="" height="263" src="https://images2.imgbox.com/f4/45/3GPv3tVr_o.png" width="413"></h2> 
<h3>2、代码示例</h3> 
<pre><code class="language-java">class Animal {
    public void display() {
        System.out.println("Animal");
    }
}

class Dog extends Animal {
    public void display() {
        System.out.println("dog");
    }

    public void eat() {
        System.out.println("吃骨头");
    }
}

public class Main{
    public static void main(String[] args) {
        //向上转型
        Animal animal = new Dog();
        animal.display();
        
        //向下转型
        //Animal类中原本没有 eat方法，在向下转型之前如果调用eat方法会报错
        //向下转型为子类Dog类后，就可以调用子类中特有的方法，而不会报错
        animal = (Dog)animal;
        ((Dog) animal).eat();
    }
}</code></pre> 
<blockquote> 
 <p>运行结果：</p> 
 <p><img alt="" height="92" src="https://images2.imgbox.com/2e/34/lIVYsDoN_o.png" width="144"></p> 
</blockquote> 
<h2 id="%E4%B8%89%E3%80%81%E5%90%91%E4%B8%8B%E8%BD%AC%E5%9E%8B%E7%9A%84%E7%BC%BA%E7%82%B9%E5%8F%8A%20instanceof%20%E7%9A%84%E4%BD%BF%E7%94%A8">三、向下转型的缺点及 instanceof 的使用</h2> 
<h3 id="1%E3%80%81%E5%90%91%E4%B8%8B%E8%BD%AC%E5%9E%8B%E7%9A%84%E7%BC%BA%E7%82%B9">1、向下转型的缺点</h3> 
<blockquote> 
 <p>缺点：向下转型使用的比较少，而且不安全。如果转换失败，运行时就会抛异常。</p> 
</blockquote> 
<h3 id="2%E3%80%81instanceof%E7%9A%84%E4%BD%BF%E7%94%A8">2、instanceof的使用</h3> 
<blockquote> 
 <p>Java中为了提高向下转型的安全性，引入了<strong>instanceof</strong>。如果表达式为 <strong>true</strong>，则可以安全转换。</p> 
</blockquote> 
<p>使用实例：</p> 
<pre><code class="language-java">class Animal {
    public void display() {
        System.out.println("Animal");
    }
}

class Dog extends Animal {
    public void display() {
        System.out.println("dog");
    }

    public void eat() {
        System.out.println("吃骨头");
    }
}
public class Main {
    public static void main(String[] args) {
        //向上转型
        Animal animal = new Dog();
        
        //判断instanceof 是否为 true
        if(animal instanceof Dog) {
            //向下转型
            animal = (Dog)animal;
            ((Dog) animal).eat();
        } else {
            System.out.println("Animal无法向下转型为Dog");
        }
    }
}
</code></pre> 
<hr> 
<p> 以上就是<strong> Java：什么是向上转型与向下转型（详细图解）</strong>的全部内容了，希望能对您有所帮助！</p> 
<p>您的点赞与收藏就是对我最大的支持！</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/c2843b71ea7e9cb3958c1bd625fdefd7/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【JAVA】可视化窗口制作</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/046a3f2e5002e10479f5e0f12e118dd1/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">如何在 JavaScript 中比较两个日期 – 技术、方法和最佳实践</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>