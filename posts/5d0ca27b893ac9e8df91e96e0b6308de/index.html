<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>若依[RuoYi-Vue]使用（五）- 认识ruoyi前端文件 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/5d0ca27b893ac9e8df91e96e0b6308de/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="若依[RuoYi-Vue]使用（五）- 认识ruoyi前端文件">
  <meta property="og:description" content="提示：文章写完后，目录可以自动生成，如何生成可参考右边的帮助文档
文章目录 前言1. 前端项目结构一、index.vue1. 控件在网页、代码之间的映对1.1.1 控件1.1.2 参数1.3 二、dept.js1.代码2.未完待续 总结 前言 以“系统管理 - 部门管理”
认识若依前端 index.vue
认识若依前端 dept.js
1. 前端项目结构 项目结构
├── build // 构建相关
├── bin // 执行脚本
├── public // 公共文件
│ ├── favicon.ico // favicon图标
│ └── index.html // html模板
├── src // 源代码
│ ├── api // 所有请求
│ ├── assets // 主题 字体等静态资源
│ ├── components // 全局公用组件
│ ├── directive // 全局指令
│ ├── layout // 布局">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-05-31T19:11:53+08:00">
    <meta property="article:modified_time" content="2024-05-31T19:11:53+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">若依[RuoYi-Vue]使用（五）- 认识ruoyi前端文件</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <blockquote> 
 <p>提示：文章写完后，目录可以自动生成，如何生成可参考右边的帮助文档</p> 
</blockquote> 
<p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#_7" rel="nofollow">前言</a></li><li><a href="#1__14" rel="nofollow">1. 前端项目结构</a></li><li><a href="#indexvue_49" rel="nofollow">一、index.vue</a></li><li><ul><li><a href="#1__50" rel="nofollow">1. 控件在网页、代码之间的映对</a></li><li><ul><li><a href="#111__487" rel="nofollow">1.1.1 控件</a></li><li><a href="#112__494" rel="nofollow">1.1.2 参数</a></li><li><a href="#13_525" rel="nofollow">1.3</a></li></ul> 
  </li></ul> 
  </li><li><a href="#deptjs_526" rel="nofollow">二、dept.js</a></li><li><ul><li><a href="#1_527" rel="nofollow">1.代码</a></li><li><a href="#2_586" rel="nofollow">2.未完待续</a></li></ul> 
  </li><li><a href="#_591" rel="nofollow">总结</a></li></ul> 
</div> 
<p></p> 
<hr> 
<h2><a id="_7"></a>前言</h2> 
<p>以“系统管理 - 部门管理”<br> 认识若依前端 index.vue<br> 认识若依前端 dept.js<br> <img src="https://images2.imgbox.com/cc/45/XHM50qlw_o.png" alt="在这里插入图片描述"></p> 
<hr> 
<h2><a id="1__14"></a>1. 前端项目结构</h2> 
<p>项目结构<br> ├── build // 构建相关<br> ├── bin // 执行脚本<br> ├── public // 公共文件<br> │ ├── favicon.ico // favicon图标<br> │ └── index.html // html模板<br> ├── src // 源代码<br> │ ├── api // 所有请求<br> │ ├── assets // 主题 字体等静态资源<br> │ ├── components // 全局公用组件<br> │ ├── directive // 全局指令<br> │ ├── layout // 布局<br> │ ├── router // 路由<br> │ ├── store // 全局 store管理<br> │ ├── utils // 全局公用方法<br> │ ├── views // view<br> │ ├── App.vue // 入口页面<br> │ ├── main.js // 入口 加载组件 初始化等<br> │ ├── permission.js // 权限管理<br> │ └── settings.js // 系统配置<br> ├── .editorconfig // 编码格式<br> ├── .env.development // 开发环境配置<br> ├── .env.production // 生产环境配置<br> ├── .env.staging // 测试环境配置<br> ├── .eslintignore // 忽略语法检查<br> ├── .eslintrc.js // eslint 配置项<br> ├── .gitignore // git 忽略项<br> ├── babel.config.js // babel.config.js<br> ├── package.json // package.json<br> └── vue.config.js // vue.config.js<br> ——————————————————————————————————————————<br> 原文链接：https://blog.csdn.net/qq_41607217/article/details/118962345<br> <img src="https://images2.imgbox.com/45/ca/JsyMGKBL_o.png" alt="在这里插入图片描述"><br> ——————————————————————————————————————————</p> 
<h2><a id="indexvue_49"></a>一、index.vue</h2> 
<h3><a id="1__50"></a>1. 控件在网页、代码之间的映对</h3> 
<p><img src="https://images2.imgbox.com/85/61/PUebE4uu_o.png" alt="在这里插入图片描述"><br> ——————————————————————————————————————————<br> <img src="https://images2.imgbox.com/99/75/98tIbBOZ_o.png" alt="在这里插入图片描述"><br> ——————————————————————————————————————————</p> 
<pre><code class="prism language-c"><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  
  <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token number">2024.05</span><span class="token number">.22</span> 注释<span class="token operator">:</span>系统管理 <span class="token operator">-</span> 部门管理 <span class="token operator">--</span><span class="token operator">&gt;</span>

  <span class="token operator">&lt;</span>div class<span class="token operator">=</span><span class="token string">"app-container"</span><span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token number">2024.05</span><span class="token number">.22</span> 注释<span class="token operator">:</span>搜索功能区 <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 在Element UI中，el<span class="token operator">-</span>form组件是一个表单组件，用于收集用户输入的数据。 <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> el<span class="token operator">-</span>form的model属性是一个必需的属性，用于绑定表单中各个表单元素的数据，使表单能够从输入框、下拉框等表单元素中获取数据并进行提交等操作。 <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> model属性的值通常是一个对象，对象的属性名与表单中各个表单元素的v<span class="token operator">-</span>model属性相对应 <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 下面的代码创建了一个包含<span class="token number">2</span>输入框的表单，model对象中的属性分别与这些表单元素的v<span class="token operator">-</span>model属性相对应 <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> model属性绑定了一个名为 queryParams 的表单数据对象（其中 queryParams 数据已存于date），对象中有<span class="token number">2</span>个属性，分别是 deptName 、 status 。
      这<span class="token number">2</span>个属性与表单中的<span class="token number">2</span>个表单元素的v<span class="token operator">-</span>model属性相对应。
      这样，当用户在表单中输入数据时，数据就会被自动绑定到model对象的属性中，从而方便表单的提交等操作。 
      需要注意的是，model对象的属性名需要与表单中各个表单元素的v<span class="token operator">-</span>model属性相对应，并且属性名需要与后端接口所需的参数名相对应，以方便表单数据的提交。
      同时，如果表单中有一些需要进行特殊处理的数据，例如需要进行格式化或计算的数据，可以在提交表单前先对这些数据进行处理后再赋值给model对象的属性。 <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> model<span class="token operator">=</span><span class="token string">"queryParams"</span>      表单数据对象<span class="token punctuation">.</span>双向数据绑定，表单命名为 queryParams <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> ref<span class="token operator">=</span><span class="token string">"queryForm"</span> ， Vue 为简化DOM获取方法提出了ref 属性和$refs 对象。一般的操作流程是<span class="token operator">:</span>ref 绑定控件，$refs 获取控件。 <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> size <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token operator">:</span><span class="token keyword">inline</span><span class="token operator">=</span><span class="token string">"true"</span>  可以让表单域变为行内的表单域。即让该表单不换行，直到挤满该页面，才会换行 <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> v<span class="token operator">-</span>show指令是根据条件显示DOM元素的指令，可以用来动态控制DOM元素的显示和隐藏。v<span class="token operator">-</span>show后面跟的是判断条件，不管初始条件是什么，元素总是会被渲染。 <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 在 Form 组件中，每一个表单域由一个 Form<span class="token operator">-</span>Item 组件构成，表单域中可以放置各种类型的表单控件，包括 Input、Select、Checkbox、Radio、Switch、DatePicker、TimePicker <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> label  标签名 <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> prop 属性必须与 el<span class="token operator">-</span>input 中需要校验的表单属性一致<span class="token punctuation">,</span>即以第一个input控件为例， el<span class="token operator">-</span>form<span class="token operator">-</span>item 中 prop 属性必须与 el<span class="token operator">-</span>input 中 v<span class="token operator">-</span>model 的属性保持一致 <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">"queryParams.deptName"</span>     当前控件绑定的是表单数据对象（ queryParams ）中的（ deptName ） <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> placeholder  文本提示 <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> clearable  可以清除控件选择内容 <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> @keyup<span class="token punctuation">.</span>enter<span class="token punctuation">.</span>native<span class="token operator">=</span><span class="token string">"handleQuery"</span>   <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>el<span class="token operator">-</span>form <span class="token operator">:</span>model<span class="token operator">=</span><span class="token string">"queryParams"</span> ref<span class="token operator">=</span><span class="token string">"queryForm"</span> size<span class="token operator">=</span><span class="token string">"small"</span> <span class="token operator">:</span><span class="token keyword">inline</span><span class="token operator">=</span><span class="token string">"true"</span> v<span class="token operator">-</span>show<span class="token operator">=</span><span class="token string">"showSearch"</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item label<span class="token operator">=</span><span class="token string">"部门名称"</span> prop<span class="token operator">=</span><span class="token string">"deptName"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>input
          v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">"queryParams.deptName"</span>
          placeholder<span class="token operator">=</span><span class="token string">"请输入部门名称"</span>
          clearable
          @keyup<span class="token punctuation">.</span>enter<span class="token punctuation">.</span>native<span class="token operator">=</span><span class="token string">"handleQuery"</span>
        <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item<span class="token operator">&gt;</span>

      <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> v<span class="token operator">-</span><span class="token keyword">for</span> 是 vue 的循环指令，作用是遍历数组（对象）的每一个值 <span class="token operator">--</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> dict<span class="token punctuation">.</span>type<span class="token punctuation">.</span>sys_normal_disable ，字典类型（ sys_normal_disable ），该字典包含“正常，停止”两种状态 <span class="token operator">--</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token operator">:</span>key <span class="token punctuation">,</span>相当于身份令牌，唯一的，防止出错，虽然没有也行，但是官网推荐还是加上为好。
        key是为了给 Vue 一个提示，以便它能跟踪每个节点的身份，从而重用和重新排序现有元素，你需要为每项提供一个唯一 key 属性<span class="token punctuation">;</span> 
        个人理解<span class="token operator">:</span>key对应<span class="token string">"字典管理"</span><span class="token operator">-</span><span class="token string">"字典类型"</span><span class="token punctuation">(</span>字典数据<span class="token punctuation">)</span>中的字典编码<span class="token punctuation">.</span>
        <span class="token operator">:</span>label<span class="token punctuation">,</span>字典标签<span class="token punctuation">,</span><span class="token operator">:</span>value<span class="token punctuation">,</span>字典对应的值传给 v<span class="token operator">-</span>model 绑定的值<span class="token punctuation">(</span> queryParams<span class="token punctuation">.</span>status <span class="token punctuation">)</span><span class="token operator">--</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item label<span class="token operator">=</span><span class="token string">"状态"</span> prop<span class="token operator">=</span><span class="token string">"status"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>select v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">"queryParams.status"</span> placeholder<span class="token operator">=</span><span class="token string">"部门状态"</span> clearable<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>el<span class="token operator">-</span>option
            v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">"dict in dict.type.sys_normal_disable"</span>
            <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">"dict.value"</span>
            <span class="token operator">:</span>label<span class="token operator">=</span><span class="token string">"dict.label"</span>
            <span class="token operator">:</span>value<span class="token operator">=</span><span class="token string">"dict.value"</span>
          <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>select<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item<span class="token operator">&gt;</span>

      <span class="token operator">&lt;</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>button type<span class="token operator">=</span><span class="token string">"primary"</span> icon<span class="token operator">=</span><span class="token string">"el-icon-search"</span> size<span class="token operator">=</span><span class="token string">"mini"</span> @click<span class="token operator">=</span><span class="token string">"handleQuery"</span><span class="token operator">&gt;</span>搜索<span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>button icon<span class="token operator">=</span><span class="token string">"el-icon-refresh"</span> size<span class="token operator">=</span><span class="token string">"mini"</span> @click<span class="token operator">=</span><span class="token string">"resetQuery"</span><span class="token operator">&gt;</span>重置<span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>form<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token number">2024.05</span><span class="token number">.22</span> 注释<span class="token operator">:</span>按钮功能区 <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> v<span class="token operator">-</span>hasPermi <span class="token operator">:</span> 权限控制<span class="token punctuation">,</span>下述意为支持增加<span class="token punctuation">,</span>对应后端 @<span class="token function">PreAuthorize</span><span class="token punctuation">(</span><span class="token string">"@ss.hasPermi('system:dept:add')"</span><span class="token punctuation">)</span>  <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token operator">&lt;</span>el<span class="token operator">-</span>row<span class="token operator">&gt;</span>标签的<span class="token operator">:</span>gutter属性，注意默认间隔为<span class="token number">0</span>。 <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>el<span class="token operator">-</span>row <span class="token operator">:</span>gutter<span class="token operator">=</span><span class="token string">"10"</span> class<span class="token operator">=</span><span class="token string">"mb8"</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>el<span class="token operator">-</span>col <span class="token operator">:</span>span<span class="token operator">=</span><span class="token string">"1.5"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>button
          type<span class="token operator">=</span><span class="token string">"primary"</span>
          plain
          icon<span class="token operator">=</span><span class="token string">"el-icon-plus"</span>
          size<span class="token operator">=</span><span class="token string">"mini"</span>
          @click<span class="token operator">=</span><span class="token string">"handleAdd"</span>
          v<span class="token operator">-</span>hasPermi<span class="token operator">=</span><span class="token string">"['system:dept:add']"</span>
        <span class="token operator">&gt;</span>新增<span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>col<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>el<span class="token operator">-</span>col <span class="token operator">:</span>span<span class="token operator">=</span><span class="token string">"1.5"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>button
          type<span class="token operator">=</span><span class="token string">"info"</span>
          plain
          icon<span class="token operator">=</span><span class="token string">"el-icon-sort"</span>
          size<span class="token operator">=</span><span class="token string">"mini"</span>
          @click<span class="token operator">=</span><span class="token string">"toggleExpandAll"</span>
        <span class="token operator">&gt;</span>展开<span class="token operator">/</span>折叠<span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>col<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>right<span class="token operator">-</span>toolbar <span class="token operator">:</span>showSearch<span class="token punctuation">.</span>sync<span class="token operator">=</span><span class="token string">"showSearch"</span> @queryTable<span class="token operator">=</span><span class="token string">"getList"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>right<span class="token operator">-</span>toolbar<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>row<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token number">2024.05</span><span class="token number">.22</span> 注释<span class="token operator">:</span>表格表头 <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 使用 v<span class="token operator">-</span>loading 在接口未请求到数据之前，显示加载中，直到请求到数据后消失。 <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> row<span class="token operator">-</span>key为父级数据的标识id <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token keyword">default</span><span class="token operator">-</span>expand<span class="token operator">-</span>all这个属性只在列表第一次加载时生效 无法动态绑定 <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 分别通过<span class="token keyword">default</span><span class="token operator">-</span>expanded<span class="token operator">-</span>keys和<span class="token keyword">default</span><span class="token operator">-</span>checked<span class="token operator">-</span>keys设置默认展开和默认选中的节点 <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token operator">:</span><span class="token keyword">default</span><span class="token operator">-</span>expand<span class="token operator">-</span>all<span class="token operator">=</span><span class="token string">"iscloseall"</span> <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token operator">:</span><span class="token keyword">default</span><span class="token operator">-</span>expand<span class="token operator">-</span>all<span class="token operator">=</span><span class="token string">"isExpandAll"</span> <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token operator">:</span>header<span class="token operator">-</span>cell<span class="token operator">-</span>style 表头样式设置 <span class="token punctuation">,</span>也可以结合回调方法进行设置<span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token operator">:</span>cell<span class="token operator">-</span>style 单元格样式设置 <span class="token punctuation">,</span>也可以结合回调方法进行设置<span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> parseTime <span class="token operator">:</span> 使用parseTime 格式化时间 <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 在 vue 中父组件通过 slot 传入子组件时，父组件中的 slot 里的内容只能访问父组件作用域里的数据（父级模板里的所有内容都是在父级作用域中编译的；
      子模板里的所有内容都是在子作用域中编译的），但是此时如果我们又想访问子组件中的数据怎么办呢？这就要用到 slot<span class="token operator">-</span>scope 这个家伙了。
      element<span class="token operator">-</span>ui 中的 table 组件，在渲染表格行时我们经常需要用到 slot<span class="token operator">-</span>scope 来获取当前行的数据， <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 通过 <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span> 去解构数据 <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token string">"创建时间"</span>处使用slot就是为了格式化时间再输出显示<span class="token punctuation">,</span>span就是显示 <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>el<span class="token operator">-</span>table
      v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">"refreshTable"</span>
      v<span class="token operator">-</span>loading<span class="token operator">=</span><span class="token string">"loading"</span>
      <span class="token operator">:</span>data<span class="token operator">=</span><span class="token string">"deptList"</span>
      row<span class="token operator">-</span>key<span class="token operator">=</span><span class="token string">"deptId"</span>
      <span class="token operator">:</span><span class="token keyword">default</span><span class="token operator">-</span>expand<span class="token operator">-</span>all<span class="token operator">=</span><span class="token string">"isExpandAll"</span>
      <span class="token operator">:</span>header<span class="token operator">-</span>cell<span class="token operator">-</span>style<span class="token operator">=</span><span class="token string">"{color:'#fff',background:'#333'}"</span>
      <span class="token operator">:</span>cell<span class="token operator">-</span>style<span class="token operator">=</span><span class="token string">"{color:'#000',background:'#FFF'}"</span>
      <span class="token operator">:</span>tree<span class="token operator">-</span>props<span class="token operator">=</span><span class="token string">"{children: 'children', hasChildren: 'hasChildren'}"</span>
    <span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column prop<span class="token operator">=</span><span class="token string">"deptName"</span> label<span class="token operator">=</span><span class="token string">"部门名称"</span> width<span class="token operator">=</span><span class="token string">"260"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column prop<span class="token operator">=</span><span class="token string">"orderNum"</span> label<span class="token operator">=</span><span class="token string">"排序"</span> width<span class="token operator">=</span><span class="token string">"200"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column prop<span class="token operator">=</span><span class="token string">"status"</span> label<span class="token operator">=</span><span class="token string">"状态"</span> width<span class="token operator">=</span><span class="token string">"100"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>template slot<span class="token operator">-</span>scope<span class="token operator">=</span><span class="token string">"scope"</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>dict<span class="token operator">-</span>tag <span class="token operator">:</span>options<span class="token operator">=</span><span class="token string">"dict.type.sys_normal_disable"</span> <span class="token operator">:</span>value<span class="token operator">=</span><span class="token string">"scope.row.status"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column label<span class="token operator">=</span><span class="token string">"创建时间"</span> align<span class="token operator">=</span><span class="token string">"center"</span> prop<span class="token operator">=</span><span class="token string">"createTime"</span> width<span class="token operator">=</span><span class="token string">"200"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>template slot<span class="token operator">-</span>scope<span class="token operator">=</span><span class="token string">"scope"</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>span<span class="token operator">&gt;</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span> <span class="token function">parseTime</span><span class="token punctuation">(</span>scope<span class="token punctuation">.</span>row<span class="token punctuation">.</span>createTime<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column label<span class="token operator">=</span><span class="token string">"操作"</span> align<span class="token operator">=</span><span class="token string">"center"</span> class<span class="token operator">-</span>name<span class="token operator">=</span><span class="token string">"small-padding fixed-width"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>template slot<span class="token operator">-</span>scope<span class="token operator">=</span><span class="token string">"scope"</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>el<span class="token operator">-</span>button
            size<span class="token operator">=</span><span class="token string">"mini"</span>
            type<span class="token operator">=</span><span class="token string">"text"</span>
            icon<span class="token operator">=</span><span class="token string">"el-icon-edit"</span>
            @click<span class="token operator">=</span><span class="token string">"handleUpdate(scope.row)"</span>
            v<span class="token operator">-</span>hasPermi<span class="token operator">=</span><span class="token string">"['system:dept:edit']"</span>
          <span class="token operator">&gt;</span>修改<span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>el<span class="token operator">-</span>button
            size<span class="token operator">=</span><span class="token string">"mini"</span>
            type<span class="token operator">=</span><span class="token string">"text"</span>
            icon<span class="token operator">=</span><span class="token string">"el-icon-plus"</span>
            @click<span class="token operator">=</span><span class="token string">"handleAdd(scope.row)"</span>
            v<span class="token operator">-</span>hasPermi<span class="token operator">=</span><span class="token string">"['system:dept:add']"</span>
          <span class="token operator">&gt;</span>新增<span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>el<span class="token operator">-</span>button
            v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">"scope.row.parentId != 0"</span>
            size<span class="token operator">=</span><span class="token string">"mini"</span>
            type<span class="token operator">=</span><span class="token string">"text"</span>
            icon<span class="token operator">=</span><span class="token string">"el-icon-delete"</span>
            @click<span class="token operator">=</span><span class="token string">"handleDelete(scope.row)"</span>
            v<span class="token operator">-</span>hasPermi<span class="token operator">=</span><span class="token string">"['system:dept:remove']"</span>
          <span class="token operator">&gt;</span>删除<span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>table<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 添加或修改部门对话框 <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token operator">:</span>visible指的是属性绑定，表示弹框的显示隐藏，当<span class="token operator">:</span>visible的值为ture的时候，弹框显示，当为false的时候，弹框隐藏
      后面的<span class="token punctuation">.</span>sync是什么意思呢，指的就是同步动态双向的来表示visible的值，
      当我们关闭窗口的时候，这个弹框隐藏了，visible的值发生了变化，但是关闭窗口这个动作，我们没法用确定的动作去判断这个值，所以用到了vue中的双向绑定的原则，
      在vue中统一加上了<span class="token punctuation">.</span>sync来表示同步的修改了visible的值。 <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 在 Vue 项目中使用 Element UI 框架，el<span class="token operator">-</span>dialog 组件中的 <span class="token operator">:</span>append<span class="token operator">-</span>to<span class="token operator">-</span>body<span class="token operator">=</span><span class="token string">"true"</span> 属性仍然表示将对话框插入到文档的 <span class="token operator">&lt;</span>body<span class="token operator">&gt;</span> 元素中。 <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> ref<span class="token operator">=</span><span class="token string">"form"</span><span class="token operator">:</span>绑定的表单对象为form <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token operator">:</span>model<span class="token operator">=</span><span class="token string">"form"</span><span class="token operator">:</span>绑定的数据对象为form <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token operator">:</span>rules<span class="token operator">=</span><span class="token string">"rules"</span><span class="token operator">:</span>表单验证 <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> element的布局方式与bootstrap原理是一样的，将网页划分成若干行，然后每行等分为若干列，基于这样的方式进行布局，形象的成为栅栏布局。
      区别是element可将每行划分为<span class="token number">24</span>个分栏，而bootstrap是划分为<span class="token number">12</span>个分栏，从使用角度，还是<span class="token number">24</span>个分栏更加精细。 <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 首先每行使用<span class="token operator">&lt;</span>el<span class="token operator">-</span>row<span class="token operator">&gt;</span>标签标识，然后每行内的列使用<span class="token operator">&lt;</span>el<span class="token operator">-</span>col<span class="token operator">&gt;</span>标识，至于每列整行的宽度比例，则使用<span class="token operator">:</span>span属性进行设置。 <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>el<span class="token operator">-</span>dialog <span class="token operator">:</span>title<span class="token operator">=</span><span class="token string">"title"</span> <span class="token operator">:</span>visible<span class="token punctuation">.</span>sync<span class="token operator">=</span><span class="token string">"open"</span> width<span class="token operator">=</span><span class="token string">"600px"</span> append<span class="token operator">-</span>to<span class="token operator">-</span>body<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>el<span class="token operator">-</span>form ref<span class="token operator">=</span><span class="token string">"form"</span> <span class="token operator">:</span>model<span class="token operator">=</span><span class="token string">"form"</span> <span class="token operator">:</span>rules<span class="token operator">=</span><span class="token string">"rules"</span> label<span class="token operator">-</span>width<span class="token operator">=</span><span class="token string">"80px"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>row<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>el<span class="token operator">-</span>col <span class="token operator">:</span>span<span class="token operator">=</span><span class="token string">"24"</span> v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">"form.parentId !== 0"</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item label<span class="token operator">=</span><span class="token string">"上级部门"</span> prop<span class="token operator">=</span><span class="token string">"parentId"</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>treeselect v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">"form.parentId"</span> <span class="token operator">:</span>options<span class="token operator">=</span><span class="token string">"deptOptions"</span> <span class="token operator">:</span>normalizer<span class="token operator">=</span><span class="token string">"normalizer"</span> placeholder<span class="token operator">=</span><span class="token string">"选择上级部门"</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>col<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>row<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>row<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>el<span class="token operator">-</span>col <span class="token operator">:</span>span<span class="token operator">=</span><span class="token string">"12"</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item label<span class="token operator">=</span><span class="token string">"部门名称"</span> prop<span class="token operator">=</span><span class="token string">"deptName"</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>el<span class="token operator">-</span>input v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">"form.deptName"</span> placeholder<span class="token operator">=</span><span class="token string">"请输入部门名称"</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>col<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>el<span class="token operator">-</span>col <span class="token operator">:</span>span<span class="token operator">=</span><span class="token string">"12"</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item label<span class="token operator">=</span><span class="token string">"显示排序"</span> prop<span class="token operator">=</span><span class="token string">"orderNum"</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>el<span class="token operator">-</span>input<span class="token operator">-</span>number v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">"form.orderNum"</span> controls<span class="token operator">-</span>position<span class="token operator">=</span><span class="token string">"right"</span> <span class="token operator">:</span>min<span class="token operator">=</span><span class="token string">"0"</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>col<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>row<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>row<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>el<span class="token operator">-</span>col <span class="token operator">:</span>span<span class="token operator">=</span><span class="token string">"12"</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item label<span class="token operator">=</span><span class="token string">"负责人"</span> prop<span class="token operator">=</span><span class="token string">"leader"</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>el<span class="token operator">-</span>input v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">"form.leader"</span> placeholder<span class="token operator">=</span><span class="token string">"请输入负责人"</span> maxlength<span class="token operator">=</span><span class="token string">"20"</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>col<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>el<span class="token operator">-</span>col <span class="token operator">:</span>span<span class="token operator">=</span><span class="token string">"12"</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item label<span class="token operator">=</span><span class="token string">"联系电话"</span> prop<span class="token operator">=</span><span class="token string">"phone"</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>el<span class="token operator">-</span>input v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">"form.phone"</span> placeholder<span class="token operator">=</span><span class="token string">"请输入联系电话"</span> maxlength<span class="token operator">=</span><span class="token string">"11"</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>col<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>row<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>row<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>el<span class="token operator">-</span>col <span class="token operator">:</span>span<span class="token operator">=</span><span class="token string">"12"</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item label<span class="token operator">=</span><span class="token string">"邮箱"</span> prop<span class="token operator">=</span><span class="token string">"email"</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>el<span class="token operator">-</span>input v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">"form.email"</span> placeholder<span class="token operator">=</span><span class="token string">"请输入邮箱"</span> maxlength<span class="token operator">=</span><span class="token string">"50"</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>col<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>el<span class="token operator">-</span>col <span class="token operator">:</span>span<span class="token operator">=</span><span class="token string">"12"</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item label<span class="token operator">=</span><span class="token string">"部门状态"</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>el<span class="token operator">-</span>radio<span class="token operator">-</span>group v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">"form.status"</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>el<span class="token operator">-</span>radio
                  v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">"dict in dict.type.sys_normal_disable"</span>
                  <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">"dict.value"</span>
                  <span class="token operator">:</span>label<span class="token operator">=</span><span class="token string">"dict.value"</span>
                <span class="token operator">&gt;</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span>dict<span class="token punctuation">.</span>label<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>radio<span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>radio<span class="token operator">-</span>group<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>col<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>row<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>form<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>div slot<span class="token operator">=</span><span class="token string">"footer"</span> class<span class="token operator">=</span><span class="token string">"dialog-footer"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>button type<span class="token operator">=</span><span class="token string">"primary"</span> @click<span class="token operator">=</span><span class="token string">"submitForm"</span><span class="token operator">&gt;</span>确 定<span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>button @click<span class="token operator">=</span><span class="token string">"cancel"</span><span class="token operator">&gt;</span>取 消<span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>dialog<span class="token operator">&gt;</span>

  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
import <span class="token punctuation">{<!-- --></span> listDept<span class="token punctuation">,</span> getDept<span class="token punctuation">,</span> delDept<span class="token punctuation">,</span> addDept<span class="token punctuation">,</span> updateDept<span class="token punctuation">,</span> listDeptExcludeChild <span class="token punctuation">}</span> from <span class="token string">"@/api/system/dept"</span><span class="token punctuation">;</span>

<span class="token comment">// 2024.05.31 注释：引入注册</span>
<span class="token comment">// @riophae/vue-treeselect 是一个基于 Vue.js 的树形选择器组件，可以用于选择树形结构的数据</span>
import Treeselect from <span class="token string">"@riophae/vue-treeselect"</span><span class="token punctuation">;</span>
import <span class="token string">"@riophae/vue-treeselect/dist/vue-treeselect.css"</span><span class="token punctuation">;</span>

<span class="token comment">// 2024.05.31 注释</span>
<span class="token comment">// export主要用于对外输出本模块变量的接口，一个文件就可以被理解为一个模块。export就是导出。</span>
<span class="token comment">// import就是在一个模块中加载另一个含有export接口的模块， import就是导入。</span>
<span class="token comment">// export default和export都能导出一个模块里面的常量，函数，文件，模块等，在其它文件或模块中通过import来导入常量，函数，文件或模块。</span>
<span class="token comment">// 在一个文件或模块中，export,import可以有多个，export default却只能有一个。</span>
<span class="token comment">// 通过export方式导出，在导入的时候需要加{}大括号，export default 就不需要{}.</span>
export <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
  name<span class="token operator">:</span> <span class="token string">"Dept"</span><span class="token punctuation">,</span>
  <span class="token comment">// 字典：sys_normal_disable，包括：“正常，停用”两种状态</span>
  dicts<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token char">'sys_normal_disable'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment">// 组件：下拉树</span>
  components<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> Treeselect <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">// data 必须声明为返回一个初始数据对象的函数，因为组件可能被用来创建多个实例。</span>
  <span class="token comment">// 如果 data 仍然是一个纯粹的对象，则所有的实例将共享引用同一个数据对象！ </span>
  <span class="token comment">// 通过提供 data 函数，每次创建一个新实例后，我们能够调用 data函数，从而返回初始数据的一个全新副本数据对象。</span>
  <span class="token comment">// 简言之,组件复用下,不会造成数据同时指向一处,造出牵一发而动全身的问题。</span>
  <span class="token comment">// 不使用return包裹的数据会在项目的全局可见，会造成变量污染；</span>
  <span class="token comment">// 使用return包裹后数据中变量只在当前组件中生效，不会影响其他组件。</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
      <span class="token comment">// 遮罩层，遮罩层（Mask）是放置在特定区域上面的一个半透明层，用于阻止用户与该区域的交互，并突出显示上层的内容。遮罩层可以覆盖整个页面，或者只覆盖指定的区域。</span>
      loading<span class="token operator">:</span> true<span class="token punctuation">,</span>
      <span class="token comment">// 显示搜索条件</span>
      showSearch<span class="token operator">:</span> true<span class="token punctuation">,</span>
      <span class="token comment">// 表格树数据</span>
      deptList<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token comment">// 部门树选项</span>
      deptOptions<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token comment">// 弹出层标题</span>
      title<span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
      <span class="token comment">// 是否显示弹出层</span>
      open<span class="token operator">:</span> false<span class="token punctuation">,</span>
      <span class="token comment">// 是否展开，默认全部展开</span>
      isExpandAll<span class="token operator">:</span> true<span class="token punctuation">,</span>
      <span class="token comment">// 重新渲染表格状态</span>
      refreshTable<span class="token operator">:</span> true<span class="token punctuation">,</span>
      <span class="token comment">// 查询参数</span>
      queryParams<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        deptName<span class="token operator">:</span> undefined<span class="token punctuation">,</span>
        status<span class="token operator">:</span> undefined
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// 表单参数</span>
      form<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// 表单校验</span>
      rules<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        parentId<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{<!-- --></span> required<span class="token operator">:</span> true<span class="token punctuation">,</span> message<span class="token operator">:</span> <span class="token string">"上级部门不能为空"</span><span class="token punctuation">,</span> trigger<span class="token operator">:</span> <span class="token string">"blur"</span> <span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        deptName<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{<!-- --></span> required<span class="token operator">:</span> true<span class="token punctuation">,</span> message<span class="token operator">:</span> <span class="token string">"部门名称不能为空"</span><span class="token punctuation">,</span> trigger<span class="token operator">:</span> <span class="token string">"blur"</span> <span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        orderNum<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{<!-- --></span> required<span class="token operator">:</span> true<span class="token punctuation">,</span> message<span class="token operator">:</span> <span class="token string">"显示排序不能为空"</span><span class="token punctuation">,</span> trigger<span class="token operator">:</span> <span class="token string">"blur"</span> <span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        email<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{<!-- --></span>
            type<span class="token operator">:</span> <span class="token string">"email"</span><span class="token punctuation">,</span>
            message<span class="token operator">:</span> <span class="token string">"请输入正确的邮箱地址"</span><span class="token punctuation">,</span>
            trigger<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"blur"</span><span class="token punctuation">,</span> <span class="token string">"change"</span><span class="token punctuation">]</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        phone<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{<!-- --></span>
            pattern<span class="token operator">:</span> <span class="token operator">/</span><span class="token operator">^</span><span class="token number">1</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token operator">|</span><span class="token number">4</span><span class="token operator">|</span><span class="token number">5</span><span class="token operator">|</span><span class="token number">6</span><span class="token operator">|</span><span class="token number">7</span><span class="token operator">|</span><span class="token number">8</span><span class="token operator">|</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token operator">-</span><span class="token number">9</span><span class="token punctuation">]</span>\d<span class="token punctuation">{<!-- --></span><span class="token number">8</span><span class="token punctuation">}</span>$<span class="token operator">/</span><span class="token punctuation">,</span>
            message<span class="token operator">:</span> <span class="token string">"请输入正确的手机号码"</span><span class="token punctuation">,</span>
            trigger<span class="token operator">:</span> <span class="token string">"blur"</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    this<span class="token punctuation">.</span><span class="token function">getList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">/** 查询部门列表 */</span>
    <span class="token function">getList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      this<span class="token punctuation">.</span>loading <span class="token operator">=</span> true<span class="token punctuation">;</span>
      <span class="token function">listDept</span><span class="token punctuation">(</span>this<span class="token punctuation">.</span>queryParams<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>response <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{<!-- --></span>
        this<span class="token punctuation">.</span>deptList <span class="token operator">=</span> this<span class="token punctuation">.</span><span class="token function">handleTree</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>data<span class="token punctuation">,</span> <span class="token string">"deptId"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        this<span class="token punctuation">.</span>loading <span class="token operator">=</span> false<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">/** 转换部门数据结构 */</span>
    <span class="token function">normalizer</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">.</span>children <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>node<span class="token punctuation">.</span>children<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        delete node<span class="token punctuation">.</span>children<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
        id<span class="token operator">:</span> node<span class="token punctuation">.</span>deptId<span class="token punctuation">,</span>
        label<span class="token operator">:</span> node<span class="token punctuation">.</span>deptName<span class="token punctuation">,</span>
        children<span class="token operator">:</span> node<span class="token punctuation">.</span>children
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 取消按钮</span>
    <span class="token function">cancel</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      this<span class="token punctuation">.</span>open <span class="token operator">=</span> false<span class="token punctuation">;</span>
      this<span class="token punctuation">.</span><span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 表单重置</span>
    <span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      this<span class="token punctuation">.</span>form <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
        deptId<span class="token operator">:</span> undefined<span class="token punctuation">,</span>
        parentId<span class="token operator">:</span> undefined<span class="token punctuation">,</span>
        deptName<span class="token operator">:</span> undefined<span class="token punctuation">,</span>
        orderNum<span class="token operator">:</span> undefined<span class="token punctuation">,</span>
        leader<span class="token operator">:</span> undefined<span class="token punctuation">,</span>
        phone<span class="token operator">:</span> undefined<span class="token punctuation">,</span>
        email<span class="token operator">:</span> undefined<span class="token punctuation">,</span>
        status<span class="token operator">:</span> <span class="token string">"0"</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
      this<span class="token punctuation">.</span><span class="token function">resetForm</span><span class="token punctuation">(</span><span class="token string">"form"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">/** 搜索按钮操作 */</span>
    <span class="token function">handleQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      this<span class="token punctuation">.</span><span class="token function">getList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">/** 重置按钮操作 */</span>
    <span class="token function">resetQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      this<span class="token punctuation">.</span><span class="token function">resetForm</span><span class="token punctuation">(</span><span class="token string">"queryForm"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      this<span class="token punctuation">.</span><span class="token function">handleQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">/** 新增按钮操作 */</span>
    <span class="token function">handleAdd</span><span class="token punctuation">(</span>row<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      this<span class="token punctuation">.</span><span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>row <span class="token operator">!=</span> undefined<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        this<span class="token punctuation">.</span>form<span class="token punctuation">.</span>parentId <span class="token operator">=</span> row<span class="token punctuation">.</span>deptId<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      this<span class="token punctuation">.</span>open <span class="token operator">=</span> true<span class="token punctuation">;</span>
      this<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token string">"添加部门"</span><span class="token punctuation">;</span>
      <span class="token function">listDept</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>response <span class="token operator">=</span><span class="token operator">&gt;</span> 
      <span class="token punctuation">{<!-- --></span>
        this<span class="token punctuation">.</span>deptOptions <span class="token operator">=</span> this<span class="token punctuation">.</span><span class="token function">handleTree</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>data<span class="token punctuation">,</span> <span class="token string">"deptId"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">/** 展开/折叠操作 */</span>
    <span class="token function">toggleExpandAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      this<span class="token punctuation">.</span>refreshTable <span class="token operator">=</span> false<span class="token punctuation">;</span>
      this<span class="token punctuation">.</span>isExpandAll <span class="token operator">=</span> <span class="token operator">!</span>this<span class="token punctuation">.</span>isExpandAll<span class="token punctuation">;</span>
      this<span class="token punctuation">.</span>$<span class="token function">nextTick</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{<!-- --></span>
        this<span class="token punctuation">.</span>refreshTable <span class="token operator">=</span> true<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">/** 修改按钮操作 */</span>
    <span class="token function">handleUpdate</span><span class="token punctuation">(</span>row<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      this<span class="token punctuation">.</span><span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">getDept</span><span class="token punctuation">(</span>row<span class="token punctuation">.</span>deptId<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>response <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{<!-- --></span>
        this<span class="token punctuation">.</span>form <span class="token operator">=</span> response<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
        this<span class="token punctuation">.</span>open <span class="token operator">=</span> true<span class="token punctuation">;</span>
        this<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token string">"修改部门"</span><span class="token punctuation">;</span>
        <span class="token function">listDeptExcludeChild</span><span class="token punctuation">(</span>row<span class="token punctuation">.</span>deptId<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>response <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{<!-- --></span>
          this<span class="token punctuation">.</span>deptOptions <span class="token operator">=</span> this<span class="token punctuation">.</span><span class="token function">handleTree</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>data<span class="token punctuation">,</span> <span class="token string">"deptId"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>this<span class="token punctuation">.</span>deptOptions<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">const</span> noResultsOptions <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> deptId<span class="token operator">:</span> this<span class="token punctuation">.</span>form<span class="token punctuation">.</span>parentId<span class="token punctuation">,</span> deptName<span class="token operator">:</span> this<span class="token punctuation">.</span>form<span class="token punctuation">.</span>parentName<span class="token punctuation">,</span> children<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
            this<span class="token punctuation">.</span>deptOptions<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>noResultsOptions<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">/** 提交按钮 */</span>
    submitForm<span class="token operator">:</span> <span class="token function">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      this<span class="token punctuation">.</span>$refs<span class="token punctuation">[</span><span class="token string">"form"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span>valid <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>valid<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>this<span class="token punctuation">.</span>form<span class="token punctuation">.</span>deptId <span class="token operator">!=</span> undefined<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">updateDept</span><span class="token punctuation">(</span>this<span class="token punctuation">.</span>form<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>response <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{<!-- --></span>
              this<span class="token punctuation">.</span>$modal<span class="token punctuation">.</span><span class="token function">msgSuccess</span><span class="token punctuation">(</span><span class="token string">"修改成功"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              this<span class="token punctuation">.</span>open <span class="token operator">=</span> false<span class="token punctuation">;</span>
              this<span class="token punctuation">.</span><span class="token function">getList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">addDept</span><span class="token punctuation">(</span>this<span class="token punctuation">.</span>form<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>response <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{<!-- --></span>
              this<span class="token punctuation">.</span>$modal<span class="token punctuation">.</span><span class="token function">msgSuccess</span><span class="token punctuation">(</span><span class="token string">"新增成功"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              this<span class="token punctuation">.</span>open <span class="token operator">=</span> false<span class="token punctuation">;</span>
              this<span class="token punctuation">.</span><span class="token function">getList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">/** 删除按钮操作 */</span>
    <span class="token function">handleDelete</span><span class="token punctuation">(</span>row<span class="token punctuation">)</span> 
    <span class="token punctuation">{<!-- --></span>
      <span class="token comment">// 2024.05.31 this.$modal.confirm() 就是一个信息提示框</span>
      this<span class="token punctuation">.</span>$modal<span class="token punctuation">.</span><span class="token function">confirm</span><span class="token punctuation">(</span><span class="token char">'是否确认删除名称为"'</span> <span class="token operator">+</span> row<span class="token punctuation">.</span>deptName <span class="token operator">+</span> <span class="token char">'"的数据项？'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token function">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token function">delDept</span><span class="token punctuation">(</span>row<span class="token punctuation">.</span>deptId<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{<!-- --></span>
        this<span class="token punctuation">.</span><span class="token function">getList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        this<span class="token punctuation">.</span>$modal<span class="token punctuation">.</span><span class="token function">msgSuccess</span><span class="token punctuation">(</span><span class="token string">"删除成功"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

</code></pre> 
<h4><a id="111__487"></a>1.1.1 控件</h4> 
<p>el-input：编辑框</p> 
<p>el-select：下拉框</p> 
<p>el-button：按钮</p> 
<h4><a id="112__494"></a>1.1.2 参数</h4> 
<pre><code class="prism language-c">      <span class="token operator">&lt;</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item label<span class="token operator">=</span><span class="token string">"部门名称"</span> prop<span class="token operator">=</span><span class="token string">"deptName"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>input
          v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">"queryParams.deptName"</span>
          placeholder<span class="token operator">=</span><span class="token string">"请输入部门名称"</span>
          clearable
          @keyup<span class="token punctuation">.</span>enter<span class="token punctuation">.</span>native<span class="token operator">=</span><span class="token string">"handleQuery"</span>
        <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item<span class="token operator">&gt;</span>
</code></pre> 
<p>// 传入的参数<br> v-model=“queryParams.deptName”</p> 
<p>// 提示文本<br> placeholder</p> 
<p>// 可以将选择的内容进行清除<br> clearable</p> 
<p>// 相关联的函数名<br> @keyup.enter.native=“handleQuery”</p> 
<p>// 按钮<br> type=“primary” //按钮是蓝色<br> type=“warning” //按钮是橙色<br> type=“danger” //按钮是红色<br> type=“view” //按钮是透明白色<br> type=“success” //按钮是绿色</p> 
<p><img src="https://images2.imgbox.com/a8/2e/4jz61YuJ_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="13_525"></a>1.3</h4> 
<h2><a id="deptjs_526"></a>二、dept.js</h2> 
<h3><a id="1_527"></a>1.代码</h3> 
<p>代码如下（示例）：</p> 
<pre><code class="prism language-c">import request from <span class="token char">'@/utils/request'</span>

<span class="token comment">// 查询部门列表</span>
export function <span class="token function">listDept</span><span class="token punctuation">(</span>query<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">return</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
    url<span class="token operator">:</span> <span class="token char">'/system/dept/list'</span><span class="token punctuation">,</span>
    method<span class="token operator">:</span> <span class="token char">'get'</span><span class="token punctuation">,</span>
    params<span class="token operator">:</span> query
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 查询部门列表（排除节点）</span>
export function <span class="token function">listDeptExcludeChild</span><span class="token punctuation">(</span>deptId<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">return</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
    url<span class="token operator">:</span> <span class="token char">'/system/dept/list/exclude/'</span> <span class="token operator">+</span> deptId<span class="token punctuation">,</span>
    method<span class="token operator">:</span> <span class="token char">'get'</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 查询部门详细</span>
export function <span class="token function">getDept</span><span class="token punctuation">(</span>deptId<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">return</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
    url<span class="token operator">:</span> <span class="token char">'/system/dept/'</span> <span class="token operator">+</span> deptId<span class="token punctuation">,</span>
    method<span class="token operator">:</span> <span class="token char">'get'</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 新增部门</span>
export function <span class="token function">addDept</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">return</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
    url<span class="token operator">:</span> <span class="token char">'/system/dept'</span><span class="token punctuation">,</span>
    method<span class="token operator">:</span> <span class="token char">'post'</span><span class="token punctuation">,</span>
    data<span class="token operator">:</span> data
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 修改部门</span>
export function <span class="token function">updateDept</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">return</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
    url<span class="token operator">:</span> <span class="token char">'/system/dept'</span><span class="token punctuation">,</span>
    method<span class="token operator">:</span> <span class="token char">'put'</span><span class="token punctuation">,</span>
    data<span class="token operator">:</span> data
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 删除部门</span>
export function <span class="token function">delDept</span><span class="token punctuation">(</span>deptId<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">return</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
    url<span class="token operator">:</span> <span class="token char">'/system/dept/'</span> <span class="token operator">+</span> deptId<span class="token punctuation">,</span>
    method<span class="token operator">:</span> <span class="token char">'delete'</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> 
<hr> 
<h3><a id="2_586"></a>2.未完待续</h3> 
<hr> 
<h2><a id="_591"></a>总结</h2>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/62ebbd4f9622f7563b63150b64fd4d7c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">iPhone/Mac 之间跨设备拷贝/粘贴失效解决方案汇总</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/451c47615e6ac3f95be6286d86a25a89/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Python&#43;Selenium自动化测试项目实战</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>