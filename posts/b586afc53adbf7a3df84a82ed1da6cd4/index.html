<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Pythonè·å–å»å“ªå„¿æ—…æ¸¸æ•°æ®å¹¶ä½œå¯è§†åŒ–æ”»ç•¥ - ç¼–ç¨‹å¤§å’–</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/b586afc53adbf7a3df84a82ed1da6cd4/">
  <meta property="og:site_name" content="ç¼–ç¨‹å¤§å’–">
  <meta property="og:title" content="Pythonè·å–å»å“ªå„¿æ—…æ¸¸æ•°æ®å¹¶ä½œå¯è§†åŒ–æ”»ç•¥">
  <meta property="og:description" content="å—¨å–½ï¼Œå¤§å®¶å¥½å‘€~è¿™é‡Œæ˜¯çˆ±çœ‹ç¾å¥³çš„èŒœèŒœå‘ å¼€å‘ç¯å¢ƒï¼š ç‰ˆ æœ¬ï¼š python 3.8
ç¼–è¾‘å™¨ï¼špycharm
ç¬¬ä¸‰æ–¹åº“ï¼š requests &gt;&gt;&gt; pip install requests
parsel &gt;&gt;&gt; pip install parsel
æ¨¡å—å®‰è£…:
æŒ‰ä½é”®ç›˜ win &#43; r, è¾“å…¥cmdå›è½¦ æ‰“å¼€å‘½ä»¤è¡Œçª—å£, åœ¨é‡Œé¢è¾“å…¥ pip install æ¨¡å—å
ğŸ‘‡ ğŸ‘‡ ğŸ‘‡ æ›´å¤šç²¾å½©æœºå¯†ã€æ•™ç¨‹ï¼Œå°½åœ¨ä¸‹æ–¹ï¼Œèµ¶ç´§ç‚¹å‡»äº†è§£å§~ pythonæºç ã€è§†é¢‘æ•™ç¨‹ã€æ’ä»¶å®‰è£…æ•™ç¨‹ã€èµ„æ–™æˆ‘éƒ½å‡†å¤‡å¥½äº†ï¼Œç›´æ¥åœ¨æ–‡æœ«åç‰‡è‡ªå–å°±å¯
éœ€æ±‚åˆ†æ ç¡®å®šéœ€è¦çš„æ•°æ®
æ‰¾æ•°æ®çœŸå®æ¥æº
https://travel.qunar.com/travelbook/list.htm?order=hot_heat
é™æ€æ•°æ®
ä»£ç å®ç°æ­¥éª¤ å‘é€è¯·æ±‚
è·å–æ•°æ®
æå–æ•°æ®
ä¿å­˜æ•°æ®
æ•°æ®è·å– å¯¼å…¥æ¨¡å—
import requests # å‘é€è¯·æ±‚ ä»£ç å½“ä¸­ç”¨æ¥è®¿é—®ç½‘ç«™çš„æ¨¡å— import parsel # è§£ææ•°æ®çš„æ¨¡å— import csv with open(&#39;æ”»ç•¥.csv&#39;, mode=&#39;a&#39;, encoding=&#39;utf-8&#39;, newline=&#39;&#39;) as f: csv_writer = csv.writer(f) csv_writer.writerow([&#39;title&#39;, &#39;date&#39;, &#39;days&#39;, &#39;photo_nums&#39;, &#39;fee&#39;, &#39;people&#39;, &#39;trip&#39;, &#39;view&#39;, &#39;love&#39;, &#39;comment&#39;, &#39;href&#39;]) for page in range(1, 201): url = f&#39;https://travel.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2023-12-16T15:02:54+08:00">
    <meta property="article:modified_time" content="2023-12-16T15:02:54+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ç¼–ç¨‹å¤§å’–" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ç¼–ç¨‹å¤§å’–</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Pythonè·å–å»å“ªå„¿æ—…æ¸¸æ•°æ®å¹¶ä½œå¯è§†åŒ–æ”»ç•¥</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h4><a id="_0"></a>å—¨å–½ï¼Œå¤§å®¶å¥½å‘€~è¿™é‡Œæ˜¯çˆ±çœ‹ç¾å¥³çš„èŒœèŒœå‘</h4> 
<p><img src="https://images2.imgbox.com/61/39/4Vk7veac_o.png" alt="" width="400"></p> 
<h4><a id="_4"></a>å¼€å‘ç¯å¢ƒï¼š</h4> 
<ul><li> <p>ç‰ˆ æœ¬ï¼š python 3.8</p> </li><li> <p>ç¼–è¾‘å™¨ï¼špycharm</p> </li></ul> 
<h4><a id="_10"></a>ç¬¬ä¸‰æ–¹åº“ï¼š</h4> 
<ul><li> <p>requests &gt;&gt;&gt; pip install requests</p> </li><li> <p>parsel &gt;&gt;&gt; pip install parsel</p> </li></ul> 
<p><strong>æ¨¡å—å®‰è£…:</strong></p> 
<p>æŒ‰ä½é”®ç›˜ win + r, è¾“å…¥cmdå›è½¦ æ‰“å¼€å‘½ä»¤è¡Œçª—å£, åœ¨é‡Œé¢è¾“å…¥ pip install æ¨¡å—å</p> 
<hr> 
<h5><a id="____23"></a>ğŸ‘‡ ğŸ‘‡ ğŸ‘‡ æ›´å¤šç²¾å½©æœºå¯†ã€æ•™ç¨‹ï¼Œå°½åœ¨ä¸‹æ–¹ï¼Œèµ¶ç´§ç‚¹å‡»äº†è§£å§~</h5> 
<p><strong><a href="#article_bottom" rel="nofollow">pythonæºç ã€è§†é¢‘æ•™ç¨‹ã€æ’ä»¶å®‰è£…æ•™ç¨‹ã€èµ„æ–™æˆ‘éƒ½å‡†å¤‡å¥½äº†ï¼Œç›´æ¥åœ¨æ–‡æœ«åç‰‡è‡ªå–å°±å¯</a></strong></p> 
<hr> 
<h4><a id="_31"></a>éœ€æ±‚åˆ†æ</h4> 
<p>ç¡®å®šéœ€è¦çš„æ•°æ®</p> 
<p>æ‰¾æ•°æ®çœŸå®æ¥æº</p> 
<p>https://travel.qunar.com/travelbook/list.htm?order=hot_heat</p> 
<p>é™æ€æ•°æ®</p> 
<h4><a id="_41"></a>ä»£ç å®ç°æ­¥éª¤</h4> 
<ol><li> <p>å‘é€è¯·æ±‚</p> </li><li> <p>è·å–æ•°æ®</p> </li><li> <p>æå–æ•°æ®</p> </li><li> <p>ä¿å­˜æ•°æ®</p> </li></ol> 
<h4><a id="_51"></a>æ•°æ®è·å–</h4> 
<p>å¯¼å…¥æ¨¡å—</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> requests     <span class="token comment"># å‘é€è¯·æ±‚ ä»£ç å½“ä¸­ç”¨æ¥è®¿é—®ç½‘ç«™çš„æ¨¡å—</span>
<span class="token keyword">import</span> parsel       <span class="token comment"># è§£ææ•°æ®çš„æ¨¡å—</span>
<span class="token keyword">import</span> csv
</code></pre> 
<pre><code class="prism language-python"><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'æ”»ç•¥.csv'</span><span class="token punctuation">,</span> mode<span class="token operator">=</span><span class="token string">'a'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">,</span> newline<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
    csv_writer <span class="token operator">=</span> csv<span class="token punctuation">.</span>writer<span class="token punctuation">(</span>f<span class="token punctuation">)</span>
    csv_writer<span class="token punctuation">.</span>writerow<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'title'</span><span class="token punctuation">,</span> <span class="token string">'date'</span><span class="token punctuation">,</span> <span class="token string">'days'</span><span class="token punctuation">,</span> <span class="token string">'photo_nums'</span><span class="token punctuation">,</span> <span class="token string">'fee'</span><span class="token punctuation">,</span> <span class="token string">'people'</span><span class="token punctuation">,</span> <span class="token string">'trip'</span><span class="token punctuation">,</span> <span class="token string">'view'</span><span class="token punctuation">,</span> <span class="token string">'love'</span><span class="token punctuation">,</span> <span class="token string">'comment'</span><span class="token punctuation">,</span> <span class="token string">'href'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> page <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">201</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    url <span class="token operator">=</span> <span class="token string-interpolation"><span class="token string">f'https://travel.qunar.com/travelbook/list.htm?page=</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>page<span class="token punctuation">}</span></span><span class="token string">&amp;order=hot_heat'</span></span>
</code></pre> 
<ol><li>å‘é€è¯·æ±‚</li></ol> 
<pre><code class="prism language-python">    response <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token operator">=</span>url<span class="token punctuation">)</span>
</code></pre> 
<ol start="2"><li>è·å–æ•°æ®</li></ol> 
<pre><code class="prism language-python">    html_data <span class="token operator">=</span> response<span class="token punctuation">.</span>text
</code></pre> 
<ol start="3"><li>æå–æ•°æ®</li></ol> 
<pre><code class="prism language-python">    <span class="token comment"># re / css / xpath</span>
    <span class="token comment"># css: ul.b_strategy_list &gt; li</span>
    <span class="token comment"># xpath: //ul[@class="b_strategy_list "]/li</span>
    select <span class="token operator">=</span> parsel<span class="token punctuation">.</span>Selector<span class="token punctuation">(</span>html_data<span class="token punctuation">)</span>
    lis <span class="token operator">=</span> select<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">'//ul[@class="b_strategy_list "]/li'</span><span class="token punctuation">)</span>
    <span class="token comment"># äºŒæ¬¡çš„æ•°æ®æå–</span>
    <span class="token keyword">for</span> li <span class="token keyword">in</span> lis<span class="token punctuation">:</span>
        <span class="token comment"># li.css('h2 &gt; a::text').get()</span>
        title <span class="token operator">=</span> li<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">'./h2/a/text()'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span>
        date <span class="token operator">=</span> li<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">'./p[@class="user_info"]//span[@class="date"]/text()'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span>
        days <span class="token operator">=</span> li<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">'./p[@class="user_info"]//span[@class="days"]/text()'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span>
        photo_nums <span class="token operator">=</span> li<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">'./p[@class="user_info"]//span[@class="photo_nums"]/text()'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span>
        fee <span class="token operator">=</span> li<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">'./p[@class="user_info"]//span[@class="fee"]/text()'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span>
        people <span class="token operator">=</span> li<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">'./p[@class="user_info"]//span[@class="people"]/text()'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span>
        trip <span class="token operator">=</span> li<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">'./p[@class="user_info"]//span[@class="trip"]/text()'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span>
        view <span class="token operator">=</span> li<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">'./p[@class="user_info"]//span[@class="icon_view"]/span/text()'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span>
        love <span class="token operator">=</span> li<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">'./p[@class="user_info"]//span[@class="icon_love"]/span/text()'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span>
        comment <span class="token operator">=</span> li<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">'./p[@class="user_info"]//span[@class="icon_comment"]/span/text()'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span>
        href <span class="token operator">=</span> li<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">'./h2/a/@href'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>title<span class="token punctuation">,</span> date<span class="token punctuation">,</span> days<span class="token punctuation">,</span> photo_nums<span class="token punctuation">,</span> fee<span class="token punctuation">,</span> people<span class="token punctuation">,</span> trip<span class="token punctuation">,</span> view<span class="token punctuation">,</span> love<span class="token punctuation">,</span> comment<span class="token punctuation">,</span> href<span class="token punctuation">)</span>
</code></pre> 
<ol start="4"><li>ä¿å­˜æ•°æ®</li></ol> 
<pre><code class="prism language-python">        <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'æ”»ç•¥.csv'</span><span class="token punctuation">,</span> mode<span class="token operator">=</span><span class="token string">'a'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">,</span> newline<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
            csv_writer <span class="token operator">=</span> csv<span class="token punctuation">.</span>writer<span class="token punctuation">(</span>f<span class="token punctuation">)</span>
            csv_writer<span class="token punctuation">.</span>writerow<span class="token punctuation">(</span><span class="token punctuation">[</span>title<span class="token punctuation">,</span> date<span class="token punctuation">,</span> days<span class="token punctuation">,</span> photo_nums<span class="token punctuation">,</span> fee<span class="token punctuation">,</span> people<span class="token punctuation">,</span> trip<span class="token punctuation">,</span> view<span class="token punctuation">,</span> love<span class="token punctuation">,</span> comment<span class="token punctuation">,</span> href<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> 
<h4><a id="_104"></a>æ•°æ®å¯è§†åŒ–</h4> 
<pre><code class="prism language-python"><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
<span class="token keyword">from</span> pyecharts<span class="token punctuation">.</span>commons<span class="token punctuation">.</span>utils <span class="token keyword">import</span> JsCode
<span class="token keyword">from</span> pyecharts<span class="token punctuation">.</span>charts <span class="token keyword">import</span> <span class="token operator">*</span>
<span class="token keyword">from</span> pyecharts <span class="token keyword">import</span> options <span class="token keyword">as</span> opts
</code></pre> 
<pre><code class="prism language-python">data <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">'å»å“ªå„¿_æ•°åˆ†.csv'</span><span class="token punctuation">)</span>
data
</code></pre> 
<p><img src="https://images2.imgbox.com/61/19/TNym8K5H_o.png" alt=""></p> 
<pre><code class="prism language-python">data<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-python">data <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token operator">~</span>data<span class="token punctuation">[</span><span class="token string">'åœ°ç‚¹'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>isin<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'æ”»ç•¥'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
data <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token operator">~</span>data<span class="token punctuation">[</span><span class="token string">'å¤©æ•°'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>isin<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'99+'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
data
</code></pre> 
<pre><code class="prism language-python">data<span class="token punctuation">.</span>drop_duplicates<span class="token punctuation">(</span>inplace<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-python">data<span class="token punctuation">[</span><span class="token string">'äººå‡è´¹ç”¨'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>fillna<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> inplace<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
data<span class="token punctuation">[</span><span class="token string">'äººç‰©'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>fillna<span class="token punctuation">(</span><span class="token string">'ç‹¬è‡ªä¸€äºº'</span><span class="token punctuation">,</span> inplace<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
data<span class="token punctuation">[</span><span class="token string">'ç©æ³•'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>fillna<span class="token punctuation">(</span><span class="token string">'æ²¡æœ‰'</span><span class="token punctuation">,</span> inplace<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-python">data<span class="token punctuation">[</span><span class="token string">'å¤©æ•°'</span><span class="token punctuation">]</span> <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token string">'å¤©æ•°'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>astype<span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-python">data <span class="token operator">=</span> data<span class="token punctuation">[</span>data<span class="token punctuation">[</span><span class="token string">'äººå‡è´¹ç”¨'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>values<span class="token operator">&gt;</span><span class="token number">200</span><span class="token punctuation">]</span>
data <span class="token operator">=</span> data<span class="token punctuation">[</span>data<span class="token punctuation">[</span><span class="token string">'å¤©æ•°'</span><span class="token punctuation">]</span><span class="token operator">&lt;=</span><span class="token number">15</span><span class="token punctuation">]</span>
data
</code></pre> 
<pre><code class="prism language-python">data <span class="token operator">=</span> data<span class="token punctuation">.</span>reset_index<span class="token punctuation">(</span>drop<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
data
</code></pre> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">Month</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">:</span>
    m <span class="token operator">=</span> <span class="token builtin">str</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>
    <span class="token keyword">if</span> m<span class="token operator">==</span><span class="token string">'01'</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string">'ä¸€æœˆ'</span>
    <span class="token keyword">if</span> m<span class="token operator">==</span><span class="token string">'02'</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string">'äºŒæœˆ'</span>
    <span class="token keyword">if</span> m<span class="token operator">==</span><span class="token string">'03'</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string">'ä¸‰æœˆ'</span>
    <span class="token keyword">if</span> m<span class="token operator">==</span><span class="token string">'04'</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string">'å››æœˆ'</span>
    <span class="token keyword">if</span> m<span class="token operator">==</span><span class="token string">'05'</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string">'äº”æœˆ'</span>
    <span class="token keyword">if</span> m<span class="token operator">==</span><span class="token string">'06'</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string">'å…­æœˆ'</span>
    <span class="token keyword">if</span> m<span class="token operator">==</span><span class="token string">'07'</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string">'ä¸ƒæœˆ'</span>
    <span class="token keyword">if</span> m<span class="token operator">==</span><span class="token string">'08'</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string">'å…«æœˆ'</span>
    <span class="token keyword">if</span> m<span class="token operator">==</span><span class="token string">'09'</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string">'ä¹æœˆ'</span>
    <span class="token keyword">if</span> m<span class="token operator">==</span><span class="token string">'10'</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string">'åæœˆ'</span>
    <span class="token keyword">if</span> m<span class="token operator">==</span><span class="token string">'11'</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string">'åä¸€æœˆ'</span>
    <span class="token keyword">if</span> m<span class="token operator">==</span><span class="token string">'12'</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string">'åäºŒæœˆ'</span>
</code></pre> 
<pre><code class="prism language-python">data<span class="token punctuation">[</span><span class="token string">'æ—…è¡Œæœˆä»½'</span><span class="token punctuation">]</span> <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token string">'å‡ºå‘æ—¶é—´'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">apply</span><span class="token punctuation">(</span>Month<span class="token punctuation">)</span>
data<span class="token punctuation">[</span><span class="token string">'å‡ºå‘æ—¶é—´'</span><span class="token punctuation">]</span><span class="token operator">=</span>pd<span class="token punctuation">.</span>to_datetime<span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token string">'å‡ºå‘æ—¶é—´'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
data
</code></pre> 
<pre><code class="prism language-python"><span class="token keyword">import</span> re
</code></pre> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">Look</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> <span class="token string">'ä¸‡'</span> <span class="token keyword">in</span> e<span class="token punctuation">:</span>
        num1 <span class="token operator">=</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">'(.*?)ä¸‡'</span><span class="token punctuation">,</span>e<span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token builtin">float</span><span class="token punctuation">(</span>num1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">10000</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token builtin">float</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-python">data<span class="token punctuation">[</span><span class="token string">'æµè§ˆæ¬¡æ•°'</span><span class="token punctuation">]</span> <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token string">'æµè§ˆé‡'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">apply</span><span class="token punctuation">(</span>Look<span class="token punctuation">)</span>
data<span class="token punctuation">.</span>drop<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'æµè§ˆé‡'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>axis <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>inplace <span class="token operator">=</span> <span class="token boolean">True</span><span class="token punctuation">)</span>
data<span class="token punctuation">[</span><span class="token string">'æµè§ˆæ¬¡æ•°'</span><span class="token punctuation">]</span> <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token string">'æµè§ˆæ¬¡æ•°'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>astype<span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">)</span>
data<span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-python">data1 <span class="token operator">=</span> data
data1<span class="token punctuation">[</span><span class="token string">'åœ°ç‚¹'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value_counts<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/7c/e5/hG3ZnQNe_o.png" alt=""></p> 
<pre><code class="prism language-python">loc <span class="token operator">=</span> data1<span class="token punctuation">[</span><span class="token string">'åœ°ç‚¹'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value_counts<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">.</span>index<span class="token punctuation">.</span>tolist<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>loc<span class="token punctuation">)</span>
loc_data <span class="token operator">=</span> data1<span class="token punctuation">[</span>data1<span class="token punctuation">[</span><span class="token string">'åœ°ç‚¹'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>isin<span class="token punctuation">(</span>loc<span class="token punctuation">)</span><span class="token punctuation">]</span>
price_mean <span class="token operator">=</span> <span class="token builtin">round</span><span class="token punctuation">(</span>loc_data<span class="token punctuation">[</span><span class="token string">'äººå‡è´¹ç”¨'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>groupby<span class="token punctuation">(</span>loc_data<span class="token punctuation">[</span><span class="token string">'åœ°ç‚¹'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>price_mean<span class="token punctuation">)</span>
price_mean2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1630.1</span><span class="token punctuation">,</span><span class="token number">1862.9</span><span class="token punctuation">,</span><span class="token number">1697.9</span><span class="token punctuation">,</span><span class="token number">1743.4</span><span class="token punctuation">,</span><span class="token number">1482.4</span><span class="token punctuation">,</span><span class="token number">1586.4</span><span class="token punctuation">,</span><span class="token number">1897.0</span><span class="token punctuation">,</span><span class="token number">1267.5</span><span class="token punctuation">,</span><span class="token number">1973.8</span><span class="token punctuation">,</span><span class="token number">1723.7</span><span class="token punctuation">]</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/92/96/PRsCiSwp_o.png" alt=""></p> 
<h5><a id="Top10_225"></a>æ—…æ¸¸èƒœåœ°Top10åŠå¯¹åº”è´¹ç”¨</h5> 
<pre><code class="prism language-python">m2 <span class="token operator">=</span> data1<span class="token punctuation">[</span><span class="token string">'åœ°ç‚¹'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value_counts<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">.</span>index<span class="token punctuation">.</span>tolist<span class="token punctuation">(</span><span class="token punctuation">)</span>
n2 <span class="token operator">=</span> data1<span class="token punctuation">[</span><span class="token string">'åœ°ç‚¹'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value_counts<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">.</span>values<span class="token punctuation">.</span>tolist<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-python">bar<span class="token operator">=</span><span class="token punctuation">(</span>
    Bar<span class="token punctuation">(</span>init_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>InitOpts<span class="token punctuation">(</span>height<span class="token operator">=</span><span class="token string">'500px'</span><span class="token punctuation">,</span>width<span class="token operator">=</span><span class="token string">'1000px'</span><span class="token punctuation">,</span>theme<span class="token operator">=</span><span class="token string">'dark'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>add_xaxis<span class="token punctuation">(</span>m2<span class="token punctuation">)</span>
    <span class="token punctuation">.</span>add_yaxis<span class="token punctuation">(</span>
        <span class="token string">'ç›®çš„åœ°Top10'</span><span class="token punctuation">,</span>
        n2<span class="token punctuation">,</span>
        label_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>LabelOpts<span class="token punctuation">(</span>is_show<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span>position<span class="token operator">=</span><span class="token string">'top'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        itemstyle_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>ItemStyleOpts<span class="token punctuation">(</span>
            color<span class="token operator">=</span>JsCode<span class="token punctuation">(</span><span class="token triple-quoted-string string">"""new echarts.graphic.LinearGradient(
            0, 0, 0, 1,[{offset: 0,color: 'rgb(255,99,71)'}, {offset: 1,color: 'rgb(32,178,170)'}])
            """</span>
            <span class="token punctuation">)</span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">)</span>
    <span class="token punctuation">.</span>set_global_opts<span class="token punctuation">(</span>
        title_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>TitleOpts<span class="token punctuation">(</span>
            title<span class="token operator">=</span><span class="token string">'ç›®çš„åœ°Top10'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            xaxis_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>AxisOpts<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">'æ™¯ç‚¹åç§°'</span><span class="token punctuation">,</span>
            type_<span class="token operator">=</span><span class="token string">'category'</span><span class="token punctuation">,</span>                                           
            axislabel_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>LabelOpts<span class="token punctuation">(</span>rotate<span class="token operator">=</span><span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
        yaxis_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>AxisOpts<span class="token punctuation">(</span>
            name<span class="token operator">=</span><span class="token string">'æ•°é‡'</span><span class="token punctuation">,</span>
            min_<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>
            max_<span class="token operator">=</span><span class="token number">120.0</span><span class="token punctuation">,</span>
            splitline_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>SplitLineOpts<span class="token punctuation">(</span>is_show<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span>linestyle_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>LineStyleOpts<span class="token punctuation">(</span>type_<span class="token operator">=</span><span class="token string">'dash'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
        tooltip_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>TooltipOpts<span class="token punctuation">(</span>trigger<span class="token operator">=</span><span class="token string">'axis'</span><span class="token punctuation">,</span>axis_pointer_type<span class="token operator">=</span><span class="token string">'cross'</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span>

    <span class="token punctuation">.</span>set_series_opts<span class="token punctuation">(</span>
        markline_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>MarkLineOpts<span class="token punctuation">(</span>
            data<span class="token operator">=</span><span class="token punctuation">[</span>
                opts<span class="token punctuation">.</span>MarkLineItem<span class="token punctuation">(</span>type_<span class="token operator">=</span><span class="token string">'average'</span><span class="token punctuation">,</span>name<span class="token operator">=</span><span class="token string">'å‡å€¼'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                opts<span class="token punctuation">.</span>MarkLineItem<span class="token punctuation">(</span>type_<span class="token operator">=</span><span class="token string">'max'</span><span class="token punctuation">,</span>name<span class="token operator">=</span><span class="token string">'æœ€å¤§å€¼'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                opts<span class="token punctuation">.</span>MarkLineItem<span class="token punctuation">(</span>type_<span class="token operator">=</span><span class="token string">'min'</span><span class="token punctuation">,</span>name<span class="token operator">=</span><span class="token string">'æœ€å°å€¼'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">)</span>
bar<span class="token punctuation">.</span>render<span class="token punctuation">(</span><span class="token string">'1.html'</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/8f/9d/08yP9BMK_o.png" alt=""></p> 
<pre><code class="prism language-python">bar<span class="token operator">=</span><span class="token punctuation">(</span>
    Bar<span class="token punctuation">(</span>init_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>InitOpts<span class="token punctuation">(</span>height<span class="token operator">=</span><span class="token string">'500px'</span><span class="token punctuation">,</span>width<span class="token operator">=</span><span class="token string">'1000px'</span><span class="token punctuation">,</span>theme<span class="token operator">=</span><span class="token string">'dark'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>add_xaxis<span class="token punctuation">(</span>loc<span class="token punctuation">)</span>
    <span class="token punctuation">.</span>add_yaxis<span class="token punctuation">(</span>
        <span class="token string">'äººå‡è´¹ç”¨'</span><span class="token punctuation">,</span>
        price_mean2<span class="token punctuation">,</span>
        label_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>LabelOpts<span class="token punctuation">(</span>is_show<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span>position<span class="token operator">=</span><span class="token string">'top'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        itemstyle_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>ItemStyleOpts<span class="token punctuation">(</span>
            color<span class="token operator">=</span>JsCode<span class="token punctuation">(</span><span class="token triple-quoted-string string">"""new echarts.graphic.LinearGradient(
            0, 0, 0, 1,[{offset: 0,color: 'rgb(255,99,71)'}, {offset: 1,color: 'rgb(32,178,170)'}])
            """</span>
            <span class="token punctuation">)</span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">)</span>
    <span class="token punctuation">.</span>set_global_opts<span class="token punctuation">(</span>
        title_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>TitleOpts<span class="token punctuation">(</span>
            title<span class="token operator">=</span><span class="token string">'å„æ™¯ç‚¹äººå‡è´¹ç”¨'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            xaxis_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>AxisOpts<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">'æ™¯ç‚¹åç§°'</span><span class="token punctuation">,</span>
            type_<span class="token operator">=</span><span class="token string">'category'</span><span class="token punctuation">,</span>                                           
            axislabel_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>LabelOpts<span class="token punctuation">(</span>rotate<span class="token operator">=</span><span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
        yaxis_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>AxisOpts<span class="token punctuation">(</span>
            name<span class="token operator">=</span><span class="token string">'æ•°é‡'</span><span class="token punctuation">,</span>
            min_<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>
            max_<span class="token operator">=</span><span class="token number">2000.0</span><span class="token punctuation">,</span>
            splitline_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>SplitLineOpts<span class="token punctuation">(</span>is_show<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span>linestyle_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>LineStyleOpts<span class="token punctuation">(</span>type_<span class="token operator">=</span><span class="token string">'dash'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
        tooltip_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>TooltipOpts<span class="token punctuation">(</span>trigger<span class="token operator">=</span><span class="token string">'axis'</span><span class="token punctuation">,</span>axis_pointer_type<span class="token operator">=</span><span class="token string">'cross'</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span>

    <span class="token punctuation">.</span>set_series_opts<span class="token punctuation">(</span>
        markline_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>MarkLineOpts<span class="token punctuation">(</span>
            data<span class="token operator">=</span><span class="token punctuation">[</span>
                opts<span class="token punctuation">.</span>MarkLineItem<span class="token punctuation">(</span>type_<span class="token operator">=</span><span class="token string">'average'</span><span class="token punctuation">,</span>name<span class="token operator">=</span><span class="token string">'å‡å€¼'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                opts<span class="token punctuation">.</span>MarkLineItem<span class="token punctuation">(</span>type_<span class="token operator">=</span><span class="token string">'max'</span><span class="token punctuation">,</span>name<span class="token operator">=</span><span class="token string">'æœ€å¤§å€¼'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                opts<span class="token punctuation">.</span>MarkLineItem<span class="token punctuation">(</span>type_<span class="token operator">=</span><span class="token string">'min'</span><span class="token punctuation">,</span>name<span class="token operator">=</span><span class="token string">'æœ€å°å€¼'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">)</span>
bar<span class="token punctuation">.</span>render<span class="token punctuation">(</span><span class="token string">'2.html'</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/01/51/DGjXJ4Lk_o.png" alt=""></p> 
<pre><code class="prism language-python">data1<span class="token punctuation">[</span><span class="token string">'å¤©æ•°'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value_counts<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-python">data1<span class="token punctuation">[</span><span class="token string">'æ—…è¡Œæ—¶é•¿'</span><span class="token punctuation">]</span> <span class="token operator">=</span> data1<span class="token punctuation">[</span><span class="token string">'å¤©æ•°'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">apply</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span><span class="token builtin">str</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'å¤©'</span><span class="token punctuation">)</span>
data1
</code></pre> 
<pre><code class="prism language-python">data1<span class="token punctuation">[</span><span class="token string">'äººç‰©'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value_counts<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-python">m <span class="token operator">=</span> data1<span class="token punctuation">[</span><span class="token string">'æµè§ˆæ¬¡æ•°'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>sort_values<span class="token punctuation">(</span>ascending<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span class="token punctuation">.</span>index<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">.</span>tolist<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-python">data1 <span class="token operator">=</span> data1<span class="token punctuation">.</span>loc<span class="token punctuation">[</span>m<span class="token punctuation">]</span>
data1 <span class="token operator">=</span> data1<span class="token punctuation">.</span>reset_index<span class="token punctuation">(</span>drop <span class="token operator">=</span> <span class="token boolean">True</span><span class="token punctuation">)</span>
data1
</code></pre> 
<pre><code class="prism language-python">data1<span class="token punctuation">[</span><span class="token string">'æ—…è¡Œæœˆä»½'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value_counts<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-python">word_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> data1<span class="token punctuation">[</span><span class="token string">'ç©æ³•'</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
    s <span class="token operator">=</span> re<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">'\xa0'</span><span class="token punctuation">,</span>i<span class="token punctuation">)</span>
    word_list<span class="token punctuation">.</span>append<span class="token punctuation">(</span>s<span class="token punctuation">)</span>  
<span class="token builtin">dict</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
<span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>word_list<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> word_list<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> i <span class="token keyword">not</span> <span class="token keyword">in</span> <span class="token builtin">dict</span><span class="token punctuation">:</span>
            <span class="token builtin">dict</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            <span class="token builtin">dict</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">+=</span><span class="token number">1</span>
<span class="token comment">#print(dict)</span>
<span class="token builtin">list</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> item <span class="token keyword">in</span> <span class="token builtin">dict</span><span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token builtin">list</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span>item<span class="token punctuation">)</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token builtin">len</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token builtin">len</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> <span class="token builtin">list</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">&lt;</span><span class="token builtin">list</span><span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
            <span class="token builtin">list</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token builtin">list</span><span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token builtin">list</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-python">data1<span class="token punctuation">[</span><span class="token string">'æ—…è¡Œæœˆä»½'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value_counts<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-python">m1 <span class="token operator">=</span> data1<span class="token punctuation">[</span><span class="token string">'äººç‰©'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value_counts<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>index<span class="token punctuation">.</span>tolist<span class="token punctuation">(</span><span class="token punctuation">)</span>
n1 <span class="token operator">=</span> data1<span class="token punctuation">[</span><span class="token string">'äººç‰©'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value_counts<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>values<span class="token punctuation">.</span>tolist<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<h5><a id="_383"></a>å‡ºæ¸¸æ–¹å¼åˆ†æ</h5> 
<pre><code class="prism language-python">pie <span class="token operator">=</span> <span class="token punctuation">(</span>Pie<span class="token punctuation">(</span>init_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>InitOpts<span class="token punctuation">(</span>theme<span class="token operator">=</span><span class="token string">'dark'</span><span class="token punctuation">,</span> width<span class="token operator">=</span><span class="token string">'1000px'</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token string">'800px'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
       <span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>z <span class="token keyword">for</span> z <span class="token keyword">in</span> <span class="token builtin">zip</span><span class="token punctuation">(</span>m1<span class="token punctuation">,</span>n1<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            radius<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"40%"</span><span class="token punctuation">,</span> <span class="token string">"65%"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
       <span class="token punctuation">.</span>set_global_opts<span class="token punctuation">(</span>title_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>TitleOpts<span class="token punctuation">(</span>title<span class="token operator">=</span><span class="token string">"å»å“ªå„¿\n\nå‡ºæ¸¸ç»“ä¼´æ–¹å¼"</span><span class="token punctuation">,</span> pos_left<span class="token operator">=</span><span class="token string">'center'</span><span class="token punctuation">,</span> pos_top<span class="token operator">=</span><span class="token string">'center'</span><span class="token punctuation">,</span>
                                               title_textstyle_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>TextStyleOpts<span class="token punctuation">(</span>
                                                   color<span class="token operator">=</span><span class="token string">'#FF6A6A'</span><span class="token punctuation">,</span> font_size<span class="token operator">=</span><span class="token number">30</span><span class="token punctuation">,</span> font_weight<span class="token operator">=</span><span class="token string">'bold'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                                               <span class="token punctuation">)</span><span class="token punctuation">,</span>
                        visualmap_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>VisualMapOpts<span class="token punctuation">(</span>is_show<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> 
                                          min_<span class="token operator">=</span><span class="token number">38</span><span class="token punctuation">,</span>
                                          max_<span class="token operator">=</span><span class="token number">641</span><span class="token punctuation">,</span>
                                          is_piecewise<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span>
                                          dimension<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>
                                          range_color<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'#9400D3'</span><span class="token punctuation">,</span> <span class="token string">'#008afb'</span><span class="token punctuation">,</span> <span class="token string">'#ffec4a'</span><span class="token punctuation">,</span> <span class="token string">'#FFA500'</span><span class="token punctuation">,</span><span class="token string">'#ce5777'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                        legend_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>LegendOpts<span class="token punctuation">(</span>is_show<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> pos_top<span class="token operator">=</span><span class="token string">'5%'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                        <span class="token punctuation">)</span>
       <span class="token punctuation">.</span>set_series_opts<span class="token punctuation">(</span>label_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>LabelOpts<span class="token punctuation">(</span>formatter<span class="token operator">=</span><span class="token string">"{b}: {c}"</span><span class="token punctuation">,</span> font_size<span class="token operator">=</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                        tooltip_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>TooltipOpts<span class="token punctuation">(</span>trigger<span class="token operator">=</span><span class="token string">"item"</span><span class="token punctuation">,</span> formatter<span class="token operator">=</span><span class="token string">"{b}: {c}"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                        itemstyle_opts<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token string">"normal"</span><span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
                                                    <span class="token string">"barBorderRadius"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                                                    <span class="token string">'shadowBlur'</span><span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
                                                    <span class="token string">'shadowColor'</span><span class="token punctuation">:</span> <span class="token string">'rgba(0,191,255,0.5)'</span><span class="token punctuation">,</span>
                                                    <span class="token string">'shadowOffsetY'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                                                    <span class="token string">'opacity'</span><span class="token punctuation">:</span> <span class="token number">0.8</span>
                                                <span class="token punctuation">}</span>
                                       <span class="token punctuation">}</span><span class="token punctuation">)</span>
        
                        <span class="token punctuation">)</span>
pie<span class="token punctuation">.</span>render<span class="token punctuation">(</span><span class="token string">'3.html'</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/a0/9e/vrpu4f8c_o.png" alt=""></p> 
<pre><code class="prism language-python">m3 <span class="token operator">=</span> data1<span class="token punctuation">[</span><span class="token string">'å‡ºå‘æ—¶é—´'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value_counts<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>sort_index<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">]</span>
m4 <span class="token operator">=</span> m3<span class="token punctuation">[</span><span class="token string">'2021'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>index
n4 <span class="token operator">=</span> m3<span class="token punctuation">[</span><span class="token string">'2021'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>values
</code></pre> 
<pre><code class="prism language-python">m3<span class="token punctuation">[</span><span class="token string">'2021'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>sort_values<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>tail<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
</code></pre> 
<h5><a id="_427"></a>å‡ºæ¸¸æ—¶é—´åˆ†æ</h5> 
<pre><code class="prism language-python">line <span class="token operator">=</span> <span class="token punctuation">(</span>
    Line<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>add_xaxis<span class="token punctuation">(</span>m4<span class="token punctuation">.</span>tolist<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>add_yaxis<span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">,</span>n4<span class="token punctuation">.</span>tolist<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>
line<span class="token punctuation">.</span>render<span class="token punctuation">(</span><span class="token string">'4.html'</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/b9/a4/7ioiWKQW_o.png" alt=""></p> 
<p>2021å¹´çš„æ—…æ¸¸æ—¶é—´æ›²çº¿å¤§çº¦åœ¨äº”æœˆä¸€å·èµ·ä¼æœ€å¤§ï¼ŒåŸå› è‚¯å®šæ˜¯å› ä¸ºå‡æœŸè°ƒä¼‘å»¶é•¿è‡³4å¤©ï¼Œä¸ºäº†è°ƒæ•´è‡ªå·±ç”Ÿæ´»åŠå·¥ä½œçš„çŠ¶æ€ï¼Œå¾ˆå¤šäººåˆ©ç”¨è¿™ä¸ªå‡æœŸå»æ—…è¡Œæ”¾æ¾è‡ªå·±ã€‚</p> 
<h5><a id="_441"></a>å‡ºæ¸¸ç©æ³•åˆ†æ</h5> 
<pre><code class="prism language-python">m5 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
n5 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    m5<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    n5<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
m5<span class="token punctuation">.</span>reverse<span class="token punctuation">(</span><span class="token punctuation">)</span>
m6 <span class="token operator">=</span> m5
n5<span class="token punctuation">.</span>reverse<span class="token punctuation">(</span><span class="token punctuation">)</span>
n6 <span class="token operator">=</span> n5

bar <span class="token operator">=</span> <span class="token punctuation">(</span>
    Bar<span class="token punctuation">(</span>init_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>InitOpts<span class="token punctuation">(</span>theme<span class="token operator">=</span><span class="token string">'dark'</span><span class="token punctuation">,</span> width<span class="token operator">=</span><span class="token string">'1000px'</span><span class="token punctuation">,</span>height <span class="token operator">=</span><span class="token string">'500px'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>add_xaxis<span class="token punctuation">(</span>m6<span class="token punctuation">)</span>
    <span class="token punctuation">.</span>add_yaxis<span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">,</span> n6<span class="token punctuation">)</span>
    <span class="token punctuation">.</span>set_series_opts<span class="token punctuation">(</span>label_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>LabelOpts<span class="token punctuation">(</span>is_show<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> 
                                                       position<span class="token operator">=</span><span class="token string">'insideRight'</span><span class="token punctuation">,</span>
                                                       font_style<span class="token operator">=</span><span class="token string">'italic'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                            itemstyle_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>ItemStyleOpts<span class="token punctuation">(</span>
                                color<span class="token operator">=</span>JsCode<span class="token punctuation">(</span><span class="token triple-quoted-string string">"""new echarts.graphic.LinearGradient(1, 0, 0, 0, 
                                             [{
                                                 offset: 0,
                                                 color: 'rgb(255,99,71)'
                                             }, {
                                                 offset: 1,
                                                 color: 'rgb(32,178,170)'
                                             }])"""</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                            <span class="token punctuation">)</span>
    <span class="token punctuation">.</span>set_global_opts<span class="token punctuation">(</span>
        title_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>TitleOpts<span class="token punctuation">(</span>title<span class="token operator">=</span><span class="token string">"å‡ºæ¸¸ç©æ³•åˆ†æ"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        xaxis_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>AxisOpts<span class="token punctuation">(</span>axislabel_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>LabelOpts<span class="token punctuation">(</span>rotate<span class="token operator">=</span><span class="token number">45</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        legend_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>LegendOpts<span class="token punctuation">(</span>is_show<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>reversal_axis<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>
bar<span class="token punctuation">.</span>render<span class="token punctuation">(</span><span class="token string">'5.html'</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/2e/28/aSq8Fn3Q_o.png" alt=""></p> 
<p>â€œæ‘„å½±â€å’Œâ€œç¾é£Ÿâ€å¯è°“ä¸æ—…è¡Œæ¯æ¯ç›¸å…³ï¼Œä¸€æ¬¡å®Œæ•´çš„æ—…è¡Œæœ€ä¸èƒ½ç¼ºçš„å°±æ˜¯â€œæ‘„å½±â€ï¼Œæ‹ç¾é£Ÿå‘åˆ°æœ‹å‹åœˆã€æ‹é£æ™¯å‘åˆ°æœ‹å‹åœˆã€æ‹å®Œç¾çš„è‡ªå·±å‘åˆ°æœ‹å‹åœˆï¼›</p> 
<p>å·¥ä½œä¹‹åå°±æ²¡æœ‰äº†å¯’æš‘å‡ï¼Œæ‰€ä»¥åˆ©ç”¨å‘¨æœ«æ¥ä¸€æ¬¡çŸ­é€”æ—…è¡Œå°±æˆä¸ºäº†å¤§å¤šæ•°äººçš„é¦–é€‰ã€‚</p> 
<pre><code class="prism language-python">m7 <span class="token operator">=</span> data1<span class="token punctuation">[</span><span class="token string">'æ—…è¡Œæ—¶é•¿'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value_counts<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>index<span class="token punctuation">.</span>tolist<span class="token punctuation">(</span><span class="token punctuation">)</span>
n7 <span class="token operator">=</span> data1<span class="token punctuation">[</span><span class="token string">'æ—…è¡Œæ—¶é•¿'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value_counts<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>values<span class="token punctuation">.</span>tolist<span class="token punctuation">(</span><span class="token punctuation">)</span>
data_day <span class="token operator">=</span> data1<span class="token punctuation">[</span><span class="token string">'æ—…è¡Œæ—¶é•¿'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value_counts<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>sort_values<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<h5><a id="_495"></a>å‡ºæ¸¸å¤©æ•°åˆ†æ</h5> 
<pre><code class="prism language-python">bar <span class="token operator">=</span> <span class="token punctuation">(</span>
    Bar<span class="token punctuation">(</span>init_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>InitOpts<span class="token punctuation">(</span>theme<span class="token operator">=</span><span class="token string">'dark'</span><span class="token punctuation">,</span> width<span class="token operator">=</span><span class="token string">'1000px'</span><span class="token punctuation">,</span>height <span class="token operator">=</span><span class="token string">'500px'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>add_xaxis<span class="token punctuation">(</span>data_day<span class="token punctuation">.</span>index<span class="token punctuation">.</span>tolist<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>add_yaxis<span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">,</span>data_day<span class="token punctuation">.</span>values<span class="token punctuation">.</span>tolist<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>set_series_opts<span class="token punctuation">(</span>label_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>LabelOpts<span class="token punctuation">(</span>is_show<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> 
                                                       position<span class="token operator">=</span><span class="token string">'insideRight'</span><span class="token punctuation">,</span>
                                                       font_style<span class="token operator">=</span><span class="token string">'italic'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                            itemstyle_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>ItemStyleOpts<span class="token punctuation">(</span>
                                color<span class="token operator">=</span>JsCode<span class="token punctuation">(</span><span class="token triple-quoted-string string">"""new echarts.graphic.LinearGradient(1, 0, 0, 0, 
                                             [{
                                                 offset: 0,
                                                 color: 'rgb(255,99,71)'
                                             }, {
                                                 offset: 1,
                                                 color: 'rgb(32,178,170)'
                                             }])"""</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                            <span class="token punctuation">)</span>
    <span class="token punctuation">.</span>set_global_opts<span class="token punctuation">(</span>
        title_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>TitleOpts<span class="token punctuation">(</span>title<span class="token operator">=</span><span class="token string">"æ—…è¡Œæ—¶é•¿"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        xaxis_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>AxisOpts<span class="token punctuation">(</span>axislabel_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>LabelOpts<span class="token punctuation">(</span>rotate<span class="token operator">=</span><span class="token number">45</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        legend_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>LegendOpts<span class="token punctuation">(</span>is_show<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>reversal_axis<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>
bar<span class="token punctuation">.</span>render<span class="token punctuation">(</span><span class="token string">'6.html'</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/d2/2e/BycrfyBn_o.png" alt=""></p> 
<p>æ—…è¡Œæ—¶é•¿ä¸»è¦åˆ†å¸ƒåœ¨2-5å¤©ä¹‹é—´ï¼Œ3å¤©æœ€ä¸ºæ™®éï¼Œå¤ªçŸ­ä¼šæœªå°½å…´è‡´ï¼Œå¤ªé•¿åˆä¼šèŠ±é”€å¤ªå¤§ï¼Œè‹¥æœ‰ä¸€ä»½å¥½çš„æ—…è¡Œè®¡åˆ’ï¼Œ3å¤©åº”è¯¥è¶³å¤Ÿè®©ä½ èµè¿‡ä¸€åº§åŸå¸‚çš„åèƒœï¼Œåƒè¿‡å¤§éƒ¨åˆ†çš„ç‰¹è‰²ç¾é£Ÿï¼Œé¢†ç•¥åˆ°è¿™ä¸ªåŸå¸‚çš„é£æƒ…ï¼Œä¹Ÿè¶³å¤Ÿè®©ä½ å–œæ¬¢ä¸Šè¿™åº§åŸå¸‚ã€‚</p> 
<pre><code class="prism language-python">data_mo <span class="token operator">=</span> data1<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token punctuation">(</span>data1<span class="token punctuation">[</span><span class="token string">'æ—…è¡Œæœˆä»½'</span><span class="token punctuation">]</span> <span class="token operator">==</span><span class="token string">'ä¸ƒæœˆ'</span><span class="token punctuation">)</span><span class="token operator">|</span><span class="token punctuation">(</span>data1<span class="token punctuation">[</span><span class="token string">'æ—…è¡Œæœˆä»½'</span><span class="token punctuation">]</span> <span class="token operator">==</span><span class="token string">'å…«æœˆ'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">&amp;</span><span class="token punctuation">(</span>data1<span class="token punctuation">[</span><span class="token string">'äººç‰©'</span><span class="token punctuation">]</span><span class="token operator">==</span><span class="token string">'ä¸‰äº”å¥½å‹'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">.</span>drop<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'æ—…è¡Œæ—¶é•¿'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>axis <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span>
data_mo<span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-python">data_mo2 <span class="token operator">=</span> data1<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token punctuation">(</span>data1<span class="token punctuation">[</span><span class="token string">'äººç‰©'</span><span class="token punctuation">]</span> <span class="token operator">==</span><span class="token string">'æƒ…ä¾£'</span><span class="token punctuation">)</span><span class="token operator">|</span><span class="token punctuation">(</span>data1<span class="token punctuation">[</span><span class="token string">'äººç‰©'</span><span class="token punctuation">]</span> <span class="token operator">==</span><span class="token string">'ç‹¬è‡ªä¸€äºº'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">&amp;</span><span class="token punctuation">(</span>data1<span class="token punctuation">[</span><span class="token string">'æ—…è¡Œæœˆä»½'</span><span class="token punctuation">]</span><span class="token operator">==</span><span class="token string">'åæœˆ'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">.</span>drop<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'æ—…è¡Œæ—¶é•¿'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>axis <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span>
data_mo2<span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-python"><span class="token keyword">import</span> jieba
<span class="token keyword">import</span> jieba<span class="token punctuation">.</span>analyse
<span class="token keyword">import</span> re
</code></pre> 
<pre><code class="prism language-python">punc <span class="token operator">=</span> <span class="token string">'~`!#$%^&amp;*()_+-=|\';":/.,?&gt;&lt;~Â·ï¼@#ï¿¥%â€¦â€¦&amp;*ï¼ˆï¼‰â€”â€”+-=â€œï¼šâ€™ï¼›ã€ã€‚ï¼Œï¼Ÿã€‹ã€Š{}ã€ã€‘'</span>
<span class="token keyword">def</span> <span class="token function">remove_fuhao</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">:</span>
    short <span class="token operator">=</span> re<span class="token punctuation">.</span>sub<span class="token punctuation">(</span><span class="token string">r"[%s]+"</span> <span class="token operator">%</span> punc<span class="token punctuation">,</span> <span class="token string">" "</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span>
    <span class="token keyword">return</span> short
<span class="token keyword">def</span> <span class="token function">cut_word</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">:</span>
    text <span class="token operator">=</span> jieba<span class="token punctuation">.</span>cut_for_search<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token string">' '</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>text<span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-python">data2 <span class="token operator">=</span> data1
</code></pre> 
<pre><code class="prism language-python">data2<span class="token punctuation">[</span><span class="token string">'ç®€ä»‹'</span><span class="token punctuation">]</span> <span class="token operator">=</span> data2<span class="token punctuation">[</span><span class="token string">'çŸ­è¯„'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">apply</span><span class="token punctuation">(</span>remove_fuhao<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">apply</span><span class="token punctuation">(</span>cut_word<span class="token punctuation">)</span>
data2<span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-python">word <span class="token operator">=</span> data2<span class="token punctuation">[</span><span class="token string">'ç®€ä»‹'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>values<span class="token punctuation">.</span>tolist<span class="token punctuation">(</span><span class="token punctuation">)</span>
fb <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">r'.\travel_text.txt'</span><span class="token punctuation">,</span><span class="token string">'w'</span><span class="token punctuation">,</span>encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>word<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    fb<span class="token punctuation">.</span>write<span class="token punctuation">(</span>word<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">r'.\travel_text.txt'</span><span class="token punctuation">,</span><span class="token string">'r'</span><span class="token punctuation">,</span>encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token keyword">as</span> f<span class="token punctuation">:</span>
    words <span class="token operator">=</span> f<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>
    f<span class="token punctuation">.</span>close
</code></pre> 
<pre><code class="prism language-python">jieba<span class="token punctuation">.</span>analyse<span class="token punctuation">.</span>set_stop_words<span class="token punctuation">(</span><span class="token string">r'./stopwords.txt'</span><span class="token punctuation">)</span>
new_words <span class="token operator">=</span> jieba<span class="token punctuation">.</span>analyse<span class="token punctuation">.</span>textrank<span class="token punctuation">(</span>words<span class="token punctuation">,</span> topK<span class="token operator">=</span><span class="token number">30</span><span class="token punctuation">,</span> withWeight<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>new_words<span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-python">word1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
num1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>new_words<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    
    word1<span class="token punctuation">.</span>append<span class="token punctuation">(</span>new_words<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    num1<span class="token punctuation">.</span>append<span class="token punctuation">(</span>new_words<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> 
<h5><a id="_586"></a>çŸ­è¯„è¯äº‘åˆ†æ</h5> 
<pre><code class="prism language-python">wordcloud<span class="token operator">=</span> <span class="token punctuation">(</span>
    WordCloud<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token string">'ç®€ä»‹è¯äº‘åˆ†æ'</span><span class="token punctuation">,</span><span class="token punctuation">[</span>z <span class="token keyword">for</span> z <span class="token keyword">in</span> <span class="token builtin">zip</span><span class="token punctuation">(</span>word1<span class="token punctuation">,</span>num1<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>word_size_range<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">25</span><span class="token punctuation">,</span><span class="token number">80</span><span class="token punctuation">]</span><span class="token punctuation">,</span>shape <span class="token operator">=</span> <span class="token string">'diamond'</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>
wordcloud<span class="token punctuation">.</span>render<span class="token punctuation">(</span><span class="token string">'7.html'</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/ae/b2/g20I4LY2_o.png" alt=""></p> 
<p>é£Ÿâ€ã€â€œæˆéƒ½â€ã€â€œè‡ªé©¾â€æ˜¯æƒé‡æœ€é«˜çš„ä¸‰ä¸ªè¯ï¼Œäº‹å®ç¡®å®å¦‚æ­¤ï¼Œå½“æˆ‘ä»¬è®¡åˆ’åˆ°ä¸€ä¸ªé™Œç”ŸåŸå¸‚æ¸¸ç©æ—¶ï¼Œå¯èƒ½è„‘æµ·é‡Œç¬¬ä¸€ä¸ªæƒ³åˆ°çš„å¹¶ä¸æ˜¯å½“åœ°æœ‰ä»€ä¹ˆé£æ™¯å¯çœ‹ï¼Œè€Œæ˜¯æœ‰ä»€ä¹ˆç¾é£Ÿå¯åƒï¼Œå¤§æ¦‚æ¯ä¸ªäººéƒ½èƒ½ç®—å¾—ä¸Šä¸€ä¸ªåƒè´§å§ï¼›</p> 
<p>è‡ªé©¾æ¸¸ä¹Ÿæ˜¯å½“ä¸‹ç«çƒ­çš„å‡ºæ¸¸æ–¹å¼ï¼Œéšæ—¶éƒ½å¯ä»¥æ¥ä¸€åœºè¯´èµ°å°±èµ°çš„æ—…è¡Œã€‚</p> 
<pre><code class="prism language-python">data4 <span class="token operator">=</span> data1<span class="token punctuation">.</span>drop<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'æ—…è¡Œæ—¶é•¿'</span><span class="token punctuation">,</span><span class="token string">'ç®€ä»‹'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>axis <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span>
data4
</code></pre> 
<h5><a id="_606"></a>æ—…æ¸¸æ™¯ç‚¹æ¨è</h5> 
<pre><code class="prism language-python">k_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
the_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
keyword <span class="token operator">=</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">'è¯·è¾“å…¥æ—…è¡Œæœˆä»½ï¼š'</span><span class="token punctuation">)</span>
data5 <span class="token operator">=</span> data4<span class="token punctuation">[</span>data4<span class="token punctuation">[</span><span class="token string">'æ—…è¡Œæœˆä»½'</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token builtin">str</span><span class="token punctuation">(</span>keyword<span class="token punctuation">)</span><span class="token punctuation">]</span>
keyword1 <span class="token operator">=</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">'è¯·è¾“å…¥ç»“ä¼´å‡ºæ¸¸æ–¹å¼ï¼š'</span><span class="token punctuation">)</span>
data6 <span class="token operator">=</span> data5<span class="token punctuation">[</span>data5<span class="token punctuation">[</span><span class="token string">'äººç‰©'</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token builtin">str</span><span class="token punctuation">(</span>keyword1<span class="token punctuation">)</span><span class="token punctuation">]</span>
price <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span><span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">'è¯·è¾“å…¥é¢„æœŸä»·æ ¼ä¸Šé™ï¼š'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
data7 <span class="token operator">=</span> data6<span class="token punctuation">[</span>data6<span class="token punctuation">[</span><span class="token string">'äººå‡è´¹ç”¨'</span><span class="token punctuation">]</span><span class="token operator">&lt;=</span>price<span class="token punctuation">]</span>
day1 <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span><span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">'è¯·è¾“å…¥æ—…è¡Œæ—¶é•¿ä¸‹é™ï¼š'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
day2 <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span><span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">'è¯·è¾“å…¥æ—…è¡Œæ—¶é•¿ä¸Šé™ï¼š'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
data8 <span class="token operator">=</span> data7<span class="token punctuation">[</span><span class="token punctuation">(</span>data7<span class="token punctuation">[</span><span class="token string">'å¤©æ•°'</span><span class="token punctuation">]</span><span class="token operator">&gt;=</span>day1<span class="token punctuation">)</span><span class="token operator">&amp;</span><span class="token punctuation">(</span>data7<span class="token punctuation">[</span><span class="token string">'å¤©æ•°'</span><span class="token punctuation">]</span><span class="token operator">&lt;=</span>day2<span class="token punctuation">)</span><span class="token punctuation">]</span>
data8
</code></pre> 
<p><strong>ç»¼ä¸Šè¿°åˆ†æå¯å¾—åˆ°ä¸€äº›ç»“è®ºï¼š</strong></p> 
<ol><li> <p>ä¸ªäººè®¤ä¸ºæ€§ä»·æ¯”è¾ƒé«˜çš„æ—…æ¸¸åŸå¸‚ï¼šä¸‰äºšã€æˆéƒ½ã€‚</p> </li><li> <p>æ—…æ¸¸å¤©æ•°å¤§å¤šæ§åˆ¶åœ¨2-5å¤©å†…ï¼Œä¸å®œè¿‡å¤šã€‚</p> </li><li> <p>ä¸‰äº”å¥½å‹ä¸€èµ·æ—…æ¸¸æ˜¯æœ€ä»¤äººä»¬å–œæ¬¢çš„å‡ºæ¸¸æ–¹å¼ã€‚</p> </li><li> <p>â€œæ‘„å½±â€ä¸â€œç¾é£Ÿâ€å·²æˆä¸ºæ—…æ¸¸çš„ä»£åè¯ã€‚</p> </li><li> <p>é¿å¼€æ—…æ¸¸é«˜å³°æœŸï¼Œä¸‰æœˆå’Œå…­æœˆçš„å‘¨æœ«çŸ­é€”æ—…è¡Œä¹Ÿæ˜¯ä¸é”™çš„é€‰æ‹©ã€‚</p> </li></ol> 
<h4><a id="_637"></a>å°¾è¯­</h4> 
<p>æ„Ÿè°¢ä½ è§‚çœ‹æˆ‘çš„æ–‡ç« å‘~æœ¬æ¬¡èˆªç­åˆ°è¿™é‡Œå°±ç»“æŸå•¦ ğŸ›¬</p> 
<p>å¸Œæœ›æœ¬ç¯‡æ–‡ç« æœ‰å¯¹ä½ å¸¦æ¥å¸®åŠ© ğŸ‰ï¼Œæœ‰å­¦ä¹ åˆ°ä¸€ç‚¹çŸ¥è¯†~</p> 
<p>èº²èµ·æ¥çš„æ˜Ÿæ˜ŸğŸ¥ä¹Ÿåœ¨åŠªåŠ›å‘å…‰ï¼Œä½ ä¹Ÿè¦åŠªåŠ›åŠ æ²¹ï¼ˆè®©æˆ‘ä»¬ä¸€èµ·åŠªåŠ›å­ï¼‰ã€‚</p> 
<p><img src="https://images2.imgbox.com/2f/72/reWfDvBR_o.gif" alt=""></p> 
<p><a id="article_bottom"></a>æœ€åï¼Œå®£ä¼ ä¸€ä¸‹å‘€~ğŸ‘‡ğŸ‘‡ğŸ‘‡<strong>æ›´å¤šæºç ã€èµ„æ–™ã€ç´ æã€è§£ç­”ã€äº¤æµ</strong>çš†ç‚¹å‡»ä¸‹æ–¹åç‰‡è·å–å‘€ğŸ‘‡ğŸ‘‡</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/1dba2725394c1d6399383211252e6a2c/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">åç«¯Windowsè½¯ä»¶ç¯å¢ƒå®‰è£…é…ç½®å¤§å…¨[JDKã€Redisã€RedisDesktopManagerã€Mysqlã€navicatã€VMWareã€finalshellã€MongoDB...æŒç»­æ›´æ–°ä¸­]</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/623cd219af19b7cf58fbfb78d573df0d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">æ•°æ®ç»“æ„-è¿·å®«é—®é¢˜</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ç¼–ç¨‹å¤§å’–.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>