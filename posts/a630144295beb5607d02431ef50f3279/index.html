<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>å®¿èˆç®¡ç†ç³»ç»Ÿçš„è®¾è®¡ä¸å®ç° ï¼ˆå«æºç &#43;sql&#43;è§†é¢‘å¯¼å…¥æ•™ç¨‹ï¼‰ - ç¼–ç¨‹å¤§å’–</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/a630144295beb5607d02431ef50f3279/">
  <meta property="og:site_name" content="ç¼–ç¨‹å¤§å’–">
  <meta property="og:title" content="å®¿èˆç®¡ç†ç³»ç»Ÿçš„è®¾è®¡ä¸å®ç° ï¼ˆå«æºç &#43;sql&#43;è§†é¢‘å¯¼å…¥æ•™ç¨‹ï¼‰">
  <meta property="og:description" content="ğŸ‘‰æ–‡æœ«æŸ¥çœ‹é¡¹ç›®åŠŸèƒ½è§†é¢‘æ¼”ç¤º&#43;è·å–æºç &#43;sqlè„šæœ¬&#43;è§†é¢‘å¯¼å…¥æ•™ç¨‹è§†é¢‘ 1 ã€åŠŸèƒ½æè¿° å®¿èˆç®¡ç†ç³»ç»Ÿæ‹¥æœ‰ä¸‰ä¸ªè§’è‰²ï¼Œåˆ†åˆ«ä¸ºç³»ç»Ÿç®¡ç†å‘˜ã€å®¿èˆç®¡ç†å‘˜ä»¥åŠå­¦ç”Ÿã€‚å…¶åŠŸèƒ½å¦‚ä¸‹ï¼š
ç®¡ç†å‘˜ï¼šå®¿èˆç®¡ç†å‘˜ç®¡ç†ã€å­¦ç”Ÿç®¡ç†ã€å®¿èˆæ¥¼ç®¡ç†ã€ç¼ºå‹¤è®°å½•ç®¡ç†ã€ä¸ªäººå¯†ç ä¿®æ”¹ç­‰
å®¿èˆç®¡ç†å‘˜ï¼šæŸ¥çœ‹å­¦ç”ŸåŠæ·»åŠ ç¼ºå‹¤è®°å½•ã€ç¼ºå‹¤è®°å½•æŸ¥çœ‹å’Œä¿®æ”¹
å­¦ç”Ÿï¼šæŸ¥çœ‹è‡ªå·±çš„ç¼ºå‹¤è®°å½•ã€ä¿®æ”¹å¯†ç 
1.1 èƒŒæ™¯æè¿° å®¿èˆç®¡ç†ç³»ç»Ÿæ˜¯ä¸ºå­¦æ ¡æˆ–å¤§å­¦è®¾è®¡çš„ä¸€ç§è½¯ä»¶ç³»ç»Ÿï¼Œæ—¨åœ¨ç®€åŒ–å’Œæ”¹è¿›å­¦ç”Ÿå®¿èˆçš„ç®¡ç†å’Œè¿ä½œã€‚è¯¥ç³»ç»Ÿé€šå¸¸æ¶µç›–äº†å¤šä¸ªæ–¹é¢ï¼ŒåŒ…æ‹¬å­¦ç”Ÿå…¥ä½ç®¡ç†ã€æˆ¿é—´åˆ†é…ã€è®¾æ–½ç»´æŠ¤ã€å®‰å…¨ç®¡ç†ã€è´¹ç”¨ç»“ç®—ç­‰åŠŸèƒ½ã€‚å®ƒå¯ä»¥å¸®åŠ©ç®¡ç†è€…æ›´æœ‰æ•ˆåœ°ç›‘ç£å®¿èˆèµ„æºçš„ä½¿ç”¨æƒ…å†µï¼Œç¡®ä¿å­¦ç”Ÿçš„å±…ä½ç¯å¢ƒå®‰å…¨èˆ’é€‚ã€‚æ­¤å¤–ï¼Œå®ƒè¿˜å¯ä»¥æä¾›å­¦ç”Ÿè‡ªä¸»é€‰æ‹©å®¤å‹å’Œæˆ¿é—´çš„åŠŸèƒ½ï¼ŒåŒæ—¶ç®€åŒ–æŠ¥ä¿®æµç¨‹å’Œè´¹ç”¨æ”¯ä»˜æ–¹å¼ï¼Œæé«˜æ•´ä½“ç®¡ç†æ•ˆç‡ã€‚éšç€æŠ€æœ¯çš„ä¸æ–­å‘å±•ï¼Œè®¸å¤šå®¿èˆç®¡ç†ç³»ç»Ÿè¿˜æ•´åˆäº†æ™ºèƒ½è®¾å¤‡å’Œæ•°æ®åˆ†æåŠŸèƒ½ï¼Œä»¥æä¾›æ›´æ™ºèƒ½åŒ–ã€ä¾¿æ·çš„æœåŠ¡ã€‚é€šè¿‡è¿™äº›åŠŸèƒ½ï¼Œå®¿èˆç®¡ç†ç³»ç»Ÿå¯ä»¥å¸®åŠ©å­¦æ ¡æå‡å®¿èˆç®¡ç†æ°´å¹³ï¼Œå¢å¼ºå­¦ç”Ÿçš„å±…ä½ä½“éªŒï¼Œå¹¶ä¸ºç®¡ç†è€…æä¾›æ›´å…¨é¢çš„æ•°æ®æ”¯æŒæ¥åšå‡ºå†³ç­–ã€‚
2ã€é¡¹ç›®æŠ€æœ¯ åç«¯æ¡†æ¶ï¼š servletã€mvcæ¨¡å¼
å‰ç«¯æ¡†æ¶ï¼šbootstrapã€jsp
mavené¡¹ç›®ï¼šå¦
2.1 MVC MVCï¼ˆModel-View-Controllerï¼‰æ¡†æ¶æ˜¯ä¸€ç§ç”¨äºæ„å»ºWebåº”ç”¨ç¨‹åºçš„è½¯ä»¶æ¶æ„æ¨¡å¼ã€‚å®ƒå°†åº”ç”¨ç¨‹åºåˆ†ä¸ºä¸‰ä¸ªæ ¸å¿ƒéƒ¨åˆ†ï¼šæ¨¡å‹ï¼ˆModelï¼‰ã€è§†å›¾ï¼ˆViewï¼‰å’Œæ§åˆ¶å™¨ï¼ˆControllerï¼‰ã€‚æ¨¡å‹è´Ÿè´£å¤„ç†æ•°æ®é€»è¾‘ï¼ŒåŒ…æ‹¬æ•°æ®åº“äº¤äº’ã€æ•°æ®å¤„ç†å’Œä¸šåŠ¡è§„åˆ™ã€‚è§†å›¾è´Ÿè´£ç”¨æˆ·ç•Œé¢çš„å‘ˆç°ï¼Œå°†æ•°æ®ä»¥æ˜“äºç†è§£çš„å½¢å¼å±•ç¤ºç»™ç”¨æˆ·ã€‚æ§åˆ¶å™¨å……å½“ä¸­é—´äººï¼Œæ¥æ”¶ç”¨æˆ·è¾“å…¥å¹¶è°ƒç”¨ç›¸åº”çš„æ¨¡å‹å’Œè§†å›¾æ¥å®Œæˆç”¨æˆ·è¯·æ±‚ã€‚MVCæ¡†æ¶ä½¿ä»£ç åˆ†ç¦»ï¼Œæé«˜äº†åº”ç”¨ç¨‹åºçš„å¯ç»´æŠ¤æ€§å’Œæ‰©å±•æ€§ã€‚å¼€å‘äººå‘˜å¯ä»¥ç‹¬ç«‹åœ°ä¿®æ”¹æ¨¡å‹ã€è§†å›¾æˆ–æ§åˆ¶å™¨ï¼Œè€Œä¸ä¼šå½±å“å…¶ä»–éƒ¨åˆ†ã€‚è¿™ç§åˆ†ç¦»ä¹Ÿæœ‰åŠ©äºå¤šäººåˆä½œå¼€å‘é¡¹ç›®ã€‚MVCæ¡†æ¶è¿˜ä¿ƒè¿›äº†å‰åç«¯çš„åˆ†ç¦»ï¼Œä½¿å‰ç«¯å·¥ç¨‹å¸ˆå’Œåç«¯å·¥ç¨‹å¸ˆèƒ½å¤Ÿæ›´å¥½åœ°ååŒå·¥ä½œï¼Œä»è€Œæé«˜äº†å¼€å‘æ•ˆç‡ã€‚
2.2 mysql MySQLæ˜¯ä¸€æ¬¾Relational Database Management Systemï¼Œç›´è¯‘è¿‡æ¥çš„æ„æ€å°±æ˜¯å…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼ŒMySQLæœ‰ç€å®ƒç‹¬ç‰¹çš„ç‰¹ç‚¹ï¼Œè¿™äº›ç‰¹ç‚¹ä½¿ä»–æˆä¸ºç›®å‰æœ€æµè¡Œçš„RDBMSä¹‹ä¸€ï¼ŒMySQLæƒ³æ¯”ä¸å…¶ä»–æ•°æ®åº“å¦‚ORACLEã€DB2ç­‰ï¼Œå®ƒå±äºä¸€æ¬¾ä½“ç§¯å°ã€é€Ÿåº¦å¿«çš„æ•°æ®åº“ï¼Œé‡ç‚¹æ˜¯å®ƒç¬¦åˆæœ¬æ¬¡æ¯•ä¸šè®¾è®¡çš„çœŸå®ç§Ÿèµç¯å¢ƒï¼Œæ‹¥æœ‰æˆæœ¬ä½ï¼Œå¼€å‘æºç è¿™äº›ç‰¹ç‚¹ï¼Œè¿™ä¹Ÿæ˜¯é€‰æ‹©å®ƒçš„ä¸»è¦åŸå› ã€‚
3ã€å¼€å‘ç¯å¢ƒ mysql5-8ã€tomcat8-10ã€JDK1.8&#43;
4ã€åŠŸèƒ½æˆªå›¾&#43;è§†é¢‘æ¼”ç¤º&#43;æ–‡æ¡£ç›®å½• 4.1ç³»ç»Ÿç™»å½• ç³»ç»Ÿä¸‰ç§è§’è‰²é€šè¿‡æ­¤ç•Œé¢ç™»å½•å®¿èˆç®¡ç†ç³»ç»Ÿï¼Œç»è¿‡å¯†ç éªŒè¯é€šè¿‡åï¼Œåˆ†åˆ«è·³è½¬è‡³ä¸åŒçš„é¡µé¢
4.2ç³»ç»Ÿç®¡ç†å‘˜-å®¿èˆæ¥¼ç®¡ç† ç³»ç»Ÿç®¡ç†å‘˜å¯ä»¥æ·»åŠ å®¿èˆæ¥¼ï¼Œå¹¶èƒ½å¤Ÿæ ¹æ®å®¿èˆæ¥¼åç§°æœç´¢ç›¸å¯¹åº”çš„ä¿¡æ¯ï¼ŒåŒæ—¶ç³»ç»Ÿç®¡ç†å‘˜è¿˜å¯ä»¥ä¿®æ”¹å’Œåˆ é™¤å®¿èˆæ¥¼ï¼Œä»¥åŠç»™ä¸åŒçš„å®¿èˆæ¥¼è®¾ç½®ç®¡ç†å‘˜ç­‰åŠŸèƒ½ã€‚
4.3ç³»ç»Ÿç®¡ç†å‘˜-å­¦ç”Ÿç®¡ç† ç³»ç»Ÿç®¡ç†å‘˜å¯ä»¥æ·»åŠ ã€ä¿®æ”¹ã€åˆ é™¤å­¦ç”Ÿï¼ŒåŒæ—¶å¯ä»¥æŒ‰ç…§å®¿èˆæ¥¼ã€å§“åã€å­¦å·ç­‰æ¡ä»¶æœç´¢å­¦ç”Ÿã€‚ç³»ç»Ÿç®¡ç†å‘˜çš„å…¶å®ƒåŠŸèƒ½ä¸ä¸Šè¿°åŠŸèƒ½ç±»ä¼¼ï¼Œä¸”å¯ä»¥åœ¨è§†é¢‘ä¸­çœ‹åˆ°ï¼Œè¿™é‡Œä¸åœ¨èµ˜è¿°ã€‚
4.4å®¿èˆç®¡ç†å‘˜-ç¼ºå‹¤è®°å½•ç®¡ç† å®¿èˆç®¡ç†å‘˜å¯ä»¥é€šè¿‡å§“åå­¦å·ç­‰æ¡ä»¶æœç´¢å­¦ç”Ÿï¼Œå¹¶ç»™å­¦ç”Ÿæ·»åŠ ã€ä¿®æ”¹å’Œåˆ é™¤ç›¸åº”çš„ç¼ºå‹¤è®°å½•
4.5å­¦ç”Ÿç•Œé¢ å­¦ç”ŸæŸ¥çœ‹è‡ªå·±çš„ç¼ºå‹¤è®°å½•
5 ã€æ ¸å¿ƒä»£ç å®ç° 5.1 é…ç½®ä»£ç  dbUrl=jdbc:mysql://localhost:3306/db_dorm?characterEncoding=utf8&amp;useSSL=false&amp;serverTimezone=UTC&amp;rewriteBatchedStatements=true dbUserName=root dbPassword=root jdbcName=com.mysql.cj.jdbc.Driver pageSize=4 5.2 å…¶å®ƒæ ¸å¿ƒä»£ç  package com.lero.web; import java.io.IOException; import java.sql.Connection; import javax.servlet.ServletException; import javax.servlet.http.Cookie; import javax.servlet.http.HttpServlet; import javax.servlet.http.HttpServletRequest; import javax.servlet.http.HttpServletResponse; import javax.servlet.http.HttpSession; import com.lero.dao.UserDao; import com.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2023-12-11T09:30:00+08:00">
    <meta property="article:modified_time" content="2023-12-11T09:30:00+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ç¼–ç¨‹å¤§å’–" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ç¼–ç¨‹å¤§å’–</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">å®¿èˆç®¡ç†ç³»ç»Ÿçš„è®¾è®¡ä¸å®ç° ï¼ˆå«æºç &#43;sql&#43;è§†é¢‘å¯¼å…¥æ•™ç¨‹ï¼‰</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h4><a id="point_rightsql_1"></a>ğŸ‘‰<strong>æ–‡æœ«æŸ¥çœ‹é¡¹ç›®åŠŸèƒ½è§†é¢‘æ¼”ç¤º+è·å–æºç +sqlè„šæœ¬+è§†é¢‘å¯¼å…¥æ•™ç¨‹è§†é¢‘</strong></h4> 
<h3><a id="1__2"></a>1 ã€åŠŸèƒ½æè¿°</h3> 
<p>â€ƒâ€ƒå®¿èˆç®¡ç†ç³»ç»Ÿæ‹¥æœ‰ä¸‰ä¸ªè§’è‰²ï¼Œåˆ†åˆ«ä¸ºç³»ç»Ÿç®¡ç†å‘˜ã€å®¿èˆç®¡ç†å‘˜ä»¥åŠå­¦ç”Ÿã€‚å…¶åŠŸèƒ½å¦‚ä¸‹ï¼š</p> 
<p>ç®¡ç†å‘˜ï¼šå®¿èˆç®¡ç†å‘˜ç®¡ç†ã€å­¦ç”Ÿç®¡ç†ã€å®¿èˆæ¥¼ç®¡ç†ã€ç¼ºå‹¤è®°å½•ç®¡ç†ã€ä¸ªäººå¯†ç ä¿®æ”¹ç­‰</p> 
<p>å®¿èˆç®¡ç†å‘˜ï¼šæŸ¥çœ‹å­¦ç”ŸåŠæ·»åŠ ç¼ºå‹¤è®°å½•ã€ç¼ºå‹¤è®°å½•æŸ¥çœ‹å’Œä¿®æ”¹</p> 
<p>å­¦ç”Ÿï¼šæŸ¥çœ‹è‡ªå·±çš„ç¼ºå‹¤è®°å½•ã€ä¿®æ”¹å¯†ç </p> 
<h4><a id="11__11"></a>1.1 èƒŒæ™¯æè¿°</h4> 
<p>â€ƒâ€ƒå®¿èˆç®¡ç†ç³»ç»Ÿæ˜¯ä¸ºå­¦æ ¡æˆ–å¤§å­¦è®¾è®¡çš„ä¸€ç§è½¯ä»¶ç³»ç»Ÿï¼Œæ—¨åœ¨ç®€åŒ–å’Œæ”¹è¿›å­¦ç”Ÿå®¿èˆçš„ç®¡ç†å’Œè¿ä½œã€‚è¯¥ç³»ç»Ÿé€šå¸¸æ¶µç›–äº†å¤šä¸ªæ–¹é¢ï¼ŒåŒ…æ‹¬å­¦ç”Ÿå…¥ä½ç®¡ç†ã€æˆ¿é—´åˆ†é…ã€è®¾æ–½ç»´æŠ¤ã€å®‰å…¨ç®¡ç†ã€è´¹ç”¨ç»“ç®—ç­‰åŠŸèƒ½ã€‚å®ƒå¯ä»¥å¸®åŠ©ç®¡ç†è€…æ›´æœ‰æ•ˆåœ°ç›‘ç£å®¿èˆèµ„æºçš„ä½¿ç”¨æƒ…å†µï¼Œç¡®ä¿å­¦ç”Ÿçš„å±…ä½ç¯å¢ƒå®‰å…¨èˆ’é€‚ã€‚æ­¤å¤–ï¼Œå®ƒè¿˜å¯ä»¥æä¾›å­¦ç”Ÿè‡ªä¸»é€‰æ‹©å®¤å‹å’Œæˆ¿é—´çš„åŠŸèƒ½ï¼ŒåŒæ—¶ç®€åŒ–æŠ¥ä¿®æµç¨‹å’Œè´¹ç”¨æ”¯ä»˜æ–¹å¼ï¼Œæé«˜æ•´ä½“ç®¡ç†æ•ˆç‡ã€‚éšç€æŠ€æœ¯çš„ä¸æ–­å‘å±•ï¼Œè®¸å¤šå®¿èˆç®¡ç†ç³»ç»Ÿè¿˜æ•´åˆäº†æ™ºèƒ½è®¾å¤‡å’Œæ•°æ®åˆ†æåŠŸèƒ½ï¼Œä»¥æä¾›æ›´æ™ºèƒ½åŒ–ã€ä¾¿æ·çš„æœåŠ¡ã€‚é€šè¿‡è¿™äº›åŠŸèƒ½ï¼Œå®¿èˆç®¡ç†ç³»ç»Ÿå¯ä»¥å¸®åŠ©å­¦æ ¡æå‡å®¿èˆç®¡ç†æ°´å¹³ï¼Œå¢å¼ºå­¦ç”Ÿçš„å±…ä½ä½“éªŒï¼Œå¹¶ä¸ºç®¡ç†è€…æä¾›æ›´å…¨é¢çš„æ•°æ®æ”¯æŒæ¥åšå‡ºå†³ç­–ã€‚</p> 
<h3><a id="2_13"></a>2ã€é¡¹ç›®æŠ€æœ¯</h3> 
<p>åç«¯æ¡†æ¶ï¼š servletã€mvcæ¨¡å¼</p> 
<p>å‰ç«¯æ¡†æ¶ï¼šbootstrapã€jsp</p> 
<p>mavené¡¹ç›®ï¼šå¦</p> 
<h4><a id="21_MVC_22"></a>2.1 MVC</h4> 
<p>â€ƒâ€ƒMVCï¼ˆModel-View-Controllerï¼‰æ¡†æ¶æ˜¯ä¸€ç§ç”¨äºæ„å»ºWebåº”ç”¨ç¨‹åºçš„è½¯ä»¶æ¶æ„æ¨¡å¼ã€‚å®ƒå°†åº”ç”¨ç¨‹åºåˆ†ä¸ºä¸‰ä¸ªæ ¸å¿ƒéƒ¨åˆ†ï¼šæ¨¡å‹ï¼ˆModelï¼‰ã€è§†å›¾ï¼ˆViewï¼‰å’Œæ§åˆ¶å™¨ï¼ˆControllerï¼‰ã€‚æ¨¡å‹è´Ÿè´£å¤„ç†æ•°æ®é€»è¾‘ï¼ŒåŒ…æ‹¬æ•°æ®åº“äº¤äº’ã€æ•°æ®å¤„ç†å’Œä¸šåŠ¡è§„åˆ™ã€‚è§†å›¾è´Ÿè´£ç”¨æˆ·ç•Œé¢çš„å‘ˆç°ï¼Œå°†æ•°æ®ä»¥æ˜“äºç†è§£çš„å½¢å¼å±•ç¤ºç»™ç”¨æˆ·ã€‚æ§åˆ¶å™¨å……å½“ä¸­é—´äººï¼Œæ¥æ”¶ç”¨æˆ·è¾“å…¥å¹¶è°ƒç”¨ç›¸åº”çš„æ¨¡å‹å’Œè§†å›¾æ¥å®Œæˆç”¨æˆ·è¯·æ±‚ã€‚MVCæ¡†æ¶ä½¿ä»£ç åˆ†ç¦»ï¼Œæé«˜äº†åº”ç”¨ç¨‹åºçš„å¯ç»´æŠ¤æ€§å’Œæ‰©å±•æ€§ã€‚å¼€å‘äººå‘˜å¯ä»¥ç‹¬ç«‹åœ°ä¿®æ”¹æ¨¡å‹ã€è§†å›¾æˆ–æ§åˆ¶å™¨ï¼Œè€Œä¸ä¼šå½±å“å…¶ä»–éƒ¨åˆ†ã€‚è¿™ç§åˆ†ç¦»ä¹Ÿæœ‰åŠ©äºå¤šäººåˆä½œå¼€å‘é¡¹ç›®ã€‚MVCæ¡†æ¶è¿˜ä¿ƒè¿›äº†å‰åç«¯çš„åˆ†ç¦»ï¼Œä½¿å‰ç«¯å·¥ç¨‹å¸ˆå’Œåç«¯å·¥ç¨‹å¸ˆèƒ½å¤Ÿæ›´å¥½åœ°ååŒå·¥ä½œï¼Œä»è€Œæé«˜äº†å¼€å‘æ•ˆç‡ã€‚</p> 
<h4><a id="22_mysql_24"></a>2.2 mysql</h4> 
<p>â€ƒâ€ƒMySQLæ˜¯ä¸€æ¬¾Relational Database Management Systemï¼Œç›´è¯‘è¿‡æ¥çš„æ„æ€å°±æ˜¯å…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼ŒMySQLæœ‰ç€å®ƒç‹¬ç‰¹çš„ç‰¹ç‚¹ï¼Œè¿™äº›ç‰¹ç‚¹ä½¿ä»–æˆä¸ºç›®å‰æœ€æµè¡Œçš„RDBMSä¹‹ä¸€ï¼ŒMySQLæƒ³æ¯”ä¸å…¶ä»–æ•°æ®åº“å¦‚ORACLEã€DB2ç­‰ï¼Œå®ƒå±äºä¸€æ¬¾ä½“ç§¯å°ã€é€Ÿåº¦å¿«çš„æ•°æ®åº“ï¼Œé‡ç‚¹æ˜¯å®ƒç¬¦åˆæœ¬æ¬¡æ¯•ä¸šè®¾è®¡çš„çœŸå®ç§Ÿèµç¯å¢ƒï¼Œæ‹¥æœ‰æˆæœ¬ä½ï¼Œå¼€å‘æºç è¿™äº›ç‰¹ç‚¹ï¼Œè¿™ä¹Ÿæ˜¯é€‰æ‹©å®ƒçš„ä¸»è¦åŸå› ã€‚</p> 
<h3><a id="3_27"></a>3ã€å¼€å‘ç¯å¢ƒ</h3> 
<p>mysql5-8ã€tomcat8-10ã€JDK1.8+</p> 
<h3><a id="4_31"></a>4ã€åŠŸèƒ½æˆªå›¾+è§†é¢‘æ¼”ç¤º+æ–‡æ¡£ç›®å½•</h3> 
<h4><a id="41_32"></a>4.1ç³»ç»Ÿç™»å½•</h4> 
<p><img src="https://images2.imgbox.com/cf/f4/ebrjwmqv_o.jpg" alt="ç™»å½•"></p> 
<p>ç³»ç»Ÿä¸‰ç§è§’è‰²é€šè¿‡æ­¤ç•Œé¢ç™»å½•å®¿èˆç®¡ç†ç³»ç»Ÿï¼Œç»è¿‡å¯†ç éªŒè¯é€šè¿‡åï¼Œåˆ†åˆ«è·³è½¬è‡³ä¸åŒçš„é¡µé¢</p> 
<h4><a id="42_38"></a>4.2ç³»ç»Ÿç®¡ç†å‘˜-å®¿èˆæ¥¼ç®¡ç†</h4> 
<p><img src="https://images2.imgbox.com/72/4c/c08eEl7B_o.png" alt="image-20220506174250073"></p> 
<p>ç³»ç»Ÿç®¡ç†å‘˜å¯ä»¥æ·»åŠ å®¿èˆæ¥¼ï¼Œå¹¶èƒ½å¤Ÿæ ¹æ®å®¿èˆæ¥¼åç§°æœç´¢ç›¸å¯¹åº”çš„ä¿¡æ¯ï¼ŒåŒæ—¶ç³»ç»Ÿç®¡ç†å‘˜è¿˜å¯ä»¥ä¿®æ”¹å’Œåˆ é™¤å®¿èˆæ¥¼ï¼Œä»¥åŠç»™ä¸åŒçš„å®¿èˆæ¥¼è®¾ç½®ç®¡ç†å‘˜ç­‰åŠŸèƒ½ã€‚</p> 
<h4><a id="43_44"></a>4.3ç³»ç»Ÿç®¡ç†å‘˜-å­¦ç”Ÿç®¡ç†</h4> 
<p><img src="https://images2.imgbox.com/2f/ff/bWNqoWAE_o.jpg" alt="å­¦ç”Ÿç®¡ç†"></p> 
<p>ç³»ç»Ÿç®¡ç†å‘˜å¯ä»¥æ·»åŠ ã€ä¿®æ”¹ã€åˆ é™¤å­¦ç”Ÿï¼ŒåŒæ—¶å¯ä»¥æŒ‰ç…§å®¿èˆæ¥¼ã€å§“åã€å­¦å·ç­‰æ¡ä»¶æœç´¢å­¦ç”Ÿã€‚ç³»ç»Ÿç®¡ç†å‘˜çš„å…¶å®ƒåŠŸèƒ½ä¸ä¸Šè¿°åŠŸèƒ½ç±»ä¼¼ï¼Œä¸”å¯ä»¥åœ¨è§†é¢‘ä¸­çœ‹åˆ°ï¼Œè¿™é‡Œä¸åœ¨èµ˜è¿°ã€‚</p> 
<h4><a id="44_50"></a>4.4å®¿èˆç®¡ç†å‘˜-ç¼ºå‹¤è®°å½•ç®¡ç†</h4> 
<p><img src="https://images2.imgbox.com/d9/ed/0qSvr2rY_o.png" alt="image-20220506174828040"></p> 
<p>å®¿èˆç®¡ç†å‘˜å¯ä»¥é€šè¿‡å§“åå­¦å·ç­‰æ¡ä»¶æœç´¢å­¦ç”Ÿï¼Œå¹¶ç»™å­¦ç”Ÿæ·»åŠ ã€ä¿®æ”¹å’Œåˆ é™¤ç›¸åº”çš„ç¼ºå‹¤è®°å½•</p> 
<h4><a id="45_56"></a>4.5å­¦ç”Ÿç•Œé¢</h4> 
<p><img src="https://images2.imgbox.com/9a/dc/48jpIzIP_o.jpg" alt="å­¦ç”ŸæŸ¥çœ‹ç¼ºå‹¤è®°å½•"></p> 
<p>å­¦ç”ŸæŸ¥çœ‹è‡ªå·±çš„ç¼ºå‹¤è®°å½•</p> 
<h3><a id="5__64"></a>5 ã€æ ¸å¿ƒä»£ç å®ç°</h3> 
<h4><a id="51__65"></a>5.1 é…ç½®ä»£ç </h4> 
<pre><code>dbUrl=jdbc:mysql://localhost:3306/db_dorm?characterEncoding=utf8&amp;useSSL=false&amp;serverTimezone=UTC&amp;rewriteBatchedStatements=true
dbUserName=root
dbPassword=root
jdbcName=com.mysql.cj.jdbc.Driver
pageSize=4
</code></pre> 
<h4><a id="52__73"></a>5.2 å…¶å®ƒæ ¸å¿ƒä»£ç </h4> 
<pre><code>package com.lero.web;

import java.io.IOException;
import java.sql.Connection;

import javax.servlet.ServletException;
import javax.servlet.http.Cookie;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.servlet.http.HttpSession;

import com.lero.dao.UserDao;
import com.lero.model.Admin;
import com.lero.model.DormManager;
import com.lero.model.Student;
import com.lero.util.DbUtil;

public class LoginServlet extends HttpServlet {

	/**
	 * 
	 */
	private static final long serialVersionUID = 1L;

	DbUtil dbUtil = new DbUtil();
	UserDao userDao = new UserDao();
	
	@Override
	protected void doGet(HttpServletRequest request, HttpServletResponse response)
			throws ServletException, IOException {
		this.doPost(request, response);
	}

	@Override
	protected void doPost(HttpServletRequest request, HttpServletResponse response)
			throws ServletException, IOException {
		request.setCharacterEncoding("utf-8");
		HttpSession session = request.getSession();
		String userName = request.getParameter("userName");
		String password = request.getParameter("password");
		String remember = request.getParameter("remember");
		String userType = request.getParameter("userType");
		
		Connection con = null;
		try {
			con=dbUtil.getCon();
			Admin currentAdmin = null;
			DormManager currentDormManager = null;
			Student currentStudent = null;
			if("admin".equals(userType)) {
				Admin admin = new Admin(userName, password);
				currentAdmin = userDao.Login(con, admin);
				if(currentAdmin == null) {
					request.setAttribute("admin", admin);
					request.setAttribute("error", "ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯ï¼");
					request.getRequestDispatcher("login.jsp").forward(request, response);
				} else {
					if("remember-me".equals(remember)) {
						rememberMe(userName, password, userType,response);
					} else {
						deleteCookie(userName, request, response);
					}
					session.setAttribute("currentUserType", "admin");
					session.setAttribute("currentUser", currentAdmin);
					request.setAttribute("mainPage", "admin/blank.jsp");
					request.getRequestDispatcher("mainAdmin.jsp").forward(request, response);
				}
			} else if("dormManager".equals(userType)) {
				DormManager dormManager = new DormManager(userName, password);
				currentDormManager = userDao.Login(con, dormManager);
				if(currentDormManager == null) {
					request.setAttribute("dormManager", dormManager);
					request.setAttribute("error", "ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯ï¼");
					request.getRequestDispatcher("login.jsp").forward(request, response);
				} else {
					if("remember-me".equals(remember)) {
						rememberMe(userName, password, userType,response);
					} else {
						deleteCookie(userName, request, response);
					}
					session.setAttribute("currentUserType", "dormManager");
					session.setAttribute("currentUser", currentDormManager);
					request.setAttribute("mainPage", "dormManager/blank.jsp");
					request.getRequestDispatcher("mainManager.jsp").forward(request, response);
				}
			} else if("student".equals(userType)) {
				Student student = new Student(userName, password);
				currentStudent = userDao.Login(con, student);
				if(currentStudent == null) {
					request.setAttribute("student", student);
					request.setAttribute("error", "ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯ï¼");
					request.getRequestDispatcher("login.jsp").forward(request, response);
				} else {
					if("remember-me".equals(remember)) {
						rememberMe(userName, password, userType,response);
					} else {
						deleteCookie(userName, request, response);
					}
					session.setAttribute("currentUserType", "student");
					session.setAttribute("currentUser", currentStudent);
					request.setAttribute("mainPage", "student/blank.jsp");
					request.getRequestDispatcher("mainStudent.jsp").forward(request, response);
				}
			} 
			
		} catch(Exception e) {
			e.printStackTrace();
		} finally {
			try {
				dbUtil.closeCon(con);
			} catch (Exception e) {
				e.printStackTrace();
			}
		}
	}

	private void rememberMe(String userName, String password, String userType, HttpServletResponse response) {
		Cookie user = new Cookie("dormuser", userName+"-"+password+"-"+userType+"-"+"yes");
		user.setMaxAge(1*60*60*24*7);
		response.addCookie(user);
	}
	
	private void deleteCookie(String userName, HttpServletRequest request, HttpServletResponse response) {
		Cookie[] cookies=request.getCookies();
		for(int i=0;cookies!=null &amp;&amp; i&lt;cookies.length;i++){
			if(cookies[i].getName().equals("dormuser")){
				if(userName.equals(userName=cookies[i].getValue().split("-")[0])) {
					Cookie cookie = new Cookie(cookies[i].getName(), null);
					cookie.setMaxAge(0);
					response.addCookie(cookie);
					break;
				}
			}
		}
	}
}

</code></pre> 
<h3><a id="6__214"></a>6 ã€åŠŸèƒ½è§†é¢‘æ¼”ç¤º</h3> 
<p></p> 
<div class="csdn-video-box"> 
 <iframe id="AS1UGZcN-1702215034265" frameborder="0" src="https://player.bilibili.com/player.html?aid=981250290" allowfullscreen="true" data-mediaembed="bilibili"></iframe> 
 <p>å­¦ç”Ÿå®¿èˆç®¡ç†ç³»ç»Ÿ</p> 
</div> 
<p></p> 
<h3><a id="7___218"></a>7 ã€ è·å–æ–¹å¼</h3> 
<h4><a id="point_down___219"></a>ğŸ‘‡ å¤§å®¶ç‚¹èµã€æ”¶è—ã€å…³æ³¨ã€è¯„è®ºå•¦ ğŸ‘‡ğŸ»è·å–è”ç³»æ–¹å¼ï¼Œåå°å›å¤å…³é”®è¯ï¼šå®¿èˆğŸ‘‡ğŸ»</h4> 
<p><img src="https://images2.imgbox.com/4c/3a/5lQC6hAW_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/466a0889b77c34c74bf45df2cf139034/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">ä¿å§†çº§â€”â€”æˆåŠŸè§£å†³Android studioä¸­ä¸‹è½½gradleæ…¢çš„æ–¹æ³•</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/295f0817f5ebd335ad303e8067ab1492/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">åŒ¿åå†…éƒ¨ç±» - ( é›¶åŸºç¡€å­¦java )</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ç¼–ç¨‹å¤§å’–.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>