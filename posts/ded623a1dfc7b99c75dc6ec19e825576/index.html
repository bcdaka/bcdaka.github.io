<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>湖南大学python头歌实训 实验14：递归与二分法 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/ded623a1dfc7b99c75dc6ec19e825576/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="湖南大学python头歌实训 实验14：递归与二分法">
  <meta property="og:description" content="第4章算法思维4.3.1 二分搜索 第1关：不重复序列二分搜索 #Student start def findx(A,x): l,r = 0,len(A)-1 while l&lt;=r: mid = (l&#43;r)//2 if A[mid] == x: break elif A[mid] &lt; x: l = mid&#43;1 elif A[mid] &gt; x: r = mid - 1 if A[mid] != x: return -1 return mid #Student End Y = input().split() #输入格式[1,2,3,4,5] 4 A = eval(Y[0]) x = eval(Y[1]) ind = findx(A,x) print(ind) 第2关：重复序列的二分搜索 #Student start def findx(A,x): l,r = 0,len(A)-1 if A[0]==x: return 0 while l&lt;=r: mid = (l&#43;r)//2 if A[mid] == x: break elif A[mid] &lt; x: l = mid&#43;1 elif A[mid] &gt; x: r = mid - 1 if A[mid] !">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-04-28T20:41:32+08:00">
    <meta property="article:modified_time" content="2024-04-28T20:41:32+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">湖南大学python头歌实训 实验14：递归与二分法</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h3>第4章算法思维4.3.1 二分搜索</h3> 
<h4>第1关：不重复序列二分搜索</h4> 
<pre><code class="language-python">#Student start
def findx(A,x):
    l,r = 0,len(A)-1
    while l&lt;=r:
        mid = (l+r)//2
        if A[mid] == x:
            break
        elif A[mid] &lt; x:
            l = mid+1
        elif A[mid] &gt; x:
            r = mid - 1
    if A[mid] != x:
        return -1
    return mid

#Student End
Y = input().split() #输入格式[1,2,3,4,5] 4
A = eval(Y[0]) 
x = eval(Y[1])
ind = findx(A,x)
print(ind)
</code></pre> 
<h4>第2关：重复序列的二分搜索</h4> 
<pre><code class="language-python">#Student start
def findx(A,x):
    l,r = 0,len(A)-1
    if A[0]==x:
        return 0
    while l&lt;=r:
        mid = (l+r)//2
        if A[mid] == x:
            break
        elif A[mid] &lt; x:
            l = mid+1
        elif A[mid] &gt; x:
            r = mid - 1
    if A[mid] != x:
        return -1
    while A[mid] == x:
        mid -= 1
    return mid+1
    
    

#Student End
Y = input().split()
A = eval(Y[0])
x = eval(Y[1])
A.sort()
ind = findx(A,x)
print(ind)
</code></pre> 
<p>有点说法，注意第一个数可能就是目标值</p> 
<h4>第3关：重复序列二分搜索2</h4> 
<pre><code class="language-python"> #Student start
def findx(A,x):
    l,r = 0,len(A)-1
    while l&lt;=r:
        mid = (l+r)//2
        if A[mid] == x:
            break
        elif A[mid] &lt; x:
            l = mid+1
        elif A[mid] &gt; x:
            r = mid - 1
    if A[mid] != x:
        return -1
    while A[mid] == x:
        mid += 1
        if mid == len(A):
            break
    return mid-1
    

#Student End
Y = input().split()
A = eval(Y[0])
x = eval(Y[1])
A.sort()
ind = findx(A,x)
print(ind)
</code></pre> 
<h4>第4关：重复序列二分搜索3</h4> 
<pre><code class="language-python"> #Student Start
l= input().split()
li,target = eval(l[0]),eval(l[1])
# print(len(li),target)
def s(li,target):
    l,r = 0,len(li)-1
    while l&lt;=r:
        mid = (l+r)//2
        if li[mid] == target:
            break
        elif li[mid] &lt; target:
            l = mid+1
        elif li[mid] &gt; target:
            r = mid - 1
        # print(mid)
    if li[mid] != target: 
        print(f"{target}不在列表中")
        return -1
    while li[mid] == target:
        mid -= 1
        if mid&lt;0:
            print(f"{target}已经是列表中最小的数")
            return -1
    return mid
    
t = s(li,target)
if t!=-1:
    print(f"比{target}小的最大的数是{li[t]}最后出现的下标位置为{t}")

 
 #Student End</code></pre> 
<h3>第4章算法思维4.3.2 二分法求方程的根</h3> 
<h4>第1关：给定方程给定单调上升区间方程的根</h4> 
<pre><code class="language-python">def f(x):
    return x**2-10*x+3
#Student Start

for i in range(7,13):
    if f(i)==0:
        print("i"+".0000")
    elif f(i)*f(i+1)&lt;0:
        l,r = i,i+1
        while r-l&gt;1e-4:
            m = (l+r)/2
            if f(m)*f(r)&lt;0:
                l = m
            else:
                r = m 
        print(f"{m:.4f}")



########## end ##########      
   
   
#Student End
</code></pre> 
<p>一招鲜吃遍天</p> 
<h4>第2关：给定方程给定单调下降区间方程的根</h4> 
<pre><code class="language-python">def f(x):
    return x**2-10*x+3
#Student Start
for i in range(-2,2):
    if f(i)==0:
        print("i"+".0000")
    elif f(i)*f(i+1)&lt;0:
        l,r = i,i+1
        while r-l&gt;1e-4:
            m = (l+r)/2
            if f(m)*f(r)&lt;0:
                l = m
            else:
                r = m 
        print(f"{m:.4f}")
#def findroot(a,b,eps):</code></pre> 
<p>路径依赖了已经</p> 
<h4>第3关：给定方程给定区间内所有方程的根（可能多个）</h4> 
<pre><code class="language-python">def f(x):
    return x**2-10*x+3
#Student Start
for i in range(-2,12):
    if f(i)==0:
        print("i"+".0000")
    elif f(i)*f(i+1)&lt;0:
        l,r = i,i+1
        while r-l&gt;1e-4:
            m = (l+r)/2
            if f(m)*f(r)&lt;0:
                l = m
            else:
                r = m 
        print(f"{m:.4f}")</code></pre> 
<p>有难一点的题目可能步长要更小一点</p> 
<h3>第四章-算法思维-4.2 递归函数</h3> 
<h4>第1关：递归算法求n！</h4> 
<pre><code class="language-python">def factorial(n):
    if n == 1:
        return 1
    return n*factorial(n-1)

x = eval(input())
print(f"{x}!={factorial(x)}")</code></pre> 
<h4>第2关：累加和的递归算法</h4> 
<pre><code class="language-python">#请用递归算法实现
def s(n):
    if n==1:
        return 2
    return 2**(n)+s(n-1)

x = eval(input())
print(s(x)+1)</code></pre> 
<h4>第3关：汉诺塔问题</h4> 
<pre><code class="language-python">#请实现函数
def Hanoi(n,source,auxiliary,target):
    if n==1:
        print(f"{source} -&gt; {target}")
    else:
        Hanoi(n-1,source,target,auxiliary)
        Hanoi(1,source,auxiliary,target)
        Hanoi(n-1,auxiliary,source,target)

n = eval(input())
Hanoi(n,"A","C","B")</code></pre> 
<p>画图试试吧，或者b站上找个视频看看，入门递归真的很合适</p> 
<h4>第4关：计算黄金分割</h4> 
<pre><code class="language-python">#请在下面输入代码
def b(n):
    if n==0:
        return 1
    else:
        return 1+1/b(n-1)

x = eval(input())
if x&lt;=0:
    print("请输入正整数")
else:
    print(f"{b(x)-1:.6f}")
</code></pre> 
<h4>第5关：集合表示自然数</h4> 
<pre><code class="language-python">#请在下面输入代码

def F(n,mem):

    def S(n,f,mem):
        a = []
        if mem[n][0]:
            return mem[n][0]
        for i in range(n):
            a.append(f(i,mem))
            mem[n][0] = ",".join(a)
        return mem[n][0]

    if n == 0:
        return "{}"

    return "{"+S(n,F,mem)+"}" 

x = eval(input())
mem = [[0] for _ in range(x+1)]
a = F(x,mem)
print(a)

</code></pre> 
<p>博主当时写了一个小时，逗号一直加不对。。。</p> 
<p></p> 
<p><strong>总结：</strong></p> 
<p><strong>递归期末不考大题，但是是学习很多算法的基础，感兴趣的同学可以多了解</strong></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/00c544cf17839a800f8037b03bf2ec1a/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Kettle 创建mysql连接报错：Driver class ‘org.gjt.mm.mysql.Driver‘ could not be found, make sure the ‘MySQL‘</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6ed5fe3fda0f4dfd08265f8784266521/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【Python・统计学】Kruskal-Wallis检验/H检验（原理及代码）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>