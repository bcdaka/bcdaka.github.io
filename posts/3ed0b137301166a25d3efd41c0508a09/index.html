<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【数据结构与算法】Kadane‘s算法（动态规划、最大子数组和） - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/3ed0b137301166a25d3efd41c0508a09/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="【数据结构与算法】Kadane‘s算法（动态规划、最大子数组和）">
  <meta property="og:description" content="文章目录 一、算法原理二、例题2.1 最大子数组和2.2 环形子数组的最大和 一、算法原理 Kadane&#39;s算法是一种用于解决最大子数组和问题的动态规划算法。这类问题的目标是在给定整数数组中找到一个连续的子数组，使其元素之和最大（数组含有负数）。
算法的核心思想是通过迭代数组的每个元素，维护两个变量来跟踪局部最优解和全局最优解。
以下是Kadane’s算法的详细步骤：
初始化：
令 maxEndingHere 表示在当前位置结束的最大子数组和，初始值为数组的第一个元素。令 maxSoFar 表示全局最大子数组和，初始值也为数组的第一个元素。 迭代：
从数组的第二个元素开始迭代。
对于每个元素，计算在当前位置结束的最大子数组和：
maxEndingHere = max(nums[i], maxEndingHere &#43; nums[i]);
这表示要么继续当前子数组，要么从当前位置开始一个新的子数组。
更新全局最大子数组和：
maxSoFar = max(maxSoFar, maxEndingHere);
如果在当前位置结束的子数组和大于全局最大和，更新全局最大和。
返回结果：
当迭代完成后，maxSoFar 中存储的即为最大子数组和。 复杂度：
时间复杂度：O(n)，其中 n 为 nums 数组的长度。我们只需要遍历一遍数组即可求得答案。空间复杂度：O(1)。我们只需要常数空间存放若干变量。 图例：
简要说明：（如过当前值比前面的局部最大值&#43;当前值还大，那么就从当前值开始继续计算局部最大值）
i=0,maxEndingHere 、maxSoFar 初始值都为数组第一个元素，-2；开始循环，i=1，maxEndingHere = max(nums[1], maxEndingHere &#43; nums[1])，即maxEndingHere = max(1, -2 &#43; 1)=1，maxSoFar=1；i=2， maxEndingHere = max(nums[2], maxEndingHere &#43; nums[2])，即maxEndingHere = max(-3, 1 - 3)=-2，maxSoFar=1；i=3，maxEndingHere = max(nums[3], maxEndingHere &#43; nums[3])，即maxEndingHere = max(4, -2 &#43; 4)=4，maxSoFar=4；… 二、例题 2.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2023-11-20T21:13:01+08:00">
    <meta property="article:modified_time" content="2023-11-20T21:13:01+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【数据结构与算法】Kadane‘s算法（动态规划、最大子数组和）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atelier-sulphurpool-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#_3" rel="nofollow">一、算法原理</a></li><li><a href="#_51" rel="nofollow">二、例题</a></li><li><ul><li><a href="#21__52" rel="nofollow">2.1 最大子数组和</a></li><li><a href="#22__88" rel="nofollow">2.2 环形子数组的最大和</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="_3"></a>一、算法原理</h2> 
<p><code>Kadane's</code>算法是一种用于解决最大子数组和问题的动态规划算法。这类问题的目标是在给定整数数组中找到一个连续的子数组，使其元素之和最大（数组含有负数）。</p> 
<p>算法的核心思想是通过迭代数组的每个元素，维护两个变量来跟踪局部最优解和全局最优解。</p> 
<p>以下是Kadane’s算法的详细步骤：</p> 
<ol><li> <p><strong>初始化：</strong></p> 
  <ul><li>令 maxEndingHere 表示<strong>在当前位置结束的最大子数组和</strong>，初始值为数组的第一个元素。</li><li>令 maxSoFar 表示<strong>全局最大子数组和</strong>，初始值也为数组的第一个元素。</li></ul> </li><li> <p><strong>迭代：</strong></p> 
  <ul><li> <p>从数组的第二个元素开始迭代。</p> </li><li> <p>对于每个元素，计算在当前位置结束的最大子数组和：<br> <code>maxEndingHere = max(nums[i], maxEndingHere + nums[i]);</code><br> 这表示要么继续当前子数组，要么从当前位置开始一个新的子数组。</p> </li><li> <p>更新全局最大子数组和：<br> <code>maxSoFar = max(maxSoFar, maxEndingHere);</code><br> 如果在当前位置结束的子数组和大于全局最大和，更新全局最大和。</p> </li></ul> </li><li> <p><strong>返回结果：</strong></p> 
  <ul><li>当迭代完成后，maxSoFar 中存储的即为最大子数组和。</li></ul> </li></ol> 
<p><strong>复杂度：</strong></p> 
<ul><li>时间复杂度：O(n)，其中 n 为 nums 数组的长度。我们只需要遍历一遍数组即可求得答案。</li><li>空间复杂度：O(1)。我们只需要常数空间存放若干变量。</li></ul> 
<p>图例：<br> <img src="https://images2.imgbox.com/fa/9a/0E7R6SPj_o.png" alt="在这里插入图片描述" width="400"></p> 
<p>简要说明：（如过<strong>当前值</strong>比前面的<strong>局部最大值+当前值</strong>还大，那么就从当前值开始继续计算局部最大值）</p> 
<ol><li>i=0,maxEndingHere 、maxSoFar 初始值都为数组第一个元素，-2；</li><li>开始循环，i=1，maxEndingHere = max(nums[1], maxEndingHere + nums[1])，即maxEndingHere = max(1, -2 + 1)=1，maxSoFar=1；</li><li>i=2， maxEndingHere = max(nums[2], maxEndingHere + nums[2])，即maxEndingHere = max(-3, 1 - 3)=-2，maxSoFar=1；</li><li>i=3，maxEndingHere = max(nums[3], maxEndingHere + nums[3])，即maxEndingHere = max(4, -2 + 4)=4，maxSoFar=4；</li><li>…</li></ol> 
<h2><a id="_51"></a>二、例题</h2> 
<h3><a id="21__52"></a>2.1 最大子数组和</h3> 
<p><img src="https://images2.imgbox.com/54/40/gR94yTQk_o.png" alt="在这里插入图片描述" width="600"></p> 
<p>解答：</p> 
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">maxSubArray</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> nums<span class="token punctuation">,</span> <span class="token keyword">int</span> numsSize<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> maxEndingHere  <span class="token operator">=</span> nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> maxSoFar <span class="token operator">=</span> nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> numsSize<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        maxEndingHere  <span class="token operator">=</span> <span class="token function">fmax</span><span class="token punctuation">(</span>maxEndingHere  <span class="token operator">+</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        maxSoFar <span class="token operator">=</span> <span class="token function">fmax</span><span class="token punctuation">(</span>maxSoFar<span class="token punctuation">,</span> maxEndingHere <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> maxSoFar<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<blockquote> 
 <p>fmax是&lt;math.h&gt;中的函数，用于比较2个数字的大小，双精度。</p> 
</blockquote> 
<p>简单换个写法：</p> 
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">maxSubArray</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> nums<span class="token punctuation">,</span> <span class="token keyword">int</span> numsSize<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> maxEndingHere  <span class="token operator">=</span> nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> maxSoFar <span class="token operator">=</span> nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> numsSize<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        maxEndingHere  <span class="token operator">=</span> maxEndingHere  <span class="token operator">+</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">&gt;</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">?</span>maxEndingHere  <span class="token operator">+</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">:</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        maxSoFar <span class="token operator">=</span> maxSoFar<span class="token operator">&gt;</span>maxEndingHere<span class="token operator">?</span>maxSoFar<span class="token operator">:</span>maxEndingHere<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> maxSoFar<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<blockquote> 
 <p>简单用三目表达式代替fmax函数。</p> 
</blockquote> 
<h3><a id="22__88"></a>2.2 环形子数组的最大和</h3> 
<p><img src="https://images2.imgbox.com/5e/17/FlkgF9bq_o.png" alt="在这里插入图片描述" width="600"></p> 
<p>解答：</p> 
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">maxSubarraySumCircular</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> nums<span class="token punctuation">,</span> <span class="token keyword">int</span> numsSize<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>nums <span class="token operator">==</span> <span class="token constant">NULL</span> <span class="token operator">||</span> numsSize <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> maxSum <span class="token operator">=</span> nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> minSum <span class="token operator">=</span> nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> maxCur <span class="token operator">=</span> nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> minCur <span class="token operator">=</span> nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> sum <span class="token operator">=</span> nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> numsSize<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        sum <span class="token operator">+=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        maxCur <span class="token operator">=</span> <span class="token function">fmax</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> maxCur <span class="token operator">+</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        minCur <span class="token operator">=</span> <span class="token function">fmin</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> minCur <span class="token operator">+</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        maxSum <span class="token operator">=</span> <span class="token function">fmax</span><span class="token punctuation">(</span>maxSum<span class="token punctuation">,</span> maxCur<span class="token punctuation">)</span><span class="token punctuation">;</span>
        minSum <span class="token operator">=</span> <span class="token function">fmin</span><span class="token punctuation">(</span>minSum<span class="token punctuation">,</span> minCur<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>maxSum <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> maxSum<span class="token punctuation">;</span> <span class="token comment">// 如果所有数都是负数，返回最大值</span>
    <span class="token keyword">return</span> <span class="token function">fmax</span><span class="token punctuation">(</span>maxSum<span class="token punctuation">,</span> sum <span class="token operator">-</span> minSum<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 返回“不跨越头尾的最大子数组和”和“跨越头尾的最大子数组和”中的较大者</span>
<span class="token punctuation">}</span>
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/c5b696f8029228dcc48842ecc18c9c5c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">2023全网最详细的银河麒麟操作系统,Java运行环境【jdk】安装</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f36eb0c25402afbee57b044738d7119f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">最新版Android studio没有layout文件解决方案</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>