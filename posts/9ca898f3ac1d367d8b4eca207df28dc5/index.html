<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>MySQL必看表设计经验汇总-上(精华版) - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/9ca898f3ac1d367d8b4eca207df28dc5/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="MySQL必看表设计经验汇总-上(精华版)">
  <meta property="og:description" content="⛰️个人主页: 蒾酒
🔥系列专栏：《mysql经验总结》
本内容一共分上下两篇
上：MySQL必看表设计经验汇总-上(精华版)-CSDN博客
下：MySQL必看表设计经验汇总-下(精华版)-CSDN博客
目录
1.命名要规范
2选择合适的字段类型
3.主键设计要合理
4.选择合适的字段长度
5.优先考虑逻辑删除，而不是物理删除
6.每个表都需要添加通用字段
7.一张表的字段不宜过多
最近发现了一个巨牛的人工智能学习网站，通俗易懂，风趣幽默，忍不住分享一下给大家。
点击跳转到学习网站
前言 在数据库设计中，命名规范、合适的字段类型、主键设计、字段长度、逻辑删除、通用字段和表的字段数量都是非常重要的考虑因素。合理的数据库设计能够提高数据管理和查询效率，减少空间浪费和复杂性，并且符合命名规范能够使数据库结构更加清晰易懂。
1.命名要规范 数据库表名、字段名、索引名等都需要命名规范。命名可读性要高，尽量使用英文，采用驼峰或者下线分割的方式，让人见名知意。
反例：这些命名没有遵循统一规范，缺乏描述性，很难让人见名知意
表名yh(用户表)，shangpin(商品表)，yhdd(用户订单表)字段名yhm(用户名)，mm(密码)，sjh(手机号)索引名index1(用户id)，index2(商品id)，index3(订单id) 正例：见名知意
表名user_info，product_info，order_info字段名user_name，password，phone索引名idx_order_user，idx_product_id，idx_order_id 技巧：
表名，字段名必须使用小写字母，禁止数字开头，禁止用拼音，尽可能不用英文缩写
主键索引名为pk_字段名，唯一索引名为uk_字段名，普通索引名为idx_字段名。
2选择合适的字段类型 根据数据类型选择字段类型:不同的数据类型应该使用不同的字段类型。
整数型数据可以使用INT或BIGINT类型浮点型数据可以使用 FLOAT或DOUBLE类型字符型数据可以使用VARCHAR或CHAR类型 考虑数据长度: 字段类型应该根据所需存储的数据长度来选择。
如果某个字段的数据长度不会超过 10 个字符，则可以使用 CHAR(10)类型代替VARCHAR(50)类型，以节省空间。如果存储的值太大，建议字段类型修改为text，同时抽出单独一张表，用主键与之对应 注意精度和小数位数。
对于需要精确数值计算的字段(如货币和百分比)，应该选择带有精度和小数位数的字段类型(如 DECIMAL)。 考虑数据完整性:字段类型也应该考虑到数据完整性。
日期型数据应该使用DATE或DATETIME类型，以确保输入的日期格式正确 3.主键设计要合理 主键的设计在数据库中非常重要，它用于唯一标识表中的每一行数据，并且在数据操作和查询中起到关键作用。通常主键的设计，不要与业务相关联，因为业务是会发生变化的，应当
使用自增的 id，并且保持主键的连续性。如果说是分布式系统可以使用优化的雪花id 等等
注意：不推荐使用uuid当主键(会带来性能、索引效率等问题)
4.选择合适的字段长度 在mysql中，varchar和char类型表示字符长度，而其他类型表示的长度都表示字节长度。
char(10)表示字符长度是10。（例如，存储 &#34;hello&#34; 时，剩余的 6 个字符会以空格符填充。）
bigint (4)表示显示长度是4个字节，但是因为bigint实际长度是8个字节，所以bigint (4)的实际长度就是8个字节（位数不足时会在左侧填充 0 直到满足位数要求）。
所以在设计表时需要充分考虑一个字段的长度，比如一个用户名字段 (它的长度5~20个字符)可以考虑设置为 varchar (32)。需要注意字段长度一般设置为2的n次方。
5.优先考虑逻辑删除，而不是物理删除 物理删除:把数据从硬盘中删除，可释放存储空间逻删除:给数据添加一个字段，比如is deleted，以标记该数据已经逻辑删除 物理删除会带来以下问题：
数据恢复困难物理删除会导致索引树重构 6.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-05-22T14:23:22+08:00">
    <meta property="article:modified_time" content="2024-05-22T14:23:22+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">MySQL必看表设计经验汇总-上(精华版)</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p style="text-align:center;"></p> 
<p><img alt="" class="left" height="68" src="https://images2.imgbox.com/0d/33/jiAycBM8_o.jpg" width="68"></p> 
<p style="text-align:justify;"><strong>⛰️<span style="color:#956fe7;">个人主页</span>:     <a href="https://blog.csdn.net/qq_62262918?spm=1011.2266.3001.5343" title="蒾酒">蒾酒</a></strong></p> 
<p style="text-align:justify;"><strong>🔥<span style="color:#ad720d;">系列专栏</span>：<a href="https://blog.csdn.net/qq_62262918/category_12567152.html?spm=1001.2014.3001.5482" title="《mysql经验总结》">《mysql经验总结》</a></strong></p> 
<hr> 
<p style="text-align:center;"></p> 
<blockquote> 
 <p><strong>本内容一共分上下两篇</strong></p> 
 <p></p> 
 <p>上：<a href="https://blog.csdn.net/qq_62262918/article/details/135877062?spm=1001.2014.3001.5502" title="MySQL必看表设计经验汇总-上(精华版)-CSDN博客">MySQL必看表设计经验汇总-上(精华版)-CSDN博客</a></p> 
 <p></p> 
 <p>下：<a href="https://blog.csdn.net/qq_62262918/article/details/135891065?spm=1001.2014.3001.5501" title="MySQL必看表设计经验汇总-下(精华版)-CSDN博客">MySQL必看表设计经验汇总-下(精华版)-CSDN博客</a></p> 
</blockquote> 
<p></p> 
<p id="main-toc"><strong>目录</strong></p> 
<p id="1.%E5%91%BD%E5%90%8D%E8%A6%81%E8%A7%84%E8%8C%83-toc" style="margin-left:0px;"><a href="#1.%E5%91%BD%E5%90%8D%E8%A6%81%E8%A7%84%E8%8C%83" rel="nofollow">1.命名要规范</a></p> 
<p id="2%E9%80%89%E6%8B%A9%E5%90%88%E9%80%82%E7%9A%84%E5%AD%97%E6%AE%B5%E7%B1%BB%E5%9E%8B-toc" style="margin-left:0px;"><a href="#2%E9%80%89%E6%8B%A9%E5%90%88%E9%80%82%E7%9A%84%E5%AD%97%E6%AE%B5%E7%B1%BB%E5%9E%8B" rel="nofollow">2选择合适的字段类型</a></p> 
<p id="3.%E4%B8%BB%E9%94%AE%E8%AE%BE%E8%AE%A1%E8%A6%81%E5%90%88%E7%90%86-toc" style="margin-left:0px;"><a href="#3.%E4%B8%BB%E9%94%AE%E8%AE%BE%E8%AE%A1%E8%A6%81%E5%90%88%E7%90%86" rel="nofollow">3.主键设计要合理</a></p> 
<p id="4.%E9%80%89%E6%8B%A9%E5%90%88%E9%80%82%E7%9A%84%E5%AD%97%E6%AE%B5%E9%95%BF%E5%BA%A6-toc" style="margin-left:0px;"><a href="#4.%E9%80%89%E6%8B%A9%E5%90%88%E9%80%82%E7%9A%84%E5%AD%97%E6%AE%B5%E9%95%BF%E5%BA%A6" rel="nofollow">4.选择合适的字段长度</a></p> 
<p id="5.%E4%BC%98%E5%85%88%E8%80%83%E8%99%91%E9%80%BB%E8%BE%91%E5%88%A0%E9%99%A4%EF%BC%8C%E8%80%8C%E4%B8%8D%E6%98%AF%E7%89%A9%E7%90%86%E5%88%A0%E9%99%A4-toc" style="margin-left:0px;"><a href="#5.%E4%BC%98%E5%85%88%E8%80%83%E8%99%91%E9%80%BB%E8%BE%91%E5%88%A0%E9%99%A4%EF%BC%8C%E8%80%8C%E4%B8%8D%E6%98%AF%E7%89%A9%E7%90%86%E5%88%A0%E9%99%A4" rel="nofollow">5.优先考虑逻辑删除，而不是物理删除</a></p> 
<p id="6.%E6%AF%8F%E4%B8%AA%E8%A1%A8%E9%83%BD%E9%9C%80%E8%A6%81%E6%B7%BB%E5%8A%A0%E9%80%9A%E7%94%A8%E5%AD%97%E6%AE%B5-toc" style="margin-left:0px;"><a href="#6.%E6%AF%8F%E4%B8%AA%E8%A1%A8%E9%83%BD%E9%9C%80%E8%A6%81%E6%B7%BB%E5%8A%A0%E9%80%9A%E7%94%A8%E5%AD%97%E6%AE%B5" rel="nofollow">6.每个表都需要添加通用字段</a></p> 
<p id="7.%E4%B8%80%E5%BC%A0%E8%A1%A8%E7%9A%84%E5%AD%97%E6%AE%B5%E4%B8%8D%E5%AE%9C%E8%BF%87%E5%A4%9A-toc" style="margin-left:0px;"><a href="#7.%E4%B8%80%E5%BC%A0%E8%A1%A8%E7%9A%84%E5%AD%97%E6%AE%B5%E4%B8%8D%E5%AE%9C%E8%BF%87%E5%A4%9A" rel="nofollow">7.一张表的字段不宜过多</a></p> 
<hr id="hr-toc"> 
<blockquote> 
 <p> 最近发现了一个巨牛的人工智能学习网站，通俗易懂，风趣幽默，忍不住分享一下给大家。</p> 
 <p>    <a href="https://www.captainbed.cn/ding" rel="nofollow" title="点击跳转到学习网站">点击跳转到学习网站</a></p> 
 <p><img alt="" height="352" src="https://images2.imgbox.com/36/25/8txP39DT_o.png" width="748"></p> 
</blockquote> 
<h2>前言</h2> 
<p>在数据库设计中，命名规范、合适的字段类型、主键设计、字段长度、逻辑删除、通用字段和表的字段数量都是非常重要的考虑因素。合理的数据库设计能够提高数据管理和查询效率，减少空间浪费和复杂性，并且符合命名规范能够使数据库结构更加清晰易懂。</p> 
<p></p> 
<h2 id="1.%E5%91%BD%E5%90%8D%E8%A6%81%E8%A7%84%E8%8C%83">1.命名要规范</h2> 
<blockquote> 
 <p>数据库表名、字段名、索引名等都需要命名规范。命名可读性要高，尽量使用英文，采用驼峰或者下线分割的方式，让人见名知意。</p> 
</blockquote> 
<p>反例：这些命名没有遵循统一规范，缺乏描述性，很难让人见名知意</p> 
<table border="1" cellpadding="1" cellspacing="1" style="width:500px;"><tbody><tr><td>表名</td><td>yh(用户表)，shangpin(商品表)，yhdd(用户订单表)</td></tr><tr><td>字段名</td><td>yhm(用户名)，mm(密码)，sjh(手机号)</td></tr><tr><td>索引名</td><td>index1(用户id)，index2(商品id)，index3(订单id)</td></tr></tbody></table> 
<p></p> 
<p>正例：见名知意</p> 
<table border="1" cellpadding="1" cellspacing="1" style="width:500px;"><tbody><tr><td>表名</td><td>user_info，product_info，order_info</td></tr><tr><td>字段名</td><td>user_name，password，phone</td></tr><tr><td>索引名</td><td>idx_order_user，idx_product_id，idx_order_id</td></tr></tbody></table> 
<p></p> 
<p>技巧：</p> 
<blockquote> 
 <p><span style="background-color:#ffd900;">表名，字段名必须使用小写字母，禁止数字开头，禁止用拼音，尽可能不用英文缩写</span></p> 
 <p><span style="background-color:#ffd900;">主键索引名为pk_字段名，唯一索引名为uk_字段名，普通索引名为idx_字段名。</span></p> 
</blockquote> 
<p></p> 
<h2 id="2%E9%80%89%E6%8B%A9%E5%90%88%E9%80%82%E7%9A%84%E5%AD%97%E6%AE%B5%E7%B1%BB%E5%9E%8B">2选择合适的字段类型</h2> 
<p></p> 
<p>根据数据类型选择字段类型:不同的数据类型应该使用不同的字段类型。</p> 
<blockquote> 
 <ul><li>整数型数据可以使用INT或BIGINT类型</li><li>浮点型数据可以使用 FLOAT或DOUBLE</li><li>类型字符型数据可以使用VARCHAR或CHAR类型</li></ul> 
</blockquote> 
<p></p> 
<p>考虑数据长度: 字段类型应该根据所需存储的数据长度来选择。</p> 
<blockquote> 
 <ul><li>如果某个字段的数据长度不会超过 10 个字符，则可以使用 CHAR(10)类型代替VARCHAR(50)类型，以节省空间。</li><li>如果存储的值太大，建议字段类型修改为text，同时抽出单独一张表，用主键与之对应</li></ul> 
</blockquote> 
<p></p> 
<p>注意精度和小数位数。</p> 
<blockquote> 
 <ul><li>对于需要精确数值计算的字段(如货币和百分比)，应该选择带有精度和小数位数的字段类型(如 DECIMAL)。</li></ul> 
</blockquote> 
<p></p> 
<p>考虑数据完整性:字段类型也应该考虑到数据完整性。</p> 
<blockquote> 
 <ul><li>日期型数据应该使用DATE或DATETIME类型，以确保输入的日期格式正确</li></ul> 
</blockquote> 
<p></p> 
<h2 id="3.%E4%B8%BB%E9%94%AE%E8%AE%BE%E8%AE%A1%E8%A6%81%E5%90%88%E7%90%86">3.主键设计要合理</h2> 
<blockquote> 
 <p>主键的设计在数据库中非常重要，它用于唯一标识表中的每一行数据，并且在数据操作和查询中起到关键作用。<span style="background-color:#ffd900;">通常主键的设计，不要与业务相关联</span>，因为业务是会发生变化的，应当</p> 
 <p><span style="background-color:#ffd900;">使用自增的 id，并且保持主键的连续性</span>。如果说是分布式系统可以使用优化的雪花id 等等</p> 
</blockquote> 
<p>注意：不推荐使用uuid当主键(会带来性能、索引效率等问题)</p> 
<h2></h2> 
<h2 id="4.%E9%80%89%E6%8B%A9%E5%90%88%E9%80%82%E7%9A%84%E5%AD%97%E6%AE%B5%E9%95%BF%E5%BA%A6">4.选择合适的字段长度</h2> 
<p><span style="background-color:#ffd900;">在mysql中，varchar和char类型表示字符长度，而其他类型表示的长度都表示字节长度。</span></p> 
<p>char(10)表示字符长度是10。（<span style="color:#a5a5a5;">例如，存储 "hello" 时，剩余的 6 个字符会以空格符填充。</span>）<br> bigint (4)表示显示长度是4个字节，但是因为bigint实际长度是8个字节，所以bigint (4)的实际长度就是8个字节（<span style="color:#a5a5a5;">位数不足时会在左侧填充 0 直到满足位数要求</span>）。</p> 
<p>所以在设计表时需要充分考虑一个字段的长度，比如一个用户名字段 (它的长度5~20个字符)可以考虑设置为 varchar (32)。需要注意<span style="background-color:#ffd900;">字段长度一般设置为2的n次方。</span></p> 
<p></p> 
<h2 id="5.%E4%BC%98%E5%85%88%E8%80%83%E8%99%91%E9%80%BB%E8%BE%91%E5%88%A0%E9%99%A4%EF%BC%8C%E8%80%8C%E4%B8%8D%E6%98%AF%E7%89%A9%E7%90%86%E5%88%A0%E9%99%A4">5.优先考虑逻辑删除，而不是物理删除</h2> 
<ul><li>物理删除:把数据从硬盘中删除，可释放存储空间</li><li>逻删除:给数据添加一个字段，比如is deleted，以标记该数据已经逻辑删除</li></ul> 
<p></p> 
<p>物理删除会带来以下问题：</p> 
<blockquote> 
 <ul><li>数据恢复困难</li><li>物理删除会导致索引树重构</li></ul> 
</blockquote> 
<p></p> 
<h2 id="6.%E6%AF%8F%E4%B8%AA%E8%A1%A8%E9%83%BD%E9%9C%80%E8%A6%81%E6%B7%BB%E5%8A%A0%E9%80%9A%E7%94%A8%E5%AD%97%E6%AE%B5">6.每个表都需要添加通用字段</h2> 
<p></p> 
<p>一个表除了添加业务字段还应该加入通用字段比如：</p> 
<blockquote> 
 <ul><li>id: 主键，一个表必须得有主键，必须</li><li>creat_time: 创建时间</li><li>creator:创建人</li><li>update_time:修改时间，必须，更新记录时，需要更新它</li><li>update_by :修改人，非必须</li><li>remark:数据记录备注，非必须</li></ul> 
</blockquote> 
<h2></h2> 
<h2 id="7.%E4%B8%80%E5%BC%A0%E8%A1%A8%E7%9A%84%E5%AD%97%E6%AE%B5%E4%B8%8D%E5%AE%9C%E8%BF%87%E5%A4%9A">7.一张表的字段不宜过多</h2> 
<p></p> 
<p>建表的时候一张表的字段不要太多了。<span style="background-color:#ffd900;">尽量不超过 20个。超出的话优先考虑拆分，也就是通常的查询表，详情表。</span></p> 
<p></p> 
<blockquote> 
 <ul><li>查询效率:当表中保存的<span style="background-color:#ffd900;">数据数量很大</span>时，查询操作需要<span style="background-color:#ffd900;">检索的数据</span>也会随之<span style="background-color:#ffd900;">增加</span>。如果表的字段数过多，查询操作就需要读取更多的数据，这会导致<span style="background-color:#ffd900;">查询效率变慢</span>。</li><li>存储空间:表的<span style="background-color:#ffd900;">字段数越多</span>，<span style="background-color:#ffd900;">每一行</span>数据<span style="background-color:#ffd900;">占用</span>的存储<span style="background-color:#ffd900;">空间</span>也就<span style="background-color:#ffd900;">越大</span>。对于大型数据库来说，这可能会<span style="background-color:#ffd900;">导致磁盘空间的浪费</span>。</li><li>数据库设计复杂性:当<span style="background-color:#ffd900;">表的字段数过多</span>时，<span style="background-color:#ffd900;">数据库的设计和维护变得更加复杂</span>。这可能涉及到索引和关联表的设计，以确保数据的完整性、一致性。</li></ul> 
</blockquote>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d1ff06b91760cd3af3b96b7d2afe5344/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">MySQL必看表设计经验汇总-下(精华版)</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/7b32c581016144f12dd1ea6fdf6f311e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">AI进化之路：解读大模型技术的四大技术架构</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>