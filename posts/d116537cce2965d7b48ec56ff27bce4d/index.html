<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【前端】语法高亮 Prism.js 使用 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/d116537cce2965d7b48ec56ff27bce4d/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="【前端】语法高亮 Prism.js 使用">
  <meta property="og:description" content="目录
介绍
示例
主题
插件
1、show-language
2、line-numbers
3、normalize-whitespace
4、unescaped-markup
5、copy-to-clipboard
6、show-invisibles
使用
1、直接下载
2、CDN 方式
3、Vue3 中使用
补充
API
按钮样式调节
Vue3 代码高亮组件（仅供参考）
高亮 script 标签
介绍 最近项目有代码高亮的需求，这边是选用 Prism.js 来进行代码高亮。
Prism 是一款轻量级、可扩展的语法高亮器，根据现代 Web 标准构建，应用广泛。
官网：https://prismjs.com/
文档：https://prismjs.com/docs/index.html
示例 &lt;!DOCTYPE html&gt; &lt;html&gt; &lt;head&gt; &lt;!-- 可以通过 CDN 的方式导入 --&gt; &lt;meta charset=&#34;utf-8&#34; /&gt; &lt;meta name=&#34;viewport&#34; content=&#34;width=device-width, initial-scale=1&#34; /&gt; &lt;title&gt;Prism Test&lt;/title&gt; &lt;link href=&#34;https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism.css&#34; rel=&#34;stylesheet&#34; /&gt; &lt;/head&gt; &lt;body&gt; &lt;pre class=&#34;line-numbers&#34;&gt; &lt;code class=&#34;language-cpp&#34;&gt; #include &amp;lt;iostream&gt; using namespace std; struct ListNode { int val; ListNode *next; ListNode() : val(0), next(nullptr) {} ListNode(int x) : val(x), next(nullptr) {} ListNode(int x, ListNode *next) : val(x), next(next) {} }; &lt;/code&gt; &lt;/pre&gt; &lt;script src=&#34;">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2023-12-19T15:28:06+08:00">
    <meta property="article:modified_time" content="2023-12-19T15:28:06+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【前端】语法高亮 Prism.js 使用</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="%E4%BB%8B%E7%BB%8D-toc" style="margin-left:40px;"><a href="#%E4%BB%8B%E7%BB%8D" rel="nofollow">介绍</a></p> 
<p id="%E6%95%B4%E4%BD%93%E6%9E%B6%E6%9E%84%E6%B5%81%E7%A8%8B-toc" style="margin-left:40px;"><a href="#%E6%95%B4%E4%BD%93%E6%9E%B6%E6%9E%84%E6%B5%81%E7%A8%8B" rel="nofollow">示例</a></p> 
<p id="%E4%B8%BB%E9%A2%98-toc" style="margin-left:40px;"><a href="#%E4%B8%BB%E9%A2%98" rel="nofollow">主题</a></p> 
<p id="%E6%8F%92%E4%BB%B6-toc" style="margin-left:40px;"><a href="#%E6%8F%92%E4%BB%B6" rel="nofollow">插件</a></p> 
<p id="1%E3%80%81show-language-toc" style="margin-left:80px;"><a href="#1%E3%80%81show-language" rel="nofollow">1、show-language</a></p> 
<p id="2%E3%80%81line-numbers-toc" style="margin-left:80px;"><a href="#2%E3%80%81line-numbers" rel="nofollow">2、line-numbers</a></p> 
<p id="3%E3%80%81normalize-whitespace-toc" style="margin-left:80px;"><a href="#3%E3%80%81normalize-whitespace" rel="nofollow">3、normalize-whitespace</a></p> 
<p id="4%E3%80%81unescaped-markup-toc" style="margin-left:80px;"><a href="#4%E3%80%81unescaped-markup" rel="nofollow">4、unescaped-markup</a></p> 
<p id="5%E3%80%81copy-to-clipboard-toc" style="margin-left:80px;"><a href="#5%E3%80%81copy-to-clipboard" rel="nofollow">5、copy-to-clipboard</a></p> 
<p id="6%E3%80%81show-invisibles-toc" style="margin-left:80px;"><a href="#6%E3%80%81show-invisibles" rel="nofollow">6、show-invisibles</a></p> 
<p id="%E4%BD%BF%E7%94%A8-toc" style="margin-left:40px;"><a href="#%E4%BD%BF%E7%94%A8" rel="nofollow">使用</a></p> 
<p id="1%E3%80%81%E7%9B%B4%E6%8E%A5%E4%B8%8B%E8%BD%BD-toc" style="margin-left:80px;"><a href="#1%E3%80%81%E7%9B%B4%E6%8E%A5%E4%B8%8B%E8%BD%BD" rel="nofollow">1、直接下载</a></p> 
<p id="2%E3%80%81CDN%20%E6%96%B9%E5%BC%8F-toc" style="margin-left:80px;"><a href="#2%E3%80%81CDN%20%E6%96%B9%E5%BC%8F" rel="nofollow">2、CDN 方式</a></p> 
<p id="3%E3%80%81Vue3%20%E4%B8%AD%E4%BD%BF%E7%94%A8-toc" style="margin-left:80px;"><a href="#3%E3%80%81Vue3%20%E4%B8%AD%E4%BD%BF%E7%94%A8" rel="nofollow">3、Vue3 中使用</a></p> 
<p id="%C2%A0%E8%A1%A5%E5%85%85-toc" style="margin-left:40px;"><a href="#%C2%A0%E8%A1%A5%E5%85%85" rel="nofollow"> 补充</a></p> 
<p id="API-toc" style="margin-left:80px;"><a href="#API" rel="nofollow">API</a></p> 
<p id="%E6%8C%89%E9%92%AE%E6%A0%B7%E5%BC%8F%E8%B0%83%E8%8A%82-toc" style="margin-left:80px;"><a href="#%E6%8C%89%E9%92%AE%E6%A0%B7%E5%BC%8F%E8%B0%83%E8%8A%82" rel="nofollow">按钮样式调节</a></p> 
<p id="Vue3%20%E4%BB%A3%E7%A0%81%E9%AB%98%E4%BA%AE%E7%BB%84%E4%BB%B6%EF%BC%88%E4%BB%85%E4%BE%9B%E5%8F%82%E8%80%83%EF%BC%89-toc" style="margin-left:80px;"><a href="#Vue3%20%E4%BB%A3%E7%A0%81%E9%AB%98%E4%BA%AE%E7%BB%84%E4%BB%B6%EF%BC%88%E4%BB%85%E4%BE%9B%E5%8F%82%E8%80%83%EF%BC%89" rel="nofollow">Vue3 代码高亮组件（仅供参考）</a></p> 
<p id="%E9%AB%98%E4%BA%AE%20script%20%E6%A0%87%E7%AD%BE-toc" style="margin-left:80px;"><a href="#%E9%AB%98%E4%BA%AE%20script%20%E6%A0%87%E7%AD%BE" rel="nofollow">高亮 script 标签</a></p> 
<hr id="hr-toc"> 
<p></p> 
<h3 id="%E4%BB%8B%E7%BB%8D"><strong>介绍</strong></h3> 
<p>最近项目有代码高亮的需求，这边是选用 Prism.js 来进行代码高亮。</p> 
<p id="content">Prism 是一款轻量级、可扩展的语法高亮器，根据现代 Web 标准构建，应用广泛。</p> 
<p>官网：<a href="https://prismjs.com/" rel="nofollow" title="https://prismjs.com/">https://prismjs.com/</a></p> 
<p>文档：<a href="https://prismjs.com/docs/index.html" rel="nofollow" title="https://prismjs.com/docs/index.html">https://prismjs.com/docs/index.html</a></p> 
<h3 id="%E6%95%B4%E4%BD%93%E6%9E%B6%E6%9E%84%E6%B5%81%E7%A8%8B"><a id="_10"></a>示例</h3> 
<p class="img-center"><img alt="" height="254" src="https://images2.imgbox.com/12/44/wmpywV3d_o.png" width="560"></p> 
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;!-- 可以通过 CDN 的方式导入 --&gt;
    &lt;meta charset="utf-8" /&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1" /&gt;
    &lt;title&gt;Prism Test&lt;/title&gt;
    &lt;link href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism.css" rel="stylesheet" /&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;pre class="line-numbers"&gt;
      &lt;code class="language-cpp"&gt;
        #include &amp;lt;iostream&gt;
        using namespace std;
          
        struct ListNode {
          int val;
          ListNode *next;
          ListNode() : val(0), next(nullptr) {}
          ListNode(int x) : val(x), next(nullptr) {}
          ListNode(int x, ListNode *next) : val(x), next(next) {}
        };  
      &lt;/code&gt;
    &lt;/pre&gt;

    &lt;script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js"&gt;&lt;/script&gt;
    &lt;script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"&gt;&lt;/script&gt;
    &lt;script
      src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/normalize-whitespace/prism-normalize-whitespace.min.js"
      integrity="sha256-ronWqXsvaeyrdiX7YJfdYj0S5NbeMA5ilQQTrK25Jno="
      crossorigin="anonymous"
    &gt;&lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre> 
<h3 id="%E4%B8%BB%E9%A2%98">主题</h3> 
<p>Prism.js 支持多种主题</p> 
<p><img alt="" height="232" src="https://images2.imgbox.com/dd/46/D11qwWVt_o.png" width="754"></p> 
<h3 id="%E6%8F%92%E4%BB%B6">插件</h3> 
<p>Prism.js 有多种插件可以使用，这里介绍几个常用的插件。</p> 
<p><img alt="" height="865" src="https://images2.imgbox.com/07/39/RjfIaykP_o.png" width="1137"></p> 
<h4 id="1%E3%80%81show-language">1、show-language</h4> 
<p>在代码块中显示代码块对应语言的名称</p> 
<p><a class="has-card" href="https://prismjs.com/plugins/show-language" rel="nofollow" title="Show Language ▲ Prism plugins"><span class="link-card-box"><span class="link-title">Show Language ▲ Prism plugins</span><span class="link-link"><img class="link-link-icon" src="https://images2.imgbox.com/78/63/6MQh9uWc_o.png" alt="icon-default.png?t=N7T8">https://prismjs.com/plugins/show-language</span></span></a></p> 
<p class="img-center"><img alt="" height="250" src="https://images2.imgbox.com/c5/41/QpVk6pbt_o.png" width="503"></p> 
<pre><code class="language-html">&lt;pre&gt;
  &lt;code class="language-js"&gt;
    function curry(func) {
      return function curried(...args) {
        if (args.length &gt;= func.length) {
          return func.apply(this, args);
        } else {
          return function(...args2) {
            return curried.apply(this, args.concat(args2));
          }
        }
      };
    }
  &lt;/code&gt;
&lt;/pre&gt;</code></pre> 
<h4 id="2%E3%80%81line-numbers">2、line-numbers</h4> 
<p>在代码块中显示行号</p> 
<p><a class="has-card" href="https://prismjs.com/plugins/line-numbers/" rel="nofollow" title="Line Numbers ▲ Prism plugins"><span class="link-card-box"><span class="link-title">Line Numbers ▲ Prism plugins</span><span class="link-link"><img class="link-link-icon" src="https://images2.imgbox.com/8f/8a/4MnOEseb_o.png" alt="icon-default.png?t=N7T8">https://prismjs.com/plugins/line-numbers/</span></span></a></p> 
<p class="img-center"><img alt="" height="250" src="https://images2.imgbox.com/15/1a/bt5MQhcS_o.png" width="497"></p> 
<pre><code class="language-html">&lt;pre class="line-numbers"&gt;
  &lt;code class="language-js"&gt;
    function curry(func) {
      return function curried(...args) {
        if (args.length &gt;= func.length) {
          return func.apply(this, args);
        } else {
          return function(...args2) {
            return curried.apply(this, args.concat(args2));
          }
        }
      };
    }
  &lt;/code&gt;
&lt;/pre&gt;</code></pre> 
<p>通过添加  "line-numbers" class 来为代码块（&lt;pre&gt;&lt;code&gt;）添加行号。</p> 
<p>如果将 "line-numbers" class 添加到 &lt;body&gt; 中，则为所有代码块（&lt;pre&gt;&lt;code&gt;）添加行号。</p> 
<p>此外，我们可以使用 "no-line-numbers" class 来移除行号。</p> 
<h4 id="3%E3%80%81normalize-whitespace">3、normalize-whitespace</h4> 
<p>标准化代码块中的空白字符<a class="has-card" href="https://prismjs.com/plugins/normalize-whitespace/" rel="nofollow" title="Normalize Whitespace ▲ Prism plugins"><span class="link-card-box"><span class="link-title">Normalize Whitespace ▲ Prism plugins</span><span class="link-link"><img class="link-link-icon" src="https://images2.imgbox.com/37/89/Az33fos6_o.png" alt="icon-default.png?t=N7T8">https://prismjs.com/plugins/normalize-whitespace/</span></span></a></p> 
<p id="content">默认情况下，该插件会裁剪每个代码块的所有前端和尾部空白字符，并移除每行上多余的缩进和尾部空白字符。</p> 
<p>可以通过添加 "no-whitespace-normalization" class 来阻止该插件生效。</p> 
<p>示例代码</p> 
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;meta charset="utf-8" /&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1" /&gt;
    &lt;title&gt;Prism Test&lt;/title&gt;
    &lt;link href="prism.css" rel="stylesheet" /&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;pre&gt;
      &lt;code class="language-js"&gt;
        function curry(func) {
          return function curried(...args) {
            if (args.length &gt;= func.length) {
              return func.apply(this, args);
            } else {
              return function(...args2) {
                return curried.apply(this, args.concat(args2));
              }
            }
          };
        }
      &lt;/code&gt;
    &lt;/pre&gt;

    &lt;script src="prism.js"&gt;&lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre> 
<div class="img-center"> 
 <figure class="image"> 
  <img alt="" height="250" src="https://images2.imgbox.com/5e/da/bG8G4Lkz_o.png" width="420"> 
  <figcaption>
     不使用 normalize-whitespace 插件情况 
  </figcaption> 
 </figure> 
</div> 
<div class="img-center"> 
 <figure class="image"> 
  <img alt="" height="250" src="https://images2.imgbox.com/a2/b5/ZUn4ylww_o.png" width="527"> 
  <figcaption>
    使用  normalize-whitespace 插件情况 
  </figcaption> 
 </figure> 
</div> 
<p>可以看到在使用  normalize-whitespace 插件情况下，代码块前端的空白字符被移除，更为美观。</p> 
<h4 id="4%E3%80%81unescaped-markup">4、unescaped-markup</h4> 
<p id="content">编写标记语言而无需转义任何内容</p> 
<p><a class="has-card" href="https://prismjs.com/plugins/unescaped-markup/" rel="nofollow" title="Unescaped markup ▲ Prism plugins"><span class="link-card-box"><span class="link-title">Unescaped markup ▲ Prism plugins</span><span class="link-link"><img class="link-link-icon" src="https://images2.imgbox.com/94/34/9oJkLaXT_o.png" alt="icon-default.png?t=N7T8">https://prismjs.com/plugins/unescaped-markup/</span></span></a></p> 
<p class="img-center"><img alt="" height="85" src="https://images2.imgbox.com/af/d1/XCZWGB1j_o.png" width="386"></p> 
<p>可以使用 &lt;script type="text/plain" class="language-markup"&gt; 方式</p> 
<pre><code class="language-html">&lt;script type="text/plain" class="language-markup"&gt;
  &lt;html&gt;&lt;/html&gt;
  &lt;p&gt;Example&lt;/p&gt;
  &lt;div&gt;&lt;button&gt;Hello&lt;/button&gt;&lt;/div&gt;
&lt;/script&gt;</code></pre> 
<p> 也可以使用 &lt;pre&gt;&lt;code class="language-markup"&gt;&lt;!-- --&gt;&lt;/code&gt;&lt;/pre&gt; 方式</p> 
<pre><code class="language-html">&lt;pre&gt;
  &lt;code class="language-markup"&gt;&lt;!--
    &lt;html&gt;&lt;/html&gt;
    &lt;p&gt;Example&lt;/p&gt;
    &lt;div&gt;&lt;button&gt;Hello&lt;/button&gt;&lt;/div&gt;
  --&gt;&lt;/code&gt;
&lt;/pre&gt;</code></pre> 
<h4 id="5%E3%80%81copy-to-clipboard">5、copy-to-clipboard</h4> 
<p id="content">添加一个按钮，可以在单击时将代码块内容复制到剪贴板</p> 
<p><a class="has-card" href="https://prismjs.com/plugins/copy-to-clipboard/" rel="nofollow" title="Copy to Clipboard ▲ Prism plugins"><span class="link-card-box"><span class="link-title">Copy to Clipboard ▲ Prism plugins</span><span class="link-link"><img class="link-link-icon" src="https://images2.imgbox.com/de/9a/FMKiaSLC_o.png" alt="icon-default.png?t=N7T8">https://prismjs.com/plugins/copy-to-clipboard/</span></span></a>默认情况下，插件以英语显示消息，并设置 5 秒的间隔复制时间。</p> 
<p>可以使用以下属性来覆盖默认设置：</p> 
<p><span style="color:#1c7331;">data-prismjs-copy </span>— 默认情况下复制按钮显示的文字<br><span style="color:#1c7331;">data-prismjs-copy-error </span>— 复制失败时显示的信息<br><span style="color:#1c7331;">data-prismjs-copy-success </span>— 复制成功时显示的信息<br><span style="color:#1c7331;">data-prismjs-copy-timeout </span>— 两次复制允许的间隔时间</p> 
<p><img alt="" height="167" src="https://images2.imgbox.com/1c/f1/uV2GL9G6_o.png" width="862"></p> 
<pre><code class="language-html">&lt;pre&gt;
  &lt;code class="language-js" 
    data-prismjs-copy="复制" 
    data-prismjs-copy-error="复制失败" 
    data-prismjs-copy-success="复制成功"
  &gt;
    let range = new Range();
    range.setStart(p1.firstChild, 2);
    range.setEndAfter(p2.firstChild);
    document.getSelection().addRange(range);
  &lt;/code&gt;
&lt;/pre&gt;</code></pre> 
<h4 id="6%E3%80%81show-invisibles">6、show-invisibles</h4> 
<p id="content">显示隐藏字符，例如制表符和换行符</p> 
<p><a class="has-card" href="https://prismjs.com/plugins/show-invisibles/" rel="nofollow" title="Show Invisibles ▲ Prism plugins"><span class="link-card-box"><span class="link-title">Show Invisibles ▲ Prism plugins</span><span class="link-link"><img class="link-link-icon" src="https://images2.imgbox.com/3a/92/iCHxmOeM_o.png" alt="icon-default.png?t=N7T8">https://prismjs.com/plugins/show-invisibles/</span></span></a></p> 
<p class="img-center"><img alt="" height="250" src="https://images2.imgbox.com/b6/e0/ap91A1yG_o.png" width="501"></p> 
<h3 id="%E4%BD%BF%E7%94%A8">使用</h3> 
<h4 id="1%E3%80%81%E7%9B%B4%E6%8E%A5%E4%B8%8B%E8%BD%BD">1、直接下载</h4> 
<p>在下载界面选择需要的语言和插件，下载 js 和 css， 然后导入使用</p> 
<p><a class="has-card" href="https://prismjs.com/download.html#themes=prism-tomorrow&amp;languages=markup+css+clike+javascript" rel="nofollow" title="Download ▲ Prism"><span class="link-card-box"><span class="link-title">Download ▲ Prism</span><span class="link-link"><img class="link-link-icon" src="https://images2.imgbox.com/64/80/FhUVk8m1_o.png" alt="icon-default.png?t=N7T8">https://prismjs.com/download.html#themes=prism-tomorrow&amp;languages=markup+css+clike+javascript</span></span></a></p> 
<p class="img-center"><img alt="" height="141" src="https://images2.imgbox.com/d6/39/p1fnjcdy_o.png" width="1150"></p> 
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    ...
    &lt;link href="prism.css" rel="stylesheet" /&gt;
  &lt;/head&gt;
  &lt;body&gt;
    ...
    &lt;script src="prism.js"&gt;&lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre> 
<h4 id="2%E3%80%81CDN%20%E6%96%B9%E5%BC%8F">2、CDN 方式</h4> 
<p>可以使用 cdnjs、jsDelivr 和 UNPKG 等 cdn 导入 PrismJS</p> 
<p class="img-center"><img alt="" height="250" src="https://images2.imgbox.com/a0/b1/l096mU6x_o.png" width="524"></p> 
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;!-- 通过 CDN 方式导入 --&gt;
    &lt;meta charset="utf-8" /&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1" /&gt;
    &lt;title&gt;Prism Test&lt;/title&gt;
    &lt;link href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism.css" rel="stylesheet" /&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;pre class="line-numbers"&gt;
      &lt;code class="language-cpp"&gt;
        #include &amp;lt;iostream&gt;
        using namespace std;
          
        struct ListNode {
          int val;
          ListNode *next;
          ListNode() : val(0), next(nullptr) {}
          ListNode(int x) : val(x), next(nullptr) {}
          ListNode(int x, ListNode *next) : val(x), next(next) {}
        };  
      &lt;/code&gt;
    &lt;/pre&gt;

    &lt;script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js"&gt;&lt;/script&gt;
    &lt;script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"&gt;&lt;/script&gt;
    &lt;script
      src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/normalize-whitespace/prism-normalize-whitespace.min.js"
      integrity="sha256-ronWqXsvaeyrdiX7YJfdYj0S5NbeMA5ilQQTrK25Jno="
      crossorigin="anonymous"
    &gt;&lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre> 
<h4 id="3%E3%80%81Vue3%20%E4%B8%AD%E4%BD%BF%E7%94%A8">3、Vue3 中使用</h4> 
<pre><code class="language-bash">npm install prismjs
# 支持 typescript
npm install @types/prismjs -D
npm install vite-plugin-prismjs -D</code></pre> 
<p>vite.config.js 中配置</p> 
<pre><code class="language-javascript">import prismjs from 'vite-plugin-prismjs';
export default defineConfig({
  plugins: [
    prismjs({
      languages: ['javascript', 'css', 'html', 'json', 'sass', 'scss', 'md', 'bash', 'shell', 'ts'],
      plugins: [
        'toolbar',
        'show-language',
        'copy-to-clipboard',
        'normalize-whitespace',
        'line-numbers',
        'unescaped-markup'
      ],
      theme: 'tomorrow',
      css: true
    })
  ],
});</code></pre> 
<p>基本使用</p> 
<p class="img-center"><img alt="" height="250" src="https://images2.imgbox.com/b5/79/5bz9aifv_o.png" width="588"></p> 
<pre><code class="language-html">&lt;template&gt;
  &lt;pre class="line-numbers"&gt;
    &lt;code class='language-js'&gt;
      // JavaScript 代码
      function curry(func) {
        return function curried(...args) {
          if (args.length &gt;= func.length) {
            return func.apply(this, args);
          } else {
            return function(...args2) {
              return curried.apply(this, args.concat(args2));
            }
          }
        };
      }
    &lt;/code&gt;
  &lt;/pre&gt;
&lt;/template&gt;
&lt;script setup&gt;
import { onMounted } from 'vue';
import Prism from 'prismjs';

onMounted(() =&gt; {
  Prism.highlightAll();
});
&lt;/script&gt;
&lt;style lang="scss" scoped&gt;&lt;/style&gt;
</code></pre> 
<h3 id="%C2%A0%E8%A1%A5%E5%85%85"> 补充</h3> 
<h4 id="API">API</h4> 
<p>Prism.js 提供了一些 API</p> 
<p>详见：<a href="https://prismjs.com/docs/Prism.html#.manual" rel="nofollow" title="https://prismjs.com/docs/Prism.html#.manual">https://prismjs.com/docs/Prism.html#.manual</a></p> 
<p>如：</p> 
<pre><code class="language-javascript">highlight(text, grammar, language) → {string}</code></pre> 
<p><img alt="" height="250" src="https://images2.imgbox.com/57/db/ncllRTgr_o.png" width="964"></p> 
<pre><code class="language-javascript">// 例子
Prism.highlight('var foo = true;', Prism.languages.javascript, 'javascript');
</code></pre> 
<p><img alt="" height="42" src="https://images2.imgbox.com/e4/bd/40k6prEE_o.png" width="179"></p> 
<h4 id="%E6%8C%89%E9%92%AE%E6%A0%B7%E5%BC%8F%E8%B0%83%E8%8A%82">按钮样式调节</h4> 
<p>我们可能对代码块右上角按钮的样式不太满意，可以对此进行一定的调整。</p> 
<p>如：</p> 
<div class="img-center"> 
 <figure class="image"> 
  <img alt="" height="135" src="https://images2.imgbox.com/6c/7f/1g66kR5t_o.png" width="712"> 
  <figcaption>
    按钮变为方框，改变光标类型 
  </figcaption> 
 </figure> 
</div> 
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;meta charset="utf-8" /&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1" /&gt;

    &lt;title&gt;Prism Test&lt;/title&gt;

    &lt;link href="prism.css" rel="stylesheet" type="text/css" /&gt;
    &lt;style&gt;
      body {
        margin: 0;
        padding: 0;
        height: 100vh;
      }
      div.code-toolbar &gt; .toolbar {
        opacity: 1;
      }
      .toolbar .toolbar-item span,
      .toolbar .toolbar-item button {
        border-radius: 0 !important;
        margin: 0 6px;
      }
      .copy-to-clipboard-button:hover {
        cursor: pointer;
      }
    &lt;/style&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;pre class="line-numbers"&gt;
      &lt;code class="language-js" 
        data-prismjs-copy="复制" 
        data-prismjs-copy-error="复制失败" 
        data-prismjs-copy-success="复制成功"
      &gt;
        let range = new Range();
        range.setStart(p1.firstChild, 2);
        range.setEndAfter(p2.firstChild);
        document.getSelection().addRange(range);
      &lt;/code&gt;
    &lt;/pre&gt;
    &lt;script src="prism.js"&gt;&lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre> 
<h4 id="Vue3%20%E4%BB%A3%E7%A0%81%E9%AB%98%E4%BA%AE%E7%BB%84%E4%BB%B6%EF%BC%88%E4%BB%85%E4%BE%9B%E5%8F%82%E8%80%83%EF%BC%89">Vue3 代码高亮组件（仅供参考）</h4> 
<p>在 Vue3 中无法使用 &lt;script type="text/plain" class="language-markup"&gt; 方式高亮标记语言。</p> 
<p>如果需要实现一个代码高亮组件的话 ，我们可以使用 &lt;pre&gt;&lt;code class="language-xxx"&gt;&lt;/code&gt;&lt;/pre&gt; + slot  的方式渲染非标记语言；</p> 
<p>使用 &lt;pre&gt;&lt;code class="language-markup"&gt;&lt;/code&gt;&lt;/pre&gt; + props + Prism.highlight +  v-html 来渲染标记语言。</p> 
<h4 id="%E9%AB%98%E4%BA%AE%20script%20%E6%A0%87%E7%AD%BE">高亮 script 标签</h4> 
<p>使用 &lt;script type="text/plain" class="language-markup"&gt; 方式高亮标记语言时，如果要高亮 &lt;script&gt; 标签则需要转义。</p> 
<p>如</p> 
<p class="img-center"><img alt="" height="106" src="https://images2.imgbox.com/9a/7f/6TE9naP6_o.png" width="560"></p> 
<pre><code class="language-html">&lt;script type="text/plain" class="language-markup"&gt;
  &lt;html&gt;&lt;/html&gt;
  &lt;p&gt;Example&lt;/p&gt;
  &lt;div&gt;&lt;button&gt;Hello&lt;/button&gt;&lt;/div&gt;
  &lt;script&gt;&amp;lt;/script&gt;
&lt;/script&gt;</code></pre> 
<p>此外，在 Vue3 中通过 API 渲染 &lt;script&gt; 标签时，转义后，可能会引起 eslint 报错，可以通过配置 'no-useless-escape': 'off' 等方式解决，见 <a href="https://zh-hans.eslint.org/docs/latest/use/configure/rules" rel="nofollow" title="配置规则 - ESLint - 插件化的 JavaScript 代码检查工具">配置规则 - ESLint - 插件化的 JavaScript 代码检查工具</a>。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/75c390335b101881c4251a71f46c1d44/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">如何在安卓手机Termux上安装MariaDB（MySQL）并实现远程连接数据库</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/8b1d337fd10eb1e1692c6dc3aa5d8aab/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">JDK21 WARNING: A Java agent has been loaded dynamically</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>