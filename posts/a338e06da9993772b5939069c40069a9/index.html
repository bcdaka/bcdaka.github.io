<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>vue.config.js 配置 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/a338e06da9993772b5939069c40069a9/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="vue.config.js 配置">
  <meta property="og:description" content="vue.config.js 文件是 Vue CLI 项目中的全局配置文件，它允许你以 JavaScript 的形式来配置构建选项，而不是通过命令行参数或者 .vue-clirc 的 JSON 格式。
官方文档: https://cli.vuejs.org/zh/config/#全局-cli-配置
基础配置 publicPath
设置构建好的文件被部署后的公共路径。 module.exports = { publicPath: process.env.NODE_ENV === &#39;production&#39; ? &#39;/my-app/&#39; : &#39;/&#39;, }; outputDir
构建输出的目录，默认是 dist。 module.exports = { outputDir: &#39;dist&#39;, }; assetsDir
用于放置生成的静态资源 (js、css、img、fonts) 的；（项目打包之后，静态资源会放在这个文件夹下）。 module.exports = { assetsDir: &#34;static&#34;, }; indexPath
指定生成的 index.html 的输出路径 (相对于 outputDir)。也可以是一个绝对路径。默认 &#39;index.html&#39; module.exports = { indexPath: &#34;index.html&#34;, }; productionSourceMap
如果你不需要生产环境的 source map，可以将其设置为 false 以加速生产环境构建。 module.exports = { productionSourceMap: false, }; filenameHashing">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-08-08T22:20:54+08:00">
    <meta property="article:modified_time" content="2024-08-08T22:20:54+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">vue.config.js 配置</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>vue.config.js 文件是 Vue CLI 项目中的全局配置文件，它允许你以 JavaScript 的形式来配置构建选项，而不是通过命令行参数或者 .vue-clirc 的 JSON 格式。<br> 官方文档: <a href="https://cli.vuejs.org/zh/config/#%E5%85%A8%E5%B1%80-cli-%E9%85%8D%E7%BD%AE" rel="nofollow">https://cli.vuejs.org/zh/config/#全局-cli-配置</a></p> 
<h3><a id="_2"></a>基础配置</h3> 
<ol><li> <p><strong>publicPath</strong></p> 
  <ul><li>设置构建好的文件被部署后的公共路径。</li></ul> <pre><code class="prism language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
	<span class="token literal-property property">publicPath</span><span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">'production'</span> <span class="token operator">?</span> <span class="token string">'/my-app/'</span> <span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> </li><li> <p><strong>outputDir</strong></p> 
  <ul><li>构建输出的目录，默认是 <code>dist</code>。</li></ul> <pre><code class="prism language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
	<span class="token literal-property property">outputDir</span><span class="token operator">:</span> <span class="token string">'dist'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> </li><li> <p><strong>assetsDir</strong></p> 
  <ul><li>用于放置生成的静态资源 (js、css、img、fonts) 的；（项目打包之后，静态资源会放在这个文件夹下）。</li></ul> <pre><code class="prism language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
	<span class="token literal-property property">assetsDir</span><span class="token operator">:</span> <span class="token string">"static"</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> </li><li> <p><strong>indexPath</strong></p> 
  <ul><li>指定生成的 <code>index.html</code> 的输出路径 (相对于 outputDir)。也可以是一个绝对路径。默认 <code>'index.html'</code></li></ul> <pre><code class="prism language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
	<span class="token literal-property property">indexPath</span><span class="token operator">:</span> <span class="token string">"index.html"</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> </li><li> <p><strong>productionSourceMap</strong></p> 
  <ul><li>如果你不需要生产环境的 <code>source map</code>，可以将其设置为 <code>false</code> 以加速生产环境构建。</li></ul> <pre><code class="prism language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
	<span class="token literal-property property">productionSourceMap</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> </li><li> <p><strong>filenameHashing</strong></p> 
  <ul><li>默认情况下，生成的静态资源在它们的文件名中包含了 <code>hash</code> 以便更好的控制缓存。然而，这也要求 <code>index</code> 的 HTML 是被 Vue CLI 自动生成的。如果你无法使用 Vue CLI 生成的 index HTML，你可以通过将这个选项设为 <code>false</code> 来关闭文件名哈希。默认 <code>false</code></li></ul> <pre><code class="prism language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
	<span class="token literal-property property">filenameHashing</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> </li><li> <p><strong>lintOnSave</strong></p> 
  <ul><li>是否开启 <code>eslint</code> 保存检测，有效值：<code>ture</code> | <code>false</code> | <code>'error'</code>。</li><li>设置为 <code>true</code> 或 <code>'warning'</code> 时，<code>eslint-loader</code> 会将 <code>lint</code> 错误输出为编译警告。默认情况下，警告仅仅会被输出到命令行，且不会使得编译失败。</li><li>如果你希望让 <code>lint</code> 错误在开发时直接显示在浏览器中，你可以使用 <code>lintOnSave: 'default'</code>。这会强制 <code>eslint-loader</code> 将 <code>lint</code> 错误输出为编译错误，同时也意味着 <code>lint</code> 错误将会导致编译失败。</li><li>设置为 <code>error</code> 将会使得 <code>eslint-loader</code> 把 <code>lint</code> 警告也输出为编译错误，这意味着 <code>lint</code> 警告将会导致编译失败。</li><li>设置 <code>false</code> 关闭 <code>lint</code> 警告</li></ul> <pre><code class="prism language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
	<span class="token literal-property property">lintOnSave</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> </li><li> <p><strong>runtimeCompiler</strong></p> 
  <ul><li>是否使用包含运行时编译器的 Vue 构建版本。设置为 true 后你就可以在 Vue 组件中使用 template 选项了，但是这会让你的应用额外增加 10kb 左右。默认 <code>false</code></li></ul> <pre><code class="prism language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
	<span class="token literal-property property">runtimeCompiler</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
  <blockquote> 
   <p>更多细节可查阅： <a href="https://v2.cn.vuejs.org/v2/guide/installation.html#%E8%BF%90%E8%A1%8C%E6%97%B6-%E7%BC%96%E8%AF%91%E5%99%A8-vs-%E5%8F%AA%E5%8C%85%E5%90%AB%E8%BF%90%E8%A1%8C%E6%97%B6" rel="nofollow">Runtime + Compiler vs. Runtime only</a></p> 
  </blockquote> </li><li> <p><strong>transpileDependencies</strong></p> 
  <ul><li>默认情况下 babel-loader 会忽略所有 node_modules 中的文件。你可以启用本选项，以避免构建后的代码中出现未转译的第三方依赖。</li></ul> 
  <blockquote> 
   <p>不过，对所有的依赖都进行转译可能会降低构建速度。如果对构建性能有所顾虑，你可以只转译部分特定的依赖：给本选项传一个数组，列出需要转译的第三方包包名或正则表达式即可。</p> 
  </blockquote> <pre><code class="prism language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
	<span class="token literal-property property">transpileDependencies</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> </li><li> <p><strong>crossorigin</strong></p> 
  <ul><li>设置生成的 HTML 中 <code>&lt;link rel="stylesheet"&gt;</code> 和 <code>&lt;script&gt;</code> 标签的 <code>crossorigin</code> 属性。</li></ul> 
  <blockquote> 
   <p>需要注意的是该选项仅影响由 <code>html-webpack-plugin</code> 在构建时注入的标签 - 直接写在模版 (public/index.html) 中的标签不受影响。</p> 
  </blockquote> <p><code>crossorigin</code>: 如果配置了该属性，会让浏览器启用CORS检查（判断响应头中Access-Control-Allow-Origin是否与当前文档同源），如果检查不通过，则浏览器拒绝执行代码。</p> <p><code>stylesheet</code>: 导入样式表。<code>link</code> 标签使用了 <code>rel="stylesheet"</code> 表示该文件是一份样式表文件。可以让 HTML 页面具有更好的外观和布局。</p> <pre><code class="prism language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
	<span class="token literal-property property">crossorigin</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> </li><li> <p><strong>integrity</strong></p> 
  <ul><li> <p>在生成的 HTML 中的 <code>&lt;link rel="stylesheet"&gt;</code> 和 <code>&lt;script&gt;</code> 标签上启用 <a href="https://developer.mozilla.org/en-US/docs/Web/Security/Subresource_Integrity" rel="nofollow">Subresource Integrity (SRI)</a>。如果你构建后的文件是部署在 CDN 上的，启用该选项可以提供额外的安全性。</p> </li><li> <p>需要注意的是该选项仅影响由 <code>html-webpack-plugin</code> 在构建时注入的标签 - 直接写在模版 <code>(public/index.html)</code> 中的标签不受影响。</p> </li><li> <p>当启用 SRI 时，<code>preload resource hints</code> 会被禁用，因为 <a href="https://bugs.chromium.org/p/chromium/issues/detail?id=677022" rel="nofollow">Chrome 的一个 bug</a> 会导致文件被下载两次。</p> </li></ul> <pre><code class="prism language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
	<span class="token literal-property property">integrity</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> </li><li> <p><strong>configureWebpack</strong></p> 
  <ul><li>如果这个值是一个对象，则会通过 w[]ebpack-merge](https://github.com/survivejs/webpack-merge) 合并到最终的配置中。</li><li>如果这个值是一个函数，则会接收被解析的配置作为参数。该函数既可以修改配置并不返回任何东西，也可以返回一个被克隆或合并过的配置版本。更多细节请查阅 <a href="https://cli.vuejs.org/zh/guide/webpack.html#%E7%AE%80%E5%8D%95%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%B9%E5%BC%8F" rel="nofollow">配合 webpack &gt; 简单的配置方式</a></li></ul> <pre><code class="prism language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
	<span class="token literal-property property">configureWebpack</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// ()=&gt; {}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> </li><li> <p><strong>chainWebpack</strong></p> 
  <ul><li>是一个函数，会接收一个基于 webpack-chain 的 ChainableConfig 实例。允许对内部的 webpack 配置进行更细粒度的修改。更多细节可查阅：<a href="https://cli.vuejs.org/zh/guide/webpack.html#%E9%93%BE%E5%BC%8F%E6%93%8D%E4%BD%9C-%E9%AB%98%E7%BA%A7" rel="nofollow">配合 webpack &gt; 链式操作</a></li></ul> <pre><code class="prism language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
	<span class="token function-variable function">chainWebpack</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> </li><li> <p><strong>css.modules</strong></p> 
  <ul><li>从 v4 起已弃用，请使用 <code>css.requireModuleExtension</code>。 在 v3 中，这个选项含义与 <code>css.requireModuleExtension</code> 相反。</li></ul> <pre><code class="prism language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
	<span class="token literal-property property">css</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
		<span class="token literal-property property">modules</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> </li><li> <p><strong>pages</strong></p> 
  <ul><li>定义多个入口页面。</li></ul> <pre><code class="prism language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
  <span class="token comment">// 配置多页面入口</span>
  <span class="token literal-property property">pages</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">index</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// 默认入口</span>
      <span class="token comment">// page 的入口</span>
      <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token string">'src/index/main.js'</span><span class="token punctuation">,</span>
      <span class="token comment">// 模板来源</span>
      <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">'public/index.html'</span><span class="token punctuation">,</span>
      <span class="token comment">// 在 dist/index.html 的输出</span>
      <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">'index.html'</span><span class="token punctuation">,</span>
      <span class="token comment">// 当使用 title 选项时，</span>
      <span class="token comment">// template 中的 &lt;title&gt; 标签需要是 &lt;title&gt;&lt;%= htmlWebpackPlugin.options.title %&gt;&lt;/title&gt;</span>
      <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'Index Page'</span><span class="token punctuation">,</span>
      <span class="token comment">// 片段注入到页面的地点，</span>
      <span class="token comment">// 可以是 (head / end / body / top / bottom)</span>
      <span class="token literal-property property">chunks</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'chunk-vendors'</span><span class="token punctuation">,</span> <span class="token string">'chunk-common'</span><span class="token punctuation">,</span> <span class="token string">'index'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">otherpage</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// 新增的入口</span>
      <span class="token comment">// page 的入口</span>
      <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token string">'src/otherpage/main.js'</span><span class="token punctuation">,</span>
      <span class="token comment">// 模板来源</span>
      <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">'public/otherpage.html'</span><span class="token punctuation">,</span>  <span class="token comment">// 或者 'public/otherpage/otherpage.html'</span>
      <span class="token comment">// 在 dist/otherpage.html 的输出</span>
      <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">'otherpage.html'</span><span class="token punctuation">,</span>
      <span class="token comment">// 当使用 title 选项时，</span>
      <span class="token comment">// template 中的 &lt;title&gt; 标签需要是 &lt;title&gt;&lt;%= htmlWebpackPlugin.options.title %&gt;&lt;/title&gt;</span>
      <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'Other Page'</span><span class="token punctuation">,</span>
      <span class="token comment">// 片段注入到页面的地点，</span>
      <span class="token comment">// 可以是 (head / end / body / top / bottom)</span>
      <span class="token literal-property property">chunks</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'chunk-vendors'</span><span class="token punctuation">,</span> <span class="token string">'chunk-common'</span><span class="token punctuation">,</span> <span class="token string">'otherpage'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <p>参考链接: <a href="https://blog.csdn.net/a123456234/article/details/141001291?spm=1001.2014.3001.5501">vue.config.js 配置多入口文件</a></p> </li></ol> 
<h3><a id="_devserve_174"></a>配置 devserve</h3> 
<pre><code class="prism language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">host</span><span class="token operator">:</span> <span class="token string">'0.0.0.0'</span><span class="token punctuation">,</span> <span class="token comment">// 让你的服务器可以被外部访问</span>
    <span class="token literal-property property">port</span><span class="token operator">:</span> <span class="token number">8080</span><span class="token punctuation">,</span> <span class="token comment">// 端口</span>
    <span class="token literal-property property">https</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 不使用 HTTP 提供服务</span>
    <span class="token literal-property property">hot</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//  模块热替换</span>
    <span class="token literal-property property">open</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 打开浏览器</span>
    <span class="token literal-property property">client</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">overlay</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// 当出现编译错误或警告时，在浏览器中显示全屏覆盖。</span>
      	<span class="token literal-property property">warnings</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      	<span class="token literal-property property">errors</span><span class="token operator">:</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">progress</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 在浏览器中以百分比形式打印编译进度。</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// 设置请求头</span>
      <span class="token string-property property">'X-Custom-Header'</span><span class="token operator">:</span> <span class="token string">'value'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">compress</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 启用 gzip 压缩</span>
    <span class="token literal-property property">proxy</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      <span class="token string-property property">'/api'</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// 对 /api 的请求会将请求代理到 http://localhost:4000。</span>
        <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">'http://localhost:4000'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">changeOrigin</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 使 Origin 请求头中的主机名变为目标 URL 的主机名</span>
        <span class="token literal-property property">secure</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 不验证 SSL 证书</span>
        <span class="token literal-property property">logLevel</span><span class="token operator">:</span> <span class="token string">'warn'</span><span class="token punctuation">,</span> <span class="token comment">// 代理的日志级别</span>
        <span class="token literal-property property">ws</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 使用 WebSockets 作为服务器</span>
        <span class="token literal-property property">pathRewrite</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// 重写路径</span>
          <span class="token string-property property">'^/api'</span><span class="token operator">:</span> <span class="token string">''</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function-variable function">router</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">req</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>req<span class="token punctuation">.</span>url<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'/api'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> <span class="token string">'/api'</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
          <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">context</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'/api'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token function-variable function">bypass</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">req</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>req<span class="token punctuation">.</span>headers<span class="token punctuation">.</span>accept<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'html'</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> <span class="token string">'/index.html'</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">contentBase</span><span class="token operator">:</span> <span class="token string">'./public'</span><span class="token punctuation">,</span> <span class="token comment">// 开发服务器提供的静态文件目录</span>
    <span class="token literal-property property">historyApiFallback</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 是否启用 HTML5 history API 的回退</span>
    <span class="token function-variable function">before</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">app<span class="token punctuation">,</span> server</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token comment">// 在服务器启动之前执行的函数</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">after</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">app<span class="token punctuation">,</span> server</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token comment">// 在服务器启动之后执行的函数</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">setupMiddlewares</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  <span class="token comment">// 设置中间件</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre> 
<p>参考链接: <a href="https://blog.csdn.net/a123456234/article/details/141002956?spm=1001.2014.3001.5501">vue.config.js 配置 devserve 配置</a></p> 
<h3><a id="_configureWebpack__chainWebpack_232"></a>配置 configureWebpack 和 chainWebpack</h3> 
<h4><a id="configureWebpack_233"></a>configureWebpack</h4> 
<p><code>configureWebpack</code> 允许你在 Vue CLI 项目中直接修改 Webpack 的配置。它可以通过一个对象或一个函数来实现。如果你使用的是一个函数，那么它会接收默认的 Webpack 配置作为参数，并且你应该返回一个修改过的配置对象。</p> 
<p><strong>配置示例:</strong></p> 
<pre><code class="prism language-javascript"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"path"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> TerserPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"terser-webpack-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> WebpackObfuscator <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack-obfuscator'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token parameter">dir</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">return</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> dir<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">'浏览器网页标题'</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
	<span class="token function-variable function">configureWebpack</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">config</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
	    config<span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">,</span>
	      config<span class="token punctuation">.</span>resolve <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
	        <span class="token operator">...</span>config<span class="token punctuation">.</span>resolve<span class="token punctuation">,</span>
	        <span class="token literal-property property">alias</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
	          <span class="token string-property property">"@"</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">"src"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 配置别名 @</span>
	          <span class="token string-property property">'vue'</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'./'</span><span class="token punctuation">,</span> <span class="token string">'node_modules'</span><span class="token punctuation">,</span> <span class="token string">'vue'</span><span class="token punctuation">)</span> <span class="token comment">// 去重vue包,多个vue包会导致element-ui 里的 table 组件不生效</span>
	        <span class="token punctuation">}</span>
	      <span class="token punctuation">}</span><span class="token punctuation">,</span>
	      config<span class="token punctuation">.</span>optimization <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
	        <span class="token operator">...</span>config<span class="token punctuation">.</span>minimizer<span class="token punctuation">,</span>
	        <span class="token literal-property property">minimizer</span><span class="token operator">:</span> <span class="token punctuation">[</span>
	          <span class="token keyword">new</span> <span class="token class-name">TerserPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
	            <span class="token literal-property property">terserOptions</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
	              <span class="token literal-property property">compress</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
	                <span class="token literal-property property">drop_console</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 去除 console.log</span>
	                <span class="token literal-property property">drop_debugger</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 去除 debugger</span>
	              <span class="token punctuation">}</span><span class="token punctuation">,</span>
	            <span class="token punctuation">}</span><span class="token punctuation">,</span>
	          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	        <span class="token punctuation">]</span>
	      <span class="token punctuation">}</span>
	
	    <span class="token keyword">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">'production'</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	      config<span class="token punctuation">.</span>plugins<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>
	        <span class="token keyword">new</span> <span class="token class-name">WebpackObfuscator</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
	          <span class="token comment">// 压缩代码</span>
	          <span class="token literal-property property">compact</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
	          <span class="token comment">// 是否启用控制流扁平化(降低1.5倍的运行速度)</span>
	          <span class="token literal-property property">controlFlowFlattening</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
	          <span class="token comment">// 随机的死代码块(增加了混淆代码的大小)</span>
	          <span class="token literal-property property">deadCodeInjection</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
	          <span class="token comment">// 此选项几乎不可能使用开发者工具的控制台选项卡</span>
	          <span class="token literal-property property">debugProtection</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
	          <span class="token comment">// 如果选中，则会在“控制台”选项卡上使用间隔强制调试模式，从而更难使用“开发人员工具”的其他功能。</span>
	          <span class="token literal-property property">debugProtectionInterval</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
	          <span class="token comment">// 通过用空函数替换它们来禁用console.log，console.info，console.error和console.warn。这使得调试器的使用更加困难。</span>
	          <span class="token literal-property property">disableConsoleOutput</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
	          <span class="token comment">// 标识符的混淆方式 hexadecimal(十六进制) mangled(短标识符)</span>
	          <span class="token literal-property property">identifierNamesGenerator</span><span class="token operator">:</span> <span class="token string">'hexadecimal'</span><span class="token punctuation">,</span>
	          <span class="token literal-property property">log</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
	          <span class="token comment">// 是否启用全局变量和函数名称的混淆</span>
	          <span class="token literal-property property">renameGlobals</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
	          <span class="token comment">// 通过固定和随机（在代码混淆时生成）的位置移动数组。这使得将删除的字符串的顺序与其原始位置相匹配变得更加困难。如果原始源代码不小，建议使用此选项，因为辅助函数可以引起注意。</span>
	          <span class="token literal-property property">rotateStringArray</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
	          <span class="token comment">// 混淆后的代码,不能使用代码美化,同时需要配置 cpmpat:true;</span>
	          <span class="token literal-property property">selfDefending</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
	          <span class="token comment">// 删除字符串文字并将它们放在一个特殊的数组中</span>
	          <span class="token literal-property property">stringArray</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
	          <span class="token literal-property property">rotateUnicodeArray</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
	          <span class="token comment">//  stringArrayEncoding: 'base64',</span>
	          <span class="token literal-property property">stringArrayEncoding</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'base64'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	          <span class="token literal-property property">stringArrayThreshold</span><span class="token operator">:</span> <span class="token number">0.75</span><span class="token punctuation">,</span>
	          <span class="token comment">// 允许启用/禁用字符串转换为unicode转义序列。Unicode转义序列大大增加了代码大小，并且可以轻松地将字符串恢复为原始视图。建议仅对小型源代码启用此选项。</span>
	          <span class="token literal-property property">unicodeEscapeSequence</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
	          <span class="token comment">// 允许启用/禁用字符串转换为unicode转义序列。Unicode转义序列大大增加了代码大小，并且可以轻松地将字符串恢复为原始视图。建议仅对小型源代码启用此选项。</span>
	          <span class="token literal-property property">transformObjectKeys</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
	        <span class="token punctuation">}</span><span class="token punctuation">)</span>
	      <span class="token punctuation">)</span>
	    <span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

</code></pre> 
<h4><a id="chainWebpack_312"></a>chainWebpack</h4> 
<p><code>chainWebpack</code> 是 Vue CLI 提供的一种更强大的方式来修改 Webpack 的配置。与 <code>configureWebpack</code> 不同，<code>chainWebpack</code> 使用 Webpack Chain API，它允许你以一种声明式的方式来修改 Webpack 配置</p> 
<p><strong>配置示例:</strong></p> 
<pre><code class="prism language-javascript"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"path"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function-variable function">chainWebpack</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">config</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 修改 HTML 插件的选项</span>
    config<span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">(</span><span class="token string">'html'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token parameter">args</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
      args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token string">'My App'</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> args<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 修改模块规则</span>
    config<span class="token punctuation">.</span>module
      <span class="token punctuation">.</span><span class="token function">rule</span><span class="token punctuation">(</span><span class="token string">'images'</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(png|jpe?g|gif|webp)(\?.*)?$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'url-loader'</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">loader</span><span class="token punctuation">(</span><span class="token string">'url-loader'</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">options</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">limit</span><span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'img/[name].[hash:7].[ext]'</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 去除 debugger</span>
    config<span class="token punctuation">.</span><span class="token function">when</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">'production'</span><span class="token punctuation">,</span> <span class="token parameter">config</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
      config<span class="token punctuation">.</span>optimization<span class="token punctuation">.</span><span class="token function">minimize</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      config<span class="token punctuation">.</span>optimization<span class="token punctuation">.</span><span class="token function">minimizer</span><span class="token punctuation">(</span><span class="token string">'terser'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token parameter">args</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>terserOptions<span class="token punctuation">.</span>compress<span class="token punctuation">.</span>drop_debugger <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> args<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 添加别名</span>
    config<span class="token punctuation">.</span>resolve<span class="token punctuation">.</span>alias
      <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'@components'</span><span class="token punctuation">,</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'src/components'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'@assets'</span><span class="token punctuation">,</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'src/assets'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 添加额外的插件</span>
    config<span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">(</span><span class="token string">'define'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token parameter">args</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
      args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'process.env'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token constant">VUE_APP_VERSION</span> <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">VUE_APP_VERSION</span> <span class="token operator">||</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> args<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 修改输出选项</span>
    config<span class="token punctuation">.</span>output<span class="token punctuation">.</span><span class="token function">filename</span><span class="token punctuation">(</span><span class="token string">'[name].[contenthash].js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token parameter">dir</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">return</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> dir<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>参考链接: <a href="https://blog.csdn.net/a123456234/article/details/141036779?spm=1001.2014.3001.5502">vue.config.js 配置configureWebpack 和 chainWebpack 以及一些常用配置</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b4bc7188f7d066f350e1d01a252b9bb3/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">vue.config.js 配置configureWebpack 和 chainWebpack 以及一些常用配置</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/743e0557089f6c33a31da4495379d246/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【最新】推荐7款智能AI写作论文生成网站工具</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>