<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>VS Code 配置 C/C&#43;&#43; 编程运行环境（保姆级教程） - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/b4dabbe5fd0ccfb2217d50ae1415e5f2/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="VS Code 配置 C/C&#43;&#43; 编程运行环境（保姆级教程）">
  <meta property="og:description" content="文章目录 一、软件下载1. 下载 VS Code 安装工具 2. 下载 MinGW-W64二、安装 VS Code三、安装 MinGW-W64 及配置环境变量四、配置 VS Code 的 C/C&#43;&#43; 编程运行环境1. 汉化 VS Code（选做）2. 安装 C/C&#43;&#43; 扩展包 五、测试 VS Code 的 C/C&#43;&#43; 编程环境1. 创建代码文件夹2. 单个 .c 文件的运行和调试3. 多个 .c 文件的运行与调试 参考资料 在本教程中，将会安装 Visual Studio Code（后简称 VS Code），并在 VS Code 中安装 C/C&#43;&#43; 相关插件， 同时也将 VS Code 配置为使用 MinGW-W64 中的 GCC C/C&#43;&#43; 编译器（gcc/g&#43;&#43;）和 GDB 调试器来创建在 Windows 上运行的程序。配置 VS Code 后，你将编写、编译、运行和调试大多数的 C/C&#43;&#43; 程序。
本教程所有参考内容均来自Documentation for Visual Studio Code。">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-06-04T14:48:26+08:00">
    <meta property="article:modified_time" content="2024-06-04T14:48:26+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">VS Code 配置 C/C&#43;&#43; 编程运行环境（保姆级教程）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#_8" rel="nofollow">一、软件下载</a></li><li><ul><li><a href="#1__VS_Code__10" rel="nofollow">1. 下载 VS Code 安装工具</a></li></ul> 
  </li><li><a href="#2__MinGWW64_19" rel="nofollow">2. 下载 MinGW-W64</a></li><li><a href="#_VS_Code_35" rel="nofollow">二、安装 VS Code</a></li><li><a href="#_MinGWW64__82" rel="nofollow">三、安装 MinGW-W64 及配置环境变量</a></li><li><a href="#_VS_Code__CC__204" rel="nofollow">四、配置 VS Code 的 C/C++ 编程运行环境</a></li><li><ul><li><a href="#1__VS_Code_206" rel="nofollow">1. 汉化 VS Code（选做）</a></li><li><a href="#2__CC__232" rel="nofollow">2. 安装 C/C++ 扩展包</a></li></ul> 
  </li><li><a href="#_VS_Code__CC__243" rel="nofollow">五、测试 VS Code 的 C/C++ 编程环境</a></li><li><ul><li><a href="#1__245" rel="nofollow">1. 创建代码文件夹</a></li><li><a href="#2__c__281" rel="nofollow">2. 单个 .c 文件的运行和调试</a></li><li><a href="#3__c__355" rel="nofollow">3. 多个 .c 文件的运行与调试</a></li></ul> 
  </li><li><a href="#_476" rel="nofollow">参考资料</a></li></ul> 
</div> 
<p></p> 
<p>在本教程中，将会安装 Visual Studio Code（后简称 VS Code），并在 VS Code 中安装 C/C++ 相关插件， 同时也将 VS Code 配置为使用 MinGW-W64 中的 GCC C/C++ 编译器（gcc/g++）和 GDB 调试器来创建在 Windows 上运行的程序。配置 VS Code 后，你将编写、编译、运行和调试大多数的 C/C++ 程序。</p> 
<p>本教程所有参考内容均来自<a href="https://code.visualstudio.com/docs" rel="nofollow">Documentation for Visual Studio Code</a>。</p> 
<p><img src="https://images2.imgbox.com/d8/1d/GJ8vVgJ1_o.jpg" alt="在这里插入图片描述"></p> 
<h2><a id="_8"></a>一、软件下载</h2> 
<h3><a id="1__VS_Code__10"></a>1. 下载 VS Code 安装工具</h3> 
<p>官方下载链接：<a href="https://code.visualstudio.com/" rel="nofollow">Visual Studio Code - Code Editing. Redefined</a></p> 
<p><img src="https://images2.imgbox.com/62/b8/6rUIExmW_o.png" alt="在这里插入图片描述"></p> 
<p>直接点“Download for Windows”就可以进行下载。</p> 
<h2><a id="2__MinGWW64_19"></a>2. 下载 MinGW-W64</h2> 
<p>MinGW-W64 可以去<a href="https://www.mingw-w64.org/" rel="nofollow">MinGW-w64</a>的官网下载，也就可以直接去 MinGW-W64 的 GitHub 上下载。由于在官网下载容易下错，所以我这里给一个 GitHub 的链接，也是在 VS Code 上提供的链接。（官方认证，绝对没错！）</p> 
<p><strong>MinGW-W64下载链接：</strong><a href="https://github.com/msys2/msys2-installer/releases/">Releases · msys2/msys2-installer (github.com)</a></p> 
<p>进入链接后，可以看到历史版本的更替，截至本教程编写日期，最新版本为 <a href="https://github.com/msys2/msys2-installer/releases/tag/2024-01-13">2024-01-13</a> 的版本，单击日期跳转至下载窗口。</p> 
<p><img src="https://images2.imgbox.com/66/4d/3xVNSPDD_o.png" alt="在这里插入图片描述"></p> 
<p>如下图所示，选择<code>msys2-x86_64-20240113.exe</code>（记住前缀是 msys2-x86_64 就行，后面是日期），点击后面的下载标志。</p> 
<p><img src="https://images2.imgbox.com/25/60/WKGRuMHv_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_VS_Code_35"></a>二、安装 VS Code</h2> 
<p>双击运行<code>VSCodeUserSetup-x64-1.87.2.exe</code>。</p> 
<p><img src="https://images2.imgbox.com/a0/64/mIcu3p9Q_o.png" alt="在这里插入图片描述"></p> 
<p>如果出现如下弹窗，单击<code>运行</code>即可。</p> 
<p><img src="https://images2.imgbox.com/f7/23/zViuZp04_o.png" alt="在这里插入图片描述"></p> 
<p>选择<code>我同意此协议</code>并单击<code>下一步</code>。</p> 
<p><img src="https://images2.imgbox.com/07/e6/1OlbN4LJ_o.png" alt="在这里插入图片描述"></p> 
<p>这里提示 VS Code 的安装位置，我只有一个 C 盘（现在的固态硬盘可以选择不分区），所以选择默认默认路径，直接点击<code>下一步</code>。当然，你的电脑硬盘要是有分区的话，可以选择其他路径。</p> 
<p><img src="https://images2.imgbox.com/5f/ac/vLxtaTMl_o.png" alt="在这里插入图片描述"></p> 
<p>这一步是创建快捷方式的名字，可以输入其他名字，下面的选项如果不勾选，就会把快捷方式添加到开始菜单中。我选择默认，直接点<code>下一步</code>。</p> 
<p><img src="https://images2.imgbox.com/0c/84/XymCK2DQ_o.png" alt="在这里插入图片描述"></p> 
<p>默认只有最后两项被选中，我全部选上，单击<code>下一步</code>。<img src="https://images2.imgbox.com/2d/3b/n8moQZvZ_o.png" alt="在这里插入图片描述"></p> 
<p>最后再确认一下信息，确认之后直接安装即可。</p> 
<p><img src="https://images2.imgbox.com/1c/a1/gt6VbhiS_o.png" alt="在这里插入图片描述"></p> 
<p>大概一分钟左右就可以安装完成。</p> 
<p><img src="https://images2.imgbox.com/20/33/tDRPloTP_o.png" alt="在这里插入图片描述"></p> 
<p>安装完成后，先暂时不运行 VS Code，把勾选去掉，点击<code>完成</code>。</p> 
<p><img src="https://images2.imgbox.com/a8/21/r4smVdYr_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_MinGWW64__82"></a>三、安装 MinGW-W64 及配置环境变量</h2> 
<p>双击<code>msys2-x86_64-20240113.exe</code>运行安装程序。</p> 
<p><img src="https://images2.imgbox.com/47/06/JIcQjJk3_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>[!CAUTION]</p> 
 <p><strong>请注意，MSYS2 需要 64 位 Windows 8.1 及以上版本。</strong></p> 
</blockquote> 
<p>此界面直接点击<code>下一步</code>。</p> 
<p><img src="https://images2.imgbox.com/6a/c2/kNnnGqNc_o.png" alt="在这里插入图片描述"></p> 
<p>选择安装的路径，我这里选择默认，同学们可以根据自己的情况修改路径，之后点击<code>下一步</code>。</p> 
<p><img src="https://images2.imgbox.com/dd/71/7qQ74x5z_o.png" alt="在这里插入图片描述"></p> 
<p>开始菜单中的名字，这个还是可以直接默认，点击<code>下一步</code>。</p> 
<p><img src="https://images2.imgbox.com/6f/e2/ASZXIAue_o.png" alt="在这里插入图片描述"></p> 
<p>开始安装。</p> 
<p><img src="https://images2.imgbox.com/01/a6/0c9wYTmS_o.png" alt="在这里插入图片描述"></p> 
<p>待进度条走完，直接点击<code>下一步</code>。</p> 
<p><img src="https://images2.imgbox.com/f1/52/P246EvLv_o.png" alt="在这里插入图片描述"></p> 
<p>默认勾选<code>立即运行MSYS2</code>，单击<code>完成</code>。</p> 
<p><img src="https://images2.imgbox.com/7e/0d/FYyekx90_o.png" alt="在这里插入图片描述"></p> 
<p>当按下<code>完成</code>之后，会弹出打开一个 MSYS2 终端窗口。</p> 
<p><img src="https://images2.imgbox.com/7f/a5/yny0SLcF_o.png" alt="在这里插入图片描述"></p> 
<p>在此终端中，通过输入以下命令并按回车键，安装 MinGW-w64 工具链：</p> 
<pre><code class="prism language-shell">pacman <span class="token parameter variable">-S</span> <span class="token parameter variable">--needed</span> base-devel mingw-w64-ucrt-x86_64-toolchain
</code></pre> 
<p>出现这个界面，直接按回车键，默认接受所有的安装包。</p> 
<p><img src="https://images2.imgbox.com/81/a5/cfUGs0jo_o.png" alt="在这里插入图片描述"></p> 
<p>当系统提示是否继续安装时，请输入<code>y</code>并回车。</p> 
<p><img src="https://images2.imgbox.com/1d/13/PCcQvVYC_o.png" alt="在这里插入图片描述"></p> 
<p>之后就进入安装过程，稍等片刻。</p> 
<p><img src="https://images2.imgbox.com/13/3f/GUtC2O3n_o.png" alt="在这里插入图片描述"></p> 
<p>当所有的包都安装好后，直接关闭终端。</p> 
<p><img src="https://images2.imgbox.com/8a/63/mCJc74dh_o.png" alt="在这里插入图片描述"></p> 
<p>打开安装 MSYS2 的目录，先找到<code>ucrt64</code>文件夹并进入，再找到<code>bin</code>文件夹并进入，然后在地址栏中，复制路径。</p> 
<p>如果一开始用默认路径，那路径就是<code>C:\msys64\ucrt64\bin</code>。</p> 
<p><img src="https://images2.imgbox.com/59/25/Wbf6VBuo_o.png" alt="在这里插入图片描述"></p> 
<p>然后在搜索框中输入 <code>编辑系统环境变量</code>，并打开编辑系统环境变量的设置界面。</p> 
<p><img src="https://images2.imgbox.com/f8/81/ZNRFgFO3_o.png" alt="在这里插入图片描述"></p> 
<p>在系统属性的弹窗中，点击<code>环境变量</code>。</p> 
<p><img src="https://images2.imgbox.com/cd/4e/uKo0BYgz_o.png" alt="在这里插入图片描述"></p> 
<p>在弹出的环境变量弹窗中，找到用户变量的<code>Path</code>，并双击打开。</p> 
<p><img src="https://images2.imgbox.com/df/95/j3VxxvDR_o.png" alt="在这里插入图片描述"></p> 
<p>此时会弹出编辑环境变量的窗口，先点击<code>新建</code>按钮，然后会在空白行中出现一个输入框和一个闪烁的光标，在这里粘贴上广告复制的路径，最后点击<code>确定</code>按钮回到上层弹窗。</p> 
<p><img src="https://images2.imgbox.com/68/37/m6DCvEBl_o.png" alt="在这里插入图片描述"></p> 
<p>最后逐层弹窗点击<code>确定</code>按钮退出即可。</p> 
<p><img src="https://images2.imgbox.com/51/46/NTBgAVS2_o.png" alt="在这里插入图片描述"></p> 
<p>最后做一下测试，按组合键<code>Win + r</code>之后，输入<code>cmd</code>回车。</p> 
<p><img src="https://images2.imgbox.com/f9/b8/HtsgLORW_o.png" alt="在这里插入图片描述"></p> 
<p>回车之后，就可以调出 CMD 的终端窗口了，然后分别输入下面的命令，每输入一次命令后回车一次。</p> 
<pre><code class="prism language-cmd">gcc --version
g++ --version
gdb --version
</code></pre> 
<p>出现如下图一样的信息，就说明 C/C++ 的编译环境已经安装好。</p> 
<p><img src="https://images2.imgbox.com/81/8a/ylgjIq9U_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_VS_Code__CC__204"></a>四、配置 VS Code 的 C/C++ 编程运行环境</h2> 
<h3><a id="1__VS_Code_206"></a>1. 汉化 VS Code（选做）</h3> 
<p>这个配置环节并不属于 C/C++ 编程运行环境的配置必要环节，先挑战或想适应英文开发环境的同学可以跳过。</p> 
<p>考虑到很多同学的英文水平可能不是很好，对于全英文的开发环境会犯难，这里可以使用 VS Code 自带的汉化插件来解决这个问题。</p> 
<p>首先启动 VS Code 软件，按下组合键<code>Ctrl + Shift + x</code>，或者直接点击左边的第五个小图标，进入<code>Extensions</code>。</p> 
<p><img src="https://images2.imgbox.com/ae/5b/Z6iy5Sfs_o.png" alt="在这里插入图片描述"></p> 
<p>在上方输入框中键入<code>Chinese</code>，扩展插件的列表会刷新出汉化插件，点击对应的<code>Install</code>按钮进行安装。</p> 
<p><img src="https://images2.imgbox.com/3e/9d/yjAiTtdP_o.png" alt="在这里插入图片描述"></p> 
<p>安装好后，软件界面的右下角会弹出通知，并附带<code>Change Language and Restart</code>的按钮，点击这个按钮，即可重启软件。</p> 
<p><img src="https://images2.imgbox.com/8f/6e/VzoGRpBj_o.png" alt="在这里插入图片描述"></p> 
<p>软件重启后，就是中文的界面了。</p> 
<p><img src="https://images2.imgbox.com/de/c3/kn6DUJic_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="2__CC__232"></a>2. 安装 C/C++ 扩展包</h3> 
<p>在<code>Extensions</code>中搜索“C++”，列表第一个扩展包就是我们要的，点击<code>安装</code>即可。</p> 
<p><img src="https://images2.imgbox.com/71/63/9lsvreDG_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>[!TIP]</p> 
 <p>上图中的<code>C/C++ Extension Pack</code>是 C/C++ 的扩展功能包，里面包含了一些项目管理和代码构建的工具，不是必要的扩展包，可以选择性安装。</p> 
</blockquote> 
<h2><a id="_VS_Code__CC__243"></a>五、测试 VS Code 的 C/C++ 编程环境</h2> 
<h3><a id="1__245"></a>1. 创建代码文件夹</h3> 
<p>VS Code 是一款基于文件夹进行代码编辑和管理的编辑器，通常我们会把新建一个文件夹来管理同一个项目的代码，并在 VS Code 中打开。</p> 
<p>我新建了一个名为<code>Code</code>的文件夹，并在里面新建了一个用于专门放 C 语言代码的文件夹。</p> 
<p><img src="https://images2.imgbox.com/7f/ce/5axD7VM2_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>[!WARNING]</p> 
 <p>需要注意的是，这个路径最好不要存在中文，否则会出现编译失败等问题。</p> 
</blockquote> 
<p>打开 VS Code，点击<code>打开文件夹</code>的按钮。</p> 
<p><img src="https://images2.imgbox.com/9b/18/lI3HV1r3_o.png" alt="在这里插入图片描述"></p> 
<p>在弹窗中找到刚刚新建的<code>C</code>文件夹，选中文件夹，再点<code>选择文件夹</code>。</p> 
<p><img src="https://images2.imgbox.com/c4/29/kSnUcRDy_o.png" alt="在这里插入图片描述"></p> 
<p>选中文件夹后，在新弹出的窗口中，勾选上<code>信任父文件夹"Documents"中所有文件的作者</code>，再点<code>是，我信任此作者</code>。</p> 
<p><img src="https://images2.imgbox.com/8f/39/ANfzMqC3_o.png" alt="在这里插入图片描述"></p> 
<p>文件添加好后，在左边的资源管理器中会出现<code>CODE</code>文件夹以及子文件夹<code>C</code>，把鼠标放在文件夹上面，会出现四个小图标。四个小图标从左往右的作用分别是<strong>新建文件</strong>、<strong>新建文件夹</strong>、<strong>刷新资源管理器</strong>以及<strong>在资源管理器中折叠文件夹</strong>。</p> 
<p><img src="https://images2.imgbox.com/e3/df/zok7P7di_o.png" alt="在这里插入图片描述"></p> 
<p>好了，做到这一步，接下来就可以进行代码的运行和调试了。</p> 
<h3><a id="2__c__281"></a>2. 单个 .c 文件的运行和调试</h3> 
<p>为了方便管理代码，我们先选中<code>C</code>文件夹，再点击<code>新建文件夹</code>按钮。</p> 
<p><img src="https://images2.imgbox.com/e4/7d/nyfyLTqH_o.png" alt="在这里插入图片描述"></p> 
<p>此时会在<code>C</code>文件夹的下级出现一个输入框，我们新建一个名为<code>test</code>的文件夹。</p> 
<p><img src="https://images2.imgbox.com/ac/36/Gc4UHrtJ_o.png" alt="在这里插入图片描述"></p> 
<p>鼠标右键<code>test</code>文件夹，在弹出的菜单中选择<code>新建文件</code>。</p> 
<p><img src="https://images2.imgbox.com/4b/2a/L6tkJ2AW_o.png" alt="在这里插入图片描述"></p> 
<p>在输入框中输入我们接下来要进行调试代码文件名，命名为<code>test.c</code>，注意，一定要是 .c 结尾。</p> 
<p><img src="https://images2.imgbox.com/12/ad/JSNYRtZG_o.png" alt="在这里插入图片描述"></p> 
<p>接下来就可以输入一个调试程序了，我的代码如下：</p> 
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Hello Grayson~%d\n"</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span> 

    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>写好测试代码后，点击右上角的调试按钮，这时会弹出调试程序的选项，选择第一个，也是本教程前面安装的 gcc 编译工具。</p> 
<p><img src="https://images2.imgbox.com/3e/18/S8vuEsBv_o.png" alt="在这里插入图片描述"></p> 
<p>这时文件就被编译并执行，如果在右下角弹出如下窗口，点击<code>是</code>即可。</p> 
<p><img src="https://images2.imgbox.com/2e/db/NYrCviuG_o.png" alt="在这里插入图片描述"></p> 
<p>运行结果如图所示。</p> 
<p><img src="https://images2.imgbox.com/47/4f/5PgVLf3L_o.png" alt="在这里插入图片描述"></p> 
<p>如果要进行简单的断点调试，可以在行号前加一个断点，操作也很简单，只需用鼠标左键点一下行号左边的空白处即可。如下图所示，是在第六行处加了一个断点。</p> 
<p><img src="https://images2.imgbox.com/f1/bc/8FUqYaRS_o.png" alt="在这里插入图片描述"></p> 
<p>这时再去运行程序，搜索框下面就会出现调试的面板，面板上有六个按钮，分别是<strong>继续</strong>、<strong>逐过程</strong>、<strong>单步调试</strong>、<strong>单步跳出</strong>、<strong>重启</strong>和<strong>停止</strong>。</p> 
<p><img src="https://images2.imgbox.com/45/dc/o53pRlvN_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>[!IMPORTANT]</p> 
 <p>以下是 VS Code 中的 C 语言代码调试面板功能的解释：</p> 
 <ol><li><strong>继续</strong>（Continue）：继续执行程序，直到遇到下一个断点或程序结束。</li><li><strong>逐过程</strong>（Step Over）：逐行执行当前行，如果当前行是函数调用，则进入该函数并执行完毕。</li><li><strong>单步调试</strong>（Step Into）：逐行执行当前行，如果当前行是函数调用，则进入该函数并停在函数内的第一行。</li><li><strong>单步跳出</strong>（Step Out）：执行完当前函数的剩余部分，并停在当前函数被调用的下一行。</li><li><strong>重启</strong>（Restart）：重新启动程序的调试会话，即从程序的起点开始执行。</li><li><strong>停止</strong>（Stop）：停止程序的调试会话，结束调试过程并关闭程序执行。</li></ol> 
</blockquote> 
<p>目前这个程序还不能很好说明以上的调试功能（至少<strong>逐过程</strong>、<strong>单步调试</strong>和<strong>单步跳出</strong>这三个并不明显），所以在后面的内容将以另一个代码进行演示。</p> 
<h3><a id="3__c__355"></a>3. 多个 .c 文件的运行与调试</h3> 
<p>如果想要进行多个 .c 文件编译后的调试，就需要进行一些配置修改。如果进行过一次编译运行，我们会发现在资源管理器的<code>C</code>文件夹下，多出一个<code>.vscode</code>的文件夹，这个文件夹里面有个<code>tasks.json</code>的文件</p> 
<p><img src="https://images2.imgbox.com/d8/0d/sqWLAciH_o.png" alt="在这里插入图片描述"></p> 
<p>这个文件是用于定义任务配置，这些任务可以在 VS Code 中运行，例如编译代码、运行测试、启动调试器等。<code>tasks.json</code>文件是一个 JSON 格式的文件，其中包含了任务的配置信息，包括任务名称、命令、参数等。通过编辑<code>tasks.json</code>文件，我们可以自定义项目中的各种任务，并在 VS Code 中方便地执行这些任务。</p> 
<p>当前的 VS Code 的运行效果还不是很理想，双击打开<code>tasks.json</code>文件修改一下编译运行功能。下图是对该 JSON 文件做了部分解释。</p> 
<p><img src="https://images2.imgbox.com/93/a1/aLV4grE0_o.png" alt="在这里插入图片描述"></p> 
<p>具体修改如下图所示，我注释掉了原来的<code>"${file}"</code>，并新增一行<code>"*.c"</code>，表示并非指定某一个 .c 文件，而是当前文件夹下所有的 .c 文件。同时也把<code>"${fileDirname}\\${fileBasenameNoExtension}.exe"</code>注释掉，改成<code>"${fileDirname}\\program.exe"</code>，那么多个 .c 文件编译之后的可执行文件就是<code>program.exe</code>。</p> 
<p><img src="https://images2.imgbox.com/e0/f4/0XK4qxKd_o.png" alt="在这里插入图片描述"></p> 
<p>修改好后，按组合键<code>Ctrl + s</code>保存即可。</p> 
<p>然后点击左侧的<code>运行与调试</code>，再点击<code>创建launch.json文件</code>。</p> 
<p><img src="https://images2.imgbox.com/84/8f/dczZGyyF_o.png" alt="在这里插入图片描述"></p> 
<p>搜索框会弹出选项，选择<code>C++(GDB/LLDB)</code>。</p> 
<p><img src="https://images2.imgbox.com/5b/0b/IUJEPPQU_o.png" alt="在这里插入图片描述"></p> 
<p>然后 VS Code 会新建一个 JSON 文件，点击右下角的<code>添加配置</code>，在弹出的下拉菜单中选择<code>C/C++：（gdb）启动</code>。</p> 
<p><img src="https://images2.imgbox.com/bb/72/UAUhlrry_o.png" alt="在这里插入图片描述"></p> 
<p>此时，JSON 文件会多出一些配置信息，需要我们修改的内容如下图所示的红框标志内容。</p> 
<p><img src="https://images2.imgbox.com/90/88/zLURMzDd_o.png" alt="在这里插入图片描述"></p> 
<p>修改为下图红框所示内容，<code>“program”</code>后的内容就是前面提到的<code>tasks.json</code>文件中的编译后产生的可执行文件。<code>"miDebuggerPath"</code>后面的则是前面安装的 MinGW-W64 的 gdb 工具的路径。修改后保持关闭。</p> 
<p><img src="https://images2.imgbox.com/16/53/uW0Wmud0_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>[!NOTE]</p> 
 <p>在复制粘贴 gdb 的路径时，不少小伙伴会忽略掉下图所示的问题。反斜杠是转义字符的作用，应该像上图一样多加一个一个反斜杠才表示路径。</p> 
 <p><img src="https://images2.imgbox.com/b3/54/gC8PKdZW_o.png" alt="在这里插入图片描述"></p> 
</blockquote> 
<p>之后，我们进行多文件的编译调试，先在<code>C</code>文件夹下新建一个新的文件夹，我这里命名为<code>test2</code>，并在这个文件夹里面新建三个文件，分别是<code>test.c</code>、<code>max.h</code>和<code>max.c</code>。</p> 
<p><img src="https://images2.imgbox.com/ae/03/O9n41d5B_o.png" alt="在这里插入图片描述"></p> 
<p>代码如下：</p> 
<p>max.h</p> 
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">__MAX_H__</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">__MAX_H__</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>

<span class="token keyword">int</span> <span class="token function">findMaxNum</span><span class="token punctuation">(</span><span class="token keyword">int</span> num1<span class="token punctuation">,</span> <span class="token keyword">int</span> num2<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span> <span class="token comment">// __MAX_H__</span></span>
</code></pre> 
<p>max.c</p> 
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"max.h"</span></span>

<span class="token keyword">int</span> <span class="token function">findMaxNum</span><span class="token punctuation">(</span><span class="token keyword">int</span> num1<span class="token punctuation">,</span> <span class="token keyword">int</span> num2<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> num1 <span class="token operator">&gt;</span> num2 <span class="token operator">?</span> num1 <span class="token operator">:</span> num2<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>test2.c</p> 
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"max.h"</span></span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> c <span class="token operator">=</span> <span class="token function">findMaxNum</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>代码写好后，给<code>test2.c</code>的第 8 行代码打一个断点，再点调试按钮旁边的小三角形，在下拉菜单中选择<code>调试C/C++文件</code>。</p> 
<p><img src="https://images2.imgbox.com/53/98/6IAQCeD0_o.png" alt="在这里插入图片描述"></p> 
<p>调试面板依旧是之前的那个。如果点击<code>继续</code>，调试过程会跳到下一个断点，不过我们这个程序只打了一个断点，所以会直接运行到程序结束并退出调试。</p> 
<p><img src="https://images2.imgbox.com/a2/2a/vVxDmScV_o.png" alt="在这里插入图片描述"></p> 
<p>如果点击<code>逐过程</code>，则在不进入函数内部，而是直接输出函数的运行结果，然后跳到下一行。</p> 
<p><img src="https://images2.imgbox.com/f6/c4/V1BQWYNa_o.png" alt="在这里插入图片描述"></p> 
<p>如果点击<code>单步调试</code>，则会进入被调用函数的内部，继续点击<code>单步调试</code>会一步一步执行并返回。如果进入函数后，点击<code>单步跳出</code>则直接带着函数的执行结果返回被调用处。</p> 
<p><img src="https://images2.imgbox.com/e9/78/SmjME6L1_o.png" alt="在这里插入图片描述"></p> 
<hr> 
<h2><a id="_476"></a>参考资料</h2> 
<p><a href="https://code.visualstudio.com/docs/setup/windows" rel="nofollow">《Running Visual Studio Code on Windows》</a></p> 
<p><a href="https://code.visualstudio.com/docs/languages/cpp" rel="nofollow">《C++ programming with Visual Studio Code》</a></p> 
<p><a href="https://code.visualstudio.com/docs/cpp/config-mingw" rel="nofollow">《Get Started with C++ and MinGW-w64 in Visual Studio Code》</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/a2e1b57a025e9ace73cc18bcdf598a06/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【Nginx】Nginx 最新社区稳定版-1.26.1-发布</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6eddd72984dd98b8b3c58e2ebb62147a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">即时设计工具对决：Figma、Sketch与XD的优劣比较</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>