<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>用AI制作历史解说视频：GPT &#43; MidJourney &#43; PiKa &#43; FunSound &#43; 剪映 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/6f00e2b7618037ee89040207855d889e/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="用AI制作历史解说视频：GPT &#43; MidJourney &#43; PiKa &#43; FunSound &#43; 剪映">
  <meta property="og:description" content="1. 项目介绍 最近某站看到一个看到利用AI创作视频解说，成品画面很酷炫。对此以初学者视角进行复现，创意来源：用AI制作历史解说视频
2. 开始创作 我们参照原作者展示的内容，对古代人物屈原来生成解说视频。
2.1 故事脚本&#43;分镜 【由GPT-4o支持】 2.1.1 生成分镜 GPT对话：
以屈原人物解说为主题，写一个具有传奇色彩和反差感的人物传记故事脚本，一共涵盖10个分镜（包含画面和旁白）
2.1.2 细化内容（面向文生图） GPT对话：
依次对十个分镜生成画面描述，用于midjourney绘图，并翻译成英文
初步得到优质的画面描述英文版
2.2 文生图【由MidJourney支持】 输入英文描述，
/Imagine promot[描述]
这里得到场景1生成的图片
接下来我们需要根据第一张图片确定人物形象风格，来保证后续人物的一致性，获取该图片的链接用于后续场景图片生成的参数
对于后续图片的人物一致性，MidJourney 提供 ”–cref &lt;url&gt;“ 参数进行人物描绘参考
挑选了10张
2.3 图生视频【由PiKa支持】 上传图片到pika，Strength of motion 设置为2，增加动感
效果如下
全部视频生成完毕，开始剪辑
2.4 语音旁白【由Funsound支持】 这里为每个旁边生成语音
2.5 语音视频长度对齐 因为生成的视频和生成的音频长度不对等，这里我们需要保持音频长度不变，对视频帧率进行调整，长度一致后合成，顺便添加中文字幕。
参考我另一篇博客 音视频对齐，这里我给出python批量处理脚本
import os from av_alignment import sync_audio_video_add_subtitle def process(audio_dir, video_dir, text_file, output_dir, output_list_file, font_path=&#34;./NotoSansCJKsc-Regular.ttf&#34;): if not os.path.exists(output_dir):os.makedirs(output_dir) if os.path.exists(output_list_file):os.remove(output_list_file) audio_list = os.listdir(audio_dir) video_list = os.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-06-09T03:24:09+08:00">
    <meta property="article:modified_time" content="2024-06-09T03:24:09+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">用AI制作历史解说视频：GPT &#43; MidJourney &#43; PiKa &#43; FunSound &#43; 剪映</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="1__0"></a>1. 项目介绍</h3> 
<p>最近某站看到一个看到利用AI创作视频解说，成品画面很酷炫。对此以初学者视角进行复现，创意来源：<a href="https://www.bilibili.com/video/BV1im411m7UF/?spm_id_from=333.880.my_history.page.click&amp;vd_source=3f579fa4291151f1bdf85bf803ae2d3f" rel="nofollow">用AI制作历史解说视频</a><br> <img src="https://images2.imgbox.com/ae/49/AByXt4pO_o.png" alt="在这里插入图片描述" width="300" height="auto"></p> 
<hr> 
<h3><a id="2__5"></a>2. 开始创作</h3> 
<p>我们参照原作者展示的内容，对古代人物屈原来生成解说视频。</p> 
<h4><a id="21__GPT4o_7"></a>2.1 故事脚本+分镜 【由GPT-4o支持】</h4> 
<h5><a id="211__8"></a>2.1.1 生成分镜</h5> 
<blockquote> 
 <p>GPT对话：<br> 以屈原人物解说为主题，写一个具有传奇色彩和反差感的人物传记故事脚本，一共涵盖10个分镜（包含画面和旁白）<br> <img src="https://images2.imgbox.com/35/eb/MG6ZVjEE_o.png" alt="在这里插入图片描述"></p> 
</blockquote> 
<h5><a id="212__14"></a>2.1.2 细化内容（面向文生图）</h5> 
<blockquote> 
 <p>GPT对话：<br> 依次对十个分镜生成画面描述，用于midjourney绘图，并翻译成英文<br> <img src="https://images2.imgbox.com/59/30/UQedAg3w_o.png" alt="在这里插入图片描述"></p> 
</blockquote> 
<p>初步得到优质的画面描述英文版</p> 
<h4><a id="22_MidJourney_22"></a>2.2 文生图【由MidJourney支持】</h4> 
<blockquote> 
 <p>输入英文描述，<br> /Imagine promot[描述]<br> <img src="https://images2.imgbox.com/39/83/l0g28bx6_o.png" alt="在这里插入图片描述"><br> 这里得到场景1生成的图片<br> <img src="https://images2.imgbox.com/46/e9/VsoQs2Ap_o.png" alt="在这里插入图片描述"><br> 接下来我们需要根据第一张图片确定人物形象风格，来保证后续人物的一致性，获取该图片的链接用于后续场景图片生成的参数<img src="https://images2.imgbox.com/c3/54/OmJtqeAm_o.png" alt="在这里插入图片描述"><br> 对于后续图片的人物一致性，MidJourney 提供 ”–cref &lt;url&gt;“ 参数进行人物描绘参考<br> <img src="https://images2.imgbox.com/ae/75/rvAmFT2S_o.png" alt="在这里插入图片描述"><br> 挑选了10张<br> <img src="https://images2.imgbox.com/70/3e/lPEeHO5U_o.png" alt="在这里插入图片描述"></p> 
</blockquote> 
<h4><a id="23_PiKa_35"></a>2.3 图生视频【由PiKa支持】</h4> 
<blockquote> 
 <p>上传图片到pika，Strength of motion 设置为2，增加动感<br> <img src="https://images2.imgbox.com/0f/33/HNlAyEvu_o.png" alt="在这里插入图片描述"><br> 效果如下<img src="https://images2.imgbox.com/2b/a5/1PB7HuoG_o.gif" alt="请添加图片描述"><br> 全部视频生成完毕，开始剪辑<br> <img src="https://images2.imgbox.com/f2/02/jXlRH1mA_o.png" alt="在这里插入图片描述"></p> 
</blockquote> 
<h4><a id="24_Funsound_41"></a>2.4 语音旁白【由Funsound支持】</h4> 
<blockquote> 
 <p>这里为每个旁边生成语音<br> <img src="https://images2.imgbox.com/02/3f/i4r4VrfI_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/12/94/bekTyY2V_o.png" alt="在这里插入图片描述"></p> 
</blockquote> 
<h4><a id="25__45"></a>2.5 语音视频长度对齐</h4> 
<blockquote> 
 <p>因为生成的视频和生成的音频长度不对等，这里我们需要保持音频长度不变，对视频帧率进行调整，长度一致后合成，顺便添加中文字幕。<br> 参考我另一篇博客 <a href="https://blog.csdn.net/Ephemeroptera/article/details/139553597?spm=1001.2014.3001.5502">音视频对齐</a>，这里我给出python批量处理脚本<br> <img src="https://images2.imgbox.com/80/e9/aATmB6KX_o.png" alt="在这里插入图片描述"></p> 
</blockquote> 
<pre><code class="prism language-python"><span class="token keyword">import</span> os
<span class="token keyword">from</span> av_alignment <span class="token keyword">import</span> sync_audio_video_add_subtitle

<span class="token keyword">def</span> <span class="token function">process</span><span class="token punctuation">(</span>audio_dir<span class="token punctuation">,</span>
            video_dir<span class="token punctuation">,</span>
            text_file<span class="token punctuation">,</span>
            output_dir<span class="token punctuation">,</span>
            output_list_file<span class="token punctuation">,</span>
            font_path<span class="token operator">=</span><span class="token string">"./NotoSansCJKsc-Regular.ttf"</span><span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">if</span> <span class="token keyword">not</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>exists<span class="token punctuation">(</span>output_dir<span class="token punctuation">)</span><span class="token punctuation">:</span>os<span class="token punctuation">.</span>makedirs<span class="token punctuation">(</span>output_dir<span class="token punctuation">)</span>
    <span class="token keyword">if</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>exists<span class="token punctuation">(</span>output_list_file<span class="token punctuation">)</span><span class="token punctuation">:</span>os<span class="token punctuation">.</span>remove<span class="token punctuation">(</span>output_list_file<span class="token punctuation">)</span>

    audio_list <span class="token operator">=</span> os<span class="token punctuation">.</span>listdir<span class="token punctuation">(</span>audio_dir<span class="token punctuation">)</span>
    video_list <span class="token operator">=</span> os<span class="token punctuation">.</span>listdir<span class="token punctuation">(</span>video_dir<span class="token punctuation">)</span>
    text_list <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span>text_file<span class="token punctuation">,</span><span class="token string">'rt'</span><span class="token punctuation">,</span>encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>readlines<span class="token punctuation">(</span><span class="token punctuation">)</span>
    audio_list<span class="token punctuation">.</span>sort<span class="token punctuation">(</span><span class="token punctuation">)</span>
    video_list<span class="token punctuation">.</span>sort<span class="token punctuation">(</span><span class="token punctuation">)</span>

    i <span class="token operator">=</span> <span class="token number">1</span>
    f <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span>output_list_file<span class="token punctuation">,</span><span class="token string">'a+'</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> audio_file<span class="token punctuation">,</span>video_file<span class="token punctuation">,</span>text <span class="token keyword">in</span> <span class="token builtin">zip</span><span class="token punctuation">(</span>audio_list<span class="token punctuation">,</span>video_list<span class="token punctuation">,</span>text_list<span class="token punctuation">)</span><span class="token punctuation">:</span>
        audio_file <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>audio_dir<span class="token punctuation">,</span>audio_file<span class="token punctuation">)</span>
        video_file <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>video_dir<span class="token punctuation">,</span>video_file<span class="token punctuation">)</span>
        text <span class="token operator">=</span> text<span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span>
        out_file <span class="token operator">=</span> <span class="token string">'%s/%08d.mp4'</span><span class="token operator">%</span><span class="token punctuation">(</span>output_dir<span class="token punctuation">,</span>i<span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"audio_file:"</span><span class="token punctuation">,</span>audio_file<span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"video_file:"</span><span class="token punctuation">,</span>video_file<span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"text:"</span><span class="token punctuation">,</span>text<span class="token punctuation">)</span>

        sync_audio_video_add_subtitle<span class="token punctuation">(</span>audio_path<span class="token operator">=</span>audio_file<span class="token punctuation">,</span>
                                      video_path<span class="token operator">=</span>video_file<span class="token punctuation">,</span>
                                      subtitle_text<span class="token operator">=</span>text<span class="token punctuation">,</span>
                                      output_path<span class="token operator">=</span>out_file<span class="token punctuation">,</span>
                                      font_path<span class="token operator">=</span>font_path<span class="token punctuation">,</span>
                                      font_size<span class="token operator">=</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token comment"># 设置字体大小</span>
                                      font_color<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment"># 设置字体颜色</span>
                                      subtitle_bottom_margin<span class="token operator">=</span><span class="token number">80</span><span class="token punctuation">)</span>
        i <span class="token operator">+=</span> <span class="token number">1</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>out_file<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">,</span><span class="token builtin">file</span><span class="token operator">=</span>f<span class="token punctuation">)</span>
    f<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>

    audio_dir <span class="token operator">=</span> <span class="token string">r"C:\Users\60568\Pictures\create\屈原\mp3"</span>
    video_dir <span class="token operator">=</span> <span class="token string">r"C:\Users\60568\Pictures\create\屈原\mp4"</span>
    text_file <span class="token operator">=</span> <span class="token string">r"C:\Users\60568\Pictures\create\屈原\subtitle.txt"</span>
    output_dir <span class="token operator">=</span> <span class="token string">"./sync"</span>
    output_list_file<span class="token operator">=</span><span class="token string">"./sync.txt"</span>
    output_video_file <span class="token operator">=</span> <span class="token string">"./output.mp4"</span>

    <span class="token comment"># 音视频对齐</span>
    process<span class="token punctuation">(</span>audio_dir<span class="token punctuation">,</span>
            video_dir<span class="token punctuation">,</span>
            text_file<span class="token punctuation">,</span>
            output_dir<span class="token operator">=</span>output_dir<span class="token punctuation">,</span>
            output_list_file<span class="token operator">=</span>output_list_file<span class="token punctuation">)</span>
</code></pre> 
<h4><a id="26__109"></a>2.6 视频融合润色【由剪映支持】</h4> 
<blockquote> 
 <p>将所有片段对齐好后，在剪映上进行对齐并配上bgm，然后导出完整视频<br> <img src="https://images2.imgbox.com/a0/7e/5gXy3v6y_o.png" alt="在这里插入图片描述"></p> 
</blockquote> 
<h3><a id="3__113"></a>3. 成品展示</h3> 
<p>写到这终于完成了第一个ai视频的创作，比较粗糙，来看看成品吧：<a href="https://www.xiaohongshu.com/explore/6664ae19000000000d00d628" rel="nofollow">一分钟了解历史人物屈原</a><br> 欢迎大家提出建议，感谢大家关注，博主会持续更新有趣的技术内容。</p> 
<h3><a id="4_116"></a>4.参考</h3> 
<p>https://www.bilibili.com/video/BV1im411m7UF/?spm_id_from=333.880.my_history.page.click&amp;vd_source=3f579fa4291151f1bdf85bf803ae2d3f</p> 
<p>https://mmmnote.com/article/7e8/03/article-ed3f6a082982ceb0.shtml</p> 
<p>https://www.funsound.cn</p> 
<p>https://blog.csdn.net/Ephemeroptera/article/details/139553597?spm=1001.2014.3001.5502</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/0092ec364401bdfa514e46f819150140/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">20240609 每日AI必读资讯</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/0441b98173cac62988a19756f2a521ae/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【C&#43;&#43; STL】模拟实现 string</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>