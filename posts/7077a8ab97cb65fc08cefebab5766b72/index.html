<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>微信小程序：基于MySQL&#43;Nodejs的汽车品牌管理系统 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/7077a8ab97cb65fc08cefebab5766b72/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="微信小程序：基于MySQL&#43;Nodejs的汽车品牌管理系统">
  <meta property="og:description" content="各位好，接上期，今天分享一个通过本地MySQL&#43;Nodejs服务器实现CRUD功能的微信小程序，一起来看看吧~
干货！微信小程序通过NodeJs连接MySQL数据库https://jslhyh32.blog.csdn.net/article/details/137890154?spm=1001.2014.3001.5502
目录
前言 一.Mysql数据库准备
二.新建项目
三.CRUD分别对应的前端
四.Nodejs后端代码
五.功能测试
前言 前端：原生微信小程序后端：Nodejs服务器数据库：MySQL8.0.35 本帖只是一个在技术角度攻坚克难的整理总结，并不是可以直接拿出手的高大上项目，不过只要底层原理清楚，修改前端还是很容易的——即本帖提供一个微信小程序版CRUD系统的框架，大家可以自行改善！博主最近忙着冲毕设，之后要是有时间，回来分享一个升级版。
一.Mysql数据库准备 没什么好说的，先建一张表：
use db2; create table car( id int comment &#39;序号&#39;, name char(5) comment &#39;品牌&#39;, country varchar(5) comment &#39;国籍&#39;, description text comment &#39;英文名&#39; ); 然后直接用可视化工具录入如下数据：
二.新建项目 新建一个项目，删除掉模版的全部代码，分别定义4个页面：select、add、update、drop。此外，记得创建名为Server的文件夹~ 另外，本项目没有设置跳转函数、tabbar等功能，大家自行改变编译路径即可跳转~
三.CRUD分别对应的前端 1.查（select） 结构及样式如下：
&lt;view&gt; &lt;view id=&#34;look&#34;&gt; &lt;text style=&#34;font-size: 55rpx;&#34;&gt;查询功能实现：&lt;/text&gt; &lt;/view&gt; &lt;form bindsubmit=&#34;submit&#34;&gt; &lt;view class=&#34;select&#34;&gt; &lt;input id=&#34;input&#34; name=&#34;name&#34; type=&#34;text&#34; placeholder=&#34;请输入品牌名&#34;/&gt; &lt;button form-type=&#34;submit&#34; id=&#34;btn&#34;&gt;搜索&lt;/button&gt; &lt;/view&gt; &lt;/form&gt; &lt;view id=&#34;result&#34;&gt; &lt;text&gt;国籍：&lt;/text&gt; &lt;textarea name=&#34;&#34; id=&#34;">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-04-22T16:44:36+08:00">
    <meta property="article:modified_time" content="2024-04-22T16:44:36+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">微信小程序：基于MySQL&#43;Nodejs的汽车品牌管理系统</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>        各位好，接上期，今天分享一个通过本地MySQL+Nodejs服务器实现CRUD功能的微信小程序，一起来看看吧~</p> 
<p><a class="link-info has-card" href="https://jslhyh32.blog.csdn.net/article/details/137890154?spm=1001.2014.3001.5502" rel="nofollow" title="干货！微信小程序通过NodeJs连接MySQL数据库"><span class="link-card-box"><span class="link-title">干货！微信小程序通过NodeJs连接MySQL数据库</span><span class="link-link"><img class="link-link-icon" src="https://images2.imgbox.com/9e/a2/ktIWCHhQ_o.png" alt="icon-default.png?t=N7T8">https://jslhyh32.blog.csdn.net/article/details/137890154?spm=1001.2014.3001.5502</span></span></a></p> 
<p id="main-toc"><strong>目录</strong></p> 
<p id="%E5%89%8D%E8%A8%80%C2%A0-toc" style="margin-left:40px;"><a href="#%E5%89%8D%E8%A8%80%C2%A0" rel="nofollow">前言 </a></p> 
<p id="%E4%B8%80.Mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E5%87%86%E5%A4%87-toc" style="margin-left:40px;"><a href="#%E4%B8%80.Mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E5%87%86%E5%A4%87" rel="nofollow">一.Mysql数据库准备</a></p> 
<p id="%E4%BA%8C.%E6%96%B0%E5%BB%BA%E9%A1%B9%E7%9B%AE-toc" style="margin-left:40px;"><a href="#%E4%BA%8C.%E6%96%B0%E5%BB%BA%E9%A1%B9%E7%9B%AE" rel="nofollow">二.新建项目</a></p> 
<p id="%E4%B8%89.CRUD%E5%88%86%E5%88%AB%E5%AF%B9%E5%BA%94%E7%9A%84%E5%89%8D%E7%AB%AF-toc" style="margin-left:40px;"><a href="#%E4%B8%89.CRUD%E5%88%86%E5%88%AB%E5%AF%B9%E5%BA%94%E7%9A%84%E5%89%8D%E7%AB%AF" rel="nofollow">三.CRUD分别对应的前端</a></p> 
<p id="%E5%9B%9B.Nodejs%E5%90%8E%E7%AB%AF%E4%BB%A3%E7%A0%81-toc" style="margin-left:40px;"><a href="#%E5%9B%9B.Nodejs%E5%90%8E%E7%AB%AF%E4%BB%A3%E7%A0%81" rel="nofollow">四.Nodejs后端代码</a></p> 
<p id="%E4%BA%94.%E5%8A%9F%E8%83%BD%E6%B5%8B%E8%AF%95-toc" style="margin-left:40px;"><a href="#%E4%BA%94.%E5%8A%9F%E8%83%BD%E6%B5%8B%E8%AF%95" rel="nofollow">五.功能测试</a></p> 
<hr> 
<h3 id="%E5%89%8D%E8%A8%80%C2%A0">前言 </h3> 
<ul><li>前端：原生微信小程序</li><li>后端：Nodejs服务器</li><li>数据库：MySQL8.0.35</li></ul> 
<p>        本帖只是一个在技术角度攻坚克难的整理总结，并不是可以直接拿出手的高大上项目，不过只要底层原理清楚，修改前端还是很容易的——即本帖提供一个微信小程序版CRUD系统的框架，大家可以自行改善！博主最近忙着冲毕设，之后要是有时间，回来分享一个升级版。</p> 
<p><img alt="" height="720" src="https://images2.imgbox.com/5d/fc/ygdk6xTQ_o.jpg" width="1200"></p> 
<hr> 
<h3 id="%E4%B8%80.Mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E5%87%86%E5%A4%87" style="background-color:transparent;">一.Mysql数据库准备</h3> 
<p>没什么好说的，先建一张表：</p> 
<pre><code class="language-sql">use db2;
create table car(
  id int comment '序号',
  name char(5) comment '品牌',
  country varchar(5) comment '国籍',
  description text comment '英文名'
);</code></pre> 
<p>然后直接用可视化工具录入如下数据：</p> 
<p> <img alt="" height="529" src="https://images2.imgbox.com/e4/26/1c24tNNt_o.png" width="656"></p> 
<h3 id="%E4%BA%8C.%E6%96%B0%E5%BB%BA%E9%A1%B9%E7%9B%AE">二.新建项目</h3> 
<p></p> 
<p>        新建一个项目，删除掉模版的全部代码，分别定义4个页面：select、add、update、drop。此外，记得创建名为Server的文件夹~ </p> 
<p><img alt="" height="586" src="https://images2.imgbox.com/71/34/SPiwl0JZ_o.png" width="874"></p> 
<p>另外，本项目没有设置跳转函数、tabbar等功能，大家自行改变编译路径即可跳转~</p> 
<p class="img-center"><img alt="" height="627" src="https://images2.imgbox.com/1c/38/WM96WzmL_o.png" width="547"></p> 
<h3 id="%E4%B8%89.CRUD%E5%88%86%E5%88%AB%E5%AF%B9%E5%BA%94%E7%9A%84%E5%89%8D%E7%AB%AF">三.CRUD分别对应的前端</h3> 
<h4 style="background-color:transparent;">1.查（select）</h4> 
<p>结构及样式如下：</p> 
<pre><code class="language-html">&lt;view&gt;
  &lt;view id="look"&gt;
    &lt;text style="font-size: 55rpx;"&gt;查询功能实现：&lt;/text&gt;
  &lt;/view&gt;
  &lt;form bindsubmit="submit"&gt;
    &lt;view class="select"&gt;
      &lt;input id="input" name="name" type="text"  placeholder="请输入品牌名"/&gt;
      &lt;button form-type="submit" id="btn"&gt;搜索&lt;/button&gt;
    &lt;/view&gt;
  &lt;/form&gt;
  &lt;view id="result"&gt;
    &lt;text&gt;国籍：&lt;/text&gt;
    &lt;textarea name="" id="out" cols="30" rows="10"&gt;{<!-- -->{text[0].country}}&lt;/textarea&gt;
    &lt;text&gt;全名：&lt;/text&gt;
    &lt;textarea name="" id="out" cols="30" rows="10"&gt;{<!-- -->{text[0].description}}&lt;/textarea&gt;
  &lt;/view&gt;
&lt;/view&gt;</code></pre> 
<pre><code class="language-css">textarea{
  height: 50rpx;
  width: 100%;
}
#look{
  margin-top: 20px;
  margin-bottom: 20px;
}
#input{
  border: 1px solid gray;
}
#btn{
  margin-top: 10px;
}
#out{
  border: 1px solid gray;
}
#bottom{
  margin-top: 50px;
}
#result{
  margin-top: 20px;
}
</code></pre> 
<p> 完整的JavaScript代码：</p> 
<pre><code class="language-javascript">
Page({

  data: {
    text:{}
  },

  onLoad: function (options) {
  },

  onReady: function () {

  },

  onShow: function () {

  },

  onHide: function () {

  },

  onUnload: function () {

  },

  onPullDownRefresh: function () {

  },

  onReachBottom: function () {

  },

  onShareAppMessage: function () {

  },


//查询
submit:function(e){
  var that=this
  wx.request({
    method:'POST',
    data:e.detail.value,
    url: 'http://127.0.0.1:3000/select',
    success:function(res){
      // console.log(res.data)
      that.setData({text:res.data})
    }
  })
}
})</code></pre> 
<h4>2.删（drop）</h4> 
<pre><code class="language-html">&lt;view&gt;
  &lt;view id="look"&gt;
    &lt;text&gt;根据名字删除!&lt;/text&gt;
  &lt;/view&gt;
  &lt;form bindsubmit="submit"&gt;
    &lt;view class="select"&gt;
      &lt;input id="input" name="name" type="text"  placeholder="品牌"/&gt;
      &lt;button form-type="submit" id="btn"&gt;删除&lt;/button&gt;
    &lt;/view&gt;
  &lt;/form&gt;
  &lt;view id="result"&gt;
    &lt;text&gt;搜索结果：&lt;/text&gt;
    &lt;textarea name="" id="out" cols="30" rows="10"&gt;{<!-- -->{text[0].description}}&lt;/textarea&gt;
  &lt;/view&gt;
&lt;/view&gt;</code></pre> 
<p><strong><span style="background-color:#e7fafa;">wxss基本上都一样，用上一个就行~</span></strong></p> 
<pre><code class="language-javascript">submit:function(e){
  var that=this
  wx.request({
    method:'POST',
    data:e.detail.value,
    url: 'http://127.0.0.1:3000/drop',
    success:function(res){
      // console.log(res.data)
      that.setData({text:res.data})
    }
  })
}</code></pre> 
<p><strong><span style="background-color:#cbe0f1;"> 其他部分的JavaScript也一样，这里仅给出绑定了“删除”按钮的函数。</span></strong></p> 
<h4>3.增（add）</h4> 
<pre><code class="language-html">&lt;view&gt;
  &lt;view id="look"&gt;
    &lt;text&gt;增加一个数据~&lt;/text&gt;
  &lt;/view&gt;
  &lt;form bindsubmit="add"&gt;
    &lt;view class="select"&gt;
      &lt;input id="input" name="id" type="number"  placeholder="id"/&gt;
			&lt;input id="input" name="name" type="text" placeholder="名字" /&gt;
			&lt;input id="input" name="country" type="text" placeholder="国籍" /&gt;
			&lt;input id="input" name="description" type="text" placeholder="全名" /&gt;
      &lt;button form-type="submit" id="btn"&gt;增加&lt;/button&gt;
    &lt;/view&gt;
  &lt;/form&gt;
&lt;/view&gt;</code></pre> 
<pre><code class="language-javascript">add:function(e){
  var that=this
  console.log(e.detail.value.name)
  wx.request({
    method:'POST',
    data:{
      id:e.detail.value.id,
      name:e.detail.value.name,
      country:e.detail.value.country,
      description:e.detail.value.description
    },
    url: 'http://127.0.0.1:3000/add',
    success:function(res){
   
      that.setData({text:res.data})
    }
  })
}</code></pre> 
<h4>4.改（update）</h4> 
<pre><code class="language-html">&lt;view&gt;
  &lt;view id="look"&gt;
    &lt;text&gt;修改一个数据~&lt;/text&gt;
  &lt;/view&gt;
  &lt;form bindsubmit="update1"&gt;
    &lt;view class="select"&gt;
      &lt;input id="input" name="name" type="number"  placeholder="名字"/&gt;
      &lt;input id="input" name="id" type="number"  placeholder="id"/&gt;
      
      &lt;button form-type="submit" id="btn"&gt;修改&lt;/button&gt;
    &lt;/view&gt;
  &lt;/form&gt;
&lt;/view&gt;</code></pre> 
<pre><code class="language-javascript">update1:function(e){
  var that=this
  
  wx.request({
    method:'POST',
    data:{
      id:e.detail.value.id,
      name:e.detail.value.name
    },
    url: 'http://127.0.0.1:3000/update1',
    success:function(res){
      that.setData({text:res.data})
    }
  })
}</code></pre> 
<h4>5.tips：</h4> 
<ul><li>总的来说，查询是最简单的，删除和增加由于需要传参会更复杂一些，改的业务逻辑相当于先查再增——不过如果在sql语句中直接写出来就没有这么复杂了</li><li>发送请求的路径一定要写对，这个在第四大节细说：</li></ul> 
<blockquote> 
 <p><strong>url: 'http://127.0.0.1:3000/update1',</strong></p> 
</blockquote> 
<h3 id="%E5%9B%9B.Nodejs%E5%90%8E%E7%AB%AF%E4%BB%A3%E7%A0%81" style="background-color:transparent;">四.Nodejs后端代码</h3> 
<p id="">server文件怎么建立这里就不赘述了，上期说的很齐全：</p> 
<p><a class="link-info has-card" href="https://jslhyh32.blog.csdn.net/article/details/137890154?spm=1001.2014.3001.5502" rel="nofollow" title="干货！微信小程序通过NodeJs连接MySQL数据库"><span class="link-card-box"><span class="link-title">干货！微信小程序通过NodeJs连接MySQL数据库</span><span class="link-link"><img class="link-link-icon" src="https://images2.imgbox.com/a4/af/QLHKGOYQ_o.png" alt="icon-default.png?t=N7T8">https://jslhyh32.blog.csdn.net/article/details/137890154?spm=1001.2014.3001.5502</span></span></a></p> 
<p><strong><span style="background-color:#faa572;">整体预览一下Server.js的内容：（可以直接沾）</span></strong></p> 
<pre><code class="language-javascript">const express=require('express')
const bodyParser =require('body-parser')
const app=express()
const mysql = require('mysql')
app.use(bodyParser.json())

//处理post请求
app.post('/',(req,res) =&gt; {
  console.log(req.body)
  res.json(req.body)
})

app.post('/add',(req,res)=&gt;{
  // console.log(req.body.name)
  data=req.body
  var connection=mysql.createConnection({
    host:'localhost',
    user:'root',
    password:'123456',
    database:'db2'
  })
  connection.connect();
  connection.query('INSERT INTO car SET ?', data, (error, results, fields) =&gt; {
    if (error) throw error;
    res.json({ message: '数据保存成功' });
  });
  connection.end();
})


app.post('/show',(req,res)=&gt;{
  console.log(req.body.name)
  const a=req.body.name
  var connection=mysql.createConnection({
    host:'localhost',
    user:'root',
    password:'123456',
    database:'db2'
  })
  connection.connect();
  connection.query("select * from car where name='"+a+"'",function(error,results,fields){
    if(error) throw console.error;
    res.json(results)
    console.log(results)
    
  })
  connection.end();
})

app.post('/drop',(req,res)=&gt;{
  console.log(req.body.name)
  const a=req.body.name
  
  var connection=mysql.createConnection({
    host:'localhost',
    user:'root',
    password:'123456',
    database:'db2'
  })
  connection.connect();
  connection.query("delete from car where name='"+a+"'",function(error,results,fields){
    if(error) throw console.error;
    res.json(results)
    console.log(results)
    
  })
  connection.end();
})

app.post('/update1',(req,res)=&gt;{
  console.log(req.body.name)
  data=req.body
  const id=req.body.id
  const name=req.body.name
  
  var connection=mysql.createConnection({
    host:'localhost',
    user:'root',
    password:'123456',
    database:'db2'
  })
  connection.connect();
  connection.query("update car set id ="+id+" where name='"+name+"'",function(error,results,fields){
    if(error) throw console.error;
    res.json(results)
    console.log(results)
    
  })
  connection.end();
})


app.listen(3000,()=&gt;{
  console.log('server running at http://127.0.0.1:3000')
})</code></pre> 
<ul><li><span style="color:#fe2c24;"><strong>form表单用什么方式传参就调用app的什么方法，路径即为wx.request中的url最后一级，必须保持对应！</strong></span></li><li>在query方法里面输入SQL语句，传参记得用占位符，上面4种基础业务已经给大家写好了，自行品味。另外就是单引号和双引号别用串！</li><li>每次使用前记得先启动node服务器，别犯低级错误；修改了server.js必须重新启动，不然无效</li></ul> 
<p><img alt="" height="293" src="https://images2.imgbox.com/41/b1/l1ZO5qDA_o.png" width="792"> </p> 
<h3 id="%E4%BA%94.%E5%8A%9F%E8%83%BD%E6%B5%8B%E8%AF%95">五.功能测试</h3> 
<p>原数据：</p> 
<p><img alt="" height="461" src="https://images2.imgbox.com/1d/ab/H7yIIDZB_o.png" width="656"></p> 
<blockquote> 
 <p><strong>增：</strong></p> 
 <p></p> 
 <p class="img-center"><img alt="" height="429" src="https://images2.imgbox.com/ff/04/fyClzB5B_o.png" width="402"></p> 
 <p><img alt="" height="533" src="https://images2.imgbox.com/cb/37/e4lyjvq7_o.png" width="670"></p> 
</blockquote> 
<blockquote> 
 <p><strong>删：</strong></p> 
 <p><img alt="" height="181" src="https://images2.imgbox.com/b2/ff/d5bVGBI2_o.png" width="403"></p> 
 <p><img alt="" height="508" src="https://images2.imgbox.com/2d/d7/wGqSYCFF_o.png" width="670"></p> 
</blockquote> 
<blockquote> 
 <p>改：</p> 
 <p><img alt="" height="317" src="https://images2.imgbox.com/e9/62/ZfY1Q66w_o.png" width="412"></p> 
 <p><img alt="" height="501" src="https://images2.imgbox.com/08/24/czmgXr2g_o.png" width="658"></p> 
</blockquote> 
<blockquote> 
 <p>查：</p> 
 <p class="img-center"><img alt="" height="409" src="https://images2.imgbox.com/d4/93/cTfUjeaR_o.png" width="403"></p> 
</blockquote> 
<hr> 
<p><span style="color:#1a439c;"><strong>如上即为全文内容~</strong></span></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/a92c638ed9f1f8df383ed8139d1ab655/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">使用 ollama 部署最新的Llama 3 70B本地模型</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/d10a0f6edd678d01f9b917b0d3235de6/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">前端基于VUE&#43;ElementUI实现table行上移或下移(支持跨页移动)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>