<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>JavaScript算法描述【排序与搜索】六大经典排序|搜索旋转排序数组|在排序数组中查找元素的第一个和最后一个位置、数组中的第K个| - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/26f01c967c1b7df59eefb12bb6d557ff/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="JavaScript算法描述【排序与搜索】六大经典排序|搜索旋转排序数组|在排序数组中查找元素的第一个和最后一个位置、数组中的第K个|">
  <meta property="og:description" content="🐧主页详情：Choice~的个人主页
文章目录 搜索旋转排序数组方法一 二分查询最大最小值思路详解代码方法二 二分查询中间数 在排序数组中查找元素的第一个和最后一个位置、数组中的第K个最大元素和颜色分类在排序数组中查找元素的第一个和最后一个位置方法一 二分查找 数组中的第K个最大元素方法一方法二方法三题外话 颜色分类方法一 直接计算方法二 双指针遍历方法三 使用各种排序法 搜索旋转排序数组 假设按照升序排序的数组在预先未知的某个点上进行了旋转。
( 例如，数组 [0,1,2,4,5,6,7] 可能变为 [4,5,6,7,0,1,2] )。
搜索一个给定的目标值，如果数组中存在这个目标值，则返回它的索引，否则返回 -1 。
你可以假设数组中不存在重复的元素。
你的算法时间复杂度必须是 O(log n) 级别。
示例 1:
输入: nums = [4,5,6,7,0,1,2], target = 0 输出: 4 示例 2:
输入: nums = [4,5,6,7,0,1,2], target = 3 输出: -1 方法一 二分查询最大最小值 思路 先算出 数组中最大最小值，利用 indexOf 计算之后要旋转位置，然后二分计算目标 target 位置
详解 计算数组中的最大最小值定义变量，数组长度等目标值大于数组最后一位时，数组查询位置从 0 到数字中在最大位置目标值小于等于数组最后一位时，数组查询位置从数组中最小值的位置开始，到数组的最后一位，3.4 两部为了定位数组查询区间循环二分查询，计算定位数组的中间值，数组的值等于目标查询结束不等于的情况，如果目标大于中间值，则定位数组最小值等于中间值&#43;1，目标小于中间值，则定位数组中最大值等于中间值-1，继续循环查询即可，知道定位数组查询完毕，没有结果的话，返回 -1 代表不存在 代码 const search = function (nums, target) { const min = Math.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-05-06T07:59:39+08:00">
    <meta property="article:modified_time" content="2024-05-06T07:59:39+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">JavaScript算法描述【排序与搜索】六大经典排序|搜索旋转排序数组|在排序数组中查找元素的第一个和最后一个位置、数组中的第K个|</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <blockquote> 
 <p>🐧<strong>主页详情</strong>：<a href="https://blog.csdn.net/weixin_51568389?spm=1011.2435.3001.5343">Choice~的个人主页</a></p> 
</blockquote> 
<p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><ul><li>搜索旋转排序数组</li><li><ul><li>方法一 二分查询最大最小值</li><li>思路</li><li>详解</li><li>代码</li><li>方法二 二分查询中间数</li></ul> 
  </li></ul> 
  </li><li>在排序数组中查找元素的第一个和最后一个位置、数组中的第K个最大元素和颜色分类</li><li><ul><li>在排序数组中查找元素的第一个和最后一个位置</li><li><ul><li>方法一 二分查找</li></ul> 
   </li><li>数组中的第K个最大元素</li><li><ul><li>方法一</li><li>方法二</li><li>方法三</li><li>题外话</li></ul> 
   </li><li>颜色分类</li><li><ul><li>方法一 直接计算</li><li>方法二 双指针遍历</li><li>方法三 使用各种排序法</li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h3><a id="_4"></a>搜索旋转排序数组</h3> 
<p>假设按照升序排序的数组在预先未知的某个点上进行了旋转。</p> 
<p>( 例如，数组 [0,1,2,4,5,6,7] 可能变为 [4,5,6,7,0,1,2] )。</p> 
<p>搜索一个给定的目标值，如果数组中存在这个目标值，则返回它的索引，否则返回 -1 。</p> 
<p>你可以假设数组中不存在重复的元素。</p> 
<p>你的算法时间复杂度必须是 O(log n) 级别。</p> 
<p>示例 1:</p> 
<pre><code>输入: nums = [4,5,6,7,0,1,2], target = 0
输出: 4
</code></pre> 
<p>示例 2:</p> 
<pre><code>输入: nums = [4,5,6,7,0,1,2], target = 3
输出: -1
</code></pre> 
<h4><a id="__32"></a>方法一 二分查询最大最小值</h4> 
<h4><a id="_34"></a>思路</h4> 
<p>先算出 数组中最大最小值，利用 indexOf 计算之后要旋转位置，然后二分计算目标 target 位置</p> 
<h4><a id="_38"></a>详解</h4> 
<ol><li>计算数组中的最大最小值</li><li>定义变量，数组长度等</li><li>目标值大于数组最后一位时，数组查询位置从 0 到数字中在最大位置</li><li>目标值小于等于数组最后一位时，数组查询位置从数组中最小值的位置开始，到数组的最后一位，3.4 两部为了定位数组查询区间</li><li>循环二分查询，计算定位数组的中间值，数组的值等于目标查询结束</li><li>不等于的情况，如果目标大于中间值，则定位数组最小值等于中间值+1，目标小于中间值，则定位数组中最大值等于中间值-1，继续循环查询即可，知道定位数组查询完毕，没有结果的话，返回 -1 代表不存在</li></ol> 
<h4><a id="_47"></a>代码</h4> 
<pre><code class="prism language-javascript"><span class="token keyword">const</span> <span class="token function-variable function">search</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">nums<span class="token punctuation">,</span> target</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">const</span> min <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> nums<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> max <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> nums<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> len <span class="token operator">=</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
  <span class="token keyword">let</span> pos<span class="token punctuation">;</span>
  <span class="token keyword">let</span> lo<span class="token punctuation">;</span>
  <span class="token keyword">let</span> hi<span class="token punctuation">;</span>
  <span class="token keyword">let</span> mid<span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>target <span class="token operator">&gt;</span> nums<span class="token punctuation">[</span>len <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    pos <span class="token operator">=</span> nums<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>max<span class="token punctuation">)</span><span class="token punctuation">;</span>
    lo <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    hi <span class="token operator">=</span> pos<span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
    pos <span class="token operator">=</span> nums<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>min<span class="token punctuation">)</span><span class="token punctuation">;</span>
    lo <span class="token operator">=</span> pos<span class="token punctuation">;</span>
    hi <span class="token operator">=</span> len <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>lo <span class="token operator">&lt;=</span> hi<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    mid <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span><span class="token punctuation">(</span>lo <span class="token operator">+</span> hi<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">===</span> target<span class="token punctuation">)</span> <span class="token keyword">return</span> mid<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">&lt;</span> target<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      lo <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
      hi <span class="token operator">=</span> mid <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<p><strong>复杂度分析：</strong></p> 
<ul><li> <p>时间复杂度：O(log(n))O(log(n))</p> <p>过程会最多遍历一遍数组</p> </li><li> <p>空间复杂度：O(1)O(1)</p> <p>只产生一次临时变量存储</p> </li></ul> 
<h4><a id="__91"></a>方法二 二分查询中间数</h4> 
<p><strong>思路</strong></p> 
<p>根据数组的中间数和左右节点的大小对比，来确定升序部分的位置，然后用二分法查询目标节点在数组中的位置</p> 
<p><strong>详解</strong></p> 
<ol><li>计算数组长度，数组为0 直接返回-1</li><li>定义左右值分别为数组第一个和最后一个的下标</li><li>中间下标值为最大最小值的平均数</li><li>如果数组中间数等于目标直接返回下标</li><li>数组的中间值小于数组最后一个值，后半部分还处于升序，如果目标值在这部分数组中，则左下标等于中间值+1，代表目标值在后半部分数组，反着重新定义右下标为中间值-1，目标在前半数组</li><li>数组中间值大于数组最后一个值，代表前半部分数组处于升序，如果目标在前半数组中，右标更新为中间值-1，反之，左下标更新为中间值+1</li><li>二分查询到最后没找到目标值，则返回 -1 代表不存在</li></ol> 
<p><strong>代码</strong></p> 
<pre><code class="prism language-javascript"><span class="token keyword">const</span> <span class="token function-variable function">search</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">nums<span class="token punctuation">,</span> target</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>nums<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">let</span> left <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> right <span class="token operator">=</span> nums<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> mid<span class="token punctuation">;</span>

  <span class="token keyword">while</span><span class="token punctuation">(</span>left <span class="token operator">&lt;=</span> right<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    mid <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token punctuation">(</span>left <span class="token operator">+</span> right<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">===</span> target<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
      <span class="token keyword">return</span> mid<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">&lt;</span> nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">&lt;</span> target <span class="token operator">&amp;&amp;</span> target <span class="token operator">&lt;=</span> nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            left <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
        right <span class="token operator">=</span> mid <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>left<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> target <span class="token operator">&amp;&amp;</span> target <span class="token operator">&lt;</span> nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            right <span class="token operator">=</span> mid <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
        left <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<p><strong>复杂度分析</strong></p> 
<ul><li> <p>时间复杂度：O(log(n))O(log(n))</p> <p>过程会最多遍历一遍数组</p> </li><li> <p>空间复杂度：O(1)O(1)</p> <p>只产生一次临时变量存储</p> </li></ul> 
<h2><a id="K_151"></a>在排序数组中查找元素的第一个和最后一个位置、数组中的第K个最大元素和颜色分类</h2> 
<h3><a id="_155"></a>在排序数组中查找元素的第一个和最后一个位置</h3> 
<p>给定一个按照升序排列的整数数组 nums，和一个目标值 target。找出给定目标值在数组中的开始位置和结束位置。</p> 
<p>你的算法时间复杂度必须是 O(log n) 级别。</p> 
<p>如果数组中不存在目标值，返回 [-1, -1]。</p> 
<p><strong>示例</strong></p> 
<pre><code>输入: nums = [5,7,7,8,8,10], target = 8
输出: [3,4]

输入: nums = [5,7,7,8,8,10], target = 6
输出: [-1,-1]
</code></pre> 
<h4><a id="__175"></a>方法一 二分查找</h4> 
<p><strong>思路</strong></p> 
<p>由于数组已经时升序排列，可直接根据二分查找，往左定位第一个位置，往右定位最后一个位置 二分查找的实现上可以使用循环或者递归。</p> 
<p><strong>详解</strong></p> 
<ol><li>根据二分查找，找到左边第一个不小于目标值的位置</li><li>从上一步中的位置开始到最后，二分查找，确定右边最后一个符合条件值的位置</li><li>得到结果</li></ol> 
<pre><code>function getBinarySearchLowerBound (array, low, high, target) {
  // 找到第一个不小于目标值的位置
  while (low &lt; high) {
    const mid = Math.floor((low + high) / 2);
    if (array[mid] &lt; target) {
      low = mid + 1;
    } else {
      high = mid;
    }
  }

  // 如果相等，则匹配，否则不匹配
  return array[low] === target ? low : -1;
}

function getBinarySearchUpperBound (array, low, high, target) {
  // 找到第一个不大于目标值的位置
  while (low &lt; high) {
    const mid = Math.ceil((low + high) / 2);
    if (array[mid] &gt; target) {
      high = mid - 1;
    } else {
      low = mid;
    }
  }

  // 如果相等，则匹配，否则不匹配
  return array[high] === target ? high : -1;
}

const searchRange = function (nums, target) {
  const size = nums.length;
  const low = getBinarySearchLowerBound(nums, 0, size - 1, target);
  if (low === -1) {
    return [-1, -1];
  }
  // 从左边数字的位置开始
  const high = getBinarySearchUpperBound(nums, low &gt;= 0 ? low : 0, size - 1, target);
  return [low, high];
};
</code></pre> 
<p><strong>复杂度分析</strong></p> 
<ul><li> <p>时间复杂度：O(log(n))O(log(n))</p> <p>过程中最差情况会遍历二遍数组</p> </li><li> <p>空间复杂度：O(1)O(1)</p> <p>产生三个临时变量存储</p> </li></ul> 
<h3><a id="K_240"></a>数组中的第K个最大元素</h3> 
<p>在未排序的数组中找到第 <strong>k</strong> 个最大的元素。请注意，你需要找的是数组排序后的第 k 个最大的元素，而不是第 k 个不同的元素。</p> 
<p><strong>示例1：</strong></p> 
<pre><code>输入: [3,2,1,5,6,4] 和 k = 2
输出: 5
</code></pre> 
<p><strong>示例2：</strong></p> 
<pre><code>输入: [3,2,3,1,2,4,5,5,6] 和 k = 4
输出: 4
</code></pre> 
<p>说明：你可以假设 k 总是有效的，且 1 ≤ k ≤ 数组的长度。</p> 
<h4><a id="_260"></a>方法一</h4> 
<p><strong>思路</strong></p> 
<p>首先通过快速排序的方法将数组升序排序，此时数组的头部为最小的元素，尾部为数组最大的元素。题目要求找到数组中的第 K 个最大的元素，即返回 length - k 个元素即可。</p> 
<p><strong>详解</strong></p> 
<ol><li>本方法采用快速排序法；</li><li>首先通过 <code>arr[Math.floor((start + end) / 2)]</code> 找到数组中间的元素作为主元；</li><li>然后使用双指针，分别从数组的头部和尾部遍历数组；</li><li>遍历过程中，把比主元小的数都放到主元的左边，比主元大的数都放到主元的右边，实现数组的升序排序；</li><li>返回第 length - k 个元素，即为数组中第 k 个最大的元素。</li></ol> 
<p>1</p> 
<pre><code class="prism language-javascript"><span class="token keyword">const</span> <span class="token function-variable function">findKthLargest</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">nums<span class="token punctuation">,</span> k</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">return</span> <span class="token function">findK</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> nums<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> nums<span class="token punctuation">.</span>length <span class="token operator">-</span> k<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">findK</span> <span class="token punctuation">(</span><span class="token parameter">arr<span class="token punctuation">,</span> start<span class="token punctuation">,</span> end<span class="token punctuation">,</span> k</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>start <span class="token operator">===</span> end<span class="token punctuation">)</span> <span class="token keyword">return</span> arr<span class="token punctuation">[</span>start<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token comment">// 主元</span>
  <span class="token keyword">const</span> pivot <span class="token operator">=</span> arr<span class="token punctuation">[</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token punctuation">(</span>start <span class="token operator">+</span> end<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> i <span class="token operator">=</span> start<span class="token punctuation">;</span> <span class="token keyword">let</span> j <span class="token operator">=</span> end<span class="token punctuation">;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;=</span> j<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> pivot<span class="token punctuation">)</span> i<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&gt;</span> pivot<span class="token punctuation">)</span> j<span class="token operator">--</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;=</span> j<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token function">swap</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> i<span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">;</span>
      i<span class="token operator">++</span><span class="token punctuation">;</span>
      j<span class="token operator">--</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 二分查到k位置</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>k <span class="token operator">&gt;=</span> <span class="token punctuation">(</span>i <span class="token operator">-</span> start<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token function">findK</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> i<span class="token punctuation">,</span> end<span class="token punctuation">,</span> k <span class="token operator">-</span> i <span class="token operator">+</span> start<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token function">findK</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> start<span class="token punctuation">,</span> i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> k<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 元素交换</span>
<span class="token keyword">function</span> <span class="token function">swap</span> <span class="token punctuation">(</span><span class="token parameter">arr<span class="token punctuation">,</span> i<span class="token punctuation">,</span> j</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">const</span> temp <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
  arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
  arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> temp<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><strong>复杂度分析</strong></p> 
<ul><li>时间复杂度： O(n log n)O(nlogn)</li></ul> 
<p>上述解法中，采用了快速排序的方法，快排的时间复杂度 O(n log n)O(nlogn)。</p> 
<ul><li>空间复杂度： O(1)O(1)</li></ul> 
<p>上述解法中，申请了四个额外的临时存储空间，这将耗费 O(1)O(1) 的空间。</p> 
<h4><a id="_320"></a>方法二</h4> 
<p><strong>思路</strong></p> 
<p>首先通过最小堆排序的方法将数组升序排序，排序完的数组如下图所示：</p> 
<p><img src="https://images2.imgbox.com/5b/42/wWyLdj9w_o.png" alt="image-20220807191400477"></p> 
<p>此时数组的头部为最小的元素，尾部为数组最大的元素。题目要求找到数组中的第 K 个最大的元素，即返回 length - k 个元素即可。</p> 
<p><strong>详解</strong></p> 
<ol><li>本方法采用最小堆排序法；</li><li>首先建立最小堆，将每个叶子结点视为一个堆，再将每个叶子结点与其父节点一起构成一个包含更多结点的堆；</li><li>所以在构造堆的时候，首先需要找到最后一个结点的父节点，从这个节点开始构造最小堆，直到该节点前面的所有分支节点都处理完毕；</li><li>然后返回第 length - k 个，即为数组中第 k 个最大的元素。</li></ol> 
<pre><code class="prism language-javascript"><span class="token keyword">const</span> <span class="token function-variable function">findKthLargest</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">nums<span class="token punctuation">,</span> k</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">const</span> size <span class="token operator">=</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
  <span class="token comment">// 建立堆</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>size <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">heapify</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span> i<span class="token punctuation">,</span> size<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 排序</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> size <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&gt;=</span> size <span class="token operator">-</span> k<span class="token punctuation">;</span> j<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 得到本次的最大，将最大的与最后一个交换位子</span>
    <span class="token function">swap</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">heapify</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> nums<span class="token punctuation">[</span>size <span class="token operator">-</span> k<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">heapify</span> <span class="token punctuation">(</span><span class="token parameter">arr<span class="token punctuation">,</span> x<span class="token punctuation">,</span> length</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token comment">// 左右两个子节点</span>
  <span class="token keyword">const</span> l <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">*</span> x <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> r <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">*</span> x <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> largest <span class="token operator">=</span> x<span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>l <span class="token operator">&lt;</span> length <span class="token operator">&amp;&amp;</span> arr<span class="token punctuation">[</span>l<span class="token punctuation">]</span> <span class="token operator">&gt;</span> arr<span class="token punctuation">[</span>largest<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    largest <span class="token operator">=</span> l<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>r <span class="token operator">&lt;</span> length <span class="token operator">&amp;&amp;</span> arr<span class="token punctuation">[</span>r<span class="token punctuation">]</span> <span class="token operator">&gt;</span> arr<span class="token punctuation">[</span>largest<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    largest <span class="token operator">=</span> r<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>largest <span class="token operator">!==</span> x<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">swap</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> x<span class="token punctuation">,</span> largest<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 递归交换以下的是否也建好堆.</span>
    <span class="token function">heapify</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> largest<span class="token punctuation">,</span> length<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">swap</span> <span class="token punctuation">(</span><span class="token parameter">arr<span class="token punctuation">,</span> i<span class="token punctuation">,</span> j</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">const</span> temp <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
  arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
  arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> temp<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><strong>复杂度分析</strong></p> 
<ul><li>时间复杂度： O(n log n)O(nlogn)</li></ul> 
<p>上述解法中，采用了堆排序的方法，堆排序的时间复杂度 O(n log n)O(nlogn)。</p> 
<ul><li>空间复杂度： O(1)O(1)</li></ul> 
<p>上述解法中，申请了四个额外的临时存储空间，这将耗费 O(1)O(1) 的空间。</p> 
<h4><a id="_388"></a>方法三</h4> 
<p><strong>思路</strong></p> 
<p>首先通过冒泡排序的方法将数组升序排序，此时数组的头部为最小的元素，尾部为数组最大的元素。题目要求找到数组中的第 K 个最大的元素，即返回 length - k 个元素即可。</p> 
<p><strong>详解</strong></p> 
<ol><li>本方法采用经典冒泡排序法；</li><li>比较相邻的元素，如果第一个比第二个大，就交换他们两个；</li><li>对每一对相邻元素作同样的工作，从开始第一对到结尾的最后一对；</li><li>完成步骤 3 后，最后的元素会是最大的数，实现升序排序；</li><li>返回第 len-k 个元素，即为数组中第 k 个最大的元素。</li></ol> 
<pre><code class="prism language-javascript"><span class="token keyword">const</span> <span class="token function-variable function">findKthLargest</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">nums<span class="token punctuation">,</span> k</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">const</span> len <span class="token operator">=</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> len <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 冒泡排序</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> i<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token comment">// 异或交换，详见题外话解析</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>nums<span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&gt;</span> nums<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        nums<span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">^=</span> nums<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
        nums<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">^=</span> nums<span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        nums<span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">^=</span> nums<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">===</span> <span class="token punctuation">(</span>len <span class="token operator">-</span> k<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">return</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<p><strong>复杂度分析</strong></p> 
<ul><li>时间复杂度： O(n^2)O(n2)</li></ul> 
<p>上述解法中，内外两层循环，时间复杂度 O(n^2)O(n2)。</p> 
<ul><li>空间复杂度： O(1)O(1)</li></ul> 
<p>上述解法中，最优的情况是开始时元素已经按顺序排好，空间复杂度为 0 ，最差的情况是开始时元素逆序排序，此时空间复杂度 O(n)O(n)，平均空间复杂度 O(1)O(1)。</p> 
<p>复杂度分析：</p> 
<ul><li>时间复杂度： O(n^2)O(n2)，内外两层循环，时间复杂度 O(n^2)O(n2)</li><li>空间复杂度： O(1)O(1)，最优的情况是开始时元素已经按顺序排好，空间复杂度为0，最差的情况是开始时元素逆序排序，此时空间复杂度 O(n)O(n)，平均空间复杂度 O(1)O(1)</li></ul> 
<h4><a id="_438"></a>题外话</h4> 
<p>对于给定两个整数a,b，下面的异或运算可以实现a,b的交换，而无需借助第3个临时变量：</p> 
<pre><code>a = a ^ b;
b = a ^ b;
a = a ^ b;
</code></pre> 
<p>这个交换两个变量而无需借助第3个临时变量过程，其实现主要是基于异或运算的如下性质：</p> 
<ol><li>任意一个变量X与其自身进行异或运算，结果为0，即X ^ X=0</li><li>任意一个变量X与0进行异或运算，结果不变，即X ^ 0=X</li><li>异或运算具有可结合性，即a ^ b ^ c =（a ^ b）^ c= a ^（ b ^ c）</li><li>异或运算具有可交换性，即a ^ b = b ^ a</li></ol> 
<p>分析：</p> 
<p>第一步： a = a ^ b;</p> 
<p>完成后 a变量的结果为a ^ b</p> 
<p>第二步： b = a ^ b;</p> 
<p>此时赋值号右边的 a 保存的是 a ^ b 的值，那么将赋值号右边的 a 用 a ^ b 替换，</p> 
<p>得到（a ^ b） ^ b = a ^ (b ^ b)=a ^ 0=a,</p> 
<p>即经过第二步运算后 b 中的值为 a ，即 b=a ，将 a 换到了 b 里</p> 
<p>第三步： a = a ^ b;</p> 
<p>此时赋值号右边的 a 保存的仍然是 a ^ b 的值，不变，而赋值号右边的 b 已经是 a 了，</p> 
<p>将赋值号右边的 a,b 分别进行替换，</p> 
<p>即此时赋值号右边 a ^ b=（a ^ b）^ a=a ^ b^ a=a ^ a^ b=0^ b=b, 该值赋值给 a ,即 a=b</p> 
<p>即经过第三步运算后 a 中的值为 b ，即 a=b, 将 b 换到了 a 里</p> 
<p>这样经过如上的三步骤，完成了交换两个变量 a,b 而无需借助第 3 个临时变量过程。</p> 
<h3><a id="_481"></a>颜色分类</h3> 
<p>给定一个包含红色、白色和蓝色，一共 <em>n</em> 个元素的数组，<a href="https://baike.baidu.com/item/%E5%8E%9F%E5%9C%B0%E7%AE%97%E6%B3%95" rel="nofollow"><strong>原地</strong></a>对它们进行排序，使得相同颜色的元素相邻，并按照红色、白色、蓝色顺序排列。</p> 
<p>此题中，我们使用整数 0、 1 和 2 分别表示红色、白色和蓝色。</p> 
<p><strong>注意:</strong> 不能使用代码库中的排序函数来解决这道题。</p> 
<p><strong>示例</strong></p> 
<pre><code>输入: [2,0,2,1,1,0]
输出: [0,0,1,1,2,2]
</code></pre> 
<h4><a id="__498"></a>方法一 直接计算</h4> 
<p><strong>思路</strong></p> 
<p>直接遍历整个数组，分别计算出红蓝白球的个数，然后按照红色、白色、蓝色顺序依次存入数组。</p> 
<p><strong>详解</strong></p> 
<ol><li>设定三个变量 red, white，blue 分别表示红球、白球和蓝球。</li><li>遍历数组，遇到 0 则使 red 自增1，遇到 1 则使 white 自增1，遇到 2 则使 blue 自增1。</li><li>根据红白蓝的个数，依次将 0，1，2 存入数组。</li></ol> 
<pre><code class="prism language-javascript"><span class="token comment">/**
 * @param {number[]} nums
 * @return {void} Do not return anything, modify nums in-place instead.
 */</span>
<span class="token keyword">const</span> <span class="token function-variable function">sortColors</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">nums</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">let</span> red <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> blue <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> white <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      red<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      blue<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      white<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">let</span> index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> red<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    nums<span class="token punctuation">[</span>index<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> blue<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    nums<span class="token punctuation">[</span>index<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> white<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    nums<span class="token punctuation">[</span>index<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<p><strong>复杂度分析</strong></p> 
<ul><li>时间复杂度： O(n)O(n)</li><li>空间复杂度： O(n)O(n)</li></ul> 
<h4><a id="__546"></a>方法二 双指针遍历</h4> 
<p><strong>思路</strong></p> 
<p>设定三个指针 begin, end, i，用 i 遍历数组，遇到 0，1 时分别将值与 begin, end 指向的值交换。这种方法相对于方法一的好处是只使用了一个常数空间。</p> 
<p><strong>详解</strong></p> 
<ol><li>设定一头一尾两个指针 begin 和 end，然后用一个指针 <strong>i</strong> 从头开始遍历数组。</li><li>如果遇到 0，则将该数值与begin指向的值交换，并且使begin向后移一位。</li><li>如果遇到 2，则将该数值与end指向的值交换，并且使end向前移一位，并且此时不需自加 <strong>i</strong>。</li><li>如果遇到 1，则继续。</li><li>最终得到新数组。</li></ol> 
<pre><code class="prism language-javascript"><span class="token comment">/**
 * @param {number[]} nums
 * @return {void} Do not return anything, modify nums in-place instead.
 */</span>
<span class="token keyword">const</span> <span class="token function-variable function">sortColors</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">nums</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">let</span> begin <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> end <span class="token operator">=</span> nums<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;=</span> end<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span>begin<span class="token punctuation">]</span><span class="token punctuation">;</span>
      nums<span class="token punctuation">[</span>begin<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
      i<span class="token operator">++</span><span class="token punctuation">;</span>
      begin<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span>end<span class="token punctuation">]</span><span class="token punctuation">;</span>
      nums<span class="token punctuation">[</span>end<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
      end<span class="token operator">--</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
      i<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<p><strong>复杂度分析</strong></p> 
<ul><li>时间复杂度：O(n)O(n)</li><li>空间复杂度：O(1)O(1)</li></ul> 
<h4><a id="__591"></a>方法三 使用各种排序法</h4> 
<p><strong>思路</strong></p> 
<p>本题的实质是将数字从小到大排序，可以使用各种排序法（冒泡排序法，选择排序法，快速排序法等），这里举一个冒泡排序法的例子。</p> 
<p>1</p> 
<pre><code class="prism language-javascript"><span class="token comment">/**
 * @param {number[]} nums
 * @return {void} Do not return anything, modify nums in-place instead.
 */</span>
<span class="token keyword">const</span> <span class="token function-variable function">sortColors</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">nums</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> nums<span class="token punctuation">.</span>length <span class="token operator">-</span> i<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>nums<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&gt;</span> nums<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">const</span> tem <span class="token operator">=</span> nums<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
        nums<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        nums<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> tem<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<p><strong>复杂度分析</strong></p> 
<ul><li> <p>时间复杂度：O(n^2)O(n2)</p> <p>遍历了两次含n个元素的空间</p> </li><li> <p>空间复杂度：O(1)O(1)</p> <p>排序过程没有用到新的空间存储数据</p> </li></ul>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/600b9d3612d048dc1cc9613191dd982a/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Agent AI智能体的未来</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/eaabfdd85421f91ed1a5c18251b1605d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【prometheus】Pushgateway安装和使用</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>