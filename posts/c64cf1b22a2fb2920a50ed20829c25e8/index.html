<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Pythonçˆ¬è™«:ä¸‹è½½4Kå£çº¸ - ç¼–ç¨‹å¤§å’–</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/c64cf1b22a2fb2920a50ed20829c25e8/">
  <meta property="og:site_name" content="ç¼–ç¨‹å¤§å’–">
  <meta property="og:title" content="Pythonçˆ¬è™«:ä¸‹è½½4Kå£çº¸">
  <meta property="og:description" content="ğŸğŸåˆ›ä½œä¸æ˜“ï¼Œå…³æ³¨ä½œè€…ä¸è¿·è·¯ğŸ€ğŸ€
ç›®å½•
ğŸŒ¸å®Œæ•´ä»£ç 
ğŸŒ¸åˆ†æ
ğŸåŸºæœ¬æ€è·¯
ğŸéœ€è¦çš„åº“
ğŸæå–å›¾ç‰‡çš„é“¾æ¥å’Œæ ‡é¢˜
ğŸ‘“å¯»æ‰¾Cookieå’ŒUser-Agent
ğŸ‘“å›¾ç‰‡é“¾æ¥å’Œæ ‡é¢˜
ğŸä¸‹è½½ä¿å­˜å›¾ç‰‡
ğŸè·å–ç›®å½•é¡µé¢å›¾ç‰‡å’Œç¿»é¡µæå–
ğŸ‘“ç›®å½•é¡µå›¾ç‰‡çš„æå–
ğŸ‘“ç¿»é¡µè§„å¾‹å¯»æ‰¾
ğŸŒ¸è¿è¡Œæ•ˆæœ
ğŸŒ¸æ–‡æœ«å½©è›‹ğŸ€
æˆ‘ä»¬ç»å¸¸æƒ³è¦å¯»æ‰¾ä¸€äº›é«˜æ¸…çš„å£çº¸ï¼Œå›¾ç‰‡ä½œä¸ºç´ æï¼ˆä¸ºCSDNåšå®¢æ‰¾ä¸€å¼ å¸å¼•è¯»è€…çš„å°é¢ğŸ¤£ï¼‰ï¼Œç„¶è€Œä¸€å¼ ä¸€å¼ çš„ä¸‹è½½å¤ªæ…¢äº†ï¼Œå› æ­¤ä¸ºäº†æé«˜å·¥ä½œæ•ˆç‡ï¼ŒÂ æˆ‘ä»¬å¯ä»¥é‡‡ç”¨çˆ¬è™«çš„æ–¹å¼ï¼Œå¿«é€Ÿä¸‹è½½å›¾ç‰‡ã€‚
ğŸŒ¸å®Œæ•´ä»£ç  import os#å¯¼å…¥æ“ä½œç³»ç»Ÿçš„åº“ import requests #å¯¼å…¥HTTPåº“ from lxml import etree#å¯¼å…¥lxmlåº“ï¼Œæ•°æ®è§£æ global num num=1 #è¯·æ±‚å¤´,ä¼ªè£…çˆ¬è™« header={ &#39;user-agent&#39;: &#39;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/127.0.0.0 Safari/537.36 Edg/127.0.0.0&#39;, &#39;cookie&#39;: &#39;zkhanecookieclassrecord=%2C66%2C70%2C&#39; } #è·å–å…·ä½“çš„å›¾ç‰‡çš„åœ°å€å’Œåå­—ä¿¡æ¯ # url=&#39;https://pic.netbian.com/tupian/34694.html&#39; def get_pic(url,header): re=requests.get(url,headers=header) re.encoding=re.apparent_encoding#è·å–htmlæ–‡æœ¬æ—¶ç”¨ç½‘é¡µåŸæœ‰çš„ç¼–ç æ–¹å¼ï¼Œé˜²æ­¢ä¹±ç  #print(re.apparent_encoding) #è¿”å›çš„ç¼–ç  html=etree.HTML(re.text) link=html.xpath(&#39;//div[@class=&#34;photo-pic&#34;]/a/img/@src&#39;)[0]#è·å–å›¾ç‰‡é“¾æ¥ link=&#39;https://pic.netbian.com&#39;&#43;link print(link) title=html.xpath(&#39;//div[@class=&#34;photo-pic&#34;]/a/img/@title&#39;)[0]#è·å–å›¾ç‰‡åç§° print(title) return title,link #ä¸‹è½½ä¿å­˜å›¾ç‰‡ def download_pic(url,header): global num title,link=get_pic(url,header) if not os.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-08-10T15:41:11+08:00">
    <meta property="article:modified_time" content="2024-08-10T15:41:11+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ç¼–ç¨‹å¤§å’–" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ç¼–ç¨‹å¤§å’–</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Pythonçˆ¬è™«:ä¸‹è½½4Kå£çº¸</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <blockquote> 
 <p>ğŸğŸåˆ›ä½œä¸æ˜“ï¼Œå…³æ³¨ä½œè€…ä¸è¿·è·¯ğŸ€ğŸ€</p> 
</blockquote> 
<p id="main-toc"><strong>ç›®å½•</strong></p> 
<p id="%F0%9F%8C%B8%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81-toc" style="margin-left:40px;"><a href="#%F0%9F%8C%B8%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81" rel="nofollow">ğŸŒ¸å®Œæ•´ä»£ç </a></p> 
<p id="%F0%9F%8C%B8%E5%88%86%E6%9E%90-toc" style="margin-left:40px;"><a href="#%F0%9F%8C%B8%E5%88%86%E6%9E%90" rel="nofollow">ğŸŒ¸åˆ†æ</a></p> 
<p id="%C2%A0%F0%9F%8E%81%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-toc" style="margin-left:80px;"><a href="#%C2%A0%F0%9F%8E%81%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF" rel="nofollow">Â ğŸåŸºæœ¬æ€è·¯</a></p> 
<p id="%F0%9F%8E%81%E9%9C%80%E8%A6%81%E7%9A%84%E5%BA%93-toc" style="margin-left:80px;"><a href="#%F0%9F%8E%81%E9%9C%80%E8%A6%81%E7%9A%84%E5%BA%93" rel="nofollow">ğŸéœ€è¦çš„åº“</a></p> 
<p id="%F0%9F%8E%81%E6%8F%90%E5%8F%96%E5%9B%BE%E7%89%87%E7%9A%84%E9%93%BE%E6%8E%A5%E5%92%8C%E6%A0%87%E9%A2%98-toc" style="margin-left:80px;"><a href="#%F0%9F%8E%81%E6%8F%90%E5%8F%96%E5%9B%BE%E7%89%87%E7%9A%84%E9%93%BE%E6%8E%A5%E5%92%8C%E6%A0%87%E9%A2%98" rel="nofollow">ğŸæå–å›¾ç‰‡çš„é“¾æ¥å’Œæ ‡é¢˜</a></p> 
<p id="%F0%9F%91%93%E5%AF%BB%E6%89%BECookie%E5%92%8CUser-Agent-toc" style="margin-left:120px;"><a href="#%F0%9F%91%93%E5%AF%BB%E6%89%BECookie%E5%92%8CUser-Agent" rel="nofollow">ğŸ‘“å¯»æ‰¾Cookieå’ŒUser-Agent</a></p> 
<p id="%F0%9F%91%93%E5%9B%BE%E7%89%87%E9%93%BE%E6%8E%A5%E5%92%8C%E6%A0%87%E9%A2%98-toc" style="margin-left:120px;"><a href="#%F0%9F%91%93%E5%9B%BE%E7%89%87%E9%93%BE%E6%8E%A5%E5%92%8C%E6%A0%87%E9%A2%98" rel="nofollow">ğŸ‘“å›¾ç‰‡é“¾æ¥å’Œæ ‡é¢˜</a></p> 
<p id="%F0%9F%8E%81%E4%B8%8B%E8%BD%BD%E4%BF%9D%E5%AD%98%E5%9B%BE%E7%89%87-toc" style="margin-left:80px;"><a href="#%F0%9F%8E%81%E4%B8%8B%E8%BD%BD%E4%BF%9D%E5%AD%98%E5%9B%BE%E7%89%87" rel="nofollow">ğŸä¸‹è½½ä¿å­˜å›¾ç‰‡</a></p> 
<p id="%F0%9F%8E%81%E8%8E%B7%E5%8F%96%E7%9B%AE%E5%BD%95%E9%A1%B5%E9%9D%A2%E5%9B%BE%E7%89%87%E5%92%8C%E7%BF%BB%E9%A1%B5%E6%8F%90%E5%8F%96-toc" style="margin-left:80px;"><a href="#%F0%9F%8E%81%E8%8E%B7%E5%8F%96%E7%9B%AE%E5%BD%95%E9%A1%B5%E9%9D%A2%E5%9B%BE%E7%89%87%E5%92%8C%E7%BF%BB%E9%A1%B5%E6%8F%90%E5%8F%96" rel="nofollow">ğŸè·å–ç›®å½•é¡µé¢å›¾ç‰‡å’Œç¿»é¡µæå–</a></p> 
<p id="%F0%9F%91%93%E7%9B%AE%E5%BD%95%E9%A1%B5%E5%9B%BE%E7%89%87%E7%9A%84%E6%8F%90%E5%8F%96-toc" style="margin-left:120px;"><a href="#%F0%9F%91%93%E7%9B%AE%E5%BD%95%E9%A1%B5%E5%9B%BE%E7%89%87%E7%9A%84%E6%8F%90%E5%8F%96" rel="nofollow">ğŸ‘“ç›®å½•é¡µå›¾ç‰‡çš„æå–</a></p> 
<p id="%F0%9F%91%93%E7%BF%BB%E9%A1%B5%E8%A7%84%E5%BE%8B%E5%AF%BB%E6%89%BE-toc" style="margin-left:120px;"><a href="#%F0%9F%91%93%E7%BF%BB%E9%A1%B5%E8%A7%84%E5%BE%8B%E5%AF%BB%E6%89%BE" rel="nofollow">ğŸ‘“ç¿»é¡µè§„å¾‹å¯»æ‰¾</a></p> 
<p id="%F0%9F%8C%B8%E8%BF%90%E8%A1%8C%E6%95%88%E6%9E%9C-toc" style="margin-left:40px;"><a href="#%F0%9F%8C%B8%E8%BF%90%E8%A1%8C%E6%95%88%E6%9E%9C" rel="nofollow">ğŸŒ¸è¿è¡Œæ•ˆæœ</a></p> 
<p id="%C2%A0%F0%9F%8C%B8%E6%96%87%E6%9C%AB%E5%BD%A9%E8%9B%8B%F0%9F%8E%80-toc" style="margin-left:40px;"><a href="#%C2%A0%F0%9F%8C%B8%E6%96%87%E6%9C%AB%E5%BD%A9%E8%9B%8B%F0%9F%8E%80" rel="nofollow">Â ğŸŒ¸æ–‡æœ«å½©è›‹ğŸ€</a></p> 
<p></p> 
<p><img alt="" height="901" src="https://images2.imgbox.com/94/e2/Xrkj6CDy_o.jpg" width="1200"></p> 
<blockquote> 
 <p>æˆ‘ä»¬ç»å¸¸æƒ³è¦å¯»æ‰¾ä¸€äº›é«˜æ¸…çš„å£çº¸ï¼Œå›¾ç‰‡ä½œä¸ºç´ æï¼ˆä¸ºCSDNåšå®¢æ‰¾ä¸€å¼ å¸å¼•è¯»è€…çš„å°é¢ğŸ¤£ï¼‰ï¼Œç„¶è€Œä¸€å¼ ä¸€å¼ çš„ä¸‹è½½å¤ªæ…¢äº†ï¼Œå› æ­¤ä¸ºäº†æé«˜å·¥ä½œæ•ˆç‡ï¼ŒÂ æˆ‘ä»¬å¯ä»¥é‡‡ç”¨çˆ¬è™«çš„æ–¹å¼ï¼Œå¿«é€Ÿä¸‹è½½å›¾ç‰‡ã€‚</p> 
</blockquote> 
<h3 id="%F0%9F%8C%B8%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81">ğŸŒ¸å®Œæ•´ä»£ç </h3> 
<pre><code class="language-python">import os#å¯¼å…¥æ“ä½œç³»ç»Ÿçš„åº“
import requests  #å¯¼å…¥HTTPåº“
from lxml import etree#å¯¼å…¥lxmlåº“ï¼Œæ•°æ®è§£æ


global num
num=1
#è¯·æ±‚å¤´,ä¼ªè£…çˆ¬è™«
header={
'user-agent':
'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/127.0.0.0 Safari/537.36 Edg/127.0.0.0',
'cookie':
'zkhanecookieclassrecord=%2C66%2C70%2C'

}

#è·å–å…·ä½“çš„å›¾ç‰‡çš„åœ°å€å’Œåå­—ä¿¡æ¯
# url='https://pic.netbian.com/tupian/34694.html'
def get_pic(url,header):
    re=requests.get(url,headers=header)
    re.encoding=re.apparent_encoding#è·å–htmlæ–‡æœ¬æ—¶ç”¨ç½‘é¡µåŸæœ‰çš„ç¼–ç æ–¹å¼ï¼Œé˜²æ­¢ä¹±ç 
    #print(re.apparent_encoding) #è¿”å›çš„ç¼–ç 
    html=etree.HTML(re.text)
    link=html.xpath('//div[@class="photo-pic"]/a/img/@src')[0]#è·å–å›¾ç‰‡é“¾æ¥
    link='https://pic.netbian.com'+link
    print(link)
    title=html.xpath('//div[@class="photo-pic"]/a/img/@title')[0]#è·å–å›¾ç‰‡åç§°
    print(title)
    return title,link

#ä¸‹è½½ä¿å­˜å›¾ç‰‡
def download_pic(url,header):
    global num
    title,link=get_pic(url,header)
    if not os.path.exists(r"C:\Users\liu\Desktop\å›¾ç‰‡\4Kå£çº¸"):#æœªæ‰¾åˆ°æ–‡ä»¶å¤¹åˆ™åˆ›å»ºæ–‡ä»¶å¤¹
        os.mkdir(r"C:\Users\liu\Desktop\å›¾ç‰‡\4Kå£çº¸")
    content=requests.get(link,headers=header).content
    with open(rf"C:\Users\liu\Desktop\å›¾ç‰‡\4Kå£çº¸\{str(num)}.jpg",'wb') as f:#ä»¥äºŒè¿›åˆ¶ç¼–ç å†™å…¥æ–‡ä»¶
        f.write(content)
    num += 1

#ç›®å½•ç¿»é¡µæå–é“¾æ¥
def get_content_link(url,header):
    # url='https://pic.netbian.com/pingban/index.html'
    re=requests.get(url,headers=header)
    re.encoding=re.apparent_encoding
    # print(re.text)
    html=etree.HTML(re.text)
    links=html.xpath('//div[@class="slist"]//a/@href')
    for x in links:
        x='https://pic.netbian.com'+x
        download_pic(x,header)

#å¾ªç¯éå†ç½‘é¡µï¼Œå¤„ç†ä¿¡æ¯
for i in range(1,24):
    if i==1:
        url='https://pic.netbian.com/pingban/index.html'
    else :
        url=f'https://pic.netbian.com/pingban/index_{i}.html'
    get_content_link(url,header)</code></pre> 
<h3 id="%F0%9F%8C%B8%E5%88%86%E6%9E%90" style="background-color:transparent;">ğŸŒ¸åˆ†æ</h3> 
<h4 id="%C2%A0%F0%9F%8E%81%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF">Â ğŸåŸºæœ¬æ€è·¯</h4> 
<ul><li>Â æ‰¾åˆ°å›¾ç‰‡é¡µç½‘é¡µæºä»£ç </li><li>æå–æ‰€æœ‰å›¾ç‰‡çš„é“¾æ¥å’Œæ ‡é¢˜</li><li>ä¸‹è½½ä¿å­˜å›¾ç‰‡</li><li>çˆ¬å–ç›®å½•é¡µçš„ç½‘é¡µæºä»£ç </li><li>ä¸‹è½½ç›®å½•é¡µçš„å›¾ç‰‡</li><li>åˆ†æä¸åŒé¡µé¢çš„åœ°å€å˜åŒ–ï¼Œæ‰¾å‡ºè§„å¾‹å®ç°ç¿»é¡µä¸‹è½½</li></ul> 
<h4 id="%F0%9F%8E%81%E9%9C%80%E8%A6%81%E7%9A%84%E5%BA%93">ğŸéœ€è¦çš„åº“</h4> 
<pre><code class="language-python">import os
import requests
from lxml import etree</code></pre> 
<p>requestså’Œlxmlåº“æ˜¯ç¬¬ä¸‰æ–¹åº“ï¼Œéœ€è¦è‡ªå·±å®‰è£…</p> 
<h4 id="%F0%9F%8E%81%E6%8F%90%E5%8F%96%E5%9B%BE%E7%89%87%E7%9A%84%E9%93%BE%E6%8E%A5%E5%92%8C%E6%A0%87%E9%A2%98">ğŸæå–å›¾ç‰‡çš„é“¾æ¥å’Œæ ‡é¢˜</h4> 
<h5 id="%F0%9F%91%93%E5%AF%BB%E6%89%BECookie%E5%92%8CUser-Agent" style="background-color:transparent;">ğŸ‘“å¯»æ‰¾Cookieå’ŒUser-Agent</h5> 
<p>é¦–å…ˆæ‰“å¼€é¡µé¢ï¼Œæ‰“å¼€å¼€å‘è€…å·¥å…·ï¼ŒæŒ‰Ctrl+Råˆ·æ–°é¡µé¢ï¼Œç‚¹å‡»å¼€å‘è€…å·¥å…·çš„â€œç½‘ç»œâ€é€‰é¡¹ï¼Œç‚¹å‡»ç¬¬ä¸€ä»½æ–‡ä»¶ï¼ŒæŸ¥çœ‹è¯·æ±‚åœ°å€ï¼ŒCookieå’ŒUser-Agent</p> 
<p><img alt="" height="820" src="https://images2.imgbox.com/73/61/hergLPol_o.png" width="1200"></p> 
<p><img alt="" height="455" src="https://images2.imgbox.com/0e/35/C7AL8JAc_o.png" width="923"></p> 
<p><img alt="" height="255" src="https://images2.imgbox.com/e0/be/gB59Opif_o.png" width="880"></p> 
<p>Â å°†Cookieå’ŒUser-Agentä½œä¸ºè¯·æ±‚å¤´</p> 
<pre><code class="language-python">header={
'user-agent':
'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/127.0.0.0 Safari/537.36 Edg/127.0.0.0',
'cookie':
'zkhanecookieclassrecord=%2C66%2C70%2C'

}</code></pre> 
<h5 id="%F0%9F%91%93%E5%9B%BE%E7%89%87%E9%93%BE%E6%8E%A5%E5%92%8C%E6%A0%87%E9%A2%98" style="background-color:transparent;">ğŸ‘“å›¾ç‰‡é“¾æ¥å’Œæ ‡é¢˜</h5> 
<p><img alt="" height="484" src="https://images2.imgbox.com/81/08/HToCjGLD_o.png" width="1156"></p> 
<p>è¿™é‡Œéœ€è¦ç”¨åˆ°<strong>lxmlåº“ä»¥åŠxpath</strong>çš„çŸ¥è¯†ï¼Œçœ‹å›¾è¯´è¯ï¼Œé“¾æ¥å’Œåœ°å€å­˜åœ¨&lt;div class="photo-pic"&gt;ä¸‹çš„aå…ƒç´ ä¸­imgå…ƒç´ ä¸­çš„srcå±æ€§å’Œtitleå±æ€§</p> 
<p><strong>å›¾ç‰‡é“¾æ¥</strong></p> 
<pre><code class="language-python">link=html.xpath('//div[@class="photo-pic"]/a/img/@src')[0]#è·å–å›¾ç‰‡é“¾æ¥</code></pre> 
<p><strong>å›¾ç‰‡æ ‡é¢˜</strong></p> 
<pre><code class="language-python">title=html.xpath('//div[@class="photo-pic"]/a/img/@title')[0]#è·å–å›¾ç‰‡åç§°</code></pre> 
<p><strong>å†™æˆå‡½æ•°æ–¹ä¾¿è°ƒç”¨</strong></p> 
<pre><code class="language-python">#è·å–å…·ä½“çš„å›¾ç‰‡çš„åœ°å€å’Œåå­—ä¿¡æ¯
# url='https://pic.netbian.com/tupian/34694.html'
def get_pic(url,header):
    re=requests.get(url,headers=header)
    re.encoding=re.apparent_encoding#è·å–htmlæ–‡æœ¬æ—¶ç”¨ç½‘é¡µåŸæœ‰çš„ç¼–ç æ–¹å¼ï¼Œé˜²æ­¢ä¹±ç 
    #print(re.apparent_encoding) #è¿”å›çš„ç¼–ç 
    html=etree.HTML(re.text)
    link=html.xpath('//div[@class="photo-pic"]/a/img/@src')[0]#è·å–å›¾ç‰‡é“¾æ¥
    link='https://pic.netbian.com'+link
    print(link)
    title=html.xpath('//div[@class="photo-pic"]/a/img/@title')[0]#è·å–å›¾ç‰‡åç§°
    print(title)
    return title,link</code></pre> 
<h4 id="%F0%9F%8E%81%E4%B8%8B%E8%BD%BD%E4%BF%9D%E5%AD%98%E5%9B%BE%E7%89%87" style="background-color:transparent;">ğŸä¸‹è½½ä¿å­˜å›¾ç‰‡</h4> 
<p>å­˜å‚¨åˆ°ä¸€ä¸ªæ–°çš„æ–‡ä»¶å¤¹â€œ4Kå£çº¸â€ï¼Œå¦‚æœæ–‡ä»¶å¤¹ä¸å­˜åœ¨ï¼Œéœ€è¦åˆ›å»ºï¼Œè¿™é‡Œè¦ç”¨åˆ°osåº“</p> 
<pre><code class="language-python">#æœªæ‰¾åˆ°æ–‡ä»¶å¤¹åˆ™åˆ›å»ºæ–‡ä»¶å¤¹
if not os.path.exists(r"C:\Users\liu\Desktop\å›¾ç‰‡\4Kå£çº¸"):        
    os.mkdir(r"C:\Users\liu\Desktop\å›¾ç‰‡\4Kå£çº¸")</code></pre> 
<p>å†™å…¥æ–‡ä»¶</p> 
<pre><code class="language-python">content=requests.get(link,headers=header).content
with open(rf"C:\Users\liu\Desktop\å›¾ç‰‡\4Kå£çº¸\{str(num)}.jpg",'wb') as f:#ä»¥äºŒè¿›åˆ¶ç¼–ç å†™å…¥æ–‡ä»¶
    f.write(content)</code></pre> 
<p>å†™æˆå‡½æ•°æ–¹ä¾¿è°ƒç”¨</p> 
<pre><code class="language-python">#ä¸‹è½½ä¿å­˜å›¾ç‰‡
def download_pic(url,header):
    global num
    title,link=get_pic(url,header)
    if not os.path.exists(r"C:\Users\liu\Desktop\å›¾ç‰‡\4Kå£çº¸"):#æœªæ‰¾åˆ°æ–‡ä»¶å¤¹åˆ™åˆ›å»ºæ–‡ä»¶å¤¹
        os.mkdir(r"C:\Users\liu\Desktop\å›¾ç‰‡\4Kå£çº¸")
    content=requests.get(link,headers=header).content
    with open(rf"C:\Users\liu\Desktop\å›¾ç‰‡\4Kå£çº¸\{str(num)}.jpg",'wb') as f:#ä»¥äºŒè¿›åˆ¶ç¼–ç å†™å…¥æ–‡ä»¶
        f.write(content)
    num += 1</code></pre> 
<h4 id="%F0%9F%8E%81%E8%8E%B7%E5%8F%96%E7%9B%AE%E5%BD%95%E9%A1%B5%E9%9D%A2%E5%9B%BE%E7%89%87%E5%92%8C%E7%BF%BB%E9%A1%B5%E6%8F%90%E5%8F%96">ğŸè·å–ç›®å½•é¡µé¢å›¾ç‰‡å’Œç¿»é¡µæå–</h4> 
<p>ä¸Šé¢æˆ‘ä»¬å®ç°ä¸€å¼ å›¾ç‰‡çš„ä¿å­˜ï¼Œå†™äº†åå‡ è¡Œä»£ç ç®—æ˜¯æˆåŠŸä¿å­˜äº†ğŸ¤£ğŸ¤£ğŸ¤£ï¼Œä¸€å¼ å›¾ç‰‡å¹²å˜›è¿™ä¹ˆéº»çƒ¦æğŸ˜‚ï¼Œç›´æ¥ç‚¹å‡»â€œå›¾ç‰‡å¦å­˜ä¸ºâ€ä¸å°±è¡Œäº†å—ï¼Œé‚£å¦‚æœæ˜¯å¾ˆå¤šå›¾ç‰‡å—ï¼Œé‚£è‚¯å®šæ˜¯çˆ¬è™«æ›´å¿«äº†å‘—</p> 
<h5 id="%F0%9F%91%93%E7%9B%AE%E5%BD%95%E9%A1%B5%E5%9B%BE%E7%89%87%E7%9A%84%E6%8F%90%E5%8F%96">ğŸ‘“ç›®å½•é¡µå›¾ç‰‡çš„æå–</h5> 
<p>ä¾ç„¶ç”¨åˆ°lxmlåº“ï¼Œåˆ©ç”¨xpathè¯­æ³•æå–</p> 
<p><img alt="" height="600" src="https://images2.imgbox.com/a0/34/l2Lc4zwO_o.png" width="793"></p> 
<pre><code class="language-python">#ç›®å½•ç¿»é¡µæå–é“¾æ¥
def get_content_link(url,header):
    # url='https://pic.netbian.com/pingban/index.html'
    re=requests.get(url,headers=header)
    re.encoding=re.apparent_encoding
    # print(re.text)
    html=etree.HTML(re.text)
    links=html.xpath('//div[@class="slist"]//a/@href')
    for x in links:
        x='https://pic.netbian.com'+x
        download_pic(x,header)</code></pre> 
<h5 id="%F0%9F%91%93%E7%BF%BB%E9%A1%B5%E8%A7%84%E5%BE%8B%E5%AF%BB%E6%89%BE">ğŸ‘“ç¿»é¡µè§„å¾‹å¯»æ‰¾</h5> 
<p>ğŸ“•æ‰¾åˆ°ç¬¬ä¸€é¡µç›®å½•é¡µ</p> 
<pre><code class="language-python">https://pic.netbian.com/pingban/index.html</code></pre> 
<p>ğŸ“•æ‰¾åˆ°ç¬¬äºŒé¡µç›®å½•é¡µ</p> 
<pre><code class="language-python">https://pic.netbian.com/pingban/index_2.html</code></pre> 
<p>ğŸ“•æ‰¾åˆ°ç¬¬ä¸‰é¡µç›®å½•é¡µ</p> 
<pre><code class="language-python">https://pic.netbian.com/pingban/index_3.html</code></pre> 
<p>å‘ç°è§„å¾‹:ç¬¬ä¸€é¡µå•ç‹¬åˆ—å‡ºæ¥ï¼Œå…¶ä»–é¡µé€šè¿‡forå¾ªç¯æ”¹å˜index_{i}å³å¯</p> 
<pre><code class="language-python">#å¾ªç¯éå†ç½‘é¡µï¼Œå¤„ç†ä¿¡æ¯
for i in range(1,24):
    if i==1:
        url='https://pic.netbian.com/pingban/index.html'
    else :
        url=f'https://pic.netbian.com/pingban/index_{i}.html'
    get_content_link(url,header)</code></pre> 
<p>é€šè¿‡forå¾ªç¯éå†ï¼Œæœ€ç»ˆå¯ä»¥å®ç°æ‰€æœ‰å›¾ç‰‡çš„ä¸‹è½½</p> 
<h3 id="%F0%9F%8C%B8%E8%BF%90%E8%A1%8C%E6%95%88%E6%9E%9C" style="background-color:transparent;">ğŸŒ¸è¿è¡Œæ•ˆæœ</h3> 
<p>æˆåŠŸä¸‹è½½4Kå£çº¸ï¼Œè€—æ—¶ä¸¤åˆ†åŠğŸ”ï¼Œä¸‹è½½400å¤šå¼ å›¾ç‰‡ï¼Œçˆ¬è™«æå–å°±æ˜¯å¿«ï¼Œæ‰‹åŠ¨æå–é¢„ä¼°ä¸€å¤æ—¶å·¦å³ğŸ”</p> 
<p><img alt="" height="466" src="https://images2.imgbox.com/1b/b8/7b2oU4t4_o.png" width="904"></p> 
<p><img alt="" height="620" src="https://images2.imgbox.com/27/5b/wZ4Cqi2T_o.png" width="1200">Â </p> 
<h3 id="%C2%A0%F0%9F%8C%B8%E6%96%87%E6%9C%AB%E5%BD%A9%E8%9B%8B%F0%9F%8E%80">Â ğŸŒ¸æ–‡æœ«å½©è›‹ğŸ€</h3> 
<p><img alt="" height="901" src="https://images2.imgbox.com/0e/68/KbVC5aPC_o.jpg" width="1200"></p> 
<p><img alt="" height="901" src="https://images2.imgbox.com/77/24/Gwe9IQqt_o.jpg" width="1200">Â <img alt="" height="901" src="https://images2.imgbox.com/61/43/XvFLRhc0_o.jpg" width="1200"></p> 
<p><img alt="" height="901" src="https://images2.imgbox.com/79/b1/uz8w2Sdh_o.jpg" width="1200">Â </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/3fdb119998068694d767c38ca6d74c29/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">æ·±å…¥æ¢ç´¢ï¼šã€äººå·¥æ™ºèƒ½ã€‘ã€ã€æœºå™¨å­¦ä¹ ã€‘ä¸ã€æ·±åº¦å­¦ä¹ ã€‘çš„å…¨æ™¯è§†è§‰ä¹‹æ—…</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/435e636c223d7827aee260921cc4f308/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">C&#43;&#43; | list</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ç¼–ç¨‹å¤§å’–.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>