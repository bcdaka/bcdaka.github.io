<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Java经典框架之MyBatis - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/ee7b63f36932b5b8431aeb8cd5aaa380/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="Java经典框架之MyBatis">
  <meta property="og:description" content="一、基本介绍 MyBatis 是一个非常流行的 Java 持久层框架，它提供了简单的方法来处理数据库中的数据。MyBatis 可以看作是 JDBC 的一个薄封装，它简化了 JDBC 代码的编写，同时提供了强大的功能，如动态 SQL、映射自定义对象到数据库记录等。
二、核心特性 SQL Mapper: MyBatis 使用 XML 或注解来映射 SQL 语句，这使得 SQL 语句可以与 Java 代码分离，便于管理和维护。
动态 SQL: MyBatis 支持动态 SQL，这意味着 SQL 语句可以根据条件动态地构建，提高了代码的复用性。
高级映射: MyBatis 支持将数据库列映射到 Java 对象的属性，包括但不限于简单类型、自动增长的主键、关联查询等。
配置简单: MyBatis 的配置相对简单，通过 XML 文件或注解可以轻松配置数据源、事务管理器等。
事务支持: MyBatis 支持声明式事务和编程式事务，可以方便地管理数据库事务。
缓存机制: MyBatis 提供了一级缓存和二级缓存，可以显著提高数据访问的性能。
插件机制: MyBatis 允许开发者编写插件来拦截方法调用，实现自定义的功能，如分页、性能监控等。
Spring 集成: MyBatis 可以很容易地与 Spring 框架集成，利用 Spring 的依赖注入和事务管理。
MyBatis-Spring 框架: 这是 MyBatis 和 Spring 的整合版本，提供了额外的集成特性，如自动 SQL 映射和事务管理。
MyBatis Plus: 是 MyBatis 的增强工具，在 MyBatis 的基础上只做增强不做改变，为简化开发、提高效率而生。">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-08-30T08:58:25+08:00">
    <meta property="article:modified_time" content="2024-08-30T08:58:25+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Java经典框架之MyBatis</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h3>一、基本介绍</h3> 
<p></p> 
<blockquote> 
 <p>        MyBatis 是一个非常流行的 Java 持久层框架，它提供了简单的方法来处理数据库中的数据。MyBatis 可以看作是 JDBC 的一个薄封装，它简化了 JDBC 代码的编写，同时提供了强大的功能，如动态 SQL、映射自定义对象到数据库记录等。</p> 
</blockquote> 
<p></p> 
<h3>二、核心特性</h3> 
<p><strong>SQL Mapper</strong>: MyBatis 使用 XML 或注解来映射 SQL 语句，这使得 SQL 语句可以与 Java 代码分离，便于管理和维护。</p> 
<p><strong>动态 SQL</strong>: MyBatis 支持动态 SQL，这意味着 SQL 语句可以根据条件动态地构建，提高了代码的复用性。</p> 
<p><strong>高级映射</strong>: MyBatis 支持将数据库列映射到 Java 对象的属性，包括但不限于简单类型、自动增长的主键、关联查询等。</p> 
<p><strong>配置简单</strong>: MyBatis 的配置相对简单，通过 XML 文件或注解可以轻松配置数据源、事务管理器等。</p> 
<p><strong>事务支持</strong>: MyBatis 支持声明式事务和编程式事务，可以方便地管理数据库事务。</p> 
<p><strong>缓存机制</strong>: MyBatis 提供了一级缓存和二级缓存，可以显著提高数据访问的性能。</p> 
<p><strong>插件机制</strong>: MyBatis 允许开发者编写插件来拦截方法调用，实现自定义的功能，如分页、性能监控等。</p> 
<p><strong>Spring 集成</strong>: MyBatis 可以很容易地与 Spring 框架集成，利用 Spring 的依赖注入和事务管理。</p> 
<p><strong>MyBatis-Spring 框架</strong>: 这是 MyBatis 和 Spring 的整合版本，提供了额外的集成特性，如自动 SQL 映射和事务管理。</p> 
<p><strong>MyBatis Plus</strong>: 是 MyBatis 的增强工具，在 MyBatis 的基础上只做增强不做改变，为简化开发、提高效率而生。</p> 
<p></p> 
<h3>三、使用配置</h3> 
<ul><li><strong>配置 MyBatis</strong>: 创建 MyBatis 的配置文件，配置数据库连接信息、事务管理器等。</li><li><strong>创建 Mapper 接口</strong>: 定义一个接口，该接口中的方法将与 SQL 语句映射。</li><li><strong>编写 SQL 映射文件</strong>: 创建 XML 文件，定义 SQL 语句和映射规则。</li><li><strong>配置 Mapper 扫描</strong>: 配置 MyBatis 扫描 Mapper 接口和 SQL 映射文件的位置。</li><li><strong>使用 MyBatis</strong>: 通过 Mapper 接口调用数据库操作。</li></ul> 
<p></p> 
<h3>四、简单示例</h3> 
<p></p> 
<h4>1. 配置 MyBatis</h4> 
<p>首先，需要在 <code>mybatis-config.xml</code> 中配置 MyBatis 的基本设置：</p> 
<pre><code class="language-XML">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;!DOCTYPE configuration
  PUBLIC "-//mybatis.org//DTD Config 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-config.dtd"&gt;
&lt;configuration&gt;
    &lt;environments default="development"&gt;
        &lt;environment id="development"&gt;
            &lt;transactionManager type="JDBC"/&gt;
            &lt;dataSource type="POOLED"&gt;
                &lt;property name="driver" value="com.mysql.cj.jdbc.Driver"/&gt;
                &lt;property name="url" value="jdbc:mysql://localhost:3306/your_database"/&gt;
                &lt;property name="username" value="your_username"/&gt;
                &lt;property name="password" value="your_password"/&gt;
            &lt;/dataSource&gt;
        &lt;/environment&gt;
    &lt;/environments&gt;
    &lt;mappers&gt;
        &lt;mapper resource="org/mybatis/example/BlogMapper.xml"/&gt;
    &lt;/mappers&gt;
&lt;/configuration&gt;</code></pre> 
<p></p> 
<h4>2. 创建数据访问对象（DAO）接口</h4> 
<p>定义一个接口，该接口中的方法将与 SQL 语句映射：</p> 
<pre><code class="language-java">public interface BlogMapper {
    Blog selectBlog(int id);
    List&lt;Blog&gt; selectAllBlogs();
}</code></pre> 
<p></p> 
<h4>3. 编写 SQL 映射文件</h4> 
<p>创建 XML 文件，定义 SQL 语句和映射规则：</p> 
<pre><code class="language-XML">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd"&gt;
&lt;mapper namespace="org.mybatis.example.BlogMapper"&gt;
    &lt;select id="selectBlog" resultType="Blog"&gt;
        SELECT id, title, author, content
        FROM Blog
        WHERE id = #{id}
    &lt;/select&gt;
    
    &lt;select id="selectAllBlogs" resultType="Blog"&gt;
        SELECT id, title, author, content
        FROM Blog
    &lt;/select&gt;
&lt;/mapper&gt;</code></pre> 
<p></p> 
<h4>4. 使用 MyBatis</h4> 
<p>在应用程序中使用 MyBatis 的 <code>SqlSessionFactory</code> 和 <code>Mapper</code> 接口进行数据库操作：</p> 
<pre><code class="language-java">import org.apache.ibatis.io.Resources;
import org.apache.ibatis.session.SqlSession;
import org.apache.ibatis.session.SqlSessionFactory;
import org.apache.ibatis.session.SqlSessionFactoryBuilder;
import java.util.List;

public class MyBatisExample {
    public static void main(String[] args) throws Exception {
        // 加载 MyBatis 配置文件
        String resource = "mybatis-config.xml";
        InputStream inputStream = Resources.getResourceAsStream(resource);
        // 构建 SqlSessionFactory
        SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(inputStream);
        // 创建 SqlSession 实例
        try (SqlSession session = sqlSessionFactory.openSession()) {
            // 获取 Mapper 接口的实现
            BlogMapper mapper = session.getMapper(BlogMapper.class);
            // 调用 Mapper 接口中的方法
            Blog blog = mapper.selectBlog(1);
            System.out.println(blog.getAuthor());
            List&lt;Blog&gt; blogs = mapper.selectAllBlogs();
            for (Blog blogItem : blogs) {
                System.out.println(blogItem.getTitle());
            }
        }
    }
}</code></pre> 
<p><strong>在这个示例中，我们首先配置了 MyBatis，然后定义了一个 <code>BlogMapper</code> 接口，接着创建了一个 XML 文件来映射 SQL 语句。最后，在 <code>main</code> 方法中，我们创建了一个 <code>SqlSession</code> 实例，通过它获取了 <code>BlogMapper</code> 的实现，并调用了其中的方法来执行数据库操作。</strong></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/1c74cf5c895f51608a44716b12bb6a89/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">ubuntu c&#43;&#43; http服务端event使用</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/4340f83ef6c514de06f85703bb19cba8/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Docker存储目录问题，如何修改Docker默认存储位置？（Docker存储路径、Docker空间）/etc/docker/daemon.json（docker占用、docker容量）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>