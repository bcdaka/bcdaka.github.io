<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>前端js 元素拖拽案例 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/d71b2ae4b1e671c252713109411cbdb5/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="前端js 元素拖拽案例">
  <meta property="og:description" content="js原生元素拖拽案例 下面是一个简单的使用原生 JavaScript 实现元素拖拽的代码示例：
&lt;!DOCTYPE html&gt; &lt;html&gt; &lt;head&gt; &lt;style&gt; .draggable { width: 100px; height: 100px; background-color: red; position: absolute; cursor: move; } &lt;/style&gt; &lt;/head&gt; &lt;body&gt; &lt;div class=&#34;draggable&#34;&gt;&lt;/div&gt; &lt;script&gt; window.onload = function() { var draggable = document.querySelector(&#39;.draggable&#39;); var isDragging = false; var offsetX = 0; var offsetY = 0; draggable.addEventListener(&#39;mousedown&#39;, function(event) { isDragging = true; offsetX = event.clientX - draggable.offsetLeft; offsetY = event.clientY - draggable.offsetTop; }); document.addEventListener(&#39;mousemove&#39;, function(event) { if (isDragging) { draggable.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-06-05T09:27:58+08:00">
    <meta property="article:modified_time" content="2024-06-05T09:27:58+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">前端js 元素拖拽案例</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h3>js原生元素拖拽案例</h3> 
<p></p> 
<p>下面是一个简单的使用原生 JavaScript 实现元素拖拽的代码示例：</p> 
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;style&gt;
    .draggable {
      width: 100px;
      height: 100px;
      background-color: red;
      position: absolute;
      cursor: move;
    }
  &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;div class="draggable"&gt;&lt;/div&gt;

  &lt;script&gt;
    window.onload = function() {
      var draggable = document.querySelector('.draggable');
      var isDragging = false;
      var offsetX = 0;
      var offsetY = 0;

      draggable.addEventListener('mousedown', function(event) {
        isDragging = true;
        offsetX = event.clientX - draggable.offsetLeft;
        offsetY = event.clientY - draggable.offsetTop;
      });

      document.addEventListener('mousemove', function(event) {
        if (isDragging) {
          draggable.style.left = (event.clientX - offsetX) + 'px';
          draggable.style.top = (event.clientY - offsetY) + 'px';
        }
      });

      document.addEventListener('mouseup', function() {
        isDragging = false;
      });
    };
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre> 
<p></p> 
<p>在上面的代码中，我们定义了一个可拖拽的红色方块元素，并给它添加了一个类名 <code>.draggable</code>。通过 <code>querySelector</code> 方法获取到该元素，并添加了 <code>mousedown</code>、<code>mousemove</code> 和 <code>mouseup</code> 事件监听器。</p> 
<p>当用户按下鼠标按钮时，会触发 <code>mousedown</code> 事件，在该事件处理程序中，我们设置 <code>isDragging</code> 变量为 <code>true</code>，并记录下鼠标与元素左上角的偏移值。</p> 
<p>当用户移动鼠标时，会触发 <code>mousemove</code> 事件，在该事件处理程序中，我们判断如果 <code>isDragging</code> 为 <code>true</code>，则根据鼠标移动的位置和偏移值来更新元素的 <code>left</code> 和 <code>top</code> 属性，使元素跟随鼠标移动。</p> 
<p>当用户释放鼠标按钮时，会触发 <code>mouseup</code> 事件，在该事件处理程序中，我们将 <code>isDragging</code> 设置为 <code>false</code>，停止拖拽操作。</p> 
<p>通过上述代码，你可以实现一个简单的拖拽效果。你可以尝试在浏览器中运行上述代码，点击并拖拽红色方块，看看效果如何。</p> 
<h2>jquery拖拽案例</h2> 
<p>以下是一个使用jQuery实现拖拽的案例：</p> 
<p>HTML代码：</p> 
<pre><code class="language-html">&lt;div id="drag-element" style="width: 100px; height: 100px; background-color: red; position: absolute;"&gt;&lt;/div&gt;
</code></pre> 
<p></p> 
<p>JavaScript代码：</p> 
<pre><code class="language-javascript">$(document).ready(function(){
  // 设置drag-element元素可拖拽
  $("#drag-element").draggable();
});
</code></pre> 
<p></p> 
<p>在上面的代码中，我们使用了jQuery的<code>draggable()</code>方法将<code>#drag-element</code>元素设置为可拖拽。你可以根据自己的需要调整元素的样式和位置。</p> 
<h2>vue拖拽案例</h2> 
<p>下面是一个简单的vue拖拽案例，其中包含了一个可拖拽的元素列表和一个目标区域。通过拖拽元素到目标区域，可以改变元素的位置。</p> 
<pre><code>&lt;template&gt;
  &lt;div&gt;
    &lt;div class="drag-container"&gt;
      &lt;div
        v-for="(item, index) in items"
        :key="item.id"
        class="drag-item"
        :style="{ top: item.top + 'px', left: item.left + 'px' }"
        draggable="true"
        @dragstart="dragStart(index)"
        @dragend="dragEnd"
      &gt;
        {<!-- -->{ item.name }}
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class="drop-container" @drop="drop" @dragover="allowDrop"&gt;
      Drop Here
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  data() {
    return {
      items: [
        { id: 1, name: "Item 1", top: 0, left: 0 },
        { id: 2, name: "Item 2", top: 0, left: 0 },
        { id: 3, name: "Item 3", top: 0, left: 0 }
      ],
      draggedIndex: null
    };
  },
  methods: {
    dragStart(index) {
      this.draggedIndex = index;
    },
    dragEnd() {
      this.draggedIndex = null;
    },
    allowDrop(event) {
      event.preventDefault();
    },
    drop(event) {
      event.preventDefault();
      const targetIndex = event.target.dataset.index;
      if (this.draggedIndex !== null) {
        const draggedItem = this.items.splice(this.draggedIndex, 1)[0];
        this.items.splice(targetIndex, 0, draggedItem);
        this.draggedIndex = null;
      }
    }
  }
};
&lt;/script&gt;

&lt;style scoped&gt;
.drag-container {
  height: 200px;
  border: 1px solid #ccc;
  display: flex;
  flex-direction: column;
}

.drag-item {
  background-color: #f1f1f1;
  border: 1px solid #ccc;
  padding: 10px;
  margin-bottom: 5px;
}

.drop-container {
  height: 100px;
  border: 1px dashed #ccc;
  margin-top: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
}
&lt;/style&gt;
</code></pre> 
<p></p> 
<p>在这个案例中，我们使用<code>v-for</code>指令将<code>items</code>中的数据渲染为可拖拽的元素列表。我们给每个元素设置了<code>draggable="true"</code>属性，并监听了<code>dragstart</code>和<code>dragend</code>事件来更新<code>draggedIndex</code>。</p> 
<p>目标区域使用<code>drop</code>和<code>dragover</code>事件来实现拖拽元素到目标区域的效果。在<code>drop</code>事件中，我们获取目标位置的索引并将拖拽的元素插入到<code>items</code>中相应的位置。</p> 
<p>通过这个案例，你可以实现一个简单的vue拖拽功能。你可以根据实际需求来改变样式和逻辑。</p> 
<p></p> 
<h2>三种实现方式的区别</h2> 
<p></p> 
<p>js原生实现元素拖拽需要使用drag事件和相关的属性和方法。我们需要通过监听dragstart事件来开始拖拽，监听dragend事件来结束拖拽，并且要设置draggable属性为true。然后，结合一些计算和样式修改，可以实现元素的拖拽效果。这种方式相对底层，需要手动处理一些细节。</p> 
<p>jquery拖拽则是通过jquery提供的拖拽插件实现。可以通过调用相关的方法和设置一些选项来实现拖拽效果。这种方式相对简单，不需要手动处理太多细节。</p> 
<p>vue拖拽则是结合了vue框架的特点，使用vue的指令和响应式数据来实现拖拽效果。可以通过监听元素的drag事件和相关的指令来实现拖拽，并且可以直接在模板中使用数据绑定来处理元素位置的更新。这种方式相对简洁和灵活，适合在vue项目中使用。</p> 
<p>总结来说，js原生实现拖拽相对底层，jquery拖拽相对简单，vue拖拽相对简洁和灵活。选择哪种方式取决于项目需求和个人喜好。</p> 
<p></p> 
<p></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/c47507ce89de96f0f4de9810b0f0d6ec/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">github copilot vs 通义灵码 vs 腾讯云 AI 代码助手</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/d4d31e49ff792ce76446dd636a22e477/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">GaussDB如何创建修改数据库和数据表</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>