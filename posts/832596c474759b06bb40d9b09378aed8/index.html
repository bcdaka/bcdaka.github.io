<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>NPM 常用命令 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/832596c474759b06bb40d9b09378aed8/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="NPM 常用命令">
  <meta property="og:description" content="NPM 常用命令 NPM（Node Package Manager）是 JavaScript 生态系统中最流行的包管理工具，它不仅可以管理 Node.js 项目的依赖，还提供了丰富的命令来管理和发布你的代码。本文将从不同角度，深入浅出地介绍 NPM 的常用命令和实际应用。
目录 NPM 基础 什么是 NPM安装 NPM初始化项目 (npm init) 管理依赖 安装依赖 (npm install)升级和卸载依赖 (npm update, npm uninstall)保存依赖 (--save, --save-dev) 运行脚本 定义脚本 (scripts 字段)运行脚本 (npm run)常见脚本示例 包管理 发布包 (npm publish)版本控制 (npm version)标记和发布标签 (npm tag) 配置和调试 配置 NPM (npm config)查看和设置参数 (npm get, npm set)调试 NPM (npm audit, npm cache) 1. NPM 基础 什么是 NPM NPM 是 Node.js 的包管理工具和默认的包管理器，它用于管理 JavaScript 代码包。NPM 仓库是全球最大的开源库，包含了数百万个 JavaScript 包。">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-06-25T23:36:06+08:00">
    <meta property="article:modified_time" content="2024-06-25T23:36:06+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">NPM 常用命令</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h4><a id="NPM__0"></a>NPM 常用命令</h4> 
<p>NPM（Node Package Manager）是 JavaScript 生态系统中最流行的包管理工具，它不仅可以管理 Node.js 项目的依赖，还提供了丰富的命令来管理和发布你的代码。本文将从不同角度，深入浅出地介绍 NPM 的常用命令和实际应用。</p> 
<h4><a id="_4"></a>目录</h4> 
<ol><li><a href="#1-npm-%E5%9F%BA%E7%A1%80" rel="nofollow">NPM 基础</a> 
  <ul><li>什么是 NPM</li><li>安装 NPM</li><li>初始化项目 (<code>npm init</code>)</li></ul> </li><li><a href="#2-%E7%AE%A1%E7%90%86%E4%BE%9D%E8%B5%96" rel="nofollow">管理依赖</a> 
  <ul><li>安装依赖 (<code>npm install</code>)</li><li>升级和卸载依赖 (<code>npm update</code>, <code>npm uninstall</code>)</li><li>保存依赖 (<code>--save</code>, <code>--save-dev</code>)</li></ul> </li><li><a href="#3-%E8%BF%90%E8%A1%8C%E8%84%9A%E6%9C%AC" rel="nofollow">运行脚本</a> 
  <ul><li>定义脚本 (<code>scripts</code> 字段)</li><li>运行脚本 (<code>npm run</code>)</li><li>常见脚本示例</li></ul> </li><li><a href="#4-%E5%8C%85%E7%AE%A1%E7%90%86" rel="nofollow">包管理</a> 
  <ul><li>发布包 (<code>npm publish</code>)</li><li>版本控制 (<code>npm version</code>)</li><li>标记和发布标签 (<code>npm tag</code>)</li></ul> </li><li><a href="#5-%E9%85%8D%E7%BD%AE%E5%92%8C%E8%B0%83%E8%AF%95" rel="nofollow">配置和调试</a> 
  <ul><li>配置 NPM (<code>npm config</code>)</li><li>查看和设置参数 (<code>npm get</code>, <code>npm set</code>)</li><li>调试 NPM (<code>npm audit</code>, <code>npm cache</code>)</li></ul> </li></ol> 
<hr> 
<h4><a id="1_NPM__29"></a>1. NPM 基础</h4> 
<h5><a id="_NPM_31"></a>什么是 NPM</h5> 
<p>NPM 是 Node.js 的包管理工具和默认的包管理器，它用于管理 JavaScript 代码包。NPM 仓库是全球最大的开源库，包含了数百万个 JavaScript 包。</p> 
<ul><li><strong>管理依赖</strong>：自动处理依赖的安装、升级和卸载。</li><li><strong>运行脚本</strong>：通过 <code>package.json</code> 中的 <code>scripts</code> 字段定义和运行项目任务。</li><li><strong>发布和分享</strong>：开发和发布自己的包到 NPM 仓库。</li></ul> 
<h5><a id="_NPM_39"></a>安装 NPM</h5> 
<p>NPM 通常与 Node.js 一起安装。你可以从 <a href="https://nodejs.org/" rel="nofollow">Node.js 官网</a> 下载 Node.js，它包含了 NPM。</p> 
<pre><code class="prism language-bash"><span class="token comment"># 检查是否安装了 NPM</span>
<span class="token function">npm</span> <span class="token parameter variable">-v</span>
</code></pre> 
<h5><a id="_npm_init_48"></a>初始化项目 (<code>npm init</code>)</h5> 
<p>在开始使用 NPM 之前，你需要初始化一个项目，这会创建一个 <code>package.json</code> 文件，存储项目的元数据和依赖信息。</p> 
<pre><code class="prism language-bash"><span class="token comment"># 初始化项目并交互式创建 package.json 文件</span>
<span class="token function">npm</span> init

<span class="token comment"># 使用默认值快速初始化</span>
<span class="token function">npm</span> init <span class="token parameter variable">-y</span>
</code></pre> 
<p><code>package.json</code> 文件包含了项目的名称、版本、描述、入口文件、脚本、依赖等信息。</p> 
<pre><code class="prism language-json"><span class="token punctuation">{<!-- --></span>
  <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"my-project"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"version"</span><span class="token operator">:</span> <span class="token string">"1.0.0"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"description"</span><span class="token operator">:</span> <span class="token string">"A simple NPM project"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"main"</span><span class="token operator">:</span> <span class="token string">"index.js"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string-property property">"start"</span><span class="token operator">:</span> <span class="token string">"node index.js"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">"dependencies"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">"devDependencies"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<hr> 
<h4><a id="2__78"></a>2. 管理依赖</h4> 
<p>NPM 的核心功能之一是管理项目的依赖库。这些依赖库可以是你项目所需的任何第三方包。</p> 
<h5><a id="_npm_install_82"></a>安装依赖 (<code>npm install</code>)</h5> 
<p>NPM 通过 <code>npm install</code> 命令来安装包。你可以安装单个包，也可以安装 <code>package.json</code> 中列出的所有包。</p> 
<pre><code class="prism language-bash"><span class="token comment"># 安装一个指定的包</span>
<span class="token function">npm</span> <span class="token function">install</span> lodash

<span class="token comment"># 安装并保存到 package.json 中的 dependencies</span>
<span class="token function">npm</span> <span class="token function">install</span> express <span class="token parameter variable">--save</span>

<span class="token comment"># 安装并保存到 package.json 中的 devDependencies</span>
<span class="token function">npm</span> <span class="token function">install</span> jest --save-dev

<span class="token comment"># 安装 package.json 中的所有依赖</span>
<span class="token function">npm</span> <span class="token function">install</span>
</code></pre> 
<p>执行完 <code>npm install</code> 后，所有的包都会被安装到 <code>node_modules</code> 目录中，同时 <code>package-lock.json</code> 文件会记录精确的版本信息，确保项目在不同环境下的一致性。</p> 
<h5><a id="_npm_update_npm_uninstall_102"></a>升级和卸载依赖 (<code>npm update</code>, <code>npm uninstall</code>)</h5> 
<p>你可以升级项目的依赖到最新版本，或卸载不再需要的依赖。</p> 
<pre><code class="prism language-bash"><span class="token comment"># 升级单个包到最新版本</span>
<span class="token function">npm</span> update lodash

<span class="token comment"># 升级所有包到最新版本</span>
<span class="token function">npm</span> update

<span class="token comment"># 卸载一个包</span>
<span class="token function">npm</span> uninstall lodash

<span class="token comment"># 卸载并从 package.json 中删除条目</span>
<span class="token function">npm</span> uninstall lodash <span class="token parameter variable">--save</span>
<span class="token function">npm</span> uninstall jest --save-dev
</code></pre> 
<h5><a id="_save_savedev_121"></a>保存依赖 (<code>--save</code>, <code>--save-dev</code>)</h5> 
<ul><li><strong><code>--save</code></strong>: 将依赖保存到 <code>dependencies</code> 字段，表示这些包在生产环境下也是必须的。</li><li><strong><code>--save-dev</code></strong>: 将依赖保存到 <code>devDependencies</code> 字段，表示这些包只在开发环境下需要。</li></ul> 
<pre><code class="prism language-bash"><span class="token comment"># 安装并保存到生产依赖</span>
<span class="token function">npm</span> <span class="token function">install</span> express <span class="token parameter variable">--save</span>

<span class="token comment"># 安装并保存到开发依赖</span>
<span class="token function">npm</span> <span class="token function">install</span> jest --save-dev
</code></pre> 
<hr> 
<h4><a id="3__136"></a>3. 运行脚本</h4> 
<p>NPM 允许在 <code>package.json</code> 中定义脚本，用于自动化常见的开发任务。</p> 
<h5><a id="_scripts__140"></a>定义脚本 (<code>scripts</code> 字段)</h5> 
<p>在 <code>package.json</code> 中，你可以通过 <code>scripts</code> 字段定义各种命令脚本。这些脚本可以通过 <code>npm run</code> 运行。</p> 
<pre><code class="prism language-json"><span class="token punctuation">{<!-- --></span>
  <span class="token string-property property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string-property property">"start"</span><span class="token operator">:</span> <span class="token string">"node index.js"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"test"</span><span class="token operator">:</span> <span class="token string">"jest"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"build"</span><span class="token operator">:</span> <span class="token string">"webpack"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"lint"</span><span class="token operator">:</span> <span class="token string">"eslint ."</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h5><a id="_npm_run_155"></a>运行脚本 (<code>npm run</code>)</h5> 
<p>要运行定义的脚本，可以使用 <code>npm run &lt;script-name&gt;</code>。</p> 
<pre><code class="prism language-bash"><span class="token comment"># 运行 start 脚本</span>
<span class="token function">npm</span> run start

<span class="token comment"># 运行 test 脚本</span>
<span class="token function">npm</span> run <span class="token builtin class-name">test</span>

<span class="token comment"># 运行 build 脚本</span>
<span class="token function">npm</span> run build
</code></pre> 
<p>对于 <code>start</code> 和 <code>test</code> 脚本，你可以省略 <code>run</code> 关键字，直接运行 <code>npm start</code> 或 <code>npm test</code>。</p> 
<h5><a id="_172"></a>常见脚本示例</h5> 
<p>一些常见的脚本定义和用途包括：</p> 
<ul><li> <p><strong>启动服务器</strong>：</p> <pre><code class="prism language-json"><span class="token string-property property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
  <span class="token string-property property">"start"</span><span class="token operator">:</span> <span class="token string">"node server.js"</span>
<span class="token punctuation">}</span>
</code></pre> </li><li> <p><strong>运行测试</strong>：</p> <pre><code class="prism language-json"><span class="token string-property property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
  <span class="token string-property property">"test"</span><span class="token operator">:</span> <span class="token string">"jest"</span>
<span class="token punctuation">}</span>
</code></pre> </li><li> <p><strong>构建项目</strong>：</p> <pre><code class="prism language-json"><span class="token string-property property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
  <span class="token string-property property">"build"</span><span class="token operator">:</span> <span class="token string">"webpack --mode production"</span>
<span class="token punctuation">}</span>
</code></pre> </li><li> <p><strong>代码风格检查</strong>：</p> <pre><code class="prism language-json"><span class="token string-property property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
  <span class="token string-property property">"lint"</span><span class="token operator">:</span> <span class="token string">"eslint ."</span>
<span class="token punctuation">}</span>
</code></pre> </li></ul> 
<hr> 
<h4><a id="4__206"></a>4. 包管理</h4> 
<p>NPM 不仅是一个依赖管理工具，还可以用于发布和管理自己的 JavaScript 包。</p> 
<h5><a id="_npm_publish_210"></a>发布包 (<code>npm publish</code>)</h5> 
<p>发布包到 NPM 仓库，让其他开发者可以安装和使用。</p> 
<pre><code class="prism language-bash"><span class="token comment"># 确保已经登录到 NPM</span>
<span class="token function">npm</span> login

<span class="token comment"># 发布当前目录下的包</span>
<span class="token function">npm</span> publish
</code></pre> 
<p>发布之前，请确保 <code>package.json</code> 文件配置正确，并且已经完成代码的所有必要准备工作。</p> 
<h5><a id="_npm_version_224"></a>版本控制 (<code>npm version</code>)</h5> 
<p>使用 <code>npm version</code> 命令可以自动更新 <code>package.json</code> 中的版本号，并为代码打上 Git 标签。</p> 
<pre><code class="prism language-bash"><span class="token comment"># 更新补丁版本 (1.0.0 -&gt; 1.0.1)</span>
<span class="token function">npm</span> version patch

<span class="token comment"># 更新次版本号 (1.0.0 -&gt; 1.1.0)</span>
<span class="token function">npm</span> version minor

<span class="token comment"># 更新主版本号 (1.0.0 -&gt; 2.0.0)</span>
<span class="token function">npm</span> version major
</code></pre> 
<h5><a id="_npm_tag_239"></a>标记和发布标签 (<code>npm tag</code>)</h5> 
<p>在发布包时，你可以为不同版本的包打上标签，以便于管理和区分。</p> 
<pre><code class="prism language-bash"><span class="token comment"># 为当前版本添加一个标签</span>
<span class="token function">npm</span> tag <span class="token function">add</span> my-package@1.0.0 beta

<span class="token comment"># 查看包的所有标签</span>
<span class="token function">npm</span> dist-tag <span class="token function">ls</span> my-package
</code></pre> 
<hr> 
<h4><a id="5__253"></a>5. 配置和调试</h4> 
<p>NPM 提供了一系列的命令，用于配置和调试 NPM 及其行为。</p> 
<h5><a id="_NPM_npm_config_257"></a>配置 NPM (<code>npm config</code>)</h5> 
<p>NPM 使用 <code>.npmrc</code> 文件存储配置，你可以通过 <code>npm config</code> 命令查看和修改这些配置。</p> 
<pre><code class="prism language-bash"><span class="token comment"># 查看所有配置</span>
<span class="token function">npm</span> config list

<span class="token comment"># 设置配置项</span>
<span class="token function">npm</span> config <span class="token builtin class-name">set</span> registry https://registry.npmjs.org/

<span class="token comment"># 获取配置项的值</span>
<span class="token function">npm</span> config get registry
</code></pre> 
<h5><a id="_npm_get_npm_set_272"></a>查看和设置参数 (<code>npm get</code>, <code>npm set</code>)</h5> 
<p><code>npm get</code> 和 <code>npm set</code> 命令允许你查看和设置单个配置项。</p> 
<pre><code class="prism language-bash"><span class="token comment"># 获取 registry 的值</span>
<span class="token function">npm</span> get registry

<span class="token comment"># 设置 registry 的值</span>
<span class="token function">npm</span> <span class="token builtin class-name">set</span> registry https://registry.npmjs.org/
</code></pre> 
<h5><a id="_NPM_npm_audit_npm_cache_284"></a>调试 NPM (<code>npm audit</code>, <code>npm cache</code>)</h5> 
<p>NPM 提供了一些调试和优化命令，帮助你保持项目的健康和性能。</p> 
<pre><code class="prism language-bash"><span class="token comment"># 检查项目中的安全漏洞</span>
<span class="token function">npm</span> audit

<span class="token comment"># 修复可用的安全漏洞</span>
<span class="token function">npm</span> audit fix

<span class="token comment"># 清除 NPM 缓存</span>
<span class="token function">npm</span> cache clean <span class="token parameter variable">--force</span>
</code></pre> 
<p>这些命令帮助你识别和解决项目中的潜在问题，保持项目的健壮性和安全性。</p> 
<hr> 
<h4><a id="_303"></a>总结</h4> 
<p>NPM 是一个强大的工具</p> 
<p>，不仅仅是一个包管理器，它提供了从依赖管理、脚本执行、包发布到配置和调试的一整套功能。掌握这些常用的 NPM 命令和实践，能够极大地提高你在 JavaScript 项目开发中的效率和生产力。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ca66d3654e472099e42f319f915c822c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">RabbitMQ实践——超时消息的处理方法</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c5850cc302de4d50983cc7ee3109e94b/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">elasticsearch 聚合 : 指标聚合、桶聚合、管道聚合解析使用总结</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>