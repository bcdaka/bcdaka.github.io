<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>ã€åˆ†å¸ƒå¼æµæ§ç»„ä»¶ Sentinel å¿«é€Ÿå…¥é—¨ã€‘â€”â€”å›¾æ–‡è¯¦è§£æ“ä½œæµç¨‹ - ç¼–ç¨‹å¤§å’–</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/530d69863786cefb0b41d58f90934ff3/">
  <meta property="og:site_name" content="ç¼–ç¨‹å¤§å’–">
  <meta property="og:title" content="ã€åˆ†å¸ƒå¼æµæ§ç»„ä»¶ Sentinel å¿«é€Ÿå…¥é—¨ã€‘â€”â€”å›¾æ–‡è¯¦è§£æ“ä½œæµç¨‹">
  <meta property="og:description" content="ğŸ’§ åˆ†å¸ƒå¼æµæ§ç»„ä»¶ S e n t i n e l å¿«é€Ÿå…¥é—¨ \color{#FF1493}{åˆ†å¸ƒå¼æµæ§ç»„ä»¶ Sentinel å¿«é€Ÿå…¥é—¨} åˆ†å¸ƒå¼æµæ§ç»„ä»¶Sentinelå¿«é€Ÿå…¥é—¨ğŸ’§ ğŸŒ· ä»°æœ›å¤©ç©ºï¼Œå¦³æˆ‘äº¦æ˜¯è¡Œäºº.âœ¨
ğŸ¦„ ä¸ªäººä¸»é¡µâ€”â€”å¾®é£æ’è§äº‘çš„åšå®¢ğŸ
ğŸ³ ã€Šæ•°æ®ç»“æ„ä¸ç®—æ³•ã€‹ä¸“æ çš„æ–‡ç« å›¾æ–‡å¹¶èŒ‚ğŸ¦•ç”ŸåŠ¨å½¢è±¡ğŸ¦–ç®€å•æ˜“å­¦ï¼æ¬¢è¿å¤§å®¶æ¥è¸©è¸©~ğŸŒº
ğŸ’§ ã€ŠJavaå­¦ä¹ ç¬”è®°ã€‹ä¸“æ çš„æ–‡ç« æ˜¯æœ¬äººåœ¨Javaå­¦ä¹ ä¸­æ€»ç»“çš„ä¸€äº›çŸ¥è¯†ç‚¹~ ğŸ’
ğŸ¥£ ã€Šæ¯å¤©ä¸€ç‚¹å°çŸ¥è¯†ã€‹ä¸“æ çš„æ–‡ç« å¯ä»¥ä¸°å¯Œä½ çš„çŸ¥è¯†åº“ï¼Œæ»´æ°´æˆæ²³~ ğŸŒŠ
ğŸ ã€ŠRedisã€‹ä¸“æ çš„æ–‡ç« æ˜¯åœ¨å­¦ä¹ Redisæ—¶ï¼Œæ•´ç†çš„ç¬”è®°ä¸è®°å½•çš„æ€è€ƒ~ ğŸ¥
ğŸ¥• ã€ŠRabbitMQã€‹ä¸“æ çš„æ–‡ç« æ˜¯åœ¨å­¦ä¹ å°šç¡…è°·è¯¾ç¨‹æ—¶æ•´ç†çš„ç¬”è®°ï¼Œæ–¹ä¾¿å¤ä¹ å·©å›º~ ğŸ‘
ğŸª å¸Œæœ›æœ¬æ–‡èƒ½å¤Ÿç»™è¯»è€…å¸¦æ¥ä¸€å®šçš„å¸®åŠ©~ğŸŒ¸æ–‡ç« ç²—æµ…ï¼Œæ•¬è¯·æ‰¹è¯„æŒ‡æ­£ï¼ğŸ¥
æ–‡ç« ç›®å½• ğŸ³Sentinelå¿«é€Ÿå…¥é—¨ï¼šå›¾æ–‡è®²è§£æ“ä½œæµç¨‹1. Sentinelç®€ä»‹2. å®‰è£…Sentinelæ§åˆ¶å°3. @SentinelResourceæ³¨è§£4. Sentinelçš„ä½¿ç”¨é…ç½®5. Sentinelæµæ§è§„åˆ™6. SentinelæœåŠ¡é™çº§7. Sentinelçƒ­ç‚¹keyé™æµ8. Sentinelç³»ç»Ÿè§„åˆ™9. æ€»ç»“ ğŸ³ç»“è¯­ ğŸ³Sentinelå¿«é€Ÿå…¥é—¨ï¼šå›¾æ–‡è®²è§£æ“ä½œæµç¨‹ 1. Sentinelç®€ä»‹ Sentinelæ˜¯é˜¿é‡Œå·´å·´å¼€æºçš„åˆ†å¸ƒå¼ç³»ç»Ÿçš„æµé‡æ§åˆ¶ç»„ä»¶ï¼Œæ—¨åœ¨ä¿æŠ¤åˆ†å¸ƒå¼ç³»ç»Ÿåœ¨é«˜å¹¶å‘å’Œæ•…éšœæƒ…å†µä¸‹çš„ç¨³å®šæ€§ã€‚å®ƒæä¾›äº†å®æ—¶çš„æµé‡æ§åˆ¶ã€ç†”æ–­é™çº§ã€ç³»ç»Ÿè´Ÿè½½ä¿æŠ¤ç­‰åŠŸèƒ½ï¼Œæ˜¯å¾®æœåŠ¡æ¶æ„ä¸­ä¸å¯æˆ–ç¼ºçš„ä¸€ç¯ã€‚
2. å®‰è£…Sentinelæ§åˆ¶å° ğŸ’§Sentinelæ§åˆ¶å°æ˜¯Sentinelçš„ç®¡ç†å·¥å…·ï¼Œå¯ä»¥å¸®åŠ©æ‚¨ç›‘æ§å’Œç®¡ç†Sentinelçš„å„ç§è§„åˆ™å’Œé™åˆ¶ã€‚å®‰è£…æ­¥éª¤å¦‚ä¸‹ï¼š
ä¸‹è½½Sentinelæ§åˆ¶å°çš„jaråŒ…è¿è¡Œå‘½ä»¤ï¼šjava -jar sentinel-dashboard-xxx.jar å¯åŠ¨nacosä½œä¸ºæœåŠ¡æ³¨å†Œä¸­å¿ƒ 3. @SentinelResourceæ³¨è§£ ğŸ’§æ³¨è§£@SentinelResourceç”¨äºæ ‡è®°å—Sentinelä¿æŠ¤çš„èµ„æºï¼Œå¯ä»¥å®šä¹‰èµ„æºçš„é™æµå’Œé™çº§ç­–ç•¥ã€‚
@SentinelResource(value = &#34;protectedResource&#34;, blockHandler = &#34;handleBlock&#34;, fallback = &#34;">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2023-08-05T19:00:53+08:00">
    <meta property="article:modified_time" content="2023-08-05T19:00:53+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ç¼–ç¨‹å¤§å’–" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ç¼–ç¨‹å¤§å’–</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">ã€åˆ†å¸ƒå¼æµæ§ç»„ä»¶ Sentinel å¿«é€Ÿå…¥é—¨ã€‘â€”â€”å›¾æ–‡è¯¦è§£æ“ä½œæµç¨‹</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><img src="https://images2.imgbox.com/6c/88/WYVnaeCM_o.gif" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <strong>ğŸ’§<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
         
          
          
            åˆ†å¸ƒå¼æµæ§ç»„ä»¶ 
           
          
            S 
           
          
            e 
           
          
            n 
           
          
            t 
           
          
            i 
           
          
            n 
           
          
            e 
           
          
            l 
           
          
            å¿«é€Ÿå…¥é—¨ 
           
          
         
        
       
         \color{#FF1493}{åˆ†å¸ƒå¼æµæ§ç»„ä»¶ Sentinel å¿«é€Ÿå…¥é—¨} 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6944em;"></span><span class="mord" style="color: rgb(255, 20, 147);"><span class="mord cjk_fallback" style="color: rgb(255, 20, 147);">åˆ†å¸ƒå¼æµæ§ç»„ä»¶</span><span class="mord mathnormal" style="margin-right: 0.0576em; color: rgb(255, 20, 147);">S</span><span class="mord mathnormal" style="color: rgb(255, 20, 147);">e</span><span class="mord mathnormal" style="color: rgb(255, 20, 147);">n</span><span class="mord mathnormal" style="color: rgb(255, 20, 147);">t</span><span class="mord mathnormal" style="color: rgb(255, 20, 147);">in</span><span class="mord mathnormal" style="color: rgb(255, 20, 147);">e</span><span class="mord mathnormal" style="margin-right: 0.0197em; color: rgb(255, 20, 147);">l</span><span class="mord cjk_fallback" style="color: rgb(255, 20, 147);">å¿«é€Ÿå…¥é—¨</span></span></span></span></span></span>ğŸ’§</strong> Â Â Â Â Â Â Â Â Â </p> 
<hr> 
<blockquote> 
 <p>ğŸŒ· <strong>ä»°æœ›å¤©ç©ºï¼Œå¦³æˆ‘äº¦æ˜¯è¡Œäºº.âœ¨</strong><br> ğŸ¦„ <strong>ä¸ªäººä¸»é¡µâ€”â€”<a href="https://blog.csdn.net/qq_58035032?type=blog">å¾®é£æ’è§äº‘çš„åšå®¢</a>ğŸ<br> ğŸ³ <a href="http://t.csdn.cn/wgThp" rel="nofollow">ã€Šæ•°æ®ç»“æ„ä¸ç®—æ³•ã€‹</a>ä¸“æ çš„æ–‡ç« å›¾æ–‡å¹¶èŒ‚ğŸ¦•ç”ŸåŠ¨å½¢è±¡ğŸ¦–ç®€å•æ˜“å­¦ï¼æ¬¢è¿å¤§å®¶æ¥è¸©è¸©~ğŸŒº<br> ğŸ’§ <a href="http://t.csdn.cn/SK8uw" rel="nofollow">ã€ŠJavaå­¦ä¹ ç¬”è®°ã€‹</a>ä¸“æ çš„æ–‡ç« æ˜¯æœ¬äººåœ¨Javaå­¦ä¹ ä¸­æ€»ç»“çš„ä¸€äº›çŸ¥è¯†ç‚¹~ ğŸ’<br> ğŸ¥£ <a href="http://t.csdn.cn/eBAKI" rel="nofollow">ã€Šæ¯å¤©ä¸€ç‚¹å°çŸ¥è¯†ã€‹</a>ä¸“æ çš„æ–‡ç« å¯ä»¥ä¸°å¯Œä½ çš„çŸ¥è¯†åº“ï¼Œæ»´æ°´æˆæ²³~ ğŸŒŠ<br> ğŸ<a href="http://t.csdn.cn/6iFsr" rel="nofollow"> ã€ŠRedisã€‹</a>ä¸“æ çš„æ–‡ç« æ˜¯åœ¨å­¦ä¹ Redisæ—¶ï¼Œæ•´ç†çš„ç¬”è®°ä¸è®°å½•çš„æ€è€ƒ~ ğŸ¥<br> ğŸ¥•<a href="http://t.csdn.cn/NnSch" rel="nofollow"> ã€ŠRabbitMQã€‹</a>ä¸“æ çš„æ–‡ç« æ˜¯åœ¨å­¦ä¹ å°šç¡…è°·è¯¾ç¨‹æ—¶æ•´ç†çš„ç¬”è®°ï¼Œæ–¹ä¾¿å¤ä¹ å·©å›º~ ğŸ‘<br> ğŸª å¸Œæœ›æœ¬æ–‡èƒ½å¤Ÿç»™è¯»è€…å¸¦æ¥ä¸€å®šçš„å¸®åŠ©~ğŸŒ¸æ–‡ç« ç²—æµ…ï¼Œæ•¬è¯·æ‰¹è¯„æŒ‡æ­£ï¼ğŸ¥</strong></p> 
</blockquote> 
<hr> 
<p></p> 
<div class="toc"> 
 <h4>æ–‡ç« ç›®å½•</h4> 
 <ul><li><a href="#Sentinel_24" rel="nofollow">ğŸ³Sentinelå¿«é€Ÿå…¥é—¨ï¼šå›¾æ–‡è®²è§£æ“ä½œæµç¨‹</a></li><li><ul><li><a href="#1_Sentinel_26" rel="nofollow">1. Sentinelç®€ä»‹</a></li><li><a href="#2_Sentinel_33" rel="nofollow">2. å®‰è£…Sentinelæ§åˆ¶å°</a></li><li><a href="#3_SentinelResource_46" rel="nofollow">3. @SentinelResourceæ³¨è§£</a></li><li><a href="#4_Sentinel_65" rel="nofollow">4. Sentinelçš„ä½¿ç”¨é…ç½®</a></li><li><a href="#5_Sentinel_195" rel="nofollow">5. Sentinelæµæ§è§„åˆ™</a></li><li><a href="#6_Sentinel_282" rel="nofollow">6. SentinelæœåŠ¡é™çº§</a></li><li><a href="#7_Sentinelkey_319" rel="nofollow">7. Sentinelçƒ­ç‚¹keyé™æµ</a></li><li><a href="#8_Sentinel_359" rel="nofollow">8. Sentinelç³»ç»Ÿè§„åˆ™</a></li><li><a href="#9__494" rel="nofollow">9. æ€»ç»“</a></li></ul> 
  </li><li><a href="#_502" rel="nofollow">ğŸ³ç»“è¯­</a></li></ul> 
</div> 
<p></p> 
<hr> 
<h2><a id="Sentinel_24"></a>ğŸ³Sentinelå¿«é€Ÿå…¥é—¨ï¼šå›¾æ–‡è®²è§£æ“ä½œæµç¨‹</h2> 
<h3><a id="1_Sentinel_26"></a>1. Sentinelç®€ä»‹</h3> 
<p><em>Sentinelæ˜¯é˜¿é‡Œå·´å·´å¼€æºçš„åˆ†å¸ƒå¼ç³»ç»Ÿçš„æµé‡æ§åˆ¶ç»„ä»¶ï¼Œæ—¨åœ¨ä¿æŠ¤åˆ†å¸ƒå¼ç³»ç»Ÿåœ¨é«˜å¹¶å‘å’Œæ•…éšœæƒ…å†µä¸‹çš„ç¨³å®šæ€§ã€‚å®ƒæä¾›äº†å®æ—¶çš„æµé‡æ§åˆ¶ã€ç†”æ–­é™çº§ã€ç³»ç»Ÿè´Ÿè½½ä¿æŠ¤ç­‰åŠŸèƒ½ï¼Œæ˜¯å¾®æœåŠ¡æ¶æ„ä¸­ä¸å¯æˆ–ç¼ºçš„ä¸€ç¯ã€‚</em></p> 
<p><img src="https://images2.imgbox.com/f2/05/DYIv2FsF_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h3><a id="2_Sentinel_33"></a>2. å®‰è£…Sentinelæ§åˆ¶å°</h3> 
<p>ğŸ’§<strong>Sentinelæ§åˆ¶å°æ˜¯Sentinelçš„ç®¡ç†å·¥å…·ï¼Œå¯ä»¥å¸®åŠ©æ‚¨ç›‘æ§å’Œç®¡ç†Sentinelçš„å„ç§è§„åˆ™å’Œé™åˆ¶ã€‚å®‰è£…æ­¥éª¤å¦‚ä¸‹ï¼š</strong></p> 
<ul><li>ä¸‹è½½Sentinelæ§åˆ¶å°çš„jaråŒ…</li><li>è¿è¡Œå‘½ä»¤ï¼š<code>java -jar sentinel-dashboard-xxx.jar</code></li></ul> 
<p><img src="https://images2.imgbox.com/5d/e0/YPlRv1D9_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<ul><li>å¯åŠ¨nacosä½œä¸ºæœåŠ¡æ³¨å†Œä¸­å¿ƒ</li></ul> 
<p><img src="https://images2.imgbox.com/7f/93/BaiGAXCe_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h3><a id="3_SentinelResource_46"></a>3. @SentinelResourceæ³¨è§£</h3> 
<p>ğŸ’§<strong>æ³¨è§£@SentinelResourceç”¨äºæ ‡è®°å—Sentinelä¿æŠ¤çš„èµ„æºï¼Œå¯ä»¥å®šä¹‰èµ„æºçš„é™æµå’Œé™çº§ç­–ç•¥ã€‚</strong></p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@SentinelResource</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"protectedResource"</span><span class="token punctuation">,</span> blockHandler <span class="token operator">=</span> <span class="token string">"handleBlock"</span><span class="token punctuation">,</span> fallback <span class="token operator">=</span> <span class="token string">"handleFallback"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">protectedResource</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// å¤„ç†å—ä¿æŠ¤çš„èµ„æºé€»è¾‘</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">handleBlock</span><span class="token punctuation">(</span><span class="token class-name">BlockException</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// å¤„ç†æµæ§é€»è¾‘</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">handleFallback</span><span class="token punctuation">(</span><span class="token class-name">Throwable</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// å¤„ç†é™çº§é€»è¾‘</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="4_Sentinel_65"></a>4. Sentinelçš„ä½¿ç”¨é…ç½®</h3> 
<p>ğŸ’§<strong>åœ¨ä½¿ç”¨Sentinelä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦åœ¨åº”ç”¨ç¨‹åºä¸­è¿›è¡Œé…ç½®ã€‚ä¾‹å¦‚ï¼Œåœ¨Spring Cloudé¡¹ç›®ä¸­ï¼Œæ·»åŠ Sentinelçš„ä¾èµ–ï¼Œå¹¶é…ç½®ç›¸å…³å‚æ•°ã€‚é€šå¸¸éœ€è¦ç»“åˆnacosä¸€èµ·ä½¿ç”¨ï¼š</strong></p> 
<pre><code class="prism language-xml">	    <span class="token comment">&lt;!--SpringCloud ailibaba nacos --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.alibaba.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-alibaba-nacos-discovery<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--SpringCloud ailibaba sentinel --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.alibaba.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-alibaba-sentinel<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

</code></pre> 
<p>ğŸ’§<strong>ç„¶åï¼Œåœ¨<code>application.yml</code>ä¸­é…ç½®Sentinelç›¸å…³å‚æ•°ï¼Œè¿™æ ·ï¼Œnacos8080 å°†ä¼šç›‘æ§ 8401æœåŠ¡</strong></p> 
<pre><code class="prism language-yaml"><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8401</span>

<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> cloudalibaba<span class="token punctuation">-</span>sentinel<span class="token punctuation">-</span>service
  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>
    <span class="token key atrule">nacos</span><span class="token punctuation">:</span>
      <span class="token key atrule">discovery</span><span class="token punctuation">:</span>
        <span class="token key atrule">server-addr</span><span class="token punctuation">:</span> localhost<span class="token punctuation">:</span><span class="token number">8848</span> <span class="token comment">#NacosæœåŠ¡æ³¨å†Œä¸­å¿ƒåœ°å€</span>
    <span class="token key atrule">sentinel</span><span class="token punctuation">:</span>
      <span class="token key atrule">transport</span><span class="token punctuation">:</span>
        <span class="token key atrule">dashboard</span><span class="token punctuation">:</span> localhost<span class="token punctuation">:</span><span class="token number">8080</span> <span class="token comment">#é…ç½®Sentinel dashboardåœ°å€</span>
        <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8719</span>
      <span class="token key atrule">datasource</span><span class="token punctuation">:</span> <span class="token comment">#&lt;---------------------------å…³æ³¨ç‚¹ï¼Œæ·»åŠ Nacosæ•°æ®æºé…ç½®</span>
        <span class="token key atrule">ds1</span><span class="token punctuation">:</span>
          <span class="token key atrule">nacos</span><span class="token punctuation">:</span>
            <span class="token key atrule">server-addr</span><span class="token punctuation">:</span> localhost<span class="token punctuation">:</span><span class="token number">8848</span>
            <span class="token key atrule">dataId</span><span class="token punctuation">:</span> cloudalibaba<span class="token punctuation">-</span>sentinel<span class="token punctuation">-</span>service
            <span class="token key atrule">groupId</span><span class="token punctuation">:</span> DEFAULT_GROUP
            <span class="token key atrule">data-type</span><span class="token punctuation">:</span> json
            <span class="token key atrule">rule-type</span><span class="token punctuation">:</span> flow
</code></pre> 
<p>ğŸ’§<strong>æ·»åŠ å‡ ä¸ªæ–¹æ³•ç”¨äºæµ‹è¯•</strong></p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@Slf4j</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FlowLimitController</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/testA"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">testA</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
       <span class="token comment">/* try {
            TimeUnit.MILLISECONDS.sleep(800);
        } catch (InterruptedException e) {
            e.printStackTrace();
        }*/</span>
        <span class="token keyword">return</span> <span class="token string">"------testA"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/testB"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">testB</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"\t"</span> <span class="token operator">+</span> <span class="token string">"...testB"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">"------testB"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/testD"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">testD</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span><span class="token constant">SECONDS</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"testD æµ‹è¯•RT"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">"------testD"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/testE"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">testE</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"testE æµ‹è¯•å¼‚å¸¸æ•°"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> age <span class="token operator">=</span> <span class="token number">10</span> <span class="token operator">/</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">"------testE æµ‹è¯•å¼‚å¸¸æ•°"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/testHotKey"</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@SentinelResource</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"testHotKey"</span><span class="token punctuation">,</span> blockHandler<span class="token comment">/*å…œåº•æ–¹æ³•*/</span> <span class="token operator">=</span> <span class="token string">"deal_testHotKey"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">testHotKey</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"p1"</span><span class="token punctuation">,</span> required <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token class-name">String</span> p1<span class="token punctuation">,</span>
                             <span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"p2"</span><span class="token punctuation">,</span> required <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token class-name">String</span> p2<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">//int age = 10/0;</span>
        <span class="token keyword">return</span> <span class="token string">"------testHotKey"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/*å…œåº•æ–¹æ³•*/</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">deal_testHotKey</span><span class="token punctuation">(</span><span class="token class-name">String</span> p1<span class="token punctuation">,</span> <span class="token class-name">String</span> p2<span class="token punctuation">,</span> <span class="token class-name">BlockException</span> exception<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token string">"------deal_testHotKey,o(â•¥ï¹â•¥)o"</span><span class="token punctuation">;</span>  <span class="token comment">//sentinelç³»ç»Ÿé»˜è®¤çš„æç¤ºï¼šBlocked by Sentinel (flow limiting)</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre> 
<p>ğŸ’§<strong>è¿è¡Œä¸»å¯åŠ¨ç±»</strong></p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@EnableDiscoveryClient</span>
<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainApp8401</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">MainApp8401</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>ğŸ’§<strong>è®¿é—®æ§åˆ¶å°ï¼š<code>http://localhost:8080</code> ï¼Œé»˜è®¤è´¦å·å¯†ç å‡ä¸ºï¼š <code>sentinel</code></strong></p> 
<p><img src="https://images2.imgbox.com/f2/76/LTt2F72b_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>ğŸ’§<strong>ç”±äºSentinelé‡‡ç”¨äº†æ‡’åŠ è½½æœºåˆ¶ï¼Œæˆ‘ä»¬ä¸è®¿é—®URLçš„è¯æ˜¯ä¸ä¼šå‡ºç°ç›‘æ§æœåŠ¡çš„</strong></p> 
<p>ğŸ’§<strong>è®¿é—® <code>http://localhost:8401/testA</code> å¤šåˆ·å‡ æ¬¡çœ‹çœ‹æ•ˆæœ</strong></p> 
<p><img src="https://images2.imgbox.com/8e/fb/0sd06bKK_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>ğŸ’§<strong>åˆ·æ–°sentinel,è§‚å¯Ÿç»“æœ</strong></p> 
<p><img src="https://images2.imgbox.com/8f/be/7S1P8VmZ_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>ğŸ’§<strong>ç°‡ç‚¹é“¾è·¯éƒ¨åˆ†å¯ä»¥çœ‹åˆ°æˆ‘ä»¬è®¿é—®è¿‡çš„URLå¯¹åº”çš„æ–¹æ³•</strong></p> 
<p><img src="https://images2.imgbox.com/f7/f8/dgu4sDxw_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h3><a id="5_Sentinel_195"></a>5. Sentinelæµæ§è§„åˆ™</h3> 
<p>ğŸ’§<strong>æµæ§è§„åˆ™ç”¨äºé™åˆ¶èµ„æºçš„è®¿é—®é€Ÿç‡ï¼Œé˜²æ­¢ç³»ç»Ÿè¢«è¿‡å¤šè¯·æ±‚æ‹–å®ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥è®¾ç½®ä¸€ä¸ªAPIåœ¨ä¸€åˆ†é’Ÿå†…æœ€å¤šåªèƒ½å¤„ç†100ä¸ªè¯·æ±‚ï¼š</strong></p> 
<ul><li>èµ„æºå:å”¯ä¸€åç§°ã€‚é»˜è®¤è¯·æ±‚è·¯å¾„</li><li>é’ˆå¯¹æ¥æº: Sentinelå¯ä»¥é’ˆå¯¹è°ƒç”¨è€…è¿›è¡Œé™æµï¼Œå¡«å†™å¾®æœåŠ¡åï¼Œé»˜è®¤default(ä¸åŒºåˆ†æ¥æº)</li><li>é˜ˆå€¼ç±»å‹/å•æœºé˜”å€¼: 
  <ul><li>QPS(æ¯ç§’é’Ÿçš„è¯·æ±‚æ•°é‡):å½“è°ƒç”¨è¯¥apiçš„QPSè¾¾åˆ°é˜”å€¼çš„æ—¶å€™ï¼Œè¿›è¡Œé™æµã€‚</li><li>çº¿é’±ç¨‹æ•°:å½“è°ƒç”¨è¯¥apiä¼¯9ç¾ç¨‹æ•°è®¤åˆ°é˜ˆå€¼çš„æ—¶å€™ã€‚è¿›è¡Œé™æµ</li></ul> </li><li>æ˜¯å¦é›†ç¾¤:ä¸éœ€è¦é›†ç¾¤</li><li>æµæ§æ¨¡å¼: 
  <ul><li>ç›´æ¥: apiè¾¾åˆ°é™æµå°”ä»¶æ—¶ï¼Œç›´æ¥é™æµ</li><li>å…³è”:å½“å…³è”çš„èµ„æºè¾¾åˆ°é˜”å€¼æ—¶ã€‚å°±é™æµè‡ªå·±</li><li>é“¾è·¯:åªè®°å½•æŒ‡å®šé“¾è·¯ä¸Šçš„æµé‡(æŒ‡å®šèµ„æºä»å…¥å£èµ„æºè¿›æ¥çš„æµé‡ï¼Œå¦‚æœè¾¾åˆ°é˜ˆå€¼ï¼Œå°±è¿›è¡Œé™æµ)ã€apiçº§åˆ«çš„é’ˆå¯¹æ¥æºã€‘</li></ul> </li><li>æµæ§æ•ˆæœ: 
  <ul><li>å¿«é€Ÿå¤±è´¥:ç›´æ¥å¤±è´¥,æŠ›å¼‚å¸¸</li><li>Warm up:æ ¹æ®codeFactor (å†·åŠ è½½å› å­ï¼Œé»˜è®¤3)çš„å€¼ï¼Œä»é˜ˆå€¼/codeFactorï¼Œç»è¿‡é¢„çƒ­æ—¶é•¿ï¼Œæ‰è¾¾åˆ°è®¾ç½®çš„QPSé˜ˆå€¼ã€‚</li></ul> </li></ul> 
<p>ğŸ’§<strong>æ·»åŠ æµæ§è§„åˆ™</strong></p> 
<ul><li>æ–¹æ³•1</li></ul> 
<p><img src="https://images2.imgbox.com/5f/cd/FexWZRAj_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<ul><li>æ–¹æ³•2</li></ul> 
<p><img src="https://images2.imgbox.com/6f/89/MAHjOuUx_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>ğŸ’§<strong>æ–°å¢æµæ§è§„åˆ™</strong></p> 
<p><img src="https://images2.imgbox.com/ab/f3/HGodxld2_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> <img src="https://images2.imgbox.com/c8/b2/AQ1naPRM_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>ğŸ’§<strong>å†æ¬¡è®¿é—® http://localhost:8401/testA æ¯ç§’ç‚¹ä¸¤æ¬¡ï¼Œç›´æ¥é™æµ</strong></p> 
<p><img src="https://images2.imgbox.com/a9/cd/830jE7b6_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>ğŸ’§<strong>ä¿®æ”¹è§„åˆ™</strong></p> 
<p><img src="https://images2.imgbox.com/d9/1c/nnbW0HVW_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>ğŸ’§<strong>ä¿®æ”¹ä»£ç </strong></p> 
<p><img src="https://images2.imgbox.com/cc/26/eDvC9NRS_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>ğŸ’§<strong>å¼€ä¸¤ä¸ªçº¿ç¨‹ï¼Œåˆ†åˆ«ç‹‚ç‚¹</strong></p> 
<p><img src="https://images2.imgbox.com/a8/a7/Eg1YxGyS_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>ğŸ’§<strong>å†æ¬¡é™æµ</strong></p> 
<p><img src="https://images2.imgbox.com/32/08/Onu2U3d2_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>ğŸ’§<strong>å½“å…³è”èµ„æº/testBçš„qpsé˜€å€¼è¶…è¿‡1æ—¶ï¼Œå°±é™æµ/testAçš„Restè®¿é—®åœ°å€</strong></p> 
<p><img src="https://images2.imgbox.com/16/3c/6b2o44uP_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>ğŸ’§<strong>ä½¿ç”¨postman æ¨¡æ‹Ÿè¿ç»­å¯†é›†è®¿é—®testB</strong></p> 
<p>ğŸ’§<strong>æ–°å»ºcollection</strong></p> 
<p><img src="https://images2.imgbox.com/1a/c9/vvOSbbzq_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>ğŸ’§<strong>ç‚¹å‡»Run é…ç½®å‘é€è§„åˆ™</strong></p> 
<p><img src="https://images2.imgbox.com/0f/02/ZEgrAgR4_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> <img src="https://images2.imgbox.com/99/08/apZlKFm1_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> <img src="https://images2.imgbox.com/4c/95/vPX66tSb_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>ğŸ’§<strong>æ­¤æ—¶è®¿é—®testAï¼Œå‘ç°å·²ç»æŒ‚äº†ï¼Œäº§ç”Ÿäº†è¿åæ•ˆåº”</strong></p> 
<p><img src="https://images2.imgbox.com/84/eb/FwDXqO12_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>ğŸ’§<strong>é¢„çƒ­å†·å¯åŠ¨ï¼Œæ•ˆæœï¼šåˆšå¼€å§‹ç‚¹å¤ªå¿«ä¸è¡Œï¼Œç­‰é¢„çƒ­æ—¶é—´åˆ°äº†å°±å¯ä»¥æ­£å¸¸è®¿é—®</strong></p> 
<p><img src="https://images2.imgbox.com/56/d1/gBWfipZi_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>ğŸ’§<strong>æ’é˜Ÿç­‰å¾…ï¼Œä¸€ç§’ä¸€ä¸ª</strong></p> 
<p><img src="https://images2.imgbox.com/b8/eb/KBYJtf6g_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p><img src="https://images2.imgbox.com/e9/37/ZHlIoKaQ_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> <img src="https://images2.imgbox.com/6a/ed/6ujpSo9M_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h3><a id="6_Sentinel_282"></a>6. SentinelæœåŠ¡é™çº§</h3> 
<p>ğŸ’§<strong>æœåŠ¡é™çº§æ˜¯åº”å¯¹ç³»ç»Ÿé«˜å¹¶å‘æ—¶çš„ä¸€ç§ä¿æŠ¤æªæ–½ã€‚å½“èµ„æºçš„å¼‚å¸¸æ¯”ä¾‹è¶…è¿‡é˜ˆå€¼æ—¶ï¼Œç³»ç»Ÿå°†è‡ªåŠ¨å¯¹è¯¥èµ„æºè¿›è¡Œé™çº§ï¼Œé¿å…ç³»ç»Ÿå´©æºƒã€‚</strong></p> 
<p>ğŸ’§<strong>æµ‹è¯•ä»£ç ï¼š</strong><br> <img src="https://images2.imgbox.com/3c/20/jkBduefI_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> ğŸ’§<strong>æ–°å¢é™çº§è§„åˆ™</strong></p> 
<p><img src="https://images2.imgbox.com/e8/05/qd8rR9Z1_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> ğŸ’§<strong>æ‰“å¼€JMeter</strong></p> 
<p><img src="https://images2.imgbox.com/4b/85/3C7fSFUv_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>ğŸ’§<strong>æ·»åŠ çº¿ç¨‹ç»„</strong></p> 
<p><img src="https://images2.imgbox.com/62/0c/OkUtKOnV_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> <img src="https://images2.imgbox.com/8b/74/xfTuMVUF_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>ğŸ’§<strong>ç‚¹å‡»è¿è¡Œ</strong></p> 
<p><img src="https://images2.imgbox.com/8d/e3/Daedg9wO_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>ğŸ’§<strong>æ­¤æ—¶è®¿é—®ï¼šhttp://localhost:8401/testEï¼ŒæœåŠ¡å·²é™çº§</strong></p> 
<p><img src="https://images2.imgbox.com/ea/ce/UThsZACU_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>ğŸ’§<strong>åœæ‰JMeteråï¼Œå†æ¬¡è®¿é—®ï¼Œä¸ä¼šé™çº§ï¼Œå±•ç¤ºä¸å‹å¥½çš„ERRORé¡µé¢</strong></p> 
<p><img src="https://images2.imgbox.com/62/73/YZPBd8u4_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> ğŸ’§<strong>å¼‚å¸¸æ•°ï¼Œæ—¶é—´è¦å¤§äº60s</strong></p> 
<p><img src="https://images2.imgbox.com/26/f4/oxsr1hwq_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>ğŸ’§<strong>å¿«é€Ÿè¯·æ±‚äº”æ¬¡testEï¼ŒæœåŠ¡é™çº§</strong></p> 
<p><img src="https://images2.imgbox.com/c5/bd/OSm8i1rq_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h3><a id="7_Sentinelkey_319"></a>7. Sentinelçƒ­ç‚¹keyé™æµ</h3> 
<p>ğŸ’§<strong>çƒ­ç‚¹keyé™æµç”¨äºå¯¹ä¸€äº›çƒ­ç‚¹èµ„æºè¿›è¡Œé™åˆ¶ï¼Œé˜²æ­¢å› æŸä¸ªçƒ­ç‚¹èµ„æºè¿‡äºé¢‘ç¹è®¿é—®è€Œå¯¼è‡´ç³»ç»Ÿæ•…éšœã€‚</strong></p> 
<p><strong>ä½•ä¸ºçƒ­ç‚¹?çƒ­ç‚¹å³ç»å¸¸è®¿é—®çš„æ•°æ®ã€‚å¾ˆå¤šæ—¶å€™æˆ‘ä»¬å¸Œæœ›ç»Ÿè®¡æŸä¸ªçƒ­ç‚¹æ•°æ®ä¸­è®¿é—®é¢‘æ¬¡æœ€é«˜çš„TopKæ•°æ®ï¼Œå¹¶å¯¹å…¶è®¿é—®è¿›è¡Œé™åˆ¶ã€‚æ¯”å¦‚:</strong></p> 
<ul><li>å•†å“IDä¸ºå‚æ•°ï¼Œç»Ÿè®¡â€”æ®µæ—¶é—´å†…æœ€å¸¸è´­ä¹°çš„å•†å“IDå¹¶è¿›è¡Œé™åˆ¶</li><li>ç”¨æˆ·IDä¸ºå‚æ•°ï¼Œé’ˆå¯¹â€”æ®µæ—¶é—´å†…é¢‘ç¹è®¿é—®çš„ç”¨æˆ·IDè¿›è¡Œé™åˆ¶</li></ul> 
<p><strong>çƒ­ç‚¹å‚æ•°é™æµä¼šç»Ÿè®¡ä¼ å…¥å‚æ•°ä¸­çš„çƒ­ç‚¹å‚æ•°ï¼Œå¹¶æ ¹æ®é…ç½®çš„é™æµé˜ˆå€¼ä¸æ¨¡å¼ï¼Œå¯¹åŒ…å«çƒ­ç‚¹å‚æ•°çš„èµ„æºè°ƒç”¨è¿›è¡Œé™æµã€‚çƒ­ç‚¹å‚æ•°é™æµå¯ä»¥çœ‹åšæ˜¯ä¸€ç§ç‰¹æ®Šçš„æµé‡æ§åˆ¶ï¼Œä»…å¯¹åŒ…å«çƒ­ç‚¹å‚æ•°çš„èµ„æºè°ƒç”¨ç”Ÿæ•ˆã€‚</strong></p> 
<p><strong>Sentinelåˆ©ç”¨LRUç­–ç•¥ç»Ÿè®¡æœ€è¿‘æœ€å¸¸è®¿é—®çš„çƒ­ç‚¹å‚æ•°ï¼Œç»“åˆä»¤ç‰Œæ¡¶ç®—æ³•æ¥è¿›è¡Œå‚æ•°çº§åˆ«çš„æµæ§ã€‚çƒ­ç‚¹å‚æ•°é™æµæ”¯æŒé›†ç¾¤æ¨¡å¼ã€‚</strong></p> 
<p>ğŸ’§<strong>è‡ªå®šä¹‰å…œåº•é™çº§æ–¹æ³•ï¼Œ@SentinelResource</strong></p> 
<p><img src="https://images2.imgbox.com/47/d1/Enwp7aUB_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>ğŸ’§<strong>è®¿é—®ä¸€ä¸‹ï¼šhttp://localhost:8401/testHotKey</strong></p> 
<p><img src="https://images2.imgbox.com/39/b7/NszK70DT_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>ğŸ’§<strong>æ·»åŠ é™æµè§„åˆ™</strong></p> 
<p><img src="https://images2.imgbox.com/15/02/Jt01Djez_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>ğŸ’§<strong>è¿ç»­ç‚¹å‡»ä¸¤æ¬¡ï¼šhttp://localhost:8401/testHotKey?p1=aï¼Œé™æµï¼Œèµ°å…œåº•æ–¹æ³•</strong></p> 
<p><img src="https://images2.imgbox.com/3e/2a/UoaqkrDV_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>ğŸ’§<strong>å¦‚æœæˆ‘ä»¬é…ç½®äº†é™æµè§„åˆ™ï¼Œä½†ä¸æ·»åŠ å…œåº•æ–¹æ¡ˆï¼Œé‚£ä¹ˆè¢«è§¦å‘é™æµæœºåˆ¶åå°±ä¼šç›´æ¥æŠ¥500</strong></p> 
<p>ğŸ’§<strong>æ·»åŠ â€œå‚æ•°ä¾‹å¤–é¡¹â€ï¼Œå³ä½¿æˆ‘ä»¬è§¦å‘äº†ä¸Šé¢çš„é™æµï¼Œä½†å¦‚æœè¿™ä¸ªå‚æ•°å€¼æ˜¯æˆ‘ä»¬ç‰¹æ®ŠæŒ‡å®šçš„ï¼Œåˆ™ä¼šèµ°ç‰¹æ®Šé€šé“</strong></p> 
<p><img src="https://images2.imgbox.com/4a/fa/vfpEua0m_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> ğŸ’§<strong>æˆ‘ä»¬ç–¯ç‹‚è®¿é—®ï¼šhttp://localhost:8401/testHotKey?p1=5ï¼Œæ²¡æœ‰ä»»ä½•é—®é¢˜ã€‚</strong></p> 
<p>ğŸ’§<strong>è€ŒæŠŠ5æ”¹ä¸º3ï¼Œåˆ™ä¾ç„¶é™æµï¼Œèµ°å…œåº•æ–¹æ³•</strong></p> 
<p><img src="https://images2.imgbox.com/42/aa/n3Jq1JLh_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h3><a id="8_Sentinel_359"></a>8. Sentinelç³»ç»Ÿè§„åˆ™</h3> 
<p>ğŸ’§<strong>ç³»ç»Ÿè§„åˆ™æ˜¯Sentinelçš„å…¨å±€é…ç½®ï¼Œå¯ä»¥å¯¹æ•´ä¸ªç³»ç»Ÿçš„èµ„æºè¿›è¡Œé™åˆ¶ï¼Œä¾‹å¦‚çº¿ç¨‹æ•°ã€CPUä½¿ç”¨ç‡ç­‰ã€‚</strong></p> 
<p>ç³»ç»Ÿä¿æŠ¤è§„åˆ™æ˜¯ä»åº”ç”¨çº§åˆ«çš„å…¥å£æµé‡è¿›è¡Œæ§åˆ¶ï¼Œä»å•å°æœºå™¨çš„ loadã€CPUä½¿ç”¨ç‡ã€å¹³å‡RTã€å…¥å£QPSå’Œå¹¶å‘çº¿ç¨‹æ•°ç­‰å‡ ä¸ªç»´åº¦ç›‘æ§åº”ç”¨æŒ‡æ ‡ï¼Œè®©ç³»ç»Ÿå°½å¯èƒ½è·‘åœ¨æœ€å¤§ååé‡çš„åŒæ—¶ä¿è¯ç³»ç»Ÿæ•´ä½“çš„ç¨³å®šæ€§ã€‚<br> ç³»ç»Ÿä¿æŠ¤è§„åˆ™æ˜¯åº”ç”¨æ•´ä½“ç»´åº¦çš„ï¼Œè€Œä¸æ˜¯èµ„æºç»´åº¦çš„ï¼Œå¹¶ä¸”ä»…å¯¹å…¥å£æµé‡ç”Ÿæ•ˆã€‚å…¥å£æµé‡æŒ‡çš„æ˜¯è¿›å…¥åº”ç”¨çš„æµé‡ï¼ˆ EntryType.IN )ï¼Œæ¯”å¦‚ WebæœåŠ¡æˆ–DubboæœåŠ¡ç«¯æ¥æ”¶çš„è¯·æ±‚ï¼Œéƒ½å±äºå…¥å£æµé‡ã€‚ç³»ç»Ÿè§„åˆ™æ”¯æŒä»¥ä¸‹çš„æ¨¡å¼:</p> 
<ul><li>Loadè‡ªé€‚åº”(ä»…å¯¹Linux/Unix-likeæœºå™¨ç”Ÿæ•ˆ)ï¼šç³»ç»Ÿçš„ load1ä½œä¸ºå¯å‘æŒ‡æ ‡ã€‚è¿›è¡Œè‡ªé€‚åº”ç³»ç»Ÿ<br> ä¿æŠ¤ã€‚å½“ç³»ç»Ÿload1è¶…è¿‡è®¾å®šçš„å¯å‘å€¼ï¼Œä¸”ç³»ç»Ÿå½“å‰çš„å¹¶å‘çº¿ç¨‹æ•°è¶…è¿‡ä¼°ç®—çš„ç³»ç»Ÿå®¹é‡æ—¶æ‰ä¼šè§¦å‘ç³»ç»Ÿä¿æŠ¤(BBRé˜¶æ®µ)ã€‚ç³»ç»Ÿå®¹é‡ç”±ç³»ç»Ÿçš„maxOps * minRtä¼°ç®—å¾—å‡ºã€‚è®¾å®šå‚è€ƒå€¼ä¸€èˆ¬æ˜¯cpu cores * 2.5ã€‚</li><li>CPU usage (1.5.0+ç‰ˆæœ¬)ï¸°å½“ç³»ç»ŸCPUä½¿ç”¨ç‡è¶…è¿‡é˜ˆå€¼å³è§¦å‘ç³»ç»Ÿä¿æŠ¤ï¼ˆå–å€¼èŒƒå›´0.0-1.0) ï¼Œæ¯”è¾ƒçµæ•ã€‚</li><li>å¹³å‡RT:å½“å•å°æœºå™¨ä¸Šæ‰€æœ‰å…¥å£æµé‡çš„å¹³å‡RTè¾¾åˆ°é˜ˆå€¼å³è§¦å‘ç³»ç»Ÿä¿æŠ¤ï¼Œå•ä½æ˜¯æ¯«ç§’ã€‚</li><li>å¹¶å‘çº¿ç¨‹æ•°:å½“å•å°æœºå™¨ä¸Šæ‰€æœ‰å…¥å£æµé‡çš„å¹¶å‘çº¿ç¨‹æ•°è¾¾åˆ°é˜ˆå€¼å³è§¦å‘ç³»ç»Ÿä¿æŠ¤ã€‚</li><li>å…¥å£QPS:å½“å•å°æœºå™¨ä¸Šæ‰€æœ‰å…¥å£æµé‡çš„QPSè¾¾åˆ°é˜ˆå€¼å³è§¦å‘ç³»ç»Ÿä¿æŠ¤ã€‚</li></ul> 
<p><img src="https://images2.imgbox.com/74/24/ZdpGxoKH_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>ğŸ’§<strong>æµ‹è¯•é™æµï¼Œæ·»åŠ  RateLimitController å’Œ å…¬å…±ç±»</strong></p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RateLimitController</span> <span class="token punctuation">{<!-- --></span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/byResource"</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@SentinelResource</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"byResource"</span><span class="token punctuation">,</span> blockHandler <span class="token operator">=</span> <span class="token string">"handleException"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">CommonResult</span> <span class="token function">byResource</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">CommonResult</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token string">"æŒ‰èµ„æºåç§°é™æµæµ‹è¯•OK"</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Payment</span><span class="token punctuation">(</span><span class="token number">2020L</span><span class="token punctuation">,</span> <span class="token string">"serial001"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">CommonResult</span> <span class="token function">handleException</span><span class="token punctuation">(</span><span class="token class-name">BlockException</span> exception<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">CommonResult</span><span class="token punctuation">(</span><span class="token number">444</span><span class="token punctuation">,</span> exception<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getCanonicalName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"\t æœåŠ¡ä¸å¯ç”¨"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/rateLimit/byUrl"</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@SentinelResource</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"byUrl"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">CommonResult</span> <span class="token function">byUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">CommonResult</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token string">"æŒ‰urlé™æµæµ‹è¯•OK"</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Payment</span><span class="token punctuation">(</span><span class="token number">2020L</span><span class="token punctuation">,</span> <span class="token string">"serial002"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/rateLimit/customerBlockHandler"</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@SentinelResource</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"customerBlockHandler"</span><span class="token punctuation">,</span>
            blockHandlerClass <span class="token operator">=</span> <span class="token class-name">CustomerBlockHandler</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span><span class="token comment">//&lt;-------- è‡ªå®šä¹‰é™æµå¤„ç†ç±»</span>
            blockHandler <span class="token operator">=</span> <span class="token string">"handlerException2"</span><span class="token punctuation">)</span><span class="token comment">//&lt;-----------</span>
    <span class="token keyword">public</span> <span class="token class-name">CommonResult</span> <span class="token function">customerBlockHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">CommonResult</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token string">"æŒ‰å®¢æˆ¶è‡ªå®šä¹‰"</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Payment</span><span class="token punctuation">(</span><span class="token number">2020L</span><span class="token punctuation">,</span> <span class="token string">"serial003"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@Data</span>
<span class="token annotation punctuation">@AllArgsConstructor</span>
<span class="token annotation punctuation">@NoArgsConstructor</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CommonResult</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> code<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> message<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">T</span> data<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">CommonResult</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> code<span class="token punctuation">,</span> <span class="token class-name">String</span> message<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">(</span>code<span class="token punctuation">,</span> message<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@Data</span>
<span class="token annotation punctuation">@AllArgsConstructor</span>
<span class="token annotation punctuation">@NoArgsConstructor</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Payment</span> <span class="token keyword">implements</span> <span class="token class-name">Serializable</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> <span class="token class-name">Long</span> id<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> serial<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>è®¿é—®http://localhost:8401/byResource<br> <img src="https://images2.imgbox.com/e1/6f/ba2GzsWb_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> ğŸ’§<strong>æ–°å¢æµæ§è§„åˆ™</strong></p> 
<p><img src="https://images2.imgbox.com/20/95/6H2mLPDo_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> ğŸ’§<strong>è¿ç»­å¿«é€Ÿè®¿é—®ï¼Œé™æµï¼Œèµ°å…œåº•æ–¹æ³•</strong></p> 
<p><img src="https://images2.imgbox.com/e5/6c/z26iuRkK_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> ğŸ’§<strong>å¦‚æœæˆ‘ä»¬å…³é—­æœåŠ¡ï¼Œé™æµè§„åˆ™ä¹Ÿéšä¹‹æ¶ˆå¤±ï¼ˆä½“ç°å‡ºä¸´æ—¶æ€§ï¼‰</strong></p> 
<p>ğŸ’§<strong>æµ‹è¯•ä¸€ä¸‹ï¼Œæ²¡æœ‰å…œåº•æ–¹æ³•çš„</strong></p> 
<p><img src="https://images2.imgbox.com/27/75/0i5ddYIS_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>ğŸ’§<strong>æ·»åŠ é™æµè§„åˆ™</strong></p> 
<p><img src="https://images2.imgbox.com/4c/e2/3LtnYoQJ_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>ğŸ’§<strong>å¦‚æœæ²¡æœ‰å†™å…œåº•æ–¹æ³•blockHandlerï¼Œåˆ™ä¾ç„¶èµ°ç³»ç»Ÿé»˜è®¤å…œåº•</strong></p> 
<p><img src="https://images2.imgbox.com/60/1d/BxAFPgxS_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>ğŸ’§<strong>åˆ›å»ºCustomerBlockHandlerç±»ï¼Œè‡ªå®šä¹‰é™æµå¤„ç†é€»è¾‘</strong></p> 
<pre><code class="prism language-java"><span class="token comment">/**
 * @Author: LiangXinRui
 * @Date: 2023/08/4/17:51
 * @Description:
 */</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>csp<span class="token punctuation">.</span>sentinel<span class="token punctuation">.</span>slots<span class="token punctuation">.</span>block<span class="token punctuation">.</span></span><span class="token class-name">BlockException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>atguigu<span class="token punctuation">.</span>springcloud<span class="token punctuation">.</span>entities<span class="token punctuation">.</span></span><span class="token class-name">CommonResult</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CustomerBlockHandler</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">CommonResult</span> <span class="token function">handlerException</span><span class="token punctuation">(</span><span class="token class-name">BlockException</span> exception<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">CommonResult</span><span class="token punctuation">(</span><span class="token number">4444</span><span class="token punctuation">,</span><span class="token string">"æŒ‰å®¢æˆ¶è‡ªå®šä¹‰,global handlerException----1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">CommonResult</span> <span class="token function">handlerException2</span><span class="token punctuation">(</span><span class="token class-name">BlockException</span> exception<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">CommonResult</span><span class="token punctuation">(</span><span class="token number">4444</span><span class="token punctuation">,</span><span class="token string">"æŒ‰å®¢æˆ¶è‡ªå®šä¹‰,global handlerException----2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>ğŸ’§<strong>æµ‹è¯•è¿™ä¸ªæ–¹æ³•</strong></p> 
<p><img src="https://images2.imgbox.com/00/70/igC0iC6p_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>ğŸ’§<strong>è®¿é—®ï¼šhttp://localhost:8401/rateLimit/customerBlockHandler</strong></p> 
<p><img src="https://images2.imgbox.com/40/7c/SM1UCFUs_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>ğŸ’§<strong>æ–°å¢æµæ§è§„åˆ™</strong></p> 
<p><img src="https://images2.imgbox.com/c9/10/M0idJ12e_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>ğŸ’§<strong>ä¸€ç§’è®¿é—®ä¸¤æ¬¡ï¼š</strong></p> 
<p><img src="https://images2.imgbox.com/05/e2/Xv77Y1eG_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h3><a id="9__494"></a>9. æ€»ç»“</h3> 
<p><em>å¸Œæœ›æœ¬ç¯‡åšå®¢èƒ½å¤Ÿå¸¦ä½ ä¸€æ­¥ä¸€æ­¥å®ŒæˆSentinelçš„å…¥é—¨ï¼Œä»è€Œåœ¨å¾®æœåŠ¡æ¶æ„ä¸­æœ‰æ•ˆåœ°ä¿æŠ¤ç³»ç»Ÿçš„ç¨³å®šæ€§å’Œå¯ç”¨æ€§ã€‚</em></p> 
<p><img src="https://images2.imgbox.com/99/d2/ZgUcX6R5_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<hr> 
<h2><a id="_502"></a>ğŸ³ç»“è¯­</h2> 
<p>ğŸ¬<strong>åˆå­¦ä¸€é—¨æŠ€æœ¯æ—¶ï¼Œæ€»æœ‰äº›è®¸çš„ç–‘æƒ‘ï¼Œåˆ«æ€•ï¼Œå®ƒä»¬æ˜¯æˆ‘ä»¬å­¦ä¹ è·¯ä¸Šçš„ç‚¹ç‚¹ç¹æ˜Ÿï¼Œå¸®åŠ©æˆ‘ä»¬ä¸æ–­æˆé•¿ã€‚</strong></p> 
<p>ğŸŸ<strong>ç§¯å°‘æˆå¤šï¼Œæ»´æ°´æˆæ²³ã€‚æ–‡ç« ç²—æµ…ï¼Œå¸Œæœ›å¯¹å¤§å®¶æœ‰å¸®åŠ©ï¼</strong></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/23bd3988944bf76558a5d943574b6e40/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">webæœŸæœ«ä½œä¸šè®¾è®¡ç½‘é¡µï¼šåŠ¨æ¼«ç½‘ç«™è®¾è®¡â€”â€”å“†å•¦Aæ¢¦(10é¡µ) HTML&#43;CSS&#43;JavaScript å­¦ç”ŸDWç½‘é¡µè®¾è®¡ä½œä¸šæˆå“ åŠ¨æ¼«ç½‘é¡µè®¾è®¡ä½œä¸š webç½‘é¡µè®¾è®¡ä¸å¼€å‘ htmlå®è®­å¤§ä½œä¸š</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/185f181de7e25e668988d58724c9a96b/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">ã€æ•°æ®åˆ†æå…¥é—¨ã€‘äººå·¥æ™ºèƒ½ã€æ•°æ®åˆ†æå’Œæ·±åº¦å­¦ä¹ æ˜¯ä»€ä¹ˆå…³ç³»ï¼Ÿå¦‚ä½•å¿«é€Ÿå…¥é—¨ Python Pandasï¼Ÿ</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ç¼–ç¨‹å¤§å’–.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>