<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【JAVASE】带你了解instanceof和equals的魅力 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/f0fea50acd339683f25330c1f768a43b/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="【JAVASE】带你了解instanceof和equals的魅力">
  <meta property="og:description" content="✅作者简介：大家好，我是橘橙黄又青，一个想要与大家共同进步的男人😉😉
🍎个人主页：再无B～U～G-CSDN博客
1.instanceof instanceof 是 Java 的保留关键字。它的作用是测试它左边的对象是否是它右边的类的实例，返回 boolean 的数据类型
解释一下：
这里说明下：
类的实例包含本身的实例，以及所有直接或间接子类的实例
instanceof左边显式声明的类型与右边操作元必须是同种类或存在继承关系，也就是说需要位于同一个继承树，否则会编译错误
instanceof 关键词官方介绍：https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.20.2
来个案例看看：
给三个类 ~ 代码：
public interface A { } public class B implements A{ } public class C extends B{ } 代码测试案例：
public class InstanceofTest3 { public static void main(String[] args) { A a = null; boolean result; result = a instanceof A; System.out.println(result); // 结果：false null用instanceof跟任何类型比较时都是false a = new B(); b = new B(); result = a instanceof A; System.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-04-07T15:26:22+08:00">
    <meta property="article:modified_time" content="2024-04-07T15:26:22+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【JAVASE】带你了解instanceof和equals的魅力</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><img alt="" height="1200" src="https://images2.imgbox.com/51/21/PYNJ5vK3_o.png" width="1200"></p> 
<p>✅作者简介：大家好，我是橘橙黄又青，一个想要与大家共同进步的男人😉😉</p> 
<p>🍎个人主页：<a href="https://blog.csdn.net/chendemingxxx?spm=1011.2266.3001.5343" title="再无B～U～G-CSDN博客">再无B～U～G-CSDN博客</a></p> 
<h2>1.instanceof</h2> 
<blockquote> 
 <p><a href="https://so.csdn.net/so/search?q=instanceof&amp;spm=1001.2101.3001.7020" title="instanceof">instanceof</a> 是 Java 的保留关键字。它的作用是测试它左边的对象是否是它右边的类的实例，返回 boolean 的数据类型</p> 
</blockquote> 
<p><img alt="" height="305" src="https://images2.imgbox.com/50/9d/7o78h9t9_o.png" width="1200"></p> 
<p>解释一下：</p> 
<p><img alt="" height="310" src="https://images2.imgbox.com/98/5a/kUFC8yhl_o.png" width="1200"> <strong>这里说明下</strong>：</p> 
<blockquote> 
 <ul><li> <p><span style="color:#fe2c24;"><strong>类的实例包含本身的实例，以及所有直接或间接子类的实例</strong></span></p> </li><li> <p><span style="color:#fe2c24;"><strong>instanceof左边显式声明的类型与右边操作元必须是同种类或存在继承关系，也就是说需要位于同一个继承树，否则会编译错误</strong></span></p> </li></ul> 
</blockquote> 
<p><span style="color:#333333;">instanceof </span>  <span style="color:#333333;">关键词官方介绍：</span><span style="color:#4183c4;">https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.20.2</span></p> 
<p>来个案例看看：</p> 
<p>给三个类 ~ 代码：</p> 
<pre><code class="language-java">public interface A {
}

public class B implements A{

}

public class C extends B{
}</code></pre> 
<p>代码测试案例：</p> 
<pre><code class="language-java">public class InstanceofTest3 {

    public static void main(String[] args) {
        A a = null;
        boolean result;
        result = a instanceof A;
        System.out.println(result); // 结果：false null用instanceof跟任何类型比较时都是false


        a = new B();
        b = new B();
        result = a instanceof A;
        System.out.println(result); // 结果：true a是接口A的实例对象引用指向子类类B，类B实现了接口A，所以属于同一个继承树分支
        result = a instanceof B;
        System.out.println(result); // 结果：true a是接口A的实例对象引用指向子类类B，类B实现了接口A，所以属于同一个继承树分支
        result = b instanceof A;
        System.out.println(result);// 结果：true b是类B的实例对象，类B实现了接口A，所以属于同一个继承树分支
        result = b instanceof B;
        System.out.println(result);// 结果：true b是类B的实例对象，类B实现了接口A，所以属于同一个继承树分支


        B b2 = new C();
        result = b2 instanceof A;
        System.out.println(result); // 结果：true b2是父类B引用指向子类C，类B实现了接口A，所以属于同一个继承树分支
        result = b2 instanceof B;
        System.out.println(result); // 结果：true b2是父类B引用指向子类C，所以属于同一个继承树分支
        result = b2 instanceof C;
        System.out.println(result); // 结果：true b2是父类B引用指向子类C，所以属于同一个继承树分支
    }
}</code></pre> 
<h3 id="instanceof应用场景">instanceof的应用</h3> 
<p>instanceof一般用于对象类型强制转换</p> 
<p>比如说：</p> 
<pre><code class="language-java">public class C extends B {

    private void print(Object a) {
        System.out.println(a+" instanceof");
    }

    public void convert(String b) {

        if (b instanceof Object) {//如果b和Object有关系则执行if里面的语句,相反不执行
            this.print(b);
        }
    }

}
</code></pre> 
<h2 style="background-color:transparent;">2.equals</h2> 
<blockquote> 
 <ol><li> <p><span style="color:#fe2c24;"><strong>是一个方法，并非运算符</strong></span></p> </li><li> <p><span style="color:#fe2c24;"><strong>只适用于引用数据类型</strong></span></p> </li></ol> 
</blockquote> 
<p> <code>Object</code>类中<code>equals( )</code>的定义：</p> 
<pre><code class="language-java"> public boolean equals(object obj) {
		return (this == obj);  //this是指类的当前实例
 }</code></pre> 
<p><span style="color:#fe2c24;"><strong>类中定义的equals()和==的作用是相同的：比较两个对象的地址值是否相同。即两个引用是否指向同一个对象实体</strong></span></p> 
<p> 但是</p> 
<h3>Java中重写的equals()</h3> 
<p>这里我们看一下java的一些自带的包装类怎么重写equals()的：</p> 
<pre><code class="language-java">public boolean equals(Object anObject) {
    if (this == anObject) {
        return true;
    }
    if (anObject instanceof String) {
        String anotherString = (String)anObject;
        int n = value.length;
        if (n == anotherString.value.length) {
            char v1[] = value;
            char v2[] = anotherString.value;
            int i = 0;
            while (n-- != 0) {
                if (v1[i] != v2[i])
                    return false;
                i++;
            }
            return true;
        }
   }
   return false;
    
}</code></pre> 
<p>我们可以非常清晰的看到String的equals()方法是进行内容比较，<strong>而不是单纯的引用比较</strong>。</p> 
<p>注意：</p> 
<blockquote> 
 <ol><li><span style="color:#fe2c24;">==</span>既可以比基本类型也可以比较引用类型。对于<span style="color:#fe2c24;">基本类型就是比较值</span>，对于<span style="color:#fe2c24;">引用类型就是比较内存地址</span></li><li>equals的话，它是属于java.lang.Object类里面的方法，如果该方法没有被重写过默认也是==；<span style="color:#fe2c24;">我们可以看到String等类的equals方法是被重写过的</span>，而且String类在日常开发中用的比较多，久而久之，形成了equals是比较值的错误观点。</li><li>具体要看自定义类里有没有重写Object的equals方法来判断。</li><li>通常情况下，重写equals方法，会比较类中的相应属性是否都相等 </li></ol> 
</blockquote> 
<p>好啦，今天就到这里了，感谢观看。 </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/60be295fe3c6e6a24c8fbb2b8256140c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">解决 macOS 系统向日葵远程控制鼠标、键盘无法点击的问题</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/fa7bfad981069b6c206db924846b3667/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">AI赋能智能交通：人工智能如何改善交通流量管理和道路安全？</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>