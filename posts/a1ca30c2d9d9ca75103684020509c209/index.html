<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【2024数模国赛赛题思路公开】国赛C题思路丨附可运行代码丨无偿自提 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/a1ca30c2d9d9ca75103684020509c209/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="【2024数模国赛赛题思路公开】国赛C题思路丨附可运行代码丨无偿自提">
  <meta property="og:description" content="2024年国赛C题解题思路
C 题 农作物的种植策略
根据乡村的实际情况，充分利用有限的耕地资源，因地制宜，发展有机种植产业，对乡村经济的可持续发展具有重要的现实意义。选择适宜的农作物，优化种植策略，有利于方便田间管理，提高生产效益，减少各种不确定因素可能造成的种植风险。
某乡村地处华北山区，常年温度偏低，大多数耕地每年只能种植一季农作物。该乡村现有露天耕地 1201 亩，分散为 34 个大小不同的地块，包括平旱地、梯田、山坡地和水浇地 4 种类型。平旱地、梯田和山坡地适宜每年种植一季粮食类作物；水浇地适宜每年种植一季水稻或两季蔬菜。该乡村另有16 个普通大棚和4 个智慧大棚，每个大棚耕地面积为0.6 亩。普通大棚适宜每年种植一季蔬菜和一季食用菌，智慧大棚适宜每年种植两季蔬菜。同一地块（含大棚）每季可以合种不同的作物。详见附件1。
根据农作物的生长规律，每种作物在同一地块（含大棚）都不能连续重茬种植，否则会减产；因含有豆类作物根菌的土壤有利于其他作物生长，从 2023 年开始要求每个地块（含大棚）的所有土地三年内至少种植一次豆类作物。同时，种植方案应考虑到方便耕种作业和田间管理，譬如：每种作物每季的种植地不能太分散，每种作物在单个地块（含大棚）种植的面积不宜太小，等等。2023年的农作物种植和相关统计数据见附件 2。
请建立数学模型，研究下列问题：
问题1 假定各种农作物未来的预期销售量、种植成本、亩产量和销售价格相对于 2023 年保持稳定，每季种植的农作物在当季销售。如果某种作物每季的总产量超过相应的预期销售量，超过部分不能正常销售。请针对以下两种情况，分别给出该乡村 2024~2030 年农作物的最优种植方案，将结果分别填入result1_1.xlsx 和result1_2.xlsx 中（模板文件见附件3）。
(1) 超过部分滞销，造成浪费；
(2) 超过部分按2023 年销售价格的50%降价出售。
【题目分析】
任务：在假定农作物的销售量、种植成本、亩产量和销售价格稳定的情况下，为乡村2024-2030年制定最优的种植方案。需要考虑两种情况：
滞销浪费：超出部分无法销售，需合理分配种植面积，避免浪费。降价出售：超出部分按50%的价格出售，这可能影响种植策略，需要平衡不同农作物的收益和种植面积。 【初步思路】
第一问的详细思路与建模过程
问题背景：
我们需要在假定农作物的销售量、种植成本、亩产量和销售价格稳定的情况下，为乡村2024-2030年制定最优种植方案。目标是最大化利润，并要考虑两种情况：
滞销浪费：超过部分无法销售，造成浪费。降价出售：超过部分按原售价的50%处理。 【解题思路】
一、问题转化为数学模型
1. 变量定义
地块变量： 记Ai 表示第 i 个地块的面积（亩），i=1,2,...,n，其中n=34 。每个地块可以种植不同的作物，记 Xu 为第i个地块种植第j种作物的面积（亩），j=1,2,...,m，其中 m 是作物种类。作物产量和价格： 记 Yj为第j种作物的单位面积产量（吨/亩），Pj 为该作物的单位售价（元/吨）。 成本和收益： 记 Cj 为种植第j种作物的单位面积成本（元/亩）。收益为作物销售量与售价的乘积，超出销售量部分按不同情况处理。 作物销售量约束： 设第j种作物的预期销售量为 Sj（吨），当种植量超过此值，需根据不同情况处理。 2. 目标函数
目标是最大化2024-2030年种植方案的总利润。首先，作物的总产量为：
基于此，作物的利润分为两种情况：">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-09-05T19:06:47+08:00">
    <meta property="article:modified_time" content="2024-09-05T19:06:47+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【2024数模国赛赛题思路公开】国赛C题思路丨附可运行代码丨无偿自提</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>2024年国赛C题解题思路</p> 
<p><img alt="" src="https://images2.imgbox.com/7d/43/J1WjH8sS_o.png"></p> 
<p style="margin-left:0;text-align:center;"><a name="_Hlk165451603"><strong>C </strong></a><strong>题</strong><strong>  </strong><strong>农作物的种植策略</strong></p> 
<p style="margin-left:0;text-align:justify;">根据乡村的实际情况，充分利用有限的耕地资源，因地制宜，发展有机种植产业，对乡村经济的可持续发展具有重要的现实意义。选择适宜的农作物，优化种植策略，有利于方便田间管理，提高生产效益，减少各种不确定因素可能造成的种植风险。</p> 
<p style="margin-left:0;text-align:justify;">某乡村地处华北山区，常年温度偏低，大多数耕地每年只能种植一季农作物。该乡村现有露天耕地 1201 亩，分散为 34 个大小不同的地块，包括平旱地、梯田、山坡地和水浇地 4 种类型。平旱地、梯田和山坡地适宜每年种植一季粮食类作物；水浇地适宜每年种植一季水稻或两季蔬菜。该乡村另有16 个普通大棚和4 个智慧大棚，每个大棚耕地面积为0.6 亩。普通大棚适宜每年种植一季蔬菜和一季食用菌，智慧大棚适宜每年种植两季蔬菜。同一地块（含大棚）每季可以合种不同的作物。详见附件1。</p> 
<p style="margin-left:0;text-align:justify;">根据农作物的生长规律，每种作物在同一地块（含大棚）都不能连续重茬种植，否则会减产；因含有豆类作物根菌的土壤有利于其他作物生长，从 2023 年开始要求每个地块（含大棚）的所有土地三年内至少种植一次豆类作物。同时，种植方案应考虑到方便耕种作业和田间管理，譬如：每种作物每季的种植地不能太分散，每种作物在单个地块（含大棚）种植的面积不宜太小，等等。2023年的农作物种植和相关统计数据见附件 2。</p> 
<p style="margin-left:0;text-align:justify;">请建立数学模型，研究下列问题：</p> 
<p style="margin-left:0;text-align:justify;"><strong>问题</strong><strong>1 </strong>假定各种农作物未来的预期销售量、种植成本、亩产量和销售价格相对于 2023 年保持稳定，每季种植的农作物在当季销售。如果某种作物每季的总产量超过相应的预期销售量，超过部分不能正常销售。请针对以下两种情况，分别给出该乡村 2024~2030 年农作物的最优种植方案，将结果分别填入result1_1.xlsx 和result1_2.xlsx 中（模板文件见附件3）。</p> 
<p style="margin-left:0;text-align:justify;">(1)  超过部分滞销，造成浪费；</p> 
<p style="margin-left:0;text-align:justify;">(2)  超过部分按2023 年销售价格的50%降价出售。</p> 
<p><span style="color:#fe2c24;"><strong>【题目分析】</strong></span></p> 
<p style="margin-left:0;text-align:justify;"><strong>任务</strong>：在假定农作物的销售量、种植成本、亩产量和销售价格稳定的情况下，为乡村2024-2030年制定最优的种植方案。需要考虑两种情况：</p> 
<ol><li style="text-align:justify;"><strong>滞销浪费</strong>：超出部分无法销售，需合理分配种植面积，避免浪费。</li><li style="text-align:justify;"><strong>降价出售</strong>：超出部分按50%的价格出售，这可能影响种植策略，需要平衡不同农作物的收益和种植面积。</li></ol> 
<p><span style="color:#fe2c24;"><strong>【初步思路】</strong></span></p> 
<p style="margin-left:0;text-align:justify;"><strong>第一问的详细思路与建模过程</strong></p> 
<p style="margin-left:0;text-align:justify;"><strong>问题背景：</strong></p> 
<p style="margin-left:0;text-align:justify;">我们需要在假定农作物的销售量、种植成本、亩产量和销售价格稳定的情况下，为乡村2024-2030年制定最优种植方案。目标是最大化利润，并要考虑两种情况：</p> 
<ol><li style="text-align:justify;"><strong>滞销浪费</strong>：超过部分无法销售，造成浪费。</li><li style="text-align:justify;"><strong>降价出售</strong>：超过部分按原售价的50%处理。</li></ol> 
<p>【解题思路】</p> 
<p style="margin-left:0;text-align:justify;"><strong>一、问题转化为数学模型</strong></p> 
<p style="margin-left:0;text-align:justify;"><strong>1. </strong><strong>变量定义</strong></p> 
<ul><li style="text-align:justify;"><strong>地块变量</strong>：</li></ul> 
<ul><li> 
  <ul><li style="text-align:justify;">记Ai 表示第 i 个地块的面积（亩），i=1,2,...,n，其中n=34 。</li><li style="text-align:justify;">每个地块可以种植不同的作物，记 Xu 为第i个地块种植第j种作物的面积（亩），j=1,2,...,m，其中 m 是作物种类。</li></ul></li><li style="text-align:justify;"><strong>作物产量和价格</strong>： 
  <ul><li style="text-align:justify;">记 Yj为第j种作物的单位面积产量（吨/亩），Pj 为该作物的单位售价（元/吨）。</li></ul></li></ul> 
<ul><li style="text-align:justify;"><strong>成本和收益</strong>： 
  <ul><li style="text-align:justify;">记 Cj 为种植第j种作物的单位面积成本（元/亩）。</li><li style="text-align:justify;">收益为作物销售量与售价的乘积，超出销售量部分按不同情况处理。</li></ul></li></ul> 
<ul><li style="text-align:justify;"><strong>作物销售量约束</strong>： 
  <ul><li style="text-align:justify;">设第j种作物的预期销售量为 Sj（吨），当种植量超过此值，需根据不同情况处理。</li></ul></li></ul> 
<p style="margin-left:0;text-align:justify;"><strong>2. </strong><strong>目标函数</strong></p> 
<p style="margin-left:0;text-align:justify;">目标是最大化2024-2030年种植方案的总利润。首先，作物的总产量为：</p> 
<p class="img-center"><img alt="" height="34" src="https://images2.imgbox.com/37/6f/hPnk0HfR_o.png" width="94"></p> 
<p style="margin-left:0;text-align:justify;">基于此，作物的利润分为两种情况：</p> 
<ol><li style="text-align:justify;"><strong>滞销浪费：</strong> 当 QU≤SJ 时，所有产量均以正常价格出售；当 QU＞SJ 时，超过部分无法出售。总利润为：</li></ol> 
<p class="img-center"><img alt="" height="37" src="https://images2.imgbox.com/0d/ec/gFrgpgIw_o.png" width="498"></p> 
<p><strong>      2. 降价出售：</strong> 当 QU＞SJ 时，超过部分以50%的价格出售，收益为：</p> 
<p class="img-center"><img alt="" height="59" src="https://images2.imgbox.com/2e/2c/1HZ2rVVI_o.png" width="607"></p> 
<p style="margin-left:0;text-align:justify;">整个种植方案的总利润为所有地块和作物的利润之和：</p> 
<p class="img-center"><img alt="" height="58" src="https://images2.imgbox.com/b8/fd/ayUICbKG_o.png" width="214"></p> 
<p><strong>      3. 约束条件</strong></p> 
<ul><li style="text-align:justify;"><strong>面积约束</strong>：每个地块的作物种植面积不能超过总面积：</li></ul> 
<p class="img-center"><img alt="" height="53" src="https://images2.imgbox.com/72/74/otZ5f4Yj_o.png" width="135"></p> 
<ul><li style="text-align:justify;"><strong>作物适应性约束</strong>：不同地块只能种适宜的作物。例如，梯田和山坡地只能种粮食类作物，水浇地可以种水稻或蔬菜。</li><li style="text-align:justify;"><strong>轮作约束</strong>：每块地在三年内至少种一次豆类作物。用二进制变量 Bij 表示某季是否种植豆类作物：</li></ul> 
<p class="img-center"><img alt="" height="59" src="https://images2.imgbox.com/d7/09/TTXHyCLF_o.png" width="123"></p> 
<p style="margin-left:0;text-align:justify;"><strong>二、引入智能优化算法</strong></p> 
<p style="margin-left:0;text-align:justify;">由于问题涉及多个地块、多种作物，并且有复杂的约束条件和非线性目标函数，使用<strong>智能优化算法</strong>（如遗传算法）更为适合。</p> 
<p style="margin-left:0;text-align:justify;"><strong>1. </strong><strong>遗传算法（</strong><strong>GA</strong><strong>）概述</strong></p> 
<ul><li style="text-align:justify;"><strong>编码</strong>：每个地块的种植方案表示为一个基因，整个种植方案为一个个体。</li><li style="text-align:justify;"><strong>适应度函数</strong>：适应度函数为目标函数，即总利润，目标是通过选择、交叉、变异操作逐步优化种植方案。</li></ul> 
<ul><li style="text-align:justify;"><strong>操作步骤</strong>： 
  <ol><li style="text-align:justify;"><strong>初始种群生成</strong>：随机生成一批种植方案。</li><li style="text-align:justify;"><strong>适应度评估</strong>：计算每个方案的总利润。</li><li style="text-align:justify;"><strong>选择</strong>：根据适应度高低选择个体。</li><li style="text-align:justify;"><strong>交叉与变异</strong>：生成新个体并确保种群多样性。</li><li style="text-align:justify;"><strong>终止条件</strong>：达到设定迭代次数或适应度不再显著提高。</li></ol></li></ul> 
<p style="margin-left:0;text-align:justify;"><strong>2. </strong><strong>遗传算法的公式表示</strong></p> 
<ul><li style="text-align:justify;"><strong>选择操作</strong>：轮盘赌选择法，个体被选中的概率为：</li></ul> 
<p class="img-center"><img alt="" height="82" src="https://images2.imgbox.com/da/93/Wb8ViL8t_o.png" width="92"></p> 
<p style="margin-left:0;text-align:justify;">其中 fi为第 i 个个体的适应度，N 为种群大小。</p> 
<ul><li style="text-align:justify;"><strong>交叉操作</strong>：两个种植方案交叉生成新的方案，交叉概率为Pc，生成新个体的公式为：</li></ul> 
<p class="img-center"><img alt="" height="30" src="https://images2.imgbox.com/12/b6/bCH5WyMH_o.png" width="162"></p> 
<p><strong>变异操作</strong>：随机调整种植面积，变异概率为Pm。</p> 
<p>【<strong><span style="background-color:#FFFF00;">Python</span></strong>参考代码】</p> 
<pre><code class="hljs">import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
from scipy.optimize import linprog
import random
import seaborn as sns

# 读取农作物信息（面积、作物类型、单价、产量等）
land_data = pd.read_excel('/path/to/附件1.xlsx')
production_data = pd.read_excel('/path/to/附件2.xlsx')

# 地块面积信息
area = land_data['地块面积'].values

# 2023年农作物信息，包括单价、种植成本、产量等
crop_data = production_data[['作物类型', '产量', '单价', '种植成本', '预期销售量']].set_index('作物类型')

# 从crop_data提取变量
yield_per_acre = crop_data['产量'].values
price_per_ton = crop_data['单价'].values
cost_per_acre = crop_data['种植成本'].values

sales_expectation = crop_data['预期销售量'].values

# 变量数量
num_land_blocks = len(area)  # 地块数量
num_crops = len(crop_data)   # 作物种类数量

# 遗传算法相关参数
population_size = 50
generations = 100
mutation_rate = 0.01

# 初始化种群
def init_population(size):
    return np.random.rand(size, num_land_blocks, num_crops)

# 适应度函数，计算总利润
def fitness(individual):
    profit = 0
    for i in range(num_land_blocks):
        for j in range(num_crops):
            planted_area = individual[i, j] * area[i]
            production = planted_area * yield_per_acre[j]
            if production &lt;= sales_expectation[j]:
                profit += production * price_per_ton[j] - planted_area * cost_per_acre[j]
            else:
                surplus = production - sales_expectation[j]
                profit += sales_expectation[j] * price_per_ton[j] + surplus * (price_per_ton[j] / 2) - planted_area * cost_per_acre[j]
    return profit

   child1.flat[point:], child2.flat[point:] = parent2.flat[point:], parent1.flat[point:]
    return child1, child2

# 变异操作
def mutate(individual):
    if np.random.rand() &lt; mutation_rate:
        i = np.random.randint(num_land_blocks)
        j = np.random.randint(num_crops)
        individual[i, j] = np.random.rand()
    return individual

# 主遗传算法过程
def genetic_algorithm():
    population = init_population(population_size)
    best_solution = None
    best_fitness = float('-inf')
    fitness_history = []

    for generation in range(generations):
        population = selection(population)
        new_population = []

        # 交叉产生新个体
        for i in range(0, len(population), 2):
            parent1 = population[i]
            parent2 = population[min(i+1, len(population)-1)]
            child1, child2 = crossover(parent1, parent2)
            new_population.append(mutate(child1))
            new_population.append(mutate(child2))

        population = np.array(new_population)

        # 记录最佳个体
        gen_best = max(population, key=fitness)
        gen_best_fitness = fitness(gen_best)
        fitness_history.append(gen_best_fitness)

        if gen_best_fitness &gt; best_fitness:
            best_solution = gen_best
            best_fitness = gen_best_fitness

        print(f"Generation {generation + 1}: Best Fitness = {best_fitness}")

    return best_solution, fitness_history

# 运行遗传算法
best_solution, fitness_history = genetic_algorithm()

# 总利润随代数变化趋势
plt.figure(figsize=(10, 6))
plt.plot(fitness_history, label='Total Profit')
plt.xlabel('Generations')
plt.ylabel('Profit')
plt.title('Total Profit Over Generations')
plt.legend()
plt.grid(True)
plt.show()

# 各地块的最佳作物种植方案
def plot_solution(solution):
    plt.figure(figsize=(12, 8))
    sns.heatmap(solution, annot=True, fmt=".2f", cmap='Blues', xticklabels=crop_data.index, yticklabels=land_data['地块名称'])
    plt.title("Optimal Crop Distribution Across Lands")
    plt.xlabel("Crops")
    plt.ylabel("Land Blocks")
    plt.show()

# 可视化最佳种植方案
plot_solution(best_solution)
</code></pre> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/a4552c236edcea473b4e070dd0e4aad7/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">2024年高教社杯数学建模国赛赛题浅析——助攻快速选题</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/5a5380265cb22d914d09b7ba2785d585/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">新增一个数组传递给后端</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>