<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>windows环境(非docker)中利用Ollama和open webui部署运行大模型 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/48f989c56a679ec914c91581d5687da9/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="windows环境(非docker)中利用Ollama和open webui部署运行大模型">
  <meta property="og:description" content="1. ollama 下载安装： GitHub - ollama/ollama: Get up and running with Llama 3, Mistral, Gemma, and other large language models.
安装完成后可以在cmd命令提示符窗口中输入ollama -v查看是否安装好。
输入ollama run llama3可以直接下载llama3大模型并运行进行对话，默认是llama3:latest版本，8b的一个版本。该模型只能进行文本对话。
2. open webui下载安装 🚀 Getting Started | Open WebUI
官方文档推荐使用docker安装，这里我使用非docker的方式安装
2.1 安装node.js 下载 | Node.js 中文网 (nodejs.cn)
我直接安装的最新版本20.12.2
2.2 安装npm node.js 20.12.2版本需要npm版本10.5.0，较低版本后续配置open webui时会报错，通常配置过程中报错都是版本依赖问题。
由于本地已经有较低npm版本了，因此这里我就通过命令直接更新到指定版本
npm install npm@10.5.0
2.3 根据官方文档配置环境 先用git将源码拉下来并修改配置文件，配置文件中有ollama server端口地址11434，后续运行的命令 npm i以及pip安装依赖都需要在虚拟环境中运行。pip安装依赖过程可能网速会比较慢。
我本地环境中anaconda3版本不是最新的，也没准备直接更新到最新，因此cmd中直接通过conda命令创建的虚拟环境配置的。
conda create -n ollama python=3.11
conda activate ollama
配置好了启动open webui在虚拟环境中执行start_windows.bat，而不是start.sh，因为这里是windows环境。这里需要注意的是首次运行时会连接官网https://huggingface.co在线安装transformers库，由于国内被墙这里会报错。我这里是通过科学上网的方式下载的，据说有国内源可以下载，这里我就不在介绍了。错误如下">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-04-22T00:10:59+08:00">
    <meta property="article:modified_time" content="2024-04-22T00:10:59+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">windows环境(非docker)中利用Ollama和open webui部署运行大模型</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2> 1. ollama 下载安装：</h2> 
<p><a href="https://github.com/ollama/ollama?tab=readme-ov-file" title="GitHub - ollama/ollama: Get up and running with Llama 3, Mistral, Gemma, and other large language models.">GitHub - ollama/ollama: Get up and running with Llama 3, Mistral, Gemma, and other large language models.</a></p> 
<p> <img alt="" height="719" src="https://images2.imgbox.com/fb/06/4KH6sZXV_o.png" width="1044"></p> 
<p>安装完成后可以在cmd命令提示符窗口中输入ollama -v查看是否安装好。</p> 
<p>输入ollama run llama3可以直接下载llama3大模型并运行进行对话，默认是llama3:latest版本，8b的一个版本。该模型只能进行文本对话。</p> 
<h2>2. open webui下载安装</h2> 
<p><a href="https://docs.openwebui.com/getting-started/" rel="nofollow" title="🚀 Getting Started | Open WebUI">🚀 Getting Started | Open WebUI</a></p> 
<p>官方文档推荐使用docker安装，这里我使用非docker的方式安装</p> 
<p><img alt="" height="679" src="https://images2.imgbox.com/0a/4b/c2uO6KQj_o.png" width="805"></p> 
<h3> 2.1 安装node.js</h3> 
<p><a href="https://nodejs.cn/download/current/" rel="nofollow" title="下载 | Node.js 中文网 (nodejs.cn)">下载 | Node.js 中文网 (nodejs.cn)</a></p> 
<p>我直接安装的最新版本20.12.2</p> 
<h3>2.2 安装npm</h3> 
<p>node.js 20.12.2版本需要npm版本10.5.0，较低版本后续配置open webui时会报错，通常配置过程中报错都是版本依赖问题。</p> 
<p>由于本地已经有较低npm版本了，因此这里我就通过命令直接更新到指定版本</p> 
<p>npm install npm@10.5.0</p> 
<h3>2.3 根据官方文档配置环境</h3> 
<p>先用git将源码拉下来并修改配置文件，配置文件中有ollama server端口地址11434，后续运行的命令 npm i以及pip安装依赖都需要在虚拟环境中运行。pip安装依赖过程可能网速会比较慢。</p> 
<p>我本地环境中anaconda3版本不是最新的，也没准备直接更新到最新，因此cmd中直接通过conda命令创建的虚拟环境配置的。</p> 
<p>conda create -n ollama python=3.11<br> conda activate ollama</p> 
<p>配置好了启动open webui在虚拟环境中执行start_windows.bat，而不是start.sh，因为这里是windows环境。这里需要注意的是首次运行时会连接官网https://huggingface.co在线安装transformers库，由于国内被墙这里会报错。我这里是通过科学上网的方式下载的，据说有国内源可以下载，这里我就不在介绍了。错误如下</p> 
<p><img alt="" height="1080" src="https://images2.imgbox.com/ac/3b/j6CECE36_o.png" width="1200"></p> 
<h2>3. open webui界面以及相关设置</h2> 
<p>需要先创建帐号登录</p> 
<p>设置汉语界面，右上角进去设置</p> 
<p><img alt="" height="996" src="https://images2.imgbox.com/ed/da/rupjg9MO_o.png" width="1200"></p> 
<p>然后选择模型创建对话，这里我只下载了一个llama3模型。</p> 
<p><img alt="" height="996" src="https://images2.imgbox.com/64/61/nXzLpc2c_o.png" width="1200"></p> 
<p>下载新模型，这里应该是调用的ollama api下载的模型，实际和ollama pull &lt;模型名&gt;没什么区别。模型文件中也可以下载由open webui社区提供的模型。</p> 
<p><img alt="" height="996" src="https://images2.imgbox.com/a9/4e/9lD1Kifj_o.png" width="1200"></p> 
<p>ollama支持的模型可点击上面链接查看。</p> 
<p></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/429d3de7d0a9803cda007b5d8d0470dc/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【头歌-Python】Python第六章作业</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/eb43d7abb0ebc9606588667396a953ef/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【论文阅读】Retrieval-Augmented Generation for AI-Generated Content: A Survey</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>