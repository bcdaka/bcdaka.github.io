<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>代码随想录算法训练营第四十三天 | 01背包问题理论基础、01背包问题滚动数组、416. 分割等和子集 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/ebe908a31dd79d12e2f17d4bba19701f/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="代码随想录算法训练营第四十三天 | 01背包问题理论基础、01背包问题滚动数组、416. 分割等和子集">
  <meta property="og:description" content="背包问题其实有很多种，01背包是最基础也是最经典的，软工计科学生一定要掌握的。
01背包问题 代码随想录
视频讲解：带你学透0-1背包问题！| 关于背包问题，你不清楚的地方，这里都讲了！| 动态规划经典问题 | 数据结构与算法_哔哩哔哩_bilibili
思路 直接上动态规划五部曲
1、dp数组及其下标的含义
对于背包问题，有一种写法， 是使用二维数组，即dp[i][j] 表示从下标为[0-i]的物品里任意取，放进容量为j的背包，价值总和最大是多少。
2.确定递推公式
再回顾一下dp[i][j]的含义：从下标为[0-i]的物品里任意取，放进容量为j的背包，价值总和最大是多少。
那么可以有两个方向推出来dp[i][j]，
不放物品i：由dp[i - 1][j]推出，即背包容量为j，里面不放物品i的最大价值，此时dp[i][j]就是dp[i - 1][j]。(其实就是当物品i的重量大于背包j的重量时，物品i无法放进背包中，所以背包内的价值依然和前面相同。)放物品i：由dp[i - 1][j - weight[i]]推出，dp[i - 1][j - weight[i]] 为背包容量为j - weight[i]的时候不放物品i的最大价值，那么dp[i - 1][j - weight[i]] &#43; value[i] （物品i的价值），就是背包放物品i得到的最大价值 所以递归公式： dp[i][j] = max(dp[i - 1][j], dp[i - 1][j - weight[i]] &#43; value[i]);
3.初始化
首先从dp[i][j]的定义出发，如果背包容量j为0的话，即dp[i][0]，无论是选取哪些物品，背包价值总和一定为0。
再看其他情况。
状态转移方程 dp[i][j] = max(dp[i - 1][j], dp[i - 1][j - weight[i]] &#43; value[i]); 可以看出i 是由 i-1 推导出来，那么i为0的时候就一定要初始化。">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-06-12T20:08:18+08:00">
    <meta property="article:modified_time" content="2024-06-12T20:08:18+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">代码随想录算法训练营第四十三天 | 01背包问题理论基础、01背包问题滚动数组、416. 分割等和子集</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>背包问题其实有很多种，01背包是最基础也是最经典的，软工计科学生一定要掌握的。</p> 
<p><img alt="" height="502" src="https://images2.imgbox.com/71/58/4lKfyFm0_o.png" width="1200"></p> 
<hr> 
<h4>01背包问题</h4> 
<blockquote> 
 <div> 
  <div> 
   <p style="margin-left:0;text-align:left;"><a href="https://programmercarl.com/%E8%83%8C%E5%8C%85%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%8001%E8%83%8C%E5%8C%85-1.html" rel="nofollow" title="代码随想录">代码随想录</a></p> 
   <p style="margin-left:0;text-align:left;"><span style="color:#333333;">视频讲解：</span><a href="https://www.bilibili.com/video/BV1cg411g7Y6" rel="nofollow" title="带你学透0-1背包问题！| 关于背包问题，你不清楚的地方，这里都讲了！| 动态规划经典问题 | 数据结构与算法_哔哩哔哩_bilibili">带你学透0-1背包问题！| 关于背包问题，你不清楚的地方，这里都讲了！| 动态规划经典问题 | 数据结构与算法_哔哩哔哩_bilibili</a></p> 
  </div> 
 </div> 
</blockquote> 
<h5>思路</h5> 
<p>        直接上动态规划五部曲</p> 
<blockquote> 
 <p>1、dp数组及其下标的含义</p> 
 <p>对于背包问题，有一种写法， 是使用二维数组，即<strong>dp[i][j] 表示从下标为[0-i]的物品里任意取，放进容量为j的背包，价值总和最大是多少</strong>。</p> 
 <p></p> 
 <p>2.确定递推公式</p> 
 <p>再回顾一下dp[i][j]的含义：从下标为[0-i]的物品里任意取，放进容量为j的背包，价值总和最大是多少。</p> 
 <p>那么可以有两个方向推出来dp[i][j]，</p> 
 <ul><li><strong>不放物品i</strong>：由dp[i - 1][j]推出，即背包容量为j，里面不放物品i的最大价值，此时dp[i][j]就是dp[i - 1][j]。(其实就是当物品i的重量大于背包j的重量时，物品i无法放进背包中，所以背包内的价值依然和前面相同。)</li><li><strong>放物品i</strong>：由dp[i - 1][j - weight[i]]推出，dp[i - 1][j - weight[i]] 为背包容量为j - weight[i]的时候不放物品i的最大价值，那么dp[i - 1][j - weight[i]] + value[i] （物品i的价值），就是背包放物品i得到的最大价值</li></ul> 
 <p>所以递归公式： dp[i][j] = max(dp[i - 1][j], dp[i - 1][j - weight[i]] + value[i]);</p> 
 <p></p> 
 <p>3.初始化</p> 
 <p>首先从dp[i][j]的定义出发，如果背包容量j为0的话，即dp[i][0]，无论是选取哪些物品，背包价值总和一定为0。</p> 
 <p>再看其他情况。</p> 
 <p>状态转移方程 dp[i][j] = max(dp[i - 1][j], dp[i - 1][j - weight[i]] + value[i]); 可以看出i 是由 i-1 推导出来，那么i为0的时候就一定要初始化。</p> 
 <p>dp[0][j]，即：i为0，存放编号0的物品的时候，各个容量的背包所能存放的最大价值。</p> 
 <p>那么很明显当 j &lt; weight[0]的时候，dp[0][j] 应该是 0，因为背包容量比编号0的物品重量还小。</p> 
 <p>当j &gt;= weight[0]时，dp[0][j] 应该是value[0]，因为背包容量放足够放编号0物品。</p> 
 <p></p> 
 <p>4.确定遍历顺序</p> 
 <p>在如下图中，可以看出，有两个遍历的维度：物品与背包重量</p> 
 <p></p> 
 <p class="img-center"><img alt="动态规划-背包问题3" height="466" src="https://images2.imgbox.com/e5/0c/K8Z8VWJP_o.png" width="866"></p> 
 <p>那么问题来了，<strong>先遍历 物品还是先遍历背包重量呢？</strong></p> 
 <p><strong>其实都可以！！ 但是先遍历物品更好理解</strong>。</p> 
 <p></p> 
 <p>5.举例验证，直接看链接里的吧。</p> 
</blockquote> 
<h5>代码</h5> 
<pre><code class="language-python">def test_2_wei_bag_problem1():
    weight = [1, 3, 4]
    value = [15, 20, 30]
    bagweight = 4

    # 二维数组
    dp = [[0] * (bagweight + 1) for _ in range(len(weight))]

    # 初始化
    for j in range(weight[0], bagweight + 1):
        dp[0][j] = value[0]

    # weight数组的大小就是物品个数
    for i in range(1, len(weight)):  # 遍历物品
        for j in range(bagweight + 1):  # 遍历背包容量
            if j &lt; weight[i]:
                dp[i][j] = dp[i - 1][j]
            else:
                dp[i][j] = max(dp[i - 1][j], dp[i - 1][j - weight[i]] + value[i])

    print(dp[len(weight) - 1][bagweight])

test_2_wei_bag_problem1()
</code></pre> 
<hr> 
<h4>01背包滚动数组</h4> 
<blockquote> 
 <div> 
  <div> 
   <p style="margin-left:0;text-align:left;"><a href="https://programmercarl.com/%E8%83%8C%E5%8C%85%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%8001%E8%83%8C%E5%8C%85-2.html" rel="nofollow" title="代码随想录">代码随想录</a></p> 
   <p style="margin-left:0;text-align:left;"><span style="color:#333333;">视频讲解：</span><a href="https://www.bilibili.com/video/BV1BU4y177kY" rel="nofollow" title="带你学透01背包问题（滚动数组篇） | 从此对背包问题不再迷茫！_哔哩哔哩_bilibili">带你学透01背包问题（滚动数组篇） | 从此对背包问题不再迷茫！_哔哩哔哩_bilibili</a></p> 
  </div> 
 </div> 
</blockquote> 
<p> 看链接吧，老是复制粘贴累了。</p> 
<hr> 
<h4>416.分割等和子集</h4> 
<blockquote> 
 <div> 
  <span style="color:#333333;">本题是 01背包的应用类题目</span> 
 </div> 
 <div> 
  <div> 
   <p style="margin-left:0;text-align:left;"><a href="https://programmercarl.com/0416.%E5%88%86%E5%89%B2%E7%AD%89%E5%92%8C%E5%AD%90%E9%9B%86.html" rel="nofollow" title="代码随想录">代码随想录</a></p> 
   <p style="margin-left:0;text-align:left;"><span style="color:#333333;">视频讲解：</span><a href="https://www.bilibili.com/video/BV1rt4y1N7jE" title="动态规划之背包问题，这个包能装满吗？| LeetCode：416.分割等和子集_哔哩哔哩_bilibili">动态规划之背包问题，这个包能装满吗？| LeetCode：416.分割等和子集_哔哩哔哩_bilibili</a></p> 
  </div> 
 </div> 
</blockquote> 
<h5>思路</h5> 
<p>        就是01背包的应用，背包的大小是总和的一半，遍历每一个物品，看看遍历到最后能不能装满这个背包。</p> 
<h5>代码（二维版本在链接里）</h5> 
<pre><code class="language-python">class Solution:
    def canPartition(self, nums: List[int]) -&gt; bool:
        if sum(nums) % 2 != 0:
            return False
        target = sum(nums) // 2
        dp = [0] * (target + 1)
        for num in nums:
            for j in range(target, num-1, -1):
                dp[j] = max(dp[j], dp[j-num] + num)
        return dp[-1] == target</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/670d3ac9cd46e345cd789c06786ad534/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">跟着AI学AI_11 PyTorch, TensorFlow 和JAX 功能对比简介</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/381328514952d2f05f7c852b0b466e23/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【大模型应用开发极简入门】微调（一）：1.微调基础原理介绍、2. 微调的步骤、3. 微调的应用（Copilot、邮件、法律文本分析等）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>