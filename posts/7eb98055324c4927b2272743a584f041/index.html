<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>CUDA安装及环境配置——最新详细版 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/7eb98055324c4927b2272743a584f041/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="CUDA安装及环境配置——最新详细版">
  <meta property="og:description" content="确定安装版本 在安装之前呢，我们需要确定三件事
第一：查看显卡支持的最高CUDA的版本，以便下载对应的CUDA安装包
第二：查看对应CUDA对应的VS版本，以便下载并安装对应的VS版本（vs需要先安装）
第三：确定CUDA版本对应的cuDNN版本，这个其实不用太关注，因为在cudnn的下载页面会列出每个版本对应的cuda版本，11.x以上对应的范围很宽
确定显卡支持的CUDA版本 在显卡驱动被正确安装的前提下，在命令行里输入nvidia-smi.exe，效果如图所示
可以看到显示CUDA Version为11.6，说明该显卡最高支持到11.6，我这里就选择11.6的版本，你也可以选择更低的版本比如 11.5,11.4更低的版本
确定CUDA版本支持的VS版本 查询官方安装文档，这里给出文档地址：https://docs.nvidia.com/cuda/archive/11.6.0/cuda-installation-guide-microsoft-windows/index.html
可知，支持的VS版本如下表：
可以看到支持VS2017的15.x以上的版本，VS2019 16.x以上的版本，也支持VS2022 17.0
我这里选择VS2019
确定CUDA版本对应的cuDNN版本 在cudnn下载页面，我们cuda是11.6，这里就选择cuDNNV8.4.0版本的for CUDA11.x版本即可
好了三个安装版本都确定好了，现在开始一个个安装就行，安装的顺序是先安装vs2019、CUDA11.6、然后是cuDNNV8.4.0，如果 你安装的是别的版本，注意它们之间的版本对应就行，套路是一样的。
安装vs2019 官方下载地址：https://visualstudio.microsoft.com/zh-hans/vs/older-downloads/
因为现在最新的VS2022都出来了，要下载VS2019需要注册账户，不愿意注册的小伙伴，可以从我给的百度云盘链接中下（是个在线安装包，版本为VS2019社区版 v16.11,满足刚才CUDA对vs2019 16.x以上的要求）
链接：https://pan.baidu.com/s/1D8eGWZwkRBoGyDiriWa-Hw?pwd=g790
提取码：g790
下载vs2019社区版在线安装器，然后双击运行即可
注意，需要选择C&#43;&#43;开发模块，其它根据自己的需求安装就好了，安装路径可以默认，也可以根据自己情况更改一下，然后点击安装就好了，后面都是自动安装了，因为需要在线下载东西，过程有点长，耐心等待一下~~
安装CUDA 下载安装包，在NVIDIA官方网站即可下载，地址为：https://developer.nvidia.com/cuda-toolkit-archive
注意选择你的操作系统，什么版本的 我是Windows11 需要选择11，离线安装包还是在线安装包，省得麻烦就选择离线安装包了，选择好后，点击下面的Download按钮。
安装包下载好后，双击安装包进行安装
弹出这个，临时抽取文件放置位置的，直接点击ok、随后进入系统兼容性的检查，就是看你是否下错安装包了
没问题后会弹出许可协议
直接点击同意并继续，弹出的安装选项，选择自定义
点击下一步
把CUDA选一下，还需要注意一点，如果 你前面没有安装vs，直接安装的这个，需要把CUDA里面的
Visual Studio Integration取消勾选，否则会安装不成功
我们前面已经安装vs2019了，所以我就不取消了，下一步就是选择安装的位置了，你可以直接默认安装在C盘，如果 你像我一样自定义的话，需要记住安装的位置，后面需要用到
下一步之后，就会进行安装
安装完成后，会提示Nsight Visual studio的整合情况，这里提示安装了vs2019版的，正是我们前面安装的VS版本，这样就能在vs2019里面做GPU方面的开发了
点击下一步
这里提示了你选择的组件的安装情况，到这就安装好了，点击关闭。
检查是否安装成功 打开cmd，输入 nvcc -V
出现了你安装的CUDA的版本信息，说明安装成功了
你可能还觉得不过瘾，CUDA里面有个demo_suite文件夹中有些工具，让我们测试，我们一起来试试吧 ，定位安装目录的demo_suite文件夹，我的是
D:\Program Files\Nvidia\CUDA\v11.6\extras\demo_suite
确定cmd的执行位置在这个文件夹
我们先输入deviceQuery，查询一下本机的gpu设备
我们再来测试一下带宽，输入bandwidthTest
能看出结果都是PASS，说明一切运行正常
安装cuDNN 下载安装包，在NVIDIA官方网站即可下载，地址为：https://developer.nvidia.com/rdp/cudnn-archive">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2022-11-17T19:22:00+08:00">
    <meta property="article:modified_time" content="2022-11-17T19:22:00+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">CUDA安装及环境配置——最新详细版</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="_1"></a>确定安装版本</h2> 
<p>在安装之前呢，我们需要确定三件事<br> 第一：查看显卡支持的最高CUDA的版本，以便下载对应的CUDA安装包<br> 第二：查看对应CUDA对应的VS版本，以便下载并安装对应的VS版本（vs需要先安装）<br> 第三：确定CUDA版本对应的cuDNN版本，这个其实不用太关注，因为在cudnn的下载页面会列出每个版本对应的cuda版本，11.x以上对应的范围很宽</p> 
<h3><a id="CUDA_7"></a>确定显卡支持的CUDA版本</h3> 
<p>在显卡驱动被正确安装的前提下，在命令行里输入nvidia-smi.exe，效果如图所示<br> <img src="https://images2.imgbox.com/f4/4a/R1nY6TKK_o.png" alt="CUDA Version"><br> 可以看到显示CUDA Version为11.6，说明该显卡最高支持到11.6，我这里就选择11.6的版本，你也可以选择更低的版本比如 11.5,11.4更低的版本</p> 
<h3><a id="CUDAVS_12"></a>确定CUDA版本支持的VS版本</h3> 
<p>查询官方安装文档，这里给出文档地址：https://docs.nvidia.com/cuda/archive/11.6.0/cuda-installation-guide-microsoft-windows/index.html<br> 可知，支持的VS版本如下表：<br> <img src="https://images2.imgbox.com/f0/c9/iCE3EqRn_o.png" alt="vs 版本"><br> 可以看到支持VS2017的15.x以上的版本，VS2019 16.x以上的版本，也支持VS2022 17.0<br> 我这里选择VS2019</p> 
<h3><a id="CUDAcuDNN_19"></a>确定CUDA版本对应的cuDNN版本</h3> 
<p>在cudnn下载页面，我们cuda是11.6，这里就选择cuDNNV8.4.0版本的for CUDA11.x版本即可<br> <img src="https://images2.imgbox.com/7b/53/mg1eYFUO_o.png" alt="cuDNN版本"><br> 好了三个安装版本都确定好了，现在开始一个个安装就行，安装的顺序是先安装vs2019、CUDA11.6、然后是cuDNNV8.4.0，如果 你安装的是别的版本，注意它们之间的版本对应就行，套路是一样的。</p> 
<h2><a id="vs2019_24"></a>安装vs2019</h2> 
<p>官方下载地址：https://visualstudio.microsoft.com/zh-hans/vs/older-downloads/<br> <img src="https://images2.imgbox.com/c8/e1/zPRzrlir_o.png" alt="vs2019下载页面"><br> 因为现在最新的VS2022都出来了，要下载VS2019需要注册账户，不愿意注册的小伙伴，可以从我给的百度云盘链接中下（是个在线安装包，版本为VS2019社区版 v16.11,满足刚才CUDA对vs2019 16.x以上的要求）<br> 链接：https://pan.baidu.com/s/1D8eGWZwkRBoGyDiriWa-Hw?pwd=g790<br> 提取码：g790<br> 下载vs2019社区版在线安装器，然后双击运行即可<br> <img src="https://images2.imgbox.com/29/9e/vAKo8Plo_o.png" alt="vs2019安装页面">注意，需要选择C++开发模块，其它根据自己的需求安装就好了，安装路径可以默认，也可以根据自己情况更改一下，然后点击安装就好了，后面都是自动安装了，因为需要在线下载东西，过程有点长，耐心等待一下~~</p> 
<h2><a id="CUDA_33"></a>安装CUDA</h2> 
<p>下载安装包，在NVIDIA官方网站即可下载，地址为：https://developer.nvidia.com/cuda-toolkit-archive<br> <img src="https://images2.imgbox.com/54/e4/UbRsufMb_o.png" alt="CUDA下载页面"><br> 注意选择你的操作系统，什么版本的 我是Windows11 需要选择11，离线安装包还是在线安装包，省得麻烦就选择离线安装包了，选择好后，点击下面的Download按钮。<br> 安装包下载好后，双击安装包进行安装<br> <img src="https://images2.imgbox.com/72/cd/pRWnNB6r_o.png" alt="抽取页面"><br> 弹出这个，临时抽取文件放置位置的，直接点击ok、随后进入系统兼容性的检查，就是看你是否下错安装包了<br> <img src="https://images2.imgbox.com/6d/f0/oYIwsDbi_o.png" alt="兼容性检查"><br> 没问题后会弹出许可协议<br> <img src="https://images2.imgbox.com/1e/e8/t29Erim1_o.png" alt="许可协议"><br> 直接点击同意并继续，弹出的安装选项，选择自定义<br> <img src="https://images2.imgbox.com/97/a4/SBz9x33n_o.png" alt="自定义选型"><br> 点击下一步<br> <img src="https://images2.imgbox.com/bf/c8/6Lgi2Cbw_o.png" alt="选择安装选型"><br> 把CUDA选一下，还需要注意一点，如果 你前面没有安装vs，直接安装的这个，需要把CUDA里面的<br> Visual Studio Integration取消勾选，否则会安装不成功<br> <img src="https://images2.imgbox.com/7c/5b/5HHvdxvn_o.png" alt="取消"><br> 我们前面已经安装vs2019了，所以我就不取消了，下一步就是选择安装的位置了，你可以直接默认安装在C盘，如果 你像我一样自定义的话，需要记住安装的位置，后面需要用到<br> <img src="https://images2.imgbox.com/a5/15/yJu6zvx6_o.png" alt="安装位置"><br> 下一步之后，就会进行安装<br> <img src="https://images2.imgbox.com/92/87/vVkGkC2L_o.png" alt="安装进行中"><br> 安装完成后，会提示Nsight Visual studio的整合情况，这里提示安装了vs2019版的，正是我们前面安装的VS版本，这样就能在vs2019里面做GPU方面的开发了<br> <img src="https://images2.imgbox.com/20/ef/mLc1sWyn_o.png" alt="Nsight"><br> 点击下一步<br> <img src="https://images2.imgbox.com/19/f4/jq5Hy9FR_o.png" alt="安装完成"><br> 这里提示了你选择的组件的安装情况，到这就安装好了，点击关闭。</p> 
<h3><a id="_59"></a>检查是否安装成功</h3> 
<p>打开cmd，输入 nvcc -V<br> <img src="https://images2.imgbox.com/09/bb/JytuQ4VF_o.png" alt="CUDA安装成功"><br> 出现了你安装的CUDA的版本信息，说明安装成功了<br> 你可能还觉得不过瘾，CUDA里面有个demo_suite文件夹中有些工具，让我们测试，我们一起来试试吧 ，定位安装目录的demo_suite文件夹，我的是<br> D:\Program Files\Nvidia\CUDA\v11.6\extras\demo_suite<br> 确定cmd的执行位置在这个文件夹<br> <img src="https://images2.imgbox.com/0b/71/u5S0ad5Y_o.png" alt="cmd位置"><br> 我们先输入deviceQuery，查询一下本机的gpu设备<br> <img src="https://images2.imgbox.com/5b/77/2c4u5rHQ_o.png" alt="devicequery"><br> 我们再来测试一下带宽，输入bandwidthTest<br> <img src="https://images2.imgbox.com/cb/2a/UGorcqpT_o.png" alt="bandwidthTest"><br> 能看出结果都是PASS，说明一切运行正常</p> 
<h2><a id="cuDNN_73"></a>安装cuDNN</h2> 
<p>下载安装包，在NVIDIA官方网站即可下载，地址为：https://developer.nvidia.com/rdp/cudnn-archive<br> 如果 你没有NVIDIA开发者账号的话，就按照提示注册一个就好，再登录即可下载了。<br> 下载下来是个压缩包，我的是cudnn-windows-x86_64-8.4.0.27_cuda11.6-archive.zip 直接解压缩，完成后点击去你能看到如下三个文件夹（bin、include、lib）<br> <img src="https://images2.imgbox.com/9c/5a/voxUFTx7_o.png" alt="cuDNN文件夹"><br> 把这三个文件夹的文件分别拷贝到CUDA安装目录对应的（bin、include、lib）文件夹中即可。CUDA的lib目录有x64 、Win32、cmake三个文件夹，拷到其中的x64这个文件夹中<br> <img src="https://images2.imgbox.com/8b/01/TJfgBMP2_o.png" alt="对应的位置"><br> 都装好了运行一个CUDA程序试试呗<br> 在VS2019中创建一个CUDA项目<br> <img src="https://images2.imgbox.com/87/f7/zBHvyyJr_o.png" alt="创建CUDA项目"><br> 点击下一步，默认会创建一个数组相加的例子<br> <img src="https://images2.imgbox.com/03/8c/IOCLAI1z_o.png" alt="demo"><br> 直接运行该demo，成功打印结果，大功告成了。<br> <img src="https://images2.imgbox.com/6a/39/EJPjpdmC_o.png" alt="demo结果"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b5e1c913fe357295c03786a6b2769321/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">yolov5-计算fps（新加入：4. 记录运行B导yolov7-tiny后计算fps的方法）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f8b10e030918dbcaa8928e2dbf8e386c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Java项目实战【超级详细】</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>