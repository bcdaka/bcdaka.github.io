<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>C# 超详细的WebService创建、发布与调用（VS2022） - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/c09f82fa4e05b3324cc4ab54ad1e29dd/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="C# 超详细的WebService创建、发布与调用（VS2022）">
  <meta property="og:description" content="本文章是以vs2022来创建的，对内容进行了补充和丰富。如果想看2019的，可以参考。Visual Studio 2019创建 WebServiceCSDN 1.编写接口 打开VS2022,新建项目，这里我选择的是 “ASP.NET Web应用程序(.NET Framework)”。
在这里有一个注意点：如果你的vs中不存在“ASP.NET Web应用程序(.NET Framework)“的选项，你需要重新添加一下对应的引用。VS2022新建项目时没有ASP.NET Web应用程序 （.NET Framework）
​
填写好项目名称、选择项目位置以及所使用的框架，这里我用的是“.NET Framework 4.7.2”框架，然后点击创建。
​
打开解决方案资源管理器-右键创建的web项目-添加-新建项-添加 web 服务(AMSX)。
​默认的是HelloWorld方法，自己可以添加几个方法。
​然后我们启动项目。在上面我们可以看到我们所写的五个方法，我选择其中一个点进去，点击调用后我们可以看到输出了“7”。
​
在这里需要注意的是如果本地启动以后报localhost的被拦截。需要注意一下创建项目时是否开启了高级中的https，如果不记得也没有关系，直接打开项目的属性，修改Web中的项目URL，将https改为http,重新启动项目即可。
​ 2.发布接口 右键项目，选择发布，选择文件夹，点击下一步，选择发布的文件夹位置，这里可以自己选择，但是一定要记住你选择的位置。点击完成，然后我们点击发布即可。
​
注：这里有个小细节，当我们更新Web服务里面的内容的时候，再次发布的时候我们需要注意。
打开项目所在的位置，这里面的内容即为我们所发布的内容。
然后我们打开IIS管理器（搭建自己本地的IIS服务器）。
注意：这个时候我们发现打开的网站出现了错误，
404.3错误，这个问题的原因是没有配置IIS服务，最简单粗暴的方案就是安装IIS，步骤如下：
控制面板-》打开或关闭windows功能-》Internet信息服务-》万维网服务-》应用程序开发功能，勾选上“.net扩展性”和“ASP.NET”，保存后，重启IIS服务器即可。
403.14错误，我们只需要将目录浏览启用即可。
至此，我们发布网站的步骤进行完毕，接来了我们将在程序中调用我们说发布的方法并获取到相应的值。
3.调用接口 右键项目-添加-服务引用，打开刚刚启动的网站，复制这个地址粘贴到服务引用中。
接下来点击高级，添加Web 引用(W)-在打开的界面中的URL中输入刚刚复制的网址-点击蓝色箭头-添加引用，即可在解决方案资源管理器中看到我们所添加的服务引用。
接下来我们简单的添加一个控制应用台项目来实现方法的调用。新建console程序，右键控制图应用程序中的引用，在再程序中使用引用。
这样我们就完成了一个web服务的创建、发布、使用.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2023-10-13T09:22:22+08:00">
    <meta property="article:modified_time" content="2023-10-13T09:22:22+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">C# 超详细的WebService创建、发布与调用（VS2022）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h4>本文章是以vs2022来创建的，对内容进行了补充和丰富。如果想看2019的，可以参考。<a class="link-info" href="https://mp.csdn.net/mp_blog/creation/editor/127431835" title="Visual Studio 2019创建 WebService">Visual Studio 2019创建 WebService</a><a href="https://mp.csdn.net/mp_blog/creation/editor/127431835" title="CSDN">CSDN</a></h4> 
<h4>1.编写接口</h4> 
<p>打开VS2022,新建项目，这里我选择的是 “<strong>ASP.NET Web应用程序(.NET Framework</strong>)”。</p> 
<p>在这里有一个注意点：如果你的vs中不存在“<strong>ASP.NET Web应用程序(.NET Framework</strong>)“的选项，你需要重新添加一下对应的引用。<a class="link-info" href="https://mp.csdn.net/mp_blog/creation/editor/133794463" title="VS2022新建项目时没有ASP.NET Web应用程序 （.NET Framework）">VS2022新建项目时没有ASP.NET Web应用程序 （.NET Framework）</a></p> 
<p><img alt="" height="1006" src="https://images2.imgbox.com/a4/13/y9MpwXHk_o.png" width="1200">​</p> 
<p>填写好项目名称、选择项目位置以及所使用的框架，这里我用的是“<strong>.NET Framework 4.7.2</strong>”框架，然后点击创建。</p> 
<p><img alt="" height="919" src="https://images2.imgbox.com/61/de/F5mC9To6_o.png" width="1200">​</p> 
<p>打开解决方案资源管理器-右键创建的web项目-添加-新建项-添加 <strong>web 服务(AMSX)。</strong></p> 
<p><img alt="" height="652" src="https://images2.imgbox.com/f3/fb/MFbLSLRA_o.png" width="1200">​默认的是HelloWorld方法，自己可以添加几个方法。</p> 
<p><img alt="" height="736" src="https://images2.imgbox.com/bf/e9/LXTIr4ay_o.png" width="832">​然后我们启动项目。在上面我们可以看到我们所写的五个方法，我选择其中一个点进去，点击调用后我们可以看到输出了“7”。</p> 
<p><img alt="" height="624" src="https://images2.imgbox.com/e2/5d/TN87yVQD_o.png" width="1200">​</p> 
<p>在这里需要注意的是如果本地启动以后报localhost的被拦截。需要注意一下创建项目时是否开启了高级中的https，如果不记得也没有关系，直接打开项目的属性，修改Web中的项目URL，将https改为http,重新启动项目即可。</p> 
<p><img alt="" height="704" src="https://images2.imgbox.com/2e/c4/VxybQbzT_o.png" width="1017"></p> 
<h6><img alt="" height="984" src="https://images2.imgbox.com/b0/04/Pt0qKDqe_o.png" width="1200">​</h6> 
<h4><strong>2.发布接口</strong></h4> 
<p>右键项目，选择发布，选择文件夹，点击下一步，选择发布的文件夹位置，这里可以自己选择，但是一定要记住你选择的位置。点击完成，然后我们点击发布即可。</p> 
<p><img alt="" height="750" src="https://images2.imgbox.com/a0/3a/eB4vihfY_o.png" width="1200">​</p> 
<p>注：这里有个小细节，当我们更新Web服务里面的内容的时候，再次发布的时候我们需要注意。</p> 
<p><img alt="" height="840" src="https://images2.imgbox.com/17/98/pqMtmMXO_o.png" width="1061"></p> 
<p>打开项目所在的位置，这里面的内容即为我们所发布的内容。</p> 
<p><img alt="" height="358" src="https://images2.imgbox.com/22/b6/nkq3hpH9_o.png" width="1200">然后我们打开IIS管理器（<a class="link-info" href="https://mp.csdn.net/mp_blog/creation/editor/127784064" title="搭建自己本地的IIS服务器">搭建自己本地的IIS服务器</a>）。</p> 
<p><img alt="" height="1008" src="https://images2.imgbox.com/cf/a6/fGf0l8zF_o.png" width="1200"></p> 
<p><img alt="" height="1008" src="https://images2.imgbox.com/f3/f1/C7v9AdxV_o.png" width="1200"></p> 
<p><img alt="" height="889" src="https://images2.imgbox.com/71/30/azgMWRcD_o.png" width="927"></p> 
<p>注意：这个时候我们发现打开的网站出现了错误，</p> 
<p>404.3错误，这个问题的原因是没有配置IIS服务，最简单粗暴的方案就是安装IIS，步骤如下：</p> 
<p>控制面板-》打开或关闭windows功能-》Internet信息服务-》万维网服务-》应用程序开发功能，勾选上“.net扩展性”和“ASP.NET”，保存后，重启IIS服务器即可。</p> 
<p>403.14错误，我们只需要将目录浏览启用即可。</p> 
<p><img alt="" height="613" src="https://images2.imgbox.com/1a/63/4ZzYTn2k_o.png" width="1200"></p> 
<p><img alt="" height="319" src="https://images2.imgbox.com/b1/bf/ViF5QjDT_o.png" width="633"></p> 
<p><img alt="" height="1009" src="https://images2.imgbox.com/b6/38/atuslrWy_o.png" width="1200"></p> 
<p>至此，我们发布网站的步骤进行完毕，接来了我们将在程序中调用我们说发布的方法并获取到相应的值。</p> 
<h4>3.调用接口</h4> 
<p>右键项目-添加-服务引用，打开刚刚启动的网站，复制这个地址粘贴到服务引用中。</p> 
<p><img alt="" height="768" src="https://images2.imgbox.com/30/7d/hwmHxfxQ_o.png" width="1200"></p> 
<p>接下来点击<strong>高级，</strong>添加Web 引用(W)-在打开的界面中的URL中输入刚刚复制的网址-点击蓝色箭头-添加引用，即可在解决方案资源管理器中看到我们所添加的服务引用。</p> 
<p><img alt="" height="966" src="https://images2.imgbox.com/f0/84/gy1TuqwT_o.png" width="1200"></p> 
<p>接下来我们简单的添加一个控制应用台项目来实现方法的调用。新建console程序，右键控制图应用程序中的引用，在再程序中使用引用。</p> 
<p><img alt="" height="688" src="https://images2.imgbox.com/6c/e7/aL1N9PCo_o.png" width="1200"></p> 
<p><img alt="" height="826" src="https://images2.imgbox.com/e6/00/ZpHi2xUz_o.png" width="1156"></p> 
<p><img alt="" height="415" src="https://images2.imgbox.com/a6/bc/itzDc246_o.png" width="786">这样我们就完成了一个web服务的创建、发布、使用.</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e377618c79328e43f08b01b1defa4aa1/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">文心一言Plugin实战来了，测试开发旅游攻略助手</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c44f13d40e1daef748d672c4d724f2d6/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Java Excel转PDF，支持xlsx和xls两种格式， itextpdf【即取即用】</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>