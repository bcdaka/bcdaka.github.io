<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>C/C&#43;&#43;数字与字符串互相转换 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/cf21c45328d6e3eccd2a467dfe2b561d/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="C/C&#43;&#43;数字与字符串互相转换">
  <meta property="og:description" content="前言： 在C/C&#43;&#43;程序中，会需要把数字与字符串做出互相转换的操作，用于实现程序想要的效果。下面将介绍多种方法实现数字与字符串互相转换。
字符串转为数字 一、利用ASCII 我们知道每个字符都有一个ASCII码，利用这一点可以将字符-&#39;0&#39;转为数字。在字母大小写转换时也可以利用这个性质。
#include&lt;iostream&gt; #include&lt;cstring&gt; using namespace std; char ch[]={&#39;1&#39;,&#39;2&#39;,&#39;3&#39;,&#39;4&#39;,&#39;5&#39;}; int main(){ for(int i=0;i&lt;strlen(ch);i&#43;&#43;){ cout&lt;&lt;ch[i]-&#39;0&#39;&lt;&lt;&#34; &#34;; } return 0; } 输出int类型的1，2，3，4，5
二、stoi() stoi函数是C&#43;&#43;标准库中的一个函数，用于将字符串转换为整数，针对于string类型的。stoi函数是C&#43;&#43;11引入的，因此只有在C&#43;&#43;11及以上的版本中才能使用该函数。如果你的编译器版本较老，不支持C&#43;&#43;11，那么就无法使用stoi函数。学校机房的dev-C&#43;&#43;一般是C98标准的，需要自己手动改成C11。
int num=stoi(const string&amp; str, size_t* idx = 0, int base = 10); 其中，str是需要转换的字符串；idx是一个指向size_t类型的指针，用于保存转换结束的位置；base是进制，默认为10进制。一般只给传第一个参数即可，也可以利用此函数实现进制转换。
类似的还有stol()、stof()、stod(),分别将字符串类型转换成long long、float、double类型。
#include&lt;iostream&gt; #include&lt;cstring&gt; using namespace std; string s=&#34;12345&#34;; int main(){ int a=stoi(s); long long b=stol(s); double c=stod(s); float d=stof(s); cout&lt;&lt;&#34;int:&#34;&lt;&lt;a&lt;&lt;endl; cout&lt;&lt;&#34;long long:&#34;&lt;&lt;b&lt;&lt;endl; cout&lt;&lt;&#34;double:&#34;&lt;&lt;c&lt;&lt;endl; cout&lt;&lt;&#34;float:&#34;&lt;&lt;d&lt;&lt;endl; return 0; } 三、atoi() atoi()函数是C语言中的一个函数，主要用于将字符串转换为整数。针对于字符数组,类似的还有atol()、atof()、atod()。
int num=atoi(const char *str); 其中，str是一个以null结尾的字符串，表示要转换的整数。">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-08-08T19:40:57+08:00">
    <meta property="article:modified_time" content="2024-08-08T19:40:57+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">C/C&#43;&#43;数字与字符串互相转换</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h3>前言：</h3> 
<p>在C/C++程序中，会需要把数字与字符串做出互相转换的操作，用于实现程序想要的效果。下面将介绍多种方法实现数字与字符串互相转换。</p> 
<p style="text-align:center;"><img alt="" height="106" src="https://images2.imgbox.com/53/c6/Bv5NajZt_o.gif" width="842"></p> 
<h3>字符串转为数字</h3> 
<h4>一、利用ASCII</h4> 
<p>我们知道每个字符都有一个ASCII码，利用这一点可以将字符-'0'转为数字。在字母大小写转换时也可以利用这个性质。</p> 
<p class="img-center"><img alt="" height="890" src="https://images2.imgbox.com/c2/73/m7A7CG1B_o.png" width="630"></p> 
<pre><code class="language-cpp">#include&lt;iostream&gt;
#include&lt;cstring&gt;
using namespace std;
char ch[]={'1','2','3','4','5'};
int main(){
	for(int i=0;i&lt;strlen(ch);i++){
		cout&lt;&lt;ch[i]-'0'&lt;&lt;" ";
	}
	return 0;
}</code></pre> 
<p> 输出int类型的1，2，3，4，5</p> 
<hr> 
<h4>二、stoi()</h4> 
<p>stoi函数是C++标准库中的一个函数，用于将字符串转换为整数，针对于string类型的。stoi函数是C++11引入的，因此只有在C++11及以上的版本中才能使用该函数。如果你的编译器版本较老，不支持C++11，那么就无法使用stoi函数。学校机房的dev-C++一般是C98标准的，需要自己手动改成C11。</p> 
<pre><code class="language-cpp">int num=stoi(const string&amp;  str, size_t* idx = 0, int base = 10);
</code></pre> 
<p>其中，str是需要转换的字符串；idx是一个指向size_t类型的指针，用于保存转换结束的位置；base是进制，默认为10进制。一般只给传第一个参数即可，也可以利用此函数实现进制转换。</p> 
<p>类似的还有stol()、stof()、stod(),分别将字符串类型转换成long long、float、double类型。</p> 
<pre><code class="language-cpp">#include&lt;iostream&gt;
#include&lt;cstring&gt;

using namespace std;
string s="12345";
int main(){
	int a=stoi(s);
	long long b=stol(s);
	double c=stod(s);
	float d=stof(s);
	cout&lt;&lt;"int:"&lt;&lt;a&lt;&lt;endl;
	cout&lt;&lt;"long long:"&lt;&lt;b&lt;&lt;endl;
	cout&lt;&lt;"double:"&lt;&lt;c&lt;&lt;endl;
	cout&lt;&lt;"float:"&lt;&lt;d&lt;&lt;endl;
	return 0;
}
</code></pre> 
<p><img alt="" height="125" src="https://images2.imgbox.com/5e/39/s3lO0Dtl_o.png" width="258"></p> 
<hr> 
<h4>三、atoi()</h4> 
<p>atoi()函数是C语言中的一个函数，主要用于将字符串转换为整数。针对于字符数组,类似的还有atol()、atof()、atod()。</p> 
<pre><code class="language-c language-cpp">int num=atoi(const char *str);
</code></pre> 
<p>其中，str是一个以null结尾的字符串，表示要转换的整数。</p> 
<p>该函数将从字符串的开头开始解析，直到遇到第一个非数字字符为止。如果开头是一个正号或负号，它也会解析为整数的一部分。如果字符串中的第一个非空格字符不是有效的数字字符或正负号，则返回0。</p> 
<pre><code class="language-cpp">#include&lt;iostream&gt;
#include&lt;cstring&gt;

using namespace std;
char s1[]="12345";
char s2[]="qwe";
int main(){
	int a=atoi(s1);
	long long b=atol(s2);
	cout&lt;&lt;"int:"&lt;&lt;a&lt;&lt;endl;
	cout&lt;&lt;"long long:"&lt;&lt;b&lt;&lt;endl;
	return 0;
}
</code></pre> 
<p><img alt="" height="86" src="https://images2.imgbox.com/6c/bf/fG3rNKjY_o.png" width="278"></p> 
<hr> 
<h4>四、sscanf()</h4> 
<p>sscanf函数是一个用来将字符串按照指定格式解析的函数。它接受一个输入字符串和一个格式字符串作为参数，并根据格式字符串的指示将字符串中的数据解析为对应的变量中。主要是针对于字符数组。</p> 
<pre><code class="language-cpp">sscanf(str,"%d",&amp;num);//str字符数组,%dint类型,num转换完成数字</code></pre> 
<p>代码应用如下：</p> 
<pre><code class="language-cpp">#include&lt;iostream&gt;
#include&lt;cstring&gt;

using namespace std;
char s1[]="12345";
char s2[]="qwe";
int main(){
	int a;
	long long b;
	sscanf(s1,"%d",&amp;a);
	sscanf(s2,"%lld",&amp;b);//转字母会成乱码
	cout&lt;&lt;"int:"&lt;&lt;a&lt;&lt;endl;
	cout&lt;&lt;"long long:"&lt;&lt;b&lt;&lt;endl;
	return 0;
}
</code></pre> 
<p><img alt="" height="88" src="https://images2.imgbox.com/90/42/KFNRDuyK_o.png" width="342"></p> 
<hr> 
<h4>五、stringstream</h4> 
<p>stringstream是C++中的一个类，可以用来对字符串进行输入输出操作。它是基于字符串的流，可以用来将字符串转换为其他类型的数据，以及将其他类型的数据转换为字符串。stringstream类的<strong>头文件是&lt;sstream&gt;</strong>，我们需要包含这个头文件才能使用stringstream类。</p> 
<pre><code class="language-cpp">#include&lt;iostream&gt;
#include&lt;sstream&gt;
#include&lt;cstring&gt;
#include&lt;typeinfo&gt;

using namespace std;
int main(){
	stringstream ss;
	string s="12345";
	int num;
	ss&lt;&lt;s;//将字符串读入字符串流 
	ss&gt;&gt;num;//从字符串流中读取数据转换为整数
	cout&lt;&lt;typeid(num).name()&lt;&lt;" "&lt;&lt;num&lt;&lt;endl;
	return 0; 
}</code></pre> 
<p><img alt="" height="66" src="https://images2.imgbox.com/1c/41/S6L1pLid_o.png" width="282"></p> 
<hr> 
<h3>数字转为字符串</h3> 
<h4>一、利用ASCII</h4> 
<p>字符转数字可以-'0'，数字转字符那么就可以+'0'，还是利用了ASCII码值的特性。</p> 
<pre><code class="language-cpp">#include&lt;iostream&gt;
#include&lt;cstring&gt;
using namespace std;
int nums[]={1,2,3,4,5};
int main(){
	for(int i=0;i&lt;sizeof(nums)/sizeof(int);i++){
		cout&lt;&lt;nums[i]+'0'&lt;&lt;" ";
	}
	return 0;
}</code></pre> 
<p>注意：转换结果为49 50 51 52 53 ，对应ASCII码值，因为原理就是用ASCII码转换的。</p> 
<hr> 
<h4>一、to_string()</h4> 
<p>to_string函数是C++标准库提供的一个函数，用于将不同类型的数据转换为字符串。可以将int、float、double、long long等类型转换为string类型。<strong>需要包含头文件#include&lt;cstring&gt;</strong></p> 
<pre><code class="language-cpp">#include&lt;iostream&gt;
#include&lt;cstring&gt;
using namespace std;
int a=24;
long long b=12345678;
double c=3.1415;
string s;
int main(){
	s=to_string(a);
	cout&lt;&lt;s&lt;&lt;endl;
	s=to_string(b);
	cout&lt;&lt;s&lt;&lt;endl;
	s=to_string(c);
	cout&lt;&lt;s&lt;&lt;endl;
	return 0;
}</code></pre> 
<p><img alt="" height="105" src="https://images2.imgbox.com/c9/da/zTBbJZhl_o.png" width="345"></p> 
<hr> 
<h4>二、itoa()</h4> 
<p>itoa函数用于将整数转换为字符串。类似的还有ltoa、ftoa、dtoa分别将long long、float、double转换为字符串类型。针对于字符数组。</p> 
<pre><code class="language-cpp">itoa(num,str,10);</code></pre> 
<p>第一个参数是待转换的数字，第二个参数是转换完成的字符数组，第三个是转换的进制数，默认10进制。</p> 
<pre><code class="language-cpp">#include&lt;iostream&gt;
#include&lt;cstring&gt;
using namespace std;
int n=12345;
char str[10];
int main(){
	itoa(n,str,10); 
	cout&lt;&lt;str&lt;&lt;endl;
	return 0;
}</code></pre> 
<p> 结果为12345</p> 
<hr> 
<h4>三、sprintf()</h4> 
<p>sprintf()函数是c语言库中的函数，可以将数字转换为字符串类型，一般转换为字符数组。</p> 
<pre><code class="language-cpp">sprintf(str,"%d",num);
</code></pre> 
<p>str是转换完成的字符数组，%d是类型，num是待转换的数字。 </p> 
<pre><code class="language-cpp">#include&lt;iostream&gt;
#include&lt;cstring&gt;
using namespace std;
int n=12345;
char str[10];
int main(){
	sprintf(str,"%d",n); 
	cout&lt;&lt;str&lt;&lt;endl;
	return 0;
}</code></pre> 
<p>结果为：12345</p> 
<hr> 
<h4> 四、stringstream</h4> 
<p>与字符串转数字的一样，可以互相转换，同时还是要包含<strong>头文件&lt;sstream&gt;，具体使用如下</strong></p> 
<pre><code class="language-cpp">#include&lt;iostream&gt;
#include&lt;sstream&gt;
#include&lt;cstring&gt;
#include&lt;typeinfo&gt;

using namespace std;
int main(){
	stringstream ss;
	string s="12345";
	int num=54321;
	ss&lt;&lt;num;//将int类型的数据写入字符串流中
	s=ss.str();//将字符串流中的数据转换为string类型
	cout&lt;&lt;typeid(s).name()&lt;&lt;" "&lt;&lt;num&lt;&lt;endl;
	return 0; 
}</code></pre> 
<p><img alt="" height="67" src="https://images2.imgbox.com/d4/eb/WFeNtegd_o.png" width="309"></p> 
<hr> 
<p>本篇到此为止，感谢大家支持。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/3425e7f97e8e9cfaebd7bc91d81252d4/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">pdf怎么加密码怎么设置密码？pdf加密码的几种设置方法</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/74b1b88185e4e69b324ab3ae3e01681f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">mvcc底层实现原理知道吗</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>