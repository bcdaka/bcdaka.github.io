<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>人大金仓国产数据库与PostgreSQL - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/7ee4a45a90fc7ffa778e8df9088decbf/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="人大金仓国产数据库与PostgreSQL">
  <meta property="og:description" content="一、简介 在前面项目中，我们使用若依前后端分离整合人大金仓，在后续开发过程中，我们经常因为各种”不适配“问题，但可以感觉得到大部分问题，将人大金仓视为postgreSQL就能去解决大部分问题。据了解，Kingbase 是基于 开源数据库 PostgreSQL 开发的，大部分功能与 PostgreSQL兼容。Kingbase 8 是基于 PostgreSQL 9.6 的。那么下面我们来分析下具体哪些不同，也方便程序猿们在开发中更高效的去解决业务场景中出现的问题
二、具体差异 2.1 进程结构基本一致 KingbaseES和PostgreSQL启动后的后台进程
Kingbase：
postgreSQL：
和pg（9.6版本）相比，除了kinbaseES多了一个logger process和一个bgworker:sysloglical supervisor外，其他的后台进程完全是一模一样的，连名字都没变。
在更高一点的版本中，对比就会发现，几乎完全一致。这里也不难理解为什么使用navicat中postgreSQL的连接方式能够管理人大金仓数据库了。
2.2 JDBC postgresql 9.6
kingbase 8
driver_class
org.postgresql.Driver
com.kingbase8.Driver
url
jdbc:postgresql://127.0.0.1:5432/postgres
jdbc:kingbase8://127.0.0.1:54321/kingbase
jdbc 的 jar
postgresql.jdbc-9.0.jar
&lt;dependency&gt;
&lt;groupId&gt;org.postgresql&lt;/groupId&gt;
&lt;artifactId&gt;postgresql.jdbc&lt;/artifactId&gt;
&lt;version&gt;9.0&lt;/version&gt;
&lt;/dependency&gt;
kingbase8-8.2.0.jar
&lt;dependency&gt;
&lt;groupId&gt;com.kingbase8&lt;/groupId&gt;
&lt;artifactId&gt;kingbase8-jdbc&lt;/artifactId&gt;
&lt;version&gt;8.2.0&lt;/version&gt;
&lt;/dependency&gt;
hibernate 的jar
hibernate-5.0.12.jar
&lt;dependency&gt;
&lt;groupId&gt;org.hibernate&lt;/groupId&gt;
&lt;artifactId&gt;hibernate&lt;/artifactId&gt;
&lt;version&gt;5.0.12&lt;/version&gt;
&lt;/dependency&gt;
hibernate-3.6.0-dialect-1.0.jar
&lt;dependency&gt;
&lt;groupId&gt;com.kingbase&lt;/groupId&gt;
&lt;artifactId&gt;hibernate-3.6.0-dialect&lt;/artifactId&gt;
&lt;version&gt;1.0&lt;/version&gt;
&lt;/dependency&gt;
hibernate方言
org.hibernate.dialect.PostgreSQL9Dialect
org.hibernate.dialect.Kingbase8Dialect
引用资料：PostgreSQL 与 Kingbase 的差异对比 - 草色青青送马蹄 - 博客园 (cnblogs.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-03-30T21:40:10+08:00">
    <meta property="article:modified_time" content="2024-03-30T21:40:10+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">人大金仓国产数据库与PostgreSQL</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2> 一、简介</h2> 
<p>         在前面项目中，我们使用若依前后端分离整合人大金仓，在后续开发过程中，我们经常因为各种”不适配“问题，但可以感觉得到大部分问题，将人大金仓视为postgreSQL就能去解决大部分问题。据了解，Kingbase 是基于 开源数据库 PostgreSQL 开发的，大部分功能与 PostgreSQL兼容。Kingbase 8 是基于 PostgreSQL 9.6 的。那么下面我们来分析下具体哪些不同，也方便程序猿们在开发中更高效的去解决业务场景中出现的问题</p> 
<p></p> 
<h2>二、具体差异</h2> 
<p></p> 
<h3>2.1 进程结构基本一致</h3> 
<p>KingbaseES和PostgreSQL启动后的后台进程</p> 
<p>Kingbase：</p> 
<p><img alt="" height="222" src="https://images2.imgbox.com/ea/71/a4eewvdb_o.png" width="1200"></p> 
<p>postgreSQL：</p> 
<p><img alt="" height="91" src="https://images2.imgbox.com/fc/b9/FJ0poTXi_o.png" width="690"></p> 
<p>        和pg（9.6版本）相比，除了kinbaseES多了一个logger process和一个bgworker:sysloglical supervisor外，其他的后台进程完全是一模一样的，连名字都没变。</p> 
<p>        在更高一点的版本中，对比就会发现，几乎完全一致。这里也不难理解为什么使用navicat中postgreSQL的连接方式能够管理人大金仓数据库了。</p> 
<p></p> 
<h3>2.2 JDBC</h3> 
<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td style="vertical-align:bottom;"> <p>　</p> </td><td style="vertical-align:bottom;"> <p><strong>postgresql 9.6</strong></p> </td><td style="vertical-align:bottom;"> <p><strong>kingbase 8</strong></p> </td></tr><tr><td style="vertical-align:bottom;"> <p>driver_class</p> </td><td style="vertical-align:bottom;"> <p>org.postgresql.Driver</p> </td><td style="vertical-align:bottom;"> <p>com.kingbase8.Driver</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>url</p> </td><td style="vertical-align:bottom;"> <p>jdbc:postgresql://127.0.0.1:5432/postgres</p> </td><td style="vertical-align:bottom;"> <p>jdbc:kingbase8://127.0.0.1:54321/kingbase</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>jdbc 的 jar</p> </td><td style="vertical-align:bottom;"> <p>postgresql.jdbc-9.0.jar</p> <p></p> <p>&lt;dependency&gt;</p> <p>  &lt;groupId&gt;org.postgresql&lt;/groupId&gt;</p> <p>  &lt;artifactId&gt;postgresql.jdbc&lt;/artifactId&gt;</p> <p>  &lt;version&gt;9.0&lt;/version&gt;</p> <p>&lt;/dependency&gt;</p> </td><td style="vertical-align:bottom;"> <p>kingbase8-8.2.0.jar<br><br> &lt;dependency&gt;</p> <p>  &lt;groupId&gt;com.kingbase8&lt;/groupId&gt;</p> <p>  &lt;artifactId&gt;kingbase8-jdbc&lt;/artifactId&gt;</p> <p>  &lt;version&gt;8.2.0&lt;/version&gt;</p> <p>&lt;/dependency&gt;</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>hibernate 的jar</p> </td><td style="vertical-align:bottom;"> <p>hibernate-5.0.12.jar<br>  </p> <p>&lt;dependency&gt;</p> <p>&lt;groupId&gt;org.hibernate&lt;/groupId&gt;</p> <p>&lt;artifactId&gt;hibernate&lt;/artifactId&gt;</p> <p>  &lt;version&gt;5.0.12&lt;/version&gt;</p> <p>&lt;/dependency&gt;</p> </td><td style="vertical-align:bottom;"> <p>hibernate-3.6.0-dialect-1.0.jar<br>  </p> <p>&lt;dependency&gt;</p> <p>&lt;groupId&gt;com.kingbase&lt;/groupId&gt;</p> <p>&lt;artifactId&gt;hibernate-3.6.0-dialect&lt;/artifactId&gt;</p> <p>&lt;version&gt;1.0&lt;/version&gt;</p> <p>&lt;/dependency&gt;</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>hibernate方言</p> </td><td style="vertical-align:bottom;"> <p>org.hibernate.dialect.PostgreSQL9Dialect</p> </td><td style="vertical-align:bottom;"> <p>org.hibernate.dialect.Kingbase8Dialect</p> </td></tr></tbody></table> 
<p>引用资料：<a href="https://www.cnblogs.com/xianghuaqiang/p/13433621.html" rel="nofollow" title="PostgreSQL 与 Kingbase 的差异对比 - 草色青青送马蹄 - 博客园 (cnblogs.com)">PostgreSQL 与 Kingbase 的差异对比 - 草色青青送马蹄 - 博客园 (cnblogs.com)</a></p> 
<p>这里127.0.0.1 表示本地的ip地址。</p> 
<p>5432 是postgresql的默认端口；54321则是人大金仓的的默认端口。</p> 
<p>postgres 是postgresql默认的数据库名，kingbase是Kingbase默认的数据库名。</p> 
<p><img alt="" height="382" src="https://images2.imgbox.com/b7/6d/8V7U8Hcn_o.png" width="931"></p> 
<p>        从这一部分来说，发现的是url以及等等上面有明显不同，但是在开发的过程中，将驱动改为PostgreSQL依旧能够驱动，很是耐人寻味，我们接着往下看。</p> 
<p>        </p> 
<h3> 2.3 数据目录结构和组成基本一致。</h3> 
<p>命令程序</p> 
<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td style="vertical-align:bottom;"> <p><strong>postgresql 9.6</strong></p> </td><td style="vertical-align:bottom;"> <p><strong>kingbase 8</strong></p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pgbench</p> </td><td style="vertical-align:bottom;"> <p>kbbench</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>postgres</p> </td><td style="vertical-align:bottom;"> <p>kingbase</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>psql</p> </td><td style="vertical-align:bottom;"> <p>ksql</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_archivecleanup</p> </td><td style="vertical-align:bottom;"> <p>sys_archivecleanup</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_basebackup</p> </td><td style="vertical-align:bottom;"> <p>sys_basebackup</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_bulkload</p> </td><td style="vertical-align:bottom;"> <p>sys_bulkload</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_config</p> </td><td style="vertical-align:bottom;"> <p>sys_config</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_controldata</p> </td><td style="vertical-align:bottom;"> <p>sys_controldata</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_ctl</p> </td><td style="vertical-align:bottom;"> <p>sys_ctl</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_dump</p> </td><td style="vertical-align:bottom;"> <p>sys_dump</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_dumpall</p> </td><td style="vertical-align:bottom;"> <p>sys_dumpall</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_hm</p> </td><td style="vertical-align:bottom;"> <p>sys_hm</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_isready</p> </td><td style="vertical-align:bottom;"> <p>sys_isready</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pglogical_create_subscriber</p> </td><td style="vertical-align:bottom;"> <p>syslogical_create_subscriber</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_receivexlog</p> </td><td style="vertical-align:bottom;"> <p>sys_receivexlog</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_recvlogical</p> </td><td style="vertical-align:bottom;"> <p>sys_recvlogical</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_resetxlog</p> </td><td style="vertical-align:bottom;"> <p>sys_resetxlog</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_restore</p> </td><td style="vertical-align:bottom;"> <p>sys_restore</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_rewind</p> </td><td style="vertical-align:bottom;"> <p>sys_rewind</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_rman</p> </td><td style="vertical-align:bottom;"> <p>sys_rman</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_test_fsync</p> </td><td style="vertical-align:bottom;"> <p>sys_test_fsync</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_test_timing</p> </td><td style="vertical-align:bottom;"> <p>sys_test_timing</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_upgrade</p> </td><td style="vertical-align:bottom;"> <p>sys_upgrade</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_xlogdump</p> </td><td style="vertical-align:bottom;"> <p>sys_xlogdump</p> </td></tr></tbody></table> 
<p>系统表和视图</p> 
<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td style="vertical-align:bottom;"> <p><strong>postgresql 9.6</strong></p> </td><td style="vertical-align:bottom;"> <p><strong>kingbase 8</strong></p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_aggregate</p> </td><td style="vertical-align:bottom;"> <p>sys_aggregate</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_am</p> </td><td style="vertical-align:bottom;"> <p>sys_am</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_amop</p> </td><td style="vertical-align:bottom;"> <p>sys_amop</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_amproc</p> </td><td style="vertical-align:bottom;"> <p>sys_amproc</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_attrdef</p> </td><td style="vertical-align:bottom;"> <p>sys_attrdef</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_attribute</p> </td><td style="vertical-align:bottom;"> <p>sys_attribute</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_authid</p> </td><td style="vertical-align:bottom;"> <p>sys_authid</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_auth_members</p> </td><td style="vertical-align:bottom;"> <p>sys_auth_members</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_cast</p> </td><td style="vertical-align:bottom;"> <p>sys_cast</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_class</p> </td><td style="vertical-align:bottom;"> <p>sys_class</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_collation</p> </td><td style="vertical-align:bottom;"> <p>sys_collation</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_constraint</p> </td><td style="vertical-align:bottom;"> <p>sys_constraint</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_conversion</p> </td><td style="vertical-align:bottom;"> <p>sys_conversion</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_database</p> </td><td style="vertical-align:bottom;"> <p>sys_database</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_db_role_setting</p> </td><td style="vertical-align:bottom;"> <p>sys_db_role_setting</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_default_acl</p> </td><td style="vertical-align:bottom;"> <p>sys_default_acl</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_depend</p> </td><td style="vertical-align:bottom;"> <p>sys_depend</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_description</p> </td><td style="vertical-align:bottom;"> <p>sys_description</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_enum</p> </td><td style="vertical-align:bottom;"> <p>sys_enum</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_event_trigger</p> </td><td style="vertical-align:bottom;"> <p>sys_event_trigger</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_extension</p> </td><td style="vertical-align:bottom;"> <p>sys_extension</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_foreign_data_wrapper</p> </td><td style="vertical-align:bottom;"> <p>sys_foreign_data_wrapper</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_foreign_server</p> </td><td style="vertical-align:bottom;"> <p>sys_foreign_server</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_foreign_table</p> </td><td style="vertical-align:bottom;"> <p>sys_foreign_table</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_index</p> </td><td style="vertical-align:bottom;"> <p>sys_index</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_inherits</p> </td><td style="vertical-align:bottom;"> <p>sys_inherits</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_init_privs</p> </td><td style="vertical-align:bottom;"> <p>sys_init_privs</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_language</p> </td><td style="vertical-align:bottom;"> <p>sys_language</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_largeobject</p> </td><td style="vertical-align:bottom;"> <p>sys_largeobject</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_largeobject_metadata</p> </td><td style="vertical-align:bottom;"> <p>sys_largeobject_metadata</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_namespace</p> </td><td style="vertical-align:bottom;"> <p>sys_namespace</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_opclass</p> </td><td style="vertical-align:bottom;"> <p>sys_opclass</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_operator</p> </td><td style="vertical-align:bottom;"> <p>sys_operator</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_opfamily</p> </td><td style="vertical-align:bottom;"> <p>sys_opfamily</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_partitioned_table</p> </td><td style="vertical-align:bottom;"> <p>sys_partitioned_table</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_pltemplate</p> </td><td style="vertical-align:bottom;"> <p>sys_pltemplate</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_policy</p> </td><td style="vertical-align:bottom;"> <p>sys_policy</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_proc</p> </td><td style="vertical-align:bottom;"> <p>sys_proc</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_publication</p> </td><td style="vertical-align:bottom;"> <p>sys_publication</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_publication_rel</p> </td><td style="vertical-align:bottom;"> <p>sys_publication_rel</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_range</p> </td><td style="vertical-align:bottom;"> <p>sys_range</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_replication_origin</p> </td><td style="vertical-align:bottom;"> <p>sys_replication_origin</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_rewrite</p> </td><td style="vertical-align:bottom;"> <p>sys_rewrite</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_seclabel</p> </td><td style="vertical-align:bottom;"> <p>sys_seclabel</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_sequence</p> </td><td style="vertical-align:bottom;"> <p>sys_sequence</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_shdepend</p> </td><td style="vertical-align:bottom;"> <p>sys_shdepend</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_shdescription</p> </td><td style="vertical-align:bottom;"> <p>sys_shdescription</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_shseclabel</p> </td><td style="vertical-align:bottom;"> <p>sys_shseclabel</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_statistic</p> </td><td style="vertical-align:bottom;"> <p>sys_statistic</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_statistic_ext</p> </td><td style="vertical-align:bottom;"> <p>sys_statistic_ext</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_subscription</p> </td><td style="vertical-align:bottom;"> <p>sys_subscription</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_subscription_rel</p> </td><td style="vertical-align:bottom;"> <p>sys_subscription_rel</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_tablespace</p> </td><td style="vertical-align:bottom;"> <p>sys_tablespace</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_transform</p> </td><td style="vertical-align:bottom;"> <p>sys_transform</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_trigger</p> </td><td style="vertical-align:bottom;"> <p>sys_trigger</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_ts_config</p> </td><td style="vertical-align:bottom;"> <p>sys_ts_config</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_ts_config_map</p> </td><td style="vertical-align:bottom;"> <p>sys_ts_config_map</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_ts_dict</p> </td><td style="vertical-align:bottom;"> <p>sys_ts_dict</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_ts_parser</p> </td><td style="vertical-align:bottom;"> <p>sys_ts_parser</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_ts_template</p> </td><td style="vertical-align:bottom;"> <p>sys_ts_template</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_type</p> </td><td style="vertical-align:bottom;"> <p>sys_type</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_user_mapping</p> </td><td style="vertical-align:bottom;"> <p>sys_user_mapping</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>System Views</p> </td><td style="vertical-align:bottom;"> <p>sysstem Views</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_available_extensions</p> </td><td style="vertical-align:bottom;"> <p>sys_available_extensions</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_available_extension_versions</p> </td><td style="vertical-align:bottom;"> <p>sys_available_extension_versions</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_config</p> </td><td style="vertical-align:bottom;"> <p>sys_config</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_cursors</p> </td><td style="vertical-align:bottom;"> <p>sys_cursors</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_file_settings</p> </td><td style="vertical-align:bottom;"> <p>sys_file_settings</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_group</p> </td><td style="vertical-align:bottom;"> <p>sys_group</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_hba_file_rules</p> </td><td style="vertical-align:bottom;"> <p>sys_hba_file_rules</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_indexes</p> </td><td style="vertical-align:bottom;"> <p>sys_indexes</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_locks</p> </td><td style="vertical-align:bottom;"> <p>sys_locks</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_matviews</p> </td><td style="vertical-align:bottom;"> <p>sys_matviews</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_policies</p> </td><td style="vertical-align:bottom;"> <p>sys_policies</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_prepared_statements</p> </td><td style="vertical-align:bottom;"> <p>sys_prepared_statements</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_prepared_xacts</p> </td><td style="vertical-align:bottom;"> <p>sys_prepared_xacts</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_publication_tables</p> </td><td style="vertical-align:bottom;"> <p>sys_publication_tables</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_replication_origin_status</p> </td><td style="vertical-align:bottom;"> <p>sys_replication_origin_status</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_replication_slots</p> </td><td style="vertical-align:bottom;"> <p>sys_replication_slots</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_roles</p> </td><td style="vertical-align:bottom;"> <p>sys_roles</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_rules</p> </td><td style="vertical-align:bottom;"> <p>sys_rules</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_seclabels</p> </td><td style="vertical-align:bottom;"> <p>sys_seclabels</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_sequences</p> </td><td style="vertical-align:bottom;"> <p>sys_sequences</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_settings</p> </td><td style="vertical-align:bottom;"> <p>sys_settings</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_shadow</p> </td><td style="vertical-align:bottom;"> <p>sys_shadow</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_stats</p> </td><td style="vertical-align:bottom;"> <p>sys_stats</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_tables</p> </td><td style="vertical-align:bottom;"> <p>sys_tables</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_timezone_abbrevs</p> </td><td style="vertical-align:bottom;"> <p>sys_timezone_abbrevs</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_timezone_names</p> </td><td style="vertical-align:bottom;"> <p>sys_timezone_names</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_user</p> </td><td style="vertical-align:bottom;"> <p>sys_user</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_user_mappings</p> </td><td style="vertical-align:bottom;"> <p>sys_user_mappings</p> </td></tr><tr><td style="vertical-align:bottom;"> <p>pg_views</p> </td><td style="vertical-align:bottom;"> <p>sys_views</p> </td></tr></tbody></table> 
<p>        这两张表都是能找到的，具体来源我也不太确定，kingbase只是将postgresql 的表的前缀从 pg 改成了 sys......数据目录结构和组成基本一致。</p> 
<h3>2.4 集群方面</h3> 
<p><img alt="" height="1035" src="https://images2.imgbox.com/71/7e/XGuPj1HJ_o.png" width="1200">​</p> 
<p><strong>图中各组件的介绍和作用:</strong></p> 
<ul><li>postgresql 官方的数据库系统, 内置了副本机制, 复制模式支持全同步、半同步、全异步模式。同时还支持级联复制.</li><li>citus 它是postgresql的一个扩展, 为 postgresql 提供了分布式能力, 它和Mysql生态中的Mycat的作用类似. 
  <ul><li>它不入侵 Postgresql 代码, 而是依托于 Postgresql 而不是改造 Postgresql, 因此可以使用postgresql最新版本的功能、工具和生态系统。</li><li>它将 Postgresql 从单个节点扩展到大型分布式数据库集群, 可以随意水平扩展以支持更大的数据量、更大的写入和查询性能。</li><li>citus将节点分为协调器节点和工作节点, 协调器节点除了集群元数据外不存储任何数据分片。应用程序将查询发送到协调器节点，协调器将其发送给相关工作节点并行执行, 最后协调器汇集结果后返回给应用程序。工作节点接收协调器发送过来的指令,执行命令,存储分片数据,并将执行结果返回给协调器等, 客户端只需连接到协调器即可, 工作节点对于客户端而言是透明的.</li><li>但它不具备高可用和自动故障切换的能力, 高可用完全依赖postgresql自身提供功能.</li></ul></li><li>patroni 它为 postgresql 提供了自动化配置和自动故障转移能力, patroni内置对citus的集成. Patroni 接管了 Postgresql 的配置和启停管理, 同时自动化执行数据同步. 它依赖DCS(分布式配置存储)系统来实现配置共享和自动故障切换. 它利用DCS的分布式锁实现只有一个Leader. 主备及数据同步则调用Postgresql内置的功能实现(流复制).</li><li>etcd-server 它作为 Patroni 的 DCS(分布式配置存储)系统, patroni也支持的其它的DCS: consul，zookeeper，kubernetes等.</li><li>vip-manager 它为citus的协调器组提供了 VIP 漂移功能, 它根据 DCS 中的 leader 的键来决定本机是否应该获取 VIP, 因此能很好的配合 patroni, 虽然keepalived也提供类似的功能, 但keepalived无法根据服务状态漂移VIP, 只能根据机器决定是否漂移VIP, 这可能会导致VIP和Leader不一致的问题. 另外, patroni可以手动切换主备. keepalived无法支持, 当然还有其它一些问题不展开了.</li><li>该部分引用：<a href="https://zhuanlan.zhihu.com/p/640147253" rel="nofollow" title="PostgreSQL 分布式高可用集群方案 - 知乎 (zhihu.com)">PostgreSQL 分布式高可用集群方案 - 知乎 (zhihu.com)</a></li></ul> 
<p>kingbase集群：</p> 
<p>        <a href="https://blog.csdn.net/lyu1026/article/details/124465084" title="KingbaseES R6 集群修改物理IP和VIP案例-CSDN博客">KingbaseES R6 集群修改物理IP和VIP案例-CSDN博客</a> </p> 
<p>这里直接引用一篇文章，<a href="https://www.zhihu.com/search?q=postgresql&amp;search_source=Entity&amp;hybrid_search_source=Entity&amp;hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A2997151260%7D" rel="nofollow" title="postgresql">postgresql</a>高可用的解决方案，然后看看kes86的<a href="https://www.zhihu.com/search?q=%E9%9B%86%E7%BE%A4&amp;search_source=Entity&amp;hybrid_search_source=Entity&amp;hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A2997151260%7D" rel="nofollow" title="集群">集群</a>管理，总有对的上号的，比如<a href="https://www.zhihu.com/search?q=repmgr&amp;search_source=Entity&amp;hybrid_search_source=Entity&amp;hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A2997151260%7D" rel="nofollow" title="repmgr">repmgr</a>。</p> 
<h2></h2> 
<h2>  三、总结</h2> 
<p>人大金仓与PostgreSQL集群之间的差别主要体现在以下几个方面：</p> 
<p>首先，人大金仓的核心产品金仓交易型数据库KingbaseES具备高兼容、高可靠、高性能、高扩展、高安全、易使用和易管理的特点。它是唯一入选国家自主创新产品目录的数据库产品，并在国家级、省部级实际项目中得到广泛应用。特别地，KingbaseES提供了容错功能体系，通过数据备份、恢复、同步复制、多数据副本等高可用技术，确保数据库能够7×24小时不间断地提供服务。此外，它还提供了全新设计的集成开发环境（IDE）和集成管理平台，以及基于并行计算、索引覆盖等技术在内的多种性能优化手段。</p> 
<p>而PostgreSQL作为最先进的开源数据库，自诞生之初就带有许多高级特性，如丰富的函数和高级扩展包等。PostgreSQL的集群模式是将多个单机数据库以集群化的方式对外提供服务，主备之间保持数据同步。其高级特性包括主备切换、故障自动切换、负载均衡、备份恢复、慢日志、审计日志等，这些高级特性通常需要结合插件或第三方中间件如pgbouncer、pgpool来实现。</p> 
<p>其次，从产品架构上看，Kingbase 8是基于PostgreSQL 9.6的，尽管两者有一些相似之处，但在一些关键细节上存在差异。例如，在JDBC连接方面，PostgreSQL的默认端口是5432，而人大金仓的默认端口是54321。在命令程序方面，Kingbase只是将PostgreSQL的表的前缀从pg改成了sys或者kb。</p> 
<p>最后，从市场定位和应用场景来看，国产数据库如人大金仓的产品目前处在起步阶段，尽管有一定的市场规模，但在整个大的市场份额和市场定位中，其影响力相对较弱，还没有撼动国外产品的垄断地位。而PostgreSQL作为开源数据库，已经在全球范围内得到了广泛的应用和认可。只能说完美兼容pg..........</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/8f8037ee6603a187ce5ac4ed7152b1dc/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">国内怎么使用Midjourney(终于找到免费版)</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/1cef79241aca9c5b1682201c1c20cdcd/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Python 操作 MySQL 的5种方式</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>