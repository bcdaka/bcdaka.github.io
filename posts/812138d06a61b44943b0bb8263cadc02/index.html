<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Python中的pathlib和Path（面向对象的文件系统路径操作库） - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/812138d06a61b44943b0bb8263cadc02/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="Python中的pathlib和Path（面向对象的文件系统路径操作库）">
  <meta property="og:description" content="1. pathlib库介绍 1.1 pathlib和pathlib.Path pathlib是Python标准库中的一个模块，它提供了一组面向对象的文件系统路径操作。在Python早期版本中，文件和目录路径通常使用字符串来处理，或者使用os.path模块中的函数来执行操作，如路径拼接、获取文件属性等。pathlib模块在Python 3.4及更高版本中引入，提供了一种更现代、更直观的方式来处理文件系统路径。
pathlib.Path是pathlib模块中的核心类，它表示一个文件系统路径。Path对象可以表示文件或目录的路径，并且提供了许多方法来执行常见的路径操作，如路径拼接、检查路径是否存在、遍历目录、读取和写入文件等。
1.2 Path的特点 面向对象：Path对象允许我们使用对象和方法来处理路径，而不是传统的字符串操作。这使得代码更加清晰和可读。跨平台：Path对象会根据我们的操作系统自动处理路径分隔符（如Windows上的\和Unix/Linux/MacOS上的/），这使得我们的代码可以在不同的系统上运行，而无需做任何修改。便捷的方法：Path提供了许多便捷的方法来执行常见的文件系统操作，如open()、read_text()、write_text()、mkdir()、iterdir()等，这些方法简化了文件和目录的操作。属性访问：Path对象提供了许多属性，如name（文件名）、suffix（文件扩展名）、stem（无扩展名的文件名）、parent（父目录）等，这些属性可以很容易地访问路径的不同部分。模式匹配：Path对象支持使用glob模式匹配来查找符合特定模式的文件或目录。操作符重载：Path对象支持使用/操作符来进行路径拼接，这比使用字符串拼接更加直观。 总之，使用pathlib.Path可以让我们以更统一、更现代的方式处理文件系统路径，从而提高代码的质量和可维护性。
1.3 官方定义 The pathlib module – object-oriented filesystem paths(面向对象的文件系统路径) 简单来说，pathlib就是一个面向对象的文件操作类，我们一般会直接使用它的Path类。
1.4 pathlib组成部分关系 Path：是一个方便的别名，它自动选择PosixPath或WindowsPath，具体取决于我们的操作系统。 在Unix-like系统上，Path等同于PosixPath；在Windows系统上，Path等同于WindowsPath。 PurePath：这是一个抽象基类，提供了与操作系统无关的路径操作。它不能用于访问文件系统，但可以用于操作路径字符串。 PurePath不处理路径的具体细节，如路径分隔符或文件系统的存在性。 PurePosixPath：PurePath的一个子类，用于表示类Unix操作系统的路径。 它使用/作为路径分隔符，并且遵循POSIX路径规则。 PureWindowsPath：PurePath的一个子类，用于表示Windows操作系统的路径。 它使用\作为路径分隔符，并且可以处理Windows特有的路径形式，如驱动器号和UNC路径。 PosixPath：Path的一个子类，用于表示实际存在于类Unix操作系统中的路径。 它继承自PurePosixPath，并且提供了与文件系统交互的方法，如检查路径是否存在、遍历目录等。 WindowsPath：Path的一个子类，用于表示实际存在于Windows操作系统中的路径。 它继承自PureWindowsPath，并且提供了与文件系统交互的方法，如检查路径是否存在、遍历目录等。 关系总结：
PurePath是所有路径类的抽象基类，提供了与操作系统无关的路径操作。PurePosixPath和PureWindowsPath继承自PurePath，分别提供了特定于POSIX和Windows的路径操作。PosixPath和WindowsPath继承自PurePosixPath和PureWindowsPath，分别提供了与实际文件系统交互的方法。Path是一个方便的别名，根据操作系统自动指向PosixPath或WindowsPath。 这种设计允许开发者编写可移植的代码，同时也能够处理特定操作系统的路径细节。通过使用Path，我们可以编写不依赖于操作系统的代码，而PurePath及其子类则提供了处理特定操作系统路径的能力。
1.5 补充 1.5.1 POSIX路径 POSIX（Portable Operating System Interface）路径是指遵循POSIX标准的文件系统路径。POSIX是一个IEEE标准，旨在为Unix-like操作系统提供一系列API规范，以确保软件可以在不同的操作系统上运行。
POSIX路径具有以下特点：
路径分隔符：POSIX路径使用/作为目录分隔符。例如，/home/user/documents是一个POSIX路径。相对路径和绝对路径：POSIX路径可以是相对路径，也可以是绝对路径。相对路径是相对于当前工作目录的路径，而绝对路径是从文件系统的根开始的完整路径。当前目录和父目录：点.表示当前目录，而双点..表示父目录。例如，../file.txt表示当前目录的父目录中的file.txt文件。文件名和扩展名：文件名通常由两部分组成：基础名和扩展名。基础名是文件的名称，而扩展名通常是跟在最后一个点.后面的部分，表示文件的类型。例如，在文件名document.txt中，document是基础名，txt是扩展名。路径解析：POSIX路径解析遵循特定的规则，例如，连续的路径分隔符被视为单个分隔符，.表示当前目录，而..用于返回到上一级目录。
POSIX路径规范被广泛应用于类Unix操作系统，如Linux、BSD、MacOS X等。这些系统的文件系统API通常遵循POSIX标准，以确保软件的兼容性和可移植性。 1.5.2 驱动器号和UNC（Universal Naming Convention）路径 它们俩都是Windows操作系统中的两个概念，用于指定文件或目录的位置。
驱动器号： 在Windows系统中，每个物理或逻辑磁盘分区都被分配一个驱动器号，通常是一个字母后跟一个冒号。例如，C:通常是指系统启动磁盘，D:可能是指第二个磁盘分区，依此类推。驱动器号后面可以跟一个路径，如C:\Windows\System32，表示C:驱动器上的Windows\System32目录。驱动器号是Windows特有的概念，不适用于Unix-like操作系统。 UNC路径： UNC路径是一种用于指定网络资源位置的通用命名约定。UNC路径的格式通常是\\servername\sharename\path\filename，其中servername是网络服务器的主机名或IP地址，sharename是共享资源的名称，path是共享资源内的文件路径，filename是要访问的文件或目录的名称。UNC路径可以用于访问网络上的共享文件夹或打印机等资源，不依赖于特定的驱动器号。UNC路径在Windows网络环境中广泛使用，但也得到了其他支持SMB（Server Message Block）协议的系统的支持，如一些Unix-like系统。 ❗ 注意：驱动器号是Windows专有的，但UNC不是（Windows和Linux都有）。
2. pathlib库下Path类的基本使用 2.1 Path类的属性和方法概览 ⚠️ 我这里使用的Python版本为：">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-06-06T11:06:32+08:00">
    <meta property="article:modified_time" content="2024-06-06T11:06:32+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Python中的pathlib和Path（面向对象的文件系统路径操作库）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-github-gist">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="1_pathlib_0"></a>1. pathlib库介绍</h2> 
<h3><a id="11_pathlibpathlibPath_2"></a>1.1 pathlib和pathlib.Path</h3> 
<p><code>pathlib</code>是Python标准库中的一个模块，它提供了一组面向对象的文件系统路径操作。在Python早期版本中，文件和目录路径通常使用字符串来处理，或者使用<code>os.path</code>模块中的函数来执行操作，如路径拼接、获取文件属性等。<code>pathlib</code>模块在Python 3.4及更高版本中引入，提供了一种更现代、更直观的方式来处理文件系统路径。</p> 
<p><code>pathlib.Path</code>是<code>pathlib</code>模块中的核心类，它表示一个文件系统路径。<code>Path</code>对象可以表示文件或目录的路径，并且提供了许多方法来执行常见的路径操作，如路径拼接、检查路径是否存在、遍历目录、读取和写入文件等。</p> 
<h3><a id="12_Path_8"></a>1.2 Path的特点</h3> 
<ul><li><strong>面向对象</strong>：<code>Path</code>对象允许我们使用对象和方法来处理路径，而不是传统的字符串操作。这使得代码更加清晰和可读。</li><li><strong>跨平台</strong>：<code>Path</code>对象会根据我们的操作系统自动处理路径分隔符（如Windows上的<code>\</code>和Unix/Linux/MacOS上的<code>/</code>），这使得我们的代码可以在不同的系统上运行，而无需做任何修改。</li><li><strong>便捷的方法</strong>：<code>Path</code>提供了许多便捷的方法来执行常见的文件系统操作，如<code>open()</code>、<code>read_text()</code>、<code>write_text()</code>、<code>mkdir()</code>、<code>iterdir()</code>等，这些方法简化了文件和目录的操作。</li><li><strong>属性访问</strong>：<code>Path</code>对象提供了许多属性，如<code>name</code>（文件名）、<code>suffix</code>（文件扩展名）、<code>stem</code>（无扩展名的文件名）、<code>parent</code>（父目录）等，这些属性可以很容易地访问路径的不同部分。</li><li><strong>模式匹配</strong>：<code>Path</code>对象支持使用<code>glob</code>模式匹配来查找符合特定模式的文件或目录。</li><li><strong>操作符重载</strong>：<code>Path</code>对象支持使用<code>/</code>操作符来进行路径拼接，这比使用字符串拼接更加直观。</li></ul> 
<p>总之，使用<code>pathlib.Path</code>可以让我们以更统一、更现代的方式处理文件系统路径，从而提高代码的质量和可维护性。</p> 
<h3><a id="13__19"></a>1.3 官方定义</h3> 
<pre><code>The pathlib module – object-oriented filesystem paths(面向对象的文件系统路径)
</code></pre> 
<p>简单来说，pathlib就是一个面向对象的文件操作类，我们一般会直接使用它的<code>Path</code>类。</p> 
<h3><a id="14_pathlib_27"></a>1.4 pathlib组成部分关系</h3> 
<p></p> 
<div align="center"> 
 <img src="https://images2.imgbox.com/e4/1f/xJnz9P38_o.png" width="50%"> 
 <center></center> 
</div> 
<ul><li><code>Path</code>：是一个方便的别名，它自动选择<code>PosixPath</code>或<code>WindowsPath</code>，具体取决于我们的操作系统。 
  <ul><li>在Unix-like系统上，<code>Path</code>等同于<code>PosixPath</code>；</li><li>在Windows系统上，<code>Path</code>等同于<code>WindowsPath</code>。</li></ul> </li><li><code>PurePath</code>：这是一个抽象基类，提供了与操作系统无关的路径操作。它不能用于访问文件系统，但可以用于操作路径字符串。 
  <ul><li><code>PurePath</code>不处理路径的具体细节，如路径分隔符或文件系统的存在性。</li></ul> </li><li><code>PurePosixPath</code>：<code>PurePath</code>的一个子类，用于表示类Unix操作系统的路径。 
  <ul><li>它使用<code>/</code>作为路径分隔符，并且遵循<a href="#POSIX%E4%BB%8B%E7%BB%8D" rel="nofollow">POSIX路径规则</a>。</li></ul> </li><li><code>PureWindowsPath</code>：<code>PurePath</code>的一个子类，用于表示Windows操作系统的路径。 
  <ul><li>它使用<code>\</code>作为路径分隔符，并且可以处理Windows特有的路径形式，如驱动器号和UNC路径。</li></ul> </li><li><code>PosixPath</code>：<code>Path</code>的一个子类，用于表示实际存在于类Unix操作系统中的路径。 
  <ul><li>它继承自<code>PurePosixPath</code>，并且提供了与文件系统交互的方法，如检查路径是否存在、遍历目录等。</li></ul> </li><li><code>WindowsPath</code>：<code>Path</code>的一个子类，用于表示实际存在于Windows操作系统中的路径。 
  <ul><li>它继承自<code>PureWindowsPath</code>，并且提供了与文件系统交互的方法，如检查路径是否存在、遍历目录等。</li></ul> </li></ul> 
<p>关系总结：</p> 
<ul><li><code>PurePath</code>是所有路径类的抽象基类，提供了与操作系统无关的路径操作。</li><li><code>PurePosixPath</code>和<code>PureWindowsPath</code>继承自<code>PurePath</code>，分别提供了特定于POSIX和Windows的路径操作。</li><li><code>PosixPath</code>和<code>WindowsPath</code>继承自<code>PurePosixPath</code>和<code>PureWindowsPath</code>，分别提供了与实际文件系统交互的方法。</li><li><code>Path</code>是一个方便的别名，根据操作系统自动指向<code>PosixPath</code>或<code>WindowsPath</code>。</li></ul> 
<p>这种设计允许开发者编写可移植的代码，同时也能够处理特定操作系统的路径细节。通过使用<code>Path</code>，我们可以编写不依赖于操作系统的代码，而<code>PurePath</code>及其子类则提供了处理特定操作系统路径的能力。</p> 
<h3><a id="15__60"></a>1.5 补充</h3> 
<h4><a id="151_POSIX_62"></a>1.5.1 POSIX路径</h4> 
<p><a id="POSIX介绍"></a></p> 
<p>POSIX（Portable Operating System Interface）路径是指遵循POSIX标准的文件系统路径。POSIX是一个IEEE标准，旨在为Unix-like操作系统提供一系列API规范，以确保软件可以在不同的操作系统上运行。</p> 
<p>POSIX路径具有以下特点：</p> 
<ol><li><strong>路径分隔符</strong>：POSIX路径使用<code>/</code>作为目录分隔符。例如，<code>/home/user/documents</code>是一个POSIX路径。</li><li><strong>相对路径和绝对路径</strong>：POSIX路径可以是相对路径，也可以是绝对路径。相对路径是相对于当前工作目录的路径，而绝对路径是从文件系统的根开始的完整路径。</li><li><strong>当前目录和父目录</strong>：点<code>.</code>表示当前目录，而双点<code>..</code>表示父目录。例如，<code>../file.txt</code>表示当前目录的父目录中的<code>file.txt</code>文件。</li><li><strong>文件名和扩展名</strong>：文件名通常由两部分组成：基础名和扩展名。基础名是文件的名称，而扩展名通常是跟在最后一个点<code>.</code>后面的部分，表示文件的类型。例如，在文件名<code>document.txt</code>中，<code>document</code>是基础名，<code>txt</code>是扩展名。</li><li><strong>路径解析</strong>：POSIX路径解析遵循特定的规则，例如，连续的路径分隔符被视为单个分隔符，<code>.</code>表示当前目录，而<code>..</code>用于返回到上一级目录。<br> POSIX路径规范被广泛应用于类Unix操作系统，如Linux、BSD、MacOS X等。这些系统的文件系统API通常遵循POSIX标准，以确保软件的兼容性和可移植性。</li></ol> 
<h4><a id="152_UNCUniversal_Naming_Convention_77"></a>1.5.2 驱动器号和UNC（Universal Naming Convention）路径</h4> 
<p>它们俩都是Windows操作系统中的两个概念，用于指定文件或目录的位置。</p> 
<ol><li><strong>驱动器号</strong>： 
  <ul><li>在Windows系统中，每个物理或逻辑磁盘分区都被分配一个驱动器号，通常是一个字母后跟一个冒号。例如，<code>C:</code>通常是指系统启动磁盘，<code>D:</code>可能是指第二个磁盘分区，依此类推。驱动器号后面可以跟一个路径，如<code>C:\Windows\System32</code>，表示<code>C:</code>驱动器上的<code>Windows\System32</code>目录。</li><li>驱动器号是Windows特有的概念，不适用于Unix-like操作系统。</li></ul> </li><li><strong>UNC路径</strong>： 
  <ul><li>UNC路径是一种用于指定网络资源位置的通用命名约定。UNC路径的格式通常是<code>\\servername\sharename\path\filename</code>，其中<code>servername</code>是网络服务器的主机名或IP地址，<code>sharename</code>是共享资源的名称，<code>path</code>是共享资源内的文件路径，<code>filename</code>是要访问的文件或目录的名称。</li><li>UNC路径可以用于访问网络上的共享文件夹或打印机等资源，不依赖于特定的驱动器号。</li><li>UNC路径在Windows网络环境中广泛使用，但也得到了其他支持SMB（Server Message Block）协议的系统的支持，如一些Unix-like系统。</li></ul> </li></ol> 
<p>❗ 注意：驱动器号是Windows专有的，但UNC不是（Windows和Linux都有）。</p> 
<h2><a id="2_pathlibPath_92"></a>2. <code>pathlib</code>库下<code>Path</code>类的基本使用</h2> 
<h3><a id="21_Path_94"></a>2.1 Path类的属性和方法概览</h3> 
<p>⚠️ 我这里使用的Python版本为：</p> 
<pre><code>Python 3.10.14 (main, Mar 21 2024, 16:24:04) [GCC 11.2.0] on linux
</code></pre> 
<table><thead><tr><th align="center">性质</th><th align="center">是否常用</th><th align="left">用法</th><th align="left">说明</th></tr></thead><tbody><tr><td align="center">🛠️属性</td><td align="center"></td><td align="left">.drive</td><td align="left">获取路径的驱动器号（Windows系统）</td></tr><tr><td align="center">🛠️属性</td><td align="center">🔥</td><td align="left">.name</td><td align="left">获取最后一级的文件或目录名</td></tr><tr><td align="center">🛠️属性</td><td align="center">🔥</td><td align="left">.parent</td><td align="left">获取直接父目录的Path对象</td></tr><tr><td align="center">🛠️属性</td><td align="center"></td><td align="left">.parents</td><td align="left">返回一个生成器，可以遍历当前Path对象的所有上级目录</td></tr><tr><td align="center">🛠️属性</td><td align="center">🔥</td><td align="left">.parts</td><td align="left">获取路径的组成部分</td></tr><tr><td align="center">🛠️属性</td><td align="center"></td><td align="left">.root</td><td align="left">获取路径的根部分</td></tr><tr><td align="center">🛠️属性</td><td align="center">🔥</td><td align="left">.stem</td><td align="left">获取文件名的基础部分（无扩展名）</td></tr><tr><td align="center">🛠️属性</td><td align="center">🔥</td><td align="left">.suffix</td><td align="left">获取文件名的扩展名</td></tr><tr><td align="center">🛠️属性</td><td align="center"></td><td align="left">.suffixes</td><td align="left">获取文件名的所有扩展名</td></tr><tr><td align="center">🧊方法</td><td align="center">🔥</td><td align="left">.absolute()</td><td align="left">返回路径的绝对形式</td></tr><tr><td align="center">🧊方法</td><td align="center"></td><td align="left">.cwd()</td><td align="left">返回当前工作目录的Path对象</td></tr><tr><td align="center">🧊方法</td><td align="center">🔥</td><td align="left">.exists()</td><td align="left">检查路径是否指向一个已存在的文件或目录</td></tr><tr><td align="center">🧊方法</td><td align="center"></td><td align="left">.expanduser()</td><td align="left">展开路径中的<code>~</code>和<code>~user</code></td></tr><tr><td align="center">🧊方法</td><td align="center">🔥</td><td align="left">.glob()</td><td align="left">根据模式匹配返回路径列表</td></tr><tr><td align="center">🧊方法</td><td align="center">🔥</td><td align="left">.is_absolute()</td><td align="left">检查路径是否为绝对路径</td></tr><tr><td align="center">🧊方法</td><td align="center">🔥</td><td align="left">.is_dir()</td><td align="left">检查路径是否指向一个目录</td></tr><tr><td align="center">🧊方法</td><td align="center">🔥</td><td align="left">.is_file()</td><td align="left">检查路径是否指向一个文件</td></tr><tr><td align="center">🧊方法</td><td align="center"></td><td align="left">.iterdir()</td><td align="left">遍历目录中的所有项</td></tr><tr><td align="center">🧊方法</td><td align="center">🔥</td><td align="left">.joinpath()</td><td align="left">将多个路径组件合并为一个路径</td></tr><tr><td align="center">🧊方法</td><td align="center">🔥</td><td align="left">.mkdir()</td><td align="left">创建一个新目录</td></tr><tr><td align="center">🧊方法</td><td align="center">🔥</td><td align="left">.open()</td><td align="left">打开文件</td></tr><tr><td align="center">🧊方法</td><td align="center">🔥</td><td align="left">.rename()</td><td align="left">重命名文件或目录（可以用来移动文件）</td></tr><tr><td align="center">🧊方法</td><td align="center"></td><td align="left">.resolve()</td><td align="left">解析路径，返回绝对路径</td></tr><tr><td align="center">🧊方法</td><td align="center">🔥</td><td align="left">.rglob()</td><td align="left">递归地根据模式匹配目录中的路径</td></tr><tr><td align="center">🧊方法</td><td align="center"></td><td align="left">.rmdir()</td><td align="left">删除目录</td></tr><tr><td align="center">🧊方法</td><td align="center"></td><td align="left">.samefile()</td><td align="left">检查两个路径是否指向同一个文件或目录</td></tr><tr><td align="center">🧊方法</td><td align="center"></td><td align="left">.stat()</td><td align="left">返回关于文件或目录的信息</td></tr><tr><td align="center">🧊方法</td><td align="center">🔥</td><td align="left">.touch()</td><td align="left">创建一个空文件</td></tr><tr><td align="center">🧊方法</td><td align="center">🔥</td><td align="left">.unlink()</td><td align="left">删除文件或符号链接</td></tr><tr><td align="center">🧊方法</td><td align="center"></td><td align="left">.with_name()</td><td align="left">返回一个新的Path对象，其文件名部分替换为给定名称</td></tr><tr><td align="center">🧊方法</td><td align="center"></td><td align="left">.with_suffix()</td><td align="left">返回一个新的Path对象，其扩展名部分替换为给定后缀</td></tr></tbody></table> 
<h3><a id="21___136"></a>2.1 🛠️ 属性解析</h3> 
<h4><a id="_1_name_138"></a>🛠️ [1] .name：返回路径的最后一部分</h4> 
<ul><li>作用：<code>Path.name</code> 属性用于获取路径的最后一个组成部分，即文件或文件夹的名称。</li><li>返回值类型：字符串（<code>str</code>）</li><li>💡 注意： 
  <ul><li>如果传入的路径不是指向文件或文件夹，而是例如驱动器或根目录，那么返回的可能是空字符串。</li><li><code>Path.name</code> 不会检查文件或文件夹是否存在，它只关注路径字符串的格式。</li><li>如果路径以斜杠（<code>/</code> 或 <code>\</code>）结束，表示它是一个目录路径，那么 <code>Path.name</code> 可能返回空字符串或最后一个目录名。</li></ul> </li><li>示例代码：</li></ul> 
<pre><code class="prism language-python"><span class="token keyword">from</span> pathlib <span class="token keyword">import</span> Path


dataset <span class="token operator">=</span> Path<span class="token punctuation">(</span><span class="token string">'/mnt/f/Learning-Notebook-Codes/Datasets'</span><span class="token punctuation">)</span>
dataset_compressed_package <span class="token operator">=</span> Path<span class="token punctuation">(</span><span class="token string">'/mnt/f/Learning-Notebook-Codes/Datasets.tar.gz'</span><span class="token punctuation">)</span>
image <span class="token operator">=</span> Path<span class="token punctuation">(</span><span class="token string">'Datasets/coco128/train/images/000000000061.jpg'</span><span class="token punctuation">)</span>
label <span class="token operator">=</span> Path<span class="token punctuation">(</span><span class="token string">'Datasets/coco128/train/labels/000000000061.txt'</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>dataset<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>dataset_compressed_package<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>image<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>label<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
</code></pre> 
<pre><code>dataset.name = 'Datasets'
dataset_compressed_package.name = 'Datasets.tar.gz'
image.name = '000000000061.jpg'
label.name = '000000000061.txt'
</code></pre> 
<h4><a id="_2_stemsuffix_170"></a>🛠️ [2] .stem和.suffix：获取文件前缀和后缀</h4> 
<ul><li>作用：<code>Path.stem</code> 属性用于获取文件路径中除去文件扩展名（即后缀）的部分，而 <code>Path.suffix</code> 属性用于获取文件路径的文件扩展名。</li><li>返回值类型：字符串（<code>str</code>）</li><li>💡 注意： 
  <ul><li>这两个属性通常用于处理文件路径，如果传入的路径不是文件，而是目录，那么 <code>Path.stem</code> 会返回目录名，而 <code>Path.suffix</code> 将返回空字符串。</li><li><code>Path.stem</code> 和 <code>Path.suffix</code> 不会检查文件或文件夹是否存在，它们只关注路径字符串的格式。</li><li>如果路径不包含文件扩展名，<code>Path.suffix</code> 将返回空字符串。</li><li>如果路径以斜杠（<code>/</code> 或 <code>\</code>）结束，表示它是一个目录路径，那么 <code>Path.stem</code> 可能返回空字符串或最后一个目录名，而 <code>Path.suffix</code> 将返回空字符串。</li><li>对于 <code>.tar.gz</code> 这样的双后缀的文件，只会返回最后一个后缀。</li></ul> </li><li>示例代码：</li></ul> 
<pre><code class="prism language-python"><span class="token keyword">from</span> pathlib <span class="token keyword">import</span> Path


dataset <span class="token operator">=</span> Path<span class="token punctuation">(</span><span class="token string">'/mnt/f/Learning-Notebook-Codes/Datasets'</span><span class="token punctuation">)</span>
dataset_compressed_package <span class="token operator">=</span> Path<span class="token punctuation">(</span><span class="token string">'/mnt/f/Learning-Notebook-Codes/Datasets.tar.gz'</span><span class="token punctuation">)</span>
image <span class="token operator">=</span> Path<span class="token punctuation">(</span><span class="token string">'Datasets/coco128/train/images/000000000061.jpg'</span><span class="token punctuation">)</span>
label <span class="token operator">=</span> Path<span class="token punctuation">(</span><span class="token string">'Datasets/coco128/train/labels/000000000061.txt'</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"[前缀-</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>dataset<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">] </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>dataset<span class="token punctuation">.</span>stem<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"[后缀-</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>dataset<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">] </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>dataset<span class="token punctuation">.</span>suffix<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"[前缀-</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>dataset_compressed_package<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">] </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>dataset_compressed_package<span class="token punctuation">.</span>stem<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"[后缀-</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>dataset_compressed_package<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">] </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>dataset_compressed_package<span class="token punctuation">.</span>suffix<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"[前缀-</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>image<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">] </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>image<span class="token punctuation">.</span>stem<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"[后缀-</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>image<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">] </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>image<span class="token punctuation">.</span>suffix<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"[前缀-</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>label<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">] </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>label<span class="token punctuation">.</span>stem<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"[后缀-</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>label<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">] </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>label<span class="token punctuation">.</span>suffix<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
</code></pre> 
<pre><code>[前缀-Datasets] Datasets
[后缀-Datasets] 
[前缀-Datasets.tar.gz] Datasets.tar  # 💡 .tar也在前缀中
[后缀-Datasets.tar.gz] .gz           # 💡 只会返回.gz这一个后缀（即只返回最后一个后缀）
[前缀-000000000061.jpg] 000000000061
[后缀-000000000061.jpg] .jpg
[前缀-000000000061.txt] 000000000061
[后缀-000000000061.txt] .txt
</code></pre> 
<h4><a id="_3_parent_213"></a>🛠️ [3] .parent：返回路径的父级目录</h4> 
<ul><li>作用：<code>Path.parent</code> 属性用于获取路径中父目录的路径。对于任何给定的路径，<code>Path.parent</code> 将返回一个 <code>Path</code> 对象，该对象表示当前路径的上一层目录。</li><li>返回值类型：<code>Path</code> 对象</li><li>💡 注意： 
  <ul><li>可以连续调用 <code>.parent</code> 属性</li><li>如果 Path 对象创建时用的<font color="red"><b>绝对路径</b></font>，最终的父目录是 <code>/</code></li><li>如果 Path 对象创建时用的<font color="blue"><b>相对路径</b></font>，最终的父目录是 <code>.</code></li><li>如果传入的路径已经是根目录，那么 <code>Path.parent</code> 可能会返回当前目录本身，因为根目录没有父目录。</li><li><code>Path.parent</code> 不会检查路径是否指向存在的文件或文件夹，它只操作路径字符串。</li><li>如果路径不存在，<code>Path.parent</code> 仍然可以返回父目录的路径，因为它不验证路径的真实性。</li></ul> </li><li>示例代码：</li></ul> 
<pre><code class="prism language-python"><span class="token keyword">from</span> pathlib <span class="token keyword">import</span> Path


<span class="token keyword">def</span> <span class="token function">print_parents</span><span class="token punctuation">(</span>p<span class="token punctuation">:</span> Path<span class="token punctuation">)</span><span class="token punctuation">:</span>
    parents <span class="token operator">=</span> p<span class="token punctuation">.</span>parents
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span><span class="token builtin">type</span><span class="token punctuation">(</span>parents<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> i<span class="token punctuation">,</span> dirpath <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>parents<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"[</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>p<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">] [L</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>i<span class="token punctuation">}</span></span><span class="token string">] </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>dirpath<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'-'</span><span class="token operator">*</span><span class="token number">100</span><span class="token punctuation">)</span>


dataset <span class="token operator">=</span> Path<span class="token punctuation">(</span><span class="token string">'/mnt/f/Learning-Notebook-Codes/Datasets'</span><span class="token punctuation">)</span>
dataset_compressed_package <span class="token operator">=</span> Path<span class="token punctuation">(</span><span class="token string">'/mnt/f/Learning-Notebook-Codes/Datasets.tar.gz'</span><span class="token punctuation">)</span>
image <span class="token operator">=</span> Path<span class="token punctuation">(</span><span class="token string">'Datasets/coco128/train/images/000000000061.jpg'</span><span class="token punctuation">)</span>
label <span class="token operator">=</span> Path<span class="token punctuation">(</span><span class="token string">'Datasets/coco128/train/labels/000000000061.txt'</span><span class="token punctuation">)</span>

print_parents<span class="token punctuation">(</span>dataset<span class="token punctuation">)</span>
print_parents<span class="token punctuation">(</span>dataset_compressed_package<span class="token punctuation">)</span>
print_parents<span class="token punctuation">(</span>image<span class="token punctuation">)</span>
print_parents<span class="token punctuation">(</span>label<span class="token punctuation">)</span>
</code></pre> 
<pre><code>dataset.parent = PosixPath('/mnt/f/Learning-Notebook-Codes')
dataset.parent.parent = PosixPath('/mnt/f')
dataset.parent.parent.parent = PosixPath('/mnt')
dataset.parent.parent.parent.parent = PosixPath('/')
dataset.parent.parent.parent.parent.parent = PosixPath('/')
----------------------------------------------------------------------------------------------------
dataset_compressed_package.parent = PosixPath('/mnt/f/Learning-Notebook-Codes')
dataset_compressed_package.parent.parent = PosixPath('/mnt/f')
dataset_compressed_package.parent.parent.parent = PosixPath('/mnt')
dataset_compressed_package.parent.parent.parent.parent = PosixPath('/')
dataset_compressed_package.parent.parent.parent.parent.parent = PosixPath('/')
----------------------------------------------------------------------------------------------------
image.parent = PosixPath('Datasets/coco128/train/images')
image.parent.parent = PosixPath('Datasets/coco128/train')
image.parent.parent.parent = PosixPath('Datasets/coco128')
image.parent.parent.parent.parent = PosixPath('Datasets')
image.parent.parent.parent.parent.parent = PosixPath('.')
----------------------------------------------------------------------------------------------------
label.parent = PosixPath('Datasets/coco128/train/labels')
label.parent.parent = PosixPath('Datasets/coco128/train')
label.parent.parent.parent = PosixPath('Datasets/coco128')
label.parent.parent.parent.parent = PosixPath('Datasets')
label.parent.parent.parent.parent.parent = PosixPath('.')
</code></pre> 
<h4><a id="_4_parents_275"></a>🛠️ [4] .parents：获取所有的父级目录</h4> 
<ul><li>作用：<code>Path.parents</code> 属性用于生成一个迭代器，它按照从当前路径向上到根目录的顺序，产生所有父目录的 <code>Path</code> 对象。</li><li>返回值类型：可迭代类型（生成器）</li><li>💡 注意： 
  <ul><li><code>Path.parents</code> 可以用于任何路径，无论它是文件还是文件夹。</li><li>如果传入的路径是文件，<code>Path.parents</code> 仍然会生成其父目录的 <code>Path</code> 对象，而不是报错。</li><li><code>Path.parents</code> 不会检查路径是否指向存在的文件或文件夹，它只操作路径字符串。</li><li>如果路径不存在，<code>Path.parents</code> 仍然可以产生父目录的路径，因为它不验证路径的真实性。</li><li>如果 Path 对象创建时用的<font color="red"><b>绝对路径</b></font>，最终的父目录是 <code>/</code></li><li>如果 Path 对象创建时用的<font color="blue"><b>相对路径</b></font>，最终的父目录是 <code>.</code></li></ul> </li><li>示例代码：</li></ul> 
<pre><code class="prism language-python"><span class="token keyword">from</span> pathlib <span class="token keyword">import</span> Path


<span class="token keyword">def</span> <span class="token function">print_parents</span><span class="token punctuation">(</span>p<span class="token punctuation">:</span> Path<span class="token punctuation">)</span><span class="token punctuation">:</span>
    parents <span class="token operator">=</span> p<span class="token punctuation">.</span>parents
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"[</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>p<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">] </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span><span class="token builtin">type</span><span class="token punctuation">(</span>parents<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> i<span class="token punctuation">,</span> dirpath <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>parents<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"[</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>p<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">] [L</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>i<span class="token punctuation">}</span></span><span class="token string">] </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>dirpath<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'-'</span><span class="token operator">*</span><span class="token number">100</span><span class="token punctuation">)</span>


dataset <span class="token operator">=</span> Path<span class="token punctuation">(</span><span class="token string">'/mnt/f/Learning-Notebook-Codes/Datasets'</span><span class="token punctuation">)</span>
dataset_compressed_package <span class="token operator">=</span> Path<span class="token punctuation">(</span><span class="token string">'/mnt/f/Learning-Notebook-Codes/Datasets.tar.gz'</span><span class="token punctuation">)</span>
image <span class="token operator">=</span> Path<span class="token punctuation">(</span><span class="token string">'Datasets/coco128/train/images/000000000061.jpg'</span><span class="token punctuation">)</span>
label <span class="token operator">=</span> Path<span class="token punctuation">(</span><span class="token string">'Datasets/coco128/train/labels/000000000061.txt'</span><span class="token punctuation">)</span>

print_parents<span class="token punctuation">(</span>dataset<span class="token punctuation">)</span>
print_parents<span class="token punctuation">(</span>dataset_compressed_package<span class="token punctuation">)</span>
print_parents<span class="token punctuation">(</span>image<span class="token punctuation">)</span>
print_parents<span class="token punctuation">(</span>label<span class="token punctuation">)</span>
</code></pre> 
<pre><code>[Datasets] type(parents) = &lt;class 'pathlib._PathParents'&gt;
[Datasets] [L0] /mnt/f/Learning-Notebook-Codes
[Datasets] [L1] /mnt/f
[Datasets] [L2] /mnt
[Datasets] [L3] /
----------------------------------------------------------------------------------------------------
[Datasets.tar.gz] type(parents) = &lt;class 'pathlib._PathParents'&gt;
[Datasets.tar.gz] [L0] /mnt/f/Learning-Notebook-Codes
[Datasets.tar.gz] [L1] /mnt/f
[Datasets.tar.gz] [L2] /mnt
[Datasets.tar.gz] [L3] /
----------------------------------------------------------------------------------------------------
[000000000061.jpg] type(parents) = &lt;class 'pathlib._PathParents'&gt;
[000000000061.jpg] [L0] Datasets/coco128/train/images
[000000000061.jpg] [L1] Datasets/coco128/train
[000000000061.jpg] [L2] Datasets/coco128
[000000000061.jpg] [L3] Datasets
[000000000061.jpg] [L4] .
----------------------------------------------------------------------------------------------------
[000000000061.txt] type(parents) = &lt;class 'pathlib._PathParents'&gt;
[000000000061.txt] [L0] Datasets/coco128/train/labels
[000000000061.txt] [L1] Datasets/coco128/train
[000000000061.txt] [L2] Datasets/coco128
[000000000061.txt] [L3] Datasets
[000000000061.txt] [L4] .
----------------------------------------------------------------------------------------------------
</code></pre> 
<h4><a id="_5_parts_340"></a>🛠️ [5] .parts：返回路径的组成部分</h4> 
<ul><li>作用：<code>Path.parts</code> 属性用于获取路径的组成部分，它将路径分割为一个元组，其中包含驱动器（如果有的话）、根目录（如果有的话）以及每个后续的目录或文件名。</li><li>返回值类型：元组（<code>tuple</code>）</li><li>💡 注意： 
  <ul><li><code>Path.parts</code> 可以用于任何路径，无论它是文件还是文件夹，不会因为路径是文件而报错。</li><li><code>Path.parts</code> 不会检查路径是否指向存在的文件或文件夹，它只操作路径字符串。</li><li>如果路径不存在，<code>Path.parts</code> 仍然可以分割并返回路径的组成部分，因为它不验证路径的真实性。</li></ul> </li><li>示例代码：</li></ul> 
<pre><code class="prism language-python"><span class="token keyword">from</span> pathlib <span class="token keyword">import</span> Path


dataset <span class="token operator">=</span> Path<span class="token punctuation">(</span><span class="token string">'/mnt/f/Learning-Notebook-Codes/Datasets'</span><span class="token punctuation">)</span>
dataset_compressed_package <span class="token operator">=</span> Path<span class="token punctuation">(</span><span class="token string">'/mnt/f/Learning-Notebook-Codes/Datasets.tar.gz'</span><span class="token punctuation">)</span>
image <span class="token operator">=</span> Path<span class="token punctuation">(</span><span class="token string">'Datasets/coco128/train/images/000000000061.jpg'</span><span class="token punctuation">)</span>
label <span class="token operator">=</span> Path<span class="token punctuation">(</span><span class="token string">'Datasets/coco128/train/labels/000000000061.txt'</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"[</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>dataset<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">] </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>dataset<span class="token punctuation">.</span>parts<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"[</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>dataset_compressed_package<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">] </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>dataset_compressed_package<span class="token punctuation">.</span>parts<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"[</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>image<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">] </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>image<span class="token punctuation">.</span>parts<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"[</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>label<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">] </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>label<span class="token punctuation">.</span>parts<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
</code></pre> 
<pre><code>[    Datasets    ] ('/', 'mnt', 'f', 'Learning-Notebook-Codes', 'Datasets')
[Datasets.tar.gz ] ('/', 'mnt', 'f', 'Learning-Notebook-Codes', 'Datasets.tar.gz')
[000000000061.jpg] ('Datasets', 'coco128', 'train', 'images', '000000000061.jpg')
[000000000061.txt] ('Datasets', 'coco128', 'train', 'labels', '000000000061.txt')
</code></pre> 
<h3><a id="22___372"></a>2.2 🧊 方法解析</h3> 
<h4><a id="_1_Pathcwd_374"></a>🧊 [1] Path.cwd()：获取当前工作目录</h4> 
<ul><li>作用：<code>Path.cwd()</code> 方法用于获取当前工作目录的 <code>Path</code> 对象，即当前Python进程的工作目录。</li><li>返回值类型：<code>Path</code> 对象</li><li>💡 注意： 
  <ul><li><code>Path.cwd()</code> 不需要传入参数，它直接返回当前工作目录的 <code>Path</code> 对象。</li><li>如果直接调用<code>Path.cwd()</code>返回是一个<code>Path</code>对象，如需获取字符串，则需要<code>Path.cwd().name</code>。</li><li>如果通过对象调用<code>p.cwd()</code>返回是一个字符串，而非<code>Path</code>对象。</li></ul> </li><li>示例代码：</li></ul> 
<pre><code class="prism language-python"><span class="token keyword">from</span> pathlib <span class="token keyword">import</span> Path
<span class="token keyword">import</span> os


dataset <span class="token operator">=</span> Path<span class="token punctuation">(</span><span class="token string">'/mnt/f/Learning-Notebook-Codes/Datasets'</span><span class="token punctuation">)</span>
dataset_compressed_package <span class="token operator">=</span> Path<span class="token punctuation">(</span><span class="token string">'/mnt/f/Learning-Notebook-Codes/Datasets.tar.gz'</span><span class="token punctuation">)</span>
image <span class="token operator">=</span> Path<span class="token punctuation">(</span><span class="token string">'Datasets/coco128/train/images/000000000061.jpg'</span><span class="token punctuation">)</span>
label <span class="token operator">=</span> Path<span class="token punctuation">(</span><span class="token string">'Datasets/coco128/train/labels/000000000061.txt'</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"[使用os库] </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>os<span class="token punctuation">.</span>getcwd<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"[直接调用] </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>Path<span class="token punctuation">.</span>cwd<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"[直接调用] </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>Path<span class="token punctuation">.</span>cwd<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"[</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>dataset<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">] </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>dataset<span class="token punctuation">.</span>cwd<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"[</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>dataset_compressed_package<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">] </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>dataset_compressed_package<span class="token punctuation">.</span>cwd<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"[</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>image<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">] </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>image<span class="token punctuation">.</span>cwd<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"[</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>label<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">] </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>label<span class="token punctuation">.</span>cwd<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
</code></pre> 
<pre><code>[使用os库] os.getcwd() = '/mnt/f/Learning-Notebook-Codes'
[直接调用] Path.cwd() = PosixPath('/mnt/f/Learning-Notebook-Codes')
[直接调用] Path.cwd().name = 'Learning-Notebook-Codes'
[Datasets] /mnt/f/Learning-Notebook-Codes
[Datasets.tar.gz] /mnt/f/Learning-Notebook-Codes
[000000000061.jpg] /mnt/f/Learning-Notebook-Codes
[000000000061.txt] /mnt/f/Learning-Notebook-Codes
</code></pre> 
<h4><a id="_2_Pathhome_413"></a>🧊 [2] Path.home()：返回当前用户的家目录</h4> 
<ul><li>作用：<code>Path.home()</code> 方法用于获取当前用户的主目录（也称为家目录，即<code>/user/home</code>）的 <code>Path</code> 对象。</li><li>返回值类型：<code>Path</code> 对象</li><li>💡 注意： 
  <ul><li><code>Path.home()</code> 不需要传入参数，它直接返回当前用户的主目录的 <code>Path</code> 对象。</li><li>如果直接调用<code>Path.home()</code>返回是一个<code>Path</code>对象，如需获取字符串，则需要<code>.name</code></li><li>如果通过对象调用<code>p.home()</code>返回是一个字符串，而非<code>Path</code>对象</li><li>如果在多用户系统中，<code>Path.home()</code> 返回的是调用该方法的用户的主目录。</li></ul> </li><li>示例代码：</li></ul> 
<pre><code class="prism language-python"><span class="token keyword">from</span> pathlib <span class="token keyword">import</span> Path


dataset <span class="token operator">=</span> Path<span class="token punctuation">(</span><span class="token string">'/mnt/f/Learning-Notebook-Codes/Datasets'</span><span class="token punctuation">)</span>
dataset_compressed_package <span class="token operator">=</span> Path<span class="token punctuation">(</span><span class="token string">'/mnt/f/Learning-Notebook-Codes/Datasets.tar.gz'</span><span class="token punctuation">)</span>
image <span class="token operator">=</span> Path<span class="token punctuation">(</span><span class="token string">'Datasets/coco128/train/images/000000000061.jpg'</span><span class="token punctuation">)</span>
label <span class="token operator">=</span> Path<span class="token punctuation">(</span><span class="token string">'Datasets/coco128/train/labels/000000000061.txt'</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"[直接调用] </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>Path<span class="token punctuation">.</span>home<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"[直接调用] </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>Path<span class="token punctuation">.</span>home<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"[</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>dataset<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">] </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>dataset<span class="token punctuation">.</span>home<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"[</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>dataset_compressed_package<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">] </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>dataset_compressed_package<span class="token punctuation">.</span>home<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"[</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>image<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">] </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>image<span class="token punctuation">.</span>home<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"[</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>label<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">] </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>label<span class="token punctuation">.</span>home<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
</code></pre> 
<pre><code>[直接调用] Path.home() = PosixPath('/home/leovin')
[直接调用] Path.home().name = 'leovin'
[Datasets] /home/leovin
[Datasets.tar.gz] /home/leovin
[000000000061.jpg] /home/leovin
[000000000061.txt] /home/leovin
</code></pre> 
<h4><a id="_3_stat_450"></a>🧊 [3] .stat()：获取文件详细信息</h4> 
<ul><li>作用：获取文件详细信息，包括文件大小、创建时间、最后访问时间、最后修改时间等。该方法返回一个<code>os.stat_result</code>对象，其常用属性如下： 
  <ul><li><code>st_mode</code>: 文件类型和权限信息。</li><li><code>st_size</code>: 文件大小（以字节为单位）。</li><li><code>st_atime</code>: 文件最后访问时间。</li><li><code>st_mtime</code>: 文件最后修改时间。</li><li><code>st_ctime</code>: 文件状态改变时间（Windows上为创建时间）。</li><li>…（不常用）</li></ul> </li><li>返回值类型：<code>os.stat_result</code> 对象</li><li>💡 注意： 
  <ul><li><code>Path.stat()</code> 需要路径指向的文件或文件夹存在，否则会抛出 <code>FileNotFoundError</code>。</li><li><code>Path.stat()</code> 不会返回可迭代类型，而是返回一个包含文件状态信息的 <code>os.stat_result</code> 对象。</li><li>文件大小、时间不易读，我们可以改为易读的形式。</li></ul> </li><li>示例代码：</li></ul> 
<pre><code class="prism language-python"><span class="token keyword">from</span> pathlib <span class="token keyword">import</span> Path
<span class="token keyword">import</span> datetime


image <span class="token operator">=</span> Path<span class="token punctuation">(</span><span class="token string">'Datasets/coco128/train/images/000000000061.jpg'</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"------------------------------ 原始信息 ------------------------------"</span></span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"获取文件详细信息: </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>image<span class="token punctuation">.</span>stat<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"获取文件字节大小: </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>image<span class="token punctuation">.</span>stat<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>st_size<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"获取文件创建时间: </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>image<span class="token punctuation">.</span>stat<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>st_ctime<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>  <span class="token comment"># c: create</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"获取文件上次修改时间: </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>image<span class="token punctuation">.</span>stat<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>st_mtime<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>  <span class="token comment"># m:: modify</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"---------------------------- 改为易读形式 ----------------------------"</span></span><span class="token punctuation">)</span>
<span class="token comment"># 获取文件详细统计信息</span>
stat_info <span class="token operator">=</span> image<span class="token punctuation">.</span>stat<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 打印文件字节大小，并转换为KB和MB</span>
file_size_bytes <span class="token operator">=</span> stat_info<span class="token punctuation">.</span>st_size
file_size_kb <span class="token operator">=</span> file_size_bytes <span class="token operator">/</span> <span class="token number">1024</span>
file_size_mb <span class="token operator">=</span> file_size_kb <span class="token operator">/</span> <span class="token number">1024</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"文件字节大小: </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>file_size_bytes<span class="token punctuation">}</span></span><span class="token string"> bytes, </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>file_size_kb<span class="token punctuation">:</span><span class="token format-spec">.2f</span><span class="token punctuation">}</span></span><span class="token string"> KB, </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>file_size_mb<span class="token punctuation">:</span><span class="token format-spec">.2f</span><span class="token punctuation">}</span></span><span class="token string"> MB"</span></span><span class="token punctuation">)</span>

<span class="token comment"># 打印文件创建时间（转换为人类可读的格式）</span>
create_time <span class="token operator">=</span> datetime<span class="token punctuation">.</span>datetime<span class="token punctuation">.</span>fromtimestamp<span class="token punctuation">(</span>stat_info<span class="token punctuation">.</span>st_ctime<span class="token punctuation">)</span><span class="token punctuation">.</span>strftime<span class="token punctuation">(</span><span class="token string">'%Y-%m-%d %H:%M:%S'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"文件创建时间: </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>create_time<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>

<span class="token comment"># 打印文件上次修改时间（转换为人类可读的格式）</span>
modify_time <span class="token operator">=</span> datetime<span class="token punctuation">.</span>datetime<span class="token punctuation">.</span>fromtimestamp<span class="token punctuation">(</span>stat_info<span class="token punctuation">.</span>st_mtime<span class="token punctuation">)</span><span class="token punctuation">.</span>strftime<span class="token punctuation">(</span><span class="token string">'%Y-%m-%d %H:%M:%S'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"文件上次修改时间: </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>modify_time<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
</code></pre> 
<pre><code>------------------------------ 原始信息 ------------------------------
获取文件详细信息: os.stat_result(st_mode=33279, st_ino=1125899907375496, st_dev=49, st_nlink=1, 
                                 st_uid=1000, st_gid=1000, st_size=135566, st_atime=1714285132, 
                                 st_mtime=1666146712, st_ctime=1707038640)
获取文件字节大小: 135566
获取文件创建时间: 1707038640.4572322
获取文件上次修改时间: 1666146712.0
---------------------------- 改为易读形式 ----------------------------
文件字节大小: 135566 bytes, 132.39 KB, 0.13 MB
文件创建时间: 2024-02-04 17:24:00
文件上次修改时间: 2022-10-19 10:31:52
</code></pre> 
<h4><a id="_4_exists_512"></a>🧊 [4] .exists()：检查目录或者文件是否存在</h4> 
<ul><li>作用：<code>Path.exists()</code> 方法用于检查路径所指的📑文件或📂文件夹是否存在。</li><li>返回值类型：布尔值（<code>bool</code>）</li><li>💡 注意： 
  <ul><li>等价于<code>os.path.exists(具体的路径)</code>。</li><li><code>os.path.exists(Path)</code>也是可以的（<code>Path</code>甚至都不用<code>.name</code>）。</li><li><code>Path.exists()</code> 不会抛出异常，即使路径不存在也不会报错。</li><li><code>Path.exists()</code> 只检查路径的存在性，而不检查路径的访问权限（潜在风险：即使路径存在，也可能由于权限问题而无法访问）。</li></ul> </li><li>示例代码：</li></ul> 
<pre><code class="prism language-python"><span class="token keyword">from</span> pathlib <span class="token keyword">import</span> Path
<span class="token keyword">import</span> os


dataset <span class="token operator">=</span> Path<span class="token punctuation">(</span><span class="token string">'/mnt/f/Learning-Notebook-Codes/Datasets'</span><span class="token punctuation">)</span>
dataset_compressed_package <span class="token operator">=</span> Path<span class="token punctuation">(</span><span class="token string">'/mnt/f/Learning-Notebook-Codes/Datasets.tar.gz'</span><span class="token punctuation">)</span>
image <span class="token operator">=</span> Path<span class="token punctuation">(</span><span class="token string">'Datasets/coco128/train/images/000000000061.jpg'</span><span class="token punctuation">)</span>
label <span class="token operator">=</span> Path<span class="token punctuation">(</span><span class="token string">'Datasets/coco128/train/labels/000000000061.txt'</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"[</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>dataset<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">] [调用os库] </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>exists<span class="token punctuation">(</span>dataset<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"[</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>dataset<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">] </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>dataset<span class="token punctuation">.</span>exists<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"[</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>dataset_compressed_package<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">] </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>dataset_compressed_package<span class="token punctuation">.</span>exists<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"[</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>dataset_compressed_package<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">] [调用os库] </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>exists<span class="token punctuation">(</span>dataset_compressed_package<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"[</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>image<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">] </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>image<span class="token punctuation">.</span>exists<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"[</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>image<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">] [调用os库] </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>exists<span class="token punctuation">(</span>image<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"[</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>label<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">] </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>label<span class="token punctuation">.</span>exists<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"[</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>label<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">] [调用os库] </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>exists<span class="token punctuation">(</span>label<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
</code></pre> 
<pre><code>[Datasets] [调用os库] os.path.exists(dataset) = True
[Datasets] dataset.exists() = True

[Datasets.tar.gz] dataset_compressed_package.exists() = False
[Datasets.tar.gz] [调用os库] os.path.exists(dataset_compressed_package) = False

[000000000061.jpg] image.exists() = True
[000000000061.jpg] [调用os库] os.path.exists(image) = True

[000000000061.txt] label.exists() = True
[000000000061.txt] [调用os库] os.path.exists(label) = True
</code></pre> 
<h4><a id="_5_is_fileis_dir_560"></a>🧊 [5] .is_file()和.is_dir()：判断路径的性质（文件/文件夹）</h4> 
<ul><li>作用：<code>Path.is_file()</code> 方法用于检查路径是否指向一个📑文件，而 <code>Path.is_dir()</code> 方法用于检查路径是否指向一个📂目录（文件夹）。</li><li>返回值类型：布尔值（<code>bool</code>）</li><li>💡 注意： 
  <ul><li>等价于<code>os.path.isfile(路径)和os.path.isdir(路径)</code></li><li><code>Path.is_file()</code> 返回 <code>True</code> 如果路径所指的是一个🖺文件，否则返回 <code>False</code>。</li><li><code>Path.is_dir()</code> 返回 <code>True</code> 如果路径所指的是一个📂目录，否则返回 <code>False</code>。</li><li>在某些情况下，如果权限问题导致无法确定路径的类型，这两个方法可能会抛出 <code>PermissionError</code> 或 <code>OSError</code>。</li></ul> </li><li>示例代码：</li></ul> 
<pre><code class="prism language-python"><span class="token keyword">from</span> pathlib <span class="token keyword">import</span> Path
<span class="token keyword">import</span> os


<span class="token keyword">def</span> <span class="token function">get_path_type_Path</span><span class="token punctuation">(</span>path<span class="token punctuation">:</span> Path<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">str</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> path<span class="token punctuation">.</span>is_file<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string">'file'</span>
    <span class="token keyword">elif</span> path<span class="token punctuation">.</span>is_dir<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string">'dir'</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string">'unknown'</span>
    
    
<span class="token keyword">def</span> <span class="token function">get_path_type_os</span><span class="token punctuation">(</span>path<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">str</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>isfile<span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string">'file'</span>
    <span class="token keyword">elif</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>isdir<span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string">'dir'</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string">'unknown'</span>
            

dataset <span class="token operator">=</span> Path<span class="token punctuation">(</span><span class="token string">'/mnt/f/Learning-Notebook-Codes/Datasets'</span><span class="token punctuation">)</span>
dataset_compressed_package <span class="token operator">=</span> Path<span class="token punctuation">(</span><span class="token string">'/mnt/f/Learning-Notebook-Codes/Datasets.tar.gz'</span><span class="token punctuation">)</span>
image <span class="token operator">=</span> Path<span class="token punctuation">(</span><span class="token string">'Datasets/coco128/train/images/000000000061.jpg'</span><span class="token punctuation">)</span>
label <span class="token operator">=</span> Path<span class="token punctuation">(</span><span class="token string">'Datasets/coco128/train/labels/000000000061.txt'</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"[</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>dataset<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">] [调用os库] </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>get_path_type_os<span class="token punctuation">(</span>dataset<span class="token punctuation">.</span>absolute<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"[</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>dataset<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">] </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>get_path_type_Path<span class="token punctuation">(</span>dataset<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"[</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>dataset_compressed_package<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">] [调用os库] </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>get_path_type_os<span class="token punctuation">(</span>dataset_compressed_package<span class="token punctuation">.</span>absolute<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"[</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>dataset_compressed_package<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">] </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>get_path_type_Path<span class="token punctuation">(</span>dataset_compressed_package<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"[</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>image<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">] [调用os库] </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>get_path_type_os<span class="token punctuation">(</span>image<span class="token punctuation">.</span>absolute<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"[</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>image<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">] </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>get_path_type_Path<span class="token punctuation">(</span>image<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"[</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>label<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">] [调用os库] </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>get_path_type_os<span class="token punctuation">(</span>label<span class="token punctuation">.</span>absolute<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"[</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>label<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">] </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>get_path_type_Path<span class="token punctuation">(</span>label<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
</code></pre> 
<pre><code>[Datasets] [调用os库] get_path_type_os(dataset.absolute()) = 'dir'
[Datasets] get_path_type_Path(dataset) = 'dir'

[Datasets.tar.gz] [调用os库] get_path_type_os(dataset_compressed_package.absolute()) = 'unknown'
[Datasets.tar.gz] get_path_type_Path(dataset_compressed_package) = 'unknown'

[000000000061.jpg] [调用os库] get_path_type_os(image.absolute()) = 'file'
[000000000061.jpg] get_path_type_Path(image) = 'file'

[000000000061.txt] [调用os库] get_path_type_os(label.absolute()) = 'file'
[000000000061.txt] get_path_type_Path(label) = 'file'
</code></pre> 
<h4><a id="_6_resolve_623"></a>🧊 [6] .resolve()：返回规范的绝对路径（解析路径）</h4> 
<ul><li>作用：<code>Path.resolve()</code> 方法用于解析路径，返回一个绝对路径的 <code>Path</code> 对象。它会解决路径中的符号链接，<code>.</code>, <code>..</code> 等相对路径组件，并返回一个规范化的绝对路径。</li><li>返回值类型：<code>Path</code> 对象</li><li>💡 注意： 
  <ul><li>不管传入的是相对路径还是绝对路径，返回的都是完整的绝对路径。</li><li><code>Path.resolve()</code> 返回的路径是绝对路径，如果传入的是相对路径，它会相对于当前工作目录进行解析。</li><li>如果路径中包含符号链接，<code>Path.resolve()</code> 会解析符号链接指向的实际路径。</li><li>如果在解析过程中遇到权限问题，<code>Path.resolve()</code> 可能会抛出 <code>PermissionError</code> 或 <code>OSError</code>。</li><li><code>Path.resolve()</code> 不会检查路径指向的文件或目录是否存在，它只负责路径解析和规范化。</li></ul> </li><li>示例代码：</li></ul> 
<pre><code class="prism language-python"><span class="token keyword">from</span> pathlib <span class="token keyword">import</span> Path
            

dataset <span class="token operator">=</span> Path<span class="token punctuation">(</span><span class="token string">'/mnt/d/Learning-Notebook-Codes/Datasets'</span><span class="token punctuation">)</span>
dataset_compressed_package <span class="token operator">=</span> Path<span class="token punctuation">(</span><span class="token string">'/mnt/d/Learning-Notebook-Codes/Datasets.tar.gz'</span><span class="token punctuation">)</span>
image <span class="token operator">=</span> Path<span class="token punctuation">(</span><span class="token string">'Datasets/coco128/train/images/000000000061.jpg'</span><span class="token punctuation">)</span>
label <span class="token operator">=</span> Path<span class="token punctuation">(</span><span class="token string">'Datasets/coco128/train/labels/000000000061.txt'</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"[绝对路径] [</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>dataset<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">] </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>dataset<span class="token punctuation">.</span>resolve<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"[绝对路径] [</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>dataset_compressed_package<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">] </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>dataset_compressed_package<span class="token punctuation">.</span>resolve<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"[相对路径] [</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>image<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">] </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>image<span class="token punctuation">.</span>resolve<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"[相对路径] [</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>label<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">] </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>label<span class="token punctuation">.</span>resolve<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
</code></pre> 
<pre><code>[绝对路径] [Datasets] dataset.resolve() = PosixPath('/mnt/d/Learning-Notebook-Codes/Datasets')
[绝对路径] [Datasets.tar.gz] dataset_compressed_package.resolve() = PosixPath('/mnt/d/Learning-Notebook-Codes/Datasets.tar.gz')
[相对路径] [000000000061.jpg] image.resolve() = PosixPath('/mnt/d/Learning-Notebook-Codes/Datasets/coco128/train/images/000000000061.jpg')
[相对路径] [000000000061.txt] label.resolve() = PosixPath('/mnt/d/Learning-Notebook-Codes/Datasets/coco128/train/labels/000000000061.txt')
</code></pre> 
<h4><a id="_7_iterdir_657"></a>🧊 [7] .iterdir()：遍历一个目录（不会递归）</h4> 
<ul><li>作用：<code>Path.iterdir()</code> 方法用于遍历路径所指的目录中的所有项（文件和子目录），返回一个迭代器，其中包含目录中每个项的 <code>Path</code> 对象。</li><li>返回值类型：迭代器（生成器）</li><li>💡 注意： 
  <ul><li><code>Path.iterdir()</code> 只适用于目录路径，<font color="red"><b>如果路径指向的是文件，将会抛出</b></font> <code>NotADirectoryError</code>。</li><li><code>Path.iterdir()</code> <font color="red"><b>不会递归地遍历子目录</b></font>，它只返回当前目录的直接项。</li><li>如果目录不存在，<code>Path.iterdir()</code> 会抛出 <code>FileNotFoundError</code>。</li><li><code>Path.iterdir()</code> 返回的迭代器中不包括<code>.</code>和<code>..</code>这两个特殊的目录项。</li><li>在使用 <code>Path.iterdir()</code> 时，如果目录中的项在迭代过程中被修改或删除，迭代行为可能不会反映这些变化。</li></ul> </li><li>示例代码：</li></ul> 
<pre><code class="prism language-python"><span class="token keyword">from</span> pathlib <span class="token keyword">import</span> Path


<span class="token keyword">def</span> <span class="token function">iterate</span><span class="token punctuation">(</span>it<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">try</span><span class="token punctuation">:</span>
        <span class="token keyword">for</span> i<span class="token punctuation">,</span> content <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>it<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"[</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>i<span class="token punctuation">}</span></span><span class="token string">] </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>content<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
    <span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"❌ 该对象不可迭代: </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>e<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
            

dataset <span class="token operator">=</span> Path<span class="token punctuation">(</span><span class="token string">'/mnt/d/Learning-Notebook-Codes/Datasets'</span><span class="token punctuation">)</span>
dataset_compressed_package <span class="token operator">=</span> Path<span class="token punctuation">(</span><span class="token string">'/mnt/d/Learning-Notebook-Codes/Datasets.tar.gz'</span><span class="token punctuation">)</span>
image <span class="token operator">=</span> Path<span class="token punctuation">(</span><span class="token string">'Datasets/coco128/train/images/000000000061.jpg'</span><span class="token punctuation">)</span>
label <span class="token operator">=</span> Path<span class="token punctuation">(</span><span class="token string">'Datasets/coco128/train/labels/000000000061.txt'</span><span class="token punctuation">)</span>

<span class="token comment"># 调用Path.iterdir()方法</span>
iter_dataset <span class="token operator">=</span> dataset<span class="token punctuation">.</span>iterdir<span class="token punctuation">(</span><span class="token punctuation">)</span>
iter_dataset_compressed_package <span class="token operator">=</span> dataset_compressed_package<span class="token punctuation">.</span>iterdir<span class="token punctuation">(</span><span class="token punctuation">)</span>
iter_image <span class="token operator">=</span> image<span class="token punctuation">.</span>iterdir<span class="token punctuation">(</span><span class="token punctuation">)</span>
iter_label <span class="token operator">=</span> label<span class="token punctuation">.</span>iterdir<span class="token punctuation">(</span><span class="token punctuation">)</span>

iterate<span class="token punctuation">(</span>iter_dataset<span class="token punctuation">)</span>
iterate<span class="token punctuation">(</span>iter_dataset_compressed_package<span class="token punctuation">)</span>
iterate<span class="token punctuation">(</span>image<span class="token punctuation">)</span>
iterate<span class="token punctuation">(</span>label<span class="token punctuation">)</span>
</code></pre> 
<pre><code>[0] /mnt/d/Learning-Notebook-Codes/Datasets/coco128
[1] /mnt/d/Learning-Notebook-Codes/Datasets/coco128.tar.gz
[2] /mnt/d/Learning-Notebook-Codes/Datasets/imagenet_classes_indices.csv
[3] /mnt/d/Learning-Notebook-Codes/Datasets/VOCdevkit
[4] /mnt/d/Learning-Notebook-Codes/Datasets/Web
❌ 该对象不可迭代: [Errno 2] No such file or directory: '/mnt/d/Learning-Notebook-Codes/Datasets.tar.gz'
❌ 该对象不可迭代: 'PosixPath' object is not iterable
❌ 该对象不可迭代: 'PosixPath' object is not iterable
</code></pre> 
<h4><a id="_8_globpattern_709"></a>🧊 [8] .glob()：获取所有符合pattern的文件</h4> 
<ul><li>作用：<code>Path.glob()</code> 方法用于匹配路径下符合特定模式的所有文件和子目录的名称，返回一个迭代器，其中包含匹配的项的 <code>Path</code> 对象。</li><li>返回值类型：迭代器（生成器），例子：<code>generator -&gt; &lt;generator object Path.glob at 0x7fa812d2e7a0&gt;</code></li><li>💡 注意： 
  <ul><li><code>Path.glob()</code> 接受一个使用通配符的模式作为参数，如 <code>*.txt</code> 匹配所有扩展名为 <code>.txt</code> 的文件。</li><li><code>Path.glob()</code> 可以使用相对路径或绝对路径，如果是相对路径，它将相对于调用 <code>glob()</code> 的 <code>Path</code> 对象所在的目录进行匹配。</li><li><code>Path.glob()</code><font color="red"><b>不会递归地匹配子目录中的文件</b></font>，只匹配当前目录下符合模式的文件和子目录。</li><li>如果需要递归地匹配所有子目录中的文件，可以使用 <code>**</code> 通配符，例如 <code>**/*.txt</code>。<font color="green"><b>还是推荐使用 Path.rglob() 方法</b></font>。</li><li>如果路径不存在，<code>Path.glob()</code> 将返回一个空的迭代器（不会报错）。</li><li><code>Path.glob()</code> 返回的迭代器中不会包含<code>.</code>和<code>..</code>这两个特殊的目录项。</li><li><strong>这里的pattern并不是正则表达式（Regex）而是 globbing 模式，这是一种比正则表达式更简单的模式匹配机制</strong>。</li></ul> </li><li>💡 Globbing 模式支持的通配符包括： 
  <ul><li><code>*</code>：匹配任意数量的字符（不包括路径分隔符）</li><li><code>?</code>：匹配单个字符</li><li><code>[seq]</code>：匹配 seq 中的任意一个字符（字符集）</li><li><code>[!seq]</code>：匹配不在 seq 中的任意一个字符（否定字符集）</li></ul> </li><li>Globbing 模式示例： 
  <ul><li>如果我们想匹配所有以 <code>.txt</code> 结尾的文件，我们可以使用 <code>*.txt</code> 作为模式。</li><li>如果我们想匹配以数字开头，后面跟着任意字符的文件，我们可以使用 <code>[0-9]*</code>。</li></ul> </li><li>补充：如果我们需要使用正则表达式来匹配文件路径，我们可以使用标准库中的 <code>re</code> 模块，或者结合 <code>Path</code> 对象使用 <code>Path.match()</code> 方法，后者接受一个正则表达式作为参数。</li><li>示例代码：</li></ul> 
<pre><code class="prism language-python"><span class="token keyword">from</span> pathlib <span class="token keyword">import</span> Path


directory <span class="token operator">=</span> Path<span class="token punctuation">(</span><span class="token string">'Python/code/code_of_pathlib/files'</span><span class="token punctuation">)</span>

<span class="token comment"># 我们创建一个文件夹</span>
directory<span class="token punctuation">.</span>mkdir<span class="token punctuation">(</span>parents<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> exist_ok<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>

<span class="token comment"># 再创建一些文件</span>
filenames <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token string">'file1.txt'</span><span class="token punctuation">,</span>
    <span class="token string">'file2.txt'</span><span class="token punctuation">,</span>
    <span class="token string">'file2.py'</span><span class="token punctuation">,</span>
    <span class="token string">'file3.xml'</span><span class="token punctuation">,</span>
    <span class="token string">'file4.log'</span><span class="token punctuation">,</span>
    <span class="token string">'file5.csv'</span><span class="token punctuation">,</span>
    <span class="token string">'file6.json'</span><span class="token punctuation">,</span>
    <span class="token string">'fileA.txt'</span><span class="token punctuation">,</span>
    <span class="token string">'fileB.txt'</span><span class="token punctuation">,</span>
    <span class="token string">'fileBBBBB.txt'</span><span class="token punctuation">,</span>
    <span class="token string">'fileC.xml'</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>

<span class="token keyword">for</span> filename <span class="token keyword">in</span> filenames<span class="token punctuation">:</span>
    <span class="token comment"># 组合路径</span>
    filepath <span class="token operator">=</span> directory<span class="token punctuation">.</span>joinpath<span class="token punctuation">(</span>filename<span class="token punctuation">)</span>

    <span class="token comment"># 创建文件</span>
    filepath<span class="token punctuation">.</span>touch<span class="token punctuation">(</span>exist_ok<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>  <span class="token comment"># 💡 如果文件已经存在，也会更新文件的时间戳</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"------〔1〕❌ 使用[seq]匹配以'file'开头，后面跟着'1'或'2'的.txt文件或.py文件 ------"</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> txt_file <span class="token keyword">in</span> directory<span class="token punctuation">.</span>glob<span class="token punctuation">(</span><span class="token string">'file[12]*.{txt,py}'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># 💡 这样写是不可以的</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>txt_file<span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"\n------〔1〕✅ 使用[seq]匹配以'file'开头，后面跟着'1'或'2'的.txt文件或.py文件 ------"</span><span class="token punctuation">)</span>
extensions <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'*.txt'</span><span class="token punctuation">,</span> <span class="token string">'*.py'</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> ext <span class="token keyword">in</span> extensions<span class="token punctuation">:</span>
    pattern <span class="token operator">=</span> <span class="token string-interpolation"><span class="token string">f"file[12]</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>ext<span class="token punctuation">}</span></span><span class="token string">"</span></span>
    <span class="token comment"># pattern = "file[12]" + ext  # 这里写也可以</span>
    <span class="token keyword">for</span> <span class="token builtin">file</span> <span class="token keyword">in</span> directory<span class="token punctuation">.</span>glob<span class="token punctuation">(</span>pattern<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">file</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"\n-----------〔2〕使用[seq]匹配以'file'开头，后面跟着'1'或'2'的.txt文件 -----------"</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> txt_file <span class="token keyword">in</span> directory<span class="token punctuation">.</span>glob<span class="token punctuation">(</span><span class="token string">'file[12]*.txt'</span><span class="token punctuation">)</span><span class="token punctuation">:</span> 
    <span class="token keyword">print</span><span class="token punctuation">(</span>txt_file<span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"\n--------------------〔3〕使用[!seq]匹配不以数字开头的.txt文件 --------------------"</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> txt_file <span class="token keyword">in</span> directory<span class="token punctuation">.</span>glob<span class="token punctuation">(</span><span class="token string">'file[!0-9]*.txt'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># 💡 这里加了*表示非数字后面可以后其他内容</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>txt_file<span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"\n--------------------〔4〕使用[!seq]匹配不以数字开头的.txt文件 ---------------------"</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> txt_file <span class="token keyword">in</span> directory<span class="token punctuation">.</span>glob<span class="token punctuation">(</span><span class="token string">'file[!0-9].txt'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># 💡 这里没有加*表示必须后面不可以后其他内容，file非数字内容.txt</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>txt_file<span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"\n-----〔5〕使用[seq]匹配以'file'开头，后面跟着'A'到'C'之间的任意字母的.txt文件 -----"</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> txt_file <span class="token keyword">in</span> directory<span class="token punctuation">.</span>glob<span class="token punctuation">(</span><span class="token string">'file[A-C].txt'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>txt_file<span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"\n-----------------〔6〕使用[!seq]匹配不以字母'A'或'B'开头的.txt文件 ----------------"</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> log_file <span class="token keyword">in</span> directory<span class="token punctuation">.</span>glob<span class="token punctuation">(</span><span class="token string">'file[!AB]*.txt'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>log_file<span class="token punctuation">)</span>
</code></pre> 
<pre><code>------〔1〕❌ 使用[seq]匹配以'file'开头，后面跟着'1'或'2'的.txt文件或.py文件 ------

------〔1〕✅ 使用[seq]匹配以'file'开头，后面跟着'1'或'2'的.txt文件或.py文件 ------
Python/code/code_of_pathlib/files/file1.txt
Python/code/code_of_pathlib/files/file2.txt
Python/code/code_of_pathlib/files/file2.py

-----------〔2〕使用[seq]匹配以'file'开头，后面跟着'1'或'2'的.txt文件 -----------
Python/code/code_of_pathlib/files/file1.txt
Python/code/code_of_pathlib/files/file2.txt

--------------------〔3〕使用[!seq]匹配不以数字开头的.txt文件 --------------------
Python/code/code_of_pathlib/files/fileA.txt
Python/code/code_of_pathlib/files/fileB.txt
Python/code/code_of_pathlib/files/fileBBBBB.txt

--------------------〔4〕使用[!seq]匹配不以数字开头的.txt文件 ---------------------
Python/code/code_of_pathlib/files/fileA.txt
Python/code/code_of_pathlib/files/fileB.txt

-----〔5〕使用[seq]匹配以'file'开头，后面跟着'A'到'C'之间的任意字母的.txt文件 -----
Python/code/code_of_pathlib/files/fileA.txt
Python/code/code_of_pathlib/files/fileB.txt

-----------------〔6〕使用[!seq]匹配不以字母'A'或'B'开头的.txt文件 ----------------
Python/code/code_of_pathlib/files/file1.txt
Python/code/code_of_pathlib/files/file2.txt
</code></pre> 
<h4><a id="_9_rglob_826"></a>🧊 [9] .rglob()：递归地遍历文件夹（递归遍历目录树）</h4> 
<ul><li>作用：<code>Path.rglob()</code> 方法用于递归地匹配路径下和所有子目录中符合特定模式的所有文件和子目录的名称，返回一个迭代器，其中包含匹配的项的 <code>Path</code> 对象。</li><li>返回值类型：迭代器（生成器），例子：<code>generator -&gt; &lt;generator object Path.rglob at 0x7ffa4746e810&gt;</code></li><li>小知识： 
  <ul><li>rglob: recursive glob，即递归的glob</li><li>glob 的名称来源于 Unix 中的 glob 函数，该函数用于将通配符扩展成匹配的文件列表。这个名字据说来源于 global，因为 glob 函数可以“全局”地匹配一组文件名。</li></ul> </li><li>💡 注意： 
  <ul><li><code>Path.rglob()</code> 接受一个使用通配符的模式作为参数，如 <code>*.txt</code> 匹配所有扩展名为 <code>.txt</code> 的文件。</li><li><code>Path.rglob()</code> 可以使用相对路径或绝对路径，如果是相对路径，它将相对于调用 <code>rglob()</code> 的 <code>Path</code> 对象所在的目录进行递归匹配。</li><li><code>Path.rglob()</code> <font color="red"><b>会递归地遍历所有子目录</b></font>，匹配当前目录和所有子目录中符合模式的文件和子目录。</li><li>如果路径不存在，<code>Path.rglob()</code> 将返回一个空的迭代器（不会报错）。</li><li><code>Path.rglob()</code> 返回的迭代器中不会包含<code>.</code>和<code>..</code>这两个特殊的目录项。</li><li><code>Path.rglob('*')</code>是一个比较通用的用法，即遍历所有文件和文件夹。</li></ul> </li><li>示例代码：</li></ul> 
<pre><code class="prism language-python"><span class="token keyword">from</span> pathlib <span class="token keyword">import</span> Path


<span class="token keyword">def</span> <span class="token function">get_path_type_Path</span><span class="token punctuation">(</span>path<span class="token punctuation">:</span> Path<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">str</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> path<span class="token punctuation">.</span>is_file<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string">'file'</span>
    <span class="token keyword">elif</span> path<span class="token punctuation">.</span>is_dir<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string">'📂 dir'</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string">'unknown'</span>


directory <span class="token operator">=</span> Path<span class="token punctuation">(</span><span class="token string">'Python/code/code_of_pathlib/files'</span><span class="token punctuation">)</span>


<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"--------------------〔1〕遍历所有的文件和文件夹 ---------------------"</span></span><span class="token punctuation">)</span>
<span class="token keyword">for</span> path <span class="token keyword">in</span> directory<span class="token punctuation">.</span>rglob<span class="token punctuation">(</span><span class="token string">'*'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"[</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>get_path_type_Path<span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">] </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>path<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"\n----------------------〔2〕遍历所有的.py文件 ------------------------"</span></span><span class="token punctuation">)</span>
<span class="token keyword">for</span> path <span class="token keyword">in</span> directory<span class="token punctuation">.</span>rglob<span class="token punctuation">(</span><span class="token string">'*.py'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"[</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>get_path_type_Path<span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">] </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>path<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"\n----------------------〔3〕遍历所有的图片文件 -----------------------"</span></span><span class="token punctuation">)</span>
image_extensions <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'.jpg'</span><span class="token punctuation">,</span> <span class="token string">'.jpeg'</span><span class="token punctuation">,</span> <span class="token string">'.png'</span><span class="token punctuation">,</span> <span class="token string">'.bmp'</span><span class="token punctuation">,</span> <span class="token string">'.webp'</span><span class="token punctuation">]</span>
image_extensions <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'*'</span> <span class="token operator">+</span> x <span class="token keyword">for</span> x <span class="token keyword">in</span> image_extensions<span class="token punctuation">]</span>  <span class="token comment"># 变为*.格式</span>

<span class="token keyword">for</span> ext <span class="token keyword">in</span> image_extensions<span class="token punctuation">:</span>
    <span class="token keyword">for</span> path <span class="token keyword">in</span> directory<span class="token punctuation">.</span>rglob<span class="token punctuation">(</span>ext<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"[</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>get_path_type_Path<span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">] </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>path<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
</code></pre> 
<pre><code>--------------------〔1〕遍历所有的文件和文件夹 ---------------------
[file] Python/code/code_of_pathlib/files/code1.py
[file] Python/code/code_of_pathlib/files/code2.py
[📂 dir] Python/code/code_of_pathlib/files/docs
[📂 dir] Python/code/code_of_pathlib/files/images
[file] Python/code/code_of_pathlib/files/docs/aaa.txt
[file] Python/code/code_of_pathlib/files/docs/bbb.docx
[file] Python/code/code_of_pathlib/files/images/cat.png
[file] Python/code/code_of_pathlib/files/images/dog.jpeg
[file] Python/code/code_of_pathlib/files/images/eeg.jpg
[file] Python/code/code_of_pathlib/files/images/person.png

----------------------〔2〕遍历所有的.py文件 ------------------------
[file] Python/code/code_of_pathlib/files/code1.py
[file] Python/code/code_of_pathlib/files/code2.py

----------------------〔3〕遍历所有的图片文件 -----------------------
[file] Python/code/code_of_pathlib/files/images/eeg.jpg
[file] Python/code/code_of_pathlib/files/images/dog.jpeg
[file] Python/code/code_of_pathlib/files/images/cat.png
[file] Python/code/code_of_pathlib/files/images/person.png
</code></pre> 
<h4><a id="_10_unlink_899"></a>🧊 [10] .unlink()：删除文件（非目录）</h4> 
<ul><li>作用：<code>Path.unlink()</code> 方法用于删除路径所指的文件。如果路径是一个文件，该方法将移除该文件，使其不再存在于文件系统中。</li><li>返回值类型：无返回值（<code>None</code>）</li><li>💡 注意： 
  <ul><li><code>Path.unlink()</code> 只能用于文件，如果用于目录，将会抛出 <code>IsADirectoryError</code>。</li><li>如果文件不存在，<code>Path.unlink()</code> 将抛出 <code>FileNotFoundError</code>。</li><li>在某些操作系统中，如果文件被其他程序打开或占用，<code>Path.unlink()</code> 可能会抛出 <code>PermissionError</code>。</li><li><code>Path.unlink()</code> 不会删除符号链接本身，而是删除它指向的目标文件。如果需要删除符号链接，请确保路径指向的是符号链接而不是它所指向的文件。</li><li><code>Path.unlink()</code> 是一个破坏性操作，<font color="red"><b>一旦文件被删除，除非有备份，否则无法恢复</b></font>。</li></ul> </li><li>示例代码：</li></ul> 
<pre><code class="prism language-python"><span class="token keyword">from</span> pathlib <span class="token keyword">import</span> Path


directory <span class="token operator">=</span> Path<span class="token punctuation">(</span><span class="token string">'Python/code/code_of_pathlib/files'</span><span class="token punctuation">)</span>

<span class="token comment"># 我们创建一个文件夹</span>
directory<span class="token punctuation">.</span>mkdir<span class="token punctuation">(</span>parents<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> exist_ok<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>

<span class="token comment"># 再创建一些文件</span>
filenames <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token string">'file1.txt'</span><span class="token punctuation">,</span>
    <span class="token string">'file2.txt'</span><span class="token punctuation">,</span>
    <span class="token string">'file2.py'</span><span class="token punctuation">,</span>
    <span class="token string">'file3.xml'</span><span class="token punctuation">,</span>
    <span class="token string">'file4.log'</span><span class="token punctuation">,</span>
    <span class="token string">'file5.csv'</span><span class="token punctuation">,</span>
    <span class="token string">'file6.json'</span><span class="token punctuation">,</span>
    <span class="token string">'fileA.txt'</span><span class="token punctuation">,</span>
    <span class="token string">'fileB.txt'</span><span class="token punctuation">,</span>
    <span class="token string">'fileBBBBB.txt'</span><span class="token punctuation">,</span>
    <span class="token string">'fileC.xml'</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>

<span class="token keyword">for</span> filename <span class="token keyword">in</span> filenames<span class="token punctuation">:</span>
    <span class="token comment"># 组合路径</span>
    filepath <span class="token operator">=</span> directory<span class="token punctuation">.</span>joinpath<span class="token punctuation">(</span>filename<span class="token punctuation">)</span>

    <span class="token comment"># 创建文件</span>
    filepath<span class="token punctuation">.</span>touch<span class="token punctuation">(</span>exist_ok<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>  <span class="token comment"># 💡 如果文件已经存在，也会更新文件的时间戳</span>

<span class="token comment"># 删除所有以file开头的文件</span>
<span class="token keyword">for</span> <span class="token builtin">file</span> <span class="token keyword">in</span> directory<span class="token punctuation">.</span>glob<span class="token punctuation">(</span><span class="token string">"file*"</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token builtin">file</span><span class="token punctuation">.</span>unlink<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"✅ [file📑] </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span><span class="token builtin">file</span><span class="token punctuation">}</span></span><span class="token string"> has been deleted!"</span></span><span class="token punctuation">)</span>

<span class="token comment"># 把文件夹也删除</span>
directory<span class="token punctuation">.</span>rmdir<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"✅ [folder📂] </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>directory<span class="token punctuation">}</span></span><span class="token string"> has been deleted!"</span></span><span class="token punctuation">)</span>
</code></pre> 
<pre><code>✅ [file📑] Python/code/code_of_pathlib/files/file1.txt has been deleted!
✅ [file📑] Python/code/code_of_pathlib/files/file2.py has been deleted!
✅ [file📑] Python/code/code_of_pathlib/files/file2.txt has been deleted!
✅ [file📑] Python/code/code_of_pathlib/files/file3.xml has been deleted!
✅ [file📑] Python/code/code_of_pathlib/files/file4.log has been deleted!
✅ [file📑] Python/code/code_of_pathlib/files/file5.csv has been deleted!
✅ [file📑] Python/code/code_of_pathlib/files/file6.json has been deleted!
✅ [file📑] Python/code/code_of_pathlib/files/fileA.txt has been deleted!
✅ [file📑] Python/code/code_of_pathlib/files/fileB.txt has been deleted!
✅ [file📑] Python/code/code_of_pathlib/files/fileBBBBB.txt has been deleted!
✅ [file📑] Python/code/code_of_pathlib/files/fileC.xml has been deleted!
✅ [folder📂]Python/code/code_of_pathlib/files has been deleted!
</code></pre> 
<h4><a id="_11_open_967"></a>🧊 [11] .open()：打开文件</h4> 
<ul><li>作用：<code>Path.open()</code> 方法用于打开路径所指的文件，并返回一个文件对象，该对象可以用于读取、写入或追加文件内容。</li><li>返回值类型：文件对象（<code>io.TextIOBase</code> 或 <code>io.BufferedIOBase</code> 的子类）</li><li>💡 注意： 
  <ul><li><code>Path.open()</code> 接受的参数与内置的 <code>open()</code> 函数相同，例如模式（<code>'r'</code>, <code>'w'</code>, <code>'a'</code> 等）、编码和其他选项。</li><li>打开文件的模式和编码可以指定，默认为文本模式（默认使用UTF-8）。</li><li>如果文件不存在且模式为写入或追加，<code>Path.open()</code> 将创建文件。</li><li>如果文件不存在且模式为读取，将抛出 <code>FileNotFoundError</code>。</li><li>如果路径是一个目录，<code>Path.open()</code> 将抛出 <code>IsADirectoryError</code>。</li><li>在使用 <code>Path.open()</code> 时，如果需要处理二进制文件，确保在模式中包含 <code>'b'</code>，例如 <code>'rb'</code> 或 <code>'wb'</code>。</li><li><code>Path.open()</code> 返回的文件对象应该在使用后关闭，以释放系统资源。通常使用 <code>with</code> 语句来确保文件正确关闭。</li></ul> </li><li>示例代码：</li></ul> 
<pre><code class="prism language-python"><span class="token keyword">from</span> pathlib <span class="token keyword">import</span> Path


label <span class="token operator">=</span> Path<span class="token punctuation">(</span><span class="token string">'Datasets/coco128/train/labels/000000000387.txt'</span><span class="token punctuation">)</span>

<span class="token keyword">with</span> label<span class="token punctuation">.</span><span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'r'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
    content <span class="token operator">=</span> f<span class="token punctuation">.</span>readlines<span class="token punctuation">(</span><span class="token punctuation">)</span>
    content <span class="token operator">=</span> <span class="token punctuation">[</span>x<span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">for</span> x <span class="token keyword">in</span> content<span class="token punctuation">]</span>
    
    <span class="token keyword">for</span> line <span class="token keyword">in</span> content<span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>line<span class="token punctuation">)</span>
</code></pre> 
<pre><code>63 0.682586 0.394385 0.586516 0.577521
63 0.605953 0.430167 0.735719 0.650792
67 0.683594 0.33074 0.328125 0.195312
</code></pre> 
<h4><a id="_12_touch_1001"></a>🧊 [12] .touch()：创建空文件</h4> 
<ul><li>作用：<code>Path.touch()</code> 方法用于创建一个空的文件，或者<font color="blue"><b>如果文件已经存在，则更新文件的访问和修改时间到当前时间</b></font>。该方法模仿了触摸文件的行为，即使文件内容没有改变，也会更新文件的时间戳。</li><li>返回值类型：无返回值（<code>None</code>）</li><li>💡 注意： 
  <ul><li>如果文件不存在，<code>Path.touch()</code> 将创建一个新文件，但不会写入任何内容，文件大小将为0。</li><li>如果文件已经存在，<code>Path.touch()</code> 将<strong>更新文件的访问和修改时间</strong>，而不会改变文件的内容。</li><li><code>Path.touch()</code> 可以接受一个可选的 <code>mode</code> 参数来设置新创建文件的权限模式，以及一个 <code>exist_ok</code> 参数来控制如果文件已存在时是否抛出异常。</li><li>如果路径指向一个已存在的目录，<code>Path.touch()</code> 将抛出 <code>FileExistsError</code>。</li><li>在某些情况下，如果权限不足，<code>Path.touch()</code> 可能会抛出 <code>PermissionError</code>。</li></ul> </li><li>示例代码：</li></ul> 
<pre><code class="prism language-python"><span class="token keyword">from</span> pathlib <span class="token keyword">import</span> Path


label <span class="token operator">=</span> Path<span class="token punctuation">(</span><span class="token string">'临时文件.txt'</span><span class="token punctuation">)</span>


<span class="token comment"># 先创建一次文件</span>
label<span class="token punctuation">.</span>touch<span class="token punctuation">(</span>exist_ok<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>  <span class="token comment"># 即便文件存在也不会报错，但会更新文件的“最近修改”时间戳</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"✅ </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>label<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string"> 创建成功!"</span></span><span class="token punctuation">)</span>

<span class="token comment"># 再次创建文件（exist_ok=False）</span>
<span class="token keyword">try</span><span class="token punctuation">:</span>
    label<span class="token punctuation">.</span>touch<span class="token punctuation">(</span>exist_ok<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>
<span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"⚠️ </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>e<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>

<span class="token comment"># 删除掉这个文件</span>
label<span class="token punctuation">.</span>unlink<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"✅ </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>label<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string"> 删除成功!"</span></span><span class="token punctuation">)</span>
</code></pre> 
<pre><code>✅ 临时文件.txt 创建成功!
⚠️ [Errno 17] File exists: '临时文件.txt'
✅ 临时文件.txt 删除成功!
</code></pre> 
<h4><a id="_13_mkdir_1041"></a>🧊 [13] .mkdir()：创建空文件夹</h4> 
<ul><li>作用：<code>Path.mkdir()</code> 方法用于创建一个新的目录（文件夹）。如果指定路径的上层目录不存在，<code>Path.mkdir()</code> 将抛出一个异常，除非使用了 <code>exist_ok=True</code> 参数。</li><li>返回值类型：无返回值（<code>None</code>）</li><li>💡 注意： 
  <ul><li><code>Path.mkdir()</code> 可以接受一个可选的 <code>mode</code> 参数来设置新创建目录的权限模式。</li><li>如果目录已存在，<code>Path.mkdir()</code> 将抛出 <code>FileExistsError</code>，除非 <code>exist_ok</code> 参数设置为 <code>True</code>，在这种情况下，它将不会抛出异常。</li><li>如果路径的上层目录不存在，<code>Path.mkdir()</code> 将抛出 <code>FileNotFoundError</code>，除非 <code>parents=True</code> 参数被使用，这将创建所有必要的中间目录。</li><li>在某些情况下，如果权限不足，<code>Path.mkdir()</code> 可能会抛出 <code>PermissionError</code>。</li></ul> </li><li>示例代码：</li></ul> 
<pre><code class="prism language-python"><span class="token keyword">from</span> pathlib <span class="token keyword">import</span> Path


folder <span class="token operator">=</span> Path<span class="token punctuation">(</span><span class="token string">'父级文件夹/临时文件夹'</span><span class="token punctuation">)</span>


<span class="token comment"># 先创建一次文件夹（parents=False, exist_ok=False）</span>
<span class="token keyword">try</span><span class="token punctuation">:</span>
    folder<span class="token punctuation">.</span>mkdir<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"✅ </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>folder<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string"> 创建成功!"</span></span><span class="token punctuation">)</span>
<span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"❌ </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>e<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>

<span class="token comment"># 再次创建文件夹（parents=True, exist_ok=False）</span>
<span class="token keyword">try</span><span class="token punctuation">:</span>
    folder<span class="token punctuation">.</span>mkdir<span class="token punctuation">(</span>parents<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"✅ </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>folder<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string"> 创建成功!"</span></span><span class="token punctuation">)</span>
<span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"❌ </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>e<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>

<span class="token comment"># 再次创建文件夹（parents=True, exist_ok=False）</span>
<span class="token keyword">try</span><span class="token punctuation">:</span>
    folder<span class="token punctuation">.</span>mkdir<span class="token punctuation">(</span>parents<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"✅ </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>folder<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string"> 创建成功!"</span></span><span class="token punctuation">)</span>
<span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"❌ </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>e<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>

<span class="token comment"># 再次创建文件夹（parents=True, exist_ok=False）</span>
<span class="token keyword">try</span><span class="token punctuation">:</span>
    folder<span class="token punctuation">.</span>mkdir<span class="token punctuation">(</span>parents<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> exist_ok<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"✅ </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>folder<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string"> 创建成功!"</span></span><span class="token punctuation">)</span>
<span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"❌ </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>e<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>

<span class="token comment"># 直接删除掉它的父级文件夹</span>
<span class="token keyword">try</span><span class="token punctuation">:</span>
    folder<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>rmdir<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"✅ </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>folder<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string"> 删除成功!"</span></span><span class="token punctuation">)</span>
<span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"❌ </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>e<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>

<span class="token comment"># 正确的删除方式</span>
folder<span class="token punctuation">.</span>rmdir<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"✅ </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>folder<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string"> 删除成功!"</span></span><span class="token punctuation">)</span>

folder<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>rmdir<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"✅ </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>folder<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string"> 删除成功!"</span></span><span class="token punctuation">)</span>
</code></pre> 
<pre><code>❌ [Errno 2] No such file or directory: '父级文件夹/临时文件夹'
✅ 临时文件夹 创建成功!
❌ [Errno 17] File exists: '父级文件夹/临时文件夹'
✅ 临时文件夹 创建成功!
❌ [Errno 39] Directory not empty: '父级文件夹'
✅ 临时文件夹 删除成功!
✅ 父级文件夹 删除成功!
</code></pre> 
<h4><a id="_14_rename_1112"></a>🧊 [14] .rename()：将文件或目录重命名为给定的目标路径。</h4> 
<ul><li>作用：<code>Path.rename()</code> 方法用于将路径所指的文件或目录重命名为给定的目标路径。这个操作会将源路径的文件或目录<font color="red"><b>移动</b></font>到目标路径，并为其赋予新的名称。</li><li>返回值类型：新的 <code>Path</code> 对象，表示重命名后的目标路径</li><li>💡 注意： 
  <ul><li>💡 这个可以用于移动文件！</li><li><code>Path.rename()</code> 接受一个目标路径作为参数，这个路径可以是相对于当前路径的相对路径，也可以是绝对路径。</li><li>如果目标路径已经存在，<code>Path.rename()</code> 将会覆盖现有的文件或目录，除非它是一个非空的目录，这种情况下会抛出 <code>OSError</code>。</li><li>如果源路径不存在，<code>Path.rename()</code> 将抛出 <code>FileNotFoundError</code>。</li><li>在某些情况下，如果权限不足或文件被占用，<code>Path.rename()</code> 可能会抛出 <code>PermissionError</code> 或 <code>OSError</code>。</li></ul> </li><li>示例代码：</li></ul> 
<pre><code class="prism language-python"><span class="token keyword">from</span> pathlib <span class="token keyword">import</span> Path


<span class="token builtin">file</span> <span class="token operator">=</span> Path<span class="token punctuation">(</span><span class="token string">'父级文件夹/abc.txt'</span><span class="token punctuation">)</span>

<span class="token comment"># 先创建父级文件夹</span>
parent_dir <span class="token operator">=</span> Path<span class="token punctuation">(</span><span class="token string">'父级文件夹'</span><span class="token punctuation">)</span>
parent_dir<span class="token punctuation">.</span>mkdir<span class="token punctuation">(</span>exist_ok<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>

<span class="token comment"># 创建这个文件</span>
<span class="token builtin">file</span><span class="token punctuation">.</span>touch<span class="token punctuation">(</span>exist_ok<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>

<span class="token comment"># 将文件进行重命名</span>
new_name <span class="token operator">=</span> <span class="token builtin">file</span><span class="token punctuation">.</span>parent<span class="token punctuation">.</span>joinpath<span class="token punctuation">(</span><span class="token string">'新名字.txt'</span><span class="token punctuation">)</span>
<span class="token builtin">file</span> <span class="token operator">=</span> <span class="token builtin">file</span><span class="token punctuation">.</span>rename<span class="token punctuation">(</span>new_name<span class="token punctuation">)</span>  <span class="token comment"># 💡 需要接受返回值，否则还是原来的路径</span>

<span class="token comment"># 判断这个文件是否存在</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"重命名是否成功 -&gt; </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span><span class="token builtin">file</span><span class="token punctuation">.</span>exists<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>

<span class="token comment"># 💡 .rename()方法也可以用于移动文件</span>
target_dir <span class="token operator">=</span> Path<span class="token punctuation">(</span><span class="token string">'新的文件夹'</span><span class="token punctuation">)</span>
target_dir<span class="token punctuation">.</span>mkdir<span class="token punctuation">(</span>exist_ok<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>

<span class="token comment"># 开始移动</span>
target_path <span class="token operator">=</span> target_dir<span class="token punctuation">.</span>joinpath<span class="token punctuation">(</span><span class="token builtin">file</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
<span class="token builtin">file</span> <span class="token operator">=</span> <span class="token builtin">file</span><span class="token punctuation">.</span>rename<span class="token punctuation">(</span>target_path<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"移动文件是否成功 -&gt; </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span><span class="token builtin">file</span><span class="token punctuation">.</span>exists<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>


<span class="token keyword">def</span> <span class="token function">delete_dir</span><span class="token punctuation">(</span>folder<span class="token punctuation">:</span> Path<span class="token punctuation">,</span> del_content<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> verbose<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">bool</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""使用Path类删除文件夹

    Args:
        folder (Path): 文件夹路径（Path实例化对象）
        del_content (bool, optional): 是否要删除有内容的文件夹. Defaults to False.

    Returns:
        bool: 是否删除成功
    """</span>
    <span class="token comment"># 检查文件夹是否存在且为目录</span>
    <span class="token keyword">if</span> folder<span class="token punctuation">.</span>exists<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">and</span> folder<span class="token punctuation">.</span>is_dir<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># 如果需要删除内容，则遍历并删除所有内容</span>
        <span class="token keyword">if</span> del_content<span class="token punctuation">:</span>
            <span class="token comment"># 遍历路径下的所有内容</span>
            <span class="token keyword">for</span> item <span class="token keyword">in</span> folder<span class="token punctuation">.</span>iterdir<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token comment"># 如果是文件夹，则递归调用</span>
                <span class="token keyword">if</span> item<span class="token punctuation">.</span>is_dir<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                    delete_dir<span class="token punctuation">(</span>item<span class="token punctuation">,</span> del_content<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
                <span class="token comment"># 如果是文件则直接删除</span>
                <span class="token keyword">else</span><span class="token punctuation">:</span>
                    <span class="token keyword">try</span><span class="token punctuation">:</span>
                        item<span class="token punctuation">.</span>unlink<span class="token punctuation">(</span><span class="token punctuation">)</span>
                        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"[INFO] 文件 </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>item<span class="token punctuation">}</span></span><span class="token string"> 已被删除"</span></span><span class="token punctuation">)</span> <span class="token keyword">if</span> verbose <span class="token keyword">else</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
                    <span class="token keyword">except</span> FileNotFoundError<span class="token punctuation">:</span>
                        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"[⚠️ WARNING] 文件 </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>item<span class="token punctuation">}</span></span><span class="token string"> 不存在，可能已被其他程序删除"</span></span><span class="token punctuation">)</span>
        
        <span class="token comment"># 尝试删除空文件夹</span>
        <span class="token keyword">try</span><span class="token punctuation">:</span>
            folder<span class="token punctuation">.</span>rmdir<span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token boolean">True</span>
        <span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"[❌ ERROR] 删除文件夹 </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>folder<span class="token punctuation">}</span></span><span class="token string"> 失败：</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>e<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token boolean">False</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"[⚠️ WARNING] 路径不存在或者不是文件夹!"</span></span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token boolean">False</span>


<span class="token comment"># 删除掉这两个文件夹</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"删除文件夹是否成功 -&gt; </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>delete_dir<span class="token punctuation">(</span>parent_dir<span class="token punctuation">,</span> del_content<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"删除文件夹是否成功 -&gt; </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>delete_dir<span class="token punctuation">(</span>target_dir<span class="token punctuation">,</span> del_content<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> verbose<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
</code></pre> 
<pre><code>重命名是否成功 -&gt; True
移动文件是否成功 -&gt; True
删除文件夹是否成功 -&gt; True
[INFO] 文件 新的文件夹/新名字.txt 已被删除
删除文件夹是否成功 -&gt; True
</code></pre> 
<h2><a id="3_Pathospath_1206"></a>3. Path与os.path的对应关系</h2> 
<p><code>Path</code>与<code>os.path</code>其实本质上没啥区别，但<code>Path</code>是一个类，而<code>os.path</code>则是各种函数，因此<code>os.path</code>更适合处理简单的任务，而<code>Path</code>适合处理复杂的任务。</p> 
<table><thead><tr><th align="left">os.path</th><th align="left">Path</th><th align="left">说明</th></tr></thead><tbody><tr><td align="left">os.path.basename()</td><td align="left">PurePath.name</td><td align="left">获取路径的最后一部分（文件名或目录名）</td></tr><tr><td align="left">os.path.dirname()</td><td align="left">PurePath.parent</td><td align="left">获取路径的目录部分</td></tr><tr><td align="left">os.path.splitext()</td><td align="left">PurePath.stem 和 PurePath.suffix</td><td align="left">将文件名分割为名称和扩展名</td></tr><tr><td align="left">os.path.samefile()</td><td align="left">Path.samefile()</td><td align="left">检查两个路径是否指向相同的文件或目录</td></tr><tr><td align="left">os.path.abspath()</td><td align="left">Path.resolve()</td><td align="left">获取文件的绝对路径</td></tr><tr><td align="left">os.mkdir()</td><td align="left">Path.mkdir()</td><td align="left">创建一个新目录</td></tr><tr><td align="left">os.makedirs()</td><td align="left">Path.mkdir(parents=True)</td><td align="left">创建多个新目录，包括所有必需的中间目录</td></tr><tr><td align="left">os.rename()</td><td align="left">Path.rename()</td><td align="left">将文件或目录重命名为新名称</td></tr><tr><td align="left">os.rmdir()</td><td align="left">Path.rmdir()</td><td align="left">删除空目录</td></tr><tr><td align="left">os.remove(), os.unlink()</td><td align="left">Path.unlink()</td><td align="left">删除文件或链接</td></tr><tr><td align="left">os.getcwd()</td><td align="left">Path.cwd()</td><td align="left">获取当前工作目录</td></tr><tr><td align="left">os.path.exists()</td><td align="left">Path.exists()</td><td align="left">检查文件或目录是否存在</td></tr><tr><td align="left">os.path.expanduser()</td><td align="left">Path.expanduser() 和 Path.home()</td><td align="left">将用户目录(<code>~</code>)扩展为绝对路径</td></tr><tr><td align="left">os.listdir()</td><td align="left">Path.iterdir()</td><td align="left">列出目录中的所有文件和子目录</td></tr><tr><td align="left">os.path.isdir()</td><td align="left">Path.is_dir()</td><td align="left">检查路径是否为目录</td></tr><tr><td align="left">os.path.isfile()</td><td align="left">Path.is_file()</td><td align="left">检查路径是否为文件</td></tr><tr><td align="left">os.path.relpath()</td><td align="left">PurePath.relative_to()</td><td align="left">获取相对路径</td></tr><tr><td align="left">os.stat()</td><td align="left">Path.stat(), Path.owner(), Path.group()</td><td align="left">获取文件或目录的状态信息</td></tr><tr><td align="left">os.path.join()</td><td align="left">PurePath.joinpath()</td><td align="left">连接两个或多个路径组件</td></tr></tbody></table> 
<h2><a id="4__1232"></a>4. 自定义函数</h2> 
<h3><a id="41__1234"></a>4.1 删除有内容的文件夹</h3> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">delete_dir</span><span class="token punctuation">(</span>folder<span class="token punctuation">:</span> Path<span class="token punctuation">,</span> del_content<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> verbose<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">bool</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""使用Path类删除文件夹

    Args:
        folder (Path): 文件夹路径（Path实例化对象）
        del_content (bool, optional): 是否要删除有内容的文件夹. Defaults to False.

    Returns:
        bool: 是否删除成功
    """</span>
    <span class="token comment"># 检查文件夹是否存在且为目录</span>
    <span class="token keyword">if</span> folder<span class="token punctuation">.</span>exists<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">and</span> folder<span class="token punctuation">.</span>is_dir<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># 如果需要删除内容，则遍历并删除所有内容</span>
        <span class="token keyword">if</span> del_content<span class="token punctuation">:</span>
            <span class="token comment"># 遍历路径下的所有内容</span>
            <span class="token keyword">for</span> item <span class="token keyword">in</span> folder<span class="token punctuation">.</span>iterdir<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token comment"># 如果是文件夹，则递归调用</span>
                <span class="token keyword">if</span> item<span class="token punctuation">.</span>is_dir<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                    delete_dir<span class="token punctuation">(</span>item<span class="token punctuation">,</span> del_content<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
                <span class="token comment"># 如果是文件则直接删除</span>
                <span class="token keyword">else</span><span class="token punctuation">:</span>
                    <span class="token keyword">try</span><span class="token punctuation">:</span>
                        item<span class="token punctuation">.</span>unlink<span class="token punctuation">(</span><span class="token punctuation">)</span>
                        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"[INFO] 文件 </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>item<span class="token punctuation">}</span></span><span class="token string"> 已被删除"</span></span><span class="token punctuation">)</span> <span class="token keyword">if</span> verbose <span class="token keyword">else</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
                    <span class="token keyword">except</span> FileNotFoundError<span class="token punctuation">:</span>
                        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"[⚠️ WARNING] 文件 </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>item<span class="token punctuation">}</span></span><span class="token string"> 不存在，可能已被其他程序删除"</span></span><span class="token punctuation">)</span>
        
        <span class="token comment"># 尝试删除空文件夹</span>
        <span class="token keyword">try</span><span class="token punctuation">:</span>
            folder<span class="token punctuation">.</span>rmdir<span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token boolean">True</span>
        <span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"[❌ ERROR] 删除文件夹 </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>folder<span class="token punctuation">}</span></span><span class="token string"> 失败：</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>e<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token boolean">False</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"[⚠️ WARNING] 路径不存在或者不是文件夹!"</span></span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token boolean">False</span>
</code></pre> 
<h2><a id="_1276"></a>参考</h2> 
<ol><li>https://docs.python.org/zh-cn/3.10/library/pathlib.html#pathlib.Path</li><li>https://chatglm.cn/main/alltoolsdetail</li></ol>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/49856eb00aa758ea72515adcdedeb21c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">前端实现一键复制</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/21111e4f8410700eb6cd7decb6846755/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">python基础实例</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>