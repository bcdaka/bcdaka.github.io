<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【Java 进阶篇】Java Request 请求转发详解 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/ef0dd6d472e0cc04b153330ca0b06bf7/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="【Java 进阶篇】Java Request 请求转发详解">
  <meta property="og:description" content="在Java Web开发中，请求转发（Request Forwarding）是一种常见的技术，用于将请求从一个Servlet转发到另一个Servlet或JSP页面。这种技术在Web应用程序中起着非常重要的作用，可以用于实现模块化、重用代码以及构建更加灵活的应用程序。本文将详细解释什么是请求转发，为什么它重要，如何使用它，以及提供示例代码来说明其工作原理。
什么是请求转发？ 请求转发是指将一个HTTP请求从一个Servlet转发到另一个Servlet或JSP页面的过程。它允许在Web应用程序中的不同组件之间共享请求和响应对象，从而实现模块化的代码和更好的代码重用。
请求转发通常在以下情况下使用：
模块化开发：将Web应用程序划分为不同的模块或组件，每个模块负责不同的任务。请求转发可用于在这些模块之间传递控制。
代码重用：将一些常用的功能实现为Servlet或JSP页面，然后可以在不同的页面中重用这些功能。
URL隐藏：用户访问一个URL，但希望在不暴露实际资源的情况下提供响应。请求转发允许隐藏Servlet或JSP页面的实际URL。
请求处理流程：将请求传递给一个Servlet，由该Servlet负责处理请求的一部分，然后将请求传递给下一个Servlet，以便处理其他部分。
请求转发的工作原理 请求转发是在服务器端进行的，因此对客户端来说是透明的。当一个Servlet收到一个请求后，它可以使用getRequestDispatcher()方法获取RequestDispatcher对象，然后使用该对象执行请求转发。
以下是请求转发的工作原理：
客户端发送一个HTTP请求到Web服务器。
Web服务器将请求路由到相应的Servlet。
Servlet通过getRequestDispatcher()方法获取RequestDispatcher对象。
Servlet使用RequestDispatcher对象的forward()方法将请求转发到另一个Servlet或JSP页面。
目标Servlet或JSP页面处理请求并生成响应。
Web服务器将响应发送回客户端。
客户端收到响应并显示结果。
使用getRequestDispatcher()方法 要执行请求转发，首先需要获取RequestDispatcher对象。这可以通过getRequestDispatcher()方法来完成。该方法有两种重载形式：
getRequestDispatcher(String path)：传递一个字符串参数，表示目标Servlet或JSP页面的路径。这个路径可以是绝对路径或相对路径。
getRequestDispatcher(String path, ServletContext context)：传递两个参数，一个是目标Servlet或JSP页面的路径，另一个是ServletContext对象。这种形式的方法更适合在跨上下文的请求转发中使用。
以下是使用getRequestDispatcher()方法的示例：
RequestDispatcher dispatcher = request.getRequestDispatcher(&#34;/targetServlet&#34;); dispatcher.forward(request, response); 示例：请求转发 让我们通过一个示例来演示如何使用请求转发。假设我们有一个Web应用程序，其中包含两个Servlet：SourceServlet和TargetServlet。SourceServlet接收来自客户端的请求，然后将请求转发到TargetServlet，TargetServlet处理请求并生成响应。
SourceServlet.java import javax.servlet.*; import java.io.IOException; public class SourceServlet extends GenericServlet { public void service(ServletRequest request, ServletResponse response) throws ServletException, IOException { // 设置响应内容类型 response.setContentType(&#34;text/html&#34;); // 获取RequestDispatcher对象 RequestDispatcher dispatcher = request.getRequestDispatcher(&#34;/TargetServlet&#34;); // 执行请求转发 dispatcher.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2023-10-28T23:19:40+08:00">
    <meta property="article:modified_time" content="2023-10-28T23:19:40+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【Java 进阶篇】Java Request 请求转发详解</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><img src="https://images2.imgbox.com/6e/b9/kb4wjZ37_o.png" alt="在这里插入图片描述"></p> 
<p>在Java Web开发中，请求转发（Request Forwarding）是一种常见的技术，用于将请求从一个Servlet转发到另一个Servlet或JSP页面。这种技术在Web应用程序中起着非常重要的作用，可以用于实现模块化、重用代码以及构建更加灵活的应用程序。本文将详细解释什么是请求转发，为什么它重要，如何使用它，以及提供示例代码来说明其工作原理。</p> 
<h3><a id="_4"></a>什么是请求转发？</h3> 
<p>请求转发是指将一个HTTP请求从一个Servlet转发到另一个Servlet或JSP页面的过程。它允许在Web应用程序中的不同组件之间共享请求和响应对象，从而实现模块化的代码和更好的代码重用。</p> 
<p>请求转发通常在以下情况下使用：</p> 
<ol><li> <p><strong>模块化开发</strong>：将Web应用程序划分为不同的模块或组件，每个模块负责不同的任务。请求转发可用于在这些模块之间传递控制。</p> </li><li> <p><strong>代码重用</strong>：将一些常用的功能实现为Servlet或JSP页面，然后可以在不同的页面中重用这些功能。</p> </li><li> <p><strong>URL隐藏</strong>：用户访问一个URL，但希望在不暴露实际资源的情况下提供响应。请求转发允许隐藏Servlet或JSP页面的实际URL。</p> </li><li> <p><strong>请求处理流程</strong>：将请求传递给一个Servlet，由该Servlet负责处理请求的一部分，然后将请求传递给下一个Servlet，以便处理其他部分。</p> </li></ol> 
<h3><a id="_18"></a>请求转发的工作原理</h3> 
<p>请求转发是在服务器端进行的，因此对客户端来说是透明的。当一个Servlet收到一个请求后，它可以使用<code>getRequestDispatcher()</code>方法获取<code>RequestDispatcher</code>对象，然后使用该对象执行请求转发。</p> 
<p>以下是请求转发的工作原理：</p> 
<ol><li> <p>客户端发送一个HTTP请求到Web服务器。</p> </li><li> <p>Web服务器将请求路由到相应的Servlet。</p> </li><li> <p>Servlet通过<code>getRequestDispatcher()</code>方法获取<code>RequestDispatcher</code>对象。</p> </li><li> <p>Servlet使用<code>RequestDispatcher</code>对象的<code>forward()</code>方法将请求转发到另一个Servlet或JSP页面。</p> </li><li> <p>目标Servlet或JSP页面处理请求并生成响应。</p> </li><li> <p>Web服务器将响应发送回客户端。</p> </li><li> <p>客户端收到响应并显示结果。</p> </li></ol> 
<h3><a id="getRequestDispatcher_38"></a>使用<code>getRequestDispatcher()</code>方法</h3> 
<p>要执行请求转发，首先需要获取<code>RequestDispatcher</code>对象。这可以通过<code>getRequestDispatcher()</code>方法来完成。该方法有两种重载形式：</p> 
<ol><li> <p><code>getRequestDispatcher(String path)</code>：传递一个字符串参数，表示目标Servlet或JSP页面的路径。这个路径可以是绝对路径或相对路径。</p> </li><li> <p><code>getRequestDispatcher(String path, ServletContext context)</code>：传递两个参数，一个是目标Servlet或JSP页面的路径，另一个是<code>ServletContext</code>对象。这种形式的方法更适合在跨上下文的请求转发中使用。</p> </li></ol> 
<p>以下是使用<code>getRequestDispatcher()</code>方法的示例：</p> 
<pre><code class="prism language-java"><span class="token class-name">RequestDispatcher</span> dispatcher <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">"/targetServlet"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
dispatcher<span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h3><a id="_53"></a>示例：请求转发</h3> 
<p>让我们通过一个示例来演示如何使用请求转发。假设我们有一个Web应用程序，其中包含两个Servlet：<code>SourceServlet</code>和<code>TargetServlet</code>。<code>SourceServlet</code>接收来自客户端的请求，然后将请求转发到<code>TargetServlet</code>，<code>TargetServlet</code>处理请求并生成响应。</p> 
<h4><a id="SourceServletjava_57"></a>SourceServlet.java</h4> 
<pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SourceServlet</span> <span class="token keyword">extends</span> <span class="token class-name">GenericServlet</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">service</span><span class="token punctuation">(</span><span class="token class-name">ServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">ServletResponse</span> response<span class="token punctuation">)</span>
            <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 设置响应内容类型</span>
        response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">"text/html"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 获取RequestDispatcher对象</span>
        <span class="token class-name">RequestDispatcher</span> dispatcher <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">"/TargetServlet"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 执行请求转发</span>
        dispatcher<span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="TargetServletjava_76"></a>TargetServlet.java</h4> 
<pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TargetServlet</span> <span class="token keyword">extends</span> <span class="token class-name">GenericServlet</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">service</span><span class="token punctuation">(</span><span class="token class-name">ServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">ServletResponse</span> response<span class="token punctuation">)</span>
            <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 设置响应内容类型</span>
        response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">"text/html"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 输出响应内容</span>
        <span class="token class-name">ServletOutputStream</span> out <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getOutputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"&lt;html&gt;&lt;body&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"&lt;h1&gt;Request Forwarding Example&lt;/h1&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"&lt;p&gt;This is the target servlet.&lt;/p&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"&lt;/body&gt;&lt;/html&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>在这个示例中，<code>SourceServlet</code>接收来自客户端的请求，然后使用<code>getRequestDispatcher()</code>方法获取<code>RequestDispatcher</code>对象，最后调用<code>forward()</code>方法将请求转发到<code>TargetServlet</code>。<code>TargetServlet</code>处理请求并生成响应。</p> 
<h3><a id="_99"></a>请求转发和重定向的区别</h3> 
<p>请求转发和重定向都用于将请求从一个Servlet转发到另一个Servlet或JSP页面，但它们之间存在一些重要的区别：</p> 
<ol><li> <p><strong>地址栏变化</strong>：在请求转发中，地址栏不会改变，客户端不知道请求被转发到了另一个资源。而在重定向中，地址栏会发生变化，客户端会知道请求发生了重定向。</p> </li><li> <p><strong>多次请求</strong>：请求转发只涉及一次客户端请求，所有处理都在服务器端进行。重定向涉及两次请求，首先是原始请求，然后是重定向请求。</p> </li><li> <p><strong>资源位置</strong>：请求转发只能转发到相同Web应用程序中的资源，而重定向可以将请求发送到不同Web应用程序或外部URL。</p> </li><li> <p><strong>效率</strong>：请求转发通常比重定向更高效，因为它涉及较少的网络请求和客户端-服务器通信。</p> </li></ol> 
<h3><a id="_111"></a>结语</h3> 
<p>请求转发是Java Web开发中的一个重要概念，用于实现模块化、重用代码和灵活的请求处理。通过<code>RequestDispatcher</code>对象，开发人员可以将请求从一个Servlet转发到另一个Servlet或JSP页面，从而实现更好的代码组织和管理。希望本文对初学者理解和使用请求转发有所帮助。</p> 
<table><tbody><tr><td bgcolor="#0074e4"> <strong><font size="4" color="white">作者信息</font></strong><br> <br> <font color="white"> 作者 ： 繁依Fanyi</font><br> <font color="white">CSDN：</font> <a href="https://blog.csdn.net/qq_21484461?spm=1000.2115.3001.5343"><font color="white">https://techfanyi.blog.csdn.net</font></a><br> <font color="white">掘金：</font><a href="https://juejin.cn/user/4154386571867191" rel="nofollow"><font color="white">https://juejin.cn/user/4154386571867191</font></a> </td></tr></tbody></table>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/37a1fa82e2f014f319135c2e0888b850/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">[计算机毕设]基于java的酒店管理系统系统设计与实现(项目报告&#43;答辩PPT&#43;源代码&#43;数据库)</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e4ca067afff5b7731974c0d0db7798b5/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">java后端返回数据给前端时去除值为空或NULL的属性、忽略某些属性</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>