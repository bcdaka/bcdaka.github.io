<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Redis集群部署Windows版本 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/fd0a8c13ed9bd689a98a054e22dd1720/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="Redis集群部署Windows版本">
  <meta property="og:description" content="Redis集群 之前因为数据量的原因，并没有进行Redis集群的配置需要，现在由于数据量大，需要进行集群部署。
最初在windows系统部署，需要Redis的windows版本，但官方没有windows版本，所以需要去gitHub上找由民间志愿者维护的windows的版本。
历程： 去github找到后，第一次接触windows版本发现没有bin目录，之后想着直接拉去下来，后来发现拉下来的是源码，，，无语了家人，就在浏览器下载zip包，这个是正常的msi包是需要安装，zip解压即可。
部署集群 配置三主三从集群，windows的窗口不能退出(窗口闪退的就是没有运行起来！)
1.解压缩zip文件 下载完成后，里面如下文件
2.为每个node节点文件夹和配置文件 创建文件夹6379-6384文件夹，创建redis-6379.conf(注意后缀名，有的系统会隐藏后缀)
创建config文件，下面只有redis-6379.conf是自己创建的，其他都是运行后生成的。
如上方式，创建其他的节点。
3.创建启动文件 创建start6379.bat启动文件，点击文件一键启动。
内容命令：
redis-server.exe ./6379/redis-6379.conf 如图，其他的方式也如此一共6个bat文件
4.启动集群 启动好之后开始创建集群模式。
cluster-replicas 的意思是 为每个master创建一个副本。是6个实例，那么自动就三主三从的模式。
redis-cli --cluster create 127.0.0.1:6380 127.0.0.1:6381 127.0.0.1:6382 127.0.0.1:6383 127.0.0.1:6384 127.0.0.1:6385 --cluster-replicas 1 Redis工具
redis-cli -h 127.0.0.1 -p 6379 -c 注意：加-c(集群启动) 否则，会出现
(error) MOVED 5798 127.0.0.1:6379">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-07-22T10:48:54+08:00">
    <meta property="article:modified_time" content="2024-07-22T10:48:54+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Redis集群部署Windows版本</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>Redis集群</h2> 
<p>之前因为数据量的原因，并没有进行Redis集群的配置需要，现在由于数据量大，需要进行集群部署。</p> 
<p>最初在windows系统部署，需要Redis的windows版本，但官方没有windows版本，所以需要去gitHub上找由民间志愿者维护的windows的版本。</p> 
<h4>历程：</h4> 
<p>去github找到后，第一次接触windows版本发现没有bin目录，之后想着直接拉去下来，后来发现拉下来的是源码，，，无语了家人，就在浏览器下载zip包，这个是正常的msi包是需要安装，zip解压即可。</p> 
<p></p> 
<h4>部署集群</h4> 
<p>配置三主三从集群，windows的窗口不能退出(窗口闪退的就是没有运行起来！)</p> 
<h5>1.解压缩zip文件</h5> 
<p>下载完成后，里面如下文件</p> 
<p></p> 
<p class="img-center"><img alt="" height="469" src="https://images2.imgbox.com/4b/c6/sDAuaa67_o.png" width="1200"></p> 
<h5>2.为每个node节点文件夹和配置文件</h5> 
<p>创建文件夹6379-6384文件夹，创建redis-6379.conf(注意后缀名，有的系统会隐藏后缀)</p> 
<p></p> 
<p class="img-center"><img alt="" height="317" src="https://images2.imgbox.com/40/8f/Jsfa9BXu_o.png" width="937"></p> 
<p>创建config文件，下面只有redis-6379.conf是自己创建的，其他都是运行后生成的。</p> 
<p></p> 
<p class="img-center"><img alt="" height="173" src="https://images2.imgbox.com/71/52/zic8e2dr_o.png" width="477"></p> 
<p></p> 
<p>如上方式，创建其他的节点。</p> 
<h5>3.创建启动文件</h5> 
<p>创建start6379.bat启动文件，点击文件一键启动。</p> 
<p>内容命令：</p> 
<pre><code>redis-server.exe  ./6379/redis-6379.conf</code></pre> 
<p>如图，其他的方式也如此一共6个bat文件</p> 
<p></p> 
<p class="img-center"><img alt="" height="607" src="https://images2.imgbox.com/08/7f/1KpG7tgM_o.png" width="923"></p> 
<p></p> 
<h5>4.启动集群</h5> 
<p>启动好之后开始创建集群模式。</p> 
<p>cluster-replicas  的意思是  为每个master创建一个副本。是6个实例，那么自动就三主三从的模式。</p> 
<pre><code>redis-cli  --cluster create 127.0.0.1:6380 127.0.0.1:6381 127.0.0.1:6382 127.0.0.1:6383 127.0.0.1:6384 127.0.0.1:6385 --cluster-replicas 1</code></pre> 
<p></p> 
<p>Redis工具</p> 
<pre><code>redis-cli -h 127.0.0.1 -p 6379  -c</code></pre> 
<p>注意：加-c(集群启动) 否则，会出现</p> 
<p>(error) MOVED 5798 127.0.0.1:6379</p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/2e668ac3f4e7408c256e98fbcfab9173/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">从零开始手写STL库：List</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/26e6c232d0cd267df732c7d6c8b56bce/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【RabbitMQ】Windows下RabbitMQ的安装和部署</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>