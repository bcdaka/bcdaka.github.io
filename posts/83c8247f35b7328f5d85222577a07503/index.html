<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>MacBook 安装多版本Python和版本切换详解 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/83c8247f35b7328f5d85222577a07503/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="MacBook 安装多版本Python和版本切换详解">
  <meta property="og:description" content="Mac苹果电脑安装多版本Python和版本切换详解 文章概要：本文详细讲解了如何在macbook电脑上通过homebrew安装多版本python，以及如何切换多版本，在不同项目使用不同版本python。
本文内容来自：谷流仓AI - ai.guliucang.com
前提条件 使用电脑：苹果电脑MacOS需要安装好homebrew并设置好镜像源(具体如何安装homebrew参考这篇文章, 安装过程中会提示选择什么镜像源，选中科大镜像比较快) 安装python 搜索可用python
brew search python 可以看到python@3.7到python@3.12都有，确定自己需要版本， 比如python3.8, 输入如下命令安装：
# 安装 brew install python@3.8 # 查看安装结果： ls -l /opt/homebrew/bin | grep python3 # 或者可以用以下命令看一下目前python3的版本 python3 -V 可以看到python3各个版本指向的位置。
切换全局python版本 如果安装了多个版本的python，该如何切换版本呢？
可以通过以下步骤来操作， 以我的电脑目前状态为例：
查看python全局版本指向
which 命令会在你的环境变量 $PATH 中搜索给定命令的位置。所以我们通过which来找： 输入which python, 输出结果为 /usr/local/bin/python。
然后查看一下这个python的具体指向，输入ls -l /usr/local/bin/python, 输出结果为
/usr/local/bin/python -&gt; ../../../Library/Frameworks/Python.framework/Versions/2.7/bin/python 所以python命令最终指向上面的2.7版本的python。我们输入python -V, 输出结果为Python 2.7.13。所以这个指向链就是这样的。
输入which python3, 输出结果为/opt/homebrew/bin/python3；
查看/opt/homebrew/bin/python3文件的指向：
ls -l /opt/homebrew/bin/python3 # 输入出结果如下 # /opt/homebrew/bin/python3 -&gt; /opt/homebrew/bin/python3.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-03-20T17:13:54+08:00">
    <meta property="article:modified_time" content="2024-03-20T17:13:54+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">MacBook 安装多版本Python和版本切换详解</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="MacPython_0"></a>Mac苹果电脑安装多版本Python和版本切换详解</h2> 
<blockquote> 
 <p><strong>文章概要</strong>：本文详细讲解了如何在macbook电脑上通过homebrew安装多版本python，以及如何切换多版本，在不同项目使用不同版本python。</p> 
</blockquote> 
<blockquote> 
 <p><strong>本文内容来自：<a href="https://ai.guliucang.com" rel="nofollow">谷流仓AI - ai.guliucang.com</a></strong></p> 
</blockquote> 
<h3><a id="_7"></a>前提条件</h3> 
<ul><li>使用电脑：苹果电脑MacOS</li><li>需要安装好homebrew并设置好镜像源(具体如何安装homebrew参考<a href="https://zhuanlan.zhihu.com/p/111014448" rel="nofollow">这篇文章</a>, 安装过程中会提示选择什么镜像源，选中科大镜像比较快)</li></ul> 
<h3><a id="python_11"></a>安装python</h3> 
<p>搜索可用python</p> 
<pre><code>brew search python
</code></pre> 
<p>可以看到<code>python@3.7</code>到<code>python@3.12</code>都有，确定自己需要版本， 比如<code>python3.8</code>, 输入如下命令安装：</p> 
<pre><code class="prism language-shell"><span class="token comment"># 安装</span>
brew <span class="token function">install</span> python@3.8

<span class="token comment"># 查看安装结果：</span>
<span class="token function">ls</span> <span class="token parameter variable">-l</span> /opt/homebrew/bin <span class="token operator">|</span> <span class="token function">grep</span> python3

<span class="token comment"># 或者可以用以下命令看一下目前python3的版本</span>
python3 <span class="token parameter variable">-V</span>
</code></pre> 
<p>可以看到python3各个版本指向的位置。</p> 
<h3><a id="python_29"></a>切换全局python版本</h3> 
<p>如果安装了多个版本的python，该如何切换版本呢？<br> 可以通过以下步骤来操作， 以我的电脑目前状态为例：</p> 
<ol><li><strong>查看python全局版本指向</strong><br> <code>which</code> 命令会在你的环境变量 $PATH 中搜索给定命令的位置。所以我们通过which来找：</li></ol> 
<ul><li> <p>输入<code>which python</code>, 输出结果为 <code>/usr/local/bin/python</code>。<br> 然后查看一下这个python的具体指向，输入<code>ls -l /usr/local/bin/python</code>, 输出结果为</p> <pre><code class="prism language-shell">/usr/local/bin/python -<span class="token operator">&gt;</span> <span class="token punctuation">..</span>/<span class="token punctuation">..</span>/<span class="token punctuation">..</span>/Library/Frameworks/Python.framework/Versions/2.7/bin/python
</code></pre> <p>所以python命令最终指向上面的2.7版本的python。我们输入<code>python -V</code>, 输出结果为<code>Python 2.7.13</code>。所以这个指向链就是这样的。</p> </li><li> <p>输入<code>which python3</code>, 输出结果为<code>/opt/homebrew/bin/python3</code>；</p> </li><li> <p>查看<code>/opt/homebrew/bin/python3</code>文件的指向：</p> <pre><code class="prism language-shell"><span class="token function">ls</span> <span class="token parameter variable">-l</span> /opt/homebrew/bin/python3 
<span class="token comment"># 输入出结果如下</span>
<span class="token comment"># /opt/homebrew/bin/python3 -&gt; /opt/homebrew/bin/python3.9</span>
<span class="token comment"># 然后继续看这个python3.9的指向：</span>
<span class="token function">ls</span> <span class="token parameter variable">-l</span> /opt/homebrew/bin/python3.9
<span class="token comment">#输出结果为：</span>
<span class="token comment"># /opt/homebrew/bin/python3.9 -&gt; ../Cellar/python@3.9/3.9.18_2/bin/python3.9</span>
</code></pre> <p>所以最终指向的是我之前通过brew安装的python3.9（关于Cellar文件夹看底部注释1）。</p> <p>通过 <code>echo $PATH</code>可以看到<code>/opt/homebrew/bin</code>在环境变量中，然后我的<code>usr/local/bin</code>里面又没有<code>python3</code>, 所以输入<code>which python3</code>的时候就会指向<code>/opt/homebrew/bin/python3</code>。输入<code>python3 -V</code>，输出结果为<code>Python 3.9.18</code>， 所以可以确定目前输入<code>python3</code>命令就是运行<code>/opt/homebrew/Cellar/python@3.9/3.9.18_2/bin/python3.9</code>这个文件了。</p> <p>这样python 和python3具体的指向文件都清楚了，接下去就可以切换版本了。</p> </li></ul> 
<ol start="2"><li><strong>切换python3指向的版本</strong><br> 这里我就不修改python指向的版本了，因为用不到。就以修改python3的指向为例，从目前的3.9修改为3.8。根据上面的查找结果，我们只需要把<code>/opt/homebrew/bin/python3</code>的指向修改为python3.8就行了。<pre><code class="prism language-shell"><span class="token function">ls</span> <span class="token parameter variable">-l</span> /opt/homebrew/bin/ <span class="token operator">|</span> <span class="token function">grep</span> python3
<span class="token comment"># 可以看到每个版本都有个pyhon3.x-config，这个config也要一并修改</span>
<span class="token comment"># 删除原来的软链接</span>
<span class="token function">rm</span> python3
<span class="token function">rm</span> python3-config
<span class="token comment"># 创建新的软链接(我这里直接指向当前目录下的python文件，也可以指向Cellar文件夹里面最原始的python文件)</span>
<span class="token function">ln</span> <span class="token parameter variable">-s</span> /opt/homebrew/bin/python3.8 python3
<span class="token function">ln</span> <span class="token parameter variable">-s</span> /opt/homebrew/bin/python3.8-config python3-config
</code></pre> 然后验证, 输入<code>python3 -V</code>, 可以看到结果为<code>Python 3.8.18</code>, 说明切换版本成功了。</li></ol> 
<h3><a id="python_71"></a>项目虚拟环境指定python版本</h3> 
<p>比如我想用python3.9创建一个虚拟环境，那么可以输入如下命令：</p> 
<pre><code class="prism language-shell">/opt/homebrew/bin/python3.9 <span class="token parameter variable">-m</span> venv venv
</code></pre> 
<p>一般在虚拟环境创建好的时候就这样直接制定了了python版本，创建好不能更改，只能删除重新创建虚拟环境</p> 
<h3><a id="_77"></a>注释</h3> 
<ol><li>在MacBook中，<code>/opt/homebrew/Cellar</code>文件夹是Homebrew软件管理器的默认安装路径之一，尤其是在使用Apple Silicon（如M1或M2芯片）的Mac上。对于基于Intel的Mac，Homebrew通常安装在<code>/usr/local/Cellar</code>目录下。<br> <code>/opt/homebrew/Cellar</code>文件夹存放的是通过Homebrew安装的所有软件包（也称作“formulae”）的实际内容。每当你使用Homebrew命令行工具安装一个软件包时，该软件包的所有文件都会被解压并存放到这个目录下，通常每个软件包会有自己独立的子目录。这些子目录里面包含了软件本身的可执行文件、库文件、配置文件等。<br> 例如，如果你通过Homebrew安装了Python，那么Python相关的所有文件将会被存放在类似<code>/opt/homebrew/Cellar/python@3.9/3.9.x_1</code>这样的路径下（其中“3.9.x_1”表示特定版本号）。这种结构使得管理和更新安装过的软件变得简单高效。<br> 需要注意的是，虽然软件包内容被存储在<code>Cellar</code>目录中，但为了方便用户直接访问这些程序而不必输入完整路径，Homebrew会创建符号链接（symlinks），指向位于<code>/opt/homebrew/bin</code>等目录中相应程序的实际位置。这样用户就可以直接通过终端运行这些程序了。</li></ol>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/994e05553ac076d43d8bf9352bf9b340/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">浅谈前端路由原理hash和history</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a6c08878b0d40f53dddaab843324a66a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">每日一看大模型新闻（2024.1.20-1.21）英伟达新对话QA模型准确度超GPT-4，却遭吐槽：无权重代码意义不大；Llama 2打败GPT-4！Meta让大模型自我奖励自迭代，再证合成数据是LL</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>