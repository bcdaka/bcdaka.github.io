<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>æ¢ç´¢æ•°æ®ç»“æ„ï¼šå †çš„å…·ä½“å®ç°ä¸åº”ç”¨ - ç¼–ç¨‹å¤§å’–</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/55d5d69a139cb4a28051e00cc6c3cd85/">
  <meta property="og:site_name" content="ç¼–ç¨‹å¤§å’–">
  <meta property="og:title" content="æ¢ç´¢æ•°æ®ç»“æ„ï¼šå †çš„å…·ä½“å®ç°ä¸åº”ç”¨">
  <meta property="og:description" content="âœ¨âœ¨ æ¬¢è¿å¤§å®¶æ¥åˆ°è´è’‚å¤§è®²å ‚âœ¨âœ¨
ğŸˆğŸˆå…»æˆå¥½ä¹ æƒ¯ï¼Œå…ˆèµåçœ‹å“¦~ğŸˆğŸˆ
æ‰€å±ä¸“æ ï¼šæ•°æ®ç»“æ„ä¸ç®—æ³•
è´è’‚çš„ä¸»é¡µï¼šBettyâ€™s blog
1. å †çš„æ¦‚å¿µ å †(Heap)æ˜¯è®¡ç®—æœºç§‘å­¦ä¸­ä¸€ç±»ç‰¹æ®Šçš„æ•°æ®ç»“æ„ã€‚å †é€šå¸¸æ˜¯ä¸€ä¸ªå¯ä»¥è¢«çœ‹ä½œä¸€æ£µå®Œå…¨äºŒæ ‘çš„æ•°ç»„å¯¹è±¡ï¼Œè‹¥æ»¡è¶³ï¼š
ä»»æ„èŠ‚ç‚¹çš„å€¼&gt;=å…¶å­èŠ‚ç‚¹çš„å€¼ã€‚åˆ™ç§°ä¸ºå¤§æ ¹å †ã€‚ä»»æ„èŠ‚ç‚¹çš„å€¼&lt;=å…¶å­èŠ‚ç‚¹çš„å€¼ã€‚åˆ™ç§°ä¸ºå°æ ¹å †ã€‚ 2. å †çš„å®ç°æ–¹å¼ è™½ç„¶å †æ˜¯ä¸€ç§ç‰¹æ®Šçš„äºŒå‰æ ‘ï¼Œå®ƒæ—¢å¯ä»¥ç”¨æ•°ç»„å­˜å‚¨ä¹Ÿå¯ä»¥ç”¨é“¾å¼å­˜å‚¨ã€‚ä½†æ˜¯è€ƒè™‘åˆ°å…¶å®Œå…¨äºŒå‰æ ‘çš„ç‰¹æ€§ï¼Œæˆ‘ä»¬æœ€å¥½é‡‡ç”¨æ•°ç»„å­˜å‚¨çš„æ–¹å¼ï¼Œå› ä¸ºè¿™æ ·æ—¢æ–¹ä¾¿è®¿é—®ï¼Œä¹Ÿå¹¶ä¸ä¼šæµªè´¹æ ¼å¤–çš„ç©ºé—´ã€‚
å‡è®¾æŸä¸ªåˆæ³•ä¸‹æ ‡ä¸ºiï¼š
è‹¥åŒäº²èŠ‚ç‚¹å­˜åœ¨ï¼Œä¸‹æ ‡ä¸º(i-1)/2ã€‚è‹¥å­©å­èŠ‚ç‚¹å­˜åœ¨ï¼Œå·¦å­©å­ä¸‹æ ‡ä¸º2i&#43;1ï¼Œå³å­©å­ä¸º2i&#43;2ã€‚ 3. å †çš„åŠŸèƒ½ å †çš„åˆå§‹åŒ–ã€‚å †çš„æ’å…¥ã€‚å †çš„åˆ é™¤ã€‚è·å–å †é¡¶çš„å…ƒç´ ã€‚å †çš„å…ƒç´ ä¸ªæ•°ã€‚å †çš„åˆ¤ç©ºã€‚è¾“å‡ºå †ã€‚å»ºå †ã€‚é”€æ¯å †ã€‚ 4. å †çš„å£°æ˜ å› ä¸ºæˆ‘ç”¨æ•°ç»„å®ç°å †ï¼Œæ‰€ä»¥å †çš„å£°æ˜ä¸é¡ºåºè¡¨ç±»ä¼¼ã€‚
typedef int HpDataType; typedef struct Heap { HpDataType* a;//å­˜å‚¨æ•°æ® int size;//å¤§å° int capacity;//å®¹é‡ }Heap; 5. å †çš„å®ç° 5.1. å †çš„åˆå§‹åŒ– 5.1.1. ä»£ç å®ç° void HeapInit(Heap* hp)//å †çš„åˆå§‹åŒ– { assert(hp); hp-&gt;a = NULL; hp-&gt;size = hp-&gt;capacity = 0; } 5.1.2. å¤æ‚åº¦åˆ†æ æ—¶é—´å¤æ‚åº¦ï¼šæ²¡æœ‰é¢å¤–çš„æ—¶é—´æ¶ˆè€—ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(1)ã€‚ç©ºé—´å¤æ‚åº¦ï¼šæ²¡æœ‰é¢å¤–çš„ç©ºé—´æ¶ˆè€—ï¼Œç©ºé—´å¤æ‚åº¦ä¸ºO(1)ã€‚ 5.2. å †çš„æ’å…¥ å½“æˆ‘ä»¬å †è¿›è¡Œæ’å…¥æ—¶å¯èƒ½ä¼šç ´åå †çš„åŸæœ‰ç»“æ„ï¼Œè¿™æ—¶å°±éœ€è¦æˆ‘ä»¬å¯¹å…¶è¿›è¡Œå‘ä¸Šè°ƒæ•´ã€‚
5.2.1. ä»£ç å®ç° void AdjustUp(Heap* hp, int child)//å‘ä¸Šè°ƒæ•´ { int parent = (child - 1) / 2; while (child &gt; 0) { if (hp-&gt;a[child] &gt; hp-&gt;a[parent]) { swap(&amp;hp-&gt;a[child], &amp;hp-&gt;a[parent]); child = parent; parent = (child - 1) / 2; } else { break; } } } void HeapPush(Heap* hp, HpDataType x)//å †çš„æ’å…¥ { assert(hp); if (hp-&gt;size == hp-&gt;capacity) { int newCapacity = hp-&gt;capacity == 0 ?">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-05-14T22:23:30+08:00">
    <meta property="article:modified_time" content="2024-05-14T22:23:30+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ç¼–ç¨‹å¤§å’–" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ç¼–ç¨‹å¤§å’–</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">æ¢ç´¢æ•°æ®ç»“æ„ï¼šå †çš„å…·ä½“å®ç°ä¸åº”ç”¨</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <blockquote> 
 <p><img src="https://images2.imgbox.com/99/06/Pf3SZRFF_o.png" alt=""></p> 
 <p>âœ¨âœ¨ æ¬¢è¿å¤§å®¶æ¥åˆ°è´è’‚å¤§è®²å ‚âœ¨âœ¨</p> 
 <p>ğŸˆğŸˆå…»æˆå¥½ä¹ æƒ¯ï¼Œå…ˆèµåçœ‹å“¦~ğŸˆğŸˆ</p> 
 <p>æ‰€å±ä¸“æ ï¼š<a href="http://t.csdnimg.cn/REhD0" rel="nofollow">æ•°æ®ç»“æ„ä¸ç®—æ³•</a><br> è´è’‚çš„ä¸»é¡µï¼š<a href="https://blog.csdn.net/Bettysweetyaaa?type=lately">Bettyâ€™s blog</a></p> 
</blockquote> 
<h3><a id="1__8"></a>1. å †çš„æ¦‚å¿µ</h3> 
<p><strong>å †(Heap</strong>)æ˜¯è®¡ç®—æœºç§‘å­¦ä¸­ä¸€ç±»ç‰¹æ®Šçš„æ•°æ®ç»“æ„ã€‚å †é€šå¸¸æ˜¯ä¸€ä¸ªå¯ä»¥è¢«çœ‹ä½œä¸€æ£µå®Œå…¨äºŒæ ‘çš„æ•°ç»„å¯¹è±¡ï¼Œè‹¥æ»¡è¶³ï¼š</p> 
<ul><li>ä»»æ„èŠ‚ç‚¹çš„å€¼&gt;=å…¶å­èŠ‚ç‚¹çš„å€¼ã€‚åˆ™ç§°ä¸º<strong>å¤§æ ¹å †</strong>ã€‚</li><li>ä»»æ„èŠ‚ç‚¹çš„å€¼&lt;=å…¶å­èŠ‚ç‚¹çš„å€¼ã€‚åˆ™ç§°ä¸º<strong>å°æ ¹å †</strong>ã€‚</li></ul> 
<p><img src="https://images2.imgbox.com/a0/5c/uqaEHlc3_o.jpg" alt="img"></p> 
<p><img src="https://images2.imgbox.com/a1/6b/gHCvVlCx_o.jpg" alt="img"></p> 
<h3><a id="2__21"></a>2. å †çš„å®ç°æ–¹å¼</h3> 
<p>è™½ç„¶å †æ˜¯ä¸€ç§ç‰¹æ®Šçš„äºŒå‰æ ‘ï¼Œå®ƒæ—¢å¯ä»¥ç”¨æ•°ç»„å­˜å‚¨ä¹Ÿå¯ä»¥ç”¨é“¾å¼å­˜å‚¨ã€‚ä½†æ˜¯è€ƒè™‘åˆ°å…¶å®Œå…¨äºŒå‰æ ‘çš„ç‰¹æ€§ï¼Œæˆ‘ä»¬æœ€å¥½é‡‡ç”¨æ•°ç»„å­˜å‚¨çš„æ–¹å¼ï¼Œå› ä¸ºè¿™æ ·<strong>æ—¢æ–¹ä¾¿è®¿é—®ï¼Œä¹Ÿå¹¶ä¸ä¼šæµªè´¹æ ¼å¤–çš„ç©ºé—´ã€‚</strong></p> 
<p><img src="https://images2.imgbox.com/75/bc/PXhBzrfC_o.jpg" alt="img"></p> 
<p>å‡è®¾æŸä¸ªåˆæ³•ä¸‹æ ‡ä¸ºiï¼š</p> 
<ul><li><strong>è‹¥åŒäº²èŠ‚ç‚¹å­˜åœ¨ï¼Œä¸‹æ ‡ä¸º(i-1)/2ã€‚</strong></li><li><strong>è‹¥å­©å­èŠ‚ç‚¹å­˜åœ¨ï¼Œå·¦å­©å­ä¸‹æ ‡ä¸º2i+1ï¼Œå³å­©å­ä¸º2i+2ã€‚</strong></li></ul> 
<h3><a id="3__32"></a>3. å †çš„åŠŸèƒ½</h3> 
<blockquote> 
 <ol><li>å †çš„åˆå§‹åŒ–ã€‚</li><li>å †çš„æ’å…¥ã€‚</li><li>å †çš„åˆ é™¤ã€‚</li><li>è·å–å †é¡¶çš„å…ƒç´ ã€‚</li><li>å †çš„å…ƒç´ ä¸ªæ•°ã€‚</li><li>å †çš„åˆ¤ç©ºã€‚</li><li>è¾“å‡ºå †ã€‚</li><li>å»ºå †ã€‚</li><li>é”€æ¯å †ã€‚</li></ol> 
</blockquote> 
<h3><a id="4__44"></a>4. å †çš„å£°æ˜</h3> 
<p>å› ä¸ºæˆ‘ç”¨æ•°ç»„å®ç°å †ï¼Œæ‰€ä»¥å †çš„å£°æ˜ä¸é¡ºåºè¡¨ç±»ä¼¼ã€‚</p> 
<pre><code class="prism language-c"><span class="token keyword">typedef</span> <span class="token keyword">int</span> HpDataType<span class="token punctuation">;</span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">Heap</span> 
<span class="token punctuation">{<!-- --></span>
	HpDataType<span class="token operator">*</span> a<span class="token punctuation">;</span><span class="token comment">//å­˜å‚¨æ•°æ®</span>
	<span class="token keyword">int</span> size<span class="token punctuation">;</span><span class="token comment">//å¤§å°</span>
	<span class="token keyword">int</span> capacity<span class="token punctuation">;</span><span class="token comment">//å®¹é‡</span>
<span class="token punctuation">}</span>Heap<span class="token punctuation">;</span>
</code></pre> 
<h3><a id="5__58"></a>5. å †çš„å®ç°</h3> 
<h4><a id="51__60"></a>5.1. å †çš„åˆå§‹åŒ–</h4> 
<h5><a id="511__62"></a>5.1.1. ä»£ç å®ç°</h5> 
<pre><code class="prism language-c"><span class="token keyword">void</span> <span class="token function">HeapInit</span><span class="token punctuation">(</span>Heap<span class="token operator">*</span> hp<span class="token punctuation">)</span><span class="token comment">//å †çš„åˆå§‹åŒ–</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>hp<span class="token punctuation">)</span><span class="token punctuation">;</span>
	hp<span class="token operator">-&gt;</span>a <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	hp<span class="token operator">-&gt;</span>size <span class="token operator">=</span> hp<span class="token operator">-&gt;</span>capacity <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h5><a id="512__73"></a>5.1.2. å¤æ‚åº¦åˆ†æ</h5> 
<ul><li>æ—¶é—´å¤æ‚åº¦ï¼šæ²¡æœ‰é¢å¤–çš„æ—¶é—´æ¶ˆè€—ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(1)ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼šæ²¡æœ‰é¢å¤–çš„ç©ºé—´æ¶ˆè€—ï¼Œç©ºé—´å¤æ‚åº¦ä¸ºO(1)ã€‚</li></ul> 
<h4><a id="52__78"></a>5.2. å †çš„æ’å…¥</h4> 
<p>å½“æˆ‘ä»¬å †è¿›è¡Œæ’å…¥æ—¶å¯èƒ½ä¼šç ´åå †çš„åŸæœ‰ç»“æ„ï¼Œè¿™æ—¶å°±éœ€è¦æˆ‘ä»¬å¯¹å…¶è¿›è¡Œ<strong>å‘ä¸Šè°ƒæ•´ã€‚</strong></p> 
<p><img src="https://images2.imgbox.com/e5/79/R50JFizI_o.jpg" alt="img"></p> 
<h5><a id="521__84"></a>5.2.1. ä»£ç å®ç°</h5> 
<pre><code class="prism language-c"><span class="token keyword">void</span> <span class="token function">AdjustUp</span><span class="token punctuation">(</span>Heap<span class="token operator">*</span> hp<span class="token punctuation">,</span> <span class="token keyword">int</span> child<span class="token punctuation">)</span><span class="token comment">//å‘ä¸Šè°ƒæ•´</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> parent <span class="token operator">=</span> <span class="token punctuation">(</span>child <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>child <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>hp<span class="token operator">-&gt;</span>a<span class="token punctuation">[</span>child<span class="token punctuation">]</span> <span class="token operator">&gt;</span> hp<span class="token operator">-&gt;</span>a<span class="token punctuation">[</span>parent<span class="token punctuation">]</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token function">swap</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>hp<span class="token operator">-&gt;</span>a<span class="token punctuation">[</span>child<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>hp<span class="token operator">-&gt;</span>a<span class="token punctuation">[</span>parent<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			child <span class="token operator">=</span> parent<span class="token punctuation">;</span>
			parent <span class="token operator">=</span> <span class="token punctuation">(</span>child <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">HeapPush</span><span class="token punctuation">(</span>Heap<span class="token operator">*</span> hp<span class="token punctuation">,</span> HpDataType x<span class="token punctuation">)</span><span class="token comment">//å †çš„æ’å…¥</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>hp<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>hp<span class="token operator">-&gt;</span>size <span class="token operator">==</span> hp<span class="token operator">-&gt;</span>capacity<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">int</span> newCapacity <span class="token operator">=</span> hp<span class="token operator">-&gt;</span>capacity <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token number">4</span> <span class="token operator">:</span> hp<span class="token operator">-&gt;</span>capacity <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>
		HpDataType<span class="token operator">*</span> tmp <span class="token operator">=</span> <span class="token punctuation">(</span>HpDataType<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">realloc</span><span class="token punctuation">(</span>hp<span class="token operator">-&gt;</span>a<span class="token punctuation">,</span> newCapacity <span class="token operator">*</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>HpDataType<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>tmp <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"realloc fail"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">exit</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		hp<span class="token operator">-&gt;</span>a <span class="token operator">=</span> tmp<span class="token punctuation">;</span>
		hp<span class="token operator">-&gt;</span>capacity <span class="token operator">=</span> newCapacity<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	hp<span class="token operator">-&gt;</span>a<span class="token punctuation">[</span>hp<span class="token operator">-&gt;</span>size<span class="token punctuation">]</span> <span class="token operator">=</span> x<span class="token punctuation">;</span>
	hp<span class="token operator">-&gt;</span>size<span class="token operator">++</span><span class="token punctuation">;</span>
	<span class="token function">AdjustUp</span><span class="token punctuation">(</span>hp<span class="token punctuation">,</span> hp<span class="token operator">-&gt;</span>size <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å‘ä¸Šè°ƒæ•´</span>
<span class="token punctuation">}</span>
</code></pre> 
<h5><a id="522__125"></a>5.2.2. å¤æ‚åº¦åˆ†æ</h5> 
<ul><li>æ—¶é—´å¤æ‚åº¦ï¼šå‡è®¾æœ‰Nä¸ªèŠ‚ç‚¹ï¼Œé«˜åº¦ä¸ºhï¼Œ2h -1=Nã€‚è‡³å°‘è°ƒæ•´log2(N+1)-1æ¬¡ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦ä¸ºlogNã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼šæ²¡æœ‰å¼€è¾Ÿé¢å¤–çš„ç©ºé—´ï¼Œç©ºé—´å¤æ‚åº¦ä¸ºO(1)ã€‚</li></ul> 
<h4><a id="53__130"></a>5.3. å †çš„åˆ é™¤</h4> 
<p>å †çš„åˆ é™¤æ˜¯æŒ‡åˆ é™¤å †é¡¶çš„æ•°æ®ï¼Œå¦‚æœæˆ‘ä»¬åˆ é™¤å †é¡¶å…ƒç´ å¹¶å¾€å‰è¦†ç›–å°±å¯èƒ½æ‰“ä¹±åŸæœ‰çš„äº²ç¼˜å…³ç³»ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥å…ˆå°†<strong>å †é¡¶çš„å…ƒç´ ä¸æœ«å°¾å…ƒç´ äº¤æ¢</strong>ï¼Œç„¶åå†è¿›è¡Œ<strong>å‘ä¸‹è°ƒæ•´</strong>Â·ã€‚</p> 
<p><img src="https://images2.imgbox.com/5f/e1/yc92P2Yr_o.jpg" alt="img"></p> 
<h5><a id="531__136"></a>5.3.1. ä»£ç å®ç°</h5> 
<pre><code class="prism language-c"><span class="token keyword">void</span> <span class="token function">swap</span><span class="token punctuation">(</span>HpDataType<span class="token operator">*</span> x1<span class="token punctuation">,</span> HpDataType<span class="token operator">*</span> x2<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	HpDataType tmp <span class="token operator">=</span> <span class="token operator">*</span>x1<span class="token punctuation">;</span>
	<span class="token operator">*</span>x1 <span class="token operator">=</span> <span class="token operator">*</span>x2<span class="token punctuation">;</span>
	<span class="token operator">*</span>x2 <span class="token operator">=</span> tmp<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> 
<span class="token keyword">void</span> <span class="token function">AdjustDown</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">,</span> <span class="token keyword">int</span> parent<span class="token punctuation">)</span><span class="token comment">//å‘ä¸‹è°ƒæ•´</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> child <span class="token operator">=</span> parent <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">//é»˜è®¤å·¦å­©å­æ›´å¤§</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>child <span class="token operator">&lt;</span> n<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>	
		<span class="token keyword">if</span> <span class="token punctuation">(</span>child <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&lt;</span> n <span class="token operator">&amp;&amp;</span> a<span class="token punctuation">[</span>child <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> a<span class="token punctuation">[</span>child<span class="token punctuation">]</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token operator">++</span>child<span class="token punctuation">;</span><span class="token comment">//å³å­©å­</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token punctuation">[</span>child<span class="token punctuation">]</span> <span class="token operator">&gt;</span> a<span class="token punctuation">[</span>parent<span class="token punctuation">]</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token function">swap</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>a<span class="token punctuation">[</span>child<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">[</span>parent<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			parent <span class="token operator">=</span> child<span class="token punctuation">;</span>
			child <span class="token operator">=</span> parent <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span> 
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">HeapPop</span><span class="token punctuation">(</span>Heap<span class="token operator">*</span> hp<span class="token punctuation">)</span><span class="token comment">//åˆ é™¤å †é¡¶å…ƒç´ </span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>hp<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation">(</span>hp<span class="token operator">-&gt;</span>size <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">swap</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>hp<span class="token operator">-&gt;</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>hp<span class="token operator">-&gt;</span>a<span class="token punctuation">[</span>hp<span class="token operator">-&gt;</span>size <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	hp<span class="token operator">-&gt;</span>size<span class="token operator">--</span><span class="token punctuation">;</span><span class="token comment">//åˆ é™¤æœ€åä¸€ä¸ªæ•°æ®</span>
	<span class="token function">AdjustDown</span><span class="token punctuation">(</span>hp<span class="token operator">-&gt;</span>a<span class="token punctuation">,</span> hp<span class="token operator">-&gt;</span>size<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å‘ä¸‹è°ƒæ•´</span>
<span class="token punctuation">}</span>
</code></pre> 
<h5><a id="532__178"></a>5.3.2. å¤æ‚åº¦åˆ†æ</h5> 
<ul><li>æ—¶é—´å¤æ‚åº¦ï¼šå‡è®¾æœ‰Nä¸ªèŠ‚ç‚¹ï¼Œé«˜åº¦ä¸ºhï¼Œ2h -1=Nã€‚è‡³å°‘è°ƒæ•´log2(N+1)-1æ¬¡ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦ä¸ºlogNã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼šæ²¡æœ‰å¼€è¾Ÿé¢å¤–çš„ç©ºé—´ï¼Œç©ºé—´å¤æ‚åº¦ä¸ºO(1)ã€‚</li></ul> 
<h4><a id="54__183"></a>5.4. è·å–å †é¡¶å…ƒç´ </h4> 
<h5><a id="541__185"></a>5.4.1. ä»£ç å®ç°</h5> 
<pre><code class="prism language-c">HpDataType <span class="token function">HeapTop</span><span class="token punctuation">(</span>Heap<span class="token operator">*</span> hp<span class="token punctuation">)</span><span class="token comment">//è·å–å †é¡¶å…ƒç´ </span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>hp<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation">(</span>hp<span class="token operator">-&gt;</span>size <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> hp<span class="token operator">-&gt;</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h5><a id="542__196"></a>5.4.2. å¤æ‚åº¦åˆ†æ</h5> 
<ul><li>æ—¶é—´å¤æ‚åº¦ï¼šæ²¡æœ‰é¢å¤–çš„æ—¶é—´æ¶ˆè€—ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(1)ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼šæ²¡æœ‰é¢å¤–çš„ç©ºé—´æ¶ˆè€—ï¼Œç©ºé—´å¤æ‚åº¦ä¸ºO(1)ã€‚</li></ul> 
<h4><a id="55__201"></a>5.5. è·å–å †çš„å…ƒç´ ä¸ªæ•°</h4> 
<h5><a id="551__203"></a>5.5.1. ä»£ç å®ç°</h5> 
<pre><code class="prism language-c"><span class="token class-name">size_t</span> <span class="token function">HeapSize</span><span class="token punctuation">(</span>Heap<span class="token operator">*</span> hp<span class="token punctuation">)</span><span class="token comment">//å †çš„å¤§å°</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>hp<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> hp<span class="token operator">-&gt;</span>size<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h5><a id="552__213"></a>5.5.2. å¤æ‚åº¦åˆ†æ</h5> 
<ul><li>æ—¶é—´å¤æ‚åº¦ï¼šæ²¡æœ‰é¢å¤–çš„æ—¶é—´æ¶ˆè€—ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(1)ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼šæ²¡æœ‰é¢å¤–çš„ç©ºé—´æ¶ˆè€—ï¼Œç©ºé—´å¤æ‚åº¦ä¸ºO(1)ã€‚</li></ul> 
<h4><a id="56__218"></a>5.6. åˆ¤æ–­å †æ˜¯å¦ä¸ºç©º</h4> 
<h5><a id="561__220"></a>5.6.1. ä»£ç å®ç°</h5> 
<pre><code class="prism language-c">bool <span class="token function">HeapEmpty</span><span class="token punctuation">(</span>Heap<span class="token operator">*</span> hp<span class="token punctuation">)</span><span class="token comment">//åˆ¤æ–­å †æ˜¯å¦ä¸ºç©º</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>hp<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> hp<span class="token operator">-&gt;</span>size <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h5><a id="562__230"></a>5.6.2. å¤æ‚åº¦åˆ†æ</h5> 
<ul><li>æ—¶é—´å¤æ‚åº¦ï¼šæ²¡æœ‰é¢å¤–çš„æ—¶é—´æ¶ˆè€—ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(1)ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼šæ²¡æœ‰é¢å¤–çš„ç©ºé—´æ¶ˆè€—ï¼Œç©ºé—´å¤æ‚åº¦ä¸ºO(1)ã€‚</li></ul> 
<h4><a id="57__235"></a>5.7. è¾“å‡ºå †</h4> 
<h5><a id="571__237"></a>5.7.1. ä»£ç å®ç°</h5> 
<pre><code class="prism language-c"><span class="token keyword">void</span> <span class="token function">HeapDisplay</span><span class="token punctuation">(</span>Heap<span class="token operator">*</span> hp<span class="token punctuation">)</span><span class="token comment">//å †çš„æ‰“å°</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> hp<span class="token operator">-&gt;</span>size<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> hp<span class="token operator">-&gt;</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h5><a id="572__250"></a>5.7.2. å¤æ‚åº¦åˆ†æ</h5> 
<ul><li>æ—¶é—´å¤æ‚åº¦ï¼šéå†æ•´ä¸ªæ•°ç»„ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(N)ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼šæ²¡æœ‰é¢å¤–çš„ç©ºé—´æ¶ˆè€—ï¼Œç©ºé—´å¤æ‚åº¦ä¸ºO(1)ã€‚</li></ul> 
<h4><a id="58__255"></a>5.8. å»ºå †</h4> 
<h5><a id="581__257"></a>5.8.1. ä»£ç å®ç°</h5> 
<pre><code class="prism language-c"><span class="token keyword">void</span> <span class="token function">HeapCreatUp</span><span class="token punctuation">(</span>Heap<span class="token operator">*</span> hp<span class="token punctuation">,</span>HpDataType<span class="token operator">*</span> arr<span class="token punctuation">,</span><span class="token keyword">int</span> n<span class="token punctuation">)</span><span class="token comment">//å‘ä¸Šè°ƒæ•´å»ºå †</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>hp <span class="token operator">&amp;&amp;</span> arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">HeapPush</span><span class="token punctuation">(</span>hp<span class="token punctuation">,</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">HeapCreatDown</span><span class="token punctuation">(</span>Heap<span class="token operator">*</span> hp<span class="token punctuation">,</span> HpDataType<span class="token operator">*</span> arr<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span><span class="token comment">//å‘ä¸‹è°ƒæ•´å»ºå †</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>hp <span class="token operator">&amp;&amp;</span> arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
	HpDataType<span class="token operator">*</span> tmp <span class="token operator">=</span> <span class="token punctuation">(</span>HpDataType<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>HpDataType<span class="token punctuation">)</span> <span class="token operator">*</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>tmp <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"malloc fail"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">exit</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	hp<span class="token operator">-&gt;</span>a <span class="token operator">=</span> tmp<span class="token punctuation">;</span>
	<span class="token function">memcpy</span><span class="token punctuation">(</span>hp<span class="token operator">-&gt;</span>a<span class="token punctuation">,</span> arr<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>HpDataType<span class="token punctuation">)</span> <span class="token operator">*</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>
	hp<span class="token operator">-&gt;</span>size <span class="token operator">=</span> n<span class="token punctuation">;</span>
	hp<span class="token operator">-&gt;</span>capacity <span class="token operator">=</span> n<span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span><span class="token comment">//ä»æœ€åä¸€ä¸ªå…ƒç´ å¼€å§‹</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">AdjustDown</span><span class="token punctuation">(</span>hp<span class="token operator">-&gt;</span>a<span class="token punctuation">,</span> n<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h5><a id="582__288"></a>5.8.2. å¤æ‚åº¦åˆ†æ</h5> 
<p>å‡è®¾é«˜åº¦ä¸ºhï¼ŒèŠ‚ç‚¹ä¸ªæ•°ä¸ºNã€‚å¦‚æœæ˜¯å‘ä¸Šè°ƒæ•´å»ºå †ï¼š</p> 
<p><img src="https://images2.imgbox.com/46/66/nIHmDUn5_o.jpg" alt="img"></p> 
<p><span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          F 
         
        
          ( 
         
        
          N 
         
        
          ) 
         
        
          = 
         
         
         
           2 
          
         
           1 
          
         
        
          Ã— 
         
        
          1 
         
        
          + 
         
         
         
           2 
          
         
           2 
          
         
        
          Ã— 
         
        
          2 
         
        
          + 
         
        
          . 
         
        
          . 
         
        
          . 
         
        
          + 
         
         
         
           2 
          
          
          
            h 
           
          
            âˆ’ 
           
          
            1 
           
          
         
        
          Ã— 
         
        
          ( 
         
        
          h 
         
        
          âˆ’ 
         
        
          1 
         
        
          ) 
         
         
        
          2 
         
        
          F 
         
        
          ( 
         
        
          N 
         
        
          ) 
         
        
          = 
         
         
         
           2 
          
         
           2 
          
         
        
          Ã— 
         
        
          1 
         
        
          + 
         
         
         
           2 
          
         
           3 
          
         
        
          Ã— 
         
        
          2 
         
        
          + 
         
        
          . 
         
        
          . 
         
        
          . 
         
        
          + 
         
         
         
           2 
          
          
          
            h 
           
          
            âˆ’ 
           
          
            1 
           
          
         
        
          Ã— 
         
        
          ( 
         
        
          h 
         
        
          âˆ’ 
         
        
          1 
         
        
          ) 
         
        
          + 
         
         
         
           2 
          
         
           h 
          
         
        
          Ã— 
         
        
          ( 
         
        
          h 
         
        
          âˆ’ 
         
        
          1 
         
        
          ) 
         
         
        
          2 
         
        
          F 
         
        
          ( 
         
        
          N 
         
        
          ) 
         
        
          âˆ’ 
         
        
          F 
         
        
          ( 
         
        
          N 
         
        
          ) 
         
        
          = 
         
        
          âˆ’ 
         
         
         
           2 
          
         
           1 
          
         
        
          âˆ’ 
         
         
         
           2 
          
         
           2 
          
         
        
          âˆ’ 
         
         
         
           2 
          
         
           3 
          
         
        
          âˆ’ 
         
        
          . 
         
        
          . 
         
        
          . 
         
         
         
           2 
          
          
          
            h 
           
          
            âˆ’ 
           
          
            1 
           
          
         
        
          + 
         
         
         
           2 
          
         
           h 
          
         
        
          Ã— 
         
        
          ( 
         
        
          h 
         
        
          âˆ’ 
         
        
          1 
         
        
          ) 
         
        
          = 
         
        
          âˆ’ 
         
         
         
           2 
          
         
           h 
          
         
        
          + 
         
        
          2 
         
        
          âˆ’ 
         
         
         
           2 
          
         
           h 
          
         
        
          + 
         
         
         
           2 
          
         
           h 
          
         
        
          Ã— 
         
        
          h 
         
         
        
          F 
         
        
          ( 
         
        
          N 
         
        
          ) 
         
        
          = 
         
         
         
           2 
          
         
           h 
          
         
        
          Ã— 
         
        
          ( 
         
        
          h 
         
        
          âˆ’ 
         
        
          2 
         
        
          ) 
         
        
          + 
         
        
          2 
         
        
          , 
         
        
          N 
         
        
          = 
         
         
         
           2 
          
         
           h 
          
         
        
          âˆ’ 
         
        
          1 
         
         
        
          F 
         
        
          ( 
         
        
          N 
         
        
          ) 
         
        
          = 
         
        
          ( 
         
        
          N 
         
        
          + 
         
        
          1 
         
        
          ) 
         
        
          Ã— 
         
        
          ( 
         
        
          l 
         
        
          o 
         
        
          g 
         
        
          2 
         
        
          ( 
         
        
          N 
         
        
          + 
         
        
          1 
         
        
          ) 
         
        
          âˆ’ 
         
        
          2 
         
        
          ) 
         
        
          + 
         
        
          2 
         
        
       
         F(N)=2^1Ã—1+2^2Ã—2+...+2^{h-1}Ã—(h-1)\\ 2F(N)=2^2Ã—1+2^3Ã—2+...+2^{h-1}Ã—(h-1)+2^hÃ—(h-1)\\ 2F(N)-F(N)=-2^1-2^2-2^3-...2^{h-1}+2^hÃ—(h-1)=-2^h+2-2^h+2^hÃ—h\\ F(N)=2^hÃ—(h-2)+2,N=2^h-1\\ F(N)=(N+1)Ã—(log2(N+1)-2)+2 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal" style="margin-right: 0.1389em;">F</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right: 0.109em;">N</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.9474em; vertical-align: -0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8641em;"><span class="" style="top: -3.113em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.7278em; vertical-align: -0.0833em;"></span><span class="mord">1</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.9474em; vertical-align: -0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8641em;"><span class="" style="top: -3.113em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.7278em; vertical-align: -0.0833em;"></span><span class="mord">2</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6667em; vertical-align: -0.0833em;"></span><span class="mord">...</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.9824em; vertical-align: -0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8991em;"><span class="" style="top: -3.113em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">h</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">h</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">)</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">2</span><span class="mord mathnormal" style="margin-right: 0.1389em;">F</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right: 0.109em;">N</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.9474em; vertical-align: -0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8641em;"><span class="" style="top: -3.113em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.7278em; vertical-align: -0.0833em;"></span><span class="mord">1</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.9474em; vertical-align: -0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8641em;"><span class="" style="top: -3.113em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.7278em; vertical-align: -0.0833em;"></span><span class="mord">2</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6667em; vertical-align: -0.0833em;"></span><span class="mord">...</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.9824em; vertical-align: -0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8991em;"><span class="" style="top: -3.113em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">h</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">h</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.9824em; vertical-align: -0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8991em;"><span class="" style="top: -3.113em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">h</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">)</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">2</span><span class="mord mathnormal" style="margin-right: 0.1389em;">F</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right: 0.109em;">N</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal" style="margin-right: 0.1389em;">F</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right: 0.109em;">N</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.9474em; vertical-align: -0.0833em;"></span><span class="mord">âˆ’</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8641em;"><span class="" style="top: -3.113em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.9474em; vertical-align: -0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8641em;"><span class="" style="top: -3.113em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.9474em; vertical-align: -0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8641em;"><span class="" style="top: -3.113em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.9824em; vertical-align: -0.0833em;"></span><span class="mord">...</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8991em;"><span class="" style="top: -3.113em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">h</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.9824em; vertical-align: -0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8991em;"><span class="" style="top: -3.113em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">h</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.9824em; vertical-align: -0.0833em;"></span><span class="mord">âˆ’</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8991em;"><span class="" style="top: -3.113em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.7278em; vertical-align: -0.0833em;"></span><span class="mord">2</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.9824em; vertical-align: -0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8991em;"><span class="" style="top: -3.113em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.9824em; vertical-align: -0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8991em;"><span class="" style="top: -3.113em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6944em;"></span><span class="mord mathnormal">h</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal" style="margin-right: 0.1389em;">F</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right: 0.109em;">N</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.9824em; vertical-align: -0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8991em;"><span class="" style="top: -3.113em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">h</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">2</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.8778em; vertical-align: -0.1944em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord mathnormal" style="margin-right: 0.109em;">N</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.9824em; vertical-align: -0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8991em;"><span class="" style="top: -3.113em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">1</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal" style="margin-right: 0.1389em;">F</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right: 0.109em;">N</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right: 0.109em;">N</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right: 0.0197em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right: 0.0359em;">g</span><span class="mord">2</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right: 0.109em;">N</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">2</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">2</span></span></span></span></span></span></p> 
<p>å¦‚æœæ˜¯å‘ä¸‹è°ƒæ•´å»ºå †ï¼š</p> 
<p><img src="https://images2.imgbox.com/c7/3b/fqAiHGQq_o.jpg" alt="img"><br> <span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          F 
         
        
          ( 
         
        
          N 
         
        
          ) 
         
        
          = 
         
         
         
           2 
          
          
          
            h 
           
          
            âˆ’ 
           
          
            2 
           
          
         
        
          Ã— 
         
        
          1 
         
        
          + 
         
         
         
           2 
          
          
          
            h 
           
          
            âˆ’ 
           
          
            3 
           
          
         
        
          Ã— 
         
        
          2 
         
        
          + 
         
        
          . 
         
        
          . 
         
        
          . 
         
        
          + 
         
         
         
           2 
          
         
           0 
          
         
        
          Ã— 
         
        
          ( 
         
        
          h 
         
        
          âˆ’ 
         
        
          1 
         
        
          ) 
         
         
        
          2 
         
        
          F 
         
        
          ( 
         
        
          N 
         
        
          ) 
         
        
          = 
         
         
         
           2 
          
          
          
            h 
           
          
            âˆ’ 
           
          
            1 
           
          
         
        
          Ã— 
         
        
          1 
         
        
          + 
         
         
         
           2 
          
          
          
            h 
           
          
            âˆ’ 
           
          
            2 
           
          
         
        
          Ã— 
         
        
          2 
         
        
          + 
         
        
          . 
         
        
          . 
         
        
          . 
         
        
          + 
         
         
         
           2 
          
         
           1 
          
         
        
          Ã— 
         
        
          ( 
         
        
          h 
         
        
          âˆ’ 
         
        
          1 
         
        
          ) 
         
         
        
          2 
         
        
          F 
         
        
          ( 
         
        
          N 
         
        
          ) 
         
        
          âˆ’ 
         
        
          F 
         
        
          ( 
         
        
          N 
         
        
          ) 
         
        
          = 
         
         
         
           2 
          
          
          
            h 
           
          
            âˆ’ 
           
          
            1 
           
          
         
        
          + 
         
         
         
           2 
          
          
          
            h 
           
          
            âˆ’ 
           
          
            2 
           
          
         
        
          + 
         
        
          . 
         
        
          . 
         
        
          . 
         
         
         
           2 
          
         
           1 
          
         
        
          âˆ’ 
         
         
         
           2 
          
         
           0 
          
         
        
          Ã— 
         
        
          ( 
         
        
          h 
         
        
          âˆ’ 
         
        
          1 
         
        
          ) 
         
        
          = 
         
         
         
           2 
          
         
           h 
          
         
        
          âˆ’ 
         
        
          1 
         
        
          âˆ’ 
         
        
          h 
         
         
        
          F 
         
        
          ( 
         
        
          N 
         
        
          ) 
         
        
          = 
         
         
         
           2 
          
         
           h 
          
         
        
          âˆ’ 
         
        
          1 
         
        
          âˆ’ 
         
        
          h 
         
        
          , 
         
        
          N 
         
        
          = 
         
         
         
           2 
          
         
           h 
          
         
        
          âˆ’ 
         
        
          1 
         
         
        
          F 
         
        
          ( 
         
        
          N 
         
        
          ) 
         
        
          = 
         
        
          N 
         
        
          âˆ’ 
         
        
          l 
         
        
          o 
         
        
          g 
         
        
          2 
         
        
          ( 
         
        
          N 
         
        
          + 
         
        
          1 
         
        
          ï¼‰ 
         
        
       
         F(N)=2^{h-2}Ã—1+2^{h-3}Ã—2+...+2^0Ã—(h-1)\\ 2F(N)=2^{h-1}Ã—1+2^{h-2}Ã—2+...+2^1Ã—(h-1)\\ 2F(N)-F(N)=2^{h-1}+2^{h-2}+...2^1-2^0Ã—(h-1)=2^h-1-h\\ F(N)=2^h-1-h,N=2^h-1\\ F(N)=N-log2(N+1ï¼‰ 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal" style="margin-right: 0.1389em;">F</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right: 0.109em;">N</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.9824em; vertical-align: -0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8991em;"><span class="" style="top: -3.113em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">h</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.7278em; vertical-align: -0.0833em;"></span><span class="mord">1</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.9824em; vertical-align: -0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8991em;"><span class="" style="top: -3.113em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">h</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">3</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.7278em; vertical-align: -0.0833em;"></span><span class="mord">2</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6667em; vertical-align: -0.0833em;"></span><span class="mord">...</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.9474em; vertical-align: -0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8641em;"><span class="" style="top: -3.113em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">h</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">)</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">2</span><span class="mord mathnormal" style="margin-right: 0.1389em;">F</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right: 0.109em;">N</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.9824em; vertical-align: -0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8991em;"><span class="" style="top: -3.113em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">h</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.7278em; vertical-align: -0.0833em;"></span><span class="mord">1</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.9824em; vertical-align: -0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8991em;"><span class="" style="top: -3.113em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">h</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.7278em; vertical-align: -0.0833em;"></span><span class="mord">2</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6667em; vertical-align: -0.0833em;"></span><span class="mord">...</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.9474em; vertical-align: -0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8641em;"><span class="" style="top: -3.113em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">h</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">)</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">2</span><span class="mord mathnormal" style="margin-right: 0.1389em;">F</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right: 0.109em;">N</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal" style="margin-right: 0.1389em;">F</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right: 0.109em;">N</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.9824em; vertical-align: -0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8991em;"><span class="" style="top: -3.113em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">h</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.9824em; vertical-align: -0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8991em;"><span class="" style="top: -3.113em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">h</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.9474em; vertical-align: -0.0833em;"></span><span class="mord">...</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8641em;"><span class="" style="top: -3.113em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.9474em; vertical-align: -0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8641em;"><span class="" style="top: -3.113em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">h</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.9824em; vertical-align: -0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8991em;"><span class="" style="top: -3.113em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.7278em; vertical-align: -0.0833em;"></span><span class="mord">1</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6944em;"></span><span class="mord mathnormal">h</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal" style="margin-right: 0.1389em;">F</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right: 0.109em;">N</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.9824em; vertical-align: -0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8991em;"><span class="" style="top: -3.113em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.7278em; vertical-align: -0.0833em;"></span><span class="mord">1</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.8889em; vertical-align: -0.1944em;"></span><span class="mord mathnormal">h</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord mathnormal" style="margin-right: 0.109em;">N</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.9824em; vertical-align: -0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8991em;"><span class="" style="top: -3.113em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">1</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal" style="margin-right: 0.1389em;">F</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right: 0.109em;">N</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.7667em; vertical-align: -0.0833em;"></span><span class="mord mathnormal" style="margin-right: 0.109em;">N</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal" style="margin-right: 0.0197em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right: 0.0359em;">g</span><span class="mord">2</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right: 0.109em;">N</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">1</span><span class="mord cjk_fallback">ï¼‰</span></span></span></span></span></span></p> 
<ul><li>æ—¶é—´å¤æ‚åº¦ï¼šå‘ä¸Šè°ƒæ•´å»ºå †æœ€åä¸€æ’è°ƒæ•´h-1æ¬¡ï¼Œå€’æ•°ç¬¬äºŒæ’è°ƒæ•´h-2æ¬¡â€¦æ—¶é—´å¤æ‚åº¦ä¸ºNlogNã€‚å‘ä¸‹è°ƒæ•´å»ºå †å€’æ•°ç¬¬äºŒæ’è°ƒæ•´1æ¬¡ï¼Œå€’æ•°ç¬¬äºŒæ’è°ƒæ•´2â€¦ç¬¬ä¸€æ’è°ƒæ•´h-1æ¬¡ã€‚æ—¶é—´å¤æ‚ä¸ºO(N)ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼šæ— è®ºæ˜¯å‘ä¸Šè°ƒæ•´å»ºå †è¿˜æ˜¯å‘ä¸‹è°ƒæ•´å»ºå †éƒ½éœ€å¼€è¾ŸNä¸ªç©ºé—´ï¼Œæ‰€ä»¥ç©ºé—´å¤æ‚åº¦ä¸ºO(N)ã€‚</li></ul> 
<h4><a id="59__319"></a>5.9. é”€æ¯å †</h4> 
<h5><a id="591__321"></a>5.9.1. ä»£ç å®ç°</h5> 
<pre><code class="prism language-c"><span class="token keyword">void</span> <span class="token function">HeapDestroy</span><span class="token punctuation">(</span>Heap<span class="token operator">*</span> hp<span class="token punctuation">)</span><span class="token comment">//é”€æ¯å †</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>hp<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">free</span><span class="token punctuation">(</span>hp<span class="token operator">-&gt;</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
	hp<span class="token operator">-&gt;</span>size <span class="token operator">=</span> hp<span class="token operator">-&gt;</span>capacity <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h5><a id="592__332"></a>5.9.2. å¤æ‚åº¦åˆ†æ</h5> 
<ul><li>æ—¶é—´å¤æ‚åº¦ï¼šæ²¡æœ‰é¢å¤–çš„æ—¶é—´æ¶ˆè€—ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(1)ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼šæ²¡æœ‰é¢å¤–çš„ç©ºé—´æ¶ˆè€—ï¼Œç©ºé—´å¤æ‚åº¦ä¸ºO(1)ã€‚</li></ul> 
<h4><a id="510__337"></a>5.10. å®Œæ•´ä»£ç </h4> 
<h5><a id="5101_Heaph_339"></a>5.10.1. Heap.h</h5> 
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;string.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdlib.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;assert.h&gt;</span></span>
<span class="token keyword">typedef</span> <span class="token keyword">int</span> HpDataType<span class="token punctuation">;</span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">Heap</span> 
<span class="token punctuation">{<!-- --></span>
	HpDataType<span class="token operator">*</span> a<span class="token punctuation">;</span><span class="token comment">//å­˜å‚¨æ•°æ®</span>
	<span class="token keyword">int</span> size<span class="token punctuation">;</span><span class="token comment">//å¤§å°</span>
	<span class="token keyword">int</span> capacity<span class="token punctuation">;</span><span class="token comment">//å®¹é‡</span>
<span class="token punctuation">}</span>Heap<span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">HeapInit</span><span class="token punctuation">(</span>Heap<span class="token operator">*</span> hp<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å †çš„åˆå§‹åŒ–</span>
<span class="token keyword">void</span> <span class="token function">AdjustUp</span><span class="token punctuation">(</span>Heap<span class="token operator">*</span> hp<span class="token punctuation">,</span> <span class="token keyword">int</span> child<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å‘ä¸Šè°ƒæ•´</span>
<span class="token keyword">void</span> <span class="token function">HeapPush</span><span class="token punctuation">(</span>Heap<span class="token operator">*</span> hp<span class="token punctuation">,</span> HpDataType x<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å †çš„æ’å…¥</span>
bool <span class="token function">HeapEmpty</span><span class="token punctuation">(</span>Heap<span class="token operator">*</span> hp<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//åˆ¤æ–­å †æ˜¯å¦ä¸ºç©º</span>
<span class="token class-name">size_t</span> <span class="token function">HeapSize</span><span class="token punctuation">(</span>Heap<span class="token operator">*</span> hp<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å †çš„å¤§å°</span>
<span class="token keyword">void</span> <span class="token function">AdjustDown</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">,</span> <span class="token keyword">int</span> parent<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å‘ä¸‹è°ƒæ•´</span>
<span class="token keyword">void</span> <span class="token function">HeapPop</span><span class="token punctuation">(</span>Heap<span class="token operator">*</span> hp<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//åˆ é™¤å †é¡¶å…ƒç´ </span>
HpDataType <span class="token function">HeapTop</span><span class="token punctuation">(</span>Heap<span class="token operator">*</span> hp<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è·å–å †é¡¶å…ƒç´ </span>
<span class="token keyword">void</span> <span class="token function">HeapDisplay</span><span class="token punctuation">(</span>Heap<span class="token operator">*</span> hp<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å †çš„æ‰“å°</span>
<span class="token keyword">void</span> <span class="token function">HeapDestroy</span><span class="token punctuation">(</span>Heap<span class="token operator">*</span> hp<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//é”€æ¯å †</span>
<span class="token keyword">void</span> <span class="token function">HeapCreatUp</span><span class="token punctuation">(</span>Heap<span class="token operator">*</span> hp<span class="token punctuation">,</span>HpDataType<span class="token operator">*</span> arr<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å‘ä¸Šè°ƒæ•´å»ºå †</span>
<span class="token keyword">void</span> <span class="token function">HeapCreatDown</span><span class="token punctuation">(</span>Heap<span class="token operator">*</span> hp<span class="token punctuation">,</span>HpDataType<span class="token operator">*</span> arr<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å‘ä¸‹è°ƒæ•´å»ºå †</span>
</code></pre> 
<h5><a id="5102_Heapc_367"></a>5.10.2. Heap.c</h5> 
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">_CRT_SECURE_NO_WARNINGS</span> <span class="token expression"><span class="token number">1</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">"Heap.h"</span></span>
<span class="token keyword">void</span> <span class="token function">HeapInit</span><span class="token punctuation">(</span>Heap<span class="token operator">*</span> hp<span class="token punctuation">)</span><span class="token comment">//å †çš„åˆå§‹åŒ–</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>hp<span class="token punctuation">)</span><span class="token punctuation">;</span>
	hp<span class="token operator">-&gt;</span>a <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	hp<span class="token operator">-&gt;</span>size <span class="token operator">=</span> hp<span class="token operator">-&gt;</span>capacity <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">swap</span><span class="token punctuation">(</span>HpDataType<span class="token operator">*</span> x1<span class="token punctuation">,</span> HpDataType<span class="token operator">*</span> x2<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	HpDataType tmp <span class="token operator">=</span> <span class="token operator">*</span>x1<span class="token punctuation">;</span>
	<span class="token operator">*</span>x1 <span class="token operator">=</span> <span class="token operator">*</span>x2<span class="token punctuation">;</span>
	<span class="token operator">*</span>x2 <span class="token operator">=</span> tmp<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">AdjustUp</span><span class="token punctuation">(</span>Heap<span class="token operator">*</span> hp<span class="token punctuation">,</span> <span class="token keyword">int</span> child<span class="token punctuation">)</span><span class="token comment">//å‘ä¸Šè°ƒæ•´</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> parent <span class="token operator">=</span> <span class="token punctuation">(</span>child <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>child <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>hp<span class="token operator">-&gt;</span>a<span class="token punctuation">[</span>child<span class="token punctuation">]</span> <span class="token operator">&gt;</span> hp<span class="token operator">-&gt;</span>a<span class="token punctuation">[</span>parent<span class="token punctuation">]</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token function">swap</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>hp<span class="token operator">-&gt;</span>a<span class="token punctuation">[</span>child<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>hp<span class="token operator">-&gt;</span>a<span class="token punctuation">[</span>parent<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			child <span class="token operator">=</span> parent<span class="token punctuation">;</span>
			parent <span class="token operator">=</span> <span class="token punctuation">(</span>child <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">HeapPush</span><span class="token punctuation">(</span>Heap<span class="token operator">*</span> hp<span class="token punctuation">,</span> HpDataType x<span class="token punctuation">)</span><span class="token comment">//å †çš„æ’å…¥</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>hp<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>hp<span class="token operator">-&gt;</span>size <span class="token operator">==</span> hp<span class="token operator">-&gt;</span>capacity<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">int</span> newCapacity <span class="token operator">=</span> hp<span class="token operator">-&gt;</span>capacity <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token number">4</span> <span class="token operator">:</span> hp<span class="token operator">-&gt;</span>capacity <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>
		HpDataType<span class="token operator">*</span> tmp <span class="token operator">=</span> <span class="token punctuation">(</span>HpDataType<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">realloc</span><span class="token punctuation">(</span>hp<span class="token operator">-&gt;</span>a<span class="token punctuation">,</span> newCapacity <span class="token operator">*</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>HpDataType<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>tmp <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"realloc fail"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">exit</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		hp<span class="token operator">-&gt;</span>a <span class="token operator">=</span> tmp<span class="token punctuation">;</span>
		hp<span class="token operator">-&gt;</span>capacity <span class="token operator">=</span> newCapacity<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	hp<span class="token operator">-&gt;</span>a<span class="token punctuation">[</span>hp<span class="token operator">-&gt;</span>size<span class="token punctuation">]</span> <span class="token operator">=</span> x<span class="token punctuation">;</span>
	hp<span class="token operator">-&gt;</span>size<span class="token operator">++</span><span class="token punctuation">;</span>
	<span class="token function">AdjustUp</span><span class="token punctuation">(</span>hp<span class="token punctuation">,</span> hp<span class="token operator">-&gt;</span>size <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å‘ä¸Šè°ƒæ•´</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">AdjustDown</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">,</span> <span class="token keyword">int</span> parent<span class="token punctuation">)</span><span class="token comment">//å‘ä¸‹è°ƒæ•´</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> child <span class="token operator">=</span> parent <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">//é»˜è®¤å·¦å­©å­æ›´å¤§</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>child <span class="token operator">&lt;</span> n<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>	
		<span class="token keyword">if</span> <span class="token punctuation">(</span>child <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&lt;</span> n <span class="token operator">&amp;&amp;</span> a<span class="token punctuation">[</span>child <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> a<span class="token punctuation">[</span>child<span class="token punctuation">]</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token operator">++</span>child<span class="token punctuation">;</span><span class="token comment">//å³å­©å­</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token punctuation">[</span>child<span class="token punctuation">]</span> <span class="token operator">&gt;</span> a<span class="token punctuation">[</span>parent<span class="token punctuation">]</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token function">swap</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>a<span class="token punctuation">[</span>child<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">[</span>parent<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			parent <span class="token operator">=</span> child<span class="token punctuation">;</span>
			child <span class="token operator">=</span> parent <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span> 
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">HeapPop</span><span class="token punctuation">(</span>Heap<span class="token operator">*</span> hp<span class="token punctuation">)</span><span class="token comment">//åˆ é™¤å †é¡¶å…ƒç´ </span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>hp<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation">(</span>hp<span class="token operator">-&gt;</span>size <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">swap</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>hp<span class="token operator">-&gt;</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>hp<span class="token operator">-&gt;</span>a<span class="token punctuation">[</span>hp<span class="token operator">-&gt;</span>size <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	hp<span class="token operator">-&gt;</span>size<span class="token operator">--</span><span class="token punctuation">;</span><span class="token comment">//åˆ é™¤æœ€åä¸€ä¸ªæ•°æ®</span>
	<span class="token function">AdjustDown</span><span class="token punctuation">(</span>hp<span class="token operator">-&gt;</span>a<span class="token punctuation">,</span> hp<span class="token operator">-&gt;</span>size<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å‘ä¸‹è°ƒæ•´</span>
<span class="token punctuation">}</span>

HpDataType <span class="token function">HeapTop</span><span class="token punctuation">(</span>Heap<span class="token operator">*</span> hp<span class="token punctuation">)</span><span class="token comment">//è·å–å †é¡¶å…ƒç´ </span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>hp<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation">(</span>hp<span class="token operator">-&gt;</span>size <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> hp<span class="token operator">-&gt;</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

bool <span class="token function">HeapEmpty</span><span class="token punctuation">(</span>Heap<span class="token operator">*</span> hp<span class="token punctuation">)</span><span class="token comment">//åˆ¤æ–­å †æ˜¯å¦ä¸ºç©º</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>hp<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> hp<span class="token operator">-&gt;</span>size <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name">size_t</span> <span class="token function">HeapSize</span><span class="token punctuation">(</span>Heap<span class="token operator">*</span> hp<span class="token punctuation">)</span><span class="token comment">//å †çš„å¤§å°</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>hp<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> hp<span class="token operator">-&gt;</span>size<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">HeapDisplay</span><span class="token punctuation">(</span>Heap<span class="token operator">*</span> hp<span class="token punctuation">)</span><span class="token comment">//å †çš„æ‰“å°</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> hp<span class="token operator">-&gt;</span>size<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> hp<span class="token operator">-&gt;</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">HeapCreatUp</span><span class="token punctuation">(</span>Heap<span class="token operator">*</span> hp<span class="token punctuation">,</span>HpDataType<span class="token operator">*</span> arr<span class="token punctuation">,</span><span class="token keyword">int</span> n<span class="token punctuation">)</span><span class="token comment">//å‘ä¸Šè°ƒæ•´å»ºå †</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>hp <span class="token operator">&amp;&amp;</span> arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">HeapPush</span><span class="token punctuation">(</span>hp<span class="token punctuation">,</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">HeapCreatDown</span><span class="token punctuation">(</span>Heap<span class="token operator">*</span> hp<span class="token punctuation">,</span> HpDataType<span class="token operator">*</span> arr<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span><span class="token comment">//å‘ä¸‹è°ƒæ•´å»ºå †</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>hp <span class="token operator">&amp;&amp;</span> arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
	HpDataType<span class="token operator">*</span> tmp <span class="token operator">=</span> <span class="token punctuation">(</span>HpDataType<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>HpDataType<span class="token punctuation">)</span> <span class="token operator">*</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>tmp <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"malloc fail"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">exit</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	hp<span class="token operator">-&gt;</span>a <span class="token operator">=</span> tmp<span class="token punctuation">;</span>
	<span class="token function">memcpy</span><span class="token punctuation">(</span>hp<span class="token operator">-&gt;</span>a<span class="token punctuation">,</span> arr<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>HpDataType<span class="token punctuation">)</span> <span class="token operator">*</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>
	hp<span class="token operator">-&gt;</span>size <span class="token operator">=</span> n<span class="token punctuation">;</span>
	hp<span class="token operator">-&gt;</span>capacity <span class="token operator">=</span> n<span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span><span class="token comment">//ä»æœ€åä¸€ä¸ªå…ƒç´ å¼€å§‹</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">AdjustDown</span><span class="token punctuation">(</span>hp<span class="token operator">-&gt;</span>a<span class="token punctuation">,</span> n<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">HeapDestroy</span><span class="token punctuation">(</span>Heap<span class="token operator">*</span> hp<span class="token punctuation">)</span><span class="token comment">//é”€æ¯å †</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>hp<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">free</span><span class="token punctuation">(</span>hp<span class="token operator">-&gt;</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
	hp<span class="token operator">-&gt;</span>size <span class="token operator">=</span> hp<span class="token operator">-&gt;</span>capacity <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="6_TopK_512"></a>6. Top-Ké—®é¢˜</h3> 
<h4><a id="61__514"></a>6.1. é—®é¢˜åˆ†æ</h4> 
<p>Top-Ké—®é¢˜ç®€å•æ¥è¯´å°±æ˜¯<strong>æ±‚æ•°æ®ç»“åˆä¸­å‰Kä¸ªæœ€å¤§çš„å…ƒç´ æˆ–è€…æœ€å°çš„å…ƒç´ </strong>ï¼Œä¸€èˆ¬æƒ…å†µä¸‹æ•°æ®é‡éƒ½æ¯”è¾ƒå¤§ã€‚è¿™ä¸ªé—®é¢˜åœ¨æˆ‘ä»¬æ—¥å¸¸ç”Ÿæ´»ä¸­éå¸¸å¸¸è§ï¼Œæ¯”å¦‚è¯´ï¼šæ¸¸æˆä¸­æ´»è·ƒåº¦å‰åçš„ç©å®¶ï¼Œä¸–ç•Œäº”ç™¾å¼ºä¼ä¸šç­‰ç­‰ã€‚</p> 
<p>è§£å†³è¿™ä¸ªé—®é¢˜å¸¸è§çš„æ€è·¯å°±æ˜¯éå†æˆ–è€…æ’åºï¼Œä½†æ˜¯å½“æ•°æ®é‡è¾ƒå¤§æ—¶è¿™ç§æ–¹æ³•å°±å¹¶ä¸é€‚ç”¨äº†ã€‚è¿™æ—¶æˆ‘ä»¬å°±éœ€è¦å»ºå †æ¥å¤„ç†ï¼Œå…·ä½“æ“ä½œæ–¹æ³•å¦‚ä¸‹ï¼š</p> 
<ol><li>ç”¨æ•°æ®é›†åˆä¸­å‰Kä¸ªå…ƒç´ æ¥å»ºå †ã€‚</li></ol> 
<ul><li><strong>å‰kä¸ªæœ€å¤§çš„å…ƒç´ ï¼Œåˆ™å»ºå°å †ã€‚</strong></li><li><strong>å‰kä¸ªæœ€å°çš„å…ƒç´ ï¼Œåˆ™å»ºå¤§å †ã€‚</strong></li><li>ç”¨å‰©ä½™çš„N - Kä¸ªå…ƒç´ ä¾æ¬¡ä¸å †é¡¶å…ƒç´ æ¥æ¯”è¾ƒï¼Œä¸æ»¡è¶³æ¡ä»¶åˆ™æ›¿æ¢å †é¡¶å…ƒç´ ã€‚</li></ul> 
<pre><code class="prism language-c"><span class="token keyword">void</span> <span class="token function">TopK</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">,</span> <span class="token keyword">int</span> k<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">//å»ºå †</span>
	<span class="token keyword">int</span><span class="token operator">*</span> kminHeap <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">*</span> k<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>kminHeap <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"malloc fail"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">exit</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//å°†å‰kä¸ªæ•°æ®æ”¾å…¥å †ä¸­</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> k<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		kminHeap<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//å‘ä¸‹è°ƒæ•´æ³•å»ºå°å †</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token punctuation">(</span>k <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">AdjustDown</span><span class="token punctuation">(</span>kminHeap<span class="token punctuation">,</span> k<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//ä¾æ¬¡æ¯”è¾ƒ</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> k<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> kminHeap<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			kminHeap<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
			<span class="token function">AdjustDown</span><span class="token punctuation">(</span>kminHeap<span class="token punctuation">,</span> k<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> k<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> kminHeap<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">free</span><span class="token punctuation">(</span>kminHeap<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">TestTopk</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token number">10000</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span><span class="token operator">*</span> a <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">*</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">srand</span><span class="token punctuation">(</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">size_t</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">1000000</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	a<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1000000</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
	a<span class="token punctuation">[</span><span class="token number">1231</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1000000</span> <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">;</span>
	a<span class="token punctuation">[</span><span class="token number">531</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1000000</span> <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">;</span>
	a<span class="token punctuation">[</span><span class="token number">5121</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1000000</span> <span class="token operator">+</span> <span class="token number">4</span><span class="token punctuation">;</span>
	a<span class="token punctuation">[</span><span class="token number">115</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1000000</span> <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">;</span>
	a<span class="token punctuation">[</span><span class="token number">2335</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1000000</span> <span class="token operator">+</span> <span class="token number">6</span><span class="token punctuation">;</span>
	a<span class="token punctuation">[</span><span class="token number">9999</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1000000</span> <span class="token operator">+</span> <span class="token number">7</span><span class="token punctuation">;</span>
	a<span class="token punctuation">[</span><span class="token number">76</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1000000</span> <span class="token operator">+</span> <span class="token number">8</span><span class="token punctuation">;</span>
	a<span class="token punctuation">[</span><span class="token number">423</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1000000</span> <span class="token operator">+</span> <span class="token number">9</span><span class="token punctuation">;</span>
	a<span class="token punctuation">[</span><span class="token number">3144</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1000000</span> <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">;</span>
	<span class="token function">TopK</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> n<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/fe/95/636xcoIG_o.png" alt="img"></p> 
<h4><a id="62__587"></a>6.2. å¤æ‚åº¦åˆ†æ</h4> 
<ul><li>æ—¶é—´å¤æ‚åº¦ï¼šå»ºå †æ—¶é—´ä¸ºKï¼Œå‘ä¸‹è°ƒæ•´çš„æœ€åæ—¶é—´ä¸º(N-K)*logKã€‚æ‰€ä»¥æ—¶é—´å¤æ‚åº¦ä¸ºNlogKã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼šå»ºå †ä¼šå¼€è¾ŸKçš„ä¸ªç©ºé—´ï¼Œæ‰€ä»¥ç©ºé—´å¤æ‚åº¦ä¸ºlogKã€‚</li></ul>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/1d77c693557e54e836122b25bc56f76f/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">JavaSE--ç±»å’Œå¯¹è±¡Â·ä¸‹</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b0cca9366b24bca478ffbff2c775a21f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">å…¶å®ƒé«˜é˜¶æ•°æ®ç»“æ„â‘ _å¹¶æŸ¥é›†ï¼ˆæ¦‚å¿µ&#43;ä»£ç &#43;ä¸¤é“OJï¼‰</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ç¼–ç¨‹å¤§å’–.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>