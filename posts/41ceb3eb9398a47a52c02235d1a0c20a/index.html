<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>用Java编写简单的计算器 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/41ceb3eb9398a47a52c02235d1a0c20a/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="用Java编写简单的计算器">
  <meta property="og:description" content="目录
1.思路与分析
2.程序代码及分析
3.总结
1.思路与分析 首先我们需要提供一个面板，一些按钮，一个文本框，它可以实现简单的加，减，乘，除，接着我们可以将这些想法付诸行动。
2.程序代码及分析 package ap1; import javax.swing.*; import java.awt.*; import java.awt.event.*; import javax.swing.JFrame; public class Calculator extends JFrame implements ActionListener{ JTextField textField; //定义一个文本框 //定义一些按钮 JButton buttonAdd, buttonSubtract, buttonMultiply, buttonDivide, buttonEquals,buttonPoint,buttonClear; JPanel panelMain; //定义一个面板 double num1, num2; char operator; public Calculator() { //设置窗口名字，大小 setTitle(&#34;简易计算器&#34;); setSize(350, 350); textField = new JTextField(30); textField.setEditable(false); //添加按钮 buttonAdd = new JButton(&#34;&#43;&#34;); buttonSubtract = new JButton(&#34;-&#34;); buttonMultiply = new JButton(&#34;*&#34;); buttonDivide = new JButton(&#34;">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2023-12-16T20:39:23+08:00">
    <meta property="article:modified_time" content="2023-12-16T20:39:23+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">用Java编写简单的计算器</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h3 id="1.%E6%80%9D%E8%B7%AF%E4%B8%8E%E5%88%86%E6%9E%90"></h3> 
<p id="main-toc"><strong>目录</strong></p> 
<p id="1.%E6%80%9D%E8%B7%AF%E4%B8%8E%E5%88%86%E6%9E%90-toc" style="margin-left:40px;"><a href="#1.%E6%80%9D%E8%B7%AF%E4%B8%8E%E5%88%86%E6%9E%90" rel="nofollow">1.思路与分析</a></p> 
<p id="2.%E7%A8%8B%E5%BA%8F%E4%BB%A3%E7%A0%81%E5%8F%8A%E5%88%86%E6%9E%90-toc" style="margin-left:40px;"><a href="#2.%E7%A8%8B%E5%BA%8F%E4%BB%A3%E7%A0%81%E5%8F%8A%E5%88%86%E6%9E%90" rel="nofollow">2.程序代码及分析</a></p> 
<p id="3.%E6%80%BB%E7%BB%93-toc" style="margin-left:40px;"><a href="#3.%E6%80%BB%E7%BB%93" rel="nofollow">3.总结</a></p> 
<hr id="hr-toc"> 
<h3 style="background-color:transparent;">1.思路与分析</h3> 
<p>首先我们需要提供一个面板，一些按钮，一个文本框，它可以实现简单的加，减，乘，除，接着我们可以将这些想法付诸行动。</p> 
<h3 id="2.%E7%A8%8B%E5%BA%8F%E4%BB%A3%E7%A0%81%E5%8F%8A%E5%88%86%E6%9E%90" style="background-color:transparent;">2.程序代码及分析</h3> 
<pre><code class="language-java">package ap1;
import javax.swing.*;
import java.awt.*;
import java.awt.event.*;
import javax.swing.JFrame;

public class Calculator extends JFrame implements ActionListener{
    
	   JTextField textField;  //定义一个文本框
	   //定义一些按钮
	   JButton buttonAdd, buttonSubtract, buttonMultiply, buttonDivide, buttonEquals,buttonPoint,buttonClear;
	   JPanel panelMain; //定义一个面板
	   double num1, num2;
	   char operator;

	  public Calculator() {
		//设置窗口名字，大小
	    setTitle("简易计算器");
	    setSize(350, 350);

	    textField = new JTextField(30);
	    textField.setEditable(false);
	    //添加按钮
	    buttonAdd = new JButton("+");
	    buttonSubtract = new JButton("-");
	    buttonMultiply = new JButton("*");
	    buttonDivide = new JButton("/");
	    buttonEquals = new JButton("=");
	    buttonClear = new JButton("清除");
	    
	    panelMain = new JPanel(new GridLayout(4,5)); //网格式布局，四行五列
	    panelMain.add(buttonAdd);
	    panelMain.add(buttonSubtract);
	    panelMain.add(buttonMultiply);
	    panelMain.add(buttonDivide);
	    panelMain.add(buttonEquals);
	    panelMain.add(buttonClear);
	    //添加监听
	    buttonAdd.addActionListener(this);
	    buttonSubtract.addActionListener(this); 
	    buttonMultiply.addActionListener(this); 
	    buttonDivide.addActionListener(this); 
	    buttonEquals.addActionListener(this); 
	    buttonClear.addActionListener(this);
	    //添加1到9的按钮
	    for (int i = 1; i &lt;= 9; i++) {
	      JButton button = new JButton("" + i);
	      button.addActionListener(this);  
	      panelMain.add(button);
	    }
        //设置添加0这个特殊的按钮

	    panelMain.add(new JButton());
	    JButton button0 = new JButton("0");
	    button0.addActionListener(this);   
	    panelMain.add(button0);
	    panelMain.add(new JButton());

	    Container container = getContentPane();
	    container.setLayout(new BorderLayout());

	    container.add(textField, BorderLayout.NORTH);
	    container.add(panelMain, BorderLayout.CENTER);
	         // 设置界面置顶
	 		this.setAlwaysOnTop(true);
	 		// 设置界面居中
	 		this.setLocationRelativeTo(null);
	 		//结束窗口所在的应用程序
	       setDefaultCloseOperation(3);
	       setVisible(true);

}</code></pre> 
<p>这是实现窗口及按钮的代码，为了方便阅读，我添加了注释，如果不够理解可以看一看《Java2实用教程》的第九章组件及事件处理。</p> 
<pre><code class="language-java">@Override
	public void actionPerformed(ActionEvent e) {
		// TODO Auto-generated method stub
		JButton button = (JButton) e.getSource();
	      String buttonText = button.getText();

	      if (buttonText.equals("清除")) {
	        num1 = 0;
	        num2 = 0;
	        operator = ' ';
	        textField.setText("");
	      } else if (buttonText.matches("[0-9]")) {
	        if (operator == ' ') {
	          num1 = num1 * 10 + Double.parseDouble(buttonText);
	        } else {
	          num2 = num2 * 10 + Double.parseDouble(buttonText);
	        }
	        textField.setText(textField.getText() + buttonText);
	      } else if (buttonText.matches("[+\\-*/]")) {
	        if (operator != ' ') {
	          calculate();
	        }
	        operator = buttonText.charAt(0);
	        textField.setText(textField.getText() + buttonText);
	      } else if (buttonText.equals("=")) {
	        calculate();
	        operator = ' ';
	      }
	}</code></pre> 
<p>这段代码是事件监听器中的一个方法actionPerformed，它用于响应用户在计算器上点击按钮时的事件。当用户选择了一个按钮时，button对象代表了发生事件的按钮，而buttonText则代表了发生事件的按钮的文本内容。<br> 首先通过判断if (buttonText.equals("清除"))，来判断用户是点击了“清除”按钮，如果是该按钮，则会将 num1,num2,operator 等参数清零，文本框textField 也将置为空。接着，通过判断if (buttonText.matches("[0-9]"))。如果用户选择了一个数字按钮，则首先需要检查operator变量是否为空，如果是，则代表用户正在输入第一个数字，此时需要将num1乘以10再加上当前输入的数字；否则代表用户正在输入第二个数字，此时需要将num2乘以10再加上输入的数字。另外，同时需要把数字文本追加到textField的文本末尾，便于用户看到自己输入的数字。<br> 接着，通过判断if (buttonText.matches("[+\\-*/]"))，来判断用户是选择了加减乘除中的一个运算符号。在这种情况下，首先需要判断operator是否为空，如果不为空，则表示此时可以立即计算出之前输入的运算，并将结果显示在textField中。然后将选择的运算符号赋值给operator，表示下一步用户需要输入第二个数字。<br> 最后，如果用户选择的是等于号“=”，则需要立即进行运算，然后将operator变量设为空。<br> 注意到，对于数字和运算符号的判断语句里使用了正则表达式的语法，用来判断字符串是否符合特定的格式。在这里，[0-9]表示任何一个数字字符，而[+\-*/]表示加、减、乘、除中的一个。</p> 
<pre><code class="language-java">private void calculate() {
	      double result = 0;

	      switch (operator) {
	        case '+':
	          result = num1 + num2;
	          break;
	        case '-':
	          result = num1 - num2;
	          break;
	        case '*':
	          result = num1 * num2;
	          break;
	        case '/':
	          if (num2 != 0) {
	            result = num1 / num2;
	          } else {
	            System.out.println("除数不能为0！");
	          }
	          break;
	      }

	      num1 = result;
	      num2 = 0;
	      textField.setText(String.valueOf(result));
	    }
	public static void main(String[] args) {
	    new Calculator();
	  }
}  </code></pre> 
<p>这段代码是实现加减乘除的函数方法。</p> 
<p>完整代码</p> 
<pre><code class="language-java">package ap1;
import javax.swing.*;
import java.awt.*;
import java.awt.event.*;
import javax.swing.JFrame;

public class Calculator extends JFrame implements ActionListener{
    
	   JTextField textField;  //定义一个文本框
	   //定义一些按钮
	   JButton buttonAdd, buttonSubtract, buttonMultiply, buttonDivide, buttonEquals,buttonPoint,buttonClear;
	   JPanel panelMain; //定义一个面板
	   double num1, num2;
	   char operator;

	  public Calculator() {
		//设置窗口名字，大小
	    setTitle("简易计算器");
	    setSize(350, 350);

	    textField = new JTextField(30);
	    textField.setEditable(false);
	    //添加按钮
	    buttonAdd = new JButton("+");
	    buttonSubtract = new JButton("-");
	    buttonMultiply = new JButton("*");
	    buttonDivide = new JButton("/");
	    buttonEquals = new JButton("=");
	    buttonClear = new JButton("清除");
	    
	    panelMain = new JPanel(new GridLayout(4,5)); //网格式布局，四行五列
	    panelMain.add(buttonAdd);
	    panelMain.add(buttonSubtract);
	    panelMain.add(buttonMultiply);
	    panelMain.add(buttonDivide);
	    panelMain.add(buttonEquals);
	    panelMain.add(buttonClear);
	    //添加监听
	    buttonAdd.addActionListener(this);
	    buttonSubtract.addActionListener(this); 
	    buttonMultiply.addActionListener(this); 
	    buttonDivide.addActionListener(this); 
	    buttonEquals.addActionListener(this); 
	    buttonClear.addActionListener(this);
	    //添加1到9的按钮
	    for (int i = 1; i &lt;= 9; i++) {
	      JButton button = new JButton("" + i);
	      button.addActionListener(this);  
	      panelMain.add(button);
	    }

	    panelMain.add(new JButton());
	    JButton button0 = new JButton("0");
	    button0.addActionListener(this);   
	    panelMain.add(button0);
	    panelMain.add(new JButton());

	    Container container = getContentPane();
	    container.setLayout(new BorderLayout());

	    container.add(textField, BorderLayout.NORTH);
	    container.add(panelMain, BorderLayout.CENTER);
	         // 设置界面置顶
	 		this.setAlwaysOnTop(true);
	 		// 设置界面居中
	 		this.setLocationRelativeTo(null);
	 		//结束窗口所在的应用程序
	       setDefaultCloseOperation(3);
	       setVisible(true);

}

	@Override
	public void actionPerformed(ActionEvent e) {
		// TODO Auto-generated method stub
		JButton button = (JButton) e.getSource();
	      String buttonText = button.getText();

	      if (buttonText.equals("清除")) {
	        num1 = 0;
	        num2 = 0;
	        operator = ' ';
	        textField.setText("");
	      } else if (buttonText.matches("[0-9]")) {
	        if (operator == ' ') {
	          num1 = num1 * 10 + Double.parseDouble(buttonText);
	        } else {
	          num2 = num2 * 10 + Double.parseDouble(buttonText);
	        }
	        textField.setText(textField.getText() + buttonText);
	      } else if (buttonText.matches("[+\\-*/]")) {
	        if (operator != ' ') {
	          calculate();
	        }
	        operator = buttonText.charAt(0);
	        textField.setText(textField.getText() + buttonText);
	      } else if (buttonText.equals("=")) {
	        calculate();
	        operator = ' ';
	      }
	}
	
	private void calculate() {
	      double result = 0;

	      switch (operator) {
	        case '+':
	          result = num1 + num2;
	          break;
	        case '-':
	          result = num1 - num2;
	          break;
	        case '*':
	          result = num1 * num2;
	          break;
	        case '/':
	          if (num2 != 0) {
	            result = num1 / num2;
	          } else {
	            System.out.println("除数不能为0！");
	          }
	          break;
	      }

	      num1 = result;
	      num2 = 0;
	      textField.setText(String.valueOf(result));
	    }
	public static void main(String[] args) {
	    new Calculator();
	  }
}  
</code></pre> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/53/66/Wh5HweFJ_o.png"></p> 
<h3 id="3.%E6%80%BB%E7%BB%93" style="background-color:transparent;">3.总结</h3> 
<p>以上就是简单的计算器的代码实现及分析，大家有兴趣可以自己去试试。</p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/032768d257b88936fc82af56733e197d/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Python-pip国内常用镜像及使用方法</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/d96a4783f3d606b6613fb7b822552243/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Python tkinter 初探Toplevel控件搭建父子窗口</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>