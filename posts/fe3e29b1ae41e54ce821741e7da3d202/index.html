<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>重建controlfile后发现后datafile 漏了 rman catalog recovery area - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/fe3e29b1ae41e54ce821741e7da3d202/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="重建controlfile后发现后datafile 漏了 rman catalog recovery area">
  <meta property="og:description" content="SYMPTOMS ORA-01110: data file 10: &#39;/refresh/home/app/19.3.0.0/oracle/product/19.3.0.0/dbhome_6/dbs/MISSING00010&#39;
ORA-01565: error in identifying file &#39;/refresh/home/app/19.3.0.0/oracle/product/19.3.0.0/dbhome_6/dbs/MISSING00010&#39;
ORA-27037: unable to obtain file status
SYS AS SYSDBA&gt;select name from v$datafile;
NAME
--------------------------------------------------------------------------------
/refresh/home/app/19.3.0.0/oracle/oradata/ORCL19300/system01.dbf
/refresh/home/app/19.3.0.0/oracle/oradata/ORCL19300/test01.dbf
/refresh/home/app/19.3.0.0/oracle/oradata/ORCL19300/sysaux01.dbf
/refresh/home/app/19.3.0.0/oracle/oradata/ORCL19300/undotbs01.dbf
/refresh/home/app/19.3.0.0/oracle/oradata/ORCL19300/rman01.dbf
/refresh/home/app/19.3.0.0/oracle/oradata/ORCL19300/users01.dbf
/refresh/home/app/19.3.0.0/oracle/oradata/ORCL19300/test02_01.dbf
/refresh/home/app/19.3.0.0/oracle/oradata/ORCL19300/test02_02.dbf
/refresh/home/app/19.3.0.0/oracle/product/19.3.0.0/dbhome_6/dbs/MISSING00010
CHANGES Customer recreated the controlfile
CAUSE Customer recreated the controlfile, and one of the datafile missed in create controlfile statment.
SOLUTION If the datafile exists on the filesystem, and DB was opened with resetlogs, after recreating the controlfile,">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-07-01T01:13:50+08:00">
    <meta property="article:modified_time" content="2024-07-01T01:13:50+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">重建controlfile后发现后datafile 漏了 rman catalog recovery area</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h3>SYMPTOMS</h3> 
<p>ORA-01110: data file 10: '/refresh/home/app/19.3.0.0/oracle/product/19.3.0.0/dbhome_6/dbs/MISSING00010'<br> ORA-01565: error in identifying file '/refresh/home/app/19.3.0.0/oracle/product/19.3.0.0/dbhome_6/dbs/MISSING00010'<br> ORA-27037: unable to obtain file status<br>  </p> 
<p>SYS AS SYSDBA&gt;select name from v$datafile;</p> 
<p>NAME<br> --------------------------------------------------------------------------------<br> /refresh/home/app/19.3.0.0/oracle/oradata/ORCL19300/system01.dbf<br> /refresh/home/app/19.3.0.0/oracle/oradata/ORCL19300/test01.dbf<br> /refresh/home/app/19.3.0.0/oracle/oradata/ORCL19300/sysaux01.dbf<br> /refresh/home/app/19.3.0.0/oracle/oradata/ORCL19300/undotbs01.dbf<br> /refresh/home/app/19.3.0.0/oracle/oradata/ORCL19300/rman01.dbf<br> /refresh/home/app/19.3.0.0/oracle/oradata/ORCL19300/users01.dbf<br> /refresh/home/app/19.3.0.0/oracle/oradata/ORCL19300/test02_01.dbf<br> /refresh/home/app/19.3.0.0/oracle/oradata/ORCL19300/test02_02.dbf<br> /refresh/home/app/19.3.0.0/oracle/product/19.3.0.0/dbhome_6/dbs/MISSING00010</p> 
<p></p> 
<h3><a name="CHANGE"></a>CHANGES</h3> 
<p> Customer recreated the controlfile</p> 
<h3><a name="CAUSE"></a>CAUSE</h3> 
<p>Customer recreated the controlfile, and one of the datafile missed in create controlfile statment.<br>  </p> 
<h3><a name="FIX"></a>SOLUTION</h3> 
<p> If the datafile exists on the filesystem, and DB was opened with resetlogs, after recreating the controlfile,</p> 
<p>Option 1: If datafile still exists on filesystem (available at OS level)</p> 
<p>======</p> 
<p>Restart the database in mount mode and rename the datafile</p> 
<p>SYS AS SYSDBA&gt;shu immediate<br> Database closed.<br> Database dismounted.<br> ORACLE instance shut down.<br> SYS AS SYSDBA&gt;startup mount<br> ORACLE instance started.</p> 
<p>Total System Global Area 2063595328 bytes<br> Fixed Size 8898368 bytes<br> Variable Size 704643072 bytes<br> Database Buffers 1342177280 bytes<br> Redo Buffers 7876608 bytes<br> Database mounted.<br> SYS AS SYSDBA&gt;alter database rename file '/refresh/home/app/19.3.0.0/oracle/product/19.3.0.0/dbhome_6/dbs/MISSING00010' to '/refresh/home/app/19.3.0.0/oracle/oradata/ORCL19300/test02_03.dbf';</p> 
<p>Database altered.</p> 
<p>SYS AS SYSDBA&gt;select FILE#,STATUS,ERROR,RESETLOGS_TIME,CHECKPOINT_COUNT from v$datafile_header;</p> 
<p>FILE# STATUS ERROR RESETLOGS CHECKPOINT_COUNT<br> ---------- ------- ----------------------------------------------------------------- --------- ----------------<br> 1 ONLINE 27-OCT-23 1645<br> 2 ONLINE 27-OCT-23 1173<br> 3 ONLINE 27-OCT-23 1634<br> 4 ONLINE 27-OCT-23 1589<br> 5 ONLINE 27-OCT-23 1319<br> 7 ONLINE 27-OCT-23 1632<br> 8 ONLINE 27-OCT-23 1047<br> 9 ONLINE 27-OCT-23 1043<br> 10 OFFLINE WRONG RESETLOGS 08-MAY-23 420</p> 
<p>9 rows selected.</p> 
<p></p> 
<p> Now run recover datafile command and bring it back to online (in mount mode only</p> 
<p>RMAN&gt; recover datafile 10;</p> 
<p>Starting recover at 27-OCT-23<br> using target database control file instead of recovery catalog<br> allocated channel: ORA_DISK_1<br> channel ORA_DISK_1: SID=130 device type=DISK</p> 
<p>starting media recovery<br> media recovery complete, elapsed time: 00:00:00</p> 
<p>Finished recover at 27-OCT-23</p> 
<p>RMAN&gt; alter database datafile 10 online;</p> 
<p>Statement processed</p> 
<p>RMAN&gt; alter database open;</p> 
<p>Statement processed</p> 
<p>RMAN&gt; alter system checkpoint;</p> 
<p>Statement processed</p> 
<p>RMAN&gt;</p> 
<p></p> 
<p> Now check the Datafile status again</p> 
<p>SYS AS SYSDBA&gt;select FILE#,STATUS,ERROR,RESETLOGS_TIME,CHECKPOINT_COUNT from v$datafile_header;</p> 
<p>FILE# STATUS ERROR RESETLOGS CHECKPOINT_COUNT<br> ---------- ------- ----------------------------------------------------------------- --------- ----------------<br> 1 ONLINE 27-OCT-23 1647<br> 2 ONLINE 27-OCT-23 1175<br> 3 ONLINE 27-OCT-23 1636<br> 4 ONLINE 27-OCT-23 1591<br> 5 ONLINE 27-OCT-23 1321<br> 7 ONLINE 27-OCT-23 1634<br> 8 ONLINE 27-OCT-23 1049<br> 9 ONLINE 27-OCT-23 1045<br> 10 ONLINE 27-OCT-23 423</p> 
<p>9 rows selected.</p> 
<p> Option 2:- If datafile does not exists at OS level, but the backup does exists, prior to recreating the controlfile</p> 
<p>Try to restore datafile with set new name</p> 
<p>RMAN&gt; run {<!-- --><br> 2&gt; set newname for datafile 10 to '/refresh/home/app/19.3.0.0/oracle/oradata/ORCL19300/test02_03.dbf';<br> 3&gt; restore datafile 10;<br> 4&gt; recover datafile 10;<br> 5&gt; }</p> 
<p>executing command: SET NEWNAME</p> 
<p>Starting restore at 27-OCT-23<br> allocated channel: ORA_DISK_1<br> channel ORA_DISK_1: SID=139 device type=DISK</p> 
<p>RMAN-00571: ===========================================================<br> RMAN-00569: =============== ERROR MESSAGE STACK FOLLOWS ===============<br> RMAN-00571: ===========================================================<br> RMAN-03002: failure of restore command at 10/27/2023 07:03:24<br> RMAN-06026: some targets not found - aborting restore<br> RMAN-06023: no backup or copy of datafile 10 found to restore</p> 
<p>RMAN&gt; list incarnation;</p> 
<p>List of Database Incarnations<br> DB Key Inc Key DB Name DB ID STATUS Reset SCN Reset Time<br> ------- ------- -------- ---------------- --- ---------- ----------<br> 1 1 ORCL1930 4194918935 PARENT 85128967 27-OCT-23<br> 2 2 ORCL1930 4194918935 CURRENT 85135204 27-OCT-23</p> 
<p></p> 
<p><span style="color:#fe2c24;">RMAN&gt; catalog recovery area;   没有用catalog start with</span></p> 
<p>searching for all files in the recovery area</p> 
<p>List of Files Unknown to the Database<br> =====================================<br> File Name: /refresh/home/FRA/ORCL19300/autobackup/2023_10_27/o1_mf_s_1151300790_lmpmopc3_.bkp<br> File Name: /refresh/home/FRA/ORCL19300/autobackup/2023_10_27/o1_mf_s_1151302951_lmpos84h_.bkp<br> File Name: /refresh/home/FRA/ORCL19300/autobackup/2023_10_27/o1_mf_s_1151300699_lmpmlw81_.bkp<br> File Name: /refresh/home/FRA/ORCL19300/autobackup/2023_10_27/o1_mf_s_1151300777_lmpmo9jm_.bkp<br> File Name: /refresh/home/FRA/ORCL19300/autobackup/2023_10_27/o1_mf_s_1151302142_lmpnzy9s_.bkp<br> File Name: /refresh/home/FRA/ORCL19300/backupset/2023_10_27/o1_mf_nnnd0_TAG20231027T054402_lmpmk3y8_.bkp<br> File Name: /refresh/home/FRA/ORCL19300/backupset/2023_10_27/o1_mf_annnn_TAG20231027T054616_lmpmo8p4_.bkp<br> File Name: /refresh/home/FRA/ORCL19300/backupset/2023_10_27/o1_mf_ncnnf_TAG20231027T054627_lmpmoo1g_.bkp<br> File Name: /refresh/home/FRA/ORCL19300/backupset/2023_10_27/o1_mf_annnn_TAG20231027T054616_lmpmo8kx_.bkp<br> File Name: /refresh/home/FRA/ORCL19300/backupset/2023_10_27/o1_mf_annnn_TAG20231027T054616_lmpmo8n5_.bkp<br> File Name: /refresh/home/FRA/ORCL19300/backupset/2023_10_27/o1_mf_nnnd0_TAG20231027T054402_lmpmk3wq_.bkp<br> File Name: /refresh/home/FRA/ORCL19300/backupset/2023_10_27/o1_mf_nnnd0_TAG20231027T054402_lmpmk3ym_.bkp<br> File Name: /refresh/home/FRA/ORCL19300/backupset/2023_10_27/o1_mf_annnn_TAG20231027T054616_lmpmo8tw_.bkp<br> File Name: /refresh/home/FRA/ORCL19300/backupset/2023_10_27/o1_mf_annnn_TAG20231027T054616_lmpmo8j8_.bkp<br> File Name: /refresh/home/FRA/ORCL19300/flashback/o1_mf_lkwz7y30_.flb<br> File Name: /refresh/home/FRA/ORCL19300/flashback/o1_mf_l9r86g2c_.flb<br> File Name: /refresh/home/FRA/ORCL19300/flashback/o1_mf_l9oqd3qp_.flb<br> File Name: /refresh/home/FRA/ORCL19300/flashback/o1_mf_l99k5615_.flb<br> File Name: /refresh/home/FRA/ORCL19300/flashback/o1_mf_l9pq3ktv_.flb<br> File Name: /refresh/home/FRA/ORCL19300/archivelog/2023_10_27/o1_mf_1_159_lmpnq334_.arc<br> File Name: /refresh/home/FRA/ORCL19300/archivelog/2023_10_27/o1_mf_1_161_lmpnq61r_.arc<br> File Name: /refresh/home/FRA/ORCL19300/archivelog/2023_10_27/o1_mf_1_160_lmpnq57v_.arc<br> File Name: /refresh/home/FRA/ORCL19300/archivelog/2023_10_27/o1_mf_1_160_lmpnzlt2_.arc<br> File Name: /refresh/home/FRA/ORCL19300/archivelog/2023_10_27/o1_mf_1_158_lmpnq1qq_.arc<br> File Name: /refresh/home/FRA/ORCL19300/archivelog/2023_10_27/o1_mf_1_161_lmpnzlvv_.arc<br> File Name: /refresh/home/FRA/ORCL19300/archivelog/2023_10_27/o1_mf_1_162_lmpnzlxg_.arc</p> 
<p>Do you really want to catalog the above files (enter YES or NO)? yes<br> cataloging files...<br> cataloging done</p> 
<p>List of Cataloged Files<br> =======================<br> File Name: /refresh/home/FRA/ORCL19300/autobackup/2023_10_27/o1_mf_s_1151300790_lmpmopc3_.bkp<br> File Name: /refresh/home/FRA/ORCL19300/autobackup/2023_10_27/o1_mf_s_1151302951_lmpos84h_.bkp<br> File Name: /refresh/home/FRA/ORCL19300/autobackup/2023_10_27/o1_mf_s_1151300699_lmpmlw81_.bkp<br> File Name: /refresh/home/FRA/ORCL19300/autobackup/2023_10_27/o1_mf_s_1151300777_lmpmo9jm_.bkp<br> File Name: /refresh/home/FRA/ORCL19300/autobackup/2023_10_27/o1_mf_s_1151302142_lmpnzy9s_.bkp<br> File Name: /refresh/home/FRA/ORCL19300/backupset/2023_10_27/o1_mf_nnnd0_TAG20231027T054402_lmpmk3y8_.bkp<br> File Name: /refresh/home/FRA/ORCL19300/backupset/2023_10_27/o1_mf_annnn_TAG20231027T054616_lmpmo8p4_.bkp<br> File Name: /refresh/home/FRA/ORCL19300/backupset/2023_10_27/o1_mf_ncnnf_TAG20231027T054627_lmpmoo1g_.bkp<br> File Name: /refresh/home/FRA/ORCL19300/backupset/2023_10_27/o1_mf_annnn_TAG20231027T054616_lmpmo8kx_.bkp<br> File Name: /refresh/home/FRA/ORCL19300/backupset/2023_10_27/o1_mf_annnn_TAG20231027T054616_lmpmo8n5_.bkp<br> File Name: /refresh/home/FRA/ORCL19300/backupset/2023_10_27/o1_mf_nnnd0_TAG20231027T054402_lmpmk3wq_.bkp<br> File Name: /refresh/home/FRA/ORCL19300/backupset/2023_10_27/o1_mf_nnnd0_TAG20231027T054402_lmpmk3ym_.bkp<br> File Name: /refresh/home/FRA/ORCL19300/backupset/2023_10_27/o1_mf_annnn_TAG20231027T054616_lmpmo8tw_.bkp<br> File Name: /refresh/home/FRA/ORCL19300/backupset/2023_10_27/o1_mf_annnn_TAG20231027T054616_lmpmo8j8_.bkp<br> File Name: /refresh/home/FRA/ORCL19300/archivelog/2023_10_27/o1_mf_1_159_lmpnq334_.arc<br> File Name: /refresh/home/FRA/ORCL19300/archivelog/2023_10_27/o1_mf_1_161_lmpnq61r_.arc<br> File Name: /refresh/home/FRA/ORCL19300/archivelog/2023_10_27/o1_mf_1_160_lmpnq57v_.arc<br> File Name: /refresh/home/FRA/ORCL19300/archivelog/2023_10_27/o1_mf_1_160_lmpnzlt2_.arc<br> File Name: /refresh/home/FRA/ORCL19300/archivelog/2023_10_27/o1_mf_1_158_lmpnq1qq_.arc<br> File Name: /refresh/home/FRA/ORCL19300/archivelog/2023_10_27/o1_mf_1_161_lmpnzlvv_.arc<br> File Name: /refresh/home/FRA/ORCL19300/archivelog/2023_10_27/o1_mf_1_162_lmpnzlxg_.arc</p> 
<p></p> 
<p>RMAN&gt; run {<!-- --><br> 2&gt; set newname for datafile 10 to '/refresh/home/app/19.3.0.0/oracle/oradata/ORCL19300/test02_03.dbf';<br> 3&gt; restore datafile 10;<br><span style="color:#fe2c24;">4&gt; recover datafile 10;</span><br> 5&gt; }</p> 
<p>executing command: SET NEWNAME</p> 
<p>Starting restore at 27-OCT-23<br> using channel ORA_DISK_1</p> 
<p>channel ORA_DISK_1: starting datafile backup set restore<br> channel ORA_DISK_1: specifying datafile(s) to restore from backup set<br> channel ORA_DISK_1: restoring datafile 00010 to /refresh/home/app/19.3.0.0/oracle/oradata/ORCL19300/test02_03.dbf<br> channel ORA_DISK_1: reading from backup piece /refresh/home/FRA/ORCL19300/backupset/2023_10_27/o1_mf_nnnd0_TAG20231027T054402_lmpmk3y8_.bkp<br> channel ORA_DISK_1: piece handle=/refresh/home/FRA/ORCL19300/backupset/2023_10_27/o1_mf_nnnd0_TAG20231027T054402_lmpmk3y8_.bkp tag=TAG20231027T054402<br> channel ORA_DISK_1: restored backup piece 1<br> channel ORA_DISK_1: restore complete, elapsed time: 00:00:01<br> Finished restore at 27-OCT-23</p> 
<p>Starting recover at 27-OCT-23<br> using channel ORA_DISK_1</p> 
<p>starting media recovery<br> media recovery failed<br> RMAN-00571: ===========================================================<br> RMAN-00569: =============== ERROR MESSAGE STACK FOLLOWS ===============<br> RMAN-00571: ===========================================================<br> RMAN-03002: failure of recover command at 10/27/2023 07:05:35<br> ORA-00283: recovery session canceled due to errors<br> RMAN-11003: failure during parse/execution of SQL statement: alter database recover<br> if needed datafile 10<br> ORA-00283: recovery session canceled due to errors<br> ORA-01111: name for data file 10 is unknown - rename to correct file<br> ORA-01110: data file 10: '/refresh/home/app/19.3.0.0/oracle/product/19.3.0.0/dbhome_6/dbs/MISSING00010'<br> ORA-01157: cannot identify/lock data file 10 - see DBWR trace file<br> ORA-01111: name for data file 10 is unknown - rename to correct file<br> ORA-01110: data file 10: '/refresh/home/app/19.3.0.0/oracle/product/19.3.0.0/dbhome_6/dbs/MISSING00010'</p> 
<p><span style="color:#fe2c24;">RMAN&gt; switch datafile 10 to copy;</span></p> 
<p>datafile 10 switched to datafile copy "/refresh/home/app/19.3.0.0/oracle/oradata/ORCL19300/test02_03.dbf"</p> 
<p>RMAN&gt; recover datafile 10;</p> 
<p>Starting recover at 27-OCT-23<br> using channel ORA_DISK_1</p> 
<p>starting media recovery</p> 
<p>archived log for thread 1 with sequence 158 is already on disk as file /refresh/home/FRA/ORCL19300/archivelog/2023_10_27/o1_mf_1_158_lmpnq1qq_.arc<br> archived log for thread 1 with sequence 159 is already on disk as file /refresh/home/FRA/ORCL19300/archivelog/2023_10_27/o1_mf_1_159_lmpnq334_.arc<br> archived log for thread 1 with sequence 160 is already on disk as file /refresh/home/FRA/ORCL19300/archivelog/2023_10_27/o1_mf_1_160_lmpnq57v_.arc<br> archived log for thread 1 with sequence 161 is already on disk as file /refresh/home/FRA/ORCL19300/archivelog/2023_10_27/o1_mf_1_161_lmpnzlvv_.arc<br> archived log for thread 1 with sequence 162 is already on disk as file /refresh/home/FRA/ORCL19300/archivelog/2023_10_27/o1_mf_1_162_lmpnzlxg_.arc<br> archived log for thread 1 with sequence 1 is already on disk as file /refresh/home/FRA/ORCL19300/archivelog/2023_10_27/o1_mf_1_1_lmpqw34o_.arc<br> channel ORA_DISK_1: starting archived log restore to default destination<br> channel ORA_DISK_1: restoring archived log<br> archived log thread=1 sequence=147<br> channel ORA_DISK_1: reading from backup piece /refresh/home/FRA/ORCL19300/backupset/2023_10_27/o1_mf_annnn_TAG20231027T054616_lmpmo8j8_.bkp<br> channel ORA_DISK_1: piece handle=/refresh/home/FRA/ORCL19300/backupset/2023_10_27/o1_mf_annnn_TAG20231027T054616_lmpmo8j8_.bkp tag=TAG20231027T054616<br> channel ORA_DISK_1: restored backup piece 1<br> channel ORA_DISK_1: restore complete, elapsed time: 00:00:01<br> archived log file name=/refresh/home/FRA/ORCL19300/archivelog/2023_10_27/o1_mf_1_147_lmprbrgl_.arc thread=1 sequence=147<br> channel default: deleting archived log(s)<br> archived log file name=/refresh/home/FRA/ORCL19300/archivelog/2023_10_27/o1_mf_1_147_lmprbrgl_.arc RECID=9 STAMP=1151305560<br> channel ORA_DISK_1: starting archived log restore to default destination<br> channel ORA_DISK_1: restoring archived log<br> archived log thread=1 sequence=148<br> channel ORA_DISK_1: restoring archived log<br> archived log thread=1 sequence=149<br> channel ORA_DISK_1: restoring archived log<br> archived log thread=1 sequence=150<br> channel ORA_DISK_1: reading from backup piece /refresh/home/FRA/ORCL19300/backupset/2023_10_27/o1_mf_annnn_TAG20231027T054616_lmpmo8kx_.bkp<br> channel ORA_DISK_1: piece handle=/refresh/home/FRA/ORCL19300/backupset/2023_10_27/o1_mf_annnn_TAG20231027T054616_lmpmo8kx_.bkp tag=TAG20231027T054616<br> channel ORA_DISK_1: restored backup piece 1<br> channel ORA_DISK_1: restore complete, elapsed time: 00:00:01<br> archived log file name=/refresh/home/FRA/ORCL19300/archivelog/2023_10_27/o1_mf_1_148_lmprbsp1_.arc thread=1 sequence=148<br> channel default: deleting archived log(s)<br> archived log file name=/refresh/home/FRA/ORCL19300/archivelog/2023_10_27/o1_mf_1_148_lmprbsp1_.arc RECID=10 STAMP=1151305561<br> archived log file name=/refresh/home/FRA/ORCL19300/archivelog/2023_10_27/o1_mf_1_149_lmprbspv_.arc thread=1 sequence=149<br> channel default: deleting archived log(s)<br> archived log file name=/refresh/home/FRA/ORCL19300/archivelog/2023_10_27/o1_mf_1_149_lmprbspv_.arc RECID=11 STAMP=1151305561<br> archived log file name=/refresh/home/FRA/ORCL19300/archivelog/2023_10_27/o1_mf_1_150_lmprbsqq_.arc thread=1 sequence=150<br> channel default: deleting archived log(s)<br> archived log file name=/refresh/home/FRA/ORCL19300/archivelog/2023_10_27/o1_mf_1_150_lmprbsqq_.arc RECID=12 STAMP=1151305561<br> channel ORA_DISK_1: starting archived log restore to default destination<br> channel ORA_DISK_1: restoring archived log<br> archived log thread=1 sequence=151<br> channel ORA_DISK_1: restoring archived log<br> archived log thread=1 sequence=152<br> channel ORA_DISK_1: restoring archived log<br> archived log thread=1 sequence=153<br> channel ORA_DISK_1: reading from backup piece /refresh/home/FRA/ORCL19300/backupset/2023_10_27/o1_mf_annnn_TAG20231027T054616_lmpmo8n5_.bkp<br> channel ORA_DISK_1: piece handle=/refresh/home/FRA/ORCL19300/backupset/2023_10_27/o1_mf_annnn_TAG20231027T054616_lmpmo8n5_.bkp tag=TAG20231027T054616<br> channel ORA_DISK_1: restored backup piece 1<br> channel ORA_DISK_1: restore complete, elapsed time: 00:00:01<br> archived log file name=/refresh/home/FRA/ORCL19300/archivelog/2023_10_27/o1_mf_1_151_lmprbtyt_.arc thread=1 sequence=151<br> channel default: deleting archived log(s)<br> archived log file name=/refresh/home/FRA/ORCL19300/archivelog/2023_10_27/o1_mf_1_151_lmprbtyt_.arc RECID=13 STAMP=1151305562<br> archived log file name=/refresh/home/FRA/ORCL19300/archivelog/2023_10_27/o1_mf_1_152_lmprbv0o_.arc thread=1 sequence=152<br> channel default: deleting archived log(s)<br> archived log file name=/refresh/home/FRA/ORCL19300/archivelog/2023_10_27/o1_mf_1_152_lmprbv0o_.arc RECID=14 STAMP=1151305563<br> archived log file name=/refresh/home/FRA/ORCL19300/archivelog/2023_10_27/o1_mf_1_153_lmprbv22_.arc thread=1 sequence=153<br> channel default: deleting archived log(s)<br> archived log file name=/refresh/home/FRA/ORCL19300/archivelog/2023_10_27/o1_mf_1_153_lmprbv22_.arc RECID=15 STAMP=1151305563<br> channel ORA_DISK_1: starting archived log restore to default destination<br> channel ORA_DISK_1: restoring archived log<br> archived log thread=1 sequence=154<br> channel ORA_DISK_1: restoring archived log<br> archived log thread=1 sequence=155<br> channel ORA_DISK_1: restoring archived log<br> archived log thread=1 sequence=156<br> channel ORA_DISK_1: reading from backup piece /refresh/home/FRA/ORCL19300/backupset/2023_10_27/o1_mf_annnn_TAG20231027T054616_lmpmo8p4_.bkp<br> channel ORA_DISK_1: piece handle=/refresh/home/FRA/ORCL19300/backupset/2023_10_27/o1_mf_annnn_TAG20231027T054616_lmpmo8p4_.bkp tag=TAG20231027T054616<br> channel ORA_DISK_1: restored backup piece 1<br> channel ORA_DISK_1: restore complete, elapsed time: 00:00:01<br> archived log file name=/refresh/home/FRA/ORCL19300/archivelog/2023_10_27/o1_mf_1_154_lmprbw98_.arc thread=1 sequence=154<br> channel default: deleting archived log(s)<br> archived log file name=/refresh/home/FRA/ORCL19300/archivelog/2023_10_27/o1_mf_1_154_lmprbw98_.arc RECID=16 STAMP=1151305564<br> archived log file name=/refresh/home/FRA/ORCL19300/archivelog/2023_10_27/o1_mf_1_155_lmprbwb3_.arc thread=1 sequence=155<br> channel default: deleting archived log(s)<br> archived log file name=/refresh/home/FRA/ORCL19300/archivelog/2023_10_27/o1_mf_1_155_lmprbwb3_.arc RECID=17 STAMP=1151305564<br> archived log file name=/refresh/home/FRA/ORCL19300/archivelog/2023_10_27/o1_mf_1_156_lmprbwbw_.arc thread=1 sequence=156<br> channel default: deleting archived log(s)<br> archived log file name=/refresh/home/FRA/ORCL19300/archivelog/2023_10_27/o1_mf_1_156_lmprbwbw_.arc RECID=18 STAMP=1151305564<br> channel ORA_DISK_1: starting archived log restore to default destination<br> channel ORA_DISK_1: restoring archived log<br> archived log thread=1 sequence=157<br> channel ORA_DISK_1: reading from backup piece /refresh/home/FRA/ORCL19300/backupset/2023_10_27/o1_mf_annnn_TAG20231027T054616_lmpmo8tw_.bkp<br> channel ORA_DISK_1: piece handle=/refresh/home/FRA/ORCL19300/backupset/2023_10_27/o1_mf_annnn_TAG20231027T054616_lmpmo8tw_.bkp tag=TAG20231027T054616<br> channel ORA_DISK_1: restored backup piece 1<br> channel ORA_DISK_1: restore complete, elapsed time: 00:00:01<br> archived log file name=/refresh/home/FRA/ORCL19300/archivelog/2023_10_27/o1_mf_1_157_lmprbxkc_.arc thread=1 sequence=157<br> channel default: deleting archived log(s)<br> archived log file name=/refresh/home/FRA/ORCL19300/archivelog/2023_10_27/o1_mf_1_157_lmprbxkc_.arc RECID=19 STAMP=1151305565<br> archived log file name=/refresh/home/FRA/ORCL19300/archivelog/2023_10_27/o1_mf_1_158_lmpnq1qq_.arc thread=1 sequence=158<br> archived log file name=/refresh/home/FRA/ORCL19300/archivelog/2023_10_27/o1_mf_1_159_lmpnq334_.arc thread=1 sequence=159<br> archived log file name=/refresh/home/FRA/ORCL19300/archivelog/2023_10_27/o1_mf_1_160_lmpnq57v_.arc thread=1 sequence=160<br> archived log file name=/refresh/home/FRA/ORCL19300/archivelog/2023_10_27/o1_mf_1_161_lmpnzlvv_.arc thread=1 sequence=161<br> archived log file name=/refresh/home/FRA/ORCL19300/archivelog/2023_10_27/o1_mf_1_162_lmpnzlxg_.arc thread=1 sequence=162<br> archived log file name=/refresh/home/FRA/ORCL19300/archivelog/2023_10_27/o1_mf_1_1_lmpqw34o_.arc thread=1 sequence=1<br> media recovery complete, elapsed time: 00:00:00<br> Finished recover at 27-OCT-23</p> 
<p>RMAN&gt; alter database datafile 10 online;</p> 
<p>Statement processed</p> 
<p>RMAN&gt;</p> 
<p> Now check the status of datafile</p> 
<p>SYS AS SYSDBA&gt;set lines 300<br> SYS AS SYSDBA&gt;select FILE#,STATUS,ERROR,RESETLOGS_TIME,CHECKPOINT_TIME from v$datafile_header;</p> 
<p>FILE# STATUS ERROR RESETLOGS CHECKPOIN<br> ---------- ------- ----------------------------------------------------------------- --------- ---------<br> 1 ONLINE 27-OCT-23 27-OCT-23<br> 2 ONLINE 27-OCT-23 27-OCT-23<br> 3 ONLINE 27-OCT-23 27-OCT-23<br> 4 ONLINE 27-OCT-23 27-OCT-23<br> 5 ONLINE 27-OCT-23 27-OCT-23<br> 7 ONLINE 27-OCT-23 27-OCT-23<br> 8 ONLINE 27-OCT-23 27-OCT-23<br> 9 ONLINE 27-OCT-23 27-OCT-23<br> 10 ONLINE 27-OCT-23 27-OCT-23</p> 
<p>9 rows selected.</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/64c609302c5efbd62e1b5e7f7dab3cb6/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">[C&#43;&#43;][设计模式][备忘录模式]详细讲解</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/bea2accb703b48d375f9061a170834d2/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">20240701 每日AI必读资讯</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>