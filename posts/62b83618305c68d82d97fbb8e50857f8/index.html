<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>ã€C&#43;&#43;æ·±åº¦æ¢ç´¢ã€‘çº¢é»‘æ ‘å®ç°Setä¸Mapçš„å°è£… - ç¼–ç¨‹å¤§å’–</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/62b83618305c68d82d97fbb8e50857f8/">
  <meta property="og:site_name" content="ç¼–ç¨‹å¤§å’–">
  <meta property="og:title" content="ã€C&#43;&#43;æ·±åº¦æ¢ç´¢ã€‘çº¢é»‘æ ‘å®ç°Setä¸Mapçš„å°è£…">
  <meta property="og:description" content="ğŸ”¥ ä¸ªäººä¸»é¡µï¼šå¤§è€³æœµåœŸåœŸåš ğŸ”¥ æ‰€å±ä¸“æ ï¼šC&#43;&#43;ä»å…¥é—¨è‡³è¿›é˜¶ è¿™é‡Œå°†ä¼šä¸å®šæœŸæ›´æ–°æœ‰å…³C/C&#43;&#43;çš„å†…å®¹ï¼Œæ¬¢è¿å¤§å®¶ç‚¹èµï¼Œæ”¶è—ï¼Œè¯„è®ºğŸ¥³ğŸ¥³ğŸ‰ğŸ‰ğŸ‰ æ–‡ç« ç›®å½• å‰è¨€1. ä¿®æ”¹çº¢é»‘æ ‘2. è¿­ä»£å™¨âœ¨constè¿­ä»£å™¨ 3. mapçš„[]è®¿é—®4. setå’Œmapå°è£…âœ¨ä¿®æ”¹åçš„çº¢é»‘æ ‘âœ¨mapç±»âœ¨setç±» 5. ç»“è¯­ å‰è¨€ å‰é¢æˆ‘ä»¬å­¦ä¹ è¿‡mapã€setã€multimapã€multisetçš„ä½¿ç”¨ï¼Œè¿™å››ç§å®¹å™¨éƒ½æ˜¯ä½¿ç”¨çº¢é»‘æ ‘ä½œä¸ºå…¶åº•å±‚ç»“æ„ã€‚çº¢é»‘æ ‘å’ŒAVLæ ‘éƒ½æ˜¯é«˜æ•ˆçš„å¹³è¡¡äºŒå‰æ ‘ï¼Œå¢åˆ æ”¹æŸ¥çš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯O( l o g 2 N log_2 N log2â€‹N)ï¼Œä½†æ˜¯çº¢é»‘æ ‘ä¸è¿½æ±‚ç»å¯¹å¹³è¡¡ï¼Œå…¶åªéœ€ä¿è¯æœ€é•¿è·¯å¾„ä¸è¶…è¿‡æœ€çŸ­è·¯å¾„çš„2å€ï¼Œç›¸å¯¹AVLæ ‘è€Œè¨€ï¼Œé™ä½äº†æ’å…¥å’Œæ—‹è½¬çš„æ¬¡æ•°ï¼Œæ‰€ä»¥åœ¨ç»å¸¸è¿›è¡Œå¢åˆ çš„ç»“æ„ä¸­æ€§èƒ½æ¯”AVLæ ‘æ›´ä¼˜ï¼Œè€Œä¸”çº¢é»‘æ ‘å®ç°æ¯”è¾ƒç®€å•ï¼Œæ‰€ä»¥å®é™…è¿ç”¨ä¸­çº¢é»‘æ ‘æ›´å¤šã€‚
ä»Šå¤©æˆ‘ä»¬å°±å¯ä»¥åˆ©ç”¨ä¹‹å‰å®ç°è¿‡çš„çº¢é»‘æ ‘æ¥å¯¹C&#43;&#43;STLåº“ä¸­çš„setå’Œmapè¿›è¡Œæ¨¡æ‹Ÿå®ç°ã€‚
1. ä¿®æ”¹çº¢é»‘æ ‘ æˆ‘ä»¬ä¹‹å‰æ¨¡æ‹Ÿå®ç°è¿‡çº¢é»‘æ ‘ï¼Œæ’å…¥çš„èŠ‚ç‚¹æ˜¯é”®å€¼å¯¹pairç±»å‹ï¼Œè€Œå¦‚æœè¦ä½¿ç”¨çº¢é»‘æ ‘æ¥å¯¹setå’Œmapå°è£…çš„è¯ï¼Œsetå­˜å‚¨çš„åº”è¯¥æ˜¯å•ä¸ªå€¼ï¼Œè€Œä¸æ˜¯é”®å€¼å¯¹ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±éœ€è¦å¯¹çº¢é»‘æ ‘è¿›è¡Œä¿®æ”¹ï¼Œä½¿å¾—setå’Œmapéƒ½èƒ½ä½¿ç”¨ï¼š
é¦–å…ˆçº¢é»‘æ ‘å­˜å‚¨èŠ‚ç‚¹çš„ç±»éœ€è¦ä»åªèƒ½å­˜å‚¨é”®å€¼å¯¹æ”¹ä¸ºèƒ½å¤Ÿå­˜å‚¨ä»»æ„æ•°æ®ï¼š template&lt;class T&gt; struct RBTreeNode { T _data;	//å­˜æ”¾æ•°æ®ï¼Œä¸å†åªèƒ½å­˜æ”¾é”®å€¼å¯¹ï¼špair&lt;K, V&gt; _kv;	RBTreeNode&lt;T&gt;* _left; RBTreeNode&lt;T&gt;* _right; RBTreeNode&lt;T&gt;* _parent; Colour _col;	//ä¿å­˜é¢œè‰² RBTreeNode(const T&amp; data) :_data(data) , _left(nullptr) , _right(nullptr) , _parent(nullptr) , _col(RED) {} }; ç›¸åº”çš„ï¼Œçº¢é»‘æ ‘çš„æ¨¡æ¿å‚æ•°ä¹Ÿéœ€è¦ä¿®æ”¹ï¼š ä¿®æ”¹å‰ï¼š
//çº¢é»‘æ ‘ç±» template&lt;class K, class V&gt; class RBTree { public: typedef RBTreeNode&lt;K, V&gt; Node; Node* Find(const K&amp; key);//æŸ¥æ‰¾å‡½æ•° private: Node* _pHead = nullptr; }; å› ä¸ºèŠ‚ç‚¹ç±»åªæœ‰ä¸€ä¸ªæ¨¡æ¿å‚æ•°äº†ï¼Œæ‰€ä»¥çº¢é»‘æ ‘ä¸¤ä¸ªæ¨¡æ¿å‚æ•°æœ‰ç‚¹å¤šä½™ï¼Œä½†æ˜¯å¦‚æœå°†çº¢é»‘æ ‘çš„æ¨¡æ¿å‚æ•°ä¹Ÿæ”¹ä¸ºä¸€ä¸ªï¼Œå¦‚ä¸‹é¢ä»£ç æ‰€ç¤ºï¼š">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-08-08T15:48:07+08:00">
    <meta property="article:modified_time" content="2024-08-08T15:48:07+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ç¼–ç¨‹å¤§å’–" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ç¼–ç¨‹å¤§å’–</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">ã€C&#43;&#43;æ·±åº¦æ¢ç´¢ã€‘çº¢é»‘æ ‘å®ç°Setä¸Mapçš„å°è£…</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <div align="center"> 
 <img src="https://images2.imgbox.com/3e/d4/3MxQ03wP_o.jpg" width="800"> 
</div> 
<center> 
 <strong><font color="orange">ğŸ”¥ ä¸ªäººä¸»é¡µï¼š<a href="https://blog.csdn.net/Renswc?type=blog">å¤§è€³æœµåœŸåœŸåš</a></font></strong> 
</center> 
<center> 
 <strong><font color="orange">ğŸ”¥ æ‰€å±ä¸“æ ï¼š<a href="https://blog.csdn.net/renswc/category_12630230.html">C++ä»å…¥é—¨è‡³è¿›é˜¶</a></font></strong> 
</center> 
<br> 
<center> 
 <strong> è¿™é‡Œå°†ä¼šä¸å®šæœŸæ›´æ–°æœ‰å…³C/C++çš„å†…å®¹ï¼Œæ¬¢è¿å¤§å®¶ç‚¹èµï¼Œæ”¶è—ï¼Œè¯„è®ºğŸ¥³ğŸ¥³ğŸ‰ğŸ‰ğŸ‰ </strong> 
 <div align="center"> 
  <img src="https://images2.imgbox.com/d6/01/9087Nngx_o.gif" width="800"> 
 </div> 
</center> 
<p></p> 
<div class="toc"> 
 <h4>æ–‡ç« ç›®å½•</h4> 
 <ul><li><a href="#_11" rel="nofollow">å‰è¨€</a></li><li><a href="#1__21" rel="nofollow">1. ä¿®æ”¹çº¢é»‘æ ‘</a></li><li><a href="#2__260" rel="nofollow">2. è¿­ä»£å™¨</a></li><li><ul><li><a href="#const_354" rel="nofollow">âœ¨constè¿­ä»£å™¨</a></li></ul> 
  </li><li><a href="#3_map_468" rel="nofollow">3. mapçš„[]è®¿é—®</a></li><li><a href="#4_setmap_535" rel="nofollow">4. setå’Œmapå°è£…</a></li><li><ul><li><a href="#_540" rel="nofollow">âœ¨ä¿®æ”¹åçš„çº¢é»‘æ ‘</a></li><li><a href="#map_1026" rel="nofollow">âœ¨mapç±»</a></li><li><a href="#set_1128" rel="nofollow">âœ¨setç±»</a></li></ul> 
  </li><li><a href="#5__1187" rel="nofollow">5. ç»“è¯­</a></li></ul> 
</div> 
<p></p> 
<h2><a id="_11"></a>å‰è¨€</h2> 
<p>â€ƒâ€ƒå‰é¢æˆ‘ä»¬å­¦ä¹ è¿‡<a href="https://blog.csdn.net/Renswc/article/details/140587597?spm=1001.2014.3001.5501">mapã€setã€multimapã€multiset</a>çš„ä½¿ç”¨ï¼Œè¿™å››ç§å®¹å™¨éƒ½æ˜¯ä½¿ç”¨çº¢é»‘æ ‘ä½œä¸ºå…¶åº•å±‚ç»“æ„ã€‚<strong>çº¢é»‘æ ‘</strong>å’Œ<strong>AVLæ ‘</strong>éƒ½æ˜¯é«˜æ•ˆçš„å¹³è¡¡äºŒå‰æ ‘ï¼Œå¢åˆ æ”¹æŸ¥çš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯O(<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         l 
        
       
         o 
        
        
        
          g 
         
        
          2 
         
        
       
         N 
        
       
      
        log_2 N 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.8889em; vertical-align: -0.1944em;"></span><span class="mord mathnormal" style="margin-right: 0.0197em;">l</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.0359em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3011em;"><span class="" style="top: -2.55em; margin-left: -0.0359em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right: 0.109em;">N</span></span></span></span></span>)ï¼Œä½†æ˜¯çº¢é»‘æ ‘ä¸è¿½æ±‚ç»å¯¹å¹³è¡¡ï¼Œå…¶åªéœ€ä¿è¯æœ€é•¿è·¯å¾„ä¸è¶…è¿‡æœ€çŸ­è·¯å¾„çš„2å€ï¼Œç›¸å¯¹AVLæ ‘è€Œè¨€ï¼Œé™ä½äº†æ’å…¥å’Œæ—‹è½¬çš„æ¬¡æ•°ï¼Œæ‰€ä»¥åœ¨ç»å¸¸è¿›è¡Œå¢åˆ çš„ç»“æ„ä¸­æ€§èƒ½æ¯”AVLæ ‘æ›´ä¼˜ï¼Œè€Œä¸”çº¢é»‘æ ‘å®ç°æ¯”è¾ƒç®€å•ï¼Œæ‰€ä»¥å®é™…è¿ç”¨ä¸­çº¢é»‘æ ‘æ›´å¤šã€‚</p> 
<p>â€ƒâ€ƒä»Šå¤©æˆ‘ä»¬å°±å¯ä»¥åˆ©ç”¨ä¹‹å‰<a href="https://blog.csdn.net/Renswc/article/details/140878721?spm=1001.2014.3001.5501">å®ç°è¿‡çš„çº¢é»‘æ ‘</a>æ¥å¯¹C++STLåº“ä¸­çš„setå’Œmapè¿›è¡Œæ¨¡æ‹Ÿå®ç°ã€‚</p> 
<br> 
<h2><a id="1__21"></a>1. ä¿®æ”¹çº¢é»‘æ ‘</h2> 
<br> 
<p>â€ƒâ€ƒæˆ‘ä»¬ä¹‹å‰æ¨¡æ‹Ÿå®ç°è¿‡çº¢é»‘æ ‘ï¼Œæ’å…¥çš„èŠ‚ç‚¹æ˜¯é”®å€¼å¯¹<code>pair</code>ç±»å‹ï¼Œè€Œå¦‚æœè¦ä½¿ç”¨çº¢é»‘æ ‘æ¥å¯¹setå’Œmapå°è£…çš„è¯ï¼Œsetå­˜å‚¨çš„åº”è¯¥æ˜¯å•ä¸ªå€¼ï¼Œè€Œä¸æ˜¯é”®å€¼å¯¹ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±éœ€è¦å¯¹çº¢é»‘æ ‘è¿›è¡Œä¿®æ”¹ï¼Œä½¿å¾—setå’Œmapéƒ½èƒ½ä½¿ç”¨ï¼š</p> 
<ol><li>é¦–å…ˆçº¢é»‘æ ‘å­˜å‚¨èŠ‚ç‚¹çš„ç±»éœ€è¦ä»åªèƒ½å­˜å‚¨<strong>é”®å€¼å¯¹</strong>æ”¹ä¸ºèƒ½å¤Ÿå­˜å‚¨<strong>ä»»æ„æ•°æ®</strong>ï¼š</li></ol> 
<pre><code class="prism language-cpp"><span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
<span class="token keyword">struct</span> <span class="token class-name">RBTreeNode</span>
<span class="token punctuation">{<!-- --></span>
	T _data<span class="token punctuation">;</span>	<span class="token comment">//å­˜æ”¾æ•°æ®ï¼Œä¸å†åªèƒ½å­˜æ”¾é”®å€¼å¯¹ï¼špair&lt;K, V&gt; _kv;	</span>
	RBTreeNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> _left<span class="token punctuation">;</span>
	RBTreeNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> _right<span class="token punctuation">;</span>
	RBTreeNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> _parent<span class="token punctuation">;</span>
	Colour _col<span class="token punctuation">;</span>	<span class="token comment">//ä¿å­˜é¢œè‰²</span>

	<span class="token function">RBTreeNode</span><span class="token punctuation">(</span><span class="token keyword">const</span> T<span class="token operator">&amp;</span> data<span class="token punctuation">)</span>
		<span class="token operator">:</span><span class="token function">_data</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
		<span class="token punctuation">,</span> <span class="token function">_left</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span>
		<span class="token punctuation">,</span> <span class="token function">_right</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span>
		<span class="token punctuation">,</span> <span class="token function">_parent</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span>
		<span class="token punctuation">,</span> <span class="token function">_col</span><span class="token punctuation">(</span>RED<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<ol start="2"><li>ç›¸åº”çš„ï¼Œçº¢é»‘æ ‘çš„æ¨¡æ¿å‚æ•°ä¹Ÿéœ€è¦ä¿®æ”¹ï¼š</li></ol> 
<p>â€ƒä¿®æ”¹å‰ï¼š</p> 
<pre><code class="prism language-cpp"><span class="token comment">//çº¢é»‘æ ‘ç±»</span>
<span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">V</span><span class="token operator">&gt;</span>
<span class="token keyword">class</span> <span class="token class-name">RBTree</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token keyword">typedef</span> RBTreeNode<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> V<span class="token operator">&gt;</span> Node<span class="token punctuation">;</span>
	Node<span class="token operator">*</span> <span class="token function">Find</span><span class="token punctuation">(</span><span class="token keyword">const</span> K<span class="token operator">&amp;</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æŸ¥æ‰¾å‡½æ•°</span>
	
<span class="token keyword">private</span><span class="token operator">:</span>
	Node<span class="token operator">*</span> _pHead <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<p>â€ƒå› ä¸ºèŠ‚ç‚¹ç±»åªæœ‰ä¸€ä¸ªæ¨¡æ¿å‚æ•°äº†ï¼Œæ‰€ä»¥çº¢é»‘æ ‘ä¸¤ä¸ªæ¨¡æ¿å‚æ•°æœ‰ç‚¹å¤šä½™ï¼Œä½†æ˜¯å¦‚æœå°†çº¢é»‘æ ‘çš„æ¨¡æ¿å‚æ•°ä¹Ÿæ”¹ä¸ºä¸€ä¸ªï¼Œå¦‚ä¸‹é¢ä»£ç æ‰€ç¤ºï¼š</p> 
<pre><code class="prism language-cpp"><span class="token comment">//çº¢é»‘æ ‘ç±»</span>
<span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
<span class="token keyword">class</span> <span class="token class-name">RBTree</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token keyword">typedef</span> RBTreeNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> Node<span class="token punctuation">;</span>
	Node<span class="token operator">*</span> <span class="token function">Find</span><span class="token punctuation">(</span><span class="token keyword">const</span> T<span class="token operator">&amp;</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//ï¼ŸæŸ¥æ‰¾å‡½æ•°</span>
	
<span class="token keyword">private</span><span class="token operator">:</span>
	Node<span class="token operator">*</span> _pHead <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre> 
<p>â€ƒé‚£ä¹ˆåœ¨å®ç°æŸ¥æ‰¾ä¸Šé¢ä»£ç ä¸­çš„Findå‡½æ•°æ—¶ï¼Œå¯¹äºmapæŸ¥æ‰¾æ—¶Findå‡½æ•°å‚æ•°å°±å¾—ä¼ ä¸€ä¸ªå®Œæ•´çš„é”®å€¼å¯¹ï¼Œæˆ‘ä»¬ä¸å¯èƒ½æŠŠå®Œæ•´çš„é”®å€¼å¯¹å…¨éƒ¨ä¼ è¿‡å»æŸ¥æ‰¾ï¼Œè¿™æ ·æŸ¥æ‰¾å°±æ²¡æœ‰æ„ä¹‰ï¼Œæˆ‘ä»¬åªéœ€è¦è·å¾—é”®å€¼å¯¹çš„é”®æŸ¥æ‰¾åˆ°ç›¸åº”çš„é”®å€¼å¯¹å³å¯ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜åº”è¯¥ä¼ ä¸€ä¸ªæ¨¡æ¿å‚æ•°ï¼š</p> 
<pre><code class="prism language-cpp"><span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">&gt;</span><span class="token comment">//Kå­˜å‚¨é”®ï¼ŒTå­˜å‚¨é”®å€¼å¯¹</span>
<span class="token keyword">class</span> <span class="token class-name">RBTree</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token keyword">typedef</span> RBTreeNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> Node<span class="token punctuation">;</span><span class="token comment">//ä¼ å…¥é”®å€¼å¯¹</span>
	Node<span class="token operator">*</span> <span class="token function">Find</span><span class="token punctuation">(</span><span class="token keyword">const</span> K<span class="token operator">&amp;</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æŸ¥æ‰¾å‡½æ•°ï¼Œåªä¼ é”®</span>
	
<span class="token keyword">private</span><span class="token operator">:</span>
	Node<span class="token operator">*</span> _pHead <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<blockquote> 
 <p>è¿™æ ·å¯¹äºä¸åŒå‡½æ•°çš„éœ€æ±‚å°±å¯ä»¥ä¼ å…¥ä¸åŒçš„æ¨¡æ¿å‚æ•°äº†ğŸ¥³ğŸ¥³</p> 
</blockquote> 
<p>â€ƒå¦‚æœæ˜¯mapå­˜å‚¨çš„æ˜¯é”®å€¼å¯¹ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¾€çº¢é»‘æ ‘çš„ä¸¤ä¸ªæ¨¡æ¿å‚æ•°ä¸­ä¼ å…¥ä¸€ä¸ªé”®å’Œä¸€ä¸ªé”®å€¼å¯¹ï¼š</p> 
<pre><code class="prism language-cpp"><span class="token comment">//mapç±»</span>
<span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">K</span><span class="token punctuation">,</span><span class="token keyword">class</span> <span class="token class-name">V</span><span class="token operator">&gt;</span>
<span class="token keyword">class</span> <span class="token class-name">map</span> <span class="token punctuation">{<!-- --></span>
<span class="token keyword">private</span><span class="token operator">:</span>
	RBTree<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> pair<span class="token operator">&lt;</span>K<span class="token punctuation">,</span>V<span class="token operator">&gt;&gt;</span> _t<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<blockquote> 
 <p>è¿™æ ·çº¢é»‘æ ‘çš„ç¬¬ä¸€ä¸ªæ¨¡æ¿å‚æ•°å¸®åŠ©æˆ‘ä»¬è§£å†³æŸ¥æ‰¾ã€åˆ é™¤å‡½æ•°ä¼ å‚çš„é—®é¢˜ï¼Œç¬¬äºŒä¸ªåˆ™æ˜¯å¿…é¡»çš„ï¼Œé™¤äº†å­˜å‚¨æ•°æ®å¤–ï¼Œæ’å…¥ç­‰å‡½æ•°ä¹Ÿéœ€è¦ç¬¬äºŒä¸ªæ¨¡æ¿å‚æ•°</p> 
</blockquote> 
<p>â€ƒå¦‚æœæ˜¯setå­˜å‚¨çš„ä¸æ˜¯é”®å€¼å¯¹ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å¤ç”¨ä¸Šé¢çš„ä»£ç ï¼Œä¼ å…¥ä¸¤ä¸ªä¸€æ ·çš„å‚æ•°å³å¯ï¼š</p> 
<pre><code class="prism language-cpp"><span class="token comment">//setç±»</span>
<span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">K</span><span class="token operator">&gt;</span>
<span class="token keyword">class</span> <span class="token class-name">set</span><span class="token punctuation">{<!-- --></span>
<span class="token keyword">private</span><span class="token operator">:</span>
	RBTree<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> K<span class="token operator">&gt;</span> _t<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<blockquote> 
 <p>è™½ç„¶setçœ‹èµ·æ¥ä¼ äº†ä¸¤ä¸ªä¸€æ¨¡ä¸€æ ·çš„å‚æ•°æ˜¯æ— æ„ä¹‰çš„ï¼Œä½†æ˜¯è¿™æ ·å°±å¯ä»¥å®ç°å¯¹çº¢é»‘æ ‘çš„å¤ç”¨ï¼Œä¸ç”¨å•ç‹¬ä¸ºäº†setå†å†™ä¸€ä¸ªçº¢é»‘æ ‘äº†ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p> 
</blockquote> 
<div align="center"> 
 <img src="https://images2.imgbox.com/82/e7/VqXO8ta9_o.jpg" width="800"> 
</div> 
<br> 
<ol start="3"><li>æ’å…¥å‡½æ•°çš„å‚æ•°ä¹Ÿå¾—ä»é”®å€¼å¯¹æ”¹ä¸ºä»»æ„æ•°æ®ï¼š</li></ol> 
<pre><code class="prism language-cpp"><span class="token keyword">bool</span> <span class="token function">Insert</span><span class="token punctuation">(</span><span class="token keyword">const</span> T<span class="token operator">&amp;</span> data<span class="token punctuation">)</span><span class="token comment">//ä¹‹å‰ï¼šbool Insert(const pair&lt;K, V&gt;&amp; data)</span>
</code></pre> 
<p>â€ƒé™¤æ­¤ä»¥å¤–ï¼Œæˆ‘ä»¬åœ¨å¯»æ‰¾æ’å…¥çš„ä½ç½®æ—¶ä¸å¯é¿å…éœ€è¦æ¯”è¾ƒèŠ‚ç‚¹ä¸­å­˜å‚¨çš„<code>_data</code>çš„å¤§å°ï¼š</p> 
<pre><code class="prism language-cpp"><span class="token keyword">while</span> <span class="token punctuation">(</span>cur<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>cur<span class="token operator">-&gt;</span>_kv<span class="token punctuation">.</span>first <span class="token operator">&gt;</span> data<span class="token punctuation">.</span>first<span class="token punctuation">)</span><span class="token comment">//ä½¿ç”¨é”®å€¼å¯¹çš„é”®æ¯”è¾ƒå¤§å°</span>
		<span class="token punctuation">{<!-- --></span>
			parent <span class="token operator">=</span> cur<span class="token punctuation">;</span>
			cur <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_left<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>cur<span class="token operator">-&gt;</span>_kv<span class="token punctuation">.</span>first <span class="token operator">&lt;</span> data<span class="token punctuation">.</span>first<span class="token punctuation">)</span><span class="token comment">//ä½¿ç”¨é”®å€¼å¯¹çš„é”®æ¯”è¾ƒ</span>
		<span class="token punctuation">{<!-- --></span>
			parent <span class="token operator">=</span> cur<span class="token punctuation">;</span>
			cur <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_right<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span>
			<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token comment">//æ²¡æ‰¾åˆ°è¿”å›false</span>
	<span class="token punctuation">}</span>
	
	<span class="token comment">//2.æ‰¾åˆ°ï¼Œæ’å…¥èŠ‚ç‚¹</span>
	Node<span class="token operator">*</span> newnode <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Node</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//åˆ¤æ–­æ’å…¥çˆ¶èŠ‚ç‚¹å·¦ä¾§è¿˜æ˜¯å³ä¾§</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>parent<span class="token operator">-&gt;</span>_kv<span class="token punctuation">.</span>first <span class="token operator">&gt;</span> data<span class="token punctuation">.</span>first<span class="token punctuation">)</span><span class="token comment">//ä½¿ç”¨é”®å€¼å¯¹çš„é”®æ¯”è¾ƒ</span>
		parent<span class="token operator">-&gt;</span>_left <span class="token operator">=</span> newnode<span class="token punctuation">;</span>
	<span class="token keyword">else</span>
		parent<span class="token operator">-&gt;</span>_right <span class="token operator">=</span> newnode<span class="token punctuation">;</span>
</code></pre> 
<p>â€ƒæˆ‘ä»¬å‘ç°ä¹‹å‰æ’å…¥é”®å€¼å¯¹éƒ½æ˜¯ä½¿ç”¨é”®å€¼å¯¹çš„é”®æ¥æ¯”è¾ƒå¤§å°ï¼Œå½“æˆ‘ä»¬å°†çº¢é»‘æ ‘æ”¹æˆå¯ä»¥å­˜å‚¨ä»»æ„æ•°æ®åï¼Œå°±ä¸æ”¯æŒä¸Šè¿°æ¯”è¾ƒå¤§å°çš„æ–¹å¼äº†ã€‚<br> â€ƒå› æ­¤ä¸ºäº†å®ç°ä»£ç çš„å¤ç”¨ï¼Œæˆ‘ä»¬éœ€è¦ä¼ å…¥ä¸€ä¸ªæ–°çš„æ¨¡æ¿å‚æ•°ï¼Œä»¥ä¾¿åœ¨ä¸åŒæƒ…å†µä¸‹éƒ½èƒ½æŒ‰ç…§æˆ‘ä»¬éœ€è¦çš„æ–¹å¼è¿›è¡Œæ¯”è¾ƒï¼Œå› ä¸ºå¦‚æœæ˜¯mapéœ€è¦é€šè¿‡é”®æ¥æ¯”è¾ƒï¼Œsetåˆ™ç›´æ¥é€šè¿‡æ•°æ®è¿›è¡Œæ¯”è¾ƒï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥åœ¨setç±»å’Œmapç±»ä¸­å„å®šä¹‰ä¸€ä¸ªç±»æ¥è·å–è¦æ¯”è¾ƒçš„æ•°æ®ï¼Œå†ä¼ ç»™çº¢é»‘æ ‘ï¼š</p> 
<pre><code class="prism language-cpp"><span class="token comment">//mapç±»</span>
<span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">K</span><span class="token punctuation">,</span><span class="token keyword">class</span> <span class="token class-name">V</span><span class="token operator">&gt;</span>
<span class="token keyword">class</span> <span class="token class-name">map</span> <span class="token punctuation">{<!-- --></span>
<span class="token comment">//å®šä¹‰ä¸€ä¸ªç±»è·å–é”®å€¼å¯¹é‡Œé¢çš„é”®</span>
<span class="token keyword">struct</span> <span class="token class-name">MapKeyOfT</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">const</span> K<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">const</span> pair<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> V<span class="token operator">&gt;</span><span class="token operator">&amp;</span> data<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> data<span class="token punctuation">.</span>first<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">private</span><span class="token operator">:</span>
		RBTree<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> pair<span class="token operator">&lt;</span>K<span class="token punctuation">,</span>V<span class="token operator">&gt;</span><span class="token punctuation">,</span> MapKeyOfT<span class="token operator">&gt;</span> _t<span class="token punctuation">;</span><span class="token comment">//ä¼ ç»™çº¢é»‘æ ‘</span>

<span class="token punctuation">}</span>
</code></pre> 
<pre><code class="prism language-cpp"><span class="token comment">//setç±»</span>
<span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">K</span><span class="token operator">&gt;</span>
<span class="token keyword">class</span> <span class="token class-name">set</span><span class="token punctuation">{<!-- --></span>
<span class="token comment">//ä¹Ÿå®šä¹‰ä¸€ä¸ªç±»è¿”å›dataå³å¯ï¼Œè™½ç„¶æœ‰ç‚¹å¤šæ­¤ä¸€ä¸¾ï¼Œä½†æ˜¯å¯ä»¥å®ç°ä»£ç å¤ç”¨</span>
<span class="token keyword">struct</span> <span class="token class-name">SetKeyOfT</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">const</span> K<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">const</span> K<span class="token operator">&amp;</span> data<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> data<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">private</span><span class="token operator">:</span>
	RBTree<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> K<span class="token punctuation">,</span> SetKeyOfT<span class="token operator">&gt;</span> _t<span class="token punctuation">;</span><span class="token comment">//ä¼ ç»™çº¢é»‘æ ‘</span>
<span class="token punctuation">}</span>
</code></pre> 
<blockquote> 
 <p>çœ‹èµ·æ¥setå®šä¹‰çš„ç±»ä¼¼ä¹åšäº†æ— ç”¨åŠŸï¼Œä½†æ˜¯è¿™ä¸€åˆ‡éƒ½æ˜¯ä¸ºäº†èƒ½å¤Ÿå®ç°çº¢é»‘æ ‘çš„å¤ç”¨ï¼Œmapå¤šä¼ äº†ä¸€ä¸ªå‚æ•°ï¼Œsetä¹Ÿè¦å¤šä¼ ã€‚</p> 
</blockquote> 
<br> 
<p>â€ƒé‚£ä¹ˆçº¢é»‘æ ‘çš„æ¨¡æ¿å‚æ•°ä¹Ÿè¦ä¿®æ”¹ä¸€ä¸‹ï¼š</p> 
<pre><code class="prism language-cpp"><span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">T</span><span class="token punctuation">,</span><span class="token keyword">class</span> <span class="token class-name">KeyOfT</span><span class="token operator">&gt;</span>
<span class="token keyword">class</span> <span class="token class-name">RBTree</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token keyword">typedef</span> RBTreeNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> Node<span class="token punctuation">;</span>
	
<span class="token keyword">private</span><span class="token operator">:</span>
	Node<span class="token operator">*</span> _pHead <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<br> 
<p>â€ƒè¿™æ ·æˆ‘ä»¬åœ¨æ’å…¥å‡½æ•°è¿›è¡Œæ¯”è¾ƒæ—¶ï¼Œå°±å¯ä»¥é€šè¿‡ç±»æ¨¡æ¿KeyOfTå®šä¹‰ä¸€ä¸ªå¯¹è±¡ç„¶åä½¿ç”¨æ‹¬å·æ¥è·å–éœ€è¦è¿›è¡Œæ¯”è¾ƒçš„æ•°äº†ï¼š</p> 
<pre><code class="prism language-cpp"><span class="token keyword">bool</span> <span class="token function">Insert</span><span class="token punctuation">(</span><span class="token keyword">const</span> T<span class="token operator">&amp;</span> data<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	KeyOfT kot<span class="token punctuation">;</span><span class="token comment">//ä½¿ç”¨ç±»æ¨¡æ¿ï¼Œå®šä¹‰ä¸€ä¸ªå¯¹è±¡</span>

	<span class="token comment">//1.å…ˆæ‰¾åˆ°æ’å…¥ä½ç½®</span>
	<span class="token comment">//å¦‚æœæ˜¯ç©ºæ ‘</span>
	<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
	<span class="token comment">//å¦‚æœä¸æ˜¯ç©ºæ ‘</span>
	<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
	Node<span class="token operator">*</span> cur <span class="token operator">=</span> _pHead<span class="token punctuation">;</span>
	Node<span class="token operator">*</span> parent <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>cur<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">kot</span><span class="token punctuation">(</span>cur<span class="token operator">-&gt;</span>_data<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token function">kot</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//ä½¿ç”¨æ‹¬å·è·å–æƒ³è¦æ¯”è¾ƒçš„å€¼è¿›è¡Œæ¯”è¾ƒ</span>
		<span class="token punctuation">{<!-- --></span>
			parent <span class="token operator">=</span> cur<span class="token punctuation">;</span>
			cur <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_left<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">kot</span><span class="token punctuation">(</span>cur<span class="token operator">-&gt;</span>_data<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token function">kot</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//ä½¿ç”¨æ‹¬å·è·å–æƒ³è¦æ¯”è¾ƒçš„å€¼è¿›è¡Œæ¯”è¾ƒ</span>
		<span class="token punctuation">{<!-- --></span>
			parent <span class="token operator">=</span> cur<span class="token punctuation">;</span>
			cur <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_right<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span>
			<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token comment">//æ²¡æ‰¾åˆ°è¿”å›false</span>
	<span class="token punctuation">}</span>
	
	<span class="token comment">//2.æ‰¾åˆ°ï¼Œæ’å…¥èŠ‚ç‚¹</span>
	Node<span class="token operator">*</span> newnode <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Node</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//åˆ¤æ–­æ’å…¥çˆ¶èŠ‚ç‚¹å·¦ä¾§è¿˜æ˜¯å³ä¾§</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">kot</span><span class="token punctuation">(</span>parent<span class="token operator">-&gt;</span>_data<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token function">kot</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//ä½¿ç”¨æ‹¬å·è·å–æƒ³è¦æ¯”è¾ƒçš„å€¼è¿›è¡Œæ¯”è¾ƒ</span>
		parent<span class="token operator">-&gt;</span>_left <span class="token operator">=</span> newnode<span class="token punctuation">;</span>
	<span class="token keyword">else</span>
		parent<span class="token operator">-&gt;</span>_right <span class="token operator">=</span> newnode<span class="token punctuation">;</span>

	<span class="token comment">//æ›´æ–°newnodeçˆ¶èŠ‚ç‚¹å’Œé¢œè‰²</span>
	<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
	<span class="token punctuation">}</span>
</code></pre> 
<blockquote> 
 <p>è¿™æ ·å°±å¯ä»¥ä½¿ç”¨ç±»æ¨¡æ¿å®šä¹‰çš„å¯¹è±¡é€šè¿‡é‡è½½æ‹¬å·è·å–ä½ æƒ³è¦è¿›è¡Œæ¯”è¾ƒçš„å€¼ï¼Œå¦‚æœæ’å…¥ç±»å‹æ˜¯é”®å€¼å¯¹ï¼Œé‚£ä¹ˆå°±è·å¾—é”®å€¼å¯¹ä¸­çš„é”®è¿›è¡Œæ¯”è¾ƒï¼›å¦‚æœä¸æ˜¯é”®å€¼å¯¹ï¼Œæ‹¬å·è¿”å›çš„ä¹Ÿæ˜¯æ•°æ®æœ¬èº«ç›´æ¥è¿›è¡Œæ¯”è¾ƒå³å¯ï¼›è¿™æ ·ä¸åŒçš„æ•°æ®éƒ½å¯ä»¥è¿›è¡Œæ¯”è¾ƒğŸ¥³ğŸ¥³</p> 
</blockquote> 
<br> 
<h2><a id="2__260"></a>2. è¿­ä»£å™¨</h2> 
<br> 
<p>â€ƒâ€ƒçº¢é»‘æ ‘çš„è¿­ä»£å™¨ä¸é“¾è¡¨çš„è¿­ä»£å™¨ç±»ä¼¼ï¼Œéƒ½æ˜¯ä½¿ç”¨æŒ‡é’ˆæ¥æ„é€ ï¼š</p> 
<pre><code class="prism language-cpp"><span class="token comment">//è¿­ä»£å™¨</span>
<span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
<span class="token keyword">struct</span> <span class="token class-name">RBTreeIterator</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">typedef</span> RBTreeNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> Node<span class="token punctuation">;</span>
	<span class="token keyword">typedef</span> RBTreeIterator<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> self<span class="token punctuation">;</span>
	
	T<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> _node<span class="token operator">-&gt;</span>_data<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	T<span class="token operator">*</span> <span class="token keyword">operator</span><span class="token operator">-&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token operator">&amp;</span><span class="token punctuation">(</span>_node<span class="token operator">-&gt;</span>_data<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token operator">!=</span><span class="token punctuation">(</span><span class="token keyword">const</span> self<span class="token operator">&amp;</span> t<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> _node <span class="token operator">!=</span> t<span class="token punctuation">.</span>_node<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token operator">==</span><span class="token punctuation">(</span><span class="token keyword">const</span> self<span class="token operator">&amp;</span> t<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> _node <span class="token operator">==</span> t<span class="token punctuation">.</span>_node<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	self<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">++</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span><span class="token comment">//...}</span>
	
	
	<span class="token comment">//æ„é€ </span>
	<span class="token function">RBTreeIterator</span><span class="token punctuation">(</span>Node<span class="token operator">*</span> node<span class="token punctuation">)</span>
		<span class="token operator">:</span><span class="token function">_node</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
	Node<span class="token operator">*</span> _node<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<br> 
<p><strong>âœ¨å¯¹äº<code>operator++</code>ï¼š</strong></p> 
<p>â€ƒå› ä¸ºçº¢é»‘æ ‘ä¸­åºéå†æ˜¯æœ‰åºçš„ï¼Œæ‰€ä»¥å¦‚æœä½¿ç”¨è¿­ä»£å™¨éå†ï¼Œæˆ‘ä»¬ä¹Ÿå¸Œæœ›å®ƒæ˜¯æœ‰åºçš„ï¼Œä¾‹å¦‚ä¸‹é¢çš„çº¢é»‘æ ‘ï¼š</p> 
<div align="center"> 
 <img src="https://images2.imgbox.com/6c/81/qqsQD2yU_o.png" width="800"> 
</div> 
<br> 
<br> 
<p>â€ƒå¦‚æœå½“å‰èŠ‚ç‚¹æ˜¯13ï¼Œå®ƒçš„å³å­æ ‘ä¸ä¸ºç©ºï¼Œé‚£ä¹ˆä¸‹ä¸€ä¸ªèŠ‚ç‚¹å°±åº”è¯¥æ˜¯å®ƒå³å­æ ‘çš„æœ€å·¦èŠ‚ç‚¹15ï¼›å¦‚æœå½“å‰èŠ‚ç‚¹æ˜¯15ï¼Œå®ƒçš„å³å­æ ‘ä¸ºç©ºï¼Œé‚£ä¹ˆä¸‹ä¸€ä¸ªèŠ‚ç‚¹å°±åº”è¯¥æ˜¯å®ƒçš„çˆ¶äº²17ï¼Œä½†æ˜¯è¿™æ˜¯å› ä¸º15æ˜¯å®ƒçˆ¶äº²çš„å·¦å­©å­ï¼›å¦‚æœæ˜¯å³å­©å­ï¼Œé‚£ä¹ˆè¯´æ˜è¿™æ£µå­æ ‘å·²ç»éå†å®Œäº†ï¼Œéœ€è¦ç»§ç»­å‘ä¸Šæ‰¾çˆ¶äº²ï¼Œä»£ç å¦‚ä¸‹ï¼š</p> 
<pre><code class="prism language-cpp">self<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">++</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>_node<span class="token operator">-&gt;</span>_right<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token comment">// å³ä¸ä¸ºç©ºï¼Œå³å­æ ‘æœ€å·¦èŠ‚ç‚¹å°±æ˜¯ä¸­åºç¬¬ä¸€ä¸ª</span>
		Node<span class="token operator">*</span> leftMost <span class="token operator">=</span> _node<span class="token operator">-&gt;</span>_right<span class="token punctuation">;</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>leftMost<span class="token operator">-&gt;</span>_left<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			leftMost <span class="token operator">=</span> leftMost<span class="token operator">-&gt;</span>_left<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		_node <span class="token operator">=</span> leftMost<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">else</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token comment">// å­©å­æ˜¯çˆ¶äº²å·¦çš„é‚£ä¸ªç¥–å…ˆ</span>
		Node<span class="token operator">*</span> cur <span class="token operator">=</span> _node<span class="token punctuation">;</span>
		Node<span class="token operator">*</span> parent <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_parent<span class="token punctuation">;</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>parent <span class="token operator">&amp;&amp;</span> cur <span class="token operator">==</span> parent<span class="token operator">-&gt;</span>_right<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			cur <span class="token operator">=</span> parent<span class="token punctuation">;</span>
			parent <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_parent<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		_node <span class="token operator">=</span> parent<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<br> 
<h3><a id="const_354"></a>âœ¨constè¿­ä»£å™¨</h3> 
<br> 
<p>â€ƒâ€ƒç›¸è¾ƒäºæ™®é€šè¿­ä»£å™¨ï¼Œconstè¿­ä»£å™¨æŒ‡å‘çš„å†…å®¹ä¸å¯ä»¥è¢«ä¿®æ”¹ï¼Œä¹Ÿå°±æ˜¯è¯´<code>operator*</code>å’Œ<code>operator-&gt;</code>è¿”å›å€¼ä¸å¯ä»¥ä¿®æ”¹ï¼Œæ‰€ä»¥åªè¦åœ¨å…¶è¿”å›å€¼å‰åŠ <code>const</code>ä¿®é¥°å³å¯ï¼Œä¸ºäº†ä¸æ™®é€šè¿­ä»£å™¨å¤ç”¨åŒä¸€ä¸ªè¿­ä»£å™¨ç±»ï¼Œæˆ‘ä»¬éœ€è¦åœ¨è¿­ä»£å™¨ç±»çš„æ¨¡æ¿å‚æ•°ä¸­å¤šç©¿ä¸¤ä¸ªï¼š</p> 
<pre><code class="prism language-cpp"><span class="token comment">//è¿­ä»£å™¨</span>
<span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token punctuation">,</span><span class="token keyword">class</span> <span class="token class-name">Ref</span><span class="token punctuation">,</span><span class="token keyword">class</span> <span class="token class-name">Ptr</span><span class="token operator">&gt;</span>
<span class="token keyword">struct</span> <span class="token class-name">RBTreeIterator</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">typedef</span> RBTreeNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> Node<span class="token punctuation">;</span>
	<span class="token keyword">typedef</span> RBTreeIterator<span class="token operator">&lt;</span>T<span class="token punctuation">,</span> Ref<span class="token punctuation">,</span> Ptr<span class="token operator">&gt;</span> self<span class="token punctuation">;</span>
	Ref <span class="token keyword">operator</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> _node<span class="token operator">-&gt;</span>_data<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	Ptr <span class="token keyword">operator</span><span class="token operator">-&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token operator">&amp;</span><span class="token punctuation">(</span>_node<span class="token operator">-&gt;</span>_data<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<br> 
<p>â€ƒâ€ƒè¿™æ ·åœ¨çº¢é»‘æ ‘ä¸­å¦‚æœæ˜¯æ™®é€šè¿­ä»£å™¨å°±ä¼ <code>Tï¼ŒT&amp;ï¼ŒT*</code>è¿™ä¸‰ä¸ªæ¨¡æ¿å‚æ•°ï¼Œå¦‚æœæ˜¯constè¿­ä»£å™¨å°±ä¼ <code>Tï¼Œconst T&amp;ï¼Œconst T*</code>è¿™ä¸‰ä¸ªæ¨¡æ¿å‚æ•°ï¼Œè¿™æ ·å°±å¾ˆå¥½é™åˆ¶äº†constè¿­ä»£å™¨ä¿®æ”¹æŒ‡å‘çš„å†…å®¹ï¼š<br> <br></p> 
<pre><code class="prism language-cpp"><span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">T</span><span class="token punctuation">,</span><span class="token keyword">class</span> <span class="token class-name">KeyOfT</span><span class="token operator">&gt;</span>
<span class="token keyword">class</span> <span class="token class-name">RBTree</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token keyword">typedef</span> RBTreeNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> Node<span class="token punctuation">;</span>
	<span class="token keyword">typedef</span> RBTreeIterator<span class="token operator">&lt;</span>T<span class="token punctuation">,</span>T<span class="token operator">&amp;</span><span class="token punctuation">,</span>T<span class="token operator">*</span><span class="token operator">&gt;</span> Iterator<span class="token punctuation">;</span>
	<span class="token keyword">typedef</span> RBTreeIterator<span class="token operator">&lt;</span>T<span class="token punctuation">,</span> <span class="token keyword">const</span> T<span class="token operator">&amp;</span><span class="token punctuation">,</span> <span class="token keyword">const</span> T<span class="token operator">*</span><span class="token operator">&gt;</span> ConstIterator<span class="token punctuation">;</span>

	<span class="token comment">//æ™®é€šè¿­ä»£å™¨</span>
	Iterator <span class="token function">Begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		Node<span class="token operator">*</span> leftMost <span class="token operator">=</span> _pHead<span class="token punctuation">;</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>leftMost <span class="token operator">&amp;&amp;</span> leftMost<span class="token operator">-&gt;</span>_left<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			leftMost <span class="token operator">=</span> leftMost<span class="token operator">-&gt;</span>_left<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">return</span> <span class="token function">Iterator</span><span class="token punctuation">(</span>leftMost<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	Iterator <span class="token function">End</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token function">Iterator</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">//constè¿­ä»£å™¨</span>
	ConstIterator <span class="token function">Begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> 
	<span class="token punctuation">{<!-- --></span>
		Node<span class="token operator">*</span> leftMost <span class="token operator">=</span> _pHead<span class="token punctuation">;</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>leftMost <span class="token operator">&amp;&amp;</span> leftMost<span class="token operator">-&gt;</span>_left<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			leftMost <span class="token operator">=</span> leftMost<span class="token operator">-&gt;</span>_left<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">return</span> <span class="token function">ConstIterator</span><span class="token punctuation">(</span>leftMost<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	ConstIterator <span class="token function">End</span><span class="token punctuation">(</span><span class="token punctuation">)</span>	<span class="token keyword">const</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token function">ConstIterator</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
<span class="token keyword">private</span><span class="token operator">:</span>
		Node<span class="token operator">*</span> _pHead <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre> 
<br> 
<p>â€ƒâ€ƒæœ‰äº†è¿­ä»£å™¨ä¹‹åï¼ŒFindæŸ¥æ‰¾å‡½æ•°çš„è¿”å›å€¼å°±å¯ä»¥ä½¿ç”¨è¿­ä»£å™¨äº†ğŸ¥³ğŸ¥³:</p> 
<pre><code class="prism language-cpp"><span class="token comment">// æ£€æµ‹çº¢é»‘æ ‘ä¸­æ˜¯å¦å­˜åœ¨å€¼ä¸ºkeyçš„èŠ‚ç‚¹ï¼Œå­˜åœ¨è¿”å›è¯¥èŠ‚ç‚¹çš„è¿­ä»£å™¨ï¼Œå¦åˆ™è¿”å›End()</span>
Iterator <span class="token function">Find</span><span class="token punctuation">(</span><span class="token keyword">const</span> K<span class="token operator">&amp;</span> key<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	KeyOfT kot<span class="token punctuation">;</span><span class="token comment">//ä½¿ç”¨ç±»æ¨¡æ¿ï¼Œå®šä¹‰ä¸€ä¸ªå¯¹è±¡</span>

	<span class="token comment">//1.å…ˆæ‰¾åˆ°æ’å…¥ä½ç½®</span>
	<span class="token comment">//å¦‚æœæ˜¯ç©ºæ ‘</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>_pHead <span class="token operator">==</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span>
		<span class="token keyword">return</span> <span class="token function">End</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	
	<span class="token comment">//å¦‚æœä¸æ˜¯ç©ºæ ‘</span>
	Node<span class="token operator">*</span> cur <span class="token operator">=</span> _pHead<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>cur<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">kot</span><span class="token punctuation">(</span>cur<span class="token operator">-&gt;</span>_data<span class="token punctuation">)</span> <span class="token operator">&gt;</span> key<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			cur <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_left<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">kot</span><span class="token punctuation">(</span>cur<span class="token operator">-&gt;</span>_data<span class="token punctuation">)</span> <span class="token operator">&lt;</span> key<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			cur <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_right<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span>
			<span class="token keyword">return</span> <span class="token function">Iterator</span><span class="token punctuation">(</span>cur<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ‰¾åˆ°è¿”å›</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">return</span> <span class="token function">End</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ²¡æ‰¾åˆ°è¿”å›End()</span>
<span class="token punctuation">}</span>
	
</code></pre> 
<blockquote> 
 <p>è¿™é‡ŒåŒæ ·è¦æ³¨æ„ï¼ŒæŸ¥æ‰¾å‡½æ•°éœ€è¦é€šè¿‡æ¯”è¾ƒç‰¹å®šçš„å€¼æ¥å®ç°ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ä¹‹å‰åœ¨æ’å…¥å‡½æ•°ä¸­ä½¿ç”¨çš„ç±»æ¨¡æ¿ç»§ç»­åˆ›å»ºä¸€ä¸ªå¯¹è±¡æ¥è·å–éœ€è¦æ¯”è¾ƒçš„å€¼ã€‚</p> 
</blockquote> 
<br> 
<h2><a id="3_map_468"></a>3. mapçš„[]è®¿é—®</h2> 
<br> 
<p>â€ƒâ€ƒåœ¨mapçš„ä½¿ç”¨ä»‹ç»ä¸­ï¼Œæˆ‘ä»¬çŸ¥é“å¯ä»¥ç”¨[]æ¥è®¿é—®ä¿®æ”¹é”®å€¼å¯¹ä»¥åŠæ’å…¥æ•°æ®ï¼š</p> 
<pre><code class="prism language-cpp"><span class="token comment">//è¿­ä»£å™¨æ„é€ </span>
std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span>pair<span class="token operator">&lt;</span>string<span class="token punctuation">,</span> string<span class="token operator">&gt;&gt;</span> v <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token punctuation">{<!-- --></span><span class="token string">"ä¸Š"</span><span class="token punctuation">,</span> <span class="token string">"up"</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> <span class="token string">"ä¸‹"</span><span class="token punctuation">,</span> <span class="token string">"down"</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> <span class="token string">"å·¦"</span><span class="token punctuation">,</span> <span class="token string">"left"</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> <span class="token string">"å³"</span><span class="token punctuation">,</span> <span class="token string">"right"</span><span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
std<span class="token double-colon punctuation">::</span>map<span class="token operator">&lt;</span>string<span class="token punctuation">,</span> string<span class="token operator">&gt;</span> <span class="token function">m</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//[]è®¿é—®</span>
cout <span class="token operator">&lt;&lt;</span> m<span class="token punctuation">[</span><span class="token string">"ä¸Š"</span><span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
cout <span class="token operator">&lt;&lt;</span> m<span class="token punctuation">[</span><span class="token string">"ä¸‹"</span><span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
cout <span class="token operator">&lt;&lt;</span> m<span class="token punctuation">[</span><span class="token string">"å·¦"</span><span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
cout <span class="token operator">&lt;&lt;</span> m<span class="token punctuation">[</span><span class="token string">"å³"</span><span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

<span class="token comment">//[]ä¿®æ”¹</span>
m<span class="token punctuation">[</span><span class="token string">"å³"</span><span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token string">"tutu"</span><span class="token punctuation">;</span>

<span class="token comment">//[]æ’å…¥</span>
m<span class="token punctuation">[</span><span class="token string">"ä¸­"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"center"</span><span class="token punctuation">;</span>

cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
cout <span class="token operator">&lt;&lt;</span> <span class="token string">"ä¿®æ”¹æ’å…¥åï¼š"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
std<span class="token double-colon punctuation">::</span>map<span class="token operator">&lt;</span>string<span class="token punctuation">,</span> string<span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>iterator it <span class="token operator">=</span> m<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span>it <span class="token operator">!=</span> m<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	cout <span class="token operator">&lt;&lt;</span> it<span class="token operator">-&gt;</span>first <span class="token operator">&lt;&lt;</span> <span class="token string">":"</span> <span class="token operator">&lt;&lt;</span> it<span class="token operator">-&gt;</span>second <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	<span class="token operator">++</span>it<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
</code></pre> 
<p>ç»“æœå¦‚ä¸‹ï¼š</p> 
<div align="center"> 
 <img src="https://images2.imgbox.com/d8/38/AttwuD1V_o.png" width="800"> 
</div> 
<br> 
<p>â€ƒâ€ƒmapçš„[]èƒ½å¤Ÿæ’å…¥æ•°æ®æ˜¯å› ä¸ºå…¶å¤ç”¨äº†æ’å…¥å‡½æ•°ï¼Œå¦‚æœ[]é‡Œé¢å¼•ç”¨çš„å€¼ä¸å­˜åœ¨mapä¸­å°±ä¼šæ’å…¥å¹¶è¿”å›é”®å€¼å¯¹çš„å€¼ï¼Œå­˜åœ¨å°±ç›´æ¥è¿”å›é”®å€¼å¯¹çš„å€¼ï¼Œè€Œæ’å…¥å‡½æ•°ä¸­æ°å¥½ä¼šå…ˆå¯»æ‰¾åˆé€‚çš„æ’å…¥ä½ç½®ï¼Œå¹¶è¿”å›boolå€¼ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€å¯¹æ’å…¥å‡½æ•°è¿”å›çš„å€¼è¿›è¡Œä¿®æ”¹ï¼š<br> <strong>æˆ‘ä»¬å°†æ’å…¥å‡½æ•°çš„è¿”å›å€¼è®¾ä¸ºpairç±»å‹ï¼Œå¦‚æœæ’å…¥æˆåŠŸå°±è¿”å›æ–°èŠ‚ç‚¹çš„è¿­ä»£å™¨å’Œtrueï¼›å¦‚æœæ’å…¥å¤±è´¥ï¼Œé‚£ä¹ˆmapä¸­è‚¯å®šä»¥åŠæœ‰ç›¸åŒçš„å€¼ï¼Œé‚£ä¹ˆè¿”å›è¯¥ä½ç½®çš„è¿­ä»£å™¨å’Œfalse</strong></p> 
<p>è¿™æ ·åœ¨[]ä¸­å°±å¯ä»¥å¤ç”¨æ’å…¥å‡½æ•°å®Œæˆæ’å…¥å’Œä¿®æ”¹æ“ä½œäº†ï¼š</p> 
<pre><code class="prism language-cpp">	V<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">const</span> K<span class="token operator">&amp;</span> key<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		pair<span class="token operator">&lt;</span>iterator<span class="token punctuation">,</span> <span class="token keyword">bool</span><span class="token operator">&gt;</span> ret <span class="token operator">=</span> <span class="token function">insert</span><span class="token punctuation">(</span><span class="token function">make_pair</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> <span class="token function">V</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> ret<span class="token punctuation">.</span>first<span class="token operator">-&gt;</span>second<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
</code></pre> 
<p>æ’å…¥å‡½æ•°åªéœ€è¦ä¿®æ”¹è¿”å›å€¼å³å¯ï¼š</p> 
<pre><code class="prism language-cpp">pair<span class="token operator">&lt;</span>Iterator<span class="token punctuation">,</span><span class="token keyword">bool</span><span class="token operator">&gt;</span> <span class="token function">Insert</span><span class="token punctuation">(</span><span class="token keyword">const</span> T<span class="token operator">&amp;</span> data<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">//...ç®€å†™</span>
	<span class="token comment">//1.æ’å…¥æˆåŠŸ</span>
		<span class="token keyword">return</span> <span class="token function">make_pair</span><span class="token punctuation">(</span><span class="token function">Iterator</span><span class="token punctuation">(</span>newnode<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//2.æ’å…¥å¤±è´¥</span>
		<span class="token keyword">return</span> <span class="token function">make_pair</span><span class="token punctuation">(</span><span class="token function">Iterator</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//node:å·²æœ‰ä½ç½®çš„æŒ‡é’ˆ</span>
<span class="token punctuation">}</span>

</code></pre> 
<br> 
<h2><a id="4_setmap_535"></a>4. setå’Œmapå°è£…</h2> 
<br> 
<p>â€ƒâ€ƒæˆ‘ä»¬å¯¹äºmapå’Œsetå°è£…éœ€è¦å„ç§æ–°å¼€ä¸€ä¸ªå¤´æ–‡ä»¶<code>map.h</code>å’Œ<code>set.h</code>æ¥è¿›è¡Œï¼Œå¹¶ä¸”éƒ½éœ€è¦åŒ…å«<code>RBTree.h</code>å¤´æ–‡ä»¶ï¼Œæ”¾åœ¨è‡ªå·±çš„å‘½åç©ºé—´å†…ï¼Œé¿å…ä¸STLæ ‡å‡†åº“ä¸­çš„mapå’Œsetå¼„æ··ã€‚</p> 
<h3><a id="_540"></a>âœ¨ä¿®æ”¹åçš„çº¢é»‘æ ‘</h3> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;assert.h&gt;</span></span>

<span class="token comment">//æšä¸¾é¢œè‰²</span>
<span class="token keyword">enum</span> <span class="token class-name">Colour</span>
<span class="token punctuation">{<!-- --></span>
	RED<span class="token punctuation">,</span>
	BLACK
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//èŠ‚ç‚¹ç±»</span>
<span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
<span class="token keyword">struct</span> <span class="token class-name">RBTreeNode</span>
<span class="token punctuation">{<!-- --></span>
	T _data<span class="token punctuation">;</span>	<span class="token comment">//å­˜æ”¾æ•°æ®</span>
	RBTreeNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> _left<span class="token punctuation">;</span>
	RBTreeNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> _right<span class="token punctuation">;</span>
	RBTreeNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> _parent<span class="token punctuation">;</span>
	Colour _col<span class="token punctuation">;</span>	<span class="token comment">//ä¿å­˜é¢œè‰²</span>

	<span class="token function">RBTreeNode</span><span class="token punctuation">(</span><span class="token keyword">const</span> T<span class="token operator">&amp;</span> data<span class="token punctuation">)</span>
		<span class="token operator">:</span><span class="token function">_data</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
		<span class="token punctuation">,</span> <span class="token function">_left</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span>
		<span class="token punctuation">,</span> <span class="token function">_right</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span>
		<span class="token punctuation">,</span> <span class="token function">_parent</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span>
		<span class="token punctuation">,</span> <span class="token function">_col</span><span class="token punctuation">(</span>RED<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//è¿­ä»£å™¨</span>
<span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token punctuation">,</span><span class="token keyword">class</span> <span class="token class-name">Ref</span><span class="token punctuation">,</span><span class="token keyword">class</span> <span class="token class-name">Ptr</span><span class="token operator">&gt;</span>
<span class="token keyword">struct</span> <span class="token class-name">RBTreeIterator</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">typedef</span> RBTreeNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> Node<span class="token punctuation">;</span>
	<span class="token keyword">typedef</span> RBTreeIterator<span class="token operator">&lt;</span>T<span class="token punctuation">,</span> Ref<span class="token punctuation">,</span> Ptr<span class="token operator">&gt;</span> self<span class="token punctuation">;</span>
	Ref <span class="token keyword">operator</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> _node<span class="token operator">-&gt;</span>_data<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	Ptr <span class="token keyword">operator</span><span class="token operator">-&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token operator">&amp;</span><span class="token punctuation">(</span>_node<span class="token operator">-&gt;</span>_data<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	self<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">++</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>_node<span class="token operator">-&gt;</span>_right<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token comment">// å³ä¸ä¸ºç©ºï¼Œå³å­æ ‘æœ€å·¦èŠ‚ç‚¹å°±æ˜¯ä¸­åºç¬¬ä¸€ä¸ª</span>
			Node<span class="token operator">*</span> leftMost <span class="token operator">=</span> _node<span class="token operator">-&gt;</span>_right<span class="token punctuation">;</span>
			<span class="token keyword">while</span> <span class="token punctuation">(</span>leftMost<span class="token operator">-&gt;</span>_left<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				leftMost <span class="token operator">=</span> leftMost<span class="token operator">-&gt;</span>_left<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			_node <span class="token operator">=</span> leftMost<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token comment">// å­©å­æ˜¯çˆ¶äº²å·¦çš„é‚£ä¸ªç¥–å…ˆ</span>
			Node<span class="token operator">*</span> cur <span class="token operator">=</span> _node<span class="token punctuation">;</span>
			Node<span class="token operator">*</span> parent <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_parent<span class="token punctuation">;</span>
			<span class="token keyword">while</span> <span class="token punctuation">(</span>parent <span class="token operator">&amp;&amp;</span> cur <span class="token operator">==</span> parent<span class="token operator">-&gt;</span>_right<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				cur <span class="token operator">=</span> parent<span class="token punctuation">;</span>
				parent <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_parent<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			_node <span class="token operator">=</span> parent<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token operator">!=</span><span class="token punctuation">(</span><span class="token keyword">const</span> self<span class="token operator">&amp;</span> t<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> _node <span class="token operator">!=</span> t<span class="token punctuation">.</span>_node<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token operator">==</span><span class="token punctuation">(</span><span class="token keyword">const</span> self<span class="token operator">&amp;</span> t<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> _node <span class="token operator">==</span> t<span class="token punctuation">.</span>_node<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//æ„é€ </span>
	<span class="token function">RBTreeIterator</span><span class="token punctuation">(</span>Node<span class="token operator">*</span> node<span class="token punctuation">)</span>
		<span class="token operator">:</span><span class="token function">_node</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
	Node<span class="token operator">*</span> _node<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>


<span class="token comment">//çº¢é»‘æ ‘ç±»</span>
<span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">T</span><span class="token punctuation">,</span><span class="token keyword">class</span> <span class="token class-name">KeyOfT</span><span class="token operator">&gt;</span>
<span class="token keyword">class</span> <span class="token class-name">RBTree</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token keyword">typedef</span> RBTreeNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> Node<span class="token punctuation">;</span>
	<span class="token keyword">typedef</span> RBTreeIterator<span class="token operator">&lt;</span>T<span class="token punctuation">,</span>T<span class="token operator">&amp;</span><span class="token punctuation">,</span>T<span class="token operator">*</span><span class="token operator">&gt;</span> Iterator<span class="token punctuation">;</span>
	<span class="token keyword">typedef</span> RBTreeIterator<span class="token operator">&lt;</span>T<span class="token punctuation">,</span><span class="token keyword">const</span> T<span class="token operator">&amp;</span><span class="token punctuation">,</span><span class="token keyword">const</span> T<span class="token operator">*</span><span class="token operator">&gt;</span> ConstIterator<span class="token punctuation">;</span>


	Iterator <span class="token function">Begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		Node<span class="token operator">*</span> leftMost <span class="token operator">=</span> _pHead<span class="token punctuation">;</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>leftMost <span class="token operator">&amp;&amp;</span> leftMost<span class="token operator">-&gt;</span>_left<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			leftMost <span class="token operator">=</span> leftMost<span class="token operator">-&gt;</span>_left<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">return</span> <span class="token function">Iterator</span><span class="token punctuation">(</span>leftMost<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token comment">//ç›´æ¥ä½¿ç”¨ç©ºæŒ‡é’ˆæ„é€ </span>
	Iterator <span class="token function">End</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token function">Iterator</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">//constè¿­ä»£å™¨</span>
	ConstIterator <span class="token function">Begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> 
	<span class="token punctuation">{<!-- --></span>
		Node<span class="token operator">*</span> leftMost <span class="token operator">=</span> _pHead<span class="token punctuation">;</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>leftMost <span class="token operator">&amp;&amp;</span> leftMost<span class="token operator">-&gt;</span>_left<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			leftMost <span class="token operator">=</span> leftMost<span class="token operator">-&gt;</span>_left<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">return</span> <span class="token function">ConstIterator</span><span class="token punctuation">(</span>leftMost<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	ConstIterator <span class="token function">End</span><span class="token punctuation">(</span><span class="token punctuation">)</span>	<span class="token keyword">const</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token function">ConstIterator</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token function">RBTree</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">default</span><span class="token punctuation">;</span>
	
	<span class="token comment">//æ‹·è´æ„é€ </span>
	<span class="token function">RBTree</span><span class="token punctuation">(</span><span class="token keyword">const</span> RBTree<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> T<span class="token punctuation">,</span>KeyOfT<span class="token operator">&gt;</span><span class="token operator">&amp;</span> t<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		_pHead <span class="token operator">=</span> <span class="token function">Copy</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>_pHead<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//èµ‹å€¼è¿ç®—ç¬¦é‡è½½</span>
	RBTree<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> T<span class="token punctuation">,</span> KeyOfT<span class="token operator">&gt;</span><span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">=</span><span class="token punctuation">(</span>RBTree<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> T<span class="token punctuation">,</span> KeyOfT<span class="token operator">&gt;</span> t<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">swap</span><span class="token punctuation">(</span>_pHead<span class="token punctuation">,</span> t<span class="token punctuation">.</span>_pHead<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token comment">//ææ„å‡½æ•°</span>
	<span class="token operator">~</span><span class="token function">RBTree</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">Destroy</span><span class="token punctuation">(</span>_pHead<span class="token punctuation">)</span><span class="token punctuation">;</span>
		_pHead <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token comment">//æ±‚æ ‘çš„é«˜åº¦</span>
	<span class="token keyword">int</span> <span class="token function">Height</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token function">_Height</span><span class="token punctuation">(</span>_pHead<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token comment">//æ ‘ä¸­èŠ‚ç‚¹ä¸ªæ•°</span>
	<span class="token keyword">int</span> <span class="token function">Size</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token function">_Size</span><span class="token punctuation">(</span>_pHead<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>


	
	<span class="token comment">// æ³¨æ„ï¼šä¸ºäº†ç®€å•èµ·è§ï¼Œæœ¬æ¬¡å®ç°çº¢é»‘æ ‘ä¸å­˜å‚¨é‡å¤æ€§å…ƒç´ </span>
	pair<span class="token operator">&lt;</span>Iterator<span class="token punctuation">,</span><span class="token keyword">bool</span><span class="token operator">&gt;</span> <span class="token function">Insert</span><span class="token punctuation">(</span><span class="token keyword">const</span> T<span class="token operator">&amp;</span> data<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		KeyOfT kot<span class="token punctuation">;</span><span class="token comment">//ä½¿ç”¨ç±»æ¨¡æ¿ï¼Œå®šä¹‰ä¸€ä¸ªå¯¹è±¡</span>

		<span class="token comment">//1.å…ˆæ‰¾åˆ°æ’å…¥ä½ç½®</span>
		<span class="token comment">//å¦‚æœæ˜¯ç©ºæ ‘</span>
		
		<span class="token keyword">if</span> <span class="token punctuation">(</span>_pHead <span class="token operator">==</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			Node<span class="token operator">*</span> newnode <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Node</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
			newnode<span class="token operator">-&gt;</span>_col <span class="token operator">=</span> BLACK<span class="token punctuation">;</span>
			_pHead <span class="token operator">=</span> newnode<span class="token punctuation">;</span>
			<span class="token keyword">return</span> <span class="token function">make_pair</span><span class="token punctuation">(</span><span class="token function">Iterator</span><span class="token punctuation">(</span>newnode<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token comment">//å¦‚æœä¸æ˜¯ç©ºæ ‘</span>
		Node<span class="token operator">*</span> cur <span class="token operator">=</span> _pHead<span class="token punctuation">;</span>
		Node<span class="token operator">*</span> parent <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>cur<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">kot</span><span class="token punctuation">(</span>cur<span class="token operator">-&gt;</span>_data<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token function">kot</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				parent <span class="token operator">=</span> cur<span class="token punctuation">;</span>
				cur <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_left<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">kot</span><span class="token punctuation">(</span>cur<span class="token operator">-&gt;</span>_data<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token function">kot</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				parent <span class="token operator">=</span> cur<span class="token punctuation">;</span>
				cur <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_right<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">else</span>
				<span class="token keyword">return</span> <span class="token function">make_pair</span><span class="token punctuation">(</span><span class="token function">Iterator</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ²¡æ‰¾åˆ°è¿”å›false</span>
		<span class="token punctuation">}</span>
		
		<span class="token comment">//2.æ‰¾åˆ°ï¼Œæ’å…¥èŠ‚ç‚¹</span>
		Node<span class="token operator">*</span> newnode <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Node</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">//åˆ¤æ–­æ’å…¥çˆ¶èŠ‚ç‚¹å·¦ä¾§è¿˜æ˜¯å³ä¾§</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">kot</span><span class="token punctuation">(</span>parent<span class="token operator">-&gt;</span>_data<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token function">kot</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span>
			parent<span class="token operator">-&gt;</span>_left <span class="token operator">=</span> newnode<span class="token punctuation">;</span>
		<span class="token keyword">else</span>
			parent<span class="token operator">-&gt;</span>_right <span class="token operator">=</span> newnode<span class="token punctuation">;</span>

		<span class="token comment">//æ›´æ–°newnodeçˆ¶èŠ‚ç‚¹å’Œé¢œè‰²</span>
		newnode<span class="token operator">-&gt;</span>_parent <span class="token operator">=</span> parent<span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>parent<span class="token operator">-&gt;</span>_col <span class="token operator">==</span> BLACK<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token comment">//çˆ¶èŠ‚ç‚¹æ˜¯é»‘è‰²,æ’å…¥æˆåŠŸ</span>
			<span class="token keyword">return</span> <span class="token function">make_pair</span><span class="token punctuation">(</span><span class="token function">Iterator</span><span class="token punctuation">(</span>newnode<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>parent<span class="token operator">-&gt;</span>_col <span class="token operator">==</span> RED<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token comment">//çˆ¶èŠ‚ç‚¹æ˜¯çº¢è‰²</span>

			cur <span class="token operator">=</span> newnode<span class="token punctuation">;</span>
			<span class="token keyword">while</span> <span class="token punctuation">(</span>parent <span class="token operator">&amp;&amp;</span> parent<span class="token operator">-&gt;</span>_col <span class="token operator">==</span> RED<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				Node<span class="token operator">*</span> grandparent <span class="token operator">=</span> parent<span class="token operator">-&gt;</span>_parent<span class="token punctuation">;</span><span class="token comment">//parentæ˜¯çº¢è‰²ï¼Œè‚¯å®šä¸æ˜¯æ ¹èŠ‚ç‚¹ï¼Œæ‰€ä»¥grandparentä¸æ˜¯ç©ºèŠ‚ç‚¹ï¼Œè€Œä¸”æ˜¯é»‘è‰²</span>
				
				<span class="token comment">//æ‰¾å”å”èŠ‚ç‚¹</span>
				Node<span class="token operator">*</span> uncle <span class="token operator">=</span> grandparent<span class="token operator">-&gt;</span>_left<span class="token punctuation">;</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span>parent <span class="token operator">==</span> grandparent<span class="token operator">-&gt;</span>_left<span class="token punctuation">)</span>
					uncle <span class="token operator">=</span> grandparent<span class="token operator">-&gt;</span>_right<span class="token punctuation">;</span>
				
				<span class="token keyword">if</span> <span class="token punctuation">(</span>uncle<span class="token operator">&amp;&amp;</span>uncle<span class="token operator">-&gt;</span>_col <span class="token operator">==</span> RED<span class="token punctuation">)</span>
				<span class="token punctuation">{<!-- --></span>
					<span class="token comment">//å¦‚æœuncleæ˜¯çº¢è‰²</span>
					<span class="token comment">//å°†unlcleå’ŒparentèŠ‚ç‚¹éƒ½å˜ä¸ºé»‘è‰²ï¼ŒgrandparentèŠ‚ç‚¹å˜ä¸ºçº¢è‰²</span>
					parent<span class="token operator">-&gt;</span>_col <span class="token operator">=</span> uncle<span class="token operator">-&gt;</span>_col <span class="token operator">=</span> BLACK<span class="token punctuation">;</span><span class="token comment">//å³å¯ä¿è¯æ‰€æœ‰è·¯å¾„ä¸Šé»‘è‰²ä¸€æ ·å¤š</span>
					grandparent<span class="token operator">-&gt;</span>_col <span class="token operator">=</span> RED<span class="token punctuation">;</span>
				
					<span class="token comment">//ç»§ç»­å¾€ä¸Šæ›´æ–°</span>
					cur <span class="token operator">=</span> grandparent<span class="token punctuation">;</span>
					parent <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_parent<span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>uncle<span class="token operator">==</span><span class="token keyword">nullptr</span><span class="token operator">||</span>uncle<span class="token operator">-&gt;</span>_col <span class="token operator">==</span> BLACK<span class="token punctuation">)</span>
				<span class="token punctuation">{<!-- --></span>
					<span class="token comment">//å¦‚æœuncleä¸å­˜åœ¨æˆ–è€…å­˜åœ¨ä¸”ä¸ºé»‘è‰²</span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span>grandparent<span class="token operator">-&gt;</span>_left <span class="token operator">==</span> parent <span class="token operator">&amp;&amp;</span> parent<span class="token operator">-&gt;</span>_left <span class="token operator">==</span> cur<span class="token punctuation">)</span>
					<span class="token punctuation">{<!-- --></span>
						<span class="token comment">//å³å•æ—‹,å†å°†grandparentæ”¹ä¸ºçº¢è‰²ï¼Œparentæ”¹ä¸ºé»‘è‰²</span>
						<span class="token function">RotateR</span><span class="token punctuation">(</span>grandparent<span class="token punctuation">)</span><span class="token punctuation">;</span>
						grandparent<span class="token operator">-&gt;</span>_col <span class="token operator">=</span> RED<span class="token punctuation">;</span>
						parent<span class="token operator">-&gt;</span>_col <span class="token operator">=</span> BLACK<span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
					<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>grandparent<span class="token operator">-&gt;</span>_right <span class="token operator">==</span> parent <span class="token operator">&amp;&amp;</span> parent<span class="token operator">-&gt;</span>_right <span class="token operator">==</span> cur<span class="token punctuation">)</span>
					<span class="token punctuation">{<!-- --></span>
						<span class="token comment">//å·¦å•æ—‹,å†å°†grandparentæ”¹ä¸ºçº¢è‰²ï¼Œparentæ”¹ä¸ºé»‘è‰²</span>
						<span class="token function">RotateL</span><span class="token punctuation">(</span>grandparent<span class="token punctuation">)</span><span class="token punctuation">;</span>
						grandparent<span class="token operator">-&gt;</span>_col <span class="token operator">=</span> RED<span class="token punctuation">;</span>
						parent<span class="token operator">-&gt;</span>_col <span class="token operator">=</span> BLACK<span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
					<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>grandparent<span class="token operator">-&gt;</span>_right <span class="token operator">==</span> parent <span class="token operator">&amp;&amp;</span> parent<span class="token operator">-&gt;</span>_left <span class="token operator">==</span> cur<span class="token punctuation">)</span>
					<span class="token punctuation">{<!-- --></span>
						<span class="token function">RotateR</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å…ˆå³å•æ—‹</span>
						<span class="token function">RotateL</span><span class="token punctuation">(</span>grandparent<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å†å·¦å•æ—‹</span>
						<span class="token comment">//å†å°†grandparentçš„é¢œè‰²æ”¹ä¸ºçº¢è‰²ï¼Œcuræ”¹ä¸ºé»‘è‰²</span>
						grandparent<span class="token operator">-&gt;</span>_col <span class="token operator">=</span> RED<span class="token punctuation">;</span>
						cur<span class="token operator">-&gt;</span>_col <span class="token operator">=</span> BLACK<span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
					<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>grandparent<span class="token operator">-&gt;</span>_left <span class="token operator">==</span> parent <span class="token operator">&amp;&amp;</span> parent<span class="token operator">-&gt;</span>_right <span class="token operator">==</span> cur<span class="token punctuation">)</span>
					<span class="token punctuation">{<!-- --></span>
						<span class="token function">RotateL</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å…ˆå·¦å•æ—‹</span>
						<span class="token function">RotateR</span><span class="token punctuation">(</span>grandparent<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//åå³å•æ—‹</span>
						<span class="token comment">//å†å°†grandparentçš„é¢œè‰²æ”¹ä¸ºçº¢è‰²ï¼Œparentæ”¹ä¸ºé»‘è‰²</span>
						grandparent<span class="token operator">-&gt;</span>_col <span class="token operator">=</span> RED<span class="token punctuation">;</span>
						cur<span class="token operator">-&gt;</span>_col <span class="token operator">=</span> BLACK<span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
					<span class="token keyword">else</span>
						<span class="token function">assert</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
					
					<span class="token comment">//æ’å…¥æˆåŠŸï¼Œè·³å‡ºå¾ªç¯</span>
					<span class="token keyword">break</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>

		<span class="token punctuation">}</span>
		_pHead<span class="token operator">-&gt;</span>_col <span class="token operator">=</span> BLACK<span class="token punctuation">;</span>
		<span class="token keyword">return</span> <span class="token function">make_pair</span><span class="token punctuation">(</span><span class="token function">Iterator</span><span class="token punctuation">(</span>newnode<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// æ£€æµ‹çº¢é»‘æ ‘æ˜¯å¦ä¸ºæœ‰æ•ˆçš„çº¢é»‘æ ‘</span>
	<span class="token keyword">bool</span> <span class="token function">IsValidRBTRee</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>_pHead <span class="token operator">==</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span>
			<span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span>_pHead<span class="token operator">-&gt;</span>_col <span class="token operator">==</span> RED<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// å…ˆæ±‚ä¸€æ¡è·¯å¾„ä¸Šé»‘è‰²èŠ‚ç‚¹æ•°é‡ä½œä¸ºå‚è€ƒå€¼</span>
		<span class="token keyword">int</span> refNum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
		Node<span class="token operator">*</span> cur <span class="token operator">=</span> _pHead<span class="token punctuation">;</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>cur<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>cur<span class="token operator">-&gt;</span>_col <span class="token operator">==</span> BLACK<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token operator">++</span>refNum<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			cur <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_left<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">return</span> <span class="token function">Check</span><span class="token punctuation">(</span>_pHead<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> refNum<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// æ£€æµ‹çº¢é»‘æ ‘ä¸­æ˜¯å¦å­˜åœ¨å€¼ä¸ºkeyçš„èŠ‚ç‚¹ï¼Œå­˜åœ¨è¿”å›è¯¥èŠ‚ç‚¹çš„è¿­ä»£å™¨ï¼Œå¦åˆ™è¿”å›End()</span>
	Iterator <span class="token function">Find</span><span class="token punctuation">(</span><span class="token keyword">const</span> K<span class="token operator">&amp;</span> key<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		KeyOfT kot<span class="token punctuation">;</span><span class="token comment">//ä½¿ç”¨ç±»æ¨¡æ¿ï¼Œå®šä¹‰ä¸€ä¸ªå¯¹è±¡</span>

		<span class="token comment">//1.å…ˆæ‰¾åˆ°æ’å…¥ä½ç½®</span>
		<span class="token comment">//å¦‚æœæ˜¯ç©ºæ ‘</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>_pHead <span class="token operator">==</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span>
			<span class="token keyword">return</span> <span class="token function">End</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		
		<span class="token comment">//å¦‚æœä¸æ˜¯ç©ºæ ‘</span>
		Node<span class="token operator">*</span> cur <span class="token operator">=</span> _pHead<span class="token punctuation">;</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>cur<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">kot</span><span class="token punctuation">(</span>cur<span class="token operator">-&gt;</span>_data<span class="token punctuation">)</span> <span class="token operator">&gt;</span> key<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				cur <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_left<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">kot</span><span class="token punctuation">(</span>cur<span class="token operator">-&gt;</span>_data<span class="token punctuation">)</span> <span class="token operator">&lt;</span> key<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				cur <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_right<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">else</span>
				<span class="token keyword">return</span> <span class="token function">Iterator</span><span class="token punctuation">(</span>cur<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ‰¾åˆ°è¿”å›</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">return</span> <span class="token function">End</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ²¡æ‰¾åˆ°è¿”å›End()</span>
	<span class="token punctuation">}</span>

	


	

<span class="token keyword">private</span><span class="token operator">:</span>
	
	<span class="token keyword">bool</span> <span class="token function">Check</span><span class="token punctuation">(</span>Node<span class="token operator">*</span> root<span class="token punctuation">,</span> <span class="token keyword">int</span> blackNum<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">int</span> refNum<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token comment">//cout &lt;&lt; blackNum &lt;&lt; endl;</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>refNum <span class="token operator">!=</span> blackNum<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				cout <span class="token operator">&lt;&lt;</span> <span class="token string">"å­˜åœ¨é»‘è‰²èŠ‚ç‚¹çš„æ•°é‡ä¸ç›¸ç­‰çš„è·¯å¾„"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
				<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-&gt;</span>_col <span class="token operator">==</span> RED <span class="token operator">&amp;&amp;</span> root<span class="token operator">-&gt;</span>_parent<span class="token operator">-&gt;</span>_col <span class="token operator">==</span> RED<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			cout <span class="token operator">&lt;&lt;</span> root<span class="token operator">-&gt;</span>_kv<span class="token punctuation">.</span>first <span class="token operator">&lt;&lt;</span> <span class="token string">"å­˜åœ¨è¿ç»­çš„çº¢è‰²èŠ‚ç‚¹"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
			<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-&gt;</span>_col <span class="token operator">==</span> BLACK<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			blackNum<span class="token operator">++</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">return</span> <span class="token function">Check</span><span class="token punctuation">(</span>root<span class="token operator">-&gt;</span>_left<span class="token punctuation">,</span> blackNum<span class="token punctuation">,</span> refNum<span class="token punctuation">)</span>
			<span class="token operator">&amp;&amp;</span> <span class="token function">Check</span><span class="token punctuation">(</span>root<span class="token operator">-&gt;</span>_right<span class="token punctuation">,</span> blackNum<span class="token punctuation">,</span> refNum<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">// å·¦å•æ—‹</span>
	<span class="token keyword">void</span> <span class="token function">RotateL</span><span class="token punctuation">(</span>Node<span class="token operator">*</span> parent<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>

		Node<span class="token operator">*</span> cur <span class="token operator">=</span> parent<span class="token operator">-&gt;</span>_right<span class="token punctuation">;</span>

		<span class="token comment">//å°†curçš„å·¦è¾¹ç»™parentçš„å³è¾¹ï¼Œcurçš„å·¦è¾¹å†æŒ‡å‘parent</span>
		parent<span class="token operator">-&gt;</span>_right <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_left<span class="token punctuation">;</span>
		cur<span class="token operator">-&gt;</span>_left <span class="token operator">=</span> parent<span class="token punctuation">;</span>

		<span class="token comment">//é“¾æ¥curä¸parentçš„çˆ¶èŠ‚ç‚¹</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>parent<span class="token operator">-&gt;</span>_parent <span class="token operator">==</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token comment">//å¦‚æœparentæ˜¯æ ¹èŠ‚ç‚¹</span>
			cur<span class="token operator">-&gt;</span>_parent <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>
			_pHead <span class="token operator">=</span> cur<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>parent<span class="token operator">-&gt;</span>_parent<span class="token operator">-&gt;</span>_left <span class="token operator">==</span> parent<span class="token punctuation">)</span>
			parent<span class="token operator">-&gt;</span>_parent<span class="token operator">-&gt;</span>_left <span class="token operator">=</span> cur<span class="token punctuation">;</span>
		<span class="token keyword">else</span>
			parent<span class="token operator">-&gt;</span>_parent<span class="token operator">-&gt;</span>_right <span class="token operator">=</span> cur<span class="token punctuation">;</span>


		<span class="token comment">//æ›´æ–°çˆ¶èŠ‚ç‚¹</span>
		cur<span class="token operator">-&gt;</span>_parent <span class="token operator">=</span> parent<span class="token operator">-&gt;</span>_parent<span class="token punctuation">;</span>
		parent<span class="token operator">-&gt;</span>_parent <span class="token operator">=</span> cur<span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>parent<span class="token operator">-&gt;</span>_right<span class="token punctuation">)</span><span class="token comment">//åˆ¤æ–­parentçš„å³è¾¹æ˜¯å¦å­˜åœ¨</span>
			parent<span class="token operator">-&gt;</span>_right<span class="token operator">-&gt;</span>_parent <span class="token operator">=</span> parent<span class="token punctuation">;</span>

		
	<span class="token punctuation">}</span>
	<span class="token comment">// å³å•æ—‹</span>
	<span class="token keyword">void</span> <span class="token function">RotateR</span><span class="token punctuation">(</span>Node<span class="token operator">*</span> parent<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		Node<span class="token operator">*</span> cur <span class="token operator">=</span> parent<span class="token operator">-&gt;</span>_left<span class="token punctuation">;</span>

		<span class="token comment">//å°†curçš„å³è¾¹ç»™parentçš„å·¦è¾¹ï¼Œcurçš„å³è¾¹å†æŒ‡å‘parent</span>
		parent<span class="token operator">-&gt;</span>_left <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_right<span class="token punctuation">;</span>
		cur<span class="token operator">-&gt;</span>_right <span class="token operator">=</span> parent<span class="token punctuation">;</span>

		<span class="token comment">//é“¾æ¥curä¸parentçš„çˆ¶èŠ‚ç‚¹</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>parent<span class="token operator">-&gt;</span>_parent <span class="token operator">==</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token comment">//å¦‚æœparentæ˜¯æ ¹èŠ‚ç‚¹</span>
			cur<span class="token operator">-&gt;</span>_parent <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>
			_pHead <span class="token operator">=</span> cur<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>parent<span class="token operator">-&gt;</span>_parent<span class="token operator">-&gt;</span>_left <span class="token operator">==</span> parent<span class="token punctuation">)</span>
			parent<span class="token operator">-&gt;</span>_parent<span class="token operator">-&gt;</span>_left <span class="token operator">=</span> cur<span class="token punctuation">;</span>
		<span class="token keyword">else</span>
			parent<span class="token operator">-&gt;</span>_parent<span class="token operator">-&gt;</span>_right <span class="token operator">=</span> cur<span class="token punctuation">;</span>


		<span class="token comment">//æ›´æ–°çˆ¶èŠ‚ç‚¹</span>
		cur<span class="token operator">-&gt;</span>_parent <span class="token operator">=</span> parent<span class="token operator">-&gt;</span>_parent<span class="token punctuation">;</span>
		parent<span class="token operator">-&gt;</span>_parent <span class="token operator">=</span> cur<span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>parent<span class="token operator">-&gt;</span>_left<span class="token punctuation">)</span>
			parent<span class="token operator">-&gt;</span>_left<span class="token operator">-&gt;</span>_parent <span class="token operator">=</span> parent<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">int</span> <span class="token function">_Size</span><span class="token punctuation">(</span>Node<span class="token operator">*</span> root<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> root <span class="token operator">==</span> <span class="token keyword">nullptr</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> <span class="token function">_Size</span><span class="token punctuation">(</span>root<span class="token operator">-&gt;</span>_left<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">_Size</span><span class="token punctuation">(</span>root<span class="token operator">-&gt;</span>_right<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">int</span> <span class="token function">_Height</span><span class="token punctuation">(</span>Node<span class="token operator">*</span> root<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span>
			<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>

		<span class="token keyword">int</span> leftHeight <span class="token operator">=</span> <span class="token function">_Height</span><span class="token punctuation">(</span>root<span class="token operator">-&gt;</span>_left<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">int</span> rightHeight <span class="token operator">=</span> <span class="token function">_Height</span><span class="token punctuation">(</span>root<span class="token operator">-&gt;</span>_right<span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token keyword">return</span> leftHeight <span class="token operator">&gt;</span> rightHeight <span class="token operator">?</span> leftHeight <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">:</span> rightHeight <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">void</span> <span class="token function">Destroy</span><span class="token punctuation">(</span>Node<span class="token operator">*</span> root<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span>
			<span class="token keyword">return</span><span class="token punctuation">;</span>

		<span class="token function">Destroy</span><span class="token punctuation">(</span>root<span class="token operator">-&gt;</span>_left<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">Destroy</span><span class="token punctuation">(</span>root<span class="token operator">-&gt;</span>_right<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">delete</span> root<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	Node<span class="token operator">*</span> <span class="token function">Copy</span><span class="token punctuation">(</span>Node<span class="token operator">*</span> root<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span>
			<span class="token keyword">return</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>

		Node<span class="token operator">*</span> newRoot <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Node</span><span class="token punctuation">(</span>root<span class="token operator">-&gt;</span>_data<span class="token punctuation">)</span><span class="token punctuation">;</span>
		newRoot<span class="token operator">-&gt;</span>_left <span class="token operator">=</span> <span class="token function">Copy</span><span class="token punctuation">(</span>root<span class="token operator">-&gt;</span>_left<span class="token punctuation">)</span><span class="token punctuation">;</span>
		newRoot<span class="token operator">-&gt;</span>_right <span class="token operator">=</span> <span class="token function">Copy</span><span class="token punctuation">(</span>root<span class="token operator">-&gt;</span>_right<span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token keyword">return</span> newRoot<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>


	Node<span class="token operator">*</span> _pHead <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre> 
<br> 
<h3><a id="map_1026"></a>âœ¨mapç±»</h3> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">"RBTree.h"</span></span>
<span class="token keyword">namespace</span> tutu <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">K</span><span class="token punctuation">,</span><span class="token keyword">class</span> <span class="token class-name">V</span><span class="token operator">&gt;</span>
	<span class="token keyword">class</span> <span class="token class-name">map</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">public</span><span class="token operator">:</span>
		<span class="token comment">//å®šä¹‰ç±»è·å–data.firstè¿›è¡Œæ¯”è¾ƒ</span>
		<span class="token keyword">struct</span> <span class="token class-name">MapKeyOfT</span> <span class="token punctuation">{<!-- --></span>
			<span class="token keyword">const</span> K<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">const</span> pair<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> V<span class="token operator">&gt;</span><span class="token operator">&amp;</span> data<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token keyword">return</span> data<span class="token punctuation">.</span>first<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">;</span>

		<span class="token keyword">typedef</span> <span class="token keyword">typename</span> <span class="token class-name">RBTree</span><span class="token operator">&lt;</span>K<span class="token punctuation">,</span> pair<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> V<span class="token operator">&gt;</span><span class="token punctuation">,</span> MapKeyOfT<span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>Iterator iterator<span class="token punctuation">;</span>
		<span class="token keyword">typedef</span> <span class="token keyword">typename</span> <span class="token class-name">RBTree</span><span class="token operator">&lt;</span>K<span class="token punctuation">,</span> pair<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> V<span class="token operator">&gt;</span><span class="token punctuation">,</span> MapKeyOfT<span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>ConstIterator const_iterator<span class="token punctuation">;</span>

		iterator <span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _t<span class="token punctuation">.</span><span class="token function">Begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		iterator <span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _t<span class="token punctuation">.</span><span class="token function">End</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		const_iterator <span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _t<span class="token punctuation">.</span><span class="token function">Begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		const_iterator <span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span>	<span class="token keyword">const</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _t<span class="token punctuation">.</span><span class="token function">End</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		pair<span class="token operator">&lt;</span>iterator<span class="token punctuation">,</span><span class="token keyword">bool</span><span class="token operator">&gt;</span> <span class="token function">insert</span><span class="token punctuation">(</span><span class="token keyword">const</span> pair<span class="token operator">&lt;</span>K<span class="token punctuation">,</span>V<span class="token operator">&gt;</span><span class="token operator">&amp;</span> data<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _t<span class="token punctuation">.</span><span class="token function">Insert</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		
		iterator <span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">const</span> K<span class="token operator">&amp;</span> key<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _t<span class="token punctuation">.</span><span class="token function">Find</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		V<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">const</span> K<span class="token operator">&amp;</span> key<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			pair<span class="token operator">&lt;</span>iterator<span class="token punctuation">,</span> <span class="token keyword">bool</span><span class="token operator">&gt;</span> ret <span class="token operator">=</span> <span class="token function">insert</span><span class="token punctuation">(</span><span class="token function">make_pair</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> <span class="token function">V</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span> ret<span class="token punctuation">.</span>first<span class="token operator">-&gt;</span>second<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

	<span class="token keyword">private</span><span class="token operator">:</span>
		RBTree<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> pair<span class="token operator">&lt;</span>K<span class="token punctuation">,</span>V<span class="token operator">&gt;</span><span class="token punctuation">,</span> MapKeyOfT<span class="token operator">&gt;</span> _t<span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>


<span class="token comment">//æµ‹è¯•å‡½æ•°</span>
	<span class="token keyword">void</span> <span class="token function">Print</span><span class="token punctuation">(</span><span class="token keyword">const</span> map<span class="token operator">&lt;</span>string<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> m<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		map<span class="token operator">&lt;</span>string<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>const_iterator it <span class="token operator">=</span> m<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>it <span class="token operator">!=</span> m<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			cout <span class="token operator">&lt;&lt;</span> it<span class="token operator">-&gt;</span>first <span class="token operator">&lt;&lt;</span> <span class="token string">":"</span> <span class="token operator">&lt;&lt;</span> it<span class="token operator">-&gt;</span>second <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

			<span class="token operator">++</span>it<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">void</span> <span class="token function">TestMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		map<span class="token operator">&lt;</span>string<span class="token punctuation">,</span><span class="token keyword">int</span><span class="token operator">&gt;</span> m<span class="token punctuation">;</span>
		m<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> <span class="token string">"111"</span><span class="token punctuation">,</span><span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		m<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> <span class="token string">"444"</span><span class="token punctuation">,</span><span class="token number">4</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		m<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> <span class="token string">"222"</span><span class="token punctuation">,</span><span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		m<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> <span class="token string">"666"</span><span class="token punctuation">,</span><span class="token number">6</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		m<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> <span class="token string">"333"</span><span class="token punctuation">,</span><span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		m<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> <span class="token string">"777"</span><span class="token punctuation">,</span><span class="token number">7</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		
		map<span class="token operator">&lt;</span>string<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>iterator it <span class="token operator">=</span> m<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>it <span class="token operator">!=</span> m<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			cout <span class="token operator">&lt;&lt;</span> it<span class="token operator">-&gt;</span>first <span class="token operator">&lt;&lt;</span> <span class="token string">":"</span> <span class="token operator">&lt;&lt;</span> it<span class="token operator">-&gt;</span>second <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
			
			<span class="token operator">++</span>it<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
		<span class="token comment">/*cout &lt;&lt; "â€œ777â€ï¼š" &lt;&lt; endl;
		cout &lt;&lt; m.find("777")-&gt;second &lt;&lt; endl;*/</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">"constè¿­ä»£å™¨éå†ï¼š"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
		<span class="token function">Print</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<p>ç»“æœå¦‚ä¸‹ï¼š</p> 
<div align="center"> 
 <img src="https://images2.imgbox.com/fe/8d/t62qGKsf_o.png" width="800"> 
</div> 
<br> 
<h3><a id="set_1128"></a>âœ¨setç±»</h3> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">"RBTree.h"</span></span>

<span class="token keyword">namespace</span> tutu <span class="token punctuation">{<!-- --></span>

	<span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">K</span><span class="token operator">&gt;</span>
	<span class="token keyword">class</span> <span class="token class-name">set</span><span class="token punctuation">{<!-- --></span>
	<span class="token keyword">public</span><span class="token operator">:</span>
		<span class="token keyword">struct</span> <span class="token class-name">SetKeyOfT</span> <span class="token punctuation">{<!-- --></span>
			<span class="token keyword">const</span> K<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">const</span> K<span class="token operator">&amp;</span> data<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token keyword">return</span> data<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">;</span>
	
		<span class="token keyword">typedef</span> <span class="token keyword">typename</span> <span class="token class-name">RBTree</span><span class="token operator">&lt;</span>K<span class="token punctuation">,</span> K<span class="token punctuation">,</span> SetKeyOfT<span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>Iterator iterator<span class="token punctuation">;</span>
		<span class="token keyword">typedef</span> <span class="token keyword">typename</span> <span class="token class-name">RBTree</span><span class="token operator">&lt;</span>K<span class="token punctuation">,</span> K<span class="token punctuation">,</span> SetKeyOfT<span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>ConstIterator const_iterator<span class="token punctuation">;</span>

		iterator <span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _t<span class="token punctuation">.</span><span class="token function">Begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		iterator <span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _t<span class="token punctuation">.</span><span class="token function">End</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		const_iterator <span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _t<span class="token punctuation">.</span><span class="token function">Begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		const_iterator <span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span>	<span class="token keyword">const</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _t<span class="token punctuation">.</span><span class="token function">End</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		pair<span class="token operator">&lt;</span>iterator<span class="token punctuation">,</span> <span class="token keyword">bool</span><span class="token operator">&gt;</span> <span class="token function">insert</span><span class="token punctuation">(</span><span class="token keyword">const</span> K<span class="token operator">&amp;</span> data<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _t<span class="token punctuation">.</span><span class="token function">Insert</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		iterator <span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">const</span> K<span class="token operator">&amp;</span> key<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _t<span class="token punctuation">.</span><span class="token function">Find</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>


	<span class="token keyword">private</span><span class="token operator">:</span>
		RBTree<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> K<span class="token punctuation">,</span> SetKeyOfT<span class="token operator">&gt;</span> _t<span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre> 
<p>ç»“æœå¦‚ä¸‹ï¼š</p> 
<div align="center"> 
 <img src="https://images2.imgbox.com/cc/83/mOpQcYmC_o.png" width="800"> 
</div> 
<br> 
<h2><a id="5__1187"></a>5. ç»“è¯­</h2> 
<p>â€ƒâ€ƒ<strong>map</strong>å’Œ<strong>set</strong>çš„åº•å±‚éƒ½æ˜¯ä½¿ç”¨ä¸€é¢—çº¢é»‘æ ‘æ¥å®ç°çš„ï¼Œç„¶ååœ¨å¤–é¢å¥—äº†ä¸€å±‚å£³ï¼Œä¸ºäº†èƒ½å¤Ÿæ›´å¥½çš„å®ç°ä»£ç å¤ç”¨ï¼Œæˆ‘ä»¬å¯¹çº¢é»‘æ ‘è¿›è¡Œäº†å¾ˆå¤šä¿®æ”¹è¿˜ä½¿ç”¨äº†ä»¿å‡½æ•°ï¼Œæœ€ç»ˆç”¨ä¸€é¢—çº¢é»‘æ ‘æ¨¡æ‹Ÿå®ç°é™¤äº†<strong>map</strong>å’Œ<strong>set</strong>ã€‚ä»¥ä¸Šå°±æ˜¯ä»Šå¤©æ‰€æœ‰çš„å†…å®¹å•¦~ å®Œç»“æ’’èŠ± ~ğŸ¥³ğŸ‰ğŸ‰</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/bccb8471701f8c98a4de4d60618f631b/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">ç¨‹åºå‘˜å¦‚ä½•åœ¨äººå·¥æ™ºèƒ½æ—¶ä»£ä¿æŒæ ¸å¿ƒç«äº‰åŠ›</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/65ea499dbe808e0a9e145b8e396f4725/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">ã€djangoå‡çº§ã€‘djangoä»2.2.6ç‰ˆæœ¬å‡çº§åˆ°3.2.25</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ç¼–ç¨‹å¤§å’–.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>