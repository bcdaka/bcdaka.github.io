<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【Java 基础篇】Java HashSet 集合详解：高效存储唯一元素的利器 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/894a7d88a1e82fc7dbe0ae01a7d0fa6f/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="【Java 基础篇】Java HashSet 集合详解：高效存储唯一元素的利器">
  <meta property="og:description" content="Java 中的集合框架提供了各种各样的数据结构，用于存储和操作数据。其中，HashSet 是一种常用的集合类，它实现了 Set 接口，用于存储不重复的元素。本篇博客将详细介绍 HashSet 的基本概念、创建和初始化、基本操作、遍历、性能考虑、使用注意事项以及示例代码。无论您是初学者还是有经验的开发者，都可以通过本文的学习来掌握 HashSet 的使用。
1. 什么是 HashSet？ HashSet 是 Java 中的一个集合类，它实现了 Set 接口。Set 是一种不允许包含重复元素的集合，而 HashSet 则是 Set 接口的一个具体实现。因此，HashSet 用于存储一组唯一的元素，不允许重复。
以下是 HashSet 的一些特点：
不允许重复元素：如果试图向 HashSet 中添加重复的元素，重复元素将被忽略。无序性：HashSet 不保证元素的顺序，元素在 HashSet 中是无序的。允许 null 元素：HashSet 可以包含一个 null 元素。 2. 创建和初始化 HashSet 要使用 HashSet，首先需要创建一个 HashSet 对象。可以使用以下方式进行创建和初始化：
2.1 创建空的 HashSet Set&lt;String&gt; set = new HashSet&lt;&gt;(); 上述代码创建了一个空的 HashSet 对象，用于存储字符串类型的元素。您可以根据需要选择不同的数据类型。
2.2 创建包含元素的 HashSet Set&lt;Integer&gt; numbers = new HashSet&lt;&gt;(Arrays.asList(1, 2, 3, 4, 5)); 上述代码创建了一个包含整数元素的 HashSet，并初始化了一组元素。使用 Arrays.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2023-09-12T07:22:06+08:00">
    <meta property="article:modified_time" content="2023-09-12T07:22:06+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【Java 基础篇】Java HashSet 集合详解：高效存储唯一元素的利器</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><img src="https://images2.imgbox.com/06/b1/gMuy9Cky_o.png" alt="在这里插入图片描述"></p> 
<p>Java 中的集合框架提供了各种各样的数据结构，用于存储和操作数据。其中，<code>HashSet</code> 是一种常用的集合类，它实现了 <code>Set</code> 接口，用于存储不重复的元素。本篇博客将详细介绍 <code>HashSet</code> 的基本概念、创建和初始化、基本操作、遍历、性能考虑、使用注意事项以及示例代码。无论您是初学者还是有经验的开发者，都可以通过本文的学习来掌握 <code>HashSet</code> 的使用。</p> 
<h3><a id="1__HashSet_7"></a>1. 什么是 HashSet？</h3> 
<p><code>HashSet</code> 是 Java 中的一个集合类，它实现了 <code>Set</code> 接口。<code>Set</code> 是一种不允许包含重复元素的集合，而 <code>HashSet</code> 则是 <code>Set</code> 接口的一个具体实现。因此，<code>HashSet</code> 用于存储一组唯一的元素，不允许重复。</p> 
<p>以下是 <code>HashSet</code> 的一些特点：</p> 
<ul><li>不允许重复元素：如果试图向 <code>HashSet</code> 中添加重复的元素，重复元素将被忽略。</li><li>无序性：<code>HashSet</code> 不保证元素的顺序，元素在 <code>HashSet</code> 中是无序的。</li><li>允许 <code>null</code> 元素：<code>HashSet</code> 可以包含一个 <code>null</code> 元素。</li></ul> 
<h3><a id="2__HashSet_17"></a>2. 创建和初始化 HashSet</h3> 
<p>要使用 <code>HashSet</code>，首先需要创建一个 <code>HashSet</code> 对象。可以使用以下方式进行创建和初始化：</p> 
<h4><a id="21__HashSet_21"></a>2.1 创建空的 HashSet</h4> 
<pre><code class="prism language-java">Set<span class="token generics function"><span class="token punctuation">&lt;</span>String<span class="token punctuation">&gt;</span></span> set <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>上述代码创建了一个空的 <code>HashSet</code> 对象，用于存储字符串类型的元素。您可以根据需要选择不同的数据类型。</p> 
<h4><a id="22__HashSet_29"></a>2.2 创建包含元素的 HashSet</h4> 
<pre><code class="prism language-java">Set<span class="token generics function"><span class="token punctuation">&lt;</span>Integer<span class="token punctuation">&gt;</span></span> numbers <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>上述代码创建了一个包含整数元素的 <code>HashSet</code>，并初始化了一组元素。使用 <code>Arrays.asList()</code> 方法将元素添加到 <code>HashSet</code> 中。</p> 
<h3><a id="3__37"></a>3. 基本操作</h3> 
<h4><a id="31__39"></a>3.1 添加元素</h4> 
<p>要向 <code>HashSet</code> 中添加元素，可以使用 <code>add()</code> 方法：</p> 
<pre><code class="prism language-java">Set<span class="token generics function"><span class="token punctuation">&lt;</span>String<span class="token punctuation">&gt;</span></span> colors <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
colors<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"红色"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
colors<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"绿色"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
colors<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"蓝色"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>上述代码将三种颜色添加到 <code>HashSet</code> 中。</p> 
<h4><a id="32__52"></a>3.2 删除元素</h4> 
<p>要从 <code>HashSet</code> 中删除元素，可以使用 <code>remove()</code> 方法：</p> 
<pre><code class="prism language-java">Set<span class="token generics function"><span class="token punctuation">&lt;</span>String<span class="token punctuation">&gt;</span></span> fruits <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">"苹果"</span><span class="token punctuation">,</span> <span class="token string">"香蕉"</span><span class="token punctuation">,</span> <span class="token string">"橙子"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
fruits<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">"香蕉"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>上述代码删除了 <code>HashSet</code> 中的 “香蕉” 元素。</p> 
<h4><a id="33__63"></a>3.3 判断元素是否存在</h4> 
<p>可以使用 <code>contains()</code> 方法来检查元素是否存在于 <code>HashSet</code> 中：</p> 
<pre><code class="prism language-java">Set<span class="token generics function"><span class="token punctuation">&lt;</span>String<span class="token punctuation">&gt;</span></span> animals <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">"狗"</span><span class="token punctuation">,</span> <span class="token string">"猫"</span><span class="token punctuation">,</span> <span class="token string">"鸟"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">boolean</span> containsCat <span class="token operator">=</span> animals<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">"猫"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>上述代码检查了 “猫” 是否存在于 <code>HashSet</code> 中，并将结果存储在 <code>containsCat</code> 变量中。</p> 
<h4><a id="34__74"></a>3.4 获取集合大小</h4> 
<p>要获取 <code>HashSet</code> 中元素的数量，可以使用 <code>size()</code> 方法：</p> 
<pre><code class="prism language-java">Set<span class="token generics function"><span class="token punctuation">&lt;</span>Integer<span class="token punctuation">&gt;</span></span> numbers <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> size <span class="token operator">=</span> numbers<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>上述代码获取了 <code>numbers</code> 集合中元素的数量，并将结果存储在 <code>size</code> 变量中。</p> 
<h3><a id="4__HashSet_85"></a>4. 遍历 HashSet</h3> 
<p>遍历 <code>HashSet</code> 中的元素可以使用迭代器或增强型 for 循环。以下是两种遍历方式的示例：</p> 
<h4><a id="41__89"></a>4.1 使用迭代器遍历</h4> 
<pre><code class="prism language-java">Set<span class="token generics function"><span class="token punctuation">&lt;</span>String<span class="token punctuation">&gt;</span></span> colors <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">"红色"</span><span class="token punctuation">,</span> <span class="token string">"绿色"</span><span class="token punctuation">,</span> <span class="token string">"蓝色"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Iterator<span class="token generics function"><span class="token punctuation">&lt;</span>String<span class="token punctuation">&gt;</span></span> iterator <span class="token operator">=</span> colors<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">while</span> <span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    String color <span class="token operator">=</span> iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>上述代码使用迭代器遍历了 <code>colors</code> 集合中的元素。</p> 
<h4><a id="42__for__103"></a>4.2 使用增强型 for 循环遍历</h4> 
<pre><code class="prism language-java">Set<span class="token generics function"><span class="token punctuation">&lt;</span>Integer<span class="token punctuation">&gt;</span></span> numbers <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> number <span class="token operator">:</span> numbers<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>number<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>上述代码使用增强型 for 循环遍历了 <code>numbers</code> 集合中的元素。</p> 
<h3><a id="5_HashSet__116"></a>5. HashSet 的更多用法</h3> 
<p>当使用 <code>HashSet</code> 时，除了基本操作之外，还有一些更高级的用法和技巧可以帮助您更好地处理数据。以下是一些 <code>HashSet</code> 的更多用法：</p> 
<h4><a id="51__122"></a>5.1. 添加多个元素</h4> 
<p>您可以使用 <code>addAll</code> 方法一次性添加多个元素到 <code>HashSet</code> 中，这在需要批量插入数据时非常方便：</p> 
<pre><code class="prism language-java">Set<span class="token generics function"><span class="token punctuation">&lt;</span>String<span class="token punctuation">&gt;</span></span> fruits <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Set<span class="token generics function"><span class="token punctuation">&lt;</span>String<span class="token punctuation">&gt;</span></span> newFruits <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">"橙子"</span><span class="token punctuation">,</span> <span class="token string">"草莓"</span><span class="token punctuation">,</span> <span class="token string">"樱桃"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
fruits<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>newFruits<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="52__132"></a>5.2. 求交集和差集</h4> 
<p>如果您需要找出两个 <code>HashSet</code> 集合的交集或差集，可以使用 <code>retainAll</code> 和 <code>removeAll</code> 方法：</p> 
<pre><code class="prism language-java">Set<span class="token generics function"><span class="token punctuation">&lt;</span>Integer<span class="token punctuation">&gt;</span></span> set1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Set<span class="token generics function"><span class="token punctuation">&lt;</span>Integer<span class="token punctuation">&gt;</span></span> set2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 求交集</span>
set1<span class="token punctuation">.</span><span class="token function">retainAll</span><span class="token punctuation">(</span>set2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// set1 现在包含交集 {4, 5}</span>

<span class="token comment">// 求差集</span>
set1<span class="token punctuation">.</span><span class="token function">removeAll</span><span class="token punctuation">(</span>set2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// set1 现在包含差集 {1, 2, 3}</span>
</code></pre> 
<h4><a id="53__Lambda__147"></a>5.3. 使用 Lambda 表达式遍历</h4> 
<p>如果您使用 Java 8 或更高版本，可以使用 Lambda 表达式来遍历 <code>HashSet</code> 中的元素：</p> 
<pre><code class="prism language-java">Set<span class="token generics function"><span class="token punctuation">&lt;</span>String<span class="token punctuation">&gt;</span></span> colors <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">"红色"</span><span class="token punctuation">,</span> <span class="token string">"绿色"</span><span class="token punctuation">,</span> <span class="token string">"蓝色"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

colors<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>color <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token punctuation">{<!-- --></span>
    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 分别输出每个颜色</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="54__159"></a>5.4. 转换为数组</h4> 
<p>如果需要将 <code>HashSet</code> 中的元素转换为数组，可以使用 <code>toArray</code> 方法：</p> 
<pre><code class="prism language-java">Set<span class="token generics function"><span class="token punctuation">&lt;</span>String<span class="token punctuation">&gt;</span></span> colors <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">"红色"</span><span class="token punctuation">,</span> <span class="token string">"绿色"</span><span class="token punctuation">,</span> <span class="token string">"蓝色"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
String<span class="token punctuation">[</span><span class="token punctuation">]</span> colorArray <span class="token operator">=</span> colors<span class="token punctuation">.</span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="55__HashSet_168"></a>5.5. 复制 HashSet</h4> 
<p>要复制一个 <code>HashSet</code>，可以使用构造函数或 <code>clone</code> 方法：</p> 
<pre><code class="prism language-java">Set<span class="token generics function"><span class="token punctuation">&lt;</span>String<span class="token punctuation">&gt;</span></span> originalSet <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">"苹果"</span><span class="token punctuation">,</span> <span class="token string">"香蕉"</span><span class="token punctuation">,</span> <span class="token string">"橙子"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 使用构造函数复制</span>
Set<span class="token generics function"><span class="token punctuation">&lt;</span>String<span class="token punctuation">&gt;</span></span> copySet1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>originalSet<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 使用 clone 方法复制</span>
Set<span class="token generics function"><span class="token punctuation">&lt;</span>String<span class="token punctuation">&gt;</span></span> copySet2 <span class="token operator">=</span> <span class="token punctuation">(</span>Set<span class="token generics function"><span class="token punctuation">&lt;</span>String<span class="token punctuation">&gt;</span></span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>HashSet<span class="token generics function"><span class="token punctuation">&lt;</span>String<span class="token punctuation">&gt;</span></span><span class="token punctuation">)</span> originalSet<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="56__HashSet_181"></a>5.6. 清空 HashSet</h4> 
<p>如果需要清空 <code>HashSet</code> 中的所有元素，可以使用 <code>clear</code> 方法：</p> 
<pre><code class="prism language-java">Set<span class="token generics function"><span class="token punctuation">&lt;</span>String<span class="token punctuation">&gt;</span></span> fruits <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">"苹果"</span><span class="token punctuation">,</span> <span class="token string">"香蕉"</span><span class="token punctuation">,</span> <span class="token string">"橙子"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
fruits<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 清空 fruits 集合</span>
</code></pre> 
<p>这些高级用法可以让您更灵活地使用 <code>HashSet</code>，根据具体需求选择适当的方法和技巧来处理数据。无论是处理元素的增删改查，还是进行集合操作和转换，Java 的 <code>HashSet</code> 集合提供了丰富的功能，以满足各种编程需求。</p> 
<p>当使用 <code>HashSet</code> 时，除了基本操作之外，还有一些更多用法和技巧可以帮助您更灵活地处理数据。以下是一些 <code>HashSet</code> 的更多用法：</p> 
<h4><a id="57__195"></a>5.7. 使用迭代器删除元素</h4> 
<p>在遍历 <code>HashSet</code> 并删除元素时，如果直接在循环中使用 <code>remove</code> 方法可能会导致 <code>ConcurrentModificationException</code> 异常。为了避免这个问题，可以使用迭代器的 <code>remove</code> 方法安全地删除元素：</p> 
<pre><code class="prism language-java">Set<span class="token generics function"><span class="token punctuation">&lt;</span>String<span class="token punctuation">&gt;</span></span> fruits <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">"苹果"</span><span class="token punctuation">,</span> <span class="token string">"香蕉"</span><span class="token punctuation">,</span> <span class="token string">"橙子"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Iterator<span class="token generics function"><span class="token punctuation">&lt;</span>String<span class="token punctuation">&gt;</span></span> iterator <span class="token operator">=</span> fruits<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    String fruit <span class="token operator">=</span> iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>fruit<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"香蕉"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        iterator<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 安全删除元素</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="58__211"></a>5.8. 转换为其他集合类型</h4> 
<p>如果需要将 <code>HashSet</code> 转换为其他集合类型（如 <code>ArrayList</code> 或 <code>LinkedList</code>），可以使用构造函数或集合初始化的方式进行转换：</p> 
<pre><code class="prism language-java">Set<span class="token generics function"><span class="token punctuation">&lt;</span>String<span class="token punctuation">&gt;</span></span> colors <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">"红色"</span><span class="token punctuation">,</span> <span class="token string">"绿色"</span><span class="token punctuation">,</span> <span class="token string">"蓝色"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 转换为 ArrayList</span>
List<span class="token generics function"><span class="token punctuation">&lt;</span>String<span class="token punctuation">&gt;</span></span> colorList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>colors<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 转换为 LinkedList</span>
List<span class="token generics function"><span class="token punctuation">&lt;</span>String<span class="token punctuation">&gt;</span></span> colorLinkedList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LinkedList</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>colors<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="59__HashSet_225"></a>5.9. 比较两个 HashSet</h4> 
<p>要比较两个 <code>HashSet</code> 是否相等，可以使用 <code>equals</code> 方法。两个 <code>HashSet</code> 具有相同的元素，但不一定按照相同的顺序排列时，它们仍被认为是相等的。</p> 
<pre><code class="prism language-java">Set<span class="token generics function"><span class="token punctuation">&lt;</span>String<span class="token punctuation">&gt;</span></span> set1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">"苹果"</span><span class="token punctuation">,</span> <span class="token string">"香蕉"</span><span class="token punctuation">,</span> <span class="token string">"橙子"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Set<span class="token generics function"><span class="token punctuation">&lt;</span>String<span class="token punctuation">&gt;</span></span> set2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">"香蕉"</span><span class="token punctuation">,</span> <span class="token string">"苹果"</span><span class="token punctuation">,</span> <span class="token string">"橙子"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">boolean</span> isEqual <span class="token operator">=</span> set1<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>set2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 返回 true</span>
</code></pre> 
<h4><a id="510__HashSet_236"></a>5.10. 创建不可变的 HashSet</h4> 
<p>如果希望创建一个不可变的 <code>HashSet</code>，可以使用 <code>Collections.unmodifiableSet</code> 方法：</p> 
<pre><code class="prism language-java">Set<span class="token generics function"><span class="token punctuation">&lt;</span>String<span class="token punctuation">&gt;</span></span> mutableSet <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">"A"</span><span class="token punctuation">,</span> <span class="token string">"B"</span><span class="token punctuation">,</span> <span class="token string">"C"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Set<span class="token generics function"><span class="token punctuation">&lt;</span>String<span class="token punctuation">&gt;</span></span> immutableSet <span class="token operator">=</span> Collections<span class="token punctuation">.</span><span class="token function">unmodifiableSet</span><span class="token punctuation">(</span>mutableSet<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>通过这种方式，您可以确保其他代码无法修改 <code>immutableSet</code> 中的内容。</p> 
<h4><a id="511__stream__247"></a>5.11. 使用 <code>stream()</code> 进行操作</h4> 
<p>Java 8 引入的流（Stream）可以让您更方便地对 <code>HashSet</code> 进行各种操作，如过滤、映射和归约等。以下是一个示例：</p> 
<pre><code class="prism language-java">Set<span class="token generics function"><span class="token punctuation">&lt;</span>Integer<span class="token punctuation">&gt;</span></span> numbers <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 过滤操作，获取大于 3 的元素</span>
Set<span class="token generics function"><span class="token punctuation">&lt;</span>Integer<span class="token punctuation">&gt;</span></span> filteredNumbers <span class="token operator">=</span> numbers<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>num <span class="token operator">-</span><span class="token operator">&gt;</span> num <span class="token operator">&gt;</span> <span class="token number">3</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span>Collectors<span class="token punctuation">.</span><span class="token function">toSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 映射操作，将元素加倍</span>
Set<span class="token generics function"><span class="token punctuation">&lt;</span>Integer<span class="token punctuation">&gt;</span></span> doubledNumbers <span class="token operator">=</span> numbers<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>num <span class="token operator">-</span><span class="token operator">&gt;</span> num <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span>Collectors<span class="token punctuation">.</span><span class="token function">toSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 归约操作，计算元素的总和</span>
<span class="token keyword">int</span> sum <span class="token operator">=</span> numbers<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> Integer<span class="token operator">:</span><span class="token operator">:</span>sum<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>这些更多的用法和技巧可以帮助您更好地利用 <code>HashSet</code> 集合，根据具体的需求处理数据。无论是操作元素、转换集合、比较集合还是创建不可变集合，Java 的 <code>HashSet</code> 提供了丰富的功能，以满足各种编程需求。</p> 
<h3><a id="6__271"></a>6. 性能考虑</h3> 
<p><code>HashSet</code> 的性能通常是很高的，它提供了快速的插入、删除和查询操作。但需要注意以下几点：</p> 
<ul><li>添加元素的性能：<code>HashSet</code> 的添加元素操作通常是很快的，但性能可能会随着负载因子的增加而下降。负载因子是一个衡量哈希表填充程度的参数，默认值是 0.75。当负载因子超过一定阈值时，<code>HashSet</code> 会进行扩容操作，这可能会导致性能下降。</li><li>查询元素的性能：<code>HashSet</code> 提供了快速的查询操作，因为它使用哈希表来存储元素，可以快速定位元素位置。</li><li>删除元素的性能：删除元素的性能通常也很高，与查询操作类似，可以快速定位要删除的元素。</li></ul> 
<h3><a id="7__283"></a>7. 使用注意事项</h3> 
<p>在使用 <code>HashSet</code> 时，需要注意以下事项：</p> 
<ul><li><code>HashSet</code> 不允许重复元素，如果试图添加重复的元素，重复元素将被忽略。</li><li><code>HashSet</code> 不保证元素的顺序，元素在 <code>HashSet</code> 中是无序的。</li><li><code>HashSet</code> 是非线程安全的，如果在多线程环境下使用 <code>HashSet</code>，需要注意线程同步，或者考虑使用线程安全的集合类，如 <code>ConcurrentHashSet</code>。</li><li><code>HashSet</code> 允许存储一个 <code>null</code> 元素，但通常建议避免将 <code>null</code> 作为有效元素存储，以免混淆和错误。</li><li>在使用自定义对象作为 <code>HashSet</code> 元素时，需要正确实现 <code>hashCode()</code> 和 <code>equals()</code> 方法，以确保对象在集合中的唯一性和正确性。</li><li><code>HashSet</code> 的性能通常是很高的，但在处理大量数据时，应注意负载因子的设置，以避免频繁的扩容操作。</li><li>在迭代 <code>HashSet</code> 时，不要在迭代过程中修改集合的结构（添加或删除元素），否则可能会引发 <code>ConcurrentModificationException</code> 异常。</li></ul> 
<h3><a id="8__295"></a>8. 示例代码</h3> 
<p>以下是一个使用 <code>HashSet</code> 的示例代码，演示了如何创建、添加、删除、遍历以及检查元素存在等基本操作：</p> 
<pre><code class="prism language-java"><span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>HashSet<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>Iterator<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>Set<span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HashSetExample</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 创建 HashSet</span>
        Set<span class="token generics function"><span class="token punctuation">&lt;</span>String<span class="token punctuation">&gt;</span></span> colors <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 添加元素</span>
        colors<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"红色"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        colors<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"绿色"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        colors<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"蓝色"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 删除元素</span>
        colors<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">"绿色"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 遍历 HashSet</span>
        Iterator<span class="token generics function"><span class="token punctuation">&lt;</span>String<span class="token punctuation">&gt;</span></span> iterator <span class="token operator">=</span> colors<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            String color <span class="token operator">=</span> iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 检查元素存在</span>
        <span class="token keyword">boolean</span> containsBlue <span class="token operator">=</span> colors<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">"蓝色"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"是否包含蓝色？ "</span> <span class="token operator">+</span> containsBlue<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>通过运行以上示例代码，您可以更好地理解 <code>HashSet</code> 的基本用法。</p> 
<h3><a id="9__333"></a>9. 总结</h3> 
<p>本文介绍了 Java 中的 <code>HashSet</code> 集合，包括其基本概念、创建和初始化、基本操作、遍历方式、性能考虑、使用注意事项以及示例代码。<code>HashSet</code> 是一个常用的集合类，用于存储不重复的元素，适用于各种场景。在编写 Java 应用程序时，熟练掌握 <code>HashSet</code> 的使用可以提高代码的效率和可维护性。希望本文对您学习和理解 <code>HashSet</code> 有所帮助。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/dd8dc5964e8224c26b116132d681bfe2/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Web Component -- 即将爆发的原生的 UI 组件化标准</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/5cc24d5ab4c7c5db387188abda96a450/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【JAVA】String类</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>