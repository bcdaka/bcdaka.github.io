<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>论Lambda架构及其应用 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/a0526262a30dafe086a9bad5cfe2c890/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="论Lambda架构及其应用">
  <meta property="og:description" content="摘要：
2023年3月，我公司承担了本市教育局智慧教育云平台的项目，该平台旨在为教育机构和学生提供一个在线学习与教学的环境，包含课程管理、在线学习、资源共享、互动交流等功能。在项目中我担任系统架构师，全面负责项目的需求分析和架构设计等工作。本文以具体项目为例，主要论述了Lambda架构技术在项目中运用。Lambda 架构可分解为批处理层、速度处理层和服务层。批处理层负责周期性地处理累积的数据集，用以产生详尽的报告和分析；速度处理层复杂实时数据处理，迅速响应用户需求并提供即时反馈；服务层负责整合批处理层产出的批量视图和速度处理层提供的实时数据视图，形成统一的数据视图供教育管理者使用。自2023年12月成功上线以来，该项目已经获得了客户的高度评价。
正文：
随着信息技术的迅猛发展，教育行业迫切需要采纳云计算、大数据、人工智能等前沿技术，以提高教育品质和效率，并实现教育资源的优化与共享。为此，某市教育局在2023年3月启动了智慧教育云平台项目，项目预计耗时10个月。我司有幸承担了此项任务，并委派我担任系统架构师，负责主导需求分析和架构设计等关键工作。
该项目由课程管理、在线学习、资源共享和互动交流四大部分组成。课程管理模块运用技术手段对课程内容、教学活动、学生进度和评估进行有效组织与监管；在线学习模块则通过互联网提供教育活动，使学生能够随时随地访问课程内容与资源；资源共享功能则便于在教育环境中共享教学材料、工具和信息；而互动交流模块则促进教师、学生及其他利益相关者之间的沟通与合作，对构建积极的学习社区至关重要。系统平台采用B/S架构设计，基于JavaEE多层框架进行开发，实现了前后端分离。后端采用SpringBoot和Mybatis框架构建，同时利用Zookeeper提供服务注册、配置管理、分布式锁和队列等分布式应用的核心功能。数据库方面，我们选择了MySQL分布式集群，而缓存则交由Redis集群处理。负载均衡方面使用了Nginx。前端应用则基于VUE框架。
在项目设计阶段，我们深入理解了Lambda架构的三个核心层次：批处理层、速度处理层和服务层。批处理层的职责是维护不可变的数据主集，并执行批量计算，它能够处理庞大的历史数据集，确保数据处理的精确性。速度处理层则专注于实时数据流的快速处理，迅速生成数据视图，以缩短查询响应时间。服务层的作用是融合来自批处理层和速度处理层的数据，形成一个统一的查询接口，它既利用了批处理层的精确性也利用了速度处理层的即时性，为用户提供一致性的数据视图。Lambda架构的优势在于其速度处理层的数据会被记录在批处理层，从而在批处理层重新计算时修正任何错误，确保数据的最终一致性。然而，Lambda架构也存在一些缺点，例如需要对相同的业务逻辑进行两次编程，分别对应批量和流处理，这无疑增加了开发的复杂性和维护难度。
智慧教育云平台面临着访问数据量大和实时性要求高的挑战。经过团队成员开会讨论，我们一致认为项目应该使用Lambda 架构技术。具体设计如下。
一 、批处理层
在智慧教育云平台中，批处理层的关键职能是周期性地处理累积的数据集，用以产生详尽的报告和分析。学生考试成绩及相关信息，如个人信息、考试时间、科目等，将被汇总并存储于Hadoop分布式文件系统（HDFS）中。为了减少对日常操作的影响，平台常在系统负载较低的时段，如夜间，安排MapReduce的任务来分析这些数据。 MapReduce作业分为两个阶段：Map阶段负责将成绩数据集分解成键值对，如将每个学生的成绩映射为以“学生ID”为键的记录；Reduce阶段则对这些键值对进行汇总，计算如平均成绩、最高分、最低分以及不同成绩区间的学生分布等统计数据。这些分析结果将用于生成涵盖个人、班级、学校乃至整个区域的详细成绩报告，为教育管理者提供教学效果和资源分配的综合视图。 此外，批处理层还能分析学生成绩的时间序列，揭示成绩随时间的变化趋势，比较不同学期的成绩，以及评估学生在不同学科或教学单元中的表现。
二、速度处理层
在智慧教育云平台中，速度处理层承担着实时数据处理的职责，以便迅速响应用户需求并提供即时反馈。学生答题时，他们的答案选择和提交时间被平台即时捕获，并通过前端API以数据流的方式传送至速度处理层。该层采用Flink等流处理技术，对流入的数据进行快速分析，如计算答题正确率和统计答题速度。基于这些实时分析结果，系统能够即时生成反馈。教师可以实时查看哪些问题学生普遍答错，以便立即调整教学方法，重点讲解难题。此外，速度处理层还能支持课堂互动，如实时投票和测验，将学生答案展示在大屏幕上，提升课堂互动性和趣味性。教师还能通过平台的仪表板实时监控学生的答题情况，包括答题进度和正确率，从而了解学生对课堂内容的理解程度，并据此调整教学内容。速度处理层甚至可以根据学生的答题表现，提供个性化学习资源，如为在特定概念上频繁出错的学生推荐额外的学习材料或练习题，帮助他们更深入地理解和掌握相关知识点。
三、服务层
在智慧教育云平台中，服务层扮演着中枢角色，负责整合批处理层产出的批量视图和速度处理层提供的实时数据视图，形成统一的数据视图供教育管理者使用。管理者发起查询时，服务层即时从两个视图中提取并融合数据，确保所提供信息的时效性和全面性。为适应不同管理者的需求，服务层还提供定制化的数据展示，支持按学校、年级、科目等多维度展示数据。通过这一综合视图，教育管理者能够全面审视教师的教学效果，包括长期教学成果和即时课堂表现，实现对教学质量的精确评估。同时，管理者可以利用学生的学习进度报告，及时发现并解决学生在学习中遇到的难题。此外，服务层的长期与实时数据分析功能，为教育政策的制定提供了数据支持，有助于教育部门调整课程设置、改进教学方法等。智慧教育云平台的前端应用，结合Power BI等可视化工具，为管理者提供了一个交互式的仪表板，使其能够轻松探索不同的数据视图，进行深入分析。
自2023年12月启动以来，我们的系统已稳定运行近半年，获得了相关部门与用户的广泛好评。在开发和试运行阶段，我们积极应对并解决了项目中的问题。针对Lambda架构中可能出现的数据一致性问题，我们采取了以下措施：首先，在数据流入批处理层和速度处理层之前，我们实施了数据校验，以确保数据的质量和一致性；其次，我们定期对速度层的数据进行与批处理层数据的对比，并重新计算，以维护数据的一致性；此外，我们尽可能在两个处理层中采用相同的逻辑和算法，以减少数据差异。通过这些措施，我们有效降低了数据一致性问题的发生。
Lambda架构通过结合批处理层和速度处理层，能够同时处理实时数据和批量历史数据，满足智慧教育云平台对于数据处理的多样化需求。Lambda架构的设计允许系统在处理大量数据时进行水平扩展，适用于智慧教育云平台可能面临的数据量增长和用户请求增加的情况。在智慧教育云平台中，Lambda架构可以应对由于学生数量增加和教学活动产生的大量数据，提供了有效的数据处理和分析框架。在开发过程中，我们致力于掌握并应用Lambda架构的最佳实践，这不仅增强了我们解决复杂问题的能力，也提升了我们的专业技术水平。我们坚信，持续学习和不懈努力是我们持续进步的动力源泉。面对未来的挑战，我们将保持积极乐观的态度，依靠团队合作和不断的创新，追求卓越，勇往直前。">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-06-25T18:07:01+08:00">
    <meta property="article:modified_time" content="2024-06-25T18:07:01+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">论Lambda架构及其应用</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>摘要：</p> 
<p>2023年3月，我公司承担了本市教育局智慧教育云平台的项目，该平台旨在为教育机构和学生提供一个在线学习与教学的环境，包含课程管理、在线学习、资源共享、互动交流等功能。在项目中我担任系统架构师，全面负责项目的需求分析和架构设计等工作。本文以具体项目为例，主要论述了Lambda架构技术在项目中运用。Lambda 架构可分解为批处理层、速度处理层和服务层。批处理层负责周期性地处理累积的数据集，用以产生详尽的报告和分析；速度处理层复杂实时数据处理，迅速响应用户需求并提供即时反馈；服务层负责整合批处理层产出的批量视图和速度处理层提供的实时数据视图，形成统一的数据视图供教育管理者使用。自2023年12月成功上线以来，该项目已经获得了客户的高度评价。</p> 
<p>正文：</p> 
<p>随着信息技术的迅猛发展，教育行业迫切需要采纳云计算、大数据、人工智能等前沿技术，以提高教育品质和效率，并实现教育资源的优化与共享。为此，某市教育局在2023年3月启动了智慧教育云平台项目，项目预计耗时10个月。我司有幸承担了此项任务，并委派我担任系统架构师，负责主导需求分析和架构设计等关键工作。</p> 
<p>该项目由课程管理、在线学习、资源共享和互动交流四大部分组成。课程管理模块运用技术手段对课程内容、教学活动、学生进度和评估进行有效组织与监管；在线学习模块则通过互联网提供教育活动，使学生能够随时随地访问课程内容与资源；资源共享功能则便于在教育环境中共享教学材料、工具和信息；而互动交流模块则促进教师、学生及其他利益相关者之间的沟通与合作，对构建积极的学习社区至关重要。系统平台采用B/S架构设计，基于JavaEE多层框架进行开发，实现了前后端分离。后端采用SpringBoot和Mybatis框架构建，同时利用Zookeeper提供服务注册、配置管理、分布式锁和队列等分布式应用的核心功能。数据库方面，我们选择了MySQL分布式集群，而缓存则交由Redis集群处理。负载均衡方面使用了Nginx。前端应用则基于VUE框架。</p> 
<p>在项目设计阶段，我们深入理解了Lambda架构的三个核心层次：批处理层、速度处理层和服务层。批处理层的职责是维护不可变的数据主集，并执行批量计算，它能够处理庞大的历史数据集，确保数据处理的精确性。速度处理层则专注于实时数据流的快速处理，迅速生成数据视图，以缩短查询响应时间。服务层的作用是融合来自批处理层和速度处理层的数据，形成一个统一的查询接口，它既利用了批处理层的精确性也利用了速度处理层的即时性，为用户提供一致性的数据视图。Lambda架构的优势在于其速度处理层的数据会被记录在批处理层，从而在批处理层重新计算时修正任何错误，确保数据的最终一致性。然而，Lambda架构也存在一些缺点，例如需要对相同的业务逻辑进行两次编程，分别对应批量和流处理，这无疑增加了开发的复杂性和维护难度。</p> 
<p>智慧教育云平台面临着访问数据量大和实时性要求高的挑战。经过团队成员开会讨论，我们一致认为项目应该使用Lambda 架构技术。具体设计如下。</p> 
<p>一 、批处理层<br> 在智慧教育云平台中，批处理层的关键职能是周期性地处理累积的数据集，用以产生详尽的报告和分析。学生考试成绩及相关信息，如个人信息、考试时间、科目等，将被汇总并存储于Hadoop分布式文件系统（HDFS）中。为了减少对日常操作的影响，平台常在系统负载较低的时段，如夜间，安排MapReduce的任务来分析这些数据。 MapReduce作业分为两个阶段：Map阶段负责将成绩数据集分解成键值对，如将每个学生的成绩映射为以“学生ID”为键的记录；Reduce阶段则对这些键值对进行汇总，计算如平均成绩、最高分、最低分以及不同成绩区间的学生分布等统计数据。这些分析结果将用于生成涵盖个人、班级、学校乃至整个区域的详细成绩报告，为教育管理者提供教学效果和资源分配的综合视图。 此外，批处理层还能分析学生成绩的时间序列，揭示成绩随时间的变化趋势，比较不同学期的成绩，以及评估学生在不同学科或教学单元中的表现。</p> 
<p>二、速度处理层</p> 
<p>在智慧教育云平台中，速度处理层承担着实时数据处理的职责，以便迅速响应用户需求并提供即时反馈。学生答题时，他们的答案选择和提交时间被平台即时捕获，并通过前端API以数据流的方式传送至速度处理层。该层采用Flink等流处理技术，对流入的数据进行快速分析，如计算答题正确率和统计答题速度。基于这些实时分析结果，系统能够即时生成反馈。教师可以实时查看哪些问题学生普遍答错，以便立即调整教学方法，重点讲解难题。此外，速度处理层还能支持课堂互动，如实时投票和测验，将学生答案展示在大屏幕上，提升课堂互动性和趣味性。教师还能通过平台的仪表板实时监控学生的答题情况，包括答题进度和正确率，从而了解学生对课堂内容的理解程度，并据此调整教学内容。速度处理层甚至可以根据学生的答题表现，提供个性化学习资源，如为在特定概念上频繁出错的学生推荐额外的学习材料或练习题，帮助他们更深入地理解和掌握相关知识点。</p> 
<p>三、服务层</p> 
<p>在智慧教育云平台中，服务层扮演着中枢角色，负责整合批处理层产出的批量视图和速度处理层提供的实时数据视图，形成统一的数据视图供教育管理者使用。管理者发起查询时，服务层即时从两个视图中提取并融合数据，确保所提供信息的时效性和全面性。为适应不同管理者的需求，服务层还提供定制化的数据展示，支持按学校、年级、科目等多维度展示数据。通过这一综合视图，教育管理者能够全面审视教师的教学效果，包括长期教学成果和即时课堂表现，实现对教学质量的精确评估。同时，管理者可以利用学生的学习进度报告，及时发现并解决学生在学习中遇到的难题。此外，服务层的长期与实时数据分析功能，为教育政策的制定提供了数据支持，有助于教育部门调整课程设置、改进教学方法等。智慧教育云平台的前端应用，结合Power BI等可视化工具，为管理者提供了一个交互式的仪表板，使其能够轻松探索不同的数据视图，进行深入分析。</p> 
<p>自2023年12月启动以来，我们的系统已稳定运行近半年，获得了相关部门与用户的广泛好评。在开发和试运行阶段，我们积极应对并解决了项目中的问题。针对Lambda架构中可能出现的数据一致性问题，我们采取了以下措施：首先，在数据流入批处理层和速度处理层之前，我们实施了数据校验，以确保数据的质量和一致性；其次，我们定期对速度层的数据进行与批处理层数据的对比，并重新计算，以维护数据的一致性；此外，我们尽可能在两个处理层中采用相同的逻辑和算法，以减少数据差异。通过这些措施，我们有效降低了数据一致性问题的发生。</p> 
<p>Lambda架构通过结合批处理层和速度处理层，能够同时处理实时数据和批量历史数据，满足智慧教育云平台对于数据处理的多样化需求。Lambda架构的设计允许系统在处理大量数据时进行水平扩展，适用于智慧教育云平台可能面临的数据量增长和用户请求增加的情况。在智慧教育云平台中，Lambda架构可以应对由于学生数量增加和教学活动产生的大量数据，提供了有效的数据处理和分析框架。在开发过程中，我们致力于掌握并应用Lambda架构的最佳实践，这不仅增强了我们解决复杂问题的能力，也提升了我们的专业技术水平。我们坚信，持续学习和不懈努力是我们持续进步的动力源泉。面对未来的挑战，我们将保持积极乐观的态度，依靠团队合作和不断的创新，追求卓越，勇往直前。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/4eaa3e127b5c44a5c8f9b003f960c460/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">天才程序员周弈帆 | Stable Diffusion 解读（四）：Diffusers实现源码解读</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/fe0ca869b7e9ccb595bd6881257ed6b2/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">AI大模型：垂直大模型vs通用大模型</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>