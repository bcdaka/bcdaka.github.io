<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>[MySQL][内置函数][日期函数][字符串函数][数学函数]详细讲解 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/0bce21bc6c2ba46afd0ea0245d88b9ec/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="[MySQL][内置函数][日期函数][字符串函数][数学函数]详细讲解">
  <meta property="og:description" content="目录 1.日期函数1.基础语法2.示例13.示例2 2.字符串函数1.基础语法2.示例 3.数学函数1.基础语法2.示例 4.其他函数 1.日期函数 1.基础语法 日期时间在MYSQL中是区分开的 日期：年月日时间：时分秒 获得年月日select current_date(); &#43;----------------&#43; | current_date() | &#43;----------------&#43; | 2024-01-24 | &#43;----------------&#43; 获得时分秒select current_time(); &#43;----------------&#43; | current_time() | &#43;----------------&#43; | 13:51:21 | &#43;----------------&#43; 获得时间戳select current_timestamp(); &#43;---------------------&#43; | current_timestamp() | &#43;---------------------&#43; | 2024-01-24 13:51:48 | &#43;---------------------&#43; 在日期的基础上加日期select date_add(&#39;2024-01-14&#39;, interval 10 day); &#43;-----------------------------------------&#43; | date_add(&#39;2024-01-14&#39;, interval 10 day) | &#43;-----------------------------------------&#43; | 2024-01-24 | &#43;-----------------------------------------&#43; 在日期的基础上减去时间select date_sub(&#39;2024-01-24&#39;, interval 2 day); &#43;----------------------------------------&#43; | date_sub(&#39;2024-01-24&#39;, interval 2 day) | &#43;----------------------------------------&#43; | 2024-01-22 | &#43;----------------------------------------&#43; 计算两个日期之间相差多少天&#43;-------------------------------&#43; | datediff(now(), &#39;1949-10-01&#39;) | &#43;-------------------------------&#43; | 27143 | &#43;-------------------------------&#43; 2.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-07-17T00:04:07+08:00">
    <meta property="article:modified_time" content="2024-07-17T00:04:07+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">[MySQL][内置函数][日期函数][字符串函数][数学函数]详细讲解</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>目录</h4> 
 <ul><li><a href="#1_3" rel="nofollow">1.日期函数</a></li><li><ul><li><a href="#1_4" rel="nofollow">1.基础语法</a></li><li><a href="#21_64" rel="nofollow">2.示例1</a></li><li><a href="#32_83" rel="nofollow">3.示例2</a></li></ul> 
  </li><li><a href="#2_120" rel="nofollow">2.字符串函数</a></li><li><ul><li><a href="#1_122" rel="nofollow">1.基础语法</a></li><li><a href="#2_130" rel="nofollow">2.示例</a></li></ul> 
  </li><li><a href="#3_157" rel="nofollow">3.数学函数</a></li><li><ul><li><a href="#1_159" rel="nofollow">1.基础语法</a></li><li><a href="#2_167" rel="nofollow">2.示例</a></li></ul> 
  </li><li><a href="#4_190" rel="nofollow">4.其他函数</a></li></ul> 
</div> 
<p></p> 
<hr> 
<h2><a id="1_3"></a>1.日期函数</h2> 
<h3><a id="1_4"></a>1.基础语法</h3> 
<p><img src="https://images2.imgbox.com/46/d1/5tem6F5z_o.png" alt="请添加图片描述"></p> 
<ul><li>日期时间在MYSQL中是区分开的 
  <ul><li>日期：年月日</li><li>时间：时分秒</li></ul> </li><li>获得年月日<pre><code class="prism language-mysql">select current_date();
 +----------------+
 | current_date() |
 +----------------+
 | 2024-01-24     |
 +----------------+
</code></pre> </li><li>获得时分秒<pre><code class="prism language-mysql">select current_time();
 +----------------+
 | current_time() |
 +----------------+
 | 13:51:21       |
 +----------------+
</code></pre> </li><li>获得时间戳<pre><code class="prism language-mysql">select current_timestamp();
 +---------------------+
 | current_timestamp() |
 +---------------------+
 | 2024-01-24 13:51:48 |
 +---------------------+
</code></pre> </li><li>在日期的基础上加日期<pre><code class="prism language-mysql">select date_add('2024-01-14', interval 10 day);
 +-----------------------------------------+
 | date_add('2024-01-14', interval 10 day) |
 +-----------------------------------------+
 | 2024-01-24                              |
 +-----------------------------------------+
</code></pre> </li><li>在日期的基础上减去时间<pre><code class="prism language-mysql">select date_sub('2024-01-24', interval 2 day);
+----------------------------------------+
| date_sub('2024-01-24', interval 2 day) |
+----------------------------------------+
| 2024-01-22                             |
+----------------------------------------+
</code></pre> </li><li>计算两个日期之间相差多少天<pre><code class="prism language-mysql">+-------------------------------+
| datediff(now(), '1949-10-01') |
+-------------------------------+
|                         27143 |
+-------------------------------+
</code></pre> </li></ul> 
<h3><a id="21_64"></a>2.示例1</h3> 
<ul><li>创建一张表，记录生日，<pre><code class="prism language-mysql">create table tmp(
id int primary key auto_increment,
birthday date
);
</code></pre> </li><li>添加当前日期<pre><code class="prism language-mysql">insert into tmp(birthday) values(current_date());
mysql&gt; select * from tmp;
+----+------------+
| id | birthday   |
+----+------------+
| 1  | 2024-01-24 |
+----+------------+
</code></pre> </li></ul> 
<h3><a id="32_83"></a>3.示例2</h3> 
<ul><li>创建一个留言表<pre><code class="prism language-mysql">mysql&gt; create table msg (
	id int primary key auto_increment,
	content varchar(30) not null,
	sendtime datetime
);
</code></pre> </li><li>插入数据<pre><code class="prism language-mysql">mysql&gt; insert into msg(content,sendtime) values('hello1', now());
mysql&gt; insert into msg(content,sendtime) values('hello2', now());

mysql&gt; select * from msg;
+----+---------+---------------------+
| id | content | sendtime            |
+----+---------+---------------------+
| 1  | hello1  | 2024-01-24 14:12:20 |
| 2  | hello2  | 2024-01-24 14:13:21 |
+----+---------+---------------------+
</code></pre> </li><li>显示所有留言信息，发布日期只显示日期，不用显示时间<pre><code class="prism language-mysql">select content,date(sendtime) from msg;
</code></pre> </li><li><font color="red"><strong>请查询在2分钟内发布的帖子</strong></font> 
  <ul><li><font color="red"><strong>理解：</strong></font>以下两种写法意思相同 
    <ul><li>msg_time &gt; cur_time - 2</li><li>msg_time + 2 &gt; cur_time<br> ![[Pasted image 20240225181330.png]]</li></ul> </li></ul> <pre><code class="prism language-mysql">select * from msg where date_add(sendtime, interval 2 minute) &gt; now();  
select * from msg where date_sub(now(), interval 2 minute) &lt; sendtime;
</code></pre> </li></ul> 
<hr> 
<h2><a id="2_120"></a>2.字符串函数</h2> 
<h3><a id="1_122"></a>1.基础语法</h3> 
<p><img src="https://images2.imgbox.com/ed/c2/huOPvlch_o.png" alt="请添加图片描述"></p> 
<ul><li><font color="red"><strong>注意：</strong></font> 
  <ul><li>length函数返回字符串长度，<font color="red"><strong>以字节为单位</strong></font></li><li>如果是多字节字符则计算多个字节数；如果是单字节字符则算作一个字节 
    <ul><li>比如：字母，数字算作一个字节，中文表示多个字节数(与字符集编码有关)</li></ul> </li></ul> </li></ul> 
<h3><a id="2_130"></a>2.示例</h3> 
<ul><li>获取emp表的ename列的字符集<pre><code class="prism language-mysql">select charset(ename) from EMP;
</code></pre> </li><li>要求显示exam_result表中的信息，显示格式：“XXX的语文是XXX分，数学XXX分，英语XXX分”<pre><code class="prism language-mysql">select concat(name, '的语文是', chinese, '分，数学是', math, '分') as '分数' from student;
</code></pre> </li><li>求学生表中学生姓名占用的<font color="red"><strong>字节数</strong></font><pre><code class="prism language-mysql">select length(name), name from student;
</code></pre> </li><li>将EMP表中所有名字中有S的替换成’上海’<pre><code class="prism language-mysql">select replace(ename, 'S', '上海'), ename from EMP;
</code></pre> </li><li>截取EMP表中ename字段的第二个到第三个字符<pre><code class="prism language-mysql">select substring(ename, 2, 2), ename from EMP;
</code></pre> </li><li>以首字母小写的方式显示所有员工的姓名<pre><code class="prism language-mysql">select concat(lcase(substring(ename, 1, 1)), substring(ename,2)) from EMP;
</code></pre> </li></ul> 
<hr> 
<h2><a id="3_157"></a>3.数学函数</h2> 
<h3><a id="1_159"></a>1.基础语法</h3> 
<p><img src="https://images2.imgbox.com/30/8b/ZE8qgOMA_o.png" alt="请添加图片描述"></p> 
<ul><li>关于<strong>ceiling</strong>和<strong>floor</strong> 
  <ul><li><font color="red"><strong>C语言</strong></font>中的取整为**<font color="red">0向取证**</font></li><li><font color="red"><strong>ceiling是向+∞取整</strong></font></li><li><font color="red"><strong>floor是向-∞取整</strong></font></li></ul> </li></ul> 
<h3><a id="2_167"></a>2.示例</h3> 
<ul><li>绝对值<pre><code class="prism language-mysql">select abs(-100.2);
</code></pre> </li><li>向上取整<pre><code class="prism language-mysql">select ceiling(23.04);
</code></pre> </li><li>向下取整<pre><code class="prism language-mysql">select floor(23.7);
</code></pre> </li><li>保留2位小数位数(小数四舍五入)<pre><code class="prism language-mysql">select format(12.3456, 2);
</code></pre> </li><li>产生随机数<pre><code class="prism language-mysql">select rand();
</code></pre> </li></ul> 
<hr> 
<h2><a id="4_190"></a>4.其他函数</h2> 
<ul><li><strong><code>user()</code></strong> 查询当前用户<pre><code class="prism language-mysql">select user();
</code></pre> </li><li>**<code>md5(str)</code>**对一个字符串进行md5摘要，摘要后得到一个32位字符串<pre><code class="prism language-mysql">select md5('admin')
+----------------------------------+
| md5('admin')                     |
+----------------------------------+
| 21232f297a57a5a743894a0e4a801fc3 |
+----------------------------------+
</code></pre> </li><li>**<code>database()</code>**显示当前正在使用的数据库<pre><code class="prism language-mysql">select database();
</code></pre> </li><li>**<code>password()</code>**函数，MySQL数据库使用该函数对用户加密<pre><code class="prism language-mysql">select password('root');
+-------------------------------------------+
| password('root')                          |
+-------------------------------------------+
| *81F5E21E35407D884A6CD4A731AEBFB6AF209E1B |
+-------------------------------------------+
</code></pre> </li><li><strong><code>ifnull(val1， val2)</code></strong> 如果val1为null，返回val2，否则返回val1的值 
  <ul><li>类似C语言中的三目运算符 a?b:c --&gt; <strong>(val1 == null) ? val2 : val1</strong></li></ul> <pre><code class="prism language-mysql">select ifnull('abc', '123');
+----------------------+
| ifnull('abc', '123') |
+----------------------+
| abc                  |
+----------------------+
1 row in set (0.01 sec)

select ifnull(null, '123');
+---------------------+
| ifnull(null, '123') |
+---------------------+
| 123                 |
+---------------------+
1 row in set (0.00 sec)
</code></pre> </li></ul>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/69dc5ae05aae282884127bcdf8e24e0f/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">WebGL的管线流程</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c300187de5c49c6c2d96f0f6bb33ad9c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">C#进阶-基于.NET Framework 4.x框架实现ASP.NET WebForms项目IP拦截器</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>