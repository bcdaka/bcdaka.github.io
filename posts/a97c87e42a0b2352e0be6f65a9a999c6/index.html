<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Springcloud从零开始--Eureka（一） - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/a97c87e42a0b2352e0be6f65a9a999c6/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="Springcloud从零开始--Eureka（一）">
  <meta property="og:description" content="Spring Cloud是一系列框架的有序集合。它利用Spring Boot的开发便利性巧妙地简化了分布式系统基础设施的开发，如服务发现注册、配置中心、消息总线、负载均衡、断路器、数据监控等，都可以用Spring Boot的开发风格做到一键启动和部署。Spring Cloud并没有重复制造轮子，它只是将各家公司开发的比较成熟、经得起实际考验的服务框架组合起来，通过Spring Boot风格进行再封装屏蔽掉了复杂的配置和实现原理，最终给开发者留出了一套简单易懂、易部署和易维护的分布式系统开发工具包。 组成 我们快速进入学习 ，Eureka，服务注册和发现，它提供了一个服务注册中心、服务发现的客户端，还有一个方便的查看所有注册的服务的界面。 所有的服务使用Eureka的服务发现客户端来将自己注册到Eureka的服务器上。
Eureka 是 Netflix 开发的服务发现框架， SpringCloud 将它集成在自己的子项目
spring-cloud-netflix 中，实现 SpringCloud 的服务发现功能。 Eureka 包含两个组件：
Eureka Server 和 Eureka Client 。
Eureka Server 提供服务注册服务，各个节点启动后，会在 Eureka Server 中进行注
册，这样 EurekaServer 中的服务注册表中将会存储所有可用服务节点的信息，服务节点
的信息可以在界面中直观的看到。
Eureka Client 是一个 java 客户端，用于简化与 Eureka Server 的交互，客户端同时也
就别一个内置的、使用轮询 (round-robin) 负载算法的负载均衡器。在应用启动后，将会
向 Eureka Server 发送心跳 , 默认周期为 30 秒，如果 Eureka Server 在多个心跳周期内没有
接收到某个节点的心跳， Eureka Server 将会从服务注册表中把这个服务节点移除 ( 默认 90
秒 ) 。">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-08-22T10:09:30+08:00">
    <meta property="article:modified_time" content="2024-08-22T10:09:30+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Springcloud从零开始--Eureka（一）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h4 id="Spring%20Cloud%E6%98%AF%E4%B8%80%E7%B3%BB%E5%88%97%E6%A1%86%E6%9E%B6%E7%9A%84%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88%E3%80%82%E5%AE%83%E5%88%A9%E7%94%A8Spring%20Boot%E7%9A%84%E5%BC%80%E5%8F%91%E4%BE%BF%E5%88%A9%E6%80%A7%E5%B7%A7%E5%A6%99%E5%9C%B0%E7%AE%80%E5%8C%96%E4%BA%86%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F%E5%9F%BA%E7%A1%80%E8%AE%BE%E6%96%BD%E7%9A%84%E5%BC%80%E5%8F%91%EF%BC%8C%E5%A6%82%E6%9C%8D%E5%8A%A1%E5%8F%91%E7%8E%B0%E6%B3%A8%E5%86%8C%E3%80%81%E9%85%8D%E7%BD%AE%E4%B8%AD%E5%BF%83%E3%80%81%E6%B6%88%E6%81%AF%E6%80%BB%E7%BA%BF%E3%80%81%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1%E3%80%81%E6%96%AD%E8%B7%AF%E5%99%A8%E3%80%81%E6%95%B0%E6%8D%AE%E7%9B%91%E6%8E%A7%E7%AD%89%EF%BC%8C%E9%83%BD%E5%8F%AF%E4%BB%A5%E7%94%A8Spring%20Boot%E7%9A%84%E5%BC%80%E5%8F%91%E9%A3%8E%E6%A0%BC%E5%81%9A%E5%88%B0%E4%B8%80%E9%94%AE%E5%90%AF%E5%8A%A8%E5%92%8C%E9%83%A8%E7%BD%B2%E3%80%82Spring%20Cloud%E5%B9%B6%E6%B2%A1%E6%9C%89%E9%87%8D%E5%A4%8D%E5%88%B6%E9%80%A0%E8%BD%AE%E5%AD%90%EF%BC%8C%E5%AE%83%E5%8F%AA%E6%98%AF%E5%B0%86%E5%90%84%E5%AE%B6%E5%85%AC%E5%8F%B8%E5%BC%80%E5%8F%91%E7%9A%84%E6%AF%94%E8%BE%83%E6%88%90%E7%86%9F%E3%80%81%E7%BB%8F%E5%BE%97%E8%B5%B7%E5%AE%9E%E9%99%85%E8%80%83%E9%AA%8C%E7%9A%84%E6%9C%8D%E5%8A%A1%E6%A1%86%E6%9E%B6%E7%BB%84%E5%90%88%E8%B5%B7%E6%9D%A5%EF%BC%8C%E9%80%9A%E8%BF%87Spring%20Boot%E9%A3%8E%E6%A0%BC%E8%BF%9B%E8%A1%8C%E5%86%8D%E5%B0%81%E8%A3%85%E5%B1%8F%E8%94%BD%E6%8E%89%E4%BA%86%E5%A4%8D%E6%9D%82%E7%9A%84%E9%85%8D%E7%BD%AE%E5%92%8C%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%EF%BC%8C%E6%9C%80%E7%BB%88%E7%BB%99%E5%BC%80%E5%8F%91%E8%80%85%E7%95%99%E5%87%BA%E4%BA%86%E4%B8%80%E5%A5%97%E7%AE%80%E5%8D%95%E6%98%93%E6%87%82%E3%80%81%E6%98%93%E9%83%A8%E7%BD%B2%E5%92%8C%E6%98%93%E7%BB%B4%E6%8A%A4%E7%9A%84%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7%E5%8C%85%E3%80%82">Spring Cloud是一系列框架的<a href="https://baike.baidu.com/item/%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88/994839?fromModule=lemma_inlink" rel="nofollow" title="有序集合">有序集合</a>。它利用<a href="https://baike.baidu.com/item/Spring%20Boot/20249767?fromModule=lemma_inlink" rel="nofollow" title="Spring Boot">Spring Boot</a>的开发<a href="https://baike.baidu.com/item/%E4%BE%BF%E5%88%A9%E6%80%A7/53294221?fromModule=lemma_inlink" rel="nofollow" title="便利性">便利性</a>巧妙地简化了<a href="https://baike.baidu.com/item/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F/4905336?fromModule=lemma_inlink" rel="nofollow" title="分布式系统">分布式系统</a>基础设施的开发，如<a href="https://baike.baidu.com/item/%E6%9C%8D%E5%8A%A1%E5%8F%91%E7%8E%B0/23734240?fromModule=lemma_inlink" rel="nofollow" title="服务发现">服务发现</a>注册、配置中心、<a href="https://baike.baidu.com/item/%E6%B6%88%E6%81%AF%E6%80%BB%E7%BA%BF/58531073?fromModule=lemma_inlink" rel="nofollow" title="消息总线">消息总线</a>、<a href="https://baike.baidu.com/item/%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1/932451?fromModule=lemma_inlink" rel="nofollow" title="负载均衡">负载均衡</a>、<a href="https://baike.baidu.com/item/%E6%96%AD%E8%B7%AF%E5%99%A8/5921574?fromModule=lemma_inlink" rel="nofollow" title="断路器">断路器</a>、<a href="https://baike.baidu.com/item/%E6%95%B0%E6%8D%AE%E7%9B%91%E6%8E%A7/16044113?fromModule=lemma_inlink" rel="nofollow" title="数据监控">数据监控</a>等，都可以用Spring Boot的开发风格做到一键启动和部署。Spring Cloud并没有重复制造轮子，它只是将各家公司开发的比较成熟、经得起实际考验的<a href="https://baike.baidu.com/item/%E6%9C%8D%E5%8A%A1%E6%A1%86%E6%9E%B6/1507180?fromModule=lemma_inlink" rel="nofollow" title="服务框架">服务框架</a>组合起来，通过Spring Boot风格进行再封装屏蔽掉了复杂的配置和实现原理，最终给开发者留出了一套简单易懂、易部署和易维护的分布式系统<a href="https://baike.baidu.com/item/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/10464557?fromModule=lemma_inlink" rel="nofollow" title="开发工具">开发工具</a>包。</h4> 
<h3 id="%E7%BB%84%E6%88%90">组成</h3> 
<p></p> 
<p><strong>我们快速进入学习 </strong>，Eureka，服务注册和发现，它提供了一个服务注册中心、服务发现的客户端，还有一个方便的查看所有注册的服务的界面。 所有的服务使用Eureka的服务发现客户端来将自己注册到Eureka的服务器上。</p> 
<p>Eureka 是 Netflix 开发的服务发现框架， SpringCloud 将它集成在自己的子项目<br> spring-cloud-netflix 中，实现 SpringCloud 的服务发现功能。 Eureka 包含两个组件：<br> Eureka Server 和 Eureka Client 。<br> Eureka Server 提供服务注册服务，各个节点启动后，会在 Eureka Server 中进行注<br> 册，这样 EurekaServer 中的服务注册表中将会存储所有可用服务节点的信息，服务节点<br> 的信息可以在界面中直观的看到。<br> Eureka Client 是一个 java 客户端，用于简化与 Eureka Server 的交互，客户端同时也<br> 就别一个内置的、使用轮询 (round-robin) 负载算法的负载均衡器。在应用启动后，将会<br> 向 Eureka Server 发送心跳 , 默认周期为 30 秒，如果 Eureka Server 在多个心跳周期内没有<br> 接收到某个节点的心跳， Eureka Server 将会从服务注册表中把这个服务节点移除 ( 默认 90<br> 秒 ) 。<br> Eureka Server 之间通过复制的方式完成数据的同步， Eureka 还提供了客户端缓存机<br> 制，即使所有的 Eureka Server 都挂掉，客户端依然可以利用缓存中的信息消费其他服务<br> 的 API 。综上， Eureka 通过心跳检查、客户端缓存等机制，确保了系统的高可用性、灵活<br> 性和可伸缩性。<br>  </p> 
<p>一，新建父项目：</p> 
<p>   1,依次点击 file-New-Project</p> 
<p><img alt="" height="193" src="https://images2.imgbox.com/f2/5d/WbNM8aSn_o.png" width="824"></p> 
<p> 2,找到Maven-Next</p> 
<p><img alt="" height="661" src="https://images2.imgbox.com/ea/3b/8DTCnKD6_o.png" width="1055"></p> 
<p>3，添加GroupId 及ArtifactId 下一步next <img alt="" height="599" src="https://images2.imgbox.com/fd/1f/HQCTSSMp_o.png" width="913"></p> 
<p>4 ,项目名称及路径，上一步GroupId 及ArtifactId添加完，这步基本不用动自动生成，直接Finish。</p> 
<p><img alt="" height="599" src="https://images2.imgbox.com/bc/d5/d6eNTBdr_o.png" width="895"></p> 
<p>5，父项目基本搭建成功，src文件夹可以删除</p> 
<p><img alt="" height="114" src="https://images2.imgbox.com/83/27/KPpxP7L7_o.png" width="489"></p> 
<p>6，打开父项目pom文件，导入依赖</p> 
<p><img alt="" height="657" src="https://images2.imgbox.com/24/2c/nCZGyK2n_o.png" width="1200"></p> 
<p> pom.xml依赖代码</p> 
<pre><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;

    &lt;groupId&gt;com.zwj&lt;/groupId&gt;
    &lt;artifactId&gt;Springcloud_study&lt;/artifactId&gt;
    &lt;packaging&gt;pom&lt;/packaging&gt;
    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;
    &lt;modules&gt;
        &lt;module&gt;Eureka_study&lt;/module&gt;
    &lt;/modules&gt;



    &lt;!-- 1 确定spring boot的版本--&gt;
    &lt;parent&gt;
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
        &lt;version&gt;2.1.4.RELEASE&lt;/version&gt;
    &lt;/parent&gt;
    &lt;!--2  确定版本--&gt;
    &lt;properties&gt;
        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
        &lt;java.version&gt;1.8&lt;/java.version&gt;
        &lt;spring-cloud-release.version&gt;Greenwich.RELEASE&lt;/spring-cloud-release.version&gt;
    &lt;/properties&gt;

    &lt;!-- 3 锁定sprig cloud版本--&gt;
    &lt;dependencyManagement&gt;
        &lt;dependencies&gt;
            &lt;dependency&gt;
                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;
                &lt;version&gt;${spring-cloud-release.version}&lt;/version&gt;
                &lt;type&gt;pom&lt;/type&gt;
                &lt;scope&gt;import&lt;/scope&gt;
            &lt;/dependency&gt;
        &lt;/dependencies&gt;
    &lt;/dependencyManagement&gt;
    &lt;!-- 4 确定spring cloud私有仓库--&gt;
    &lt;repositories&gt;
        &lt;repository&gt;
            &lt;id&gt;spring-milestones&lt;/id&gt;
            &lt;name&gt;Spring Milestones&lt;/name&gt;
            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;
            &lt;snapshots&gt;
                &lt;enabled&gt;false&lt;/enabled&gt;
            &lt;/snapshots&gt;
        &lt;/repository&gt;
    &lt;/repositories&gt;

&lt;/project&gt;</code></pre> 
<p>至此父项目算搭建完成</p> 
<p>二，搭建子项目Eureka(服务器端EurekaServer )</p> 
<p>1，选中父项目右键单击依次：New - Module</p> 
<p><img alt="" height="54" src="https://images2.imgbox.com/cd/4a/vMCRaEev_o.png" width="726"></p> 
<p>2,和新建父项目类似：找到Maven - next</p> 
<p><img alt="" height="588" src="https://images2.imgbox.com/e1/a5/uzXWLoZS_o.png" width="907"> 3,添加ArtifactId 和下一步项目名称一致 next<img alt="" height="617" src="https://images2.imgbox.com/bc/ac/yaCRTsIK_o.png" width="918"></p> 
<p> 4，基本不用管，想修改可以自定义路径名称<img alt="" height="609" src="https://images2.imgbox.com/06/a8/UOb1zJNb_o.png" width="912"></p> 
<p> 5，Finish,Eureka_study子项目搭建成功</p> 
<p><img alt="" height="210" src="https://images2.imgbox.com/67/53/mKTAiTwz_o.png" width="492"></p> 
<p> 6，添加依赖，打开Eureka_study pom文件</p> 
<p><img alt="" height="288" src="https://images2.imgbox.com/43/45/TB2HcDvc_o.png" width="1200"></p> 
<p>代码</p> 
<pre><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
    &lt;parent&gt;
        &lt;artifactId&gt;Springcloud_study&lt;/artifactId&gt;
        &lt;groupId&gt;com.zwj&lt;/groupId&gt;
        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;
    &lt;/parent&gt;
    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;

    &lt;artifactId&gt;Eureka_study&lt;/artifactId&gt;
    &lt;dependencies&gt;
        &lt;!--web起步依赖--&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
        &lt;/dependency&gt;
        &lt;!-- Eureka服务端 --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-server&lt;/artifactId&gt;
            &lt;version&gt;2.2.1.RELEASE&lt;/version&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;

&lt;/project&gt;</code></pre> 
<p> 7，添加Eureka_study项目核心配置文件</p> 
<p><img alt="" height="308" src="https://images2.imgbox.com/36/4f/caBAcSGl_o.png" width="851"></p> 
<p><img alt="" height="173" src="https://images2.imgbox.com/af/ea/VjRDU9Rg_o.png" width="429"></p> 
<p><img alt="" height="435" src="https://images2.imgbox.com/5e/d3/InVro2cH_o.png" width="1097"></p> 
<p> 配置文件代码</p> 
<pre><code># Tomcat
server:
  port: 8888

# Spring
spring:
  application:
    # 应用名称
    name: eureka-study
eureka:
  client:
    sevice-url:  #Eureka客户端与Eureka服务端进行交互的地址
      defaultZone: http://localhost:${server.port}/eureka
    register-with-eureka: false  #是否将自己注册到Eureka服务中，本身就是所有无需 注册

    fetch-registry: false #是否从Eureka中获取注册信息</code></pre> 
<p>8，添加Eureka_study启动类</p> 
<p><img alt="" height="501" src="https://images2.imgbox.com/bd/b6/pGZTnVNZ_o.png" width="1200"> 代码：</p> 
<pre><code>package com.zwj;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.cloud.netflix.eureka.server.EnableEurekaServer;
 
@EnableEurekaServer
@SpringBootApplication
public class EurekaApplication {

    public static void main(String[] args) {
        SpringApplication.run(EurekaApplication.class, args);
    }
}</code></pre> 
<p> 9，在启动类里面单击右键启动<img alt="" height="709" src="https://images2.imgbox.com/0b/88/RgwK4zzb_o.png" width="1051"><img alt="" height="954" src="https://images2.imgbox.com/24/d6/OaWv5Mrc_o.png" width="1200">10，浏览器输入：<a href="http://localhost:8888/" rel="nofollow" title="http://localhost:8888/">http://localhost:8888/</a>  可以看到以下界面，说明Eureka Server 服务器搭建成功</p> 
<p><img alt="" height="937" src="https://images2.imgbox.com/5a/af/nmzdyTyt_o.png" width="1200"></p> 
<p><a href="https://blog.csdn.net/qq_39772439/article/details/141397814" title="下一篇：Springcloud从零开始---Zuul-CSDN博客">下一篇：Springcloud从零开始---Zuul-CSDN博客</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b1a0f231f9811d7f41bdf837f45030be/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【C&#43;&#43;】深入解析C/C&#43;&#43;内存管理：new与delete的使用及原理</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/3bcbf854ec14b91d07bd0c380e1107e6/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">常用核函数</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>