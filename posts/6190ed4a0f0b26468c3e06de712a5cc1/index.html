<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>突破编程_前端_SVG（使用 svg-pan-zoom 库进行平移与缩放） - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/6190ed4a0f0b26468c3e06de712a5cc1/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="突破编程_前端_SVG（使用 svg-pan-zoom 库进行平移与缩放）">
  <meta property="og:description" content="1 svg-pan-zoom 概述 svg-pan-zoom 是一个轻量级、高性能且易于使用的 JavaScript 库，专为增强 SVG 图像的浏览体验而设计。它提供了平移和缩放功能，使用户能够无缝探索大型或复杂的 SVG 图形。这个库允许用户对SVG图像进行交互操作，包括缩放、平移和旋转等，从而提供了更加灵活和交互式的 SVG 浏览体验。
在 svg-pan-zoom 中，可以通过配置选项来定制SVG的平移和缩放行为。例如，可以设置是否启用平移和缩放功能，控制缩放操作的敏感度，限制用户可以缩放到的最小和最大级别，以及调整SVG图像在视口中的显示方式等。此外，svg-pan-zoom 还提供了回调函数和事件处理机制，允许开发者在特定的 SVG 操作之前或之后执行自定义代码，以及处理自定义的 SVG 事件。
通过使用 svg-pan-zoom，开发者可以轻松地在他们的应用中实现交互式的 SVG 地图、图表或其他可视化元素，从而提升用户体验和应用的交互性。无论是在 Web 应用、移动应用还是桌面应用中，svg-pan-zoom 都能为 SVG 图像提供出色的浏览和交互功能。
2 svg-pan-zoom 的基本使用 2.1 引入 svg-pan-zoom （1）通过 npm 安装 svg-pan-zoom
进入到指定的开发目录下，初始化 npm 项目（如果你的目录还不是一个 npm 项目，你需要初始化它。这将会创建一个 package.json 文件，其中包含你的项目依赖和其他元数据）。
npm init -y （2）安装 svg-pan-zoom
使用 npm 安装 svg-pan-zoom 包。
npm install svg-pan-zoom --save （3）在项目中引入 svg-pan-zoom
可以使用 require 或 import 语句来引入 svg-pan-zoom。 // 使用 CommonJS 语法（Node.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-04-13T15:36:51+08:00">
    <meta property="article:modified_time" content="2024-04-13T15:36:51+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">突破编程_前端_SVG（使用 svg-pan-zoom 库进行平移与缩放）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="1_svgpanzoom__1"></a>1 svg-pan-zoom 概述</h2> 
<p>svg-pan-zoom 是一个轻量级、高性能且易于使用的 JavaScript 库，专为增强 SVG 图像的浏览体验而设计。它提供了平移和缩放功能，使用户能够无缝探索大型或复杂的 SVG 图形。这个库允许用户对SVG图像进行交互操作，包括缩放、平移和旋转等，从而提供了更加灵活和交互式的 SVG 浏览体验。</p> 
<p>在 svg-pan-zoom 中，可以通过配置选项来定制SVG的平移和缩放行为。例如，可以设置是否启用平移和缩放功能，控制缩放操作的敏感度，限制用户可以缩放到的最小和最大级别，以及调整SVG图像在视口中的显示方式等。此外，svg-pan-zoom 还提供了回调函数和事件处理机制，允许开发者在特定的 SVG 操作之前或之后执行自定义代码，以及处理自定义的 SVG 事件。</p> 
<p>通过使用 svg-pan-zoom，开发者可以轻松地在他们的应用中实现交互式的 SVG 地图、图表或其他可视化元素，从而提升用户体验和应用的交互性。无论是在 Web 应用、移动应用还是桌面应用中，svg-pan-zoom 都能为 SVG 图像提供出色的浏览和交互功能。</p> 
<h2><a id="2_svgpanzoom__9"></a>2 svg-pan-zoom 的基本使用</h2> 
<h3><a id="21__svgpanzoom_11"></a>2.1 引入 svg-pan-zoom</h3> 
<p><strong>（1）通过 npm 安装 svg-pan-zoom</strong></p> 
<p>进入到指定的开发目录下，初始化 npm 项目（如果你的目录还不是一个 npm 项目，你需要初始化它。这将会创建一个 package.json 文件，其中包含你的项目依赖和其他元数据）。</p> 
<pre><code>npm init -y
</code></pre> 
<p><strong>（2）安装 svg-pan-zoom</strong></p> 
<p>使用 npm 安装 svg-pan-zoom 包。</p> 
<pre><code>npm install svg-pan-zoom --save
</code></pre> 
<p><strong>（3）在项目中引入 svg-pan-zoom</strong></p> 
<ul><li>可以使用 require 或 import 语句来引入 svg-pan-zoom。</li></ul> 
<pre><code class="prism language-javascript"><span class="token comment">// 使用 CommonJS 语法（Node.js）  </span>
<span class="token keyword">const</span> svgPanZoom <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'svg-pan-zoom'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  

<span class="token comment">// 或者使用 ES6 语法（例如，在模块化的前端项目中）  </span>
<span class="token keyword">import</span> svgPanZoom <span class="token keyword">from</span> <span class="token string">'svg-pan-zoom'</span><span class="token punctuation">;</span>
</code></pre> 
<ul><li>也可以通过 &lt;script&gt; 标签直接引入：</li></ul> 
<pre><code class="prism language-javascript"><span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">"node_modules/svg-pan-zoom/dist/svg-pan-zoom.min.js"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> 
<h3><a id="22__svgpanzoom_47"></a>2.2 初始化 svg-pan-zoom</h3> 
<p>如下为样例代码：</p> 
<pre><code class="prism language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>SVG Pan Zoom Example<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">  
        <span class="token comment">/* 确保 SVG 元素有足够的空间来展示和缩放 */</span>  
        <span class="token selector">#mySvg</span> <span class="token punctuation">{<!-- --></span>  
            <span class="token property">width</span><span class="token punctuation">:</span> 400px<span class="token punctuation">;</span>  
            <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>  
            <span class="token property">border</span><span class="token punctuation">:</span> 1px solid black<span class="token punctuation">;</span>  
        <span class="token punctuation">}</span>  
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mySvg<span class="token punctuation">"</span></span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2000/svg<span class="token punctuation">"</span></span> <span class="token attr-name">viewBox</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0 0 400 200<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>  
        <span class="token comment">&lt;!-- 你的 SVG 内容 --&gt;</span>  
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rect</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>50<span class="token punctuation">"</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>50<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>100<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>50<span class="token punctuation">"</span></span> <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>lightblue<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>  
        <span class="token comment">&lt;!-- ... 其他 SVG 元素 ... --&gt;</span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">&gt;</span></span>  
  
    <span class="token comment">&lt;!-- 引入 svg-pan-zoom 库（请确保路径正确） --&gt;</span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>node_modules/svg-pan-zoom/dist/svg-pan-zoom.min.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">  
        <span class="token comment">// 等待 DOM 完全加载  </span>
        document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'DOMContentLoaded'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>  
            <span class="token comment">// 获取 SVG 元素  </span>
            <span class="token keyword">var</span> svgElement <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'mySvg'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
  
            <span class="token comment">// 初始化 svg-pan-zoom  </span>
            <span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token function">svgPanZoom</span><span class="token punctuation">(</span>svgElement<span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>  
                <span class="token comment">// 这里可以配置选项，比如：  </span>
                <span class="token literal-property property">zoomEnabled</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 允许缩放  </span>
                <span class="token literal-property property">panEnabled</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  <span class="token comment">// 允许平移  </span>
                <span class="token literal-property property">maxZoom</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>       <span class="token comment">// 设置最大缩放级别  </span>
                <span class="token literal-property property">minZoom</span><span class="token operator">:</span> <span class="token number">0.1</span><span class="token punctuation">,</span>      <span class="token comment">// 设置最小缩放级别  </span>
                <span class="token comment">// ... 其他配置选项 ...  </span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
  
            <span class="token comment">// 你可以在这里添加更多的事件监听器或逻辑  </span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p><img src="https://images2.imgbox.com/db/ce/KlgDcAjE_o.png" alt="在这里插入图片描述"></p> 
<p>上面的示例做了以下几件事情：</p> 
<ul><li>创建了一个带有 id=“mySvg” 的 SVG 元素，并设置了 viewBox 属性以定义其坐标系统。</li><li>引入了 svg-pan-zoom 的 JavaScript 文件。请注意，路径 node_modules/svg-pan-zoom/dist/svg-pan-zoom.min.js 是假设已经通过 npm 将 svg-pan-zoom 安装到了 node_modules 目录下。在实际部署时，可能需要将库文件复制到你的静态资源目录，并通过正确的 URL 引用它。</li><li>在 DOMContentLoaded 事件触发后，我们获取了 SVG 元素的引用，并使用 svgPanZoom 函数初始化了一个实例。我们传递了 SVG 元素本身以及一个配置对象作为参数。在这个配置对象中，我们启用了缩放和平移功能，并设置了最大和最小缩放级别。</li><li>初始化完成后，可以根据需要添加更多的事件监听器或逻辑来处理平移和缩放事件。</li></ul> 
<h2><a id="2_svgpanzoom__107"></a>2 svg-pan-zoom 的属性</h2> 
<p>如下是 svg-pan-zoom 的属性的示例：</p> 
<pre><code class="prism language-js"><span class="token keyword">let</span> panZoomTiger <span class="token operator">=</span> <span class="token function">svgPanZoom</span><span class="token punctuation">(</span><span class="token string">'#demo-tiger'</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">viewportSelector</span><span class="token operator">:</span> <span class="token string">'.svg-pan-zoom_viewport'</span>
<span class="token punctuation">,</span> <span class="token literal-property property">panEnabled</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">,</span> <span class="token literal-property property">controlIconsEnabled</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">,</span> <span class="token literal-property property">zoomEnabled</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">,</span> <span class="token literal-property property">dblClickZoomEnabled</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">,</span> <span class="token literal-property property">mouseWheelZoomEnabled</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">,</span> <span class="token literal-property property">preventMouseEventsDefault</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">,</span> <span class="token literal-property property">zoomScaleSensitivity</span><span class="token operator">:</span> <span class="token number">0.2</span>
<span class="token punctuation">,</span> <span class="token literal-property property">minZoom</span><span class="token operator">:</span> <span class="token number">0.5</span>
<span class="token punctuation">,</span> <span class="token literal-property property">maxZoom</span><span class="token operator">:</span> <span class="token number">10</span>
<span class="token punctuation">,</span> <span class="token literal-property property">fit</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">,</span> <span class="token literal-property property">contain</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">,</span> <span class="token literal-property property">center</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">,</span> <span class="token literal-property property">refreshRate</span><span class="token operator">:</span> <span class="token string">'auto'</span>
<span class="token punctuation">,</span> <span class="token function-variable function">beforeZoom</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
<span class="token punctuation">,</span> <span class="token function-variable function">onZoom</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
<span class="token punctuation">,</span> <span class="token function-variable function">beforePan</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
<span class="token punctuation">,</span> <span class="token function-variable function">onPan</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
<span class="token punctuation">,</span> <span class="token function-variable function">onUpdatedCTM</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
<span class="token punctuation">,</span> <span class="token literal-property property">customEventsHandler</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
<span class="token punctuation">,</span> <span class="token literal-property property">eventsListenerElement</span><span class="token operator">:</span> <span class="token keyword">null</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>以下是配置属性的详细解释：</p> 
<p>svg-pan-zoom 是一个强大的库，用于为 SVG 元素提供平移和缩放功能。以下是你提供的配置属性的详细解释：</p> 
<ol><li> <p><strong>viewportSelector</strong>:</p> 
  <ul><li><strong>描述</strong>: 这是一个选择器字符串，用于确定哪个元素将作为 SVG 的视口（viewport）。视口是 SVG 图像显示的区域。</li><li><strong>值</strong>: 一个 CSS 选择器字符串，例如 ‘.svg-pan-zoom_viewport’。</li><li><strong>用途</strong>: 将 SVG 图像嵌入到一个特定的容器中，并由这个容器的大小决定 SVG 的视口大小。</li></ul> </li><li> <p><strong>panEnabled</strong>:</p> 
  <ul><li><strong>描述</strong>: 是否启用平移功能。</li><li><strong>值</strong>: true 或 false。</li><li><strong>用途</strong>: 控制用户是否可以通过拖动鼠标来平移 SVG 图像。</li></ul> </li><li> <p><strong>controlIconsEnabled</strong>:</p> 
  <ul><li><strong>描述</strong>: 是否显示控制图标（如缩放和平移按钮）。</li><li><strong>值</strong>: true 或 false。</li><li><strong>用途</strong>: 如果你不希望显示默认的控制图标，可以将其设置为 false。</li></ul> </li><li> <p><strong>zoomEnabled</strong>:</p> 
  <ul><li><strong>描述</strong>: 是否启用缩放功能。</li><li><strong>值</strong>: true 或 false。</li><li><strong>用途</strong>: 控制用户是否可以通过鼠标滚轮或双击来缩放 SVG 图像。</li></ul> </li><li> <p><strong>dblClickZoomEnabled</strong>:</p> 
  <ul><li><strong>描述</strong>: 是否启用双击缩放功能。</li><li><strong>值</strong>: true 或 false。</li><li><strong>用途</strong>: 当用户双击 SVG 图像时，是否触发缩放操作。</li></ul> </li><li> <p><strong>mouseWheelZoomEnabled</strong>:</p> 
  <ul><li><strong>描述</strong>: 是否启用鼠标滚轮缩放功能。</li><li><strong>值</strong>: true 或 false。</li><li><strong>用途</strong>: 控制用户是否可以通过滚动鼠标滚轮来缩放 SVG 图像。</li></ul> </li><li> <p><strong>preventMouseEventsDefault</strong>:</p> 
  <ul><li><strong>描述</strong>: 是否阻止默认的鼠标事件。</li><li><strong>值</strong>: true 或 false。</li><li><strong>用途</strong>: 当设置为 true 时，库会尝试阻止某些默认的鼠标事件，以避免与 SVG-pan-zoom 的交互发生冲突。</li></ul> </li><li> <p><strong>zoomScaleSensitivity</strong>:</p> 
  <ul><li><strong>描述</strong>: 缩放操作的敏感度。</li><li><strong>值</strong>: 一个数字，例如 0.2。</li><li><strong>用途</strong>: 控制每次缩放操作导致的缩放级别变化的大小。</li></ul> </li><li> <p><strong>minZoom</strong> 和 <strong>maxZoom</strong>:</p> 
  <ul><li><strong>描述</strong>: SVG 图像的最小和最大缩放级别。</li><li><strong>值</strong>: 数字，例如 0.5 和 10。</li><li><strong>用途</strong>: 限制用户可以缩放到的最小和最大级别。</li></ul> </li><li> <p><strong>fit</strong>:</p> 
  <ul><li><strong>描述</strong>: 是否在初始化时自动调整 SVG 的大小和位置，以适应视口。</li><li><strong>值</strong>: true 或 false。</li><li><strong>用途</strong>: SVG 图像在加载时自动适应其容器的大小。</li></ul> </li><li> <p><strong>contain</strong>:</p> 
  <ul><li><strong>描述</strong>: 当启用时，确保 SVG 图像始终完全显示在视口中，即使缩放级别很高。</li><li><strong>值</strong>: true 或 false。</li><li><strong>用途</strong>: 控制 SVG 图像是否始终在视口内完全可见。</li></ul> </li><li> <p><strong>center</strong>:</p> 
  <ul><li><strong>描述</strong>: 当启用时，SVG 图像会在视口中居中显示。</li><li><strong>值</strong>: true 或 false。</li><li><strong>用途</strong>: 控制 SVG 图像是否默认在视口中居中。</li></ul> </li><li> <p><strong>refreshRate</strong>:</p> 
  <ul><li><strong>描述</strong>: 刷新率设置，用于控制平移和缩放操作的平滑度。</li><li><strong>值</strong>: ‘auto’ 或一个数字（表示每秒的帧数）。</li><li><strong>用途</strong>: 当更精细地控制平移和缩放操作的性能。</li></ul> </li><li> <p><strong>beforeZoom</strong>, <strong>onZoom</strong>, <strong>beforePan</strong>, <strong>onPan</strong>, <strong>onUpdatedCTM</strong>:</p> 
  <ul><li><strong>描述</strong>: 这些是回调函数，用于在特定的 SVG 操作之前或之后执行自定义代码。</li><li><strong>值</strong>: 函数。</li><li><strong>用途</strong>: 允许开发者在平移、缩放或其他操作时执行自定义逻辑。</li></ul> </li><li> <p><strong>customEventsHandler</strong>:</p> 
  <ul><li><strong>描述</strong>: 一个对象，用于处理自定义事件。</li><li><strong>值</strong>: 一个对象，其属性是事件名称，值是处理这些事件的函数。</li><li><strong>用途</strong>: 允许开发者定义和处理自定义的 SVG 事件。</li></ul> </li><li> <p><strong>eventsListenerElement</strong>:</p> 
  <ul><li><strong>描述</strong>: 指定哪个元素应该监听平移和缩放事件。默认情况下，svg-pan-zoom 会在 SVG 元素本身上监听这些事件。但如果你希望在其他元素（比如一个覆盖层或特定的按钮）上监听这些事件，并触发 SVG 的平移和缩放，你可以使用这个选项来指定那个元素。</li><li><strong>值</strong>: 一个 DOM 元素或选择器的字符串。</li><li><strong>用途</strong>: 当应用结构需要更复杂的交互逻辑时，这个选项会很有用。</li></ul> </li></ol> 
<p>在配置 svg-pan-zoom 时，这些选项提供了丰富的定制性，使你能够根据你的具体需求来调整 SVG 的平移和缩放行为。</p> 
<p>例如，如果你有一个响应式设计的网站，并且希望 SVG 图像能够随着视口大小的变化而自动调整大小和位置，你可以设置 fit 为 true，并可能还要设置 contain 为 true 以确保图像始终在视口中可见。</p> 
<p>如果你想要更精细地控制用户的交互体验，你可以使用回调函数（如 beforeZoom 和 onZoom）来添加动画效果、更新 UI 元素或执行其他逻辑。</p> 
<p>最后，通过调整 zoomScaleSensitivity、minZoom 和 maxZoom 等选项，你可以确保 SVG 图像的缩放级别在合理的范围内，并为用户提供平滑而一致的缩放体验。</p> 
<h2><a id="3_svgpanzoom__245"></a>3 svg-pan-zoom 的常用接口</h2> 
<ol><li> <p><strong>zoomIn()</strong>:</p> 
  <ul><li><strong>描述</strong>: 放大 SVG 元素。</li><li><strong>示例</strong>: svgPanZoomInstance.zoomIn();</li></ul> </li><li> <p><strong>zoomOut()</strong>:</p> 
  <ul><li><strong>描述</strong>: 缩小 SVG 元素。</li><li><strong>示例</strong>: svgPanZoomInstance.zoomOut();</li></ul> </li><li> <p><strong>reset()</strong>:</p> 
  <ul><li><strong>描述</strong>: 将 SVG 元素的视图重置到初始状态，包括缩放和平移。</li><li><strong>示例</strong>: svgPanZoomInstance.reset();</li></ul> </li><li> <p><strong>panBy(dx, dy)</strong>:</p> 
  <ul><li><strong>描述</strong>: 按照指定的 x（dx）和 y（dy）偏移量平移 SVG 元素。</li><li><strong>示例</strong>: svgPanZoomInstance.panBy(100, 50); 这将使 SVG 元素向右移动 100 个单位，并向下移动 50 个单位。</li></ul> </li><li> <p><strong>zoomAtPoint(scale, point)</strong>:</p> 
  <ul><li><strong>描述</strong>: 将 SVG 元素缩放到指定的缩放级别（scale）。</li><li><strong>参数</strong>: scale：目标缩放级别。大于 1 的值表示放大，小于 1 但大于 0 的值表示缩小。point：一个包含 x 和 y 坐标的对象，指定缩放操作的中心点。</li><li><strong>示例</strong>: svgPanZoomInstance.zoomAtPoint(2); 这将 SVG 元素放大到两倍大小。</li></ul> </li></ol> 
<p>样例代码如下：</p> 
<pre><code class="prism language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>SVG Pan Zoom Example<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">  
        <span class="token comment">/* 确保 SVG 元素有足够的空间来展示和缩放 */</span>  
        <span class="token selector">#mySvg</span> <span class="token punctuation">{<!-- --></span>  
            <span class="token property">width</span><span class="token punctuation">:</span> 400px<span class="token punctuation">;</span>  
            <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>  
            <span class="token property">border</span><span class="token punctuation">:</span> 1px solid black<span class="token punctuation">;</span>  
        <span class="token punctuation">}</span>  
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mySvg<span class="token punctuation">"</span></span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2000/svg<span class="token punctuation">"</span></span> <span class="token attr-name">viewBox</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0 0 400 200<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>  
        <span class="token comment">&lt;!-- 你的 SVG 内容 --&gt;</span>  
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rect</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>50<span class="token punctuation">"</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>50<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>100<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>50<span class="token punctuation">"</span></span> <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>lightblue<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>  
        <span class="token comment">&lt;!-- ... 其他 SVG 元素 ... --&gt;</span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">&gt;</span></span>  
  
    <span class="token comment">&lt;!-- 引入 svg-pan-zoom 库（请确保路径正确） --&gt;</span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>node_modules/svg-pan-zoom/dist/svg-pan-zoom.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">  
        <span class="token comment">// 等待 DOM 完全加载  </span>
        document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'DOMContentLoaded'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>  
            <span class="token keyword">var</span> svgElement <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'mySvg'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
			<span class="token keyword">var</span> svgPanZoomInstance <span class="token operator">=</span> <span class="token function">svgPanZoom</span><span class="token punctuation">(</span>svgElement<span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>  
				<span class="token comment">// 配置选项  </span>
			<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
			  
			<span class="token comment">// 假设我们有一个事件监听器，当用户点击 SVG 元素时触发缩放  </span>
			svgElement<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>  
				<span class="token keyword">var</span> rect <span class="token operator">=</span> svgElement<span class="token punctuation">.</span><span class="token function">getBoundingClientRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
				<span class="token keyword">var</span> point <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>  
					<span class="token literal-property property">x</span><span class="token operator">:</span> event<span class="token punctuation">.</span>clientX <span class="token operator">-</span> rect<span class="token punctuation">.</span>left<span class="token punctuation">,</span>  
					<span class="token literal-property property">y</span><span class="token operator">:</span> event<span class="token punctuation">.</span>clientY <span class="token operator">-</span> rect<span class="token punctuation">.</span>top  
				<span class="token punctuation">}</span><span class="token punctuation">;</span>  
				  
				<span class="token comment">// 以点击点为中心放大到两倍大小  </span>
				svgPanZoomInstance<span class="token punctuation">.</span><span class="token function">zoomAtPoint</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> point<span class="token punctuation">)</span><span class="token punctuation">;</span>  
			<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<ol start="6"><li> <p><strong>getSizes()</strong>:</p> 
  <ul><li><strong>描述</strong>: 返回当前 SVG 元素和视口的大小信息。</li><li><strong>返回值</strong>: 一个对象，包含 SVG 元素和视口的宽度和高度。</li></ul> </li><li> <p><strong>destroy()</strong>:</p> 
  <ul><li><strong>描述</strong>: 销毁 svg-pan-zoom 实例，移除所有事件监听器和功能。</li><li><strong>示例</strong>: svgPanZoomInstance.destroy();</li></ul> </li></ol>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/017919ec0b6fe57f05c308005af0135e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">毕业设计项目 基于大数据的电影数据爬取分析可视化系统</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/499ee25d07b06793fed53bade76df398/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Python图像边缘检测：边缘检算法原理及实现过程</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>