<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>前后端项目打包对比——关于Spring Boot Maven Plugin配置的问题 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/0c39f429db9caa9bcdcbd1763da5c814/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="前后端项目打包对比——关于Spring Boot Maven Plugin配置的问题">
  <meta property="og:description" content="Spring Boot Maven Plugin 配置详解 Spring Boot Maven Plugin 配置详解1. 添加插件到 `pom.xml`2. 插件配置2.1 基本配置2.2 配置参数详解默认行为说明简单配置示例为什么这样的配置能工作？进一步说明 2.3 高级配置 3. 使用插件打包应用程序3.1 打包成 JAR 文件3.2 打包成 WAR 文件 4. 运行 Spring Boot 应用程序4.1 使用 Maven 运行4.2 使用生成的 JAR 文件运行 5. 调试 Spring Boot 应用程序5.1 使用 Maven 调试 6. 常见问题和解决方案6.1 无法解析配置6.2 应用程序无法启动6.3 调试问题 Spring Boot Maven Plugin 配置详解 Spring Boot Maven Plugin 是一个用于构建 Spring Boot 应用程序的 Maven 插件。它提供了多种功能，包括打包应用程序为可执行 JAR 或 WAR 文件，以及运行 Spring Boot 应用程序。以下是该插件的详细配置说明。">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-07-25T17:10:28+08:00">
    <meta property="article:modified_time" content="2024-07-25T17:10:28+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">前后端项目打包对比——关于Spring Boot Maven Plugin配置的问题</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>Spring Boot Maven Plugin 配置详解</h4> 
 <ul><li><ul><li><a href="#Spring_Boot_Maven_Plugin__1" rel="nofollow">Spring Boot Maven Plugin 配置详解</a></li><li><ul><li><a href="#1__pomxml_6" rel="nofollow">1. 添加插件到 `pom.xml`</a></li><li><a href="#2__22" rel="nofollow">2. 插件配置</a></li><li><ul><li><a href="#21__24" rel="nofollow">2.1 基本配置</a></li><li><a href="#22__48" rel="nofollow">2.2 配置参数详解</a></li><li><ul><li><a href="#_64" rel="nofollow">默认行为说明</a></li><li><a href="#_74" rel="nofollow">简单配置示例</a></li><li><a href="#_103" rel="nofollow">为什么这样的配置能工作？</a></li><li><a href="#_108" rel="nofollow">进一步说明</a></li></ul> 
     </li><li><a href="#23__116" rel="nofollow">2.3 高级配置</a></li></ul> 
    </li><li><a href="#3__157" rel="nofollow">3. 使用插件打包应用程序</a></li><li><ul><li><a href="#31__JAR__159" rel="nofollow">3.1 打包成 JAR 文件</a></li><li><a href="#32__WAR__169" rel="nofollow">3.2 打包成 WAR 文件</a></li></ul> 
    </li><li><a href="#4__Spring_Boot__192" rel="nofollow">4. 运行 Spring Boot 应用程序</a></li><li><ul><li><a href="#41__Maven__194" rel="nofollow">4.1 使用 Maven 运行</a></li><li><a href="#42__JAR__204" rel="nofollow">4.2 使用生成的 JAR 文件运行</a></li></ul> 
    </li><li><a href="#5__Spring_Boot__214" rel="nofollow">5. 调试 Spring Boot 应用程序</a></li><li><ul><li><a href="#51__Maven__216" rel="nofollow">5.1 使用 Maven 调试</a></li></ul> 
    </li><li><a href="#6__240" rel="nofollow">6. 常见问题和解决方案</a></li><li><ul><li><a href="#61__242" rel="nofollow">6.1 无法解析配置</a></li><li><a href="#62__252" rel="nofollow">6.2 应用程序无法启动</a></li><li><a href="#63__260" rel="nofollow">6.3 调试问题</a></li></ul> 
   </li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h3><a id="Spring_Boot_Maven_Plugin__1"></a>Spring Boot Maven Plugin 配置详解</h3> 
<p><img src="https://images2.imgbox.com/21/29/hZMu7uFi_o.png" alt="在这里插入图片描述"></p> 
<p>Spring Boot Maven Plugin 是一个用于构建 Spring Boot 应用程序的 Maven 插件。它提供了多种功能，包括打包应用程序为可执行 JAR 或 WAR 文件，以及运行 Spring Boot 应用程序。以下是该插件的详细配置说明。</p> 
<h4><a id="1__pomxml_6"></a>1. 添加插件到 <code>pom.xml</code></h4> 
<p>首先，确保在项目的 <code>pom.xml</code> 文件中添加了 Spring Boot Maven Plugin：</p> 
<pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugins</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-maven-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>3.2.5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span> <span class="token comment">&lt;!-- 确保版本与 Spring Boot 版本兼容 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugins</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<h4><a id="2__22"></a>2. 插件配置</h4> 
<h5><a id="21__24"></a>2.1 基本配置</h5> 
<p>以下是插件的基本配置示例：</p> 
<pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-maven-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mainClass</span><span class="token punctuation">&gt;</span></span>com.example.Main<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mainClass</span><span class="token punctuation">&gt;</span></span> <span class="token comment">&lt;!-- 指定主类 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>executions</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>execution</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>goals</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>goal</span><span class="token punctuation">&gt;</span></span>repackage<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>goal</span><span class="token punctuation">&gt;</span></span> <span class="token comment">&lt;!-- 重新打包 --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>goals</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
                <span class="token comment">&lt;!-- 可以在这里覆盖或添加额外的配置 --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>execution</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>executions</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<h5><a id="22__48"></a>2.2 配置参数详解</h5> 
<ul><li><strong><code>mainClass</code></strong>：指定应用程序的主类，这是启动 Spring Boot 应用程序时需要的入口类。</li><li><strong><code>layout</code></strong>：指定打包布局。可选值有 <code>JAR</code>、<code>WAR</code> 和 <code>NONE</code>。默认值为 <code>NONE</code>。 
  <ul><li><code>JAR</code>：生成一个包含所有依赖项的可执行 JAR 文件。</li><li><code>WAR</code>：生成一个 WAR 文件，适用于部署到 Web 服务器。</li><li><code>NONE</code>：不改变 Maven 默认的打包布局。</li></ul> </li><li><strong><code>executable</code></strong>：布尔值，指示是否生成可执行 JAR 文件。默认值为 <code>false</code>。</li><li><strong><code>includes</code></strong> 和 <strong><code>excludes</code></strong>：用于指定包含或排除的依赖项。可以指定 <code>groupId</code> 和 <code>artifactId</code>。</li><li><strong><code>classifier</code></strong>：为生成的 JAR 文件添加分类器。这在生成多个不同配置的 JAR 文件时非常有用。</li><li><strong><code>image</code></strong>：指定生成的 JAR 文件的名称。</li><li><strong><code>requiresUnpack</code></strong>：指定是否需要在运行时解压 JAR 文件。默认值为 <code>true</code>。</li></ul> 
<p>您是对的，对于 Spring Boot 项目来说，很多配置都是可选的，因为 Spring Boot Maven Plugin 提供了一些默认行为，使得在很多情况下，即使不进行额外配置也能正常打包和运行应用程序。</p> 
<h6><a id="_64"></a>默认行为说明</h6> 
<ol><li> <p><strong><code>&lt;packaging&gt;</code> 标签</strong>：在 Maven 中，<code>&lt;packaging&gt;</code> 标签定义了构建产物的类型。对于 Spring Boot 应用，通常使用 <code>jar</code> 作为打包类型。这是 Maven 项目的基本配置，并不是 Spring Boot Maven Plugin 的一部分。</p> </li><li> <p><strong>Spring Boot Maven Plugin</strong>：该插件的主要作用是处理 Spring Boot 应用的特定打包需求，比如嵌入依赖、生成可执行 JAR 等。以下是一些关键点：</p> 
  <ul><li><strong>默认 <code>layout</code></strong>：如果不显式指定 <code>layout</code> 属性，插件会根据 <code>&lt;packaging&gt;</code> 标签的值来决定打包布局。对于 <code>jar</code> 类型，它默认使用 <code>NONE</code>，这意味着它会保留 Maven 的标准打包布局。</li><li><strong>默认 <code>mainClass</code></strong>：插件会尝试自动检测应用的主类。如果没有显式指定 <code>mainClass</code> 属性，它会查找带有 <code>SpringBootApplication</code> 注解的类。</li><li><strong>默认 <code>excludes</code></strong>：Lombok 等一些依赖默认情况下会被排除在最终的 JAR 之外，因为它们在运行时不需要。</li></ul> </li></ol> 
<h6><a id="_74"></a>简单配置示例</h6> 
<p>以下是一个简单的 <code>pom.xml</code> 配置示例，它展示了如何使用 Spring Boot Maven Plugin 打包 Spring Boot 应用：</p> 
<pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- ... 其他配置 ... --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>packaging</span><span class="token punctuation">&gt;</span></span>jar<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>packaging</span><span class="token punctuation">&gt;</span></span>
    
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugins</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-maven-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>3.2.5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span> <span class="token comment">&lt;!-- 使用与 Spring Boot 版本相匹配的插件版本 --&gt;</span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>excludes</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclude</span><span class="token punctuation">&gt;</span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclude</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>excludes</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugins</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<h6><a id="_103"></a>为什么这样的配置能工作？</h6> 
<ul><li><strong>自动检测</strong>：Spring Boot Maven Plugin 会自动检测并处理许多常见的配置，比如查找主类、嵌入依赖等。</li><li><strong>Maven 的灵活性</strong>：Maven 本身在处理 <code>jar</code> 打包类型时已经提供了一套完整的机制，Spring Boot Maven Plugin 主要是在此基础上增加了对 Spring Boot 应用的支持。</li></ul> 
<h6><a id="_108"></a>进一步说明</h6> 
<ul><li><strong><code>&lt;goal&gt;repackage&lt;/goal&gt;</code></strong>：这个目标是 Spring Boot Maven Plugin 的一部分，用于重新打包应用，确保所有依赖都被正确嵌入到最终的 JAR 文件中。即使不显式指定这个目标，Maven 在执行 <code>mvn package</code> 时也会自动调用它。</li><li><strong><code>&lt;mainClass&gt;</code></strong>：虽然可以不指定，但显式指定 <code>mainClass</code> 可以提供更好的控制，特别是在有多个入口类的情况下。</li></ul> 
<h5><a id="23__116"></a>2.3 高级配置</h5> 
<p>以下是一些高级配置示例：</p> 
<pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-maven-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mainClass</span><span class="token punctuation">&gt;</span></span>com.example.Main<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mainClass</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>layout</span><span class="token punctuation">&gt;</span></span>JAR<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>layout</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>executable</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>executable</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>classifier</span><span class="token punctuation">&gt;</span></span>exec<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>classifier</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>image</span><span class="token punctuation">&gt;</span></span>myapp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>image</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>requiresUnpack</span><span class="token punctuation">&gt;</span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>requiresUnpack</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>includes</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>non-optional<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>non-optional<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>include</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>includes</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>excludes</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclude</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>optional<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>optional<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclude</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>excludes</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>executions</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>execution</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>goals</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>goal</span><span class="token punctuation">&gt;</span></span>repackage<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>goal</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>goals</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
                <span class="token comment">&lt;!-- 可以在这里覆盖或添加额外的配置 --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>execution</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>executions</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<h4><a id="3__157"></a>3. 使用插件打包应用程序</h4> 
<h5><a id="31__JAR__159"></a>3.1 打包成 JAR 文件</h5> 
<p>运行以下 Maven 命令将应用程序打包成 JAR 文件：</p> 
<pre><code class="prism language-shell">mvn clean package
</code></pre> 
<p>这将执行 <code>spring-boot-maven-plugin</code> 的 <code>repackage</code> 目标，生成一个包含所有依赖项的可执行 JAR 文件。</p> 
<h5><a id="32__WAR__169"></a>3.2 打包成 WAR 文件</h5> 
<p>如果需要将应用程序打包成 WAR 文件，可以在 <code>pom.xml</code> 文件中设置 <code>layout</code> 属性为 <code>WAR</code>：</p> 
<pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-maven-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mainClass</span><span class="token punctuation">&gt;</span></span>com.example.Main<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mainClass</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>layout</span><span class="token punctuation">&gt;</span></span>WAR<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>layout</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>然后运行以下命令：</p> 
<pre><code class="prism language-shell">mvn clean package
</code></pre> 
<p>这将生成一个 WAR 文件，可以部署到 Web 服务器。</p> 
<h4><a id="4__Spring_Boot__192"></a>4. 运行 Spring Boot 应用程序</h4> 
<h5><a id="41__Maven__194"></a>4.1 使用 Maven 运行</h5> 
<p>Spring Boot Maven Plugin 允许你直接从命令行运行 Spring Boot 应用程序，而无需手动启动 JVM。要运行应用程序，可以使用以下命令：</p> 
<pre><code class="prism language-shell">mvn spring-boot:run
</code></pre> 
<p>这将启动应用程序，并在控制台中显示应用程序的输出。</p> 
<h5><a id="42__JAR__204"></a>4.2 使用生成的 JAR 文件运行</h5> 
<p>如果生成了可执行 JAR 文件，可以使用以下命令运行应用程序：</p> 
<pre><code class="prism language-shell"><span class="token function">java</span> <span class="token parameter variable">-jar</span> target/myapp-0.0.1-SNAPSHOT.jar
</code></pre> 
<p>这将启动应用程序，并在控制台中显示应用程序的输出。</p> 
<h4><a id="5__Spring_Boot__214"></a>5. 调试 Spring Boot 应用程序</h4> 
<h5><a id="51__Maven__216"></a>5.1 使用 Maven 调试</h5> 
<p>要使用 Maven 调试 Spring Boot 应用程序，可以在 <code>pom.xml</code> 文件中添加以下配置：</p> 
<pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-maven-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>jvmArguments</span><span class="token punctuation">&gt;</span></span>
            -Xdebug -Xnoagent -Djava.compiler=NONE -Xrunjdwp:transport=dt_socket,address=8000,server=y,suspend=n
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>jvmArguments</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>然后运行以下命令：</p> 
<pre><code class="prism language-shell">mvn spring-boot:run
</code></pre> 
<p>这将启动应用程序，并在端口 8000 上监听调试连接。</p> 
<h4><a id="6__240"></a>6. 常见问题和解决方案</h4> 
<h5><a id="61__242"></a>6.1 无法解析配置</h5> 
<p>如果遇到类似以下错误：</p> 
<pre><code>Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:3.2.5:repackage (repackage) on project myapp: Unable to parse configuration of mojo org.springframework.boot:spring-boot-maven-plugin:3.2.5:repackage: Cannot convert 'PACKAGE_INTO_ONE_JAR' to Enum: No enum constant org.springframework.boot.maven.AbstractPackagerMojo.LayoutType.PACKAGE_INTO_ONE_JAR
</code></pre> 
<p>这通常是因为 <code>layout</code> 属性的值不正确。确保 <code>layout</code> 属性的值是 <code>JAR</code>、<code>WAR</code> 或 <code>NONE</code>。</p> 
<h5><a id="62__252"></a>6.2 应用程序无法启动</h5> 
<p>如果应用程序无法启动，检查以下可能的原因：</p> 
<ul><li><strong>依赖项缺失</strong>：确保所有依赖项都已正确添加到 <code>pom.xml</code> 文件中。</li><li><strong>主类错误</strong>：检查 <code>mainClass</code> 属性是否正确指向应用程序的主类。</li><li><strong>配置文件错误</strong>：检查应用程序的配置文件（如 <code>application.properties</code> 或 <code>application.yml</code>）是否有错误。</li></ul> 
<h5><a id="63__260"></a>6.3 调试问题</h5> 
<p>如果调试时遇到问题，检查以下可能的原因：</p> 
<ul><li><strong>调试参数错误</strong>：确保调试参数正确添加到 <code>pom.xml</code> 文件中。</li><li><strong>IDE 配置</strong>：确保 IDE 正确配置了远程调试。</li></ul> 
<hr> 
<p><strong>注意</strong>：本文的目的是提供一个详细的指南，但实际的配置和用法可能会根据你的具体项目需求和环境而有所不同。建议根据实际情况调整配置，并参考 Spring Boot 和 Maven 的官方文档获取更多信息。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/c0c5e467932848875037d91ddead9fec/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">LinkedList 实现 LRU 缓存</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/fe601ae1d1e615351e8c94bb4ef7d24d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">如何防止用户通过打印功能复制页面文字</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>