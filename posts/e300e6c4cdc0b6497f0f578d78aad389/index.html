<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>赛氪OJ评测 | CCF CAT- 全国算法精英大赛（2024第二场）往届真题练习 1 | 珂学家 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/e300e6c4cdc0b6497f0f578d78aad389/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="赛氪OJ评测 | CCF CAT- 全国算法精英大赛（2024第二场）往届真题练习 1 | 珂学家">
  <meta property="og:description" content="前言 在赛氪OJ打过不少比赛，包括计算机挑战赛春季赛/秋季赛，大学生算法赛（清华社杯），CCF-CAT，智星算法赛等。
我感觉需要对这个平台，做一下评测，以帮助新生避下坑。
主要涉及
知识点和难度编程语言优劣 主要以 CCF CAT- 全国算法精英大赛（2024第二场）往届真题练习 1 这场练习赛作为依据。
知识点和难度 一句话概括： 知识点属于竞赛范畴，团队赛难度 ≥ 个人赛难度 . 知识点属于竞赛范畴，团队赛难度 \ge 个人赛难度. 知识点属于竞赛范畴，团队赛难度≥个人赛难度.
如果你的算法水平，仅限于力扣水平，那这比赛会打得很吃力。
以练习赛的5道题为例
这场我做了4题，3道AC，1道被卡常（后面会解释），1题完全没思路。
整体而言，知识点考察广，覆盖字符串，单调栈，数论，图论等等，而且较为综合，不是单纯的板子和思维题。
对大部分的同学而言，需要提前做好挫折心理预期。
编程语言 这个OJ平台和其他平台不一样。
c &#43; &#43; 是 1 等公民， j a v a 是 3 等公民， p y t h o n 是 4 等公民，那为啥中间没有那个 2 呢？ c&#43;&#43;是1等公民，java是3等公民，python是4等公民，那为啥中间没有那个2呢？ c&#43;&#43;是1等公民，java是3等公民，python是4等公民，那为啥中间没有那个2呢？
因为实在差太多了，不是特别建议用python作为开发语言。
java版本好像是jdk8，切忌高版本的语法。
python没有使用pypy3，即运行时编译优化。
按照一般的约定
其他语言时限是 c &#43; &#43; 的 2 倍 其他语言时限 是c&#43;&#43;的2倍 其他语言时限是c&#43;&#43;的2倍
但是在这个平台显然并不成立，因此建议主委会放宽其他语言的时限，尤其是python。">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-05-31T11:30:26+08:00">
    <meta property="article:modified_time" content="2024-05-31T11:30:26+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">赛氪OJ评测 | CCF CAT- 全国算法精英大赛（2024第二场）往届真题练习 1 | 珂学家</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <hr> 
<h2><a id="_4"></a>前言</h2> 
<p>在赛氪OJ打过不少比赛，包括计算机挑战赛春季赛/秋季赛，大学生算法赛（清华社杯），CCF-CAT，智星算法赛等。</p> 
<p>我感觉需要对这个平台，做一下评测，以帮助新生避下坑。</p> 
<p>主要涉及</p> 
<ul><li>知识点和难度</li><li>编程语言优劣</li></ul> 
<p>主要以 <a href="https://oj.saikr.com/contest/detail/65" rel="nofollow">CCF CAT- 全国算法精英大赛（2024第二场）往届真题练习 1</a> 这场练习赛作为依据。</p> 
<p><img src="https://images2.imgbox.com/1a/83/Tb4hG0d0_o.png" alt="在这里插入图片描述"></p> 
<hr> 
<h2><a id="_21"></a>知识点和难度</h2> 
<p>一句话概括：<span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          知识点属于竞赛范畴，团队赛难度 
         
        
          ≥ 
         
        
          个人赛难度 
         
        
          . 
         
        
       
         知识点属于竞赛范畴，团队赛难度 \ge 个人赛难度. 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.8193em; vertical-align: -0.136em;"></span><span class="mord cjk_fallback">知识点属于竞赛范畴，团队赛难度</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord cjk_fallback">个人赛难度</span><span class="mord">.</span></span></span></span></span></span></p> 
<p>如果你的算法水平，仅限于力扣水平，那这比赛会打得很吃力。</p> 
<p>以练习赛的5道题为例<br> <img src="https://images2.imgbox.com/b3/fd/YZ5wlxeC_o.png" alt="在这里插入图片描述"></p> 
<p>这场我做了4题，3道AC，1道被卡常（后面会解释），1题完全没思路。</p> 
<p>整体而言，知识点考察广，覆盖字符串，单调栈，数论，图论等等，而且较为综合，不是单纯的板子和思维题。</p> 
<p>对大部分的同学而言，需要提前做好挫折心理预期。</p> 
<hr> 
<h2><a id="_39"></a>编程语言</h2> 
<p>这个OJ平台和其他平台不一样。<br> <span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          c 
         
        
          + 
         
        
          + 
         
        
          是 
         
        
          1 
         
        
          等公民， 
         
        
          j 
         
        
          a 
         
        
          v 
         
        
          a 
         
        
          是 
         
        
          3 
         
        
          等公民， 
         
        
          p 
         
        
          y 
         
        
          t 
         
        
          h 
         
        
          o 
         
        
          n 
         
        
          是 
         
        
          4 
         
        
          等公民，那为啥中间没有那个 
         
        
          2 
         
        
          呢？ 
         
        
       
         c++是1等公民，java是3等公民，python是4等公民，那为啥中间没有那个2呢？ 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6667em; vertical-align: -0.0833em;"></span><span class="mord mathnormal">c</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.8889em; vertical-align: -0.1944em;"></span><span class="mord">+</span><span class="mord cjk_fallback">是</span><span class="mord">1</span><span class="mord cjk_fallback">等公民，</span><span class="mord mathnormal">ja</span><span class="mord mathnormal" style="margin-right: 0.0359em;">v</span><span class="mord mathnormal">a</span><span class="mord cjk_fallback">是</span><span class="mord">3</span><span class="mord cjk_fallback">等公民，</span><span class="mord mathnormal">p</span><span class="mord mathnormal" style="margin-right: 0.0359em;">y</span><span class="mord mathnormal">t</span><span class="mord mathnormal">h</span><span class="mord mathnormal">o</span><span class="mord mathnormal">n</span><span class="mord cjk_fallback">是</span><span class="mord">4</span><span class="mord cjk_fallback">等公民，那为啥中间没有那个</span><span class="mord">2</span><span class="mord cjk_fallback">呢？</span></span></span></span></span></span></p> 
<p>因为实在差太多了，不是特别建议用python作为开发语言。</p> 
<p>java版本好像是jdk8，切忌高版本的语法。</p> 
<p>python没有使用pypy3，即运行时编译优化。</p> 
<p>按照一般的约定</p> 
<p><span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          其他语言时限是 
         
        
          c 
         
        
          + 
         
        
          + 
         
        
          的 
         
        
          2 
         
        
          倍 
         
        
       
         其他语言时限 是c++的2倍 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.7667em; vertical-align: -0.0833em;"></span><span class="mord cjk_fallback">其他语言时限是</span><span class="mord mathnormal">c</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.7667em; vertical-align: -0.0833em;"></span><span class="mord">+</span><span class="mord cjk_fallback">的</span><span class="mord">2</span><span class="mord cjk_fallback">倍</span></span></span></span></span></span></p> 
<p>但是在这个平台显然并不成立，因此建议主委会放宽其他语言的时限，尤其是python。</p> 
<p>以第3题为例 <a href="https://oj.saikr.com/problem/detail/1534" rel="nofollow">The diameter of a rectangle</a></p> 
<p><img src="https://images2.imgbox.com/08/7e/Yc72RGUD_o.png" alt="在这里插入图片描述"><br> 这其实是一道单调栈的裸题</p> 
<p>同样是O(n)的算法和思路，c++，java, python的对比就很有说服力。</p> 
<ul><li>c++ 1秒内AC</li><li>java 10秒内AC</li><li>python 20秒 TLE</li></ul> 
<pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayDeque</span></span><span class="token punctuation">;</span>  
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Deque</span></span><span class="token punctuation">;</span>  
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Scanner</span></span><span class="token punctuation">;</span>  
  
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{<!-- --></span>  
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>  
        <span class="token class-name">Scanner</span> scanner <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>  
        <span class="token keyword">int</span> n <span class="token operator">=</span> scanner<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
          
        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> pack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>  
            pack<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> scanner<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 高度  </span>
            pack<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> scanner<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 宽度  </span>
        <span class="token punctuation">}</span>  
          
        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> pre <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">;</span>  
        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> suf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">;</span>  
          
        <span class="token class-name">Deque</span><span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> mono1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
        <span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>  
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>  
            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>mono1<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> mono1<span class="token punctuation">.</span><span class="token function">peekLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&gt;=</span> pack<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>  
                mono1<span class="token punctuation">.</span><span class="token function">pollLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
            <span class="token punctuation">}</span>  
            <span class="token keyword">if</span> <span class="token punctuation">(</span>mono1<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>  
                pre<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> x<span class="token punctuation">;</span>  
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>  
                pre<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> x <span class="token operator">-</span> mono1<span class="token punctuation">.</span><span class="token function">peekLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  
            <span class="token punctuation">}</span>  
            x <span class="token operator">+=</span> pack<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  
            mono1<span class="token punctuation">.</span><span class="token function">offerLast</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{<!-- --></span>x<span class="token punctuation">,</span> pack<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
        <span class="token punctuation">}</span>  
          
        x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>  
        <span class="token class-name">Deque</span><span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> mono2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>  
            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>mono2<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> mono2<span class="token punctuation">.</span><span class="token function">peekLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&gt;=</span> pack<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>  
                mono2<span class="token punctuation">.</span><span class="token function">pollLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
            <span class="token punctuation">}</span>  
            <span class="token keyword">if</span> <span class="token punctuation">(</span>mono2<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>  
                suf<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> x<span class="token punctuation">;</span>  
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>  
                suf<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> x <span class="token operator">-</span> mono2<span class="token punctuation">.</span><span class="token function">peekLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  
            <span class="token punctuation">}</span>  
            x <span class="token operator">+=</span> pack<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  
            mono2<span class="token punctuation">.</span><span class="token function">offerLast</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{<!-- --></span>x<span class="token punctuation">,</span> pack<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
        <span class="token punctuation">}</span>  
          
        <span class="token keyword">int</span> res <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>  
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>  
            <span class="token keyword">int</span> l <span class="token operator">=</span> pre<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> suf<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> pack<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  
            <span class="token keyword">int</span> h <span class="token operator">=</span> pack<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  
            res <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>l<span class="token punctuation">,</span> h<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>l<span class="token punctuation">,</span> h<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
        <span class="token punctuation">}</span>  
          
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>  
        scanner<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token punctuation">}</span>  
<span class="token punctuation">}</span>
</code></pre> 
<pre><code class="prism language-python"><span class="token comment"># coding=utf-8</span>
n <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span><span class="token builtin">input</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

pack <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
  h<span class="token punctuation">,</span> w <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">map</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  pack<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">(</span>h<span class="token punctuation">,</span> w<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># 单调栈</span>

<span class="token keyword">from</span> collections <span class="token keyword">import</span> deque

pre <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">*</span> n
suf <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">*</span> n

mono1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
x <span class="token operator">=</span> <span class="token number">0</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
  ps <span class="token operator">=</span> pack<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
  
  <span class="token keyword">while</span> <span class="token builtin">len</span><span class="token punctuation">(</span>mono1<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token keyword">and</span> mono1<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>h<span class="token punctuation">]</span> <span class="token operator">&gt;=</span> ps<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
    mono1<span class="token punctuation">.</span>popleft<span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>mono1<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
    pre<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> x
  <span class="token keyword">else</span><span class="token punctuation">:</span>
    pre<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> x <span class="token operator">-</span> mono1<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
  mono1<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> ps<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  x <span class="token operator">+=</span> ps<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>


mono2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
x <span class="token operator">=</span> <span class="token number">0</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
  ps <span class="token operator">=</span> pack<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
  
  <span class="token keyword">while</span> <span class="token builtin">len</span><span class="token punctuation">(</span>mono2<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token keyword">and</span> mono2<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>h<span class="token punctuation">]</span> <span class="token operator">&gt;=</span> ps<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
    mono2<span class="token punctuation">.</span>popleft<span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>mono2<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
    suf<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> x
  <span class="token keyword">else</span><span class="token punctuation">:</span>
    suf<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> x <span class="token operator">-</span> mono2<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
  mono2<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> ps<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  x <span class="token operator">+=</span> ps<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>

res <span class="token operator">=</span> <span class="token number">0</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
  l <span class="token operator">=</span> <span class="token punctuation">(</span>pre<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> suf<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> pack<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  h <span class="token operator">=</span> pack<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
  res <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> <span class="token builtin">min</span><span class="token punctuation">(</span>l<span class="token punctuation">,</span> h<span class="token punctuation">)</span> <span class="token operator">**</span> <span class="token number">2</span><span class="token punctuation">)</span>

<span class="token keyword">print</span> <span class="token punctuation">(</span>res<span class="token punctuation">)</span>

</code></pre> 
<p>所以javaer和pythoner一定要备好快读快写的板子，必要时切c++。</p> 
<p>因为太容易卡常了，个人建议主委会</p> 
<p><span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          其他语言时限为 
         
        
          c 
         
        
          + 
         
        
          + 
         
        
          的 
         
        
          10 
         
        
          倍 
         
        
       
         其他语言时限为c++的10倍 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.7667em; vertical-align: -0.0833em;"></span><span class="mord cjk_fallback">其他语言时限为</span><span class="mord mathnormal">c</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.7667em; vertical-align: -0.0833em;"></span><span class="mord">+</span><span class="mord cjk_fallback">的</span><span class="mord">10</span><span class="mord cjk_fallback">倍</span></span></span></span></span></span></p> 
<p>当然这是平台，狠起来c++都卡常。</p> 
<p>比如 第一题， 这么离谱的通过率，是因为卡常。<br> <img src="https://images2.imgbox.com/90/77/KtjHcs7o_o.png" alt="在这里插入图片描述"><br> 用了字符串hash的做法，时间复杂度在<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         O 
        
       
         ( 
        
        
        
          n 
         
        
          2 
         
        
       
         + 
        
       
         m 
        
       
         ) 
        
       
         , 
        
       
         n 
        
       
         ≤ 
        
       
         1 
        
       
         e 
        
       
         3 
        
       
         , 
        
       
         m 
        
       
         ≤ 
        
       
         1 
        
       
         e 
        
       
         5 
        
       
      
        O(n^2+m), n\le 1e3, m\le 1e5 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1.0641em; vertical-align: -0.25em;"></span><span class="mord mathnormal" style="margin-right: 0.0278em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8141em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal">m</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.8389em; vertical-align: -0.1944em;"></span><span class="mord">1</span><span class="mord mathnormal">e</span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">1</span><span class="mord mathnormal">e</span><span class="mord">5</span></span></span></span></span></p> 
<p>能优化的手段都用了，还是过不了，T_T。</p> 
<hr> 
<h2><a id="_199"></a>比赛评价</h2> 
<p>主要分两块</p> 
<ul><li>题目描述</li><li>赛时rejudge</li></ul> 
<p>这个比赛题目的题意描述，说真的，比其他平台还是差了一些，当然这个和赛氪OJ本身没啥关系。</p> 
<p>打个预防针吧，记得赛时及时反馈</p> 
<p>赛时如果遇到数据有问题，往往赛后才rejudge，这个需要同学注意。</p> 
<hr> 
<h2><a id="1_214"></a>练习赛1的题解</h2> 
<hr> 
<h3><a id="Mysterious_Rune_Stringhttpsojsaikrcomproblemdetail1536_217"></a><a href="https://oj.saikr.com/problem/detail/1536" rel="nofollow">Mysterious Rune String</a></h3> 
<p>字符串hash(双hash)</p> 
<p>被卡常，哎</p> 
<pre><code class="prism language-python">s <span class="token operator">=</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
m <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span><span class="token builtin">input</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">StringHash</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> s<span class="token punctuation">,</span> p<span class="token punctuation">,</span> m<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>s <span class="token operator">=</span> s
        self<span class="token punctuation">.</span>p <span class="token operator">=</span> p
        self<span class="token punctuation">.</span>m <span class="token operator">=</span> m
        n <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>
        arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
        base <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
            arr<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">*</span> p <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token builtin">ord</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token builtin">ord</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">%</span> m
            base<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> base<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">*</span> p <span class="token operator">%</span> mod
        self<span class="token punctuation">.</span>n <span class="token operator">=</span> n
        self<span class="token punctuation">.</span>arr <span class="token operator">=</span> arr
        self<span class="token punctuation">.</span>base <span class="token operator">=</span> base

    <span class="token keyword">def</span> <span class="token function">query</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> l<span class="token punctuation">,</span> r<span class="token punctuation">)</span><span class="token punctuation">:</span>
        tmp <span class="token operator">=</span> self<span class="token punctuation">.</span>arr<span class="token punctuation">[</span>r <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> self<span class="token punctuation">.</span>arr<span class="token punctuation">[</span>l<span class="token punctuation">]</span> <span class="token operator">*</span> self<span class="token punctuation">.</span>base<span class="token punctuation">[</span>r <span class="token operator">-</span> l <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">%</span> self<span class="token punctuation">.</span>m
        <span class="token keyword">return</span> <span class="token punctuation">(</span>tmp <span class="token operator">%</span> self<span class="token punctuation">.</span>m <span class="token operator">+</span> self<span class="token punctuation">.</span>m<span class="token punctuation">)</span> <span class="token operator">%</span> self<span class="token punctuation">.</span>m

mod <span class="token operator">=</span> <span class="token number">10</span> <span class="token operator">**</span> <span class="token number">9</span> <span class="token operator">+</span> <span class="token number">7</span>
sh1 <span class="token operator">=</span> StringHash<span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">,</span> mod<span class="token punctuation">)</span>
sh2 <span class="token operator">=</span> StringHash<span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token number">17</span><span class="token punctuation">,</span> mod<span class="token punctuation">)</span>

<span class="token keyword">from</span> collections <span class="token keyword">import</span> Counter
mp <span class="token operator">=</span> Counter<span class="token punctuation">(</span><span class="token punctuation">)</span>
hp <span class="token operator">=</span> Counter<span class="token punctuation">(</span><span class="token punctuation">)</span>

n <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">:</span>
        h1 <span class="token operator">=</span> sh1<span class="token punctuation">.</span>query<span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span>
        h2 <span class="token operator">=</span> sh2<span class="token punctuation">.</span>query<span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span>
        mp<span class="token punctuation">[</span><span class="token punctuation">(</span>h1<span class="token punctuation">,</span> h2<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">^</span><span class="token operator">=</span> <span class="token punctuation">(</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span>k<span class="token punctuation">,</span> v<span class="token punctuation">)</span> <span class="token keyword">in</span> mp<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    hp<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span>

<span class="token keyword">def</span> <span class="token function">solve</span><span class="token punctuation">(</span>l<span class="token punctuation">,</span> r<span class="token punctuation">)</span><span class="token punctuation">:</span>
    h1 <span class="token operator">=</span> sh1<span class="token punctuation">.</span>query<span class="token punctuation">(</span>l<span class="token punctuation">,</span> r<span class="token punctuation">)</span>
    h2 <span class="token operator">=</span> sh2<span class="token punctuation">.</span>query<span class="token punctuation">(</span>l<span class="token punctuation">,</span> r<span class="token punctuation">)</span>
    k <span class="token operator">=</span> mp<span class="token punctuation">[</span><span class="token punctuation">(</span>h1<span class="token punctuation">,</span> h2<span class="token punctuation">)</span><span class="token punctuation">]</span>
    <span class="token keyword">return</span> hp<span class="token punctuation">[</span>k<span class="token punctuation">]</span>

<span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">:</span>
    l<span class="token punctuation">,</span> r <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">map</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    l<span class="token punctuation">,</span> r <span class="token operator">=</span> l <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> r <span class="token operator">-</span> <span class="token number">1</span>
    <span class="token keyword">print</span> <span class="token punctuation">(</span>solve<span class="token punctuation">(</span>l<span class="token punctuation">,</span> r<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<hr> 
<h3><a id="Cardhttpsojsaikrcomproblemdetail1533_278"></a><a href="https://oj.saikr.com/problem/detail/1533" rel="nofollow">Card</a></h3> 
<p><img src="https://images2.imgbox.com/35/c3/mTQC5dOi_o.png" alt="在这里插入图片描述"></p> 
<p>因为任意点都可以到达</p> 
<p><span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"> 
      
       
        
         
         
           a 
          
         
           0 
          
         
        
          ∗ 
         
         
         
           x 
          
         
           0 
          
         
        
          + 
         
        
          . 
         
        
          . 
         
        
          . 
         
        
          + 
         
         
         
           a 
          
         
           i 
          
         
        
          ∗ 
         
         
         
           x 
          
         
           i 
          
         
        
          + 
         
         
         
           a 
          
         
           n 
          
         
        
          ∗ 
         
         
         
           x 
          
         
           n 
          
         
        
          = 
         
        
          1 
         
        
          必然成立 
         
        
       
         a_0 * x_0 + ... + a_i * x_i + a_n * x_n = 1 必然成立 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6153em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3011em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.7333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3011em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6667em; vertical-align: -0.0833em;"></span><span class="mord">...</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6153em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3117em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.7333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3117em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6153em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.1514em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.5806em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.1514em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">1</span><span class="mord cjk_fallback">必然成立</span></span></span></span></span></span></p> 
<ul><li>裴蜀定理 Bézout’s 定理 + 最优化剪枝BFS</li></ul> 
<pre><code class="prism language-python"><span class="token comment"># coding=utf-8</span>

n <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span><span class="token builtin">input</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

arr <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">map</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
brr <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">map</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">from</span> math <span class="token keyword">import</span> gcd<span class="token punctuation">,</span> inf
<span class="token keyword">from</span> collections <span class="token keyword">import</span> Counter

<span class="token keyword">def</span> <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    g <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">for</span> v <span class="token keyword">in</span> arr<span class="token punctuation">:</span>
        g <span class="token operator">=</span> gcd<span class="token punctuation">(</span>v<span class="token punctuation">,</span> g<span class="token punctuation">)</span>
    <span class="token keyword">if</span> g <span class="token operator">!=</span> <span class="token number">1</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span>
    dp <span class="token operator">=</span> Counter<span class="token punctuation">(</span><span class="token punctuation">)</span>
    dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span>

    res <span class="token operator">=</span> inf
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
        dp2 <span class="token operator">=</span> Counter<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span>k<span class="token punctuation">,</span> v<span class="token punctuation">)</span> <span class="token keyword">in</span> dp<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            g <span class="token operator">=</span> gcd<span class="token punctuation">(</span>k<span class="token punctuation">,</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
            <span class="token keyword">if</span> g <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
                res <span class="token operator">=</span> <span class="token builtin">min</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> v <span class="token operator">+</span> brr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
            <span class="token keyword">if</span> g <span class="token keyword">not</span> <span class="token keyword">in</span> dp2<span class="token punctuation">:</span>
                <span class="token keyword">if</span> v <span class="token operator">+</span> brr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> res<span class="token punctuation">:</span>
                    dp2<span class="token punctuation">[</span>g<span class="token punctuation">]</span> <span class="token operator">=</span> v <span class="token operator">+</span> brr<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
            <span class="token keyword">elif</span> v <span class="token operator">+</span> brr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> dp2<span class="token punctuation">[</span>g<span class="token punctuation">]</span><span class="token punctuation">:</span>
                dp2<span class="token punctuation">[</span>g<span class="token punctuation">]</span> <span class="token operator">=</span> v <span class="token operator">+</span> brr<span class="token punctuation">[</span>i<span class="token punctuation">]</span>

            <span class="token keyword">if</span> v <span class="token operator">&lt;</span> res <span class="token keyword">and</span> <span class="token punctuation">(</span>k <span class="token keyword">not</span> <span class="token keyword">in</span> dp2 <span class="token keyword">or</span> v <span class="token operator">&lt;</span> dp2<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                dp2<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> v
        dp <span class="token operator">=</span> dp2
    <span class="token keyword">return</span> res

<span class="token keyword">print</span> <span class="token punctuation">(</span>solve<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<hr> 
<h3><a id="Touristhttpsojsaikrcomproblemdetail1535_330"></a><a href="https://oj.saikr.com/problem/detail/1535" rel="nofollow">Tourist</a></h3> 
<p>不会</p> 
<hr> 
<h3><a id="The_diameter_of_a_rectanglehttpsojsaikrcomproblemdetail1534_335"></a><a href="https://oj.saikr.com/problem/detail/1534" rel="nofollow">The diameter of a rectangle</a></h3> 
<p>单调栈，代码在上面</p> 
<hr> 
<h3><a id="Mystery_Sailing_Challengehttpsojsaikrcomproblemdetail1532_339"></a><a href="https://oj.saikr.com/problem/detail/1532" rel="nofollow">Mystery Sailing Challenge</a></h3> 
<p><img src="https://images2.imgbox.com/51/9a/uCMj6bhJ_o.png" alt="在这里插入图片描述"></p> 
<p>图论板子题，dijkstra算法的变体</p> 
<p>但是需要对节点引入额外的状态, 包括上一条边，以及是否选择</p> 
<pre><code class="prism language-python">n<span class="token punctuation">,</span> m <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">map</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

g <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">]</span>

<span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">:</span>
    u<span class="token punctuation">,</span> v<span class="token punctuation">,</span> w <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">map</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    u<span class="token punctuation">,</span> v <span class="token operator">=</span> u <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> v <span class="token operator">-</span> <span class="token number">1</span>
    g<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> w<span class="token punctuation">)</span><span class="token punctuation">)</span>
    g<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">(</span>u<span class="token punctuation">,</span> w<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">from</span> math <span class="token keyword">import</span> inf
<span class="token keyword">import</span> heapq

res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>inf<span class="token punctuation">]</span> <span class="token operator">*</span> n <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
hq <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

heapq<span class="token punctuation">.</span>heapify<span class="token punctuation">(</span>hq<span class="token punctuation">)</span>
heapq<span class="token punctuation">.</span>heappush<span class="token punctuation">(</span>hq<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># cost, source, edge</span>
res<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span>

<span class="token keyword">while</span> <span class="token builtin">len</span><span class="token punctuation">(</span>hq<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
    cost<span class="token punctuation">,</span> source<span class="token punctuation">,</span> edge<span class="token punctuation">,</span> flag <span class="token operator">=</span> heapq<span class="token punctuation">.</span>heappop<span class="token punctuation">(</span>hq<span class="token punctuation">)</span>
    <span class="token keyword">if</span> res<span class="token punctuation">[</span>flag<span class="token punctuation">]</span><span class="token punctuation">[</span>source<span class="token punctuation">]</span> <span class="token operator">&lt;</span> cost<span class="token punctuation">:</span>
        <span class="token keyword">continue</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span>v<span class="token punctuation">,</span> w<span class="token punctuation">)</span> <span class="token keyword">in</span> g<span class="token punctuation">[</span>source<span class="token punctuation">]</span><span class="token punctuation">:</span>
        tw <span class="token operator">=</span> w
        <span class="token keyword">if</span> edge <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token keyword">and</span> w <span class="token operator">%</span> edge <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
            tw <span class="token operator">=</span> <span class="token punctuation">(</span>w <span class="token operator">//</span> edge <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> edge
        <span class="token keyword">if</span> flag <span class="token operator">==</span> <span class="token number">0</span> <span class="token keyword">and</span> res<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">&gt;=</span> cost <span class="token operator">+</span> tw<span class="token punctuation">:</span>
            res<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">=</span> cost <span class="token operator">+</span> tw
            heapq<span class="token punctuation">.</span>heappush<span class="token punctuation">(</span>hq<span class="token punctuation">,</span> <span class="token punctuation">(</span>res<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">,</span> v<span class="token punctuation">,</span> w<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> res<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">&gt;=</span> cost <span class="token operator">+</span> w<span class="token punctuation">:</span>
            res<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">=</span> cost <span class="token operator">+</span> w
            heapq<span class="token punctuation">.</span>heappush<span class="token punctuation">(</span>hq<span class="token punctuation">,</span> <span class="token punctuation">(</span>res<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">,</span> v<span class="token punctuation">,</span> w<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

res2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span> <span class="token keyword">if</span> <span class="token builtin">min</span><span class="token punctuation">(</span>v1<span class="token punctuation">,</span> v2<span class="token punctuation">)</span> <span class="token operator">==</span> inf <span class="token keyword">else</span> <span class="token builtin">min</span><span class="token punctuation">(</span>v1<span class="token punctuation">,</span> v2<span class="token punctuation">)</span> <span class="token keyword">for</span> <span class="token punctuation">(</span>v1<span class="token punctuation">,</span> v2<span class="token punctuation">)</span> <span class="token keyword">in</span> <span class="token builtin">zip</span><span class="token punctuation">(</span>res<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> res<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span>

<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token operator">*</span>res2<span class="token punctuation">)</span>

</code></pre> 
<hr> 
<h2><a id="_392"></a>写在最后</h2> 
<p><img src="https://images2.imgbox.com/56/9e/hinrBziF_o.png" alt="在这里插入图片描述"></p> 
<hr>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/141372b13ed2c74cfb24454b674d5649/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">大数据组件doc</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/ae13bb72181a77e63596f3419aae9d58/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">WebStorm 2024.1.1 Mac激活码 前端开发工具集成开发环境（IDE）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>