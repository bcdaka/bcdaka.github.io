<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>数据仓库核心：揭秘事实表与维度表的角色与区别 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/ff8c77e19b1bacd331aaf54750dd725e/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="数据仓库核心：揭秘事实表与维度表的角色与区别">
  <meta property="og:description" content="文章目录 1. 引言2. 基本概念2.1 事实表（Fact Table）2.2 维度表（Dimension Table） 3. 两者关系4. 为什么要有做区分5. 写在最后 1. 引言 前篇我们深入探讨了Hive数据仓库中的表类型，包括内部表、外部表、分区表、桶表、视图以及临时表。每种表类型都有其独特的特性和适用场景，它们共同构成了Hive强大的数据管理能力。这里主要是从数据存储位置、数据管理方式、以及查询优化的角度来划分的。今天我们将从从数据仓库设计的角度来认识一下事实表（Fact Table）和维度表（Dimension Table）。
2. 基本概念 2.1 事实表（Fact Table） 事实表，顾名思义，是用来存储事实的表，这些事实通常是指可以量化的业务指标，如销售额、订单数量等。事实表的特点是有大量的行，每行代表一个业务事件的度量。
换句话说就是你要关注事物的内容，事实表就像故事中的主角，它包含我们感兴趣的主要信息（如销售金额、订购数量、利润以及它们发生的时间和地点等）。事实表中的每一行数据都代表了某种业务活动，就好比故事中的一个关键事件一样。
比如，一张记录了公司所有业务交易的清单。每一条记录都是一个事实，比如一次销售或一笔支出。
举个例子，假设我们有一个简单的销售事实表，它记录了每次销售的金额和日期：
CREATE TABLE Sales_Fact ( SaleID INT PRIMARY KEY, ProductID INT, SaleAmount DECIMAL(10,2), SaleDate DATE ); 在这个例子中，SaleID 是每条销售记录的唯一标识，ProductID 与维度表相关联，SaleAmount 是销售金额，SaleDate 是销售日期。
2.2 维度表（Dimension Table） 维度表则是用来描述事实的表，它提供了分析数据的上下文。维度表通常包含描述性的信息，如产品名称、客户信息、时间等。
维度表就是你观察该事物的角度, 维度表就像故事中的背景，它包含了描述事实表中数据的上下文信息，比如时间、地点、产品、顾客等等，这些信息帮助我们理解事实表中的数据。维度表通常描述了事实表中数据的各种属性，比如产品的类别，客户的地理位置等。
维度表就像是事实表的说明书。它们帮助我们理解事实表中的数字背后的故事。例如，我们可能会有一个产品维度表，它包含了产品的详细信息：
CREATE TABLE Product_Dimension ( ProductID INT PRIMARY KEY, ProductName VARCHAR(255), Category VARCHAR(100), SupplierID INT ); 在这个产品维度表中，ProductID 是产品的唯一标识，它与事实表中的 ProductID 相匹配，ProductName 和 Category 提供了产品的描述性信息，SupplierID 可能与另一个维度表相关联。">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-03-17T21:46:37+08:00">
    <meta property="article:modified_time" content="2024-03-17T21:46:37+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">数据仓库核心：揭秘事实表与维度表的角色与区别</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><img src="https://images2.imgbox.com/3a/11/FrSYoCoH_o.png" alt=""></p> 
<hr> 
<p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><ul><li><a href="#1__11" rel="nofollow">1. 引言</a></li><li><a href="#2__15" rel="nofollow">2. 基本概念</a></li><li><ul><li><a href="#21_Fact_Table_19" rel="nofollow">2.1 事实表（Fact Table）</a></li><li><a href="#22_Dimension_Table_40" rel="nofollow">2.2 维度表（Dimension Table）</a></li></ul> 
   </li><li><a href="#3__61" rel="nofollow">3. 两者关系</a></li><li><a href="#4__97" rel="nofollow">4. 为什么要有做区分</a></li><li><a href="#5__117" rel="nofollow">5. 写在最后</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h3><a id="1__11"></a>1. 引言</h3> 
<p>前篇我们<a href="https://blog.csdn.net/jankin6/article/details/136608214">深入探讨了Hive数据仓库中的表类型</a>，包括<strong>内部表、外部表、分区表、桶表、视图以及临时表</strong>。每种表类型都有其独特的特性和适用场景，它们共同构成了Hive强大的数据管理能力。这里主要是从数据存储位置、数据管理方式、以及查询优化的角度来划分的。今天我们将从从数据仓库设计的角度来认识一下事实表（<code>Fact Table</code>）和维度表（<code>Dimension Table</code>）。</p> 
<h3><a id="2__15"></a>2. 基本概念</h3> 
<h4><a id="21_Fact_Table_19"></a>2.1 事实表（Fact Table）</h4> 
<p><strong>事实表</strong>，顾名思义，是用来存储<code>事实</code>的表，这些<code>事实</code>通常是指可以量化的业务指标，如销售额、订单数量等。事实表的特点是有大量的行，每行代表一个业务事件的度量。</p> 
<p>换句话说就是你要关注事物的内容，事实表就像故事中的主角，它包含我们感兴趣的主要信息（如销售金额、订购数量、利润以及它们发生的时间和地点等）。事实表中的每一行数据都代表了某种业务活动，就好比故事中的一个关键事件一样。</p> 
<p>比如，一张记录了公司所有业务交易的清单。每一条记录都是一个事实，比如一次销售或一笔支出。</p> 
<p>举个例子，假设我们有一个简单的销售事实表，它记录了每次销售的金额和日期：</p> 
<pre><code class="prism language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> Sales_Fact <span class="token punctuation">(</span>
    SaleID <span class="token keyword">INT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
    ProductID <span class="token keyword">INT</span><span class="token punctuation">,</span>
    SaleAmount <span class="token keyword">DECIMAL</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    SaleDate <span class="token keyword">DATE</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>在这个例子中，<code>SaleID</code> 是每条销售记录的唯一标识，<code>ProductID</code> 与维度表相关联，<code>SaleAmount</code> 是销售金额，<code>SaleDate</code> 是销售日期。</p> 
<h4><a id="22_Dimension_Table_40"></a>2.2 维度表（Dimension Table）</h4> 
<p><strong>维度表</strong>则是用来描述事实的表，它提供了分析数据的上下文。维度表通常包含描述性的信息，如产品名称、客户信息、时间等。</p> 
<p>维度表就是你观察该事物的角度, 维度表就像故事中的背景，它包含了描述事实表中数据的上下文信息，比如时间、地点、产品、顾客等等，这些信息帮助我们理解事实表中的数据。维度表通常描述了事实表中数据的各种属性，比如产品的类别，客户的地理位置等。</p> 
<p>维度表就像是事实表的<code>说明书</code>。它们帮助我们理解事实表中的数字背后的故事。例如，我们可能会有一个产品维度表，它包含了产品的详细信息：</p> 
<pre><code class="prism language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> Product_Dimension <span class="token punctuation">(</span>
    ProductID <span class="token keyword">INT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
    ProductName <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    Category <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    SupplierID <span class="token keyword">INT</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>在这个产品维度表中，<code>ProductID</code> 是产品的唯一标识，它与事实表中的 <code>ProductID</code> 相匹配，<code>ProductName</code> 和 <code>Category</code> 提供了产品的描述性信息，<code>SupplierID</code> 可能与另一个维度表相关联。</p> 
<h3><a id="3__61"></a>3. 两者关系</h3> 
<p><strong>事实表与维度表的相互关系</strong> 事实表和维度表通过外键关联，这种关系使得我们可以将量化的业务指标（事实）与描述性的属性（维度）结合起来，进行多角度的数据分析。</p> 
<p>例如，我们可以通过产品维度表来分析不同类别产品的销售情况。以下是一个简单的SQL查询，展示了如何使用维度表来分析事实表中的数据：</p> 
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span>
    p<span class="token punctuation">.</span>Category<span class="token punctuation">,</span>
    <span class="token function">SUM</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>SaleAmount<span class="token punctuation">)</span> <span class="token keyword">AS</span> TotalSales
<span class="token keyword">FROM</span>
    Sales_Fact s
<span class="token keyword">JOIN</span>
    Product_Dimension p <span class="token keyword">ON</span> s<span class="token punctuation">.</span>ProductID <span class="token operator">=</span> p<span class="token punctuation">.</span>ProductID
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span>
    p<span class="token punctuation">.</span>Category<span class="token punctuation">;</span>
</code></pre> 
<p>这个查询会返回每个产品类别的总销售额。</p> 
<p><strong>实际案例分析</strong> 假设我们经营一家电子商务公司，我们需要分析不同时间段内的销售趋势。我们可以使用时间维度表来实现这一点：</p> 
<pre><code class="prism language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> Time_Dimension <span class="token punctuation">(</span>
    TimeID <span class="token keyword">INT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
    <span class="token keyword">Year</span> <span class="token keyword">INT</span><span class="token punctuation">,</span>
    <span class="token keyword">Month</span> <span class="token keyword">INT</span><span class="token punctuation">,</span>
    Quarter <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">Date</span> <span class="token keyword">DATE</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>通过将销售事实表与时间维度表关联，我们可以轻松地按年、月或季度对销售数据进行分组和分析。</p> 
<h3><a id="4__97"></a>4. 为什么要有做区分</h3> 
<p>事实表和维度表的设计模式提供了一种简化和规范化数据模型的<strong>方法</strong>。数据仓库使用事实表和维度表的设计模式就像是用来组织数据的两种特殊工具，因为它们让我们以更方便的方式存储和理解数据。</p> 
<p>事实表就像一个存储数值数据的清单，存储了与业务过程相关的数值度量（如销售金额、订购数量、利润以及它们发生的时间和地点等）。维度表则是用来提供对这些数值的解释和上下文信息的词典，存储了与事实表相关的描述性属性（如时间、地点、产品等）。</p> 
<p>如果你要做某种分析，就好比你在研究一份报告。事实表中记录了具体的数据，就如同报告的具体内容，而维度表就像是提供了对这份报告的解释和支撑的背景知识。这种结构就像是为报告提供了上下文信息，让我们更容易地理解报告中的内容。</p> 
<ol><li><strong>数据组织</strong>：事实表是数据仓库中存储业务度量数据的地方，比如销售额和订单数量。维度表则存储描述性信息，如产品名称和客户信息。这就像是你的衣柜，事实表是衣柜里的衣物，而维度表是衣物的标签，告诉你每件衣物是什么、属于哪个季节。<strong>这种分离使得数据结构更加清晰，便于管理和维护。</strong></li><li><strong>查询性能</strong>：将事实表和维度表分开，可以提高数据查询的速度和效率。事实表通常包含大量的数字数据，适合进行聚合和计算操作；而维度表包含文本数据，适合用于查询和报告。<strong>这种结构可以减少数据冗余，提高查询效率</strong>。事实表就像是你的日记本，记录了每天发生的具体事件和数字，比如“今天卖了5件衣服”。而维度表就像是日记本旁边的标签，告诉你这些事件发生的时间、地点和涉及的人物。</li><li><strong>易于分析</strong>：事实表和维度表的结构使得数据分析师和业务用户能够更容易地进行多维度的数据分析。维度表提供了不同的分析角度，如时间、地理位置、产品分类等，而事实表提供了具体的度量数据。<strong>这种结构支持了复杂的查询，如钻取、切片和旋转等操作</strong>。就好比烹饪食谱中的食材清单（事实表）和步骤说明（维度表），食材告诉你需要什么，步骤告诉你如何操作。</li><li><strong>数据一致性</strong>：维度表的设计有助于保持数据的一致性。当需要更新信息时，只需在一个地方修改，而不需要在多个事实表中重复更改。这就像是家庭账本，记录了每一笔收支的具体数字，而账本的分类告诉你钱都花在了哪些方面。</li><li><strong>支持数据仓库的扩展性</strong>：随着业务的发展，可能需要添加新的度量或维度。事实表和维度表的分离使得数据仓库更容易扩展。新的维度可以独立于事实表添加，而新的度量可以添加到现有的事实表中，而不会相互影响。这就像是装修房子时的预算清单和设计图纸，清单记录了具体的花费，而图纸描述了装修的风格和材料选择。</li><li><strong>数据的可读性和可理解性</strong>：维度表中的描述性数据使得非技术用户也能更容易地理解数据。这就像是图书馆的图书分类标签，告诉你每本书属于哪个领域，方便你找到想要的书。</li><li><strong>数据的可维护性</strong>：当数据需要更新或维护时，分开的事实表和维度表使得这些操作更加简单。这就像是旅行规划，事实表记录了拍摄的照片数量，而维度表告诉你这些照片是在哪个城市、哪个景点拍摄的。</li></ol> 
<p>总之，区分事实表和维度表是为了提高数据仓库的效率、性能、可维护性和可用性，同时支持更加灵活和深入的数据分析。这种分离是维度建模的核心，是构建高效、可扩展和易于理解的数据仓库的关键。</p> 
<h3><a id="5__117"></a>5. 写在最后</h3> 
<p>在本篇博文中，我们深入探讨了数据仓库中事实表和维度表的关键角色与它们之间的显著差异。事实表，作为数据仓库的心脏，承载着量化的业务度量，而维度表则为这些度量提供了必要的上下文和解释。这种精心设计的结构不仅使我们能够高效地存储和检索数据，而且还能更加灵活和深入地进行数据分析，为企业的决策提供强有力的支持。最终，理解事实表和维度表的真正价值在于它们如何共同作用，帮助我们从数据中提取出有意义的洞察，推动业务的持续增长和创新。结论性地说，事实表和维度表是数据仓库中不可或缺的两个组成部分，它们的结合使我们能够进行深入的数据分析，从而支持更明智的业务决策。对于大数据开发工程师或数据分析师而言，理解它们的定义、结构和关系至关重要。</p> 
<hr> 
<p>本博文及其内容仅代表作者个人观点和理解，意在提供一般性的信息和知识分享。虽然作者力求确保信息的准确性和可靠性，但由于技术和知识的不断进步，以及作者个人能力和经验的局限性，博文中的信息可能不完全准确或可能已经过时。本博文并不旨在替代专业的建议或实际经验，而是为了促进学习和讨论。我们鼓励读者提出宝贵的建议、纠正或补充，以帮助我们改进和完善内容。对于任何可能的不准确之处，我们在此表示歉意，并感谢您的理解与宽容。</p> 
<hr>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d408eeb2f4744268d988e93829c5ee30/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Kafka（十）安全</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/2fee884bd4fc59ee83d612d020ca44e3/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Python自动获取指定上市公司的所有财务数据(资产负债表，利润表，现金流量表)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>