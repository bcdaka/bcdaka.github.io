<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>ã€C&#43;&#43;ã€‘AVLæ ‘ï¼ˆæ—‹è½¬ã€å¹³è¡¡å› å­ï¼‰ - ç¼–ç¨‹å¤§å’–</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/d5cfd7b1b75ed5700a8a6edfbd5fff09/">
  <meta property="og:site_name" content="ç¼–ç¨‹å¤§å’–">
  <meta property="og:title" content="ã€C&#43;&#43;ã€‘AVLæ ‘ï¼ˆæ—‹è½¬ã€å¹³è¡¡å› å­ï¼‰">
  <meta property="og:description" content="ğŸŒˆä¸ªäººä¸»é¡µï¼šç§¦jh_-CSDNåšå®¢
ğŸ”¥Â ç³»åˆ—ä¸“æ ï¼šhttps://blog.csdn.net/qinjh_/category_12575764.html?spm=1001.2014.3001.5482
â€‹Â ç›®å½•
å‰è¨€
AVLæ ‘çš„æ¦‚å¿µ
èŠ‚ç‚¹
æ’å…¥
AVLæ ‘çš„æ—‹è½¬Â æ–°èŠ‚ç‚¹æ’å…¥è¾ƒé«˜å·¦å­æ ‘çš„å·¦ä¾§---å·¦å·¦ï¼šå³å•æ—‹Â æ–°èŠ‚ç‚¹æ’å…¥è¾ƒé«˜å³å­æ ‘çš„å³ä¾§---å³å³ï¼šå·¦å•æ—‹
æ–°èŠ‚ç‚¹æ’å…¥è¾ƒé«˜å·¦å­æ ‘çš„å³ä¾§---å·¦å³ï¼šå…ˆå·¦å•æ—‹å†å³å•æ—‹
æ–°èŠ‚ç‚¹æ’å…¥è¾ƒé«˜å³å­æ ‘çš„å·¦ä¾§---å³å·¦ï¼šå…ˆå³å•æ—‹å†å·¦å•æ—‹
AVLæ ‘çš„éªŒè¯Â AVLæ ‘çš„æ€§èƒ½
å®Œæ•´ä»£ç 
å‰è¨€ ğŸ’¬ hello! å„ä½é“å­ä»¬å¤§å®¶å¥½å“‡ã€‚
ä»Šæ—¥æ›´æ–°äº†AVLæ ‘çš„ç›¸å…³å†…å®¹
ğŸ‰ æ¬¢è¿å¤§å®¶å…³æ³¨ğŸ”ç‚¹èµğŸ‘æ”¶è—â­ï¸ç•™è¨€ğŸ“
AVLæ ‘çš„æ¦‚å¿µ äºŒå‰æœç´¢æ ‘è™½å¯ä»¥ç¼©çŸ­æŸ¥æ‰¾çš„æ•ˆç‡ï¼Œä½†å¦‚æœæ•°æ®æœ‰åºæˆ–æ¥è¿‘æœ‰åºäºŒå‰æœç´¢æ ‘å°†é€€åŒ–ä¸ºå•æ”¯æ ‘ï¼ŒæŸ¥ æ‰¾å…ƒç´ ç›¸å½“äºåœ¨é¡ºåºè¡¨ä¸­æœç´¢å…ƒç´ ï¼Œæ•ˆç‡ä½ä¸‹ã€‚
è§£å†³æ–¹æ¡ˆï¼šå½“å‘äºŒå‰æœç´¢æ ‘ä¸­æ’å…¥æ–°ç»“ç‚¹åï¼Œå¦‚æœèƒ½ä¿è¯æ¯ä¸ªç»“ç‚¹çš„å·¦å³å­æ ‘é«˜åº¦ä¹‹å·®çš„ç»å¯¹å€¼ä¸è¶…è¿‡1(éœ€è¦å¯¹æ ‘ä¸­çš„ç»“ç‚¹è¿›è¡Œè°ƒæ•´)ï¼Œå³å¯é™ä½æ ‘çš„é«˜åº¦ï¼Œä»è€Œå‡å°‘å¹³å‡æœç´¢é•¿åº¦ã€‚
å®ƒçš„å·¦å³å­æ ‘éƒ½æ˜¯AVLæ ‘å·¦å³å­æ ‘é«˜åº¦ä¹‹å·®(ç®€ç§°å¹³è¡¡å› å­)çš„ç»å¯¹å€¼ä¸è¶…è¿‡1(-1/0/1) å¦‚æœä¸€æ£µäºŒå‰æœç´¢æ ‘æ˜¯é«˜åº¦å¹³è¡¡çš„ï¼Œå®ƒå°±æ˜¯AVLæ ‘ã€‚
æ’å…¥çš„æ€»ä½“åŸåˆ™ï¼š
æŒ‰ç…§æœç´¢æ ‘è§„åˆ™æ’å…¥æ›´æ–°æ’å…¥èŠ‚ç‚¹çš„ç¥–å…ˆèŠ‚ç‚¹çš„å¹³è¡¡å› å­ã€‚ å¦‚æœæ’å…¥åœ¨çˆ¶äº²å·¦è¾¹ï¼Œçˆ¶äº²çš„å¹³è¡¡å› å­--ã€‚å¦‚æœæ’å…¥åœ¨çˆ¶äº²å³è¾¹ï¼Œçˆ¶äº²çš„å¹³è¡¡å› å­&#43;&#43;ã€‚çˆ¶äº²å¹³è¡¡å› å­==0ï¼Œåˆ™çˆ¶äº²æ‰€åœ¨å­æ ‘é«˜åº¦ä¸å˜ï¼Œä¸å†ç»§ç»­å¾€ä¸Šæ›´æ–°ï¼Œæ’å…¥ç»“æŸã€‚çˆ¶äº²å¹³è¡¡å› å­==1or-1ï¼Œçˆ¶äº²æ‰€åœ¨å­æ ‘é«˜åº¦å˜äº†ï¼Œç»§ç»­å¾€ä¸Šæ›´æ–°ã€‚çˆ¶äº²å¹³è¡¡å› å­==2or-2ï¼Œçˆ¶äº²æ‰€åœ¨å­æ ‘å·²ç»ä¸å¹³è¡¡äº†ï¼Œéœ€è¦æ—‹è½¬å¤„ç†ã€‚ èŠ‚ç‚¹ æ’å…¥ bool Insert(const pair&lt;K, V&gt;&amp; kv) { if (_root == nullptr) { _root = new Node(kv); return true; } Node* cur = _root; Node* parent = nullptr; while (cur) { if (cur-&gt;_kv.first &lt; kv.first) { parent = cur; cur = cur-&gt;_right; } else if (cur-&gt;_kv.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-07-08T12:06:05+08:00">
    <meta property="article:modified_time" content="2024-07-08T12:06:05+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ç¼–ç¨‹å¤§å’–" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ç¼–ç¨‹å¤§å’–</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">ã€C&#43;&#43;ã€‘AVLæ ‘ï¼ˆæ—‹è½¬ã€å¹³è¡¡å› å­ï¼‰</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><strong>ğŸŒˆä¸ªäººä¸»é¡µï¼š</strong><a href="https://blog.csdn.net/qinjh_?type=blog" title="ç§¦jh_-CSDNåšå®¢">ç§¦jh_-CSDNåšå®¢</a><br><strong>ğŸ”¥Â ç³»åˆ—ä¸“æ ï¼š</strong><a href="https://blog.csdn.net/qinjh_/category_12575764.html?spm=1001.2014.3001.5482" title="https://blog.csdn.net/qinjh_/category_12575764.html?spm=1001.2014.3001.5482">https://blog.csdn.net/qinjh_/category_12575764.html?spm=1001.2014.3001.5482</a></p> 
<p>Â <img alt="9efbcbc3d25747719da38c01b3fa9b4f.gif" src="https://images2.imgbox.com/2a/06/hBogyQnI_o.gif">â€‹Â </p> 
<p></p> 
<p id="main-toc"><strong>ç›®å½•</strong></p> 
<p id="%E5%89%8D%E8%A8%80-toc" style="margin-left:0px;"><a href="#%E5%89%8D%E8%A8%80" rel="nofollow">å‰è¨€</a></p> 
<p id="AVL%E6%A0%91%E7%9A%84%E6%A6%82%E5%BF%B5-toc" style="margin-left:0px;"><a href="#AVL%E6%A0%91%E7%9A%84%E6%A6%82%E5%BF%B5" rel="nofollow">AVLæ ‘çš„æ¦‚å¿µ</a></p> 
<p id="%C2%A0%E8%8A%82%E7%82%B9-toc" style="margin-left:0px;"><a href="#%C2%A0%E8%8A%82%E7%82%B9" rel="nofollow">Â èŠ‚ç‚¹</a></p> 
<p id="%E6%8F%92%E5%85%A5-toc" style="margin-left:0px;"><a href="#%E6%8F%92%E5%85%A5" rel="nofollow">æ’å…¥</a></p> 
<p id="AVL%E6%A0%91%E7%9A%84%E6%97%8B%E8%BD%AC%C2%A0-toc" style="margin-left:0px;"><a href="#AVL%E6%A0%91%E7%9A%84%E6%97%8B%E8%BD%AC%C2%A0" rel="nofollow">AVLæ ‘çš„æ—‹è½¬Â </a></p> 
<p id="%E6%96%B0%E8%8A%82%E7%82%B9%E6%8F%92%E5%85%A5%E8%BE%83%E9%AB%98%E5%B7%A6%E5%AD%90%E6%A0%91%E7%9A%84%E5%B7%A6%E4%BE%A7---%E5%B7%A6%E5%B7%A6%EF%BC%9A%E5%8F%B3%E5%8D%95%E6%97%8B%C2%A0-toc" style="margin-left:40px;"><a href="#%E6%96%B0%E8%8A%82%E7%82%B9%E6%8F%92%E5%85%A5%E8%BE%83%E9%AB%98%E5%B7%A6%E5%AD%90%E6%A0%91%E7%9A%84%E5%B7%A6%E4%BE%A7---%E5%B7%A6%E5%B7%A6%EF%BC%9A%E5%8F%B3%E5%8D%95%E6%97%8B%C2%A0" rel="nofollow">æ–°èŠ‚ç‚¹æ’å…¥è¾ƒé«˜å·¦å­æ ‘çš„å·¦ä¾§---å·¦å·¦ï¼šå³å•æ—‹Â </a></p> 
<p id="%E6%96%B0%E8%8A%82%E7%82%B9%E6%8F%92%E5%85%A5%E8%BE%83%E9%AB%98%E5%8F%B3%E5%AD%90%E6%A0%91%E7%9A%84%E5%8F%B3%E4%BE%A7---%E5%8F%B3%E5%8F%B3%EF%BC%9A%E5%B7%A6%E5%8D%95%E6%97%8B-toc" style="margin-left:40px;"><a href="#%E6%96%B0%E8%8A%82%E7%82%B9%E6%8F%92%E5%85%A5%E8%BE%83%E9%AB%98%E5%8F%B3%E5%AD%90%E6%A0%91%E7%9A%84%E5%8F%B3%E4%BE%A7---%E5%8F%B3%E5%8F%B3%EF%BC%9A%E5%B7%A6%E5%8D%95%E6%97%8B" rel="nofollow">æ–°èŠ‚ç‚¹æ’å…¥è¾ƒé«˜å³å­æ ‘çš„å³ä¾§---å³å³ï¼šå·¦å•æ—‹</a></p> 
<p id="%E6%96%B0%E8%8A%82%E7%82%B9%E6%8F%92%E5%85%A5%E8%BE%83%E9%AB%98%E5%B7%A6%E5%AD%90%E6%A0%91%E7%9A%84%E5%8F%B3%E4%BE%A7---%E5%B7%A6%E5%8F%B3%EF%BC%9A%E5%85%88%E5%B7%A6%E5%8D%95%E6%97%8B%E5%86%8D%E5%8F%B3%E5%8D%95%E6%97%8B-toc" style="margin-left:40px;"><a href="#%E6%96%B0%E8%8A%82%E7%82%B9%E6%8F%92%E5%85%A5%E8%BE%83%E9%AB%98%E5%B7%A6%E5%AD%90%E6%A0%91%E7%9A%84%E5%8F%B3%E4%BE%A7---%E5%B7%A6%E5%8F%B3%EF%BC%9A%E5%85%88%E5%B7%A6%E5%8D%95%E6%97%8B%E5%86%8D%E5%8F%B3%E5%8D%95%E6%97%8B" rel="nofollow">æ–°èŠ‚ç‚¹æ’å…¥è¾ƒé«˜å·¦å­æ ‘çš„å³ä¾§---å·¦å³ï¼šå…ˆå·¦å•æ—‹å†å³å•æ—‹</a></p> 
<p id="%C2%A0%E6%96%B0%E8%8A%82%E7%82%B9%E6%8F%92%E5%85%A5%E8%BE%83%E9%AB%98%E5%8F%B3%E5%AD%90%E6%A0%91%E7%9A%84%E5%B7%A6%E4%BE%A7---%E5%8F%B3%E5%B7%A6%EF%BC%9A%E5%85%88%E5%8F%B3%E5%8D%95%E6%97%8B%E5%86%8D%E5%B7%A6%E5%8D%95%E6%97%8B-toc" style="margin-left:40px;"><a href="#%C2%A0%E6%96%B0%E8%8A%82%E7%82%B9%E6%8F%92%E5%85%A5%E8%BE%83%E9%AB%98%E5%8F%B3%E5%AD%90%E6%A0%91%E7%9A%84%E5%B7%A6%E4%BE%A7---%E5%8F%B3%E5%B7%A6%EF%BC%9A%E5%85%88%E5%8F%B3%E5%8D%95%E6%97%8B%E5%86%8D%E5%B7%A6%E5%8D%95%E6%97%8B" rel="nofollow">Â æ–°èŠ‚ç‚¹æ’å…¥è¾ƒé«˜å³å­æ ‘çš„å·¦ä¾§---å³å·¦ï¼šå…ˆå³å•æ—‹å†å·¦å•æ—‹</a></p> 
<p id="AVL%E6%A0%91%E7%9A%84%E9%AA%8C%E8%AF%81%C2%A0-toc" style="margin-left:0px;"><a href="#AVL%E6%A0%91%E7%9A%84%E9%AA%8C%E8%AF%81%C2%A0" rel="nofollow">AVLæ ‘çš„éªŒè¯Â </a></p> 
<p id="%C2%A0AVL%E6%A0%91%E7%9A%84%E6%80%A7%E8%83%BD-toc" style="margin-left:0px;"><a href="#%C2%A0AVL%E6%A0%91%E7%9A%84%E6%80%A7%E8%83%BD" rel="nofollow">Â AVLæ ‘çš„æ€§èƒ½</a></p> 
<p id="%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81-toc" style="margin-left:0px;"><a href="#%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81" rel="nofollow">å®Œæ•´ä»£ç </a></p> 
<hr id="hr-toc"> 
<p></p> 
<h2 id="%E5%89%8D%E8%A8%80">å‰è¨€</h2> 
<blockquote> 
 <p>â€‚â€‚â€‚â€‚<strong>ğŸ’¬ hello! å„ä½é“å­ä»¬å¤§å®¶å¥½å“‡ã€‚</strong></p> 
 <p><strong>Â  Â  Â  Â  Â  Â  Â ä»Šæ—¥æ›´æ–°äº†AVLæ ‘çš„ç›¸å…³å†…å®¹</strong><br> â€‚â€‚â€‚â€‚<strong>ğŸ‰ æ¬¢è¿å¤§å®¶å…³æ³¨ğŸ”ç‚¹èµğŸ‘æ”¶è—â­ï¸ç•™è¨€ğŸ“</strong></p> 
</blockquote> 
<h2 id="AVL%E6%A0%91%E7%9A%84%E6%A6%82%E5%BF%B5">AVLæ ‘çš„æ¦‚å¿µ</h2> 
<p>Â äºŒå‰æœç´¢æ ‘è™½å¯ä»¥ç¼©çŸ­æŸ¥æ‰¾çš„æ•ˆç‡ï¼Œä½†å¦‚æœæ•°æ®æœ‰åºæˆ–æ¥è¿‘æœ‰åºäºŒå‰æœç´¢æ ‘å°†é€€åŒ–ä¸ºå•æ”¯æ ‘ï¼ŒæŸ¥ æ‰¾å…ƒç´ ç›¸å½“äºåœ¨é¡ºåºè¡¨ä¸­æœç´¢å…ƒç´ ï¼Œæ•ˆç‡ä½ä¸‹ã€‚</p> 
<p>è§£å†³æ–¹æ¡ˆï¼šå½“å‘äºŒå‰æœç´¢æ ‘ä¸­æ’å…¥æ–°ç»“ç‚¹åï¼Œå¦‚æœèƒ½ä¿è¯æ¯ä¸ªç»“ç‚¹çš„å·¦å³å­æ ‘é«˜åº¦ä¹‹å·®çš„ç»å¯¹å€¼ä¸è¶…è¿‡1(éœ€è¦å¯¹æ ‘ä¸­çš„ç»“ç‚¹è¿›è¡Œè°ƒæ•´)ï¼Œå³å¯é™ä½æ ‘çš„é«˜åº¦ï¼Œä»è€Œå‡å°‘å¹³å‡æœç´¢é•¿åº¦ã€‚</p> 
<p><img alt="" height="457" src="https://images2.imgbox.com/e8/54/Q6OqIO5m_o.png" width="736"></p> 
<ul><li>å®ƒçš„å·¦å³å­æ ‘éƒ½æ˜¯AVLæ ‘</li><li>å·¦å³å­æ ‘é«˜åº¦ä¹‹å·®(ç®€ç§°å¹³è¡¡å› å­)çš„ç»å¯¹å€¼ä¸è¶…è¿‡1(-1/0/1)</li></ul> 
<p><strong>å¦‚æœä¸€æ£µäºŒå‰æœç´¢æ ‘æ˜¯é«˜åº¦å¹³è¡¡çš„ï¼Œå®ƒå°±æ˜¯AVLæ ‘ã€‚</strong></p> 
<p>æ’å…¥çš„æ€»ä½“åŸåˆ™ï¼š</p> 
<blockquote> 
 <ol><li>Â æŒ‰ç…§æœç´¢æ ‘è§„åˆ™æ’å…¥</li><li>æ›´æ–°æ’å…¥èŠ‚ç‚¹çš„ç¥–å…ˆèŠ‚ç‚¹çš„å¹³è¡¡å› å­ã€‚ 
   <ol><li>å¦‚æœæ’å…¥åœ¨çˆ¶äº²å·¦è¾¹ï¼Œçˆ¶äº²çš„å¹³è¡¡å› å­--ã€‚</li><li>å¦‚æœæ’å…¥åœ¨çˆ¶äº²å³è¾¹ï¼Œçˆ¶äº²çš„å¹³è¡¡å› å­++ã€‚</li><li>çˆ¶äº²å¹³è¡¡å› å­==0ï¼Œåˆ™çˆ¶äº²æ‰€åœ¨å­æ ‘é«˜åº¦ä¸å˜ï¼Œä¸å†ç»§ç»­å¾€ä¸Šæ›´æ–°ï¼Œæ’å…¥ç»“æŸã€‚</li><li>çˆ¶äº²å¹³è¡¡å› å­==1or-1ï¼Œçˆ¶äº²æ‰€åœ¨å­æ ‘é«˜åº¦å˜äº†ï¼Œç»§ç»­å¾€ä¸Šæ›´æ–°ã€‚</li><li>çˆ¶äº²å¹³è¡¡å› å­==2or-2ï¼Œçˆ¶äº²æ‰€åœ¨å­æ ‘å·²ç»ä¸å¹³è¡¡äº†ï¼Œéœ€è¦æ—‹è½¬å¤„ç†ã€‚</li></ol></li></ol> 
</blockquote> 
<h2 id="%C2%A0%E8%8A%82%E7%82%B9">Â èŠ‚ç‚¹</h2> 
<p><img alt="" height="703" src="https://images2.imgbox.com/b9/ef/ULnXsKPX_o.png" width="608"></p> 
<h2 id="%E6%8F%92%E5%85%A5">æ’å…¥</h2> 
<pre><code class="language-cpp">	bool Insert(const pair&lt;K, V&gt;&amp; kv)
	{
		if (_root == nullptr)
		{
			_root = new Node(kv);
			return true;
		}

		Node* cur = _root;
		Node* parent = nullptr;
		while (cur)
		{
			if (cur-&gt;_kv.first &lt; kv.first)
			{
				parent = cur;
				cur = cur-&gt;_right;
			}
			else if (cur-&gt;_kv.first &gt; kv.first)
			{
				parent = cur;
				cur = cur-&gt;_left;
			}
			else
			{
				return false;
			}
		}

		cur = new Node(kv);
		if (parent-&gt;_kv.first &gt; kv.first)
		{
			parent-&gt;_left = cur;
		}
		else
		{
			parent-&gt;_right = cur;
		}
		cur-&gt;_parent = parent;

		//æ›´æ–°å¹³è¡¡å› å­
		while (parent) 
		{
			if (cur == parent-&gt;_left)
			{
				parent-&gt;_bf--;
			}
			else
			{
				parent-&gt;_bf++;
			}

			if (parent-&gt;_bf == 0)
			{
				//æ›´æ–°ç»“æŸ
				break;
			}
			else if (parent-&gt;_bf == 1 || parent-&gt;_bf == -1)
			{
				//ç»§ç»­å¾€ä¸Šæ›´æ–°
				cur = parent;
				parent = parent-&gt;_parent;
			}
			else if (parent-&gt;_bf == 2 || parent-&gt;_bf == -2)
			{
				//å½“å‰å­æ ‘å‡ºé—®é¢˜äº†ï¼Œéœ€è¦æ—‹è½¬å¹³è¡¡ä¸€ä¸‹

				break;
			}
			else
			{
				//ç†è®ºè€Œè¨€ä¸å¯èƒ½å‡ºç°è¯¥æƒ…å†µ
				assert(false);
			}
		}


		return true;
	}</code></pre> 
<blockquote> 
 <p>ä¸Šé¢æ˜¯æ’å…¥çš„å¤§ä½“æµç¨‹ï¼Œæ—‹è½¬æ“ä½œè¿˜æœªç»™å‡ºã€‚</p> 
</blockquote> 
<h2 id="AVL%E6%A0%91%E7%9A%84%E6%97%8B%E8%BD%AC%C2%A0">AVLæ ‘çš„æ—‹è½¬Â </h2> 
<p>å¦‚æœåœ¨ä¸€æ£µåŸæœ¬æ˜¯å¹³è¡¡çš„AVLæ ‘ä¸­æ’å…¥ä¸€ä¸ªæ–°èŠ‚ç‚¹ï¼Œå¯èƒ½é€ æˆä¸å¹³è¡¡ï¼Œæ­¤æ—¶å¿…é¡»è°ƒæ•´æ ‘çš„ç»“æ„ï¼Œ ä½¿ä¹‹å¹³è¡¡åŒ–ã€‚æ ¹æ®èŠ‚ç‚¹æ’å…¥ä½ç½®çš„ä¸åŒï¼ŒAVLæ ‘çš„æ—‹è½¬åˆ†ä¸ºå››ç§ï¼š</p> 
<h3 id="%E6%96%B0%E8%8A%82%E7%82%B9%E6%8F%92%E5%85%A5%E8%BE%83%E9%AB%98%E5%B7%A6%E5%AD%90%E6%A0%91%E7%9A%84%E5%B7%A6%E4%BE%A7---%E5%B7%A6%E5%B7%A6%EF%BC%9A%E5%8F%B3%E5%8D%95%E6%97%8B%C2%A0">æ–°èŠ‚ç‚¹æ’å…¥è¾ƒé«˜å·¦å­æ ‘çš„å·¦ä¾§---å·¦å·¦ï¼šå³å•æ—‹Â </h3> 
<p><img alt="" height="333" src="https://images2.imgbox.com/81/3b/xuF6QEa3_o.png" width="1200"></p> 
<blockquote> 
 <p>è¿™é‡Œä»¥æŠ½è±¡å›¾è¿›è¡Œåˆ†æï¼Œå› ä¸ºå…·ä½“çš„æƒ…å†µæœ‰å¾ˆå¤šç§ï¼Œæ— æ³•ç”»å‡ºã€‚</p> 
 <p>æ³¨æ„ï¼šaå­æ ‘çš„æƒ…å†µå¿…é¡»æ˜¯æ’å…¥åä¼šå¼•å‘ç¥–å…ˆèŠ‚ç‚¹çš„æ›´æ–°ï¼Œè€Œä¸æ˜¯åªæ˜¯å†…éƒ¨å˜åŒ–ã€‚å¦‚ä¸‹å›¾æƒ…å†µå°±ä¸ç¬¦åˆè¦æ±‚ã€‚<img alt="" height="253" src="https://images2.imgbox.com/4d/ee/a6J3Bpdo_o.png" width="710"></p> 
 <p>æ—‹è½¬æµç¨‹ï¼šæ–°èŠ‚ç‚¹æ’å…¥åœ¨aæ ‘ä¸­ï¼Œå¯¼è‡´ä»¥60ä¸ºæ ¹çš„äºŒå‰æ ‘ä¸å¹³è¡¡ã€‚æ‰€ä»¥å°±è¦å³å•æ—‹ã€‚</p> 
 <p>å³å•æ—‹ï¼šæŠŠ60çš„å·¦å­æ ‘é«˜åº¦å‡å°‘ï¼Œå³æŠŠ60å–å‡ºæ¥ï¼Œè®©30çš„å³å­æ ‘å˜æˆ60çš„å·¦å­æ ‘ï¼Œå†æŠŠä»¥60ä¸ºæ ¹çš„æ ‘å˜æˆ30çš„å³å­æ ‘ã€‚30æˆä¸ºæ–°çš„æ ¹ã€‚</p> 
</blockquote> 
<p><img alt="" height="375" src="https://images2.imgbox.com/78/73/SgGjd3Qe_o.png" width="533"></p> 
<pre><code class="language-cpp">	void RotateR(Node* parent)
	{
		Node* subL = parent-&gt;_left;
		Node* subLR = subL-&gt;_right;

		parent-&gt;_left = subLR;
		if (subLR) //èŠ‚ç‚¹å¯èƒ½ä¸ºç©º
			subLR-&gt;_parent = parent;

		subL-&gt;_right = parent; //æ—§çˆ¶èŠ‚ç‚¹å˜æˆsubLçš„å³èŠ‚ç‚¹
		
		Node* ppNode = parent-&gt;_parent;  //è¯¥ä¸å¹³è¡¡èŠ‚ç‚¹å¯èƒ½ä¸æ˜¯æ ¹èŠ‚ç‚¹ï¼Œæ‰€ä»¥è¦æ‰¾åˆ°å®ƒçš„çˆ¶èŠ‚ç‚¹
		parent-&gt;_parent = subL;				

		if (parent == _root)   //å¦‚æœè¯¥èŠ‚ç‚¹æ˜¯æ ¹èŠ‚ç‚¹
		{
			_root = subL;		
			_root-&gt;_parent = nullptr;
		}
		else  //ä¸å¹³è¡¡èŠ‚ç‚¹åªæ˜¯ä¸€æ£µå­æ ‘
		{
			if (ppNode-&gt;_left == parent)  //å¦‚æœæ—§çˆ¶èŠ‚ç‚¹ç­‰äºçˆ·çˆ·èŠ‚ç‚¹çš„å·¦èŠ‚ç‚¹ï¼Œæ–°çˆ¶èŠ‚ç‚¹ä¸ºçˆ·çˆ·èŠ‚ç‚¹çš„å·¦èŠ‚ç‚¹
			{
				ppNode-&gt;_left = subL;
			}
			else
			{
				ppNode-&gt;_right = subL;
			}

			subL-&gt;_parent = ppNode;	//æ–°çˆ¶èŠ‚ç‚¹æŒ‡å‘çˆ·çˆ·èŠ‚ç‚¹ã€‚
		}

		parent-&gt;_bf = subL-&gt;_bf = 0;  //åªéœ€è¦ä¿®æ”¹è¿™ä¸¤ä¸ªçš„å¹³è¡¡å› å­


	}</code></pre> 
<h3 id="%E6%96%B0%E8%8A%82%E7%82%B9%E6%8F%92%E5%85%A5%E8%BE%83%E9%AB%98%E5%8F%B3%E5%AD%90%E6%A0%91%E7%9A%84%E5%8F%B3%E4%BE%A7---%E5%8F%B3%E5%8F%B3%EF%BC%9A%E5%B7%A6%E5%8D%95%E6%97%8B">æ–°èŠ‚ç‚¹æ’å…¥è¾ƒé«˜å³å­æ ‘çš„å³ä¾§---å³å³ï¼šå·¦å•æ—‹</h3> 
<p><img alt="" height="428" src="https://images2.imgbox.com/bc/d5/9qqENkjI_o.png" width="1200"></p> 
<blockquote> 
 <p>å‚è€ƒå³å•æ—‹ã€‚</p> 
</blockquote> 
<p>å·¦å•æ—‹å’Œå³å•æ—‹çš„è°ƒç”¨å¦‚ä¸‹å›¾ï¼š</p> 
<p><img alt="" height="538" src="https://images2.imgbox.com/e8/3a/E5zfSPzk_o.png" width="995"></p> 
<h3 id="%E6%96%B0%E8%8A%82%E7%82%B9%E6%8F%92%E5%85%A5%E8%BE%83%E9%AB%98%E5%B7%A6%E5%AD%90%E6%A0%91%E7%9A%84%E5%8F%B3%E4%BE%A7---%E5%B7%A6%E5%8F%B3%EF%BC%9A%E5%85%88%E5%B7%A6%E5%8D%95%E6%97%8B%E5%86%8D%E5%8F%B3%E5%8D%95%E6%97%8B">æ–°èŠ‚ç‚¹æ’å…¥è¾ƒé«˜å·¦å­æ ‘çš„å³ä¾§---å·¦å³ï¼šå…ˆå·¦å•æ—‹å†å³å•æ—‹</h3> 
<p><img alt="" height="549" src="https://images2.imgbox.com/01/60/LErD9pxM_o.png" width="1200"></p> 
<blockquote> 
 <p>å•æ—‹ç”¨åœ¨ä¸€è¾¹ä¸€ç›´é«˜çš„æƒ…å†µã€‚åŒæ—‹æ˜¯å…ˆä¸€è¾¹é«˜å†å¦ä¸€è¾¹é«˜çš„æƒ…å†µã€‚</p> 
 <p>åŒæ—‹çš„çš„åŸç†å°±æ˜¯æŠŠæŠ˜çº¿å˜æˆç›´çº¿ï¼Œå†åƒå¤„ç†ç›´çº¿ä¸€æ ·æ—‹è½¬ã€‚</p> 
 <p>åŒæ—‹å¯ä»¥å¤ç”¨å•æ—‹ï¼Œä½†åŒæ—‹ä¸»è¦è¦ææ¸…å¹³è¡¡å› å­çš„å˜åŒ–ã€‚</p> 
</blockquote> 
<p>ç¬¬ä¸€ç§æƒ…å†µï¼šÂ </p> 
<p><img alt="" height="727" src="https://images2.imgbox.com/cb/ee/HP78nlwz_o.png" width="1200"></p> 
<blockquote> 
 <p>åŒæ—‹çš„ç»“æœï¼š60çš„å·¦è¾¹ç»™äº†30çš„å³è¾¹ï¼Œ60çš„å³è¾¹ç»™äº†90çš„å·¦è¾¹ï¼Œ30å’Œ90åˆ†åˆ«æˆä¸º60çš„å·¦å³ï¼Œ60æˆä¸ºæ ¹ã€‚</p> 
</blockquote> 
<p>ä¸Šå›¾æ˜¯æ’å…¥bå¼•èµ·çš„æ—‹è½¬ï¼Œå½“æ’å…¥cæ—¶æ˜¯ç¬¬äºŒç§æƒ…å†µï¼Œå¦‚ä¸‹å›¾ï¼š</p> 
<p><img alt="" height="712" src="https://images2.imgbox.com/bb/91/3T1osK4k_o.png" width="1200"></p> 
<blockquote> 
 <p>ä¸Šé¢ä¸¤ç§æ’å…¥ä½ç½®çš„ä¸åŒï¼Œå¯¼è‡´æœ€ç»ˆçš„å¹³è¡¡å› å­ä¸åŒã€‚</p> 
</blockquote> 
<p>ç¬¬ä¸‰ç§æƒ…å†µï¼š</p> 
<p><img alt="" height="225" src="https://images2.imgbox.com/a6/df/N5x7SGbx_o.png" width="1200"></p> 
<blockquote> 
 <p>h==0æ—¶ï¼Œ60å°±æ˜¯æ–°å¢èŠ‚ç‚¹ï¼Œæœ€ç»ˆçš„å¹³è¡¡å› å­ä¹Ÿä¸åŒã€‚</p> 
</blockquote> 
<pre><code class="language-cpp">	void RotateLR(Node* parent)
	{
		Node* subL = parent-&gt;_left;
		Node* subLR = subL-&gt;_right; 

		int bf = subLR-&gt;_bf;  //è®°å½•æœªæ—‹è½¬å‰subLRçš„å¹³è¡¡å› å­

		RotateL(parent-&gt;_left);  
		RotateR(parent);
	
		if (bf == -1)  //å¦‚æœbfä¸º-1ï¼Œå³æ’å…¥åœ¨subLRçš„å·¦è¾¹
		{
			subLR-&gt;_bf = 0;
			subL-&gt;_bf = 0;
			parent-&gt;_bf = 1;
		}
		else if (bf == 1) //æ’å…¥åœ¨subLRçš„å³è¾¹
		{
			subLR-&gt;_bf = 0;
			subL-&gt;_bf = -1;
			parent-&gt;_bf = 0;
		}
		else if (bf == 0)
		{
			subLR-&gt;_bf = 0;
			subL-&gt;_bf = 0;
			parent-&gt;_bf = 0;
		}
		else
		{
			assert(false);
		}
	}</code></pre> 
<h3 id="%C2%A0%E6%96%B0%E8%8A%82%E7%82%B9%E6%8F%92%E5%85%A5%E8%BE%83%E9%AB%98%E5%8F%B3%E5%AD%90%E6%A0%91%E7%9A%84%E5%B7%A6%E4%BE%A7---%E5%8F%B3%E5%B7%A6%EF%BC%9A%E5%85%88%E5%8F%B3%E5%8D%95%E6%97%8B%E5%86%8D%E5%B7%A6%E5%8D%95%E6%97%8B">Â æ–°èŠ‚ç‚¹æ’å…¥è¾ƒé«˜å³å­æ ‘çš„å·¦ä¾§---å³å·¦ï¼šå…ˆå³å•æ—‹å†å·¦å•æ—‹</h3> 
<p><img alt="" height="772" src="https://images2.imgbox.com/13/07/6aAiIWce_o.png" width="1200"></p> 
<blockquote> 
 <p>å‚è€ƒå·¦å³åŒæ—‹ï¼Œæ³¨æ„ï¼Œè¿™é‡Œä¹Ÿè¦è®¨è®ºé‚£ä¸‰ç§æƒ…å†µã€‚Â </p> 
</blockquote> 
<pre><code class="language-cpp">	void RotateRL(Node* parent)
	{
		Node* subR = parent-&gt;_right;
		Node* subRL = subR-&gt;_left;
		int bf = subRL-&gt;_bf;

		RotateR(parent-&gt;_right);
		RotateL(parent);

		subRL-&gt;_bf = 0;
		if (bf == 1)
		{
			subR-&gt;_bf = 0;
			parent-&gt;_bf = -1;
		}
		else if (bf == -1)
		{
			parent-&gt;_bf = 0;
			subR-&gt;_bf = 1;
		}
		else
		{
			parent-&gt;_bf = 0;
			subR-&gt;_bf = 0;
		}
	}</code></pre> 
<h2 id="AVL%E6%A0%91%E7%9A%84%E9%AA%8C%E8%AF%81%C2%A0">AVLæ ‘çš„éªŒè¯Â </h2> 
<p>AVLæ ‘æ˜¯åœ¨äºŒå‰æœç´¢æ ‘çš„åŸºç¡€ä¸ŠåŠ å…¥äº†å¹³è¡¡æ€§çš„é™åˆ¶ï¼Œå› æ­¤è¦éªŒè¯AVLæ ‘ï¼Œå¯ä»¥åˆ†ä¸¤æ­¥ï¼š</p> 
<ol><li><strong>éªŒè¯å…¶ä¸ºäºŒå‰æœç´¢æ ‘</strong>ã€‚å¦‚æœä¸­åºéå†å¯å¾—åˆ°ä¸€ä¸ªæœ‰åºçš„åºåˆ—ï¼Œå°±è¯´æ˜ä¸ºäºŒå‰æœç´¢æ ‘</li><li><strong>éªŒè¯å…¶ä¸ºå¹³è¡¡æ ‘</strong>ã€‚æ¯ä¸ªèŠ‚ç‚¹å­æ ‘é«˜åº¦å·®çš„ç»å¯¹å€¼ä¸è¶…è¿‡1(æ³¨æ„èŠ‚ç‚¹ä¸­å¦‚æœæ²¡æœ‰å¹³è¡¡å› å­) èŠ‚ç‚¹çš„å¹³è¡¡å› å­æ˜¯å¦è®¡ç®—æ­£ç¡®Â </li></ol> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/da/1f/eN8Ej9bZ_o.png" width="1078"></p> 
<blockquote> 
 <p>Â å› ä¸ºrootæ˜¯ç§æœ‰çš„ï¼Œåˆå› ä¸ºéœ€è¦é€’å½’æ£€æŸ¥æ¯æ£µå­æ ‘æ˜¯å¦å¹³è¡¡ï¼Œæ‰€ä»¥å¯ä»¥å†™ä¸€ä¸ªç§æœ‰çš„_IsBalanceæ–¹æ³•ï¼Œé€šè¿‡å…¬æœ‰çš„IsBalanceæ–¹æ³•æ¥è°ƒç”¨ã€‚</p> 
</blockquote> 
<h2 id="%C2%A0AVL%E6%A0%91%E7%9A%84%E6%80%A7%E8%83%BD">Â AVLæ ‘çš„æ€§èƒ½</h2> 
<p>AVLæ ‘æ˜¯ä¸€æ£µç»å¯¹å¹³è¡¡çš„äºŒå‰æœç´¢æ ‘ï¼Œå…¶è¦æ±‚æ¯ä¸ªèŠ‚ç‚¹çš„å·¦å³å­æ ‘é«˜åº¦å·®çš„ç»å¯¹å€¼éƒ½ä¸è¶…è¿‡1ï¼Œè¿™ æ ·å¯ä»¥ä¿è¯æŸ¥è¯¢æ—¶é«˜æ•ˆçš„æ—¶é—´å¤æ‚åº¦ï¼Œå³O(logN)ã€‚Â ä½†æ˜¯å¦‚æœè¦å¯¹AVLæ ‘åšä¸€äº›ç»“æ„ä¿®æ”¹çš„æ“ä½œï¼Œæ€§èƒ½éå¸¸ä½ä¸‹ï¼Œæ¯”å¦‚ï¼šæ’å…¥æ—¶è¦ç»´æŠ¤å…¶ç»å¯¹å¹³è¡¡ï¼Œæ—‹è½¬çš„æ¬¡æ•°æ¯”è¾ƒå¤šï¼Œæ›´å·®çš„æ˜¯åœ¨åˆ é™¤æ—¶ï¼Œ æœ‰å¯èƒ½ä¸€ç›´è¦è®©æ—‹è½¬æŒç»­åˆ°æ ¹çš„ä½ç½®ã€‚å› æ­¤ï¼šå¦‚æœéœ€è¦ä¸€ç§æŸ¥è¯¢é«˜æ•ˆä¸”æœ‰åºçš„æ•°æ®ç»“æ„ï¼Œè€Œä¸”æ•°æ®çš„ä¸ªæ•°ä¸ºé™æ€çš„(å³ä¸ä¼šæ”¹å˜)ï¼Œå¯ä»¥è€ƒè™‘AVLæ ‘ï¼Œä½†ä¸€ä¸ªç»“æ„ç»å¸¸ä¿®æ”¹ï¼Œå°±ä¸å¤ªé€‚åˆã€‚çº¢é»‘æ ‘åœ¨ç»å¸¸è¿›è¡Œå¢åˆ çš„ç»“æ„ä¸­æ€§èƒ½æ¯”AVLæ ‘æ›´ä¼˜ã€‚</p> 
<h2 id="%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81">å®Œæ•´ä»£ç </h2> 
<pre><code class="language-cpp">template&lt;class K, class V&gt;
struct AVLTreeNode
{
	AVLTreeNode&lt;K, V&gt;* _left;
	AVLTreeNode&lt;K, V&gt;* _right;
	AVLTreeNode&lt;K, V&gt;* _parent;
	pair&lt;K, V&gt; _kv;

	int _bf;

	AVLTreeNode(const pair&lt;K, V&gt;&amp; kv)
		:_left(nullptr)
		, _right(nullptr)
		, _parent(nullptr)
		, _kv(kv)
		,_bf(0)
	{}
};

template&lt;class K, class V&gt;
class AVLTree
{
	typedef AVLTreeNode&lt;K, V&gt; Node;
public:
	bool Insert(const pair&lt;K, V&gt;&amp; kv)
	{
		if (_root == nullptr)
		{
			_root = new Node(kv);
			return true;
		}

		Node* cur = _root;
		Node* parent = nullptr;
		while (cur)
		{
			if (cur-&gt;_kv.first &lt; kv.first)
			{
				parent = cur;
				cur = cur-&gt;_right;
			}
			else if (cur-&gt;_kv.first &gt; kv.first)
			{
				parent = cur;
				cur = cur-&gt;_left;
			}
			else
			{
				return false;
			}
		}

		cur = new Node(kv);
		if (parent-&gt;_kv.first &gt; kv.first)
		{
			parent-&gt;_left = cur;
		}
		else
		{
			parent-&gt;_right = cur;
		}
		cur-&gt;_parent = parent;

		//æ›´æ–°å¹³è¡¡å› å­
		while (parent) 
		{
			if (cur == parent-&gt;_left)
			{
				parent-&gt;_bf--;
			}
			else
			{
				parent-&gt;_bf++;
			}

			if (parent-&gt;_bf == 0)
			{
				//æ›´æ–°ç»“æŸ
				break;
			}
			else if (parent-&gt;_bf == 1 || parent-&gt;_bf == -1)
			{
				//ç»§ç»­å¾€ä¸Šæ›´æ–°
				cur = parent;
				parent = parent-&gt;_parent;
			}
			else if (parent-&gt;_bf == 2 || parent-&gt;_bf == -2)
			{
				//å½“å‰å­æ ‘å‡ºé—®é¢˜äº†ï¼Œéœ€è¦æ—‹è½¬å¹³è¡¡ä¸€ä¸‹
				if (parent-&gt;_bf == -2 &amp;&amp; cur-&gt;_bf == -1) //å·¦è¾¹é«˜ï¼Œå³å•æ—‹
				{
					RotateR(parent);
				}
				else if (parent-&gt;_bf == 2 &amp;&amp; cur-&gt;_bf == 1)//å³è¾¹é«˜ï¼Œå·¦å•æ—‹
				{
					RotateL(parent);
				}
				else if (parent-&gt;_bf == 2 &amp;&amp; cur-&gt;_bf == -1)
				{ 
					RotateRL(parent);
				}
				else if (parent-&gt;_bf == -2 &amp;&amp; cur-&gt;_bf == 1)
				{
					RotateLR(parent); 
				}

				break;
			}
			else
			{
				//ç†è®ºè€Œè¨€ä¸å¯èƒ½å‡ºç°è¯¥æƒ…å†µ
				assert(false);
			}
		}


		return true;
	}

	Node* Find(const K&amp; key)
	{
		Node* cur = _root;
		while (cur)
		{
			if (cur-&gt;_kv.first &lt; key)
			{
				cur = cur-&gt;_right;
			}
			else if (cur-&gt;_kv.first &gt; key)
			{
				cur = cur-&gt;_left;
			}
			else
			{
				return cur;
			}
		}
		return nullptr;
	}

	void InOrder()
	{
		_InOrder(_root);
		cout &lt;&lt; endl;
	}

	void RotateR(Node* parent)
	{
		Node* subL = parent-&gt;_left;
		Node* subLR = subL-&gt;_right;

		parent-&gt;_left = subLR;
		if (subLR) //èŠ‚ç‚¹å¯èƒ½ä¸ºç©º
			subLR-&gt;_parent = parent;

		subL-&gt;_right = parent; //æ—§çˆ¶èŠ‚ç‚¹å˜æˆsubLçš„å³èŠ‚ç‚¹
		
		Node* ppNode = parent-&gt;_parent;  //è¯¥ä¸å¹³è¡¡èŠ‚ç‚¹å¯èƒ½ä¸æ˜¯æ ¹èŠ‚ç‚¹ï¼Œæ‰€ä»¥è¦æ‰¾åˆ°å®ƒçš„çˆ¶èŠ‚ç‚¹
		parent-&gt;_parent = subL;				

		if (parent == _root)   //å¦‚æœè¯¥èŠ‚ç‚¹æ˜¯æ ¹èŠ‚ç‚¹
		{
			_root = subL;		
			_root-&gt;_parent = nullptr;
		}
		else  //ä¸å¹³è¡¡èŠ‚ç‚¹åªæ˜¯ä¸€æ£µå­æ ‘
		{
			if (ppNode-&gt;_left == parent)  //å¦‚æœæ—§çˆ¶èŠ‚ç‚¹ç­‰äºçˆ·çˆ·èŠ‚ç‚¹çš„å·¦èŠ‚ç‚¹ï¼Œæ–°çˆ¶èŠ‚ç‚¹ä¸ºçˆ·çˆ·èŠ‚ç‚¹çš„å·¦èŠ‚ç‚¹
			{
				ppNode-&gt;_left = subL;
			}
			else
			{
				ppNode-&gt;_right = subL;
			}
			subL-&gt;_parent = ppNode;	//æ–°çˆ¶èŠ‚ç‚¹æŒ‡å‘çˆ·çˆ·èŠ‚ç‚¹ã€‚
		}
		parent-&gt;_bf = subL-&gt;_bf = 0;  //åªéœ€è¦ä¿®æ”¹è¿™ä¸¤ä¸ªçš„å¹³è¡¡å› å­
	}

	void RotateL(Node* parent)
	{
		Node* subR = parent-&gt;_right;
		Node* subRL = subR-&gt;_left;

		parent-&gt;_right = subRL;
		if (subRL)
			subRL-&gt;_parent = parent;

		subR-&gt;_left = parent;
		Node* ppNode = parent-&gt;_parent;

		parent-&gt;_parent = subR;

		if (parent == _root)
		{
			_root = subR;
			_root-&gt;_parent = nullptr;
		}
		else
		{
			if (ppNode-&gt;_right == parent)
			{
				ppNode-&gt;_right = subR;
			}
			else
			{
				ppNode-&gt;_left = subR;
			}
			subR-&gt;_parent = ppNode;
		}
		parent-&gt;_bf = subR-&gt;_bf = 0;
	}

	void RotateRL(Node* parent)
	{
		Node* subR = parent-&gt;_right;
		Node* subRL = subR-&gt;_left;
		int bf = subRL-&gt;_bf;

		RotateR(parent-&gt;_right);
		RotateL(parent);

		subRL-&gt;_bf = 0;
		if (bf == 1)
		{
			subR-&gt;_bf = 0;
			parent-&gt;_bf = -1;
		}
		else if (bf == -1)
		{
			parent-&gt;_bf = 0;
			subR-&gt;_bf = 1;
		}
		else
		{
			parent-&gt;_bf = 0;
			subR-&gt;_bf = 0;
		}
	}

	void RotateLR(Node* parent)
	{
		Node* subL = parent-&gt;_left;
		Node* subLR = subL-&gt;_right; 

		int bf = subLR-&gt;_bf;  //è®°å½•æœªæ—‹è½¬å‰subLRçš„å¹³è¡¡å› å­

		RotateL(parent-&gt;_left);  
		RotateR(parent);
	
		if (bf == -1)  //å¦‚æœbfä¸º-1ï¼Œå³æ’å…¥åœ¨subLRçš„å·¦è¾¹
		{
			subLR-&gt;_bf = 0;
			subL-&gt;_bf = 0;
			parent-&gt;_bf = 1;
		}
		else if (bf == 1) //æ’å…¥åœ¨subLRçš„å³è¾¹
		{
			subLR-&gt;_bf = 0;
			subL-&gt;_bf = -1;
			parent-&gt;_bf = 0;
		}
		else if (bf == 0)
		{
			subLR-&gt;_bf = 0;
			subL-&gt;_bf = 0;
			parent-&gt;_bf = 0;
		}
		else
		{
			assert(false);
		}
	}
	bool IsBalance()
	{
		return _IsBalance(_root);
	}

	int Height() //æ ‘çš„é«˜åº¦
	{
		return _Height(_root);
	}

	int Size()  //æ’å…¥çš„èŠ‚ç‚¹ä¸ªæ•°
	{
		return _Size(_root);
	}

private:
	int _Size(Node* root)
	{
		return root == nullptr ? 0 : _Size(root-&gt;_left) + _Size(root-&gt;_right) + 1;
	}

	int _Height(Node* root)
	{
		if (root == nullptr)
			return 0;
		return max(_Height(root-&gt;_left), _Height(root-&gt;_right)) + 1;
	}

	bool _IsBalance(Node* root) 
	{
		if (root == nullptr) 
			return true;
		
		int	leftHeight = _Height(root-&gt;_left);
		int	rightHeight = _Height(root-&gt;_right);
		//å¦‚æœä¸å¹³è¡¡
		if (abs(leftHeight - rightHeight) &gt;= 2)
		{
			cout &lt;&lt; root-&gt;_kv.first &lt;&lt; endl;
			return false;
		}

		//æ£€æŸ¥å¹³è¡¡å› å­æ˜¯å¦æ­£ç¡®
		if (rightHeight - leftHeight != root-&gt;_bf)
		{
			cout &lt;&lt; root-&gt;_kv.first &lt;&lt; endl;
			return false;
		}

		return _IsBalance(root-&gt;_left)
			&amp;&amp; _IsBalance(root-&gt;_right);
	}
	
	
	void _InOrder(Node* root)
	{
		if (root == nullptr)
			return;

		_InOrder(root-&gt;_left);
		cout &lt;&lt; root-&gt;_kv.first &lt;&lt; ":" &lt;&lt; root-&gt;_kv.second &lt;&lt; endl;
		_InOrder(root-&gt;_right);
	}

private:
	Node* _root=nullptr; 
};

void AVLTreeTest1()
{
	//int a[] = { 8, 3, 1, 10, 6, 4, 7, 14, 13 };
	int a[] = { 4, 2, 6, 1, 3, 5, 15, 7, 16, 14 };
	AVLTree&lt;int,int&gt; t1;
	for (auto e : a)
	{
		t1.Insert({e,e});

		cout &lt;&lt;"Insert:"&lt;&lt;e&lt;&lt;"-&gt;"&lt;&lt; t1.IsBalance() &lt;&lt; endl;
	}

	t1.InOrder();	

	cout &lt;&lt; t1.IsBalance() &lt;&lt; endl;
}</code></pre> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/8d3910126d62b10cde0f7b1402a69ef1/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">2.5 C#è§†è§‰ç¨‹åºå¼€å‘å®ä¾‹1----CamManagerå®ç°æ¨¡æ‹Ÿç›¸æœºé‡‡é›†å›¾ç‰‡(Form_Visionéƒ¨åˆ†ä»£ç )</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/00e4061de8eb3d7aac2fbcc643d43ee6/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">Pythoné…·åº“ä¹‹æ—…-ç¬¬ä¸‰æ–¹åº“Pandas(010)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ç¼–ç¨‹å¤§å’–.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>