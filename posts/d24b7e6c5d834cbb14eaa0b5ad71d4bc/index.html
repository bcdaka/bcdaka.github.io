<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【C&#43;&#43;】List模拟实现 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/d24b7e6c5d834cbb14eaa0b5ad71d4bc/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="【C&#43;&#43;】List模拟实现">
  <meta property="og:description" content="💞💞 前言 hello hello~ ，这里是大耳朵土土垚~💖💖 ，欢迎大家点赞🥳🥳关注💥💥收藏🌹🌹🌹
💥个人主页：大耳朵土土垚的博客
💥 所属专栏：C&#43;&#43;入门至进阶
这里将会不定期更新有关C&#43;&#43;的内容，希望大家多多点赞关注收藏💖💖
目录 💞💞 前言一、什么是List二、Lits模拟实现2.1 List完整实现代码2.2List框架✨ListNode节点✨List类 2.3尾插尾删2.4迭代器封装✨尾插尾删测试代码✨const迭代器 2.5头插头删✨头插头删测试代码 2.6任意位置插入2.7任意位置删除✨任意位置插入删除测试代码 2.8清空数据2.9析构函数2.10构造函数✨默认构造✨拷贝构造✨initializer_list构造✨测试代码 2.11赋值运算符重载✨赋值运算符重载测试代码 三、结语 一、什么是List C&#43;&#43;中的list是一种双向链表（doubly linked list）的实现。它是C&#43;&#43;标准库中的一种容器，可以存储一系列元素，并且允许在任意位置插入、删除和访问元素。对于双向链表有疑问的可以点击查看数据结构——带头双向循环链表详解
二、Lits模拟实现 2.1 List完整实现代码 #pragma once using namespace std; #include&lt;iostream&gt; #include&lt;assert.h&gt; namespace tutu { //1.list节点 template&lt;class T&gt; struct ListNode { //默认构造 struct ListNode(const T&amp; val = T()) :_node(val) ,_prev(NULL) ,_next(NULL) { } //成员函数 T _node; ListNode&lt;T&gt;* _prev; ListNode&lt;T&gt;* _next; }; //2.迭代器类 template&lt;class T,class Ref,class Ptr&gt; struct List_Iterator { typedef struct ListNode&lt;T&gt; Node; typedef List_Iterator&lt;T,Ref,Ptr&gt; self; Node* _pnode; //构造函数 List_Iterator(Node* node) :_pnode(node) { } Ref operator*()const { return _pnode-&gt;_node; } Ptr operator-&gt;() const { return &amp;_pnode-&gt;_node; } //前置&#43;&#43; self&amp; operator&#43;&#43;() { _pnode = _pnode-&gt;_next; return *this; } //后置&#43;&#43; self&amp; operator&#43;&#43;(int) { self tmp(*this); _pnode = _pnode-&gt;_next; return tmp; } //前置-- self&amp; operator--() { _pnode = _pnode-&gt;_prev; return *this; } //后置-- self&amp; operator--(int) { self tmp(*this); _pnode = _pnode-&gt;_prev; return tmp; } bool operator!">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-05-31T22:05:14+08:00">
    <meta property="article:modified_time" content="2024-05-31T22:05:14+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【C&#43;&#43;】List模拟实现</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="__1"></a>💞💞 前言</h2> 
<blockquote> 
 <p><strong>hello hello~ ，这里是大耳朵土土垚~💖💖 ，欢迎大家点赞🥳🥳关注💥💥收藏🌹🌹🌹</strong><br> <img src="https://images2.imgbox.com/a4/1f/PJQjTBT9_o.png" alt="在这里插入图片描述"></p> 
 <blockquote> 
  <p>💥<strong>个人主页</strong>：<a href="https://blog.csdn.net/Renswc?type=blog">大耳朵土土垚的博客</a><br> 💥 <strong>所属专栏</strong>：<a href="https://blog.csdn.net/renswc/category_12630230.html">C++入门至进阶</a><br> 这里将会不定期更新有关C++的内容，希望大家多多点赞关注收藏💖💖</p> 
 </blockquote> 
</blockquote> 
<p></p> 
<div class="toc"> 
 <h4>目录</h4> 
 <ul><li><a href="#__1" rel="nofollow">💞💞 前言</a></li><li><a href="#List_11" rel="nofollow">一、什么是List</a></li><li><a href="#Lits_13" rel="nofollow">二、Lits模拟实现</a></li><li><ul><li><a href="#21_List_14" rel="nofollow">2.1 List完整实现代码</a></li><li><a href="#22List_552" rel="nofollow">2.2List框架</a></li><li><ul><li><a href="#ListNode_553" rel="nofollow">✨ListNode节点</a></li><li><a href="#List_579" rel="nofollow">✨List类</a></li></ul> 
   </li><li><a href="#23_593" rel="nofollow">2.3尾插尾删</a></li><li><a href="#24_630" rel="nofollow">2.4迭代器封装</a></li><li><ul><li><a href="#_772" rel="nofollow">✨尾插尾删测试代码</a></li><li><a href="#const_798" rel="nofollow">✨const迭代器</a></li></ul> 
   </li><li><a href="#25_996" rel="nofollow">2.5头插头删</a></li><li><ul><li><a href="#_1024" rel="nofollow">✨头插头删测试代码</a></li></ul> 
   </li><li><a href="#26_1053" rel="nofollow">2.6任意位置插入</a></li><li><a href="#27_1086" rel="nofollow">2.7任意位置删除</a></li><li><ul><li><a href="#_1125" rel="nofollow">✨任意位置插入删除测试代码</a></li></ul> 
   </li><li><a href="#28_1153" rel="nofollow">2.8清空数据</a></li><li><a href="#29_1173" rel="nofollow">2.9析构函数</a></li><li><a href="#210_1184" rel="nofollow">2.10构造函数</a></li><li><ul><li><a href="#_1197" rel="nofollow">✨默认构造</a></li><li><a href="#_1207" rel="nofollow">✨拷贝构造</a></li><li><a href="#initializer_list_1223" rel="nofollow">✨initializer_list构造</a></li><li><a href="#_1239" rel="nofollow">✨测试代码</a></li></ul> 
   </li><li><a href="#211_1285" rel="nofollow">2.11赋值运算符重载</a></li><li><ul><li><a href="#_1295" rel="nofollow">✨赋值运算符重载测试代码</a></li></ul> 
  </li></ul> 
  </li><li><a href="#_1333" rel="nofollow">三、结语</a></li></ul> 
</div> 
<p></p> 
<h2><a id="List_11"></a>一、什么是List</h2> 
<p>C++中的list是一种双向链表（doubly linked list）的实现。它是C++标准库中的一种容器，可以存储一系列元素，并且允许在任意位置插入、删除和访问元素。对于双向链表有疑问的可以点击查看<a href="http://t.csdnimg.cn/IhUaH" rel="nofollow">数据结构——带头双向循环链表详解</a></p> 
<h2><a id="Lits_13"></a>二、Lits模拟实现</h2> 
<h3><a id="21_List_14"></a>2.1 List完整实现代码</h3> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;assert.h&gt;</span></span>
<span class="token keyword">namespace</span> tutu
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">//1.list节点</span>
	<span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
	<span class="token keyword">struct</span> <span class="token class-name">ListNode</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token comment">//默认构造</span>
		<span class="token keyword">struct</span> <span class="token class-name">ListNode</span><span class="token punctuation">(</span><span class="token keyword">const</span> T<span class="token operator">&amp;</span> val <span class="token operator">=</span> <span class="token function">T</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
			<span class="token operator">:</span><span class="token function">_node</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span>
			<span class="token punctuation">,</span><span class="token function">_prev</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
			<span class="token punctuation">,</span><span class="token function">_next</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>

		<span class="token punctuation">}</span>
		
		<span class="token comment">//成员函数</span>
		T _node<span class="token punctuation">;</span>
		ListNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> _prev<span class="token punctuation">;</span>
		ListNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> _next<span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>


	<span class="token comment">//2.迭代器类</span>

	
	<span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token punctuation">,</span><span class="token keyword">class</span> <span class="token class-name">Ref</span><span class="token punctuation">,</span><span class="token keyword">class</span> <span class="token class-name">Ptr</span><span class="token operator">&gt;</span>
	<span class="token keyword">struct</span> <span class="token class-name">List_Iterator</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">ListNode</span><span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> Node<span class="token punctuation">;</span>
		<span class="token keyword">typedef</span> List_Iterator<span class="token operator">&lt;</span>T<span class="token punctuation">,</span>Ref<span class="token punctuation">,</span>Ptr<span class="token operator">&gt;</span> self<span class="token punctuation">;</span>
		Node<span class="token operator">*</span> _pnode<span class="token punctuation">;</span>

		<span class="token comment">//构造函数</span>
		<span class="token function">List_Iterator</span><span class="token punctuation">(</span>Node<span class="token operator">*</span> node<span class="token punctuation">)</span>
			<span class="token operator">:</span><span class="token function">_pnode</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>

		<span class="token punctuation">}</span>
		Ref <span class="token keyword">operator</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">const</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _pnode<span class="token operator">-&gt;</span>_node<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		Ptr <span class="token keyword">operator</span><span class="token operator">-&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> <span class="token operator">&amp;</span>_pnode<span class="token operator">-&gt;</span>_node<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token comment">//前置++</span>
		self<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">++</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			_pnode <span class="token operator">=</span>  _pnode<span class="token operator">-&gt;</span>_next<span class="token punctuation">;</span>
			<span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">//后置++</span>
		self<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">++</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			self <span class="token function">tmp</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			_pnode <span class="token operator">=</span> _pnode<span class="token operator">-&gt;</span>_next<span class="token punctuation">;</span>
			<span class="token keyword">return</span> tmp<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">//前置--</span>
		self<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">--</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			_pnode <span class="token operator">=</span> _pnode<span class="token operator">-&gt;</span>_prev<span class="token punctuation">;</span>
			<span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">//后置--</span>
		self<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">--</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			self <span class="token function">tmp</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			_pnode <span class="token operator">=</span> _pnode<span class="token operator">-&gt;</span>_prev<span class="token punctuation">;</span>
			<span class="token keyword">return</span> tmp<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token operator">!=</span><span class="token punctuation">(</span><span class="token keyword">const</span> self<span class="token operator">&amp;</span> pnode<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> <span class="token operator">!</span><span class="token punctuation">(</span>_pnode <span class="token operator">==</span> pnode<span class="token punctuation">.</span>_pnode<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token operator">==</span><span class="token punctuation">(</span><span class="token keyword">const</span> self<span class="token operator">&amp;</span> pnode<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _pnode <span class="token operator">==</span> pnode<span class="token punctuation">.</span>_pnode<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

	<span class="token punctuation">}</span><span class="token punctuation">;</span>

	<span class="token comment">const迭代器</span>
	<span class="token comment">//template&lt;class T&gt;</span>
	<span class="token comment">//struct Const_List_Iterator</span>
	<span class="token comment">//{<!-- --></span>
	<span class="token comment">//	typedef struct ListNode&lt;T&gt; Node;</span>
	<span class="token comment">//	typedef Const_List_Iterator&lt;T&gt; self;</span>
	<span class="token comment">//	Node* _pnode;</span>

	<span class="token comment">//	//构造函数</span>
	<span class="token comment">//	Const_List_Iterator(Node* node)</span>
	<span class="token comment">//		:_pnode(node)</span>
	<span class="token comment">//	{<!-- --></span>

	<span class="token comment">//	}</span>
	<span class="token comment">//	const T&amp; operator*()const</span>
	<span class="token comment">//	{<!-- --></span>
	<span class="token comment">//		return _pnode-&gt;_node;</span>
	<span class="token comment">//	}</span>

	<span class="token comment">//	const T* operator-&gt;()const</span>
	<span class="token comment">//	{<!-- --></span>
	<span class="token comment">//		return &amp;_pnode-&gt;node;</span>
	<span class="token comment">//	}</span>
	<span class="token comment">//	//前置++</span>
	<span class="token comment">//	self&amp; operator++()</span>
	<span class="token comment">//	{<!-- --></span>
	<span class="token comment">//		_pnode = _pnode-&gt;_next;</span>
	<span class="token comment">//		return *this;</span>
	<span class="token comment">//	}</span>

	<span class="token comment">//	//后置++</span>
	<span class="token comment">//	self&amp; operator++(int)</span>
	<span class="token comment">//	{<!-- --></span>
	<span class="token comment">//		self tmp(*this);</span>
	<span class="token comment">//		_pnode = _pnode-&gt;_next;</span>
	<span class="token comment">//		return tmp;</span>
	<span class="token comment">//	}</span>

	<span class="token comment">//	//前置--</span>
	<span class="token comment">//	self&amp; operator--()</span>
	<span class="token comment">//	{<!-- --></span>
	<span class="token comment">//		_pnode = _pnode-&gt;_prev;</span>
	<span class="token comment">//		return *this;</span>
	<span class="token comment">//	}</span>

	<span class="token comment">//	//后置--</span>
	<span class="token comment">//	self&amp; operator--(int)</span>
	<span class="token comment">//	{<!-- --></span>
	<span class="token comment">//		self tmp(*this);</span>
	<span class="token comment">//		_pnode = _pnode-&gt;_prev;</span>
	<span class="token comment">//		return tmp;</span>
	<span class="token comment">//	}</span>

	<span class="token comment">//	bool operator!=(const self&amp; pnode)const</span>
	<span class="token comment">//	{<!-- --></span>
	<span class="token comment">//		return !(_pnode == pnode._pnode);</span>
	<span class="token comment">//	}</span>

	<span class="token comment">//	bool operator==(const self&amp; pnode)const</span>
	<span class="token comment">//	{<!-- --></span>
	<span class="token comment">//		return _pnode == pnode._pnode;</span>
	<span class="token comment">//	}</span>

	<span class="token comment">//};</span>
	<span class="token comment">//3.list类</span>
	<span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
	<span class="token keyword">class</span> <span class="token class-name">List</span>
	<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">public</span><span class="token operator">:</span>
		<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">ListNode</span><span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> Node<span class="token punctuation">;</span>
		<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">ListNode</span><span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> pNode<span class="token punctuation">;</span>

		<span class="token comment">//迭代器</span>
		<span class="token keyword">typedef</span> List_Iterator<span class="token operator">&lt;</span>T<span class="token punctuation">,</span>T<span class="token operator">&amp;</span><span class="token punctuation">,</span>T<span class="token operator">*</span><span class="token operator">&gt;</span> iterator<span class="token punctuation">;</span>
		<span class="token comment">//const 迭代器，数据不可被修改，但可++,判断是否相等</span>
		<span class="token keyword">typedef</span> List_Iterator<span class="token operator">&lt;</span>T<span class="token punctuation">,</span><span class="token keyword">const</span> T<span class="token operator">&amp;</span><span class="token punctuation">,</span><span class="token keyword">const</span> T<span class="token operator">*</span><span class="token operator">&gt;</span> const_iterator<span class="token punctuation">;</span>

		

		iterator <span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> <span class="token function">iterator</span><span class="token punctuation">(</span>_listhead<span class="token operator">-&gt;</span>_next<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		iterator <span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> <span class="token function">iterator</span><span class="token punctuation">(</span>_listhead<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		const_iterator <span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">const</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> <span class="token function">const_iterator</span><span class="token punctuation">(</span>_listhead<span class="token operator">-&gt;</span>_next<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		const_iterator <span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> <span class="token function">const_iterator</span><span class="token punctuation">(</span>_listhead<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		
		<span class="token keyword">void</span> <span class="token function">EmptyInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			_listhead <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Node</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			_listhead<span class="token operator">-&gt;</span>_prev <span class="token operator">=</span> _listhead<span class="token punctuation">;</span>
			_listhead<span class="token operator">-&gt;</span>_next <span class="token operator">=</span> _listhead<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token comment">//默认构造</span>
		<span class="token function">List</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token function">EmptyInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">//拷贝构造</span>
		<span class="token function">List</span><span class="token punctuation">(</span>List<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">&amp;</span> lt<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token function">EmptyInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span><span class="token operator">&amp;</span> e <span class="token operator">:</span> lt<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token function">push_back</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

		<span class="token comment">//initializer_list</span>
		<span class="token function">List</span><span class="token punctuation">(</span>initializer_list<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> il<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token function">EmptyInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

			<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">auto</span><span class="token operator">&amp;</span> e <span class="token operator">:</span> il<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token function">push_back</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

		<span class="token comment">//赋值运算符重载</span>
		List<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">=</span><span class="token punctuation">(</span>List<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> lt<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token function">swap</span><span class="token punctuation">(</span>_listhead<span class="token punctuation">,</span>lt<span class="token punctuation">.</span>_listhead<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		
		<span class="token comment">//清空数据</span>
		<span class="token keyword">void</span> <span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			pNode cur <span class="token operator">=</span> _listhead<span class="token operator">-&gt;</span>_next<span class="token punctuation">;</span>
			pNode del <span class="token operator">=</span> _listhead<span class="token operator">-&gt;</span>_next<span class="token punctuation">;</span>
			<span class="token keyword">while</span> <span class="token punctuation">(</span>cur <span class="token operator">!=</span> _listhead<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				cur <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_next<span class="token punctuation">;</span>
				<span class="token keyword">delete</span> del<span class="token punctuation">;</span>
				del <span class="token operator">=</span> cur<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			_listhead<span class="token operator">-&gt;</span>_next <span class="token operator">=</span> _listhead<span class="token punctuation">;</span>
			_listhead<span class="token operator">-&gt;</span>_prev <span class="token operator">=</span> _listhead<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">//析构函数</span>
		<span class="token operator">~</span><span class="token function">List</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token comment">//释放哨兵位头节点</span>
			<span class="token keyword">delete</span> _listhead<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">//尾插</span>
		<span class="token keyword">void</span> <span class="token function">push_back</span><span class="token punctuation">(</span><span class="token keyword">const</span> T<span class="token operator">&amp;</span> val <span class="token operator">=</span> <span class="token function">T</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token comment">/*pNode newnode = new Node(val);
			newnode-&gt;_prev = _listhead-&gt;_prev;
			_listhead-&gt;_prev-&gt;_next = newnode;
			newnode-&gt;_next = _listhead;
			_listhead-&gt;_prev = newnode;*/</span>
			<span class="token function">insert</span><span class="token punctuation">(</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>


		<span class="token comment">//尾删</span>
		<span class="token keyword">void</span> <span class="token function">pop_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token comment">/*if (_listhead-&gt;_prev != _listhead)
			{
				pNode tail = _listhead-&gt;_prev-&gt;_prev;
				delete _listhead-&gt;_prev;
				_listhead-&gt;_prev = tail;
				tail-&gt;_next = _listhead;
			}*/</span>
			<span class="token function">erase</span><span class="token punctuation">(</span><span class="token operator">--</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">//头插</span>
		<span class="token keyword">void</span> <span class="token function">push_front</span><span class="token punctuation">(</span><span class="token keyword">const</span> T<span class="token operator">&amp;</span> val <span class="token operator">=</span> <span class="token function">T</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token comment">/*pNode newnode = new Node(val);
			_listhead-&gt;_next-&gt;_prev = newnode;
			newnode-&gt;_next = _listhead-&gt;_next;
			newnode-&gt;_prev = _listhead;
			_listhead-&gt;_next = newnode;*/</span>
			<span class="token function">insert</span><span class="token punctuation">(</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>


		<span class="token comment">//头删</span>
		<span class="token keyword">void</span> <span class="token function">pop_front</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token comment">/*if (_listhead-&gt;_prev != _listhead)
			{
				pNode head = _listhead-&gt;_next-&gt;_next;
				delete _listhead-&gt;_next;
				_listhead-&gt;_next = head;
				head-&gt;_prev = _listhead;
			}*/</span>
			<span class="token function">erase</span><span class="token punctuation">(</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">//任意位置前插入</span>
		iterator <span class="token function">insert</span><span class="token punctuation">(</span>iterator pos<span class="token punctuation">,</span> <span class="token keyword">const</span> T<span class="token operator">&amp;</span> x<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			pNode newnode <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Node</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
			pNode cur <span class="token operator">=</span> pos<span class="token punctuation">.</span>_pnode<span class="token punctuation">;</span>
			
			cur<span class="token operator">-&gt;</span>_prev<span class="token operator">-&gt;</span>_next <span class="token operator">=</span> newnode<span class="token punctuation">;</span>
			newnode<span class="token operator">-&gt;</span>_prev <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_prev<span class="token punctuation">;</span>
			newnode<span class="token operator">-&gt;</span>_next <span class="token operator">=</span> cur<span class="token punctuation">;</span>
			cur<span class="token operator">-&gt;</span>_prev <span class="token operator">=</span> newnode<span class="token punctuation">;</span>
			<span class="token comment">//返回新插入位置的迭代器</span>
			<span class="token keyword">return</span> <span class="token function">iterator</span><span class="token punctuation">(</span>newnode<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">//任意位置删除</span>
		iterator <span class="token function">erase</span><span class="token punctuation">(</span>iterator pos<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>

			<span class="token function">assert</span><span class="token punctuation">(</span>pos <span class="token operator">!=</span> <span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

			Node<span class="token operator">*</span> cur <span class="token operator">=</span> pos<span class="token punctuation">.</span>_pnode<span class="token punctuation">;</span>
			Node<span class="token operator">*</span> prev <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_prev<span class="token punctuation">;</span>
			Node<span class="token operator">*</span> next <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_next<span class="token punctuation">;</span>

			prev<span class="token operator">-&gt;</span>_next <span class="token operator">=</span> next<span class="token punctuation">;</span>
			next<span class="token operator">-&gt;</span>_prev <span class="token operator">=</span> prev<span class="token punctuation">;</span>

			<span class="token keyword">delete</span> cur<span class="token punctuation">;</span>

			<span class="token keyword">return</span> <span class="token function">iterator</span><span class="token punctuation">(</span>next<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

	<span class="token keyword">private</span><span class="token operator">:</span>
		pNode _listhead<span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>

	<span class="token comment">//迭代器测试</span>
	<span class="token keyword">void</span> <span class="token function">test2</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		List<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> lt1<span class="token punctuation">;</span>
		lt1<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		lt1<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		List<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>iterator it <span class="token operator">=</span> lt1<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>it <span class="token operator">!=</span> lt1<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>it <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
			<span class="token operator">++</span>it<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		

	<span class="token punctuation">}</span>

	<span class="token keyword">void</span> <span class="token function">Func</span><span class="token punctuation">(</span><span class="token keyword">const</span> List<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> lt<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token comment">// const iterator const 迭代器不能普通迭代器前面加const修饰</span>
		<span class="token comment">// const 迭代器目标本身可以修改，指向的内容不能修改 类似const T* p </span>
		List<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>const_iterator it <span class="token operator">=</span> lt<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>it <span class="token operator">!=</span> lt<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token comment">// 指向的内容不能修改</span>
			<span class="token comment">//*it += 10;</span>

			cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>it <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>
			<span class="token operator">++</span>it<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">//尾插尾删</span>
	<span class="token keyword">void</span> <span class="token function">test3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		List<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> lt1<span class="token punctuation">;</span>
		lt1<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		lt1<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		lt1<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		lt1<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		lt1<span class="token punctuation">.</span><span class="token function">pop_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		lt1<span class="token punctuation">.</span><span class="token function">pop_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		List<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>iterator it <span class="token operator">=</span> lt1<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>it <span class="token operator">!=</span> lt1<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>it <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
			<span class="token operator">++</span>it<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

	<span class="token punctuation">}</span>

	<span class="token comment">//头插头删</span>
	<span class="token keyword">void</span> <span class="token function">test4</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		List<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> lt1<span class="token punctuation">;</span>
		lt1<span class="token punctuation">.</span><span class="token function">push_front</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		lt1<span class="token punctuation">.</span><span class="token function">push_front</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		lt1<span class="token punctuation">.</span><span class="token function">push_front</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		lt1<span class="token punctuation">.</span><span class="token function">push_front</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		lt1<span class="token punctuation">.</span><span class="token function">pop_front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		lt1<span class="token punctuation">.</span><span class="token function">pop_front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		lt1<span class="token punctuation">.</span><span class="token function">pop_front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>



		List<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>iterator it <span class="token operator">=</span> lt1<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>it <span class="token operator">!=</span> lt1<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>it <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
			<span class="token operator">++</span>it<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

	<span class="token punctuation">}</span>

	<span class="token comment">//任意位置插入删除</span>
	<span class="token keyword">void</span> <span class="token function">test5</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		List<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> lt1<span class="token punctuation">;</span>
		List<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>iterator it <span class="token operator">=</span> lt1<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		lt1<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>it<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		lt1<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>it<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		lt1<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>it<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		it <span class="token operator">=</span> lt1<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		it <span class="token operator">=</span> lt1<span class="token punctuation">.</span><span class="token function">erase</span><span class="token punctuation">(</span>it<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>it <span class="token operator">!=</span> lt1<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>it <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
			<span class="token operator">++</span>it<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

	<span class="token punctuation">}</span>

	<span class="token keyword">struct</span> <span class="token class-name">Pos</span>
	<span class="token punctuation">{<!-- --></span>
	
		<span class="token function">Pos</span><span class="token punctuation">(</span><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">)</span>
			<span class="token operator">:</span><span class="token function">x</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
			<span class="token punctuation">,</span> <span class="token function">y</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
		<span class="token punctuation">}</span>
		<span class="token keyword">int</span> x<span class="token punctuation">;</span>
		<span class="token keyword">int</span> y<span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
	
	<span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		
		List<span class="token operator">&lt;</span>Pos<span class="token operator">&gt;</span> lt<span class="token punctuation">;</span>
		lt<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token function">Pos</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		lt<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token function">Pos</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		lt<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token function">Pos</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		List<span class="token operator">&lt;</span>Pos<span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>iterator it <span class="token operator">=</span> lt<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>it <span class="token operator">!=</span> lt<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			cout <span class="token operator">&lt;&lt;</span> it<span class="token operator">-&gt;</span>x <span class="token operator">&lt;&lt;</span> <span class="token string">":"</span> <span class="token operator">&lt;&lt;</span> it<span class="token operator">-&gt;</span>y <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
			it<span class="token operator">++</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token comment">//构造函数测试代码</span>
	<span class="token keyword">void</span> <span class="token function">test6</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token comment">//默认构造</span>
		List<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> lt1<span class="token punctuation">;</span>
		lt1<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		lt1<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		lt1<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		lt1<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		List<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>iterator it <span class="token operator">=</span> lt1<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>it <span class="token operator">!=</span> lt1<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>it <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>
			<span class="token operator">++</span>it<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

		<span class="token comment">//拷贝构造</span>
		List<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">lt2</span><span class="token punctuation">(</span>lt1<span class="token punctuation">)</span><span class="token punctuation">;</span>
		it <span class="token operator">=</span> lt2<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>it <span class="token operator">!=</span> lt2<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>it <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>
			<span class="token operator">++</span>it<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>


		<span class="token comment">//initializer_list</span>
		List<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> lt3 <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span> <span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
		it <span class="token operator">=</span> lt3<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>it <span class="token operator">!=</span> lt3<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>it <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>
			<span class="token operator">++</span>it<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

	<span class="token punctuation">}</span>

	<span class="token comment">//赋值运算符重载测试代码</span>
	<span class="token keyword">void</span> <span class="token function">test7</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token comment">//默认构造</span>
		List<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> lt1<span class="token punctuation">;</span>
		lt1<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		lt1<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		lt1<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		lt1<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		List<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>iterator it <span class="token operator">=</span> lt1<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>it <span class="token operator">!=</span> lt1<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>it <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>
			<span class="token operator">++</span>it<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

		<span class="token comment">//赋值运算符重载</span>
		List<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> lt2 <span class="token operator">=</span> lt1<span class="token punctuation">;</span>

		it <span class="token operator">=</span> lt2<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>it <span class="token operator">!=</span> lt2<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>it <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>
			<span class="token operator">++</span>it<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre> 
<h3><a id="22List_552"></a>2.2List框架</h3> 
<h4><a id="ListNode_553"></a>✨ListNode节点</h4> 
<p>该类用来封装一个一个的节点，包括两个指针，一个指针指向前一个节点，另一个指向后一个节点，和一个存放数据的类型：</p> 
<pre><code class="prism language-cpp"><span class="token comment">//1.list节点</span>
<span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
<span class="token keyword">struct</span> <span class="token class-name">ListNode</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">//默认构造</span>
	<span class="token keyword">struct</span> <span class="token class-name">ListNode</span><span class="token punctuation">(</span><span class="token keyword">const</span> T<span class="token operator">&amp;</span> val <span class="token operator">=</span> <span class="token function">T</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token operator">:</span><span class="token function">_node</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span>
		<span class="token punctuation">,</span><span class="token function">_prev</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
		<span class="token punctuation">,</span><span class="token function">_next</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>

	<span class="token punctuation">}</span>
	
	<span class="token comment">//成员函数</span>
	T _node<span class="token punctuation">;</span>
	ListNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> _prev<span class="token punctuation">;</span>
	ListNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> _next<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<blockquote> 
 <p>ListNode类中还定义了构造函数，用来初始化数据</p> 
</blockquote> 
<blockquote> 
 <p>因为struct表明这个类里面的成员函数和成员变量都是公有的，所以直接使用struct就行</p> 
</blockquote> 
<h4><a id="List_579"></a>✨List类</h4> 
<p>该类包括一个成员变量，是指向第一个节点类的指针，也就是指向哨兵位头节点的指针</p> 
<pre><code class="prism language-cpp"><span class="token comment">//2.list类</span>
<span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
<span class="token keyword">class</span> <span class="token class-name">List</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">ListNode</span><span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> Node<span class="token punctuation">;</span>
	<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">ListNode</span><span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> pNode<span class="token punctuation">;</span>
<span class="token keyword">private</span><span class="token operator">:</span>
	pNode _listhead<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<h3><a id="23_593"></a>2.3尾插尾删</h3> 
<pre><code class="prism language-cpp"><span class="token comment">//尾插</span>
<span class="token keyword">void</span> <span class="token function">push_back</span><span class="token punctuation">(</span><span class="token keyword">const</span> T<span class="token operator">&amp;</span> val <span class="token operator">=</span> <span class="token function">T</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	pNode newnode <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Node</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//开辟新节点，并用val初始化</span>
	newnode<span class="token operator">-&gt;</span>_prev <span class="token operator">=</span> _listhead<span class="token operator">-&gt;</span>_prev<span class="token punctuation">;</span>
	_listhead<span class="token operator">-&gt;</span>_prev<span class="token operator">-&gt;</span>_next <span class="token operator">=</span> newnode<span class="token punctuation">;</span>
	newnode<span class="token operator">-&gt;</span>_next <span class="token operator">=</span> _listhead<span class="token punctuation">;</span>
	_listhead<span class="token operator">-&gt;</span>_prev <span class="token operator">=</span> newnode<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>如下图所示：<br> <img src="https://images2.imgbox.com/4b/ca/qYK4Yv4D_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>尾插节点，需要将新节点的前一个指针指向最后一个节点也就是<code> _listhead-&gt;_prev</code>，将最后一个节点的下一个指针指向新节点，新节点的下一个指针指向哨兵位头节点，还需要将哨兵位头节点前一个指针指向新节点</p> 
</blockquote> 
<blockquote> 
 <p>因为前面的节点ListNode类中创建了构造函数，所以可以用val来初始化数据</p> 
</blockquote> 
<pre><code class="prism language-cpp"><span class="token comment">//尾删</span>
<span class="token keyword">void</span> <span class="token function">pop_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>_listhead<span class="token operator">-&gt;</span>_prev <span class="token operator">!=</span> _listhead<span class="token punctuation">)</span><span class="token comment">//如果有节点</span>
	<span class="token punctuation">{<!-- --></span>
		pNode tail <span class="token operator">=</span> _listhead<span class="token operator">-&gt;</span>_prev<span class="token operator">-&gt;</span>_prev<span class="token punctuation">;</span>
		<span class="token keyword">delete</span> _listhead<span class="token operator">-&gt;</span>_prev<span class="token punctuation">;</span>
		_listhead<span class="token operator">-&gt;</span>_prev <span class="token operator">=</span> tail<span class="token punctuation">;</span>
		tail<span class="token operator">-&gt;</span>_next <span class="token operator">=</span> _listhead<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/2a/59/BMTx4yFB_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>对于尾删我们需要将倒数第二个节点的下一个指针指向哨兵位头节点以及将哨兵位头节点的下一个指向倒数第二个节点，并且释放掉最后一个节点</p> 
</blockquote> 
<h3><a id="24_630"></a>2.4迭代器封装</h3> 
<p>与vector的迭代器直接使用数据指针<code>T*</code>不同，list迭代器如果直接使用指针，由于物理空间位置不连续，是无法使用++，以及！=判断的，所以要将其封装在一个类中，并对其需要使用的运算符进行重载：</p> 
<pre><code class="prism language-cpp">
	<span class="token comment">//普通迭代器</span>
	<span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
	<span class="token keyword">struct</span> <span class="token class-name">List_Iterator</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">ListNode</span><span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> Node<span class="token punctuation">;</span>
		<span class="token keyword">typedef</span> List_Iterator<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> self<span class="token punctuation">;</span>
		Node<span class="token operator">*</span> _pnode<span class="token punctuation">;</span>

		<span class="token comment">//构造函数</span>
		<span class="token function">List_Iterator</span><span class="token punctuation">(</span>Node<span class="token operator">*</span> node<span class="token punctuation">)</span>
			<span class="token operator">:</span><span class="token function">_pnode</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>

		<span class="token punctuation">}</span>
		T<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">const</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _pnode<span class="token operator">-&gt;</span>_node<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		T<span class="token operator">*</span> <span class="token keyword">operator</span><span class="token operator">-&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> <span class="token operator">&amp;</span>_pnode<span class="token operator">-&gt;</span>_node<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token comment">//前置++</span>
		self<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">++</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			_pnode <span class="token operator">=</span>  _pnode<span class="token operator">-&gt;</span>_next<span class="token punctuation">;</span>
			<span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">//后置++</span>
		self<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">++</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token comment">//提供一个参数区分</span>
		<span class="token punctuation">{<!-- --></span>
			self <span class="token function">tmp</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			_pnode <span class="token operator">=</span> _pnode<span class="token operator">-&gt;</span>_next<span class="token punctuation">;</span>
			<span class="token keyword">return</span> tmp<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">//前置--</span>
		self<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">--</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			_pnode <span class="token operator">=</span> _pnode<span class="token operator">-&gt;</span>_prev<span class="token punctuation">;</span>
			<span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">//后置--</span>
		self<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">--</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			self <span class="token function">tmp</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			_pnode <span class="token operator">=</span> _pnode<span class="token operator">-&gt;</span>_prev<span class="token punctuation">;</span>
			<span class="token keyword">return</span> tmp<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token operator">!=</span><span class="token punctuation">(</span><span class="token keyword">const</span> self<span class="token operator">&amp;</span> pnode<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> <span class="token operator">!</span><span class="token punctuation">(</span>_pnode <span class="token operator">==</span> pnode<span class="token punctuation">.</span>_pnode<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token operator">==</span><span class="token punctuation">(</span><span class="token keyword">const</span> self<span class="token operator">&amp;</span> pnode<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _pnode <span class="token operator">==</span> pnode<span class="token punctuation">.</span>_pnode<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

	<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<blockquote> 
 <p>因为struct表明这个类里面的成员函数和成员变量都是公有的，所以直接使用struct就行</p> 
</blockquote> 
<p>注意这里<code>operator-&gt;</code>返回的是节点里面数据的指针<code>T*</code>，在使用时写一个-&gt;即可，为了可读性省略了一个箭头，例如对于下面的类：</p> 
<pre><code class="prism language-cpp"><span class="token keyword">struct</span> <span class="token class-name">Pos</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">Pos</span><span class="token punctuation">(</span><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">)</span>
		<span class="token operator">:</span><span class="token function">x</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
		<span class="token punctuation">,</span> <span class="token function">y</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
	<span class="token punctuation">}</span>
	<span class="token keyword">int</span> x<span class="token punctuation">;</span>
	<span class="token keyword">int</span> y<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<p>我们将其存入list中：</p> 
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	
	List<span class="token operator">&lt;</span>Pos<span class="token operator">&gt;</span> lt<span class="token punctuation">;</span>
	lt<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token function">Pos</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	lt<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token function">Pos</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	lt<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token function">Pos</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	List<span class="token operator">&lt;</span>Pos<span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>iterator it <span class="token operator">=</span> lt<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>it <span class="token operator">!=</span> lt<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		cout <span class="token operator">&lt;&lt;</span> it<span class="token operator">-&gt;</span>x <span class="token operator">&lt;&lt;</span> <span class="token string">":"</span> <span class="token operator">&lt;&lt;</span> it<span class="token operator">-&gt;</span>y <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
		it<span class="token operator">++</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>就可以通过重载的-&gt;来获取数据的指针并通过指针访问其中包含的数据，这里本来应该写两个-&gt;，但是为了可读性省略了一个</p> 
<p>结果如下：<br> <img src="https://images2.imgbox.com/7f/5f/XWc44T1d_o.png" alt="在这里插入图片描述"></p> 
<p>使用迭代器时，在list类中<code>typedef</code>成我们平常使用的样子<code>iterator</code>便于统一使用，比较规范</p> 
<pre><code class="prism language-cpp"><span class="token comment">//3.list类</span>
<span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
<span class="token keyword">class</span> <span class="token class-name">List</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">ListNode</span><span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> Node<span class="token punctuation">;</span>
	<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">ListNode</span><span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> pNode<span class="token punctuation">;</span>

	<span class="token comment">//迭代器</span>
	<span class="token keyword">typedef</span> List_Iterator<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> iterator<span class="token punctuation">;</span>
	iterator <span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token function">iterator</span><span class="token punctuation">(</span>_listhead<span class="token operator">-&gt;</span>_next<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	iterator <span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token function">iterator</span><span class="token punctuation">(</span>_listhead<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token keyword">private</span><span class="token operator">:</span>
	pNode _listhead<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<blockquote> 
 <p>在return时就可以将节点指针拷贝构造成迭代器返回了</p> 
</blockquote> 
<p>有了迭代器我们就可以遍历打印list里面的数据啦🥳🥳</p> 
<h4><a id="_772"></a>✨尾插尾删测试代码</h4> 
<pre><code class="prism language-cpp"><span class="token comment">//尾插尾删</span>
<span class="token keyword">void</span> <span class="token function">test3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	List<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> lt1<span class="token punctuation">;</span>
	lt1<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	lt1<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	lt1<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	lt1<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	lt1<span class="token punctuation">.</span><span class="token function">pop_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	lt1<span class="token punctuation">.</span><span class="token function">pop_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	<span class="token comment">//迭代器遍历</span>
	List<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>iterator it <span class="token operator">=</span> lt1<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>it <span class="token operator">!=</span> lt1<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>it <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
		<span class="token operator">++</span>it<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> 
<p>结果如下：<br> <img src="https://images2.imgbox.com/9c/ae/KMV5OXJ4_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="const_798"></a>✨const迭代器</h4> 
<p>对于const迭代器来说其数据是可以被访问但是不能修改，当然迭代器自身++，–是可以的，所以我们不能简单的直接在迭代器前面+const，在数据前面+const也不行，因为list中的数据不一定是const类型，所以要重新封装一个const迭代器</p> 
<pre><code class="prism language-cpp"><span class="token comment">//const迭代器</span>
<span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
<span class="token keyword">struct</span> <span class="token class-name">Const_List_Iterator</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">ListNode</span><span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> Node<span class="token punctuation">;</span>
	<span class="token keyword">typedef</span> Const_List_Iterator<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> self<span class="token punctuation">;</span>
	Node<span class="token operator">*</span> _pnode<span class="token punctuation">;</span>

	<span class="token comment">//构造函数</span>
	<span class="token function">Const_List_Iterator</span><span class="token punctuation">(</span>Node<span class="token operator">*</span> node<span class="token punctuation">)</span>
		<span class="token operator">:</span><span class="token function">_pnode</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>

	<span class="token punctuation">}</span>
	<span class="token keyword">const</span> T<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">const</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> _pnode<span class="token operator">-&gt;</span>_node<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">const</span> T<span class="token operator">*</span> <span class="token keyword">operator</span><span class="token operator">-&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">const</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token operator">&amp;</span>_pnode<span class="token operator">-&gt;</span>node<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//前置++</span>
	self<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">++</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		_pnode <span class="token operator">=</span> _pnode<span class="token operator">-&gt;</span>_next<span class="token punctuation">;</span>
		<span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">//后置++</span>
	self<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">++</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		self <span class="token function">tmp</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		_pnode <span class="token operator">=</span> _pnode<span class="token operator">-&gt;</span>_next<span class="token punctuation">;</span>
		<span class="token keyword">return</span> tmp<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">//前置--</span>
	self<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">--</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		_pnode <span class="token operator">=</span> _pnode<span class="token operator">-&gt;</span>_prev<span class="token punctuation">;</span>
		<span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">//后置--</span>
	self<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">--</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		self <span class="token function">tmp</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		_pnode <span class="token operator">=</span> _pnode<span class="token operator">-&gt;</span>_prev<span class="token punctuation">;</span>
		<span class="token keyword">return</span> tmp<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token operator">!=</span><span class="token punctuation">(</span><span class="token keyword">const</span> self<span class="token operator">&amp;</span> pnode<span class="token punctuation">)</span><span class="token keyword">const</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token operator">!</span><span class="token punctuation">(</span>_pnode <span class="token operator">==</span> pnode<span class="token punctuation">.</span>_pnode<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token operator">==</span><span class="token punctuation">(</span><span class="token keyword">const</span> self<span class="token operator">&amp;</span> pnode<span class="token punctuation">)</span><span class="token keyword">const</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> _pnode <span class="token operator">==</span> pnode<span class="token punctuation">.</span>_pnode<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<p>如下图所示const迭代器的数据不能被修改：</p> 
<p><img src="https://images2.imgbox.com/c2/be/FW56BrJw_o.png" alt="在这里插入图片描述"></p> 
<p>我们发现能够修改数据的只有这两个函数：</p> 
<pre><code class="prism language-cpp"><span class="token keyword">const</span> T<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">const</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> _pnode<span class="token operator">-&gt;</span>_node<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">const</span> T<span class="token operator">*</span> <span class="token keyword">operator</span><span class="token operator">-&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">const</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token operator">&amp;</span>_pnode<span class="token operator">-&gt;</span>node<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
</code></pre> 
<p>所以我们在返回值前面+const修饰其不能被修改即可，因为是const对象使用，所以后面也要+const修饰this</p> 
<blockquote> 
 <p>我们发现普通对象的迭代器和const对象使用的迭代器差异非常小，很多代码都是重复的，所以我们可以考虑使用模板来简化代码，代码如下：</p> 
</blockquote> 
<pre><code class="prism language-cpp"><span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token punctuation">,</span><span class="token keyword">class</span> <span class="token class-name">Ref</span><span class="token punctuation">,</span><span class="token keyword">class</span> <span class="token class-name">Ptr</span><span class="token operator">&gt;</span>
<span class="token keyword">struct</span> <span class="token class-name">List_Iterator</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">ListNode</span><span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> Node<span class="token punctuation">;</span>
	<span class="token keyword">typedef</span> List_Iterator<span class="token operator">&lt;</span>T<span class="token punctuation">,</span>Ref<span class="token punctuation">,</span>Ptr<span class="token operator">&gt;</span> self<span class="token punctuation">;</span>
	Node<span class="token operator">*</span> _pnode<span class="token punctuation">;</span>

	<span class="token comment">//构造函数</span>
	<span class="token function">List_Iterator</span><span class="token punctuation">(</span>Node<span class="token operator">*</span> node<span class="token punctuation">)</span>
		<span class="token operator">:</span><span class="token function">_pnode</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>

	<span class="token punctuation">}</span>
	Ref <span class="token keyword">operator</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">const</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> _pnode<span class="token operator">-&gt;</span>_node<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	Ptr <span class="token keyword">operator</span><span class="token operator">-&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token operator">&amp;</span>_pnode<span class="token operator">-&gt;</span>_node<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//前置++</span>
	self<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">++</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		_pnode <span class="token operator">=</span>  _pnode<span class="token operator">-&gt;</span>_next<span class="token punctuation">;</span>
		<span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">//后置++</span>
	self<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">++</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		self <span class="token function">tmp</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		_pnode <span class="token operator">=</span> _pnode<span class="token operator">-&gt;</span>_next<span class="token punctuation">;</span>
		<span class="token keyword">return</span> tmp<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">//前置--</span>
	self<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">--</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		_pnode <span class="token operator">=</span> _pnode<span class="token operator">-&gt;</span>_prev<span class="token punctuation">;</span>
		<span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">//后置--</span>
	self<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">--</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		self <span class="token function">tmp</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		_pnode <span class="token operator">=</span> _pnode<span class="token operator">-&gt;</span>_prev<span class="token punctuation">;</span>
		<span class="token keyword">return</span> tmp<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token operator">!=</span><span class="token punctuation">(</span><span class="token keyword">const</span> self<span class="token operator">&amp;</span> pnode<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token operator">!</span><span class="token punctuation">(</span>_pnode <span class="token operator">==</span> pnode<span class="token punctuation">.</span>_pnode<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token operator">==</span><span class="token punctuation">(</span><span class="token keyword">const</span> self<span class="token operator">&amp;</span> pnode<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> _pnode <span class="token operator">==</span> pnode<span class="token punctuation">.</span>_pnode<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre> 
<blockquote> 
 <p>因为仅仅有两个函数返回值不一样，所以我们考虑多传两个模板参数，以减少代码的数量，简化代码</p> 
</blockquote> 
<pre><code class="prism language-cpp"><span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
<span class="token keyword">class</span> <span class="token class-name">List</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">ListNode</span><span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> Node<span class="token punctuation">;</span>
	<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">ListNode</span><span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> pNode<span class="token punctuation">;</span>

	<span class="token comment">//迭代器</span>
	<span class="token keyword">typedef</span> List_Iterator<span class="token operator">&lt;</span>T<span class="token punctuation">,</span>T<span class="token operator">&amp;</span><span class="token punctuation">,</span>T<span class="token operator">*</span><span class="token operator">&gt;</span> iterator<span class="token punctuation">;</span>
	<span class="token comment">//const 迭代器，数据不可被修改，但可++,判断是否相等</span>
	<span class="token keyword">typedef</span> List_Iterator<span class="token operator">&lt;</span>T<span class="token punctuation">,</span><span class="token keyword">const</span> T<span class="token operator">&amp;</span><span class="token punctuation">,</span><span class="token keyword">const</span> T<span class="token operator">*</span><span class="token operator">&gt;</span> const_iterator<span class="token punctuation">;</span>

	

	iterator <span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token function">iterator</span><span class="token punctuation">(</span>_listhead<span class="token operator">-&gt;</span>_next<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	iterator <span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token function">iterator</span><span class="token punctuation">(</span>_listhead<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	const_iterator <span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">const</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token function">const_iterator</span><span class="token punctuation">(</span>_listhead<span class="token operator">-&gt;</span>_next<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	const_iterator <span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token function">const_iterator</span><span class="token punctuation">(</span>_listhead<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
<span class="token keyword">private</span><span class="token operator">:</span>
	pNode _listhead<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
		
</code></pre> 
<h3><a id="25_996"></a>2.5头插头删</h3> 
<pre><code class="prism language-cpp"><span class="token comment">//头插</span>
<span class="token keyword">void</span> <span class="token function">push_front</span><span class="token punctuation">(</span><span class="token keyword">const</span> T<span class="token operator">&amp;</span> val <span class="token operator">=</span> <span class="token function">T</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	pNode newnode <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Node</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>
	_listhead<span class="token operator">-&gt;</span>_next<span class="token operator">-&gt;</span>_prev <span class="token operator">=</span> newnode<span class="token punctuation">;</span>
	newnode<span class="token operator">-&gt;</span>_next <span class="token operator">=</span> _listhead<span class="token operator">-&gt;</span>_next<span class="token punctuation">;</span>
	newnode<span class="token operator">-&gt;</span>_prev <span class="token operator">=</span> _listhead<span class="token punctuation">;</span>
	_listhead<span class="token operator">-&gt;</span>_next <span class="token operator">=</span> newnode<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> 
<pre><code class="prism language-cpp"><span class="token comment">//头删</span>
<span class="token keyword">void</span> <span class="token function">pop_front</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>_listhead<span class="token operator">-&gt;</span>_prev <span class="token operator">!=</span> _listhead<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		pNode head <span class="token operator">=</span> _listhead<span class="token operator">-&gt;</span>_next<span class="token operator">-&gt;</span>_next<span class="token punctuation">;</span>
		<span class="token keyword">delete</span> _listhead<span class="token operator">-&gt;</span>_next<span class="token punctuation">;</span>
		_listhead<span class="token operator">-&gt;</span>_next <span class="token operator">=</span> head<span class="token punctuation">;</span>
		head<span class="token operator">-&gt;</span>_prev <span class="token operator">=</span> _listhead<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<h4><a id="_1024"></a>✨头插头删测试代码</h4> 
<pre><code class="prism language-cpp"><span class="token comment">//头插头删</span>
<span class="token keyword">void</span> <span class="token function">test4</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	List<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> lt1<span class="token punctuation">;</span>
	lt1<span class="token punctuation">.</span><span class="token function">push_front</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	lt1<span class="token punctuation">.</span><span class="token function">push_front</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	lt1<span class="token punctuation">.</span><span class="token function">push_front</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	lt1<span class="token punctuation">.</span><span class="token function">push_front</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	lt1<span class="token punctuation">.</span><span class="token function">pop_front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	lt1<span class="token punctuation">.</span><span class="token function">pop_front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	lt1<span class="token punctuation">.</span><span class="token function">pop_front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>



	List<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>iterator it <span class="token operator">=</span> lt1<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>it <span class="token operator">!=</span> lt1<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>it <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
		<span class="token operator">++</span>it<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> 
<p>结果如下：<br> <img src="https://images2.imgbox.com/22/42/WxFBCcS9_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="26_1053"></a>2.6任意位置插入</h3> 
<pre><code class="prism language-cpp"><span class="token comment">//任意位置前插入</span>
iterator <span class="token function">insert</span><span class="token punctuation">(</span>iterator pos<span class="token punctuation">,</span> <span class="token keyword">const</span> T<span class="token operator">&amp;</span> x<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	pNode newnode <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Node</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//创建新节点，并初始化</span>
	
	pNode cur <span class="token operator">=</span> pos<span class="token punctuation">.</span>_pnode<span class="token punctuation">;</span>	
	cur<span class="token operator">-&gt;</span>_prev<span class="token operator">-&gt;</span>_next <span class="token operator">=</span> newnode<span class="token punctuation">;</span>
	newnode<span class="token operator">-&gt;</span>_prev <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_prev<span class="token punctuation">;</span>
	newnode<span class="token operator">-&gt;</span>_next <span class="token operator">=</span> cur<span class="token punctuation">;</span>
	cur<span class="token operator">-&gt;</span>_prev <span class="token operator">=</span> newnode<span class="token punctuation">;</span>
	<span class="token comment">//返回新插入位置的迭代器</span>
	<span class="token keyword">return</span> <span class="token function">iterator</span><span class="token punctuation">(</span>newnode<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>有了任意位置插入，就可以在头插和尾插这里实现代码复用：</p> 
<pre><code class="prism language-cpp"><span class="token comment">//头插</span>
<span class="token keyword">void</span> <span class="token function">push_front</span><span class="token punctuation">(</span><span class="token keyword">const</span> T<span class="token operator">&amp;</span> val <span class="token operator">=</span> <span class="token function">T</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">insert</span><span class="token punctuation">(</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//尾插</span>
<span class="token keyword">void</span> <span class="token function">push_back</span><span class="token punctuation">(</span><span class="token keyword">const</span> T<span class="token operator">&amp;</span> val <span class="token operator">=</span> <span class="token function">T</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">insert</span><span class="token punctuation">(</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="27_1086"></a>2.7任意位置删除</h3> 
<pre><code class="prism language-cpp"><span class="token comment">//任意位置删除</span>
iterator <span class="token function">erase</span><span class="token punctuation">(</span>iterator pos<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>

	<span class="token function">assert</span><span class="token punctuation">(</span>pos <span class="token operator">!=</span> <span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	Node<span class="token operator">*</span> cur <span class="token operator">=</span> pos<span class="token punctuation">.</span>_pnode<span class="token punctuation">;</span>
	Node<span class="token operator">*</span> prev <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_prev<span class="token punctuation">;</span>
	Node<span class="token operator">*</span> next <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_next<span class="token punctuation">;</span>

	prev<span class="token operator">-&gt;</span>_next <span class="token operator">=</span> next<span class="token punctuation">;</span>
	next<span class="token operator">-&gt;</span>_prev <span class="token operator">=</span> prev<span class="token punctuation">;</span>

	<span class="token keyword">delete</span> cur<span class="token punctuation">;</span>

	<span class="token keyword">return</span> <span class="token function">iterator</span><span class="token punctuation">(</span>next<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<blockquote> 
 <p>注意删除任意位置之后，迭代器会失效，所以可以返回新的迭代器，然后使用时重新赋值，这样才行</p> 
</blockquote> 
<p>有了任意位置删除，就可以在头删和尾删这里实现代码复用：</p> 
<pre><code class="prism language-cpp"><span class="token comment">//尾删</span>
<span class="token keyword">void</span> <span class="token function">pop_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">erase</span><span class="token punctuation">(</span><span class="token operator">--</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

```cpp
<span class="token comment">//头删</span>
<span class="token keyword">void</span> <span class="token function">pop_front</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">erase</span><span class="token punctuation">(</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_1125"></a>✨任意位置插入删除测试代码</h4> 
<pre><code class="prism language-cpp">
	<span class="token comment">//任意位置插入删除</span>
	<span class="token keyword">void</span> <span class="token function">test5</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		List<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> lt1<span class="token punctuation">;</span>
		List<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>iterator it <span class="token operator">=</span> lt1<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		lt1<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>it<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		lt1<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>it<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		lt1<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>it<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		it <span class="token operator">=</span> lt1<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		it <span class="token operator">=</span> lt1<span class="token punctuation">.</span><span class="token function">erase</span><span class="token punctuation">(</span>it<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//更新迭代器</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>it <span class="token operator">!=</span> lt1<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>it <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
			<span class="token operator">++</span>it<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

	<span class="token punctuation">}</span>

</code></pre> 
<p>结果如下：<br> <img src="https://images2.imgbox.com/34/65/vKmyxebO_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>我们看到使用erase之后迭代器会失效，所以我们更新了迭代器</p> 
</blockquote> 
<h3><a id="28_1153"></a>2.8清空数据</h3> 
<p>释放除了哨兵位头节点之外的所有节点，将哨兵位头节点的前后指针都指向自己</p> 
<pre><code class="prism language-cpp">
		<span class="token comment">//清空数据</span>
		<span class="token keyword">void</span> <span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			pNode cur <span class="token operator">=</span> _listhead<span class="token operator">-&gt;</span>_next<span class="token punctuation">;</span>
			pNode del <span class="token operator">=</span> _listhead<span class="token operator">-&gt;</span>_next<span class="token punctuation">;</span>
			<span class="token keyword">while</span> <span class="token punctuation">(</span>cur <span class="token operator">!=</span> _listhead<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				cur <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_next<span class="token punctuation">;</span>
				<span class="token keyword">delete</span> del<span class="token punctuation">;</span>
				del <span class="token operator">=</span> cur<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			_listhead<span class="token operator">-&gt;</span>_next <span class="token operator">=</span> _listhead<span class="token punctuation">;</span>
			_listhead<span class="token operator">-&gt;</span>_prev <span class="token operator">=</span> _listhead<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="29_1173"></a>2.9析构函数</h3> 
<p>直接复用clear函数再释放哨兵位头节点即可</p> 
<pre><code class="prism language-cpp"><span class="token comment">//析构函数</span>
<span class="token operator">~</span><span class="token function">List</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//释放哨兵位头节点</span>
	<span class="token keyword">delete</span> _listhead<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="210_1184"></a>2.10构造函数</h3> 
<p>无论是哪个构造函数，我们都需要一个哨兵位头节点，所以可以单独写一个函数，用来复用</p> 
<pre><code class="prism language-cpp"><span class="token comment">//哨兵位头节点</span>
<span class="token keyword">void</span> <span class="token function">EmptyInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	_listhead <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Node</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	_listhead<span class="token operator">-&gt;</span>_prev <span class="token operator">=</span> _listhead<span class="token punctuation">;</span>
	_listhead<span class="token operator">-&gt;</span>_next <span class="token operator">=</span> _listhead<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_1197"></a>✨默认构造</h4> 
<blockquote> 
 <p>只需一个哨兵位头节点即可</p> 
</blockquote> 
<pre><code class="prism language-cpp">
<span class="token comment">//默认构造</span>
<span class="token function">List</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">EmptyInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_1207"></a>✨拷贝构造</h4> 
<pre><code class="prism language-cpp">
		<span class="token comment">//拷贝构造</span>
		<span class="token function">List</span><span class="token punctuation">(</span>List<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">&amp;</span> lt<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token function">EmptyInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">/</span>哨兵位
			<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span><span class="token operator">&amp;</span> e <span class="token operator">:</span> lt<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token function">push_back</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
</code></pre> 
<blockquote> 
 <p>有了哨兵位节点之后就可以遍历lt尾插实现深拷贝了</p> 
</blockquote> 
<h4><a id="initializer_list_1223"></a>✨initializer_list构造</h4> 
<p>和拷贝构造一样，先需要一个哨兵位头节点然后遍历initializer_list，尾插实现构造</p> 
<pre><code class="prism language-cpp">	<span class="token comment">//initializer_list</span>
	<span class="token function">List</span><span class="token punctuation">(</span>initializer_list<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> il<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">EmptyInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">auto</span><span class="token operator">&amp;</span> e <span class="token operator">:</span> il<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token function">push_back</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

</code></pre> 
<h4><a id="_1239"></a>✨测试代码</h4> 
<pre><code class="prism language-cpp"><span class="token comment">//构造函数测试代码</span>
<span class="token keyword">void</span> <span class="token function">test6</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">//默认构造</span>
	List<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> lt1<span class="token punctuation">;</span>
	lt1<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	lt1<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	lt1<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	lt1<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	List<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>iterator it <span class="token operator">=</span> lt1<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>it <span class="token operator">!=</span> lt1<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>it <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>
		<span class="token operator">++</span>it<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	<span class="token comment">//拷贝构造</span>
	List<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">lt2</span><span class="token punctuation">(</span>lt1<span class="token punctuation">)</span><span class="token punctuation">;</span>
	it <span class="token operator">=</span> lt2<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>it <span class="token operator">!=</span> lt2<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>it <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>
		<span class="token operator">++</span>it<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>


	<span class="token comment">//initializer_list</span>
	List<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> lt3 <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span> <span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
	it <span class="token operator">=</span> lt3<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>it <span class="token operator">!=</span> lt3<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>it <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>
		<span class="token operator">++</span>it<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> 
<p>结果如下：<br> <img src="https://images2.imgbox.com/9f/4c/d9jE2yoM_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="211_1285"></a>2.11赋值运算符重载</h3> 
<p>和vector一样利用形参拷贝，然后交换，利用析构释放之前的list对象，返回交换后的对象</p> 
<pre><code class="prism language-cpp"><span class="token comment">//赋值运算符重载</span>
List<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">=</span><span class="token punctuation">(</span>List<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> lt<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">swap</span><span class="token punctuation">(</span>_listhead<span class="token punctuation">,</span>lt<span class="token punctuation">.</span>_listhead<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_1295"></a>✨赋值运算符重载测试代码</h4> 
<pre><code class="prism language-cpp"><span class="token comment">//赋值运算符重载测试代码</span>
<span class="token keyword">void</span> <span class="token function">test7</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">//默认构造</span>
	List<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> lt1<span class="token punctuation">;</span>
	lt1<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	lt1<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	lt1<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	lt1<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	List<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>iterator it <span class="token operator">=</span> lt1<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>it <span class="token operator">!=</span> lt1<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>it <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>
		<span class="token operator">++</span>it<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	<span class="token comment">//赋值运算符重载</span>
	List<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> lt2 <span class="token operator">=</span> lt1<span class="token punctuation">;</span>

	it <span class="token operator">=</span> lt2<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>it <span class="token operator">!=</span> lt2<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>it <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>
		<span class="token operator">++</span>it<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

<span class="token punctuation">}</span>

</code></pre> 
<p>结果如下：<br> <img src="https://images2.imgbox.com/35/5e/Snn8HgPf_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_1333"></a>三、结语</h2> 
<p>对于list大部分和前面学习过的vector类似，关键点在于理解list的迭代器的封装以及const迭代器，还有list实现包括了三个类，它们分别都有类模板，容易绕晕，需要好好理解清楚，以上就是今天所有的内容啦~ 完结撒花~ 🥳🎉🎉</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/c6bbb84c53bfd4aeb0e74883752041e8/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">在Spring中实现资源的动态加载和卸载</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/1bf551392f13db424b0a191a155fe61f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">数据结构的快速排序（c语言版）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>