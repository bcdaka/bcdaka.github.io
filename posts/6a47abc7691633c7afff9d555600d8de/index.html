<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>关于HarmonyOS的学习 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/6a47abc7691633c7afff9d555600d8de/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="关于HarmonyOS的学习">
  <meta property="og:description" content="day23 一、DOM尺寸和位置 1.只能获取到内联style属性的CSS样式中的宽和高，如果有，获取;如果没有，则返回空 $(&#39;.box1&#39;).style.width $(&#39;.box1&#39;).style.height $&#39;.box1&#39;).style.backgroundColor
2.返回了元素大小，但没有单位，默认单位是px，如果设置了其他的单位，比如100em之类，返回出来的结果还会转换为px像素（不含边框） width &#43; padding值 $(&#39;.box2&#39;).clientWidth $(&#39;.box2&#39;).clientHeight
3.获取左边框和上边框的宽度 $(&#39;.box2&#39;).clientLeft $(&#39;.box2&#39;).clientTop
4.返回了元素大小，默认单位是px。如果没有设置任何CSS的宽和高度，他会得到计算后的宽度和高度, 包含盒模型中除margin以外的宽高（包含边框）最稳定，使用最频繁 $(&#39;.box3&#39;).offsetWidth $(&#39;.box3&#39;).offsetHeight
5.获取滚动内容的元素大小（当元素出现滚动条时，此属性指全部滚动内容的宽高）返回了元素大小，默认单位是px。如果没有设置任何CSS的宽和高度，它会得到计算后的宽度和高度 整个内容的 $(&#39;.box4&#39;).scrollWidth $(&#39;.box4&#39;).scrollHeight
二、offset家族 offsetWidth 获取元素的宽度（width&#43;padding&#43;border） offsetHeight 获取元素的高度（width&#43;padding&#43;border） offsetLeft 获取元素距离容器素左边的距离（需要定位参照） offsetTop 获取元素距离容器素上边的距离（需要定位参照） offsetParent 获取父元素（需要定位参照）
三、鼠标事件 // onclick：当用户单击鼠标按钮或按下回车键时触发 $(&#39;button:nth-child(1)&#39;).onclick = function(){ console.log(&#39;哈哈1&#39;) } ​ // ondblclick：当用户双击主鼠标按钮时触发 - 连续点击两次 $(&#39;button:nth-child(2)&#39;).ondblclick = function(){ console.log(&#39;哈哈2&#39;) } ​ // onmousedown：当用户按下了鼠标还未弹起时触发 - 弹窗测试最明显 // $(&#39;div&#39;).onmousedown = function(){ // console.log(&#39;张涛按下了&#39;) // } ​ // onmouseup：当用户释放鼠标按钮时触发 - 鼠标抬起 // $(&#39;div&#39;).">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-09-06T14:22:33+08:00">
    <meta property="article:modified_time" content="2024-09-06T14:22:33+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">关于HarmonyOS的学习</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>day23</h2> 
<h4>一、DOM尺寸和位置</h4> 
<p>1.只能获取到内联style属性的CSS样式中的宽和高，如果有，获取;如果没有，则返回空 $('.box1').style.width $('.box1').style.height $'.box1').style.backgroundColor</p> 
<p>2.返回了元素大小，但没有单位，默认单位是px，如果设置了其他的单位，比如100em之类，返回出来的结果还会转换为px像素（不含边框） width + padding值 $('.box2').clientWidth $('.box2').clientHeight</p> 
<p>3.获取左边框和上边框的宽度 $('.box2').clientLeft $('.box2').clientTop</p> 
<p>4.返回了元素大小，默认单位是px。如果没有设置任何CSS的宽和高度，他会得到计算后的宽度和高度, 包含盒模型中除margin以外的宽高（包含边框）最稳定，使用最频繁 $('.box3').offsetWidth $('.box3').offsetHeight</p> 
<p>5.获取滚动内容的元素大小（当元素出现滚动条时，此属性指全部滚动内容的宽高）返回了元素大小，默认单位是px。如果没有设置任何CSS的宽和高度，它会得到计算后的宽度和高度 整个内容的 $('.box4').scrollWidth $('.box4').scrollHeight</p> 
<h4>二、offset家族</h4> 
<p>offsetWidth 获取元素的宽度（width+padding+border） offsetHeight 获取元素的高度（width+padding+border） offsetLeft 获取元素距离容器素左边的距离（需要定位参照） offsetTop 获取元素距离容器素上边的距离（需要定位参照） offsetParent 获取父元素（需要定位参照）</p> 
<h4>三、鼠标事件</h4> 
<pre>    // onclick：当用户单击鼠标按钮或按下回车键时触发
    $('button:nth-child(1)').onclick = function(){
        console.log('哈哈1')
    }
​
    // ondblclick：当用户双击主鼠标按钮时触发 - 连续点击两次
    $('button:nth-child(2)').ondblclick = function(){
        console.log('哈哈2')
    }
​
    // onmousedown：当用户按下了鼠标还未弹起时触发 - 弹窗测试最明显
    // $('div').onmousedown = function(){
    //     console.log('张涛按下了')
    // }
​
    // onmouseup：当用户释放鼠标按钮时触发 - 鼠标抬起
    // $('div').onmouseup = function(){
    //     console.log('张涛抬起了')
    // }
​
    var box = $('div')
    // 注意点：onmouseleave要求必须离开事件源标记才能触发
    box.onmouseleave = function(){
        console.log('离开')
    }
​
    // box.onmouseout = function(){
    //     console.log('离开2')
    // }
​
    // onmouseenter 当鼠标指针移动到元素上时触发
    box.onmouseover = function(){
        console.log('移入')
    }
​
    // onmouseover：当鼠标移到某个元素上方时触发  
​
    // onmouseout：当鼠标移出某个元素上方时触发  
​
    // onmousemove：当鼠标指针在元素上移动时触发  </pre> 
<h4>四、getComputedStyle</h4> 
<p>获取各种样式，参数1表示要获取那个元素的样式，参数2表示伪对象，方法后面点上属性 var box = $('div') // console.log(getComputedStyle(box, null).width) // console.log(getComputedStyle(box).height) // console.log(getComputedStyle(box).backgroundColor) // console.log(getComputedStyle(box).left) // console.log(getComputedStyle(box).fontSize)</p> 
<pre>    // console.log(getComputedStyle(box, 'after').width)
​
    function getStyle(ele, attr){
        return getComputedStyle(ele)[attr]
    }
    console.log(getStyle(box, 'width'))</pre> 
<h4>五、html事件</h4> 
<pre>        浏览器的默认行为：
        + 表单提交、a超链接跳转、选中文字的行为、右键菜单等等都属于浏览器的默认行为
        + 阻止浏览器默认行为：
          =&gt; return false 常用（推荐）
          =&gt; e.preventDefault() 除了IE浏览器以外其他浏览器使用的（标准浏览器）
          =&gt; e.returnValue = false IE浏览器使用的，其他的浏览器使用不了</pre> 
<pre>    onselectstart：主要是用于禁止用户选中网页中的文字的默认行为
    onselectstart = function(e){
        // return false（常用）
        // e.preventDefault()
        // e.returnValue = false
    }</pre> 
<pre>    oncontextmenu 事件在元素中用户右击鼠标时触发并打开上下文菜单
    oncontextmenu = function(){
        return false
    }</pre> 
<h4>六、表单事件</h4> 
<pre>    // onselect：当用户选中文本框(input 或 textarea)中的一个或多个字符触发
    // $('input').onselect = function(){
    //     $('span').innerHTML = '选中内容了'
    // }
​
    // onchange：当用户改变文本框(input 或 textarea)内容时且失去焦点后触发
    // $('input').onchange = function(){
    //     $('span').innerHTML = '你已经修改了数据'
    // }
​
    // onfocus：当页面或者元素获得焦点时触发
    // $('input').onfocus = function(){
    //     $('span').innerHTML = '请输入内容'
    // }
​
    // onblur：当页面或元素失去焦点时触发
    // $('input').onblur = function(){
    //     if(this.value.trim() === ''){
    //         $('span').innerHTML = '内容不能为空'
    //         return
    //     }
    //     if(this.value.trim().length &gt;= 6 ){
    //         $('span').innerHTML = '字符长度在1-6位'
    //         return
    //     }
    //     $('span').innerHTML = '输入正确'
    // }
​
    // onsubmit：当用户点击提交按钮在&lt;form&gt;元素上触发  
​
    // oninput 事件在用户输入时触发
    $('input').oninput = function(){
        console.log(this.value)
    }</pre> 
<h4>七、键盘事件</h4> 
<pre>    // onkeydown：当用户按下键盘上任意键触发，如果按住不放，会重复触发  
    // onkeydown = function(){
    //     console.log('键盘按下了')
    // }
​
    // onkeyup：当用户释放键盘上的键触发 - 当按键抬起时触发
    // onkeyup = function(){
    //     console.log('键盘抬起了')
    // }
​
    // onkeypress：当用户按下键盘上的字符键触发，如果按住不放，会重复触发  不能触发 例如：ALT, CTRL, SHIFT, ESC --- 不是字符键
    // onkeypress = function(){
    //     console.log('hello')
    // }
​
    // 使文本框输入不了数字
    onkeydown = function(e){
        // e.keyCode 拿到键盘键对应的ASCII码
        // 数字键范围48 --- 57
        // console.log(e.keyCode)
        if(e.keyCode&gt;=48 &amp;&amp; e.keyCode&lt;=57){
            return false
        }
    }</pre> 
<h4>八、event.html</h4> 
<pre>        event
        + 用来记录一些事件发生时的相关信息的对象，每次事件发生的时候，会在函数或方法内部产生一个事件对象，这个事件对象就是event
        + 事件对象只有事件才有，事件对象里面存储了很多好用的属性，可以帮助咱们完成一些需求
        + 怎么使用事件对象？
          =&gt; 需要在事件的事件处理函数里面传递一个形参，这个形参可以是任意名称，但是一般情况下为了语义化推荐大家使用event、e、ev等等
        + 事件对象属性
          =&gt; e.keyCode 获取键盘键对应的ASCII码
          =&gt; e.clientX 获取鼠标的横坐标（x）
          =&gt; e.clientY 获取鼠标的纵坐标（y）
          =&gt; e.pageX 获取鼠标的横坐标（x）--- 包含浏览器网页向上卷去的位置
          =&gt; e.pageY 获取鼠标的纵坐标（y）--- 包含浏览器网页向上卷去的位置
          =&gt; e.offsetX 获取事件源距离自身左边的距离（横坐标）
          =&gt; e.offsetY 获取事件源距离自身上边的距离（纵坐标）
        + 兼容写法
          =&gt; var e = e || window.event (IE)</pre> 
<p>如果形参没有传递进去，想要使用必须写完整，使用event</p> 
<h4>九、拖拽</h4> 
<pre>    var son = $('.son')
​
    // 当鼠标按下的时候进行拖拽 onmousedown
    son.onmousedown = function(e){
        // 获取鼠标坐标，需要绑定移动事件，因为移动事件可以连续获取 onmousemove
        /*
            问题1
            + 当进行元素移动的时候，移动的不是那么丝滑，动不动会出现卡顿的情况
            + 原因
              =&gt; 移动事件是绑定给son元素的，只有鼠标在son元素里面才能获取鼠标坐标，才能进行赋值操作
              =&gt; 当鼠标移动的快的时候，很容易鼠标移出son元素的范围，移出了范围当然获取不到鼠标坐标，元素在移动的过程中肯定不丝滑
            + 解决方案
              =&gt; 可以把移动事件绑定给其他的元素，这样可以扩大移动的范围
            问题2
            + 当鼠标无论在son元素的任意位置按下时，最终移动的时候都会光标跑到左上位置
            + 原因
              =&gt; 当你鼠标按下的时候，获取鼠标坐标，赋值的时候元素默认都是从0的位置开始移动的，其实光标的位置没有改变，只是元素从左上位置变成赋值后的位置了，
              看起来鼠标的坐标变化了
            + 解决方案
              =&gt; 当鼠标按下的时候，先获取到当前鼠标在事件源中的位置
              =&gt; 当元素进行移动的时候，从鼠标坐标上减去对应的offsetX和offsetY的值即可
        */
        // son.onmousemove = function(e){
        //     var x = e.pageX
        //     var y = e.pageY
        //     son.style.left = x + 'px'
        //     son.style.top = y + 'px'
        // }
        var l = e.offsetX
        var t = e.offsetY
       
        document.onmousemove = function(e){
            var x = e.pageX - l
            var y = e.pageY - t
            son.style.left = x + 'px'
            son.style.top = y + 'px'
        }
    }
    // 当鼠标抬起的时候清除移动事件
    document.onmouseup = function(){
        document.onmousemove = null
    }</pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/339c261b12f00cabe7f8c00d23385688/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【数据结构】——堆排序以及向上、向下调整算法的时间复杂度推导及实现（超详细）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6b24f7b998fb14f35a1994b908927f38/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">TRIZ在充电桩安全中的应用探究</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>