<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Tensorflow-gpu安装教程（详细）！！！ - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/8a49476f61e90175cc87dcdc11633163/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="Tensorflow-gpu安装教程（详细）！！！">
  <meta property="og:description" content="关于tensorflow： TensorFlow™是一个基于数据流编程(dataflow programming)的符号数学系统，被广泛应用于各类机器学习(machine learning)算法的编程实现，其前身是谷歌的神经网络算法库DistBelief 。
Tensorflow拥有多层级结构，可部署于各类服务器、PC终端和网页并支持GPU和TPU高性能数值计算，被广泛应用于谷歌内部的产品开发和各领域的科学研究 。
TensorFlow由谷歌人工智能团队谷歌大脑(Google Brain)开发和维护，拥有包括TensorFlow Hub、TensorFlow Lite、TensorFlow Research Cloud在内的多个项目以及各类应用程序接口(Application Programming Interface, API) 。自2015年11月9日起，TensorFlow依据阿帕奇授权协议(Apache 2.0 open source license)开放源代码 。源自百度。
并且TensorFlow有适应于各种操作系统的版本，并且对于各种编程语言都有对应的版本，这里我们主要是介绍怎么样在python环境下安装tensorflow。
而在安装之前呢，我们需要进行一些准备工作，这里我们主要是针对TensorFlow-gpu版本的安装，首先我们要安装一个Anaconda。关于它，我们这里就不细说了，你可以理解为一个方便管理python环境和各种包的一个工具，有了它之后，我们就可以更加方便地创建，删除，管理python的环境，各种python版本和库版本之间的对应和适配关系，有时候会让我们十分难以管理，而Anaconda可以很好地帮我们分忧！（建议下载，即使不安装TensorFlow）详情：Anaconda
1.查看自己电脑是否支持使用GPU (win11)打开设置—&gt;系统—&gt;系统保护—&gt;硬件—&gt;设备管理器—&gt;显示适配器
可以看到点击出现了NVIDIA GeForce ——，即你的电脑显卡型号。如果有出现，那就表示可以使用TensorFlow-gpu版本，如果没有的就只能老老实实安装CPU版咯。可以去NIVIDIA官网查询一下自己电脑显卡的算力，建议算力&gt;=3.5安装。
2.安装Anaconda 可以去Anaconda官网去下载，根据自己电脑的操作系统32位或者64位选择合适的版本，但是官网下载速度很慢，大家可以去清华镜像源下载，那样就快很多了，这个应该不用解释了。
下载合适的版本即可。
下载好安装包之后，双击安装，因为之前我已经安装过了，所以借用下别人的图：
一路Next就行。
用户选择所有
选择存储位置
第一个建议勾选上，打钩之后会自动给你添加到环境变量，如果没打后期也可以自己手动添加，第二个根据自己情况选择吧，没什么太大影响。
这个会给你安装一些配套的软件，直接跳过就行。
OK安装完毕我们来测试一下：
win&#43;r输入cmd打开终端，输入代码
conda --version 查看当前下载的Anaconda版本：
博主的不是最新版的，有需要的大家可以自行更新版本。但其实能用就行了。
添加镜像源：
再一次进行cmd：输入
conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/ conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/ conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge/ ok，到这里我们的准备工作就做完了。下面开始正式安装TensorFlow-gpu了。
2.1.用conda创建虚拟环境 进入cmd输入
conda create --name tensorflow-gpu python==3.6 创建一个名为tensorflow-gpu的python的虚拟环境，并配备一个版本为3.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2023-01-04T19:43:50+08:00">
    <meta property="article:modified_time" content="2023-01-04T19:43:50+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Tensorflow-gpu安装教程（详细）！！！</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h4><strong>关于tensorflow：</strong></h4> 
<p><span style="color:#0d0016;">TensorFlow™是一个基于<a href="https://baike.so.com/doc/28360299-29785316.html" rel="nofollow" title="数据流编程">数据流编程</a>(dataflow programming)的符号数学系统，被广泛应用于各类<a href="https://baike.so.com/doc/3290018-3465759.html" rel="nofollow" title="机器学习">机器学习</a>(machine learning)算法的编程实现，其前身是谷歌的神经网络算法库DistBelief 。</span></p> 
<p><span style="color:#0d0016;">Tensorflow拥有多层级结构，可部署于各类<a href="https://baike.so.com/doc/4487696-4696885.html" rel="nofollow" title="服务器">服务器</a>、PC终端和<a href="https://baike.so.com/doc/3683001-3870808.html" rel="nofollow" title="网页">网页</a>并支持GPU和<a href="https://baike.so.com/doc/1006514-27129121.html" rel="nofollow" title="TPU">TPU</a>高性能<a href="https://baike.so.com/doc/6128915-6342075.html" rel="nofollow" title="数值计算">数值计算</a>，被广泛应用于谷歌内部的产品开发和各领域的科学研究 。</span></p> 
<p><span style="color:#0d0016;">TensorFlow由谷歌<a href="https://baike.so.com/doc/2952526-3114987.html" rel="nofollow" title="人工智能">人工智能</a>团队<a href="https://baike.so.com/doc/5693675-5906379.html" rel="nofollow" title="谷歌大脑">谷歌大脑</a>(Google Brain)开发和维护，拥有包括TensorFlow Hub、TensorFlow Lite、TensorFlow Research Cloud在内的多个项目以及各类<a href="https://baike.so.com/doc/986220-1042535.html" rel="nofollow" title="应用程序接口">应用程序接口</a>(Application Programming Interface, API) 。自2015年11月9日起，TensorFlow依据<a href="https://baike.so.com/doc/9231575-9564903.html" rel="nofollow" title="阿帕奇授权协议">阿帕奇授权协议</a>(Apache 2.0 open source license)<a href="https://baike.so.com/doc/6270840-6484264.html" rel="nofollow" title="开放源代码">开放源代码</a> 。源自百度。</span></p> 
<p><span style="color:#0d0016;">并且TensorFlow有适应于各种操作系统的版本，并且对于各种编程语言都有对应的版本，这里我们主要是介绍怎么样在python环境下安装tensorflow。</span></p> 
<p><span style="color:#0d0016;">而在安装之前呢，我们需要进行一些准备工作，</span>这里我们主要是针对TensorFlow-gpu版本的安装，首先我们要安装一个Anaconda。关于它，我们这里就不细说了，你可以理解为一个方便管理python环境和各种包的一个工具，有了它之后，我们就可以更加方便地创建，删除，管理python的环境，各种python版本和库版本之间的对应和适配关系，有时候会让我们十分难以管理，而Anaconda可以很好地帮我们分忧！（建议下载，即使不安装TensorFlow）详情：<a class="link-info" href="https://blog.csdn.net/weixin_56197703/article/details/124630222?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522167264885116800211510573%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=167264885116800211510573&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-5-124630222-null-null.142%5Ev68%5Epc_new_rank,201%5Ev4%5Eadd_ask,213%5Ev2%5Et3_esquery_v3&amp;utm_term=Anaconda&amp;spm=1018.2226.3001.4187" title="Anaconda">Anaconda</a></p> 
<h2>1.查看自己电脑是否支持使用GPU</h2> 
<p>(win11)打开设置—&gt;系统—&gt;系统保护—&gt;硬件—&gt;设备管理器—&gt;显示适配器</p> 
<p><img alt="" height="588" src="https://images2.imgbox.com/1c/0e/nXe3PdkN_o.png" width="1200"></p> 
<p></p> 
<p class="img-center"><img alt="" height="529" src="https://images2.imgbox.com/d9/31/AGNTONiR_o.png" width="447"></p> 
<hr> 
<p></p> 
<p class="img-center"><img alt="" height="428" src="https://images2.imgbox.com/9f/fc/bksOnQef_o.png" width="600"></p> 
<p> 可以看到点击出现了NVIDIA GeForce ——，即你的电脑显卡型号。如果有出现，那就表示可以使用TensorFlow-gpu版本，如果没有的就只能老老实实安装CPU版咯。可以去NIVIDIA官网<a class="link-info" href="https://developer.nvidia.com/cuda-gpus" rel="nofollow" title="查询一下自己电脑显卡的算力">查询一下自己电脑显卡的算力</a>，建议算力&gt;=3.5安装。</p> 
<h2>2.安装Anaconda</h2> 
<p>可以去<a class="link-info" href="https://www.anaconda.com/distribution/#macos" rel="nofollow" title="Anaconda官网">Anaconda官网</a>去下载，根据自己电脑的操作系统32位或者64位选择合适的版本，但是官网下载速度很慢，大家可以去<a class="link-info" href="https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/" rel="nofollow" title="清华镜像源">清华镜像源</a>下载，那样就快很多了，这个应该不用解释了。</p> 
<p class="img-center"><img alt="" height="380" src="https://images2.imgbox.com/a6/cc/9hqIu0Jn_o.png" width="669"></p> 
<p>下载合适的版本即可。</p> 
<p>下载好安装包之后，双击安装，因为之前我已经安装过了，所以借用下别人的图：</p> 
<p class="img-center"><img alt="" height="432" src="https://images2.imgbox.com/86/42/psPX0ycK_o.png" width="551"></p> 
<p> 一路Next就行。</p> 
<p class="img-center"><img alt="" height="413" src="https://images2.imgbox.com/ea/c6/GvgX0S9m_o.png" width="540"></p> 
<p> 用户选择所有</p> 
<p class="img-center"><img alt="" height="408" src="https://images2.imgbox.com/1b/e0/qiKhPrjA_o.png" width="529"></p> 
<p> 选择存储位置</p> 
<p class="img-center"><img alt="" height="457" src="https://images2.imgbox.com/c3/cc/EQTPYOeN_o.png" width="592"></p> 
<p> 第一个建议勾选上，打钩之后会自动给你添加到环境变量，如果没打后期也可以自己手动添加，第二个根据自己情况选择吧，没什么太大影响。</p> 
<p class="img-center"><img alt="" height="450" src="https://images2.imgbox.com/08/ca/DeBTJu9x_o.png" width="582"></p> 
<p> 这个会给你安装一些配套的软件，直接跳过就行。</p> 
<p>OK安装完毕我们来测试一下：</p> 
<p>win+r输入cmd打开终端，输入代码</p> 
<pre><code>conda --version
</code></pre> 
<p>查看当前下载的Anaconda版本：</p> 
<p class="img-center"><img alt="" height="226" src="https://images2.imgbox.com/3f/a8/OLygTVPc_o.png" width="510"></p> 
<p> 博主的不是最新版的，有需要的大家可以自行更新版本。但其实能用就行了。</p> 
<p>添加镜像源：<br> 再一次进行cmd：输入</p> 
<pre><code>
conda config --add channels    https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/
conda config --add channels    https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/
conda config --add channels    https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge/

</code></pre> 
<p>ok，到这里我们的准备工作就做完了。下面开始正式安装TensorFlow-gpu了。</p> 
<h3>2.1.用conda创建虚拟环境</h3> 
<p>进入cmd输入</p> 
<pre><code>conda create --name tensorflow-gpu python==3.6</code></pre> 
<p>创建一个名为tensorflow-gpu的python的虚拟环境，并配备一个版本为3.6的python解释器（其实是介于3.6-到3.7之间的版本）</p> 
<p>当执行了以上命令后，在你的Anaconda3安装路径下的envs文件夹中应该会出现一个名为tensorflow-gpu的一个文件夹，那便是我们刚刚创建好的环境。可以看到博主的envs里有三个已经创建好的的python环境。<img alt="" height="385" src="https://images2.imgbox.com/6c/a2/qo6cEv8K_o.png" width="962"></p> 
<p> 接着输入：</p> 
<pre><code>activate hs </code></pre> 
<p>激活已经存在的环境hs</p> 
<p class="img-center"><img alt="" height="255" src="https://images2.imgbox.com/39/94/sV5WBYN7_o.png" width="493"></p> 
<p> 可以看到，执行上述代码后，我的用户目录的前面出现了一个（hs）的符号，这就表明我们已经激活了名为hs的python虚拟环境。</p> 
<p>输入</p> 
<pre><code>conda list</code></pre> 
<p>查看当前环境下安装的一些包和python解释器的版本</p> 
<p class="img-center"><img alt="" height="337" src="https://images2.imgbox.com/9b/18/4sUtJGbS_o.png" width="612"></p> 
<p> 好了，现在我们就可以开始安装tensorflow了，先按照上述命令创建好环境并激活之后，我们现在有两种方法来安装：conda或者pip（<strong>这里提一下，在下载好tensorflow-gpu之后，不管你是下载什么版本，如果想要使用GPU的话，cudatoolkit，cudnn，tensorflow-gpu，在当前python版本满足的前提下，三者的版本必须对应正确，否则就无法正常使用GPU！！！</strong>）</p> 
<p>tensorflow版本对应关系如下（cudatoolkit是cuda里的一个工具包，也是tensorflow也主要用到的一个包）：</p> 
<p><img alt="" height="933" src="https://images2.imgbox.com/6d/f6/ThMNE5JA_o.png" width="1115"></p> 
<p> 了解了其<strong>版本对应</strong>关系（<strong>非常重要！！！</strong>）之后，我们就可以来进行tensorflow的安装了。</p> 
<h2>3.安装tensorflow-gpu</h2> 
<h3><strong>方法一：</strong></h3> 
<pre><code class="language-python">conda install tensorflow-gpu==2.6.0</code></pre> 
<p>键入代码，等号后面+版本，没+的话会默认帮你下载最新版，然后静静等待（大小在几百兆到一两个G不等，所以慢慢等吧。没添加镜像源可能要下到明年-_-!）该方法下载会帮你自动把tensorflow及其相关依赖工具（cudatoolkit和cudnn等）也一起帮你安装好，比较简单，回车之后就会从之前添加的镜像源搜索对应的资源并下载好在你的环境内，优点是不用再额外安装相关依赖和包，全部自动帮你安装好！</p> 
<p>但是有一个问题那就是在某些情况下，conda自动帮你下载的相关依赖cudatoolkit或cudnn可能会出现版本不对应，具体通过conda list进行查看，原因：可能是因为Anaconda版本或者镜像源没有相关资源而导致没有安装到正确版本，每个人情况不同，或多或少会出现这样的问题。</p> 
<p>可以通过:</p> 
<pre><code class="language-python">conda search -f cudnn</code></pre> 
<p> </p> 
<p class="img-center"><img alt="" height="475" src="https://images2.imgbox.com/05/17/UatUxhjO_o.png" width="721"></p> 
<p> 查看从当前所有镜像源可以搜寻到并安装的所有cudnn的版本，cudnn可以换成其他你想要查询的库名。</p> 
<h3><strong>方法二：</strong></h3> 
<p>通过pip安装：</p> 
<pre><code class="language-python">pip install tensorflow-gpu==2.6.0</code></pre> 
<p>如果嫌太慢后面可以+一个清华镜像源：<span style="color:#ed7976;">-i https://pypi.tuna.tsinghua.edu.cn/simple</span></p> 
<pre><code class="language-python">pip install tensorflow-gpu==2.6.0 -i https://pypi.tuna.tsinghua.edu.cn/simple</code></pre> 
<p>由于我们是用pip安装，所以安装的过程中就不会自动帮我们把其他相关依赖也安装好，需要自己手动安装。一样的：</p> 
<pre><code class="language-python">pip install cudatoolkit</code></pre> 
<pre><code class="language-python">pip install cudnn </code></pre> 
<p>下载对应的版本即可！</p> 
<p>同样，该下载方法也可能会出现所需的依赖的版本下载不了的情况，但应该是少数。</p> 
<h3><strong>方法三：</strong></h3> 
<p>该方法稍微麻烦一些，下载的东西也更大一些，(内存紧张的小伙伴建议先清理一下次磁盘空间，留个6-7个G左右就够了)但确实最稳妥的办法！就是<strong>cuda,cudnn和tensorflow三个分别单独下载，但要注意其版本对应关系！</strong></p> 
<h4><strong>1.安装cuda：</strong></h4> 
<p><a class="link-info" href="https://developer.nvidia.com/cuda-toolkit-archive" rel="nofollow" title="cuda官方网站下载地址">cuda官方网站下载地址</a></p> 
<p class="img-center"><img alt="" height="319" src="https://images2.imgbox.com/22/76/bJEoDXfw_o.png" width="567"></p> 
<p> </p> 
<p>进入之后，下滑选择自己需要的版本下载即可！例如我要安装2.4.0版本的tensorflow-gpu，那我就要相应下载11.0版本的CUDA</p> 
<p><img alt="" height="289" src="https://images2.imgbox.com/e2/8c/SVdM4Ynq_o.png" width="841"></p> 
<p> </p> 
<p>下载好之后，双击打开进行安装</p> 
<p class="img-center"><img alt="" height="175" src="https://images2.imgbox.com/a1/d1/8ZDrAC3g_o.png" width="454"></p> 
<p>由于博主下载的是2.6.0版本的tensorflow，所以对应下载的是11.2版本的cuda。</p> 
<p>选择好安装路径（默认是C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA）安装之后就不能轻易改变了哦，如果想后面移动到D盘那就只能重新安装了，单纯移动或copy是没有用的，详情见<a class="link-info" href="https://www.zhihu.com/question/531964844/answer/2478816417" rel="nofollow" title=" 注册表"> 注册表</a></p> 
<p>安装过程一路Next即可，全部勾选</p> 
<p>安装完毕之后，在你的安装路径下会多出相关文件夹，接着检查环境变量是否配置成功。正常情况下安装过程中会自动帮我们添加好。</p> 
<p>打开电脑设置——&gt;系统——&gt;系统高级设置——&gt;环境变量——&gt;系统变量——&gt;PATH</p> 
<p><img alt="" height="312" src="https://images2.imgbox.com/1a/5f/9D78nZL1_o.png" width="647"></p> 
<p style="text-align:center;"><img alt="" height="431" src="https://images2.imgbox.com/0d/b0/ikqY9IdL_o.png" width="379"> </p> 
<p> <img alt="" height="596" src="https://images2.imgbox.com/5c/b0/4AJFyh8G_o.png" width="620"></p> 
<p> 检查一下有没有下面的路径：</p> 
<p><img alt="" height="459" src="https://images2.imgbox.com/36/d6/8zIQBTph_o.png" width="1047"></p> 
<p> </p> 
<p><img alt="" height="241" src="https://images2.imgbox.com/63/d2/ZgF0khH7_o.png" width="1135"></p> 
<p> 如果没有的话则要自己手动添加！自此我们的CUDA的安装就完成了。</p> 
<h4><strong>2.安装cudnn</strong></h4> 
<p>下载地址：https://developer.nvidia.com/rdp/cudnn-archive</p> 
<p>第一次单击下载时，会让你先注册登录，然后再进行下载，注册信息就正常填写就行，此处不再过多赘述，注册登录之后接下来进入下载环节：</p> 
<p><img alt="" height="900" src="https://images2.imgbox.com/a6/7d/88AzeUyc_o.png" width="1200"></p> 
<p> 同样，进入之后，选择对应的版本下载</p> 
<p><img alt="" height="757" src="https://images2.imgbox.com/75/91/wDTluIjV_o.png" width="1200"></p> 
<p> 选择自己的操作系统windows或者Linux。点击下载</p> 
<p><img alt="" height="240" src="https://images2.imgbox.com/9f/2c/XUYDaPQ9_o.png" width="441"></p> 
<p> 下载好之后双击打开解压到一个路径下，建议跟之前的CUDA一个路径，方便后续操作。</p> 
<p><img alt="" height="155" src="https://images2.imgbox.com/01/53/VTgXwQJY_o.png" width="784"></p> 
<p> 然后简单说一下，这里我们需要<span style="color:#faa572;"><strong>把cudnn里的三个文件移动或者copy到cuda的对应文件夹里面去</strong></span></p> 
<p><span style="color:#0d0016;">打开cudnn文件夹</span></p> 
<p><img alt="" height="266" src="https://images2.imgbox.com/f4/90/sAJn91s9_o.png" width="943"></p> 
<p> <img alt="" height="271" src="https://images2.imgbox.com/c2/8e/tZV0kUFF_o.png" width="557"></p> 
<p> 打开cuda文件夹</p> 
<p><img alt="" height="293" src="https://images2.imgbox.com/a2/c1/ZAoQNZxj_o.png" width="828"></p> 
<p> <img alt="" height="351" src="https://images2.imgbox.com/ba/9f/ce4Pd9DZ_o.png" width="552"></p> 
<p> 将上述cudnn里面的文件移动或copy到cuda对应文件夹目录下即可！</p> 
<p> 将另外的文件夹里面的相应文件也移动到cuda的对应的文件目录下（如下图）</p> 
<p>博主的是cudnn64_8.dll,版本不同文件有所细微差异，不过很容易分辨的。</p> 
<p><img alt="" height="592" src="https://images2.imgbox.com/b7/c1/BifK4TRo_o.png" width="1200"></p> 
<p> 自此cudnn的安装也已经完成，接下来就是tensorflow-gpu的安装了！！！</p> 
<h4><strong>3.安装tensorflow-gpu</strong></h4> 
<p>直接win+R打开cmd，先activate激活并进入到我们创建的python环境中去：选择合适的版本<strong>（必须和cuda和cudnn版本对应）</strong></p> 
<pre><code class="language-python">pip install tensorflow-gpu==2.6.0 -i https://pypi.tuna.tsinghua.edu.cn/simple</code></pre> 
<p><strong>等待安装完成，自此我们的tensorflow-gpu版本的安装就全部结束了！！！</strong></p> 
<p>现在让我们来测试一下吧！</p> 
<h4><strong>4.测试tensorflow是否能使用GPU</strong></h4> 
<p>打开<strong><span style="color:#fe2c24;">pycharm</span></strong></p> 
<p><img alt="" height="626" src="https://images2.imgbox.com/40/db/uzjhAUu3_o.png" width="1200"></p> 
<p> 打开设置——&gt;项目——&gt;python解释器</p> 
<p>如图，点右上角的设置图标添加我们之前创建的环境里的python解释器。</p> 
<p>点<strong>Conda环境</strong>，然后选择<strong>现有环境，为解释器添加路径（</strong>路径就是我们之前创建的python虚拟环境里的python.exe<strong>）</strong></p> 
<p><img alt="" height="844" src="https://images2.imgbox.com/76/6e/aWTw7vFW_o.png" width="1200"></p> 
<p> 在这个路径下去找：D:\Anaconda3\envs\tf-gpu\python.exe</p> 
<p><img alt="" height="465" src="https://images2.imgbox.com/30/ae/b4qkfUVg_o.png" width="950"></p> 
<p> </p> 
<p>OK!,大功告成！！！</p> 
<p>然后随便新建一个python文件复制下面的代码：</p> 
<pre><code class="language-python">import tensorflow as tf


print(tf.__version__)
print(tf.test.gpu_device_name())
print(tf.config.experimental.set_visible_devices)
print('GPU:',tf.config.list_physical_devices('GPU'))
print('CPU:',tf.config.list_physical_devices(device_type='CPU'))
print(tf.config.list_physical_devices('GPU'))
print(tf.test.is_gpu_available())
#输出可用的GPU数量
print("Num GPUs Available: ", len(tf.config.experimental.list_physical_devices('GPU')))
#查询GPU设备


</code></pre> 
<p>运行之后：</p> 
<p><img alt="" height="503" src="https://images2.imgbox.com/bd/d5/IKJZRjey_o.png" width="1200"></p> 
<p> 出现了当前环境<strong>tensorflow的版本</strong>以及一些其他信息，博主的版本是2.6.0，如果下面出现了<strong>True</strong></p> 
<p>那就表明我们的<strong>tensorflow-gpu</strong>已经成功的安装好并且能够正常使用了！</p> 
<p>下面来测试一下GPU的运算速度吧！</p> 
<pre><code class="language-python">import tensorflow as tf
import timeit


def cpu_run():
    with tf.device('/cpu:0'):
        cpu_a = tf.random.normal([10000, 1000])
        cpu_b = tf.random.normal([1000, 2000])
        c = tf.matmul(cpu_a, cpu_b)
    return c


def gpu_run():

    with tf.device('/gpu:0'):
        gpu_a = tf.random.normal([10000, 1000])
        gpu_b = tf.random.normal([1000, 2000])
        c = tf.matmul(gpu_a, gpu_b)
    return c


cpu_time = timeit.timeit(cpu_run, number=10)
gpu_time = timeit.timeit(gpu_run, number=10)
print("cpu:", cpu_time, "  gpu:", gpu_time)
</code></pre> 
<p>运行结果：</p> 
<p><img alt="" height="154" src="https://images2.imgbox.com/98/6f/Bp7tOKB6_o.png" width="607"></p> 
<p> 可以看到速度还是要快上不少的，对于机器学习中神经网络模型的训练来说，可以大幅度加快我们的训练进程帮我们节约许多时间，还是十分不错的！</p> 
<h2>4.总结</h2> 
<p>       在安装过程中呢，最重要的莫过于<strong>tensorflow，python及其依赖项的版本对应</strong>了，如果安装了版本不对应的cuda或者cudnn，可能会导致一系列的问题而最终不能正常地调用设备的GPU进行工作了。所以我们在安装的时候必须时刻注意它们之间的版本对应关系，如果说在安装过程中出现了与之前安装的tensorflow版本间的冲突，最简单也是最有效办法就是，<strong>在安装之前把之前安装的版本及其依赖项卸载干净，然后再进行安装。</strong></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e80d76fa051602297f7fc74b686ff40c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">数据库设计图书管理系统</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/ec636af4c1497c97f3ec3ed3ea044a68/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Python课程设计项目-基于机器学习的糖尿病风险预警分析系统</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>