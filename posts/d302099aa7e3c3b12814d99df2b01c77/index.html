<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>SpringCloud-RabbitMQ消息模型 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/d302099aa7e3c3b12814d99df2b01c77/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="SpringCloud-RabbitMQ消息模型">
  <meta property="og:description" content="本文深入介绍了RabbitMQ消息模型，涵盖了基本消息队列、工作消息队列、广播、路由和主题等五种常见消息模型。每种模型都具有独特的特点和适用场景，为开发者提供了灵活而强大的消息传递工具。通过这些模型，RabbitMQ实现了解耦、异步通信以及高效的消息路由，为分布式系统的开发和部署提供了可靠的基础。阅读本文，读者将深入了解RabbitMQ不同消息模型的应用场景和使用方法，为构建可靠的消息传递系统提供了有益的指导。
一、RabbitMQ消息模型介绍 RabbitMQ 是一种高度可扩展的消息代理，其消息模型基于 AMQP（Advanced Message Queuing Protocol）协议，提供了灵活可靠的消息传递机制。
以下是 RabbitMQ 的核心消息模型组成部分：
组成部分功能生产者 (Producer)生产者负责产生和发送消息到 RabbitMQ 服务器。
将消息发布到特定的交换机（Exchange）。交换机 (Exchange)交换机是消息的分发中心，接收生产者发送的消息，并将其路由到一个或多个队列。RabbitMQ 提供不同类型的交换机，如直连交换机（direct）、主题交换机（topic）、扇出交换机（fanout）、头交换机（headers）等，以满足不同的路由需求。队列 (Queue)队列是消息的存储地点，消息在队列中等待被消费。
消息按照一定的规则存储在队列中，等待消费者订阅并处理。绑定 (Binding)绑定定义了交换机如何将消息路由到特定的队列。
绑定规则由消费者在订阅队列时指定，确保消息按照预期的方式路由。消费者 (Consumer)消费者订阅一个或多个队列，接收并处理队列中的消息。消费者从队列中获取消息，完成相应的业务逻辑，然后应答（acknowledge）消息。路由键 (Routing Key)路由键是消息从生产者到达交换机时的附加信息，用于指导消息路由到特定的队列。路由键的值与交换机类型和绑定规则相关。 RabbitMQ 的消息模型允许灵活的消息路由和传递，提供了高度可靠性和可伸缩性。生产者通过交换机将消息发送到队列，而消费者则订阅队列并处理消息。这种模型使得系统能够实现解耦、异步通信，同时确保消息在分布式环境中的可靠传递。
二、RabbitMQ常见消息模型 MQ（消息队列）在应用中有多种常见的消息模型，其中包括以下五种：
1、基本消息队列 基本消息队（Basic Queue） 列是最简单的消息传递模型。在这个模型中，生产者发送包含简单信息如 &#34;Hello World!&#34; 的消息到队列，而消费者则接收并处理这些消息。这种模型适用于简单的场景，如需要一对一通信的情况。
示意图：
2、工作消息队列 工作消息队列（Work Queue）用于在多个工作者（消费者）之间分发任务。生产者将任务发送到队列，多个工作者可以并发地处理这些任务。这种模型有效地实现了任务的分发和并行处理。
示意图：
3、发布订阅 发布订阅（Publish/Subscribe） 模型采用广播方式，生产者将消息发送到交换机，多个队列通过订阅交换机接收消息，实现一对多的消息传递。
根据交换机类型不同，发布订阅模型又分为三种：
① 广播交换机（Fanout Exchange） 广播交换机（Fanout Exchange）是一种简单而强大的消息传递模型。当生产者发送消息到Fanout Exchange时，该交换机会将消息广播到所有与之绑定的队列，无论它们的路由键是什么。这使得多个队列能够同时接收相同的消息，实现了一对多的消息传递
示意图：
② 直连交换机（Direct Exchange） 直连交换机（Direct Exchange）通过使用指定的路由键，将消息传递到与之匹配的队列。这种模型适用于需要将消息精确路由到特定队列的场景。生产者发送消息时，可以指定一个或多个路由键，而队列在绑定交换机时也需要指定相应的路由键，从而实现精准的消息路由。
示意图：
③ 主题交换机（Topic） 主题交换机（Topic Exchange）允许消息的路由键与队列的绑定模式进行模糊匹配，从而实现更灵活的消息订阅和路由。路由键可以使用通配符（和#），其中星号()代表一个单词，井号(#)代表零个或多个单词。这种模型使得队列能够订阅符合特定模式的消息，而不仅仅是固定的路由键。
示意图：
这五种消息模型展示了RabbitMQ在不同场景下的应用，为开发者提供了多样的选择，以满足各种消息传递需求。 三、RabbitMQ消息模型总结 RabbitMQ作为高度可扩展的消息代理，其消息模型基于AMQP协议，提供了强大的消息传递机制。核心组成部分包括生产者、交换机、队列、绑定和消费者等。消息模型允许实现灵活的消息路由和传递，提供了高度可靠性和可伸缩性。通过交换机将消息发送到队列，消费者订阅队列并处理消息，实现了解耦、异步通信，确保消息在分布式环境中的可靠传递。 ​">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-03-05T13:33:44+08:00">
    <meta property="article:modified_time" content="2024-03-05T13:33:44+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">SpringCloud-RabbitMQ消息模型</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>本文深入介绍了RabbitMQ消息模型，涵盖了基本消息队列、工作消息队列、广播、路由和主题等五种常见消息模型。每种模型都具有独特的特点和适用场景，为开发者提供了灵活而强大的消息传递工具。通过这些模型，RabbitMQ实现了解耦、异步通信以及高效的消息路由，为分布式系统的开发和部署提供了可靠的基础。阅读本文，读者将深入了解RabbitMQ不同消息模型的应用场景和使用方法，为构建可靠的消息传递系统提供了有益的指导。</p> 
<hr> 
<h2><strong>一、RabbitMQ消息模型介绍</strong></h2> 
<p>RabbitMQ 是一种高度可扩展的消息代理，其消息模型基于 AMQP（Advanced Message Queuing Protocol）协议，提供了灵活可靠的消息传递机制。</p> 
<p>以下是 RabbitMQ 的核心消息模型组成部分：</p> 
<table border="1" cellpadding="1" cellspacing="1"><thead><tr><th style="width:167px;"><strong>组成部分</strong></th><th style="width:521px;"><strong>功能</strong></th></tr></thead><tbody><tr><td style="width:167px;"><strong>生产者 (Producer)</strong></td><td style="width:521px;">生产者负责产生和发送消息到 RabbitMQ 服务器。<br> 将消息发布到特定的交换机（Exchange）。</td></tr><tr><td style="width:167px;"><strong>交换机 (Exchange)</strong></td><td style="width:521px;">交换机是消息的分发中心，接收生产者发送的消息，并将其路由到一个或多个队列。RabbitMQ 提供不同类型的交换机，如直连交换机（direct）、主题交换机（topic）、扇出交换机（fanout）、头交换机（headers）等，以满足不同的路由需求。</td></tr><tr><td style="width:167px;"><strong>队列 (Queue)</strong></td><td style="width:521px;">队列是消息的存储地点，消息在队列中等待被消费。<br> 消息按照一定的规则存储在队列中，等待消费者订阅并处理。</td></tr><tr><td style="width:167px;"><strong>绑定 (Binding)</strong></td><td style="width:521px;">绑定定义了交换机如何将消息路由到特定的队列。<br> 绑定规则由消费者在订阅队列时指定，确保消息按照预期的方式路由。</td></tr><tr><td style="width:167px;"><strong>消费者 (Consumer)</strong></td><td style="width:521px;">消费者订阅一个或多个队列，接收并处理队列中的消息。消费者从队列中获取消息，完成相应的业务逻辑，然后应答（acknowledge）消息。</td></tr><tr><td style="width:167px;"><strong>路由键 (Routing Key)</strong></td><td style="width:521px;">路由键是消息从生产者到达交换机时的附加信息，用于指导消息路由到特定的队列。路由键的值与交换机类型和绑定规则相关。</td></tr></tbody></table> 
<p>RabbitMQ 的消息模型允许灵活的消息路由和传递，提供了高度可靠性和可伸缩性。生产者通过交换机将消息发送到队列，而消费者则订阅队列并处理消息。这种模型使得系统能够实现解耦、异步通信，同时确保消息在分布式环境中的可靠传递。</p> 
<hr> 
<h2><strong>二、</strong>RabbitMQ<strong>常见消息模型</strong></h2> 
<p>MQ（消息队列）在应用中有多种常见的消息模型，其中包括以下五种：</p> 
<h3>1、基本消息队列</h3> 
<p>基本消息队（Basic Queue） 列是最简单的消息传递模型。在这个模型中，生产者发送包含简单信息如 "Hello World!" 的消息到队列，而消费者则接收并处理这些消息。这种模型适用于简单的场景，如需要一对一通信的情况。</p> 
<p><strong>示意图：</strong></p> 
<p><img alt="" height="247" src="https://images2.imgbox.com/85/6d/gsa7FZwJ_o.png" width="134"></p> 
<hr> 
<h3>2、工作消息队列</h3> 
<p>工作消息队列（Work Queue）用于在多个工作者（消费者）之间分发任务。生产者将任务发送到队列，多个工作者可以并发地处理这些任务。这种模型有效地实现了任务的分发和并行处理。</p> 
<p><strong>示意图：</strong></p> 
<p><img alt="" height="260" src="https://images2.imgbox.com/32/c4/3yUMCozl_o.png" width="354"></p> 
<hr> 
<h3>3、发布订阅</h3> 
<p>发布订阅（Publish/Subscribe） 模型采用广播方式，生产者将消息发送到交换机，多个队列通过订阅交换机接收消息，实现一对多的消息传递。</p> 
<p><img alt="" height="261" src="https://images2.imgbox.com/8d/cc/biyqdwJ8_o.png" width="343"></p> 
<p>根据交换机类型不同，发布订阅模型又分为三种：</p> 
<h4><strong>① 广播</strong>交换机<strong>（Fanout Exchange）</strong></h4> 
<p>广播交换机（Fanout Exchange）是一种简单而强大的消息传递模型。当生产者发送消息到Fanout Exchange时，该交换机会将消息广播到所有与之绑定的队列，无论它们的路由键是什么。这使得多个队列能够同时接收相同的消息，实现了一对多的消息传递</p> 
<p><strong>示意图：</strong></p> 
<p><img alt="" height="268" src="https://images2.imgbox.com/f3/18/gOCyk5UA_o.png" width="364"></p> 
<hr> 
<h4>② 直连交换机（Direct Exchange）</h4> 
<p>直连交换机（Direct Exchange）通过使用指定的路由键，将消息传递到与之匹配的队列。这种模型适用于需要将消息精确路由到特定队列的场景。生产者发送消息时，可以指定一个或多个路由键，而队列在绑定交换机时也需要指定相应的路由键，从而实现精准的消息路由。</p> 
<p><strong>示意图：</strong></p> 
<p><img alt="" height="278" src="https://images2.imgbox.com/02/1d/qvc7U7I0_o.png" width="370"></p> 
<hr> 
<h4>③ 主题交换机（Topic）</h4> 
<p>主题交换机（Topic Exchange）允许消息的路由键与队列的绑定模式进行模糊匹配，从而实现更灵活的消息订阅和路由。路由键可以使用通配符（<em>和#），其中星号(</em>)代表一个单词，井号(#)代表零个或多个单词。这种模型使得队列能够订阅符合特定模式的消息，而不仅仅是固定的路由键。</p> 
<p><strong>示意图：</strong></p> 
<p><img alt="" height="273" src="https://images2.imgbox.com/87/e6/FZ3vzuXu_o.png" width="377"></p> 
<p>这五种消息模型展示了RabbitMQ在不同场景下的应用，为开发者提供了多样的选择，以满足各种消息传递需求。  </p> 
<hr> 
<h2>三、<strong>RabbitMQ消息模型总结</strong></h2> 
<p>RabbitMQ作为高度可扩展的消息代理，其消息模型基于AMQP协议，提供了强大的消息传递机制。核心组成部分包括生产者、交换机、队列、绑定和消费者等。消息模型允许实现灵活的消息路由和传递，提供了高度可靠性和可伸缩性。通过交换机将消息发送到队列，消费者订阅队列并处理消息，实现了解耦、异步通信，确保消息在分布式环境中的可靠传递。 ​</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d0e9bf9f2ec9335516a3d9bbb41f1f6b/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【C语言】Leetcode 206.反转链表</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/90e04808769492590f0240c8d7363758/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">SQL server 数据库log日志过大，占用内存大解决办法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>