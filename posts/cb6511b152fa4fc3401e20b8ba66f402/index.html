<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【python】OpenCV—Aruco - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/cb6511b152fa4fc3401e20b8ba66f402/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="【python】OpenCV—Aruco">
  <meta property="og:description" content="文章目录 Detect ArucoGuess Aruco Type Detect Aruco 学习参考来自：OpenCV基础（19）使用 OpenCV 和 Python 检测 ArUco 标记
更多使用细节可以参考：【python】OpenCV—Color Correction
源码：
链接：https://pan.baidu.com/s/1bEPuiix0MrtL7Fu3paoRug
提取码：123a
# ----------------------------- # USAGE # ----------------------------- # python detect_aruco_image.py --image images/example_01.png --type DICT_5X5_100 # python detect_aruco_image.py --image images/example_02.png --type DICT_ARUCO_ORIGINAL # ----------------------------- # IMPORTS # ----------------------------- # Import the necessary packages import argparse import imutils import cv2 import sys # Construct the argument parser and parse the arguments ap = argparse.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-06-29T01:05:30+08:00">
    <meta property="article:modified_time" content="2024-06-29T01:05:30+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【python】OpenCV—Aruco</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-github-gist">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><img src="https://images2.imgbox.com/8d/f0/mnjZwRLZ_o.png" alt="在这里插入图片描述"></p> 
<p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#Detect_Aruco_6" rel="nofollow">Detect Aruco</a></li><li><a href="#Guess_Aruco_Type_250" rel="nofollow">Guess Aruco Type</a></li></ul> 
</div> 
<p></p> 
<h2><a id="Detect_Aruco_6"></a>Detect Aruco</h2> 
<p>学习参考来自：<a href="https://blog.csdn.net/weixin_43229348/article/details/120565635?spm=1001.2014.3001.5502">OpenCV基础（19）使用 OpenCV 和 Python 检测 ArUco 标记</a></p> 
<p>更多使用细节可以参考：<a href="https://blog.csdn.net/bryant_meng/article/details/139869944?spm=1001.2014.3001.5501">【python】OpenCV—Color Correction</a></p> 
<p>源码：</p> 
<blockquote> 
 <p>链接：https://pan.baidu.com/s/1bEPuiix0MrtL7Fu3paoRug<br> 提取码：123a</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/49/c2/F76nc5wS_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-python"><span class="token comment"># -----------------------------</span>
<span class="token comment">#   USAGE</span>
<span class="token comment"># -----------------------------</span>
<span class="token comment"># python detect_aruco_image.py --image images/example_01.png --type DICT_5X5_100</span>
<span class="token comment"># python detect_aruco_image.py --image images/example_02.png --type DICT_ARUCO_ORIGINAL</span>

<span class="token comment"># -----------------------------</span>
<span class="token comment">#   IMPORTS</span>
<span class="token comment"># -----------------------------</span>
<span class="token comment"># Import the necessary packages</span>
<span class="token keyword">import</span> argparse
<span class="token keyword">import</span> imutils
<span class="token keyword">import</span> cv2
<span class="token keyword">import</span> sys

<span class="token comment"># Construct the argument parser and parse the arguments</span>
ap <span class="token operator">=</span> argparse<span class="token punctuation">.</span>ArgumentParser<span class="token punctuation">(</span><span class="token punctuation">)</span>
ap<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">"-i"</span><span class="token punctuation">,</span> <span class="token string">"--image"</span><span class="token punctuation">,</span> required<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> <span class="token builtin">help</span><span class="token operator">=</span><span class="token string">"Path to the input image containing the ArUCo tag"</span><span class="token punctuation">)</span>
ap<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">"-t"</span><span class="token punctuation">,</span> <span class="token string">"--type"</span><span class="token punctuation">,</span> <span class="token builtin">type</span><span class="token operator">=</span><span class="token builtin">str</span><span class="token punctuation">,</span> default<span class="token operator">=</span><span class="token string">"DICT_ARUCO_ORIGINAL"</span><span class="token punctuation">,</span> <span class="token builtin">help</span><span class="token operator">=</span><span class="token string">"Tpe of ArUCo tag to detect"</span><span class="token punctuation">)</span>
args <span class="token operator">=</span> <span class="token builtin">vars</span><span class="token punctuation">(</span>ap<span class="token punctuation">.</span>parse_args<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># Define the names of each possible ArUco tag that OpenCV supports</span>
ARUCO_DICT <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token string">"DICT_4X4_50"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_4X4_50<span class="token punctuation">,</span> <span class="token string">"DICT_4X4_100"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_4X4_100<span class="token punctuation">,</span>
              <span class="token string">"DICT_4X4_250"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_4X4_250<span class="token punctuation">,</span> <span class="token string">"DICT_4X4_1000"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_4X4_1000<span class="token punctuation">,</span>
              <span class="token string">"DICT_5X5_50"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_5X5_50<span class="token punctuation">,</span> <span class="token string">"DICT_5X5_100"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_5X5_100<span class="token punctuation">,</span>
              <span class="token string">"DICT_5X5_250"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_5X5_250<span class="token punctuation">,</span> <span class="token string">"DICT_5X5_1000"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_5X5_1000<span class="token punctuation">,</span>
              <span class="token string">"DICT_6X6_50"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_6X6_50<span class="token punctuation">,</span> <span class="token string">"DICT_6X6_100"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_6X6_100<span class="token punctuation">,</span>
              <span class="token string">"DICT_6X6_250"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_6X6_250<span class="token punctuation">,</span> <span class="token string">"DICT_6X6_1000"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_6X6_1000<span class="token punctuation">,</span>
              <span class="token string">"DICT_7X7_50"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_7X7_50<span class="token punctuation">,</span> <span class="token string">"DICT_7X7_100"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_7X7_100<span class="token punctuation">,</span>
              <span class="token string">"DICT_7X7_250"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_7X7_250<span class="token punctuation">,</span> <span class="token string">"DICT_7X7_1000"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_7X7_1000<span class="token punctuation">,</span>
              <span class="token string">"DICT_ARUCO_ORIGINAL"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_ARUCO_ORIGINAL<span class="token punctuation">,</span>
              <span class="token string">"DICT_APRILTAG_16h5"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_APRILTAG_16h5<span class="token punctuation">,</span>
              <span class="token string">"DICT_APRILTAG_25h9"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_APRILTAG_25h9<span class="token punctuation">,</span>
              <span class="token string">"DICT_APRILTAG_36h10"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_APRILTAG_36h10<span class="token punctuation">,</span>
              <span class="token string">"DICT_APRILTAG_36h11"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_APRILTAG_36h11<span class="token punctuation">}</span>

<span class="token comment"># Load the input image from disk and resize it</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"[INFO] Loading image..."</span><span class="token punctuation">)</span>
image <span class="token operator">=</span> cv2<span class="token punctuation">.</span>imread<span class="token punctuation">(</span>args<span class="token punctuation">[</span><span class="token string">"image"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
image <span class="token operator">=</span> imutils<span class="token punctuation">.</span>resize<span class="token punctuation">(</span>image<span class="token punctuation">,</span> width<span class="token operator">=</span><span class="token number">600</span><span class="token punctuation">)</span>

<span class="token comment"># Verify that the supplied ArUCo tag exists is supported by OpenCV</span>
<span class="token keyword">if</span> ARUCO_DICT<span class="token punctuation">.</span>get<span class="token punctuation">(</span>args<span class="token punctuation">[</span><span class="token string">"type"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token boolean">None</span><span class="token punctuation">)</span> <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"[INFO] ArUCo tag of '{}' is not supported!"</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>args<span class="token punctuation">[</span><span class="token string">"type"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>

<span class="token comment"># Load the ArUCo dictionary, grab the ArUCo parameters and detect the markers</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"[INFO] Detecting '{}' tags..."</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>args<span class="token punctuation">[</span><span class="token string">"type"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
arucoDict <span class="token operator">=</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>Dictionary_get<span class="token punctuation">(</span>ARUCO_DICT<span class="token punctuation">[</span>args<span class="token punctuation">[</span><span class="token string">"type"</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
arucoParams <span class="token operator">=</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DetectorParameters_create<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span>corners<span class="token punctuation">,</span> ids<span class="token punctuation">,</span> rejected<span class="token punctuation">)</span> <span class="token operator">=</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>detectMarkers<span class="token punctuation">(</span>image<span class="token punctuation">,</span> arucoDict<span class="token punctuation">,</span> parameters<span class="token operator">=</span>arucoParams<span class="token punctuation">)</span>

<span class="token comment"># Verify *at least* one ArUCo marker was detected</span>
<span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>corners<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
    <span class="token comment"># Flatten the ArUCo IDs list</span>
    ids <span class="token operator">=</span> ids<span class="token punctuation">.</span>flatten<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment"># Loop over the detected ArUCo corners</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>markerCorner<span class="token punctuation">,</span> markerID<span class="token punctuation">)</span> <span class="token keyword">in</span> <span class="token builtin">zip</span><span class="token punctuation">(</span>corners<span class="token punctuation">,</span> ids<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># Extract the markers corners which are always returned in the following order:</span>
        <span class="token comment"># TOP-LEFT, TOP-RIGHT, BOTTOM-RIGHT, BOTTOM-LEFT</span>
        corners <span class="token operator">=</span> markerCorner<span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">(</span>topLeft<span class="token punctuation">,</span> topRight<span class="token punctuation">,</span> bottomRight<span class="token punctuation">,</span> bottomLeft<span class="token punctuation">)</span> <span class="token operator">=</span> corners
        <span class="token comment"># Convert each of the (x, y)-coordinate pairs to integers</span>
        topRight <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>topRight<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">(</span>topRight<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        bottomRight <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>bottomRight<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">(</span>bottomRight<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        bottomLeft <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>bottomLeft<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">(</span>bottomLeft<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        topLeft <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>topLeft<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">(</span>topLeft<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token comment"># Draw the bounding box of the ArUCo detection</span>
        cv2<span class="token punctuation">.</span>line<span class="token punctuation">(</span>image<span class="token punctuation">,</span> topLeft<span class="token punctuation">,</span> topRight<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
        cv2<span class="token punctuation">.</span>line<span class="token punctuation">(</span>image<span class="token punctuation">,</span> topRight<span class="token punctuation">,</span> bottomRight<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
        cv2<span class="token punctuation">.</span>line<span class="token punctuation">(</span>image<span class="token punctuation">,</span> bottomRight<span class="token punctuation">,</span> bottomLeft<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
        cv2<span class="token punctuation">.</span>line<span class="token punctuation">(</span>image<span class="token punctuation">,</span> bottomLeft<span class="token punctuation">,</span> topLeft<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
        <span class="token comment"># Compute and draw the center (x, y) coordinates of the ArUCo marker</span>
        cX <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span><span class="token punctuation">(</span>topLeft<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> bottomRight<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2.0</span><span class="token punctuation">)</span>
        cY <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span><span class="token punctuation">(</span>topLeft<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> bottomRight<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2.0</span><span class="token punctuation">)</span>
        cv2<span class="token punctuation">.</span>circle<span class="token punctuation">(</span>image<span class="token punctuation">,</span> <span class="token punctuation">(</span>cX<span class="token punctuation">,</span> cY<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token comment"># Draw the ArUco marker ID on the image</span>
        cv2<span class="token punctuation">.</span>putText<span class="token punctuation">(</span>image<span class="token punctuation">,</span> <span class="token builtin">str</span><span class="token punctuation">(</span>markerID<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>topLeft<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> topLeft<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">,</span> cv2<span class="token punctuation">.</span>FONT_HERSHEY_SIMPLEX<span class="token punctuation">,</span>
                    <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"[INFO] ArUco marker ID: {}"</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>markerID<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token comment"># write the output image</span>
        cv2<span class="token punctuation">.</span>imwrite<span class="token punctuation">(</span><span class="token string">"{}_{}.jpg"</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>args<span class="token punctuation">[</span><span class="token string">"type"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> markerID<span class="token punctuation">)</span><span class="token punctuation">,</span> image<span class="token punctuation">)</span>
        <span class="token comment"># Show the output image</span>
        cv2<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span><span class="token string">"Image"</span><span class="token punctuation">,</span> image<span class="token punctuation">)</span>
        cv2<span class="token punctuation">.</span>waitKey<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
</code></pre> 
<p>输入图像</p> 
<p><img src="https://images2.imgbox.com/59/f8/23p5XcUm_o.png" alt="在这里插入图片描述"><br> 依次输出 DICT_5X5_100_42<br> <img src="https://images2.imgbox.com/63/a8/jUO8pgYP_o.jpg" alt="在这里插入图片描述"><br> DICT_5X5_100_24<br> <img src="https://images2.imgbox.com/8c/6a/ouyuHnLp_o.jpg" alt="在这里插入图片描述"><br> DICT_5X5_100_70<br> <img src="https://images2.imgbox.com/19/a6/47z97fkc_o.jpg" alt="在这里插入图片描述"><br> DICT_5X5_100_66<br> <img src="https://images2.imgbox.com/07/94/6JpiaoIl_o.jpg" alt="在这里插入图片描述"></p> 
<p>DICT_5X5_100_87<br> <img src="https://images2.imgbox.com/02/cc/0vHgLnFJ_o.jpg" alt="在这里插入图片描述"></p> 
<hr> 
<p>再来一组</p> 
<p>输入图片</p> 
<p><img src="https://images2.imgbox.com/dc/51/MyNP9vFq_o.png" alt="在这里插入图片描述"></p> 
<p>依次输出</p> 
<p>DICT_ARUCO_ORIGINAL_241</p> 
<p><img src="https://images2.imgbox.com/6a/58/Br9e4LL2_o.jpg" alt="在这里插入图片描述"></p> 
<p>DICT_ARUCO_ORIGINAL_1007</p> 
<p><img src="https://images2.imgbox.com/3d/b5/HkZMEBVN_o.jpg" alt="在这里插入图片描述"><br> DICT_ARUCO_ORIGINAL_1001</p> 
<p><img src="https://images2.imgbox.com/4b/81/BmrhjBcd_o.jpg" alt="在这里插入图片描述"></p> 
<p>DICT_ARUCO_ORIGINAL_923</p> 
<p><img src="https://images2.imgbox.com/3f/7d/R9AXz3Vs_o.jpg" alt="在这里插入图片描述"></p> 
<p>演示了如何检测图片，下面是检测视频的代码</p> 
<pre><code class="prism language-python"><span class="token comment"># -----------------------------</span>
<span class="token comment">#   USAGE</span>
<span class="token comment"># -----------------------------</span>
<span class="token comment"># python detect_aruco_video.py</span>

<span class="token comment"># -----------------------------</span>
<span class="token comment">#   IMPORTS</span>
<span class="token comment"># -----------------------------</span>
<span class="token comment"># Import the necessary packages</span>
<span class="token keyword">from</span> imutils<span class="token punctuation">.</span>video <span class="token keyword">import</span> VideoStream
<span class="token keyword">import</span> argparse
<span class="token keyword">import</span> imutils
<span class="token keyword">import</span> time
<span class="token keyword">import</span> cv2
<span class="token keyword">import</span> sys

<span class="token comment"># Construct the argument parser and parse the arguments</span>
ap <span class="token operator">=</span> argparse<span class="token punctuation">.</span>ArgumentParser<span class="token punctuation">(</span><span class="token punctuation">)</span>
ap<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">"-t"</span><span class="token punctuation">,</span> <span class="token string">"--type"</span><span class="token punctuation">,</span> <span class="token builtin">type</span><span class="token operator">=</span><span class="token builtin">str</span><span class="token punctuation">,</span> default<span class="token operator">=</span><span class="token string">"DICT_ARUCO_ORIGINAL"</span><span class="token punctuation">,</span> <span class="token builtin">help</span><span class="token operator">=</span><span class="token string">"Type of ArUCo tag to detect"</span><span class="token punctuation">)</span>
args <span class="token operator">=</span> <span class="token builtin">vars</span><span class="token punctuation">(</span>ap<span class="token punctuation">.</span>parse_args<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># Define the names of each possible ArUCo tag that OpenCV supports</span>
ARUCO_DICT <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token string">"DICT_4X4_50"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_4X4_50<span class="token punctuation">,</span> <span class="token string">"DICT_4X4_100"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_4X4_100<span class="token punctuation">,</span>
              <span class="token string">"DICT_4X4_250"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_4X4_250<span class="token punctuation">,</span> <span class="token string">"DICT_4X4_1000"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_4X4_1000<span class="token punctuation">,</span>
              <span class="token string">"DICT_5X5_50"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_5X5_50<span class="token punctuation">,</span> <span class="token string">"DICT_5X5_100"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_5X5_100<span class="token punctuation">,</span>
              <span class="token string">"DICT_5X5_250"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_5X5_250<span class="token punctuation">,</span> <span class="token string">"DICT_5X5_1000"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_5X5_1000<span class="token punctuation">,</span>
              <span class="token string">"DICT_6X6_50"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_6X6_50<span class="token punctuation">,</span> <span class="token string">"DICT_6X6_100"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_6X6_100<span class="token punctuation">,</span>
              <span class="token string">"DICT_6X6_250"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_6X6_250<span class="token punctuation">,</span> <span class="token string">"DICT_6X6_1000"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_6X6_1000<span class="token punctuation">,</span>
              <span class="token string">"DICT_7X7_50"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_7X7_50<span class="token punctuation">,</span> <span class="token string">"DICT_7X7_100"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_7X7_100<span class="token punctuation">,</span>
              <span class="token string">"DICT_7X7_250"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_7X7_250<span class="token punctuation">,</span> <span class="token string">"DICT_7X7_1000"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_7X7_1000<span class="token punctuation">,</span>
              <span class="token string">"DICT_ARUCO_ORIGINAL"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_ARUCO_ORIGINAL<span class="token punctuation">,</span>
              <span class="token string">"DICT_APRILTAG_16h5"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_APRILTAG_16h5<span class="token punctuation">,</span>
              <span class="token string">"DICT_APRILTAG_25h9"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_APRILTAG_25h9<span class="token punctuation">,</span>
              <span class="token string">"DICT_APRILTAG_36h10"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_APRILTAG_36h10<span class="token punctuation">,</span>
              <span class="token string">"DICT_APRILTAG_36h11"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_APRILTAG_36h11<span class="token punctuation">}</span>

<span class="token comment"># Verify that the supplied ArUCo tag exists and is supported by OpenCV</span>
<span class="token keyword">if</span> ARUCO_DICT<span class="token punctuation">.</span>get<span class="token punctuation">(</span>args<span class="token punctuation">[</span><span class="token string">"type"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token boolean">None</span><span class="token punctuation">)</span> <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"[INFO] ArUCo tag of '{}' is not supported"</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>args<span class="token punctuation">[</span><span class="token string">"type"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>

<span class="token comment"># Load the ArUCo dictionary and grab the ArUCo parameters</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"[INFO] Detecting '{}' tags..."</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>args<span class="token punctuation">[</span><span class="token string">"type"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
arucoDict <span class="token operator">=</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>Dictionary_get<span class="token punctuation">(</span>ARUCO_DICT<span class="token punctuation">[</span>args<span class="token punctuation">[</span><span class="token string">"type"</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
arucoParams <span class="token operator">=</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DetectorParameters_create<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># Initialize the video stream and allow the camera sensor to warm up</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"[INFO] Starting video stream..."</span><span class="token punctuation">)</span>
vs <span class="token operator">=</span> VideoStream<span class="token punctuation">(</span>src<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>
time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">2.0</span><span class="token punctuation">)</span>

<span class="token comment"># Loop over the frames from the video stream</span>
<span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
    <span class="token comment"># Grab the frame from the threaded video stream and resize it to have a maximum width of 600 pixels</span>
    frame <span class="token operator">=</span> vs<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>
    frame <span class="token operator">=</span> imutils<span class="token punctuation">.</span>resize<span class="token punctuation">(</span>frame<span class="token punctuation">,</span> width<span class="token operator">=</span><span class="token number">1000</span><span class="token punctuation">)</span>
    <span class="token comment"># Detect ArUco markers in the input frame</span>
    <span class="token punctuation">(</span>corners<span class="token punctuation">,</span> ids<span class="token punctuation">,</span> rejected<span class="token punctuation">)</span> <span class="token operator">=</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>detectMarkers<span class="token punctuation">(</span>frame<span class="token punctuation">,</span> arucoDict<span class="token punctuation">,</span> parameters<span class="token operator">=</span>arucoParams<span class="token punctuation">)</span>
    <span class="token comment"># Verify *at least* one ArUco marker was detected</span>
    <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>corners<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
        <span class="token comment"># Flatten the ArUco IDs list</span>
        ids <span class="token operator">=</span> ids<span class="token punctuation">.</span>flatten<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token comment"># Loop over the detected ArUCo corners</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span>markerCorner<span class="token punctuation">,</span> markerID<span class="token punctuation">)</span> <span class="token keyword">in</span> <span class="token builtin">zip</span><span class="token punctuation">(</span>corners<span class="token punctuation">,</span> ids<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token comment"># Extract the marker corners (which are always returned</span>
            <span class="token comment"># in top-left, top-right, bottom-right, and bottom-left order)</span>
            corners <span class="token operator">=</span> markerCorner<span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">(</span>topLeft<span class="token punctuation">,</span> topRight<span class="token punctuation">,</span> bottomRight<span class="token punctuation">,</span> bottomLeft<span class="token punctuation">)</span> <span class="token operator">=</span> corners
            <span class="token comment"># Convert each of the (x, y)-coordinate pairs to integers</span>
            topRight <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>topRight<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">(</span>topRight<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            bottomRight <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>bottomRight<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">(</span>bottomRight<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            bottomLeft <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>bottomLeft<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">(</span>bottomLeft<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            topLeft <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>topLeft<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">(</span>topLeft<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token comment"># Draw the bounding box of the ArUCo detection</span>
            cv2<span class="token punctuation">.</span>line<span class="token punctuation">(</span>frame<span class="token punctuation">,</span> topLeft<span class="token punctuation">,</span> topRight<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
            cv2<span class="token punctuation">.</span>line<span class="token punctuation">(</span>frame<span class="token punctuation">,</span> topRight<span class="token punctuation">,</span> bottomRight<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
            cv2<span class="token punctuation">.</span>line<span class="token punctuation">(</span>frame<span class="token punctuation">,</span> bottomRight<span class="token punctuation">,</span> bottomLeft<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
            cv2<span class="token punctuation">.</span>line<span class="token punctuation">(</span>frame<span class="token punctuation">,</span> bottomLeft<span class="token punctuation">,</span> topLeft<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
            <span class="token comment"># Compute and draw the center (x, y)-coordinates of the ArUco marker</span>
            cX <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span><span class="token punctuation">(</span>topLeft<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> bottomRight<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2.0</span><span class="token punctuation">)</span>
            cY <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span><span class="token punctuation">(</span>topLeft<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> bottomRight<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2.0</span><span class="token punctuation">)</span>
            cv2<span class="token punctuation">.</span>circle<span class="token punctuation">(</span>frame<span class="token punctuation">,</span> <span class="token punctuation">(</span>cX<span class="token punctuation">,</span> cY<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
            <span class="token comment"># Draw the ArUco marker ID on the frame</span>
            cv2<span class="token punctuation">.</span>putText<span class="token punctuation">(</span>frame<span class="token punctuation">,</span> <span class="token builtin">str</span><span class="token punctuation">(</span>markerID<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>topLeft<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> topLeft<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                        cv2<span class="token punctuation">.</span>FONT_HERSHEY_SIMPLEX<span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
    <span class="token comment"># Show the output frame</span>
    cv2<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span><span class="token string">"Frame"</span><span class="token punctuation">,</span> frame<span class="token punctuation">)</span>
    key <span class="token operator">=</span> cv2<span class="token punctuation">.</span>waitKey<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token number">0xFF</span>
    <span class="token comment"># If the `q` key was pressed, break from the loop</span>
    <span class="token keyword">if</span> key <span class="token operator">==</span> <span class="token builtin">ord</span><span class="token punctuation">(</span><span class="token string">"q"</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">break</span>

<span class="token comment"># Do a bit of cleanup</span>
cv2<span class="token punctuation">.</span>destroyAllWindows<span class="token punctuation">(</span><span class="token punctuation">)</span>
vs<span class="token punctuation">.</span>stop<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<h2><a id="Guess_Aruco_Type_250"></a>Guess Aruco Type</h2> 
<p>学习参考来自：<a href="https://blog.csdn.net/weixin_43229348/article/details/120567950?spm=1001.2014.3001.5502">OpenCV基础（20）使用 OpenCV 和 Python 确定 ArUco 标记类型</a></p> 
<p>源码：</p> 
<blockquote> 
 <p>链接：https://pan.baidu.com/s/1DmjKL1tVbQX0YkDUzki2Jw<br> 提取码：123a</p> 
</blockquote> 
<pre><code class="prism language-python"><span class="token comment"># ------------------------</span>
<span class="token comment">#   USAGE</span>
<span class="token comment"># ------------------------</span>
<span class="token comment">#  python guess_aruco_type.py --image images/example_01.png</span>
<span class="token comment">#  python guess_aruco_type.py --image images/example_02.png</span>
<span class="token comment">#  python guess_aruco_type.py --image images/example_03.png</span>
<span class="token comment"># -----------------------------</span>
<span class="token comment">#   IMPORTS</span>
<span class="token comment"># -----------------------------</span>
<span class="token comment"># Import the necessary packages</span>
<span class="token keyword">import</span> argparse
<span class="token keyword">import</span> imutils
<span class="token keyword">import</span> cv2

<span class="token comment"># Construct the argument parser and parse the arguments</span>
ap <span class="token operator">=</span> argparse<span class="token punctuation">.</span>ArgumentParser<span class="token punctuation">(</span><span class="token punctuation">)</span>
ap<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">"-i"</span><span class="token punctuation">,</span> <span class="token string">"--image"</span><span class="token punctuation">,</span> required<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> <span class="token builtin">help</span><span class="token operator">=</span><span class="token string">"Path to the input image containing ArUCo tag"</span><span class="token punctuation">)</span>
args <span class="token operator">=</span> <span class="token builtin">vars</span><span class="token punctuation">(</span>ap<span class="token punctuation">.</span>parse_args<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># Define the names of each possible ArUCo tag that the OpenCV supports</span>
ARUCO_DICT <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token string">"DICT_4X4_50"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_4X4_50<span class="token punctuation">,</span> <span class="token string">"DICT_4X4_100"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_4X4_100<span class="token punctuation">,</span>
              <span class="token string">"DICT_4X4_250"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_4X4_250<span class="token punctuation">,</span> <span class="token string">"DICT_4X4_1000"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_4X4_1000<span class="token punctuation">,</span>
              <span class="token string">"DICT_5X5_50"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_5X5_50<span class="token punctuation">,</span> <span class="token string">"DICT_5X5_100"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_5X5_100<span class="token punctuation">,</span>
              <span class="token string">"DICT_5X5_250"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_5X5_250<span class="token punctuation">,</span> <span class="token string">"DICT_5X5_1000"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_5X5_1000<span class="token punctuation">,</span>
              <span class="token string">"DICT_6X6_50"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_6X6_50<span class="token punctuation">,</span> <span class="token string">"DICT_6X6_100"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_6X6_100<span class="token punctuation">,</span>
              <span class="token string">"DICT_6X6_250"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_6X6_250<span class="token punctuation">,</span> <span class="token string">"DICT_6X6_1000"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_6X6_1000<span class="token punctuation">,</span>
              <span class="token string">"DICT_7X7_50"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_7X7_50<span class="token punctuation">,</span> <span class="token string">"DICT_7X7_100"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_7X7_100<span class="token punctuation">,</span>
              <span class="token string">"DICT_7X7_250"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_7X7_250<span class="token punctuation">,</span> <span class="token string">"DICT_7X7_1000"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_7X7_1000<span class="token punctuation">,</span>
              <span class="token string">"DICT_ARUCO_ORIGINAL"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_ARUCO_ORIGINAL<span class="token punctuation">,</span>
              <span class="token string">"DICT_APRILTAG_16h5"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_APRILTAG_16h5<span class="token punctuation">,</span>
              <span class="token string">"DICT_APRILTAG_25h9"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_APRILTAG_25h9<span class="token punctuation">,</span>
              <span class="token string">"DICT_APRILTAG_36h10"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_APRILTAG_36h10<span class="token punctuation">,</span>
              <span class="token string">"DICT_APRILTAG_36h11"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_APRILTAG_36h11<span class="token punctuation">}</span>

<span class="token comment"># Load the input image from disk and resize it</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"[INFO] Loading image..."</span><span class="token punctuation">)</span>
image <span class="token operator">=</span> cv2<span class="token punctuation">.</span>imread<span class="token punctuation">(</span>args<span class="token punctuation">[</span><span class="token string">"image"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
image <span class="token operator">=</span> imutils<span class="token punctuation">.</span>resize<span class="token punctuation">(</span>image<span class="token punctuation">,</span> width<span class="token operator">=</span><span class="token number">800</span><span class="token punctuation">)</span>

<span class="token comment"># Loop over the types of ArUCo dictionaries</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span>arucoName<span class="token punctuation">,</span> arucoDictionary<span class="token punctuation">)</span> <span class="token keyword">in</span> ARUCO_DICT<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># Load the ArUCo dictionary, grab the ArUCo parameters and attempt to detect the markers for the current dictionary</span>
    arucoDict <span class="token operator">=</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>Dictionary_get<span class="token punctuation">(</span>arucoDictionary<span class="token punctuation">)</span>
    arucoParams <span class="token operator">=</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DetectorParameters_create<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">(</span>corners<span class="token punctuation">,</span> ids<span class="token punctuation">,</span> rejected<span class="token punctuation">)</span> <span class="token operator">=</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>detectMarkers<span class="token punctuation">(</span>image<span class="token punctuation">,</span> arucoDict<span class="token punctuation">,</span> parameters<span class="token operator">=</span>arucoParams<span class="token punctuation">)</span>
    <span class="token comment"># If at least one ArUCo marker was detected display the ArUCo marker and its type name in the terminal</span>
    <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>corners<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"[INFO] Detected {} markers for '{}'"</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>corners<span class="token punctuation">)</span><span class="token punctuation">,</span> arucoName<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p>输入<br> <img src="https://images2.imgbox.com/c2/52/PcmXuDsx_o.png" alt="在这里插入图片描述"><br> 输出</p> 
<pre><code class="prism language-python"><span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> Loading image<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> Detected <span class="token number">2</span> markers <span class="token keyword">for</span> <span class="token string">'DICT_5X5_50'</span>
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> Detected <span class="token number">5</span> markers <span class="token keyword">for</span> <span class="token string">'DICT_5X5_100'</span>
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> Detected <span class="token number">5</span> markers <span class="token keyword">for</span> <span class="token string">'DICT_5X5_250'</span>
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> Detected <span class="token number">5</span> markers <span class="token keyword">for</span> <span class="token string">'DICT_5X5_1000'</span>
</code></pre> 
<p>输入<br> <img src="https://images2.imgbox.com/ad/44/4sxCVurg_o.png" alt="在这里插入图片描述"></p> 
<p>输出</p> 
<pre><code class="prism language-python"><span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> Loading image<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> Detected <span class="token number">1</span> markers <span class="token keyword">for</span> <span class="token string">'DICT_4X4_50'</span>
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> Detected <span class="token number">1</span> markers <span class="token keyword">for</span> <span class="token string">'DICT_4X4_100'</span>
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> Detected <span class="token number">1</span> markers <span class="token keyword">for</span> <span class="token string">'DICT_4X4_250'</span>
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> Detected <span class="token number">1</span> markers <span class="token keyword">for</span> <span class="token string">'DICT_4X4_1000'</span>
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> Detected <span class="token number">4</span> markers <span class="token keyword">for</span> <span class="token string">'DICT_ARUCO_ORIGINAL'</span>
</code></pre> 
<p>输入</p> 
<p><img src="https://images2.imgbox.com/4e/ff/hlhC8n3v_o.png" alt="在这里插入图片描述"></p> 
<p>输出</p> 
<pre><code class="prism language-python"><span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> Loading image<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> Detected <span class="token number">5</span> markers <span class="token keyword">for</span> <span class="token string">'DICT_APRILTAG_36h11'</span>
</code></pre> 
<p>猜出来了 Aruco 的类型，我们就可以设定检测了</p> 
<pre><code class="prism language-python"><span class="token comment"># ------------------------</span>
<span class="token comment">#   USAGE</span>
<span class="token comment"># ------------------------</span>
<span class="token comment">#  python detect_aruco_image_type.py --image images/example_03.png</span>

<span class="token comment"># -----------------------------</span>
<span class="token comment">#   IMPORTS</span>
<span class="token comment"># -----------------------------</span>
<span class="token comment"># Import the necessary packages</span>
<span class="token keyword">import</span> argparse
<span class="token keyword">import</span> imutils
<span class="token keyword">import</span> cv2
<span class="token keyword">import</span> sys

<span class="token comment"># Construct the argument parser and parse the arguments</span>
ap <span class="token operator">=</span> argparse<span class="token punctuation">.</span>ArgumentParser<span class="token punctuation">(</span><span class="token punctuation">)</span>
ap<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">"-i"</span><span class="token punctuation">,</span> <span class="token string">"--image"</span><span class="token punctuation">,</span> required<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> <span class="token builtin">help</span><span class="token operator">=</span><span class="token string">"Path to the input image containing ArUCo tag"</span><span class="token punctuation">)</span>
args <span class="token operator">=</span> <span class="token builtin">vars</span><span class="token punctuation">(</span>ap<span class="token punctuation">.</span>parse_args<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># Define the names of each possible ArUCo tag that the OpenCV supports</span>
ARUCO_DICT <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token string">"DICT_4X4_50"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_4X4_50<span class="token punctuation">,</span> <span class="token string">"DICT_4X4_100"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_4X4_100<span class="token punctuation">,</span>
              <span class="token string">"DICT_4X4_250"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_4X4_250<span class="token punctuation">,</span> <span class="token string">"DICT_4X4_1000"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_4X4_1000<span class="token punctuation">,</span>
              <span class="token string">"DICT_5X5_50"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_5X5_50<span class="token punctuation">,</span> <span class="token string">"DICT_5X5_100"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_5X5_100<span class="token punctuation">,</span>
              <span class="token string">"DICT_5X5_250"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_5X5_250<span class="token punctuation">,</span> <span class="token string">"DICT_5X5_1000"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_5X5_1000<span class="token punctuation">,</span>
              <span class="token string">"DICT_6X6_50"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_6X6_50<span class="token punctuation">,</span> <span class="token string">"DICT_6X6_100"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_6X6_100<span class="token punctuation">,</span>
              <span class="token string">"DICT_6X6_250"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_6X6_250<span class="token punctuation">,</span> <span class="token string">"DICT_6X6_1000"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_6X6_1000<span class="token punctuation">,</span>
              <span class="token string">"DICT_7X7_50"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_7X7_50<span class="token punctuation">,</span> <span class="token string">"DICT_7X7_100"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_7X7_100<span class="token punctuation">,</span>
              <span class="token string">"DICT_7X7_250"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_7X7_250<span class="token punctuation">,</span> <span class="token string">"DICT_7X7_1000"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_7X7_1000<span class="token punctuation">,</span>
              <span class="token string">"DICT_ARUCO_ORIGINAL"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_ARUCO_ORIGINAL<span class="token punctuation">,</span>
              <span class="token string">"DICT_APRILTAG_16h5"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_APRILTAG_16h5<span class="token punctuation">,</span>
              <span class="token string">"DICT_APRILTAG_25h9"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_APRILTAG_25h9<span class="token punctuation">,</span>
              <span class="token string">"DICT_APRILTAG_36h10"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_APRILTAG_36h10<span class="token punctuation">,</span>
              <span class="token string">"DICT_APRILTAG_36h11"</span><span class="token punctuation">:</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DICT_APRILTAG_36h11<span class="token punctuation">}</span>

<span class="token comment"># Load the input image from disk and resize it</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"[INFO] Loading image..."</span><span class="token punctuation">)</span>
image <span class="token operator">=</span> cv2<span class="token punctuation">.</span>imread<span class="token punctuation">(</span>args<span class="token punctuation">[</span><span class="token string">"image"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
image <span class="token operator">=</span> imutils<span class="token punctuation">.</span>resize<span class="token punctuation">(</span>image<span class="token punctuation">,</span> width<span class="token operator">=</span><span class="token number">800</span><span class="token punctuation">)</span>

<span class="token comment"># Verify that the supplied ArUCo tag exists is supported by OpenCV</span>
<span class="token comment"># if ARUCO_DICT.get(args["type"], None) is None:</span>
<span class="token comment">#     print("[INFO] ArUCo tag of '{}' is not supported!".format(args["type"]))</span>
<span class="token comment">#     sys.exit(0)</span>

<span class="token comment"># Loop over the types of ArUCo dictionaries</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span>arucoName<span class="token punctuation">,</span> arucoDictionary<span class="token punctuation">)</span> <span class="token keyword">in</span> ARUCO_DICT<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># Load the ArUCo dictionary, grab the ArUCo parameters and attempt to detect the markers for the current dictionary</span>
    arucoDict <span class="token operator">=</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>Dictionary_get<span class="token punctuation">(</span>arucoDictionary<span class="token punctuation">)</span>
    arucoParams <span class="token operator">=</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>DetectorParameters_create<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">(</span>corners<span class="token punctuation">,</span> ids<span class="token punctuation">,</span> rejected<span class="token punctuation">)</span> <span class="token operator">=</span> cv2<span class="token punctuation">.</span>aruco<span class="token punctuation">.</span>detectMarkers<span class="token punctuation">(</span>image<span class="token punctuation">,</span> arucoDict<span class="token punctuation">,</span> parameters<span class="token operator">=</span>arucoParams<span class="token punctuation">)</span>
    <span class="token comment"># If at least one ArUCo marker was detected display the ArUCo marker and its type name in the terminal</span>
    <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>corners<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"[INFO] Detected {} markers for '{}'"</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>corners<span class="token punctuation">)</span><span class="token punctuation">,</span> arucoName<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token comment"># Flatten the ArUCo IDs list</span>
        IDS <span class="token operator">=</span> ids<span class="token punctuation">.</span>flatten<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token comment"># Loop over the detected ArUCo corners</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span>markerCorner<span class="token punctuation">,</span> markerID<span class="token punctuation">)</span> <span class="token keyword">in</span> <span class="token builtin">zip</span><span class="token punctuation">(</span>corners<span class="token punctuation">,</span> IDS<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token comment"># Extract the markers corners which are always returned in the following order:</span>
            <span class="token comment"># TOP-LEFT, TOP-RIGHT, BOTTOM-RIGHT, BOTTOM-LEFT</span>
            corners <span class="token operator">=</span> markerCorner<span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">(</span>topLeft<span class="token punctuation">,</span> topRight<span class="token punctuation">,</span> bottomRight<span class="token punctuation">,</span> bottomLeft<span class="token punctuation">)</span> <span class="token operator">=</span> corners
            <span class="token comment"># Convert each of the (x, y)-coordinate pairs to integers</span>
            topRight <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>topRight<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">(</span>topRight<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            bottomRight <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>bottomRight<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">(</span>bottomRight<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            bottomLeft <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>bottomLeft<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">(</span>bottomLeft<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            topLeft <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>topLeft<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">(</span>topLeft<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token comment"># Draw the bounding box of the ArUCo detection</span>
            cv2<span class="token punctuation">.</span>line<span class="token punctuation">(</span>image<span class="token punctuation">,</span> topLeft<span class="token punctuation">,</span> topRight<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
            cv2<span class="token punctuation">.</span>line<span class="token punctuation">(</span>image<span class="token punctuation">,</span> topRight<span class="token punctuation">,</span> bottomRight<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
            cv2<span class="token punctuation">.</span>line<span class="token punctuation">(</span>image<span class="token punctuation">,</span> bottomRight<span class="token punctuation">,</span> bottomLeft<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
            cv2<span class="token punctuation">.</span>line<span class="token punctuation">(</span>image<span class="token punctuation">,</span> bottomLeft<span class="token punctuation">,</span> topLeft<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
            <span class="token comment"># Compute and draw the center (x, y) coordinates of the ArUCo marker</span>
            cX <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span><span class="token punctuation">(</span>topLeft<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> bottomRight<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2.0</span><span class="token punctuation">)</span>
            cY <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span><span class="token punctuation">(</span>topLeft<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> bottomRight<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2.0</span><span class="token punctuation">)</span>
            cv2<span class="token punctuation">.</span>circle<span class="token punctuation">(</span>image<span class="token punctuation">,</span> <span class="token punctuation">(</span>cX<span class="token punctuation">,</span> cY<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
            <span class="token comment"># Get marker type name</span>
            markerType <span class="token operator">=</span> <span class="token string">"{} -&gt; {}"</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>markerID<span class="token punctuation">,</span> arucoName<span class="token punctuation">)</span>
            <span class="token comment"># Draw the ArUco marker ID on the image</span>
            cv2<span class="token punctuation">.</span>putText<span class="token punctuation">(</span>image<span class="token punctuation">,</span> <span class="token builtin">str</span><span class="token punctuation">(</span>markerType<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>topLeft<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> topLeft<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">,</span> cv2<span class="token punctuation">.</span>FONT_HERSHEY_SIMPLEX<span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span>
                        <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"[INFO] ArUco marker ID: {}"</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>markerID<span class="token punctuation">)</span><span class="token punctuation">)</span>

            <span class="token comment"># Write the output image</span>
            cv2<span class="token punctuation">.</span>imwrite<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>markerID<span class="token punctuation">}</span></span><span class="token string">_</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>arucoName<span class="token punctuation">}</span></span><span class="token string">.jpg"</span></span><span class="token punctuation">,</span> image<span class="token punctuation">)</span>
            <span class="token comment"># Show the output image</span>
            cv2<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span><span class="token string">"Image"</span><span class="token punctuation">,</span> image<span class="token punctuation">)</span>
            cv2<span class="token punctuation">.</span>waitKey<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
</code></pre> 
<p>输入</p> 
<p><img src="https://images2.imgbox.com/5e/73/B7yDqmpS_o.png" alt="在这里插入图片描述"></p> 
<p>依次输出</p> 
<p>7_DICT_APRILTAG_36h11<br> <img src="https://images2.imgbox.com/4a/25/7Lp557Td_o.jpg" alt="在这里插入图片描述"><br> 3_DICT_APRILTAG_36h11<br> <img src="https://images2.imgbox.com/e3/44/MUUZ6Q4Q_o.jpg" alt="在这里插入图片描述"></p> 
<p>5_DICT_APRILTAG_36h11<br> <img src="https://images2.imgbox.com/be/b5/YaozGf7O_o.jpg" alt="在这里插入图片描述"></p> 
<p>14_DICT_APRILTAG_36h11</p> 
<p><img src="https://images2.imgbox.com/04/68/cM6oLVGU_o.jpg" alt="在这里插入图片描述"><br> 8_DICT_APRILTAG_36h11<br> <img src="https://images2.imgbox.com/b8/60/X9wOE73e_o.jpg" alt="在这里插入图片描述"></p> 
<p>再看看另外一个的案例</p> 
<p>DICT_5X5_100<br> <img src="https://images2.imgbox.com/73/25/KvQCmtvY_o.jpg" alt="在这里插入图片描述"></p> 
<p>87_DICT_5X5_250<br> <img src="https://images2.imgbox.com/eb/d6/xDg4dkuD_o.jpg" alt="在这里插入图片描述"></p> 
<p>87_DICT_5X5_1000</p> 
<p><img src="https://images2.imgbox.com/f2/c4/uBxgfy1i_o.jpg" alt="在这里插入图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/5b7e14097e3a4960148872df2f9ec977/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">elasticsearch去重：collapse、cardinality、terms&#43;top_hits实现总结</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/3a95b878eb858bd0560aba98b1148eab/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Linux-笔记 高级I/O操作</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>