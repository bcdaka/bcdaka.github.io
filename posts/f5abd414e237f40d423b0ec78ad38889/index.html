<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>视图，存储过程和触发器 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/f5abd414e237f40d423b0ec78ad38889/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="视图，存储过程和触发器">
  <meta property="og:description" content="目录
视图
创建视图：
视图的使用
查看库中所有的视图
删除视图
视图的作用：
存储过程：
为什么使用存储过程？
什么是存储过程？
存储过程的创建
创建一个最简单的存储过程
使用存储过程
删除存储过程
带参的存储过程
存储过程的缺陷
存储过程和函数的区别
面试题
分页
触发器
什么是触发器？
创建触发器
例子：
查看触发器
删除触发器
存储过程和触发器的区别：
视图 是从一个或者几个基本表（或视图）导出的表，它与基本表不同，是一个虚表
视图只能用来查询，不能做增删改（虚拟表）
创建视图： create view 视图名【view_xxx / v_xxx】
as 查询语句
create view v_stu_man as select * from student where ssex=&#39;男&#39;;
视图的使用 select * from v_stu_man;
查看库中所有的视图 select * from information_schema.VIEWS WHERE table_schema = &#39;myshool&#39;;
删除视图 drop view v_stu_man;
视图的作用： 简化查询重写格式化数据频繁访问数据库过滤数据 存储过程： 本质上是一个函数">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-07-24T18:54:32+08:00">
    <meta property="article:modified_time" content="2024-07-24T18:54:32+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">视图，存储过程和触发器</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="%C2%A0%E8%A7%86%E5%9B%BE-toc" style="margin-left:80px;"><a href="#%C2%A0%E8%A7%86%E5%9B%BE" rel="nofollow"> 视图</a></p> 
<p id="%C2%A0%E5%88%9B%E5%BB%BA%E8%A7%86%E5%9B%BE%EF%BC%9A-toc" style="margin-left:120px;"><a href="#%C2%A0%E5%88%9B%E5%BB%BA%E8%A7%86%E5%9B%BE%EF%BC%9A" rel="nofollow"> 创建视图：</a></p> 
<p id="%C2%A0%E8%A7%86%E5%9B%BE%E7%9A%84%E4%BD%BF%E7%94%A8-toc" style="margin-left:120px;"><a href="#%C2%A0%E8%A7%86%E5%9B%BE%E7%9A%84%E4%BD%BF%E7%94%A8" rel="nofollow"> 视图的使用</a></p> 
<p id="%C2%A0%E6%9F%A5%E7%9C%8B%E5%BA%93%E4%B8%AD%E6%89%80%E6%9C%89%E7%9A%84%E8%A7%86%E5%9B%BE-toc" style="margin-left:120px;"><a href="#%C2%A0%E6%9F%A5%E7%9C%8B%E5%BA%93%E4%B8%AD%E6%89%80%E6%9C%89%E7%9A%84%E8%A7%86%E5%9B%BE" rel="nofollow"> 查看库中所有的视图</a></p> 
<p id="%C2%A0%E5%88%A0%E9%99%A4%E8%A7%86%E5%9B%BE-toc" style="margin-left:120px;"><a href="#%C2%A0%E5%88%A0%E9%99%A4%E8%A7%86%E5%9B%BE" rel="nofollow"> 删除视图</a></p> 
<p id="%E8%A7%86%E5%9B%BE%E7%9A%84%E4%BD%9C%E7%94%A8%EF%BC%9A-toc" style="margin-left:120px;"><a href="#%E8%A7%86%E5%9B%BE%E7%9A%84%E4%BD%9C%E7%94%A8%EF%BC%9A" rel="nofollow">视图的作用：</a></p> 
<p id="%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%EF%BC%9A-toc" style="margin-left:80px;"><a href="#%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%EF%BC%9A" rel="nofollow">存储过程：</a></p> 
<p id="%E4%B8%BA%E4%BB%80%E4%B9%88%E4%BD%BF%E7%94%A8%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%EF%BC%9F-toc" style="margin-left:120px;"><a href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E4%BD%BF%E7%94%A8%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%EF%BC%9F" rel="nofollow">为什么使用存储过程？</a></p> 
<p id="%E4%BB%80%E4%B9%88%E6%98%AF%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%EF%BC%9F-toc" style="margin-left:120px;"><a href="#%E4%BB%80%E4%B9%88%E6%98%AF%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%EF%BC%9F" rel="nofollow">什么是存储过程？</a></p> 
<p id="%C2%A0%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E7%9A%84%E5%88%9B%E5%BB%BA-toc" style="margin-left:120px;"><a href="#%C2%A0%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E7%9A%84%E5%88%9B%E5%BB%BA" rel="nofollow"> 存储过程的创建</a></p> 
<p id="%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E6%9C%80%E7%AE%80%E5%8D%95%E7%9A%84%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B-toc" style="margin-left:120px;"><a href="#%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E6%9C%80%E7%AE%80%E5%8D%95%E7%9A%84%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B" rel="nofollow">创建一个最简单的存储过程</a></p> 
<p id="%E4%BD%BF%E7%94%A8%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B-toc" style="margin-left:120px;"><a href="#%E4%BD%BF%E7%94%A8%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B" rel="nofollow">使用存储过程</a></p> 
<p id="%E5%88%A0%E9%99%A4%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B-toc" style="margin-left:120px;"><a href="#%E5%88%A0%E9%99%A4%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B" rel="nofollow">删除存储过程</a></p> 
<p id="%E5%B8%A6%E5%8F%82%E7%9A%84%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B-toc" style="margin-left:120px;"><a href="#%E5%B8%A6%E5%8F%82%E7%9A%84%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B" rel="nofollow">带参的存储过程</a></p> 
<p id="%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E7%9A%84%E7%BC%BA%E9%99%B7-toc" style="margin-left:120px;"><a href="#%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E7%9A%84%E7%BC%BA%E9%99%B7" rel="nofollow">存储过程的缺陷</a></p> 
<p id="%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E5%92%8C%E5%87%BD%E6%95%B0%E7%9A%84%E5%8C%BA%E5%88%AB-toc" style="margin-left:120px;"><a href="#%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E5%92%8C%E5%87%BD%E6%95%B0%E7%9A%84%E5%8C%BA%E5%88%AB" rel="nofollow">存储过程和函数的区别</a></p> 
<p id="%E9%9D%A2%E8%AF%95%E9%A2%98-toc" style="margin-left:80px;"><a href="#%E9%9D%A2%E8%AF%95%E9%A2%98" rel="nofollow">面试题</a></p> 
<p id="%E5%88%86%E9%A1%B5-toc" style="margin-left:120px;"><a href="#%E5%88%86%E9%A1%B5" rel="nofollow">分页</a></p> 
<p id="%E8%A7%A6%E5%8F%91%E5%99%A8-toc" style="margin-left:80px;"><a href="#%E8%A7%A6%E5%8F%91%E5%99%A8" rel="nofollow">触发器</a></p> 
<p id="%E4%BB%80%E4%B9%88%E6%98%AF%E8%A7%A6%E5%8F%91%E5%99%A8%EF%BC%9F-toc" style="margin-left:120px;"><a href="#%E4%BB%80%E4%B9%88%E6%98%AF%E8%A7%A6%E5%8F%91%E5%99%A8%EF%BC%9F" rel="nofollow">什么是触发器？</a></p> 
<p id="%E5%88%9B%E5%BB%BA%E8%A7%A6%E5%8F%91%E5%99%A8-toc" style="margin-left:120px;"><a href="#%E5%88%9B%E5%BB%BA%E8%A7%A6%E5%8F%91%E5%99%A8" rel="nofollow">创建触发器</a></p> 
<p id="%E4%BE%8B%E5%AD%90%EF%BC%9A-toc" style="margin-left:120px;"><a href="#%E4%BE%8B%E5%AD%90%EF%BC%9A" rel="nofollow">例子：</a></p> 
<p id="%E6%9F%A5%E7%9C%8B%E8%A7%A6%E5%8F%91%E5%99%A8-toc" style="margin-left:120px;"><a href="#%E6%9F%A5%E7%9C%8B%E8%A7%A6%E5%8F%91%E5%99%A8" rel="nofollow">查看触发器</a></p> 
<p id="%E5%88%A0%E9%99%A4%E8%A7%A6%E5%8F%91%E5%99%A8-toc" style="margin-left:120px;"><a href="#%E5%88%A0%E9%99%A4%E8%A7%A6%E5%8F%91%E5%99%A8" rel="nofollow">删除触发器</a></p> 
<p id="%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E5%92%8C%E8%A7%A6%E5%8F%91%E5%99%A8%E7%9A%84%E5%8C%BA%E5%88%AB%EF%BC%9A-toc" style="margin-left:80px;"><a href="#%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E5%92%8C%E8%A7%A6%E5%8F%91%E5%99%A8%E7%9A%84%E5%8C%BA%E5%88%AB%EF%BC%9A" rel="nofollow">存储过程和触发器的区别：</a></p> 
<hr id="hr-toc"> 
<p></p> 
<h4 id="%C2%A0%E8%A7%86%E5%9B%BE" style="margin-left:.0001pt;text-align:justify;"><strong><strong> 视图</strong></strong></h4> 
<p style="margin-left:.0001pt;text-align:justify;">是从一个或者几个基本表（或视图）导出的表，它与基本表不同，是一个虚表</p> 
<p style="margin-left:.0001pt;text-align:justify;"> 视图只能用来查询，不能做增删改（虚拟表）</p> 
<h5 id="%C2%A0%E5%88%9B%E5%BB%BA%E8%A7%86%E5%9B%BE%EF%BC%9A" style="margin-left:.0001pt;text-align:justify;"><strong><strong> 创建视图</strong></strong><strong><strong>：</strong></strong></h5> 
<p style="margin-left:.0001pt;text-align:justify;"> create view 视图名【view_xxx / v_xxx】</p> 
<p style="margin-left:.0001pt;text-align:justify;"> as 查询语句</p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#0000ff;">create view v_stu_man as</span> <span style="color:#0000ff;">select * from student where ssex='男';</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<h5 id="%C2%A0%E8%A7%86%E5%9B%BE%E7%9A%84%E4%BD%BF%E7%94%A8" style="margin-left:.0001pt;text-align:justify;"><strong><strong> 视图的使用</strong></strong></h5> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#0000ff;">select * from v_stu_man;</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<h5 id="%C2%A0%E6%9F%A5%E7%9C%8B%E5%BA%93%E4%B8%AD%E6%89%80%E6%9C%89%E7%9A%84%E8%A7%86%E5%9B%BE" style="margin-left:.0001pt;text-align:justify;"><strong><strong> 查看库中</strong></strong><strong><strong>所有</strong></strong><strong><strong>的视图</strong></strong></h5> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#0000ff;">select * from information_schema.VIEWS WHERE table_schema = 'myshool';</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<h5 id="%C2%A0%E5%88%A0%E9%99%A4%E8%A7%86%E5%9B%BE" style="margin-left:.0001pt;text-align:justify;"><strong><strong> 删除视图</strong></strong></h5> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#0000ff;">drop view v_stu_man;</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<h5 id="%E8%A7%86%E5%9B%BE%E7%9A%84%E4%BD%9C%E7%94%A8%EF%BC%9A" style="margin-left:.0001pt;text-align:justify;"><strong><strong>视图的作用：</strong></strong></h5> 
<ol><li style="text-align:justify;">简化查询</li><li style="text-align:justify;">重写格式化数据</li><li style="text-align:justify;">频繁访问数据库</li><li style="text-align:justify;">过滤数据</li></ol> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<h4 id="%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%EF%BC%9A" style="margin-left:.0001pt;text-align:justify;"><strong><strong>存储过程：</strong></strong></h4> 
<p style="margin-left:.0001pt;text-align:justify;"> 本质上是一个函数</p> 
<h5 id="%E4%B8%BA%E4%BB%80%E4%B9%88%E4%BD%BF%E7%94%A8%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%EF%BC%9F" style="margin-left:.0001pt;text-align:justify;"><strong><em><strong><em>为什么使用存储过程？</em></strong></em></strong></h5> 
<p style="margin-left:.0001pt;text-align:left;">业务流程复杂：<span style="color:#000000;">业务复杂时，</span><span style="color:#000000;">SQL</span><span style="color:#000000;">语句相互依赖，顺序执行</span></p> 
<p style="margin-left:.0001pt;text-align:left;">频繁访问数据库：<span style="color:#000000;">每条</span><span style="color:#000000;">SQL</span><span style="color:#000000;">语句都需单独连接和访问数据库； </span></p> 
<p style="margin-left:.0001pt;text-align:left;">先编译后执行：<span style="color:#000000;">SQL</span><span style="color:#000000;">语句的执行需要先编译。</span></p> 
<h5 id="%E4%BB%80%E4%B9%88%E6%98%AF%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%EF%BC%9F" style="margin-left:.0001pt;text-align:left;"><em><span style="color:#000000;"><em>什么是存储过程？</em></span></em></h5> 
<p style="margin-left:.0001pt;text-align:left;"><span style="color:#404040;">存储过程（Stored Procedure）是在大型数据库系统中，一组为了完成特定功能的SQL 语句集，存储在数据库中，经过第一次编译后，再次调用不需要重复编译，用户通过指定存储过程的名字并给出参数（如果该存储过程带有参数）来执行它。</span></p> 
<p style="margin-left:.0001pt;text-align:left;"></p> 
<h5 id="%C2%A0%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E7%9A%84%E5%88%9B%E5%BB%BA" style="margin-left:.0001pt;text-align:justify;"><strong><strong> 存储过程的创建</strong></strong></h5> 
<p style="margin-left:.0001pt;text-align:justify;"> create procedure 存储过程的名字【proc_xxx】(形参列表)</p> 
<p style="margin-left:.0001pt;text-align:justify;"> BEGIN</p> 
<p style="margin-left:.0001pt;text-align:justify;">  一组sql语句集</p> 
<p style="margin-left:.0001pt;text-align:justify;"> END</p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<h5 id="%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E6%9C%80%E7%AE%80%E5%8D%95%E7%9A%84%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B" style="margin-left:.0001pt;text-align:justify;"><strong><em><strong><em>创建一个最简单的存储过程</em></strong></em></strong></h5> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#0000ff;">delimiter $$ </span>  -- 定制定界符</p> 
<p style="margin-left:.0001pt;text-align:justify;">create procedure proc_test()</p> 
<p style="margin-left:.0001pt;text-align:justify;">begin</p> 
<p style="margin-left:.0001pt;text-align:justify;">select * from student;</p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#0000ff;">end $$</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#0000ff;">delimiter ;</span>  -- 恢复默认的定界符</p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<h5 id="%E4%BD%BF%E7%94%A8%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B" style="margin-left:.0001pt;text-align:justify;"><strong><em><strong><em>使用存储过程</em></strong></em></strong></h5> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#0000ff;">call proc_test();</span></p> 
<h5 id="%E5%88%A0%E9%99%A4%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B" style="margin-left:.0001pt;text-align:justify;"><strong><em><strong><em>删除存储过程</em></strong></em></strong></h5> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#0000ff;">drop procedure proc_stuPage;</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<h5 id="%E5%B8%A6%E5%8F%82%E7%9A%84%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B" style="margin-left:.0001pt;text-align:justify;"><strong><em><strong><em>带参的存储过程</em></strong></em></strong></h5> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="469" src="https://images2.imgbox.com/85/56/oQbJsZx1_o.png" width="600"></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<h5 id="%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E7%9A%84%E7%BC%BA%E9%99%B7" style="margin-left:.0001pt;text-align:justify;"><strong><em><strong><em>存储过程的缺陷</em></strong></em></strong></h5> 
<p style="margin-left:.0001pt;text-align:justify;">维护性：存储过程的维护成本高，修改挑选调试较为麻烦</p> 
<p style="margin-left:.0001pt;text-align:justify;">移植性：大多数关系行数据库的存储过程存在细微差异</p> 
<p style="margin-left:.0001pt;text-align:justify;">协作性没有相关的版本控制或者IDE，团队中对于存储过程的使用大多是依赖文档</p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<h5 id="%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E5%92%8C%E5%87%BD%E6%95%B0%E7%9A%84%E5%8C%BA%E5%88%AB" style="margin-left:.0001pt;text-align:left;"><strong><em><span style="color:#7f7f7f;"><strong><em>存储过程和函数的区别 </em></strong></span></em></strong></h5> 
<p style="margin-left:.0001pt;text-align:left;"><span style="color:#7f7f7f;">•</span> <span style="color:#7f7f7f;">关键字不同</span><span style="color:#595959;">； </span></p> 
<p style="margin-left:.0001pt;text-align:left;"><span style="color:#7f7f7f;">• </span><span style="color:#7f7f7f;">执行和调用方式不同； </span></p> 
<p style="margin-left:.0001pt;text-align:left;"><span style="color:#7f7f7f;">• </span><span style="color:#7f7f7f;">返回值不同； </span></p> 
<p style="margin-left:.0001pt;text-align:left;"><span style="color:#7f7f7f;">• </span><span style="color:#7f7f7f;">功能不同。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<h4 id="%E9%9D%A2%E8%AF%95%E9%A2%98" style="margin-left:.0001pt;text-align:justify;">面试题</h4> 
<h5 id="%E5%88%86%E9%A1%B5" style="margin-left:.0001pt;text-align:justify;">分页</h5> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="414" src="https://images2.imgbox.com/31/4c/dwVgkTXx_o.png" width="743"></p> 
<p style="margin-left:.0001pt;text-align:left;"></p> 
<h4 id="%E8%A7%A6%E5%8F%91%E5%99%A8" style="margin-left:.0001pt;text-align:left;">触发器</h4> 
<h5 id="%E4%BB%80%E4%B9%88%E6%98%AF%E8%A7%A6%E5%8F%91%E5%99%A8%EF%BC%9F" style="margin-left:.0001pt;text-align:left;">什么是触发器？</h5> 
<div> 
 <span style="color:#073c65;">触发器是数据库中针对数据库表操作触发的特殊的存储过程。</span> 
</div> 
<p style="margin-left:.0001pt;text-align:left;"></p> 
<h5 id="%E5%88%9B%E5%BB%BA%E8%A7%A6%E5%8F%91%E5%99%A8" style="margin-left:.0001pt;text-align:left;">创建触发器</h5> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#0070c0;">delimiter $$</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#0070c0;"> create trigger 触发器名【trig_xxx】</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#0070c0;">before/after insert/ update/ delete</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#0070c0;"> on 表名 for each row </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#0070c0;"> begin </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#0070c0;">   触发后执行的一组sql语句</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#0070c0;"> end $$</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#0070c0;"> delimiter ;</span></p> 
<p style="margin-left:.0001pt;text-align:left;">主要针对表的增删改操作，可单独指定，也可全部指定<span style="color:#595959;">。</span></p> 
<h5 id="%E4%BE%8B%E5%AD%90%EF%BC%9A" style="margin-left:.0001pt;text-align:justify;">例子：</h5> 
<p style="margin-left:.0001pt;text-align:justify;">删除学生sid为1，在此之前把学生的成绩删除</p> 
<p style="margin-left:.0001pt;text-align:justify;">（触发器先执行，再执行sql语句）</p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="251" src="https://images2.imgbox.com/4c/fb/vx7oRFlJ_o.png" width="569"></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<h5 id="%E6%9F%A5%E7%9C%8B%E8%A7%A6%E5%8F%91%E5%99%A8" style="margin-left:.0001pt;text-align:justify;">查看触发器</h5> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#0070c0;">SELECT * FROM information_schema.`TRIGGERS`</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#0070c0;">WHERE trigger_schema = 'myshool';</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<h5 id="%E5%88%A0%E9%99%A4%E8%A7%A6%E5%8F%91%E5%99%A8" style="margin-left:.0001pt;text-align:justify;">删除触发器</h5> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#0070c0;">DROP TRIGGER trig_delstu_delsc;</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<h4 id="%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E5%92%8C%E8%A7%A6%E5%8F%91%E5%99%A8%E7%9A%84%E5%8C%BA%E5%88%AB%EF%BC%9A" style="margin-left:.0001pt;text-align:justify;"><strong><em><strong><em>存储过程和触发器的区别：</em></strong></em></strong></h4> 
<p style="margin-left:.0001pt;text-align:left;">语法：关键字不同，存储过程是procedure，触发器是trigger；</p> 
<p style="margin-left:.0001pt;text-align:left;">执行：存储过程需要调用才执行，触发器自动执行；</p> 
<p style="margin-left:.0001pt;text-align:left;">返回值：存储过程可以定义返回值，但是触发器没有返回值；</p> 
<p style="margin-left:.0001pt;text-align:left;">功能：存储过程是一组特定功能的SQL语句，触发器则是SQL语</p> 
<p style="margin-left:.0001pt;text-align:left;">句前后执行，本身不影响原功能。</p> 
<p style="margin-left:.0001pt;text-align:justify;"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/2dcca6cf8d5f553ca7bcd1560eb5536a/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Win11 操作（四）g502鼠标连接电脑不亮灯无反应</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/3e35a0a44eafeed23d14f35607f596fb/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">2024.7.24 作业</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>