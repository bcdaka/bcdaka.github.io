<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>大数据技术之Hadoop(十一)——网站流量日志数据分析系统 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/daeb903d449fa39d53de651e3556fe57/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="大数据技术之Hadoop(十一)——网站流量日志数据分析系统">
  <meta property="og:description" content="目录
素材：
一、模块开发——数据预处理
1、分析预处理的数据
2、实现数据的预处理
（1）创建Maven项目，添加相关依赖
（2）创建JavaBean对象，封装日志记录
（3）创建MapReduce程序，执行数据预处理
二、模块开发——数据仓库开发
1、上传文件
2、实现数据仓库
三、模块开发——数据分析
四、模块开发——数据导出
五、模块开发——日志分析系统报表展示
1、搭建日志分析系统
（1）创建项目，添加相关依赖
（2）编写配置文件
2、实现报表功能展示
（1）创建持久化类
（2）实现DAO层
（3）实现Service层
（4）实现Controller层
（5）实现页面功能
3、系统功能模块展示
​编辑
参考书籍：
素材： http://链接: https://pan.baidu.com/s/1aNxbVjNq1z1A-oOIYy_E4Q?pwd=gjpt 提取码: gjpthttp://链接: https://pan.baidu.com/s/1aNxbVjNq1z1A-oOIYy_E4Q?pwd=gjpt 提取码: gjpt
一、模块开发——数据预处理 1、分析预处理的数据 在收集的日志文件中，通常情况下，不能直接将日志文件进行数据分析，这是因为日志文件中有许多不合法的数据(比如日志数据在网络传输过程中发送数据丢失)。
在数据预处理阶段,主要目的就是对收集的原始数据进行清洗和筛选，因此使用MapReduce 技术就可以轻松实现。在实际开发中，数据预处理过程通常不会直接将不合法的数据直接删除，而是对每条数据添加标识字段，从而避免其他业务使用时丢失数据。
另外,此次数据预处理只是清洗和筛选不合法的数据信息，会读取每行日志文件数据并最终输出一条数据，不会进行其他操作，因此在使用MapReduce技术进行处理过程中，只会涉及 Map 阶段，不会涉及Reduce 阶段。在默认情况下，ReduceTask值为1，因此在主运行函数中，需要设置 Job.setNumReduceTasks(0)。
2、实现数据的预处理 （1）创建Maven项目，添加相关依赖 pom.xml文件配置如下：
&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt; &lt;project xmlns=&#34;http://maven.apache.org/POM/4.0.0&#34; xmlns:xsi=&#34;http://www.w3.org/2001/XMLSchema-instance&#34; xsi:schemaLocation=&#34;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&#34;&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;cn.itcast&lt;/groupId&gt; &lt;artifactId&gt;HadoopDataReport&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt; &lt;artifactId&gt;hadoop-common&lt;/artifactId&gt; &lt;version&gt;2.10.1&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt; &lt;artifactId&gt;hadoop-client&lt;/artifactId&gt; &lt;version&gt;2.10.1&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2023-01-22T02:19:12+08:00">
    <meta property="article:modified_time" content="2023-01-22T02:19:12+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">大数据技术之Hadoop(十一)——网站流量日志数据分析系统</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="%E7%B4%A0%E6%9D%90%EF%BC%9A-toc" style="margin-left:0px;"><a href="#%E7%B4%A0%E6%9D%90%EF%BC%9A" rel="nofollow">素材：</a></p> 
<p id="%E4%B8%80%E3%80%81%E6%A8%A1%E5%9D%97%E5%BC%80%E5%8F%91%E2%80%94%E2%80%94%E6%95%B0%E6%8D%AE%E9%A2%84%E5%A4%84%E7%90%86-toc" style="margin-left:0px;"><a href="#%E4%B8%80%E3%80%81%E6%A8%A1%E5%9D%97%E5%BC%80%E5%8F%91%E2%80%94%E2%80%94%E6%95%B0%E6%8D%AE%E9%A2%84%E5%A4%84%E7%90%86" rel="nofollow">一、模块开发——数据预处理</a></p> 
<p id="1%E3%80%81%E5%88%86%E6%9E%90%E9%A2%84%E5%A4%84%E7%90%86%E7%9A%84%E6%95%B0%E6%8D%AE-toc" style="margin-left:40px;"><a href="#1%E3%80%81%E5%88%86%E6%9E%90%E9%A2%84%E5%A4%84%E7%90%86%E7%9A%84%E6%95%B0%E6%8D%AE" rel="nofollow">1、分析预处理的数据</a></p> 
<p id="2%E3%80%81%E5%AE%9E%E7%8E%B0%E6%95%B0%E6%8D%AE%E7%9A%84%E9%A2%84%E5%A4%84%E7%90%86-toc" style="margin-left:40px;"><a href="#2%E3%80%81%E5%AE%9E%E7%8E%B0%E6%95%B0%E6%8D%AE%E7%9A%84%E9%A2%84%E5%A4%84%E7%90%86" rel="nofollow">2、实现数据的预处理</a></p> 
<p id="%EF%BC%881%EF%BC%89%E5%88%9B%E5%BB%BAMaven%E9%A1%B9%E7%9B%AE%EF%BC%8C%E6%B7%BB%E5%8A%A0%E7%9B%B8%E5%85%B3%E4%BE%9D%E8%B5%96-toc" style="margin-left:80px;"><a href="#%EF%BC%881%EF%BC%89%E5%88%9B%E5%BB%BAMaven%E9%A1%B9%E7%9B%AE%EF%BC%8C%E6%B7%BB%E5%8A%A0%E7%9B%B8%E5%85%B3%E4%BE%9D%E8%B5%96" rel="nofollow">（1）创建Maven项目，添加相关依赖</a></p> 
<p id="%EF%BC%882%EF%BC%89%E5%88%9B%E5%BB%BAJavaBean%E5%AF%B9%E8%B1%A1%EF%BC%8C%E5%B0%81%E8%A3%85%E6%97%A5%E5%BF%97%E8%AE%B0%E5%BD%95-toc" style="margin-left:80px;"><a href="#%EF%BC%882%EF%BC%89%E5%88%9B%E5%BB%BAJavaBean%E5%AF%B9%E8%B1%A1%EF%BC%8C%E5%B0%81%E8%A3%85%E6%97%A5%E5%BF%97%E8%AE%B0%E5%BD%95" rel="nofollow">（2）创建JavaBean对象，封装日志记录</a></p> 
<p id="%EF%BC%883%EF%BC%89%E5%88%9B%E5%BB%BAMapReduce%E7%A8%8B%E5%BA%8F%EF%BC%8C%E6%89%A7%E8%A1%8C%E6%95%B0%E6%8D%AE%E9%A2%84%E5%A4%84%E7%90%86-toc" style="margin-left:80px;"><a href="#%EF%BC%883%EF%BC%89%E5%88%9B%E5%BB%BAMapReduce%E7%A8%8B%E5%BA%8F%EF%BC%8C%E6%89%A7%E8%A1%8C%E6%95%B0%E6%8D%AE%E9%A2%84%E5%A4%84%E7%90%86" rel="nofollow">（3）创建MapReduce程序，执行数据预处理</a></p> 
<p id="%C2%A0%E4%BA%8C%E3%80%81%E6%A8%A1%E5%9D%97%E5%BC%80%E5%8F%91%E2%80%94%E2%80%94%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E5%BC%80%E5%8F%91-toc" style="margin-left:0px;"><a href="#%C2%A0%E4%BA%8C%E3%80%81%E6%A8%A1%E5%9D%97%E5%BC%80%E5%8F%91%E2%80%94%E2%80%94%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E5%BC%80%E5%8F%91" rel="nofollow"> 二、模块开发——数据仓库开发</a></p> 
<p id="1%E3%80%81%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6-toc" style="margin-left:40px;"><a href="#1%E3%80%81%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6" rel="nofollow">1、上传文件</a></p> 
<p id="2%E3%80%81%E5%AE%9E%E7%8E%B0%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93-toc" style="margin-left:40px;"><a href="#2%E3%80%81%E5%AE%9E%E7%8E%B0%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93" rel="nofollow">2、实现数据仓库</a></p> 
<p id="%E4%B8%89%E3%80%81%E6%A8%A1%E5%9D%97%E5%BC%80%E5%8F%91%E2%80%94%E2%80%94%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90-toc" style="margin-left:0px;"><a href="#%E4%B8%89%E3%80%81%E6%A8%A1%E5%9D%97%E5%BC%80%E5%8F%91%E2%80%94%E2%80%94%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90" rel="nofollow">三、模块开发——数据分析</a></p> 
<p id="%C2%A0%E5%9B%9B%E3%80%81%E6%A8%A1%E5%9D%97%E5%BC%80%E5%8F%91%E2%80%94%E2%80%94%E6%95%B0%E6%8D%AE%E5%AF%BC%E5%87%BA-toc" style="margin-left:0px;"><a href="#%C2%A0%E5%9B%9B%E3%80%81%E6%A8%A1%E5%9D%97%E5%BC%80%E5%8F%91%E2%80%94%E2%80%94%E6%95%B0%E6%8D%AE%E5%AF%BC%E5%87%BA" rel="nofollow"> 四、模块开发——数据导出</a></p> 
<p id="%E4%BA%94%E3%80%81%E6%A8%A1%E5%9D%97%E5%BC%80%E5%8F%91%E2%80%94%E2%80%94%E6%97%A5%E5%BF%97%E5%88%86%E6%9E%90%E7%B3%BB%E7%BB%9F%E6%8A%A5%E8%A1%A8%E5%B1%95%E7%A4%BA-toc" style="margin-left:0px;"><a href="#%E4%BA%94%E3%80%81%E6%A8%A1%E5%9D%97%E5%BC%80%E5%8F%91%E2%80%94%E2%80%94%E6%97%A5%E5%BF%97%E5%88%86%E6%9E%90%E7%B3%BB%E7%BB%9F%E6%8A%A5%E8%A1%A8%E5%B1%95%E7%A4%BA" rel="nofollow">五、模块开发——日志分析系统报表展示</a></p> 
<p id="1%E3%80%81%E6%90%AD%E5%BB%BA%E6%97%A5%E5%BF%97%E5%88%86%E6%9E%90%E7%B3%BB%E7%BB%9F-toc" style="margin-left:40px;"><a href="#1%E3%80%81%E6%90%AD%E5%BB%BA%E6%97%A5%E5%BF%97%E5%88%86%E6%9E%90%E7%B3%BB%E7%BB%9F" rel="nofollow">1、搭建日志分析系统</a></p> 
<p id="%EF%BC%881%EF%BC%89%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE%EF%BC%8C%E6%B7%BB%E5%8A%A0%E7%9B%B8%E5%85%B3%E4%BE%9D%E8%B5%96-toc" style="margin-left:80px;"><a href="#%EF%BC%881%EF%BC%89%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE%EF%BC%8C%E6%B7%BB%E5%8A%A0%E7%9B%B8%E5%85%B3%E4%BE%9D%E8%B5%96" rel="nofollow">（1）创建项目，添加相关依赖</a></p> 
<p id="%EF%BC%882%EF%BC%89%E7%BC%96%E5%86%99%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6-toc" style="margin-left:80px;"><a href="#%EF%BC%882%EF%BC%89%E7%BC%96%E5%86%99%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6" rel="nofollow">（2）编写配置文件</a></p> 
<p id="2%E3%80%81%E5%AE%9E%E7%8E%B0%E6%8A%A5%E8%A1%A8%E5%8A%9F%E8%83%BD%E5%B1%95%E7%A4%BA-toc" style="margin-left:40px;"><a href="#2%E3%80%81%E5%AE%9E%E7%8E%B0%E6%8A%A5%E8%A1%A8%E5%8A%9F%E8%83%BD%E5%B1%95%E7%A4%BA" rel="nofollow">2、实现报表功能展示</a></p> 
<p id="%EF%BC%881%EF%BC%89%E5%88%9B%E5%BB%BA%E6%8C%81%E4%B9%85%E5%8C%96%E7%B1%BB-toc" style="margin-left:80px;"><a href="#%EF%BC%881%EF%BC%89%E5%88%9B%E5%BB%BA%E6%8C%81%E4%B9%85%E5%8C%96%E7%B1%BB" rel="nofollow">（1）创建持久化类</a></p> 
<p id="%EF%BC%882%EF%BC%89%E5%AE%9E%E7%8E%B0DAO%E5%B1%82-toc" style="margin-left:80px;"><a href="#%EF%BC%882%EF%BC%89%E5%AE%9E%E7%8E%B0DAO%E5%B1%82" rel="nofollow">（2）实现DAO层</a></p> 
<p id="%EF%BC%883%EF%BC%89%E5%AE%9E%E7%8E%B0Service%E5%B1%82-toc" style="margin-left:80px;"><a href="#%EF%BC%883%EF%BC%89%E5%AE%9E%E7%8E%B0Service%E5%B1%82" rel="nofollow">（3）实现Service层</a></p> 
<p id="%EF%BC%884%EF%BC%89%E5%AE%9E%E7%8E%B0Controller%E5%B1%82-toc" style="margin-left:80px;"><a href="#%EF%BC%884%EF%BC%89%E5%AE%9E%E7%8E%B0Controller%E5%B1%82" rel="nofollow">（4）实现Controller层</a></p> 
<p id="%EF%BC%885%EF%BC%89%E5%AE%9E%E7%8E%B0%E9%A1%B5%E9%9D%A2%E5%8A%9F%E8%83%BD-toc" style="margin-left:80px;"><a href="#%EF%BC%885%EF%BC%89%E5%AE%9E%E7%8E%B0%E9%A1%B5%E9%9D%A2%E5%8A%9F%E8%83%BD" rel="nofollow">（5）实现页面功能</a></p> 
<p id="3%E3%80%81%E7%B3%BB%E7%BB%9F%E5%8A%9F%E8%83%BD%E6%A8%A1%E5%9D%97%E5%B1%95%E7%A4%BA-toc" style="margin-left:40px;"><a href="#3%E3%80%81%E7%B3%BB%E7%BB%9F%E5%8A%9F%E8%83%BD%E6%A8%A1%E5%9D%97%E5%B1%95%E7%A4%BA" rel="nofollow">3、系统功能模块展示</a></p> 
<p id="%E2%80%8B%E7%BC%96%E8%BE%91-toc" style="margin-left:40px;"><a href="#%E2%80%8B%E7%BC%96%E8%BE%91" rel="nofollow">​编辑</a></p> 
<p id="%E5%8F%82%E8%80%83%E4%B9%A6%E7%B1%8D%EF%BC%9A-toc" style="margin-left:0px;"><a href="#%E5%8F%82%E8%80%83%E4%B9%A6%E7%B1%8D%EF%BC%9A" rel="nofollow">参考书籍：</a></p> 
<p id="-toc" style="margin-left:40px;"></p> 
<hr id="hr-toc"> 
<p></p> 
<h2 id="%E7%B4%A0%E6%9D%90%EF%BC%9A">素材：</h2> 
<p><a class="link-info has-card" href="http://xn--gzu811i//pan.baidu.com/s/1aNxbVjNq1z1A-oOIYy_E4Q?pwd=gjpt%20%E6%8F%90%E5%8F%96%E7%A0%81:%20gjpt" rel="nofollow" title="http://链接: https://pan.baidu.com/s/1aNxbVjNq1z1A-oOIYy_E4Q?pwd=gjpt 提取码: gjpt"><span class="link-card-box"><span class="link-title">http://链接: https://pan.baidu.com/s/1aNxbVjNq1z1A-oOIYy_E4Q?pwd=gjpt 提取码: gjpt</span><span class="link-link"><img class="link-link-icon" src="https://images2.imgbox.com/ea/e3/gdM4blCP_o.png" alt="icon-default.png?t=MBR7">http://链接: https://pan.baidu.com/s/1aNxbVjNq1z1A-oOIYy_E4Q?pwd=gjpt 提取码: gjpt</span></span></a></p> 
<h2 id="%E4%B8%80%E3%80%81%E6%A8%A1%E5%9D%97%E5%BC%80%E5%8F%91%E2%80%94%E2%80%94%E6%95%B0%E6%8D%AE%E9%A2%84%E5%A4%84%E7%90%86">一、模块开发——数据预处理</h2> 
<h3 id="1%E3%80%81%E5%88%86%E6%9E%90%E9%A2%84%E5%A4%84%E7%90%86%E7%9A%84%E6%95%B0%E6%8D%AE">1、分析预处理的数据</h3> 
<p>        在收集的日志文件中，通常情况下，不能直接将日志文件进行数据分析，这是因为日志文件中有许多不合法的数据(比如日志数据在网络传输过程中发送数据丢失)。</p> 
<p>        在数据预处理阶段,主要目的就是对收集的原始数据进行清洗和筛选，因此使用MapReduce 技术就可以轻松实现。在实际开发中，数据预处理过程通常不会直接将不合法的数据直接删除，而是对每条数据添加标识字段，从而避免其他业务使用时丢失数据。</p> 
<p>        另外,此次数据预处理只是清洗和筛选不合法的数据信息，会读取每行日志文件数据并最终输出一条数据，不会进行其他操作，因此在使用MapReduce技术进行处理过程中，只会涉及 Map 阶段，不会涉及Reduce 阶段。在默认情况下，ReduceTask值为1，因此在主运行函数中，需要设置 Job.setNumReduceTasks(0)。</p> 
<h3 id="2%E3%80%81%E5%AE%9E%E7%8E%B0%E6%95%B0%E6%8D%AE%E7%9A%84%E9%A2%84%E5%A4%84%E7%90%86">2、实现数据的预处理</h3> 
<h4 id="%EF%BC%881%EF%BC%89%E5%88%9B%E5%BB%BAMaven%E9%A1%B9%E7%9B%AE%EF%BC%8C%E6%B7%BB%E5%8A%A0%E7%9B%B8%E5%85%B3%E4%BE%9D%E8%B5%96">（1）创建Maven项目，添加相关依赖</h4> 
<p>pom.xml文件配置如下：</p> 
<pre><code class="hljs">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;

    &lt;groupId&gt;cn.itcast&lt;/groupId&gt;
    &lt;artifactId&gt;HadoopDataReport&lt;/artifactId&gt;
    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;

    &lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;
            &lt;artifactId&gt;hadoop-common&lt;/artifactId&gt;
            &lt;version&gt;2.10.1&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;
            &lt;artifactId&gt;hadoop-client&lt;/artifactId&gt;
            &lt;version&gt;2.10.1&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;
            &lt;artifactId&gt;hadoop-hdfs&lt;/artifactId&gt;
            &lt;version&gt;2.10.1&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;
            &lt;artifactId&gt;hadoop-mapreduce-client-core&lt;/artifactId&gt;
            &lt;version&gt;2.10.1&lt;/version&gt;
        &lt;/dependency&gt;

    &lt;/dependencies&gt;


&lt;/project&gt;</code></pre> 
<h4 id="%EF%BC%882%EF%BC%89%E5%88%9B%E5%BB%BAJavaBean%E5%AF%B9%E8%B1%A1%EF%BC%8C%E5%B0%81%E8%A3%85%E6%97%A5%E5%BF%97%E8%AE%B0%E5%BD%95">（2）创建JavaBean对象，封装日志记录</h4> 
<p>        收集的日志数据中，每一行代表一条日志记录，并且包含有多个用空格分隔的字段信息，为了方便后续数据处理，创建一个 JavaBean 对象对每条数据进行封装。</p> 
<p><strong>WebLogBean.java</strong></p> 
<pre><code class="hljs">package cn.itcast.weblog.bean;

import org.apache.hadoop.io.Writable;

import java.io.DataInput;
import java.io.DataOutput;
import java.io.IOException;

/**
 * 对接外部数据的层，表结构定义最好跟外部数据源保持一致
 * 同时实现序列号，方便网络数据传播
 */
public class WebLogBean implements Writable {
    private boolean valid = true;   //标记数据是否合法
    private String remote_addr;     //访客IP地址
    private String remote_user;     //记录访客用户信息，忽略属性“-”
    private String time_local;      //记录访问时间与时区
    private String request;         //记录请求的URL
    private String status;          //请求状态
    private String body_bytes_sent; //记录发送给客户端文件主体内容大小
    private String http_referer;    //记录从哪个页面链接访问过来的
    private String http_user_agent; //记录客户浏览器的相关信息

    //设置 WebLogBean 进行字段数据封装
    public void setBean(boolean valid, String remote_addr, String remote_user,
                        String time_local, String request, String status,
                        String body_bytes_sent,
                        String http_referer, String http_user_agent) {
        this.valid = valid;
        this.remote_addr = remote_addr;
        this.remote_user = remote_user;
        this.time_local = time_local;
        this.request = request;
        this.status = status;
        this.body_bytes_sent = body_bytes_sent;
        this.http_referer = http_referer;
        this.http_user_agent = http_user_agent;
    }

    public boolean isValid() {
        return valid;
    }

    public void setValid(boolean valid) {
        this.valid = valid;
    }

    public String getRemote_addr() {
        return remote_addr;
    }

    public void setRemote_addr(String remote_addr) {
        this.remote_addr = remote_addr;
    }

    public String getRemote_user() {
        return remote_user;
    }

    public void setRemote_user(String remote_user) {
        this.remote_user = remote_user;
    }

    public String getTime_local() {
        return time_local;
    }

    public void setTime_local(String time_local) {
        this.time_local = time_local;
    }

    public String getRequest() {
        return request;
    }

    public void setRequest(String request) {
        this.request = request;
    }

    public String getStatus() {
        return status;
    }

    public void setStatus(String status) {
        this.status = status;
    }

    public String getBody_bytes_sent() {
        return body_bytes_sent;
    }

    public void setBody_bytes_sent(String body_bytes_sent) {
        this.body_bytes_sent = body_bytes_sent;
    }

    public String getHttp_referer() {
        return http_referer;
    }

    public void setHttp_referer(String http_referer) {
        this.http_referer = http_referer;
    }

    public String getHttp_user_agent() {
        return http_user_agent;
    }

    public void setHttp_user_agent(String http_user_agent) {
        this.http_user_agent = http_user_agent;
    }

    //重写 toString() 方法，使用 Hive 默认分隔符进行分隔，为后续导入 Hive 表提供便利
    @Override
    public String toString() {
        StringBuilder sb = new StringBuilder();
        sb.append(valid);

        sb.append("\001").append(this.getRemote_addr());
        sb.append("\001").append(this.getRemote_user());
        sb.append("\001").append(this.getTime_local());
        sb.append("\001").append(this.getRequest());
        sb.append("\001").append(this.getStatus());
        sb.append("\001").append(this.getBody_bytes_sent());
        sb.append("\001").append(this.getHttp_referer());
        sb.append("\001").append(this.getHttp_user_agent());
        return sb.toString();
    }

    //序列化方法

    @Override
    public void readFields(DataInput dataInput) throws IOException {
        this.valid = dataInput.readBoolean();
        this.remote_addr = dataInput.readUTF();
        this.remote_user = dataInput.readUTF();
        this.time_local = dataInput.readUTF();
        this.request = dataInput.readUTF();
        this.status = dataInput.readUTF();
        this.body_bytes_sent = dataInput.readUTF();
        this.http_referer = dataInput.readUTF();
        this.http_user_agent = dataInput.readUTF();
    }

    // 反序列化方法（注意与序列化方法顺序保持一致）

    @Override
    public void write(DataOutput dataOutput) throws IOException {
        dataOutput.writeBoolean(this.valid);
        dataOutput.writeUTF(this.remote_addr);
        dataOutput.writeUTF(this.remote_user);
        dataOutput.writeUTF(this.time_local);
        dataOutput.writeUTF(this.request);
        dataOutput.writeUTF(this.status);
        dataOutput.writeUTF(this.body_bytes_sent);
        dataOutput.writeUTF(this.http_referer);
        dataOutput.writeUTF(this.http_user_agent);
    }
}</code></pre> 
<h4 id="%EF%BC%883%EF%BC%89%E5%88%9B%E5%BB%BAMapReduce%E7%A8%8B%E5%BA%8F%EF%BC%8C%E6%89%A7%E8%A1%8C%E6%95%B0%E6%8D%AE%E9%A2%84%E5%A4%84%E7%90%86">（3）创建MapReduce程序，执行数据预处理</h4> 
<p>        创建 JavaBean 实体类后，接下来开始编写 MapReduce 程序，进行数据预处理。</p> 
<p><strong>WebLogPreProcess.java</strong></p> 
<pre><code class="hljs">package cn.itcast.weblog.preproces;

import cn.itcast.weblog.bean.WebLogBean;
import org.apache.hadoop.conf.Configuration;
import org.apache.hadoop.fs.Path;
import org.apache.hadoop.io.LongWritable;
import org.apache.hadoop.io.NullWritable;
import org.apache.hadoop.io.Text;
import org.apache.hadoop.mapreduce.Job;
import org.apache.hadoop.mapreduce.Mapper;
import org.apache.hadoop.mapreduce.lib.input.FileInputFormat;
import org.apache.hadoop.mapreduce.lib.output.FileOutputFormat;
import java.io.IOException;
import java.util.HashSet;
import java.util.Set;

/**
 *  日志数据处理：数据清洗、日期格式转换、缺失字段填充默认值、字段添加合法标记
 */
public class WebLogPreProcess {
    public static void main(String[] args) throws Exception{
        Configuration conf = new Configuration();
        Job job = Job.getInstance(conf);
        job.setJarByClass(WebLogPreProcess.class);
        job.setMapperClass(WebLogPreProcessMapper.class);
        job.setOutputKeyClass(Text.class);
        job.setOutputValueClass(NullWritable.class);
        //此次案例测试数据不是非常大，所以使用本地路径
        //（实际情况会对 HDFS 上存储的文件进行处理）
        FileInputFormat.setInputPaths(job, new Path("/home/huanganchi/Hadoop/实训项目/HadoopDemo/textHadoop/weblog/input"));
        FileOutputFormat.setOutputPath(job, new Path("/home/huanganchi/Hadoop/实训项目/HadoopDemo/textHadoop/weblog/output"));
        //将 ReduceTask 属设置为 0，不需要 Reduce 阶段
        job.setNumReduceTasks(0);
        boolean res = job.waitForCompletion(true);
        System.exit(res ? 0 : 1);
    }
    //mapreduce 程序 map 阶段
    public static class WebLogPreProcessMapper extends Mapper&lt;LongWritable, Text, Text, NullWritable&gt; {
        //用来存储网站 URL 分类数据
        Set&lt;String&gt; pages = new HashSet&lt;String&gt;();
        Text k = new Text();
        NullWritable v = NullWritable.get();
        /**
         * 设置初始化方法， 用来表示用户请求的是合法数据
         */
        @Override
        protected void setup(Context context) throws IOException, InterruptedException {
            pages.add("/about");
            pages.add("/black-ip-list");
            pages.add("/cassendra-cluster/");
            pages.add("/finance-rhive-repurchase");
            pages.add("/hadoop-family-roadmad");
            pages.add("/hadoop-hive-intro/");
            pages.add("/hadoop-zookeeper-intro");
            pages.add("/hadoop-mahout-roadmap");
        }
        /**
         * 重写 map()方法，对每行记录重新解析转换并输出
         */
        @Override
        protected void map(LongWritable key, Text value, Context context) throws IOException, InterruptedException {
            //获取一行数据
            String line = value.toString();
            //调用解析类 WebLogParser 解析日志数据，最后封装为 WebLogBean 对象
            WebLogBean webLogBean = WebLogParser.parser(line);
            if (webLogBean != null) {
                //过滤 js/图片/css 等静态资源

                WebLogParser.filtStaticResource(webLogBean, pages);
                k.set(webLogBean.toString());
                context.write(k, v);
            }
        }
    }
}
</code></pre> 
<p><strong>WebLogParser.java </strong></p> 
<pre><code class="hljs">package cn.itcast.weblog.preproces;

import cn.itcast.weblog.bean.WebLogBean;
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Locale;
import java.util.Set;

public class WebLogParser {
    //定义时间格式
    public static SimpleDateFormat df1 = new SimpleDateFormat("dd/MMM/yyyy:HH:mm:ss", Locale.US);
    public static SimpleDateFormat df2 = new SimpleDateFormat("yyyy-MM-dd HH:mm:ss", Locale.US);

    /**
     * 根据采集的数据字段信息进行解析封装
     */
    public static WebLogBean parser(String line) {
        WebLogBean webLogBean = new WebLogBean();
        //把一行数据以空格字符切割并存入数组arr中
        String[] arr = line.split(" ");
        //如果数组长度小于等于11，说明这条数据不完整，因此可以忽略这条数据
        if (arr.length &gt; 11) {
            //满足条件的数据逐个赋值给webLogBean对象
            webLogBean.setRemote_addr(arr[0]);
            webLogBean.setRemote_user(arr[1]);
            String time_local = formatDate(arr[3].substring(1));
            if (null == time_local || "".equals(time_local)) time_local = "-invalid_time-";
            webLogBean.setTime_local(time_local);
            webLogBean.setRequest(arr[6]);
            webLogBean.setStatus(arr[8]);
            webLogBean.setBody_bytes_sent(arr[9]);
            webLogBean.setHttp_referer(arr[10]);
            //如果useragent元素较多，拼接useragent
            if (arr.length &gt; 12) {
                StringBuilder sb = new StringBuilder();
                for (int i = 11; i &lt; arr.length; i++) {
                    sb.append(arr[i]);
                }
                webLogBean.setHttp_user_agent(sb.toString());
            } else {
                webLogBean.setHttp_user_agent(arr[11]);
            }
            //大于 400，HTTP 错误
            if (Integer.parseInt(webLogBean.getStatus()) &gt;= 400) {
                webLogBean.setValid(false);
            }
            if ("-invalid_time-".equals(webLogBean.getTime_local())) {
                webLogBean.setValid(false);
            }
        } else {
            webLogBean = null;
        }
        return webLogBean;
    }
    //对请求路径资源是否合法进行标记
    public static void filtStaticResource(WebLogBean bean, Set&lt;String&gt; pages) {
        if (!pages.contains(bean.getRequest())) {
            bean.setValid(false);
        }
    }
    //格式化时间方法
    public static String formatDate(String time_local) {
        try {
            return df2.format(df1.parse(time_local));
        } catch (ParseException e) {
            return null;
        }
    }
}
</code></pre> 
<p><strong>运行结果： </strong></p> 
<p style="text-align:center;"><strong><img alt="" src="https://images2.imgbox.com/d4/c0/sryb5PE7_o.png"></strong></p> 
<h2 id="%C2%A0%E4%BA%8C%E3%80%81%E6%A8%A1%E5%9D%97%E5%BC%80%E5%8F%91%E2%80%94%E2%80%94%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E5%BC%80%E5%8F%91"> 二、模块开发——数据仓库开发</h2> 
<h3 id="1%E3%80%81%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6">1、上传文件</h3> 
<p>在启动了Hadoop的Linux系统root目录下创建目录weblog，并将预处理产生的结果文件上传到 weblog 目录下。</p> 
<pre><code class="hljs">cd
mkdir weblog
cd weblog
执行 rz 文件上传命令</code></pre> 
<p>在HDFS上创建目录，用于存放预处理过的数据，并上传数据到HDFS。</p> 
<pre><code class="hljs">hadoop fs -mkdir -p /weblog/preprocessed
hadoop fs -put part-m-00000 /weblog/preprocessed</code></pre> 
<h3 id="2%E3%80%81%E5%AE%9E%E7%8E%B0%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93">2、实现数据仓库</h3> 
<pre><code class="hljs">启动Hive数据仓库，执行以下操作：

--创建数据仓库
DROP DATABASE IF EXISTS weblog;
CREATE DATABASE weblog;

USE weblog;

--创建表
CREATE TABLE ods_weblog_origin (
	valid string,	--有效标志
	remote_addr string, --来源IP
	remote_user string,	--用户标志
	time_local string,	--访问完整时间
	request string,		--请求的URL
	status string,		--响应码
	body_bytes_sent string,	--传输字节数
	http_referer string,	--来源URL
	http_user_agent string	--客户终端标志
	)
	partitioned by (datestr string)
	row format delimited fields terminated by '\001';

--导入数据
load data inpath '/weblog/preprocessed' overwrite into table ods_weblog_origin partition(datestr='20130918');

--生成明细表
--1. 创建明细表 ods_weblog_detwail 
CREATE TABLE ods_weblog_detwail (
	valid 		string,	--有效标志
	remote_addr	string, --来源IP
	remote_user	string,	--用户标志
	time_local 	string,	--访问完整时间
	daystr 		string,	--访问日期
	timestr 	string,	--访问时间
	month 	 	string,	--访问月
	day 	 	string,	--访问日
	hour 	 	string,	--访问时
	request 	string,	--请求的URL
	status 		string,		--响应码
	body_bytes_sent string,	--传输字节数
	http_referer 	string,	--来源URL
	ref_host 		string,	--来源的host
	ref_path		string,	--来源路径
	ref_query		string,	--来源参数query
	ref_query_id	string,	--来源参数query的值
	http_user_agent string	--客户终端标志
	)
	partitioned by (datestr string);
	
--2. 创建临时中间表 t_ods_tmp_referurl
CREATE TABLE t_ods_tmp_referurl as 	SELECT a.*, b.* 
	FROM ods_weblog_origin a LATERAL VIEW
	parse_url_tuple(regexp_replace(http_referer, "\"", ""),'HOST', 'PATH', 'QUERY', 'QUERY:id') b 
	as host, path, query, query_id;
	
--3. 创建临时中间表 t_ods_tmp_detail
CREATE TABLE t_ods_tmp_detail as 
	SELECT b.*, substring(time_local, 0, 10) as daystr,  
	substring(time_local, 12) as tmstr,
	substring(time_local, 6, 2) as month,
	substring(time_local, 9, 2) as day,
	substring(time_local, 11, 3) as hour
	FROM t_ods_tmp_referurl b;
	
--4. 修改默认动态分区参数
set hive.exec.dynamic.partition=true;
set hive.exec.dynamic.partition.mode=nonstrict;

--5. 向 ods_weblog_detwail 表中加载数据
insert overwrite table ods_weblog_detwail partition(datestr)
SELECT DISTINCT otd.valid, otd.remote_addr, otd.remote_user, 
otd.time_local, otd.daystr, otd.tmstr, otd.month, otd.day, otd.hour,
otr.request, otr.status, otr.body_bytes_sent,
otr.http_referer, otr.host, otr.path,
otr.query, otr.query_id, otr.http_user_agent, otd.daystr
FROM t_ods_tmp_detail as otd, t_ods_tmp_referurl as otr
WHERE otd.remote_addr = otr.remote_addr
AND otd.time_local = otr.time_local
AND otd.body_bytes_sent = otr.body_bytes_sent
AND otd.request = otr.request;</code></pre> 
<p style="text-align:center;"> <img alt="" src="https://images2.imgbox.com/5e/79/Lw6ymyhk_o.png"></p> 
<h2 id="%E4%B8%89%E3%80%81%E6%A8%A1%E5%9D%97%E5%BC%80%E5%8F%91%E2%80%94%E2%80%94%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90">三、模块开发——数据分析</h2> 
<pre><code class="hljs">--数据分析
--流量分析
--创建每日访问量表dw_pvs_everyday
CREATE TABLE IF NOT EXISTS dw_pvs_everyday(pvs bigint, month string, day string);

--从宽表 ods_weblog_detwail 获取每日访问量数据并插入维度表 dw_pvs_everyday
INSERT INTO TABLE dw_pvs_everyday
SELECT COUNT(*) AS pvs, owd.month AS month, owd.day AS day 
FROM ods_weblog_detwail owd GROUP BY owd.month, owd.day;

--人均浏览量分析
--创建维度表dw_avgpv_user_everyday
CREATE TABLE  IF NOT EXISTS dw_avgpv_user_everyday (day string, avgpv string);

--从宽表 ods_weblog_detwail 获取相关数据并插入维度表 dw_avgpv_user_everyday
INSERT INTO TABLE dw_avgpv_user_everyday
SELECT '2013-09-18', SUM(b.pvs)/COUNT(b.remote_addr) FROM
(SELECT remote_addr, COUNT(1) AS pvs FROM ods_weblog_detwail WHERE
datestr = '2013-09-18' GROUP by remote_addr) b;

INSERT INTO TABLE dw_avgpv_user_everyday
SELECT '2013-09-19', SUM(b.pvs)/COUNT(b.remote_addr) FROM
(SELECT remote_addr, COUNT(1) AS pvs FROM ods_weblog_detwail WHERE
datestr = '2013-09-19' GROUP by remote_addr) b;

INSERT INTO TABLE dw_avgpv_user_everyday
SELECT '2013-09-20', SUM(b.pvs)/COUNT(b.remote_addr) FROM
(SELECT remote_addr, COUNT(1) AS pvs FROM ods_weblog_detwail WHERE
datestr = '2013-09-20' GROUP by remote_addr) b;

INSERT INTO TABLE dw_avgpv_user_everyday
SELECT '2013-09-21', SUM(b.pvs)/COUNT(b.remote_addr) FROM
(SELECT remote_addr, COUNT(1) AS pvs FROM ods_weblog_detwail WHERE
datestr = '2013-09-21' GROUP by remote_addr) b;

INSERT INTO TABLE dw_avgpv_user_everyday
SELECT '2013-09-22', SUM(b.pvs)/COUNT(b.remote_addr) FROM
(SELECT remote_addr, COUNT(1) AS pvs FROM ods_weblog_detwail WHERE
datestr = '2013-09-22' GROUP by remote_addr) b;

INSERT INTO TABLE dw_avgpv_user_everyday
SELECT '2013-09-23', SUM(b.pvs)/COUNT(b.remote_addr) FROM
(SELECT remote_addr, COUNT(1) AS pvs FROM ods_weblog_detwail WHERE
datestr = '2013-09-23' GROUP by remote_addr) b;

INSERT INTO TABLE dw_avgpv_user_everyday
SELECT '2013-09-24', SUM(b.pvs)/COUNT(b.remote_addr) FROM
(SELECT remote_addr, COUNT(1) AS pvs FROM ods_weblog_detwail WHERE
datestr = '2013-09-24' GROUP by remote_addr) b;</code></pre> 
<h2 id="%C2%A0%E5%9B%9B%E3%80%81%E6%A8%A1%E5%9D%97%E5%BC%80%E5%8F%91%E2%80%94%E2%80%94%E6%95%B0%E6%8D%AE%E5%AF%BC%E5%87%BA"> 四、模块开发——数据导出</h2> 
<pre><code class="hljs">1. 创建 MySql 数据库和表
--数据导出
--创建数据仓库
DROP DATABASE IF EXISTS sqoopdb;
CREATE DATABASE sqoopdb;

USE sqoopdb;

--创建表
CREATE TABLE t_avgpv_num (
dateStr VARCHAR(255) DEFAULT NULL,
avgPvNum DECIMAL(6,2) DEFAULT NULL
) ENGINE=MyISAM DEFAULT CHARSET=utf8;


2. 执行数据导出命令
sqoop export \
--connect jdbc:mysql://hadoop01.bgd01:3306/sqoopdb \
--username root \
--password 123456 \
--table t_avgpv_num \
--columns "dateStr,avgPvNum" \
--fields-terminated-by '\001' \
--export-dir /user/hive/warehouse/weblog.db/dw_avgpv_user_everyday
</code></pre> 
<h2 id="%E4%BA%94%E3%80%81%E6%A8%A1%E5%9D%97%E5%BC%80%E5%8F%91%E2%80%94%E2%80%94%E6%97%A5%E5%BF%97%E5%88%86%E6%9E%90%E7%B3%BB%E7%BB%9F%E6%8A%A5%E8%A1%A8%E5%B1%95%E7%A4%BA">五、模块开发——日志分析系统报表展示</h2> 
<h3 id="1%E3%80%81%E6%90%AD%E5%BB%BA%E6%97%A5%E5%BF%97%E5%88%86%E6%9E%90%E7%B3%BB%E7%BB%9F">1、搭建日志分析系统</h3> 
<h4 id="%EF%BC%881%EF%BC%89%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE%EF%BC%8C%E6%B7%BB%E5%8A%A0%E7%9B%B8%E5%85%B3%E4%BE%9D%E8%B5%96">（1）创建项目，添加相关依赖</h4> 
<p>        创建一个Java Web 框架的Maven工程</p> 
<p><strong>pom.xml</strong></p> 
<pre><code class="hljs">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;

    &lt;groupId&gt;cn.itcast&lt;/groupId&gt;
    &lt;artifactId&gt;Weblog&lt;/artifactId&gt;
    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;
    &lt;packaging&gt;war&lt;/packaging&gt;
    &lt;dependencies&gt;
        &lt;!-- Spring --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework&lt;/groupId&gt;
            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;
            &lt;version&gt;4.2.4.RELEASE&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework&lt;/groupId&gt;
            &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;
            &lt;version&gt;4.2.4.RELEASE&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework&lt;/groupId&gt;
            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;
            &lt;version&gt;4.2.4.RELEASE&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework&lt;/groupId&gt;
            &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;
            &lt;version&gt;4.2.4.RELEASE&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework&lt;/groupId&gt;
            &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;
            &lt;version&gt;4.2.4.RELEASE&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework&lt;/groupId&gt;
            &lt;artifactId&gt;spring-jms&lt;/artifactId&gt;
            &lt;version&gt;4.2.4.RELEASE&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework&lt;/groupId&gt;
            &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;
            &lt;version&gt;4.2.4.RELEASE&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;!-- Mybatis --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.mybatis&lt;/groupId&gt;
            &lt;artifactId&gt;mybatis&lt;/artifactId&gt;
            &lt;version&gt;3.2.8&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.mybatis&lt;/groupId&gt;
            &lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt;
            &lt;version&gt;1.2.2&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;com.github.miemiedev&lt;/groupId&gt;
            &lt;artifactId&gt;mybatis-paginator&lt;/artifactId&gt;
            &lt;version&gt;1.2.15&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;!-- MySql --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;mysql&lt;/groupId&gt;
            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;
            &lt;version&gt;5.1.32&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;!-- 连接池 --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;com.alibaba&lt;/groupId&gt;
            &lt;artifactId&gt;druid&lt;/artifactId&gt;
            &lt;version&gt;1.0.9&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;!-- JSP相关 --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;jstl&lt;/groupId&gt;
            &lt;artifactId&gt;jstl&lt;/artifactId&gt;
            &lt;version&gt;1.2&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;
            &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;
            &lt;version&gt;2.5&lt;/version&gt;
            &lt;scope&gt;provided&lt;/scope&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;
            &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;
            &lt;version&gt;2.0&lt;/version&gt;
            &lt;scope&gt;provided&lt;/scope&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;junit&lt;/groupId&gt;
            &lt;artifactId&gt;junit&lt;/artifactId&gt;
            &lt;version&gt;4.12&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;
            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;
            &lt;version&gt;2.4.2&lt;/version&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;

    &lt;build&gt;
        &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;
        &lt;resources&gt;
            &lt;resource&gt;
                &lt;directory&gt;src/main/java&lt;/directory&gt;
                &lt;includes&gt;
                    &lt;include&gt;**/*.properties&lt;/include&gt;
                    &lt;include&gt;**/*.xml&lt;/include&gt;
                &lt;/includes&gt;
                &lt;filtering&gt;false&lt;/filtering&gt;
            &lt;/resource&gt;
            &lt;resource&gt;
                &lt;directory&gt;src/main/resources&lt;/directory&gt;
                &lt;includes&gt;
                    &lt;include&gt;**/*.properties&lt;/include&gt;
                    &lt;include&gt;**/*.xml&lt;/include&gt;
                &lt;/includes&gt;
                &lt;filtering&gt;false&lt;/filtering&gt;
            &lt;/resource&gt;
        &lt;/resources&gt;

        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;
                &lt;version&gt;3.2&lt;/version&gt;
                &lt;configuration&gt;
                    &lt;source&gt;1.8&lt;/source&gt;
                    &lt;target&gt;1.8&lt;/target&gt;
                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;
                &lt;/configuration&gt;
            &lt;/plugin&gt;

            &lt;!-- 配置Tomcat插件 --&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt;
                &lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt;
                &lt;version&gt;2.2&lt;/version&gt;
                &lt;configuration&gt;
                    &lt;path&gt;/&lt;/path&gt;
                    &lt;port&gt;8080&lt;/port&gt;
                &lt;/configuration&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;
    &lt;properties&gt;
        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;
        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;
        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
    &lt;/properties&gt;

&lt;/project&gt;</code></pre> 
<h4 id="%EF%BC%882%EF%BC%89%E7%BC%96%E5%86%99%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6">（2）编写配置文件</h4> 
<p><strong>applicationContext.xml</strong></p> 
<pre><code class="hljs">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:context="http://www.springframework.org/schema/context" xmlns:p="http://www.springframework.org/schema/beans"
	xmlns:aop="http://www.springframework.org/schema/aop" xmlns:tx="http://www.springframework.org/schema/tx"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.2.xsd
	http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.2.xsd
	http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-4.2.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.2.xsd
	http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-4.2.xsd"&gt;

	&lt;!-- 数据库连接池 --&gt;
	&lt;!-- 加载配置文件 --&gt;
	&lt;context:property-placeholder location="classpath:properties/db.properties" /&gt;
	&lt;!-- 数据库连接池 --&gt;
	&lt;bean id="dataSource" class="com.alibaba.druid.pool.DruidDataSource"
		destroy-method="close"&gt;
		&lt;property name="url" value="${jdbc.url}" /&gt;
		&lt;property name="username" value="${jdbc.username}" /&gt;
		&lt;property name="password" value="${jdbc.password}" /&gt;
		&lt;property name="driverClassName" value="${jdbc.driver}" /&gt;
		&lt;property name="maxActive" value="10" /&gt;
		&lt;property name="minIdle" value="5" /&gt;
	&lt;/bean&gt;
	&lt;!-- 让spring管理sqlsessionfactory使用mybatis和spring整合包中的 --&gt;
	&lt;bean id="sqlSessionFactory" class="org.mybatis.spring.SqlSessionFactoryBean"&gt;
		&lt;!-- 数据库连接池 --&gt;
		&lt;property name="dataSource" ref="dataSource" /&gt;
		&lt;!-- 加载mybatis的全局配置文件 --&gt;
		&lt;property name="configLocation" value="classpath:mybatis/SqlMapConfig.xml" /&gt;
	&lt;/bean&gt;
	&lt;!-- 使用扫描包的形式来创建mapper代理对象 --&gt;
	&lt;bean class="org.mybatis.spring.mapper.MapperScannerConfigurer"&gt;
		&lt;property name="basePackage" value="cn.itcast.mapper" /&gt;
	&lt;/bean&gt;

	&lt;!-- 事务管理器 --&gt;
	&lt;bean id="transactionManager"
		class="org.springframework.jdbc.datasource.DataSourceTransactionManager"&gt;
		&lt;!-- 数据源 --&gt;
		&lt;property name="dataSource" ref="dataSource" /&gt;
	&lt;/bean&gt;
	&lt;!-- 通知 --&gt;
	&lt;tx:advice id="txAdvice" transaction-manager="transactionManager"&gt;
		&lt;tx:attributes&gt;
			&lt;!-- 传播行为 --&gt;
			&lt;tx:method name="save*" propagation="REQUIRED" /&gt;
			&lt;tx:method name="insert*" propagation="REQUIRED" /&gt;
			&lt;tx:method name="add*" propagation="REQUIRED" /&gt;
			&lt;tx:method name="create*" propagation="REQUIRED" /&gt;
			&lt;tx:method name="delete*" propagation="REQUIRED" /&gt;
			&lt;tx:method name="update*" propagation="REQUIRED" /&gt;
			&lt;tx:method name="find*" propagation="SUPPORTS" read-only="true" /&gt;
			&lt;tx:method name="select*" propagation="SUPPORTS" read-only="true" /&gt;
			&lt;tx:method name="get*" propagation="SUPPORTS" read-only="true" /&gt;
		&lt;/tx:attributes&gt;
	&lt;/tx:advice&gt;
	&lt;!-- 切面 --&gt;
	&lt;aop:config&gt;
		&lt;aop:advisor advice-ref="txAdvice"
			pointcut="execution(* cn.itcast.service..*.*(..))" /&gt;
	&lt;/aop:config&gt;

	&lt;!-- 配置包扫描器，扫描所有带@Service注解的类 --&gt;
	&lt;context:component-scan base-package="cn.itcast.service" /&gt;

&lt;/beans&gt;</code></pre> 
<p><strong>db.properties</strong></p> 
<pre><code class="hljs">jdbc.driver=com.mysql.jdbc.Driver
jdbc.url=jdbc:mysql://192.168.8.201:3306/sqoopdb?characterEncoding=utf-8
jdbc.username=root
jdbc.password=123456</code></pre> 
<p><strong>springmvc.xml </strong></p> 
<pre><code class="hljs">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:p="http://www.springframework.org/schema/beans"
	xmlns:context="http://www.springframework.org/schema/context"
    xmlns:mvc="http://www.springframework.org/schema/mvc"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.2.xsd
        http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.2.xsd
        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.2.xsd"&gt;

	&lt;!-- 扫描指定包路径 使路径当中的@controller注解生效 --&gt;
	&lt;context:component-scan base-package="cn.itcast.controller" /&gt;
	&lt;!-- mvc的注解驱动  --&gt;
	&lt;mvc:annotation-driven /&gt;
	
	&lt;!-- 视图解析器 --&gt;
	&lt;bean
		class="org.springframework.web.servlet.view.InternalResourceViewResolver"&gt;
		&lt;property name="prefix" value="/WEB-INF/jsp/" /&gt;
		&lt;property name="suffix" value=".jsp" /&gt;
	&lt;/bean&gt;
	
	&lt;!-- 配置资源映射 --&gt;
	&lt;mvc:resources location="/css/" mapping="/css/**"/&gt;
	&lt;mvc:resources location="/js/" mapping="/js/**"/&gt;
	&lt;mvc:resources location="/echarts/" mapping="/echarts/**"/&gt;
	&lt;mvc:resources location="/assets/" mapping="/assets/**"/&gt;
	&lt;mvc:resources location="/img/" mapping="/img/**"/&gt;
&lt;/beans&gt;</code></pre> 
<p><strong>web.xml</strong></p> 
<pre><code class="hljs">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;web-app xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://java.sun.com/xml/ns/javaee" xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd" version="2.5"&gt;
  &lt;display-name&gt;Weblog&lt;/display-name&gt;
  
  &lt;welcome-file-list&gt;
		&lt;welcome-file&gt;index.html&lt;/welcome-file&gt;
	&lt;/welcome-file-list&gt;

	&lt;!-- 加载spring容器 --&gt;
	&lt;context-param&gt;
		&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;
		&lt;param-value&gt;classpath:spring/applicationContext.xml&lt;/param-value&gt;
	&lt;/context-param&gt;
	&lt;listener&gt;
		&lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;
	&lt;/listener&gt;

	&lt;!-- 解决post乱码 --&gt;
	&lt;filter&gt;
		&lt;filter-name&gt;CharacterEncodingFilter&lt;/filter-name&gt;
		&lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt;
		&lt;init-param&gt;
			&lt;param-name&gt;encoding&lt;/param-name&gt;
			&lt;param-value&gt;utf-8&lt;/param-value&gt;
		&lt;/init-param&gt;
	&lt;/filter&gt;
	&lt;filter-mapping&gt;
		&lt;filter-name&gt;CharacterEncodingFilter&lt;/filter-name&gt;
		&lt;url-pattern&gt;/*&lt;/url-pattern&gt;
	&lt;/filter-mapping&gt;

	&lt;!-- 配置springmvc的前端控制器 --&gt;
	&lt;servlet&gt;
		&lt;servlet-name&gt;data-report&lt;/servlet-name&gt;
		&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;
		&lt;init-param&gt;
			&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;
			&lt;param-value&gt;classpath:spring/springmvc.xml&lt;/param-value&gt;
		&lt;/init-param&gt;
		&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;
	&lt;/servlet&gt;
	
	&lt;!-- 拦截所有请求 jsp除外 --&gt;
	&lt;servlet-mapping&gt;
		&lt;servlet-name&gt;data-report&lt;/servlet-name&gt;
		&lt;url-pattern&gt;/&lt;/url-pattern&gt;
	&lt;/servlet-mapping&gt;

	&lt;!-- 全局错误页面 --&gt;
	&lt;error-page&gt;
		&lt;error-code&gt;404&lt;/error-code&gt;
		&lt;location&gt;/WEB-INF/jsp/404.jsp&lt;/location&gt;
	&lt;/error-page&gt;
  
&lt;/web-app&gt;</code></pre> 
<p> SqlMapConfig.xml</p> 
<pre><code class="hljs">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;!DOCTYPE configuration PUBLIC "-//mybatis.org//DTD Config 3.0//EN" "http://mybatis.org/dtd/mybatis-3-config.dtd"&gt;
&lt;configuration&gt;
&lt;/configuration&gt;</code></pre> 
<h3 id="2%E3%80%81%E5%AE%9E%E7%8E%B0%E6%8A%A5%E8%A1%A8%E5%8A%9F%E8%83%BD%E5%B1%95%E7%A4%BA">2、实现报表功能展示</h3> 
<h4 id="%EF%BC%881%EF%BC%89%E5%88%9B%E5%BB%BA%E6%8C%81%E4%B9%85%E5%8C%96%E7%B1%BB">（1）创建持久化类</h4> 
<p><strong>TAvgpvNum.java</strong></p> 
<pre><code class="hljs">package cn.itcast.pojo;

import java.math.BigDecimal;

public class TAvgpvNum {
	private String datestr;// 日期
	private BigDecimal avgpvnum;// 平均PV数量

	public String getDatestr() {
		return datestr;
	}

	public void setDatestr(String datestr) {
		this.datestr = datestr == null ? null : datestr.trim();
	}

	public BigDecimal getAvgpvnum() {
		return avgpvnum;
	}

	public void setAvgpvnum(BigDecimal avgpvnum) {
		this.avgpvnum = avgpvnum;
	}
}</code></pre> 
<p><strong>AvgToPageBean.java</strong></p> 
<pre><code class="hljs">package cn.itcast.pojo;

public class AvgToPageBean {

    private String[] dates;

    private double[] data;

    public String[] getDates() {
        return dates;
    }

    public void setDates(String[] dates) {
        this.dates = dates;
    }

    public double[] getData() {
        return data;
    }

    public void setData(double[] data) {
        this.data = data;
    }

}
</code></pre> 
<h4 id="%EF%BC%882%EF%BC%89%E5%AE%9E%E7%8E%B0DAO%E5%B1%82">（2）实现DAO层</h4> 
<p><strong>TAvgpvNumMapper.java</strong></p> 
<pre><code class="hljs">package cn.itcast.mapper;

import java.util.List;

import cn.itcast.pojo.TAvgpvNum;

public interface TAvgpvNumMapper {

	public List&lt;TAvgpvNum&gt; selectByDate(String startDate, String endDate);

}</code></pre> 
<p><strong>TAvgpvNumMapper.xml</strong></p> 
<pre><code class="hljs">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" &gt;
&lt;mapper namespace="cn.itcast.mapper.TAvgpvNumMapper"&gt;

	&lt;select id="selectByDate" resultType="cn.itcast.pojo.TAvgpvNum"
		parameterType="String"&gt;
		select *
		from t_avgpv_num
		where dateStr between #{0} and #{1} order by dateStr asc;
	&lt;/select&gt;

&lt;/mapper&gt;</code></pre> 
<h4 id="%EF%BC%883%EF%BC%89%E5%AE%9E%E7%8E%B0Service%E5%B1%82">（3）实现Service层</h4> 
<p><strong>AvgPvService.java</strong></p> 
<pre><code class="hljs">package cn.itcast.service;

public interface AvgPvService {

    //根据日期查询数据
	public String getAvgPvNumByDates(String startDate, String endDate);

}</code></pre> 
<p><strong>AvgPvServiceImpl.java</strong></p> 
<pre><code class="hljs">package cn.itcast.service.impl;

import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

import com.fasterxml.jackson.core.JsonProcessingException;
import com.fasterxml.jackson.databind.ObjectMapper;

import cn.itcast.mapper.TAvgpvNumMapper;
import cn.itcast.pojo.AvgToPageBean;
import cn.itcast.pojo.TAvgpvNum;
import cn.itcast.service.AvgPvService;

@Service
public class AvgPvServiceImpl implements AvgPvService {

	@Autowired
	private TAvgpvNumMapper mapper;

	@Override
	public String getAvgPvNumByDates(String startDate, String endDate) {
		
		//调用查询方法
		List&lt;TAvgpvNum&gt; lists = mapper.selectByDate(startDate, endDate);
		// 数组大小
		int size = 7;
		//保存日期数据
		String[] dates = new String[size];
		//保存人均浏览页面数据
		double[] datas = new double[size];
		int i = 0;
		for (TAvgpvNum tAvgpvNum : lists) {
			dates[i] = tAvgpvNum.getDatestr();
			datas[i] = tAvgpvNum.getAvgpvnum().doubleValue();
			i++;
		}
		//定义AvgToPageBean对象，用于前台页面展示
		AvgToPageBean bean = new AvgToPageBean();
		bean.setDates(dates);
		bean.setData(datas);
		//Jackson提供的类，用于把对象转换成Json字符串
		ObjectMapper om = new ObjectMapper();
		String beanJson = null;
		try {
			beanJson = om.writeValueAsString(bean);
		} catch (JsonProcessingException e) {
			e.printStackTrace();
		}
		//返回Json格式的对象
		return beanJson;
	}

}
</code></pre> 
<h4 id="%EF%BC%884%EF%BC%89%E5%AE%9E%E7%8E%B0Controller%E5%B1%82">（4）实现Controller层</h4> 
<p><strong>IndexController.java</strong></p> 
<pre><code class="hljs">package cn.itcast.controller;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.ResponseBody;

import cn.itcast.service.AvgPvService;


@Controller
public class IndexController {

	@Autowired
	private AvgPvService pvService;

	@RequestMapping("/index")
	public String showIndex() {
		return "index";
	}

	@RequestMapping(value = "/avgPvNum", produces = "application/json;charset=UTF-8")
	@ResponseBody
	public String getChart() {
		System.out.println("获取平均pv数据..");
		String data = pvService.getAvgPvNumByDates("2013-09-18", "2013-09-24");
		return data;
	}

}
</code></pre> 
<h4 id="%EF%BC%885%EF%BC%89%E5%AE%9E%E7%8E%B0%E9%A1%B5%E9%9D%A2%E5%8A%9F%E8%83%BD">（5）实现页面功能</h4> 
<p><strong>index.jsp</strong></p> 
<pre><code class="hljs">&lt;%@ page language="java" contentType="text/html; charset=UTF-8"
	pageEncoding="UTF-8"%&gt;
&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
&lt;!-- BEGIN META --&gt;
&lt;meta charset="utf-8"&gt;
&lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
&lt;meta name="description" content=""&gt;
&lt;meta name="author" content="Olive Enterprise"&gt;
&lt;!-- END META --&gt;
&lt;script src="/js/jquery-1.11.3.min.js"&gt;&lt;/script&gt;
&lt;script src="/js/echarts.min.js"&gt;&lt;/script&gt;
&lt;script src="/js/china.js"&gt;&lt;/script&gt;

&lt;!-- BEGIN SHORTCUT ICON --&gt;
&lt;link rel="shortcut icon" href="/img/favicon.ico"&gt;
&lt;!-- END SHORTCUT ICON --&gt;
&lt;title&gt;流量运营分析 - pinyougou®itcast全站数据平台&lt;/title&gt;
&lt;!-- BEGIN STYLESHEET--&gt;
&lt;link href="/css/bootstrap.min.css" rel="stylesheet"&gt;
&lt;!-- BOOTSTRAP CSS --&gt;
&lt;link href="/css/bootstrap-reset.css" rel="stylesheet"&gt;
&lt;!-- BOOTSTRAP CSS --&gt;
&lt;link href="/assets/font-awesome/css/font-awesome.css" rel="stylesheet"&gt;
&lt;!-- FONT AWESOME ICON CSS --&gt;
&lt;link href="/css/style.css" rel="stylesheet"&gt;
&lt;!-- THEME BASIC CSS --&gt;
&lt;link href="/css/style-responsive.css" rel="stylesheet"&gt;
&lt;!-- THEME RESPONSIVE CSS --&gt;
&lt;link href="/assets/morris.js-0.4.3/morris.css" rel="stylesheet"&gt;
&lt;!-- MORRIS CHART CSS --&gt;
&lt;!--dashboard calendar--&gt;
&lt;link href="/css/clndr.css" rel="stylesheet"&gt;
&lt;!-- CALENDER CSS --&gt;
&lt;!--[if lt IE 9]&gt;
		&lt;script src="js/html5shiv.js"&gt;
		&lt;/script&gt;
		&lt;script src="js/respond.min.js"&gt;
		&lt;/script&gt;
		&lt;![endif]--&gt;
&lt;!-- END STYLESHEET--&gt;

&lt;/head&gt;
&lt;body&gt;
	&lt;!-- BEGIN SECTION --&gt;
	&lt;section id="container"&gt;
		&lt;!-- BEGIN HEADER --&gt;
		&lt;header class="header white-bg"&gt;
			&lt;!-- SIDEBAR TOGGLE BUTTON --&gt;
			&lt;div class="sidebar-toggle-box"&gt;
				&lt;div data-placement="right" class="fa fa-bars tooltips"&gt;&lt;/div&gt;
			&lt;/div&gt;
			&lt;!-- SIDEBAR TOGGLE BUTTON  END--&gt;
			&lt;a href="index.html" class="logo"&gt; ITCAST &lt;span&gt; PINYOUGOU
			&lt;/span&gt;&lt;span&gt; 全站流量运营分析 &lt;/span&gt;
			&lt;/a&gt;
			&lt;!-- START HEADER  NAV --&gt;

			&lt;nav class="nav notify-row" id="top_menu"&gt;

				&lt;ul class="nav top-menu"&gt;
					&lt;!-- START NOTIFY TASK BAR --&gt;

					&lt;li class="dropdown"&gt;&lt;a data-toggle="dropdown"
						class="dropdown-toggle" href="#"&gt; &lt;i class="fa fa-tasks"&gt;
						&lt;/i&gt; &lt;span class="badge bg-success"&gt; 6 &lt;/span&gt;
					&lt;/a&gt;

						&lt;ul class="dropdown-menu extended tasks-bar"&gt;
							&lt;li class="notify-arrow notify-arrow-blue"&gt;&lt;/li&gt;
							&lt;li&gt;
								&lt;p class="blue"&gt;You have 6 pending tasks&lt;/p&gt;
							&lt;/li&gt;
							&lt;li&gt;&lt;a href="#"&gt;
									&lt;div class="task-info"&gt;
										&lt;div class="desc"&gt;Dashboard v1.3&lt;/div&gt;
										&lt;div class="percent"&gt;40%&lt;/div&gt;
									&lt;/div&gt;
									&lt;div class="progress progress-striped"&gt;
										&lt;div class="progress-bar progress-bar-success set-40"
											role="progressbar" aria-valuenow="40" aria-valuemin="0"
											aria-valuemax="100"&gt;
											&lt;span class="sr-only"&gt; 40% Complete (success) &lt;/span&gt;
										&lt;/div&gt;
									&lt;/div&gt;
							&lt;/a&gt;&lt;/li&gt;
							&lt;li&gt;&lt;a href="#"&gt;
									&lt;div class="task-info"&gt;
										&lt;div class="desc"&gt;Database Update&lt;/div&gt;
										&lt;div class="percent"&gt;60%&lt;/div&gt;
									&lt;/div&gt;
									&lt;div class="progress progress-striped"&gt;
										&lt;div class="progress-bar progress-bar-warning set-60"
											role="progressbar" aria-valuenow="60" aria-valuemin="0"
											aria-valuemax="100"&gt;
											&lt;span class="sr-only"&gt; 60% Complete (warning) &lt;/span&gt;
										&lt;/div&gt;
									&lt;/div&gt;
							&lt;/a&gt;&lt;/li&gt;
							&lt;li&gt;&lt;a href="#"&gt;
									&lt;div class="task-info"&gt;
										&lt;div class="desc"&gt;Iphone Development&lt;/div&gt;
										&lt;div class="percent"&gt;87%&lt;/div&gt;
									&lt;/div&gt;
									&lt;div class="progress progress-striped"&gt;
										&lt;div class="progress-bar progress-bar-info set-87"
											role="progressbar" aria-valuenow="20" aria-valuemin="0"
											aria-valuemax="100"&gt;
											&lt;span class="sr-only"&gt; 87% Complete &lt;/span&gt;
										&lt;/div&gt;
									&lt;/div&gt;
							&lt;/a&gt;&lt;/li&gt;
							&lt;li&gt;&lt;a href="#"&gt;
									&lt;div class="task-info"&gt;
										&lt;div class="desc"&gt;Mobile App&lt;/div&gt;
										&lt;div class="percent"&gt;33%&lt;/div&gt;
									&lt;/div&gt;
									&lt;div class="progress progress-striped"&gt;
										&lt;div class="progress-bar progress-bar-danger set-33"
											role="progressbar" aria-valuenow="80" aria-valuemin="0"
											aria-valuemax="100"&gt;
											&lt;span class="sr-only"&gt; 33% Complete (danger) &lt;/span&gt;
										&lt;/div&gt;
									&lt;/div&gt;
							&lt;/a&gt;&lt;/li&gt;
							&lt;li&gt;&lt;a href="#"&gt;
									&lt;div class="task-info"&gt;
										&lt;div class="desc"&gt;Dashboard v1.3&lt;/div&gt;
										&lt;div class="percent"&gt;45%&lt;/div&gt;
									&lt;/div&gt;
									&lt;div class="progress progress-striped active"&gt;
										&lt;div class="progress-bar set-45" role="progressbar"
											aria-valuenow="45" aria-valuemin="0" aria-valuemax="100"&gt;
											&lt;span class="sr-only"&gt; 45% Complete &lt;/span&gt;
										&lt;/div&gt;

									&lt;/div&gt;
							&lt;/a&gt;&lt;/li&gt;
							&lt;li class="external"&gt;&lt;a href="#"&gt; See All Tasks &lt;/a&gt;&lt;/li&gt;
						&lt;/ul&gt;&lt;/li&gt;
					&lt;!-- END NOTIFY TASK BAR --&gt;

					&lt;!-- START NOTIFY INBOX BAR --&gt;

					&lt;li id="header_inbox_bar" class="dropdown"&gt;&lt;a
						data-toggle="dropdown" class="dropdown-toggle" href="#"&gt; &lt;i
							class="fa fa-envelope-o"&gt; &lt;/i&gt; &lt;span class="badge bg-important"&gt;
								5 &lt;/span&gt;
					&lt;/a&gt;
						&lt;ul class="dropdown-menu extended inbox"&gt;
							&lt;li class="notify-arrow notify-arrow-blue"&gt;&lt;/li&gt;
							&lt;li&gt;
								&lt;p class="blue"&gt;You have 5 new messages&lt;/p&gt;
							&lt;/li&gt;
							&lt;li&gt;&lt;a href="#"&gt; &lt;span class="photo"&gt; &lt;img
										alt="avatar" src="./img/avatar-mini.jpg"&gt;
								&lt;/span&gt; &lt;span class="subject"&gt; &lt;span class="from"&gt;
											Chintan Pandya &lt;/span&gt; &lt;span class="time"&gt; Just now &lt;/span&gt;
								&lt;/span&gt; &lt;span class="message"&gt; Hello, this is an example msg. &lt;/span&gt;
							&lt;/a&gt;&lt;/li&gt;
							&lt;li&gt;&lt;a href="#"&gt; &lt;span class="photo"&gt; &lt;img
										alt="avatar" src="./img/avatar-mini2.jpg"&gt;
								&lt;/span&gt; &lt;span class="subject"&gt; &lt;span class="from"&gt; Parth
											Jani &lt;/span&gt; &lt;span class="time"&gt; 10 mins &lt;/span&gt;
								&lt;/span&gt; &lt;span class="message"&gt; Hi, Bro how are you ? &lt;/span&gt;
							&lt;/a&gt;&lt;/li&gt;
							&lt;li&gt;&lt;a href="#"&gt; &lt;span class="photo"&gt; &lt;img
										alt="avatar" src="./img/avatar-mini3.jpg"&gt;
								&lt;/span&gt; &lt;span class="subject"&gt; &lt;span class="from"&gt; Jay
											Bardolia &lt;/span&gt; &lt;span class="time"&gt; 3 hrs &lt;/span&gt;
								&lt;/span&gt; &lt;span class="message"&gt; This is awesome dashboard. &lt;/span&gt;
							&lt;/a&gt;&lt;/li&gt;
							&lt;li&gt;&lt;a href="#"&gt; &lt;span class="photo"&gt; &lt;img
										alt="avatar" src="./img/avatar-mini4.jpg"&gt;
								&lt;/span&gt; &lt;span class="subject"&gt; &lt;span class="from"&gt; ADMIN
											BLACK &lt;/span&gt; &lt;span class="time"&gt; Just now &lt;/span&gt;
								&lt;/span&gt; &lt;span class="message"&gt; Hello, this is metrolab &lt;/span&gt;
							&lt;/a&gt;&lt;/li&gt;
							&lt;li&gt;&lt;a href="#"&gt; See all messages &lt;/a&gt;&lt;/li&gt;
						&lt;/ul&gt;&lt;/li&gt;
					&lt;!-- END NOTIFY INBOX BAR --&gt;

					&lt;!-- START NOTIFY NOTIFICATION BAR --&gt;

					&lt;li id="header_notification_bar" class="dropdown"&gt;&lt;a
						data-toggle="dropdown" class="dropdown-toggle" href="#"&gt; &lt;i
							class="fa fa-bell-o"&gt; &lt;/i&gt; &lt;span class="badge bg-warning"&gt;
								7 &lt;/span&gt;
					&lt;/a&gt;
						&lt;ul class="dropdown-menu extended notification"&gt;
							&lt;li class="notify-arrow notify-arrow-blue"&gt;&lt;/li&gt;
							&lt;li&gt;
								&lt;p class="blue"&gt;You have 7 new notifications&lt;/p&gt;
							&lt;/li&gt;
							&lt;li&gt;&lt;a href="#"&gt; &lt;span class="label label-danger"&gt;
										&lt;i class="fa fa-bolt"&gt; &lt;/i&gt;
								&lt;/span&gt; Server #3 overloaded. &lt;span class="small italic"&gt; 34
										mins &lt;/span&gt;
							&lt;/a&gt;&lt;/li&gt;
							&lt;li&gt;&lt;a href="#"&gt; &lt;span class="label label-warning"&gt;
										&lt;i class="fa fa-bell"&gt; &lt;/i&gt;
								&lt;/span&gt; Server #10 not respoding. &lt;span class="small italic"&gt; 1
										Hours &lt;/span&gt;
							&lt;/a&gt;&lt;/li&gt;
							&lt;li&gt;&lt;a href="#"&gt; &lt;span class="label label-danger"&gt;
										&lt;i class="fa fa-bolt"&gt; &lt;/i&gt;
								&lt;/span&gt; Database overloaded 24%. &lt;span class="small italic"&gt; 4
										hrs &lt;/span&gt;
							&lt;/a&gt;&lt;/li&gt;
							&lt;li&gt;&lt;a href="#"&gt; &lt;span class="label label-success"&gt;
										&lt;i class="fa fa-plus"&gt; &lt;/i&gt;
								&lt;/span&gt; New user registered. &lt;span class="small italic"&gt; Just
										now &lt;/span&gt;
							&lt;/a&gt;&lt;/li&gt;
							&lt;li&gt;&lt;a href="#"&gt; &lt;span class="label label-primary"&gt;
										&lt;i class="fa fa-bullhorn"&gt; &lt;/i&gt;
								&lt;/span&gt; Application error. &lt;span class="small italic"&gt; 10 mins &lt;/span&gt;
							&lt;/a&gt;&lt;/li&gt;
							&lt;li&gt;&lt;a href="#"&gt; See all notifications &lt;/a&gt;&lt;/li&gt;
						&lt;/ul&gt;&lt;/li&gt;
					&lt;!-- END NOTIFY NOTIFICATION BAR --&gt;

				&lt;/ul&gt;


			&lt;/nav&gt;
			&lt;!-- END HEADER NAV --&gt;

			&lt;!-- START USER LOGIN DROPDOWN  --&gt;

			&lt;div class="top-nav "&gt;
				&lt;ul class="nav pull-right top-menu"&gt;
					&lt;li&gt;&lt;input type="text" class="form-control search"
						placeholder="Search"&gt;&lt;/li&gt;
					&lt;li class="dropdown"&gt;&lt;a data-toggle="dropdown"
						class="dropdown-toggle" href="#"&gt; &lt;img alt=""
							src="img/avatar1_small.jpg"&gt; &lt;span class="username"&gt;
								ADMIN BLACK &lt;/span&gt; &lt;b class="caret"&gt; &lt;/b&gt;
					&lt;/a&gt;
						&lt;ul class="dropdown-menu extended logout"&gt;
							&lt;li class="log-arrow-up"&gt;&lt;/li&gt;
							&lt;li&gt;&lt;a href="#"&gt; &lt;i class=" fa fa-suitcase"&gt; &lt;/i&gt;
									Profile
							&lt;/a&gt;&lt;/li&gt;
							&lt;li&gt;&lt;a href="#"&gt; &lt;i class="fa fa-cog"&gt; &lt;/i&gt; Settings
							&lt;/a&gt;&lt;/li&gt;
							&lt;li&gt;&lt;a href="#"&gt; &lt;i class="fa fa-bell-o"&gt; &lt;/i&gt;
									Notification
							&lt;/a&gt;&lt;/li&gt;
							&lt;li&gt;&lt;a href="login.html"&gt; &lt;i class="fa fa-key"&gt; &lt;/i&gt; Log
									Out
							&lt;/a&gt;&lt;/li&gt;
						&lt;/ul&gt;&lt;/li&gt;
				&lt;/ul&gt;
			&lt;/div&gt;
			&lt;!-- END USER LOGIN DROPDOWN  --&gt;
		&lt;/header&gt;
		&lt;!-- END HEADER --&gt;
		&lt;!-- BEGIN SIDEBAR --&gt;
		&lt;aside&gt;
			&lt;div id="sidebar" class="nav-collapse"&gt;
				&lt;ul class="sidebar-menu" id="nav-accordion"&gt;
					&lt;li&gt;&lt;a href="index.html" class="active"&gt; &lt;i
							class="fa fa-dashboard"&gt; &lt;/i&gt; &lt;span&gt; 流量概况 &lt;/span&gt;
					&lt;/a&gt;&lt;/li&gt;


					&lt;li class="sub-menu"&gt;&lt;a href="javascript:;"&gt; &lt;i
							class="fa fa-book"&gt; &lt;/i&gt; &lt;span&gt; 流量分析 &lt;/span&gt;
					&lt;/a&gt;
						&lt;ul class="sub"&gt;
							&lt;li&gt;&lt;a href="flow-trend.html"&gt; 趋势分析 &lt;/a&gt;&lt;/li&gt;
							&lt;li&gt;&lt;a href="flow-contract.html"&gt; 对比分析 &lt;/a&gt;&lt;/li&gt;
							&lt;li&gt;&lt;a href="flow-online.html"&gt; 当前在线 &lt;/a&gt;&lt;/li&gt;
							&lt;li&gt;&lt;a href="flow-detail.html"&gt; 访问明细 &lt;/a&gt;&lt;/li&gt;
						&lt;/ul&gt;&lt;/li&gt;

					&lt;li class="sub-menu"&gt;&lt;a href="javascript:;"&gt; &lt;i
							class="fa fa-th"&gt; &lt;/i&gt; &lt;span&gt; 来源分析 &lt;/span&gt;
					&lt;/a&gt;
						&lt;ul class="sub"&gt;
							&lt;li&gt;&lt;a href="#"&gt; 来源分类 &lt;/a&gt;&lt;/li&gt;
							&lt;li&gt;&lt;a href="#"&gt; 搜索引擎 &lt;/a&gt;&lt;/li&gt;
							&lt;li&gt;&lt;a href="#"&gt; 搜索词 &lt;/a&gt;&lt;/li&gt;
							&lt;li&gt;&lt;a href="#"&gt; 来路域名 &lt;/a&gt;&lt;/li&gt;
							&lt;li&gt;&lt;a href="#"&gt; 来路页面 &lt;/a&gt;&lt;/li&gt;
						&lt;/ul&gt;&lt;/li&gt;

					&lt;li class="sub-menu"&gt;&lt;a href="javascript:;"&gt; &lt;i
							class="fa fa-book"&gt; &lt;/i&gt; &lt;span&gt; 受访分析 &lt;/span&gt;
					&lt;/a&gt;
						&lt;ul class="sub"&gt;
							&lt;li&gt;&lt;a href="#"&gt; 受访分析 &lt;/a&gt;&lt;/li&gt;
							&lt;li&gt;&lt;a href="#"&gt; 受访域名 &lt;/a&gt;&lt;/li&gt;
							&lt;li&gt;&lt;a href="#"&gt; 受访页面 &lt;/a&gt;&lt;/li&gt;
							&lt;li&gt;&lt;a href="#"&gt; 受访升降榜 &lt;/a&gt;&lt;/li&gt;
							&lt;li&gt;&lt;a href="#"&gt; 热点图 &lt;/a&gt;&lt;/li&gt;
						&lt;/ul&gt;&lt;/li&gt;

					&lt;li class="sub-menu"&gt;&lt;a href="javascript:;"&gt; &lt;i
							class="fa fa-th"&gt; &lt;/i&gt; &lt;span&gt; 访客分析 &lt;/span&gt;
					&lt;/a&gt;
						&lt;ul class="sub"&gt;
							&lt;li&gt;&lt;a href="basic_table.html"&gt; 地区/运营商 &lt;/a&gt;&lt;/li&gt;
							&lt;li&gt;&lt;a href="responsive_table.html"&gt;终端详情 &lt;/a&gt;&lt;/li&gt;
							&lt;li&gt;&lt;a href="dynamic_table.html"&gt; 新老访客&lt;/a&gt;&lt;/li&gt;
							&lt;li&gt;&lt;a href="advanced_table.html"&gt; 忠诚度 &lt;/a&gt;&lt;/li&gt;
							&lt;li&gt;&lt;a href="editable_table.html"&gt; 活跃度 &lt;/a&gt;&lt;/li&gt;
						&lt;/ul&gt;&lt;/li&gt;
				&lt;/ul&gt;
			&lt;/div&gt;
		&lt;/aside&gt;
		&lt;!-- END SIDEBAR --&gt;


		&lt;!-- BEGIN MAIN CONTENT --&gt;
		&lt;section id="main-content"&gt;
			&lt;!-- BEGIN WRAPPER  --&gt;
			&lt;section class="wrapper"&gt;

				&lt;!-- 流量概况表 开始 --&gt;
				&lt;div class="row"&gt;
					&lt;div class="col-lg-12 col-sm-12"&gt;
						&lt;section class="panel"&gt;
							&lt;div class="panel-body"&gt;
								&lt;!-- 为ECharts准备一个具备大小（宽高）的Dom --&gt;
								&lt;div&gt;
									&lt;span&gt;&lt;h3&gt;流量信息概况&lt;/h3&gt;&lt;/span&gt;
								&lt;/div&gt;
								&lt;div id="trendtable" style="width: 90%;"&gt;
									&lt;table id='pv_table' class="table table-bordered" margin=auto&gt;
										&lt;thead style='font-weight: bold'&gt;
											&lt;tr&gt;
												&lt;td&gt;日期&lt;/td&gt;
												&lt;td&gt;浏览次数（PV）&lt;/td&gt;
												&lt;td&gt;独立访客(UV)&lt;/td&gt;
												&lt;td&gt;IP&lt;/td&gt;
												&lt;td&gt;新独立访客&lt;/td&gt;
												&lt;td&gt;访问次数&lt;/td&gt;
											&lt;/tr&gt;
										&lt;/thead&gt;
										&lt;tbody&gt;
											&lt;tr&gt;
												&lt;td&gt;1001&lt;/td&gt;
												&lt;td&gt;4702&lt;/td&gt;
												&lt;td&gt;3096&lt;/td&gt;
												&lt;td&gt;2880&lt;/td&gt;
												&lt;td&gt;2506&lt;/td&gt;
												&lt;td&gt;3773&lt;/td&gt;
											&lt;/tr&gt;
											&lt;tr&gt;
												&lt;td&gt;1002&lt;/td&gt;
												&lt;td&gt;7528&lt;/td&gt;
												&lt;td&gt;4860&lt;/td&gt;
												&lt;td&gt;4435&lt;/td&gt;
												&lt;td&gt;4209&lt;/td&gt;
												&lt;td&gt;5975&lt;/td&gt;
											&lt;/tr&gt;
											&lt;tr&gt;
												&lt;td&gt;1003&lt;/td&gt;
												&lt;td&gt;7286&lt;/td&gt;
												&lt;td&gt;4741&lt;/td&gt;
												&lt;td&gt;4409&lt;/td&gt;
												&lt;td&gt;4026&lt;/td&gt;
												&lt;td&gt;5817&lt;/td&gt;
											&lt;/tr&gt;
										&lt;/tbody&gt;
									&lt;/table&gt;
								&lt;/div&gt;
							&lt;/div&gt;
						&lt;/section&gt;
					&lt;/div&gt;
				&lt;/div&gt;
				&lt;!-- 流量概况表 结束--&gt;


				&lt;!-- BEGIN ROW  最近7天日平均PV量--&gt;
				&lt;div class="row"&gt;
					&lt;div class="col-lg-6 col-sm-6"&gt;
						&lt;section class="panel"&gt;
							&lt;div class="panel-body"&gt;
								&lt;div id="main1" style="width: 100%; height: 400px;"&gt;&lt;/div&gt;
								&lt;script type="text/javascript"&gt;
									$(document)
											.ready(
													function() {
														var myChart = echarts
																.init(document
																		.getElementById('main1'));
														// 显示标题，图例和空的坐标轴
														myChart
																.setOption({
																	title : {
																		text : '最近7天日平均PV量',
																		subtext : '动态数据'
																	},
																	tooltip : {},
																	legend : {
																		data : [ '日平均PV量' ]
																	},
																	xAxis : {
																		data : []
																	},
																	yAxis : {},
																	series : [ {
																		name : '日平均PV量',
																		type : 'bar',
																		data : []
																	} ]
																});
														//loading 动画
														myChart.showLoading();
														// 异步加载数据
														$.get('http://localhost:8080/avgPvNum').done(function(data) {
															//填入数据
															myChart.setOption({
																xAxis : {
																							data : data.dates
																						},
																						series : [ {
																							// 根据名字对应到相应的系列
																							name : 'PV量',
																							data : data.data
																						} ]
																					});
																			//数据加载完成后再调用 hideLoading 方法隐藏加载动画
																			myChart.hideLoading();
																		});
													});
								&lt;/script&gt;

							&lt;/div&gt;
						&lt;/section&gt;
					&lt;/div&gt;
					&lt;div class="col-lg-6 col-sm-6"&gt;
						&lt;section class="panel"&gt;
							&lt;div class="panel-body"&gt;

								&lt;div id="main2" style="width: 600px; height: 400px;"
									align="center"&gt;&lt;/div&gt;
								&lt;script type="text/javascript"&gt;
									// 基于准备好的dom，初始化echarts实例
									var myChart = echarts.init(document
											.getElementById('main2'));

									myChart
											.setOption({
												series : [ {
													name : '访问来源',
													type : 'pie',
													radius : '55%',
													data : [ {
														value : 235,
														name : '视频广告'
													}, {
														value : 274,
														name : '联盟广告'
													}, {
														value : 310,
														name : '邮件营销'
													}, {
														value : 335,
														name : '直接访问'
													}, {
														value : 400,
														name : '搜索引擎'
													} ]
												} ],
												itemStyle : {
													normal : {
														// 阴影的大小
														shadowBlur : 200,
														// 阴影水平方向上的偏移
														shadowOffsetX : 0,
														// 阴影垂直方向上的偏移
														shadowOffsetY : 0,
														// 阴影颜色
														shadowColor : 'rgba(0, 0, 0, 0.5)'
													}
												}
											})
								&lt;/script&gt;
							&lt;/div&gt;
						&lt;/section&gt;
					&lt;/div&gt;

				&lt;/div&gt;
				&lt;!-- END ROW  --&gt;

				&lt;!-- 折线图 row 开始 --&gt;
				&lt;div class="row"&gt;
					&lt;div class="col-lg-12 col-sm-12"&gt;
						&lt;section class="panel"&gt;
							&lt;div class="panel-body"&gt;
								&lt;div id="main3" style="width: 100%; height: 500px;"&gt;&lt;/div&gt;
								&lt;script type="text/javascript"&gt;
									// 基于准备好的dom，初始化echarts实例
									var myChart3 = echarts.init(document
											.getElementById('main3'));
									option = {
										title : {
											text : '访客来源地区分布图',
											subtext : '模拟数据',
											x : 'center'
										},
										tooltip : {
											trigger : 'item'
										},
										legend : {
											orient : 'vertical',
											x : 'left',
											data : [ '访客UV' ]
										},
										dataRange : {
											min : 0,
											max : 2500,
											x : 'left',
											y : 'bottom',
											text : [ '高', '低' ], // 文本，默认为数值文本
											calculable : true
										},
										toolbox : {
											show : true,
											orient : 'vertical',
											x : 'right',
											y : 'center',
											feature : {
												mark : {
													show : true
												},
												dataView : {
													show : true,
													readOnly : false
												},
												restore : {
													show : true
												},
												saveAsImage : {
													show : true
												}
											}
										},
										roamController : {
											show : true,
											x : 'right',
											mapTypeControl : {
												'china' : true
											}
										},
										series : [
												{
													name : '访客UV',
													type : 'map',
													mapType : 'china',
													roam : false,
													itemStyle : {
														normal : {
															label : {
																show : true
															}
														},
														emphasis : {
															label : {
																show : true
															}
														}
													},
													data : [
															{
																name : '北京',
																value : Math
																		.round(Math
																				.random() * 1000)
															},
															{
																name : '天津',
																value : Math
																		.round(Math
																				.random() * 1000)
															},
															{
																name : '上海',
																value : Math
																		.round(Math
																				.random() * 1000)
															},
															{
																name : '重庆',
																value : Math
																		.round(Math
																				.random() * 1000)
															},
															{
																name : '河北',
																value : Math
																		.round(Math
																				.random() * 1000)
															},
															{
																name : '河南',
																value : Math
																		.round(Math
																				.random() * 1000)
															},
															{
																name : '云南',
																value : Math
																		.round(Math
																				.random() * 1000)
															},
															{
																name : '辽宁',
																value : Math
																		.round(Math
																				.random() * 1000)
															},
															{
																name : '黑龙江',
																value : Math
																		.round(Math
																				.random() * 1000)
															},
															{
																name : '湖南',
																value : Math
																		.round(Math
																				.random() * 1000)
															},
															{
																name : '安徽',
																value : Math
																		.round(Math
																				.random() * 1000)
															},
															{
																name : '山东',
																value : Math
																		.round(Math
																				.random() * 1000)
															},
															{
																name : '新疆',
																value : Math
																		.round(Math
																				.random() * 1000)
															},
															{
																name : '江苏',
																value : Math
																		.round(Math
																				.random() * 1000)
															},
															{
																name : '浙江',
																value : Math
																		.round(Math
																				.random() * 1000)
															},
															{
																name : '江西',
																value : Math
																		.round(Math
																				.random() * 1000)
															},
															{
																name : '湖北',
																value : Math
																		.round(Math
																				.random() * 1000)
															},
															{
																name : '广西',
																value : Math
																		.round(Math
																				.random() * 1000)
															},
															{
																name : '甘肃',
																value : Math
																		.round(Math
																				.random() * 1000)
															},
															{
																name : '山西',
																value : Math
																		.round(Math
																				.random() * 1000)
															},
															{
																name : '内蒙古',
																value : Math
																		.round(Math
																				.random() * 1000)
															},
															{
																name : '陕西',
																value : Math
																		.round(Math
																				.random() * 1000)
															},
															{
																name : '吉林',
																value : Math
																		.round(Math
																				.random() * 1000)
															},
															{
																name : '福建',
																value : Math
																		.round(Math
																				.random() * 1000)
															},
															{
																name : '贵州',
																value : Math
																		.round(Math
																				.random() * 1000)
															},
															{
																name : '广东',
																value : Math
																		.round(Math
																				.random() * 1000)
															},
															{
																name : '青海',
																value : Math
																		.round(Math
																				.random() * 1000)
															},
															{
																name : '西藏',
																value : Math
																		.round(Math
																				.random() * 1000)
															},
															{
																name : '四川',
																value : Math
																		.round(Math
																				.random() * 1000)
															},
															{
																name : '宁夏',
																value : Math
																		.round(Math
																				.random() * 1000)
															},
															{
																name : '海南',
																value : Math
																		.round(Math
																				.random() * 1000)
															},
															{
																name : '台湾',
																value : Math
																		.round(Math
																				.random() * 1000)
															},
															{
																name : '香港',
																value : Math
																		.round(Math
																				.random() * 1000)
															},
															{
																name : '澳门',
																value : Math
																		.round(Math
																				.random() * 1000)
															} ]
												},

										]
									};

									myChart3.setOption(option);
								&lt;/script&gt;
							&lt;/div&gt;
						&lt;/section&gt;
					&lt;/div&gt;
				&lt;/div&gt;


				&lt;!-- 折线图 row 结束 --&gt;
				&lt;!-- 动态加载数据示例 开始--&gt;
				&lt;div class="row"&gt;
					&lt;div class="col-lg-12 col-sm-12"&gt;
						&lt;section class="panel"&gt;
							&lt;div class="panel-body"&gt;
								&lt;div id="main4" style="width: 100%; height: 400px;"&gt;&lt;/div&gt;
								&lt;script type="text/javascript"&gt;
									// 基于准备好的dom，初始化echarts实例
									var myChart4 = echarts.init(document
											.getElementById('main4'));

									// 指定图表的配置项和数据
									option = {
										title : {
											text : '近一周访客数量变化趋势',
											subtext : '动态数据'
										},
										tooltip : {
											trigger : 'axis'
										},
										legend : {
											data : [ '独立访客', '新独立访客' ]
										},
										toolbox : {
											show : true,
											feature : {
												mark : {
													show : true
												},
												dataView : {
													show : true,
													readOnly : false
												},
												magicType : {
													show : true,
													type : [ 'line', 'bar' ]
												},
												restore : {
													show : true
												},
												saveAsImage : {
													show : true
												}
											}
										},
										calculable : true,
										xAxis : [ {
											type : 'category',
											boundaryGap : false,
											data : []
										} ],
										yAxis : [ {
											type : 'value',
											axisLabel : {
												formatter : '{value} 人'
											}
										} ],
										series : [ {
											name : '独立访客',
											type : 'line',
											data : [],
											markPoint : {
												data : [ {
													type : 'max',
													name : '最大值'
												}, {
													type : 'min',
													name : '最小值'
												} ]
											},
											markLine : {
												data : [ {
													type : 'average',
													name : '平均值'
												} ]
											}
										}, {
											name : '新独立访客',
											type : 'line',
											data : [],
											markPoint : {
												data : [ {
													type : 'max',
													name : '最大值'
												}, {
													type : 'min',
													name : '最小值'
												} ]
											},
											markLine : {
												data : [ {
													type : 'average',
													name : '平均值'
												} ]
											}
										} ]
									};

									// 使用刚指定的配置项和数据显示图表。
									myChart4.setOption(option);
									myChart4.showLoading();
									// 异步加载数据
									$.get('http://localhost:8080/flowNum')
											.done(function(data) {
												// 填入数据
												myChart4.setOption({
													xAxis : {
														data : data.dates
													},
													series : [ {
														name : '独立访客',
														data : data.uvs
													}, {
														name : '新独立访客',
														data : data.new_uvs
													} ]
												});
												myChart4.hideLoading();
											});
								&lt;/script&gt;
							&lt;/div&gt;
						&lt;/section&gt;
					&lt;/div&gt;
				&lt;/div&gt;
				&lt;!-- 动态加载数据示例 结束--&gt;


				&lt;!-- BEGIN ROW  --&gt;
				&lt;div class="row"&gt;
					&lt;div class="col-lg-6"&gt;
						&lt;div class="panel"&gt;
							&lt;div class="panel-body"&gt;
								&lt;footer class="project-category"&gt;
									&lt;ul&gt;
										&lt;li class="active"&gt;
											&lt;h5&gt;Project 1&lt;/h5&gt;
											&lt;div id="work-progress6"&gt;&lt;/div&gt;
										&lt;/li&gt;
										&lt;li&gt;
											&lt;h5&gt;Project 2&lt;/h5&gt;
											&lt;div id="work-progress7"&gt;&lt;/div&gt;
										&lt;/li&gt;
										&lt;li&gt;
											&lt;h5&gt;Project 3&lt;/h5&gt;
											&lt;div id="work-progress8"&gt;&lt;/div&gt;
										&lt;/li&gt;
									&lt;/ul&gt;
									&lt;h1&gt;Projects accomplished&lt;/h1&gt;
								&lt;/footer&gt;
								&lt;!-- END  FOOTER --&gt;
							&lt;/div&gt;
						&lt;/div&gt;
					&lt;/div&gt;
					&lt;div class="col-lg-6"&gt;
						&lt;div class="panel"&gt;
							&lt;div class="panel-body"&gt;
								&lt;div class="bio-chart"&gt;
									&lt;input class="knob" data-width="100" data-height="100"
										data-displayPrevious=true data-thickness=".2" value="78"
										data-fgColor="#f9a3a3" data-bgColor="#e8e8e8"&gt;
									&lt;h4 class="red"&gt;Profit&lt;/h4&gt;
								&lt;/div&gt;
								&lt;div class="bio-chart"&gt;
									&lt;input class="knob" data-width="100" data-height="100"
										data-displayPrevious=true data-thickness=".2" value="63"
										data-fgColor="#fcce54" data-bgColor="#e8e8e8"&gt;
									&lt;h4 class="yellow"&gt;Expansion&lt;/h4&gt;
								&lt;/div&gt;
							&lt;/div&gt;
						&lt;/div&gt;
					&lt;/div&gt;
				&lt;/div&gt;
				&lt;!-- END ROW  --&gt;
			&lt;/section&gt;
			&lt;!-- END WRAPPER  --&gt;
		&lt;/section&gt;
		&lt;!-- END MAIN CONTENT --&gt;
		&lt;!-- BEGIN FOOTER --&gt;
		&lt;footer class="site-footer"&gt;
			&lt;div class="text-center"&gt;
				2017 &amp;copy; PINYOUGOU by &lt;a href="" target="_blank"&gt;
					www.itcast.cn &lt;/a&gt; &lt;a href="http://www.itcast.cn" class="go-top"&gt; &lt;i
					class="fa fa-angle-up"&gt; &lt;/i&gt;
				&lt;/a&gt;
			&lt;/div&gt;
		&lt;/footer&gt;
		&lt;!-- END  FOOTER --&gt;
	&lt;/section&gt;
	&lt;!-- END SECTION --&gt;
	&lt;!-- BEGIN JS --&gt;

	&lt;!-- BASIC JQUERY 1.8.3 LIB. JS --&gt;
	&lt;script src="js/bootstrap.min.js"&gt;&lt;/script&gt;
	&lt;!-- BOOTSTRAP JS --&gt;
	&lt;script src="js/jquery.dcjqaccordion.2.7.js"&gt;&lt;/script&gt;
	&lt;!-- ACCORDIN JS --&gt;
	&lt;script src="js/jquery.scrollTo.min.js"&gt;&lt;/script&gt;
	&lt;!-- SCROLLTO JS --&gt;
	&lt;script src="js/jquery.nicescroll.js"&gt;&lt;/script&gt;
	&lt;!-- NICESCROLL JS --&gt;
	&lt;script src="js/respond.min.js"&gt;&lt;/script&gt;
	&lt;!-- RESPOND JS --&gt;
	&lt;script src="js/jquery.sparkline.js"&gt;&lt;/script&gt;
	&lt;!-- SPARKLINE JS --&gt;
	&lt;script src="js/sparkline-chart.js"&gt;&lt;/script&gt;
	&lt;!-- SPARKLINE CHART JS --&gt;
	&lt;script src="js/common-scripts.js"&gt;&lt;/script&gt;
	&lt;!-- BASIC COMMON JS --&gt;
	&lt;script src="js/count.js"&gt;&lt;/script&gt;
	&lt;!-- COUNT JS --&gt;
	&lt;!--Morris--&gt;
	&lt;script src="assets/morris.js-0.4.3/morris.min.js"&gt;&lt;/script&gt;
	&lt;!-- MORRIS JS --&gt;
	&lt;script src="assets/morris.js-0.4.3/raphael-min.js"&gt;&lt;/script&gt;
	&lt;!-- MORRIS  JS --&gt;
	&lt;script src="js/chart.js"&gt;&lt;/script&gt;
	&lt;!-- CHART JS --&gt;
	&lt;!--Calendar--&gt;
	&lt;script src="js/calendar/clndr.js"&gt;&lt;/script&gt;
	&lt;!-- CALENDER JS --&gt;
	&lt;script src="js/calendar/evnt.calendar.init.js"&gt;&lt;/script&gt;
	&lt;!-- CALENDER EVENT JS --&gt;
	&lt;script src="js/calendar/moment-2.2.1.js"&gt;&lt;/script&gt;
	&lt;!-- CALENDER MOMENT JS --&gt;
	&lt;!-- &lt;script src="http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.5.2/underscore-min.js"&gt;&lt;/script&gt; --&gt;
	&lt;!-- UNDERSCORE JS --&gt;
	&lt;script src="assets/jquery-knob/js/jquery.knob.js"&gt;&lt;/script&gt;
	&lt;!-- JQUERY KNOB JS --&gt;
	&lt;script&gt;
		//knob
		$(".knob").knob();
	&lt;/script&gt;

	&lt;!-- END JS --&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre> 
<h3 id="3%E3%80%81%E7%B3%BB%E7%BB%9F%E5%8A%9F%E8%83%BD%E6%A8%A1%E5%9D%97%E5%B1%95%E7%A4%BA"><strong>3、系统功能模块展示</strong></h3> 
<h3 id="%E2%80%8B%E7%BC%96%E8%BE%91" style="text-align:center;"><strong><img alt="" src="https://images2.imgbox.com/b3/9c/iEuHDhEn_o.png"></strong></h3> 
<hr> 
<h2 id="%E5%8F%82%E8%80%83%E4%B9%A6%E7%B1%8D%EF%BC%9A">参考书籍：</h2> 
<p>《Hadoop大数据技术原理与应用》</p> 
<p></p> 
<p> </p> 
<p></p> 
<p> </p> 
<h3></h3> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/01e1aa2391fbedc578c6d27ce942f1ca/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">点云数据的语义分割算法综述总结大全（传统方法&#43;基于深度学习的方法）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/444399d0b7a87752be2ce8427b2408eb/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">2023最新pytorch安装教程，简单易懂，面向初学者（Anaconda&#43;GPU）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>