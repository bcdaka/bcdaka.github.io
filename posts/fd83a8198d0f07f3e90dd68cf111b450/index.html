<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【Python推导式秘籍】：一行代码的艺术，高效数据处理之道 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/fd83a8198d0f07f3e90dd68cf111b450/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="【Python推导式秘籍】：一行代码的艺术，高效数据处理之道">
  <meta property="og:description" content="文章目录 🚋Python推导式🚀一、列表推导式🌈1. 了解推导式❤️2. 实践💥3. 总结 🚀二、字典推导式🌈1. 了解字典推导式❤️2. 实践💥3. 总结 🚀三、集合推导式🌈1. 了解集合推导式❤️2. 实践💥3. 总结 🚀四、生成器推导式🌈1. 了解生成器推导式❤️2. 实践💥3. 总结 🚋Python推导式 🚀一、列表推导式 🌈1. 了解推导式 列表推导式（List Comprehensions）是Python中一种简洁、高效的创建列表的方法。它允许你用一行代码代替多行循环结构来生成新的列表。列表推导式的语法结构紧凑，易于阅读，适用于基于现有列表或者其他可迭代对象生成新列表的场景，特别是当新列表的每个元素都是通过对原列表元素进行某种变换或过滤得到时。
基本语法结构如下：
[expression for item in iterable if condition] expression：是要应用到每个元素上的表达式，用于生成新列表中的元素。item：是每次循环迭代中的当前元素。iterable：是你要遍历的任何可迭代对象，如列表、元组、字符串等。if condition：是可选的筛选条件，只有当条件为真时，对应的元素才会被包含在新列表中。 [ 表达式 for 变量 in 序列 [if 条件] ] # 表达式 是需要进行的操作，可以包括各种数学运算、函数调用、字符串操作等； # 变量 是循环体内部的循环变量，每次循环从 序列 中取出一个元素； # 序列 是需要遍历的对象，可以是列表、元组、字符串等可迭代对象； # if 条件 是可选的条件判断语句，用于对元素进行筛选。 ❤️2. 实践 【示例1】：生成 0 到 9 的平方数列表
# 生成 0 到 9 的平方数列表： squares = [x**2 for x in range(10)] print(squares) # [0, 1, 4, 9, 16, 25, 36, 49, 64, 81] 【示例2】：获取一个列表中所有偶数的平方">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-06-15T19:31:06+08:00">
    <meta property="article:modified_time" content="2024-06-15T19:31:06+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【Python推导式秘籍】：一行代码的艺术，高效数据处理之道</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><ul><li><a href="#Python_1" rel="nofollow">🚋Python推导式</a></li><li><ul><li><a href="#_4" rel="nofollow">🚀一、列表推导式</a></li><li><ul><li><a href="#1__5" rel="nofollow">🌈1. 了解推导式</a></li><li><a href="#2__29" rel="nofollow">❤️2. 实践</a></li><li><a href="#3__73" rel="nofollow">💥3. 总结</a></li></ul> 
    </li><li><a href="#_92" rel="nofollow">🚀二、字典推导式</a></li><li><ul><li><a href="#1__93" rel="nofollow">🌈1. 了解字典推导式</a></li><li><a href="#2__122" rel="nofollow">❤️2. 实践</a></li><li><a href="#3__186" rel="nofollow">💥3. 总结</a></li></ul> 
    </li><li><a href="#_192" rel="nofollow">🚀三、集合推导式</a></li><li><ul><li><a href="#1__193" rel="nofollow">🌈1. 了解集合推导式</a></li><li><a href="#2__206" rel="nofollow">❤️2. 实践</a></li><li><a href="#3__223" rel="nofollow">💥3. 总结</a></li></ul> 
    </li><li><a href="#_226" rel="nofollow">🚀四、生成器推导式</a></li><li><ul><li><a href="#1__227" rel="nofollow">🌈1. 了解生成器推导式</a></li><li><a href="#2__249" rel="nofollow">❤️2. 实践</a></li><li><a href="#3__262" rel="nofollow">💥3. 总结</a></li></ul> 
   </li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h3><a id="Python_1"></a>🚋Python推导式</h3> 
<p><img src="https://images2.imgbox.com/da/86/Gb3Q6Frd_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_4"></a>🚀一、列表推导式</h4> 
<h5><a id="1__5"></a>🌈1. 了解推导式</h5> 
<p>列表推导式（List Comprehensions）是Python中一种简洁、高效的创建列表的方法。它<code>允许你用一行代码代替多行循环结构来生成新的列表</code>。列表推导式的语法结构紧凑，易于阅读，适用于基于现有列表或者其他可迭代对象生成新列表的场景，特别是当新列表的每个元素都是通过对原列表元素进行某种变换或过滤得到时。</p> 
<p>基本语法结构如下：</p> 
<pre><code class="prism language-python"><span class="token punctuation">[</span>expression <span class="token keyword">for</span> item <span class="token keyword">in</span> iterable <span class="token keyword">if</span> condition<span class="token punctuation">]</span>
</code></pre> 
<ul><li><code>expression</code>：是要应用到每个元素上的表达式，用于生成新列表中的元素。</li><li><code>item</code>：是每次循环迭代中的当前元素。</li><li><code>iterable</code>：是你要遍历的任何可迭代对象，如列表、元组、字符串等。</li><li><code>if condition</code>：是可选的筛选条件，只有当条件为真时，对应的元素才会被包含在新列表中。</li></ul> 
<pre><code class="prism language-python"><span class="token punctuation">[</span> 表达式 <span class="token keyword">for</span> 变量 <span class="token keyword">in</span> 序列 <span class="token punctuation">[</span><span class="token keyword">if</span> 条件<span class="token punctuation">]</span> <span class="token punctuation">]</span>
<span class="token comment"># 表达式 是需要进行的操作，可以包括各种数学运算、函数调用、字符串操作等；</span>
<span class="token comment"># 变量 是循环体内部的循环变量，每次循环从 序列 中取出一个元素；</span>
<span class="token comment"># 序列 是需要遍历的对象，可以是列表、元组、字符串等可迭代对象；</span>
<span class="token comment"># if 条件 是可选的条件判断语句，用于对元素进行筛选。</span>
</code></pre> 
<h5><a id="2__29"></a>❤️2. 实践</h5> 
<p><strong>【示例1】：生成 0 到 9 的平方数列表</strong></p> 
<pre><code class="prism language-python"><span class="token comment"># 生成 0 到 9 的平方数列表：</span>
squares <span class="token operator">=</span> <span class="token punctuation">[</span>x<span class="token operator">**</span><span class="token number">2</span> <span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>squares<span class="token punctuation">)</span>   <span class="token comment"># [0, 1, 4, 9, 16, 25, 36, 49, 64, 81]</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/15/92/QG0bmKMi_o.png" alt="在这里插入图片描述"></p> 
<p><strong>【示例2】：获取一个列表中所有偶数的平方</strong></p> 
<pre><code class="prism language-python"><span class="token comment"># 获取一个列表中所有偶数的平方</span>
numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span>
even_squares <span class="token operator">=</span> <span class="token punctuation">[</span>x<span class="token operator">**</span><span class="token number">2</span> <span class="token keyword">for</span> x <span class="token keyword">in</span> numbers <span class="token keyword">if</span> x <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>even_squares<span class="token punctuation">)</span>   <span class="token comment"># [4, 16, 36]</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/b6/da/zyAxzweC_o.png" alt="在这里插入图片描述"></p> 
<p><strong>【示例3】：将一个句子拆分成单词列表</strong></p> 
<pre><code class="prism language-python"><span class="token comment"># 将一个句子拆分成单词列表</span>
sentence <span class="token operator">=</span> <span class="token string">"This is a sample sentence."</span>
words <span class="token operator">=</span> <span class="token punctuation">[</span>word <span class="token keyword">for</span> word <span class="token keyword">in</span> sentence<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>words<span class="token punctuation">)</span>   <span class="token comment"># ['This', 'is', 'a', 'sample', 'sentence.']</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/d9/53/ZAHFq0Bt_o.png" alt="在这里插入图片描述"></p> 
<p><strong>【示例4】：将data里面不与demo重复的数据进行添加进demo中</strong></p> 
<pre><code class="prism language-python"><span class="token comment"># 在多场景的情况下需要有特殊操作</span>
demo <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span>
<span class="token comment"># 将data里面不与demo重复的数据进行添加进demo中</span>
<span class="token punctuation">[</span>demo<span class="token punctuation">.</span>append<span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> data <span class="token keyword">if</span> i <span class="token keyword">not</span> <span class="token keyword">in</span> demo<span class="token punctuation">]</span>
<span class="token comment"># 这里之所以不进行变量接收是因为数据是添加到了demo列表里面了</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>demo<span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/f7/f5/LX7NrNZe_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="3__73"></a>💥3. 总结</h5> 
<pre><code class="prism language-md">使用列表推导式可以方便地生成一个列表，并且能够对其中的元素进行变换和过滤。
它是一种简洁、灵活的编程技巧，常用于数据处理和清洗等场景。

在python代码执行的规则性能上面来看，其效率会更好一些；不过不建议处理过于复杂的结构，不利于代码维护及调试

元组推导式及集合推导式 的操作与列表推导式相同
</code></pre> 
<h4><a id="_92"></a>🚀二、字典推导式</h4> 
<h5><a id="1__93"></a>🌈1. 了解字典推导式</h5> 
<p>字典推导式（Dictionary Comprehensions）是Python中用于创建字典的快捷方式，其工作原理类似于列表推导式，但用于生成字典。字典推导式让你能够以一种简洁、易读的方式从可迭代对象中创建字典。其基本结构允许你快速地对数据进行转换或过滤，并形成键值对。</p> 
<p><strong>基本语法结构如下：</strong></p> 
<pre><code class="prism language-python"><span class="token punctuation">{<!-- --></span>key_expression<span class="token punctuation">:</span> value_expression <span class="token keyword">for</span> item <span class="token keyword">in</span> iterable <span class="token keyword">if</span> condition<span class="token punctuation">}</span>
</code></pre> 
<ul><li><code>key_expression</code>：为字典中每个键生成的表达式。</li><li><code>value_expression</code>：为字典中每个值生成的表达式。</li><li><code>item</code>：在迭代过程中当前的元素。</li><li><code>iterable</code>：要遍历的任何可迭代对象。</li><li><code>if condition</code>：可选条件，仅当条件为真时，当前元素才会被包含在新字典中。</li></ul> 
<pre><code class="prism language-python"><span class="token comment"># 基本语法</span>
<span class="token punctuation">{<!-- --></span> 键表达式<span class="token punctuation">:</span> 值表达式 <span class="token keyword">for</span> 变量 <span class="token keyword">in</span> 序列 <span class="token punctuation">[</span><span class="token keyword">if</span> 条件<span class="token punctuation">]</span> <span class="token punctuation">}</span>

<span class="token comment"># 键表达式 和 值表达式 分别是需要进行的操作，可以包括各种数学运算、函数调用、字符串操作等；</span>
<span class="token comment"># 变量 是循环体内部的循环变量，每次循环从 序列 中取出一个元素；</span>
<span class="token comment"># 序列 是需要遍历的对象，可以是列表、元组、字符串等可迭代对象；</span>
<span class="token keyword">if</span> 条件 是可选的条件判断语句，用于对元素进行筛选。
</code></pre> 
<h5><a id="2__122"></a>❤️2. 实践</h5> 
<p><strong>【示例1】：将一个字典中所有键转换为大写</strong></p> 
<pre><code class="prism language-python"><span class="token comment"># 将一个字典中所有键转换为大写</span>
d <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'Alice'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">:</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token string">'email'</span><span class="token punctuation">:</span> <span class="token string">'alice@example.com'</span><span class="token punctuation">}</span>
new_d <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>key<span class="token punctuation">.</span>upper<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> value <span class="token keyword">for</span> key<span class="token punctuation">,</span> value <span class="token keyword">in</span> d<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>new_d<span class="token punctuation">)</span>   <span class="token comment"># {'NAME': 'Alice', 'AGE': 25, 'EMAIL': 'alice@example.com'}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/dd/91/e9UmlmIJ_o.png" alt="在这里插入图片描述"><br> <strong>【示例2】：将一个列表中的元素映射为它们本身及其长度</strong></p> 
<pre><code class="prism language-python"><span class="token comment"># 将一个列表中的元素映射为它们本身及其长度</span>
words <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'apple'</span><span class="token punctuation">,</span> <span class="token string">'banana'</span><span class="token punctuation">,</span> <span class="token string">'pear'</span><span class="token punctuation">]</span>
word_lengths <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>word<span class="token punctuation">:</span> <span class="token builtin">len</span><span class="token punctuation">(</span>word<span class="token punctuation">)</span> <span class="token keyword">for</span> word <span class="token keyword">in</span> words<span class="token punctuation">}</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>word_lengths<span class="token punctuation">)</span>   <span class="token comment"># {'apple': 5, 'banana': 6, 'pear': 4}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/73/27/zR35bq9P_o.png" alt="在这里插入图片描述"></p> 
<p><strong>【示例3】：倒转一个字典中的键值对</strong></p> 
<pre><code class="prism language-python"><span class="token comment"># 倒转一个字典中的键值对</span>
d <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">:</span> <span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">:</span> <span class="token string">'B'</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">:</span> <span class="token string">'C'</span><span class="token punctuation">}</span>
new_d <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>value<span class="token punctuation">:</span> key <span class="token keyword">for</span> key<span class="token punctuation">,</span> value <span class="token keyword">in</span> d<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>new_d<span class="token punctuation">)</span>   <span class="token comment"># {'A': 1, 'B': 2, 'C': 3}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/61/9c/LuJZ7VYL_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-python"><span class="token comment"># 构建字典</span>

key_1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'比赛'</span><span class="token punctuation">,</span> <span class="token string">'友谊'</span><span class="token punctuation">]</span>
value_2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span>

<span class="token comment"># 字典推导式创建列表的话就只要一行搞定！！！</span>
dict_2 <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>key_1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">:</span> value_2<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>key_1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>dict_2<span class="token punctuation">)</span>

<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>
key_1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'快乐'</span><span class="token punctuation">,</span> <span class="token string">'日拱一卒'</span><span class="token punctuation">,</span> <span class="token string">'hahha'</span><span class="token punctuation">,</span> <span class="token string">'dddd'</span><span class="token punctuation">]</span>
value <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">18</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">]</span>

<span class="token comment"># dict1 = {key_1[i]: value[i] for i in range(len(key_1)) if len(key_1) == len(value)}</span>

num <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>key_1<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token builtin">len</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>  <span class="token comment"># 查看长度差</span>
<span class="token keyword">if</span> num <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">:</span>  <span class="token comment"># 如果num大于0 说明键列表长度 大于 值列表长度</span>
  
    <span class="token comment"># 将能够配对部分进行构建字典  ---- range(len(key_1)-num)</span>
    dict1 <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>key_1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">:</span> value<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>key_1<span class="token punctuation">)</span><span class="token operator">-</span>num<span class="token punctuation">)</span><span class="token punctuation">}</span>
    
    <span class="token comment"># 将没有值的键部分进行构建</span>
    <span class="token comment">#  len(key_1)-a  ---- 下标起始位</span>
    <span class="token comment">#  len(key_1)  -------- 结束位置</span>
    <span class="token comment">#  [dict1.setdefault(key_1[i], None) for i in range(len(key_1)-a, len(key_1))]</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>key_1<span class="token punctuation">)</span><span class="token operator">-</span>a<span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>key_1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        dict1<span class="token punctuation">[</span>key_1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">None</span>
<span class="token keyword">else</span><span class="token punctuation">:</span>
    dict1 <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>key_1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">:</span> value<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>key_1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>dict1<span class="token punctuation">)</span>
</code></pre> 
<h5><a id="3__186"></a>💥3. 总结</h5> 
<pre><code class="prism language-md">使用字典推导式可以方便地生成一个字典，并且能够对其中的元素进行变换和过滤。
它是一种简洁、灵活的编程技巧，常用于数据处理和清洗等场景。
</code></pre> 
<h4><a id="_192"></a>🚀三、集合推导式</h4> 
<h5><a id="1__193"></a>🌈1. 了解集合推导式</h5> 
<p>集合推导式（Set Comprehensions）是Python中用来创建集合（set）的一种高效、简洁的语法结构。集合内的元素是唯一的，不重复。集合推导式的语法形式类似于列表推导式，但用花括号{}替代了方括号[]。这使得它非常适合于从可迭代对象中过滤出唯一值或执行集合运算。</p> 
<p><strong>基本语法结构如下：</strong></p> 
<pre><code class="prism language-python"><span class="token punctuation">{<!-- --></span>expression <span class="token keyword">for</span> item <span class="token keyword">in</span> iterable <span class="token keyword">if</span> condition<span class="token punctuation">}</span>
</code></pre> 
<ul><li><code>expression</code>: 表达式，计算结果作为集合中的元素。</li><li><code>item</code>: 迭代变量，代表iterable中的每个元素。</li><li><code>iterable</code>: 任何可迭代对象，如列表、元组、字符串等。</li><li><code>condition（可选）</code>: 筛选条件，只有当条件为真时，相应的expression才会被包含进结果集合中。</li></ul> 
<h5><a id="2__206"></a>❤️2. 实践</h5> 
<p><strong>【示例1】：数字的唯一集合</strong></p> 
<pre><code class="prism language-python">numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
unique_numbers <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>num <span class="token keyword">for</span> num <span class="token keyword">in</span> numbers<span class="token punctuation">}</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>unique_numbers<span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/b3/83/wsEmQ4p7_o.png" alt="在这里插入图片描述"><br> 【示例2】：只想保留偶数</p> 
<pre><code class="prism language-python">numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
even_numbers <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>num <span class="token keyword">for</span> num <span class="token keyword">in</span> numbers <span class="token keyword">if</span> num <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">}</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>even_numbers<span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/4b/13/z3sUIjHR_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="3__223"></a>💥3. 总结</h5> 
<p>集合推导式是Python中一种高级且紧凑的构造集合（set）的方式，它借鉴了列表推导式的概念，但生成的是一个不包含重复元素的集合。这种表达式非常适合于从可迭代对象中快速提取唯一值、执行条件过滤或转换数据，同时利用集合的特性来自动去除重复项。</p> 
<h4><a id="_226"></a>🚀四、生成器推导式</h4> 
<h5><a id="1__227"></a>🌈1. 了解生成器推导式</h5> 
<p>生成器推导式（Generator Expression）是Python中另一种高效的数据处理工具，它是<code>列表推导式的lazy（惰性）版本，用于创建生成器对象。生成器不会立即计算出所有结果并存储在内存中，而是在每次迭代时按需生成下一个值，这对于处理大规模数据集时尤其有用，因为它可以显著节省内存</code>。生成器推导式的语法结构与列表推导式相似，但使用圆括号而非方括号包围。</p> 
<p><strong>基本语法：</strong></p> 
<pre><code class="prism language-python"><span class="token punctuation">(</span>expression <span class="token keyword">for</span> item <span class="token keyword">in</span> iterable <span class="token keyword">if</span> condition<span class="token punctuation">)</span>
</code></pre> 
<ul><li><code>expression</code>：生成的每个项的计算表达式。</li><li><code>item</code>：在迭代期间考虑的当前项。</li><li><code>iterable</code>：任何可迭代的对象，如列表、元组、字符串或其它可迭代数据结构。</li><li><code>condition（可选）</code>：一个过滤条件，仅当条件为真时，相应的项才被生成。</li></ul> 
<p><strong>特点总结：</strong></p> 
<ol><li><strong>内存效率</strong>：生成器推导式在内存中不保存所有生成的值，而是在每次迭代时生成下一个值，这对于大数据处理至关重要。</li><li><strong>惰性求值</strong>：直到调用（如通过迭代或转换为列表等操作），生成器才开始计算。</li><li><strong>使用场景</strong>：适合处理大量数据流、实现无限序列或在内存限制下操作数据集。</li><li><strong>功能强大</strong>：可以结合迭代、条件判断和函数调用，实现复杂的数据处理逻辑。</li><li><strong>语法简洁</strong>：与列表推导式相似的紧凑语法，易于阅读和编写。</li></ol> 
<h5><a id="2__249"></a>❤️2. 实践</h5> 
<p><strong>【示例】：计算1到10的平方，但只包括偶数平方</strong></p> 
<pre><code class="prism language-python"><span class="token comment"># 计算1到10的平方，但只包括偶数平方</span>
squares_gen <span class="token operator">=</span> <span class="token punctuation">(</span>x<span class="token operator">**</span><span class="token number">2</span> <span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">)</span> <span class="token keyword">if</span> x <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>

<span class="token keyword">for</span> square <span class="token keyword">in</span> squares_gen<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>square<span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">' '</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/04/d1/dEs2kfHF_o.png" alt="在这里插入图片描述"><br> (x**2 for x in range(1, 11) if x % 2 == 0)定义了一个生成器推导式，它会按需计算并产生满足条件的偶数平方值。每次循环迭代时，生成器推进到下一个值，直到所有的元素都已生成完毕。</p> 
<h5><a id="3__262"></a>💥3. 总结</h5> 
<p>生成器推导式是Python中一种高级构造，用于简洁地创建迭代器对象。它类似于列表推导式，但不立即计算所有元素而是生成一个惰性求值的迭代器。当需要处理大量数据或无限序列时，这种方式尤其有效，因为它可以逐个产生项目，仅在需要时计算，从而节省内存。通过使用圆括号而非方括号定义，生成器推导式允许程序在遍历数据集合的同时保持低内存占用，非常适合于数据流处理和高效循环遍历场景。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f51dbe8bf07152cb27cad9670b64f149/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Spark RDD与算子详解:案例解析(第3天）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/3160ee6bbc52eb5523e01c460fc6275c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Mybatis动态sql标签</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>