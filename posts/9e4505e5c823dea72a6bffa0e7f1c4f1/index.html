<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Mac M1电脑使用Homebrew 安装OpenCV - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/9e4505e5c823dea72a6bffa0e7f1c4f1/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="Mac M1电脑使用Homebrew 安装OpenCV">
  <meta property="og:description" content="声明：我的 Mac 是 M1 芯片，MacOS Sonoma 14.2.1 版本。
从官网安装 OpenCV Mac 电脑使用 opencv 只能先从官网下载源码，然后手动编译，不像 windows 那样给你一个编译好的版本。新版本只有图标，因此在这里附上图片说明。特别一提，下图中的苹果图标是 IOS 开发环境，不是 MacOS 的。
手动编译还需要下载很多依赖才能顺利完成，根据 opencv 官网的 mac 配置教程，至少得安装 Cmake、python3 等环境。而且下载之后如果使用 Java （我是使用 Java），还得修改配置文件，才能让编译出来的 opencv 中有 jar 包，非常麻烦。
我最后没有使用源码编译的方式，因为官网推荐的教程中也用到了 Homebrew 这个工具。所以我采用 Homebrew 来安装 OpenCV-Java 环境。
这里提一下，正常的用 Idea 加载 OpenCV-Java 环境的思路：
在官网下载源码并且编译完成后，你会在一个特定的文件夹下面找到编译好的 jar 包。比如 windows 版本，你可以提取 exe 文件，在其 opencv/build/java 目录中找到。然后在 Idea 中的 File-&gt;ProjectStructure-&gt;Libraries 中点击&#43;号，选择 Java 并添加这个 jar 包，然后就可以使用 opencv 了。
在 mac 中，cmd &#43; shift &#43; .">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-03-09T19:00:39+08:00">
    <meta property="article:modified_time" content="2024-03-09T19:00:39+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Mac M1电脑使用Homebrew 安装OpenCV</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>声明：我的 Mac 是 M1 芯片，MacOS Sonoma 14.2.1 版本。</p> 
<h2><a id="_OpenCV_1"></a>从官网安装 OpenCV</h2> 
<p>Mac 电脑使用 opencv 只能先从官网下载源码，然后手动编译，不像 windows 那样给你一个编译好的版本。新版本只有图标，因此在这里附上图片说明。特别一提，下图中的苹果图标是 IOS 开发环境，不是 MacOS 的。</p> 
<p><img src="https://images2.imgbox.com/3b/fe/qO67K0Pf_o.png" alt="image.png"></p> 
<p>手动编译还需要下载很多依赖才能顺利完成，根据 opencv 官网的 mac 配置教程，至少得安装 Cmake、python3 等环境。而且下载之后如果使用 Java （我是使用 Java），还得修改配置文件，才能让编译出来的 opencv 中有 jar 包，非常麻烦。</p> 
<p>我最后没有使用源码编译的方式，因为官网推荐的教程中也用到了 Homebrew 这个工具。所以我采用 Homebrew 来安装 OpenCV-Java 环境。</p> 
<p>这里提一下，正常的用 Idea 加载 OpenCV-Java 环境的思路：</p> 
<ul><li>在官网下载源码并且编译完成后，你会在一个特定的文件夹下面找到编译好的 jar 包。比如 windows 版本，你可以提取 exe 文件，在其 opencv/build/java 目录中找到。</li><li>然后在 Idea 中的 File-&gt;ProjectStructure-&gt;Libraries 中点击+号，选择 Java 并添加这个 jar 包，然后就可以使用 opencv 了。<br> <img src="https://images2.imgbox.com/ee/e8/wu5cZlg7_o.png" alt="image.png"></li></ul> 
<p>在 mac 中，<code>cmd + shift + . </code> 可以显示隐藏的文件夹，我在后面安装好了 opencv 中的 jar 包，在 <code>/opt/homebrew/Cellar/opencv/ {版本号} / share/java</code> 这个目录下找到它，并把它添加到了 Libraries 中。</p> 
<p>最麻烦的是安装这个 opencv 源码并编译的过程。下面我们从 Homebrew 的介绍开始。</p> 
<h2><a id="Homebrew__21"></a>第一部分：Homebrew 安装</h2> 
<h3><a id="11__24"></a>1.1 简介</h3> 
<p>Homebrew 是一个用命令行下载各种软件的软件集合。下载完 Homebrew 本体后，其会在本体中内置很多软件的下载地址，当你需要那个软件的时候，Homebrew 会自动根据配置文件配置所安装软件的环境变量。因此可以想象这个配置文件的数量是非常多的。<br> Homebrew 将软件分成了四个仓库：</p> 
<ul><li><code>brew</code> Homebrew 源代码仓库</li><li><code>homebrew-core</code> Homebrew 核心软件仓库</li><li><code>homebrew-bottles</code> Homebrew 预编译二进制软件包</li><li><code>homebrew-cask</code> MacOS 客户端应用</li></ul> 
<h3><a id="12__homebrew_31"></a>1.2 安装 homebrew</h3> 
<ul><li> <p>终端输入：<br> <code>/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"</code></p> </li><li> <p>无法访问github则使用以下镜像：<br> <code>/bin/zsh -c "$(curl -fsSL https://gitee.com/cunkai/HomebrewCN/raw/master/Homebrew.sh)</code></p> </li><li> <p>安装完成后又提示让我们继续下载 Core、Cask、services，我们一并下载。</p> </li><li> <p>因为按照上面步骤下载 Homebrew 后会自动配置一些环境变量到 <code>.zprofile </code> 文件中，安装结束后运行 <code>source /Users/{用户名}/.zprofile</code> 以使 <code>.zprofile </code> 文件生效。</p> </li><li> <p>如果后续brew update 出问题，可以把 core、cask、services 这些仓库都删掉重新下载，命令如下：</p> </li></ul> 
<pre><code># core、service 替换cask都执行一遍。
rm -rf "/opt/homebrew/Library/Taps/homebrew/homebrew-cask" 

brew tap homebrew/cask
</code></pre> 
<ul><li>命令行输入 brew，有版本信息表示 Homebrew 下载成功。</li><li>使用 brew 下载的文件保存在 <code>/opt/homebrew/Cellar</code> 目录下，每个不同的软件下载完成后会提示你下载到的路径，如我之前下载的 ffmpeg 文件夹：<br> <img src="https://images2.imgbox.com/2e/dd/8zPNExyl_o.png" alt="image.png"></li></ul> 
<p>安装 git</p> 
<pre><code class="prism language-text">brew install git
</code></pre> 
<p>执行后会下载git，用来从设置的git仓库中下载文件。</p> 
<p>以上内容参考了一个 b 站 up 主的视频，链接如下：<a href="https://www.bilibili.com/video/BV1dR4y1b7e1/?spm_id_from=333.337.search-card.all.click&amp;vd_source=65eaa3e26f383448f56d2ef55f08fd48" rel="nofollow">Homebrew快速上手</a></p> 
<h3><a id="13__60"></a>1.3 查看和修改源</h3> 
<p>按照 1.2 步骤中下载的 Homebrew 会把配置文件中下载软件时的位置定位在 github 仓库，可以用以下命令查看。</p> 
<p>每一步中的 <code>https://mirrors.ustc.edu.cn/ </code>（中科大源） 可以替换为下面任意一个源：</p> 
<pre><code class="prism language-text">#阿里源
https://mirrors.aliyun.com/homebrew/

#清华源
https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/
</code></pre> 
<p>查看源：</p> 
<pre><code class="prism language-text"># 查看brew镜像源
git -C "$(brew --repo)" remote -v
</code></pre> 
<pre><code># 查看homebrew-core镜像源
git -C "$(brew --repo homebrew/core)" remote -v
</code></pre> 
<pre><code># 查看homebrew-cask镜像源（需要安装后才能查看）
git -C "$(brew --repo homebrew/cask)" remote -v 
</code></pre> 
<p>连不上时要修改，这里也给出相关命令：</p> 
<pre><code class="prism language-text"># 替换brew.git:
cd "$(brew --repo)"
git remote set-url origin https://mirrors.ustc.edu.cn/brew.git
</code></pre> 
<pre><code># 替换homebrew-core.git:
cd "$(brew --repo)/Library/Taps/homebrew/homebrew-core"
git remote set-url origin https://mirrors.ustc.edu.cn/homebrew-core.git
</code></pre> 
<pre><code># 替换homebrew-cask.git:
cd "$(brew --repo)/Library/Taps/homebrew/homebrew-cask"
git remote set-url origin https://mirrors.ustc.edu.cn/homebrew-cask.git
</code></pre> 
<pre><code># 替换homebrew-bottles:
echo 'export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.ustc.edu.cn/homebrew-bottles' &gt;&gt; ~/.bash_profile
source ~/.bash_profile
</code></pre> 
<pre><code># 应用生效
brew update
</code></pre> 
<h3><a id="14__120"></a>1.4 简单使用</h3> 
<p>Homebrew 会将安装的程序和相关文件统一安装到指定的目录下。因此无需手动配置环境变量。<br> 初步介绍几个 brew 命令，以 python 安装为例子，Homebrew 会自动安装最新可用版本。</p> 
<ul><li>查看版本：brew -v</li><li>更新 brew 版本：brew update</li><li>查找：brew search python（其中 python 替换为要查找的软件）</li><li>安装：brew install python 安装完成输入 python3 -h 查看</li><li>卸载：brew uninstall python</li><li>查看信息：brew info python</li><li>本地软件库列表：brew ls</li></ul> 
<p>高级用法：</p> 
<ul><li>重新安装 macOS 前用 brew bundle dump 备份所有使用 brew 、 brew cask 安装的软件（<strong>生成 Brewfile 文件</strong>），重装之后在终端 cd 到 <code>Brewfile</code> 所在文件夹，然后使用 <code>brew bundle</code> 命令即可批量安装回之前安装的软件。</li></ul> 
<h2><a id="__Homebrew___OpenCV_134"></a>第二部分 用 Homebrew 安装 OpenCV</h2> 
<h3><a id="21_Homebrew__OpenCV__Java__136"></a>2.1 Homebrew 安装 OpenCV 所需 Java 环境</h3> 
<p>我按照下面过程最后成功下载了 jar 包，属于是经验分享，但安装完还是有点迷糊。仅供参考使用。</p> 
<p>首先如果是 java 环境可以先参考下面两位博主的文章：<br> <a href="https://blog.csdn.net/qq_41554118/article/details/129704633?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522170995270316777224415182%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=170995270316777224415182&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduend~default-2-129704633-null-null.142%5Ev99%5Epc_search_result_base7&amp;utm_term=mac%20%E4%BD%BF%E7%94%A8opencv&amp;spm=1018.2226.3001.4187">mac上安装opencv</a><br> <a href="https://blog.csdn.net/feinifi/article/details/125074254?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522170981932016800215067321%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=170981932016800215067321&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-125074254-null-null.142%5Ev99%5Epc_search_result_base7&amp;utm_term=opencv.rb&amp;spm=1018.2226.3001.4187">mac系统上通过源码编译安装opencv for java</a></p> 
<h3><a id="22__144"></a>2.2 基本安装步骤</h3> 
<ol><li>下载 opencv：<br> 输入命令：<code>brew install opencv</code> 第一次输入该命令会抓取如下包，这些包都是安装 opencv 包所依赖的环境：<br> <img src="https://images2.imgbox.com/9b/20/TLU36TVS_o.png" alt="image.png"></li></ol> 
<p>抓取完后显示已经下载了 4.9.0_4 版本的 opencv 并且自动帮我把解压，然后删除了后缀为 tar.gz 的压缩包 ：<br> <img src="https://images2.imgbox.com/c3/47/ioJw6OCO_o.png" alt="image.png"></p> 
<p>使用 <code>brew info opencv</code> 命令查看下载的 open cv 情况如下，有三个打红叉的依赖（cmake, pkg-config, python-setuptools）还需要我们手动下载：</p> 
<p><img src="https://images2.imgbox.com/61/2c/V7bKzbOk_o.png" alt="image.png"></p> 
<ol start="2"><li>下载 OpenCV 特定依赖 :</li></ol> 
<ul><li><code>pkg-config</code> 用于精简编译:</li></ul> 
<pre><code>brew install pkg-config
</code></pre> 
<ul><li><code>cmake</code> 一个局部编译工具：</li></ul> 
<pre><code>brew install cmake
</code></pre> 
<ul><li><code>python-setuptools</code> python 启动工具</li></ul> 
<pre><code>brew install python-setuptools
</code></pre> 
<p>最后使用 <code>brew info opencv</code> 查看当前依赖：<br> <img src="https://images2.imgbox.com/82/19/glBp9mj5_o.png" alt="image.png"></p> 
<ol start="3"><li>配置环境变量</li></ol> 
<p>在/Usrs/{用户名}/.zprofile中配置环境变量。具体步骤不展开讨论。</p> 
<pre><code class="prism language-bash"><span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token string">"/opt/homebrew/Cellar/opencv/4.9.0_4/bin:<span class="token environment constant">$PATH</span>"</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token string">"-L/opt/homebrew/Cellar/opencv/4.9.0_4/lib"</span>    
<span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token string">"-I/opt/homebrew/Cellar/opencv/4.9.0_4/include"</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token string">"/opt/homebrew/Cellar/opencv/4.9.0_4/lib/pkgconfig"</span>
</code></pre> 
<p>以下为 intel 版本配置环境变量方法，不采用，因为 M1 芯片版本 homebrew 不安装在以下路径。<br> <s>export PKG_CONFIG_PATH=“/usr/local/opt/opencv/lib/pkgconfig”</s><br> <s>export LDFLAGS=“-L/usr/local/opt/opencv/lib”</s><br> <s>export CPPFLAGS=“-I/usr/local/opt/opencv/include”</s></p> 
<h2><a id="_OpenCVJava__191"></a>第三部分配置 OpenCV—Java 环境</h2> 
<h3><a id="31__193"></a>3.1 初步配置</h3> 
<p>环境变量配置好之后在 Idea 中添加 opencv 库，然后出现了问题：<code>opencv/share/opencv4 </code>目录下找不到 opencv 生成的 jar 包</p> 
<ul><li>问题分析：参考另一个博主的内容：<a href="https://blog.csdn.net/qq_24410629/article/details/124713874?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522170979640016800226569913%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fall.%2522%257D&amp;request_id=170979640016800226569913&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_ecpm_v1~rank_v31_ecpm-2-124713874-null-null.142%5Ev99%5Epc_search_result_base7&amp;utm_term=homebrew%20opencv%20idea&amp;spm=1018.2226.3001.4187">M1 opencv_contrib</a> 。原因是brew install opencv时对应配置文件的 opencv_java 开关没打开，需要在配置文件中设置。</li></ul> 
<ol><li>编辑 Homebrew 下载 opencv 时的使用的配置文件：</li></ol> 
<p>在终端输入 <code>brew edit opencv </code>,进入 配置文件中，执行以下三步：</p> 
<ul><li> <p><strong>步骤一</strong>：将 <code>-DBUILD_opencv_java=OFF</code> 的 <code>OFF</code> 改成 <code>ON</code>。具体做法是按 i 进入编辑模式，进行修改。<br> <img src="https://images2.imgbox.com/b3/16/8T0cN97k_o.png" alt="image.png"></p> </li><li> <p>经过实验发现不需要步骤二。<br> <s><strong>步骤二</strong>：然后复制粘贴下面的 JDK 版本信息到 args 中，即步骤一 <code> -DBUILD_opencv_java=on</code> 下一行，可以自行添加一个 # 注释，以免忘记修改过。下面代码的 JDK 替换为自己对应目录中的 JDK 版本</s><br> <s>-DJAVA_INCLUDE_PATH=/Library/Java/JavaVirtualMachines/jdk-17.jdk/Contents/Home/include</s><br> <s>-DJAVA_AWT_LIBRARY=/Library/Java/JavaVirtualMachines/jdk-17.jdk/Contents/Home/jre/lib/libawt.dylib</s><br> <s>-DJAVA_JVM_LIBRARY=/Library/Java/JavaVirtualMachines/jdk-17.jdk/Contents/Home/jre/lib/libjvm.dylib</s></p> </li><li> <p>经过实验发现不需要步骤三<br> <s><strong>步骤三</strong>：在每个 <code>system cmake</code> 的 <code>cmake</code> 前加 “arch” ,“-arm64”，因为 M1 版本采用 arm 架构</s></p> </li></ul> 
<ol start="2"><li>以上步骤修改完毕后按 esc 退出编辑模式，再按:wq 退出文件。</li><li>下载 ant：<code>brew install ant</code></li><li>删掉原先下载的 opencv：<code>brew uninstall opencv</code></li><li>输入 <code>brew install --build-from-source opencv</code> 就会按照刚配置的文件重新下载。</li></ol> 
<h3><a id="32__218"></a>3.2 解决问题</h3> 
<p>执行以上步骤<strong>又出现问题</strong>：报错找不到按上面三个步骤修改过的文件 opencv.rb。说明上面这个命令执行的文件找错了位置，它用的是安装 homebrew 时一起下载的 git 文件夹中的 opencv.rb 文档。可以有以下两种<strong>解决方式</strong>：</p> 
<ul><li><strong>解决方式一</strong>：输入 <code>brew doctor</code> 命令，用 homebrew 自带的检查器检查你的问题。其中有一个：uncommitted files. 说明修改的文件还没提交到 git 上。我按照它给出的建议提交了修改。</li><li><strong>解决方式二</strong>：重新输入该命令，但使用自己刚才编辑的配置文件: <code>brew install --build-from-source /opt/homebrew/Library/Taps/homebrew/homebrew-core/Formula/o/opencv.rb</code><br> 解决方式一截图：<br> <img src="https://images2.imgbox.com/81/7a/htppHpeG_o.png" alt="image.png"></li></ul> 
<p>这样下载就会发现，<strong>又又又出现问题</strong>：连接不上 github 仓库。查找一个教程，科学上网的人，使用代理时要配置如下命令：</p> 
<pre><code class="prism language-ruby">sudo vim <span class="token operator">/</span>etc<span class="token operator">/</span>hosts<span class="token comment">#进入hosts配置文件</span>
</code></pre> 
<pre><code class="prism language-ruby"><span class="token number">199.232</span><span class="token number">.28</span><span class="token number">.133</span> raw<span class="token punctuation">.</span>githubusercontent<span class="token punctuation">.</span>com<span class="token comment">#添加下面这一行</span>
</code></pre> 
<p>最后下载了 38 分钟，终于下好了。运行的是解决方式二的命令 <code>brew install --build-from-source /opt/homebrew/Library/Taps/homebrew/homebrew-core/Formula/o/opencv.rb</code>。最后的结果如下：</p> 
<p><img src="https://images2.imgbox.com/41/14/YdGkmbsY_o.png" alt="image.png"></p> 
<h3><a id="33__Java__240"></a>3.3 创建 Java 项目</h3> 
<p>接下来就可以按照正常的 OpenCV 使用方式调用了。</p> 
<p>下面这段代码在使用 Maven 构建项目时使用</p> 
<pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span> 
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.openpnp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>opencv<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span> 
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>4.9.0-4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>编译运行代码：<br> <code>System.loadLibrary(Core.NATIVE_LIBRARY_NAME);</code> 这行代码每次使用opencv时都需要，因此推荐在main方法所在class的静态块中加入这行代码。</p> 
<pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>opencv<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">Core</span></span><span class="token punctuation">;</span> 
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>opencv<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">Mat</span></span><span class="token punctuation">;</span> 
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>opencv<span class="token punctuation">.</span>imgcodecs<span class="token punctuation">.</span></span><span class="token class-name">Imgcodecs</span></span><span class="token punctuation">;</span> 
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{<!-- --></span> 
	<span class="token keyword">static</span> <span class="token punctuation">{<!-- --></span> 
		<span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">loadLibrary</span><span class="token punctuation">(</span><span class="token class-name">Core</span><span class="token punctuation">.</span><span class="token constant">NATIVE_LIBRARY_NAME</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> 
		<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> 
		<span class="token comment">// Load an image </span>
		<span class="token class-name">Mat</span> image <span class="token operator">=</span> <span class="token class-name">Imgcodecs</span><span class="token punctuation">.</span><span class="token function">imread</span><span class="token punctuation">(</span><span class="token string">"path_to_your_image.jpg"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
		<span class="token comment">// Perform image processing tasks with OpenCV </span>
		<span class="token comment">// For example, display the image size </span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Image width: "</span> <span class="token operator">+</span> image<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Image height: "</span> <span class="token operator">+</span> image<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
		<span class="token punctuation">}</span> 
	<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="Maven__brew__OpenCV_273"></a>Maven 和 brew 下载 OpenCV的区别</h3> 
<p>maven 从中央仓库中下载的 opencv 和 homebrew 下载在本地的版本区别：</p> 
<ol><li><strong>构建方式</strong>：通常从中央仓库下载的 OpenCV 版本可能是已经编译好的二进制版本，而 Homebrew 下载的版本可能是源代码，经过 Homebrew 的构建脚本编译生成的二进制版本。这意味着它们可能使用不同的构建选项、编译器、优化设置等。</li><li><strong>依赖项</strong>：Maven 版本可能会提供与 Java 开发相关的依赖项，而 Homebrew 版本可能会提供与 macOS 系统兼容的依赖项。</li><li><strong>安装路径</strong>：Maven 从中央仓库下载的 OpenCV 版本通常会被安装在 Maven 本地仓库的目录下，而 Homebrew 下载的版本通常会被安装在 Homebrew 的安装目录下。</li><li><strong>系统兼容性</strong>：Homebrew 下载的 OpenCV 版本可能会根据 macOS 系统的特性进行优化，而 Maven 下载的版本可能更加通用，适用于多个操作系统。</li></ol>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e0ef42967948ce81df2f4e11a9cb551b/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">基于VSCode安装Node.js开发环境</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/30eda2ae20e81867770bbd45e9f822a3/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">[MySQL报错]关于发生net start mysql 服务无法启动，服务没有报告任何错误的五种解决方案。</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>