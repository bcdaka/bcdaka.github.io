<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>关于mac环境下的node版本管理工具n和nvm - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/2dac9be5ebbef740dbeca0bb7fbd404a/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="关于mac环境下的node版本管理工具n和nvm">
  <meta property="og:description" content="1.区别：node版本管理之n和nvm_n node-CSDN博客 1）n 是一个需要全局安装的 npm package，n会出现全局模块无法更新的问题，⚠️ 使用npm不要使用n
2）nvm 一个独立软件包
3）关于 node 路径。n 是万年不变的 /usr/local/bin； nvm 需要手动指定路径。
2.n的使用 1）常见命令 全局安装：npm install n -g 安装node最新版本：sudo n latest 安装node最新stable版本：sudo n lts 安装特定版本：sudo n 版本 切换版本：n 删除版本：sudo n rm &lt;版本号&gt; 删除当前使用版本外的所有版本：n prune 卸载n：n uninstall 列出可供下载的匹配远程版本：n ls-remote lts n ls-remote latest n lsr 10 n --all lsr 列出缓存中下载的版本：n ls 显示诊断信息以帮助解决问题：n doctor 2）为避免在 n 和 npm 全局安装时需要 sudo （1）第一种：获取系统目录的所有权
# make cache folder (if missing) and take ownership sudo mkdir -p /usr/local/n sudo chown -R $(whoami) /usr/local/n # make sure the required folders exist (safe to execute even if they already exist) sudo mkdir -p /usr/local/bin /usr/local/lib /usr/local/include /usr/local/share # take ownership of Node.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-01-26T10:39:24+08:00">
    <meta property="article:modified_time" content="2024-01-26T10:39:24+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">关于mac环境下的node版本管理工具n和nvm</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h4>1.区别：<a href="https://blog.csdn.net/meimeib/article/details/130007490" title="node版本管理之n和nvm_n node-CSDN博客">node版本管理之n和nvm_n node-CSDN博客</a></h4> 
<blockquote> 
 <p>  1）n 是一个需要全局安装的 npm package，n会出现全局模块无法更新的问题，⚠️ 使用npm不要使用n</p> 
 <p>  2）nvm 一个独立软件包</p> 
 <p>  3）关于 node 路径。n 是万年不变的 /usr/local/bin； nvm 需要手动指定路径。</p> 
</blockquote> 
<h3>2.n的使用</h3> 
<h5>  1）常见命令</h5> 
<pre><code> 全局安装：npm install n -g
 安装node最新版本：sudo n latest
 安装node最新stable版本：sudo n lts
 安装特定版本：sudo n 版本
 切换版本：n
 删除版本：sudo n rm &lt;版本号&gt;
 删除当前使用版本外的所有版本：n prune
 卸载n：n uninstall
 列出可供下载的匹配远程版本：n ls-remote lts
     n ls-remote latest
     n lsr 10
     n --all lsr
 列出缓存中下载的版本：n ls
 显示诊断信息以帮助解决问题：n doctor</code></pre> 
<h5> 2）<span style="color:#333333;"><span style="background-color:#ffffff;">为避免在 <code>n</code> 和 <code>npm</code> 全局安装时需要 <code>sudo</code> </span></span></h5> 
<p><span style="color:#333333;"><span style="background-color:#ffffff;">（1）第一种：获取系统目录的所有权</span></span></p> 
<pre><span style="background-color:#f7f7f7;"><span style="color:#333333;"><code># make cache folder (if missing) and take ownership
sudo mkdir -p /usr/local/n
sudo chown -R $(whoami) /usr/local/n
# make sure the required folders exist (safe to execute even if they already exist)
sudo mkdir -p /usr/local/bin /usr/local/lib /usr/local/include /usr/local/share
# take ownership of Node.js install destination folders
sudo chown -R $(whoami) /usr/local/bin /usr/local/lib /usr/local/include /usr/local/share</code></span></span></pre> 
<blockquote> 
 <p><span style="background-color:#f7f7f7;"><span style="color:#333333;"><code>mkdir：代表创建文件</code></span></span></p> 
 <p>-p：如果某些文件夹不存在，加上此选项后，系统将自动建立好那些不存在的目录，即一次性创建多个目录</p> 
</blockquote> 
<p>（2）第二种：<span style="color:#333333;"><span style="background-color:#ffffff;">使用 <code>N_PREFIX</code> 安装到其他目录，</span></span><span style="color:#333333;"><span style="background-color:#ffffff;">默认情况下， <code>n</code> 命令下载并安装到 <code>/usr/local</code> ，但您可以通过定义 <code>N_PREFIX</code> 覆盖此位置。要将位置更改为 <code>$HOME/.n</code> ，请在shell初始化文件中添加如下行：</span></span></p> 
<pre><span style="background-color:#f7f7f7;"><span style="color:#333333;"><code>export N_PREFIX=$HOME/.n
export PATH=$N_PREFIX/bin:$PATH</code></span></span></pre> 
<h5>3）安装：</h5> 
<p>  第一种：npm install n -g</p> 
<p><span style="color:#333333;"><span style="background-color:#ffffff;">  第二种：如<code>npm</code> 还不可用，可以下载并直接运行 <code>n</code> 。安装Node.js的 <code>lts</code> 版本：</span></span></p> 
<pre><span style="background-color:#f7f7f7;"><span style="color:#333333;"><code>curl -fsSL https://raw.githubusercontent.com/tj/n/master/bin/n | bash -s lts
# If you want n installed, you can use npm now.
npm install -g n</code></span></span></pre> 
<blockquote> 
 <p><span style="background-color:#f7f7f7;"><span style="color:#333333;"><code> curl -fsSL</code></span></span> 是常用的命令行工具，用来请求 Web 服务器。<span style="background-color:#f7f7f7;"><span style="color:#333333;"><code>-fsSL</code></span></span> 是参数，各个参数含义见下，当然还有很多其他参数，百度自行查阅。</p> 
 <p><code> -s</code>参数将不输出错误和进度信息。</p> 
 <p><code> -S</code>参数指定只输出错误信息，通常与<code>-s</code>一起使用。</p> 
 <p>  -f<strong> </strong>当服务器返回错误状态码时，不显示内容，直接退出。这可以用来过滤掉那些因服务器问题（如404 Not Found）而导致的请求失败。</p> 
 <p><strong>  -L</strong>：如果请求的资源被重定向，跟随重定向并请求最终资源。这意味着如果服务器返回了一个重定向响应，curl会跟踪这个重定向并获取最终的资源。</p> 
</blockquote> 
<p>  第三种：当然还有其他安装方式，具体见官方文档</p> 
<h4>4）node版本号简写：数字版本号可以是完整的，也可以是不完整的，并带有可选的前导 <code>v</code> 。</h4> 
<ul><li><code>8</code>: 8.x.y versions  <code>8</code> ：8.x.y版本</li><li><code>v6.1</code>: 6.1.x versions  <code>v6.1</code> ：6.1.x版本</li><li><code>lts</code> ：最新的长期支持官方版本</li><li><code>latest</code> ， <code>current</code> ：最新官方发布</li></ul> 
<h3>3.nvm的使用</h3> 
<p>  1）github地址：<a href="https://github.com/nvm-sh/nvm?tab=readme-ov-file#about" title="https://github.com/nvm-sh/nvm?tab=readme-ov-file#about">https://github.com/nvm-sh/nvm?tab=readme-ov-file#about</a></p> 
<p>  2）安装：curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.1/install.sh | bash</p> 
<blockquote> 
 <p>（1）当我们执行curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.1/install.sh | bash时报错Failed to connect to raw.githubusercontent.com port 443: Connection refused<br>  <br> 原因一：mac10.15安全等级提升，不允许远程执行脚本，解决方法第一种是用本地进行执行，第二种是修改系统设置。第一种：用浏览器打开https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.1/install.sh后网页会显示一堆代码，把代码拷贝进本地新建的sh为后缀的文件，终端执行该文件。第二种：“系统设置”，“通用” ，“共享”。打开“远程应用程序脚本”，然后点按右侧的“信息”按钮 。点按“允许访问”弹出式菜单，给用户设置权限。</p> 
 <p></p> 
 <p>原因二：网络不通，先ping 地址，看是否报错，如果报错，先寻找该地址的ip（可在<a href="https://www.ipaddress.com/ip-lookup#google_vignette" rel="nofollow" title="IP Tracer &amp; Tracker - IP Address Lookup Made Easy">IP Tracer &amp; Tracker - IP Address Lookup Made Easy</a>搜索到ip或利用其他网站），然后.etc/hosts文件夹里添加末尾添加一行：ip地址 域名地址（就是你前面ping的地址），保存后再进行ping，成功后重新执行。</p> 
</blockquote> 
<blockquote> 
 <p>（2）下载完nvm后无法nvm -v 找不到</p> 
 <p></p> 
 <p>原因一：没有配置环境变量：</p> 
 <p>第一步：找到.bash_profile文件夹</p> 
 <p>第二步：末尾添加以下代码</p> 
 <p>第三步：执行source .bash_profile</p> 
 <pre><code class="language-bash">export NVM_DIR="$([ -z "${XDG_CONFIG_HOME-}" ] &amp;&amp; printf %s "${HOME}/.nvm" || printf %s "${XDG_CONFIG_HOME}/nvm")"
[ -s "$NVM_DIR/nvm.sh" ] &amp;&amp; \. "$NVM_DIR/nvm.sh" # This loads nvm</code></pre> 
 <p></p> 
 <p>原因二：macOS Catalina 系统，默认的 shell 是 zsh，解决办法，在~/.zshrc文件夹中添加source ~/.bash_profile</p> 
</blockquote> 
<blockquote> 
 <p>（3）你不是文件“.bash_profile”的所有者,因此没有权限写到该文件。</p> 
 <p>对该文件拷贝一份，然后对拷贝的文件进行更改，更改完成后删除原始文件，并且把拷贝的文件名字换成原始名称</p> 
</blockquote> 
<blockquote> 
 <p>（4）当我们对nvm进行变量添加时会需要操作这些文件，但是这些文件在哪里呢，open 文件路径，在左上角的文件中进行打开即可，由于.开头的都是隐藏文件夹，因此我们需要到对应文件夹内对隐藏文件夹进行显示才能打开看见文件夹（快捷键commond+shift+.），当然我们也需要知道～代表的是用户文件夹，<code>~/.bash_profile</code> 、 <code>~/.zshrc</code> 、 <code>~/.profile</code> 或 <code>~/.bashrc</code></p> 
</blockquote> 
<blockquote> 
 <p><code>（5）当我们终于nvm -v在终端上进行展示版本信息的时候，我们输入nvm ls时，展示</code></p> 
 <pre><code class="language-bash">➜  ~ nvm ls
  
  -&gt;       system
  iojs -&gt; N/A (default)
  node -&gt; stable (-&gt; N/A) (default)
  unstable -&gt; N/A (default)</code></pre> 
 <p>这只是代表着我们的nvm没有安装node，属于正常现象，如果你环境里安装过node我们只需要执行</p> 
 <pre><code class="language-bash">nvm install 'lts/*' --reinstall-packages-from=current</code></pre> 
 <p> 这条语句同时会把之前安装过的版本移植到nvm</p> 
 <p>如果没有安装过node 执行nvm node，会对最新的node进行安装</p> 
 <p>这时候我们在进行nvm ls</p> 
 <pre><code class="language-bash">jinhuafeng@jinhuafengdeMBP ~ % nvm ls
-&gt;     v20.11.0
default -&gt; lts/* (-&gt; v20.11.0)
iojs -&gt; N/A (default)
unstable -&gt; N/A (default)
node -&gt; stable (-&gt; v20.11.0) (default)
stable -&gt; 20.11 (-&gt; v20.11.0) (default)
lts/* -&gt; lts/iron (-&gt; v20.11.0)
lts/argon -&gt; v4.9.1 (-&gt; N/A)
lts/boron -&gt; v6.17.1 (-&gt; N/A)
lts/carbon -&gt; v8.17.0 (-&gt; N/A)
lts/dubnium -&gt; v10.24.1 (-&gt; N/A)
lts/erbium -&gt; v12.22.12 (-&gt; N/A)
lts/fermium -&gt; v14.21.3 (-&gt; N/A)
lts/gallium -&gt; v16.20.2 (-&gt; N/A)
lts/hydrogen -&gt; v18.19.0 (-&gt; N/A)
lts/iron -&gt; v20.11.0</code></pre> 
</blockquote> 
<blockquote> 
 <p>（6）修改hosts或 <code>~/.bash_profile</code> 、 <code>~/.zshrc</code> 不起作用，可能是变成了text文件,所以先拷贝一份出来然后进行修改，再覆盖。</p> 
</blockquote> 
<p>3）常见命令</p> 
<pre><code class="language-bash">1. nvm list 是查找本电脑上所有的node版本
    - nvm list 查看已经安装的版本
    - nvm list installed 查看已经安装的版本
    - nvm list available 查看网络可以安装的版本
2. nvm install &lt;version&gt; 安装指定版本node
3. nvm install stable 安装最新稳定版本
4. nvm use &lt;version&gt; 切换使用指定的版本node
5. nvm ls 列出所有版本
6. nvm current显示当前版本
7. nvm alias &lt;name&gt; &lt;version&gt; ## 给不同的版本号添加别名
8. nvm unalias &lt;name&gt; ## 删除已定义的别名
9. nvm reinstall-packages &lt;version&gt; ## 在当前版本node环境下，重新全局安装指定版本号的npm包
10. nvm on 打开nodejs控制
11. nvm off 关闭nodejs控制
12. nvm proxy 查看设置与代理
13. nvm node_mirror [url] 设置或者查看setting.txt中的node_mirror，如果不设置的默认是 https://nodejs.org/dist/
　　nvm npm_mirror [url] 设置或者查看setting.txt中的npm_mirror,如果不设置的话默认的是： https://github.com/npm/npm/archive/.
14. nvm uninstall &lt;version&gt; 卸载制定的版本
15. nvm use [version] [arch] 切换制定的node版本和位数
16. nvm root [path] 设置和查看root路径
17. nvm version 查看当前的版本
————————————————
版权声明：本文为博主原创文章，遵循 CC 4.0 BY-SA 版权协议，转载请附上原文出处链接和本声明。
                        
原文链接：https://blog.csdn.net/meimeib/article/details/130007490</code></pre> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/5090fc18b2dccf3a45cceddf19ee6650/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【Redis】利用 Redis List 实现 Java 数据库分页快速查询</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f7368c3b40031db603131e2dea0a83a4/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">flink的常见的任务提交方式</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>