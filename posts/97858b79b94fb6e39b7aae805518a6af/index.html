<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Docker 使用基础（3）—容器 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/97858b79b94fb6e39b7aae805518a6af/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="Docker 使用基础（3）—容器">
  <meta property="og:description" content="🎬慕斯主页：修仙—别有洞天
♈️今日夜电波：秒針を噛む—ずっと真夜中でいいのに。
0:34━━━━━━️💟──────── 4:20
🔄 ◀️ ⏸ ▶️ ☰ 💗关注👍点赞🙌收藏您的每一次鼓励都是对我莫大的支持😍
目录
首先理解几个概念
Docker容器（Container ）是什么？
为什么需要容器？
容器的生命周期
容器的命令详解
1. docker create
2. docker logs
3. docker attach
4. docker exec
5. docker start
6. docker stop
7. docker restart
8. docker kill
9. docker top
10. docker stats
11. docker container inspect
12. docker port
13. docker cp
14. docker diff
15. docker commit
16. docker pause
17. docker unpause">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-07-11T15:19:50+08:00">
    <meta property="article:modified_time" content="2024-07-11T15:19:50+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Docker 使用基础（3）—容器</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p class="img-center"><img alt="" height="212" src="https://images2.imgbox.com/22/45/deCLxOAg_o.png" width="586"></p> 
<p></p> 
<p><em>                                        </em><strong>🎬慕斯主页</strong><em>：<em><a href="https://blog.csdn.net/weixin_64038246?spm=1010.2135.3001.5343" title="修仙—别有洞天">修仙—别有洞天</a></em></em></p> 
<p>                                       ♈️<u><em>今日夜电波：<u><em><u><em><u><em><u><em><u><em><u><em><u><em><a href="https://music.163.com/#/song?id=1399788807" rel="nofollow" title="秒針を噛む—ずっと真夜中でいいのに。">秒針を噛む—ずっと真夜中でいいのに。</a></em></u></em></u></em></u></em></u></em></u></em></u></em></u></em></u></p> 
<p>                                                           0:34━━━━━━️💟──────── 4:20<br>                                                                 🔄   ◀️   ⏸   ▶️    ☰  </p> 
<p>                                 💗关注👍点赞🙌收藏<em>您的每一次鼓励都是对我莫大的支持</em>😍</p> 
<hr> 
<p id="main-toc"><strong>目录</strong></p> 
<p id="GXsj6-toc" style="margin-left:80px;"><a href="#GXsj6" rel="nofollow">首先理解几个概念</a></p> 
<p id="GJefY-toc" style="margin-left:120px;"><a href="#GJefY" rel="nofollow">Docker容器（Container ）是什么？</a></p> 
<p id="DT33B-toc" style="margin-left:120px;"><a href="#DT33B" rel="nofollow">为什么需要容器？</a></p> 
<p id="YyKJ4-toc" style="margin-left:120px;"><a href="#YyKJ4" rel="nofollow">容器的生命周期</a></p> 
<p style="margin-left:120px;"></p> 
<p id="UqdUp-toc" style="margin-left:80px;"><a href="#UqdUp" rel="nofollow">容器的命令详解</a></p> 
<p id="msuQ6-toc" style="margin-left:120px;"><a href="#msuQ6" rel="nofollow">1. docker create</a></p> 
<p id="yTM4d-toc" style="margin-left:120px;"><a href="#yTM4d" rel="nofollow">2. docker logs</a></p> 
<p id="CHZZ8-toc" style="margin-left:120px;"><a href="#CHZZ8" rel="nofollow">3. docker attach</a></p> 
<p id="nPp7V-toc" style="margin-left:120px;"><a href="#nPp7V" rel="nofollow">4. docker exec</a></p> 
<p id="xiYNb-toc" style="margin-left:120px;"><a href="#xiYNb" rel="nofollow">5. docker start</a></p> 
<p id="VRDJA-toc" style="margin-left:120px;"><a href="#VRDJA" rel="nofollow">6. docker stop</a></p> 
<p id="lUVsG-toc" style="margin-left:120px;"><a href="#lUVsG" rel="nofollow">7. docker restart</a></p> 
<p id="QML0s-toc" style="margin-left:120px;"><a href="#QML0s" rel="nofollow">8. docker kill</a></p> 
<p id="KwzIU-toc" style="margin-left:120px;"><a href="#KwzIU" rel="nofollow">9. docker top</a></p> 
<p id="Abbth-toc" style="margin-left:120px;"><a href="#Abbth" rel="nofollow">10. docker stats</a></p> 
<p id="VBZyM-toc" style="margin-left:120px;"><a href="#VBZyM" rel="nofollow">11. docker container inspect</a></p> 
<p id="RpFjT-toc" style="margin-left:120px;"><a href="#RpFjT" rel="nofollow">12. docker port</a></p> 
<p id="QSMjR-toc" style="margin-left:120px;"><a href="#QSMjR" rel="nofollow">13. docker cp</a></p> 
<p id="fm9xv-toc" style="margin-left:120px;"><a href="#fm9xv" rel="nofollow">14. docker diff</a></p> 
<p id="JN9Ys-toc" style="margin-left:120px;"><a href="#JN9Ys" rel="nofollow">15. docker commit</a></p> 
<p id="AJpCa-toc" style="margin-left:120px;"><a href="#AJpCa" rel="nofollow">16. docker pause</a></p> 
<p id="hZUzl-toc" style="margin-left:120px;"><a href="#hZUzl" rel="nofollow">17. docker unpause</a></p> 
<p id="bnlvD-toc" style="margin-left:120px;"><a href="#bnlvD" rel="nofollow">18. docker rm</a></p> 
<p id="IZAZF-toc" style="margin-left:120px;"><a href="#IZAZF" rel="nofollow">19. docker export</a></p> 
<p id="zF9yF-toc" style="margin-left:120px;"><a href="#zF9yF" rel="nofollow">20. docker wait</a></p> 
<p id="GK7fR-toc" style="margin-left:120px;"><a href="#GK7fR" rel="nofollow">21. docker rename</a></p> 
<p id="dwSuJ-toc" style="margin-left:120px;"><a href="#dwSuJ" rel="nofollow">22. docker container prune</a></p> 
<p id="EbmeP-toc" style="margin-left:120px;"><a href="#EbmeP" rel="nofollow">23. docker update</a></p> 
<p style="margin-left:120px;"></p> 
<p id="iClRD-toc" style="margin-left:80px;"><a href="#iClRD" rel="nofollow">容器批量处理技巧</a></p> 
<p style="margin-left:80px;"></p> 
<p id="BLkjC-toc" style="margin-left:80px;"><a href="#BLkjC" rel="nofollow">容器自动重启</a></p> 
<p style="margin-left:80px;"></p> 
<p id="CMhMv-toc" style="margin-left:80px;"><a href="#CMhMv" rel="nofollow">一些常见的问题</a></p> 
<p id="kDXzX-toc" style="margin-left:120px;"><a href="#kDXzX" rel="nofollow">docker create、 docker start 和 docker run 有什么区别？</a></p> 
<p id="ggC0c-toc" style="margin-left:120px;"><a href="#ggC0c" rel="nofollow">docker import 和 docker load 有什么区别？</a></p> 
<p id="xY7qA-toc" style="margin-left:120px;"><a href="#xY7qA" rel="nofollow">docker rm &amp; docker rmi &amp; docker prune 的差异？</a></p> 
<p style="margin-left:120px;"></p> 
<hr id="hr-toc"> 
<h4>首先理解几个概念</h4> 
<h5 id="GJefY">Docker容器（Container ）是什么？</h5> 
<blockquote> 
 <p id="ua12b9450">        通俗地讲，容器是镜像的运行实体。镜像是静态的只读文件，而容器带有运行时需要的可写文件层，并且容器中的进程属于运行状态。即容器运行着真正的应用进程。容器有初建、运行、停止、暂停和删除五种状态。</p> 
 <p id="u9a2099c8">        虽然容器的本质是主机上运行的一个进程，但是容器有自己独立的命名空间隔离和资源限制。也就是说，在容器内部，无法看到主机上的进程、环境变量、网络等信息，这是容器与直接运行在主机上进程的本质区别。</p> 
 <p id="u8cc3381e">        容器是基于镜像创建的可运行实例，并且单独存在，一个镜像可以创建出多个容器。运行容器化环境时，实际上是在容器内部创建该文件系统的读写副本。 这将添加一个容器层，该层允许修改镜像的整个副本。</p> 
 <p id="u5ce0226d">        我们可以理解镜像为Java 或者 C++的基础类，容器是实例化出来的一个个对象，没有用户需要的不一样，里面的内容也就不一样了。</p> 
</blockquote> 
<div> 
 <p class="img-center"><img alt="" height="475" id="u72cacae3" src="https://images2.imgbox.com/db/0b/hyppHaDw_o.png" width="769"><span title="点击并拖拽以改变尺寸">​</span></p> 
</div> 
<p id="u0fa1e904">下面看看官方给出的Docker 架构，可以结合此图来理解容器的概念：</p> 
<p id="ub1ca3180"></p> 
<div> 
 <p class="img-center"><img alt="" height="532" id="u1f9a23fd" src="https://images2.imgbox.com/d6/6f/ipdRDVgw_o.png" width="1023"><span title="点击并拖拽以改变尺寸">​</span></p> 
</div> 
<p id="u392777f1"></p> 
<h5 id="DT33B">为什么需要容器？</h5> 
<blockquote> 
 <p id="ufabb6d0c">        镜像是静态的文件，并不能提供服务，就像我拿了个 Linux 或者 Windows 的光盘一样，只有安装到主机里面运行起来才能对外提供服务，我们才能使用。容器带来哪些收益呢，参考我们之前讲解的为什么要虚拟化、容器化。</p> 
</blockquote> 
<p id="ueb0f33c3"></p> 
<h5 id="YyKJ4">容器的生命周期</h5> 
<p id="u8083739d">容器的生命周期是容器可能处于的状态。</p> 
<blockquote> 
 <ol><li id="u5bb1a597">created：初建状态</li><li id="u324fb7ab">running：运行状态</li><li id="u7fcc39ae">stopped：停止状态</li><li id="u4620da0f">paused： 暂停状态</li><li id="ue877b097">deleted：删除状态</li></ol> 
</blockquote> 
<p id="uc1f044ba">各生命周期之间的转换关系如图所示：</p> 
<div> 
 <p class="img-center"><img alt="" height="557" id="u0061d340" src="https://images2.imgbox.com/00/75/XV9XxGli_o.png" width="1129"><span title="点击并拖拽以改变尺寸">​</span></p> 
</div> 
<p id="u64f6a969">一些特别说明：</p> 
<p id="u70aa6e02">        killed by out-of-memory（因内存不足被终止）：宿主机内存被耗尽，也被称为 OOM：非计划终止 这时需要杀死最吃内存的容器</p> 
<p id="u47f50cb5">container process exitde（异常终止）：出现容器被终止后，将进入 Should restart?</p> 
<p id="u8aed3586">选择操作：</p> 
<p id="u7680d63b">• yes 需要重启，容器执行 start 命令，转为运行状态。</p> 
<p id="u3f26cd87">• no 不需要重启，容器转为停止状态。</p> 
<blockquote> 
 <p id="uffcf2d77">        容器 OOM ：Docker 在处理 OOM 事件时分为三种情况（1）如果容器中的应用耗尽了主机系统分配给容器的内存限额，就会触发 OOM 事件。例如，在容器当中，部署了一个 web 服务。假设主机分配给此容器的内存上限为 1G，当脚本申请的内存大于 1G 时，此容器就会触发 OOM 事件。而在这种情况下，此容器将会被强制关闭。但需要注意的是，此时关闭容器的并非是 Docker Daemon，而是宿主机操作系统。因为一个容器其实就是一组运行在宿主机操作系统当中的进程，宿主机操作系统通过cgroups 对这组进程设定资源上限，当这些进程申请的资源到达上限时，触发的是宿主机操作系统的内核 OOM 事件，因此最终是由宿主机内核来关闭这些进程.(2) 如果用户不想关闭这个容器，那么可以选择--oom-kill-disable 来禁用 OOM-Killer。使用此参数时，仍需要注意，如果使用-m 设置了此容器内存上限，那么当容器到达内存资源上限时，主机不会关闭容器，但也不会继续向此容器继续分配资源，此时容器将处于 hung 状态。只需要将最坏的情况封闭在一定范围之内，而不至于蔓延出去。(3)如果用户使用了--oom-kill-disable，但也没有使用-m 来设定上限，因而此时此容器将会尽可能多地使用主机内存资源。换言之，主机内存有多大，它就将用多大。</p> 
</blockquote> 
<blockquote> 
 <p id="u063ee1d6">        容器异常退出 ：每个容器内部都存在一个 Init 进程，容器中其他所有进程都是此进程的子进程。运行的容器是因为 Init 进程在运行，如果一个子进程因为某种原因造成了退出，那么其父进程也会同步退出，直至 Init 进程也退出。当 Init 进程退出时，也就代表着此容器被关闭。 ocker 目前没有办法知道此时的进程退出属于正常退出还是异常退出。当出现容器关闭情况时， Docker Daemon 会尝试再次重新将此容器由 Stopped 状态转为 Running状态。只有设置了--restart 参数的容器， Docker Daemon 才会去尝试启动，否则容器会保持停止状态。<br> 容器暂停 ：Docker“剥夺”了此容器的 CPU 资源。而其他资源，如 Memory 资源、 Network 资源等还保留未动。如此一来，失去了 CPU 资源的进程，是不会被主机内核系统所调度的，所以此容器就处于“冰封”状态。</p> 
</blockquote> 
<p> </p> 
<h4 id="UqdUp">容器的命令详解</h4> 
<p id="ucc4a03ff">前面的文章已近对run、ps讲述过了，这里不多介绍。</p> 
<p id="u86a7abef">Docker 的一系列命令提供了对容器生命周期的全面控制，下面是对这些命令的详细解析：</p> 
<h5 id="msuQ6">1. <code>docker create</code></h5> 
<p id="u92076522"><strong>用途</strong>：创建一个容器但不立即启动它。<br><strong>语法</strong>：</p> 
<div> 
 <pre id="nabnx"><code class="hljs">docker create [OPTIONS] IMAGE [COMMAND] [ARG...]</code></pre> 
</div> 
<p id="u2aa02cc0"><strong>关键参数</strong>：<br> ￮ -i: 以交互模式运行容器，通常与 -t 同时使用；<br> ￮ -P: 随机端口映射，容器内部端口随机映射到主机的端口<br> ￮ -p: 指定端口映射，格式为： 主机(宿主)端口:容器端口<br> ￮ -t: 为容器重新分配一个伪输入终端，通常与 -i 同时使用；<br> ￮ --name="nginx-lb": 为容器指定一个名称；<br> ￮ -h "mars": 指定容器的 hostname；<br> ￮ -e username="ritchie": 设置环境变量；<br> ￮ --cpuset-cpus="0-2" or --cpuset-cpus="0,1,2": 绑定容器到指定 CPU 运行；<br> ￮ -m :设置容器使用内存最大值；<br> ￮ --network="bridge": 指定容器的网络连接类型；<br> ￮ --link=[]: 添加链接到另一个容器；<br> ￮ --volume , -v: 绑定一个卷<br> ￮ --rm :shell 退出的时候自动删除容器</p> 
<p id="ub06dcd08"></p> 
<div> 
 <p class="img-center"><img alt="" height="386" id="u66312b8b" src="https://images2.imgbox.com/b3/a7/x8fjxKkc_o.png" width="1200"><span title="点击并拖拽以改变尺寸">​</span></p> 
</div> 
<p id="u74d5fa8e"></p> 
<h5 id="yTM4d">2. <code>docker logs</code></h5> 
<p id="u1abc4783"><strong>用途</strong>：获取容器的日志输出。<br><strong>语法</strong>：</p> 
<div> 
 <pre id="xsXQF"><code class="hljs">docker logs [OPTIONS] CONTAINER</code></pre> 
</div> 
<p id="ueab446ea"><strong>关键参数</strong>：</p> 
<ul><li id="u574395f6"><code>-f</code> 或 <code>--follow</code>：跟随日志输出。</li><li id="u34c53d2e"><code>--since</code>：显示自从某个时间点后的日志。</li><li id="ube487453"><code>--until</code>：显示直到某个时间点的日志。</li><li id="uef4022b3"><code>--tail -n</code>：显示最近 N 行日志。</li><li id="ub0fdad00"><code>-t,--timestamps </code>：显示时间戳 。</li></ul> 
<p id="u1a441f72"></p> 
<div> 
 <p class="img-center"><img alt="" height="583" id="u0a253b96" src="https://images2.imgbox.com/27/cb/7KpFzXz8_o.png" width="1200"><span title="点击并拖拽以改变尺寸">​</span></p> 
</div> 
<p id="u85c8cf93"></p> 
<h5 id="CHZZ8">3. <code>docker attach</code></h5> 
<p id="u1044b84e"><strong>用途</strong>：将标准输入、输出和错误流连接到一个正在运行的容器。<br><strong>语法</strong>：</p> 
<div> 
 <pre id="gKCI9"><code class="hljs">docker attach [OPTIONS] CONTAINER</code></pre> 
</div> 
<p id="uf9e1d0f9"><strong>关键参数</strong>：</p> 
<ul><li id="u4d79b74d"><code>--sig-proxy=true|false</code>：是否代理信号。</li></ul> 
<p id="u76e969bb"></p> 
<div> 
 <p class="img-center"><img alt="" height="341" id="ucfab6b86" src="https://images2.imgbox.com/9a/5e/rtyWcwNI_o.png" width="1200"><span title="点击并拖拽以改变尺寸">​</span></p> 
</div> 
<p id="uc67e09b6">如若不使用上述选项，attach后ctrl+c会导致容器退出，如下：</p> 
<p id="u49df09c2"></p> 
<div> 
 <p class="img-center"><img alt="" height="319" id="u792e36e7" src="https://images2.imgbox.com/cd/cd/xOVWFJAD_o.png" width="1200"><span title="点击并拖拽以改变尺寸">​</span></p> 
</div> 
<p id="u26cf390f"></p> 
<div> 
 <p class="img-center"><img alt="" height="865" id="uafbb997f" src="https://images2.imgbox.com/fb/ff/AutIht0i_o.png" width="1200"><span title="点击并拖拽以改变尺寸">​</span></p> 
</div> 
<p id="u3fa0073a"></p> 
<h5 id="nPp7V">4. <code>docker exec</code></h5> 
<p id="u5591119e"><strong>用途</strong>：在运行中的容器中执行命令。<br><strong>语法</strong>：</p> 
<div> 
 <pre id="ZRE4n"><code class="hljs">docker exec [OPTIONS] CONTAINER COMMAND [ARG...]</code></pre> 
</div> 
<p id="uceaa4d16"><strong>关键参数</strong>：</p> 
<ul><li id="u82f88f7c">-i :即使没有附加也保持 STDIN 打开</li><li id="u00048e16"><code>-u</code> 或 <code>--user</code>：设置用户 ID 或用户名。</li><li id="u57a4868d">-w,--workdir:指定工作目录</li><li id="u185573f4">-e :设置环境变量</li><li id="u001f9eb9">-t :分配一个伪终端</li><li id="u728b8f32">-d :分离模式: 在后台运行</li></ul> 
<p id="u26e51e7c"></p> 
<div> 
 <p class="img-center"><img alt="" height="529" id="u5885839e" src="https://images2.imgbox.com/8b/75/9tCaXDg5_o.png" width="1200"><span title="点击并拖拽以改变尺寸">​</span></p> 
</div> 
<p id="uf049e2b5"></p> 
<h5 id="xiYNb">5. <code>docker start</code></h5> 
<p id="uf8d57e95"><strong>用途</strong>：启动一个已创建但未运行的容器。<br><strong>语法</strong>：</p> 
<div> 
 <pre id="kCksJ"><code class="hljs">docker start [OPTIONS] CONTAINER [CONTAINER...]</code></pre> 
</div> 
<p id="u65cdac07"><strong>关键参数</strong>：</p> 
<ul><li id="uf749991e"><code>--attach</code>：连接到容器的标准输入/输出/错误</li></ul> 
<p id="u6e6ab6fa"></p> 
<div> 
 <p class="img-center"><img alt="" height="438" id="uc6082a72" src="https://images2.imgbox.com/0e/99/JGJXeWaW_o.png" width="1200"><span title="点击并拖拽以改变尺寸">​</span></p> 
</div> 
<p id="u3a6f8dbf"></p> 
<h5 id="VRDJA">6. <code>docker stop</code></h5> 
<p id="ua4ee5b60"><strong>用途</strong>：停止一个正在运行的容器。<br><strong>语法</strong>：</p> 
<div> 
 <pre id="Sk2Mt"><code class="hljs">docker stop [OPTIONS] CONTAINER [CONTAINER...]</code></pre> 
</div> 
<p id="u7c54a475"><strong>关键参数</strong>：</p> 
<ul><li id="udb6e6a8d"><code>--time</code> 或 <code>-t</code>：等待容器停止的秒数。</li></ul> 
<p id="u1343d8ee"></p> 
<div> 
 <p class="img-center"><img alt="" height="442" id="uf6d35a6a" src="https://images2.imgbox.com/08/70/NuS8jGvF_o.png" width="1200"><span title="点击并拖拽以改变尺寸">​</span></p> 
</div> 
<p id="ub5163db9"></p> 
<h5 id="lUVsG">7. <code>docker restart</code></h5> 
<p id="u6fb5d6a8"><strong>用途</strong>：重启容器。<br><strong>语法</strong>：</p> 
<div> 
 <pre id="r7FUo"><code class="hljs">docker restart [OPTIONS] CONTAINER [CONTAINER...]</code></pre> 
</div> 
<p id="u23e95068"><strong>关键参数</strong>：</p> 
<ul><li id="u2921c056"><code>--time</code> 或 <code>-t</code>：等待容器停止的秒数。</li></ul> 
<p id="u7f108575"></p> 
<div> 
 <p class="img-center"><img alt="" height="419" id="u78c0a5dd" src="https://images2.imgbox.com/90/df/NnpXuYCp_o.png" width="1200"><span title="点击并拖拽以改变尺寸">​</span></p> 
</div> 
<p id="ub892fa0d"></p> 
<h5 id="QML0s">8. <code>docker kill</code></h5> 
<p id="u92ab0f4b"><strong>用途</strong>：强制停止一个正在运行的容器。<br><strong>语法</strong>：</p> 
<div> 
 <pre id="cpyI9"><code class="hljs">docker kill [OPTIONS] CONTAINER [CONTAINER...]</code></pre> 
</div> 
<p id="u5892c114"><strong>关键参数</strong>：</p> 
<ul><li id="ub345e599"><code>SIGNAL</code>：发送的信号，默认为 SIGKILL。</li></ul> 
<p id="ue9bfdf68"></p> 
<div> 
 <p class="img-center"><img alt="" height="430" id="u209e5464" src="https://images2.imgbox.com/dd/1d/0x5fI0kD_o.png" width="1200"><span title="点击并拖拽以改变尺寸">​</span></p> 
</div> 
<p id="u3a979e94"></p> 
<h5 id="KwzIU">9. <code>docker top</code></h5> 
<p id="u9fe8d1f7"><strong>用途</strong>：显示容器内运行的进程。<br><strong>语法</strong>：</p> 
<div> 
 <pre id="yQ80v"><code class="hljs">docker top CONTAINER</code></pre> 
</div> 
<p id="u1f0d41f7">无需参数。</p> 
<p id="u84fbd6a4"></p> 
<div> 
 <p class="img-center"><img alt="" height="401" id="u33c4293b" src="https://images2.imgbox.com/95/2d/WLWivZS4_o.png" width="1200"><span title="点击并拖拽以改变尺寸">​</span></p> 
</div> 
<p id="u4c35b4cc"></p> 
<h5 id="Abbth">10. <code>docker stats</code></h5> 
<p id="u2591be78"><strong>用途</strong>：显示容器的资源使用情况。<br><strong>语法</strong>：</p> 
<div> 
 <pre id="zi4tl"><code class="hljs">docker stats [OPTIONS] [CONTAINER...]</code></pre> 
</div> 
<p id="u42a00a7f"><strong>关键参数</strong>：</p> 
<ul><li id="u714edf06"><code>-a</code> 或 <code>--all</code>：显示所有容器的统计信息。</li><li id="u3e74c287">--format :指定返回值的模板文件。如 table,json</li><li id="u71820737">--no-stream :展示当前状态就直接退出了，不再实时更新。</li><li id="u702fe015">--no-trunc :不截断输出</li></ul> 
<p id="uf7ea7501">返回报文</p> 
<p id="ud94c14cb">CONTAINER ID 与 NAME: 容器 ID 与名称。</p> 
<p id="u19e1d5aa">CPU % 与 MEM %: 容器使用的 CPU 和内存的百分比。</p> 
<p id="ue61f0c6a">MEM USAGE / LIMIT: 容器正在使用的总内存，以及允许使用的内存总量。</p> 
<p id="ue0e90225">NET I/O: 容器通过其网络接口发送和接收的数据量。</p> 
<p id="u200e7327">BLOCK I/O: 容器从主机上的块设备读取和写入的数据量。</p> 
<p id="u62e41d17">PIDs: 容器创建的进程或线程数。</p> 
<p id="u73b28fe4">如下为：docker stats --format json</p> 
<p id="u919faefd"></p> 
<div> 
 <p class="img-center"><img alt="" height="245" id="u0152aa9c" src="https://images2.imgbox.com/c2/51/D4KHTDft_o.png" width="1200"><span title="点击并拖拽以改变尺寸">​</span></p> 
</div> 
<p id="u8730472d"></p> 
<div> 
 <p class="img-center"><img alt="" height="253" id="uf935fbb3" src="https://images2.imgbox.com/08/1b/uI2Ovm46_o.png" width="1200"><span title="点击并拖拽以改变尺寸">​</span></p> 
</div> 
<p id="u60752ea6"></p> 
<h5 id="VBZyM">11. <code>docker container inspect</code></h5> 
<p id="udbbd0682"><strong>用途</strong>：显示容器的详细信息。<br><strong>语法</strong>：</p> 
<div> 
 <pre id="rcdA7"><code class="hljs">docker container inspect [OPTIONS] CONTAINER [CONTAINER...]</code></pre> 
</div> 
<p id="ua95cb2b3"><strong>关键参数</strong>：</p> 
<p id="ua9e14f29">￮ -f :指定返回值的模板文件。如 table、 json</p> 
<p id="u4ba7ab8e">￮ -s :显示总的文件大小</p> 
<p id="u7dd4412e"></p> 
<div> 
 <p class="img-center"><img alt="" height="406" id="u6cdd838f" src="https://images2.imgbox.com/b3/1d/v6seYzlK_o.png" width="1200"><span title="点击并拖拽以改变尺寸">​</span></p> 
</div> 
<p id="ub65afd2c"></p> 
<h5 id="RpFjT" style="background-color:transparent;">12. <code>docker port</code></h5> 
<p id="u83a8d30a"><strong>用途</strong>：显示容器的端口映射。<br><strong>语法</strong>：</p> 
<div> 
 <pre id="dgbR9"><code class="hljs">docker port CONTAINER PRIVATE_PORT[/PROTO]</code></pre> 
</div> 
<p id="u22a28517">无需参数。</p> 
<p id="udd59c780"></p> 
<div> 
 <p class="img-center"><img alt="" height="91" id="u32a3711b" src="https://images2.imgbox.com/55/a8/ghFscIwc_o.png" width="1126"><span title="点击并拖拽以改变尺寸">​</span></p> 
</div> 
<p id="u00620779"></p> 
<h5 id="QSMjR">13. <code>docker cp</code></h5> 
<p id="ucfdfffae"><strong>用途</strong>：在容器和本地文件系统之间复制文件或目录。<br><strong>语法</strong>：</p> 
<div> 
 <pre id="akhRM"><code class="hljs">docker cp [OPTIONS] CONTAINER:SRC_PATH DEST_PATH | docker cp [OPTIONS] SRC_PATH CONTAINER:DEST_PATH</code></pre> 
</div> 
<p id="ud0cd9a6c"><strong>关键参数</strong>：</p> 
<ul><li id="u56f45ec0"><code>-L</code>：保持符号链接。</li></ul> 
<p id="u0a8f4f80">样例</p> 
<div> 
 <pre id="iC7HS"><code class="hljs">#将主机/www/目录拷贝到容器 mynginx 的/www 目录下。
docker cp /www/ mynginx:/www/ 
#将容器/www/目录拷贝到主机的/wwwbak 目录下。
docker cp mynginx:/www/ /wwwbak/</code></pre> 
</div> 
<p id="u3730f54c"></p> 
<h5 id="fm9xv">14. <code>docker diff</code></h5> 
<p id="ud2c469dd"><strong>用途</strong>：显示容器文件系统的更改。<br><strong>语法</strong>：</p> 
<div> 
 <pre id="vt9oI"><code class="hljs">docker diff CONTAINER</code></pre> 
</div> 
<p id="u25f7fde0">无需参数。</p> 
<p id="ufbaa0243"></p> 
<div> 
 <p class="img-center"><img alt="" height="373" id="uca34dae2" src="https://images2.imgbox.com/5c/24/MVMvX9up_o.png" width="1200"><span title="点击并拖拽以改变尺寸">​</span></p> 
</div> 
<p id="u6a090a0a"></p> 
<h5 id="JN9Ys">15. <code>docker commit</code></h5> 
<p id="u2330ab6f"><strong>用途</strong>：将容器的更改提交为新的镜像。<br><strong>语法</strong>：</p> 
<div> 
 <pre id="NPXBz"><code class="hljs">docker commit [OPTIONS] CONTAINER [REPOSITORY[:TAG]]</code></pre> 
</div> 
<p id="uf7db3a53"><strong>关键参数</strong>：</p> 
<ul><li id="u4476c286"><code>-m</code> 或 <code>--message</code>：提交的信息。</li><li id="uada7c6f9"><code>-a</code> 或 <code>--author</code>：作者信息。</li><li id="ue87063f2">-c :使用 Dockerfile 指令来创建镜像；可以修改启动指令</li><li id="u6b6ba4b0">-p :在 commit 时，将容器暂停。</li></ul> 
<p id="uf0a95ee1"></p> 
<div> 
 <p class="img-center"><img alt="" height="257" id="u1b349586" src="https://images2.imgbox.com/4b/46/O9QgVrKZ_o.png" width="1200"><span title="点击并拖拽以改变尺寸">​</span></p> 
</div> 
<p id="u39ab7905"></p> 
<div> 
 <p class="img-center"><img alt="" height="132" id="u1606a2b6" src="https://images2.imgbox.com/f8/52/Oh6HmDr4_o.png" width="1136"><span title="点击并拖拽以改变尺寸">​</span></p> 
</div> 
<p id="ua1728a27"></p> 
<h5 id="AJpCa">16. <code>docker pause</code></h5> 
<p id="uc4f510c2"><strong>用途</strong>：暂停容器的所有进程。<br><strong>语法</strong>：</p> 
<div> 
 <pre id="wwDHy"><code class="hljs">docker pause [OPTIONS] CONTAINER [CONTAINER...]</code></pre> 
</div> 
<p id="ubbbcc772">无需参数。</p> 
<p id="u3c8ada6d"></p> 
<div> 
 <p class="img-center"><img alt="" height="389" id="u0c32bb2b" src="https://images2.imgbox.com/64/6b/bAVV5sSP_o.png" width="1200"><span title="点击并拖拽以改变尺寸">​</span></p> 
</div> 
<p id="ub8be9eb1"></p> 
<h5 id="hZUzl">17. <code>docker unpause</code></h5> 
<p id="u4845a7f2"><strong>用途</strong>：恢复已暂停的容器。<br><strong>语法</strong>：</p> 
<div> 
 <pre id="XbWm4"><code class="hljs">docker unpause [OPTIONS] CONTAINER [CONTAINER...]</code></pre> 
</div> 
<p id="ua554ae2e">无需参数。</p> 
<p id="u881553b8"></p> 
<div> 
 <p class="img-center"><img alt="" height="387" id="u239349bf" src="https://images2.imgbox.com/d8/b1/3EMZrYoM_o.png" width="1200"><span title="点击并拖拽以改变尺寸">​</span></p> 
</div> 
<p id="u19b434a5"></p> 
<h5 id="bnlvD">18. <code>docker rm</code></h5> 
<p id="u78032f96"><strong>用途</strong>：删除一个或多个容器。<br><strong>语法</strong>：</p> 
<div> 
 <pre id="cJxx6"><code class="hljs">docker rm [OPTIONS] CONTAINER [CONTAINER...]</code></pre> 
</div> 
<p id="ueae39081"><strong>关键参数</strong>：</p> 
<ul><li id="u1efc8129"><code>-f</code> 或 <code>--force</code>：强制删除运行中的容器。</li></ul> 
<p id="uea79254e"></p> 
<div> 
 <p class="img-center"><img alt="" height="449" id="u2a666734" src="https://images2.imgbox.com/e1/f7/kggkbIWd_o.png" width="1200"><span title="点击并拖拽以改变尺寸">​</span></p> 
</div> 
<p id="u55b2997d"></p> 
<h5 id="IZAZF">19. <code>docker export</code></h5> 
<p id="udbbb1c3f"><strong>用途</strong>：将容器的内容导出为 tar 归档。<br><strong>语法</strong>：</p> 
<div> 
 <pre id="PgFmR"><code class="hljs">docker export CONTAINER &gt; archive.tar</code></pre> 
</div> 
<p id="u0df30d7f"><strong>关键参数</strong>：</p> 
<ul><li id="u4e3d1bd1">-o:写入到文件</li></ul> 
<p id="u32a5b839"></p> 
<div> 
 <p class="img-center"><img alt="" height="377" id="u4a9d481e" src="https://images2.imgbox.com/cc/d3/GibECyxb_o.png" width="1200"><span title="点击并拖拽以改变尺寸">​</span></p> 
</div> 
<p id="ue7ba8121"></p> 
<h5 id="zF9yF">20. <code>docker wait</code></h5> 
<p id="u65da7a7d"><strong>用途</strong>：阻塞直到容器停止，然后返回退出代码。<br><strong>语法</strong>：</p> 
<div> 
 <pre id="lUBUJ"><code class="hljs">docker wait [OPTIONS] CONTAINER</code></pre> 
</div> 
<p id="uc2833693">无需参数。</p> 
<div> 
 <p class="img-center"><img alt="" height="370" id="ud3b55e6c" src="https://images2.imgbox.com/d3/29/PJDIgV7x_o.png" width="1200"><span title="点击并拖拽以改变尺寸">​</span></p> 
</div> 
<p id="u314fc8d7"></p> 
<h5 id="GK7fR">21. <code>docker rename</code></h5> 
<p id="u3956e0f1"><strong>用途</strong>：重命名一个容器。<br><strong>语法</strong>：</p> 
<div> 
 <pre id="kjSwA"><code class="hljs">docker rename CONTAINER NEW_NAME</code></pre> 
</div> 
<p id="uf6193188">无需参数。</p> 
<p id="u4bd5e230"></p> 
<div> 
 <p class="img-center"><img alt="" height="328" id="u3cb16d60" src="https://images2.imgbox.com/5f/7a/H7GZFL2J_o.png" width="1200"><span title="点击并拖拽以改变尺寸">​</span></p> 
</div> 
<p id="u716f4c16"></p> 
<h5 id="dwSuJ">22. <code>docker container prune</code></h5> 
<p id="u181922de"><strong>用途</strong>：删除所有已停止的容器。<br><strong>语法</strong>：</p> 
<div> 
 <pre id="lAEnE"><code class="hljs">docker container prune [OPTIONS]</code></pre> 
</div> 
<p id="u0bdb2101"><strong>关键参数</strong>：</p> 
<ul><li id="ubea11fb1">-f, --force：不提示是否进行确认</li></ul> 
<p id="u37ffe00e"></p> 
<div> 
 <p class="img-center"><img alt="" height="612" id="u155bee24" src="https://images2.imgbox.com/1a/57/e6qgtGdJ_o.png" width="1200"><span title="点击并拖拽以改变尺寸">​</span></p> 
</div> 
<p id="ue6fac90f"></p> 
<h5 id="EbmeP" style="background-color:transparent;">23. <code>docker update</code></h5> 
<p id="ufa807971"><strong>用途</strong>：更新容器的资源限制。<br><strong>语法</strong>：</p> 
<div> 
 <pre id="zxvmt"><code class="hljs">docker update [OPTIONS] CONTAINER [CONTAINER...]</code></pre> 
</div> 
<p id="u6346ee68"><strong>关键参数</strong>：</p> 
<ul><li id="u8515115d"><code>--memory</code>：设置容器的内存限制。</li><li id="u7364a250"><code>--cpus</code>：设置容器的 CPU 份额。</li><li id="u3c63eb8a">--cpuset-cpus :使用哪些 cpu。</li><li id="u5a9fa056">--memory-swap：交换内存 。</li><li id="u82ed70ee">--cpu-period :是用来指定容器对 CPU 的使用要在多长时间内做一次重新分配。</li><li id="ud4e4337e">--cpu-quota： 是用来指定在这个周期内，最多可以有多少时间用来跑这个容器。<br><code>docker update</code> 命令用于调整一个或多个正在运行的容器的资源配置，如CPU份额、内存限制、重启策略等。下面是几个使用 <code>docker update</code> 的例子：</li></ul> 
<p id="ua4bf7287">例子</p> 
<p id="ud6b577aa">更新容器的CPU份额：</p> 
<p id="u337177d3">假设你有一个容器，其ID是 <code>abcd1234</code>，你想增加它的CPU份额，可以使用以下命令：</p> 
<div> 
 <pre id="bd1cG"><code class="hljs">docker update --cpu-shares 512 abcd1234</code></pre> 
</div> 
<p id="u0025ff61">这会将容器的CPU份额设置为512。CPU份额是用来决定容器在与其他容器竞争CPU时间时的优先级。</p> 
<p id="u09551165">更新容器的内存限制：</p> 
<p id="u08abc603">如果想限制容器使用的内存，可以使用 <code>--memory</code> 或 <code>-m</code> 选项。例如，将容器 <code>abcd1234</code> 的最大可用内存限制为512MB，可以这样操作：</p> 
<div> 
 <pre id="Oc51x"><code class="hljs">docker update --memory 512M abcd1234</code></pre> 
</div> 
<p id="u68329d3b">更新容器的重启策略：</p> 
<p id="u97b6c0e0">你可能希望容器在意外停止后自动重启。为了设置容器 <code>abcd1234</code> 的重启策略为总是重启，可以使用以下命令：</p> 
<div> 
 <pre id="hshfQ"><code class="hljs">docker update --restart always abcd1234</code></pre> 
</div> 
<p id="u17a9e83d">这将确保当容器意外终止时，Docker守护进程会尝试自动重启它。</p> 
<p id="u0f5cb6af">更新多个容器的配置：</p> 
<p id="uc77d0f5a">你也可以同时更新多个容器的配置。例如，更新两个容器 <code>abcd1234</code> 和 <code>efgh5678</code> 的CPU份额和内存限制：</p> 
<div> 
 <pre id="yXS24"><code class="hljs">docker update --cpu-shares 256 --memory 256M abcd1234 efgh5678</code></pre> 
</div> 
<p id="u22956fd6">更新容器的Block IO权重：</p> 
<p id="u355dbf5e">对于磁盘I/O，你可以设置容器的Block IO权重，权重范围在10到1000之间，0表示禁用。例如，将容器 <code>abcd1234</code> 的Block IO权重设置为500：</p> 
<div> 
 <pre id="dMG25"><code class="hljs">docker update --blkio-weight 500 abcd1234</code></pre> 
</div> 
<p id="u44385789">请注意，不是所有的配置都可以在容器运行时更新。例如，你不能更新已经运行的容器的网络配置或更改其基础镜像。此外，某些选项（如 <code>--kernel-memory</code>）在较新的Docker版本中可能已经被弃用。</p> 
<p id="ue2703a0e">在执行任何 <code>docker update</code> 命令之前，确保了解你正在更改的配置的具体含义，以及这些更改如何影响容器的性能和稳定性。</p> 
<p id="uc5aec251"></p> 
<h4 id="iClRD" style="background-color:transparent;">容器批量处理技巧</h4> 
<p id="u0099820b"><code>docker container ls</code> 命令（通常简写为 <code>docker ps</code>）用于列出系统上当前运行的Docker容器。但是，<code>docker container ls</code> 是更现代且推荐使用的语法，因为它更清晰地表明了你正在操作的是容器。这两个命令在功能上是相同的，只是语法略有不同，<code>docker container ls</code> 更符合Docker命令的一致性设计。</p> 
<p id="u4ff0255e">基本语法</p> 
<div> 
 <pre id="dieKJ"><code class="hljs">docker container ls [OPTIONS]</code></pre> 
</div> 
<p id="uad47e3b1">选项说明</p> 
<ul><li id="uae54d743"><code>-a</code>, <code>--all</code>: 显示所有容器，包括未运行的。如果不加这个选项，默认只显示正在运行的容器。</li><li id="u66b4945a"><code>-f</code>, <code>--filter</code>: 用于过滤输出。例如，你可以通过名字、状态或其他属性过滤容器。</li><li id="u8103327b"><code>--format</code>: 设置输出格式，可以使用Go模板语言来定制输出的样式。</li><li id="u5e4ba5fb"><code>-l</code>, <code>--latest</code>: 显示最近创建的容器。</li><li id="u6c12d06b"><code>--no-trunc</code>: 不截断输出，完整显示所有信息。</li><li id="ub2941257"><code>--quiet</code>, <code>-q</code>: 只显示容器的ID。</li></ul> 
<p id="ud2f29039">输出列说明</p> 
<p id="uad421019">默认情况下，<code>docker container ls</code> 或 <code>docker ps</code> 的输出包含以下列：</p> 
<ul><li id="u6ecda64e"><code>CONTAINER ID</code>: 容器的唯一标识符。</li><li id="uc81767bf"><code>IMAGE</code>: 创建容器的镜像名称。</li><li id="u1bae61f2"><code>COMMAND</code>: 启动容器时运行的命令。</li><li id="uf75bb41a"><code>CREATED</code>: 容器创建的时间。</li><li id="u61e5edf4"><code>STATUS</code>: 容器的状态，如运行中（Up）、已退出（Exited）等。</li><li id="u51c66abf"><code>PORTS</code>: 已映射的端口，如果有的话。</li><li id="uadc04b8b"><code>NAMES</code>: 分配给容器的名称。</li></ul> 
<p id="u22a20ec6">示例</p> 
<ul><li id="u9da51ac7">列出所有容器（包括未运行的）：</li></ul> 
<div> 
 <pre id="g51sm"><code class="hljs">docker container ls -a</code></pre> 
</div> 
<ul><li id="u793a5ec0">只显示容器的ID：</li></ul> 
<div> 
 <pre id="gH8cB"><code class="hljs">docker container ls -q</code></pre> 
</div> 
<ul><li id="uc55c144c">根据名字过滤容器：</li></ul> 
<div> 
 <pre id="PiaRe"><code class="hljs">docker container ls --filter name=myapp</code></pre> 
</div> 
<ul><li id="u25bdeaff">自定义输出格式：</li></ul> 
<div> 
 <pre id="Jwufd"><code class="hljs">docker container ls --format "table {<!-- -->{.Names}}\t{<!-- -->{.Status}}\t{<!-- -->{.RunningFor}}"</code></pre> 
</div> 
<p id="u861b5d69"></p> 
<div> 
 <p class="img-center"><img alt="" height="453" id="ufcacf6d6" src="https://images2.imgbox.com/ca/32/xBTODAn7_o.png" width="1200"><span title="点击并拖拽以改变尺寸">​</span></p> 
</div> 
<p id="uf07a86d6">理解完前面的操作，那么我们再结合前面所提到的命令，可以做到如下的容器批处理：</p> 
<div> 
 <pre id="D6nGR"><code class="hljs">docker stop `docker ps -q`
docker start `docker ps -aq`</code></pre> 
</div> 
<p id="ud99464d6"></p> 
<div> 
 <p class="img-center"><img alt="" height="486" id="vYD72" src="https://images2.imgbox.com/3e/36/9YtvwgXq_o.png" width="1200"><span title="点击并拖拽以改变尺寸">​</span></p> 
</div> 
<h4 id="BLkjC"><strong>容器自动重启</strong></h4> 
<p id="u777c9410">容器重启选项如下：</p> 
<blockquote> 
 <p id="ub99b56ec">docker run --restart=no [容器名] :默认值不自动重启</p> 
 <p id="uc4cf4db2">docker run --restart=on-failure:3 [容器名] : on-failure 若容器的退出状态非 0，则docker 自动重启容器，还可以指定重启次数，若超过指定次数未能启动容器则放弃</p> 
 <p id="ud9489080">docker run --restart=always [容器名] :always 容器退出时总是重启</p> 
 <p id="u901f56f6">docker run --restart=unless-stopped [容器名] unless-stopped 容器退出时总是重启，但不考虑 Docker 守护进程启动时就已经停止的容器</p> 
 <p id="u26903c88">如果容器启动时没有设置–restart 参数，则通过下面命令进行更新：docker update --restart=always [容器名]</p> 
</blockquote> 
<p id="ud6058d09">需要注意的是：</p> 
<blockquote> 
 <p id="u27916655">当一个Docker容器配置了自动重启策略为always时，确实意味着容器会在任何情况下自动重启，包括容器正常或异常退出之后。这意味着，一旦容器停止运行，Docker守护进程会自动检测并重新启动它。</p> 
 <p id="ucde72df7">然而，尽管always策略会让容器在停止后立即重启，你仍然可以通过以下几种方式真正地阻止容器的自动重启：</p> 
 <p id="u7e831307">1、使用docker stop命令。</p> 
 <p id="u393d1499">2、使用docker update命令来更改容器的重启策略，例如：</p> 
</blockquote> 
<div> 
 <pre id="Le9As"><code class="hljs">docker update --restart=no &lt;container-id-or-name&gt;</code></pre> 
</div> 
<blockquote> 
 <p id="u4d608a77">3、删除容器： 如果你不打算再使用这个容器，可以使用docker rm命令来删除容器。这将彻底阻止容器的自动重启，因为你已经删除了容器本身。</p> 
 <p id="ua69b7f04">删除运行中的容器需要加上-f或--force选项：</p> 
</blockquote> 
<div> 
 <pre id="RHgSt"><code class="hljs">docker rm -f &lt;container-id-or-name&gt;</code></pre> 
</div> 
<p id="u74ff1f00"></p> 
<h4 id="CMhMv">一些常见的问题</h4> 
<h5 id="kDXzX">docker create、 docker start 和 docker run 有什么区别？</h5> 
<blockquote> 
 <p id="ucc1782aa">docker create 命令从 Docker 映像创建一个全新的容器。但是，它不会立即运行它。</p> 
 <p id="u118baff1">docker start 命令将启动任何已停止的容器。如果使用 docker create 命令创建容器，则可以使用此命令启动它。docker run 命令是创建和启动的组合，因为它创建了一个新容器并立即启动它。实际上，如果 docker run 命令在您的系统上找不到上述映像，它可以从 Docker Hub 中提取映像。</p> 
</blockquote> 
<p id="ua8647c50"></p> 
<h5 id="ggC0c">docker import 和 docker load 有什么区别？</h5> 
<blockquote> 
 <p id="u445863a4">想要了解 docker load 与 docker import 命令的区别，还必须知道 docker save与 docker export 命令：</p> 
 <p id="uac087564">• docker save images_name：将一个镜像导出为文件，再使用 docker load 命令将文件导入为一个镜像，会保存该镜像的的所有历史记录。比 docker export 命令导出的文件大，很好理解，因为会保存镜像的所有历史记录。</p> 
 <p id="u598d4720">• docker export container_id：将一个容器导出为文件，再使用 dockerimport 命令将容器导入成为一个新的镜像，但是相比 docker save 命令，容器文件会丢失所有元数据和历史记录，仅保存容器当时的状态，相当于虚拟机快照。</p> 
 <p id="u0ede9e0a">既可以使用 docker load 命令来导入镜像库存储文件到本地镜像库，也可以使用docker import 命令来导入一个容器快照到本地镜像库。两者的区别在于容器快照将会丢弃所有的历史记录和元数据信息，而镜像存储文件将保存完整记录，体积也会更大。</p> 
</blockquote> 
<p></p> 
<h5 id="xY7qA">docker rm &amp; docker rmi &amp; docker prune 的差异？</h5> 
<blockquote> 
 <p id="u22898fdc">docker rm ： 删除一个或多个容器</p> 
 <p id="u075a2ae1">docker rmi : 删除一个或多个镜像</p> 
 <p id="uefe99545">docker prune： 用来删除不再使用的 docker 对象</p> 
</blockquote> 
<p> </p> 
<hr> 
<p>         <strong>             感谢你耐心的看到这里ღ( ´･ᴗ･` )比心，如有哪里有错误请踢一脚作者o(╥﹏╥)o！</strong> </p> 
<p>                                       <img alt="" src="https://images2.imgbox.com/ae/ed/O3D72Uet_o.gif">​</p> 
<p><strong>                                                                        <span style="color:#9c8ec1;">给个三连再走嘛~  </span></strong></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/2fdec31c988149fa72770c0c5bcb294e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【AI大模型】从零开始运用LORA微调ChatGLM3-6B大模型并私有数据训练_chalm3进行lora训练</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/1e5e5d0055a4e265d0e0efd82e9b7e36/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">单链表面试题---移除链表元素和翻转链表</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>