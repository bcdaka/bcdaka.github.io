<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>C&#43;&#43;：缺省参数|函数重载|引用|const引用 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/5e661c4e376b7e8bbdab97f2f5cf7d76/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="C&#43;&#43;：缺省参数|函数重载|引用|const引用">
  <meta property="og:description" content="欢迎来到Harper·Lee的学习笔记！
博主主页传送门：Harper·Lee的博客主页
想要一起进步的uu可以来后台找我哦！
一、缺省参数 1.1 缺省参数的定义 缺省参数：是声明或定义函数时为函数的参数指定⼀个缺省值。在调用该函数时，如果没有指定实参则采⽤该形参的缺省值，否则使用指定的实参。（有些地方把缺省参数叫做默认参数）
#include &lt;iostream&gt; using namespace std; void Func(int a = 0)//行参的后面赋一个常量值或者全局变量值，指定参数值 { cout &lt;&lt; a &lt;&lt; endl; } int main() { Func(); // 没有传参时，使⽤参数的默认值 Func(10); // 传参时，使⽤指定的实参 return 0; } 1.2 缺省参数的分类 1.2.1 全缺省参数 全缺省：全部的行参参数都给缺省值。
#include &lt;iostream&gt; using namespace std; // 全缺省 void Func1(int a = 10, int b = 20, int c = 30)//每个参数都有缺省值 { cout &lt;&lt; &#34;a = &#34; &lt;&lt; a &lt;&lt; endl; cout &lt;&lt; &#34;">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-07-10T21:47:43+08:00">
    <meta property="article:modified_time" content="2024-07-10T21:47:43+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">C&#43;&#43;：缺省参数|函数重载|引用|const引用</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-github-gist">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <blockquote> 
 <p><font color="##007FFF">欢迎来到Harper·Lee的学习笔记！</font><br> <font color="#238E23">博主主页传送门：<a href="https://blog.csdn.net/lusanjiu">Harper·Lee的博客主页</a></font><br> <font color="#FF6EC7">想要一起进步的uu可以来后台找我哦！</font></p> 
</blockquote> 
<p></p> 
<h2><a id="_5"></a>一、缺省参数</h2> 
<p></p> 
<h3><a id="11__7"></a>1.1 缺省参数的定义</h3> 
<p><strong>缺省参数</strong>：是声明或定义函数时为函数的参数指定⼀个缺省值。在调用该函数时，如果没有指定实参则采⽤该形参的缺省值，否则使用指定的实参。（有些地方把缺省参数叫做默认参数）</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">Func</span><span class="token punctuation">(</span><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token comment">//行参的后面赋一个常量值或者全局变量值，指定参数值</span>
<span class="token punctuation">{<!-- --></span>
	cout <span class="token operator">&lt;&lt;</span> a <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">Func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 没有传参时，使⽤参数的默认值</span>
	<span class="token function">Func</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 传参时，使⽤指定的实参</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p></p> 
<h3><a id="12__24"></a>1.2 缺省参数的分类</h3> 
<p></p> 
<h4><a id="121__26"></a>1.2.1 全缺省参数</h4> 
<p><strong>全缺省：全部的行参参数都给缺省值。</strong></p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token comment">// 全缺省</span>
<span class="token keyword">void</span> <span class="token function">Func1</span><span class="token punctuation">(</span><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token keyword">int</span> c <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token comment">//每个参数都有缺省值</span>
<span class="token punctuation">{<!-- --></span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"a = "</span> <span class="token operator">&lt;&lt;</span> a <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"b = "</span> <span class="token operator">&lt;&lt;</span> b <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"c = "</span> <span class="token operator">&lt;&lt;</span> c <span class="token operator">&lt;&lt;</span> endl <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">Func1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//不传参数，10，20，30</span>
	<span class="token function">Func1</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//传一个参数，1，20，30</span>
	<span class="token function">Func1</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//1，2，3</span>
    <span class="token comment">//Func1( ,1, );这种形式不可以，因为是本贾尼规定的</span>

	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>运行结果：<br><img src="https://images2.imgbox.com/39/2a/EztUI3kQ_o.png" alt="image.png"><br> </p> 
<h4><a id="122__51"></a>1.2.2 半缺省参数</h4> 
<p><strong>半缺省：部分形参给缺省值。C++规定半缺省参数必须从右往左依次连续缺省，不能间隔跳跃给缺省值。</strong></p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token comment">// 半缺省</span>
<span class="token keyword">void</span> <span class="token function">Func2</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token keyword">int</span> c <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token comment">//半缺省即部分缺省</span>
<span class="token punctuation">{<!-- --></span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"a = "</span> <span class="token operator">&lt;&lt;</span> a <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"b = "</span> <span class="token operator">&lt;&lt;</span> b <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"c = "</span> <span class="token operator">&lt;&lt;</span> c <span class="token operator">&lt;&lt;</span> endl <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token comment">//Func2();//不传参数会报错</span>
	<span class="token function">Func2</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//</span>
	<span class="token function">Func2</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">Func2</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>运行结果：<br><img src="https://images2.imgbox.com/80/37/Wxk272F1_o.png" alt="image.png"><br> </p> 
<h4><a id="123__76"></a>1.2.3 缺省参数的应用</h4> 
<p>缺省参数的应用：比如在创建栈的时候，经常会出现初始化的时候考虑扩容， 不确定要扩多大的空间，因此可以使用缺省参数：不确定扩多大空间，可以通过半缺省使用原先的缺省值，确定扩容的空间时，就直接空间容量作为传入参数。初始化栈的时候就扩容了，效率很高。<br>缺省参数就像现实中的备胎舔狗一样，别人需要它是才会想到它。<br> </p> 
<h4><a id="124__79"></a>1.2.4 缺省参数的注意点</h4> 
<ol><li>带缺省参数的函数调用：<strong>C++规定必须从左到右依次给实参，不能跳跃给实参。</strong></li></ol> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">Func2</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token keyword">int</span> c <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"a = "</span> <span class="token operator">&lt;&lt;</span> a <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"b = "</span> <span class="token operator">&lt;&lt;</span> b <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"c = "</span> <span class="token operator">&lt;&lt;</span> c <span class="token operator">&lt;&lt;</span> endl <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token function">Func2</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token punctuation">,</span><span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//error</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<ol start="2"><li>缺省值必须是常量或者全局变量。</li><li><strong>C语言编译器不支持缺省。</strong></li><li><strong>函数声明和定义分离时，缺省参数不能在函数声明和定义中同时出现，规定必须函数声明给缺省值。</strong></li></ol> 
<pre><code class="prism language-cpp"><span class="token comment">//test.h</span>
<span class="token keyword">void</span> <span class="token function">Func1</span><span class="token punctuation">(</span><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//声明</span>
<span class="token comment">// test.cpp</span>
<span class="token keyword">void</span> <span class="token function">Func1</span><span class="token punctuation">(</span><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token comment">//定义</span>
<span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token comment">//error</span>
<span class="token comment">//如果生命与定义位置同时出现，恰巧两个位置提供的值不同，那编译器就无法确定到底该用那个缺省值。</span>


<span class="token comment">//test.h</span>
<span class="token keyword">void</span> <span class="token function">Func2</span><span class="token punctuation">(</span><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//声明中赋缺省值</span>
<span class="token comment">// test.cpp</span>
<span class="token keyword">void</span> <span class="token function">Func2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//定义中没有赋缺省值</span>
<span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token comment">//right</span>
</code></pre> 
<p></p> 
<h2><a id="_118"></a>二、函数重载</h2> 
<p></p> 
<h3><a id="21__120"></a>2.1 函数重载的概念</h3> 
<p><strong>函数重载：是函数的一种特殊情况，C++允许在同一作用域中声明几个功能类似的同名函数，这些同名函数的形参列表(参数个数 或 类型 或 类型顺序)不同，常用来处理实现功能类似数据类型不同的问题。</strong><br><strong>好处：同一个函数可以使用不同类型的数据。</strong><br> </p> 
<h3><a id="22__123"></a>2.2 函数重载的分类</h3> 
<p></p> 
<h4><a id="221__125"></a>2.2.1 参数类型不同</h4> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token comment">// 1、参数类型不同</span>
<span class="token keyword">int</span> <span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">double</span> <span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">double</span> a<span class="token punctuation">,</span> <span class="token keyword">double</span> b<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">1.1</span><span class="token punctuation">,</span> <span class="token number">2.2</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>运行结果：<br><img src="https://images2.imgbox.com/85/02/jL3bhcb7_o.png" alt="image.png"><br> </p> 
<h4><a id="222__147"></a>2.2.2 参数个数不同</h4> 
<pre><code class="prism language-cpp"><span class="token comment">// 2、参数个数不同</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token comment">//展开std</span>
<span class="token keyword">void</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"f()"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"f(int a)"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//调用的是没有参数的f函数</span>
	<span class="token function">f</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//调用的是有参数f函数</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>运行结果：<br><img src="https://images2.imgbox.com/3a/85/I6M6AAwp_o.png" alt="image.png"><br> </p> 
<h4><a id="223__169"></a>2.2.3 参数类型顺序不同</h4> 
<pre><code class="prism language-cpp"><span class="token comment">// 3、参数类型顺序不同</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token comment">//展开std</span>
<span class="token keyword">void</span>  <span class="token function">f1</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">double</span> b<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"f1(int a, double b)"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span>  <span class="token function">f1</span><span class="token punctuation">(</span><span class="token keyword">double</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span>  b<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"f1(double a, int  b)"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">f1</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">f1</span><span class="token punctuation">(</span><span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>运行结果：<br><img src="https://images2.imgbox.com/b2/68/yhHkZqTS_o.png" alt="image.png"><br> </p> 
<h4><a id="224__191"></a>2.2.4 函数构成重载但调用歧义</h4> 
<pre><code class="prism language-cpp"><span class="token comment">// 下⾯两个函数构成重载，但是f()调⽤时，会报错，存在歧义，编译器不知道调⽤谁</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token comment">//展开std</span>
<span class="token keyword">void</span> <span class="token function">f3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"f()"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">f3</span><span class="token punctuation">(</span><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token comment">//缺省参数</span>
<span class="token punctuation">{<!-- --></span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"f(int a)"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">f3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//error函数调用看的是行参，与缺省参数没有关系！因此发生歧义！！！</span>
	<span class="token function">f3</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//给了参数就明确说明是要调用第二个函数</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>错误列表：<br><img src="https://images2.imgbox.com/af/58/4ii9RBa0_o.png" alt="image.png"><br>无参调用时，就没有办法进行区分了，因此不要写无参数函数和全缺省函数重载！！！最好的解决办法就是使用域隔离，<strong>此时两者没有在同一个作用域里，不再是函数重载了。</strong><br> </p> 
<h4><a id="225__213"></a>2.2.5 返回值不同不构成重载</h4> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token comment">//展开std</span>
<span class="token comment">//返回值不同不能作为重载条件，因为调用时也⽆法区分</span>
<span class="token keyword">void</span> <span class="token function">fxx</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">fxx</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>假设返回值不同可以构成重载，但是如何判定调用的是有参函数还是无参函数？所以<strong>返回值不同不能作为重载条件，因为调用时也无法区分。</strong><br> </p> 
<h2><a id="_228"></a>三、引用</h2> 
<p></p> 
<h3><a id="31__230"></a>3.1 引用的概念</h3> 
<p>**引用不是新定义一个变量，而是给已存在变量取了一个别名，编译器不会为引用变量开辟内存空间，它和它引用的变量共用同一块内存空间。**其语法形式为：</p> 
<blockquote> 
 <p><strong>类型&amp;引用别名=引用对象;</strong></p> 
</blockquote> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span><span class="token operator">&amp;</span> b <span class="token operator">=</span> a<span class="token punctuation">;</span><span class="token comment">//引⽤：b是a的别名</span>
	<span class="token keyword">int</span><span class="token operator">&amp;</span> c <span class="token operator">=</span> b<span class="token punctuation">;</span><span class="token comment">//也可以给别名b取别名，c相当于还是a的别名</span>

	<span class="token operator">++</span>c<span class="token punctuation">;</span><span class="token comment">//就是++b，也就是++a</span>

	cout <span class="token operator">&lt;&lt;</span> <span class="token operator">&amp;</span>a <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token comment">//&amp;代表取地址</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token operator">&amp;</span>b <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token operator">&amp;</span>c <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	cout <span class="token operator">&lt;&lt;</span> a <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token comment">//&amp;代表取地址</span>
	cout <span class="token operator">&lt;&lt;</span> b <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> c <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>运行结果：<br><img src="https://images2.imgbox.com/7f/7e/EQslWsFj_o.png" alt="image.png"><br> </p> 
<h3><a id="32__258"></a>3.2 引用的特性</h3> 
<p></p> 
<h4><a id="321__260"></a>3.2.1 引用定义时必须初始化</h4> 
<pre><code class="prism language-cpp">	<span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span><span class="token operator">&amp;</span> b <span class="token operator">=</span> a<span class="token punctuation">;</span><span class="token comment">//right，引用b取别名，是a的别名</span>
	<span class="token keyword">int</span><span class="token operator">&amp;</span> rb<span class="token punctuation">;</span><span class="token comment">//error，取别名，但是不知道是谁的别名</span>
</code></pre> 
<p></p> 
<h4><a id="322__267"></a>3.2.2 别名可以取别名</h4> 
<pre><code class="prism language-cpp">	<span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span><span class="token operator">&amp;</span> b <span class="token operator">=</span> a<span class="token punctuation">;</span><span class="token comment">//b是a的别名</span>
	<span class="token keyword">int</span><span class="token operator">&amp;</span> c <span class="token operator">=</span> b<span class="token punctuation">;</span><span class="token comment">//c是别名b的别名</span>
</code></pre> 
<p></p> 
<h4><a id="323__274"></a>3.2.3 一个变量可有多个引用</h4> 
<p>一个变量我们可以起多个别名</p> 
<pre><code class="prism language-cpp"><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token comment">// 引⽤：b和c是a的别名</span>
<span class="token keyword">int</span><span class="token operator">&amp;</span> b <span class="token operator">=</span> a<span class="token punctuation">;</span>
<span class="token keyword">int</span><span class="token operator">&amp;</span> c <span class="token operator">=</span> a<span class="token punctuation">;</span>
</code></pre> 
<p></p> 
<h4><a id="324__283"></a>3.2.4 引用一旦引用一个实体，就不能引用其他实体</h4> 
<p>引用只能给一个变量当别名，不能给多个变量当别名。</p> 
<pre><code class="prism language-cpp">	<span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> m <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span><span class="token operator">&amp;</span> b <span class="token operator">=</span> a<span class="token punctuation">;</span><span class="token comment">//这里b引用了实体a</span>
	<span class="token keyword">int</span><span class="token operator">&amp;</span> b <span class="token operator">=</span> m<span class="token punctuation">;</span><span class="token comment">//error，这里b又引用实体m，error</span>
</code></pre> 
<p></p> 
<h4><a id="325_C_292"></a>3.2.5 C++引用不能改变指向</h4> 
<p><strong>C++的引用不能替代指针！！！</strong></p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span><span class="token operator">&amp;</span> b <span class="token operator">=</span> a<span class="token punctuation">;</span><span class="token comment">//引用b取别名，是a的别名</span>
	<span class="token keyword">int</span> d <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
	b <span class="token operator">=</span> d<span class="token punctuation">;</span><span class="token comment">//这是一个赋值，因为不能改变指向</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"b = %d\n"</span><span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token operator">&amp;</span>a <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token operator">&amp;</span>b <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token operator">&amp;</span>d <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>运行结果：<br><img src="https://images2.imgbox.com/1f/f3/JI1DnpaZ_o.png" alt="image.png"></p> 
<p></p> 
<h3><a id="33__314"></a>3.3 引用的运用</h3> 
<p></p> 
<h4><a id="331__316"></a>3.3.1 作为函数参数</h4> 
<p>引用传参与指针传参功能相似，引用传参减少拷贝效率，改变引用对象，同时也可以改变被引用对象。<br>解决了C语言中行参无法影响实参的问题，也比指针传参相对更加方便。</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token comment">//现在的写法</span>
<span class="token keyword">void</span> <span class="token function">Func</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">&amp;</span> x<span class="token punctuation">)</span><span class="token comment">//引用作为函数参数，x是a的别名</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> m <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
	x <span class="token operator">=</span> m<span class="token punctuation">;</span><span class="token comment">//x被改变，实体a也被改变（引用对象改变了，被引用对象也改变了）</span>
	cout <span class="token operator">&lt;&lt;</span> x <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//以前的写法</span>
<span class="token keyword">void</span> <span class="token function">Func1</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> x<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> m <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
    <span class="token operator">*</span>x <span class="token operator">=</span> m<span class="token punctuation">;</span>
 	cout <span class="token operator">&lt;&lt;</span> x <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>   
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
	<span class="token function">Func</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//Func1(&amp;a);</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>运行结果：<br><img src="https://images2.imgbox.com/d9/9a/FIpx2OCB_o.png" alt="image.png"><br>举个例子：引用可以不通过指针（地址），就可以作为函数参数，改变实参。</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token comment">//C语言中指针类型的Swap函数</span>
<span class="token keyword">void</span> <span class="token function">Swap1</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">*</span> b<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> tmp <span class="token operator">=</span> <span class="token operator">*</span>a<span class="token punctuation">;</span>
	<span class="token operator">*</span>a <span class="token operator">=</span> <span class="token operator">*</span>b<span class="token punctuation">;</span>
	<span class="token operator">*</span>b <span class="token operator">=</span> tmp<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//C++中引用形式的Swap函数</span>
<span class="token keyword">void</span> <span class="token function">Swap2</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">&amp;</span> rx<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> ry<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> tmp <span class="token operator">=</span> rx<span class="token punctuation">;</span>
	rx <span class="token operator">=</span> ry<span class="token punctuation">;</span>
	ry <span class="token operator">=</span> tmp<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
	<span class="token function">Swap1</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>x<span class="token punctuation">,</span> <span class="token operator">&amp;</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">.</span><span class="token punctuation">.</span>是用来指针
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"x = "</span> <span class="token operator">&lt;&lt;</span> x <span class="token operator">&lt;&lt;</span> <span class="token string">","</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"y = "</span> <span class="token operator">&lt;&lt;</span> y <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	<span class="token keyword">int</span> m <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">,</span> n <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span>
	<span class="token function">Swap2</span><span class="token punctuation">(</span>m<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//没有使用指针</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"m = "</span><span class="token operator">&lt;&lt;</span> m <span class="token operator">&lt;&lt;</span> <span class="token string">","</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"n = "</span> <span class="token operator">&lt;&lt;</span> n <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//分析：在Swap2函数中，rx和ry分别是m和n的别名，用的是同一块空间，</span>
<span class="token comment">//因此rx和ry改变就相当于m和n的改变</span>
</code></pre> 
<p>运行结果：<br><img src="https://images2.imgbox.com/c8/02/iUZEWbXG_o.png" alt="image.png"><br> </p> 
<h4><a id="332__377"></a>3.3.2 作为函数返回值</h4> 
<p>引用作为返回值的场景相对复杂，可以减少拷贝效率，改变引用对象，同时也可以改变被引用对象。这里简单一提，类和对象中深入讨论。<br><img src="https://images2.imgbox.com/f7/10/AZCBBQ5N_o.png" alt="image.png">？？？<br>错误示范：</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">int</span><span class="token operator">&amp;</span> <span class="token function">Func</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> a<span class="token punctuation">;</span><span class="token comment">//返回后，函数栈桢被销毁，返回引用，相当于返回一个野指针</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>前两条总结：<strong>引用传参和引用做返回值中 1. 减少拷贝提高效率；2. 改变引用对象时；3.改变被</strong><br><strong>引用对象。</strong><br> </p> 
<h3><a id="34__390"></a>3.4 引用和指针的区别</h3> 
<ol><li>语法上：引用是给变量取别名，不开空间，它和它引用的对象是同一个空间。指针是存储一个变量的地址，需要开空间。</li><li>初始化：引用在定义的时候需要初始化，指针定义的时候为了避免野指针，建议初始化。</li><li>对象改变：引用在初始化时引用一个对象后，就不能再引用其他对象；指针可以不断地改变指向的对象。</li><li>访问对象：引用可以直接访问对象，指针需要解引用才能访问对象。</li></ol> 
<pre><code class="prism language-cpp">
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span><span class="token operator">*</span> p <span class="token operator">=</span> <span class="token operator">&amp;</span>a<span class="token punctuation">;</span>
	<span class="token operator">*</span>p <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">//指针需要解引用才能访问对象</span>

	<span class="token keyword">int</span><span class="token operator">&amp;</span> ra <span class="token operator">=</span> a<span class="token punctuation">;</span> 
	ra <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span><span class="token comment">//引用可以直接访问对象</span>

	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<ol start="5"><li>安全性：指针容易出现空指针野指针，引用相对安全些。</li><li>sizeof中含义不同：引用结果为引用类型的大小；指针始终是地址空间所占字节数（32位平台下4Byte，64位平台下8Byte）</li><li><strong>引用的安全是相对安全。</strong></li></ol> 
<pre><code class="prism language-cpp"><span class="token comment">//错误引用</span>
<span class="token keyword">int</span><span class="token operator">&amp;</span> <span class="token function">Func</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> 
    <span class="token keyword">return</span> a<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token comment">//返回一个类似野指针的东西，相当于是空引用</span>
</code></pre> 
<ol start="8"><li><strong>间接的一个空引用。</strong></li></ol> 
<pre><code class="prism language-cpp"><span class="token keyword">int</span><span class="token operator">*</span> ptr <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token comment">//地址是0</span>
<span class="token keyword">int</span><span class="token operator">&amp;</span> rb <span class="token operator">=</span> <span class="token operator">*</span>ptr<span class="token punctuation">;</span>
<span class="token comment">//rb++;//error,程序异常结束，这里相当于空引用</span>
</code></pre> 
<ol start="9"><li><strong>转到反汇编</strong>：这里是内存，访问内存时<img src="https://images2.imgbox.com/d5/2d/2Ixk8a0f_o.png" alt="image.png">？？？不懂的指令：百度</li></ol> 
<p>嵌入式驱动开发比较要求底层像汇编之类的。<br><img src="https://images2.imgbox.com/0d/54/YoYOvRqH_o.png" alt="image.png"><br> </p> 
<h2><a id="const_436"></a>四、const引用</h2> 
<p></p> 
<h3><a id="41_const_438"></a>4.1 const引用示范及权限变化</h3> 
<ol><li>由const修饰的对象不能像普通对象那样直接引用，需要使用const进行引用。</li><li>const引用的权限变化：<strong>有权限平移、权限缩小，但是不能权限放大。</strong></li><li><strong>const引用可以给常量取别名。</strong></li><li>临时对象：编译器需要⼀个空间暂存表达式的求值结果，这个空间就是临时创建的⼀个未命名的对象的空间。C++中把这个未命名对象叫做临时对象，并规定临时对象具有常性。</li><li><strong>表达式被存放在临时变量中，对临时对象引用取别名需要const修饰。</strong></li></ol> 
<pre><code class="prism language-cpp"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">const</span> <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span><span class="token operator">&amp;</span> ra <span class="token operator">=</span> a<span class="token punctuation">;</span>        <span class="token comment">//error，权限放大</span>

	<span class="token keyword">const</span> <span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
	<span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> rb <span class="token operator">=</span> b<span class="token punctuation">;</span>  <span class="token comment">//right,权限平移</span>

	<span class="token keyword">int</span> c <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span>
	<span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> rc <span class="token operator">=</span> c<span class="token punctuation">;</span>  <span class="token comment">//right,权限缩小</span>
	<span class="token operator">++</span>c<span class="token punctuation">;</span>                <span class="token comment">//right</span>
	<span class="token operator">++</span>rc<span class="token punctuation">;</span>               <span class="token comment">//error，c和rc是同一个地址不同的权限</span>

	<span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> rd <span class="token operator">=</span> <span class="token number">40</span><span class="token punctuation">;</span> <span class="token comment">//right,const引用可以给常量取别名</span>

	<span class="token keyword">int</span><span class="token operator">&amp;</span> re <span class="token operator">=</span> <span class="token punctuation">(</span>a <span class="token operator">+</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//error，C++规定临时对象具有常性，这里，权限放大，const修饰即可</span>
	<span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> rf <span class="token operator">=</span> <span class="token punctuation">(</span>a <span class="token operator">+</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//right</span>
    <span class="token keyword">int</span> rg <span class="token operator">=</span> <span class="token punctuation">(</span>a <span class="token operator">+</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//拷贝，不存在权限放大</span>
    <span class="token comment">//a+b被存放在临时对象中，对临时对象引用取别名需要const修饰</span>
    
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p></p> 
<h3><a id="42__470"></a>4.2 权限放大和赋值的区别</h3> 
<p><strong>权限放大和缩小在指针和引用中才会有，复制拷贝并没有权限变化。</strong></p> 
<pre><code class="prism language-cpp"><span class="token keyword">const</span> <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>   <span class="token comment">//a:只读</span>
<span class="token keyword">int</span><span class="token operator">&amp;</span>  ra <span class="token operator">=</span> a<span class="token punctuation">;</span><span class="token comment">//error，ra可读可写，权限放大</span>

<span class="token keyword">const</span> <span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span><span class="token comment">//b只读</span>
<span class="token keyword">int</span> rb <span class="token operator">=</span> b<span class="token punctuation">;</span>  <span class="token comment">//right，rb赋值拷贝，可读可写</span>
<span class="token comment">//权限放大和缩小在指针和引用中才会有</span>
</code></pre> 
<p></p> 
<h3><a id="43_481"></a>4.3临时对象的产生</h3> 
<p></p> 
<h4><a id="431__483"></a>4.3.1 表达式结果产生临时对象</h4> 
<p>分析：a+b表达式的结果被存放在临时对象中，rf引用的对象是这个临时对象，但是临时对象具有常性，因此需要const修饰。</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> rf <span class="token operator">=</span> <span class="token punctuation">(</span>a <span class="token operator">+</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//right,</span>
    <span class="token comment">//a+b表达式的结果被存放在临时对象中，rf引用的对象是这个临时对象</span>
    <span class="token comment">//但是临时对象具有常性，因此需要const修饰</span>
    
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> 
<p></p> 
<h4><a id="432_const_501"></a>4.3.2 隐式类型转换成临时对象（const修饰引用临时对象）</h4> 
<p>分析：rii 也是同理，引用的是临时对象，需要const修饰。</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">double</span> d <span class="token operator">=</span> <span class="token number">12.34</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> i <span class="token operator">=</span> d<span class="token punctuation">;</span><span class="token comment">//这里是通过了隐式类型转换，中间产生一个int临时对象存储d，i=12</span>
	<span class="token keyword">int</span><span class="token operator">&amp;</span> ri <span class="token operator">=</span> d<span class="token punctuation">;</span>          <span class="token comment">//error</span>
	<span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> rii <span class="token operator">=</span> d<span class="token punctuation">;</span>   <span class="token comment">//right，rii引用d，实际是引用的d的临时对象i</span>

	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p></p> 
<h4><a id="433__517"></a>4.3.3 提升、转换等会产生临时对象</h4> 
<p></p> 
<h3><a id="44_const_519"></a>4.4 const引用总结</h3> 
<p><strong>const引用总结：可以引用const修饰的对象、也可以引用普通对象、还可以引用临时对象。临时对象的生命周期就与引用有关系，引用销毁，临时对象才会销毁。它的价值主要体现在函数传参里面。</strong><br> 喜欢的uu记得三连支持一下哦!<br> <img src="https://images2.imgbox.com/1d/2d/R3cvpvTn_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/965b3d2fe5247204594096df5b9d7dcb/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">MMII 的多模态医学图像交互框架：更直观地理解人体解剖结构和疾病</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b0f48f1c79895a174ba30e5815c94330/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">基于Eclipse&#43;Mysql&#43;SSM开发的Eshop在线购物网站</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>