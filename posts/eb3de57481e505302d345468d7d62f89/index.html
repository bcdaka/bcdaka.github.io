<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>C# Onnx Yolov5 水果识别，人员识别，物品识别 人工智能 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/eb3de57481e505302d345468d7d62f89/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="C# Onnx Yolov5 水果识别，人员识别，物品识别 人工智能">
  <meta property="og:description" content="目录
先上效果
来电废话，但实用
网络成功案例实践易失败的原因
万物检测涉及技术
下载合集
关键代码
全部代码
实操vs2022安装关键
YOLO V5核心库编译
编写自己识别软件
更新相关依赖
标注字库文件
测试效果
名词解释YOLO
名词解释ONNX
源码
直播教学和作者
先上效果 来电废话，但实用 为何照做网络成功案例仍失败？软件与男女关系的启示 在网络上看到的成功案例，往往只是呈现了表面的步骤和结果，而忽略了背后诸多复杂的细节和潜在的问题。
就像您提到的软件相关的情况，看似简单的操作，实际上涉及众多组件，版本的不匹配就如同齿轮无法精准咬合，导致整个系统无法顺畅运转。无法下载所需组件更是直接阻断了操作的进行，而系统对某些版本的不兼容，以及某些版本资源的稀缺，都使得我们难以完全复刻所谓的成功。
再以男女关系为例，两个优秀的个体并不意味着就能组成完美的组合。就如同不同规格的零件，尽管各自品质上乘，但如果规格不匹配，强行组合在一起，不仅无法发挥优势，还可能产生冲突和矛盾
网络成功案例实践易失败的原因 A.软件组件复杂
看似简单，实则涉及众多组件。各个版本不匹配，影响正常使用。
B.组件下载受限
部分组件无法下载。
C系统与版本不兼容
某些系统无法安装特定版本。部分版本已无法获取。
万物检测涉及技术 序号软件和技术版本说明1visual studio2022 社区版安装单个必须勾选net5.02Microsoft.ML.Onnx.1.16.2 Microsoft.ML.OnnxRuntime.dll
onnxruntime.dll
3OpenCvSharp4.8安装方式nuget，或者库文件4 SixLabors.Fonts
SixLabors.ImageSharp.Drawing
SixLabors.ImageSharp
1.1
1.0
2.18
5net 架构net5.0net4.7,net4.5,net 4.8 都不行6yolov5n6.onnx模型文件源码自带7yolov58 labelimg1.8labelimg是一款开源的图像标注工具，标签可用于分类和目标检测，它是用python写的 下载合集 1.yovo v5
人工智能神经/yolov5-net
2. visual studio 2022下载
Visual Studio 2022 IDE - 适用于软件开发人员的编程工具
3. onnx C#
https://github.com/microsoft/onnxruntime/releases
5. labelimg 下载">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-06-23T02:45:36+08:00">
    <meta property="article:modified_time" content="2024-06-23T02:45:36+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">C# Onnx Yolov5 水果识别，人员识别，物品识别 人工智能</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="%E5%85%88%E4%B8%8A%E6%95%88%E6%9E%9C-toc" style="margin-left:0px;"><a href="#%E5%85%88%E4%B8%8A%E6%95%88%E6%9E%9C" rel="nofollow">先上效果</a></p> 
<p id="%E6%9D%A5%E7%94%B5%E5%BA%9F%E8%AF%9D%EF%BC%8C%E4%BD%86%E5%AE%9E%E7%94%A8-toc" style="margin-left:0px;"><a href="#%E6%9D%A5%E7%94%B5%E5%BA%9F%E8%AF%9D%EF%BC%8C%E4%BD%86%E5%AE%9E%E7%94%A8" rel="nofollow">来电废话，但实用</a></p> 
<p id="%E7%BD%91%E7%BB%9C%E6%88%90%E5%8A%9F%E6%A1%88%E4%BE%8B%E5%AE%9E%E8%B7%B5%E6%98%93%E5%A4%B1%E8%B4%A5%E7%9A%84%E5%8E%9F%E5%9B%A0-toc" style="margin-left:0px;"><a href="#%E7%BD%91%E7%BB%9C%E6%88%90%E5%8A%9F%E6%A1%88%E4%BE%8B%E5%AE%9E%E8%B7%B5%E6%98%93%E5%A4%B1%E8%B4%A5%E7%9A%84%E5%8E%9F%E5%9B%A0" rel="nofollow">网络成功案例实践易失败的原因</a></p> 
<p id="%E4%B8%87%E7%89%A9%E6%A3%80%E6%B5%8B%E6%B6%89%E5%8F%8A%E6%8A%80%E6%9C%AF-toc" style="margin-left:0px;"><a href="#%E4%B8%87%E7%89%A9%E6%A3%80%E6%B5%8B%E6%B6%89%E5%8F%8A%E6%8A%80%E6%9C%AF" rel="nofollow">万物检测涉及技术</a></p> 
<p id="%C2%A0%E4%B8%8B%E8%BD%BD%E5%90%88%E9%9B%86-toc" style="margin-left:0px;"><a href="#%C2%A0%E4%B8%8B%E8%BD%BD%E5%90%88%E9%9B%86" rel="nofollow"> 下载合集</a></p> 
<p id="%E5%85%B3%E9%94%AE%E4%BB%A3%E7%A0%81-toc" style="margin-left:0px;"><a href="#%E5%85%B3%E9%94%AE%E4%BB%A3%E7%A0%81" rel="nofollow">关键代码</a></p> 
<p id="%E5%85%A8%E9%83%A8%E4%BB%A3%E7%A0%81-toc" style="margin-left:0px;"><a href="#%E5%85%A8%E9%83%A8%E4%BB%A3%E7%A0%81" rel="nofollow">全部代码</a></p> 
<p id="%E5%AE%9E%E6%93%8Dvs2022%E5%AE%89%E8%A3%85%E5%85%B3%E9%94%AE-toc" style="margin-left:0px;"><a href="#%E5%AE%9E%E6%93%8Dvs2022%E5%AE%89%E8%A3%85%E5%85%B3%E9%94%AE" rel="nofollow">实操vs2022安装关键</a></p> 
<p id="YOLO%20V5%E6%A0%B8%E5%BF%83%E5%BA%93%E7%BC%96%E8%AF%91-toc" style="margin-left:0px;"><a href="#YOLO%20V5%E6%A0%B8%E5%BF%83%E5%BA%93%E7%BC%96%E8%AF%91" rel="nofollow">YOLO V5核心库编译</a></p> 
<p id="%E7%BC%96%E5%86%99%E8%87%AA%E5%B7%B1%E8%AF%86%E5%88%AB%E8%BD%AF%E4%BB%B6-toc" style="margin-left:0px;"><a href="#%E7%BC%96%E5%86%99%E8%87%AA%E5%B7%B1%E8%AF%86%E5%88%AB%E8%BD%AF%E4%BB%B6" rel="nofollow">编写自己识别软件</a></p> 
<p id="%E6%9B%B4%E6%96%B0%E7%9B%B8%E5%85%B3%E4%BE%9D%E8%B5%96-toc" style="margin-left:0px;"><a href="#%E6%9B%B4%E6%96%B0%E7%9B%B8%E5%85%B3%E4%BE%9D%E8%B5%96" rel="nofollow">更新相关依赖</a></p> 
<p id="%E6%A0%87%E6%B3%A8%E5%AD%97%E5%BA%93%E6%96%87%E4%BB%B6-toc" style="margin-left:0px;"><a href="#%E6%A0%87%E6%B3%A8%E5%AD%97%E5%BA%93%E6%96%87%E4%BB%B6" rel="nofollow">标注字库文件</a></p> 
<p id="%E6%B5%8B%E8%AF%95%E6%95%88%E6%9E%9C-toc" style="margin-left:0px;"><a href="#%E6%B5%8B%E8%AF%95%E6%95%88%E6%9E%9C" rel="nofollow">测试效果</a></p> 
<p id="%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8AYOLO-toc" style="margin-left:0px;"><a href="#%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8AYOLO" rel="nofollow">名词解释YOLO</a></p> 
<p id="%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8AONNX-toc" style="margin-left:0px;"><a href="#%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8AONNX" rel="nofollow">名词解释ONNX</a></p> 
<p id="%E6%BA%90%E7%A0%81-toc" style="margin-left:0px;"><a href="#%E6%BA%90%E7%A0%81" rel="nofollow">源码</a></p> 
<p id="%E7%9B%B4%E6%92%AD%E6%95%99%E5%AD%A6%E4%BD%9C%E8%80%85-toc" style="margin-left:0px;"><a href="#%E7%9B%B4%E6%92%AD%E6%95%99%E5%AD%A6%E4%BD%9C%E8%80%85" rel="nofollow">直播教学和作者</a></p> 
<hr id="hr-toc"> 
<p></p> 
<p></p> 
<h2 id="%E5%85%88%E4%B8%8A%E6%95%88%E6%9E%9C">先上效果</h2> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/96/95/eIlK7x4d_o.jpg"></p> 
<h2 id="%E6%9D%A5%E7%94%B5%E5%BA%9F%E8%AF%9D%EF%BC%8C%E4%BD%86%E5%AE%9E%E7%94%A8">来电废话，但实用</h2> 
<p><strong>为何照做网络成功案例仍失败？软件与男女关系的启示 </strong></p> 
<p>在网络上看到的成功案例，往往只是呈现了表面的步骤和结果，而忽略了背后诸多复杂的细节和潜在的问题。<br> 就像您提到的软件相关的情况，看似简单的操作，实际上涉及众多组件，版本的不匹配就如同齿轮无法精准咬合，导致整个系统无法顺畅运转。无法下载所需组件更是直接阻断了操作的进行，而系统对某些版本的不兼容，以及某些版本资源的稀缺，都使得我们难以完全复刻所谓的成功。<br> 再以男女关系为例，两个优秀的个体并不意味着就能组成完美的组合。就如同不同规格的零件，尽管各自品质上乘，但如果规格不匹配，强行组合在一起，不仅无法发挥优势，还可能产生冲突和矛盾</p> 
<h2 id="%E7%BD%91%E7%BB%9C%E6%88%90%E5%8A%9F%E6%A1%88%E4%BE%8B%E5%AE%9E%E8%B7%B5%E6%98%93%E5%A4%B1%E8%B4%A5%E7%9A%84%E5%8E%9F%E5%9B%A0">网络成功案例实践易失败的原因</h2> 
<p>A.软件组件复杂<br>    看似简单，实则涉及众多组件。各个版本不匹配，影响正常使用。<br> B.组件下载受限<br>      部分组件无法下载。<br> C系统与版本不兼容<br>   某些系统无法安装特定版本。部分版本已无法获取。</p> 
<p></p> 
<h2 id="%E4%B8%87%E7%89%A9%E6%A3%80%E6%B5%8B%E6%B6%89%E5%8F%8A%E6%8A%80%E6%9C%AF">万物检测涉及技术</h2> 
<table border="1" cellpadding="1" cellspacing="1" style="width:561px;"><tbody><tr><td style="width:44px;">序号</td><td style="width:131px;">软件和技术</td><td style="width:107px;">版本</td><td colspan="2" rowspan="1" style="width:194px;">说明</td></tr><tr><td style="width:44px;">1</td><td style="width:131px;">visual studio</td><td style="width:107px;">2022 社区版</td><td colspan="2" rowspan="1" style="width:194px;">安装单个必须勾选net5.0</td></tr><tr><td style="width:44px;">2</td><td style="width:131px;">Microsoft.ML.Onnx.</td><td style="width:107px;">1.16.2</td><td colspan="2" rowspan="1" style="width:194px;"> <p>Microsoft.ML.OnnxRuntime.dll</p> <p>onnxruntime.dll</p> </td></tr><tr><td style="width:44px;">3</td><td style="width:131px;">OpenCvSharp</td><td style="width:107px;">4.8</td><td colspan="2" rowspan="1" style="width:194px;">安装方式nuget，或者库文件</td></tr><tr><td style="width:44px;">4</td><td style="width:131px;"> <p>SixLabors.Fonts</p> <p>SixLabors.ImageSharp.Drawing</p> <p>SixLabors.ImageSharp</p> </td><td style="width:107px;"> <p>1.1</p> <p>1.0</p> <p>2.18</p> </td><td colspan="2" rowspan="1" style="width:194px;"></td></tr><tr><td style="width:44px;">5</td><td style="width:131px;">net 架构</td><td style="width:107px;">net5.0</td><td colspan="2" style="width:194px;">net4.7,net4.5,net 4.8 都不行</td></tr><tr><td style="width:44px;">6</td><td style="width:131px;">yolov5n6.onnx</td><td style="width:107px;">模型文件</td><td colspan="2" style="width:194px;">源码自带</td></tr><tr><td style="width:44px;">7</td><td style="width:131px;">yolo</td><td style="width:107px;">v5</td><td colspan="2" style="width:194px;"></td></tr><tr><td style="width:44px;">8</td><td style="width:131px;"> labelimg</td><td style="width:107px;">1.8</td><td colspan="2" style="width:194px;">labelimg是一款开源的图像标注工具，标签可用于分类和目标检测，它是用python写的</td></tr></tbody></table> 
<h2 id="%C2%A0%E4%B8%8B%E8%BD%BD%E5%90%88%E9%9B%86"> 下载合集</h2> 
<p>1.yovo v5</p> 
<p><a href="https://gitee.com/artificial-intelligence_8/yolov5-net" rel="nofollow" title="人工智能神经/yolov5-net">人工智能神经/yolov5-net</a></p> 
<p>2. visual studio 2022下载</p> 
<p><a href="https://visualstudio.microsoft.com/zh-hans/vs/" rel="nofollow" title="Visual Studio 2022 IDE - 适用于软件开发人员的编程工具">Visual Studio 2022 IDE - 适用于软件开发人员的编程工具</a></p> 
<p>3. onnx C#</p> 
<p><a href="https://github.com/microsoft/onnxruntime/releases" title="https://github.com/microsoft/onnxruntime/releases">https://github.com/microsoft/onnxruntime/releases</a></p> 
<p>5. labelimg 下载</p> 
<p><a href="http://app.ynwlzc.net/" rel="nofollow" title="未来之窗新零售app应用市场">未来之窗新零售app应用市场</a></p> 
<p>进入搜索下载</p> 
<h2 id="%E5%85%B3%E9%94%AE%E4%BB%A3%E7%A0%81">关键代码</h2> 
<pre><code class="hljs">  private void button2_Click(object sender, EventArgs e)
  {
      文识别到数量 = 0;
      listBox1.Items.Clear();
      string 原始路径 = 文件列表[文件序号];
      string 目标路径 = Application.StartupPath + "/result未来之窗/" + System.IO.Path.GetFileName(原始路径) + "_airet" + System.IO.Path.GetExtension(原始路径); ;


      //  var image =   SixLabors.ImageSharp.Image.LoadAsync&lt;Rgba32&gt;(原始路径);
      //SixLabors.ImageSharp.Image
      SixLabors.ImageSharp.Image&lt;Rgba32&gt; 未来之窗img = SixLabors.ImageSharp.Image.Load&lt;Rgba32&gt;(原始路径);

      var scorer = new YoloScorer&lt;YoloCocoP5Model&gt;("Assets/Weights/yolov5n.onnx");

      //   var predictions = scorer.Predict(image);
      var predictions = scorer.Predict(未来之窗img);

      var font = new SixLabors.Fonts.Font(new SixLabors.Fonts.FontCollection().Add("C:/Windows/Fonts/consola.ttf"), 16);

      foreach (var prediction in predictions) // draw predictions
      {
          var score = Math.Round(prediction.Score, 2);

          var (x, y) = (prediction.Rectangle.Left - 3, prediction.Rectangle.Top - 23);

          // image.Mutate(a =&gt; a.DrawPolygon(new SixLabors.ImageSharp.Drawing.Processing.Pen(prediction.Label.Color, 1),
          //  未来之窗img.Mutate(a =&gt; a.DrawPolygon(new SixLabors.ImageSharp.Drawing.Processing.Pen(prediction.Label.Color, 1),

          //           new SixLabors.ImageSharp.PointF(prediction.Rectangle.Left, prediction.Rectangle.Top),
          //       new SixLabors.ImageSharp.PointF(prediction.Rectangle.Right, prediction.Rectangle.Top),
          //     new SixLabors.ImageSharp.PointF(prediction.Rectangle.Right, prediction.Rectangle.Bottom),
          //     new SixLabors.ImageSharp.PointF(prediction.Rectangle.Left, prediction.Rectangle.Bottom)
          //  ));

          //  未来之窗img.Mutate(a =&gt; a.DrawText($"{prediction.Label.Name} ({score})",
          //     font, prediction.Label.Color, new SixLabors.ImageSharp.PointF(x, y)));

          PointF[] 未来之窗point = new PointF[4];
          未来之窗point[0] = new PointF(prediction.Rectangle.Left, prediction.Rectangle.Top);
          未来之窗point[1] = new PointF(prediction.Rectangle.Right, prediction.Rectangle.Top);
          未来之窗point[2] = new PointF(prediction.Rectangle.Right, prediction.Rectangle.Bottom);
          未来之窗point[3] = new PointF(prediction.Rectangle.Left, prediction.Rectangle.Bottom);

          未来之窗img.Mutate(a =&gt; a.DrawPolygon(new Pen(prediction.Label.Color, 2), 未来之窗point)


              );

          未来之窗img.Mutate(a =&gt; a.DrawText($"{prediction.Label.Name} ({score})",
                font, prediction.Label.Color, new SixLabors.ImageSharp.PointF(x, y)));

          文识别到数量 = 文识别到数量 + 1;

          listBox1.Items.Add(文识别到数量+"：" + prediction.Label.Name);
          lab_识别结果.Text = 文识别到数量 + "个";

      }

      // await image.SaveAsync("Assets/result.jpg");

      //image.SaveAsync(目标路径);
      未来之窗img.SaveAsync(目标路径);

      pictureBox2.Image = System.Drawing.Image.FromFile(目标路径);
  }</code></pre> 
<h2 id="%E5%85%A8%E9%83%A8%E4%BB%A3%E7%A0%81">全部代码</h2> 
<pre><code class="hljs">using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
//using System.Drawing;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.Windows.Forms;

using System.IO;

using Microsoft.ML.OnnxRuntime;
using Microsoft.ML.OnnxRuntime.Tensors;
using OpenCvSharp;



using SixLabors.ImageSharp;
using SixLabors.ImageSharp.Processing;
using SixLabors.ImageSharp.PixelFormats;
using SixLabors.ImageSharp.Drawing;

using SixLabors.Fonts;
using SixLabors.ImageSharp;
using SixLabors.ImageSharp.Drawing.Processing;
using SixLabors.ImageSharp.PixelFormats;
using SixLabors.ImageSharp.Processing;

using Yolov5Net.Scorer;
using Yolov5Net.Scorer.Models;

namespace WinFormsApp1trytrty
{
    public partial class Form1 : Form
    {
        private string[] 文件列表;
        private int 文件序号 = 0;


        private int 文识别到数量 = 0;

        public Form1()
        {
            InitializeComponent();
        }

        private void button1_Click(object sender, EventArgs e)
        {
            //文件列表
            if (folderBrowserDialog1.ShowDialog() == DialogResult.OK)
            {
                txt_文件夹路径.Text = folderBrowserDialog1.SelectedPath;


                列举文件(folderBrowserDialog1.SelectedPath);

                未来之窗_人工智能_显示图片();
            }
        }


        private void 未来之窗_人工智能_显示图片()
        {
            if (文件序号 &lt; 文件列表.Length &amp;&amp; 文件序号 &gt;= 0)
            {
                pictureBox1.Image = System.Drawing.Image.FromFile(文件列表[文件序号]);
            }

        }

        private void 列举文件(String 路径)
        {

            string fileFormat = "*.jpg";

            // 获取指定格式的文件列表

            // 列举文件
            string[] files = Directory.GetFiles(路径, fileFormat);
            文件列表 = files;

            // 输出文件名称
            foreach (string file in files)
            {
                // Console.WriteLine(file);
                // 获取扩展名
                string extension = System.IO.Path.GetExtension(file);
                // MessageBox.Show(""+ extension);
                if (extension.Equals(".jpg"))
                {
                    //文件列表.
                }

            }
        }

        private void button3_Click(object sender, EventArgs e)
        {
            文件序号 = 0;


            列举文件(txt_文件夹路径.Text);

            未来之窗_人工智能_显示图片();
        }

        private void btn_上一个_Click(object sender, EventArgs e)
        {
            if (文件序号 &lt; 文件列表.Length &amp;&amp; 文件序号 &gt; 0)
            {
                文件序号 = 文件序号 - 1;
                未来之窗_人工智能_显示图片();
            }
        }

        private void btn_下一个_Click(object sender, EventArgs e)
        {

            if (文件序号 &lt; 文件列表.Length - 1)
            {
                文件序号 = 文件序号 + 1;
                未来之窗_人工智能_显示图片();
            }
        }

        private void button2_Click(object sender, EventArgs e)
        {
            文识别到数量 = 0;
            listBox1.Items.Clear();
            string 原始路径 = 文件列表[文件序号];
            string 目标路径 = Application.StartupPath + "/result未来之窗/" + System.IO.Path.GetFileName(原始路径) + "_airet" + System.IO.Path.GetExtension(原始路径); ;


            //  var image =   SixLabors.ImageSharp.Image.LoadAsync&lt;Rgba32&gt;(原始路径);
            //SixLabors.ImageSharp.Image
            SixLabors.ImageSharp.Image&lt;Rgba32&gt; 未来之窗img = SixLabors.ImageSharp.Image.Load&lt;Rgba32&gt;(原始路径);

            var scorer = new YoloScorer&lt;YoloCocoP5Model&gt;("Assets/Weights/yolov5n.onnx");

            //   var predictions = scorer.Predict(image);
            var predictions = scorer.Predict(未来之窗img);

            var font = new SixLabors.Fonts.Font(new SixLabors.Fonts.FontCollection().Add("C:/Windows/Fonts/consola.ttf"), 16);

            foreach (var prediction in predictions) // draw predictions
            {
                var score = Math.Round(prediction.Score, 2);

                var (x, y) = (prediction.Rectangle.Left - 3, prediction.Rectangle.Top - 23);

                // image.Mutate(a =&gt; a.DrawPolygon(new SixLabors.ImageSharp.Drawing.Processing.Pen(prediction.Label.Color, 1),
                //  未来之窗img.Mutate(a =&gt; a.DrawPolygon(new SixLabors.ImageSharp.Drawing.Processing.Pen(prediction.Label.Color, 1),

                //           new SixLabors.ImageSharp.PointF(prediction.Rectangle.Left, prediction.Rectangle.Top),
                //       new SixLabors.ImageSharp.PointF(prediction.Rectangle.Right, prediction.Rectangle.Top),
                //     new SixLabors.ImageSharp.PointF(prediction.Rectangle.Right, prediction.Rectangle.Bottom),
                //     new SixLabors.ImageSharp.PointF(prediction.Rectangle.Left, prediction.Rectangle.Bottom)
                //  ));

                //  未来之窗img.Mutate(a =&gt; a.DrawText($"{prediction.Label.Name} ({score})",
                //     font, prediction.Label.Color, new SixLabors.ImageSharp.PointF(x, y)));

                PointF[] 未来之窗point = new PointF[4];
                未来之窗point[0] = new PointF(prediction.Rectangle.Left, prediction.Rectangle.Top);
                未来之窗point[1] = new PointF(prediction.Rectangle.Right, prediction.Rectangle.Top);
                未来之窗point[2] = new PointF(prediction.Rectangle.Right, prediction.Rectangle.Bottom);
                未来之窗point[3] = new PointF(prediction.Rectangle.Left, prediction.Rectangle.Bottom);

                未来之窗img.Mutate(a =&gt; a.DrawPolygon(new Pen(prediction.Label.Color, 2), 未来之窗point)


                    );

                未来之窗img.Mutate(a =&gt; a.DrawText($"{prediction.Label.Name} ({score})",
                      font, prediction.Label.Color, new SixLabors.ImageSharp.PointF(x, y)));

                文识别到数量 = 文识别到数量 + 1;

                listBox1.Items.Add(文识别到数量+"：" + prediction.Label.Name);
                lab_识别结果.Text = 文识别到数量 + "个";

            }

            // await image.SaveAsync("Assets/result.jpg");

            //image.SaveAsync(目标路径);
            未来之窗img.SaveAsync(目标路径);

            pictureBox2.Image = System.Drawing.Image.FromFile(目标路径);
        }
    }
}
</code></pre> 
<h2 id="%E5%AE%9E%E6%93%8Dvs2022%E5%AE%89%E8%A3%85%E5%85%B3%E9%94%AE">实操vs2022安装关键</h2> 
<p><img alt="" height="631" src="https://images2.imgbox.com/8b/7e/aW3gIlvA_o.png" width="1200"></p> 
<p><img alt="" height="686" src="https://images2.imgbox.com/91/f4/ryJsKwB6_o.png" width="1200"></p> 
<p></p> 
<p><img alt="" height="469" src="https://images2.imgbox.com/e2/59/0wX3z5b0_o.png" width="1200"></p> 
<h2 id="YOLO%20V5%E6%A0%B8%E5%BF%83%E5%BA%93%E7%BC%96%E8%AF%91">YOLO V5核心库编译</h2> 
<p><img alt="" height="327" src="https://images2.imgbox.com/9b/7e/uRdo3TJp_o.png" width="574"></p> 
<p>从未来之窗下载后，直接打开工程文件，编译，会生成</p> 
<p><img alt="" height="293" src="https://images2.imgbox.com/a8/8f/ZdAZTgrK_o.png" width="858"></p> 
<p></p> 
<h2 id="%E7%BC%96%E5%86%99%E8%87%AA%E5%B7%B1%E8%AF%86%E5%88%AB%E8%BD%AF%E4%BB%B6">编写自己识别软件</h2> 
<p>新建net5.0 软件</p> 
<p><img alt="" height="606" src="https://images2.imgbox.com/24/6c/7LSMjptX_o.png" width="1024"></p> 
<p><img alt="" height="490" src="https://images2.imgbox.com/6b/d2/o9SdCUVN_o.png" width="782"></p> 
<p><img alt="" height="659" src="https://images2.imgbox.com/1b/61/bO04DxgJ_o.png" width="994"></p> 
<p>复制未来之窗代码到对应按钮</p> 
<h2 id="%E6%9B%B4%E6%96%B0%E7%9B%B8%E5%85%B3%E4%BE%9D%E8%B5%96">更新相关依赖</h2> 
<p><img alt="" height="571" src="https://images2.imgbox.com/a1/20/cuGZkFdS_o.png" width="616"></p> 
<p><img alt="" height="403" src="https://images2.imgbox.com/a9/31/Fkw6MlLG_o.png" width="1152"></p> 
<p>依赖：OpenCvSharp4.4.8</p> 
<p>Microsoft.ML.OnnxRuntime.1.16.2</p> 
<p>SixLabors.ImageSharp.2.1.8</p> 
<p>SixLabors.ImageSharp.Drawing.1.0.0</p> 
<p>SixLabors.Fonts.1.0.0</p> 
<h2 id="%E6%A0%87%E6%B3%A8%E5%AD%97%E5%BA%93%E6%96%87%E4%BB%B6">标注字库文件</h2> 
<p>consola.ttf 自己网上搜索</p> 
<p>至此全部搞完</p> 
<h2 id="%E6%B5%8B%E8%AF%95%E6%95%88%E6%9E%9C">测试效果</h2> 
<p>水果识别</p> 
<p><img alt="" height="552" src="https://images2.imgbox.com/7b/5f/Jvl8Hj6b_o.png" width="1102"></p> 
<p>人员识别</p> 
<p><img alt="" height="550" src="https://images2.imgbox.com/1e/17/SGg89ecV_o.png" width="1004"></p> 
<p></p> 
<h2 id="%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8AYOLO">名词解释YOLO</h2> 
<p>YOLO（You Only Look Once）是一种基于单个神经网络的目标检测系统，由 Joseph Redmon 和 Ali Farhadi 等人于 2015 年提出。YOLO 算法将目标检测任务转化为一个回归问题，直接在整个图像上使用一个卷积神经网络来预测边界框和类别概率。</p> 
<p></p> 
<p>YOLO 算法的主要步骤包括：</p> 
<p></p> 
<ol><li><strong>图像分割</strong>：将输入图片分割成 S×S 网格。</li><li><strong>网格处理</strong>：每个单元格预测 B 个边界框以及边界框的置信度，同时预测 C 个类别概率值。</li><li><strong>非极大值抑制</strong>：使用非极大值抑制算法去除冗余的边界框，得到最终的检测结果。</li></ol> 
<p></p> 
<p>YOLO 算法具有速度快、能够捕捉目标的全局信息、减少背景误检等优点。但它也存在一些局限性，例如对于小目标或密集目标的检测效果可能较差。</p> 
<p></p> 
<p>YOLO 算法有多个版本，如 YOLOv1、YOLOv2、YOLOv3、YOLOv4 和 YOLOv5 等。每个版本都在性能、准确性和速度等方面进行了改进和优化。</p> 
<p></p> 
<p>在实际应用中，YOLO 算法被广泛用于自动驾驶、智能监控、人脸识别等领域。它为计算机视觉任务提供了一种高效、准确的解决方案。</p> 
<h2 id="%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8AONNX">名词解释ONNX</h2> 
<p>ONNX 的主要目的是实现不同深度学习框架之间的模型互操作性。这意味着，使用一种框架（如 TensorFlow、PyTorch 等）训练的模型，可以轻松转换为 ONNX 格式，并在支持 ONNX 的其他框架或工具中进行部署和推理。</p> 
<p></p> 
<p>以下是 ONNX 技术的一些关键特点和优势：</p> 
<p></p> 
<ol><li>框架互操作性：方便模型在不同框架之间迁移，减少重复开发工作。</li><li>优化和加速：一些推理引擎和硬件平台针对 ONNX 格式进行了优化，能够提高模型的推理速度。</li><li>便于部署：简化了将模型部署到生产环境的过程，尤其是在需要跨多种硬件和软件环境的情况下。</li></ol> 
<h2 id="%E6%BA%90%E7%A0%81">源码</h2> 
<p>全部源码已经放本文章，如果需要下载直接使用</p> 
<p>联系微信 cybersnow</p> 
<p>淘宝链接</p> 
<p><a href="https://ynwlzc.taobao.com/" rel="nofollow" title="首页-未来之窗软件服务-淘宝网">首页-未来之窗软件服务-淘宝网</a></p> 
<p>开发接单</p> 
<h2 id="%E7%9B%B4%E6%92%AD%E6%95%99%E5%AD%A6%E4%BD%9C%E8%80%85" style="background-color:transparent;">直播教学和作者</h2> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/70/57/5gI1NYjA_o.jpg" width="1125"></p> 
<p></p> 
<p></p> 
<p> </p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/73746c9cc8c71eb46f304ce01dfc3929/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">项目介绍与需求分析</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/66949c23098989da181620341da6df74/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">什么是dB？dBm、dBc、dBi、dBd怎么计算，有什么区别？</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>