<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Python对职业人群体检数据进行分析与可视化（附源码 超详细） - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/d875d18a4a76611d20228c8cb24e0fc3/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="Python对职业人群体检数据进行分析与可视化（附源码 超详细）">
  <meta property="og:description" content="需要源码和数据集请点赞关注收藏后评论区留言私信~~~
职业人群体检数据分析 有的职业危害因素会对人体血液等系统产生影响。下面针对一次职业人群体检的部分数据进行分析
实现步骤如下
1：导入模块
2：获取数据
导入待处理数据testdata.xls并显示前五行
3：分析数据
首先查看数据类型 表结构 并统计各个字段空缺值的个数
接下来删除全为空的列以及身份证号为空的数据
删除全为空的列
DataFrame.dropna(axis=0, how=&#39;any&#39;, thresh=None, subset=None, inplace=False)
函数作用：删除含有空值的行或列¶
axis:维度，axis=0表示index行,axis=1表示columns列，默认为0
how:&#34;all&#34;表示这一行或列中的元素全部缺失（为nan）才删除这一行或列，&#34;any&#34;表示这一行或列中只要有元素缺失，就删除这一行或列
thresh:一行或一列中至少出现了thresh个才删除。
subset：在某些列的子集中选择出现了缺失值的列删除，不在子集中的含有缺失值得列或行不会删除（有axis决定是行还是列）
inplace：刷选过缺失值得新数据是存为副本还是直接在原数据上进行修改
删除身份证号为空的数据
将“开始从事某工作年份”规范为4位数字年份，如“2018”，并将列名修改为“参加工作时间
增加列“工龄”（体检年份-参加工作时间）和“年龄”（体检时间-出生年份）两列
查看待处理是否有缺失值 然后删除所有缺失值 然后可以看到参加工作时间之一列的缺失值已经删除，同时也看到体检年份还有38个缺失值 也进行删除
身份证号，参加工作时间以及体检年份的数据类型都是object，需要进行类型转换，统一转化为int64类型，另外，体检年份这一列有很多异常数据，很多年份后都有年字，对体检年份数据进行时间提取
增加工龄和年龄这两列
统计不同性别的白细胞计数均值 并画出柱状图
统计不同年龄段的白细胞计数，并画出柱状图，年龄段划分为：小于或等于30岁，31-40岁，41-50岁以及大于50岁4个
经过上面这一系列工作，可以很清楚的看出数据的一些分布特征 有助于后续的解决方案
代码 部分代码如下 需要全部代码请点赞关注收藏后评论区留言私信~~~
import pandas as pd import numpy as np import matplotlib.pyplot as plt plt.rcParams[&#39;font.sans-serif&#39;] = [&#39;SimHei&#39;] #用来正常显示中文标签 plt.rcParams[&#39;axes.unicode_minus&#39;]=False #用来正常显示负号 %matplotlib inline df = pd.read_excel(&#34;testdata.xls&#34;)#这个会直接默认读取到这个Excel的第一个表单 data =df.head()#默认读取前5行的数据 data df.info() df.dtypes df.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2023-01-18T18:23:56+08:00">
    <meta property="article:modified_time" content="2023-01-18T18:23:56+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Python对职业人群体检数据进行分析与可视化（附源码 超详细）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <blockquote> 
 <p><strong><span style="color:#fe2c24;">需要源码和数据集请点赞关注收藏后评论区留言私信~~~</span></strong></p> 
</blockquote> 
<h2>职业人群体检数据分析</h2> 
<p>有的职业危害因素会对人体血液等系统产生影响。下面针对一次职业人群体检的部分数据进行分析</p> 
<p>实现步骤如下</p> 
<p>1：导入模块</p> 
<p>2：获取数据</p> 
<p>导入待处理数据testdata.xls并显示前五行</p> 
<p><img alt="" height="166" src="https://images2.imgbox.com/ab/f2/7jRNkNNZ_o.png" width="762"></p> 
<p>3：分析数据</p> 
<p>首先查看数据类型 表结构 并统计各个字段空缺值的个数</p> 
<p> <img alt="" height="253" src="https://images2.imgbox.com/b9/ad/idxgYhQy_o.png" width="556"></p> 
<p> <img alt="" height="189" src="https://images2.imgbox.com/56/6c/gY5BZzDX_o.png" width="505"></p> 
<p> <img alt="" height="198" src="https://images2.imgbox.com/cc/ed/0mroSCP2_o.png" width="473"></p> 
<p>接下来删除全为空的列以及身份证号为空的数据</p> 
<p>删除全为空的列</p> 
<p><img alt="" height="164" src="https://images2.imgbox.com/6c/ee/dUQxTvrU_o.png" width="771"></p> 
<blockquote> 
 <p id="DataFrame.dropna(axis=0, how='any', thresh=None, subset=None, inplace=False)">DataFrame.dropna(axis=0, how='any', thresh=None, subset=None, inplace=False)</p> 
 <p id="函数作用：删除含有空值的行或列">函数作用：删除含有空值的行或列<a href="http://localhost:8888/notebooks/%E5%AE%9E%E8%AE%AD1%20%E8%81%8C%E4%B8%9A%E4%BA%BA%E7%BE%A4%E4%BD%93%E6%A3%80%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90.ipynb#%E5%87%BD%E6%95%B0%E4%BD%9C%E7%94%A8%EF%BC%9A%E5%88%A0%E9%99%A4%E5%90%AB%E6%9C%89%E7%A9%BA%E5%80%BC%E7%9A%84%E8%A1%8C%E6%88%96%E5%88%97" rel="nofollow" title="¶">¶</a></p> 
 <p id="axis:维度，axis=0表示index行,axis=1表示columns列，默认为0">axis:维度，axis=0表示index行,axis=1表示columns列，默认为0</p> 
 <p id='how:"all"表示这一行或列中的元素全部缺失（为nan）才删除这一行或列，"any"表示这一行或列中只要有元素缺失，就删除这一行或列'>how:"all"表示这一行或列中的元素全部缺失（为nan）才删除这一行或列，"any"表示这一行或列中只要有元素缺失，就删除这一行或列</p> 
 <p id="thresh:一行或一列中至少出现了thresh个才删除。">thresh:一行或一列中至少出现了thresh个才删除。</p> 
 <p id="subset：在某些列的子集中选择出现了缺失值的列删除，不在子集中的含有缺失值得列或行不会删除（有axis决定是行还是列）">subset：在某些列的子集中选择出现了缺失值的列删除，不在子集中的含有缺失值得列或行不会删除（有axis决定是行还是列）</p> 
 <p id="inplace：刷选过缺失值得新数据是存为副本还是直接在原数据上进行修改。">inplace：刷选过缺失值得新数据是存为副本还是直接在原数据上进行修改</p> 
</blockquote> 
<p> 删除身份证号为空的数据</p> 
<p><img alt="" height="178" src="https://images2.imgbox.com/f9/15/TlDcP9Rq_o.png" width="400"></p> 
<p> 将“开始从事某工作年份”规范为4位数字年份，如“2018”，并将列名修改为“参加工作时间</p> 
<p><img alt="" height="166" src="https://images2.imgbox.com/50/8c/SaEQCv3H_o.png" width="699"></p> 
<p>增加列“工龄”（体检年份-参加工作时间）和“年龄”（体检时间-出生年份）两列</p> 
<p>查看待处理是否有缺失值 然后删除所有缺失值 </p> 
<p>然后可以看到参加工作时间之一列的缺失值已经删除，同时也看到体检年份还有38个缺失值 也进行删除</p> 
<p><img alt="" height="187" src="https://images2.imgbox.com/1e/ba/lGCIKRBZ_o.png" width="441"></p> 
<p> 身份证号，参加工作时间以及体检年份的数据类型都是object，需要进行类型转换，统一转化为int64类型，另外，体检年份这一列有很多异常数据，很多年份后都有年字，对体检年份数据进行时间提取</p> 
<p>增加工龄和年龄这两列</p> 
<p><img alt="" height="161" src="https://images2.imgbox.com/27/bf/AfjmOPUH_o.png" width="809"></p> 
<p>统计不同性别的白细胞计数均值 并画出柱状图</p> 
<p> <img alt="" height="261" src="https://images2.imgbox.com/4e/1a/ukx7iLYF_o.png" width="479"></p> 
<p> 统计不同年龄段的白细胞计数，并画出柱状图，年龄段划分为：小于或等于30岁，31-40岁，41-50岁以及大于50岁4个</p> 
<p><img alt="" height="279" src="https://images2.imgbox.com/68/87/cPHYqbkq_o.png" width="531"></p> 
<p> 经过上面这一系列工作，可以很清楚的看出数据的一些分布特征 有助于后续的解决方案</p> 
<h2>代码</h2> 
<p>部分代码如下 需要全部代码请点赞关注收藏后评论区留言私信~~~</p> 
<pre><code class="hljs">import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
plt.rcParams['font.sans-serif'] = ['SimHei'] #用来正常显示中文标签
plt.rcParams['axes.unicode_minus']=False #用来正常显示负号
%matplotlib inline
df = pd.read_excel("testdata.xls")#这个会直接默认读取到这个Excel的第一个表单
data =df.head()#默认读取前5行的数据
data
df.info()
df.dtypes
df.shape
df.isnull().sum()

df.dropnaaxis=1, how='all',inplace= True)#将全部项都是nan的列删除
df.head()
df.dropna(how='any',subset=['身份证号'],inplace= True)
df.isnul().sum()
df1 = df
df.shape
df.开始从事某工作年份 = df.开始从事某工作年份.str[0:4]
df.rename(columns={"开始从事某工作年份": "参加工作时间"},inplace=True)
df.head()

df.isnull().sum()
df1 = df.dropna(subset=['参加工作时间'],how='any')
df1.isnull().sum()
df1.isnull().sum()
df2 = df1.dropna(subset=['体检年份'],how='any')
# ()
df2.isnull().sum()
#参加工作时间转换为int64类型
#首将体检年份转换为str类型
data['体检年份'] = data.体检年份.astype('str')
#切片取前4位值之后再将体检年份转换为int64类型
data.体检年份 = data.体检年份.str[0:4].astype("int64")
#取身份证的第4位-第7位，并转换为int64类型
data["出生年份"] = data.身份证号.str[4:8].astype('int64')
d.head()
data.参加工作时间 = data.参加工作时间.astype('int64')
data['体检年份'] = data.体检年份.astype('str')
data.体检年份 = data.体检年份.str[0:4].astype("int64")
data["出生年份"] = data.身份证号.str[4:8].astype('int64')
data.head()
data = data.eval('工龄 = 体检年份-参加工作时间')
data = data.eval("年龄= 体检年份- 出生年份")
data.head()

import matplotlib
matplotlib.rcParams['font.size'] = 15
matplotlib.rcParams['font.family'] = 'SimHei'

# mean.plot(kind='bar') #series.plot(kind='bar')
mean.plot.bar()
plt.xticks(rotation=0)
plt.ylabel("白细胞均值")
data['年龄段'] = pd.cut(data.年龄, bins=[0,30,40,50, 100])
count = data.groupby('年龄段')['白细胞计数'].mean()
count

count.plot(kind = "bar")
plt.xticksotation=30)
plt.ylabel("白细胞计数均值")</code></pre> 
<p><span style="color:#fe2c24;"><strong>创作不易 觉得有帮助请点赞关注收藏~~~</strong></span></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e2dbca4525f3eaa233e0c28b275f1b8e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【数据挖掘】葡萄酒质量分析及异常值检测</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b7aa6d91adc4b9d3e443fa1a53d1bad2/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">利用Python暴力破解邻居家WiFi密码</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>