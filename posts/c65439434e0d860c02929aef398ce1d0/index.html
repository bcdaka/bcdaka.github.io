<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【LeetCode力扣】42.接雨水（困难） - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/c65439434e0d860c02929aef398ce1d0/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="【LeetCode力扣】42.接雨水（困难）">
  <meta property="og:description" content="目录
1、题目介绍
2、解题
2.1、解题思路
2.2、图解说明
2.3、解题代码
1、题目介绍 原题链接：42. 接雨水 - 力扣（LeetCode）
输入：height = [0,1,0,2,1,0,1,3,2,1,2,1] 输出：6 解释：上面是由数组 [0,1,0,2,1,0,1,3,2,1,2,1] 表示的高度图，在这种情况下，可以接 6 个单位的雨水（蓝色部分表示雨水）。 示例 2：
输入：height = [4,2,0,3,2,5] 输出：9 提示：
n == height.length1 &lt;= n &lt;= 2 * 1040 &lt;= height[i] &lt;= 105 2、解题 2.1、解题思路 一个用木板围成的桶能装多少水取决于最短的那块木板，同理，这道题我们可以把它看做成是由若干块木板组成的一个桶，只是它们是以并排的方式组成的，这里我用left和right两个指针分别指向最左和最右的两块木板，用变量 sum 来记录总的装水量以及两个变量 leftMax和rightMax来记录左边最高的木板值和右边最高的木板值，哪一边的 (left / right)Max 更小就用哪边的 (left / right)Max 减去 (left / right)所指的值，这样就能求出指针移动一次的装水量了。初始时 left = 0; right = n-1 (n就是数组的长度)，leftMax = 0；rightMax = 0 。指针 left 只会向右移动，指针 right 只会向左移动，在移动指针的过程中决定两个变量 leftMax 和 rightMax 的值。">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2023-11-08T17:28:10+08:00">
    <meta property="article:modified_time" content="2023-11-08T17:28:10+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【LeetCode力扣】42.接雨水（困难）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/77/26/H2p59qtC_o.png"></p> 
<p id="main-toc"><strong>目录</strong></p> 
<p id="1%E3%80%81%E9%A2%98%E7%9B%AE%E4%BB%8B%E7%BB%8D-toc" style="margin-left:0px;"><a href="#1%E3%80%81%E9%A2%98%E7%9B%AE%E4%BB%8B%E7%BB%8D" rel="nofollow">1、题目介绍</a></p> 
<p id="2%E3%80%81%E8%A7%A3%E9%A2%98-toc" style="margin-left:0px;"><a href="#2%E3%80%81%E8%A7%A3%E9%A2%98" rel="nofollow">2、解题</a></p> 
<p id="2.1%E3%80%81%E8%A7%A3%E9%A2%98%E6%80%9D%E8%B7%AF-toc" style="margin-left:40px;"><a href="#2.1%E3%80%81%E8%A7%A3%E9%A2%98%E6%80%9D%E8%B7%AF" rel="nofollow">2.1、解题思路</a></p> 
<p id="%C2%A02.2%E3%80%81%E5%9B%BE%E8%A7%A3%E8%AF%B4%E6%98%8E-toc" style="margin-left:40px;"><a href="#%C2%A02.2%E3%80%81%E5%9B%BE%E8%A7%A3%E8%AF%B4%E6%98%8E" rel="nofollow"> 2.2、图解说明</a></p> 
<p id="2.3%E3%80%81%E8%A7%A3%E9%A2%98%E4%BB%A3%E7%A0%81-toc" style="margin-left:0px;"><a href="#2.3%E3%80%81%E8%A7%A3%E9%A2%98%E4%BB%A3%E7%A0%81" rel="nofollow">2.3、解题代码</a></p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/5f/d1/G9iPPe8T_o.gif"></p> 
<h2 id="1%E3%80%81%E9%A2%98%E7%9B%AE%E4%BB%8B%E7%BB%8D">1、题目介绍</h2> 
<p><strong>原题链接：</strong><a href="https://leetcode.cn/problems/trapping-rain-water/description/?envType=study-plan-v2&amp;envId=top-100-liked" rel="nofollow" title="42. 接雨水 - 力扣（LeetCode）">42. 接雨水 - 力扣（LeetCode）</a></p> 
<p><img alt="" height="479" src="https://images2.imgbox.com/5a/7e/yi6WIlnd_o.png" width="851"></p> 
<blockquote> 
 <pre><strong>输入：</strong>height = [0,1,0,2,1,0,1,3,2,1,2,1]
<strong>输出：</strong>6
<strong>解释：</strong>上面是由数组 [0,1,0,2,1,0,1,3,2,1,2,1] 表示的高度图，在这种情况下，可以接 6 个单位的雨水（蓝色部分表示雨水）。 </pre> 
</blockquote> 
<blockquote> 
 <p><strong>示例 2：</strong></p> 
 <pre><strong>输入：</strong>height = [4,2,0,3,2,5]
<strong>输出：</strong>9
</pre> 
</blockquote> 
<blockquote> 
 <p><strong>提示：</strong></p> 
 <ul><li><code>n == height.length</code></li><li><code>1 &lt;= n &lt;= 2 * 104</code></li><li><code>0 &lt;= height[i] &lt;= 105</code></li></ul> 
</blockquote> 
<h2 id="2%E3%80%81%E8%A7%A3%E9%A2%98">2、解题</h2> 
<h3 id="2.1%E3%80%81%E8%A7%A3%E9%A2%98%E6%80%9D%E8%B7%AF">2.1、解题思路</h3> 
<blockquote> 
 <p>一个用木板围成的桶能装多少水取决于最短的那块木板，同理，这道题我们可以把它看做成是由若干块木板组成的一个桶，只是它们是以并排的方式组成的，这里我用<strong>left</strong>和<strong>right</strong>两个指针分别指向最左和最右的两块木板，用变量<strong> sum </strong>来记录总的装水量以及两个变量<strong> </strong>leftMax和rightMax来记录左边最高的木板值和右边最高的木板值，哪一边的 (left / right)Max 更小就用哪边的 (left / right)Max 减去 (left / right)所指的值，这样就能求出指针移动一次的装水量了。初始时 <strong>left = 0; right = n-1</strong> (<strong>n就是数组的长度</strong>)，leftMax = 0；rightMax = 0 。指针 <strong>left</strong> 只会向右移动，指针 <strong>right </strong>只会向左移动，在移动指针的过程中决定两个变量 leftMax 和 rightMax 的值。</p> 
</blockquote> 
<blockquote> 
 <p>当 <strong>left </strong>小于 <strong>right</strong> 的时候，也就是两个指针没有相遇之前，进行的操作如下：</p> 
 <p>（1）使用 height[left] 和 height[right] 的值更新 leftMax 和 rightMax 的值；就是 leftMax 记录 left 从左往右所指过的值中的最大值；rightMax 记录 right 从右往左所指过的值中的最大值，<strong>即执行：leftmax = Math.max(leftmax, height[left]);    rightmax = Math.max(rightmax, height[right]);</strong></p> 
 <p>（2）如果 height[left] &lt; height[right]，则必有 leftMax &lt; rightMax，下标 left 处能接的雨水量等于 leftMax − height[left]，将下标 left 处能接的雨水量加到能接的雨水总量，然后将 left 加 1（即向右移动一位）<strong>即执行：sum += leftmax - height[left];  left++;</strong></p> 
 <p>（3）如果 height[left] ≥ height[right]，则必有 leftMax≥rightMax，下标 right 处能接的雨水量等于 rightMax − height[right]，将下标 right 处能接的雨水量加到能接的雨水总量，然后将 right 减 1（即向左移动一位）<strong>即执行：sum += rightmax - height[right];  right--;</strong></p> 
</blockquote> 
<h3 id="%C2%A02.2%E3%80%81%E5%9B%BE%E8%A7%A3%E8%AF%B4%E6%98%8E"> 2.2、图解说明</h3> 
<blockquote> 
 <p> 定义一个数组，height = [0,1,0,2,1,0,1,3,2,1,2,1]</p> 
</blockquote> 
<p><img alt="" height="458" src="https://images2.imgbox.com/8f/81/1YEfV7rc_o.png" width="720"></p> 
<p><img alt="" height="458" src="https://images2.imgbox.com/af/63/YaUwKOtO_o.png" width="719"></p> 
<p><img alt="" height="472" src="https://images2.imgbox.com/e7/d6/tgeUwyBh_o.png" width="720"> <img alt="" height="529" src="https://images2.imgbox.com/b1/85/vQAHVOPu_o.png" width="1106"></p> 
<p><img alt="" height="476" src="https://images2.imgbox.com/5a/a4/A8NDxvC9_o.png" width="701"></p> 
<p> </p> 
<p></p> 
<h2 id="2.3%E3%80%81%E8%A7%A3%E9%A2%98%E4%BB%A3%E7%A0%81">2.3、解题代码</h2> 
<pre><code class="language-java">class Solution {
    public int trap(int[] height) {
        int left = 0;
        int right = height.length-1;
        int sum = 0;
        int leftmax = 0;
        int rightmax = 0;
        while(left &lt; right){
            leftmax = Math.max(leftmax, height[left]);
            rightmax = Math.max(rightmax, height[right]);
            if(height[left] &lt; height[right]){
                sum += leftmax - height[left];
                left++;
            } else{
                sum += rightmax - height[right];
                right--;
            }
        }
        return sum;
    }
}</code></pre> 
<p><img alt="" height="809" src="https://images2.imgbox.com/98/3e/HOQZDnU4_o.png" width="925"></p> 
<blockquote> 
 <p>复杂度分析：</p> 
 <p>时间复杂度：O(n)，其中 n 是数组 height 的长度。两个指针的移动总次数不超过 n。</p> 
 <p>空间复杂度：O(1)，只需要使用常数的额外空间。</p> 
</blockquote> 
<p><strong>【LeetCode力扣】相关：</strong> </p> 
<p><a class="has-card" href="https://blog.csdn.net/m0_65277261/article/details/134102596?spm=1001.2014.3001.5502" title="【LeetCode力扣】11. 盛最多水的容器 （中等）-CSDN博客"><span class="link-card-box"><span class="link-title">【LeetCode力扣】11. 盛最多水的容器 （中等）-CSDN博客</span><span class="link-link"><img class="link-link-icon" src="https://images2.imgbox.com/38/b5/NbYKem4P_o.png" alt="icon-default.png?t=N7T8">https://blog.csdn.net/m0_65277261/article/details/134102596?spm=1001.2014.3001.5502</span></span></a><a class="has-card" href="https://blog.csdn.net/m0_65277261/article/details/134232926?spm=1001.2014.3001.5502" title="【LeetCode力扣】287.寻找重复数（中等）-CSDN博客"><span class="link-card-box"><span class="link-title">【LeetCode力扣】287.寻找重复数（中等）-CSDN博客</span><span class="link-link"><img class="link-link-icon" src="https://images2.imgbox.com/43/37/NovPTrON_o.png" alt="icon-default.png?t=N7T8">https://blog.csdn.net/m0_65277261/article/details/134232926?spm=1001.2014.3001.5502</span></span></a><a class="has-card" href="https://blog.csdn.net/m0_65277261/article/details/134033485?spm=1001.2014.3001.5502" title="【LeetCode力扣】70. 爬楼梯 (简单)-CSDN博客"><span class="link-card-box"><span class="link-title">【LeetCode力扣】70. 爬楼梯 (简单)-CSDN博客</span><span class="link-link"><img class="link-link-icon" src="https://images2.imgbox.com/50/c3/h2HwECV2_o.png" alt="icon-default.png?t=N7T8">https://blog.csdn.net/m0_65277261/article/details/134033485?spm=1001.2014.3001.5502</span></span></a></p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/54/56/BLGSuShp_o.gif"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/5a505104f94293c42811d4489377e3de/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【微信公众号推送小程序消息通知】--下发统一消息接口被回收后新方案</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/5b85cca1193dbfd0bd8a934e4c59bdb5/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">数据结构-单链表</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>