<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>ä½¿ç”¨ERNIE Bot SDKå’Œä¸€æ¡æ ¸å¿ƒpromptå¼€å‘AIâ€œåˆ’æ‹³â€œæ¸¸æˆï¼ - ç¼–ç¨‹å¤§å’–</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/33b0aaa20a0d59499be4819556be552b/">
  <meta property="og:site_name" content="ç¼–ç¨‹å¤§å’–">
  <meta property="og:title" content="ä½¿ç”¨ERNIE Bot SDKå’Œä¸€æ¡æ ¸å¿ƒpromptå¼€å‘AIâ€œåˆ’æ‹³â€œæ¸¸æˆï¼">
  <meta property="og:description" content="é¡¹ç›®èƒŒæ™¯ åˆ’æ‹³æ˜¯æ±‰æ—æ°‘é—´é¥®é…’æ—¶ä¸€ç§åŠ©å…´å–ä¹çš„æ¸¸æˆ,èµ·æºäºæ±‰ä»£ã€‚
æ¸¸æˆè§„åˆ™å¦‚ä¸‹ï¼š
ä¸¤äººåŒæ—¶ä¼¸å‡ºä¸€åªæ‰‹ï¼Œå…ˆæ”¥èµ·æ‹³å¤´ï¼Œä»£è¡¨è´¢ä¸å¤–éœ²ã€‚å†ä¼¸å‡ºä¸€åˆ°äº”ä¸ªæ‰‹æŒ‡ï¼Œè¡¨ç¤ºä»é›¶åˆ°äº”ä¹‹é—´çš„æ•°å­—ï¼ŒåŒæ—¶å˜´é‡Œå¤§å£°å–Šå‡ºä¸¤äººæ‰€å‡ºæ•°å­—ä¹‹å’Œã€‚
ä¸¤äººéƒ½çŒœå¯¹æˆ–éƒ½çŒœé”™ï¼Œåˆ™åˆ’æ‹³ç»§ç»­ã€‚ç›´åˆ°ä¸€æ–¹çŒœå¯¹æ‰ä¸ºèµ¢å®¶ï¼Œè€ŒçŒœé”™æ–¹ä¸ºè¾“å®¶ï¼Œè¦ç½šé…’ã€‚
è¿™å¥—é…’ä»¤å®Œæ•´çš„è¯´æ³•æ˜¯ï¼š&#34;ä¸€æ¡é¾™ã€å“¥ä¿©å¥½ã€ä¸‰æ˜Ÿç…§ã€å››å–œè´¢ã€äº”é­é¦–ã€å…­å…­å…­ã€ä¸ƒä¸ªå·§ã€å…«åŒ¹é©¬ã€ä¹è¿ç¯å’Œåå…¨æœ‰&#34;ã€‚
åœ¨æ¸¸æˆä¸­ï¼Œæˆ‘ä»¬å€ŸåŠ©å¤§æ¨¡å‹çš„å¼ºå¤§èƒ½åŠ›ï¼Œè®©å¤§æ¨¡å‹æ‰®æ¼”ä½ çš„åˆ’æ‹³å¯¹æ‰‹ï¼Œç©å®¶å¯ä»¥é€šè¿‡ç®€å•çš„æ“ä½œä¸å¤§æ¨¡å‹è¿›è¡Œåˆ’æ‹³ã€‚
å¸Œæœ›åœ¨ä½ ç‹¬è‡ªä¸€äººå–é…’çš„æ—¶å€™ï¼Œèƒ½é€šè¿‡è¿™æ¬¾æ¸¸æˆæ‰¾åˆ°ä¹è¶£ã€‚
é¡¹ç›®æ–¹æ¡ˆ åˆ’æ‹³æ¸¸æˆçš„æµç¨‹å¦‚ä¸‹ï¼š
å¼€å§‹é˜¶æ®µï¼šÂ ä¸¤ä½ç©å®¶åŒæ—¶ä¼¸å‡ºä¸€åªæ‰‹ï¼Œç”¨æ”¥èµ·çš„æ‹³å¤´å’Œä¼¸å‡ºä¸€åˆ°äº”ä¸ªæ‰‹æŒ‡è¡¨ç¤ºä»é›¶åˆ°äº”è¿™å‡ ä¸ªæ•°å­—ã€‚ ä¸æ­¤åŒæ—¶ï¼Œä¸¤ä½ç©å®¶å˜´é‡Œå–Šå‡ºä»0åˆ°10çš„æ•°å­—ã€‚
åˆ¤æ–­é˜¶æ®µï¼šÂ æ¯”è¾ƒä¸¤ä½ç©å®¶ä¼¸å‡ºçš„æ‰‹æŒ‡è¡¨ç¤ºçš„æ•°å­—ç›¸åŠ çš„å’Œä¸å…¶ä¸­ä¸€ä½ç©å®¶å˜´é‡Œå–Šå‡ºçš„æ•°å­—æ˜¯å¦ç›¸åŒã€‚ å¦‚æœç›¸åŒï¼Œåˆ™å–Šå‡ºè¯¥æ•°å­—çš„ç©å®¶è·èƒœï¼›å¦‚æœä¸åŒï¼Œåˆ™ç»§ç»­ä¸‹ä¸€è½®ã€‚
æƒ©ç½šé˜¶æ®µï¼šÂ è¾“çš„ç©å®¶éœ€è¦æŒ‰ç…§è§„åˆ™å–é…’æˆ–å…¶ä»–çº¦å®šçš„æƒ©ç½šã€‚
æˆ‘ä»¬å¸Œæœ›æ¨¡å‹æ‰®æ¼”ä¸€ä¸ªåˆ’æ‹³æ¸¸æˆçš„ç©å®¶ï¼Œæ ¸å¿ƒæ˜¯å¸Œæœ›æ¨¡å‹è¾“å‡ºä¸¤ä¸ªæ•°å­—ï¼šå‡ºæ‹³æ•°å­—å’ŒçŒœæ‹³æ•°å­—ã€‚ æ ¸å¿ƒpromptè®¾è®¡å¦‚ä¸‹ï¼š
# æ ¸å¿ƒprompt game_prompt = (&#34;ä½ ç°åœ¨åœ¨é™ªæˆ‘ç©åˆ’æ‹³æ¸¸æˆï¼Œæˆ‘å·²ç»å‡ºæ‹³äº†ï¼Œç°åœ¨åˆ°ä½ äº†ã€‚ä½ çš„ä»»åŠ¡å¦‚ä¸‹ï¼š&#34; &#34;1.è¾“å‡ºä¸€ä¸ª0-5ä¹‹å‰çš„æ•°å­—ï¼Œè¡¨ç¤ºä½ çš„å‡ºæ‹³æ•°å­—ï¼›&#34; &#34;2.è¾“å‡ºä¸€ä¸ª0-10ä¹‹é—´çš„æ•°å­—ï¼Œè¡¨ç¤ºä½ çš„çŒœæ‹³æ•°å­—ï¼›&#34; &#34;3.å°†ä¸¤ä¸ªæ•°å­—ä»¥{&#39;gesture&#39;:&#39;&#39;,&#39;predict&#39;:&#39;&#39;}çš„JSONæ ¼å¼è¿”å›ï¼Œå…¶ä¸­gestureè¡¨ç¤ºä½ çš„å‡ºæ‹³æ•°å­—ï¼Œpredictè¡¨ç¤ºä½ çš„çŒœæ‹³æ•°å­—ã€‚&#34; &#34;æ³¨æ„: é™¤äº†JSONæ ¼å¼æ•°å­—ä»¥å¤–ï¼Œä¸è¦è¿”å›å…¶ä»–ä»»ä½•å†…å®¹ã€‚&#34;) ä»£ç å®ç° 1. å®‰è£…é¡¹ç›®ä¾èµ– In [1]
# å®‰è£…ä¾èµ– ! pip install -U erniebot Looking in indexes: https://mirror.baidu.com/pypi/simple/, https://mirrors.aliyun.com/pypi/simple/ Collecting erniebot Downloading https://mirrors.aliyun.com/pypi/packages/b8/82/8bcbb280e13da2dd67667423d6ba34cb72f54c4201fb18816adc7de4914f/erniebot-0.5.3-py3-none-any.whl (65 kB) â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 65.9/65.9 kB 1.0 MB/s eta 0:00:00a 0:00:01 Requirement already satisfied: aiohttp in /opt/conda/envs/python35-paddle120-env/lib/python3.10/site-packages (from erniebot) (3.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-06-21T09:27:06+08:00">
    <meta property="article:modified_time" content="2024-06-21T09:27:06+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ç¼–ç¨‹å¤§å’–" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ç¼–ç¨‹å¤§å’–</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">ä½¿ç”¨ERNIE Bot SDKå’Œä¸€æ¡æ ¸å¿ƒpromptå¼€å‘AIâ€œåˆ’æ‹³â€œæ¸¸æˆï¼</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h3><a id="_0"></a></h3> 
<h2>é¡¹ç›®èƒŒæ™¯</h2> 
<p>åˆ’æ‹³æ˜¯æ±‰æ—æ°‘é—´é¥®é…’æ—¶ä¸€ç§åŠ©å…´å–ä¹çš„æ¸¸æˆ,èµ·æºäºæ±‰ä»£ã€‚<br> æ¸¸æˆè§„åˆ™å¦‚ä¸‹ï¼š<br> ä¸¤äººåŒæ—¶ä¼¸å‡ºä¸€åªæ‰‹ï¼Œå…ˆæ”¥èµ·æ‹³å¤´ï¼Œä»£è¡¨è´¢ä¸å¤–éœ²ã€‚å†ä¼¸å‡ºä¸€åˆ°äº”ä¸ªæ‰‹æŒ‡ï¼Œè¡¨ç¤ºä»é›¶åˆ°äº”ä¹‹é—´çš„æ•°å­—ï¼ŒåŒæ—¶å˜´é‡Œå¤§å£°å–Šå‡ºä¸¤äººæ‰€å‡ºæ•°å­—ä¹‹å’Œã€‚<br> ä¸¤äººéƒ½çŒœå¯¹æˆ–éƒ½çŒœé”™ï¼Œåˆ™åˆ’æ‹³ç»§ç»­ã€‚ç›´åˆ°ä¸€æ–¹çŒœå¯¹æ‰ä¸ºèµ¢å®¶ï¼Œè€ŒçŒœé”™æ–¹ä¸ºè¾“å®¶ï¼Œè¦ç½šé…’ã€‚<br> è¿™å¥—é…’ä»¤å®Œæ•´çš„è¯´æ³•æ˜¯ï¼š"ä¸€æ¡é¾™ã€å“¥ä¿©å¥½ã€ä¸‰æ˜Ÿç…§ã€å››å–œè´¢ã€äº”é­é¦–ã€å…­å…­å…­ã€ä¸ƒä¸ªå·§ã€å…«åŒ¹é©¬ã€ä¹è¿ç¯å’Œåå…¨æœ‰"ã€‚<br> åœ¨æ¸¸æˆä¸­ï¼Œæˆ‘ä»¬å€ŸåŠ©å¤§æ¨¡å‹çš„å¼ºå¤§èƒ½åŠ›ï¼Œè®©å¤§æ¨¡å‹æ‰®æ¼”ä½ çš„åˆ’æ‹³å¯¹æ‰‹ï¼Œç©å®¶å¯ä»¥é€šè¿‡ç®€å•çš„æ“ä½œä¸å¤§æ¨¡å‹è¿›è¡Œåˆ’æ‹³ã€‚<br> å¸Œæœ›åœ¨ä½ ç‹¬è‡ªä¸€äººå–é…’çš„æ—¶å€™ï¼Œèƒ½é€šè¿‡è¿™æ¬¾æ¸¸æˆæ‰¾åˆ°ä¹è¶£ã€‚</p> 
<h2>é¡¹ç›®æ–¹æ¡ˆ</h2> 
<p>åˆ’æ‹³æ¸¸æˆçš„æµç¨‹å¦‚ä¸‹ï¼š<br><strong>å¼€å§‹é˜¶æ®µï¼š</strong>Â ä¸¤ä½ç©å®¶åŒæ—¶ä¼¸å‡ºä¸€åªæ‰‹ï¼Œç”¨æ”¥èµ·çš„æ‹³å¤´å’Œä¼¸å‡ºä¸€åˆ°äº”ä¸ªæ‰‹æŒ‡è¡¨ç¤ºä»é›¶åˆ°äº”è¿™å‡ ä¸ªæ•°å­—ã€‚ ä¸æ­¤åŒæ—¶ï¼Œä¸¤ä½ç©å®¶å˜´é‡Œå–Šå‡ºä»0åˆ°10çš„æ•°å­—ã€‚<br><strong>åˆ¤æ–­é˜¶æ®µï¼š</strong>Â æ¯”è¾ƒä¸¤ä½ç©å®¶ä¼¸å‡ºçš„æ‰‹æŒ‡è¡¨ç¤ºçš„æ•°å­—ç›¸åŠ çš„å’Œä¸å…¶ä¸­ä¸€ä½ç©å®¶å˜´é‡Œå–Šå‡ºçš„æ•°å­—æ˜¯å¦ç›¸åŒã€‚ å¦‚æœç›¸åŒï¼Œåˆ™å–Šå‡ºè¯¥æ•°å­—çš„ç©å®¶è·èƒœï¼›å¦‚æœä¸åŒï¼Œåˆ™ç»§ç»­ä¸‹ä¸€è½®ã€‚<br><strong>æƒ©ç½šé˜¶æ®µï¼š</strong>Â è¾“çš„ç©å®¶éœ€è¦æŒ‰ç…§è§„åˆ™å–é…’æˆ–å…¶ä»–çº¦å®šçš„æƒ©ç½šã€‚<br> æˆ‘ä»¬å¸Œæœ›æ¨¡å‹æ‰®æ¼”ä¸€ä¸ªåˆ’æ‹³æ¸¸æˆçš„ç©å®¶ï¼Œ<strong>æ ¸å¿ƒæ˜¯å¸Œæœ›æ¨¡å‹è¾“å‡ºä¸¤ä¸ªæ•°å­—ï¼šå‡ºæ‹³æ•°å­—å’ŒçŒœæ‹³æ•°å­—</strong>ã€‚ æ ¸å¿ƒpromptè®¾è®¡å¦‚ä¸‹ï¼š</p> 
<pre><code># æ ¸å¿ƒprompt
game_prompt = ("ä½ ç°åœ¨åœ¨é™ªæˆ‘ç©åˆ’æ‹³æ¸¸æˆï¼Œæˆ‘å·²ç»å‡ºæ‹³äº†ï¼Œç°åœ¨åˆ°ä½ äº†ã€‚ä½ çš„ä»»åŠ¡å¦‚ä¸‹ï¼š"
               "1.è¾“å‡ºä¸€ä¸ª0-5ä¹‹å‰çš„æ•°å­—ï¼Œè¡¨ç¤ºä½ çš„å‡ºæ‹³æ•°å­—ï¼›"
               "2.è¾“å‡ºä¸€ä¸ª0-10ä¹‹é—´çš„æ•°å­—ï¼Œè¡¨ç¤ºä½ çš„çŒœæ‹³æ•°å­—ï¼›"
               "3.å°†ä¸¤ä¸ªæ•°å­—ä»¥{'gesture':'','predict':''}çš„JSONæ ¼å¼è¿”å›ï¼Œå…¶ä¸­gestureè¡¨ç¤ºä½ çš„å‡ºæ‹³æ•°å­—ï¼Œpredictè¡¨ç¤ºä½ çš„çŒœæ‹³æ•°å­—ã€‚"
               "æ³¨æ„: é™¤äº†JSONæ ¼å¼æ•°å­—ä»¥å¤–ï¼Œä¸è¦è¿”å›å…¶ä»–ä»»ä½•å†…å®¹ã€‚")
</code></pre> 
<h2>ä»£ç å®ç°</h2> 
<h3>1. å®‰è£…é¡¹ç›®ä¾èµ–</h3> 
<p>In [1]</p> 
<pre><code># å®‰è£…ä¾èµ–
! pip install -U erniebot</code></pre> 
<pre>Looking in indexes: https://mirror.baidu.com/pypi/simple/, https://mirrors.aliyun.com/pypi/simple/
Collecting erniebot
  Downloading https://mirrors.aliyun.com/pypi/packages/b8/82/8bcbb280e13da2dd67667423d6ba34cb72f54c4201fb18816adc7de4914f/erniebot-0.5.3-py3-none-any.whl (65 kB)
     â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 65.9/65.9 kB 1.0 MB/s eta 0:00:00a 0:00:01
Requirement already satisfied: aiohttp in /opt/conda/envs/python35-paddle120-env/lib/python3.10/site-packages (from erniebot) (3.9.1)
Requirement already satisfied: bce-python-sdk in /opt/conda/envs/python35-paddle120-env/lib/python3.10/site-packages (from erniebot) (0.8.98)
Requirement already satisfied: colorlog in /opt/conda/envs/python35-paddle120-env/lib/python3.10/site-packages (from erniebot) (6.8.0)
Requirement already satisfied: jsonschema&gt;=4.19 in /opt/conda/envs/python35-paddle120-env/lib/python3.10/site-packages (from erniebot) (4.20.0)
Requirement already satisfied: requests&gt;=2.20 in /opt/conda/envs/python35-paddle120-env/lib/python3.10/site-packages (from erniebot) (2.31.0)
Collecting tenacity (from erniebot)
  Downloading https://mirrors.aliyun.com/pypi/packages/f4/f1/990741d5bb2487d529d20a433210ffa136a367751e454214013b441c4575/tenacity-8.2.3-py3-none-any.whl (24 kB)
Requirement already satisfied: typing-extensions&gt;=4.8.0 in /opt/conda/envs/python35-paddle120-env/lib/python3.10/site-packages (from erniebot) (4.9.0)
Requirement already satisfied: attrs&gt;=22.2.0 in /opt/conda/envs/python35-paddle120-env/lib/python3.10/site-packages (from jsonschema&gt;=4.19-&gt;erniebot) (23.1.0)
Requirement already satisfied: jsonschema-specifications&gt;=2023.03.6 in /opt/conda/envs/python35-paddle120-env/lib/python3.10/site-packages (from jsonschema&gt;=4.19-&gt;erniebot) (2023.11.2)
Requirement already satisfied: referencing&gt;=0.28.4 in /opt/conda/envs/python35-paddle120-env/lib/python3.10/site-packages (from jsonschema&gt;=4.19-&gt;erniebot) (0.32.0)
Requirement already satisfied: rpds-py&gt;=0.7.1 in /opt/conda/envs/python35-paddle120-env/lib/python3.10/site-packages (from jsonschema&gt;=4.19-&gt;erniebot) (0.15.2)
Requirement already satisfied: charset-normalizer&lt;4,&gt;=2 in /opt/conda/envs/python35-paddle120-env/lib/python3.10/site-packages (from requests&gt;=2.20-&gt;erniebot) (3.3.2)
Requirement already satisfied: idna&lt;4,&gt;=2.5 in /opt/conda/envs/python35-paddle120-env/lib/python3.10/site-packages (from requests&gt;=2.20-&gt;erniebot) (3.6)
Requirement already satisfied: urllib3&lt;3,&gt;=1.21.1 in /opt/conda/envs/python35-paddle120-env/lib/python3.10/site-packages (from requests&gt;=2.20-&gt;erniebot) (2.1.0)
Requirement already satisfied: certifi&gt;=2017.4.17 in /opt/conda/envs/python35-paddle120-env/lib/python3.10/site-packages (from requests&gt;=2.20-&gt;erniebot) (2023.11.17)
Requirement already satisfied: multidict&lt;7.0,&gt;=4.5 in /opt/conda/envs/python35-paddle120-env/lib/python3.10/site-packages (from aiohttp-&gt;erniebot) (6.0.4)
Requirement already satisfied: yarl&lt;2.0,&gt;=1.0 in /opt/conda/envs/python35-paddle120-env/lib/python3.10/site-packages (from aiohttp-&gt;erniebot) (1.9.4)
Requirement already satisfied: frozenlist&gt;=1.1.1 in /opt/conda/envs/python35-paddle120-env/lib/python3.10/site-packages (from aiohttp-&gt;erniebot) (1.4.1)
Requirement already satisfied: aiosignal&gt;=1.1.2 in /opt/conda/envs/python35-paddle120-env/lib/python3.10/site-packages (from aiohttp-&gt;erniebot) (1.3.1)
Requirement already satisfied: async-timeout&lt;5.0,&gt;=4.0 in /opt/conda/envs/python35-paddle120-env/lib/python3.10/site-packages (from aiohttp-&gt;erniebot) (4.0.3)
Requirement already satisfied: pycryptodome&gt;=3.8.0 in /opt/conda/envs/python35-paddle120-env/lib/python3.10/site-packages (from bce-python-sdk-&gt;erniebot) (3.19.0)
Requirement already satisfied: future&gt;=0.6.0 in /opt/conda/envs/python35-paddle120-env/lib/python3.10/site-packages (from bce-python-sdk-&gt;erniebot) (0.18.3)
Requirement already satisfied: six&gt;=1.4.0 in /opt/conda/envs/python35-paddle120-env/lib/python3.10/site-packages (from bce-python-sdk-&gt;erniebot) (1.16.0)
Installing collected packages: tenacity, erniebot
Successfully installed erniebot-0.5.3 tenacity-8.2.3
</pre> 
<h3>2.å®ç°è°ƒç”¨ERNIE APIçš„æ–¹æ³•</h3> 
<p>In [2]</p> 
<pre><code>import erniebot
# è°ƒç”¨ErnieBotSDKï¼Œå®ç°æ™ºèƒ½å¯¹è¯
class ErnieLLM():
    def __init__(self, token):
        erniebot.api_type = 'aistudio'
        erniebot.access_token = token

    def predict(self, txt):
        model = 'ernie-bot'
        messages = [{'role': 'user', 'content': txt}]
        response = erniebot.ChatCompletion.create(
            model=model,
            messages=messages,
        )
        return response.result</code></pre> 
<h3>3.è®¾è®¡æ ¸å¿ƒprompt</h3> 
<p>è¾“å…¥ä¸ºç©ºï¼Œè¾“å‡ºä¸ºJSONæ ¼å¼çš„ä¸¤ä¸ªæ•°å­—</p> 
<p>In [3]</p> 
<pre><code># æ ¸å¿ƒprompt
game_prompt = ("ä½ ç°åœ¨åœ¨é™ªæˆ‘ç©åˆ’æ‹³æ¸¸æˆï¼Œæˆ‘å·²ç»å‡ºæ‹³äº†ï¼Œç°åœ¨åˆ°ä½ äº†ã€‚ä½ çš„ä»»åŠ¡å¦‚ä¸‹ï¼š"
               "1.è¾“å‡ºä¸€ä¸ª0-5ä¹‹å‰çš„æ•°å­—ï¼Œè¡¨ç¤ºä½ çš„å‡ºæ‹³æ•°å­—ï¼›"
               "2.è¾“å‡ºä¸€ä¸ª0-10ä¹‹é—´çš„æ•°å­—ï¼Œè¡¨ç¤ºä½ çš„çŒœæ‹³æ•°å­—ï¼›"
               "3.å°†ä¸¤ä¸ªæ•°å­—ä»¥{'gesture':'','predict':''}çš„JSONæ ¼å¼è¿”å›ï¼Œå…¶ä¸­gestureè¡¨ç¤ºä½ çš„å‡ºæ‹³æ•°å­—ï¼Œpredictè¡¨ç¤ºä½ çš„çŒœæ‹³æ•°å­—ã€‚"
               "æ³¨æ„: é™¤äº†JSONæ ¼å¼æ•°å­—ä»¥å¤–ï¼Œä¸è¦è¿”å›å…¶ä»–ä»»ä½•å†…å®¹ã€‚")</code></pre> 
<h3>4.è·å–æ¨¡å‹è¾“å‡ºå¹¶æå–JSONå­—æ®µ</h3> 
<p>In [6]</p> 
<pre><code>import json
# å®ç°è·å–æ¨¡å‹å‡ºæ‹³å’ŒçŒœæ‹³æ•°å­—çš„æ–¹æ³•
def predict_gesture(token):
    # è¯·æ±‚æ–‡å¿ƒä¸€è¨€æ¨¡å‹çš„API
    llm = ErnieLLM(token)
    result = llm.predict(game_prompt)
    # æå–JSONéƒ¨åˆ†
    start_index = result.find('{')
    end_index = result.rfind('}') + 1
    json_str = result[start_index:end_index]

    # å°†JSONå­—ç¬¦ä¸²è½¬æ¢ä¸ºPythonå­—å…¸
    json_obj = json.loads(json_str)
    return json_obj["gesture"], json_obj["predict"]</code></pre> 
<h3>5.è®¾è®¡å­—å…¸ä¿å­˜æ•°å­—ä¸é…’ä»¤å£å·çš„æ˜ å°„å…³ç³»ï¼Œå¢åŠ è¶£å‘³æ€§</h3> 
<p>In [11]</p> 
<pre><code># ä¿å­˜é…’ä»¤å£å·ä¸æ•°å­—çš„æ˜ å°„å…³ç³»
alias_dict = {
    'ä¸€æ¡é¾™': 1,
    'å“¥ä¿©å¥½': 2,
    'ä¸‰æ˜Ÿç…§': 3,
    'å››å–œè´¢': 4,
    'äº”é­é¦–': 5,
    'å…­å…­å…­': 6,
    'ä¸ƒä¸ªå·§': 7,
    'å…«åŒ¹é©¬': 8,
    'ä¹è¿ç¯': 9,
    'åå…¨æœ‰': 10
}
# ä¿å­˜æ•°å­—ä¸é…’ä»¤å£å·çš„æ˜ å°„å…³ç³»
alias_dict_reverse = {v: k for k, v in alias_dict.items()}</code></pre> 
<h3>6.å®ç°åˆ¤æ–­æ¸¸æˆèƒœè´Ÿçš„é€»è¾‘å¹¶è¿›è¡Œæµ‹è¯•</h3> 
<p>In [9]</p> 
<pre><code>def game_process(token, user_gesture, user_predict):
    # ç”¨æˆ·è¾“å…¥çš„å‡ºæ‹³æ•°å­—
    user_num = int(user_gesture)
    # ç”¨æˆ·è¾“å…¥çš„çŒœæ‹³æ•°å­—
    user_predict = int(alias_dict[user_predict])
    # è°ƒç”¨æ¨¡å‹è¿›è¡Œé¢„æµ‹
    model_gesture, model_predict = predict_gesture(token)

    # è®¡ç®—åŒæ–¹å‡ºæ‹³æ•°å­—ä¹‹å’Œ
    total_fingers = user_num + int(model_gesture)
    print(f"æŒ‡æ•°ä¹‹å’Œï¼š{total_fingers}")
    print(f"ç”¨æˆ·é¢„æµ‹ï¼š{user_predict}")
    print(f"æ¨¡å‹é¢„æµ‹ï¼š{model_predict}")
    # èƒœè´Ÿåˆ¤å®š
    if user_predict == total_fingers and model_predict != total_fingers:
        result = "æˆ‘è¾“äº†ï¼Œè‡ªç½šä¸€æ¯ï¼" 
    elif user_predict != total_fingers and model_predict == total_fingers:
        result = "å“ˆå“ˆï¼Œä½ è¾“äº†ï¼è¯·è‡ªç½šä¸€æ¯ï¼"
    else:
        result = "å¹³å±€ï¼å†æ¥ï¼"
    return result, alias_dict_reverse[model_predict], model_gesture</code></pre> 
<p>In [13]</p> 
<pre><code># æ ¸å¿ƒé€»è¾‘æµ‹è¯•
print(game_process("æ›¿æ¢ä¸ºä½ çš„token",5,"å…«åŒ¹é©¬"))</code></pre> 
<pre>'ernie-bot' will be deprecated in the future. Please use 'ernie-3.5' instead.
</pre> 
<pre>æŒ‡æ•°ä¹‹å’Œï¼š8
ç”¨æˆ·é¢„æµ‹ï¼š8
æ¨¡å‹é¢„æµ‹ï¼š7
('æˆ‘è¾“äº†ï¼Œè‡ªç½šä¸€æ¯ï¼', 'ä¸ƒä¸ªå·§', 3)
</pre> 
<h3>7.åˆ©ç”¨gradioå¼€å‘æ¸¸æˆåŸå‹</h3> 
<p>åˆ©ç”¨Comateè¿›è¡Œè¾…åŠ©ï¼Œå‚è€ƒä»£ç å¦‚ä¸‹</p> 
<p>In [Â ]</p> 
<pre><code>with gr.Blocks(title="åˆ’æ‹³æ¸¸æˆ", theme="soft") as game:
    gr.Markdown("&lt;center&gt;&lt;h1&gt;ä¸­å›½ä¼ ç»Ÿæ¸¸æˆ--åˆ’æ‹³&lt;/h1&gt;&lt;/center&gt;")
    gr.Markdown("""&lt;center&gt;&lt;p1&gt;
    ä¸­å›½ä¼ ç»Ÿé…’ä»¤æ¸¸æˆâ€œåˆ’æ‹³â€æ˜¯ä¸¤äººåŒæ—¶ä¼¸å‡ºä¸€åªæ‰‹ï¼Œå…ˆæ”¥èµ·æ‹³å¤´ï¼Œä»£è¡¨è´¢ä¸å¤–éœ²ã€‚å†ä¼¸å‡ºä¸€åˆ°äº”ä¸ªæ‰‹æŒ‡ï¼Œè¡¨ç¤ºä»é›¶åˆ°äº”ä¹‹é—´çš„æ•°å­—ï¼ŒåŒæ—¶å˜´é‡Œå¤§å£°å–Šå‡ºä¸¤äººæ‰€å‡ºæ•°å­—ä¹‹å’Œã€‚
ä¸¤äººéƒ½çŒœå¯¹æˆ–éƒ½çŒœé”™ï¼Œåˆ™åˆ’æ‹³ç»§ç»­ã€‚ç›´åˆ°ä¸€æ–¹çŒœå¯¹æ‰ä¸ºèµ¢å®¶ï¼Œè€ŒçŒœé”™æ–¹ä¸ºè¾“å®¶ï¼Œè¦ç½šé…’çš„ã€‚å”æœäººç§°åˆ’æ‹³ä¸º"æ‹‡æˆ˜"ã€"æ‹›æ‰‹ä»¤"æˆ–"æ‰“ä»¤"ç­‰ã€‚ä¸€èˆ¬éƒ½æ˜¯ä»ä¸€å¼€å§‹ï¼Œæ•°åˆ°åç»“æŸã€‚
è¿™å¥—é…’ä»¤å®Œæ•´çš„è¯´æ³•æ˜¯ï¼š"ä¸€æ¡é¾™ã€å“¥ä¿©å¥½ã€ä¸‰æ˜Ÿç…§ã€å››å–œè´¢ã€äº”é­é¦–ã€å…­å…­å…­ã€ä¸ƒä¸ªå·§ã€å…«åŒ¹é©¬ã€ä¹è¿ç¯å’Œåå…¨æœ‰"ã€‚&lt;/p1&gt;
&lt;/center&gt;""")
    token = gr.Textbox(label="AccessToken")
    with gr.Row():
        with gr.Column():
            user_gesture = gr.Number(label="å‡ºæ‹³(0-5ä¹‹é—´çš„æ•°å­—)", value=3)
            user_predict = gr.Dropdown(label="çŒœæ‹³",
                                       choices=['ä¸€æ¡é¾™', 'å“¥ä¿©å¥½', 'ä¸‰æ˜Ÿç…§', 'å››å–œè´¢', 'äº”é­é¦–', 'å…­å…­å…­', 'ä¸ƒä¸ªå·§',
                                                'å…«åŒ¹é©¬', 'ä¹è¿ç¯', 'åå…¨æœ‰'])
            submit_button = gr.Button(value="Goï¼")
        with gr.Column():
            model_gesture = gr.Textbox(label="æ–‡å¿ƒå‡ºæ‹³")
            model_predict = gr.Textbox(label="æ–‡å¿ƒçŒœæ‹³")
    with gr.Row():
        result = gr.Textbox(label="æœ¬è½®ç»“æœ")

    submit_button.click(game_process, [token, user_gesture, user_predict], [result, model_predict, model_gesture])
    </code></pre> 
<h2>comate ææ•ˆ</h2> 
<p>æ˜Ÿæ²³ç¤¾åŒºæœ€è¿‘ä¸Šçº¿æ”¯æŒåœ¨VSCodeä¸­ä¸€é”®å¯åŠ¨Comateã€‚åœ¨æœ¬é¡¹ç›®ä»£ç ç¼–å†™è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä¹Ÿä½“éªŒäº†ä½¿ç”¨Comateè¾…åŠ©è¿›è¡Œä»£ç ç¼–å†™ï¼Œæå¤§æé«˜äº†ç¼–ç æ•ˆç‡ï¼Œç»™aistudioç‚¹èµğŸ‘ã€‚ å…·ä½“çš„ä½¿ç”¨æ–¹æ³•å¯ä»¥å‚è€ƒä¸‹é¢çš„é“¾æ¥ï¼š<a href="https://aistudio.baidu.com/activitydetail/1503019315" rel="nofollow" title="æ™ºèƒ½ä»£ç åŠ©æ‰‹Comateä¸Šçº¿æ˜Ÿæ²³ç¤¾åŒº">æ™ºèƒ½ä»£ç åŠ©æ‰‹Comateä¸Šçº¿æ˜Ÿæ²³ç¤¾åŒº</a><br> ä¸‹é¢åˆ†äº«ä¸€ä¸‹æˆ‘ä½¿ç”¨comateçš„ä¾‹å­ï¼š</p> 
<ol><li>ç”Ÿæˆè¾ƒä¸ºå¤æ‚çš„pythonå­—å…¸ <p class="img-center"><img alt="" height="833" src="https://images2.imgbox.com/99/d7/qg8a4k7l_o.jpg" width="530"></p> </li><li>åè½¬å­—æ®µkeyã€value <p class="img-center"><img alt="" height="759" src="https://images2.imgbox.com/73/4f/aKpcmudC_o.png" width="532"></p> </li><li>ç”Ÿæˆåˆæ­¥çš„gradio appé¡µé¢ <p class="img-center"><img alt="" height="1200" src="https://images2.imgbox.com/e2/59/RTcsC6lf_o.png" width="542"></p> </li></ol> 
<p>å¯ä»¥çœ‹åˆ°ï¼Œç”Ÿæˆçš„ä»£ç ç›¸å½“ä¸é”™ï¼æˆ‘ä¹Ÿæ˜¯æœ€è¿‘åˆšå¼€å§‹æ¥è§¦comate,æ›´å¤šä½¿ç”¨æ–¹æ³•è®©æˆ‘ä»¬ä¸€èµ·æ¢ç´¢ï¼</p> 
<h2>æ•ˆæœå±•ç¤º</h2> 
<p></p> 
<p class="img-center"><img alt="" height="690" src="https://images2.imgbox.com/ba/cd/f6MwZIuK_o.jpg" width="1200"></p> 
<p>Â æ¸¸æˆä½“éªŒåœ°å€ï¼š https://aistudio.baidu.com/application/detail/24086</p> 
<h2>æ€»ç»“</h2> 
<p>é€šè¿‡ERNIE Bot SDKè°ƒç”¨æ–‡å¿ƒå¤§æ¨¡å‹çš„èƒ½åŠ›å¼€å‘å¤§æ¨¡å‹åº”ç”¨æ˜¯ä¸æ˜¯è¶…ç®€å•ï¼Ÿåªéœ€è¦å°†ä½ çš„æƒ³æ³•è½¬åŒ–ä¸ºåˆé€‚çš„prompt,ä»»ä½•æƒ³æ³•éƒ½èƒ½è½»æ˜“å®ç°ï¼<br> ä¸ä¼šå†™prompt?æ²¡å…³ç³»ï¼å…è´¹è¯¾ç¨‹æ•™ä½ ï¼šhttps://aistudio.baidu.com/education/group/info/28604 å¿«åŠ¨åŠ¨è„‘ç­‹ï¼Œè¡ŒåŠ¨èµ·æ¥å§ï¼</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/41b654e553e4abaccf560d01f0de5c92/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">æœåŠ¡å™¨å®‰è£…JDKï¼ŒMavenç­‰å¸¸ç”¨ç¯å¢ƒ</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e45e8870ad460f9027b67f28adb0110e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">Chromeè°·æ­Œæµè§ˆå™¨å¦‚ä½•è®¾ç½®ï¼Œæ‰èƒ½æ­£å¸¸ä½¿ç”¨ï¼Ÿ</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ç¼–ç¨‹å¤§å’–.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>