<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Python 爬虫基础：利用 BeautifulSoup 解析网页内容 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/75aaebebbd5b67715c724456030c212a/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="Python 爬虫基础：利用 BeautifulSoup 解析网页内容">
  <meta property="og:description" content="1. 理解 Python 爬虫基础 在当今信息爆炸的时代，网络上充斥着海量的数据，而网络爬虫作为一种数据采集工具，扮演着至关重要的角色。网络爬虫是一种自动化的程序，可以模拟浏览器访问网页，获取所需信息并进行提取和整合。Python作为一种简洁、易学的编程语言，在网络爬虫领域备受青睐。
Python爬虫的优势主要体现在其丰富的爬虫库和强大的支持功能上。比如，Requests库可以帮助我们轻松实现网页内容的获取；Beautiful Soup库则提供了强大的HTML和XML解析功能，能够帮助我们高效地提取网页信息。
无论是初学者还是有经验的开发者，掌握Python爬虫技术都能让我们轻松地获取网络上的各种数据，为后续的数据分析和应用提供坚实的基础。在本章节中，我们将深入探讨Python爬虫的基础知识，为进一步的学习和实践打下坚实的基础。
2.1 BeautifulSoup 简介 BeautifulSoup 是一个Python库，它可以从HTML或XML文件中提取数据。它为我们提供了一种简便的方式来浏览、搜索和修改HTML/XML文件的内容。下面将详细介绍BeautifulSoup的特点以及安装步骤。
2.1.1 BeautifulSoup 是什么？ BeautifulSoup是Python的一个库，它将复杂的HTML文档转换为一个复杂的树形结构，每个节点都是Python对象。我们可以通过解析这棵树来轻松地获取想要的信息，无需编写复杂的正则表达式。
2.1.2 BeautifulSoup 的特点 以下是BeautifulSoup库的一些主要特点：
支持快速解析和查找HTML内容。提供简单易用的API，使得HTML/XML文档的解析变得简单。能处理不标准的HTML代码，并尝试修正错误的标记。支持模块化扩展，可以通过插件添加新的解析器、过滤器等功能。 2.1.3 安装 BeautifulSoup 要开始使用BeautifulSoup，首先需要安装该库。可以通过pip来安装BeautifulSoup，具体步骤如下：
pip install beautifulsoup4 使用上述命令可以安装最新版本的BeautifulSoup。安装完成后，我们就可以开始使用BeautifulSoup来解析网页内容了。
Mermaid 流程图 下面是一个使用Mermaid格式的流程图，演示了BeautifulSoup解析网页内容的流程：
获取HTML页面 创建BeautifulSoup对象 解析HTML内容 提取所需信息 分析数据 通过以上流程图可以清晰地看到，我们需要首先获取HTML页面，然后创建BeautifulSoup对象对页面进行解析，并最终提取所需的信息进行数据分析。
示例代码 下面是一个简单示例代码，展示了如何使用BeautifulSoup解析HTML内容并提取特定信息：
from bs4 import BeautifulSoup html_doc = &#34;&#34;&#34; &lt;html&gt; &lt;head&gt;&lt;title&gt;Sample Website&lt;/title&gt;&lt;/head&gt; &lt;body&gt; &lt;h1&gt;Welcome to Sample Website&lt;/h1&gt; &lt;p&gt;Here you can find various tutorials.&lt;/p&gt; &lt;a href=&#34;https://www.example.com&#34;&gt;Click here&lt;/a&gt; &lt;/body&gt; &lt;/html&gt; soup = BeautifulSoup(html_doc, &#39;html.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-04-10T10:46:52+08:00">
    <meta property="article:modified_time" content="2024-04-10T10:46:52+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Python 爬虫基础：利用 BeautifulSoup 解析网页内容</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="1__Python__0"></a>1. 理解 Python 爬虫基础</h2> 
<p>在当今信息爆炸的时代，网络上充斥着海量的数据，而网络爬虫作为一种数据采集工具，扮演着至关重要的角色。网络爬虫是一种自动化的程序，可以模拟浏览器访问网页，获取所需信息并进行提取和整合。Python作为一种简洁、易学的编程语言，在网络爬虫领域备受青睐。</p> 
<p>Python爬虫的优势主要体现在其丰富的爬虫库和强大的支持功能上。比如，Requests库可以帮助我们轻松实现网页内容的获取；Beautiful Soup库则提供了强大的HTML和XML解析功能，能够帮助我们高效地提取网页信息。</p> 
<p>无论是初学者还是有经验的开发者，掌握Python爬虫技术都能让我们轻松地获取网络上的各种数据，为后续的数据分析和应用提供坚实的基础。在本章节中，我们将深入探讨Python爬虫的基础知识，为进一步的学习和实践打下坚实的基础。</p> 
<h2><a id="21_BeautifulSoup__8"></a>2.1 BeautifulSoup 简介</h2> 
<p>BeautifulSoup 是一个Python库，它可以从HTML或XML文件中提取数据。它为我们提供了一种简便的方式来浏览、搜索和修改HTML/XML文件的内容。下面将详细介绍BeautifulSoup的特点以及安装步骤。</p> 
<h3><a id="211_BeautifulSoup__12"></a>2.1.1 BeautifulSoup 是什么？</h3> 
<p>BeautifulSoup是Python的一个库，它将复杂的HTML文档转换为一个复杂的树形结构，每个节点都是Python对象。我们可以通过解析这棵树来轻松地获取想要的信息，无需编写复杂的正则表达式。</p> 
<h3><a id="212_BeautifulSoup__16"></a>2.1.2 BeautifulSoup 的特点</h3> 
<p>以下是BeautifulSoup库的一些主要特点：</p> 
<ul><li>支持快速解析和查找HTML内容。</li><li>提供简单易用的API，使得HTML/XML文档的解析变得简单。</li><li>能处理不标准的HTML代码，并尝试修正错误的标记。</li><li>支持模块化扩展，可以通过插件添加新的解析器、过滤器等功能。</li></ul> 
<h3><a id="213__BeautifulSoup_24"></a>2.1.3 安装 BeautifulSoup</h3> 
<p>要开始使用BeautifulSoup，首先需要安装该库。可以通过pip来安装BeautifulSoup，具体步骤如下：</p> 
<pre><code class="prism language-python">pip install beautifulsoup4
</code></pre> 
<p>使用上述命令可以安装最新版本的BeautifulSoup。安装完成后，我们就可以开始使用BeautifulSoup来解析网页内容了。</p> 
<h2><a id="Mermaid__34"></a>Mermaid 流程图</h2> 
<p>下面是一个使用Mermaid格式的流程图，演示了BeautifulSoup解析网页内容的流程：</p> 
<div class="mermaid"> 
 <svg id="mermaid-svg-4nKmL2aX6hzwV99P" width="845.59375" xmlns="http://www.w3.org/2000/svg" height="62" viewbox="0 0 845.59375 62" class="mermaid-svg"> 
  <style>#mermaid-svg-4nKmL2aX6hzwV99P {font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#mermaid-svg-4nKmL2aX6hzwV99P .error-icon{fill:#552222;}#mermaid-svg-4nKmL2aX6hzwV99P .error-text{fill:#552222;stroke:#552222;}#mermaid-svg-4nKmL2aX6hzwV99P .edge-thickness-normal{stroke-width:2px;}#mermaid-svg-4nKmL2aX6hzwV99P .edge-thickness-thick{stroke-width:3.5px;}#mermaid-svg-4nKmL2aX6hzwV99P .edge-pattern-solid{stroke-dasharray:0;}#mermaid-svg-4nKmL2aX6hzwV99P .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-svg-4nKmL2aX6hzwV99P .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-svg-4nKmL2aX6hzwV99P .marker{fill:#333333;stroke:#333333;}#mermaid-svg-4nKmL2aX6hzwV99P .marker.cross{stroke:#333333;}#mermaid-svg-4nKmL2aX6hzwV99P svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-svg-4nKmL2aX6hzwV99P .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#mermaid-svg-4nKmL2aX6hzwV99P .cluster-label text{fill:#333;}#mermaid-svg-4nKmL2aX6hzwV99P .cluster-label span{color:#333;}#mermaid-svg-4nKmL2aX6hzwV99P .label text,#mermaid-svg-4nKmL2aX6hzwV99P span{fill:#333;color:#333;}#mermaid-svg-4nKmL2aX6hzwV99P .node rect,#mermaid-svg-4nKmL2aX6hzwV99P .node circle,#mermaid-svg-4nKmL2aX6hzwV99P .node ellipse,#mermaid-svg-4nKmL2aX6hzwV99P .node polygon,#mermaid-svg-4nKmL2aX6hzwV99P .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-svg-4nKmL2aX6hzwV99P .node .label{text-align:center;}#mermaid-svg-4nKmL2aX6hzwV99P .node.clickable{cursor:pointer;}#mermaid-svg-4nKmL2aX6hzwV99P .arrowheadPath{fill:#333333;}#mermaid-svg-4nKmL2aX6hzwV99P .edgePath .path{stroke:#333333;stroke-width:2.0px;}#mermaid-svg-4nKmL2aX6hzwV99P .flowchart-link{stroke:#333333;fill:none;}#mermaid-svg-4nKmL2aX6hzwV99P .edgeLabel{background-color:#e8e8e8;text-align:center;}#mermaid-svg-4nKmL2aX6hzwV99P .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#mermaid-svg-4nKmL2aX6hzwV99P .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaid-svg-4nKmL2aX6hzwV99P .cluster text{fill:#333;}#mermaid-svg-4nKmL2aX6hzwV99P .cluster span{color:#333;}#mermaid-svg-4nKmL2aX6hzwV99P div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-svg-4nKmL2aX6hzwV99P :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style> 
  <g> 
   <g class="output"> 
    <g class="clusters"></g> 
    <g class="edgePaths"> 
     <g class="edgePath LS-A LE-B" id="L-A-B" style="opacity: 1;"> 
      <path class="path" d="M131.21875,31L135.38541666666666,31C139.55208333333334,31,147.88541666666666,31,156.21875,31C164.55208333333334,31,172.88541666666666,31,177.05208333333334,31L181.21875,31" marker-end="url(#arrowhead259)" style="fill:none"></path> 
      <defs> 
       <marker id="arrowhead259" viewbox="0 0 10 10" refx="9" refy="5" markerunits="strokeWidth" markerwidth="8" markerheight="6" orient="auto"> 
        <path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path> 
       </marker> 
      </defs> 
     </g> 
     <g class="edgePath LS-B LE-C" id="L-B-C" style="opacity: 1;"> 
      <path class="path" d="M364.375,31L368.5416666666667,31C372.7083333333333,31,381.0416666666667,31,389.375,31C397.7083333333333,31,406.0416666666667,31,410.2083333333333,31L414.375,31" marker-end="url(#arrowhead260)" style="fill:none"></path> 
      <defs> 
       <marker id="arrowhead260" viewbox="0 0 10 10" refx="9" refy="5" markerunits="strokeWidth" markerwidth="8" markerheight="6" orient="auto"> 
        <path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path> 
       </marker> 
      </defs> 
     </g> 
     <g class="edgePath LS-C LE-D" id="L-C-D" style="opacity: 1;"> 
      <path class="path" d="M537.59375,31L541.7604166666666,31C545.9270833333334,31,554.2604166666666,31,562.59375,31C570.9270833333334,31,579.2604166666666,31,583.4270833333334,31L587.59375,31" marker-end="url(#arrowhead261)" style="fill:none"></path> 
      <defs> 
       <marker id="arrowhead261" viewbox="0 0 10 10" refx="9" refy="5" markerunits="strokeWidth" markerwidth="8" markerheight="6" orient="auto"> 
        <path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path> 
       </marker> 
      </defs> 
     </g> 
     <g class="edgePath LS-D LE-E" id="L-D-E" style="opacity: 1;"> 
      <path class="path" d="M703.59375,31L707.7604166666666,31C711.9270833333334,31,720.2604166666666,31,728.59375,31C736.9270833333334,31,745.2604166666666,31,749.4270833333334,31L753.59375,31" marker-end="url(#arrowhead262)" style="fill:none"></path> 
      <defs> 
       <marker id="arrowhead262" viewbox="0 0 10 10" refx="9" refy="5" markerunits="strokeWidth" markerwidth="8" markerheight="6" orient="auto"> 
        <path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path> 
       </marker> 
      </defs> 
     </g> 
    </g> 
    <g class="edgeLabels"> 
     <g class="edgeLabel" transform="" style="opacity: 1;"> 
      <g transform="translate(0,0)" class="label"> 
       <rect rx="0" ry="0" width="0" height="0"></rect> 
       <foreignobject width="0" height="0"> 
        <div style="display: inline-block; white-space: nowrap;"> 
         <span id="L-L-A-B" class="edgeLabel L-LS-A' L-LE-B"></span> 
        </div> 
       </foreignobject> 
      </g> 
     </g> 
     <g class="edgeLabel" style="opacity: 1;" transform=""> 
      <g transform="translate(0,0)" class="label"> 
       <rect rx="0" ry="0" width="0" height="0"></rect> 
       <foreignobject width="0" height="0"> 
        <div style="display: inline-block; white-space: nowrap;"> 
         <span id="L-L-B-C" class="edgeLabel L-LS-B' L-LE-C"></span> 
        </div> 
       </foreignobject> 
      </g> 
     </g> 
     <g class="edgeLabel" style="opacity: 1;" transform=""> 
      <g transform="translate(0,0)" class="label"> 
       <rect rx="0" ry="0" width="0" height="0"></rect> 
       <foreignobject width="0" height="0"> 
        <div style="display: inline-block; white-space: nowrap;"> 
         <span id="L-L-C-D" class="edgeLabel L-LS-C' L-LE-D"></span> 
        </div> 
       </foreignobject> 
      </g> 
     </g> 
     <g class="edgeLabel" style="opacity: 1;" transform=""> 
      <g transform="translate(0,0)" class="label"> 
       <rect rx="0" ry="0" width="0" height="0"></rect> 
       <foreignobject width="0" height="0"> 
        <div style="display: inline-block; white-space: nowrap;"> 
         <span id="L-L-D-E" class="edgeLabel L-LS-D' L-LE-E"></span> 
        </div> 
       </foreignobject> 
      </g> 
     </g> 
    </g> 
    <g class="nodes"> 
     <g class="node default" id="flowchart-A-164" transform="translate(69.609375,31)" style="opacity: 1;"> 
      <rect rx="0" ry="0" x="-61.609375" y="-23" width="123.21875" height="46" class="label-container"></rect> 
      <g class="label" transform="translate(0,0)"> 
       <g transform="translate(-51.609375,-13)"> 
        <foreignobject width="103.21875" height="26"> 
         <div style="display: inline-block; white-space: nowrap;">
           获取HTML页面 
         </div> 
        </foreignobject> 
       </g> 
      </g> 
     </g> 
     <g class="node default" id="flowchart-B-165" transform="translate(272.796875,31)" style="opacity: 1;"> 
      <rect rx="0" ry="0" x="-91.578125" y="-23" width="183.15625" height="46" class="label-container"></rect> 
      <g class="label" transform="translate(0,0)"> 
       <g transform="translate(-81.578125,-13)"> 
        <foreignobject width="163.15625" height="26"> 
         <div style="display: inline-block; white-space: nowrap;">
           创建BeautifulSoup对象 
         </div> 
        </foreignobject> 
       </g> 
      </g> 
     </g> 
     <g class="node default" style="opacity: 1;" id="flowchart-C-167" transform="translate(475.984375,31)"> 
      <rect rx="0" ry="0" x="-61.609375" y="-23" width="123.21875" height="46" class="label-container"></rect> 
      <g class="label" transform="translate(0,0)"> 
       <g transform="translate(-51.609375,-13)"> 
        <foreignobject width="103.21875" height="26"> 
         <div style="display: inline-block; white-space: nowrap;">
           解析HTML内容 
         </div> 
        </foreignobject> 
       </g> 
      </g> 
     </g> 
     <g class="node default" style="opacity: 1;" id="flowchart-D-169" transform="translate(645.59375,31)"> 
      <rect rx="0" ry="0" x="-58" y="-23" width="116" height="46" class="label-container"></rect> 
      <g class="label" transform="translate(0,0)"> 
       <g transform="translate(-48,-13)"> 
        <foreignobject width="96" height="26"> 
         <div style="display: inline-block; white-space: nowrap;">
           提取所需信息 
         </div> 
        </foreignobject> 
       </g> 
      </g> 
     </g> 
     <g class="node default" style="opacity: 1;" id="flowchart-E-171" transform="translate(795.59375,31)"> 
      <rect rx="0" ry="0" x="-42" y="-23" width="84" height="46" class="label-container"></rect> 
      <g class="label" transform="translate(0,0)"> 
       <g transform="translate(-32,-13)"> 
        <foreignobject width="64" height="26"> 
         <div style="display: inline-block; white-space: nowrap;">
           分析数据 
         </div> 
        </foreignobject> 
       </g> 
      </g> 
     </g> 
    </g> 
   </g> 
  </g> 
 </svg> 
</div> 
<p>通过以上流程图可以清晰地看到，我们需要首先获取HTML页面，然后创建BeautifulSoup对象对页面进行解析，并最终提取所需的信息进行数据分析。</p> 
<h2><a id="_48"></a>示例代码</h2> 
<p>下面是一个简单示例代码，展示了如何使用BeautifulSoup解析HTML内容并提取特定信息：</p> 
<pre><code class="prism language-python"><span class="token keyword">from</span> bs4 <span class="token keyword">import</span> BeautifulSoup

html_doc <span class="token operator">=</span> <span class="token string">""</span>"
<span class="token operator">&lt;</span>html<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>head<span class="token operator">&gt;</span><span class="token operator">&lt;</span>title<span class="token operator">&gt;</span>Sample Website<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>Welcome to Sample Website<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>Here you can find various tutorials<span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"https://www.example.com"</span><span class="token operator">&gt;</span>Click here<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">&gt;</span>

soup <span class="token operator">=</span> BeautifulSoup<span class="token punctuation">(</span>html_doc<span class="token punctuation">,</span> <span class="token string">'html.parser'</span><span class="token punctuation">)</span>

<span class="token comment"># 提取标题</span>
title <span class="token operator">=</span> soup<span class="token punctuation">.</span>title<span class="token punctuation">.</span>string
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Title:"</span><span class="token punctuation">,</span> title<span class="token punctuation">)</span>

<span class="token comment"># 提取正文内容</span>
paragraph <span class="token operator">=</span> soup<span class="token punctuation">.</span>p<span class="token punctuation">.</span>get_text<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Paragraph:"</span><span class="token punctuation">,</span> paragraph<span class="token punctuation">)</span>

<span class="token comment"># 提取链接</span>
link <span class="token operator">=</span> soup<span class="token punctuation">.</span>a<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'href'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Link:"</span><span class="token punctuation">,</span> link<span class="token punctuation">)</span>
</code></pre> 
<p>以上代码首先定义了一个简单的HTML文档，然后使用BeautifulSoup解析该文档，并提取了标题、正文内容和链接信息，最后输出到控制台。</p> 
<p>通过以上内容的介绍，我们对BeautifulSoup的基本特点、安装方法、流程图和代码示例有了一个清晰的认识。接下来我们将深入学习BeautifulSoup的基础语法和实际应用。</p> 
<h2><a id="3__84"></a>3. 解析网页内容</h2> 
<p>3.1 获取网页内容</p> 
<p>网络爬虫的第一步是获取目标网页的内容，这意味着从网络上下载页面内容。在这一节中，我们将讨论如何使用 Python 中的 Requests 库来获取网页源码。</p> 
<h4><a id="311__Requests__90"></a>3.1.1 使用 Requests 获取网页源码</h4> 
<p>下面是一个简单的示例代码，演示如何使用 Requests 库来获取网页源码：</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> requests

<span class="token comment"># 发送 GET 请求获取网页内容</span>
url <span class="token operator">=</span> <span class="token string">'https://www.example.com'</span>
response <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">)</span>

<span class="token comment"># 打印网页源码</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>text<span class="token punctuation">)</span>
</code></pre> 
<p>在这段代码中，我们首先导入了 Requests 库，然后发送了一个 GET 请求以获取网页的内容。随后，我们使用 <code>.text</code> 属性来访问获取到的 HTML 文本内容。</p> 
<h4><a id="312__107"></a>3.1.2 处理网页编码问题</h4> 
<p>当爬取网页时，经常会遇到不同网页使用不同编码格式的情况。在处理网页编码问题时，我们可以使用 Requests 库的编码自动识别功能。下面是一个示例:</p> 
<pre><code class="prism language-python"><span class="token comment"># 处理网页编码问题</span>
response<span class="token punctuation">.</span>encoding <span class="token operator">=</span> response<span class="token punctuation">.</span>apparent_encoding
<span class="token keyword">print</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>text<span class="token punctuation">)</span>
</code></pre> 
<p>通过将 <code>response.encoding</code> 设置为 <code>response.apparent_encoding</code>，我们可以自动识别网页的编码格式，确保正确解析网页内容。</p> 
<h4><a id="313__119"></a>3.1.3 处理网络异常</h4> 
<p>在实际应用中，网络异常是常见的情况。为了保证爬虫的稳定性，应该对网络异常进行适当处理。我们可以使用 Try-Except 来捕获异常情况，如下所示：</p> 
<pre><code class="prism language-python"><span class="token keyword">try</span><span class="token punctuation">:</span>
    response <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">)</span>
    response<span class="token punctuation">.</span>raise_for_status<span class="token punctuation">(</span><span class="token punctuation">)</span> 
<span class="token keyword">except</span> requests<span class="token punctuation">.</span>exceptions<span class="token punctuation">.</span>RequestException <span class="token keyword">as</span> e<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Error: %s"</span> <span class="token operator">%</span> e<span class="token punctuation">)</span>
</code></pre> 
<p>在这段代码中，我们使用 Try-Except 结构捕获异常，如果请求过程中出现异常，就会打印错误信息。</p> 
<p>在网络爬虫的实践中，获取网页内容是第一步，而合理处理网页编码问题和网络异常是确保爬虫顺利运行的重要环节。掌握这些基础知识将有助于在后续的操作中更好地解析网页内容。</p> 
<h3><a id="_136"></a>网络请求流程</h3> 
<div class="mermaid"> 
 <svg id="mermaid-svg-0rmArXxw1GD0w5hu" width="894.6000366210938" xmlns="http://www.w3.org/2000/svg" height="161.8000030517578" viewbox="0 0 894.6000366210938 161.8000030517578" class="mermaid-svg"> 
  <style>#mermaid-svg-0rmArXxw1GD0w5hu {font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#mermaid-svg-0rmArXxw1GD0w5hu .error-icon{fill:#552222;}#mermaid-svg-0rmArXxw1GD0w5hu .error-text{fill:#552222;stroke:#552222;}#mermaid-svg-0rmArXxw1GD0w5hu .edge-thickness-normal{stroke-width:2px;}#mermaid-svg-0rmArXxw1GD0w5hu .edge-thickness-thick{stroke-width:3.5px;}#mermaid-svg-0rmArXxw1GD0w5hu .edge-pattern-solid{stroke-dasharray:0;}#mermaid-svg-0rmArXxw1GD0w5hu .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-svg-0rmArXxw1GD0w5hu .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-svg-0rmArXxw1GD0w5hu .marker{fill:#333333;stroke:#333333;}#mermaid-svg-0rmArXxw1GD0w5hu .marker.cross{stroke:#333333;}#mermaid-svg-0rmArXxw1GD0w5hu svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-svg-0rmArXxw1GD0w5hu .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#mermaid-svg-0rmArXxw1GD0w5hu .cluster-label text{fill:#333;}#mermaid-svg-0rmArXxw1GD0w5hu .cluster-label span{color:#333;}#mermaid-svg-0rmArXxw1GD0w5hu .label text,#mermaid-svg-0rmArXxw1GD0w5hu span{fill:#333;color:#333;}#mermaid-svg-0rmArXxw1GD0w5hu .node rect,#mermaid-svg-0rmArXxw1GD0w5hu .node circle,#mermaid-svg-0rmArXxw1GD0w5hu .node ellipse,#mermaid-svg-0rmArXxw1GD0w5hu .node polygon,#mermaid-svg-0rmArXxw1GD0w5hu .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-svg-0rmArXxw1GD0w5hu .node .label{text-align:center;}#mermaid-svg-0rmArXxw1GD0w5hu .node.clickable{cursor:pointer;}#mermaid-svg-0rmArXxw1GD0w5hu .arrowheadPath{fill:#333333;}#mermaid-svg-0rmArXxw1GD0w5hu .edgePath .path{stroke:#333333;stroke-width:2.0px;}#mermaid-svg-0rmArXxw1GD0w5hu .flowchart-link{stroke:#333333;fill:none;}#mermaid-svg-0rmArXxw1GD0w5hu .edgeLabel{background-color:#e8e8e8;text-align:center;}#mermaid-svg-0rmArXxw1GD0w5hu .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#mermaid-svg-0rmArXxw1GD0w5hu .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaid-svg-0rmArXxw1GD0w5hu .cluster text{fill:#333;}#mermaid-svg-0rmArXxw1GD0w5hu .cluster span{color:#333;}#mermaid-svg-0rmArXxw1GD0w5hu div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-svg-0rmArXxw1GD0w5hu :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style> 
  <g> 
   <g class="output"> 
    <g class="clusters"></g> 
    <g class="edgePaths"> 
     <g class="edgePath LS-A LE-B" id="L-A-B" style="opacity: 1;"> 
      <path class="path" d="M60,80.9000015258789L64.16666666666667,80.9000015258789C68.33333333333333,80.9000015258789,76.66666666666667,80.9000015258789,85.08333333333333,80.98333485921223C93.5,81.06666819254558,102,81.23333485921223,106.25,81.31666819254558L110.5,81.4000015258789" marker-end="url(#arrowhead289)" style="fill:none"></path> 
      <defs> 
       <marker id="arrowhead289" viewbox="0 0 10 10" refx="9" refy="5" markerunits="strokeWidth" markerwidth="8" markerheight="6" orient="auto"> 
        <path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path> 
       </marker> 
      </defs> 
     </g> 
     <g class="edgePath LS-B LE-C" id="L-B-C" style="opacity: 1;"> 
      <path class="path" d="M227.5,81.4000015258789L231.58333333333334,81.31666819254558C235.66666666666666,81.23333485921223,243.83333333333334,81.06666819254558,252.08333333333334,80.98333485921223C260.3333333333333,80.9000015258789,268.6666666666667,80.9000015258789,272.8333333333333,80.9000015258789L277,80.9000015258789" marker-end="url(#arrowhead290)" style="fill:none"></path> 
      <defs> 
       <marker id="arrowhead290" viewbox="0 0 10 10" refx="9" refy="5" markerunits="strokeWidth" markerwidth="8" markerheight="6" orient="auto"> 
        <path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path> 
       </marker> 
      </defs> 
     </g> 
     <g class="edgePath LS-C LE-D" id="L-C-D" style="opacity: 1;"> 
      <path class="path" d="M393,80.9000015258789L397.1666666666667,80.9000015258789C401.3333333333333,80.9000015258789,409.6666666666667,80.9000015258789,418.08333358764645,80.98333485921223C426.50000050862633,81.06666819254558,435.0000010172527,81.23333485921225,439.25000127156585,81.31666819254558L443.500001525879,81.40000152587892" marker-end="url(#arrowhead291)" style="fill:none"></path> 
      <defs> 
       <marker id="arrowhead291" viewbox="0 0 10 10" refx="9" refy="5" markerunits="strokeWidth" markerwidth="8" markerheight="6" orient="auto"> 
        <path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path> 
       </marker> 
      </defs> 
     </g> 
     <g class="edgePath LS-D LE-E" id="L-D-E" style="opacity: 1;"> 
      <path class="path" d="M589.2999984741213,81.40000152587892L593.383332570394,81.31666819254558C597.4666666666668,81.23333485921225,605.6333348592124,81.06666819254558,613.9666692097982,81.06666819254558C622.3000035603841,81.06666819254558,630.8000040690105,81.23333485921225,635.0500043233236,81.31666819254558L639.3000045776367,81.40000152587892" marker-end="url(#arrowhead292)" style="fill:none"></path> 
      <defs> 
       <marker id="arrowhead292" viewbox="0 0 10 10" refx="9" refy="5" markerunits="strokeWidth" markerwidth="8" markerheight="6" orient="auto"> 
        <path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path> 
       </marker> 
      </defs> 
     </g> 
     <g class="edgePath LS-E LE-F" id="L-E-F" style="opacity: 1;"> 
      <path class="path" d="M785.100001525879,81.40000152587892L789.1833356221517,81.31666819254558C793.2666697184245,81.23333485921225,801.43333791097,81.06666819254558,809.6833386739095,80.98333485921223C817.933339436849,80.9000015258789,826.2666727701823,80.9000015258789,830.433339436849,80.9000015258789L834.6000061035156,80.9000015258789" marker-end="url(#arrowhead293)" style="fill:none"></path> 
      <defs> 
       <marker id="arrowhead293" viewbox="0 0 10 10" refx="9" refy="5" markerunits="strokeWidth" markerwidth="8" markerheight="6" orient="auto"> 
        <path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path> 
       </marker> 
      </defs> 
     </g> 
    </g> 
    <g class="edgeLabels"> 
     <g class="edgeLabel" transform="" style="opacity: 1;"> 
      <g transform="translate(0,0)" class="label"> 
       <rect rx="0" ry="0" width="0" height="0"></rect> 
       <foreignobject width="0" height="0"> 
        <div style="display: inline-block; white-space: nowrap;"> 
         <span id="L-L-A-B" class="edgeLabel L-LS-A' L-LE-B"></span> 
        </div> 
       </foreignobject> 
      </g> 
     </g> 
     <g class="edgeLabel" style="opacity: 1;" transform=""> 
      <g transform="translate(0,0)" class="label"> 
       <rect rx="0" ry="0" width="0" height="0"></rect> 
       <foreignobject width="0" height="0"> 
        <div style="display: inline-block; white-space: nowrap;"> 
         <span id="L-L-B-C" class="edgeLabel L-LS-B' L-LE-C"></span> 
        </div> 
       </foreignobject> 
      </g> 
     </g> 
     <g class="edgeLabel" style="opacity: 1;" transform=""> 
      <g transform="translate(0,0)" class="label"> 
       <rect rx="0" ry="0" width="0" height="0"></rect> 
       <foreignobject width="0" height="0"> 
        <div style="display: inline-block; white-space: nowrap;"> 
         <span id="L-L-C-D" class="edgeLabel L-LS-C' L-LE-D"></span> 
        </div> 
       </foreignobject> 
      </g> 
     </g> 
     <g class="edgeLabel" style="opacity: 1;" transform=""> 
      <g transform="translate(0,0)" class="label"> 
       <rect rx="0" ry="0" width="0" height="0"></rect> 
       <foreignobject width="0" height="0"> 
        <div style="display: inline-block; white-space: nowrap;"> 
         <span id="L-L-D-E" class="edgeLabel L-LS-D' L-LE-E"></span> 
        </div> 
       </foreignobject> 
      </g> 
     </g> 
     <g class="edgeLabel" style="opacity: 1;" transform=""> 
      <g transform="translate(0,0)" class="label"> 
       <rect rx="0" ry="0" width="0" height="0"></rect> 
       <foreignobject width="0" height="0"> 
        <div style="display: inline-block; white-space: nowrap;"> 
         <span id="L-L-E-F" class="edgeLabel L-LS-E' L-LE-F"></span> 
        </div> 
       </foreignobject> 
      </g> 
     </g> 
    </g> 
    <g class="nodes"> 
     <g class="node default" id="flowchart-A-182" transform="translate(34,80.9000015258789)" style="opacity: 1;"> 
      <rect rx="0" ry="0" x="-26" y="-23" width="52" height="46" class="label-container"></rect> 
      <g class="label" transform="translate(0,0)"> 
       <g transform="translate(-16,-13)"> 
        <foreignobject width="32" height="26"> 
         <div style="display: inline-block; white-space: nowrap;">
           开始 
         </div> 
        </foreignobject> 
       </g> 
      </g> 
     </g> 
     <g class="node default" id="flowchart-B-183" transform="translate(168.5,80.9000015258789)" style="opacity: 1;"> 
      <polygon points="58.5,0 117,-58.5 58.5,-117 0,-58.5" transform="translate(-58.5,58.5)" class="label-container"></polygon> 
      <g class="label" transform="translate(0,0)"> 
       <g transform="translate(-32,-13)"> 
        <foreignobject width="64" height="26"> 
         <div style="display: inline-block; white-space: nowrap;">
           网页请求 
         </div> 
        </foreignobject> 
       </g> 
      </g> 
     </g> 
     <g class="node default" style="opacity: 1;" id="flowchart-C-185" transform="translate(335,80.9000015258789)"> 
      <rect rx="0" ry="0" x="-58" y="-23" width="116" height="46" class="label-container"></rect> 
      <g class="label" transform="translate(0,0)"> 
       <g transform="translate(-48,-13)"> 
        <foreignobject width="96" height="26"> 
         <div style="display: inline-block; white-space: nowrap;">
           获取网页内容 
         </div> 
        </foreignobject> 
       </g> 
      </g> 
     </g> 
     <g class="node default" style="opacity: 1;" id="flowchart-D-187" transform="translate(515.9000015258789,80.9000015258789)"> 
      <polygon points="72.9,0 145.8,-72.9 72.9,-145.8 0,-72.9" transform="translate(-72.9,72.9)" class="label-container"></polygon> 
      <g class="label" transform="translate(0,0)"> 
       <g transform="translate(-48,-13)"> 
        <foreignobject width="96" height="26"> 
         <div style="display: inline-block; white-space: nowrap;">
           处理编码问题 
         </div> 
        </foreignobject> 
       </g> 
      </g> 
     </g> 
     <g class="node default" style="opacity: 1;" id="flowchart-E-189" transform="translate(711.7000045776367,80.9000015258789)"> 
      <polygon points="72.9,0 145.8,-72.9 72.9,-145.8 0,-72.9" transform="translate(-72.9,72.9)" class="label-container"></polygon> 
      <g class="label" transform="translate(0,0)"> 
       <g transform="translate(-48,-13)"> 
        <foreignobject width="96" height="26"> 
         <div style="display: inline-block; white-space: nowrap;">
           处理异常情况 
         </div> 
        </foreignobject> 
       </g> 
      </g> 
     </g> 
     <g class="node default" style="opacity: 1;" id="flowchart-F-191" transform="translate(860.6000061035156,80.9000015258789)"> 
      <rect rx="0" ry="0" x="-26" y="-23" width="52" height="46" class="label-container"></rect> 
      <g class="label" transform="translate(0,0)"> 
       <g transform="translate(-16,-13)"> 
        <foreignobject width="32" height="26"> 
         <div style="display: inline-block; white-space: nowrap;">
           结束 
         </div> 
        </foreignobject> 
       </g> 
      </g> 
     </g> 
    </g> 
   </g> 
  </g> 
 </svg> 
</div> 
<h2><a id="4__147"></a>4. 应用与实践</h2> 
<p>在本章中，我们将深入探讨如何应用 Python 爬虫技术来进行网页数据提取以及数据存储与导出。我们将介绍一些常见的网页数据提取技巧，并讨论如何将提取的数据保存到不同的存储介质中，包括文件和数据库。最后，我们将讨论数据清洗与处理的重要性以及爬虫在不同应用场景下的实际应用。</p> 
<h3><a id="41__151"></a>4.1 网页数据提取技巧</h3> 
<p>在进行网页数据提取时，我们经常需要从网页中提取文本信息、图片链接和表格数据等内容。以下是一些常用的网页数据提取技巧：</p> 
<h4><a id="411__155"></a>4.1.1 提取文本信息</h4> 
<p>提取网页中的文本信息是爬虫应用中最常见的任务之一。通过解析网页内容，可以轻松提取所需的文本信息。以下是使用 BeautifulSoup 库提取文本信息的示例代码：</p> 
<pre><code class="prism language-python"><span class="token keyword">from</span> bs4 <span class="token keyword">import</span> BeautifulSoup
<span class="token keyword">import</span> requests

url <span class="token operator">=</span> <span class="token string">'https://example.com'</span>
response <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">)</span>
soup <span class="token operator">=</span> BeautifulSoup<span class="token punctuation">(</span>response<span class="token punctuation">.</span>content<span class="token punctuation">,</span> <span class="token string">'html.parser'</span><span class="token punctuation">)</span>
text <span class="token operator">=</span> soup<span class="token punctuation">.</span>get_text<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span>
</code></pre> 
<p>通过上述代码，我们可以获取网页的文本信息并打印输出。</p> 
<h4><a id="412__172"></a>4.1.2 提取图片链接</h4> 
<p>有时候我们需要提取网页中的图片链接，以便进一步下载图片或进行其他处理。下面是一个简单的示例代码用于提取图片链接：</p> 
<pre><code class="prism language-python"><span class="token keyword">from</span> bs4 <span class="token keyword">import</span> BeautifulSoup
<span class="token keyword">import</span> requests

url <span class="token operator">=</span> <span class="token string">'https://example.com'</span>
response <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">)</span>
soup <span class="token operator">=</span> BeautifulSoup<span class="token punctuation">(</span>response<span class="token punctuation">.</span>content<span class="token punctuation">,</span> <span class="token string">'html.parser'</span><span class="token punctuation">)</span>
images <span class="token operator">=</span> soup<span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token string">'img'</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> img <span class="token keyword">in</span> images<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>img<span class="token punctuation">[</span><span class="token string">'src'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> 
<p>上述代码将输出网页中所有图片的链接地址。</p> 
<h4><a id="413__190"></a>4.1.3 提取表格数据</h4> 
<p>提取表格数据通常涉及到定位表格元素并逐行/列提取数据。下面是一个示例代码用于提取网页中表格数据：</p> 
<pre><code class="prism language-python"><span class="token keyword">from</span> bs4 <span class="token keyword">import</span> BeautifulSoup
<span class="token keyword">import</span> requests

url <span class="token operator">=</span> <span class="token string">'https://example.com'</span>
response <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">)</span>
soup <span class="token operator">=</span> BeautifulSoup<span class="token punctuation">(</span>response<span class="token punctuation">.</span>content<span class="token punctuation">,</span> <span class="token string">'html.parser'</span><span class="token punctuation">)</span>
table <span class="token operator">=</span> soup<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">'table'</span><span class="token punctuation">)</span>
rows <span class="token operator">=</span> table<span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token string">'tr'</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> row <span class="token keyword">in</span> rows<span class="token punctuation">:</span>
    cells <span class="token operator">=</span> row<span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token string">'td'</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> cell <span class="token keyword">in</span> cells<span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>cell<span class="token punctuation">.</span>text<span class="token punctuation">)</span>
</code></pre> 
<p>通过上述代码，我们可以按行或按列提取表格数据中的内容。</p> 
<h3><a id="42__211"></a>4.2 数据存储与导出</h3> 
<p>爬取到的数据通常需要进行存储与导出，以备后续分析或应用。这里我们将介绍如何将数据保存到文件、存储到数据库以及导出到 Excel 文件中。</p> 
<h4><a id="421__215"></a>4.2.1 将数据保存到文件</h4> 
<p>将数据保存到文件是最简单的方式之一，可以选择保存为文本文件或者 CSV 文件。以下是一个简单的例子：</p> 
<pre><code class="prism language-python">data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'data1'</span><span class="token punctuation">,</span> <span class="token string">'data2'</span><span class="token punctuation">,</span> <span class="token string">'data3'</span><span class="token punctuation">]</span>

<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'data.txt'</span><span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token builtin">file</span><span class="token punctuation">:</span>
    <span class="token keyword">for</span> item <span class="token keyword">in</span> data<span class="token punctuation">:</span>
        <span class="token builtin">file</span><span class="token punctuation">.</span>write<span class="token punctuation">(</span>item <span class="token operator">+</span> <span class="token string">'\n'</span><span class="token punctuation">)</span>
</code></pre> 
<p>通过上述代码，我们将数据保存到名为 <code>data.txt</code> 的文本文件中。</p> 
<h4><a id="422__229"></a>4.2.2 将数据存储到数据库</h4> 
<p>如果数据量较大或需要进行复杂查询，通常会选择将数据存储到数据库中。以下是一个使用 SQLite3 存储数据的示例：</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sqlite3

conn <span class="token operator">=</span> sqlite3<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token string">'data.db'</span><span class="token punctuation">)</span>
cursor <span class="token operator">=</span> conn<span class="token punctuation">.</span>cursor<span class="token punctuation">(</span><span class="token punctuation">)</span>

cursor<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token triple-quoted-string string">'''CREATE TABLE IF NOT EXISTS data_table (data text)'''</span><span class="token punctuation">)</span>

data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'data1'</span><span class="token punctuation">,</span> <span class="token string">'data2'</span><span class="token punctuation">,</span> <span class="token string">'data3'</span><span class="token punctuation">]</span>

<span class="token keyword">for</span> item <span class="token keyword">in</span> data<span class="token punctuation">:</span>
    cursor<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token string">"INSERT INTO data_table (data) VALUES (?)"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>item<span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

conn<span class="token punctuation">.</span>commit<span class="token punctuation">(</span><span class="token punctuation">)</span>
conn<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p>通过上述代码，我们将数据存储到名为 <code>data.db</code> 的 SQLite 数据库表中。</p> 
<h4><a id="423__Excel__252"></a>4.2.3 数据导出到 Excel 文件</h4> 
<p>有时候需要将数据导出到 Excel 文件中以便进行数据分析或与他人共享。以下是一个使用 Pandas 库导出数据到 Excel 文件的示例：</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd

data <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token string">'A'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
df <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>data<span class="token punctuation">)</span>

df<span class="token punctuation">.</span>to_excel<span class="token punctuation">(</span><span class="token string">'data.xlsx'</span><span class="token punctuation">,</span> index<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>
</code></pre> 
<p>以上代码将数据导出为 Excel 文件 <code>data.xlsx</code>。</p> 
<p>通过本章节的介绍，读者可以了解到如何应用 Python 爬虫技术进行网页数据提取以及数据存储与导出，为进一步的数据分析和应用打下基础。网络爬虫技术的应用不仅限于简单的数据采集，还可结合数据分析、机器学习等技术，为各行各业提供更多可能性。</p> 
<h2><a id="5__269"></a>5. 数据清洗与处理</h2> 
<p>在爬取网页数据的过程中，我们往往会遇到各种异常情况和需要清洗的数据。本章将介绍如何处理提取数据中的异常情况，数据清洗技巧以及如何利用正则表达式辅助数据清洗。</p> 
<h4><a id="51__273"></a>5.1 处理提取数据中的异常情况</h4> 
<p>在爬虫过程中，数据有可能存在缺失、重复或异常格式等问题，需要进行各种异常情况处理，以下是一些常见的数据异常情况处理方法：</p> 
<ol><li>数据去重：使用集合或字典对数据进行去重处理。</li><li>缺失值处理：填充缺失值、删除缺失值、插值填充等方法。</li><li>异常值处理：判断异常值的范围或利用异常检测算法进行处理。</li></ol> 
<h4><a id="52__281"></a>5.2 数据清洗技巧</h4> 
<p>数据清洗是数据分析中至关重要的一环，有效的数据清洗可以提高数据质量和分析结果的准确性。以下是一些数据清洗的常用技巧：</p> 
<ul><li>删除重复数据：通过唯一标识符或全部字段的对比删除重复数据。</li><li>处理缺失值：填充缺失值、删除缺失值或使用聚合值填充方法。</li><li>格式统一化：统一日期格式、字符串格式等，方便后续分析。</li><li>异常值处理：判断异常值的来源及处理方式，避免对结果产生误导。</li></ul> 
<h4><a id="53__290"></a>5.3 使用正则表达式辅助数据清洗</h4> 
<p>正则表达式在数据清洗中起到了关键的作用，它可以帮助我们快速匹配和提取符合规则的数据。以下是一些正则表达式在数据清洗中的应用场景：</p> 
<ul><li>提取文本中的特定模式数据，如手机号码、邮箱地址等。</li><li>对文本进行分割、替换和匹配，提取需要的信息。</li><li>清洗特殊字符，去除无效信息或格式化数据。</li></ul> 
<p>接下来，我们通过一个简单的示例来展示如何处理提取数据中的异常情况。</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd

<span class="token comment"># 创建一个包含异常数据的DataFrame</span>
data <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token string">'A'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token boolean">None</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string">'B'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'apple'</span><span class="token punctuation">,</span> <span class="token string">'banana'</span><span class="token punctuation">,</span> <span class="token string">'cherry'</span><span class="token punctuation">,</span> <span class="token string">'durian'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">]</span><span class="token punctuation">}</span>

df <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>data<span class="token punctuation">)</span>

<span class="token comment"># 填充缺失值</span>
df<span class="token punctuation">[</span><span class="token string">'A'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>fillna<span class="token punctuation">(</span>df<span class="token punctuation">[</span><span class="token string">'A'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> inplace<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>

<span class="token comment"># 删除空字符串数据</span>
df <span class="token operator">=</span> df<span class="token punctuation">[</span>df<span class="token punctuation">[</span><span class="token string">'B'</span><span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token string">''</span><span class="token punctuation">]</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>df<span class="token punctuation">)</span>
</code></pre> 
<p>在上面的示例中，我们通过 Pandas 库处理了包含缺失值和空字符串的数据，填充了缺失值并删除了空字符串数据，以保证数据的完整性和准确性。</p> 
<p>下面是处理后的数据结果：</p> 
<table><thead><tr><th align="right"></th><th>A</th><th align="right">B</th></tr></thead><tbody><tr><td align="right">0</td><td>1</td><td align="right">apple</td></tr><tr><td align="right">1</td><td>2</td><td align="right">banana</td></tr><tr><td align="right">3</td><td>4</td><td align="right">durian</td></tr></tbody></table> 
<p>通过以上方式，我们可以有效处理数据中的异常情况，保证数据质量和分析结果的准确性。</p> 
<p>流程图演示如下：</p> 
<div class="mermaid"> 
 <svg id="mermaid-svg-hE4ozccydsnOmIPy" width="266" xmlns="http://www.w3.org/2000/svg" height="490.20001220703125" viewbox="0 0 266 490.20001220703125" class="mermaid-svg"> 
  <style>#mermaid-svg-hE4ozccydsnOmIPy {font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#mermaid-svg-hE4ozccydsnOmIPy .error-icon{fill:#552222;}#mermaid-svg-hE4ozccydsnOmIPy .error-text{fill:#552222;stroke:#552222;}#mermaid-svg-hE4ozccydsnOmIPy .edge-thickness-normal{stroke-width:2px;}#mermaid-svg-hE4ozccydsnOmIPy .edge-thickness-thick{stroke-width:3.5px;}#mermaid-svg-hE4ozccydsnOmIPy .edge-pattern-solid{stroke-dasharray:0;}#mermaid-svg-hE4ozccydsnOmIPy .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-svg-hE4ozccydsnOmIPy .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-svg-hE4ozccydsnOmIPy .marker{fill:#333333;stroke:#333333;}#mermaid-svg-hE4ozccydsnOmIPy .marker.cross{stroke:#333333;}#mermaid-svg-hE4ozccydsnOmIPy svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-svg-hE4ozccydsnOmIPy .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#mermaid-svg-hE4ozccydsnOmIPy .cluster-label text{fill:#333;}#mermaid-svg-hE4ozccydsnOmIPy .cluster-label span{color:#333;}#mermaid-svg-hE4ozccydsnOmIPy .label text,#mermaid-svg-hE4ozccydsnOmIPy span{fill:#333;color:#333;}#mermaid-svg-hE4ozccydsnOmIPy .node rect,#mermaid-svg-hE4ozccydsnOmIPy .node circle,#mermaid-svg-hE4ozccydsnOmIPy .node ellipse,#mermaid-svg-hE4ozccydsnOmIPy .node polygon,#mermaid-svg-hE4ozccydsnOmIPy .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-svg-hE4ozccydsnOmIPy .node .label{text-align:center;}#mermaid-svg-hE4ozccydsnOmIPy .node.clickable{cursor:pointer;}#mermaid-svg-hE4ozccydsnOmIPy .arrowheadPath{fill:#333333;}#mermaid-svg-hE4ozccydsnOmIPy .edgePath .path{stroke:#333333;stroke-width:2.0px;}#mermaid-svg-hE4ozccydsnOmIPy .flowchart-link{stroke:#333333;fill:none;}#mermaid-svg-hE4ozccydsnOmIPy .edgeLabel{background-color:#e8e8e8;text-align:center;}#mermaid-svg-hE4ozccydsnOmIPy .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#mermaid-svg-hE4ozccydsnOmIPy .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaid-svg-hE4ozccydsnOmIPy .cluster text{fill:#333;}#mermaid-svg-hE4ozccydsnOmIPy .cluster span{color:#333;}#mermaid-svg-hE4ozccydsnOmIPy div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-svg-hE4ozccydsnOmIPy :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style> 
  <g> 
   <g class="output"> 
    <g class="clusters"></g> 
    <g class="edgePaths"> 
     <g class="edgePath LS-A LE-B" id="L-A-B" style="opacity: 1;"> 
      <path class="path" d="M125,54L125,58.166666666666664C125,62.333333333333336,125,70.66666666666667,125,79C125,87.33333333333333,125,95.66666666666667,125,99.83333333333333L125,104" marker-end="url(#arrowhead313)" style="fill:none"></path> 
      <defs> 
       <marker id="arrowhead313" viewbox="0 0 10 10" refx="9" refy="5" markerunits="strokeWidth" markerwidth="8" markerheight="6" orient="auto"> 
        <path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path> 
       </marker> 
      </defs> 
     </g> 
     <g class="edgePath LS-B LE-C" id="L-B-C" style="opacity: 1;"> 
      <path class="path" d="M125,150L125,154.16666666666666C125,158.33333333333334,125,166.66666666666666,125.08333333333333,175.0833335876465C125.16666666666667,183.5000005086263,125.33333333333333,192.00000101725263,125.41666666666667,196.2500012715658L125.5,200.50000152587896" marker-end="url(#arrowhead314)" style="fill:none"></path> 
      <defs> 
       <marker id="arrowhead314" viewbox="0 0 10 10" refx="9" refy="5" markerunits="strokeWidth" markerwidth="8" markerheight="6" orient="auto"> 
        <path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path> 
       </marker> 
      </defs> 
     </g> 
     <g class="edgePath LS-C LE-D" id="L-C-D" style="opacity: 1;"> 
      <path class="path" d="M94.38917634660099,329.58917482072206L86.99098028883417,341.0243118419754C79.59278423106733,352.4594488632288,64.79639211553366,375.3297229057355,57.39819605776683,393.0981932603222C50,410.8666636149089,50,423.5333302815755,50,429.8666636149089L50,436.1999969482422" marker-end="url(#arrowhead315)" style="fill:none"></path> 
      <defs> 
       <marker id="arrowhead315" viewbox="0 0 10 10" refx="9" refy="5" markerunits="strokeWidth" markerwidth="8" markerheight="6" orient="auto"> 
        <path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path> 
       </marker> 
      </defs> 
     </g> 
     <g class="edgePath LS-C LE-E" id="L-C-E" style="opacity: 1;"> 
      <path class="path" d="M156.61082483870115,329.58917668717777L163.84235403225094,341.0243133973552C171.07388322580076,352.4594501075326,185.53694161290036,375.3297235278874,192.76847080645018,393.0981935713981C200,410.8666636149089,200,423.5333302815755,200,429.8666636149089L200,436.1999969482422" marker-end="url(#arrowhead316)" style="fill:none"></path> 
      <defs> 
       <marker id="arrowhead316" viewbox="0 0 10 10" refx="9" refy="5" markerunits="strokeWidth" markerwidth="8" markerheight="6" orient="auto"> 
        <path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path> 
       </marker> 
      </defs> 
     </g> 
    </g> 
    <g class="edgeLabels"> 
     <g class="edgeLabel" transform="" style="opacity: 1;"> 
      <g transform="translate(0,0)" class="label"> 
       <rect rx="0" ry="0" width="0" height="0"></rect> 
       <foreignobject width="0" height="0"> 
        <div style="display: inline-block; white-space: nowrap;"> 
         <span id="L-L-A-B" class="edgeLabel L-LS-A' L-LE-B"></span> 
        </div> 
       </foreignobject> 
      </g> 
     </g> 
     <g class="edgeLabel" style="opacity: 1;" transform=""> 
      <g transform="translate(0,0)" class="label"> 
       <rect rx="0" ry="0" width="0" height="0"></rect> 
       <foreignobject width="0" height="0"> 
        <div style="display: inline-block; white-space: nowrap;"> 
         <span id="L-L-B-C" class="edgeLabel L-LS-B' L-LE-C"></span> 
        </div> 
       </foreignobject> 
      </g> 
     </g> 
     <g class="edgeLabel" style="opacity: 1;" transform="translate(50,398.1999969482422)"> 
      <g transform="translate(-16,-13)" class="label"> 
       <rect rx="0" ry="0" width="32" height="26"></rect> 
       <foreignobject width="32" height="26"> 
        <div style="display: inline-block; white-space: nowrap;"> 
         <span id="L-L-C-D" class="edgeLabel L-LS-C' L-LE-D">通过</span> 
        </div> 
       </foreignobject> 
      </g> 
     </g> 
     <g class="edgeLabel" style="opacity: 1;" transform="translate(200,398.1999969482422)"> 
      <g transform="translate(-24,-13)" class="label"> 
       <rect rx="0" ry="0" width="48" height="26"></rect> 
       <foreignobject width="48" height="26"> 
        <div style="display: inline-block; white-space: nowrap;"> 
         <span id="L-L-C-E" class="edgeLabel L-LS-C' L-LE-E">不通过</span> 
        </div> 
       </foreignobject> 
      </g> 
     </g> 
    </g> 
    <g class="nodes"> 
     <g class="node default" id="flowchart-A-200" transform="translate(125,31)" style="opacity: 1;"> 
      <rect rx="0" ry="0" x="-26" y="-23" width="52" height="46" class="label-container"></rect> 
      <g class="label" transform="translate(0,0)"> 
       <g transform="translate(-16,-13)"> 
        <foreignobject width="32" height="26"> 
         <div style="display: inline-block; white-space: nowrap;">
           开始 
         </div> 
        </foreignobject> 
       </g> 
      </g> 
     </g> 
     <g class="node default" id="flowchart-B-201" transform="translate(125,127)" style="opacity: 1;"> 
      <rect rx="5" ry="5" x="-42" y="-23" width="84" height="46" class="label-container"></rect> 
      <g class="label" transform="translate(0,0)"> 
       <g transform="translate(-32,-13)"> 
        <foreignobject width="64" height="26"> 
         <div style="display: inline-block; white-space: nowrap;">
           数据清洗 
         </div> 
        </foreignobject> 
       </g> 
      </g> 
     </g> 
     <g class="node default" style="opacity: 1;" id="flowchart-C-203" transform="translate(125,280.0999984741211)"> 
      <polygon points="80.10000000000001,0 160.20000000000002,-80.10000000000001 80.10000000000001,-160.20000000000002 0,-80.10000000000001" transform="translate(-80.10000000000001,80.10000000000001)" class="label-container"></polygon> 
      <g class="label" transform="translate(0,0)"> 
       <g transform="translate(-56,-13)"> 
        <foreignobject width="112" height="26"> 
         <div style="display: inline-block; white-space: nowrap;">
           数据有效性检查 
         </div> 
        </foreignobject> 
       </g> 
      </g> 
     </g> 
     <g class="node default" style="opacity: 1;" id="flowchart-D-205" transform="translate(50,459.1999969482422)"> 
      <rect rx="0" ry="0" x="-42" y="-23" width="84" height="46" class="label-container"></rect> 
      <g class="label" transform="translate(0,0)"> 
       <g transform="translate(-32,-13)"> 
        <foreignobject width="64" height="26"> 
         <div style="display: inline-block; white-space: nowrap;">
           清洗数据 
         </div> 
        </foreignobject> 
       </g> 
      </g> 
     </g> 
     <g class="node default" style="opacity: 1;" id="flowchart-E-207" transform="translate(200,459.1999969482422)"> 
      <rect rx="0" ry="0" x="-58" y="-23" width="116" height="46" class="label-container"></rect> 
      <g class="label" transform="translate(0,0)"> 
       <g transform="translate(-48,-13)"> 
        <foreignobject width="96" height="26"> 
         <div style="display: inline-block; white-space: nowrap;">
           数据清洗结束 
         </div> 
        </foreignobject> 
       </g> 
      </g> 
     </g> 
    </g> 
   </g> 
  </g> 
 </svg> 
</div> 
<p>在数据清洗阶段，及时发现并解决数据中的异常情况，是保证后续数据分析结果准确性的重要步骤。通过合理的数据清洗技巧和正则表达式的应用，可以更好地处理和利用爬取的数据。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b2e65b9d3ed1c63f6e6fac9ee55f9ede/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Ai绘画｜如何安装使用秋叶comfyui整合包，手把手详细教程</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c7e6b6741f1b2414c9825ca101d00d69/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">SpringBoot前后端分离项目，打包、部署到服务器详细图文流程_springboot前后端分离项目怎么部署</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>