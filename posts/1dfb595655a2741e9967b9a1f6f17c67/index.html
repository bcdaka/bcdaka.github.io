<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>R 语言学习教程，从入门到精通，R的安装与环境的配置（3） - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/1dfb595655a2741e9967b9a1f6f17c67/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="R 语言学习教程，从入门到精通，R的安装与环境的配置（3）">
  <meta property="og:description" content="1、R 基础语法 一门新的语言学习一般是从输出 “Hello, World!” 程序开始，R 语言的 “Hello, World!” 程序代码如下：
myString &lt;- &#34;Hello, World!&#34; print ( myString ) 以上示例将字符串 “Hello, World!” 赋值给 myString 变量，然后使用 print() 函数输出。
注意：R 语言赋值使用的是左箭头 &lt;- 符号，不过一些新版本也支持等号 =。
1.1、变量 R 语言的有效的变量名称由字母，数字以及点号 . 或下划线 _ 组成。
变量名称以字母或点开头。
1.2、变量赋值 最新版本的 R 语言的赋值可以使用左箭头 &lt;-、等号 = 、右箭头 -&gt; 赋值:
# 使用等号 = 号赋值 &gt; var.1 = c(0,1,2,3) &gt; print(var.1) [1] 0 1 2 3 # 使用左箭头 &lt;-赋值 &gt; var.2 &lt;- c(&#34;">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-08-03T18:44:36+08:00">
    <meta property="article:modified_time" content="2024-08-03T18:44:36+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">R 语言学习教程，从入门到精通，R的安装与环境的配置（3）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="1R__0"></a>1、R 基础语法</h2> 
<p>一门新的语言学习一般是从输出 “Hello, World!” 程序开始，R 语言的 “Hello, World!” 程序代码如下：</p> 
<pre><code class="prism language-scala">myString <span class="token keyword">&lt;-</span> <span class="token string">"Hello, World!"</span>
print <span class="token punctuation">(</span> myString <span class="token punctuation">)</span>
</code></pre> 
<p>以上示例将字符串 “Hello, World!” 赋值给 myString 变量，然后使用 print() 函数输出。<br> 注意：R 语言赋值使用的是左箭头 &lt;- 符号，不过一些新版本也支持等号 =。</p> 
<h3><a id="11_8"></a>1.1、变量</h3> 
<p>R 语言的有效的变量名称由字母，数字以及点号 . 或下划线 _ 组成。<br> 变量名称以字母或点开头。<br> <img src="https://images2.imgbox.com/d3/cc/o064TDeI_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="12_12"></a>1.2、变量赋值</h3> 
<p>最新版本的 R 语言的赋值可以使用左箭头 &lt;-、等号 = 、右箭头 -&gt; 赋值:</p> 
<pre><code class="prism language-scala"># 使用等号 <span class="token operator">=</span> 号赋值
<span class="token operator">&gt;</span> <span class="token keyword">var</span><span class="token number">.1</span> <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span>           
<span class="token operator">&gt;</span> print<span class="token punctuation">(</span><span class="token keyword">var</span><span class="token number">.1</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">0</span> <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span>
# 使用左箭头 <span class="token keyword">&lt;-</span>赋值
<span class="token operator">&gt;</span> <span class="token keyword">var</span><span class="token number">.2</span> <span class="token keyword">&lt;-</span> c<span class="token punctuation">(</span><span class="token string">"learn"</span><span class="token punctuation">,</span><span class="token string">"R"</span><span class="token punctuation">)</span>   
<span class="token operator">&gt;</span> print<span class="token punctuation">(</span><span class="token keyword">var</span><span class="token number">.2</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token string">"learn"</span> <span class="token string">"R"</span>
# 使用右箭头 <span class="token keyword">&lt;-</span> 赋值
<span class="token operator">&gt;</span> c<span class="token punctuation">(</span>TRUE<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token keyword">var</span><span class="token number">.3</span>
<span class="token operator">&gt;</span> print<span class="token punctuation">(</span><span class="token keyword">var</span><span class="token number">.3</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">1</span> <span class="token number">1</span>
</code></pre> 
<p>查看已定义的变量可以使用 ls() 函数：</p> 
<pre><code class="prism language-scala"><span class="token operator">&gt;</span> print<span class="token punctuation">(</span>ls<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token string">"var.1"</span> <span class="token string">"var.2"</span> <span class="token string">"var.3"</span>
</code></pre> 
<p>删除变量可以使用 rm() 函数：</p> 
<pre><code class="prism language-scala"><span class="token operator">&gt;</span> rm<span class="token punctuation">(</span><span class="token keyword">var</span><span class="token number">.3</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span> print<span class="token punctuation">(</span>ls<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token string">"var.1"</span> <span class="token string">"var.2"</span>
<span class="token operator">&gt;</span>
</code></pre> 
<p>上一章节中我们已经学会来如何安装 R 的编程环境，接下来我们将为大家介绍 R 语言的交互式编程与文件脚本编程。</p> 
<h3><a id="13_41"></a>1.3、交互式编程</h3> 
<p>我们只需要在命令行中执行 R 命令就可以进入交互式的编程窗口：</p> 
<pre><code class="prism language-r">R
</code></pre> 
<p>执行完这个命令后会调出 R 语言的解释器，我们在 &gt; 符后面输入代码即可。<br> 交互式命令可以通过输入 q() 来退出：</p> 
<pre><code class="prism language-r"><span class="token operator">&gt;</span> q<span class="token punctuation">(</span><span class="token punctuation">)</span>
Save workspace image? <span class="token punctuation">[</span>y<span class="token operator">/</span>n<span class="token operator">/</span>c<span class="token punctuation">]</span><span class="token operator">:</span> y
</code></pre> 
<h3><a id="14_52"></a>1.4、文件脚本</h3> 
<p>R 语言文件后缀为 .R。<br> 接下来我们创建一个 nhooo-test.R 文件：代码如下：<br> nhooo-test.R 文件<br> myString &lt;- “nhooo”<br> print ( myString )<br> 接下来我们在命令行窗口使用 Rscript 来执行该脚本：</p> 
<pre><code class="prism language-r">Rscript nhooo<span class="token operator">-</span>test.R
</code></pre> 
<p>输出结果如下：</p> 
<pre><code class="prism language-r"><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token string">"nhooo"</span>
</code></pre> 
<h3><a id="14_66"></a>1.4、输入输出</h3> 
<p>print() 输出<br> print() 是 R 语言的输出函数。<br> 和其他编程语言一样，R 语言支持数字、字符等输出。<br> 输出的语句十分简单：</p> 
<pre><code class="prism language-r">print<span class="token punctuation">(</span><span class="token string">"nhooo"</span><span class="token punctuation">)</span>
print<span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span>
print<span class="token punctuation">(</span><span class="token number">3e2</span><span class="token punctuation">)</span>
</code></pre> 
<p>执行结果：</p> 
<pre><code class="prism language-r"><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token string">"nhooo"</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">123</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">300</span>
</code></pre> 
<pre><code class="prism language-r">R 语言与 node.js 和 Python 一样，是解释型的语言，所以我们往往可以像使用命令行一样使用 R 语言。
如果我们在一行上进输入一个值，那么 R 也会把它直接标准化输出：
</code></pre> 
<pre><code class="prism language-r"><span class="token operator">&gt;</span> <span class="token number">5e-2</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">0.05</span>
</code></pre> 
<h3><a id="15cat__90"></a>1.5、cat() 函数</h3> 
<p>如果需要输出结果的拼接，我们可以使用 cat() 函数：</p> 
<pre><code class="prism language-r"><span class="token operator">&gt;</span> cat<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"加"</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"等于"</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'\n'</span><span class="token punctuation">)</span>
<span class="token number">1</span> 加 <span class="token number">1</span> 等于 <span class="token number">2</span>
</code></pre> 
<p>cat() 函数会在每两个拼接元素之间自动加上空格。</p> 
<h3><a id="16_97"></a>1.6、输出内容到文件</h3> 
<p>R 语言输出到文件的方法十分多样，而且很方便。<br> cat() 函数支持直接输出结果到文件：</p> 
<pre><code class="prism language-r">cat<span class="token punctuation">(</span><span class="token string">"nhooo"</span><span class="token punctuation">,</span> file<span class="token operator">=</span><span class="token string">"/Users/nhooo/nhooo-test/r_test.txt"</span><span class="token punctuation">)</span>
</code></pre> 
<p>这个语句不会在控制台产生结果，而是把 “nhooo” 输出到 “/Users/nhooo/nhooo-test/r_test.txt” 文件中去。<br> file 参数可以是绝对路径或相对路径，建议使用绝对路径，Windows 路径格式为 D:\r_test.txt。</p> 
<pre><code class="prism language-r">cat<span class="token punctuation">(</span><span class="token string">"nhooo"</span><span class="token punctuation">,</span> file<span class="token operator">=</span><span class="token string">"D:\\r_test.txt"</span><span class="token punctuation">)</span>
</code></pre> 
<p>注意：这个操作是"覆盖写入"操作，请谨慎使用，因为它会将输出文件的原有数据清除。如果想"追加写入"，请不要忘记设置 append 参数：</p> 
<pre><code class="prism language-r">cat<span class="token punctuation">(</span><span class="token string">"GOOGLE"</span><span class="token punctuation">,</span> file<span class="token operator">=</span><span class="token string">"/Users/nhooo/nhooo-test/r_test.txt"</span><span class="token punctuation">,</span> append<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">)</span>
</code></pre> 
<p>执行以上代码后，打开 r_test.txt 文件内容如下：</p> 
<pre><code class="prism language-r">nhoooGOOGLE
</code></pre> 
<h3><a id="17sink_116"></a>1.7、sink()</h3> 
<p>sink() 函数可以把控制台输出的文字直接输出到文件中去：</p> 
<pre><code class="prism language-r">sink<span class="token punctuation">(</span><span class="token string">"/Users/nhooo/nhooo-test/r_test.txt"</span><span class="token punctuation">)</span>
</code></pre> 
<p>这条语句执行以后，任何控制台上的输出都会被写入到 “/Users/nhooo/nhooo-test/r_test.txt” 文件中去，控制台将不会显示输出。<br> 注意：这个操作也是"覆盖写入"操作，会直接清除原有的文件内容。<br> 如果我们依然像保留控制台的输出，可以设置 split 属性：</p> 
<pre><code class="prism language-r">sink<span class="token punctuation">(</span><span class="token string">"/Users/nhooo/nhooo-test/r_test.txt"</span><span class="token punctuation">,</span> split<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">)</span>
</code></pre> 
<p>如果想取消输出到文件，可以调用无参数的 sink ：</p> 
<pre><code class="prism language-r">sink<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-r">sink<span class="token punctuation">(</span><span class="token string">"r_test.txt"</span><span class="token punctuation">,</span> split<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">)</span>  <span class="token comment"># 控制台同样输出</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token keyword">in</span> <span class="token number">1</span><span class="token operator">:</span><span class="token number">5</span><span class="token punctuation">)</span> 
    print<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
sink<span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment"># 取消输出到文件</span>

sink<span class="token punctuation">(</span><span class="token string">"r_test.txt"</span><span class="token punctuation">,</span> append<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">)</span> <span class="token comment"># 控制台不输出，追加写入文件</span>
print<span class="token punctuation">(</span><span class="token string">"nhooo"</span><span class="token punctuation">)</span>
</code></pre> 
<p>执行以上代码，当前目录下会生存一个 r_test.txt 文件，打开文件内容如下：</p> 
<pre><code class="prism language-r"><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">1</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">2</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">3</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">4</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">5</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token string">"nhooo"</span>
</code></pre> 
<p>控制台输出为：</p> 
<pre><code class="prism language-r"><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">1</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">2</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">3</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">4</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">5</span>
</code></pre> 
<h3><a id="18_157"></a>1.8、文字输入</h3> 
<p>可能我们会联想到 C 语言中的 scanf 、Java 中的 java.util.Scanner，如果你学习过 Python 可能对 input() 函数更熟悉。但是 R 语言本身作为一种解释型的语言，更类似于一些终端脚本语言（比如 bash 或者 PowerShell），这些语言是基于命令系统的，本身就需要输入和输出且不适合开发面向用户的应用程序（因为他们本身就是给最终用户使用的）。因此 R 语言没有专门再从控制台读取的函数，文字输入在 R 的使用中一直在进行。</p> 
<h3><a id="19_160"></a>1.9、从文件读入文字</h3> 
<p>R 语言中有丰富的文件读取函数，但是如果纯粹的想将某个文件中的内容读取为字符串，可以使用 readLines 函数：</p> 
<pre><code class="prism language-r">readLines<span class="token punctuation">(</span><span class="token string">"/Users/nhooo/nhooo-test/r_test.txt"</span><span class="token punctuation">)</span>
</code></pre> 
<p>执行结果：</p> 
<pre><code class="prism language-r"><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token string">"nhoooGOOGLE"</span>
</code></pre> 
<p>读取结果是两个字符串，分别是所读取的文件包含的两行内容。</p> 
<p>注意：所读取的文本文件每一行 (包括最后一行) 的结束必须有换行符，否则会报错。</p> 
<h3><a id="110_173"></a>1.10、其他方式</h3> 
<p>除了文字的简单输入输出以外，R 还提供了很多输入数据和输出数据的方法，R 语言最方便的地方就是可以将数据结构直接保存到文件中去，而且支持保存为 CSV、Excel 表格等形式，并且支持直接地读取。这对于数学研究者来说无疑是非常方便的。但是这些功能对于 R 语言的学习影响不大，我们将在之后的章节提到。</p> 
<h3><a id="111_176"></a>1.11、工作目录</h3> 
<p>对于文件操作，我们需要设置文件的路径，R 语言可以通过以下两个行数来获取和设置当前的工作目录：<br> getwd() : 获取当前工作目录<br> setwd() : 设置当前工作目录</p> 
<pre><code class="prism language-r"><span class="token comment"># 当前工作目录</span>
print<span class="token punctuation">(</span>getwd<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># 设置当前工作目录</span>
setwd<span class="token punctuation">(</span><span class="token string">"/Users/nhooo/nhooo-test2"</span><span class="token punctuation">)</span>

<span class="token comment"># 查看当前工作目录</span>
print<span class="token punctuation">(</span>getwd<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p>执行以上代码输出结果为：</p> 
<pre><code class="prism language-r"><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token string">"/Users/nhooo/nhooo-test"</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token string">"/Users/tianqixin/nhooo-test2"</span>
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d17cc48dff5de397b7e0a3205424b6a9/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">C&#43;&#43;——异常</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f6059c15d48a080f14a8ce7fe48f1b83/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">OGG同步目标端中文乱码处理</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>