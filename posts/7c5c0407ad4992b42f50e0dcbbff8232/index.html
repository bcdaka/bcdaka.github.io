<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【python】python懂车帝数据可视化（代码&#43;报告） - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/7c5c0407ad4992b42f50e0dcbbff8232/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="【python】python懂车帝数据可视化（代码&#43;报告）">
  <meta property="og:description" content="👉博__主👈：米码收割机
👉技__能👈：C&#43;&#43;/Python语言
👉公众号👈：测试开发自动化【获取源码&#43;商业合作】
👉荣__誉👈：阿里云博客专家博主、51CTO技术博主
👉专__注👈：专注主流机器人、人工智能等相关领域的开发、测试技术。
python懂车帝数据可视化（代码&#43;报告） 目录 python懂车帝数据可视化（代码&#43;报告）一、研究背景二、研究目的三、数据采集过程3.1 反爬情况3.2 爬取过程 四、数据展示4.1 数据预处理4.2 数据可视化 一、研究背景 在当今社会，汽车已经成为人们生活中不可或缺的一部分，而汽车的购车决策往往受到各种因素的影响。为了更好地了解市场上不同汽车的价格分布情况，以及为购车者提供更全面的信息，我们对懂车帝网站上的汽车数据进行了深入研究和分析。该数据包含了各种品牌和型号的汽车，涵盖了最低价、最高价等关键信息，为我们提供了一个全面洞察汽车市场的机会。
总体而言，通过对懂车帝网站上爬取的汽车数据进行综合分析，我们有望揭示汽车市场中价格的分布特征，为购车者提供更为全面的参考，为汽车制造商提供更为明智的市场定价策略，促使汽车市场更好地满足消费者需求，推动整个行业的可持续发展。
👇👇👇 关注公众号，回复 “二手车可视化” 获取源码👇👇👇
二、研究目的 本研究的目的在于深入分析懂车帝网站上的汽车数据，主要关注汽车的最低价和最高价这两个关键指标。通过对这些价格数据的综合研究，我们旨在揭示不同汽车在市场上的价格分布情况，以及探究价格背后可能存在的因素。具体而言，我们的研究目的包括以下几个方面
首先，我们旨在了解不同汽车型号的最低价和最高价的分布特征。通过对这两个关键价格指标的统计学分析，我们可以得知市场上汽车价格的整体水平和波动情况。这有助于消费者更全面地了解不同车型在价格上的差异，为购车决策提供更为明智的依据。
其次，我们将通过分析最低价和最高价的最大、最小、中位数和方差等统计指标，揭示价格分布的规律。通过了解价格的最大值和最小值，我们可以确定市场上价格最高和最低的汽车型号，为购车者提供关键信息。同时，中位数和方差的分析将揭示价格的中间趋势和波动幅度，有助于我们更全面地了解市场的价格变化趋势。
三、数据采集过程 3.1 反爬情况 从提供的代码中，虽然没有直接看到网站反爬虫的措施，但我们可以根据代码的一些特征和编写方式来进行分析。以下是一些可能的反爬情况的分析
1. UserAgent头部
代码中设置了请求头的UserAgent字段，模拟了浏览器访问，这是常见的反爬手段。一些网站会检测UserAgent，如果发现是爬虫或非正常浏览器访问，可能会限制或拒绝访问。
headers = { &#34;UserAgent&#34;: &#34;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36&#34; } 2. IP封锁或限制
在较为严格的反爬情况下，网站可能会对请求的IP地址进行监控。频繁的大量请求可能导致IP被封锁或限制访问。为了规避这种情况，可以考虑使用代理池，轮换IP进行请求。
3. 请求频率控制
代码中没有显式的设置请求频率控制，但在实际爬取中，为了规避被反爬，建议合理控制请求频率，避免短时间内发送过多请求。
👇👇👇 关注公众号，回复 “二手车可视化” 获取源码👇👇👇
3.2 爬取过程 这段爬取数据的代码主要包括两个Python脚本懂车帝爬虫.py 和 懂车帝可视化.py。首先，我们来分析懂车帝爬虫.py中的数据爬取过程
1. 爬取数据源
使用requests库向懂车帝网站发送HTTP请求，模拟浏览器访问行为。
通过json()方法解析HTTP响应，获取JSON格式的汽车信息数据。
url = f&#34;">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-03-02T13:18:38+08:00">
    <meta property="article:modified_time" content="2024-03-02T13:18:38+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【python】python懂车帝数据可视化（代码&#43;报告）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night-eighties">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <blockquote> 
 <p><img src="https://images2.imgbox.com/6c/df/G5jxPOty_o.jpg" alt="请添加图片描述"></p> 
 <hr> 
 <p>👉博__主👈：米码收割机<br> 👉技__能👈：C++/Python语言<br> 👉公众号👈：测试开发自动化【获取源码+商业合作】<br> 👉荣__誉👈：阿里云博客专家博主、51CTO技术博主<br> 👉专__注👈：专注主流机器人、人工智能等相关领域的开发、测试技术。</p> 
</blockquote> 
<hr> 
<blockquote> 
 <h2><a id="python_13"></a>python懂车帝数据可视化（代码+报告）</h2> 
 <hr> 
 <p></p> 
 <div class="toc"> 
  <h4>目录</h4> 
  <ul><li><a href="#python_13" rel="nofollow">python懂车帝数据可视化（代码+报告）</a></li><li><a href="#_22" rel="nofollow">一、研究背景</a></li><li><a href="#_35" rel="nofollow">二、研究目的</a></li><li><a href="#_43" rel="nofollow">三、数据采集过程</a></li><li><ul><li><a href="#31__45" rel="nofollow">3.1 反爬情况</a></li><li><a href="#32__72" rel="nofollow">3.2 爬取过程</a></li></ul> 
   </li><li><a href="#_113" rel="nofollow">四、数据展示</a></li><li><ul><li><a href="#41__114" rel="nofollow">4.1 数据预处理</a></li><li><a href="#42__137" rel="nofollow">4.2 数据可视化</a></li></ul> 
  </li></ul> 
 </div> 
 <p></p> 
</blockquote> 
<hr> 
<h2><a id="_22"></a>一、研究背景</h2> 
<p>在当今社会，汽车已经成为人们生活中不可或缺的一部分，而汽车的购车决策往往受到各种因素的影响。为了更好地了解市场上不同汽车的价格分布情况，以及为购车者提供更全面的信息，我们对懂车帝网站上的汽车数据进行了深入研究和分析。该数据包含了各种品牌和型号的汽车，涵盖了最低价、最高价等关键信息，为我们提供了一个全面洞察汽车市场的机会。</p> 
<p>总体而言，通过对懂车帝网站上爬取的汽车数据进行综合分析，我们有望揭示汽车市场中价格的分布特征，为购车者提供更为全面的参考，为汽车制造商提供更为明智的市场定价策略，促使汽车市场更好地满足消费者需求，推动整个行业的可持续发展。</p> 
<blockquote> 
 <p>👇👇👇 关注公众号，回复 “二手车可视化” 获取源码👇👇👇</p> 
</blockquote> 
<hr> 
<h2><a id="_35"></a>二、研究目的</h2> 
<p>本研究的目的在于深入分析懂车帝网站上的汽车数据，主要关注汽车的最低价和最高价这两个关键指标。通过对这些价格数据的综合研究，我们旨在揭示不同汽车在市场上的价格分布情况，以及探究价格背后可能存在的因素。具体而言，我们的研究目的包括以下几个方面</p> 
<p>首先，我们旨在了解不同汽车型号的最低价和最高价的分布特征。通过对这两个关键价格指标的统计学分析，我们可以得知市场上汽车价格的整体水平和波动情况。这有助于消费者更全面地了解不同车型在价格上的差异，为购车决策提供更为明智的依据。</p> 
<p>其次，我们将通过分析最低价和最高价的最大、最小、中位数和方差等统计指标，揭示价格分布的规律。通过了解价格的最大值和最小值，我们可以确定市场上价格最高和最低的汽车型号，为购车者提供关键信息。同时，中位数和方差的分析将揭示价格的中间趋势和波动幅度，有助于我们更全面地了解市场的价格变化趋势。</p> 
<hr> 
<h2><a id="_43"></a>三、数据采集过程</h2> 
<h3><a id="31__45"></a>3.1 反爬情况</h3> 
<p>从提供的代码中，虽然没有直接看到网站反爬虫的措施，但我们可以根据代码的一些特征和编写方式来进行分析。以下是一些可能的反爬情况的分析</p> 
<p><strong>1. UserAgent头部</strong><br> 代码中设置了请求头的UserAgent字段，模拟了浏览器访问，这是常见的反爬手段。一些网站会检测UserAgent，如果发现是爬虫或非正常浏览器访问，可能会限制或拒绝访问。</p> 
<pre><code class="prism language-python">
headers <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string">"UserAgent"</span><span class="token punctuation">:</span> <span class="token string">"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><strong>2. IP封锁或限制</strong><br> 在较为严格的反爬情况下，网站可能会对请求的IP地址进行监控。频繁的大量请求可能导致IP被封锁或限制访问。为了规避这种情况，可以考虑使用代理池，轮换IP进行请求。</p> 
<p><strong>3. 请求频率控制</strong><br> 代码中没有显式的设置请求频率控制，但在实际爬取中，为了规避被反爬，建议合理控制请求频率，避免短时间内发送过多请求。</p> 
<blockquote> 
 <p>👇👇👇 关注公众号，回复 “二手车可视化” 获取源码👇👇👇</p> 
</blockquote> 
<h3><a id="32__72"></a>3.2 爬取过程</h3> 
<p>这段爬取数据的代码主要包括两个Python脚本懂车帝爬虫.py 和 懂车帝可视化.py。首先，我们来分析懂车帝爬虫.py中的数据爬取过程</p> 
<p><strong>1. 爬取数据源</strong><br> 使用requests库向懂车帝网站发送HTTP请求，模拟浏览器访问行为。<br> 通过json()方法解析HTTP响应，获取JSON格式的汽车信息数据。</p> 
<pre><code class="prism language-python">url <span class="token operator">=</span> <span class="token string-interpolation"><span class="token string">f"https://www.dongchedi.com/motor/pc/car/rank_data?aid=1839&amp;app_name=auto_web_pc&amp;city_name=%E5%8C%97%E4%BA%AC&amp;count=10&amp;offset=</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>i<span class="token punctuation">}</span></span><span class="token string">&amp;month=202311&amp;new_energy_type=&amp;rank_data_type=11&amp;brand_id=&amp;price=&amp;manufacturer=&amp;outter_detail_type=&amp;nation=0"</span></span>
response <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token operator">=</span>url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
cars_msg <span class="token operator">=</span> response<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">"data"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"list"</span><span class="token punctuation">]</span>

</code></pre> 
<blockquote> 
 <p>👇👇👇 关注公众号，回复 “二手车可视化” 获取源码👇👇👇</p> 
</blockquote> 
<p><strong>2. 数据提取</strong><br> 使用for循环遍历每一组汽车信息，提取车名、图片链接、最低价、最高价、品牌等关键信息。<br> 将提取的信息以列表形式存储在car列表中。</p> 
<pre><code class="prism language-python"><span class="token keyword">for</span> message <span class="token keyword">in</span> cars_msg<span class="token punctuation">:</span>
    car_name <span class="token operator">=</span> message<span class="token punctuation">[</span><span class="token string">"series_name"</span><span class="token punctuation">]</span>  <span class="token comment"># 车名</span>
    car_img <span class="token operator">=</span> message<span class="token punctuation">[</span><span class="token string">"image"</span><span class="token punctuation">]</span>  <span class="token comment"># 图片链接</span>
    car_price_lower<span class="token punctuation">,</span> car_price_upper <span class="token operator">=</span> message<span class="token punctuation">[</span><span class="token string">"price"</span><span class="token punctuation">]</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">"万"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span>  <span class="token comment"># 最低/高价</span>
    car_brand <span class="token operator">=</span> message<span class="token punctuation">[</span><span class="token string">"sub_brand_name"</span><span class="token punctuation">]</span>  <span class="token comment"># 商标名称</span>
    car<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">[</span>car_name<span class="token punctuation">,</span> car_brand<span class="token punctuation">,</span> car_price_lower<span class="token punctuation">,</span> car_price_upper<span class="token punctuation">,</span> car_img<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> 
<p><strong>3. 数据保存</strong><br> 将爬取的汽车信息以CSV格式保存在名为data.csv的文件中。</p> 
<pre><code class="prism language-python"><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'data.csv'</span><span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">,</span> newline<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">)</span> <span class="token keyword">as</span> csv_file<span class="token punctuation">:</span>
    csv_writer <span class="token operator">=</span> csv<span class="token punctuation">.</span>writer<span class="token punctuation">(</span>csv_file<span class="token punctuation">)</span>
    csv_writer<span class="token punctuation">.</span>writerows<span class="token punctuation">(</span>car<span class="token punctuation">)</span>
</code></pre> 
<hr> 
<h2><a id="_113"></a>四、数据展示</h2> 
<h3><a id="41__114"></a>4.1 数据预处理</h3> 
<p>包括处理异常值、缺失值以及计算最高价和最低价之差。不过，如果需要进一步的数据预处理，可以考虑以下几个方面：<br> 数据类型转换：<br> 确保价格列（最低价和最高价）的数据类型为数值型，以便进行后续的统计和可视化操作。</p> 
<pre><code class="prism language-python"><span class="token comment">#将最低价和最高价转换为数值型</span>
data<span class="token punctuation">[</span><span class="token string">'最低价'</span><span class="token punctuation">]</span> <span class="token operator">=</span> pd<span class="token punctuation">.</span>to_numeric<span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token string">'最低价'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> errors<span class="token operator">=</span><span class="token string">'coerce'</span><span class="token punctuation">)</span>
data<span class="token punctuation">[</span><span class="token string">'最高价'</span><span class="token punctuation">]</span> <span class="token operator">=</span> pd<span class="token punctuation">.</span>to_numeric<span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token string">'最高价'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> errors<span class="token operator">=</span><span class="token string">'coerce'</span><span class="token punctuation">)</span>

<span class="token comment"># 删除包含缺失值的行</span>
data <span class="token operator">=</span> data<span class="token punctuation">.</span>dropna<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># 或者使用均值进行填充</span>
data<span class="token punctuation">[</span><span class="token string">'最低价'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>fillna<span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token string">'最低价'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> inplace<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
data<span class="token punctuation">[</span><span class="token string">'最高价'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>fillna<span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token string">'最高价'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> inplace<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
其他数据清洗：
根据实际需求进行其他数据清洗操作，比如去除重复值、转换日期格式等。

<span class="token comment"># 去除重复值</span>
data <span class="token operator">=</span> data<span class="token punctuation">.</span>drop_duplicates<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<blockquote> 
 <p>👇👇👇 关注公众号，回复 “二手车可视化” 获取源码👇👇👇</p> 
</blockquote> 
<h3><a id="42__137"></a>4.2 数据可视化</h3> 
<p>可视化部分的代码主要使用了matplotlib和wordcloud库，涵盖了柱状图、折线图、饼状图以及词云图的绘制。下面对每个可视化部分进行分析</p> 
<ol><li>柱状图最低价前十名和最高价前十名<br> 使用plt.bar函数分别绘制了最低价和最高价前十名的柱状图，通过颜色的选择使得图表更加直观。图表的横轴为车名，纵轴为价格。这样的柱状图清晰地展示了最低价和最高价的排名前十的车型，方便用户对价格的比较。</li></ol> 
<p><img src="https://images2.imgbox.com/1c/9e/YB7b0dDV_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/00/df/U8c5lIFM_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>👇👇👇 关注公众号，回复 “二手车可视化” 获取源码👇👇👇</p> 
</blockquote> 
<p><strong>2. 折线图品牌 vs 最高价</strong><br> 使用plt.plot函数绘制了品牌与最高价的折线图，通过标明不同品牌，观察它们在最高价上的分布情况。这样的折线图有助于观察品牌之间的价格趋势。</p> 
<p><img src="https://images2.imgbox.com/a1/b8/AbgkgYcV_o.png" alt="在这里插入图片描述"></p> 
<p><strong>3. 饼状图品牌占比</strong><br> 使用plt.pie函数绘制了品牌占比的饼状图，通过颜色和标签的搭配，直观地展示了不同品牌在数据集中的占比情况。</p> 
<blockquote> 
 <p>👇👇👇 关注公众号，回复 “二手车可视化” 获取源码👇👇👇</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/4d/e2/hUR99GDk_o.png" alt="在这里插入图片描述"></p> 
<p><strong>4. 词云图车名词云</strong><br> 使用WordCloud库绘制了车名的词云图。通过将车名的频次转化为图形展示，可以更形象地反映出车名的分布情况。<br> <img src="https://images2.imgbox.com/7a/16/DiJc4pgX_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>👇👇👇 关注公众号，回复 “二手车可视化” 获取源码👇👇👇</p> 
</blockquote>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/4c1bb1b0998236833479a568a6384a5d/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Unable to start web server； nested exception is org.springframework.boot.web.server.WebServerExcepti</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/4595bc3489e1778fda922fe1d998576b/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【C&#43;&#43;】深入理解C&#43;&#43;虚函数与纯虚函数</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>