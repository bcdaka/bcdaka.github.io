<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>C#连接Mysql数据库详细教程（内附Mysql及Navicat) - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/ea472ff08ee99681cc63fede7202206a/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="C#连接Mysql数据库详细教程（内附Mysql及Navicat)">
  <meta property="og:description" content="课上教学使用的是SqlServer数据库，由于SqlServer数据库配置难以理解，故学习使用Mysql代替数据库连接。(Mysql以及Navicat安装说明在压缩包内）
Mysql连接首先需要用到Mysql.Data.dll连接文件，也就是Mysql Connector Net这一文件，下载后安装会自动在C:\Program Files (x86)\MySQL\MySQL Connector Net 6.9.0这个路径（貌似...）
之后就需要在VS的引用中引用这一文件，然后就可以进行数据库的连接操作了。
首先新建项目，选择Windows窗体应用程序创建一个窗体
将窗体加上组件设置为下图所示样式（可以自由发挥，只要包含相关输入即可）
创建connect.cs的类文件（这里是我为后续创建信息系统方便设置的集成类，可以通过调用该类少写些代码）
其中需要在开头加入using MySql.Data.MySqlClient;
并在类中定义好三个对象
public MySqlConnection conn = null;//连接对象
public MySqlCommand comm = null;//语句执行对象
public MySqlDataReader dr = null;//语句执行结果数据对象
再使用load()方法封装连接过程，这里就需要自行输入数据库的相关信息
using System; using System.Collections.Generic; using System.Linq; using System.Text; using MySql.Data.MySqlClient; namespace DataBaseManager { class connect { public MySqlConnection conn = null;//连接对象 public MySqlCommand comm = null;//语句执行对象 public MySqlDataReader dr = null;//语句执行结果数据对象 //用于一个窗口让用户自定义输入用户名与密码，在这里我直接定义好了 //public string uid; //public string pwd; public void load() { //直接写链接语句，比较容易出错 //conn = new MySqlConnection( // &#34;">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-04-25T10:44:01+08:00">
    <meta property="article:modified_time" content="2024-04-25T10:44:01+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">C#连接Mysql数据库详细教程（内附Mysql及Navicat)</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>        课上教学使用的是SqlServer数据库，由于SqlServer数据库配置难以理解，故学习使用Mysql代替数据库连接。(Mysql以及Navicat安装说明在压缩包内）</p> 
<p>        Mysql连接首先需要用到Mysql.Data.dll连接文件，也就是Mysql Connector Net这一文件，下载后安装会自动在C:\Program Files (x86)\MySQL\MySQL Connector Net 6.9.0这个路径（貌似...）</p> 
<p><img alt="" height="35" src="https://images2.imgbox.com/02/94/zRVbqkNV_o.png" width="296"></p> 
<p>        之后就需要在VS的引用中引用这一文件，然后就可以进行数据库的连接操作了。</p> 
<p><img alt="" height="56" src="https://images2.imgbox.com/82/d0/sdfm97dr_o.png" width="286"></p> 
<p>         首先新建项目，选择Windows窗体应用程序创建一个窗体</p> 
<p> <img alt="" height="810" src="https://images2.imgbox.com/77/47/i7QMbLMu_o.png" width="1169"></p> 
<p>        将窗体加上组件设置为下图所示样式（可以自由发挥，只要包含相关输入即可）</p> 
<p> <img alt="" height="297" src="https://images2.imgbox.com/77/a3/12HHJVzL_o.png" width="457"></p> 
<p>        创建connect.cs的类文件（这里是我为后续创建信息系统方便设置的集成类，可以通过调用该类少写些代码）</p> 
<p>        其中需要在开头加入using MySql.Data.MySqlClient;</p> 
<p>        并在类中定义好三个对象</p> 
<p>        public MySqlConnection conn = null;//连接对象<br>         public MySqlCommand comm = null;//语句执行对象<br>         public MySqlDataReader dr = null;//语句执行结果数据对象</p> 
<p>        再使用load()方法封装连接过程，这里就需要自行输入数据库的相关信息</p> 
<pre><code class="language-cs">using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using MySql.Data.MySqlClient;

namespace DataBaseManager
{
    class connect
    {
        public MySqlConnection conn = null;//连接对象
        public MySqlCommand comm = null;//语句执行对象
        public MySqlDataReader dr = null;//语句执行结果数据对象

        //用于一个窗口让用户自定义输入用户名与密码，在这里我直接定义好了
        //public string uid;
        //public string pwd;

        public void load()
        {
            //直接写链接语句，比较容易出错
            //conn = new MySqlConnection(
            //    "Database = data;Server = localhost;Port = 3306;Password = " + pwd + ";UserID = " + uid + ";charset = utf8mb4");
            //conn.Open();

            //使用Builder写语句，实现分段
            //与数据库连接的信息
            MySqlConnectionStringBuilder builder = new MySqlConnectionStringBuilder();
            //数据库连接时的用户名，可以用pid
            builder.UserID = "root";
            //数据库连接时的密码，可以用pwd
            builder.Password = "admin";
            //数据库连接时的服务器地址
            builder.Server = "localhost";
            //要连接的数据库
            builder.Database = "data";
            //定义与数据连接的链接
            conn = new MySqlConnection(builder.ConnectionString);
            //打开这个链接
            conn.Open();

        }
    }
}
</code></pre> 
<p>         之后双击窗体中的button，定义输入方法验证连接。</p> 
<pre><code class="language-cs"> private void button1_Click(object sender, EventArgs e)
        {
            //con.uid = textBox1.Text;
            //con.pwd = textBox2.Text;

            //调用load方法建立open连接
            con.load();
            //查询语句，查询用户名与密码，这里的ls可以是textBox1.Text
            string sql = "select * from user_info where username ='ls';";
            con.comm = new MySqlCommand(sql, con.conn);
            con.dr = con.comm.ExecuteReader();
            con.dr.Read();

            //验证密码，同理，这里的123可以是textBox2.Text，因为我数据库设置的密码与账号是ls 与 123 所以无论输入什么都是登陆成功
            if ("123" == con.dr.GetString("password"))
            {
                MessageBox.Show("登录成功！");
                con.dr.Close();
                this.Close();//关闭此窗口，方便弹出主窗口
            }
            else
                MessageBox.Show("登录失败！");
        }</code></pre> 
<p>        如果你在connect中输入信息有误，一般会出现如下错误，此时就需要检查账号密码是否正确</p> 
<p><img alt="" height="304" src="https://images2.imgbox.com/43/3d/jlbTNUID_o.png" width="451"></p> 
<p>         而如果数据库输入错误，会显示这个错误</p> 
<p><img alt="" height="97" src="https://images2.imgbox.com/14/c9/QDdrtDJO_o.png" width="449"></p> 
<p>最后是相关数据库，user_info表的结构，可以在引用完dll文件后后创建这个数据库直接测试该C#窗体文件</p> 
<p><img alt="" height="87" src="https://images2.imgbox.com/24/ef/6r5otclF_o.png" width="877"></p> 
<p><img alt="" height="59" src="https://images2.imgbox.com/23/21/ZgkJRgH6_o.png" width="239"></p> 
<p> 另外，在压缩包中还放入了一个简易的具备CRUD功能的学生信息系统，可以在深入学习后使用它进行体验</p> 
<p> <img alt="" height="1040" src="https://images2.imgbox.com/bd/d0/NbGLE6uu_o.png" width="1200"></p> 
<p> <img alt="" height="430" src="https://images2.imgbox.com/ed/2d/Mvd7rYc3_o.png" width="755"></p> 
<p>下为学生信息的表结构，相关信息可以自己输入</p> 
<p><img alt="" height="157" src="https://images2.imgbox.com/5a/25/8IbHVIUq_o.png" width="865"></p> 
<p></p> 
<p>链接：<a class="link-info" href="https://pan.baidu.com/s/1Yg1aSgiydHQ1bevX5r3QCQ" rel="nofollow" title="https://pan.baidu.com/s/1Yg1aSgiydHQ1bevX5r3QCQ">https://pan.baidu.com/s/1Yg1aSgiydHQ1bevX5r3QCQ</a> <br> 提取码：xyz3</p> 
<p>欢迎分享交流！</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d797fa2d281e9e31e6b2510d309ebfb1/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">人工智能|深度学习——多模态条件机制 Cross Attention 原理及实现</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/dff3f1d7760234627988edd4d2725ea8/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Ai绘画工具Stable Diffusion，最全提示词使用指南！建议收藏！</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>