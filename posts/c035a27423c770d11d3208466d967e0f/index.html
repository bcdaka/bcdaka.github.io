<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>flink1.18源码本地调试环境 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/c035a27423c770d11d3208466d967e0f/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="flink1.18源码本地调试环境">
  <meta property="og:description" content="01 源码本地调试环境搭建 1. 从github拉取源码创建本地项⽬ https://github.com/apache/flink.git 可以拉取github上官⽅代码 https://github.com/apache/flink.git GitHub - apache/flink: Apache Flink 2. 配置编译环境 ctrl&#43;alt&#43;shift&#43;s （或菜单）打开项⽬结构，确保jdk版本为1.8，scala版本最好为2.12.73. 源码编译 跳过调试 4、准备运⾏环境 • 在项⽬根⽬录下，创建如下两个⽂件夹： 找到如下⼦模块，并展开如图 • 将上图中conf下的⽂件，拷⻉到项⽬根⽬录下创建的conf下 • 将上图中的lib下的jar包，拷⻉到项⽬根⽬录下创建的distlib下 5、编译中遇到的问题 5.1flink 1.18 源码编译 shader 19 编译 Flink Shaded：
进入 Flink 源码目录，并切换到相应的 Shaded 版本分支，例如 flink-shaded-193。执行 Maven 命令来编译 Flink Shaded 19 版本： mvn clean package -DskipTests
这将编译 Flink Shaded 19 并生成相应的构建产物 5.2 Failed to execute goal org.apache.maven.plugins:maven-checkstyle-plugin:3.1.2:check (validate) on project flink-runtime: You have 3 Checkstyle violations.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-04-04T00:07:54+08:00">
    <meta property="article:modified_time" content="2024-04-04T00:07:54+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">flink1.18源码本地调试环境</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2><span style="color:#1f2329;">01 源码本地调试环境搭建 </span></h2> 
<h3><span style="color:#1456f0;">1. </span><span style="color:#1f2329;">从github拉取源码创建本地项⽬ </span></h3> 
<div> 
 <br> 
 <img alt="" height="250" src="https://images2.imgbox.com/65/f7/9Pyr8Blj_o.png" width="340"> 
 <a href="https://github.com/apache/flink.git" title="https://github.com/apache/flink.git">https://github.com/apache/flink.git</a> 
 <img alt="" height="660" src="https://images2.imgbox.com/4d/5b/UnVCxlqH_o.png" width="798"> 
</div> 
<h3><span style="color:#646a73;">可以拉取github上官⽅代码 </span></h3> 
<div>
  https://github.com/apache/flink.git 
</div> 
<div> 
 <a href="https://github.com/apache/flink.git" title="GitHub - apache/flink: Apache Flink">GitHub - apache/flink: Apache Flink</a> 
</div> 
<div></div> 
<div> 
 <h2><span style="color:#1456f0;">2. </span><span style="color:#1f2329;">配置编译环境 </span></h2> 
 <h2><span style="color:#1f2329;">ctrl+alt+shift+s （或菜单）打开项⽬结构，确保jdk版本为1.8，scala版本最好为2.12.7</span><img alt="" height="311" src="https://images2.imgbox.com/62/1c/LuekIJOz_o.png" width="291"><img alt="" height="305" src="https://images2.imgbox.com/c6/1a/Scgar273_o.png" width="895"><img alt="" height="299" src="https://images2.imgbox.com/f5/c3/lwFGLwFa_o.png" width="824"><span style="color:#1456f0;">3. </span><span style="color:#1f2329;">源码编译</span></h2> 
 <h2><img alt="" height="208" src="https://images2.imgbox.com/c3/e4/Z3Bt05Kd_o.png" width="359"><img alt="" height="215" src="https://images2.imgbox.com/a1/bc/Cxxu6Cf5_o.png" width="394"><img alt="" height="297" src="https://images2.imgbox.com/31/f8/BmJeZRyx_o.png" width="415"></h2> 
 <div>
   跳过调试 
 </div> 
 <div> 
  <h2>4、<span style="color:#1f2329;">准备运⾏环境</span></h2> 
  <div> 
   <span style="color:#1456f0;">• </span> 
   <span style="color:#1f2329;">在项⽬根⽬录下，创建如下两个⽂件夹：</span> 
   <img alt="" height="269" src="https://images2.imgbox.com/0e/3d/RLYTAToP_o.png" width="592"> 
   <span style="color:#1f2329;">找到如下⼦模块，并展开如图 </span> 
   <img alt="" height="317" src="https://images2.imgbox.com/6f/63/lTKmXb0G_o.png" width="586"> 
  </div> 
  <div> 
   <span style="color:#1456f0;">• </span> 
   <span style="color:#1f2329;">将上图中conf下的⽂件，拷⻉到项⽬根⽬录下创建的conf下</span> 
  </div> 
  <div> 
   <span style="color:#1456f0;">• </span> 
   <span style="color:#1f2329;">将上图中的lib下的jar包，拷⻉到项⽬根⽬录下创建的distlib下 </span> 
  </div> 
  <div></div> 
  <h2><span style="color:#1f2329;">5、编译中遇到的问题</span></h2> 
  <div> 
   <h2></h2> 
   <h3>5.1flink 1.18 源码编译 shader 19</h3> 
   <p><strong>编译 Flink Shaded</strong>：</p> 
   <ul><li>进入 Flink 源码目录，并切换到相应的 Shaded 版本分支，例如 flink-shaded-193。</li><li>执行 Maven 命令来编译 Flink Shaded 19 版本： <pre></pre> <p><code>mvn clean package -DskipTests</code></p> 这将编译 Flink Shaded 19 并生成相应的构建产物</li></ul> 
   <h3>5.2 Failed to execute goal org.apache.maven.plugins:maven-checkstyle-plugin:3.1.2:check (validate) on project flink-runtime: You have 3 Checkstyle violations.</h3> 
   <ol><li> <h4><strong>运行 Checkstyle 检查</strong>：</h4> 
     <ul><li>在修正了代码风格问题后，你可以单独运行 Checkstyle 插件来检查问题是否已经解决。使用以下 Maven 命令： <pre></pre> <p><code>mvn checkstyle:check</code></p> </li><li>如果之前没有配置 Checkstyle，或者你想使用不同的配置文件，可以通过 <code>-DconfigLocation</code> 参数指定 Checkstyle 配置文件： <pre></pre> <p><code>mvn checkstyle:check -DconfigLocation=checkstyle.xml</code></p> </li></ul></li><li> <h4><strong>整合到构建流程</strong>：</h4> </li></ol> 
   <p>一旦所有的 Checkstyle 违规问题都被解决，并且本地构建成功，你可以再次尝试完整的 Maven 构建流程：</p> 
   <pre></pre> 
   <p>复制</p> 
   <p><code>mvn clean package -DskipTests</code></p> 
   <h3>5.3[ERROR] Failed to execute goal on project flink-avro-confluent-registry: Could not resolve dependencies for project org.apache.flink:flink-avro-confluent-registry:jar:1.18-SNAPSHOT: Failed to collect dependencies at io.confluent :kafka-schema-registry-client:jar:7.2.2: Failed to read artifact descriptor for io.confluent:kafka-schema-registry-client:jar:7.2.2: The following artifacts could not be resolved: io.confluent:kafka-schema-registry-parent:pom:7.2.2 (present, but unavailable): Could not find artifact io.confluent:kafka-schema-registry-parent:pom:7.2.2 in nexus-aliyun</h3> 
   <p></p> 
   <p>先去https://mvnrepository.com去搜索下载。<br>    发现https://maven.ceon.pl/artifactory/repo/io/confluent/kafka-schema-registry-client/7.2.2/ 大      小有问题。爆了以下错误</p> 
   <p>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.0:compile (default-compile) on project flink-avro-confluent-registry: Compilation failure: Compilation failure:<br> [ERROR] error reading /Users/AllenBai/.m2/repository/io/confluent/kafka-schema-registry-client/3.3.1/kafka-schema-registry-client-7.2.2.jar; error in opening zip file<br> [ERROR] error reading /Users/AllenBai/.m2/repository/io/confluent/kafka-schema-registry-client/7.2.2/kafka-schema-registry-client-7.2.2.jar; error in opening zip file<br>                       </p> 
   <p>wget http://packages.confluent.io/maven/io/confluent/kafka-schema-registry-client/7.2.2/kafka-schema-registry-client-7.2.2.jar</p> 
   <p> 安装<br> mvn install:install-file -DgroupId='io.confluent' -DartifactId='kafka-schema-registry-client' -Dversion='7.2.2' -Dpackaging='jar'  -Dfile='D:/Tools/jar/kafka-schema-registry-client-7.2.2.jar' '-DskipTests' '-Dmaven.javadoc.skip=true' '-Dmaven.compile.fork=true'</p> 
   <p>编译成功   </p> 
  </div> 
 </div> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/c6d9c9e3590024b7faae6d050ceb5056/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">波士顿房价预测案例（python scikit-learn）---多元线性回归(多角度实验分析)</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/9a4d53efd63d08f7d30408e384838aeb/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">前端同学必备：教你如何安装、使用Chrome的vue-devtools插件</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>