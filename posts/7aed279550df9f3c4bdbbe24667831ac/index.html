<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>ã€C&#43;&#43;ã€‘vectorçš„æ¨¡æ‹Ÿå®ç° - ç¼–ç¨‹å¤§å’–</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/7aed279550df9f3c4bdbbe24667831ac/">
  <meta property="og:site_name" content="ç¼–ç¨‹å¤§å’–">
  <meta property="og:title" content="ã€C&#43;&#43;ã€‘vectorçš„æ¨¡æ‹Ÿå®ç°">
  <meta property="og:description" content="ğŸ’—ä¸ªäººä¸»é¡µğŸ’—
â­ä¸ªäººä¸“æ â€”â€”C&#43;&#43;å­¦ä¹ â­
ğŸ’«ç‚¹å‡»å…³æ³¨ğŸ¤©ä¸€èµ·å­¦ä¹ Cè¯­è¨€ğŸ’¯ğŸ’«
ç›®å½•
å¯¼è¯»
1. vectorçš„æ ¸å¿ƒæ¡†æ¶æ¥å£
2. æ„é€ å‡½æ•°
2.1 åŸºæœ¬æ„é€ 
2.2 æ‹·è´æ„é€ ï¼ˆä¼ ç»Ÿå†™æ³•ï¼‰
2.3 ææ„å‡½æ•°
2.4 operator=è¿ç®—ç¬¦é‡è½½ï¼ˆä¼ ç»Ÿå†™æ³•ï¼‰
2.5 swapå‡½æ•°
2.5 operator=è¿ç®—ç¬¦é‡è½½ï¼ˆç°ä»£å†™æ³•ï¼‰
3. vectoréå†
3.1 size()å’Œcapacity()
3.2 operator[]éå†
3.3 è¿­ä»£å™¨å’ŒèŒƒå›´for
4. vectorå¸¸è§å‡½æ•°
4.1 reserveå‡½æ•°
4.2 resizeå‡½æ•°
4.3 insertå‡½æ•°
4.4 eraseå‡½æ•°
4.5 push_backå‡½æ•°
4.6 pop_backå‡½æ•°
4.7 emptyå‡½æ•°
5. æ„é€ å‡½æ•°å’Œæ‹·è´æ„é€ å®Œå–„
5.1 æ‹·è´æ„é€ ï¼ˆç°ä»£å†™æ³•ï¼‰
5.2 æ„é€ å‡½æ•°
åˆå§‹åŒ–æ„é€ 
åˆ—è¡¨æ„é€ 
åŒºé—´æ„é€ 
6. ä»£ç æ•´ç†
6.1 vector.hæ–‡ä»¶
6.2 test.cppæ–‡ä»¶
å¯¼è¯» æˆ‘ä»¬åœ¨ä¸ŠæœŸè®²è§£äº†vectorçš„ä¸€ä¸‹åŸºæœ¬ä½¿ç”¨ï¼Œä»Šå¤©æˆ‘ä»¬æ¥æ¨¡æ‹Ÿå®ç°ä¸€ä¸‹vectorã€‚
1. vectorçš„æ ¸å¿ƒæ¡†æ¶æ¥å£ vectorç±»æœ‰ä¸‰ä¸ªæˆå‘˜å˜é‡ï¼šstartï¼Œfinishå’Œend_of_storageã€‚
è¿™ä¸‰ä¸ªæˆå‘˜å˜é‡å¯ä»¥ç”¨äºéå†vectorä¸­çš„å…ƒç´ ã€ç¡®å®švectorçš„å¤§å°å’Œå®¹é‡ï¼Œæˆ–è€…è¿›è¡Œå…¶ä»–æ“ä½œã€‚
startï¼šæŒ‡å‘vectorä¸­ç¬¬ä¸€ä¸ªå…ƒç´ çš„æŒ‡é’ˆæˆ–è¿­ä»£å™¨ã€‚å®ƒè¡¨ç¤ºvectorä¸­æ•°æ®çš„èµ·å§‹ä½ç½®ã€‚
finishï¼šæŒ‡å‘vectorä¸­æœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä¸ªä½ç½®çš„æŒ‡é’ˆæˆ–è¿­ä»£å™¨ã€‚å®ƒè¡¨ç¤ºvectorä¸­æ•°æ®çš„ç»“æŸä½ç½®ã€‚
end_of_storageï¼šæŒ‡å‘vectorå†…éƒ¨å­˜å‚¨ç©ºé—´çš„æœ«å°¾çš„æŒ‡é’ˆæˆ–è¿­ä»£å™¨ã€‚å®ƒè¡¨ç¤ºvectorå†…éƒ¨å­˜å‚¨ç©ºé—´çš„ç»“æŸä½ç½®ã€‚">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-06-02T17:37:33+08:00">
    <meta property="article:modified_time" content="2024-06-02T17:37:33+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ç¼–ç¨‹å¤§å’–" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ç¼–ç¨‹å¤§å’–</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">ã€C&#43;&#43;ã€‘vectorçš„æ¨¡æ‹Ÿå®ç°</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <blockquote> 
 <p>ğŸ’—<a href="https://blog.csdn.net/qq_64818885?type=blog" title="ä¸ªäººä¸»é¡µ">ä¸ªäººä¸»é¡µ</a>ğŸ’—<br> â­ä¸ªäººä¸“æ â€”â€”<a href="http://t.csdnimg.cn/sBIH3" rel="nofollow" title="C++å­¦ä¹ ">C++å­¦ä¹ </a>â­<br> ğŸ’«ç‚¹å‡»å…³æ³¨ğŸ¤©ä¸€èµ·å­¦ä¹ Cè¯­è¨€ğŸ’¯ğŸ’«</p> 
</blockquote> 
<p id="main-toc"><strong>ç›®å½•</strong></p> 
<p id="%E5%AF%BC%E8%AF%BB-toc" style="margin-left:0px;"><a href="#%E5%AF%BC%E8%AF%BB" rel="nofollow">å¯¼è¯»</a></p> 
<p id="1.%20vector%E7%9A%84%E6%A0%B8%E5%BF%83%E6%A1%86%E6%9E%B6%E6%8E%A5%E5%8F%A3-toc" style="margin-left:0px;"><a href="#1.%20vector%E7%9A%84%E6%A0%B8%E5%BF%83%E6%A1%86%E6%9E%B6%E6%8E%A5%E5%8F%A3" rel="nofollow">1. vectorçš„æ ¸å¿ƒæ¡†æ¶æ¥å£</a></p> 
<p id="2.%20%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0-toc" style="margin-left:0px;"><a href="#2.%20%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0" rel="nofollow">2. æ„é€ å‡½æ•°</a></p> 
<p id="2.1%20%E5%9F%BA%E6%9C%AC%E6%9E%84%E9%80%A0-toc" style="margin-left:40px;"><a href="#2.1%20%E5%9F%BA%E6%9C%AC%E6%9E%84%E9%80%A0" rel="nofollow">2.1 åŸºæœ¬æ„é€ </a></p> 
<p id="%C2%A02.2%20%E6%8B%B7%E8%B4%9D%E6%9E%84%E9%80%A0%EF%BC%88%E4%BC%A0%E7%BB%9F%E5%86%99%E6%B3%95%EF%BC%89-toc" style="margin-left:40px;"><a href="#%C2%A02.2%20%E6%8B%B7%E8%B4%9D%E6%9E%84%E9%80%A0%EF%BC%88%E4%BC%A0%E7%BB%9F%E5%86%99%E6%B3%95%EF%BC%89" rel="nofollow">2.2 æ‹·è´æ„é€ ï¼ˆä¼ ç»Ÿå†™æ³•ï¼‰</a></p> 
<p id="2.3%20%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B0-toc" style="margin-left:40px;"><a href="#2.3%20%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B0" rel="nofollow">2.3 ææ„å‡½æ•°</a></p> 
<p id="2.4%20operator%3D%E8%BF%90%E7%AE%97%E7%AC%A6%E9%87%8D%E8%BD%BD%EF%BC%88%E4%BC%A0%E7%BB%9F%E5%86%99%E6%B3%95%EF%BC%89-toc" style="margin-left:40px;"><a href="#2.4%20operator%3D%E8%BF%90%E7%AE%97%E7%AC%A6%E9%87%8D%E8%BD%BD%EF%BC%88%E4%BC%A0%E7%BB%9F%E5%86%99%E6%B3%95%EF%BC%89" rel="nofollow">2.4 operator=è¿ç®—ç¬¦é‡è½½ï¼ˆä¼ ç»Ÿå†™æ³•ï¼‰</a></p> 
<p id="2.5%20swap%E5%87%BD%E6%95%B0-toc" style="margin-left:40px;"><a href="#2.5%20swap%E5%87%BD%E6%95%B0" rel="nofollow">2.5 swapå‡½æ•°</a></p> 
<p id="2.5%20operator%3D%E8%BF%90%E7%AE%97%E7%AC%A6%E9%87%8D%E8%BD%BD%EF%BC%88%E7%8E%B0%E4%BB%A3%E5%86%99%E6%B3%95%EF%BC%89-toc" style="margin-left:40px;"><a href="#2.5%20operator%3D%E8%BF%90%E7%AE%97%E7%AC%A6%E9%87%8D%E8%BD%BD%EF%BC%88%E7%8E%B0%E4%BB%A3%E5%86%99%E6%B3%95%EF%BC%89" rel="nofollow">2.5 operator=è¿ç®—ç¬¦é‡è½½ï¼ˆç°ä»£å†™æ³•ï¼‰</a></p> 
<p id="3.%20vector%E9%81%8D%E5%8E%86-toc" style="margin-left:0px;"><a href="#3.%20vector%E9%81%8D%E5%8E%86" rel="nofollow">3. vectoréå†</a></p> 
<p id="3.1%20size()%E5%92%8Ccapacity()-toc" style="margin-left:40px;"><a href="#3.1%20size%28%29%E5%92%8Ccapacity%28%29" rel="nofollow">3.1 size()å’Œcapacity()</a></p> 
<p id="3.2%20operator%5B%5D%E9%81%8D%E5%8E%86-toc" style="margin-left:40px;"><a href="#3.2%20operator%5B%5D%E9%81%8D%E5%8E%86" rel="nofollow">3.2 operator[]éå†</a></p> 
<p id="3.3%20%E8%BF%AD%E4%BB%A3%E5%99%A8%E5%92%8C%E8%8C%83%E5%9B%B4for-toc" style="margin-left:40px;"><a href="#3.3%20%E8%BF%AD%E4%BB%A3%E5%99%A8%E5%92%8C%E8%8C%83%E5%9B%B4for" rel="nofollow">3.3 è¿­ä»£å™¨å’ŒèŒƒå›´for</a></p> 
<p id="4.%20vector%E5%B8%B8%E8%A7%81%E5%87%BD%E6%95%B0-toc" style="margin-left:0px;"><a href="#4.%20vector%E5%B8%B8%E8%A7%81%E5%87%BD%E6%95%B0" rel="nofollow">4. vectorå¸¸è§å‡½æ•°</a></p> 
<p id="4.1%20reserve%E5%87%BD%E6%95%B0-toc" style="margin-left:40px;"><a href="#4.1%20reserve%E5%87%BD%E6%95%B0" rel="nofollow">4.1 reserveå‡½æ•°</a></p> 
<p id="4.2%20resize%E5%87%BD%E6%95%B0-toc" style="margin-left:40px;"><a href="#4.2%20resize%E5%87%BD%E6%95%B0" rel="nofollow">4.2 resizeå‡½æ•°</a></p> 
<p id="4.3%20insert%E5%87%BD%E6%95%B0-toc" style="margin-left:40px;"><a href="#4.3%20insert%E5%87%BD%E6%95%B0" rel="nofollow">4.3 insertå‡½æ•°</a></p> 
<p id="4.4%20erase%E5%87%BD%E6%95%B0-toc" style="margin-left:40px;"><a href="#4.4%20erase%E5%87%BD%E6%95%B0" rel="nofollow">4.4 eraseå‡½æ•°</a></p> 
<p id="4.5%20push_back%E5%87%BD%E6%95%B0-toc" style="margin-left:40px;"><a href="#4.5%20push_back%E5%87%BD%E6%95%B0" rel="nofollow">4.5 push_backå‡½æ•°</a></p> 
<p id="4.6%20pop_back%E5%87%BD%E6%95%B0-toc" style="margin-left:40px;"><a href="#4.6%20pop_back%E5%87%BD%E6%95%B0" rel="nofollow">4.6 pop_backå‡½æ•°</a></p> 
<p id="4.7%20empty%E5%87%BD%E6%95%B0-toc" style="margin-left:40px;"><a href="#4.7%20empty%E5%87%BD%E6%95%B0" rel="nofollow">4.7 emptyå‡½æ•°</a></p> 
<p id="5.%20%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E5%92%8C%E6%8B%B7%E8%B4%9D%E6%9E%84%E9%80%A0%E5%AE%8C%E5%96%84-toc" style="margin-left:0px;"><a href="#5.%20%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E5%92%8C%E6%8B%B7%E8%B4%9D%E6%9E%84%E9%80%A0%E5%AE%8C%E5%96%84" rel="nofollow">5. æ„é€ å‡½æ•°å’Œæ‹·è´æ„é€ å®Œå–„</a></p> 
<p id="5.1%20%E6%8B%B7%E8%B4%9D%E6%9E%84%E9%80%A0%EF%BC%88%E7%8E%B0%E4%BB%A3%E5%86%99%E6%B3%95%EF%BC%89-toc" style="margin-left:40px;"><a href="#5.1%20%E6%8B%B7%E8%B4%9D%E6%9E%84%E9%80%A0%EF%BC%88%E7%8E%B0%E4%BB%A3%E5%86%99%E6%B3%95%EF%BC%89" rel="nofollow">5.1 æ‹·è´æ„é€ ï¼ˆç°ä»£å†™æ³•ï¼‰</a></p> 
<p id="5.2%20%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0-toc" style="margin-left:40px;"><a href="#5.2%20%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0" rel="nofollow">5.2 æ„é€ å‡½æ•°</a></p> 
<p id="%E5%88%9D%E5%A7%8B%E5%8C%96%E6%9E%84%E9%80%A0-toc" style="margin-left:80px;"><a href="#%E5%88%9D%E5%A7%8B%E5%8C%96%E6%9E%84%E9%80%A0" rel="nofollow">åˆå§‹åŒ–æ„é€ </a></p> 
<p id="%C2%A0%E5%88%97%E8%A1%A8%E6%9E%84%E9%80%A0-toc" style="margin-left:80px;"><a href="#%C2%A0%E5%88%97%E8%A1%A8%E6%9E%84%E9%80%A0" rel="nofollow">Â åˆ—è¡¨æ„é€ </a></p> 
<p id="%E5%8C%BA%E9%97%B4%E6%9E%84%E9%80%A0-toc" style="margin-left:80px;"><a href="#%E5%8C%BA%E9%97%B4%E6%9E%84%E9%80%A0" rel="nofollow">åŒºé—´æ„é€ </a></p> 
<p id="6.%20%E4%BB%A3%E7%A0%81%E6%95%B4%E7%90%86-toc" style="margin-left:0px;"><a href="#6.%20%E4%BB%A3%E7%A0%81%E6%95%B4%E7%90%86" rel="nofollow">6. ä»£ç æ•´ç†</a></p> 
<p id="6.1%20vector.h%E6%96%87%E4%BB%B6-toc" style="margin-left:40px;"><a href="#6.1%20vector.h%E6%96%87%E4%BB%B6" rel="nofollow">6.1 vector.hæ–‡ä»¶</a></p> 
<p id="6.2%20test.cpp%E6%96%87%E4%BB%B6-toc" style="margin-left:40px;"><a href="#6.2%20test.cpp%E6%96%87%E4%BB%B6" rel="nofollow">6.2 test.cppæ–‡ä»¶</a></p> 
<hr id="hr-toc"> 
<p></p> 
<h2 id="%E5%AF%BC%E8%AF%BB">å¯¼è¯»</h2> 
<p>æˆ‘ä»¬åœ¨ä¸ŠæœŸè®²è§£äº†vectorçš„ä¸€ä¸‹åŸºæœ¬ä½¿ç”¨ï¼Œä»Šå¤©æˆ‘ä»¬æ¥æ¨¡æ‹Ÿå®ç°ä¸€ä¸‹vectorã€‚</p> 
<h2 id="1.%20vector%E7%9A%84%E6%A0%B8%E5%BF%83%E6%A1%86%E6%9E%B6%E6%8E%A5%E5%8F%A3">1. vectorçš„æ ¸å¿ƒæ¡†æ¶æ¥å£</h2> 
<p><span style="background-color:#a2e043;">vectorç±»æœ‰ä¸‰ä¸ªæˆå‘˜å˜é‡ï¼šstartï¼Œfinishå’Œend_of_storageã€‚</span></p> 
<p>è¿™ä¸‰ä¸ªæˆå‘˜å˜é‡å¯ä»¥ç”¨äºéå†vectorä¸­çš„å…ƒç´ ã€ç¡®å®švectorçš„å¤§å°å’Œå®¹é‡ï¼Œæˆ–è€…è¿›è¡Œå…¶ä»–æ“ä½œã€‚</p> 
<blockquote> 
 <ol><li> <p>startï¼šæŒ‡å‘vectorä¸­ç¬¬ä¸€ä¸ªå…ƒç´ çš„æŒ‡é’ˆæˆ–è¿­ä»£å™¨ã€‚å®ƒè¡¨ç¤ºvectorä¸­æ•°æ®çš„èµ·å§‹ä½ç½®ã€‚</p> </li><li> <p>finishï¼šæŒ‡å‘vectorä¸­æœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä¸ªä½ç½®çš„æŒ‡é’ˆæˆ–è¿­ä»£å™¨ã€‚å®ƒè¡¨ç¤ºvectorä¸­æ•°æ®çš„ç»“æŸä½ç½®ã€‚</p> </li><li> <p>end_of_storageï¼šæŒ‡å‘vectorå†…éƒ¨å­˜å‚¨ç©ºé—´çš„æœ«å°¾çš„æŒ‡é’ˆæˆ–è¿­ä»£å™¨ã€‚å®ƒè¡¨ç¤ºvectorå†…éƒ¨å­˜å‚¨ç©ºé—´çš„ç»“æŸä½ç½®ã€‚</p> </li></ol> 
 <p>startã€finishå’Œend_of_storageä¸‰è€…ä¹‹é—´çš„å…³ç³»æ˜¯ï¼šstart &lt;= finish &lt;= end_of_storageã€‚</p> 
</blockquote> 
<p><img alt="" height="668" src="https://images2.imgbox.com/bf/f7/aiuFCECH_o.png" width="851"></p> 
<pre><code class="language-cpp">namespace my_vector
{
	template&lt;class T&gt;
	class vector
	{
	public:
		typedef T* iterator;
		typedef T* const_iterator;
    private:
		iterator _start = nullptr;
		iterator _finish = nullptr;
		iterator _endofstorage = nullptr;
	};
}</code></pre> 
<h2 id="2.%20%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0">2. æ„é€ å‡½æ•°</h2> 
<h3 id="2.1%20%E5%9F%BA%E6%9C%AC%E6%9E%84%E9%80%A0">2.1 åŸºæœ¬æ„é€ </h3> 
<p>æˆ‘ä»¬åœ¨ä¸Šé¢å·²ç»åˆå§‹åŒ–è¿‡äº†ã€‚</p> 
<pre><code class="language-cpp">    vector()
	{}</code></pre> 
<h3 id="%C2%A02.2%20%E6%8B%B7%E8%B4%9D%E6%9E%84%E9%80%A0%EF%BC%88%E4%BC%A0%E7%BB%9F%E5%86%99%E6%B3%95%EF%BC%89">2.2 æ‹·è´æ„é€ ï¼ˆä¼ ç»Ÿå†™æ³•ï¼‰</h3> 
<blockquote> 
 <p>åˆ›å»ºäº†ä¸€ä¸ªå¤§å°ä¸ä¼ å…¥å‘é‡çš„å®¹é‡ç›¸åŒçš„åŠ¨æ€æ•°ç»„ï¼Œå¹¶å°†å…¶åœ°å€èµ‹ç»™ä¸´æ—¶æŒ‡é’ˆtmpã€‚</p> 
 <p>æ¥ä¸‹æ¥çš„<code>for</code>å¾ªç¯éå†ä¼ å…¥å‘é‡çš„æ¯ä¸ªå…ƒç´ ï¼Œå¹¶é€ä¸ªå°†å…¶èµ‹å€¼ç»™ä¸´æ—¶æ•°ç»„ä¸­å¯¹åº”ä½ç½®çš„å…ƒç´ ã€‚</p> 
 <p>æœ€åï¼Œå°†ä¸´æ—¶æ•°ç»„çš„èµ·å§‹åœ°å€èµ‹ç»™æ•°æ®æˆå‘˜<code>_start</code>ï¼Œå°†ç»“æŸåœ°å€èµ‹ç»™æ•°æ®æˆå‘˜<code>_finish</code>ï¼Œå°†å®¹é‡æœ«å°¾åœ°å€èµ‹ç»™æ•°æ®æˆå‘˜<code>_end_of_storage</code>ï¼Œå®Œæˆæ‹·è´æ„é€ å‡½æ•°çš„å·¥ä½œã€‚</p> 
</blockquote> 
<pre><code class="language-cpp">        vector(const vector&amp; v)
		{
            //capacityï¼ˆï¼‰å’Œsizeï¼ˆï¼‰åé¢ä¼šå†™å®ç°æ–¹æ³•
            
			T* tmp = new T[v.capacity()];
			for (size_t i = 0; i &lt; v.size(); i++)
			{
				tmp[i] = v[i];
			}
			_start = tmp;
			_finish = _start + v.size();
			_end_of_storage = _start + v.capacity();
		}
</code></pre> 
<h3 id="2.3%20%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B0">2.3 ææ„å‡½æ•°</h3> 
<pre><code class="language-cpp">        ~vector()
		{
			delete[] _start;
			_start = _finish = _endofstorage = nullptr;
		}</code></pre> 
<h3 id="2.4%20operator%3D%E8%BF%90%E7%AE%97%E7%AC%A6%E9%87%8D%E8%BD%BD%EF%BC%88%E4%BC%A0%E7%BB%9F%E5%86%99%E6%B3%95%EF%BC%89">2.4 operator=è¿ç®—ç¬¦é‡è½½ï¼ˆä¼ ç»Ÿå†™æ³•ï¼‰</h3> 
<blockquote> 
 <p>é€šè¿‡åˆ¤æ–­<code>this</code>æŒ‡é’ˆä¸ä¼ å…¥å‘é‡çš„åœ°å€æ˜¯å¦ç›¸ç­‰æ¥é¿å…è‡ªèµ‹å€¼çš„æƒ…å†µã€‚</p> 
 <p>å¦‚æœä¸æ˜¯è‡ªèµ‹å€¼ï¼Œé¦–å…ˆé€šè¿‡<code>delete[] _start;</code>é‡Šæ”¾å½“å‰å¯¹è±¡çš„åŠ¨æ€æ•°ç»„</p> 
 <p>ç„¶åé€šè¿‡<code>new T[v.capacity()];</code>é‡æ–°åˆ†é…ä¸€ä¸ªå¤§å°ä¸ä¼ å…¥å‘é‡çš„å®¹é‡ç›¸åŒçš„åŠ¨æ€æ•°ç»„ï¼Œå¹¶å°†å…¶èµ·å§‹åœ°å€èµ‹ç»™<code>_start</code>ã€‚</p> 
 <p>å†ç”¨ä½¿ç”¨<code>memcpy</code>å‡½æ•°å°†ä¼ å…¥å‘é‡çš„æ•°æ®å¤åˆ¶åˆ°é‡æ–°åˆ†é…çš„åŠ¨æ€æ•°ç»„ä¸­ã€‚</p> 
</blockquote> 
<pre><code class="language-cpp">
vector&lt;T&gt;&amp; operator=(const vector&lt;T&gt;&amp; v)
{
	if (this != &amp;v)
	{
		delete[] _start;
		_start = new T[v.capacity()];
		memcpy(_start, v._start, sizeof(T) * v.size());
	}
	return *this;
}</code></pre> 
<h3 id="2.5%20swap%E5%87%BD%E6%95%B0">2.5 swapå‡½æ•°</h3> 
<pre><code class="language-cpp">		void swap(vector&lt;T&gt;&amp; v)
		{
			std::swap(_start, v._start);
			std::swap(_finish, v._finish);
			std::swap(_endofstorage, v._endofstorage);
		}</code></pre> 
<h3 id="2.5%20operator%3D%E8%BF%90%E7%AE%97%E7%AC%A6%E9%87%8D%E8%BD%BD%EF%BC%88%E7%8E%B0%E4%BB%A3%E5%86%99%E6%B3%95%EF%BC%89">2.5 operator=è¿ç®—ç¬¦é‡è½½ï¼ˆç°ä»£å†™æ³•ï¼‰</h3> 
<pre><code class="language-cpp">		vector&lt;T&gt;&amp; operator=(vector&lt;T&gt; v)
		{
			swap(v);
			return *this;
		}</code></pre> 
<h2 id="3.%20vector%E9%81%8D%E5%8E%86">3. vectoréå†</h2> 
<h3 id="3.1%20size()%E5%92%8Ccapacity()">3.1 size()å’Œcapacity()</h3> 
<pre><code class="language-cpp">		size_t size() const
		{
			return _finish - _start;
		}
		size_t capacity() const
		{
			return _endofstorage - _start;
		}</code></pre> 
<h3 id="3.2%20operator%5B%5D%E9%81%8D%E5%8E%86">3.2 operator[]éå†</h3> 
<blockquote> 
 <p>å¯ä»¥é€šè¿‡ä¸‹æ ‡è®¿é—®å‘é‡ä¸­çš„å…ƒç´ ï¼Œå¹¶ä¸”æ ¹æ®æ˜¯å¸¸é‡è¿˜æ˜¯éå¸¸é‡å¯¹è±¡ï¼Œè¿”å›ç›¸åº”çš„å¼•ç”¨ç±»å‹æˆ–å¸¸å¼•ç”¨ç±»å‹ï¼Œä»¥å®ç°è¯»å†™å’Œåªè¯»çš„è®¿é—®æ“ä½œã€‚</p> 
</blockquote> 
<pre><code class="language-cpp">		T&amp; operator[](size_t pos)
		{
			assert(pos &lt; size());
			return _start[pos];
		}

		const T&amp; operator[](size_t pos) const
		{
			assert(pos &lt; size());

			return _start[pos];
		}</code></pre> 
<h3 id="3.3%20%E8%BF%AD%E4%BB%A3%E5%99%A8%E5%92%8C%E8%8C%83%E5%9B%B4for">3.3 è¿­ä»£å™¨å’ŒèŒƒå›´for</h3> 
<p><span style="background-color:#a2e043;">beginå’Œendè·å–</span></p> 
<pre><code class="language-cpp">		iterator begin()
		{
			return _start;
		}

		iterator end()
		{
			return _finish;
		}

		const_iterator begin() const
		{
			return _start;
		}

		const_iterator end() const
		{
			return _finish;
		}</code></pre> 
<p>æµ‹è¯•ä»£ç ï¼š</p> 
<pre><code class="language-cpp">	void test_vector1()
	{
		vector&lt;int&gt; v1 = { 1,2,3,4 };


		vector&lt;int&gt;::iterator it = v1.begin();
		while (it != v1.end())
		{
			*it += 1;
			cout &lt;&lt; *it &lt;&lt; " ";
			++it;
		}
		cout &lt;&lt; endl;
		for (auto e : v1)
		{
			cout &lt;&lt; e &lt;&lt; " ";
		}
	}</code></pre> 
<h2 id="4.%20vector%E5%B8%B8%E8%A7%81%E5%87%BD%E6%95%B0">4. vectorå¸¸è§å‡½æ•°</h2> 
<h3 id="4.1%20reserve%E5%87%BD%E6%95%B0">4.1 reserveå‡½æ•°</h3> 
<blockquote> 
 <p>æˆ‘ä»¬åœ¨è¿›è¡Œä½¿ç”¨å¾ªç¯éå†Â <code>_start</code>Â åˆ°Â <code>_finish</code>Â ä¹‹é—´çš„å…ƒç´ ï¼Œå¹¶å°†å…¶èµ‹å€¼ç»™Â <code>tmp</code>Â æŒ‡é’ˆæ‰€æŒ‡å‘çš„ä½ç½®ä¹‹å‰ï¼Œéœ€è¦è®°å½•ä¹‹å‰çš„sizeå¤§å°ã€‚</p> 
 <p>è¿™æ˜¯å› ä¸ºæˆ‘ä»¬åé¢éœ€è¦å…ˆæŠŠåŸå…ˆ_startç»™é‡Šæ”¾ï¼Œå¦‚æœä¸æå‰è®°å½•å°±ä¼šä¸¢å¤±æ•°æ®ï¼Œä¸çŸ¥é“åŸå…ˆæœ‰å¤šå°‘ä¸ªå…ƒç´ ï¼Œä¹Ÿå°±æ— æ³•ç¡®å®šæ–°çš„_finishçš„ä½ç½®ã€‚</p> 
</blockquote> 
<pre><code class="language-cpp">		void reserve(size_t n)
		{
			if (n &gt; capacity())
			{
				T* tmp = new T[n];
				size_t old_size = size();
				for (size_t i = 0; i &lt; old_size; i++)
				{
					tmp[i] = _start[i];
				}
				delete[] _start;

				_start = tmp;
				_finish = tmp + old_size;
				_endofstorage = tmp + n;
			}
		}</code></pre> 
<h3 id="4.2%20resize%E5%87%BD%E6%95%B0">4.2 resizeå‡½æ•°</h3> 
<blockquote> 
 <p>è°ƒç”¨Â <code>reserve(n)</code>Â å‡½æ•°æ¥é¢„ç•™è‡³å°‘èƒ½å®¹çº³Â <code>n</code>Â ä¸ªå…ƒç´ çš„å†…å­˜ç©ºé—´ã€‚</p> 
 <p>ç„¶åï¼Œé€šè¿‡ä¸€ä¸ªå¾ªç¯å°†æŒ‡å®šå€¼Â <code>val</code>Â æ·»åŠ åˆ°Â <code>_finish</code>Â æŒ‡é’ˆæ‰€æŒ‡å‘çš„ä½ç½®ï¼Œç›´åˆ°Â <code>_finish</code>Â æŒ‡é’ˆè¾¾åˆ°æ–°çš„å¤§å°Â <code>n</code>ï¼Œå³Â <code>_finish &lt; _start + n</code>ã€‚</p> 
 <p>å¦‚æœÂ <code>n</code>Â å°äºå½“å‰å¤§å°ï¼Œåˆ™éœ€è¦è¿›è¡Œå¤§å°è°ƒæ•´ã€‚</p> 
 <p>å°†Â <code>_finish</code>Â æŒ‡é’ˆæŒ‡å‘æ–°çš„æœ«å°¾ä½ç½®Â <code>_finish = _start + n</code>ï¼Œå³åˆ é™¤å¤šä½™çš„å…ƒç´ ã€‚</p> 
 <p>è¿™æ ·å°±å®ç°äº†è°ƒæ•´å‘é‡çš„å¤§å°ä¸ºÂ <code>n</code>ï¼Œå¹¶åœ¨å¿…è¦æ—¶æ·»åŠ æˆ–åˆ é™¤å…ƒç´ ã€‚</p> 
</blockquote> 
<pre><code class="language-cpp">		void resize(size_t n, const T&amp; val = T())
		{
			if (n &gt; size())
			{
				reserve(n);

				// æ’å…¥
				while (_finish &lt; _start + n)
				{
					*_finish = val;
					++_finish;
				}
			}
			else
			{
				//åˆ é™¤
				_finish = _start + n;
			}
		}</code></pre> 
<h3 id="4.3%20insert%E5%87%BD%E6%95%B0">4.3 insertå‡½æ•°</h3> 
<blockquote> 
 <p>é¦–å…ˆï¼Œä½¿ç”¨æ–­è¨€Â <code>assert</code>Â æ¥ç¡®ä¿æ’å…¥ä½ç½®Â <code>pos</code>Â åœ¨æœ‰æ•ˆèŒƒå›´å†…ï¼Œå³åœ¨Â <code>_start</code>Â å’ŒÂ <code>_finish</code>Â ä¹‹é—´ã€‚</p> 
 <p>ç„¶åï¼Œæ£€æŸ¥å‘é‡æ˜¯å¦å·²æ»¡ï¼Œå³Â <code>_finish</code>Â æ˜¯å¦ç­‰äºÂ <code>_endofstorage</code>ã€‚å¦‚æœå·²æ»¡ï¼Œéœ€è¦è¿›è¡Œå†…å­˜æ‰©å®¹ã€‚</p> 
 <p>è°ƒç”¨Â <code>reserve()</code>Â å‡½æ•°æ¥æ‰©å®¹å‘é‡çš„å®¹é‡ã€‚å¦‚æœå½“å‰å®¹é‡ä¸º0ï¼Œåˆ™æ‰©å®¹ä¸º4ï¼›å¦åˆ™æ‰©å®¹ä¸ºå½“å‰å®¹é‡çš„ä¸¤å€ã€‚</p> 
 <p>ç„¶åï¼Œé€šè¿‡è®¡ç®—Â <code>len</code>Â æ¥è·å–æ’å…¥ä½ç½®åœ¨Â <code>_start</code>Â ä¸­çš„åç§»é‡ã€‚</p> 
 <p>ç„¶åå°†Â <code>pos</code>Â æ›´æ–°ä¸ºÂ <code>_start + len</code>ï¼Œå³æ–°çš„æ’å…¥ä½ç½®ã€‚</p> 
 <p>æ¥ä¸‹æ¥ï¼Œä½¿ç”¨è¿­ä»£å™¨Â <code>iterator</code>Â <code>it</code>Â åˆå§‹åŒ–ä¸ºÂ <code>_finish</code>Â çš„å‰ä¸€ä¸ªä½ç½®ã€‚</p> 
 <p>ç„¶åï¼Œé€šè¿‡ä¸€ä¸ªå¾ªç¯å°†Â <code>it</code>Â ä»Â <code>_finish - 1</code>Â å‘Â <code>pos</code>Â ç§»åŠ¨ï¼Œå°†æ¯ä¸ªå…ƒç´ ä¾æ¬¡å‘åç§»åŠ¨ä¸€ä¸ªä½ç½®ã€‚</p> 
 <p>åœ¨å¾ªç¯ä¸­ï¼Œæ¯ä¸ªå…ƒç´ é€šè¿‡èµ‹å€¼è¿ç®—ç¬¦Â <code>=</code>Â å°†å…¶å€¼èµ‹ç»™ä¸‹ä¸€ä¸ªä½ç½®Â <code>*(it + 1)</code>ã€‚</p> 
 <p>å®Œæˆå…ƒç´ çš„ç§»åŠ¨åï¼Œå°†æ’å…¥ä½ç½®Â <code>pos</code>Â èµ‹å€¼ä¸ºÂ <code>val</code>ã€‚</p> 
 <p>æœ€åï¼Œå°†Â <code>_finish</code>Â æŒ‡é’ˆå‘åç§»åŠ¨ä¸€ä¸ªä½ç½®ï¼Œå³æ–°å¢äº†ä¸€ä¸ªå…ƒç´ ã€‚</p> 
</blockquote> 
<pre><code class="language-cpp">		void insert(iterator pos, const T&amp; val)
		{
			assert(pos &gt;= _start);
			assert(pos &lt;= _finish);

			if (_finish == _endofstorage)
			{
				size_t len = pos - _start;
				reserve(capacity() == 0 ? 4 : capacity() * 2);
				pos = _start + len;
			}
			iterator it = _finish - 1;
			while (it&gt;=pos)
			{
				*(it + 1) = *it;
				--it;
			}
			*pos = val;
			++_finish;
		}</code></pre> 
<h3 id="4.4%20erase%E5%87%BD%E6%95%B0">4.4 eraseå‡½æ•°</h3> 
<blockquote> 
 <p>é¦–å…ˆï¼Œä½¿ç”¨æ–­è¨€Â <code>assert</code>Â æ¥ç¡®ä¿åˆ é™¤ä½ç½®Â <code>pos</code>Â åœ¨æœ‰æ•ˆèŒƒå›´å†…ï¼Œå³åœ¨Â <code>_start</code>Â å’ŒÂ <code>_finish</code>Â ä¹‹é—´ã€‚</p> 
 <p>ç„¶åï¼Œå°†è¿­ä»£å™¨Â <code>iterator</code>Â <code>it</code>Â åˆå§‹åŒ–ä¸ºÂ <code>pos</code>Â çš„ä¸‹ä¸€ä¸ªä½ç½®ï¼Œå³Â <code>pos + 1</code>ã€‚</p> 
 <p>ç„¶åï¼Œé€šè¿‡ä¸€ä¸ªå¾ªç¯å°†Â <code>it</code>Â ä»Â <code>pos + 1</code>Â å‘Â <code>_finish</code>Â ç§»åŠ¨ï¼Œå°†æ¯ä¸ªå…ƒç´ å‘å‰ç§»åŠ¨ä¸€ä¸ªä½ç½®ã€‚</p> 
 <p>åœ¨å¾ªç¯ä¸­ï¼Œæ¯ä¸ªå…ƒç´ é€šè¿‡èµ‹å€¼è¿ç®—ç¬¦Â <code>=</code>Â å°†å…¶å€¼èµ‹ç»™ä¸Šä¸€ä¸ªä½ç½®Â <code>*(it - 1)</code>ã€‚</p> 
 <p>å®Œæˆå…ƒç´ çš„ç§»åŠ¨åï¼Œå°†Â <code>_finish</code>Â æŒ‡é’ˆå‘å‰ç§»åŠ¨ä¸€ä¸ªä½ç½®ï¼Œå³åˆ é™¤äº†ä¸€ä¸ªå…ƒç´ ã€‚</p> 
 <p>æœ€åï¼Œè¿”å›è¢«åˆ é™¤å…ƒç´ çš„ä½ç½®Â <code>pos</code>ã€‚</p> 
</blockquote> 
<pre><code class="language-cpp">		iterator erase(iterator pos)
		{
			assert(pos &gt;= _start);
			assert(pos &lt; _finish);

			iterator it = pos + 1;
			while (it &lt; _finish)
			{
				*(it - 1) = *it;
				++it;
			}
			--_finish;
			return pos;
		}</code></pre> 
<h3 id="4.5%20push_back%E5%87%BD%E6%95%B0">4.5 push_backå‡½æ•°</h3> 
<p>æˆ‘ä»¬å‰é¢æ—¢ç„¶å·²ç»å®ç°äº†insertå‡½æ•°ï¼Œé‚£å°±ç›´æ¥è°ƒç”¨ï¼Œåœ¨å°¾éƒ¨æ’å…¥ä¸€ä¸ªå…ƒç´ ã€‚</p> 
<pre><code class="language-cpp">		void push_back(const T&amp; val)
		{
			insert(end(), val);
		}</code></pre> 
<h3 id="4.6%20pop_back%E5%87%BD%E6%95%B0">4.6 pop_backå‡½æ•°</h3> 
<p>å’Œå‰é¢ä¸€æ ·ï¼Œç›´æ¥è°ƒç”¨å·²ç»å®ç°çš„eraseå‡½æ•°ï¼Œåˆ é™¤å°¾éƒ¨å…ƒç´ å³å¯ã€‚</p> 
<pre><code class="language-cpp">		void pop_back()
		{
			erase(end() - 1);
		}</code></pre> 
<h3 id="4.7%20empty%E5%87%BD%E6%95%B0">4.7 emptyå‡½æ•°</h3> 
<p>ç›´æ¥åˆ¤æ–­_startå’Œ_finishæ˜¯ä¸æ˜¯åœ¨åŒä¸€ä½ç½®ã€‚</p> 
<pre><code class="language-cpp">		bool empty()
		{
			return _start == _finish;
		}</code></pre> 
<h2 id="5.%20%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E5%92%8C%E6%8B%B7%E8%B4%9D%E6%9E%84%E9%80%A0%E5%AE%8C%E5%96%84">5. æ„é€ å‡½æ•°å’Œæ‹·è´æ„é€ å®Œå–„</h2> 
<h3 id="5.1%20%E6%8B%B7%E8%B4%9D%E6%9E%84%E9%80%A0%EF%BC%88%E7%8E%B0%E4%BB%A3%E5%86%99%E6%B3%95%EF%BC%89">5.1 æ‹·è´æ„é€ ï¼ˆç°ä»£å†™æ³•ï¼‰</h3> 
<blockquote> 
 <p>æˆ‘ä»¬æ—¢ç„¶å·²ç»å®ç°äº†push_backå‡½æ•°ï¼Œå¯ä»¥ç›´æ¥å¼€è¾Ÿä¸€ä¸ªæ–°çš„ç©ºé—´ï¼Œ</p> 
 <p>ç”¨å°¾æ’çš„å½¢å¼æŠŠåŸå…ˆçš„æ•°æ®æ‹·è´è¿‡æ¥ã€‚</p> 
</blockquote> 
<pre><code class="language-cpp">		vector(const vector&lt;T&gt;&amp; v)
		{
			reserve(v.capacity());
			for (auto&amp; e : v)
			{
				push_back(e);
			}
		}</code></pre> 
<h3 id="5.2%20%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0">5.2 æ„é€ å‡½æ•°</h3> 
<h4 id="%E5%88%9D%E5%A7%8B%E5%8C%96%E6%9E%84%E9%80%A0">åˆå§‹åŒ–æ„é€ </h4> 
<p>å®ç°äº†ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œç”¨äºé€šè¿‡é‡å¤ä¸€ä¸ªå€¼æ¥åˆå§‹åŒ–å‘é‡å¯¹è±¡ã€‚</p> 
<blockquote> 
 <p>ç¬¬ä¸€ä¸ªæ„é€ å‡½æ•°æ¥å—ä¸€ä¸ªæ•´æ•°Â <code>n</code>Â å’Œä¸€ä¸ªå€¼Â <code>value</code>ï¼Œé»˜è®¤ä¸ºç±»å‹Â <code>T</code>Â çš„é»˜è®¤å€¼Â <code>T()</code>ã€‚é¦–å…ˆè°ƒç”¨Â <code>reserve</code>Â å‡½æ•°æ¥ä¿è¯å‘é‡çš„å®¹é‡è‡³å°‘ä¸ºÂ <code>n</code>ï¼Œç„¶åé€šè¿‡ä¸€ä¸ªå¾ªç¯è°ƒç”¨Â <code>push_back</code>Â å‡½æ•°Â <code>n</code>Â æ¬¡ï¼Œå°†å€¼Â <code>value</code>Â æ·»åŠ åˆ°å‘é‡çš„æœ«å°¾ã€‚</p> 
 <p>ç¬¬äºŒä¸ªæ„é€ å‡½æ•°æ¥å—ä¸€ä¸ªÂ <code>size_t</code>Â ç±»å‹çš„å‚æ•°Â <code>n</code>Â å’Œä¸€ä¸ªå€¼Â <code>value</code>ï¼Œå…¶ä½™ä¸ç¬¬ä¸€ä¸ªæ„é€ å‡½æ•°ç±»ä¼¼ã€‚</p> 
</blockquote> 
<pre><code class="language-cpp">		vector(int n, const T&amp; value = T())
		{
			reserve(n);
			for (int i = 0; i &lt; n; i++)
			{
				push_back(value);
			}
		}
		vector(size_t n, const T&amp; value = T())
		{
			reserve(n);
			for (int i = 0; i &lt; n; i++)
			{
				push_back(value);
			}
		}</code></pre> 
<h4 id="%C2%A0%E5%88%97%E8%A1%A8%E6%9E%84%E9%80%A0">Â åˆ—è¡¨æ„é€ </h4> 
<blockquote> 
 <p>æ„é€ å‡½æ•°æ¥å—ä¸€ä¸ªÂ <code>initializer_list&lt;T&gt;</code>Â ç±»å‹çš„å‚æ•°Â <code>il</code>ï¼Œè¡¨ç¤ºåˆå§‹åŒ–åˆ—è¡¨ã€‚é¦–å…ˆè°ƒç”¨Â <code>reserve</code>Â å‡½æ•°æ¥ä¿è¯å‘é‡çš„å®¹é‡è‡³å°‘ä¸ºåˆå§‹åŒ–åˆ—è¡¨ä¸­çš„å…ƒç´ ä¸ªæ•°ï¼Œç„¶åé€šè¿‡ä¸€ä¸ªå¾ªç¯éå†åˆå§‹åŒ–åˆ—è¡¨ï¼Œå°†æ¯ä¸ªå…ƒç´ éƒ½æ·»åŠ åˆ°å‘é‡çš„æœ«å°¾ï¼Œä½¿ç”¨Â <code>push_back</code>Â å‡½æ•°å®ç°ã€‚</p> 
 <p>è¿™ä¸ªæ„é€ å‡½æ•°çš„ä½œç”¨æ˜¯åˆ›å»ºä¸€ä¸ªåŒ…å«åˆå§‹åŒ–åˆ—è¡¨ä¸­çš„å…ƒç´ çš„å‘é‡å¯¹è±¡ã€‚é€šè¿‡åˆå§‹åŒ–åˆ—è¡¨å¯ä»¥ç›´æ¥åœ¨åˆ›å»ºå‘é‡å¯¹è±¡çš„åŒæ—¶ï¼ŒæŒ‡å®šå‘é‡çš„åˆå§‹å†…å®¹ã€‚</p> 
</blockquote> 
<pre><code class="language-cpp">	// vector&lt;int&gt; v1 = { 1,2,3,4,5,6,7,8,9,10 };	
    vector(initializer_list&lt;T&gt; il)
		{
			reserve(il.size());
			for (auto&amp; e : il)
			{
				push_back(e);
			}
		}</code></pre> 
<h4 id="%E5%8C%BA%E9%97%B4%E6%9E%84%E9%80%A0">åŒºé—´æ„é€ </h4> 
<blockquote> 
 <p>æ„é€ å‡½æ•°æ¥å—ä¸¤ä¸ªè¿­ä»£å™¨ç±»å‹çš„å‚æ•°Â <code>first</code>Â å’ŒÂ <code>last</code>ï¼Œè¡¨ç¤ºè¦å¤åˆ¶çš„å…ƒç´ çš„èŒƒå›´ã€‚</p> 
 <p></p> 
 <p>é€šè¿‡ä¸€ä¸ªå¾ªç¯ï¼Œå°†ä»Â <code>first</code>Â åˆ°Â <code>last</code>Â çš„å…ƒç´ ä¾æ¬¡è°ƒç”¨Â <code>push_back</code>Â å‡½æ•°æ·»åŠ åˆ°å‘é‡çš„æœ«å°¾ã€‚</p> 
 <p>è¿™ä¸ªæ„é€ å‡½æ•°çš„ä½œç”¨æ˜¯åˆ›å»ºä¸€ä¸ªåŒ…å«è¿­ä»£å™¨èŒƒå›´å†…å…ƒç´ çš„å‘é‡å¯¹è±¡ã€‚é€šè¿‡ä¼ å…¥è¿­ä»£å™¨èŒƒå›´ï¼Œå¯ä»¥å°†å…¶ä»–å®¹å™¨ä¸­çš„å…ƒç´ å¤åˆ¶åˆ°å‘é‡ä¸­ï¼Œæˆ–è€…ä»ä¸€ä¸ªè‡ªå®šä¹‰çš„æ•°æ®ç»“æ„ä¸­å–å‡ºå…ƒç´ å¹¶æ·»åŠ åˆ°å‘é‡ä¸­ã€‚è¿™æ ·å¯ä»¥æ–¹ä¾¿åœ°åˆå§‹åŒ–å‘é‡å¯¹è±¡ï¼Œè€Œä¸å¿…æ‰‹åŠ¨é€ä¸ªæ·»åŠ å…ƒç´ ã€‚</p> 
</blockquote> 
<pre><code class="language-cpp">		template &lt;class InputIterator&gt;
		vector(InputIterator first, InputIterator last)
		{
			while (first != last)
			{
				push_back(*first);
				++first;
			}
		}</code></pre> 
<h2 id="6.%20%E4%BB%A3%E7%A0%81%E6%95%B4%E7%90%86">6. ä»£ç æ•´ç†</h2> 
<h3 id="6.1%20vector.h%E6%96%87%E4%BB%B6">6.1 vector.hæ–‡ä»¶</h3> 
<pre><code class="language-cpp">#pragma once

#include &lt;assert.h&gt;
namespace my_vector
{
	template&lt;class T&gt;
	class vector
	{
	public:
		typedef T* iterator;
		typedef T* const_iterator;

		iterator begin()
		{
			return _start;
		}

		iterator end()
		{
			return _finish;
		}

		const_iterator begin() const
		{
			return _start;
		}

		const_iterator end() const
		{
			return _finish;
		}

		vector()
		{}
		//v2(v1)æ„é€ å‡½æ•°
		vector(const vector&lt;T&gt;&amp; v)
		{
			reserve(v.capacity());
			for (auto&amp; e : v)
			{
				push_back(e);
			}
		}

		// vector&lt;int&gt; v1 = { 1,2,3,4,5,6,7,8,9,10 };
		vector(initializer_list&lt;T&gt; il)
		{
			reserve(il.size());
			for (auto&amp; e : il)
			{
				push_back(e);
			}
		}


		vector(int n, const T&amp; value = T())
		{
			reserve(n);
			for (int i = 0; i &lt; n; i++)
			{
				push_back(value);
			}
		}
		vector(size_t n, const T&amp; value = T())
		{
			reserve(n);
			for (int i = 0; i &lt; n; i++)
			{
				push_back(value);
			}
		}

		// ç±»æ¨¡æ¿çš„æˆå‘˜å‡½æ•°å¯ä»¥æ˜¯å‡½æ•°æ¨¡æ¿
		template &lt;class InputIterator&gt;
		vector(InputIterator first, InputIterator last)
		{
			while (first != last)
			{
				push_back(*first);
				++first;
			}
		}
		void swap(vector&lt;T&gt;&amp; v)
		{
			std::swap(_start, v._start);
			std::swap(_finish, v._finish);
			std::swap(_endofstorage, v._endofstorage);
		}
		vector&lt;T&gt;&amp; operator=(vector&lt;T&gt; v)
		{
			swap(v);
			return *this;
		}

		~vector()
		{
			delete[] _start;
			_start = _finish = _endofstorage = nullptr;
		}


		
		T&amp; operator[](size_t pos)
		{
			assert(pos &lt; size());
			return _start[pos];
		}

		const T&amp; operator[](size_t pos) const
		{
			assert(pos &lt; size());

			return _start[pos];
		}

		size_t size() const
		{
			return _finish - _start;
		}
		size_t capacity() const
		{
			return _endofstorage - _start;
		}

		void reserve(size_t n)
		{
			if (n &gt; capacity())
			{
				T* tmp = new T[n];
				size_t old_size = size();
				for (size_t i = 0; i &lt; old_size; i++)
				{
					tmp[i] = _start[i];
				}
				delete[] _start;

				_start = tmp;
				_finish = tmp + old_size;
				_endofstorage = tmp + n;
			}
		}

		void resize(size_t n, const T&amp; val = T())
		{
			if (n &gt; size())
			{
				reserve(n);

				// æ’å…¥
				while (_finish &lt; _start + n)
				{
					*_finish = val;
					++_finish;
				}
			}
			else
			{
				//åˆ é™¤
				_finish = _start + n;
			}
		}

		bool empty()
		{
			return _start == _finish;
		}

		void insert(iterator pos, const T&amp; val)
		{
			assert(pos &gt;= _start);
			assert(pos &lt;= _finish);

			if (_finish == _endofstorage)
			{
				size_t len = pos - _start;
				reserve(capacity() == 0 ? 4 : capacity() * 2);
				pos = _start + len;
			}
			iterator it = _finish - 1;
			while (it&gt;=pos)
			{
				*(it + 1) = *it;
				--it;
			}
			*pos = val;
			++_finish;
		}

		iterator erase(iterator pos)
		{
			assert(pos &gt;= _start);
			assert(pos &lt; _finish);

			iterator it = pos + 1;
			while (it &lt; _finish)
			{
				*(it - 1) = *it;
				++it;
			}
			--_finish;
			return pos;
		}
		void push_back(const T&amp; val)
		{
			insert(end(), val);
		}

		void pop_back()
		{
			erase(end() - 1);
		}
		

	private:
		iterator _start = nullptr;
		iterator _finish = nullptr;
		iterator _endofstorage = nullptr;
	};

	// å‡½æ•°æ¨¡æ¿
	template&lt;class T&gt;
	void print_vector(const vector&lt;T&gt;&amp;v)
	{
		for (size_t i = 0; i &lt; v.size(); i++)
		{
			cout &lt;&lt; v[i] &lt;&lt; " ";
		}
		cout &lt;&lt; endl;
	}

	void test_vector1()
	{
		vector&lt;int&gt; v1 = { 1,2,3,4 };


		vector&lt;int&gt;::iterator it = v1.begin();
		while (it != v1.end())
		{
			*it += 1;
			cout &lt;&lt; *it &lt;&lt; " ";
			++it;
		}
		cout &lt;&lt; endl;
		for (auto e : v1)
		{
			cout &lt;&lt; e &lt;&lt; " ";
		}
	}
}

</code></pre> 
<h3 id="6.2%20test.cpp%E6%96%87%E4%BB%B6">6.2 test.cppæ–‡ä»¶</h3> 
<pre><code class="language-cpp">#include &lt;iostream&gt;
using namespace std;
#include "vector.h"

int main()
{
	my_vector::test_vector1();
	return 0;
}</code></pre> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/a8c4d297a7f18d3125992e92f9fddc8d/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">ã€å›¾åƒå¤„ç†ä¸æœºå™¨è§†è§‰ã€‘é¢‘ç‡åŸŸæ»¤æ³¢</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/079a3135c2dbf94d3c7dbb37b24aa522/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">æ•°æ®ç»“æ„ï¼ˆCï¼‰ï¼šä»åˆè¯†å †åˆ°å †æ’åºçš„å®ç°</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ç¼–ç¨‹å¤§å’–.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>