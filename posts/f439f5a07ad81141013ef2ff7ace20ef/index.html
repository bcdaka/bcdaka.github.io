<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>ã€wikiçŸ¥è¯†åº“ã€‘05.åˆ†ç±»ç®¡ç†å®ç°--å‰ç«¯Vueæ¨¡å— - ç¼–ç¨‹å¤§å’–</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/f439f5a07ad81141013ef2ff7ace20ef/">
  <meta property="og:site_name" content="ç¼–ç¨‹å¤§å’–">
  <meta property="og:title" content="ã€wikiçŸ¥è¯†åº“ã€‘05.åˆ†ç±»ç®¡ç†å®ç°--å‰ç«¯Vueæ¨¡å—">
  <meta property="og:description" content="ğŸ“ä¸ªäººä¸»é¡µï¼šå“ˆ__
æœŸå¾…æ‚¨çš„å…³æ³¨Â ç›®å½•
ä¸€ã€ğŸ”¥ä»Šæ—¥ç›®æ ‡
äºŒã€ğŸŒå‰ç«¯éƒ¨åˆ†çš„æ”¹é€ 
2.1 æ–°å¢ä¸€ä¸ªtool.tsÂ 2.2 æ–°å¢admin-categoty.vue
2.3 æ·»åŠ æ–°çš„è·¯ç”±è§„åˆ™
2.4Â æ·»åŠ the-welcome.vue
2.5Â ä¿®æ”¹HomeView.vue
ä¸‰ã€â—æ³¨æ„
ä¸€ã€ğŸ”¥ä»Šæ—¥ç›®æ ‡ ã€wikiçŸ¥è¯†åº“ã€‘04.SpringBootåç«¯å®ç°ç”µå­ä¹¦çš„å¢åˆ æ”¹æŸ¥ä»¥åŠå‰ç«¯ç•Œé¢çš„å±•ç¤º-CSDNåšå®¢
ä¸Šå›å¸¦å¤§å®¶æŠŠç”µå­ä¹¦ç®¡ç†çš„æ¨¡å—åšäº†å‡ºæ¥ï¼Œèƒ½å¤Ÿå®ç°ç”µå­ä¹¦çš„æ·»åŠ ã€ä¿®æ”¹å’Œåˆ é™¤åŠŸèƒ½äº†ï¼Œä»Šå¤©å¸¦ç€å¤§å®¶æŠŠåˆ†ç±»çš„æ¥å£å®ç°ä¸€ä¸‹ã€‚ä¸‹æ–¹æˆ‘æ·»åŠ äº†ä¸€ä¸ªåˆ†ç±»ç®¡ç†çš„ç»„ä»¶ï¼Œå±•ç¤ºæˆ‘ä»¬å½“å‰çš„æ‰€æœ‰åˆ†ç±»ï¼Œä½ å¯ä»¥çœ‹åˆ°è¿™ä¸ªåˆ†ç±»é¡µé¢è¿˜æ˜¯ä¸€ä¸ªæ ‘å½¢ç»“æ„çš„ã€‚
é™¤äº†åˆ†ç±»ç®¡ç†ï¼Œæˆ‘ä»¬çš„é¦–é¡µä¹Ÿå˜åŠ¨äº†ä¸€ä¸‹ã€‚é¦–é¡µçš„å¯¼èˆªæ åŠ è½½çš„æ˜¯æˆ‘ä»¬å·²ç»æœ‰çš„åˆ†ç±»ï¼ŒåŒæ—¶è¿˜åŠ ä¸Šäº†ä¸€ä¸ªæ¬¢è¿é¡µé¢ã€‚
äºŒã€ğŸŒå‰ç«¯éƒ¨åˆ†çš„æ”¹é€  2.1 æ–°å¢ä¸€ä¸ªtool.tsÂ åœ¨utilåŒ…ä¸‹å»ºç«‹ä¸€ä¸ªtool.tsæ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶æ˜¯æˆ‘ä»¬çš„å·¥å…·æ–‡ä»¶ï¼Œä¹‹å‰çš„ä»£ç å¯èƒ½ä¹Ÿç”¨åˆ°è¿‡äº†ï¼Œæˆ‘å¿˜è®°ç»™å¤§å®¶äº†ã€‚
export class Tool { /** * ç©ºæ ¡éªŒ nullæˆ–&#34;&#34;éƒ½è¿”å›true */ public static isEmpty(obj: any) { if ((typeof obj === &#39;string&#39;)) { return !obj || obj.replace(/\s&#43;/g, &#34;&#34;) === &#34;&#34; } else { return (!obj || JSON.stringify(obj) === &#34;{}&#34; || obj.length === 0); } } /** * éç©ºæ ¡éªŒ */ public static isNotEmpty(obj: any) { return !">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-06-05T13:57:56+08:00">
    <meta property="article:modified_time" content="2024-06-05T13:57:56+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ç¼–ç¨‹å¤§å’–" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ç¼–ç¨‹å¤§å’–</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">ã€wikiçŸ¥è¯†åº“ã€‘05.åˆ†ç±»ç®¡ç†å®ç°--å‰ç«¯Vueæ¨¡å—</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p style="text-align:center;"><img alt="" height="150" src="https://images2.imgbox.com/a1/ac/wr6PV692_o.png" width="150"></p> 
<p style="text-align:center;">Â <strong>Â ğŸ“ä¸ªäººä¸»é¡µï¼š<a class="link-info" href="https://blog.csdn.net/qq_61024956?type=blog" title="å“ˆ__">å“ˆ__</a></strong></p> 
<p style="text-align:center;"><span style="color:#fe2c24;">æœŸå¾…æ‚¨çš„å…³æ³¨Â </span></p> 
<p style="text-align:center;"><img alt="" height="100" src="https://images2.imgbox.com/eb/dc/La10dN7P_o.gif" width="1000"></p> 
<p id="main-toc"><strong>ç›®å½•</strong></p> 
<p id="-toc" style="margin-left:0px;"></p> 
<p id="%E4%B8%80%E3%80%81%E4%BB%8A%E6%97%A5%E7%9B%AE%E6%A0%87-toc" style="margin-left:0px;"><a href="#%E4%B8%80%E3%80%81%E4%BB%8A%E6%97%A5%E7%9B%AE%E6%A0%87" rel="nofollow">ä¸€ã€ğŸ”¥ä»Šæ—¥ç›®æ ‡</a></p> 
<p id="%E4%BA%8C%E3%80%81%E5%89%8D%E7%AB%AF%E9%83%A8%E5%88%86%E7%9A%84%E6%94%B9%E9%80%A0-toc" style="margin-left:0px;"><a href="#%E4%BA%8C%E3%80%81%E5%89%8D%E7%AB%AF%E9%83%A8%E5%88%86%E7%9A%84%E6%94%B9%E9%80%A0" rel="nofollow">äºŒã€ğŸŒå‰ç«¯éƒ¨åˆ†çš„æ”¹é€ </a></p> 
<p id="2.1%20%E6%96%B0%E5%A2%9E%E4%B8%80%E4%B8%AAtool.ts%C2%A0-toc" style="margin-left:40px;"><a href="#2.1%20%E6%96%B0%E5%A2%9E%E4%B8%80%E4%B8%AAtool.ts%C2%A0" rel="nofollow">2.1 æ–°å¢ä¸€ä¸ªtool.tsÂ </a></p> 
<p id="2.2%20%E6%96%B0%E5%A2%9Eadmin-categoty.vue-toc" style="margin-left:40px;"><a href="#2.2%20%E6%96%B0%E5%A2%9Eadmin-categoty.vue" rel="nofollow">2.2 æ–°å¢admin-categoty.vue</a></p> 
<p id="2.3%20%E6%B7%BB%E5%8A%A0%E6%96%B0%E7%9A%84%E8%B7%AF%E7%94%B1%E8%A7%84%E5%88%99-toc" style="margin-left:40px;"><a href="#2.3%20%E6%B7%BB%E5%8A%A0%E6%96%B0%E7%9A%84%E8%B7%AF%E7%94%B1%E8%A7%84%E5%88%99" rel="nofollow">2.3 æ·»åŠ æ–°çš„è·¯ç”±è§„åˆ™</a></p> 
<p id="2.4%C2%A0%E6%B7%BB%E5%8A%A0the-welcome.vue-toc" style="margin-left:40px;"><a href="#2.4%C2%A0%E6%B7%BB%E5%8A%A0the-welcome.vue" rel="nofollow">2.4Â æ·»åŠ the-welcome.vue</a></p> 
<p id="2.5%C2%A0%E4%BF%AE%E6%94%B9HomeView.vue-toc" style="margin-left:40px;"><a href="#2.5%C2%A0%E4%BF%AE%E6%94%B9HomeView.vue" rel="nofollow">2.5Â ä¿®æ”¹HomeView.vue</a></p> 
<p id="%C2%A0%E4%B8%89%E3%80%81%E2%9D%97%E6%B3%A8%E6%84%8F-toc" style="margin-left:0px;"><a href="#%C2%A0%E4%B8%89%E3%80%81%E2%9D%97%E6%B3%A8%E6%84%8F" rel="nofollow">Â ä¸‰ã€â—æ³¨æ„</a></p> 
<hr id="hr-toc"> 
<p></p> 
<h2 id="%E4%B8%80%E3%80%81%E4%BB%8A%E6%97%A5%E7%9B%AE%E6%A0%87">ä¸€ã€ğŸ”¥ä»Šæ—¥ç›®æ ‡</h2> 
<blockquote> 
 <p><a href="https://blog.csdn.net/qq_61024956/article/details/139395392?spm=1001.2014.3001.5502" title="ã€wikiçŸ¥è¯†åº“ã€‘04.SpringBootåç«¯å®ç°ç”µå­ä¹¦çš„å¢åˆ æ”¹æŸ¥ä»¥åŠå‰ç«¯ç•Œé¢çš„å±•ç¤º-CSDNåšå®¢">ã€wikiçŸ¥è¯†åº“ã€‘04.SpringBootåç«¯å®ç°ç”µå­ä¹¦çš„å¢åˆ æ”¹æŸ¥ä»¥åŠå‰ç«¯ç•Œé¢çš„å±•ç¤º-CSDNåšå®¢</a></p> 
 <p>ä¸Šå›å¸¦å¤§å®¶æŠŠç”µå­ä¹¦ç®¡ç†çš„æ¨¡å—åšäº†å‡ºæ¥ï¼Œèƒ½å¤Ÿå®ç°ç”µå­ä¹¦çš„æ·»åŠ ã€ä¿®æ”¹å’Œåˆ é™¤åŠŸèƒ½äº†ï¼Œä»Šå¤©å¸¦ç€å¤§å®¶æŠŠåˆ†ç±»çš„æ¥å£å®ç°ä¸€ä¸‹ã€‚ä¸‹æ–¹æˆ‘æ·»åŠ äº†ä¸€ä¸ªåˆ†ç±»ç®¡ç†çš„ç»„ä»¶ï¼Œå±•ç¤ºæˆ‘ä»¬å½“å‰çš„æ‰€æœ‰åˆ†ç±»ï¼Œä½ å¯ä»¥çœ‹åˆ°è¿™ä¸ªåˆ†ç±»é¡µé¢è¿˜æ˜¯ä¸€ä¸ªæ ‘å½¢ç»“æ„çš„ã€‚</p> 
 <p><img alt="" height="946" src="https://images2.imgbox.com/bc/dc/vk8Gd3a2_o.png" width="1200"></p> 
 <p>é™¤äº†åˆ†ç±»ç®¡ç†ï¼Œæˆ‘ä»¬çš„é¦–é¡µä¹Ÿå˜åŠ¨äº†ä¸€ä¸‹ã€‚é¦–é¡µçš„å¯¼èˆªæ åŠ è½½çš„æ˜¯æˆ‘ä»¬å·²ç»æœ‰çš„åˆ†ç±»ï¼ŒåŒæ—¶è¿˜åŠ ä¸Šäº†ä¸€ä¸ªæ¬¢è¿é¡µé¢ã€‚</p> 
 <p><img alt="" height="921" src="https://images2.imgbox.com/12/e3/gKYdQKe0_o.png" width="1200">Â </p> 
</blockquote> 
<h2 id="%E4%BA%8C%E3%80%81%E5%89%8D%E7%AB%AF%E9%83%A8%E5%88%86%E7%9A%84%E6%94%B9%E9%80%A0">äºŒã€ğŸŒå‰ç«¯éƒ¨åˆ†çš„æ”¹é€ </h2> 
<blockquote> 
 <h3 id="2.1%20%E6%96%B0%E5%A2%9E%E4%B8%80%E4%B8%AAtool.ts%C2%A0">2.1 æ–°å¢ä¸€ä¸ªtool.tsÂ </h3> 
 <p>åœ¨utilåŒ…ä¸‹å»ºç«‹ä¸€ä¸ªtool.tsæ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶æ˜¯æˆ‘ä»¬çš„å·¥å…·æ–‡ä»¶ï¼Œä¹‹å‰çš„ä»£ç å¯èƒ½ä¹Ÿç”¨åˆ°è¿‡äº†ï¼Œæˆ‘å¿˜è®°ç»™å¤§å®¶äº†ã€‚</p> 
 <p><img alt="" height="342" src="https://images2.imgbox.com/d6/7c/WJdMPSxC_o.png" width="741"></p> 
 <pre><code class="language-javascript">export class Tool {
    /**
     * ç©ºæ ¡éªŒ nullæˆ–""éƒ½è¿”å›true
     */
    public static isEmpty(obj: any) {
        if ((typeof obj === 'string')) {
            return !obj || obj.replace(/\s+/g, "") === ""
        } else {
            return (!obj || JSON.stringify(obj) === "{}" || obj.length === 0);
        }
    }

    /**
     * éç©ºæ ¡éªŒ
     */
    public static isNotEmpty(obj: any) {
        return !this.isEmpty(obj);
    }

    /**
     * å¯¹è±¡å¤åˆ¶
     * @param obj
     */
    public static copy(obj: object) {
        if (Tool.isNotEmpty(obj)) {
            return JSON.parse(JSON.stringify(obj));
        }
    }

    /**
     * ä½¿ç”¨é€’å½’å°†æ•°ç»„è½¬ä¸ºæ ‘å½¢ç»“æ„
     * çˆ¶IDå±æ€§ä¸ºparent
     */
    public static array2Tree(array: any, parentId: number) {
        if (Tool.isEmpty(array)) {
            return [];
        }

        const result = [];
        for (let i = 0; i &lt; array.length; i++) {
            const c = array[i];
            // console.log(Number(c.parent), Number(parentId));
            if (Number(c.parent) === Number(parentId)) {
                result.push(c);

                // é€’å½’æŸ¥çœ‹å½“å‰èŠ‚ç‚¹å¯¹åº”çš„å­èŠ‚ç‚¹
                const children = Tool.array2Tree(array, c.id);
                if (Tool.isNotEmpty(children)) {
                    c.children = children;
                }
            }
        }
        return result;
    }

    /**
     * éšæœºç”Ÿæˆ[len]é•¿åº¦çš„[radix]è¿›åˆ¶æ•°
     * @param len
     * @param radix é»˜è®¤62
     * @returns {string}
     */
    public static uuid(len: number, radix = 62) {
        const chars = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'.split('');
        const uuid = [];
        radix = radix || chars.length;

        for (let i = 0; i &lt; len; i++) {
            uuid[i] = chars[0 | Math.random() * radix];
        }

        return uuid.join('');
    }
}
</code></pre> 
 <h3 id="2.2%20%E6%96%B0%E5%A2%9Eadmin-categoty.vue">2.2 æ–°å¢admin-categoty.vue</h3> 
 <p>åœ¨adminåŒ…ä¸‹ï¼Œåˆ›å»ºadmin-category.vueï¼Œè¿™ä¸ªç»„ä»¶ç”¨æ¥å±•ç¤ºæˆ‘ä»¬çš„åˆ†ç±»ä¿¡æ¯ã€‚è¿™ä¸€éƒ¨åˆ†æˆ‘å¸¦ç€å¤§å®¶ç¨å¾®è¿‡ä¸€ä¸‹ã€‚</p> 
 <hr> 
 <p><strong><span style="color:#fe2c24;">åˆ†ç±»æ·»åŠ åŠŸèƒ½ï¼š</span></strong></p> 
 <p>åœ¨æˆ‘ä»¬ç‚¹å‡»æ·»åŠ æˆ–è€…ç¼–è¾‘åŠŸèƒ½çš„æ—¶å€™ï¼Œä¼šæŠŠä¸‹è¾¹çš„ä»£ç ä»¥ä¸€ä¸ªçª—å£çš„æ¨¡å¼å¼¹å‡ºï¼Œåœ¨è¿™ä¸ªçª—å£ä¸­å±•ç¤ºäº†å½“å‰åˆ†ç±»çš„åç§°ï¼Œå½“å‰åˆ†ç±»çš„çˆ¶åˆ†ç±»æ˜¯è°ä»¥åŠå½“å‰åˆ†ç±»çš„åˆ†ç±»åºå·ã€‚åœ¨æˆ‘ä»¬ä¸ºä¸€ä¸ªåˆ†ç±»è¿›è¡Œæ·»åŠ æˆ–è€…ä¿®æ”¹çš„æ—¶å€™ï¼Œæˆ‘ä»¬éƒ½è¦æ¶‰åŠåˆ°è¿™ä¸ªåˆ†ç±»åˆ°åº•æ˜¯ç¬¬ä¸€åˆ†ç±»è¿˜æ˜¯ç¬¬äºŒåˆ†ç±»çš„é—®é¢˜ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†ä¸€ä¸ªlevel1å˜é‡æ¥ä¿å­˜æˆ‘ä»¬çš„åˆ†ç±»ç»“æ„ï¼Œè¿™ä¸ªç»“æ„ä¸‹è¾¹åœ¨è®²ã€‚</p> 
 <pre><code class="language-html">&lt;a-modal
    title="åˆ†ç±»è¡¨å•"
    v-model:visible="modalVisible"
    :confirm-loading="modalLoading"
    @ok="handleModalOk"
  &gt;
    &lt;a-form :model="category" :label-col="{ span: 6 }" :wrapper-col="{ span: 18 }"&gt;
      &lt;a-form-item label="åç§°"&gt;
        &lt;a-input v-model:value="category.name" /&gt;
      &lt;/a-form-item&gt;
      &lt;a-form-item label="çˆ¶åˆ†ç±»"&gt;
        &lt;a-select
          v-model:value="category.parent"
          ref="select"
        &gt;
          &lt;a-select-option :value="0"&gt;
            æ— 
          &lt;/a-select-option&gt;
          &lt;a-select-option v-for="c in level1" :key="c.id" :value="c.id" :disabled="category.id === c.id"&gt;
            {<!-- -->{c.name}}
          &lt;/a-select-option&gt;
        &lt;/a-select&gt;
      &lt;/a-form-item&gt;
      &lt;a-form-item label="é¡ºåº"&gt;
        &lt;a-input v-model:value="category.sort" /&gt;
      &lt;/a-form-item&gt;
    &lt;/a-form&gt;
  &lt;/a-modal&gt;</code></pre> 
 <p>æˆ‘ä»¬çš„åˆ†ç±»ç»“æ„å¯ä»¥ç”¨ä¸€å¼ å›¾æ¥è¡¨ç¤ºã€‚Â æˆ‘ç»™æ¯ä¸€ä¸ªåˆ†ç±»éƒ½æ’ä¸Šäº†ä¸€ä¸ªç¼–å·ï¼Œç¬¬ä¸€çº§åˆ†ç±»çš„parentç¼–å·éƒ½ä¸º0ï¼ŒäºŒçº§åˆ†ç±»çš„parentç¼–å·åˆ™è¦ç›¸å¯¹åº”å…¶çˆ¶åˆ†ç±»çš„ç¼–å·ã€‚</p> 
 <p><img alt="" height="649" src="https://images2.imgbox.com/c0/8c/THTO8Zzp_o.png" width="764"></p> 
 <hr> 
 <p><span style="color:#fe2c24;"><strong>levelå˜é‡çš„å°è£…è¿‡ç¨‹ï¼š</strong></span></p> 
 <p>æˆ‘ä»¬çš„levelå˜é‡æ˜¯å’Œæˆ‘ä»¬å…¨éƒ¨çš„åˆ†ç±»å˜é‡æœ‰å…³çš„ï¼Œæˆ‘ä»¬å…ˆè¦è·å–æ‰€æœ‰çš„åˆ†ç±»ç„¶åå¯¹åˆ†ç±»è¿›è¡Œé‡æ–°ç»„åˆã€‚</p> 
 <pre><code class="language-javascript">const handleQuery = () =&gt; {
        loading.value = true;
        // å¦‚æœä¸æ¸…ç©ºç°æœ‰æ•°æ®ï¼Œåˆ™ç¼–è¾‘ä¿å­˜é‡æ–°åŠ è½½æ•°æ®åï¼Œå†ç‚¹ç¼–è¾‘ï¼Œåˆ™åˆ—è¡¨æ˜¾ç¤ºçš„è¿˜æ˜¯ç¼–è¾‘å‰çš„æ•°æ®
        level1.value = [];
        axios.get("/category/all").then((response) =&gt; {
          loading.value = false;
          const data = response.data;
          if (data.success) {
            categorys.value = data.content;
            console.log("åŸå§‹æ•°ç»„ï¼š", categorys.value);

            level1.value = [];
            level1.value = Tool.array2Tree(categorys.value, 0);
            console.log("æ ‘å½¢ç»“æ„ï¼š", level1);
          } else {
            message.error(data.message);
          }
        });
      };</code></pre> 
 <p>è¿™æ—¶å€™æ‰“å¼€æˆ‘ä»¬çš„tool.tsæ¥çœ‹ä¸€çœ‹ã€‚ä½ ä¼šçœ‹åˆ°ä¸€å…±æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°å‘¢æˆ‘ä»¬ä¼ çš„æ˜¯ä¸€ä¸ªæ•°æ®æ•°ç»„ï¼Œç¬¬äºŒä¸ªæˆ‘ä»¬ä¼ æ¥çš„æ˜¯0ã€‚</p> 
 <p>é¦–å…ˆæˆ‘ä»¬åˆ¤æ–­ä¸€ä¸‹ä¼ è¿‡æ¥çš„æ•°ç»„æ˜¯ä¸æ˜¯ç©ºçš„ï¼Œ<strong>å¦‚æœæ˜¯ç©ºçš„ç›´æ¥è¿”å›ï¼Œå¦åˆ™çš„è¯æ‰§è¡Œä¸‹æ–¹é€»è¾‘ã€‚</strong></p> 
 <p>é¦–å…ˆéå†æˆ‘ä»¬æ‰€æœ‰çš„åˆ†ç±»ï¼Œæ£€æŸ¥æ¯ä¸€ä¸ªåˆ†ç±»çš„çˆ¶åˆ†ç±»çš„ç¼–å·æ˜¯ä¸æ˜¯æˆ‘ä»¬ä¼ è¿‡æ¥çš„0ï¼Œè¿™é‡Œä½ åº”è¯¥ä¼šç†è§£ä¸ºä»€ä¹ˆè¿™æ ·åšï¼Œå› ä¸ºæˆ‘ä»¬è¦æŠŠä¸€ä¸ªæ•°æ®æ•°æ®é‡æ–°æ ¼å¼åŒ–æˆæ ‘çš„å½¢å¼ï¼Œé‚£æˆ‘ä»¬ä¸€å®šè¦å…ˆæ‰¾åˆ°è¿™æ£µæ ‘çš„ä¸€çº§åˆ†ç±»ï¼Œä¹Ÿå°±æ˜¯çˆ¶èŠ‚ç‚¹ç¼–å·ä¸º0çš„åˆ†ç±»ï¼Œæ‰¾åˆ°äº†ä¹‹åå‘¢æˆ‘ä»¬æŠŠè¿™ä¸ªåˆ†ç±»åŠ åˆ°resultå½“ä¸­ã€‚ç„¶åå‘¢æˆ‘ä»¬<strong>å†æ¬¡è°ƒç”¨array2Treeè¿™ä¸ªæ–¹æ³•</strong>ï¼ŒåŒæ—¶ä¼ å…¥ä¸¤ä¸ªå‚æ•°ï¼Œ<strong>ç¬¬ä¸€ä¸ªå‚æ•°è¿˜æ˜¯ä¹‹å‰çš„å…¨éƒ¨åˆ†ç±»çš„æ•°ç»„</strong>ï¼Œä½†æ˜¯ç¬¬<strong>äºŒä¸ªå‚æ•°</strong>å°±ä¸æ˜¯0äº†ï¼Œ<strong>æ˜¯æˆ‘ä»¬åˆšæ‰åŠ å…¥åˆ°resultä¸­çš„åˆ†ç±»çš„ç¼–å·</strong>ï¼Œæˆ‘ä»¬è¿™æ¬¡è°ƒç”¨è¿™ä¸ªæ–¹æ³•çš„ç›®çš„æ˜¯ä¸ºäº†æ‰¾åˆ°ä¸€çº§åˆ†ç±»çš„å­åˆ†ç±»ï¼šäºŒçº§åˆ†ç±»ã€‚</p> 
 <p>è¿™æ ·çš„ä¸€æ¬¡é€’å½’è°ƒç”¨å°±å¯ä»¥å°†æ•°æ®è¿›è¡Œæ ‘åŒ–ã€‚ï¼ˆä¸æ‡‚ç§ä¿¡æˆ‘ï¼‰</p> 
 <pre><code class="language-javascript"> /**
     * ä½¿ç”¨é€’å½’å°†æ•°ç»„è½¬ä¸ºæ ‘å½¢ç»“æ„
     * çˆ¶IDå±æ€§ä¸ºparent
     */
    public static array2Tree(array: any, parentId: number) {
        if (Tool.isEmpty(array)) {
            return [];
        }

        const result = [];
        for (let i = 0; i &lt; array.length; i++) {
            const c = array[i];
            // console.log(Number(c.parent), Number(parentId));
            if (Number(c.parent) === Number(parentId)) {
                result.push(c);

                // é€’å½’æŸ¥çœ‹å½“å‰èŠ‚ç‚¹å¯¹åº”çš„å­èŠ‚ç‚¹
                const children = Tool.array2Tree(array, c.id);
                if (Tool.isNotEmpty(children)) {
                    c.children = children;
                }
            }
        }
        return result;
    }</code></pre> 
 <hr> 
 <p>Â å…¨éƒ¨ä»£ç å¦‚ä¸‹ï¼š</p> 
 <pre><code class="language-html">&lt;template&gt;
  &lt;a-layout&gt;
    &lt;a-layout-content
      :style="{ background: '#fff', padding: '24px', margin: 0, minHeight: '280px' }"
    &gt;
      &lt;p&gt;
        &lt;a-form layout="inline" :model="param"&gt;
          &lt;a-form-item&gt;
            &lt;a-input v-model:value="param.name" placeholder="åç§°"&gt;
            &lt;/a-input&gt;
          &lt;/a-form-item&gt;
          &lt;a-form-item&gt;
            &lt;a-button type="primary" @click="handleQuery()"&gt;
              æŸ¥è¯¢
            &lt;/a-button&gt;
          &lt;/a-form-item&gt;
          &lt;a-form-item&gt;
            &lt;a-button type="primary" @click="add()"&gt;
              æ–°å¢
            &lt;/a-button&gt;
          &lt;/a-form-item&gt;
        &lt;/a-form&gt;
      &lt;/p&gt;
      &lt;p&gt;
        &lt;a-alert
                class="tip"
                message="å°æç¤ºï¼šè¿™é‡Œçš„åˆ†ç±»ä¼šæ˜¾ç¤ºåˆ°é¦–é¡µçš„ä¾§è¾¹èœå•"
                type="info"
                closable
        /&gt;
      &lt;/p&gt;
      &lt;a-table
        v-if="level1.length &gt; 0"
        :columns="columns"
        :row-key="record =&gt; record.id"
        :data-source="level1"
        :loading="loading"
        :pagination="false"
        :defaultExpandAllRows="true"
      &gt;
        &lt;template #cover="{ text: cover }"&gt;
          &lt;img v-if="cover" :src="cover" alt="avatar" /&gt;
        &lt;/template&gt;
        &lt;template v-slot:action="{ text, record }"&gt;
          &lt;a-space size="small"&gt;
            &lt;a-button type="primary" @click="edit(record)"&gt;
              ç¼–è¾‘
            &lt;/a-button&gt;
            &lt;a-popconfirm
              title="åˆ é™¤åä¸å¯æ¢å¤ï¼Œç¡®è®¤åˆ é™¤?"
              ok-text="æ˜¯"
              cancel-text="å¦"
              @confirm="handleDelete(record.id)"
            &gt;
              &lt;a-button type="danger"&gt;
                åˆ é™¤
              &lt;/a-button&gt;
            &lt;/a-popconfirm&gt;
          &lt;/a-space&gt;
        &lt;/template&gt;
      &lt;/a-table&gt;
    &lt;/a-layout-content&gt;
  &lt;/a-layout&gt;

  &lt;a-modal
    title="åˆ†ç±»è¡¨å•"
    v-model:visible="modalVisible"
    :confirm-loading="modalLoading"
    @ok="handleModalOk"
  &gt;
    &lt;a-form :model="category" :label-col="{ span: 6 }" :wrapper-col="{ span: 18 }"&gt;
      &lt;a-form-item label="åç§°"&gt;
        &lt;a-input v-model:value="category.name" /&gt;
      &lt;/a-form-item&gt;
      &lt;a-form-item label="çˆ¶åˆ†ç±»"&gt;
        &lt;a-select
          v-model:value="category.parent"
          ref="select"
        &gt;
          &lt;a-select-option :value="0"&gt;
            æ— 
          &lt;/a-select-option&gt;
          &lt;a-select-option v-for="c in level1" :key="c.id" :value="c.id" :disabled="category.id === c.id"&gt;
            {<!-- -->{c.name}}
          &lt;/a-select-option&gt;
        &lt;/a-select&gt;
      &lt;/a-form-item&gt;
      &lt;a-form-item label="é¡ºåº"&gt;
        &lt;a-input v-model:value="category.sort" /&gt;
      &lt;/a-form-item&gt;
    &lt;/a-form&gt;
  &lt;/a-modal&gt;
&lt;/template&gt;

&lt;script lang="ts"&gt;
  import { defineComponent, onMounted, ref } from 'vue';
  import axios from 'axios';
  import { message } from 'ant-design-vue';
  import {Tool} from "@/util/tool";

  export default defineComponent({
    name: 'AdminCategory',
    setup() {
      const param = ref();
      param.value = {};
      const categorys = ref();
      const loading = ref(false);

      const columns = [
        {
          title: 'åç§°',
          dataIndex: 'name'
        },
        // {
        //   title: 'çˆ¶åˆ†ç±»',
        //   key: 'parent',
        //   dataIndex: 'parent'
        // },
        {
          title: 'é¡ºåº',
          dataIndex: 'sort'
        },
        {
          title: 'Action',
          key: 'action',
          slots: { customRender: 'action' }
        }
      ];

      /**
       * ä¸€çº§åˆ†ç±»æ ‘ï¼Œchildrenå±æ€§å°±æ˜¯äºŒçº§åˆ†ç±»
       * [{
       *   id: "",
       *   name: "",
       *   children: [{
       *     id: "",
       *     name: "",
       *   }]
       * }]
       */
      const level1 = ref(); // ä¸€çº§åˆ†ç±»æ ‘ï¼Œchildrenå±æ€§å°±æ˜¯äºŒçº§åˆ†ç±»
      level1.value = [];

      /**
       * æ•°æ®æŸ¥è¯¢
       **/
      const handleQuery = () =&gt; {
        loading.value = true;
        // å¦‚æœä¸æ¸…ç©ºç°æœ‰æ•°æ®ï¼Œåˆ™ç¼–è¾‘ä¿å­˜é‡æ–°åŠ è½½æ•°æ®åï¼Œå†ç‚¹ç¼–è¾‘ï¼Œåˆ™åˆ—è¡¨æ˜¾ç¤ºçš„è¿˜æ˜¯ç¼–è¾‘å‰çš„æ•°æ®
        level1.value = [];
        axios.get("/category/all").then((response) =&gt; {
          loading.value = false;
          const data = response.data;
          if (data.success) {
            categorys.value = data.content;
            console.log("åŸå§‹æ•°ç»„ï¼š", categorys.value);

            level1.value = [];
            level1.value = Tool.array2Tree(categorys.value, 0);
            console.log("æ ‘å½¢ç»“æ„ï¼š", level1);
          } else {
            message.error(data.message);
          }
        });
      };

      // -------- è¡¨å• ---------
      const category = ref({});
      const modalVisible = ref(false);
      const modalLoading = ref(false);
      const handleModalOk = () =&gt; {
        modalLoading.value = true;
        axios.post("/category/save", category.value).then((response) =&gt; {
          modalLoading.value = false;
          const data = response.data; // data = commonResp
          if (data.success) {
            modalVisible.value = false;

            // é‡æ–°åŠ è½½åˆ—è¡¨
            handleQuery();
          } else {
            message.error(data.message);
          }
        });
      };

      /**
       * ç¼–è¾‘
       */
      const edit = (record: any) =&gt; {
        modalVisible.value = true;
        category.value = Tool.copy(record);
      };

      /**
       * æ–°å¢
       */
      const add = () =&gt; {
        modalVisible.value = true;
        category.value = {};
      };

      const handleDelete = (id: number) =&gt; {
        axios.delete("/category/delete/" + id).then((response) =&gt; {
          const data = response.data; // data = commonResp
          if (data.success) {
            // é‡æ–°åŠ è½½åˆ—è¡¨
            handleQuery();
          } else {
            message.error(data.message);
          }
        });
      };

      onMounted(() =&gt; {
        handleQuery();
      });

      return {
        param,
        // categorys,
        level1,
        columns,
        loading,
        handleQuery,

        edit,
        add,

        category,
        modalVisible,
        modalLoading,
        handleModalOk,

        handleDelete
      }
    }
  });
&lt;/script&gt;

&lt;style scoped&gt;
  img {
    width: 50px;
    height: 50px;
  }
&lt;/style&gt;
</code></pre> 
 <h3 id="2.3%20%E6%B7%BB%E5%8A%A0%E6%96%B0%E7%9A%84%E8%B7%AF%E7%94%B1%E8%A7%84%E5%88%99">2.3 æ·»åŠ æ–°çš„è·¯ç”±è§„åˆ™</h3> 
 <pre><code class="language-javascript">  {
    path: '/admin/category',
    name: 'AdminCateGory',
    component: AdminCategory
  },</code></pre> 
 <h3 id="2.4%C2%A0%E6%B7%BB%E5%8A%A0the-welcome.vue" style="background-color:transparent;">2.4Â æ·»åŠ the-welcome.vue</h3> 
 <p>åœ¨componentæ–‡ä»¶å¤¹ä¸‹è¾¹ æ·»åŠ the-welcome.vueé¡µé¢ã€‚</p> 
 <pre><code class="language-javascript">&lt;template&gt;
  &lt;span&gt;æ¬¢è¿&lt;/span&gt;

&lt;/template&gt;

&lt;script lang="ts"&gt;
    name: 'the-welcome'
&lt;/script&gt;
&lt;style scoped&gt;

&lt;/style&gt;
</code></pre> 
 <h3 id="2.5%C2%A0%E4%BF%AE%E6%94%B9HomeView.vue">2.5Â ä¿®æ”¹HomeView.vue</h3> 
 <p>è¿™é‡Œåšå‡ºäº†ä¸€äº›ä¿®æ”¹ï¼Œä¸€ä¸ªæ˜¯the-welcomeç»„ä»¶çš„å±•ç¤ºï¼Œè¿˜æœ‰ä¸€ä¸ªå°±æ˜¯é¡µé¢ä¾§è¾¹æ çš„å±•ç¤ºï¼Œæˆ‘ä»¬ä¹‹å‰å±•ç¤ºçš„æ˜¯é¡µé¢é»˜è®¤çš„ï¼Œç°åœ¨æˆ‘ä»¬è¦å±•ç¤ºæ•°æ®åº“å½“ä¸­çš„åˆ†ç±»ç»“æ„ã€‚é‡Œè¾¹æˆ‘ä»¬æœ‰ä¸€äº›ä»£ç è¿˜ç”¨ä¸åˆ°ï¼Œä½†æ˜¯æˆ‘æ²¡æœ‰æ³¨é‡Šæ‰ã€‚</p> 
 <pre><code class="language-javascript">&lt;template&gt;
  &lt;a-layout&gt;
    &lt;a-layout-sider width="200" style="background: #fff"&gt;
      &lt;a-menu
        mode="inline"
        :style="{ height: '100%', borderRight: 0 }"
        @click="handleClick"
        :openKeys="openKeys"
      &gt;
        &lt;a-menu-item key="welcome"&gt;
          &lt;MailOutlined /&gt;
          &lt;span&gt;æ¬¢è¿&lt;/span&gt;
        &lt;/a-menu-item&gt;
        &lt;a-sub-menu v-for="item in level1" :key="item.id" :disabled="true"&gt;
          &lt;template v-slot:title&gt;
            &lt;span&gt;&lt;user-outlined /&gt;{<!-- -->{item.name}}&lt;/span&gt;
          &lt;/template&gt;
          &lt;a-menu-item v-for="child in item.children" :key="child.id"&gt;
            &lt;MailOutlined /&gt;&lt;span&gt;{<!-- -->{child.name}}&lt;/span&gt;
          &lt;/a-menu-item&gt;
        &lt;/a-sub-menu&gt;
        &lt;a-menu-item key="tip" :disabled="true"&gt;
          &lt;span&gt;ä»¥ä¸Šèœå•åœ¨åˆ†ç±»ç®¡ç†é…ç½®&lt;/span&gt;
        &lt;/a-menu-item&gt;
      &lt;/a-menu&gt;
    &lt;/a-layout-sider&gt;
    &lt;a-layout-content
    :style="{ background: '#fff', padding: '24px', margin: 0, minHeight: '280px' }"
  &gt;
      &lt;div class="welcome" v-show="isShowWelcome"&gt;
        &lt;the-welcome&gt;&lt;/the-welcome&gt;
      &lt;/div&gt;
      &lt;a-list v-show="!isShowWelcome" item-layout="vertical" size="large" :grid="{ gutter: 20, column: 3 }" :data-source="ebooks"&gt;
        &lt;template #renderItem="{ item }"&gt;
          &lt;a-list-item key="item.name"&gt;
            &lt;template #actions&gt;
              &lt;span&gt;
                &lt;component v-bind:is="'FileOutlined'" style="margin-right: 8px" /&gt;
                {<!-- -->{ item.docCount }}
              &lt;/span&gt;
              &lt;span&gt;
                &lt;component v-bind:is="'UserOutlined'" style="margin-right: 8px" /&gt;
                {<!-- -->{ item.viewCount }}
              &lt;/span&gt;
              &lt;span&gt;
                &lt;component v-bind:is="'LikeOutlined'" style="margin-right: 8px" /&gt;
                {<!-- -->{ item.voteCount }}
              &lt;/span&gt;
            &lt;/template&gt;
            &lt;a-list-item-meta :description="item.description"&gt;
              &lt;template #title&gt;
                &lt;router-link :to="'/doc?ebookId=' + item.id"&gt;
                  {<!-- -->{ item.name }}
                &lt;/router-link&gt;
              &lt;/template&gt;
              &lt;template #avatar&gt;&lt;a-avatar :src="item.cover"/&gt;&lt;/template&gt;
            &lt;/a-list-item-meta&gt;
          &lt;/a-list-item&gt;
        &lt;/template&gt;
      &lt;/a-list&gt;
  &lt;/a-layout-content&gt;
  &lt;/a-layout&gt;
&lt;/template&gt;

&lt;script lang="ts"&gt;
import { defineComponent, onMounted, ref, reactive, toRef } from 'vue';
import axios from 'axios';
import { message } from 'ant-design-vue';
import {Tool} from "@/util/tool";
import TheWelcome from '@/components/the-welcome.vue';


export default defineComponent({
  name: 'Home',
  components: {
    TheWelcome
  },
  setup() {
    const ebooks = ref();
    // const ebooks1 = reactive({books: []});

    const openKeys =  ref();

    const level1 =  ref();
    let categorys: any;
    /**
     * æŸ¥è¯¢æ‰€æœ‰åˆ†ç±»
     **/
    const handleQueryCategory = () =&gt; {
      axios.get("/category/all").then((response) =&gt; {
        const data = response.data;
        if (data.success) {
          categorys = data.content;
          console.log("åŸå§‹æ•°ç»„ï¼š", categorys);

          // åŠ è½½å®Œåˆ†ç±»åï¼Œå°†ä¾§è¾¹æ å…¨éƒ¨å±•å¼€
          openKeys.value = [];
          for (let i = 0; i &lt; categorys.length; i++) {
            openKeys.value.push(categorys[i].id)
          }

          level1.value = [];
          level1.value = Tool.array2Tree(categorys, 0);
          console.log("æ ‘å½¢ç»“æ„ï¼š", level1.value);
        } else {
          message.error(data.message);
        }
      });
    };

    const isShowWelcome = ref(true);
    let categoryId2 = 0;

    const handleQueryEbook = () =&gt; {
      axios.get("/ebook/list", {
        params: {
          page: 1,
          size: 1000,
          categoryId2: categoryId2
        }
      }).then((response) =&gt; {
        const data = response.data;
        ebooks.value = data.content.list;
        // ebooks1.books = data.content;
      });
    };

    const handleClick = (value: any) =&gt; {
      // console.log("menu click", value)
      if (value.key === 'welcome') {
        isShowWelcome.value = true;
      } else {
        categoryId2 = value.key;
        isShowWelcome.value = false;
        handleQueryEbook();
      }
      // isShowWelcome.value = value.key === 'welcome';
    };

    onMounted(() =&gt; {
      handleQueryCategory();
      // handleQueryEbook();
    });

    return {
      ebooks,
      // ebooks2: toRef(ebooks1, "books"),
      // listData,
      pagination: {
        onChange: (page: any) =&gt; {
          console.log(page);
        },
        pageSize: 3,
      },

      handleClick,
      level1,

      isShowWelcome,

      openKeys
    }
  }
});
&lt;/script&gt;

&lt;style scoped&gt;
  .ant-avatar {
    width: 50px;
    height: 50px;
    line-height: 50px;
    border-radius: 8%;
    margin: 5px 0;
  }
&lt;/style&gt;
</code></pre> 
</blockquote> 
<h2 id="%C2%A0%E4%B8%89%E3%80%81%E2%9D%97%E6%B3%A8%E6%84%8F">Â ä¸‰ã€â—æ³¨æ„</h2> 
<blockquote> 
 <p>åœ¨ä¹‹å‰å†™çš„admin-ebook.vueå½“ä¸­è¿˜æœ‰ä¸€äº›ä»£ç æ˜¯æ³¨é‡Šæ‰çš„ï¼Œå› ä¸ºä¹‹å‰æ²¡æœ‰å†™åˆ†ç±»æ¨¡å—ï¼Œç°åœ¨æˆ‘ä»¬éœ€è¦ä½¿ç”¨åˆ†ç±»çš„åŠŸèƒ½äº†ï¼Œæˆ‘ä»¬è¿˜éœ€è¦è§£é™¤ä¸€äº›æ³¨é‡Šã€‚å¤§å®¶å¯ä»¥çœ‹çœ‹å“ªäº›åœ°æ–¹æœ‰å…³categoryçš„è¢«æ³¨é‡Šæ‰äº†ï¼Œå¤§å®¶å¯ä»¥æ‰“å¼€ï¼Œåç«¯æ¥å£ä¸‹ä¸€ç¯‡æ–‡ç« å°±ä¼šå¸¦å¤§å®¶å†™å‡ºæ¥ã€‚</p> 
 <p>è¿™é‡Œéœ€è¦ä¿®æ”¹ä¸€äº›onMounted()å‡½æ•°ä¸­çš„ä»£ç ï¼Œä¿®æ”¹æˆä¸‹è¾¹çš„éƒ¨åˆ†ã€‚</p> 
 <pre><code class="language-javascript"> onMounted(() =&gt; {
      handleQueryCategory();
      // handleQueryEbook();
    });</code></pre> 
 <p>æ­¤å¤–ï¼Œè¿™ä¸ªç½‘ç«™çš„æ ‡é¢˜å¤´éƒ¨çš„ä¿¡æ¯å¯èƒ½æˆ‘ä¹‹å‰æ²¡åŠ ä¸Šå»ï¼Œå°±æ˜¯è¿™ä¸ªã€‚</p> 
 <p><img alt="" height="95" src="https://images2.imgbox.com/5c/1e/4ntW2bXQ_o.png" width="782"></p> 
 <p>Â åœ¨the-header.vueä¸­ä¿®æ”¹ä¸€ä¸‹è‡ªå·±çš„ä»£ç ã€‚</p> 
 <p><img alt="" height="195" src="https://images2.imgbox.com/3d/06/EFDE2ODA_o.png" width="734"></p> 
 <p>åœ¨ä¸‹è¾¹çš„styleä¸­åŠ ä¸Šæ ·å¼ã€‚ç„¶åå°±å¯ä»¥å±•ç¤ºå‡ºæ¥äº†ã€‚</p> 
 <pre><code class="language-css">&lt;style&gt;
  .logo {
    width: 120px;
    height: 31px;
    /*background: rgba(255, 255, 255, 0.2);*/
    /*margin: 16px 28px 16px 0;*/
    float: left;
    color: white;
    font-size: 18px;
  }
&lt;/style&gt;</code></pre> 
</blockquote>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/cbae3bee9f9abf54d52eb3642486efb7/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">AIGCç®€ä»‹ï¼šå¦‚ä½•åˆ©ç”¨äººå·¥æ™ºèƒ½è¿›è¡Œå†…å®¹ç”Ÿæˆ</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c13285f0d42044ecbbe842768a0f58b2/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">ã€ç»å…¸ç®—æ³•ã€‘LeetCode 392 åˆ¤æ–­å­åºåˆ—(Java/C/Python3/Goå®ç°å«æ³¨é‡Šè¯´æ˜,Easy)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ç¼–ç¨‹å¤§å’–.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>