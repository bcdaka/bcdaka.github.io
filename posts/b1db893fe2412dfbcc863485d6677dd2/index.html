<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【小程序】微信开发者工具&#43;心知天气API实现天气预报 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/b1db893fe2412dfbcc863485d6677dd2/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="【小程序】微信开发者工具&#43;心知天气API实现天气预报">
  <meta property="og:description" content="前言 问：为什么使用心知天气的天气数据API而不是其他产品？
答：
心知天气为我们提供了一款通过标准的Restful API接口进行数据访问的天气数据API产品；
心智天气官网为我们提供了足够详细的开发文档和用户手册，方便我们快速上手进行开发；
心知天气旗下的天气数据API针对不同用户提供了四种产品套餐：免费版、试用版、开发者套餐和企业版；对于处在学习阶段的我们可以选择免费申请试用版进行测试学习；
1.效果图 2.获取心知天气API接口 2.1.获取个人API私钥 心知天气官网链接：心知天气https://www.seniverse.com/
进入心知天气官网注册账号
登录成功后进入控制台页面添加产品（注：这里的试用版和免费版是我已添加过的）
免费申请试用版(亦可充值申请开发者套餐进行长期开发，价格也比较划算)
申请成功后点击产品管理=&gt;进入您选择的产品项，在基本信息项获取API私钥
2.2.查询开发文档获取API接口 官网点击文档进入
心知天气API文档链接 3.开发测试 3.1.获取页面素材包 心知天气官方文档提供：(注：本演示代码背景采取浅色系，推荐使用官方文档提供的暗色主题图标)心知天气官方文档提供的亮色系主题图标链接心知天气官方文档提供的暗色系主题图标链接 使用原因：
亮色主题图标
暗色主题图标
本文演示代码背景使用浅色系，使用亮色主题图标如图所示，会和浅色背景混合导致图标显示不清，所以推荐使用暗色主题图标；
心知天气提供的素材包命名格式采取code@1x.png格式，code是后文中使用wx.request请求API接口获得的属性，可以避免我们自定义方法切换素材从而增大系统开销；
3.2.main.json { &#34;usingComponents&#34;: {}, &#34;navigationBarBackgroundColor&#34;: &#34;#000000&#34;, &#34;navigationBarTextStyle&#34;: &#34;white&#34;, &#34;navigationBarTitleText&#34;: &#34;天气预报&#34;, &#34;backgroundColor&#34;: &#34;#eeeeee&#34;, &#34;backgroundTextStyle&#34;: &#34;light&#34; } usingComponents：用于引入自定义组件。这里没有引入任何自定义组件，后期可进行二次开发添加组件；
navigationBarBackgroundColor：设置小程序导航栏的背景颜色；
navigationBarTextStyle：设置小程序导航栏的文字颜色；
navigationBarTitleText：设置小程序导航栏中间的标题；
backgroundColor：设置小程序页面的背景颜色
backgroundTextStyle：设置小程序页面的背景文字颜色，以适应浅色背景
3.3.main.wxml &lt;view&gt; &lt;view class=&#34;header-modular&#34;&gt;&lt;!--顶部模块的容器--&gt; &lt;image class=&#34;bg-wave&#34; src=&#34;../../images/black/bg_wave.gif&#34;&gt;&lt;/image&gt;&lt;!--背景图片--&gt; &lt;view class=&#34;row&#34; style=&#34;width: 100%;margin: auto;&#34;&gt;&lt;!--水平布局的容器--&gt; &lt;view class=&#34;tmp&#34; id=&#34;now_tmp&#34;&gt;{{now.temperature}}°&lt;/view&gt;&lt;!--当前温度--&gt; &lt;image class=&#34;icon-weather&#34; id=&#34;now_icon&#34; src=&#34;../../images/black/{{now.code}}@1x.png&#34;&gt;&lt;/image&gt;&lt;!--当前天气图标--&gt; &lt;/view&gt; &lt;view class=&#34;tips-wrap&#34; id=&#34;">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-01-13T11:11:41+08:00">
    <meta property="article:modified_time" content="2024-01-13T11:11:41+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【小程序】微信开发者工具&#43;心知天气API实现天气预报</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2 style="text-align:center;">前言</h2> 
<p>问：为什么使用<a class="link-info" href="https://www.seniverse.com/" rel="nofollow" title="心知天气">心知天气</a>的天气数据API而不是其他产品？</p> 
<p>答：</p> 
<ul><li> <p>心知天气为我们提供了一款通过标准的Restful API接口进行数据访问的天气数据API产品；</p> </li><li> <p>心智天气官网为我们提供了足够详细的<a class="link-info" href="https://seniverse.yuque.com/hyper_data/datasets" rel="nofollow" title="开发文档">开发文档</a>和用户手册，方便我们快速上手进行开发；</p> </li><li> <p>心知天气旗下的天气数据API针对不同用户提供了四种产品套餐：免费版、试用版、开发者套餐和企业版；对于处在学习阶段的我们可以选择免费申请试用版进行测试学习；</p> </li></ul> 
<hr> 
<h2>1.效果图</h2> 
<p><img alt="" class="left" height="543" src="https://images2.imgbox.com/7a/37/aoZrKOJd_o.png" width="311"><img alt="" class="right" height="543" src="https://images2.imgbox.com/51/60/cvNy3vsG_o.png" width="304"></p> 
<hr> 
<h2>2.获取心知天气API接口</h2> 
<h4>2.1.获取个人API私钥</h4> 
<blockquote> 
 <p>心知天气官网链接：<a class="link-info has-card" href="https://www.seniverse.com/" rel="nofollow" title="心知天气"><span class="link-card-box"><span class="link-title">心知天气</span><span class="link-link"><img class="link-link-icon" src="https://images2.imgbox.com/52/af/YVZOYfk1_o.png" alt="icon-default.png?t=N7T8">https://www.seniverse.com/</span></span></a></p> 
 <ul><li> <p>进入心知天气官网注册账号</p> </li></ul> 
 <p class="img-center"><img alt="" height="912" src="https://images2.imgbox.com/41/d0/pQOTDX6Q_o.png" width="1200"></p> 
 <ul><li> <p>登录成功后进入控制台页面添加产品（<strong><span style="color:#fe2c24;">注：这里的试用版和免费版是我已添加过的</span></strong>）</p> </li></ul> 
 <p class="img-center"><img alt="" height="637" src="https://images2.imgbox.com/62/47/tRZwhkWl_o.png" width="1200"></p> 
 <ul><li> <p>免费申请试用版(<span style="color:#79c6cd;">亦可充值申请开发者套餐进行长期开发，价格也比较划算</span>)</p> </li></ul> 
 <p class="img-center"><img alt="" height="930" src="https://images2.imgbox.com/5b/40/lKfHq0bM_o.png" width="1200"></p> 
 <ul><li> <p>申请成功后点击产品管理=&gt;进入您选择的产品项，在基本信息项获取API私钥</p> </li></ul> 
 <p class="img-center"><img alt="" height="662" src="https://images2.imgbox.com/5a/e2/VJKr6nK2_o.png" width="1200"></p> 
</blockquote> 
<h4>2.2.查询开发文档获取API接口</h4> 
<blockquote> 
 <ul><li> <p>官网点击文档进入</p> </li></ul> 
 <p class="img-center"><img alt="" height="280" src="https://images2.imgbox.com/b6/d1/1XMObo9I_o.png" width="1200"></p> 
 <ul><li><a class="link-info" href="https://seniverse.yuque.com/hyper_data/datasets/start?" rel="nofollow" title="心知天气API文档链接">心知天气API文档链接</a></li></ul> 
</blockquote> 
<hr> 
<h2>3.开发测试</h2> 
<h3>3.1.获取页面素材包</h3> 
<ul><li>心知天气官方文档提供：<a class="link-info" href="https://seniverse.yuque.com/hyper_data/api_v3/yev2c3" rel="nofollow" title="(注：本演示代码背景采取浅色系，推荐使用官方文档提供的暗色主题图标)">(注：本演示代码背景采取浅色系，推荐使用官方文档提供的暗色主题图标)</a></li><li><a class="link-info" href="https://cdn.sencdn.com/download/icons/white.zip" rel="nofollow" title="心知天气官方文档提供的亮色系主题图标链接">心知天气官方文档提供的亮色系主题图标链接</a></li><li><a class="link-info" href="https://cdn.sencdn.com/download/icons/black.zip" rel="nofollow" title="心知天气官方文档提供的暗色系主题图标链接">心知天气官方文档提供的暗色系主题图标链接</a></li></ul> 
<hr> 
<blockquote> 
 <p><strong>使用原因：</strong></p> 
 <p style="text-align:justify;">              <strong>      </strong></p> 
 <p style="text-align:center;"><strong><span style="color:#ffd900;">亮色主题图标</span></strong></p> 
 <p class="img-center"><img alt="" height="303" src="https://images2.imgbox.com/5c/af/6GZY4No4_o.png" width="637"></p> 
 <p style="text-align:center;">                                                                                                           </p> 
 <p style="text-align:center;"><strong><span style="color:#0d0016;">暗色主题图标</span></strong></p> 
 <p class="img-center"><img alt="" height="303" src="https://images2.imgbox.com/dc/5b/FmeXdaeh_o.png" width="636"></p> 
 <p style="text-align:justify;">                                                                                    </p> 
 <ul><li style="text-align:justify;"> <p><span style="color:#fe2c24;"><strong>本文演示代码背景使用浅色系，使用亮色主题图标如图所示，会和浅色背景混合导致图标显示不清，所以推荐使用暗色主题图标；</strong></span></p> </li><li style="text-align:justify;"> <p><span style="color:#0d0016;"><strong>心知天气提供的素材包命名格式采取</strong></span><span style="color:#fe2c24;"><strong>code@1x.png</strong></span><strong><span style="color:#0d0016;">格式</span><span style="color:#0d0016;">，code是后文中使用</span><span style="color:#956fe7;">wx.request</span><span style="color:#0d0016;">请求API接口获得的属性，可以避免我们自定义方法切换素材从而增大系统开销；</span></strong></p> </li></ul> 
</blockquote> 
<h3>3.2.main.json</h3> 
<pre><code class="language-javascript">{
  "usingComponents": {},
  "navigationBarBackgroundColor": "#000000",
  "navigationBarTextStyle": "white",
  "navigationBarTitleText": "天气预报",
  "backgroundColor": "#eeeeee",
  "backgroundTextStyle": "light"
}</code></pre> 
<blockquote> 
 <ul><li> <p>usingComponents：用于引入自定义组件。这里没有引入任何自定义组件，后期可进行二次开发添加组件；</p> </li><li> <p>navigationBarBackgroundColor：设置小程序导航栏的背景颜色；</p> </li><li> <p>navigationBarTextStyle：设置小程序导航栏的文字颜色；</p> </li><li> <p>navigationBarTitleText：设置小程序导航栏中间的标题；</p> </li><li> <p>backgroundColor：设置小程序页面的背景颜色</p> </li><li> <p>backgroundTextStyle：设置小程序页面的背景文字颜色，以适应浅色背景</p> </li></ul> 
</blockquote> 
<hr> 
<h3>3.3.main.wxml</h3> 
<pre><code class="language-html">&lt;view&gt;
  &lt;view class="header-modular"&gt;&lt;!--顶部模块的容器--&gt;
    &lt;image class="bg-wave" src="../../images/black/bg_wave.gif"&gt;&lt;/image&gt;&lt;!--背景图片--&gt;
    &lt;view class="row" style="width: 100%;margin: auto;"&gt;&lt;!--水平布局的容器--&gt;
      &lt;view class="tmp" id="now_tmp"&gt;{<!-- -->{now.temperature}}°&lt;/view&gt;&lt;!--当前温度--&gt;
      &lt;image class="icon-weather" id="now_icon" src="../../images/black/{<!-- -->{now.code}}@1x.png"&gt;&lt;/image&gt;&lt;!--当前天气图标--&gt;
    &lt;/view&gt;
    &lt;view class="tips-wrap" id="now_wind"&gt;&lt;!--风力、湿度和气压的容器--&gt;
      &lt;view class='tips'&gt;风力：{<!-- -->{now.wind_scale}} 级&lt;/view&gt;
      &lt;view class='tips'&gt;湿度：{<!-- -->{now.humidity}} %&lt;/view&gt;
      &lt;view class='tips'&gt;气压：{<!-- -->{now.pressure}}Pa&lt;/view&gt;
    &lt;/view&gt;
  &lt;/view&gt;


  &lt;view class="card-modular"&gt;&lt;!--卡片模块容器，24小时预报和7天预报--&gt;
      &lt;view class="title"&gt;24小时预报&lt;/view&gt;&lt;!--标题--&gt;
      &lt;!-- 24小时数据 --&gt;
      &lt;view class="card-wrap" &gt;&lt;!--24小时预报的容器--&gt;
        &lt;view class="item hourly" wx:for="{<!-- -->{hourly}}" wx:key="index"&gt;&lt;!--每个小时的预报--&gt;
          &lt;view class="text-gray"&gt;{<!-- -->{item.time}}&lt;/view&gt;&lt;!--时间--&gt;
          &lt;image class="icon" src="../../images/black/{<!-- -->{item.code}}@1x.png"&gt;&lt;/image&gt;&lt;!--天气图标--&gt;
          &lt;view class="text-primary mb-32"&gt;{<!-- -->{item.temperature}}°&lt;/view&gt;&lt;!--温度--&gt;
          &lt;view&gt;{<!-- -->{item.text}}&lt;/view&gt;&lt;!--天气描述--&gt;
          &lt;view class="text-gray"&gt;{<!-- -->{item.wind_direction}}风&lt;/view&gt;&lt;!--风向--&gt;
        &lt;/view&gt;
      &lt;/view&gt;
  &lt;/view&gt;

  &lt;view class="card-modular"&gt;
    &lt;view class="title"&gt;7天预报&lt;/view&gt;&lt;!--7天预报的标题--&gt;
    &lt;view class="card-wrap"&gt;  &lt;!--7天预报的容器--&gt;
      &lt;view class="item daily" wx:for="{<!-- -->{daily}}" wx:key="index"&gt;&lt;!--每天的预报项--&gt;
        &lt;view&gt;{<!-- -->{item.newDate}}&lt;/view&gt;&lt;!--星期--&gt;
        &lt;view class="text-gray"&gt;{<!-- -->{item.date}}&lt;/view&gt;&lt;!--日期--&gt;
        &lt;image class="icon" src="../../images/black/{<!-- -->{item.code_day}}@1x.png"&gt;&lt;/image&gt;&lt;!--白天天气图标--&gt;
        &lt;view class="text-primary"&gt;{<!-- -->{item.low}}°~{<!-- -->{item.high}}°&lt;/view&gt;&lt;!--最低温度和最高温度--&gt;
        &lt;image class="icon" src="../../images/black/{<!-- -->{item.code_night}}@1x.png"&gt;&lt;/image&gt;&lt;!--夜晚天气图标--&gt;
        &lt;view&gt;{<!-- -->{item.text_day}}&lt;/view&gt;&lt;!--天气描述--&gt;
        &lt;view class="text-gray"&gt;{<!-- -->{item.wind_scale}}级&lt;/view&gt;&lt;!--风力等级--&gt;
      &lt;/view&gt;
    &lt;/view&gt;
  &lt;/view&gt;
&lt;/view&gt;</code></pre> 
<blockquote> 
 <h4>3.3.1.header-modular：顶部模块</h4> 
 <p class="img-center"><img alt="" height="295" src="https://images2.imgbox.com/26/1c/3aN4lUrS_o.png" width="461"></p> 
 <ul><li> <p>API接口返回的数据格式：</p> </li></ul> 
 <figure class="image"> 
  <img alt="" height="769" src="https://images2.imgbox.com/29/95/ZtEVUR1j_o.png" width="875"> 
  <figcaption>
    图中信息来源于：心知天气 
   <a href="https://seniverse.yuque.com/hyper_data/api_v3/nyiu3t" rel="nofollow" title="官方文档">官方文档</a> 
  </figcaption> 
 </figure> 
 <ul><li> <p>{<!-- -->{now.XXX}}：在模板中插入从API接口中请求的动态数据</p> </li><li> <p>src="../../images/black/{<!-- -->{now.code}}@1x.png"：图片素材来源于本地，且使用数据绑定根据API接口返回的code获取属于这段数据的图片素材</p> </li></ul> 
 <hr> 
 <h4>3.3.2.二十四小时预报卡片模块</h4> 
 <p class="img-center"><img alt="" height="322" src="https://images2.imgbox.com/82/68/cxwYSAvB_o.png" width="464"></p> 
 <ul><li> <p>API接口返回的数据格式：</p> </li></ul> 
 <div class="img-center"> 
  <figure class="image"> 
   <img alt="" height="796" src="https://images2.imgbox.com/59/88/dZDfrjD4_o.png" width="862"> 
   <figcaption>
     图中信息来源于：心知天气 
    <a href="https://seniverse.yuque.com/hyper_data/api_v3/baom2y" rel="nofollow" title="官方文档">官方文档</a> 
   </figcaption> 
  </figure> 
 </div> 
 <ul><li> <p>wx:for{hourly}：列表绑定API接口返回的hourly数据进行循环渲染</p> </li></ul> 
 <hr> 
 <h4>3.3.3.七天预报卡片模块</h4> 
 <p class="img-center"><img alt="" height="424" src="https://images2.imgbox.com/1e/7d/Bb8T1bky_o.png" width="451"></p> 
 <ul><li> <p>API接口返回的数据格式：</p> </li></ul> 
 <div class="img-center"> 
  <figure class="image"> 
   <img alt="" height="819" src="https://images2.imgbox.com/44/c0/3iDKxAMO_o.png" width="865"> 
   <figcaption>
     图中信息来源于：心知天气 
    <a href="https://seniverse.yuque.com/hyper_data/api_v3/sl6gvt" rel="nofollow" title="官方文档">官方文档</a> 
   </figcaption> 
  </figure> 
 </div> 
</blockquote> 
<hr> 
<h3>3.4.main.wxss</h3> 
<pre><code class="language-css">/* pages/Weather/main.wxss */
body {
  padding-bottom: 60rpx;
}
/* 工具类 */
.row {
  display: flex;
  align-items: center;
}

.mb-32 {
  margin-bottom: 32rpx;
}

/* 页面样式 */
.header-modular {
  height: 400rpx;
  background-color: #64C8FA;
  background: linear-gradient(to bottom, #DCEAFC, #C1CFDF);
  position: relative;
  padding: 30rpx;
}

.header-modular .bg-wave {
  width: 100vw;
  position: absolute;
  bottom: -2rpx;
  left: 0;
  right: 0;
  height: 120rpx;
  mix-blend-mode: screen;
}


.header-modular .location-wrap .icon {
  width: 40rpx;
  height: 40rpx;
  margin-right: 8rpx;
}

.header-modular .tmp {
  font-size: 200rpx;
  font-weight: bold;
  color: #fff;
  margin-right: auto;
}

.header-modular .icon-weather {
  width: 200rpx;
  height: 200rpx;
}

.header-modular .tips-wrap {
  display: flex;
  justify-content: space-between;
}

.header-modular .tips {
  font-size: 28rpx;
  opacity: 0.8;
  color: #da1a1a;
  flex: 1;
}

.header-modular .tips:nth-child(3) {
  text-align: right;
}

.header-modular .tips:nth-child(2) {
  text-align: center;
}

.card-modular {
  padding: 0 30rpx;
  margin-top: 30rpx;
}

.card-modular &gt; .title {
  font-size: 40rpx;
  font-weight: bold;
  position: relative;
  margin-left: 14rpx;
  margin-bottom: 16rpx;
}

.card-modular &gt; .title::before {
  content: "";
  position: absolute;
  left: -14rpx;
  top: 10rpx;
  bottom: 10rpx;
  width: 8rpx;
  border-radius: 10rpx;
  background-color: #2F80ED;
}

.card-modular .card-wrap {
  /*width: 690rpx;*/
  border-radius: 18rpx;
  background-color: #ffffff;
  box-shadow: 0 0 20rpx 0 rgba(0, 0, 0, 0.2);
  overflow-x: auto;
  white-space: nowrap;
}

.card-modular .card-wrap .item {
  display: inline-flex;
  flex-direction: column;
  align-items: center;
  font-size: 28rpx;
  padding: 18rpx 0;
}

.card-modular .card-wrap .item.hourly {
  width: 138rpx;
}

.card-modular .card-wrap .item.daily {
  width: 172.5rpx;
}

.card-modular .card-wrap .item .icon {
  width: 60rpx;
  height: 60rpx;
  margin: 64rpx 0;
}

.card-modular .card-wrap .item .text-gray {
  color: gray;
}

.card-modular .card-wrap .item .text-primary {
  color: #2F80ED;
}</code></pre> 
<hr> 
<h3>3.5.main.js</h3> 
<pre><code class="language-javascript">// pages/Weather/main.js
const private_key = "你的私钥";
Page({

  /**
   * 页面的初始数据
   */
  data: {
    location: '你的城市',
    now: {},
    hourly:[],
    daily:[]
  },
  getWeather() {
    wx.showLoading({
      title: '加载中',
    })
    wx.request({
      url: `https://api.seniverse.com/v3/weather/now.json?key=${private_key}&amp;location=${this.data.location}&amp;language=zh-Hans&amp;unit=c`,
      method: 'GET',
      success: (res) =&gt; {
        console.log("总数据", res);
        this.setData({
          now: res.data.results[0].now
        })
      }
    })
    // 24小时天气预报获取
    wx.request({
      url: `https://api.seniverse.com/v3/weather/hourly.json?key=${private_key}&amp;location=${this.data.location}&amp;language=zh-Hans&amp;unit=c&amp;start=0&amp;hours=24`,
      method: 'GET',
      success: (res) =&gt; {
        let hourlys =res.data.results[0].hourly;
        console.log(hourlys);
        hourlys.forEach((item)=&gt;{
          item.time = this.formatTime(new Date(item.time)).hourly
        })
        this.setData({
          hourly:hourlys
        })
        console.log("24小时天气",this.data.hourly);
      }
    })
    //七天预报获取
    wx.request({
      url: `https://api.seniverse.com/v3/weather/daily.json?key=${private_key}&amp;location=${this.data.location}&amp;language=zh-Hans&amp;unit=c&amp;start=0&amp;days=7`,
      method: 'GET',
      success: (res) =&gt; {
        let dailys =res.data.results[0].daily;
        dailys.forEach((item)=&gt;{
          item.newDate= this.formatTime(new Date(item.date)).dailyToString,
          item.date =this.formatTime(new Date(item.date)).daily
        })
        this.setData({
          daily:dailys
        })
        console.log('7天数据',this.data.daily);
        wx.hideLoading();//关闭等待窗口
      }
    })
  },
  
  /**
   * 生命周期函数--监听页面加载
   */
  onLoad(options) {
    this.getWeather();
  },
  formatTime(date) {
    const year = date.getFullYear()
    const month = date.getMonth() + 1
    const day = date.getDate()
    const hour = date.getHours()
    const minute = date.getMinutes()
    const second = date.getSeconds()
    const weekArray = ["星期天", "星期一", "星期二", "星期三", "星期四", "星期五", "星期六"]
    const isToday = date.setHours(0, 0, 0, 0) == new Date().setHours(0, 0, 0, 0)
    return {
      hourly: [hour, minute].map(this.formatNumber).join(":"),
      daily: [month, day].map(this.formatNumber).join("-"),
      dailyToString: isToday ? "今天" : weekArray[date.getDay()]
    }
  },
  formatNumber(n) {
    n = n.toString()
    return n[1] ? n : '0' + n
  }
})
</code></pre> 
<blockquote> 
 <ul><li>声明常量private_key存储私钥，用于在getWeather()方法中向API发送请求时使用${private_key}模板字符串进行插值；</li><li>在getWeather()方法中通过wx.request()方法向API发送请求，获取<span style="color:#fe2c24;">当天天气预报</span>、<span style="color:#fe2c24;">24小时天气预报</span>和<span style="color:#fe2c24;">七天天气预报</span>。请求完成后调用formatTime()方法和formatNumber()方法格式化API接口返回的时间数据以及时间中的数字，将数据存储在页面data中的now、hourly和daily属性中，最后调用wx.hideLoading()方法关闭加载中的提示框；</li><li>生命周期函数onLoad()在页面加载时触发，会调用getWeather()方法获取天气数据；</li></ul> 
</blockquote> 
<hr> 
<p style="text-align:right;"><strong><span style="color:#fe2c24;"><span style="background-color:#fefcd8;">时贰肆年壹月拾日晌午</span></span></strong></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/992499c15d444c9320d33b89e86aac3c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">[MySQL]:详细MySQL8.0完整的下载安装教程</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6a6a7e0c7447c8ca5fb84e6c22190e4e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">14、强化学习Soft Actor-Critic算法：推导、理解与实战</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>