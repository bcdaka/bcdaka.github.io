<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>打通Vue3&#43;Flask（python3）&#43;Mysql-实现简单数据交互 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/7b9d4750daaaccbf6f76085f87f3c968/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="打通Vue3&#43;Flask（python3）&#43;Mysql-实现简单数据交互">
  <meta property="og:description" content="一、需要准备的工具 下载python3，Vscode，pycharm（这里用的社区版），phpstudy_pro，Node.js（建议下载长期支持版本，版本不宜过低，比如18,20），Vue.js（npm install -g @vue/cli，下载速度慢可以设置淘宝镜像）。
这里不具体说明下载步骤，除了python3环境的配置（自行查阅资料），其余工具常规安装即可。
二、查看基本环境。 win&#43;r输入cmd，打开小黑窗，分别验证node，Vue，python。如果如下图所示，说明基本环境是没有问题的。
三、搭建前端Vue框架 1、可以专门新建一个文件夹，用来存放前后端文件。打开新建文件夹，在地址栏选中内容，输入cmd，回车。输入vue create 项目名称（vue create vueproject），我们暂都不考虑命名规范的问题。
2、键盘上下键可以选择vue版本，这里选择第三项，自定义，选中后回车即可。
3、这里选择版本三。接下来我们一直回车即可，不做过多说明。
4、成功之后，是如下界面。
5、接下来，输入cd vueproject，进入当前项目目录，输入npm i，下载项目所需要的依赖。
6、输入npm run serve，启动项目。
7、成功之后，可以在浏览器输入地址，初始页面如下：至此，vue框架就算搭建完成。
8、我们连按两次Ctrl&#43;C退出项目，使用Vscode打开刚才新建的vue项目（将新建的文件夹拖入Vscode即可）。然后，选中项目任意一项，我们右键选择在集成终端中打开。这里我们需要使用axios工具（用来发送请求），所以在终端输入npm i下载axios。
9、接着解决CORS跨域（数据交互时会用上）。找到vue.config.js文件。输入以下代码。
const { defineConfig } = require(&#39;@vue/cli-service&#39;) module.exports = defineConfig({ transpileDependencies: true, lintOnSave:false, //主要是这部分 devServer: { proxy: { &#39;/api&#39;: { //对应的接口前缀，填入你对应的前缀，后面搭建Flask时会说明 target: &#39;http://127.0.0.1:5000&#39;,//这里填入你要请求的接口的前缀 ws:true,//代理websocked changeOrigin:true,//虚拟的站点需要更管origin secure: false, //是否https接口 pathRewrite:{ &#39;^/api&#39;:&#39;&#39;//重写路径 } } } } }) 10、为了能够简单的体现打通的效果，我们将App.vue文件，做如下修改（只是为了方便测试，代码无实际意义）。然后在集成终端输入指令npm run serve，启动项目，看是否能够正常启动。
&lt;template&gt; &lt;h1&gt;Vue3&lt;/h1&gt; &lt;button @click=&#34;test()&#34;&gt;测试按钮&lt;/button&gt; &lt;/template&gt; &lt;script setup&gt; function test(){ console.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-04-08T15:36:25+08:00">
    <meta property="article:modified_time" content="2024-04-08T15:36:25+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">打通Vue3&#43;Flask（python3）&#43;Mysql-实现简单数据交互</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h4>一、需要准备的工具</h4> 
<p>下载<a class="link-info" href="https://www.python.org/downloads/" rel="nofollow" title="python3">python3</a>，<a class="link-info" href="https://code.visualstudio.com/" rel="nofollow" title="Vscode">Vscode</a>，<a class="link-info" href="https://www.jetbrains.com/pycharm/download/?section=windows" rel="nofollow" title="pycharm（这里用的社区版）">pycharm（这里用的社区版）</a>，<a class="link-info" href="https://www.xp.cn/download.html" rel="nofollow" title="phpstudy_pro">phpstudy_pro</a>，<a class="link-info" href="https://nodejs.org/en" rel="nofollow" title="Node.js">Node.js</a>（建议下载长期支持版本，版本不宜过低，比如18,20），Vue.js（npm install -g @vue/cli，下载速度慢可以设置淘宝镜像）。</p> 
<p>这里不具体说明下载步骤，除了python3环境的配置（自行查阅资料），其余工具常规安装即可。</p> 
<h4>二、查看基本环境。</h4> 
<p>win+r输入cmd，打开小黑窗，分别验证node，Vue，python。如果如下图所示，说明基本环境是没有问题的。</p> 
<p><img alt="" height="282" src="https://images2.imgbox.com/53/12/h4CxJWoA_o.png" width="961"></p> 
<h4>三、搭建前端Vue框架</h4> 
<p>1、可以专门新建一个文件夹，用来存放前后端文件。打开新建文件夹，在地址栏选中内容，输入cmd，回车。输入vue create 项目名称（vue create vueproject），我们暂都不考虑命名规范的问题。</p> 
<p><img alt="" height="361" src="https://images2.imgbox.com/80/bf/460uOKvc_o.png" width="961"></p> 
<p>2、键盘上下键可以选择vue版本，这里选择第三项，自定义，选中后回车即可。</p> 
<p><img alt="" height="396" src="https://images2.imgbox.com/ee/6d/z66Z53kX_o.png" width="963"></p> 
<p>3、这里选择版本三。接下来我们一直回车即可，不做过多说明。</p> 
<p><img alt="" height="372" src="https://images2.imgbox.com/ef/a2/QA6mJxf7_o.png" width="963"></p> 
<p>4、成功之后，是如下界面。<img alt="" height="396" src="https://images2.imgbox.com/f0/16/w2HUDEK3_o.png" width="962"></p> 
<p>5、接下来，输入cd vueproject，进入当前项目目录，输入npm i，下载项目所需要的依赖。</p> 
<p><img alt="" height="183" src="https://images2.imgbox.com/6a/39/UEJZ3vC6_o.png" width="949"></p> 
<p>6、输入npm run serve，启动项目。</p> 
<p><img alt="" height="157" src="https://images2.imgbox.com/dd/22/VwrHZczd_o.png" width="954"></p> 
<p>7、成功之后，可以在浏览器输入地址，初始页面如下：至此，vue框架就算搭建完成。</p> 
<p><img alt="" height="544" src="https://images2.imgbox.com/90/ca/2wKBjCLJ_o.png" width="1200"></p> 
<p>8、我们连按两次Ctrl+C退出项目，使用Vscode打开刚才新建的vue项目（将新建的文件夹拖入Vscode即可）。然后，选中项目任意一项，我们右键选择在集成终端中打开。这里我们需要使用axios工具（用来发送请求），所以在终端输入npm i下载axios。</p> 
<p><img alt="" height="120" src="https://images2.imgbox.com/07/8a/M98hGKPg_o.png" width="800"></p> 
<p>9、接着解决CORS跨域（数据交互时会用上）。找到vue.config.js文件。输入以下代码。</p> 
<pre><code class="language-javascript">const { defineConfig } = require('@vue/cli-service')
module.exports = defineConfig({
  transpileDependencies: true,
  lintOnSave:false,

//主要是这部分
  devServer: {
    proxy: {
        '/api': {
            //对应的接口前缀，填入你对应的前缀，后面搭建Flask时会说明
            target: 'http://127.0.0.1:5000',//这里填入你要请求的接口的前缀
            ws:true,//代理websocked
            changeOrigin:true,//虚拟的站点需要更管origin
            secure: false,                   //是否https接口
            pathRewrite:{
                '^/api':''//重写路径
            }
        }
    }
}


})
</code></pre> 
<p>10、为了能够简单的体现打通的效果，我们将App.vue文件，做如下修改（只是为了方便测试，代码无实际意义）。然后在集成终端输入指令npm run serve，启动项目，看是否能够正常启动。</p> 
<pre><code class="language-javascript">&lt;template&gt;
  
  &lt;h1&gt;Vue3&lt;/h1&gt;
  &lt;button @click="test()"&gt;测试按钮&lt;/button&gt;

&lt;/template&gt;

&lt;script setup&gt;
function test(){
  console.log(111111)
}
&lt;/script&gt;


</code></pre> 
<p><img alt="" height="284" src="https://images2.imgbox.com/a8/27/sqnGUmSW_o.png" width="747"></p> 
<h4>四、搭建Flask框架</h4> 
<p>1、打开pycharm社区版，选择文件，新建项目，按照要求选择项目路径即可。</p> 
<p><img alt="" height="786" src="https://images2.imgbox.com/b0/11/meWT4Ecu_o.png" width="1027"></p> 
<p>我这里是中文版，如果有需要，可以在设置里面的插件，下载中文包，然后重启pycharm即可，插件如下。</p> 
<p><img alt="" height="94" src="https://images2.imgbox.com/d2/e8/v5VLdhPk_o.png" width="550"></p> 
<p>2、这里需要使用相应的工具，我们先下载。在设置中找到如下位置，选择标红位置进行添加。</p> 
<p><img alt="" height="724" src="https://images2.imgbox.com/16/bd/JsVXfq9O_o.png" width="978"></p> 
<p>然后搜索flask，然后选择安装软件包。同样的方式，下载Flask-Cors（解决跨域），以及Flask-MYSQL（连接数据库）。</p> 
<p><img alt="" height="772" src="https://images2.imgbox.com/c3/63/yzh5A6PD_o.png" width="940"></p> 
<p>3、在文件夹下新建一个app.py文件，同时输入以下代码</p> 
<pre><code class="language-javascript">from flask import Flask



app=Flask(__name__)


@app.route('/')
def index():
    return 'Hello Flask!!!'

if __name__=="__main__":
    app.run(debug=True)
    # debug==True是为了方便修改代码之后，能够不重启项目就能够更新，否则，每次更改代码都需要重新启动项目
    # 其他参数的设置可以查阅文档，这里越简单越好
</code></pre> 
<p>点击运行，可以看到如下结果（警告这里暂时不管），将地址在浏览器打开。</p> 
<p><img alt="" height="879" src="https://images2.imgbox.com/e0/6b/IVE24Vt3_o.png" width="1200"></p> 
<p>4、这里出现的http://127.0.0.1:5000就是我们在vue.config.js文件为解决跨域需要输入的接口前缀（第二大步第9小步那里）。浏览器打开结果如下。</p> 
<p><img alt="" height="249" src="https://images2.imgbox.com/18/0f/bQWhlqU2_o.png" width="1195"></p> 
<h4>五、打通Vue与Flask</h4> 
<p>到这里，我们前后两个框架就搭建好了，也都启动了项目，接下来将它们打通。我们这里把Vue搭建的称为前端，Flask搭建的称为后端。这里我们前后端都需要启动起来。（涉及的代码不考虑健壮性等，只是为了测试）</p> 
<p><strong>如果中途改了配置文件，需要重新启动项目，以便代码生效。</strong></p> 
<p>1、打开前端，修改App.vue 里面的代码。</p> 
<pre><code class="language-javascript">&lt;template&gt;
  
  &lt;h1&gt;Vue3&lt;/h1&gt;
  &lt;button @click="test()"&gt;测试按钮&lt;/button&gt;

&lt;/template&gt;

&lt;script setup&gt;
import axios from 'axios';
function test(){
  axios.get('/http://127.0.0.1:5000/api/axios').
  then(res=&gt;{
    console.log(res)
  })
}
&lt;/script&gt;


</code></pre> 
<p>2、打开后端，修改app.py文件</p> 
<pre><code class="language-javascript">from flask import Flask
from flask_cors import CORS


app=Flask(__name__)
CORS(app)

@app.route('/')
def index():
    return 'Hello Flask!!!'

@app.route('/api/axios')
def msg():
    return '需要传递给前端的数据'

if __name__=="__main__":
    app.run(debug=True)
    # debug==True是为了方便修改代码之后，能够不重启项目就能够更新，否则，每次更改代码都需要重新启动项目
    # 其他参数的设置可以查阅文档，这里越简单越好
</code></pre> 
<p>3、此时，我们先查看前后端是否能够正常启动（如果不能，重启项目或检查代码是否有错）。刷新前端页面，点击测试按钮，可以看到控制已经收到传过去的数据。</p> 
<p><img alt="" height="531" src="https://images2.imgbox.com/78/a5/8T7VDtyO_o.png" width="1102"></p> 
<p>4、发送前端数据到后端，修改App.vue代码。</p> 
<pre><code class="language-javascript">&lt;template&gt;
  
  &lt;h1&gt;Vue3&lt;/h1&gt;
  &lt;button @click="test()"&gt;测试按钮&lt;/button&gt;
  &lt;button @click="send()"&gt;发送数据&lt;/button&gt;

&lt;/template&gt;

&lt;script setup&gt;
import axios from 'axios';
function test(){
  axios.get('http://127.0.0.1:5000/api/axios').
  then(res=&gt;{
    console.log(res)
  })
}

function send(){
  axios.post('http://127.0.0.1/api/msg',{name:'lily',age:23,school:'麻省理工'}).
  then(res=&gt;{
    console.log(res)
  })
}
&lt;/script&gt;


</code></pre> 
<p>修改后端app.py文件</p> 
<pre><code class="language-javascript">from flask import Flask,request
from flask_cors import CORS


app=Flask(__name__)
CORS(app)

@app.route('/')
def index():
    return 'Hello Flask!!!'

@app.route('/api/axios')
def msg():
    return '需要传递给前端的数据'

@app.route('/api/msg',methods={'POST'})
def message():
    if request.data:
        res=request.data
        print(res)
        # 这里传过来的是bytes类型数据，所以简单处理了一下，但这里主要说明数据是成功传输了过来
        res1=res.decode('utf-8')
        print(res1)
        return '获取数据成功'
    else:
        return '没有数据'

if __name__=="__main__":
    app.run(debug=True)
    # debug==True是为了方便修改代码之后，能够不重启项目就能够更新，否则，每次更改代码都需要重新启动项目
    # 其他参数的设置可以查阅文档，这里越简单越好
</code></pre> 
<p>刷新前端页面，点击发送数据，前端控制台可以看到</p> 
<p><img alt="" height="512" src="https://images2.imgbox.com/13/1a/wPInftsC_o.png" width="1174"></p> 
<p>后端终端可以看到已接收到前端传来的数据（只看结果，不对数据进行处理）</p> 
<p><img alt="" height="879" src="https://images2.imgbox.com/b5/ca/CmPvAZfh_o.png" width="1200"></p> 
<p>至此，前后端打通，也及其简单的实现了前后数据的交互。</p> 
<h4>六、连接MYSQL数据库</h4> 
<p>1、这里我们使用的是小皮系统（个人觉得比较简单好用，而且不用单独区下载MYSQL）。首先打开软件。这里启动的是MYSQL5.7</p> 
<p><img alt="" height="630" src="https://images2.imgbox.com/54/bc/qeaLakih_o.png" width="800"></p> 
<p>2、数据库用户，密码的查看以及密码的修改。</p> 
<p><img alt="" height="630" src="https://images2.imgbox.com/f9/78/GEZkOlKY_o.png" width="800"></p> 
<p>3、这里我们下载如下工具，方便操作数据库表。下载完后，直接打开。</p> 
<p><img alt="" height="630" src="https://images2.imgbox.com/a2/f4/uOd6G6fo_o.png" width="800"></p> 
<p>4、新建会话，输入刚刚查看的用户名与密码，以及端口号（默认即可），点击打开即可</p> 
<p><img alt="" height="420" src="https://images2.imgbox.com/7e/98/nO0PpMcZ_o.png" width="700"></p> 
<p>5、新建数据库message，以及表user。（这里不具体说明，不同的工具建立数据库以及数据库表大同小异，不会可以查阅相关资料，这里不一步一步说明）。一般是右键新建数据库，然后选中数据库，选择创建新的表，然后设计需要的字段，注意的是每一个表需要设计主键（选中行，右键创建新的索引-PRIMARY）。</p> 
<p><img alt="" height="600" src="https://images2.imgbox.com/06/93/fNJ0xwCC_o.png" width="1200"></p> 
<p><img alt="" height="600" src="https://images2.imgbox.com/00/fa/AJq11swt_o.png" width="950"></p> 
<p>6、修改后端app.py文件</p> 
<pre><code class="language-javascript">from flask import Flask, request
from flask_cors import CORS

# 新添加内容
import pymysql
# 连接
db = pymysql.connect(
    # 这里输入自己的地址，数据库名，用户名，密码
    host='127.0.0.1',
    user='root',  # 用户名
    password='111111',  # 密码
    database='message'  # 数据库名
)

curor = db.cursor()
# 执行sql语句
curor.execute('select * from user')
# 获取数据
res = curor.fetchall()
print(res)

#关闭数据库
db.close()

app = Flask(__name__)
CORS(app)


@app.route('/')
def index():
    return 'Hello Flask!!!'


@app.route('/api/axios')
def msg():
    return '需要传递给前端的数据'


@app.route('/api/msg', methods={'POST'})
def message():
    if request.data:
        res = request.data
        print(res)
        # 这里传过来的是bytes类型数据，所以简单处理了一下，但这里主要说明数据是成功传输了过来
        res1 = res.decode('utf-8')
        print(res1)
        return '获取数据成功'
    else:
        return '没有数据'


if __name__ == "__main__":
    app.run(debug=True)
    # debug==True是为了方便修改代码之后，能够不重启项目就能够更新，否则，每次更改代码都需要重新启动项目
    # 其他参数的设置可以查阅文档，这里越简单越好
</code></pre> 
<p>点击运行，如下，已经从数据库中查询到表user的数据</p> 
<p><img alt="" height="879" src="https://images2.imgbox.com/0d/89/LGd44u2P_o.png" width="1200"></p> 
<p>插入数据，在app.py文件添加如下代码</p> 
<pre><code class="language-javascript"># 插入数据
sql="insert into user(id,username,password)values(5,'杜甫','6789')"
try:
    curor.execute(sql)
    db.commit()
except:
    db.rollback()

db.close()</code></pre> 
<p>刷新数据库表，发现数据添加成功。（删，改可以自行测试，这里不一一说明）</p> 
<p><img alt="" height="600" src="https://images2.imgbox.com/b3/5e/q6YLLYHB_o.png" width="1200"></p> 
<p>自此，后端与数据库打通。前面已经简单说明后端如何给前端传递数据，这里后端能够拿到数据库数据，自然就可以传递给前端，然后进行页面渲染。</p> 
<p>到这里，Vue+Flask+MySQL已经打通了，接下来就可以正式进行项目开发，编写符合规范的代码。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b578cc0aba1f66e9821d35f7df00cc1c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">秘塔 AI 搜索：颠覆搜索的常态体验，强大&#43;惊艳</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e1b768f901df3ca5e799e83ded9c1109/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">基于Java的开源CMS有哪些推荐，各自特点是什么，2024年最新管理系统代码数据结构</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>