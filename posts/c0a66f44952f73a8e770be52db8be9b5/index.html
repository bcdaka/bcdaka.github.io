<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>华为云云耀云服务器L实例评测｜2核2G跑mysql性能测试 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/c0a66f44952f73a8e770be52db8be9b5/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="华为云云耀云服务器L实例评测｜2核2G跑mysql性能测试">
  <meta property="og:description" content="前言 上一次我们介绍了华为云云耀云服务器L实例的基本信息，从购买到特色都做了简要介绍。但是
很多人看到这个配置又产生了迟疑，主要是因为云耀现在提供的全系是2核，性能吃得消吗？今天我们就来做一个性能测试
环境准备 因为我们购买的是服务器已经有了宝塔镜像，在上期我们已经安装了mysql5.7
当然，因为这里是安装了服务端，而我们决定使用 mysqlslap 来进行测试，所以还需要安装一个客户端
基准测试 读写测试 我们先使用 mysqlslap 来进行一次基准测试
然后笔者在在自己的windows电脑上进行测试，笔者的笔电是一个 11代I7的处理器 &#43; 16G的内存
存储为海力士PC711固态硬盘
那用这台电脑进行mysql基准测试又该如何，笔者也进行了测试
可以看到虽然笔者的计算机论配置核心数以及内存都比云耀云服务器L实例高， 但这个基准测试单次的结果其实并不是很好
接下来我们增加一些参数设定
mysqlslap -uroot -proot --auto-generate-sql --concurrency=100 --number-of-queries=2000 其中，--concurrency 指定并发客户端数量，--number-of-queries 指定总共运行多少次 SQL 语句，我们此处设定100个并发，一共执行2000次sql。我们再来看一下
可以看到2000次查询分散到100个客户端上后，云耀服务器的耗时仅0.49s，然而此时笔电的耗时更短，仅0.29s。我们接下来同样是100客户端，按总查询5000、10000、15000、20000、25000的级别分别测试
其整个对比曲线已经绘制出来如下：
可以看到两者的曲线几乎是一致的，甚至随着运行次数的增多，云耀服务器还能胜出一头。
连接测试 除了持续的性能读写，那么我们还是要负责任的对连接数及并发情况进行一些测试，其命令如下
mysqlslap -uroot -proot --concurrency=100 --number-of-queries=100 --query=&#34;SELECT 1&#34; 我们准备以笔记本测一下 1000 连接的情况
然后作为对比，看一下笔记本这边的情况
尽管心里有预期，在高并发的情况下，linux服务器的表现应该会比windows笔电要强，但仍没想到居然产生了10倍的差别。
当我们把并发数提到2000的时候，结果如下：
可以看到云耀云服务器L实例这边比较规整，基本上耗时是1000并发时的两倍，而笔电这边明显耗时几乎达到了3倍。
当我们继续极限测试，将连接数设定到10000时，两边都到达上限了，云服务器这边是线程数上限了，而笔电这边则是连接数超限了。
不过我们都知道现实中，小公司几乎不可能出现高达10000的连接数，真要有这么高的连接，就该做各种分库分表了，所以并不用担心这种场景
总结 经过多轮测试，并以笔者的个人电脑作为对比。不难看出，尽管我们选用的云耀云服务器L实例是最低的2核2G配置，但其实际性能仍然堪比笔者的4核16G &#43; 固态硬盘的笔电，且随着负载量的上升，甚至能产生一些优势。而在面对大量连接的时候，云耀的优势甚至能扩大到几十倍。所以，还真不能直接套用个人计算机的观念，来看待云服务器的配置，其真实性能其实比很多人想象的都更强，尤其是其并发能力，即便选取云耀服务器的最低配置，也有不俗的性能">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2023-09-22T20:35:19+08:00">
    <meta property="article:modified_time" content="2023-09-22T20:35:19+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">华为云云耀云服务器L实例评测｜2核2G跑mysql性能测试</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h4>前言</h4> 
<p>上一次我们介绍了<strong>华为云云耀云服务器L实例</strong>的基本信息，从购买到特色都做了简要介绍。但是</p> 
<p><img alt="" height="450" src="https://images2.imgbox.com/00/8e/GvhF9CeO_o.png" width="1200"></p> 
<p>很多人看到这个配置又产生了迟疑，主要是因为云耀现在提供的全系是2核，性能吃得消吗？今天我们就来做一个性能测试</p> 
<p></p> 
<h4>环境准备</h4> 
<p>因为我们购买的是服务器已经有了宝塔镜像，在上期我们已经安装了mysql5.7</p> 
<p><img alt="" height="631" src="https://images2.imgbox.com/e1/20/4z4pLyHp_o.png" width="661"></p> 
<p>当然，因为这里是安装了服务端，而我们决定使用 mysqlslap 来进行测试，所以还需要安装一个客户端</p> 
<p><img alt="" height="333" src="https://images2.imgbox.com/36/e0/wgADRyJL_o.png" width="1200"></p> 
<h4>基准测试</h4> 
<h5>读写测试</h5> 
<p>我们先使用 <strong>mysqlslap</strong> 来进行一次基准测试</p> 
<p><img alt="" height="158" src="https://images2.imgbox.com/43/32/epyJsujE_o.png" width="723"></p> 
<p>然后笔者在在自己的windows电脑上进行测试，笔者的笔电是一个 11代I7的处理器 + 16G的内存</p> 
<p><img alt="" height="287" src="https://images2.imgbox.com/2b/33/GReeq1O1_o.png" width="479"></p> 
<p>存储为海力士PC711固态硬盘</p> 
<p><img alt="" height="261" src="https://images2.imgbox.com/5b/25/dIlgSzC2_o.png" width="402"></p> 
<p>那用这台电脑进行mysql基准测试又该如何，笔者也进行了测试</p> 
<p><img alt="" height="231" src="https://images2.imgbox.com/15/fa/w3K1Pvrl_o.png" width="728"></p> 
<p>可以看到虽然笔者的计算机论配置核心数以及内存都比<strong>云耀云服务器L实例</strong>高， 但这个基准测试单次的结果其实并不是很好</p> 
<p>接下来我们增加一些参数设定</p> 
<pre><code class="language-bash">mysqlslap -uroot -proot --auto-generate-sql --concurrency=100 --number-of-queries=2000
</code></pre> 
<p>其中，<span style="color:#fe2c24;">--concurrency</span> 指定并发客户端数量，<span style="color:#fe2c24;">--number-of-queries</span> 指定总共运行多少次 SQL 语句，我们此处设定100个并发，一共执行2000次sql。我们再来看一下</p> 
<p><img alt="" height="136" src="https://images2.imgbox.com/f8/63/mn5A4Wxs_o.png" width="897"></p> 
<p><img alt="" height="139" src="https://images2.imgbox.com/f9/66/WLDvypCD_o.png" width="872"></p> 
<p>可以看到2000次查询分散到100个客户端上后，云耀服务器的耗时仅0.49s，然而此时笔电的耗时更短，仅0.29s。我们接下来同样是100客户端，按总查询5000、10000、15000、20000、25000的级别分别测试</p> 
<p><img alt="" height="138" src="https://images2.imgbox.com/75/4b/x9tXq016_o.png" width="900"></p> 
<p><img alt="" height="154" src="https://images2.imgbox.com/56/35/Upgg9Ig3_o.png" width="865"></p> 
<p>其整个对比曲线已经绘制出来如下：</p> 
<p><img alt="" height="286" src="https://images2.imgbox.com/ea/06/zwAeq2ap_o.png" width="479"></p> 
<p>可以看到两者的曲线几乎是一致的，甚至随着运行次数的增多，云耀服务器还能胜出一头。</p> 
<h5>连接测试</h5> 
<p>除了持续的性能读写，那么我们还是要负责任的对连接数及并发情况进行一些测试，其命令如下</p> 
<pre><code class="language-bash">mysqlslap -uroot -proot  --concurrency=100 --number-of-queries=100 --query="SELECT 1"</code></pre> 
<p>我们准备以笔记本测一下 1000 连接的情况</p> 
<p><img alt="" height="136" src="https://images2.imgbox.com/f8/ef/0fH5UbAo_o.png" width="878"></p> 
<p>然后作为对比，看一下笔记本这边的情况</p> 
<p><img alt="" height="155" src="https://images2.imgbox.com/2f/29/4ZOq2Hlu_o.png" width="864"></p> 
<p><strong>尽管心里有预期，在高并发的情况下，linux服务器的表现应该会比windows笔电要强，但仍没想到居然产生了10倍的差别。</strong></p> 
<p>当我们把并发数提到2000的时候，结果如下：</p> 
<p><img alt="" height="145" src="https://images2.imgbox.com/8b/5b/MrVoxFm4_o.png" width="892"></p> 
<p><img alt="" height="154" src="https://images2.imgbox.com/52/56/phCjhYBu_o.png" width="873"></p> 
<p>可以看到<strong>云耀云服务器L实例</strong>这边比较规整，基本上耗时是1000并发时的两倍，而笔电这边明显耗时几乎达到了3倍。</p> 
<p>当我们继续极限测试，将连接数设定到10000时，两边都到达上限了，云服务器这边是线程数上限了，而笔电这边则是连接数超限了。</p> 
<p><img alt="" height="75" src="https://images2.imgbox.com/2d/dd/hR1cCl9V_o.png" width="907"></p> 
<p><img alt="" height="181" src="https://images2.imgbox.com/2f/1f/CCRzIiWX_o.png" width="898"></p> 
<p>不过我们都知道现实中，小公司几乎不可能出现高达10000的连接数，真要有这么高的连接，就该做各种分库分表了，所以并不用担心这种场景</p> 
<p></p> 
<h4>总结</h4> 
<p>经过多轮测试，并以笔者的个人电脑作为对比。不难看出，尽管我们选用的<strong>云耀云服务器L实例</strong>是最低的2核2G配置，但其实际性能仍然堪比笔者的4核16G + 固态硬盘的笔电，且随着负载量的上升，甚至能产生一些优势。而在面对大量连接的时候，云耀的优势甚至能扩大到几十倍。所以，还真不能直接套用个人计算机的观念，来看待云服务器的配置，其真实性能其实比很多人想象的都更强，尤其是其并发能力，即便选取云耀服务器的最低配置，也有不俗的性能</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/2efa8739f6a1bea7e76e928681a4e86c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【Java 基础篇】Java UDP通信详解</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/de29c390f255b6fda51554b8b599a35e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Mysql添加、删除、主键（外键）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>