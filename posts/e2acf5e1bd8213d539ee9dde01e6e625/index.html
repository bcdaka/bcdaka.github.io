<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>MySQL 9.0创新版发布！功能又进化了！ - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/e2acf5e1bd8213d539ee9dde01e6e625/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="MySQL 9.0创新版发布！功能又进化了！">
  <meta property="og:description" content="作者：IT邦德
中国DBA联盟(ACDU)成员，10余年DBA工作经验，
Oracle、PostgreSQL ACE
CSDN博客专家及B站知名UP主，全网粉丝10万&#43;
擅长主流Oracle、MySQL、PG、高斯及Greenplum备份恢复，
安装迁移，性能优化、故障应急处理
微信:jem_db
QQ交流群:587159446
公众号：IT邦德
文章目录 前言1.MySQL版本变更2.MySQL9.0功能进化2.1 添加或更改的功能2.2 弃用的功能2.3 删除的功能 3.MySQL9.0新版本体验3.1 安装依赖3.2 添加用户及组3.3 安装包上传解压3.4 正式安装3.5 初始化3.4 启动MySQL服务3.5 登陆新增用户 4.向量及JSON体验5.总结 前言 MySQL9.0创新版本已经正式发布，这次功能确实进化了不少！
1.MySQL版本变更 Oracle每季度发布一次MySQL更新，我平时也一直留意的官网的动态,2024年7月1推出了最新的 MySQL9.0创新版本.
MySQL发布模型分为两个主要轨道：LTS（长期支持）和创新。所有LTS和Innovation版本都包含错误和安全修复，并被视为生产级质量。
2.MySQL9.0功能进化 2.1 添加或更改的功能 1.从MySQL 9.0.0开始支持将 EXPLAIN ANALYZE的JSON输出保存到用户变量中 EXPLAIN ANALYZE FORMAT=JSON INTO @variable select_stmt mysql&gt; EXPLAIN FORMAT=JSON INTO @myupdate -&gt; UPDATE a SET name2 = &#34;garcia&#34; WHERE id = 3; mysql&gt; SELECT @myupdate, @mydelete\G *************************** 1. row *************************** @myupdate: { &#34;">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-07-02T10:00:49+08:00">
    <meta property="article:modified_time" content="2024-07-02T10:00:49+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">MySQL 9.0创新版发布！功能又进化了！</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-github-gist">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <blockquote> 
 <p>作者：IT邦德<br> 中国DBA联盟(ACDU)成员，10余年DBA工作经验，<br> Oracle、PostgreSQL ACE<br> CSDN博客专家及B站知名UP主，全网粉丝10万+<br> 擅长主流Oracle、MySQL、PG、高斯及Greenplum备份恢复，<br> 安装迁移，性能优化、故障应急处理<br> 微信:jem_db<br> QQ交流群:587159446<br> 公众号：IT邦德</p> 
</blockquote> 
<p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#_11" rel="nofollow">前言</a></li><li><ul><li><a href="#1MySQL_15" rel="nofollow">1.MySQL版本变更</a></li><li><a href="#2MySQL90_23" rel="nofollow">2.MySQL9.0功能进化</a></li><li><ul><li><a href="#21__25" rel="nofollow">2.1 添加或更改的功能</a></li><li><a href="#22__98" rel="nofollow">2.2 弃用的功能</a></li><li><a href="#23__104" rel="nofollow">2.3 删除的功能</a></li></ul> 
   </li><li><a href="#3MySQL90_117" rel="nofollow">3.MySQL9.0新版本体验</a></li><li><ul><li><a href="#31__126" rel="nofollow">3.1 安装依赖</a></li><li><a href="#32__132" rel="nofollow">3.2 添加用户及组</a></li><li><a href="#33__138" rel="nofollow">3.3 安装包上传解压</a></li><li><a href="#34__157" rel="nofollow">3.4 正式安装</a></li><li><a href="#35__177" rel="nofollow">3.5 初始化</a></li><li><a href="#34_MySQL_184" rel="nofollow">3.4 启动MySQL服务</a></li><li><a href="#35__190" rel="nofollow">3.5 登陆新增用户</a></li></ul> 
   </li><li><a href="#4JSON_223" rel="nofollow">4.向量及JSON体验</a></li><li><a href="#5_253" rel="nofollow">5.总结</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="_11"></a>前言</h2> 
<blockquote> 
 <p>MySQL9.0创新版本已经正式发布，这次功能确实进化了不少！</p> 
</blockquote> 
<h3><a id="1MySQL_15"></a>1.MySQL版本变更</h3> 
<blockquote> 
 <p>Oracle每季度发布一次MySQL更新，我平时也一直留意的官网的动态,2024年7月1推出了最新的 MySQL9.0创新版本.</p> 
</blockquote> 
<blockquote> 
 <p>MySQL发布模型分为两个主要轨道：LTS（长期支持）和创新。所有LTS和Innovation版本都包含错误和安全修复，并被视为生产级质量。</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/ca/70/ChOBAPVz_o.png" alt=""></p> 
<h3><a id="2MySQL90_23"></a>2.MySQL9.0功能进化</h3> 
<h4><a id="21__25"></a>2.1 添加或更改的功能</h4> 
<pre><code>1.从MySQL 9.0.0开始支持将
EXPLAIN ANALYZE的JSON输出保存到用户变量中

EXPLAIN ANALYZE FORMAT=JSON INTO @variable select_stmt

mysql&gt; EXPLAIN FORMAT=JSON INTO @myupdate 
    -&gt;   UPDATE a SET name2 = "garcia" WHERE id = 3;              
mysql&gt; SELECT @myupdate, @mydelete\G
*************************** 1. row ***************************
@myupdate: {
  "query_block": {
    "select_id": 1,
    "table": {
      "update": true,
      "table_name": "a",
      "access_type": "range",
      "possible_keys": [
        "PRIMARY"
      ],
      "key": "PRIMARY",
      "used_key_parts": [
        "id"
      ],
      "key_length": "4",
      "ref": [
        "const"
      ],
      "rows_examined_per_scan": 1,
      "filtered": "100.00",
      "attached_condition": "(`db`.`a`.`id` = 3)"
    }
  }
}
</code></pre> 
<pre><code>2.Event DDL in prepared statements
MySQL 9.0提供了对服务器端准备语句的支持，那有什么好处呢？
a.减少每次执行语句时解析语句的开销。
通常，数据库应用程序处理大量几乎相同的语句，
只更改子句中的文字或变量值，
如用于查询和删除的WHERE、用于更新的SET和用于插入的values。
b.防止SQL注入攻击。
参数值可以包含未加转义的SQL引号和分隔符。

--使用方法如下：
mysql&gt; PREPARE stmt1 FROM 'SELECT SQRT(POW(?,2) + POW(?,2)) AS hypotenuse';
mysql&gt; SET @a = 3;
mysql&gt; SET @b = 4;
mysql&gt; EXECUTE stmt1 USING @a, @b;
+------------+
| hypotenuse |
+------------+
|          5 |
+------------+
mysql&gt; DEALLOCATE PREPARE stmt1;
</code></pre> 
<pre><code>3.新增2个性能架构系统变量表
（1）variables_metadata表
提供了有关系统变量的一般信息。
这些信息包括MySQL服务器识别的每个系统变量的
名称、范围、类型、范围（如适用）和描述。

（2）global_variable_attributes表
提供了有关服务器分配给全局系统变量的属性值对的信息。
</code></pre> 
<h4><a id="22__98"></a>2.2 弃用的功能</h4> 
<pre><code>能架构variables_info表列的MIN_VALUE和MAX_VALUE列现在已被弃用，
请使用variables_metadata表中具有相同名称的列
</code></pre> 
<h4><a id="23__104"></a>2.3 删除的功能</h4> 
<blockquote> 
 <p>为了向后兼容，mysql_native_password在客户端上仍然可用，因此mysql 9.0客户端程序可以连接到早期版本的mysql服务器。在MySQL 9.0中，以前版本的客户端程序中内置的MySQL本地身份验证插件已转换为必须在运行时加载的插件。</p> 
</blockquote> 
<blockquote> 
 <p>其实从mysql 8.0中不推荐使用的mysql_native_password身份验证插件已被删除。<br> 服务器现在拒绝来自不具有client_PLUGIN_AUTH<br> 功能的旧客户端程序的mysql_native身份验证请求<br> 由于此更改，9.0还删除了以下服务器选项和变量：<br> –mysql本机密码服务器选项<br> –mysql本机密码代理用户服务器选项<br> –default_authentication_plugin服务器系统变量</p> 
</blockquote> 
<h3><a id="3MySQL90_117"></a>3.MySQL9.0新版本体验</h3> 
<p>以下是MySQL9.0支持的的平台<br> <img src="https://images2.imgbox.com/7d/2c/sadT55wt_o.png" alt=""></p> 
<p>以下是MySQL9.0下载的地址<br> https://dev.mysql.com/downloads/mysql/<br> <img src="https://images2.imgbox.com/41/11/F4EoBNyV_o.png" alt=""></p> 
<h4><a id="31__126"></a>3.1 安装依赖</h4> 
<blockquote> 
 <p>yum -y install lrzsz wget perl-Digest-MD5<br> yum -y install numactl<br> yum -y install ncurses ncurses-devel openssl-devel bison gcc gcc-c++ make</p> 
</blockquote> 
<h4><a id="32__132"></a>3.2 添加用户及组</h4> 
<blockquote> 
 <p>groupadd mysql<br> useradd -g mysql -d /home/mysql mysql<br> passwd mysql</p> 
</blockquote> 
<h4><a id="33__138"></a>3.3 安装包上传解压</h4> 
<pre><code>1.压缩包校验
md5sum mysql-9.0.0-1.el8.x86_64.rpm-bundle.tar
47c7bd2b1b987049450d8081497f84c4  mysql-9.0.0-1.el8.x86_64.rpm-bundle.tar

2.解压
tar -xvf mysql-9.0.0-1.el8.x86_64.rpm-bundle.tar -C /home/mysql/

3.授权
chown -R mysql:mysql /home/mysql/

--安装以下四个即可
mysql-community-common-9.0.0-1.el8.x86_64.rpm
mysql-community-libs-9.0.0-1.el8.x86_64.rpm
mysql-community-client-9.0.0-1.el8.x86_64.rpm
mysql-community-server-9.0.0-1.el8.x86_64.rpm
</code></pre> 
<h4><a id="34__157"></a>3.4 正式安装</h4> 
<pre><code>安装顺序：包之间相互依赖，所以必须注意安装顺序
✓ 先装 common 
✓ 再装 libs
✓ 再装 client
✓ 最后装 server

注：root用户下操作
[root@rhel8 ~]# cd /home/mysql

rpm -ivh mysql-community-common-9.0.0-1.el8.x86_64.rpm
rpm -ivh --force --nodeps mysql-community-libs-9.0.0-1.el8.x86_64.rpm
rpm -ivh mysql-community-client-9.0.0-1.el8.x86_64.rpm --force --nodeps
rpm -ivh mysql-community-server-9.0.0-1.el8.x86_64.rpm --force --nodeps
</code></pre> 
<p><img src="https://images2.imgbox.com/c2/2c/d1NxrATO_o.png" alt=""></p> 
<h4><a id="35__177"></a>3.5 初始化</h4> 
<blockquote> 
 <p>1.初始化<br> mysqld --initialize<br> 2.授权<br> chown mysql:mysql /var/lib/mysql -R</p> 
</blockquote> 
<h4><a id="34_MySQL_184"></a>3.4 启动MySQL服务</h4> 
<blockquote> 
 <p>systemctl start mysqld<br> systemctl status mysqld<br> systemctl enable mysqld</p> 
</blockquote> 
<h4><a id="35__190"></a>3.5 登陆新增用户</h4> 
<pre><code>## 临时密码登陆
grep 'temporary password' /var/log/mysqld.log
mysql -uroot -p

## 修改本地用户密码
mysql&gt; alter user root@'localhost' identified  by 'root';
Query OK, 0 rows affected (0.00 sec)

mysql&gt; flush privileges;
Query OK, 0 rows affected (0.00 sec)

mysql&gt; select Host,User from mysql.user;
+-----------+------------------+
| Host      | User             |
+-----------+------------------+
| localhost | mysql.infoschema |
| localhost | mysql.session    |
| localhost | mysql.sys        |
| localhost | root             |
+-----------+------------------+
4 rows in set (0.00 sec)

##新增远程登陆
mysql&gt; create user root@'%' identified by 'root';
mysql&gt; grant all on *.* to root@'%' with grant option;
mysql&gt; flush privileges;
</code></pre> 
<p><img src="https://images2.imgbox.com/f7/69/et7c9IMs_o.png" alt=""></p> 
<h3><a id="4JSON_223"></a>4.向量及JSON体验</h3> 
<pre><code>mysql&gt; create database testdb;
mysql&gt; use testdb;

mysql&gt;CREATE TABLE vector_json (
  id INT PRIMARY KEY,
  json_value JSON,
  vector_value vector
);

--插入向量及JSON
INSERT INTO vector_json (id, json_value,vector_value) 
VALUES 
(1, 
JSON_ARRAY(1.0, 2.0, 3.0,4.0),
to_vector('[1,2,3,4]')
);

select 
id,
json_value,
VECTOR_DIM(vector_value) 
from vector_json;
</code></pre> 
<p><img src="https://images2.imgbox.com/93/90/z0LfrrJS_o.png" alt=""></p> 
<h3><a id="5_253"></a>5.总结</h3> 
<blockquote> 
 <p>Oracle每季度发布一次MySQL更新,让我持续关注MySQL的发展</p> 
</blockquote>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/98ade9383d70e1273264d2885b1d67d6/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【MySQL】数据库的增删查改</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/db085dbd731d8340c25c6c60d20644e6/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Qt加载海康威视库文件出错</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>