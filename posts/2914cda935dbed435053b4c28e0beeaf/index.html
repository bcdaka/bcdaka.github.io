<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>JavaScript è¿›é˜¶å¿…å¤‡ï¼šæŒæ¡ Symbol æ–°æ ‡è¯†ç¬¦ç”¨æ³• - ç¼–ç¨‹å¤§å’–</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/2914cda935dbed435053b4c28e0beeaf/">
  <meta property="og:site_name" content="ç¼–ç¨‹å¤§å’–">
  <meta property="og:title" content="JavaScript è¿›é˜¶å¿…å¤‡ï¼šæŒæ¡ Symbol æ–°æ ‡è¯†ç¬¦ç”¨æ³•">
  <meta property="og:description" content="ä¸ªäººä¸»é¡µï¼šå­¦ä¹ å‰ç«¯çš„å°z
ä¸ªäººä¸“æ ï¼šJavaScript ç²¾ç²¹
æœ¬ä¸“æ æ—¨åœ¨åˆ†äº«è®°å½•æ¯æ—¥å­¦ä¹ çš„å‰ç«¯çŸ¥è¯†å’Œå­¦ä¹ ç¬”è®°çš„å½’çº³æ€»ç»“ï¼Œæ¬¢è¿å¤§å®¶åœ¨è¯„è®ºåŒºäº¤æµè®¨è®ºï¼
æ–‡ç« ç›®å½• ğŸ’¯SymbolğŸš§ 1. ç»¼è¿°ğŸš§2 Symbol.prototype.descriptionğŸš§ 2.1 æ·±å…¥Symbol.prototype.description ğŸš§3 Symbol ä½œä¸ºç‹¬ä¸€æ— äºŒçš„å±æ€§é”® ğŸš§ 4 å®ä¾‹ï¼šæ›¿æ¢ç¡¬ç¼–ç å­—ç¬¦ä¸²ğŸš§ 5 Symbolå±æ€§åçš„éšè—ç‰¹æ€§ğŸš§ 6 Symbolçš„å…¨å±€æ³¨å†Œä¸æ£€ç´¢ğŸš§ 7 å†…ç½®çš„ Symbol å€¼ğŸ”± 7.1 Symbol.hasInstanceğŸ”±7.2 Symbol.isConcatSpreadableğŸ”±7.3 Symbol.speciesğŸ”±7.4 Symbol.matchğŸ”±7.5 Symbol.replaceğŸ”±7.6 Symbol.searchğŸ”±7.7 Symbol.splitğŸ”±7.8 Symbol.iteratorğŸ”±7.9 Symbol.toPrimitiveğŸ”±7.10 Symbol.toStringTagğŸ”±7.11 Symbol.unscopables ğŸ’¯Symbol ğŸš§ 1. ç»¼è¿° åœ¨ES5ä¸­ï¼Œå¯¹è±¡çš„å±æ€§åå‡ä¸ºå­—ç¬¦ä¸²ï¼Œè¿™å®¹æ˜“å¯¼è‡´å±æ€§åçš„å†²çªã€‚ä¾‹å¦‚ï¼Œå½“ä½ ä½¿ç”¨ä¸€ä¸ªä»–äººæä¾›çš„å¯¹è±¡å¹¶å¸Œæœ›ä¸ºå…¶æ·»åŠ æ–°æ–¹æ³•æ—¶ï¼ˆé‡‡ç”¨mixinæ¨¡å¼ï¼‰ï¼Œæ–°æ–¹æ³•çš„åå­—å¯èƒ½ä¸ç°æœ‰æ–¹æ³•äº§ç”Ÿå†²çªã€‚ä¸ºé¿å…æ­¤ç±»å†²çªï¼ŒES6å¼•å…¥äº†Symbolã€‚
ES6æ–°å¢äº†ä¸€ç§åŸå§‹æ•°æ®ç±»å‹Symbolï¼Œå®ƒä»£è¡¨ç‹¬ä¸€æ— äºŒçš„å€¼ï¼Œæˆä¸ºJavaScriptçš„ç¬¬ä¸ƒç§æ•°æ®ç±»å‹ï¼Œå‰å…­ç§ä¸ºï¼šundefinedã€nullã€å¸ƒå°”å€¼ï¼ˆBooleanï¼‰ã€å­—ç¬¦ä¸²ï¼ˆStringï¼‰ã€æ•°å€¼ï¼ˆNumberï¼‰ã€å¯¹è±¡ï¼ˆObjectï¼‰ã€‚
Symbolå€¼é€šè¿‡Symbolå‡½æ•°ç”Ÿæˆï¼Œæ„å‘³ç€å¯¹è±¡çš„å±æ€§åç°åœ¨æœ‰ä¸¤ç§ç±»å‹ï¼šåŸæœ‰çš„å­—ç¬¦ä¸²ç±»å‹å’Œæ–°å¢çš„Symbolç±»å‹ã€‚å‡¡æ˜¯å±æ€§åä¸ºSymbolç±»å‹ï¼Œéƒ½æ˜¯ç‹¬ä¸€æ— äºŒçš„ï¼Œå¯ç¡®ä¿ä¸ä¼šä¸å…¶ä»–å±æ€§åå†²çªã€‚
let s = Symbol(); typeof s; // &#34;symbol&#34; ä¸Šè¿°ä»£ç ä¸­ï¼Œå˜é‡sæ˜¯ä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„å€¼ã€‚typeofè¿ç®—ç¬¦çš„ç»“æœè¡¨æ˜sæ˜¯Symbolæ•°æ®ç±»å‹ï¼Œè€Œéå­—ç¬¦ä¸²ç­‰å…¶ä»–ç±»å‹ã€‚
éœ€æ³¨æ„çš„æ˜¯ï¼ŒSymbolå‡½æ•°å‰ä¸èƒ½ä½¿ç”¨newå‘½ä»¤ï¼Œå¦åˆ™å°†æŠ¥é”™ã€‚å› ä¸ºç”Ÿæˆçš„Symbolæ˜¯ä¸€ä¸ªåŸå§‹ç±»å‹çš„å€¼ï¼Œè€Œéå¯¹è±¡ã€‚å› æ­¤ï¼ŒSymbolå€¼æ— æ³•æ·»åŠ å±æ€§ï¼Œå®ƒç±»ä¼¼äºå­—ç¬¦ä¸²æ•°æ®ç±»å‹ã€‚
Symbolå‡½æ•°å¯æ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²ä½œä¸ºå‚æ•°ï¼Œç”¨äºæè¿°Symbolå®ä¾‹ï¼Œä¾¿äºåœ¨æ§åˆ¶å°æ˜¾ç¤ºæˆ–è½¬ä¸ºå­—ç¬¦ä¸²æ—¶åŒºåˆ†ã€‚
let s1 = Symbol(&#39;apple&#39;); let s2 = Symbol(&#39;banana&#39;); s1; // Symbol(apple) s2; // Symbol(banana) s1.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-07-23T21:24:21+08:00">
    <meta property="article:modified_time" content="2024-07-23T21:24:21+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ç¼–ç¨‹å¤§å’–" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ç¼–ç¨‹å¤§å’–</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">JavaScript è¿›é˜¶å¿…å¤‡ï¼šæŒæ¡ Symbol æ–°æ ‡è¯†ç¬¦ç”¨æ³•</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <hr> 
<blockquote> 
 <p><br><font color="red" size="6">ä¸ªäººä¸»é¡µï¼š</font><font color="yellow" size="6">å­¦ä¹ å‰ç«¯çš„å°z</font><br><br> <font color="purple" size="6">ä¸ªäººä¸“æ ï¼š</font><strong><font color="#2550F5" size="5"><font color="cyan" size="6">JavaScript ç²¾ç²¹</font></font></strong><font color="#2550F5" size="5"><br><br> <font color="lightblue" size="5">æœ¬ä¸“æ æ—¨åœ¨åˆ†äº«è®°å½•æ¯æ—¥å­¦ä¹ çš„å‰ç«¯çŸ¥è¯†å’Œå­¦ä¹ ç¬”è®°çš„å½’çº³æ€»ç»“ï¼Œæ¬¢è¿å¤§å®¶åœ¨è¯„è®ºåŒºäº¤æµè®¨è®ºï¼</font><br> <img src="https://images2.imgbox.com/ea/d9/V3PmiNA2_o.gif" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></font></p> 
</blockquote> 
<hr> 
<p></p> 
<div class="toc"> 
 <h4>æ–‡ç« ç›®å½•</h4> 
 <ul><li><a href="#font_color38F7FF_size5Symbolfont_19" rel="nofollow"><font color="#38F7FF" size="5">ğŸ’¯Symbol</font></a></li><li><ul><li><a href="#font_colorFFD800_size5_1_font_21" rel="nofollow"><font color="#FFD800" size="5">ğŸš§ 1. ç»¼è¿°</font></a></li><li><a href="#font_colorFFD800_size52_Symbolprototypedescriptionfont_114" rel="nofollow"><font color="#FFD800" size="5">ğŸš§2 Symbol.prototype.description</font></a></li><li><ul><li><a href="#font_colorFFD800_size5_21_Symbolprototypedescription__font_117" rel="nofollow"><font color="#FFD800" size="5">ğŸš§ 2.1 æ·±å…¥Symbol.prototype.description </font></a></li></ul> 
   </li><li><a href="#font_colorFFD800_size53_Symbol___font_146" rel="nofollow"><font color="#FFD800" size="5">ğŸš§3 Symbol ä½œä¸ºç‹¬ä¸€æ— äºŒçš„å±æ€§é”® </font></a></li><li><a href="#font_colorFFD800_size5_4_font_251" rel="nofollow"><font color="#FFD800" size="5">ğŸš§ 4 å®ä¾‹ï¼šæ›¿æ¢ç¡¬ç¼–ç å­—ç¬¦ä¸²</font></a></li><li><a href="#font_colorFFD800_size5_5_Symbolfont_303" rel="nofollow"><font color="#FFD800" size="5">ğŸš§ 5 Symbolå±æ€§åçš„éšè—ç‰¹æ€§</font></a></li><li><a href="#font_colorFFD800_size5_6_Symbolfont_380" rel="nofollow"><font color="#FFD800" size="5">ğŸš§ 6 Symbolçš„å…¨å±€æ³¨å†Œä¸æ£€ç´¢</font></a></li><li><a href="#font_colorFFD800_size5_7__Symbol_font_437" rel="nofollow"><font color="#FFD800" size="5">ğŸš§ 7 å†…ç½®çš„ Symbol å€¼</font></a></li><li><ul><li><a href="#font_colorFF5C00_size5_71_SymbolhasInstancefont_441" rel="nofollow"><font color="#FF5C00" size="5">ğŸ”± 7.1 Symbol.hasInstance</font></a></li><li><a href="#font_colorFF5C00_size572_SymbolisConcatSpreadablefont_478" rel="nofollow"><font color="#FF5C00" size="5">ğŸ”±7.2 Symbol.isConcatSpreadable</font></a></li><li><a href="#font_colorFF5C00_size573_Symbolspeciesfont_535" rel="nofollow"><font color="#FF5C00" size="5">ğŸ”±7.3 Symbol.species</font></a></li><li><a href="#font_colorFF5C00_size574_Symbolmatchfont_605" rel="nofollow"><font color="#FF5C00" size="5">ğŸ”±7.4 Symbol.match</font></a></li><li><a href="#font_colorFF5C00_size575_Symbolreplacefont_623" rel="nofollow"><font color="#FF5C00" size="5">ğŸ”±7.5 Symbol.replace</font></a></li><li><a href="#font_colorFF5C00_size576_Symbolsearchfont_644" rel="nofollow"><font color="#FF5C00" size="5">ğŸ”±7.6 Symbol.search</font></a></li><li><a href="#font_colorFF5C00_size577_Symbolsplitfont_664" rel="nofollow"><font color="#FF5C00" size="5">ğŸ”±7.7 Symbol.split</font></a></li><li><a href="#font_colorFF5C00_size578_Symboliteratorfont_705" rel="nofollow"><font color="#FF5C00" size="5">ğŸ”±7.8 Symbol.iterator</font></a></li><li><a href="#font_colorFF5C00_size579_SymboltoPrimitivefont_744" rel="nofollow"><font color="#FF5C00" size="5">ğŸ”±7.9 Symbol.toPrimitive</font></a></li><li><a href="#font_colorFF5C00_size5710_SymboltoStringTagfont_776" rel="nofollow"><font color="#FF5C00" size="5">ğŸ”±7.10 Symbol.toStringTag</font></a></li><li><a href="#font_colorFF5C00_size5711_Symbolunscopablesfont_815" rel="nofollow"><font color="#FF5C00" size="5">ğŸ”±7.11 Symbol.unscopables</font></a></li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<hr> 
<p><img src="https://images2.imgbox.com/c2/5d/58pCtyFK_o.gif" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" width="1000" height="100"></p> 
<hr> 
<h2><a id="font_color38F7FF_size5Symbolfont_19"></a><font color="#38F7FF" size="5">ğŸ’¯Symbol</font></h2> 
<h3><a id="font_colorFFD800_size5_1_font_21"></a><font color="#FFD800" size="5">ğŸš§ 1. ç»¼è¿°</font></h3> 
<p>åœ¨ES5ä¸­ï¼Œå¯¹è±¡çš„å±æ€§åå‡ä¸ºå­—ç¬¦ä¸²ï¼Œè¿™å®¹æ˜“å¯¼è‡´å±æ€§åçš„å†²çªã€‚ä¾‹å¦‚ï¼Œå½“ä½ ä½¿ç”¨ä¸€ä¸ªä»–äººæä¾›çš„å¯¹è±¡å¹¶å¸Œæœ›ä¸ºå…¶æ·»åŠ æ–°æ–¹æ³•æ—¶ï¼ˆé‡‡ç”¨mixinæ¨¡å¼ï¼‰ï¼Œæ–°æ–¹æ³•çš„åå­—å¯èƒ½ä¸ç°æœ‰æ–¹æ³•äº§ç”Ÿå†²çªã€‚ä¸ºé¿å…æ­¤ç±»å†²çªï¼ŒES6å¼•å…¥äº†<code>Symbol</code>ã€‚</p> 
<p>ES6æ–°å¢äº†ä¸€ç§åŸå§‹æ•°æ®ç±»å‹<code>Symbol</code>ï¼Œå®ƒä»£è¡¨ç‹¬ä¸€æ— äºŒçš„å€¼ï¼Œæˆä¸ºJavaScriptçš„ç¬¬ä¸ƒç§æ•°æ®ç±»å‹ï¼Œå‰å…­ç§ä¸ºï¼š<code>undefined</code>ã€<code>null</code>ã€å¸ƒå°”å€¼ï¼ˆBooleanï¼‰ã€å­—ç¬¦ä¸²ï¼ˆStringï¼‰ã€æ•°å€¼ï¼ˆNumberï¼‰ã€å¯¹è±¡ï¼ˆObjectï¼‰ã€‚</p> 
<p><code>Symbol</code>å€¼é€šè¿‡<code>Symbol</code>å‡½æ•°ç”Ÿæˆï¼Œæ„å‘³ç€å¯¹è±¡çš„å±æ€§åç°åœ¨æœ‰ä¸¤ç§ç±»å‹ï¼šåŸæœ‰çš„å­—ç¬¦ä¸²ç±»å‹å’Œæ–°å¢çš„Symbolç±»å‹ã€‚å‡¡æ˜¯å±æ€§åä¸ºSymbolç±»å‹ï¼Œéƒ½æ˜¯ç‹¬ä¸€æ— äºŒçš„ï¼Œå¯ç¡®ä¿ä¸ä¼šä¸å…¶ä»–å±æ€§åå†²çªã€‚</p> 
<pre><code class="prism language-javascript"><span class="token keyword">let</span> s <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token keyword">typeof</span> s<span class="token punctuation">;</span> <span class="token comment">// "symbol"</span>
</code></pre> 
<p>ä¸Šè¿°ä»£ç ä¸­ï¼Œå˜é‡sæ˜¯ä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„å€¼ã€‚typeofè¿ç®—ç¬¦çš„ç»“æœè¡¨æ˜sæ˜¯Symbolæ•°æ®ç±»å‹ï¼Œè€Œéå­—ç¬¦ä¸²ç­‰å…¶ä»–ç±»å‹ã€‚</p> 
<p>éœ€æ³¨æ„çš„æ˜¯ï¼ŒSymbolå‡½æ•°å‰ä¸èƒ½ä½¿ç”¨newå‘½ä»¤ï¼Œå¦åˆ™å°†æŠ¥é”™ã€‚å› ä¸ºç”Ÿæˆçš„Symbolæ˜¯ä¸€ä¸ªåŸå§‹ç±»å‹çš„å€¼ï¼Œè€Œéå¯¹è±¡ã€‚å› æ­¤ï¼ŒSymbolå€¼æ— æ³•æ·»åŠ å±æ€§ï¼Œå®ƒç±»ä¼¼äºå­—ç¬¦ä¸²æ•°æ®ç±»å‹ã€‚</p> 
<p>Symbolå‡½æ•°å¯æ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²ä½œä¸ºå‚æ•°ï¼Œç”¨äºæè¿°Symbolå®ä¾‹ï¼Œä¾¿äºåœ¨æ§åˆ¶å°æ˜¾ç¤ºæˆ–è½¬ä¸ºå­—ç¬¦ä¸²æ—¶åŒºåˆ†ã€‚</p> 
<pre><code class="prism language-javascript"><span class="token keyword">let</span> s1 <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'apple'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token keyword">let</span> s2 <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'banana'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
  
s1<span class="token punctuation">;</span> <span class="token comment">// Symbol(apple)  </span>
s2<span class="token punctuation">;</span> <span class="token comment">// Symbol(banana)  </span>
  
s1<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// "Symbol(apple)"  </span>
s2<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// "Symbol(banana)"</span>
</code></pre> 
<p>åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œs1å’Œs2æ˜¯ä¸¤ä¸ªSymbolå€¼ã€‚æ·»åŠ å‚æ•°åï¼Œå®ƒä»¬å°±æœ‰äº†è‡ªå·±çš„æè¿°ï¼Œä¾¿äºåœ¨è¾“å‡ºæ—¶åŒºåˆ†ã€‚</p> 
<p>å¦‚æœSymbolçš„å‚æ•°æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå°†è°ƒç”¨è¯¥å¯¹è±¡çš„toStringæ–¹æ³•ï¼Œå°†å…¶è½¬ä¸ºå­—ç¬¦ä¸²ï¼Œç„¶åç”ŸæˆSymbolå€¼ã€‚</p> 
<pre><code class="prism language-javascript"><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>  
  <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>  
    <span class="token keyword">return</span> <span class="token string">'xyz'</span><span class="token punctuation">;</span>  
  <span class="token punctuation">}</span>  
<span class="token punctuation">}</span><span class="token punctuation">;</span>  
<span class="token keyword">const</span> sym <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>  
sym<span class="token punctuation">;</span> <span class="token comment">// Symbol(xyz)</span>
</code></pre> 
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒSymbolå‡½æ•°çš„å‚æ•°åªæ˜¯å¯¹å½“å‰Symbolå€¼çš„æè¿°ï¼Œç›¸åŒå‚æ•°çš„Symbolå‡½æ•°è¿”å›å€¼æ˜¯ä¸ç›¸ç­‰çš„ã€‚</p> 
<pre><code class="prism language-javascript"><span class="token comment">// æ— å‚æ•°æƒ…å†µ  </span>
<span class="token keyword">let</span> s1 <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token keyword">let</span> s2 <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
  
s1 <span class="token operator">===</span> s2<span class="token punctuation">;</span> <span class="token comment">// false  </span>
  
<span class="token comment">// æœ‰å‚æ•°æƒ…å†µ  </span>
<span class="token keyword">let</span> s1 <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token keyword">let</span> s2 <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
  
s1 <span class="token operator">===</span> s2<span class="token punctuation">;</span> <span class="token comment">// false</span>
</code></pre> 
<p>åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œs1å’Œs2æ˜¯Symbolå‡½æ•°çš„è¿”å›å€¼ï¼Œå°½ç®¡å‚æ•°ç›¸åŒï¼Œä½†å®ƒä»¬æ˜¯ä¸ç›¸ç­‰çš„ã€‚</p> 
<p>Symbolå€¼ä¸èƒ½ä¸å…¶ä»–ç±»å‹çš„å€¼è¿›è¡Œè¿ç®—ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚</p> 
<pre><code class="prism language-javascript"><span class="token keyword">let</span> sym <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'My symbol'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
  
<span class="token string">"your symbol is "</span> <span class="token operator">+</span> sym<span class="token punctuation">;</span> <span class="token comment">// TypeError: can't convert symbol to string  </span>
<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">your symbol is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>sym<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span> <span class="token comment">// TypeError: can't convert symbol to string</span>
</code></pre> 
<p>ç„¶è€Œï¼ŒSymbolå€¼å¯ä»¥æ˜¾å¼è½¬ä¸ºå­—ç¬¦ä¸²ã€‚</p> 
<pre><code class="prism language-javascript"><span class="token keyword">let</span> sym <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'My symbol'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
  
<span class="token function">String</span><span class="token punctuation">(</span>sym<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'Symbol(My symbol)'  </span>
sym<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'Symbol(My symbol)'</span>
</code></pre> 
<p>å¦å¤–ï¼ŒSymbolå€¼ä¹Ÿå¯ä»¥è½¬ä¸ºå¸ƒå°”å€¼ï¼Œä½†ä¸èƒ½è½¬ä¸ºæ•°å€¼ã€‚</p> 
<pre><code class="prism language-javascript"><span class="token keyword">let</span> sym <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token function">Boolean</span><span class="token punctuation">(</span>sym<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true  </span>
<span class="token operator">!</span>sym<span class="token punctuation">;</span> <span class="token comment">// false  </span>
  
<span class="token keyword">if</span> <span class="token punctuation">(</span>sym<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>  
  <span class="token comment">// ...  </span>
<span class="token punctuation">}</span>  
  
<span class="token function">Number</span><span class="token punctuation">(</span>sym<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// TypeError  </span>
sym <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">// TypeError</span>
</code></pre> 
<h3><a id="font_colorFFD800_size52_Symbolprototypedescriptionfont_114"></a><font color="#FFD800" size="5">ğŸš§2 Symbol.prototype.description</font></h3> 
<h4><a id="font_colorFFD800_size5_21_Symbolprototypedescription__font_117"></a><font color="#FFD800" size="5">ğŸš§ 2.1 æ·±å…¥Symbol.prototype.description </font></h4> 
<p>åœ¨åˆ›å»º Symbol æ—¶ï¼Œæˆ‘ä»¬æœ‰æœºä¼šä¸ºå…¶æ·»åŠ ä¸€ä¸ªæè¿°æ€§å­—ç¬¦ä¸²ï¼Œä»¥å¢å¼ºä»£ç çš„å¯è¯»æ€§ã€‚</p> 
<pre><code class="prism language-javascript"><span class="token keyword">const</span> uniqueKey <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'Unique Identifier'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼ŒuniqueKey è¿™ä¸ª Symbol çš„æè¿°å°±æ˜¯å­—ç¬¦ä¸² â€˜Unique Identifierâ€™ã€‚ç„¶è€Œï¼Œè‹¥æƒ³è¦ç›´æ¥è®¿é—®è¿™ä¸ªæè¿°ï¼Œä¼ ç»Ÿä¸Šæˆ‘ä»¬éœ€è¦å°† Symbol è½¬æ¢ä¸ºå­—ç¬¦ä¸²å½¢å¼ï¼Œè¿™å¯ä»¥é€šè¿‡ä»¥ä¸‹ä¸¤ç§æ–¹å¼å®ç°ï¼š</p> 
<pre><code class="prism language-javascript"><span class="token keyword">const</span> uniqueKey <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'Unique Identifier'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
  
<span class="token function">String</span><span class="token punctuation">(</span>uniqueKey<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// "Symbol(Unique Identifier)"  </span>
uniqueKey<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// "Symbol(Unique Identifier)"</span>
</code></pre> 
<p>å°½ç®¡è¿™äº›æ–¹æ³•å¯è¡Œï¼Œä½†å®ƒä»¬è¿”å›çš„ç»“æœåŒ…å«äº† â€œSymbol(â€ å’Œ â€œ)â€ è¿™æ ·çš„å‰ç¼€å’Œåç¼€ï¼Œè¿™åœ¨æŸäº›åœºæ™¯ä¸‹å¯èƒ½ä¸æ˜¯æˆ‘ä»¬æ‰€æœŸæœ›çš„ã€‚å¹¸è¿çš„æ˜¯ï¼ŒES2019 å¼•å…¥äº† Symbol.prototype.description å®ä¾‹å±æ€§ï¼Œå®ƒå…è®¸æˆ‘ä»¬ç›´æ¥è®¿é—® Symbol çš„æè¿°éƒ¨åˆ†ï¼Œæ— éœ€è¿›è¡Œä»»ä½•è½¬æ¢ã€‚</p> 
<pre><code class="prism language-javascript"><span class="token keyword">const</span> uniqueKey <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'Unique Identifier'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
  
uniqueKey<span class="token punctuation">.</span>description<span class="token punctuation">;</span> <span class="token comment">// "Unique Identifier"</span>
</code></pre> 
<p>è¿™ä¸€ç‰¹æ€§ä¸ä»…ä½¿å¾—ä»£ç æ›´åŠ ç®€æ´ï¼Œä¹Ÿæé«˜äº†ä»£ç çš„å¯è¯»æ€§å’Œç»´æŠ¤æ€§ã€‚é€šè¿‡ description å±æ€§ï¼Œæˆ‘ä»¬å¯ä»¥è½»æ¾è·å– Symbol çš„æè¿°ï¼Œè€Œæ— éœ€æ‹…å¿ƒå­—ç¬¦ä¸²è½¬æ¢å¸¦æ¥çš„é¢å¤–å¼€é”€æˆ–æ ¼å¼é—®é¢˜ã€‚</p> 
<h3><a id="font_colorFFD800_size53_Symbol___font_146"></a><font color="#FFD800" size="5">ğŸš§3 Symbol ä½œä¸ºç‹¬ä¸€æ— äºŒçš„å±æ€§é”® </font></h3> 
<p>ç”±äºæ¯ä¸ª Symbol å€¼éƒ½æ˜¯ç‹¬ä¸€æ— äºŒçš„ï¼Œè¿™ä¸€ç‰¹æ€§ä½¿å¾—å®ƒä»¬æˆä¸ºå¯¹è±¡å±æ€§åçš„ç†æƒ³é€‰æ‹©ï¼Œèƒ½å¤Ÿç¡®ä¿å±æ€§åç§°çš„å”¯ä¸€æ€§ï¼Œé¿å…å±æ€§åå†²çªæˆ–è¢«æ„å¤–è¦†ç›–ï¼Œè¿™åœ¨å¤šæ¨¡å—åä½œæ„å»ºå¯¹è±¡æ—¶å°¤ä¸ºé‡è¦ã€‚</p> 
<pre><code class="prism language-javascript"><span class="token keyword">const</span> uniqueId <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'uniqueProperty'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
  
<span class="token comment">// ç¬¬ä¸€ç§æ–¹å¼  </span>
<span class="token keyword">let</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">;</span>  
obj1<span class="token punctuation">[</span>uniqueId<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'Secret Value'</span><span class="token punctuation">;</span>  
  
<span class="token comment">// ç¬¬äºŒç§æ–¹å¼  </span>
<span class="token keyword">let</span> obj2 <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>  
  <span class="token punctuation">[</span>uniqueId<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token string">'Secret Value'</span>  
<span class="token punctuation">}</span><span class="token punctuation">;</span>  
  
<span class="token comment">// ç¬¬ä¸‰ç§æ–¹å¼  </span>
<span class="token keyword">let</span> obj3 <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">;</span>  
Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>obj3<span class="token punctuation">,</span> uniqueId<span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'Secret Value'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
  
<span class="token comment">// ä»¥ä¸Šæ–¹å¼å‡èƒ½å¾—åˆ°ç›¸åŒçš„ç»“æœ  </span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj1<span class="token punctuation">[</span>uniqueId<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// "Secret Value"  </span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj2<span class="token punctuation">[</span>uniqueId<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// "Secret Value"  </span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj3<span class="token punctuation">[</span>uniqueId<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// "Secret Value"</span>
</code></pre> 
<p>å½“ä½¿ç”¨ Symbol ä½œä¸ºå¯¹è±¡å±æ€§åæ—¶ï¼Œé‡è¦çš„æ˜¯è¦è®°ä½ä¸èƒ½ä½¿ç”¨ç‚¹è¿ç®—ç¬¦ï¼ˆ.ï¼‰æ¥è®¿é—®è¿™äº›å±æ€§ï¼Œå› ä¸ºç‚¹è¿ç®—ç¬¦åé¢æ€»æ˜¯è¢«è§£é‡Šä¸ºå­—ç¬¦ä¸²å­—é¢é‡ã€‚</p> 
<pre><code class="prism language-javascript"><span class="token keyword">const</span> id <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'property'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">;</span>  
  
obj<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token string">'Visible to all'</span><span class="token punctuation">;</span> <span class="token comment">// è¿™é‡Œçš„ 'id' è¢«å½“ä½œå­—ç¬¦ä¸²å¤„ç†  </span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefinedï¼Œå› ä¸º obj[id] å¹¶æ²¡æœ‰è®¾ç½®  </span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span><span class="token string">'id'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// "Visible to all"</span>
</code></pre> 
<p>åœ¨å¯¹è±¡å­—é¢é‡å†…éƒ¨å®šä¹‰å±æ€§æ—¶ï¼Œè‹¥å±æ€§é”®ä¸º Symbolï¼ŒåŒæ ·éœ€è¦å°†å…¶æ”¾åœ¨æ–¹æ‹¬å·å†…ã€‚</p> 
<pre><code class="prism language-javascript"><span class="token keyword">const</span> action <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'performAction'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
  
<span class="token keyword">let</span> actions <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>  
  <span class="token punctuation">[</span>action<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Action performed!'</span><span class="token punctuation">)</span>  
<span class="token punctuation">}</span><span class="token punctuation">;</span>  
  
actions<span class="token punctuation">[</span>action<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¾“å‡º: Action performed!</span>
</code></pre> 
<p>åˆ©ç”¨ ES6 çš„å¢å¼ºå¯¹è±¡å­—é¢é‡è¯­æ³•ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ä¸Šè¿°å¯¹è±¡å®šä¹‰æ›´åŠ ç®€æ´</p> 
<pre><code class="prism language-javascript"><span class="token keyword">let</span> actions <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>  
  <span class="token punctuation">[</span>action<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>  
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Action performed!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
  <span class="token punctuation">}</span>  
<span class="token punctuation">}</span><span class="token punctuation">;</span>  
  
actions<span class="token punctuation">[</span>action<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¾“å‡º: Action performed!</span>
</code></pre> 
<p>Symbol è¿˜å¯ä»¥ç”¨æ¥å®šä¹‰ä¸€ç»„äº’ä¸ç›¸åŒçš„å¸¸é‡ï¼Œè¿™åœ¨é…ç½®å¯¹è±¡æˆ–æšä¸¾ç±»å‹ä¸­ç‰¹åˆ«æœ‰ç”¨ã€‚</p> 
<pre><code class="prism language-javascript"><span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>  
  <span class="token literal-property property">features</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>  
    <span class="token punctuation">[</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'enableLogging'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  
    <span class="token punctuation">[</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'enableDebugging'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token boolean">false</span>  
  <span class="token punctuation">}</span>  
<span class="token punctuation">}</span><span class="token punctuation">;</span>  
  
<span class="token comment">// æ³¨æ„ï¼šç›´æ¥è®¿é—® Symbol ä½œä¸ºé”®çš„å€¼éœ€è¦é€šè¿‡åŸå§‹ Symbol  </span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>config<span class="token punctuation">.</span>features<span class="token punctuation">[</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'enableLogging'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefinedï¼Œå› ä¸ºé”®æ˜¯å¦ä¸€ä¸ªæ–°çš„ Symbol  </span>
<span class="token comment">// æ­£ç¡®çš„è®¿é—®æ–¹å¼éœ€è¦ä¿ç•™åŸå§‹ Symbol å¼•ç”¨  </span>
<span class="token keyword">const</span> enableLogging <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'enableLogging'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>config<span class="token punctuation">.</span>features<span class="token punctuation">[</span>enableLogging<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// trueï¼ˆå¦‚æœ enableLogging æ˜¯ç”¨äºå®šä¹‰å±æ€§çš„åŒä¸€ä¸ª Symbolï¼‰</span>
</code></pre> 
<p>æœ€åï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå°½ç®¡ä½¿ç”¨ Symbol ä½œä¸ºå±æ€§åå¯ä»¥ç¡®ä¿å±æ€§çš„å”¯ä¸€æ€§ï¼Œä½†è¿™äº›å±æ€§ä»ç„¶æ˜¯å…¬å¼€çš„ï¼Œä¸æ˜¯ç§æœ‰çš„ã€‚è‹¥è¦å®ç°çœŸæ­£çš„å°è£…å’Œéšè—ï¼Œéœ€è¦é‡‡ç”¨å…¶ä»–æ–¹æ³•ï¼Œå¦‚ä½¿ç”¨é—­åŒ…æˆ– WeakMapã€‚</p> 
<p>ä¸‹é¢æ˜¯å¦å¤–ä¸€ä¸ªä¾‹å­ã€‚</p> 
<pre><code class="prism language-javascript"><span class="token keyword">const</span> <span class="token constant">COLOR_RED</span>    <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token constant">COLOR_GREEN</span>  <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">getComplement</span><span class="token punctuation">(</span><span class="token parameter">color</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>color<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">case</span> <span class="token constant">COLOR_RED</span><span class="token operator">:</span>
      <span class="token keyword">return</span> <span class="token constant">COLOR_GREEN</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token constant">COLOR_GREEN</span><span class="token operator">:</span>
      <span class="token keyword">return</span> <span class="token constant">COLOR_RED</span><span class="token punctuation">;</span>
    <span class="token keyword">default</span><span class="token operator">:</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'Undefined color'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>ä½¿ç”¨ Symbol ä½œä¸ºå¸¸é‡å€¼çš„æ ¸å¿ƒä¼˜åŠ¿åœ¨äºå…¶ç‹¬ä¸€æ— äºŒæ€§ï¼Œç¡®ä¿äº†åœ¨æ•´ä¸ªç¨‹åºèŒƒå›´å†…ä¸ä¼šæœ‰é‡å¤çš„å€¼ï¼Œè¿™ä¸ºé€»è¾‘åˆ¤æ–­ï¼ˆå¦‚switchè¯­å¥ï¼‰æä¾›äº†åšå®çš„ä¿éšœï¼Œä½¿å¾—ä»£ç çš„æ‰§è¡Œèƒ½å¤Ÿä¸¥æ ¼éµå¾ªè®¾è®¡é¢„æœŸã€‚</p> 
<p>ç„¶è€Œï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå°½ç®¡ Symbol å€¼è¢«ç”¨ä½œå±æ€§åæ—¶èƒ½å¤Ÿå¢åŠ å±æ€§çš„å”¯ä¸€æ€§ï¼Œä½†è¿™æ ·çš„å±æ€§ä¾ç„¶æ˜¯å…¬å¼€çš„ï¼Œå¹¶ä¸å…·å¤‡ JavaScript åŸç”Ÿæ”¯æŒçš„ç§æœ‰å±æ€§ç‰¹æ€§ã€‚å› æ­¤ï¼Œåœ¨éœ€è¦ä¿æŠ¤å¯¹è±¡å±æ€§ä¸è¢«å¤–éƒ¨ç›´æ¥è®¿é—®æ—¶ï¼Œå¼€å‘è€…éœ€è¦å¯»æ‰¾å…¶ä»–è§£å†³æ–¹æ¡ˆï¼Œå¦‚ä½¿ç”¨é—­åŒ…æˆ–æ¨¡å—å°è£…ç­‰æŠ€æœ¯æ‰‹æ®µã€‚</p> 
<h3><a id="font_colorFFD800_size5_4_font_251"></a><font color="#FFD800" size="5">ğŸš§ 4 å®ä¾‹ï¼šæ›¿æ¢ç¡¬ç¼–ç å­—ç¬¦ä¸²</font></h3> 
<p>ç¡¬ç¼–ç å­—ç¬¦ä¸²æŒ‡çš„æ˜¯åœ¨ä»£ç ä¸­ç›´æ¥å‡ºç°ã€ä¸”ä¸ä»£ç é€»è¾‘ç´§å¯†ç»‘å®šçš„å…·ä½“å­—ç¬¦ä¸²æˆ–æ•°å€¼ã€‚è‰¯å¥½çš„ç¼–ç¨‹å®è·µå»ºè®®å°½é‡é¿å…ç¡¬ç¼–ç å­—ç¬¦ä¸²ï¼Œè½¬è€Œä½¿ç”¨å…·æœ‰æ˜ç¡®å«ä¹‰çš„å˜é‡æ¥æ›¿ä»£ã€‚</p> 
<pre><code class="prism language-javascript"><span class="token keyword">function</span> <span class="token function">calculateArea</span><span class="token punctuation">(</span><span class="token parameter">shape<span class="token punctuation">,</span> dimensions</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>  
  <span class="token keyword">let</span> area <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>  
  
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>shape<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>  
    <span class="token keyword">case</span> <span class="token string">'Rectangle'</span><span class="token operator">:</span> <span class="token comment">// ç¡¬ç¼–ç å­—ç¬¦ä¸²  </span>
      area <span class="token operator">=</span> dimensions<span class="token punctuation">.</span>width <span class="token operator">*</span> dimensions<span class="token punctuation">.</span>height<span class="token punctuation">;</span>  
      <span class="token keyword">break</span><span class="token punctuation">;</span>  
    <span class="token comment">/* ... å…¶ä»–ä»£ç  ... */</span>  
  <span class="token punctuation">}</span>  
  
  <span class="token keyword">return</span> area<span class="token punctuation">;</span>  
<span class="token punctuation">}</span>  
  

<span class="token function">calculateArea</span><span class="token punctuation">(</span><span class="token string">'Rectangle'</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ç¡¬ç¼–ç å­—ç¬¦ä¸²</span>
</code></pre> 
<p>åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œå­—ç¬¦ä¸²â€™Rectangleâ€™å°±æ˜¯ä¸€ä¸ªç¡¬ç¼–ç å­—ç¬¦ä¸²ã€‚å®ƒåœ¨ä»£ç ä¸­å¤šæ¬¡å‡ºç°ï¼Œä¸é€»è¾‘ç´§å¯†ç»‘å®šï¼Œä¸åˆ©äºæœªæ¥çš„ä¿®æ”¹å’Œç»´æŠ¤ã€‚</p> 
<p>ä¸ºäº†æ”¹è¿›è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥å°†ç¡¬ç¼–ç å­—ç¬¦ä¸²æ›¿æ¢ä¸ºå˜é‡ã€‚</p> 
<pre><code class="prism language-javascript"><span class="token keyword">const</span> shapes <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>  
  <span class="token literal-property property">rectangle</span><span class="token operator">:</span> <span class="token string">'Rectangle'</span>  
<span class="token punctuation">}</span><span class="token punctuation">;</span>  
  
<span class="token keyword">function</span> <span class="token function">calculateArea</span><span class="token punctuation">(</span><span class="token parameter">shape<span class="token punctuation">,</span> dimensions</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>  
  <span class="token keyword">let</span> area <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>  
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>shape<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>  
    <span class="token keyword">case</span> shapes<span class="token punctuation">.</span>rectangle<span class="token operator">:</span>  
      area <span class="token operator">=</span> dimensions<span class="token punctuation">.</span>width <span class="token operator">*</span> dimensions<span class="token punctuation">.</span>height<span class="token punctuation">;</span>  
      <span class="token keyword">break</span><span class="token punctuation">;</span>  
  <span class="token punctuation">}</span>  
  <span class="token keyword">return</span> area<span class="token punctuation">;</span>  
<span class="token punctuation">}</span>  
  
<span class="token function">calculateArea</span><span class="token punctuation">(</span>shapes<span class="token punctuation">.</span>rectangle<span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>åœ¨æ”¹è¿›åçš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬å°†â€™Rectangleâ€™å®šä¹‰ä¸ºäº†shapeså¯¹è±¡çš„ä¸€ä¸ªå±æ€§ï¼Œä»è€Œæ¶ˆé™¤äº†ç¡¬ç¼–ç ã€‚</p> 
<p>è¿›ä¸€æ­¥æ€è€ƒï¼Œshapes.rectangleçš„ç¡®åˆ‡å€¼å¹¶ä¸é‡è¦ï¼Œåªè¦å®ƒèƒ½ç¡®ä¿å”¯ä¸€æ€§ä¸”ä¸ä¸å…¶ä»–shapeså±æ€§çš„å€¼å†²çªå³å¯ã€‚å› æ­¤ï¼Œä½¿ç”¨Symbolå€¼æ˜¯ä¸€ä¸ªæ›´å¥½çš„é€‰æ‹©ã€‚</p> 
<pre><code class="prism language-javascript"><span class="token keyword">const</span> shapes <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>  
  <span class="token literal-property property">rectangle</span><span class="token operator">:</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  
<span class="token punctuation">}</span><span class="token punctuation">;</span>
åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬å°†shapes<span class="token punctuation">.</span>rectangleçš„å€¼è®¾ç½®ä¸ºäº†ä¸€ä¸ªSymbolï¼Œè€Œå…¶ä»–ä»£ç éƒ¨åˆ†æ— éœ€ä¿®æ”¹ã€‚
</code></pre> 
<h3><a id="font_colorFFD800_size5_5_Symbolfont_303"></a><font color="#FFD800" size="5">ğŸš§ 5 Symbolå±æ€§åçš„éšè—ç‰¹æ€§</font></h3> 
<p>å½“Symbolè¢«ç”¨ä½œå¯¹è±¡çš„å±æ€§åæ—¶ï¼Œè¯¥å±æ€§åœ¨éå†å¯¹è±¡æ—¶ä¸ä¼šè¢«forâ€¦inã€forâ€¦ofå¾ªç¯ä»¥åŠObject.keys()ã€Object.getOwnPropertyNames()ã€JSON.stringify()ç­‰æ–¹æ³•è¿”å›ã€‚</p> 
<p>ç„¶è€Œï¼ŒSymbolå±æ€§å¹¶éç§æœ‰å±æ€§ã€‚Object.getOwnPropertySymbols()æ–¹æ³•å¯ä»¥è·å–æŒ‡å®šå¯¹è±¡çš„æ‰€æœ‰ç”¨ä½œå±æ€§åçš„Symbolå€¼ã€‚</p> 
<pre><code class="prism language-javascript"><span class="token keyword">const</span> myObject <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">;</span>  
<span class="token keyword">const</span> symA <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'A'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token keyword">const</span> symB <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'B'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
  
myObject<span class="token punctuation">[</span>symA<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'Apple'</span><span class="token punctuation">;</span>  
myObject<span class="token punctuation">[</span>symB<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'Banana'</span><span class="token punctuation">;</span>  
  
<span class="token keyword">const</span> symbols <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">getOwnPropertySymbols</span><span class="token punctuation">(</span>myObject<span class="token punctuation">)</span><span class="token punctuation">;</span>  
  
symbols<span class="token punctuation">;</span> <span class="token comment">// [Symbol(A), Symbol(B)]</span>
</code></pre> 
<p>ä¸Šè¿°ä»£ç å±•ç¤ºäº†Object.getOwnPropertySymbols()æ–¹æ³•çš„ä½¿ç”¨ï¼Œå®ƒè¿”å›äº†æ‰€æœ‰Symbolå±æ€§åã€‚</p> 
<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªå¯¹æ¯”Object.getOwnPropertySymbols()ä¸forâ€¦inå¾ªç¯åŠObject.getOwnPropertyNames()æ–¹æ³•çš„ä¾‹å­ã€‚</p> 
<pre><code class="prism language-javascript"><span class="token keyword">const</span> myObject <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">;</span>  
<span class="token keyword">const</span> mySymbol <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'mySymbol'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
  
myObject<span class="token punctuation">[</span>mySymbol<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'Value'</span><span class="token punctuation">;</span>  
  
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> myObject<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>  
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ— è¾“å‡º  </span>
<span class="token punctuation">}</span>  
  
Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyNames</span><span class="token punctuation">(</span>myObject<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// []  </span>
Object<span class="token punctuation">.</span><span class="token function">getOwnPropertySymbols</span><span class="token punctuation">(</span>myObject<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [Symbol(mySymbol)]</span>
</code></pre> 
<p>åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œforâ€¦inå¾ªç¯å’ŒObject.getOwnPropertyNames()æ–¹æ³•éƒ½æ— æ³•è·å–åˆ°Symbolé”®åï¼Œè€ŒObject.getOwnPropertySymbols()æ–¹æ³•åˆ™å¯ä»¥ã€‚</p> 
<p>Reflect.ownKeys()æ˜¯ä¸€ä¸ªæ–°çš„APIï¼Œå®ƒå¯ä»¥è¿”å›å¯¹è±¡ä¸Šæ‰€æœ‰ç±»å‹çš„é”®åï¼ŒåŒ…æ‹¬å¸¸è§„é”®åå’ŒSymbolé”®åã€‚</p> 
<pre><code class="prism language-javascript"><span class="token keyword">const</span> myObject <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>  
  <span class="token punctuation">[</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'myKey'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token string">'Secret'</span><span class="token punctuation">,</span>  
  <span class="token literal-property property">visible</span><span class="token operator">:</span> <span class="token string">'Visible'</span>  
<span class="token punctuation">}</span><span class="token punctuation">;</span>  
  
Reflect<span class="token punctuation">.</span><span class="token function">ownKeys</span><span class="token punctuation">(</span>myObject<span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token comment">//  ["visible", Symbol(myKey)]</span>
</code></pre> 
<p>ç”±äºSymbolå±æ€§åä¸ä¼šè¢«å¸¸è§„æ–¹æ³•éå†ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ä¸€ç‰¹æ€§ä¸ºå¯¹è±¡å®šä¹‰ä¸€äº›éç§æœ‰çš„ã€ä½†ä»…ä¾›å†…éƒ¨ä½¿ç”¨çš„å±æ€§æˆ–æ–¹æ³•ã€‚</p> 
<pre><code class="prism language-javascript"><span class="token keyword">const</span> internalKey <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'internalKey'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
  
<span class="token keyword">class</span> <span class="token class-name">DataStorage</span> <span class="token punctuation">{<!-- --></span>  
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>  
    <span class="token keyword">this</span><span class="token punctuation">[</span>internalKey<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">;</span>  
  <span class="token punctuation">}</span>  
  
  <span class="token function">saveData</span><span class="token punctuation">(</span><span class="token parameter">key<span class="token punctuation">,</span> value</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>  
    <span class="token keyword">this</span><span class="token punctuation">[</span>internalKey<span class="token punctuation">]</span><span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>  
  <span class="token punctuation">}</span>  
  
  <span class="token function">getData</span><span class="token punctuation">(</span><span class="token parameter">key</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>  
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">[</span>internalKey<span class="token punctuation">]</span><span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>  
  <span class="token punctuation">}</span>  
<span class="token punctuation">}</span>  
  
<span class="token keyword">const</span> storage <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DataStorage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
storage<span class="token punctuation">.</span><span class="token function">saveData</span><span class="token punctuation">(</span><span class="token string">'userInfo'</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Alice'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>storage<span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token string">'userInfo'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// { name: 'Alice' }  </span>
  
Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>storage<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// []  </span>
Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyNames</span><span class="token punctuation">(</span>storage<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å¯èƒ½åŒ…å«ä¸€äº›ç»§æ‰¿çš„å±æ€§åï¼Œä½†ä¸åŒ…æ‹¬internalKey  </span>
Object<span class="token punctuation">.</span><span class="token function">getOwnPropertySymbols</span><span class="token punctuation">(</span>storage<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [Symbol(internalKey)]</span>
</code></pre> 
<p>åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼ŒDataStorageç±»çš„å®ä¾‹storageä½¿ç”¨äº†ä¸€ä¸ªSymbolå±æ€§åinternalKeyæ¥å­˜å‚¨å†…éƒ¨æ•°æ®ï¼Œè¿™ä½¿å¾—è¿™äº›æ•°æ®ä¸ä¼šé€šè¿‡å¸¸è§„æ–¹æ³•è¢«å¤–éƒ¨è®¿é—®åˆ°ã€‚</p> 
<h3><a id="font_colorFFD800_size5_6_Symbolfont_380"></a><font color="#FFD800" size="5">ğŸš§ 6 Symbolçš„å…¨å±€æ³¨å†Œä¸æ£€ç´¢</font></h3> 
<p>æœ‰æ—¶ï¼Œæˆ‘ä»¬éœ€è¦è·¨å¤šä¸ªä»£ç æ¨¡å—æˆ–æ‰§è¡Œä¸Šä¸‹æ–‡é‡ç”¨åŒä¸€ä¸ªSymbolå€¼ã€‚Symbol.for()æ–¹æ³•å…è®¸æˆ‘ä»¬é€šè¿‡ä¼ é€’ä¸€ä¸ªå­—ç¬¦ä¸²å‚æ•°æ¥å®ç°è¿™ä¸€ç‚¹ã€‚å¦‚æœå…¨å±€æ³¨å†Œè¡¨ä¸­å·²å­˜åœ¨è¯¥å­—ç¬¦ä¸²å¯¹åº”çš„Symbolå€¼ï¼Œåˆ™ç›´æ¥è¿”å›è¯¥å€¼ï¼›å¦åˆ™ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„Symbolå€¼å¹¶å°†å…¶æ³¨å†Œåˆ°å…¨å±€æ³¨å†Œè¡¨ä¸­ã€‚</p> 
<pre><code class="prism language-javascript"><span class="token keyword">let</span> sym1 <span class="token operator">=</span> Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">'unique'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token keyword">let</span> sym2 <span class="token operator">=</span> Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">'unique'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
  
sym1 <span class="token operator">===</span> sym2<span class="token punctuation">;</span> <span class="token comment">// true</span>
åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œsym1å’Œsym2éƒ½æ˜¯é€šè¿‡Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">'unique'</span><span class="token punctuation">)</span>åˆ›å»ºçš„ï¼Œå› æ­¤å®ƒä»¬æ˜¯åŒä¸€ä¸ªSymbolå€¼ã€‚

Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token function">ä¸ç›´æ¥ä½¿ç”¨Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span>çš„åŒºåˆ«åœ¨äºå‰è€…ä¼šå°†Symbolå€¼æ³¨å†Œåˆ°å…¨å±€ç¯å¢ƒä¸­ï¼Œè€Œåè€…æ¯æ¬¡è°ƒç”¨éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„Symbolå€¼ã€‚

javascript
Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">'example'</span><span class="token punctuation">)</span> <span class="token operator">===</span> Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">'example'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true  </span>
<span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'example'</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'example'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
Symbol<span class="token punctuation">.</span><span class="token function">keyFor</span><span class="token punctuation">(</span><span class="token punctuation">)</span>æ–¹æ³•ç”¨äºæ£€ç´¢å·²æ³¨å†Œçš„Symbolå€¼çš„å­—ç¬¦ä¸²é”®ã€‚

javascript
<span class="token keyword">let</span> registeredSym <span class="token operator">=</span> Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">'registered'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
Symbol<span class="token punctuation">.</span><span class="token function">keyFor</span><span class="token punctuation">(</span>registeredSym<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'registered'  </span>
  
<span class="token keyword">let</span> unregisteredSym <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'unregistered'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
Symbol<span class="token punctuation">.</span><span class="token function">keyFor</span><span class="token punctuation">(</span>unregisteredSym<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>
</code></pre> 
<p>åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼ŒunregisteredSymæ˜¯ä¸€ä¸ªæœªæ³¨å†Œçš„Symbolå€¼ï¼Œå› æ­¤Symbol.keyFor(unregisteredSym)è¿”å›undefinedã€‚<br> å€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒSymbol.for()æ³¨å†Œçš„å…¨å±€Symbolå€¼åœ¨ä»»ä½•æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­éƒ½æ˜¯å¯ç”¨çš„ï¼ŒåŒ…æ‹¬ä¸åŒçš„iframeæˆ–service workerã€‚</p> 
<pre><code class="prism language-javascript"><span class="token keyword">function</span> <span class="token function">createGlobalSymbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>  
  <span class="token keyword">return</span> Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">'globalSymbol'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token punctuation">}</span>  
  
<span class="token keyword">const</span> sym1 <span class="token operator">=</span> <span class="token function">createGlobalSymbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token keyword">const</span> sym2 <span class="token operator">=</span> Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">'globalSymbol'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
  
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sym1 <span class="token operator">===</span> sym2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true  </span>
  
<span class="token comment">// åœ¨iframeä¸­  </span>
<span class="token keyword">const</span> iframe <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'iframe'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
iframe<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token function">String</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>location<span class="token punctuation">)</span><span class="token punctuation">;</span>  
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>iframe<span class="token punctuation">)</span><span class="token punctuation">;</span>  
  
iframe<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>  
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>iframe<span class="token punctuation">.</span>contentWindow<span class="token punctuation">.</span>Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">'globalSymbol'</span><span class="token punctuation">)</span> <span class="token operator">===</span> sym1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true  </span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<p>ä¸Šè¿°ä»£ç å±•ç¤ºäº†å¦‚ä½•åœ¨ä¸»é¡µé¢å’Œiframeä¹‹é—´å…±äº«é€šè¿‡Symbol.for()æ³¨å†Œçš„å…¨å±€Symbolå€¼ã€‚ã€‘</p> 
<p>å°†ã€ã€‘ä¸­çš„markdownæ–‡æœ¬ä¸­çš„ä»£ç å—æ’å…¥å¦‚ä¸‹æ ¼å¼<br> javascript<br> ä»£ç å—æ”¾åœ¨ä¸­é—´</p> 
<h3><a id="font_colorFFD800_size5_7__Symbol_font_437"></a><font color="#FFD800" size="5">ğŸš§ 7 å†…ç½®çš„ Symbol å€¼</font></h3> 
<p>é™¤äº†å®šä¹‰è‡ªå·±ä½¿ç”¨çš„ Symbol å€¼ä»¥å¤–ï¼ŒES6 è¿˜æä¾›äº† 11 ä¸ªå†…ç½®çš„ Symbol å€¼ï¼ŒæŒ‡å‘è¯­è¨€å†…éƒ¨ä½¿ç”¨çš„æ–¹æ³•ã€‚</p> 
<h4><a id="font_colorFF5C00_size5_71_SymbolhasInstancefont_441"></a><font color="#FF5C00" size="5">ğŸ”± 7.1 Symbol.hasInstance</font></h4> 
<p>å¯¹è±¡çš„<code>Symbol.hasInstance</code>å±æ€§ï¼ŒæŒ‡å‘ä¸€ä¸ªå†…éƒ¨æ–¹æ³•ã€‚å½“å…¶ä»–å¯¹è±¡ä½¿ç”¨<code>instanceof</code>è¿ç®—ç¬¦ï¼Œåˆ¤æ–­æ˜¯å¦ä¸ºè¯¥å¯¹è±¡çš„å®ä¾‹æ—¶ï¼Œä¼šè°ƒç”¨è¿™ä¸ªæ–¹æ³•ã€‚æ¯”å¦‚ï¼Œ<code>foo instanceof Foo</code>åœ¨è¯­è¨€å†…éƒ¨ï¼Œå®é™…è°ƒç”¨çš„æ˜¯<code>Foo[Symbol.hasInstance](foo)</code>ã€‚</p> 
<pre><code class="prism language-javascript"><span class="token keyword">class</span> <span class="token class-name">MyClass</span> <span class="token punctuation">{<!-- --></span>
  <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>hasInstance<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token parameter">foo</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> foo <span class="token keyword">instanceof</span> <span class="token class-name">Array</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span> <span class="token keyword">instanceof</span> <span class="token class-name">new</span> <span class="token function">MyClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre> 
<p>ä¸Šé¢ä»£ç ä¸­ï¼Œ<code>MyClass</code>æ˜¯ä¸€ä¸ªç±»ï¼Œ<code>new MyClass()</code>ä¼šè¿”å›ä¸€ä¸ªå®ä¾‹ã€‚è¯¥å®ä¾‹çš„<code>Symbol.hasInstance</code>æ–¹æ³•ï¼Œä¼šåœ¨è¿›è¡Œ<code>instanceof</code>è¿ç®—æ—¶è‡ªåŠ¨è°ƒç”¨ï¼Œåˆ¤æ–­å·¦ä¾§çš„è¿ç®—å­æ˜¯å¦ä¸º<code>Array</code>çš„å®ä¾‹ã€‚</p> 
<p>ä¸‹é¢æ˜¯å¦ä¸€ä¸ªä¾‹å­ã€‚</p> 
<pre><code class="prism language-javascript"><span class="token keyword">class</span> <span class="token class-name">Even</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">static</span> <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>hasInstance<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token function">Number</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// ç­‰åŒäº</span>
<span class="token keyword">const</span> Even <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
  <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>hasInstance<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token function">Number</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token number">1</span> <span class="token keyword">instanceof</span> <span class="token class-name">Even</span> <span class="token comment">// false</span>
<span class="token number">2</span> <span class="token keyword">instanceof</span> <span class="token class-name">Even</span> <span class="token comment">// true</span>
<span class="token number">12345</span> <span class="token keyword">instanceof</span> <span class="token class-name">Even</span> <span class="token comment">// false</span>
</code></pre> 
<h4><a id="font_colorFF5C00_size572_SymbolisConcatSpreadablefont_478"></a><font color="#FF5C00" size="5">ğŸ”±7.2 Symbol.isConcatSpreadable</font></h4> 
<p>å¯¹è±¡çš„<code>Symbol.isConcatSpreadable</code>å±æ€§ç­‰äºä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºè¯¥å¯¹è±¡ç”¨äº<code>Array.prototype.concat()</code>æ—¶ï¼Œæ˜¯å¦å¯ä»¥å±•å¼€ã€‚</p> 
<pre><code class="prism language-javascript"><span class="token keyword">let</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>arr1<span class="token punctuation">,</span> <span class="token string">'e'</span><span class="token punctuation">)</span> <span class="token comment">// ['a', 'b', 'c', 'd', 'e']</span>
arr1<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>isConcatSpreadable<span class="token punctuation">]</span> <span class="token comment">// undefined</span>

<span class="token keyword">let</span> arr2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
arr2<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>isConcatSpreadable<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>arr2<span class="token punctuation">,</span> <span class="token string">'e'</span><span class="token punctuation">)</span> <span class="token comment">// ['a', 'b', ['c','d'], 'e']</span>
</code></pre> 
<p>ä¸Šé¢ä»£ç è¯´æ˜ï¼Œæ•°ç»„çš„é»˜è®¤è¡Œä¸ºæ˜¯å¯ä»¥å±•å¼€ï¼Œ<code>Symbol.isConcatSpreadable</code>é»˜è®¤ç­‰äº<code>undefined</code>ã€‚è¯¥å±æ€§ç­‰äº<code>true</code>æ—¶ï¼Œä¹Ÿæœ‰å±•å¼€çš„æ•ˆæœã€‚</p> 
<p>ç±»ä¼¼æ•°ç»„çš„å¯¹è±¡æ­£å¥½ç›¸åï¼Œé»˜è®¤ä¸å±•å¼€ã€‚å®ƒçš„<code>Symbol.isConcatSpreadable</code>å±æ€§è®¾ä¸º<code>true</code>ï¼Œæ‰å¯ä»¥å±•å¼€ã€‚</p> 
<pre><code class="prism language-javascript"><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token literal-property property">length</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token operator">:</span> <span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token operator">:</span> <span class="token string">'d'</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token string">'e'</span><span class="token punctuation">)</span> <span class="token comment">// ['a', 'b', obj, 'e']</span>

obj<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>isConcatSpreadable<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token string">'e'</span><span class="token punctuation">)</span> <span class="token comment">// ['a', 'b', 'c', 'd', 'e']</span>
</code></pre> 
<p><code>Symbol.isConcatSpreadable</code>å±æ€§ä¹Ÿå¯ä»¥å®šä¹‰åœ¨ç±»é‡Œé¢ã€‚</p> 
<pre><code class="prism language-javascript"><span class="token keyword">class</span> <span class="token class-name">A1</span> <span class="token keyword">extends</span> <span class="token class-name">Array</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">args</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>isConcatSpreadable<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">A2</span> <span class="token keyword">extends</span> <span class="token class-name">Array</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">args</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">get</span> <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>isConcatSpreadable<span class="token punctuation">]</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> a1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">A1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
a1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
a1<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> a2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">A2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
a2<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
a2<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>a1<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>a2<span class="token punctuation">)</span>
<span class="token comment">// [1, 2, 3, 4, [5, 6]]</span>
</code></pre> 
<p>ä¸Šé¢ä»£ç ä¸­ï¼Œç±»<code>A1</code>æ˜¯å¯å±•å¼€çš„ï¼Œç±»<code>A2</code>æ˜¯ä¸å¯å±•å¼€çš„ï¼Œæ‰€ä»¥ä½¿ç”¨<code>concat</code>æ—¶æœ‰ä¸ä¸€æ ·çš„ç»“æœã€‚</p> 
<p>æ³¨æ„ï¼Œ<code>Symbol.isConcatSpreadable</code>çš„ä½ç½®å·®å¼‚ï¼Œ<code>A1</code>æ˜¯å®šä¹‰åœ¨å®ä¾‹ä¸Šï¼Œ<code>A2</code>æ˜¯å®šä¹‰åœ¨ç±»æœ¬èº«ï¼Œæ•ˆæœç›¸åŒã€‚</p> 
<h4><a id="font_colorFF5C00_size573_Symbolspeciesfont_535"></a><font color="#FF5C00" size="5">ğŸ”±7.3 Symbol.species</font></h4> 
<p>å¯¹è±¡çš„<code>Symbol.species</code>å±æ€§ï¼ŒæŒ‡å‘ä¸€ä¸ªæ„é€ å‡½æ•°ã€‚åˆ›å»ºè¡ç”Ÿå¯¹è±¡æ—¶ï¼Œä¼šä½¿ç”¨è¯¥å±æ€§ã€‚</p> 
<pre><code class="prism language-javascript"><span class="token keyword">class</span> <span class="token class-name">MyArray</span> <span class="token keyword">extends</span> <span class="token class-name">Array</span> <span class="token punctuation">{<!-- --></span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyArray</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> b <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">x</span> <span class="token operator">=&gt;</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> c <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">x</span> <span class="token operator">=&gt;</span> x <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

b <span class="token keyword">instanceof</span> <span class="token class-name">MyArray</span> <span class="token comment">// true</span>
c <span class="token keyword">instanceof</span> <span class="token class-name">MyArray</span> <span class="token comment">// true</span>
</code></pre> 
<p>ä¸Šé¢ä»£ç ä¸­ï¼Œå­ç±»<code>MyArray</code>ç»§æ‰¿äº†çˆ¶ç±»<code>Array</code>ï¼Œ<code>a</code>æ˜¯<code>MyArray</code>çš„å®ä¾‹ï¼Œ<code>b</code>å’Œ<code>c</code>æ˜¯<code>a</code>çš„è¡ç”Ÿå¯¹è±¡ã€‚ä½ å¯èƒ½ä¼šè®¤ä¸ºï¼Œ<code>b</code>å’Œ<code>c</code>éƒ½æ˜¯è°ƒç”¨æ•°ç»„æ–¹æ³•ç”Ÿæˆçš„ï¼Œæ‰€ä»¥åº”è¯¥æ˜¯æ•°ç»„ï¼ˆ<code>Array</code>çš„å®ä¾‹ï¼‰ï¼Œä½†å®é™…ä¸Šå®ƒä»¬ä¹Ÿæ˜¯<code>MyArray</code>çš„å®ä¾‹ã€‚</p> 
<p><code>Symbol.species</code>å±æ€§å°±æ˜¯ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜è€Œæä¾›çš„ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥ä¸º<code>MyArray</code>è®¾ç½®<code>Symbol.species</code>å±æ€§ã€‚</p> 
<pre><code class="prism language-javascript"><span class="token keyword">class</span> <span class="token class-name">MyArray</span> <span class="token keyword">extends</span> <span class="token class-name">Array</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">static</span> <span class="token keyword">get</span> <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>species<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token keyword">return</span> Array<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>ä¸Šé¢ä»£ç ä¸­ï¼Œç”±äºå®šä¹‰äº†<code>Symbol.species</code>å±æ€§ï¼Œåˆ›å»ºè¡ç”Ÿå¯¹è±¡æ—¶å°±ä¼šä½¿ç”¨è¿™ä¸ªå±æ€§è¿”å›çš„å‡½æ•°ï¼Œä½œä¸ºæ„é€ å‡½æ•°ã€‚è¿™ä¸ªä¾‹å­ä¹Ÿè¯´æ˜ï¼Œå®šä¹‰<code>Symbol.species</code>å±æ€§è¦é‡‡ç”¨<code>get</code>å–å€¼å™¨ã€‚é»˜è®¤çš„<code>Symbol.species</code>å±æ€§ç­‰åŒäºä¸‹é¢çš„å†™æ³•ã€‚</p> 
<pre><code class="prism language-javascript"><span class="token keyword">static</span> <span class="token keyword">get</span> <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>species<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>ç°åœ¨ï¼Œå†æ¥çœ‹å‰é¢çš„ä¾‹å­ã€‚</p> 
<pre><code class="prism language-javascript"><span class="token keyword">class</span> <span class="token class-name">MyArray</span> <span class="token keyword">extends</span> <span class="token class-name">Array</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">static</span> <span class="token keyword">get</span> <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>species<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token keyword">return</span> Array<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> b <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">x</span> <span class="token operator">=&gt;</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>

b <span class="token keyword">instanceof</span> <span class="token class-name">MyArray</span> <span class="token comment">// false</span>
b <span class="token keyword">instanceof</span> <span class="token class-name">Array</span> <span class="token comment">// true</span>
</code></pre> 
<p>ä¸Šé¢ä»£ç ä¸­ï¼Œ<code>a.map(x =&gt; x)</code>ç”Ÿæˆçš„è¡ç”Ÿå¯¹è±¡ï¼Œå°±ä¸æ˜¯<code>MyArray</code>çš„å®ä¾‹ï¼Œè€Œç›´æ¥å°±æ˜¯<code>Array</code>çš„å®ä¾‹ã€‚</p> 
<p>å†çœ‹ä¸€ä¸ªä¾‹å­ã€‚</p> 
<pre><code class="prism language-javascript"><span class="token keyword">class</span> <span class="token class-name">T1</span> <span class="token keyword">extends</span> <span class="token class-name">Promise</span> <span class="token punctuation">{<!-- --></span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">T2</span> <span class="token keyword">extends</span> <span class="token class-name">Promise</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">static</span> <span class="token keyword">get</span> <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>species<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> Promise<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">new</span> <span class="token class-name">T1</span><span class="token punctuation">(</span><span class="token parameter">r</span> <span class="token operator">=&gt;</span> <span class="token function">r</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">v</span> <span class="token operator">=&gt;</span> v<span class="token punctuation">)</span> <span class="token keyword">instanceof</span> <span class="token class-name">T1</span> <span class="token comment">// true</span>
<span class="token keyword">new</span> <span class="token class-name">T2</span><span class="token punctuation">(</span><span class="token parameter">r</span> <span class="token operator">=&gt;</span> <span class="token function">r</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">v</span> <span class="token operator">=&gt;</span> v<span class="token punctuation">)</span> <span class="token keyword">instanceof</span> <span class="token class-name">T2</span> <span class="token comment">// false</span>
</code></pre> 
<p>ä¸Šé¢ä»£ç ä¸­ï¼Œ<code>T2</code>å®šä¹‰äº†<code>Symbol.species</code>å±æ€§ï¼Œ<code>T1</code>æ²¡æœ‰ã€‚ç»“æœå°±å¯¼è‡´äº†åˆ›å»ºè¡ç”Ÿå¯¹è±¡æ—¶ï¼ˆ<code>then</code>æ–¹æ³•ï¼‰ï¼Œ<code>T1</code>è°ƒç”¨çš„æ˜¯è‡ªèº«çš„æ„é€ æ–¹æ³•ï¼Œè€Œ<code>T2</code>è°ƒç”¨çš„æ˜¯<code>Promise</code>çš„æ„é€ æ–¹æ³•ã€‚</p> 
<p>æ€»ä¹‹ï¼Œ<code>Symbol.species</code>çš„ä½œç”¨åœ¨äºï¼Œå®ä¾‹å¯¹è±¡åœ¨è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œéœ€è¦å†æ¬¡è°ƒç”¨è‡ªèº«çš„æ„é€ å‡½æ•°æ—¶ï¼Œä¼šè°ƒç”¨è¯¥å±æ€§æŒ‡å®šçš„æ„é€ å‡½æ•°ã€‚å®ƒä¸»è¦çš„ç”¨é€”æ˜¯ï¼Œæœ‰äº›ç±»åº“æ˜¯åœ¨åŸºç±»çš„åŸºç¡€ä¸Šä¿®æ”¹çš„ï¼Œé‚£ä¹ˆå­ç±»ä½¿ç”¨ç»§æ‰¿çš„æ–¹æ³•æ—¶ï¼Œä½œè€…å¯èƒ½å¸Œæœ›è¿”å›åŸºç±»çš„å®ä¾‹ï¼Œè€Œä¸æ˜¯å­ç±»çš„å®ä¾‹ã€‚</p> 
<h4><a id="font_colorFF5C00_size574_Symbolmatchfont_605"></a><font color="#FF5C00" size="5">ğŸ”±7.4 Symbol.match</font></h4> 
<p>å¯¹è±¡çš„<code>Symbol.match</code>å±æ€§ï¼ŒæŒ‡å‘ä¸€ä¸ªå‡½æ•°ã€‚å½“æ‰§è¡Œ<code>str.match(myObject)</code>æ—¶ï¼Œå¦‚æœè¯¥å±æ€§å­˜åœ¨ï¼Œä¼šè°ƒç”¨å®ƒï¼Œè¿”å›è¯¥æ–¹æ³•çš„è¿”å›å€¼ã€‚</p> 
<pre><code class="prism language-javascript"><span class="token class-name">String</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regexp<span class="token punctuation">)</span>
<span class="token comment">// ç­‰åŒäº</span>
regexp<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>match<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">MyMatcher</span> <span class="token punctuation">{<!-- --></span>
  <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>match<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token parameter">string</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token string">'hello world'</span><span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token string">'e'</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MyMatcher</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 1</span>
</code></pre> 
<h4><a id="font_colorFF5C00_size575_Symbolreplacefont_623"></a><font color="#FF5C00" size="5">ğŸ”±7.5 Symbol.replace</font></h4> 
<p>å¯¹è±¡çš„<code>Symbol.replace</code>å±æ€§ï¼ŒæŒ‡å‘ä¸€ä¸ªæ–¹æ³•ï¼Œå½“è¯¥å¯¹è±¡è¢«<code>String.prototype.replace</code>æ–¹æ³•è°ƒç”¨æ—¶ï¼Œä¼šè¿”å›è¯¥æ–¹æ³•çš„è¿”å›å€¼ã€‚</p> 
<pre><code class="prism language-javascript"><span class="token class-name">String</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>searchValue<span class="token punctuation">,</span> replaceValue<span class="token punctuation">)</span>
<span class="token comment">// ç­‰åŒäº</span>
searchValue<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>replace<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> replaceValue<span class="token punctuation">)</span>
</code></pre> 
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ã€‚</p> 
<pre><code class="prism language-javascript"><span class="token keyword">const</span> x <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">;</span>
x<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>replace<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>s</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token string">'Hello'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token string">'World'</span><span class="token punctuation">)</span> <span class="token comment">// ["Hello", "World"]</span>
</code></pre> 
<p><code>Symbol.replace</code>æ–¹æ³•ä¼šæ”¶åˆ°ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯<code>replace</code>æ–¹æ³•æ­£åœ¨ä½œç”¨çš„å¯¹è±¡ï¼Œä¸Šé¢ä¾‹å­æ˜¯<code>Hello</code>ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯æ›¿æ¢åçš„å€¼ï¼Œä¸Šé¢ä¾‹å­æ˜¯<code>World</code>ã€‚</p> 
<h4><a id="font_colorFF5C00_size576_Symbolsearchfont_644"></a><font color="#FF5C00" size="5">ğŸ”±7.6 Symbol.search</font></h4> 
<p>å¯¹è±¡çš„<code>Symbol.search</code>å±æ€§ï¼ŒæŒ‡å‘ä¸€ä¸ªæ–¹æ³•ï¼Œå½“è¯¥å¯¹è±¡è¢«<code>String.prototype.search</code>æ–¹æ³•è°ƒç”¨æ—¶ï¼Œä¼šè¿”å›è¯¥æ–¹æ³•çš„è¿”å›å€¼ã€‚</p> 
<pre><code class="prism language-javascript"><span class="token class-name">String</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span>regexp<span class="token punctuation">)</span>
<span class="token comment">// ç­‰åŒäº</span>
regexp<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>search<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">MySearch</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> value<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>search<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token parameter">string</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> string<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token string">'foobar'</span><span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MySearch</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 0</span>
</code></pre> 
<h4><a id="font_colorFF5C00_size577_Symbolsplitfont_664"></a><font color="#FF5C00" size="5">ğŸ”±7.7 Symbol.split</font></h4> 
<p>å¯¹è±¡çš„<code>Symbol.split</code>å±æ€§ï¼ŒæŒ‡å‘ä¸€ä¸ªæ–¹æ³•ï¼Œå½“è¯¥å¯¹è±¡è¢«<code>String.prototype.split</code>æ–¹æ³•è°ƒç”¨æ—¶ï¼Œä¼šè¿”å›è¯¥æ–¹æ³•çš„è¿”å›å€¼ã€‚</p> 
<pre><code class="prism language-javascript"><span class="token class-name">String</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span>separator<span class="token punctuation">,</span> limit<span class="token punctuation">)</span>
<span class="token comment">// ç­‰åŒäº</span>
separator<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>split<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> limit<span class="token punctuation">)</span>
</code></pre> 
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ã€‚</p> 
<pre><code class="prism language-javascript"><span class="token keyword">class</span> <span class="token class-name">MySplitter</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> value<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>split<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token parameter">string</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">let</span> index <span class="token operator">=</span> string<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">return</span> string<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span>
      string<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> index<span class="token punctuation">)</span><span class="token punctuation">,</span>
      string<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span>index <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">.</span>length<span class="token punctuation">)</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token string">'foobar'</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MySplitter</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// ['', 'bar']</span>

<span class="token string">'foobar'</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MySplitter</span><span class="token punctuation">(</span><span class="token string">'bar'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// ['foo', '']</span>

<span class="token string">'foobar'</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MySplitter</span><span class="token punctuation">(</span><span class="token string">'baz'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// 'foobar'</span>
</code></pre> 
<p>ä¸Šé¢æ–¹æ³•ä½¿ç”¨<code>Symbol.split</code>æ–¹æ³•ï¼Œé‡æ–°å®šä¹‰äº†å­—ç¬¦ä¸²å¯¹è±¡çš„<code>split</code>æ–¹æ³•çš„è¡Œä¸ºï¼Œ</p> 
<h4><a id="font_colorFF5C00_size578_Symboliteratorfont_705"></a><font color="#FF5C00" size="5">ğŸ”±7.8 Symbol.iterator</font></h4> 
<p>å¯¹è±¡çš„<code>Symbol.iterator</code>å±æ€§ï¼ŒæŒ‡å‘è¯¥å¯¹è±¡çš„é»˜è®¤éå†å™¨æ–¹æ³•ã€‚</p> 
<pre><code class="prism language-javascript"><span class="token keyword">const</span> myIterable <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">;</span>
myIterable<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token operator">*</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">yield</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">yield</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token keyword">yield</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token punctuation">[</span><span class="token operator">...</span>myIterable<span class="token punctuation">]</span> <span class="token comment">// [1, 2, 3]</span>
</code></pre> 
<p>å¯¹è±¡è¿›è¡Œ<code>for...of</code>å¾ªç¯æ—¶ï¼Œä¼šè°ƒç”¨<code>Symbol.iterator</code>æ–¹æ³•ï¼Œè¿”å›è¯¥å¯¹è±¡çš„é»˜è®¤éå†å™¨ï¼Œè¯¦ç»†ä»‹ç»å‚è§ã€ŠIterator å’Œ forâ€¦of å¾ªç¯ã€‹ä¸€ç« ã€‚</p> 
<pre><code class="prism language-javascript"><span class="token keyword">class</span> <span class="token class-name">Collection</span> <span class="token punctuation">{<!-- --></span>
  <span class="token operator">*</span><span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!==</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">yield</span> <span class="token keyword">this</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token operator">++</span>i<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> myCollection <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Collection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
myCollection<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
myCollection<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>

<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> value <span class="token keyword">of</span> myCollection<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 1</span>
<span class="token comment">// 2</span>
</code></pre> 
<h4><a id="font_colorFF5C00_size579_SymboltoPrimitivefont_744"></a><font color="#FF5C00" size="5">ğŸ”±7.9 Symbol.toPrimitive</font></h4> 
<p>å¯¹è±¡çš„<code>Symbol.toPrimitive</code>å±æ€§ï¼ŒæŒ‡å‘ä¸€ä¸ªæ–¹æ³•ã€‚è¯¥å¯¹è±¡è¢«è½¬ä¸ºåŸå§‹ç±»å‹çš„å€¼æ—¶ï¼Œä¼šè°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼Œè¿”å›è¯¥å¯¹è±¡å¯¹åº”çš„åŸå§‹ç±»å‹å€¼ã€‚</p> 
<p><code>Symbol.toPrimitive</code>è¢«è°ƒç”¨æ—¶ï¼Œä¼šæ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²å‚æ•°ï¼Œè¡¨ç¤ºå½“å‰è¿ç®—çš„æ¨¡å¼ï¼Œä¸€å…±æœ‰ä¸‰ç§æ¨¡å¼ã€‚</p> 
<ul><li>Numberï¼šè¯¥åœºåˆéœ€è¦è½¬æˆæ•°å€¼</li><li>Stringï¼šè¯¥åœºåˆéœ€è¦è½¬æˆå­—ç¬¦ä¸²</li><li>Defaultï¼šè¯¥åœºåˆå¯ä»¥è½¬æˆæ•°å€¼ï¼Œä¹Ÿå¯ä»¥è½¬æˆå­—ç¬¦ä¸²</li></ul> 
<pre><code class="prism language-javascript"><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
  <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>toPrimitive<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token parameter">hint</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span>hint<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">case</span> <span class="token string">'number'</span><span class="token operator">:</span>
        <span class="token keyword">return</span> <span class="token number">123</span><span class="token punctuation">;</span>
      <span class="token keyword">case</span> <span class="token string">'string'</span><span class="token operator">:</span>
        <span class="token keyword">return</span> <span class="token string">'str'</span><span class="token punctuation">;</span>
      <span class="token keyword">case</span> <span class="token string">'default'</span><span class="token operator">:</span>
        <span class="token keyword">return</span> <span class="token string">'default'</span><span class="token punctuation">;</span>
      <span class="token keyword">default</span><span class="token operator">:</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token number">2</span> <span class="token operator">*</span> obj <span class="token comment">// 246</span>
<span class="token number">3</span> <span class="token operator">+</span> obj <span class="token comment">// '3default'</span>
obj <span class="token operator">==</span> <span class="token string">'default'</span> <span class="token comment">// true</span>
<span class="token function">String</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token comment">// 'str'</span>
</code></pre> 
<h4><a id="font_colorFF5C00_size5710_SymboltoStringTagfont_776"></a><font color="#FF5C00" size="5">ğŸ”±7.10 Symbol.toStringTag</font></h4> 
<p>å¯¹è±¡çš„<code>Symbol.toStringTag</code>å±æ€§ï¼ŒæŒ‡å‘ä¸€ä¸ªæ–¹æ³•ã€‚åœ¨è¯¥å¯¹è±¡ä¸Šé¢è°ƒç”¨<code>Object.prototype.toString</code>æ–¹æ³•æ—¶ï¼Œå¦‚æœè¿™ä¸ªå±æ€§å­˜åœ¨ï¼Œå®ƒçš„è¿”å›å€¼ä¼šå‡ºç°åœ¨<code>toString</code>æ–¹æ³•è¿”å›çš„å­—ç¬¦ä¸²ä¹‹ä¸­ï¼Œè¡¨ç¤ºå¯¹è±¡çš„ç±»å‹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™ä¸ªå±æ€§å¯ä»¥ç”¨æ¥å®šåˆ¶<code>[object Object]</code>æˆ–<code>[object Array]</code>ä¸­<code>object</code>åé¢çš„é‚£ä¸ªå­—ç¬¦ä¸²ã€‚</p> 
<pre><code class="prism language-javascript"><span class="token comment">// ä¾‹ä¸€</span>
<span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>toStringTag<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token string">'Foo'</span><span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// "[object Foo]"</span>

<span class="token comment">// ä¾‹äºŒ</span>
<span class="token keyword">class</span> <span class="token class-name">Collection</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">get</span> <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>toStringTag<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token string">'xxx'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Collection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token comment">// "[object xxx]"</span>
</code></pre> 
<p>ES6 æ–°å¢å†…ç½®å¯¹è±¡çš„<code>Symbol.toStringTag</code>å±æ€§å€¼å¦‚ä¸‹ã€‚</p> 
<ul><li><code>JSON[Symbol.toStringTag]</code>ï¼šâ€˜JSONâ€™</li><li><code>Math[Symbol.toStringTag]</code>ï¼šâ€˜Mathâ€™</li><li>Module å¯¹è±¡<code>M[Symbol.toStringTag]</code>ï¼šâ€˜Moduleâ€™</li><li><code>ArrayBuffer.prototype[Symbol.toStringTag]</code>ï¼šâ€˜ArrayBufferâ€™</li><li><code>DataView.prototype[Symbol.toStringTag]</code>ï¼šâ€˜DataViewâ€™</li><li><code>Map.prototype[Symbol.toStringTag]</code>ï¼šâ€˜Mapâ€™</li><li><code>Promise.prototype[Symbol.toStringTag]</code>ï¼šâ€˜Promiseâ€™</li><li><code>Set.prototype[Symbol.toStringTag]</code>ï¼šâ€˜Setâ€™</li><li><code>%TypedArray%.prototype[Symbol.toStringTag]</code>ï¼š'Uint8Arrayâ€™ç­‰</li><li><code>WeakMap.prototype[Symbol.toStringTag]</code>ï¼šâ€˜WeakMapâ€™</li><li><code>WeakSet.prototype[Symbol.toStringTag]</code>ï¼šâ€˜WeakSetâ€™</li><li><code>%MapIteratorPrototype%[Symbol.toStringTag]</code>ï¼šâ€˜Map Iteratorâ€™</li><li><code>%SetIteratorPrototype%[Symbol.toStringTag]</code>ï¼šâ€˜Set Iteratorâ€™</li><li><code>%StringIteratorPrototype%[Symbol.toStringTag]</code>ï¼šâ€˜String Iteratorâ€™</li><li><code>Symbol.prototype[Symbol.toStringTag]</code>ï¼šâ€˜Symbolâ€™</li><li><code>Generator.prototype[Symbol.toStringTag]</code>ï¼šâ€˜Generatorâ€™</li><li><code>GeneratorFunction.prototype[Symbol.toStringTag]</code>ï¼šâ€˜GeneratorFunctionâ€™</li></ul> 
<h4><a id="font_colorFF5C00_size5711_Symbolunscopablesfont_815"></a><font color="#FF5C00" size="5">ğŸ”±7.11 Symbol.unscopables</font></h4> 
<p>å¯¹è±¡çš„<code>Symbol.unscopables</code>å±æ€§ï¼ŒæŒ‡å‘ä¸€ä¸ªå¯¹è±¡ã€‚è¯¥å¯¹è±¡æŒ‡å®šäº†ä½¿ç”¨<code>with</code>å…³é”®å­—æ—¶ï¼Œå“ªäº›å±æ€§ä¼šè¢«<code>with</code>ç¯å¢ƒæ’é™¤ã€‚</p> 
<pre><code class="prism language-javascript"><span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>unscopables<span class="token punctuation">]</span>
<span class="token comment">// {<!-- --></span>
<span class="token comment">//   copyWithin: true,</span>
<span class="token comment">//   entries: true,</span>
<span class="token comment">//   fill: true,</span>
<span class="token comment">//   find: true,</span>
<span class="token comment">//   findIndex: true,</span>
<span class="token comment">//   includes: true,</span>
<span class="token comment">//   keys: true</span>
<span class="token comment">// }</span>

Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>unscopables<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment">// ['copyWithin', 'entries', 'fill', 'find', 'findIndex', 'includes', 'keys']</span>
</code></pre> 
<p>ä¸Šé¢ä»£ç è¯´æ˜ï¼Œæ•°ç»„æœ‰ 7 ä¸ªå±æ€§ï¼Œä¼šè¢«<code>with</code>å‘½ä»¤æ’é™¤ã€‚</p> 
<pre><code class="prism language-javascript"><span class="token comment">// æ²¡æœ‰ unscopables æ—¶</span>
<span class="token keyword">class</span> <span class="token class-name">MyClass</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> <span class="token function-variable function">foo</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token keyword">return</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">with</span> <span class="token punctuation">(</span><span class="token class-name">MyClass</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
<span class="token punctuation">}</span>

<span class="token comment">// æœ‰ unscopables æ—¶</span>
<span class="token keyword">class</span> <span class="token class-name">MyClass</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
  <span class="token keyword">get</span> <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>unscopables<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">foo</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> <span class="token function-variable function">foo</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token keyword">return</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">with</span> <span class="token punctuation">(</span><span class="token class-name">MyClass</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>ä¸Šé¢ä»£ç é€šè¿‡æŒ‡å®š<code>Symbol.unscopables</code>å±æ€§ï¼Œä½¿å¾—<code>with</code>è¯­æ³•å—ä¸ä¼šåœ¨å½“å‰ä½œç”¨åŸŸå¯»æ‰¾<code>foo</code>å±æ€§ï¼Œå³<code>foo</code>å°†æŒ‡å‘å¤–å±‚ä½œç”¨åŸŸçš„å˜é‡ã€‚</p> 
<hr> 
<p><img src="https://images2.imgbox.com/c1/37/IOD9BdVn_o.gif" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" width="1000" height="100"></p> 
<hr> 
<p><font color="ORANGE" size="5">JavaScript:<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript" rel="nofollow"> https://developer.mozilla.org/en-US/docs/Web/JavaScript</a></font></p> 
<hr>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/fa60774432b042b237ce7b93aa71513b/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">STL ç®€ä»‹ï¼ˆæ ‡å‡†æ¨¡æ¿åº“ï¼‰</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/d7de7fa4ae9563505391ff76165391af/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">ã€æ•°æ®ç»“æ„ã€‘æ ˆ</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ç¼–ç¨‹å¤§å’–.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>