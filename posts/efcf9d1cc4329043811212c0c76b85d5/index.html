<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>shell脚本简单命令 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/efcf9d1cc4329043811212c0c76b85d5/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="shell脚本简单命令">
  <meta property="og:description" content="shell脚本 脚本就是可运行代码的集合，脚本语言（计算机语言）脚本的特点：从上到下，按行执行。
python 脚本语言 格式更严谨 严格的执行锁进。也是从上到下按行执行。
shell脚本就是在shell环境（/bin/bash）bash就是shell的解释器。linux环境下的编程语句。
自动化运维。可重复执行的，自动化的在系统中实现增删改查的操作。
shell的解释器，默认就是bash
sh：已经淘汰
bash：sh的扩展版
csh：类c语言
tcsh：整合了c语言的shell
nologin：用户无法登陆到系统的shell
shell的作用： 1、自动化运维
2、批量化的重复操作以及配合定时任务执行。
3、有了脚本就可以减轻管理员的工作量
4、避免配置出错。
5、提高处理批量文件的速度
shell脚本的构成： [root@localhost ~]# cd /opt [root@localhost opt]# vim test.sh #!/bin/bash #声明shell的解释器这一行可以不写，默认就是bash. /python expect，只要不是默认shell，其他的都是声明解释器 #被注释掉的部分是不会被执行的，步骤的含义。 #可执行语句： #this is my first shell cd /boot echo &#34;当前的目录位置：&#34; #echo的作用就是打印 pwd echo&#34;展示其中以vml开头的文件：&#34; ls -lh vml * 第一行：声明解释器（默认就是bash，可以不写）
注释：以#开头，就是注释的信息，注释的部分不会被执行。
可执行语句：linux的命令都可以作为可执行语句，一行一行的往下写。一行就是一个可执行的语句。
shell的运行方式： 3种：
第一种：不给脚本执行权限的执行方式：
sh：就是在当前的shell里生成一个子shell，运行的结果不改变父shell的环境。
source：点命令，他会改变当前shell的环境，也就是真正的执行代码。
bash：就是在当前的shell里生成一个子shell，运行的结果不改变父shell的环境。
第二种：赋权执行
脚本调试完毕，都是赋权执行。
chmod 777 test.sh
#执行语句 ./test.sh ​ /opt/test.sh ​ source /opt/test.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-06-11T15:11:51+08:00">
    <meta property="article:modified_time" content="2024-06-11T15:11:51+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">shell脚本简单命令</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>shell脚本</h2> 
<p>脚本就是可运行代码的集合，脚本语言（计算机语言）脚本的特点：从上到下，按行执行。</p> 
<p>python 脚本语言 格式更严谨 严格的执行锁进。也是从上到下按行执行。</p> 
<p>shell脚本就是在shell环境（/bin/bash）bash就是shell的解释器。linux环境下的编程语句。</p> 
<p>自动化运维。可重复执行的，自动化的在系统中实现增删改查的操作。</p> 
<p>shell的解释器，默认就是bash</p> 
<p>sh：已经淘汰</p> 
<p>bash：sh的扩展版</p> 
<p>csh：类c语言</p> 
<p>tcsh：整合了c语言的shell</p> 
<p>nologin：用户无法登陆到系统的shell</p> 
<h4>shell的作用：</h4> 
<p><strong>1、自动化运维</strong></p> 
<p>2、批量化的重复操作以及配合定时任务执行。</p> 
<p>3、有了脚本就可以减轻管理员的工作量</p> 
<p>4、避免配置出错。</p> 
<p>5、提高处理批量文件的速度</p> 
<p></p> 
<h4>shell脚本的构成：</h4> 
<pre>[root@localhost ~]# cd /opt
[root@localhost opt]# vim test.sh
#!/bin/bash
#声明shell的解释器这一行可以不写，默认就是bash. /python expect，只要不是默认shell，其他的都是声明解释器
#被注释掉的部分是不会被执行的，步骤的含义。
#可执行语句：
#this is my first shell
cd /boot
echo "当前的目录位置："
#echo的作用就是打印
pwd
echo"展示其中以vml开头的文件："
ls -lh vml *</pre> 
<p>第一行：声明解释器（默认就是bash，可以不写）</p> 
<p>注释：以#开头，就是注释的信息，注释的部分不会被执行。</p> 
<p>可执行语句：linux的命令都可以作为可执行语句，一行一行的往下写。一行就是一个可执行的语句。</p> 
<p></p> 
<h4>shell的运行方式：</h4> 
<p>3种：</p> 
<p>第一种：不给脚本执行权限的执行方式：</p> 
<p>sh：就是在当前的shell里生成一个子shell，运行的结果不改变父shell的环境。</p> 
<p>source：点命令，他会改变当前shell的环境，也就是真正的执行代码。</p> 
<p>bash：就是在当前的shell里生成一个子shell，运行的结果不改变父shell的环境。</p> 
<p>第二种：赋权执行</p> 
<p>脚本调试完毕，都是赋权执行。</p> 
<p>chmod 777 test.sh</p> 
<pre>#执行语句
./test.sh 
​
/opt/test.sh 
​
source /opt/test.sh </pre> 
<p></p> 
<h3>重定向操作：</h3> 
<p>标准输入</p> 
<p>标准输出</p> 
<pre>[root@localhost opt]# ls
jenkins-2.396-1.1.noarch.rpm  test.sh</pre> 
<p>标准错误输出</p> 
<pre>[root@localhost opt]# llll
bash: llll: 未找到命令...</pre> 
<p>重定向输出：&gt; &gt;&gt;</p> 
<p>"&gt; 标准输出的结果保存到指定的文件，而且还会覆盖文件原有的内容"</p> 
<p>"&gt;&gt; 标准输出的结果保存到文件原有的内容的尾部追加，不会覆盖原有的内容"</p> 
<p>2&gt; 2&gt;&gt; (标准错误输出的结果，保存到指定的文件)</p> 
<p>&amp;&gt; &amp;&gt;&gt; (混合输出，既可以保存标准输出，也可以保存错误输出)</p> 
<p></p> 
<p>重定向输入：&lt; 从指定的文件获取数据。</p> 
<h3>变量的作用和类型，如何声明变量。</h3> 
<p>变量的作用：用来存放系统和用户需要使用的设定的参数（值），变量保存在内存中。调用的时候，直接到内存当中查找变量所在的内存地址。</p> 
<h3>变量的类型：</h3> 
<h4>自定义变量：</h4> 
<p>自定义变量 名称由用户自己定义 值也可以自定义</p> 
<p>变量名的规范：</p> 
<p>1、不要使用系统的命令作为变量名</p> 
<p>2、不要使用中文</p> 
<p>3、不要使用特殊符号开头，可以用下划线开头，不要使用数字开头</p> 
<p>4、变量名我们一般会使用对应的英文名称来使用</p> 
<p>5、变量名要保持前后一致，要有注释。提高代码的可读性。</p> 
<p>变量值：int（整数类型） string（字符串）浮点 布尔：（true false）</p> 
<p><strong>双引号，单引号，反撇号之间的作用和区别：</strong></p> 
<p>弱引用和强引用</p> 
<p>双引号，就是弱引用，变量值就是变量值本身</p> 
<p>单引号，强引用，变量值不再是本身定义的值，保持自身的字符串形式</p> 
<p>反撇号，命令替换，把命令的执行结果传给变量，作为变量的值，先执行命令，再给变量赋值。</p> 
<p>自定义输入变量的值</p> 
<pre>#自定义输入变量的值
read -p "请输入一个整数：" a
read -p "请输入一个整数：" b
c=$(($a+$b))
d=$(($a*$b))
echo $c
echo $d
​
#-p 指定提示符，提示符的内容包含在""中间,""可以为空，但是
必须要有</pre> 
<p></p> 
<h4>全局变量：</h4> 
<p>全局变量 对整个系统生效，所有用户都可以使用</p> 
<p>全局生效，每个脚本的变量值，固定的。</p> 
<p>持久性</p> 
<p>共享性</p> 
<p>全局变量适用于不需要经常更改的值。</p> 
<p>排错的方法</p> 
<p>bash -x 脚本名 （会把每一步都打印出来，这样方便定位每一步错误）</p> 
<p></p> 
<h4>环境变量</h4> 
<p>环境变量 环境变量是系统创建的，用来设置用户的工作环境。</p> 
<p>环境变量可以理解为特殊的全局变量，/etc/profile配置文件。</p> 
<p>env查看所有的环境变量</p> 
<p>[root@localhost ~]# echo $PATH /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin</p> 
<p>可执行的命令，或者可执行的程序的默认路径。</p> 
<p style="text-align:center;"></p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/03/4a/qWFzVquc_o.png"></p> 
<p></p> 
<h4>位置变量</h4> 
<p>位置变量，又叫做命令行参数，是在脚本的外面给脚本内部传值。</p> 
<p>$1 $2 $3 $4......$9</p> 
<p>从第一个到第九个</p> 
<p>10以后要用（）把数字括起来</p> 
<p>$(10)</p> 
<p></p> 
<h4>预定义变量：</h4> 
<p>预定义变量：编程语言和解释器提供的，用户无法更改。只能由系统自行更新和设备。</p> 
<p>$*和$@：表示命令或者脚本需要处理的参数。二者的区别在于区别处理方式的不同。</p> 
<p>$*和$@不加引号的表现一致，都是把参数一个一个处理。</p> 
<p>$*加了引号，会把参数当成一个整体来进行处理。</p> 
<p></p> 
<p>$#：也是一个全局变量，统计传递给脚本或者函数的参数个数</p> 
<p><strong>$?：true false 命令执行之后返回的状态码，</strong></p> 
<p>只有0，表示成功 true</p> 
<p>所有非0，都表示失败 false</p> 
<p>返回上一次执行命令的状态</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/56/f4/syeKt5Px_o.png"></p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/3e/29/oryG6o1D_o.png"></p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/3a/ae/D5OPaVFM_o.png"></p> 
<p>小数运算：bc是一个简易的系统自带的计算机程序，可以执行整数，也可以计算小数。</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/58/f9/IQY3VySf_o.png"></p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/24/36/rVz59EBY_o.png"></p> 
<p>i++：先赋值再加1</p> 
<p>++i：先加1再赋值</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b03b881cf2c248d9d5ddc3b56a238fcb/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">苹果AI一夜颠覆所有，Siri史诗级进化，内挂GPT-4o</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b0ad8835330860a9ce556e79f585eb1e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【笔记】Windows 中 一键部署本地私人专属知识库：MaxKB &#43; Docker &#43; MaxKB docker &#43; Ollama</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>