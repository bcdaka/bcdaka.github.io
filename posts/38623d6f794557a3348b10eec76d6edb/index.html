<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>安装 Android Studio 2024.1.1.6（Koala SDK35）和过程问题解决 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/38623d6f794557a3348b10eec76d6edb/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="安装 Android Studio 2024.1.1.6（Koala SDK35）和过程问题解决">
  <meta property="og:description" content="记录更新Android Studio版本及适配Android V应用配置的一些过程问题。
安装包：android-studio-2024.1.1.6-windows.exe原版本：Android Studio23.2.1.23 Koala 安装过程 Uninstall old version 不会删除原本配置（左下角提示）
Uninstall old version Android Studio Setup Choose Component Configuration Settings 可自选路径 E:\SOFTWARE\Android\Android Studio 24.1.1.6
Configuration Settings Choose Start Menu Folder 配置桌面开始图标
Choose Start Menu Folder 安装完成 ，提示马上启动
Install Complete 【问题解决】启动报错 Operation not supported: bind Start fail
Internal error. Please refer to https://issuetracker.google.com/issues/new?component=192708
java.net.SocketException: Operation not supported: bind
at java.base/sun.nio.ch.UnixDomainSockets.bind0(Native Method)
at java.base/sun.nio.ch.UnixDomainSockets.bind(UnixDomainSockets.java:129)
at java.base/sun.nio.ch.ServerSocketChannelImpl.unixBind(ServerSocketChannelImpl.java:319)
at java.base/sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:292)
at java.base/java.nio.channels.ServerSocketChannel.bind(ServerSocketChannel.java:224)">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-07-24T11:45:21+08:00">
    <meta property="article:modified_time" content="2024-07-24T11:45:21+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">安装 Android Studio 2024.1.1.6（Koala SDK35）和过程问题解决</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>记录更新Android Studio版本及适配Android V应用配置的一些过程问题。</p> 
<ul><li>安装包：android-studio-2024.1.1.6-windows.exe</li><li>原版本：Android Studio23.2.1.23</li></ul> 
<h3>Koala 安装过程</h3> 
<p>Uninstall old version 不会删除原本配置（左下角提示）</p> 
<figure class="image"> 
 <img alt="Uninstall old version" height="379" src="https://images2.imgbox.com/68/07/r2KctHQP_o.png" width="491"> 
 <figcaption>
   Uninstall old version 
 </figcaption> 
</figure> 
<figure class="image"> 
 <img alt="Android Studio Setup" height="381" src="https://images2.imgbox.com/47/42/qDnR3uEO_o.png" width="490"> 
 <figcaption>
   Android Studio Setup 
 </figcaption> 
</figure> 
<p></p> 
<figure class="image"> 
 <img alt="Choose Component" height="382" src="https://images2.imgbox.com/c5/1d/K0e5WOdo_o.png" width="492"> 
 <figcaption>
   Choose Component 
 </figcaption> 
</figure> 
<p>Configuration Settings 可自选路径 E:\SOFTWARE\Android\Android Studio 24.1.1.6</p> 
<figure class="image"> 
 <img alt="Configuration Settings" height="383" src="https://images2.imgbox.com/00/f2/UFIF6biB_o.png" width="496"> 
 <figcaption>
   Configuration Settings 
 </figcaption> 
</figure> 
<p>Choose Start Menu Folder 配置桌面开始图标</p> 
<figure class="image"> 
 <img alt="Choose Start Menu Folder" height="378" src="https://images2.imgbox.com/0f/da/vqV8JAKW_o.png" width="492"> 
 <figcaption>
   Choose Start Menu Folder 
 </figcaption> 
</figure> 
<p></p> 
<p> 安装完成 ，提示马上启动</p> 
<figure class="image"> 
 <img alt="Install Complete" height="384" src="https://images2.imgbox.com/35/35/nIH4DzjD_o.png" width="495"> 
 <figcaption>
   Install Complete 
 </figcaption> 
</figure> 
<h3>【问题解决】启动报错 <strong>Operation not supported: bind </strong></h3> 
<p>Start fail</p> 
<p><img alt="" height="415" src="https://images2.imgbox.com/58/6d/oOCSg0eC_o.png" width="804"></p> 
<blockquote> 
 <p>Internal error. Please refer to https://issuetracker.google.com/issues/new?component=192708</p> 
 <p><strong>java.net.SocketException: Operation not supported: bind</strong><br>     at java.base/sun.nio.ch.UnixDomainSockets.bind0(Native Method)<br>     at java.base/sun.nio.ch.UnixDomainSockets.bind(UnixDomainSockets.java:129)<br>     at java.base/sun.nio.ch.ServerSocketChannelImpl.unixBind(ServerSocketChannelImpl.java:319)<br>     at java.base/sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:292)<br>     at java.base/java.nio.channels.ServerSocketChannel.bind(ServerSocketChannel.java:224)<br>     at com.intellij.platform.ide.bootstrap.DirectoryLock.tryListen(DirectoryLock.java:281)<br>     at com.intellij.platform.ide.bootstrap.DirectoryLock.lockOrActivate(DirectoryLock.java:147)<br>     at com.intellij.platform.ide.bootstrap.StartupUtil$lockSystemDirs$result$1.invokeSuspend(main.kt:528)<br>     at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)<br>     at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:108)<br>     at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:115)<br>     at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:103)<br>     at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:584)<br>     at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:793)<br>     at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:697)<br>     at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:684)</p> 
 <p>-----<br> Your JRE: 17.0.10+0--11609105 amd64 (JetBrains s.r.o.)<br> E:\SOFTWARE\Android\Android Studio 24.1.1.6\jbr</p> 
</blockquote> 
<p><strong>解决方案：到bin文件下执行studio.bat打开（或者双击打开studio.bat--For Windows）</strong></p> 
<p>如路径：E:\SOFTWARE\Android\Android Studio 24.1.1.6\bin\studio.bat</p> 
<h3>IDE初始化和使用</h3> 
<p>如果没有配置SDK，打开软件就会提示</p> 
<p><img alt="" height="304" src="https://images2.imgbox.com/e3/59/DeImUQI8_o.png" width="537"></p> 
<p><img alt="" height="426" src="https://images2.imgbox.com/fa/f2/wbxz6J9K_o.png" width="475"></p> 
<p>然后打开项目的时候会提示选用Android Studio还是Project的SDK。</p> 
<p><img alt="" height="217" src="https://images2.imgbox.com/19/48/uPEqlL4B_o.png" width="394"></p> 
<blockquote> 
 <p>To keep results consistent between IDE and command line builds, only one path can be used. Do you want to: </p> 
 <p>[1] Use Android Studio's default SDK (modifies the project's local.properties file.) </p> 
 <p>[2] Use the project's SDK (modifies Android Studio's default.)  Note that switching SDKs could cause compile errors if the selected SDK doesn't have the necessary Android platforms or build tools.</p> 
</blockquote> 
<h3>【配置】SDK和Gradle</h3> 
<p>当前Android Studio无法下载高版本的SDK和Gradle，可以自行下载好然后放到相应工作路径。</p> 
<p>Android V的preview SDK和build tool，分别拷贝到SDK\build-tools和Sdk\platforms文件目录即可。那么配置项目gradle的时候需要名称对应。</p> 
<p><img alt="" height="261" src="https://images2.imgbox.com/f7/ce/IMokqqCE_o.png" width="285"><img alt="" height="120" src="https://images2.imgbox.com/ed/a9/HJ1nAfGP_o.png" width="278"></p> 
<h3>【问题解决】Namespace not specified.</h3> 
<p>Build Output</p> 
<p><img alt="" height="172" src="https://images2.imgbox.com/e5/db/5L7U8nnF_o.png" width="461"></p> 
<blockquote> 
 <p><strong>Namespace not specified. </strong>Specify a namespace in the module's build file: E:\code\Demo_hotfix\build.gradle. See https://d.android.com/r/tools/upgrade-assistant/set-namespace for information about setting the namespace.</p> 
 <p>If you've specified the package attribute in the source AndroidManifest.xml, you can use the AGP Upgrade Assistant to migrate to the namespace value in the build file. Refer to https://d.android.com/r/tools/upgrade-assistant/agp-upgrade-assistant for general information about using the AGP Upgrade Assistant.</p> 
</blockquote> 
<blockquote> 
 <p>A problem occurred configuring root project 'Demo'.<br> &gt; <strong>Could not create an instance of type com.android.build.api.variant.impl.ApplicationVariantImpl.</strong><br>    &gt; Namespace not specified. Specify a namespace in the module's build file: E:\code\Demo_hotfix\build.gradle. See https://d.android.com/r/tools/upgrade-assistant/set-namespace for information about setting the namespace.</p> 
 <p>* Try:<br> &gt; Run with --stacktrace option to get the stack trace.<br> &gt; Run with --info or --debug option to get more log output.<br> &gt; Run with --scan to get full insights.<br> &gt; Get more help at https://help.gradle.org.<br><strong>Deprecated Gradle features were used in this build, making it incompatible with Gradle 9.0.</strong><br> You can use '--warning-mode all' to show the individual deprecation warnings and determine if they come from your own scripts or plugins.<br> For more on this, please refer to https://docs.gradle.org/8.7/userguide/command_line_interface.html#sec:command_line_warnings in the Gradle documentation.<br> BUILD FAILED in 7s</p> 
</blockquote> 
<p>分析：在Android U上编译还没有命名空间的要求。</p> 
<p>解决方案：在app的build.gradle添加namespace</p> 
<pre><code class="language-TypeScript">android {
    namespace 'com.ddd.demo'
}</code></pre> 
<h3>应用Debug</h3> 
<p>当前配置</p> 
<pre><code class="language-TypeScript">//这个看着没用，kotlin才需要 添加android-
ext {
    compileSdkVersion = 'android-VanillaIceCream'
}

android {
    namespace 'com.ddd.demo'
    compileSdkPreview 'VanillaIceCream'
    //compileSdkVersion 35
    buildToolsVersion '35.0.0 rc3'
    defaultConfig {
        applicationId "com.ddd.demo"
        minSdkVersion 30
        targetSdkVersion 35
        versionName getVersionNamePrefix()
    }
}</code></pre> 
<p>修改namespace、sdk版本等配置后编译报错，其实可以通过描述Recommendation找到解决方案。</p> 
<p><img alt="" height="161" src="https://images2.imgbox.com/37/01/IPRx7KzW_o.png" width="1200"></p> 
<h4>1、[warn]compileSdkPreview</h4> 
<p>第一条只是警告，还不是报错。</p> 
<blockquote> 
 <p>compileSdkPreview = "VanillaIceCream" has not been tested with this version of the Android Gradle plugin.</p> 
 <p>This Android Gradle plugin (8.5.0-alpha08) was tested up to compileSdk = 34.</p> 
 <p><u>If you are already using the latest preview version of the Android Gradle plugin,<br> you may need to wait until a newer version with support for compileSdkPreview = "VanillaIceCream" is available.</u></p> 
 <p>For more information refer to the compatibility table:<br> https://d.android.com/r/tools/api-level-support</p> 
 <p><strong>To suppress this warning, add/update<br>     android.suppressUnsupportedCompileSdk=VanillaIceCream<br> to this project's gradle.properties.</strong></p> 
</blockquote> 
<h4>2、[error]:processDebugMainManifest ※</h4> 
<blockquote> 
 <p>&gt; Task :processDebugMainManifest FAILED<br><strong>Incorrect package="com.ddd.phone" found in source AndroidManifest.xml</strong>: E:\code\Demo_V_hotfix\AndroidManifest.xml.<br><span style="color:#fe2c24;"><strong>Setting the namespace via the package attribute in the source AndroidManifest.xml is no longer supported.</strong></span><br> Recommendation: remove package="com.ddd.phone" from the source AndroidManifest.xml: E:\code\Demo_V_hotfix\AndroidManifest.xml.</p> 
 <p>Execution failed for task ':processDebugMainManifest'.<br> &gt; Incorrect package="com.ddd.phone" found in source AndroidManifest.xml: E:\code\Demo_V_hotfix\AndroidManifest.xml.<br>   Setting the namespace via the package attribute in the source AndroidManifest.xml is no longer supported.<br>   Recommendation: remove package="com.ddd.phone" from the source AndroidManifest.xml: E:\code\Demo_V_hotfix\AndroidManifest.xml.</p> 
 <p>* Try:<br> &gt; Run with --stacktrace option to get the stack trace.<br> &gt; Run with --info or --debug option to get more log output.<br> &gt; Run with --scan to get full insights.<br> &gt; Get more help at https://help.gradle.org.<br> Deprecated Gradle features were used in this build, making it incompatible with Gradle 9.0.<br> You can use '--warning-mode all' to show the individual deprecation warnings and determine if they come from your own scripts or plugins.<br> For more on this, please refer to https://docs.gradle.org/8.7/userguide/command_line_interface.html#sec:command_line_warnings in the Gradle documentation.<br> BUILD FAILED in 717ms<br> 44 actionable tasks: 1 executed, 43 up-to-date</p> 
</blockquote> 
<p>解决：将build.gradle的命名空间跟AndroidManifest.xml配置的packages内容一致。</p> 
<h4>3、[error]Incorrect package="xxxx" found in AndroidManifest.xml</h4> 
<p>是因为定义了不同的命名空间和进程包名等，虽然说建议移除AndroidManifest中的packages配置，但是根由不是这个，解决了问题2就能解决此问题。</p> 
<blockquote> 
 <p>Incorrect package="com.ddd.phone" found in source AndroidManifest.xml: E:\code\Demo_V_hotfix\AndroidManifest.xml.<br> Setting the namespace via the package attribute in the source AndroidManifest.xml is no longer supported.<br><strong>Recommendation: remove package="com.ddd.phone" from the source AndroidManifest.xml: E:\code\Demo_V_hotfix\AndroidManifest.xml.</strong></p> 
</blockquote> 
<p></p> 
<h3>其他</h3> 
<p>官方说明 ：<a href="https://developer.android.google.cn/about/versions/15/setup-sdk?hl=zh-cn" rel="nofollow" title="设置 Android 15 SDK  |  Android Developers">设置 Android 15 SDK  |  Android Developers</a></p> 
<pre><code class="language-TypeScript">//更改 gradle 配置：
//AGP &gt; 7.0.0:
//groovy:
android {
    compileSdkPreview "VanillaIceCream"
    ...
    defaultConfig {
        targetSdkPreview "VanillaIceCream"
    }
}


//kotlin:
android {
    compileSdkPreview = "VanillaIceCream"
    ...
    defaultConfig {
        targetSdkPreview = "VanillaIceCream"
    }
}


//AGP 4.2.0 或更低：
//groovy:
android {
    compileSdkVersion "android-VanillaIceCream"
    ...
    defaultConfig {
        targetSdkVersion "android-VanillaIceCream"
    }
}


//kotlin:
android {
    compileSdkPreview = "android-VanillaIceCream"
    ...
    defaultConfig {
        targetSdkPreview = "android-VanillaIceCream"
    }
}</code></pre> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/14d4837ec7a2b16e20fa3789e5d4f043/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【区块链&#43;绿色低碳】基于区块链的碳排放管理系统 | FISCO BCOS应用案例</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/5912035d2a8743a65c761a263c1b0adf/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【笔记】Android Studio 版本信息</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>