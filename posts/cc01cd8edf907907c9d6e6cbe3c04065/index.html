<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Spring AI 来了，打造Java生态大模型应用开发新框架！ - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/cc01cd8edf907907c9d6e6cbe3c04065/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="Spring AI 来了，打造Java生态大模型应用开发新框架！">
  <meta property="og:description" content="▼最近直播超级多，预约保你有收获
尽管 Python 长期主导 AI 大模型应用开发领域，但 Java 并未熄火！Spring AI 来了，正式告别实验期，迈向广泛应用新阶段！这意味着 Spring 生态体系的广大开发者，迎来 AI 大模型应用开发的新里程。
—1—
Spring AI 开发框架设计理念
Spring AI 是一个 AI 工程师的应用框架，它提供了一个友好的 API 和开发 AI 应用的抽象，旨在简化 AI 大模型应用的开发工作。
Spring AI 吸取了知名 Python 项目的精髓，比如：LangChain 和 LlamaIndex。Spring AI 是基于这样一个理念创立的：未来的 AI 大模型应用将不仅限于 Python 开发者，而且会普及到多种编程语言中。Spring AI 的核心是提供了开发 AI 大模型应用所需的基本抽象模型，这些抽象拥有多种实现方式，使得开发者可以用很少的代码改动就能实现组件的轻松替换。
Spring AI 主要功能特性如下：
第一、对主流 AI 大模型供应商提供了支持，比如：OpenAI、Microsoft、Amazon、Google HuggingFace、Ollama、MistralAI 支持，目前对国内大模型支持还不友好。
第二、支持 AI 大模型类型包括：聊天、文本到图像、文本到声音，比如：OpenAI with DALL-E、StabilityAI 等。
第三、支持主流的 Embedding Model 和向量数据库，比如：Azure Vector Search、Chroma、Milvus、Neo4j、PostgreSQL/PGVector、PineCone、Redis 等。
第四、把 AI 大模型输出映射到简单的 Java 对象（POJOs）上。">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-04-07T08:18:09+08:00">
    <meta property="article:modified_time" content="2024-04-07T08:18:09+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Spring AI 来了，打造Java生态大模型应用开发新框架！</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div id="js_content"> 
 <p style="text-align:center;">▼最近直播超级多，<strong>预约</strong>保你有收获</p> 
 <p style="text-align:center;"><img src="https://images2.imgbox.com/ae/d6/mX5Pb7t9_o.png" alt="c94fd25c60d7746713d1259156286099.png"></p> 
 <p>尽管 Python 长期主导 AI 大模型应用开发领域，但 Java 并未熄火！Spring AI 来了，正式告别实验期，迈向广泛应用新阶段！这意味着 Spring 生态体系的广大开发者，迎来 AI 大模型应用开发的新里程。</p> 
 <p style="text-align:center;"><img src="https://images2.imgbox.com/5e/5d/KjbZwTm0_o.png" alt="6a1a51bd745e49dd28bd939b549fd911.png"></p> 
 <p style="text-align:center;"><em><strong> <em>—</em>1</strong></em><em>—</em><em></em></p> 
 <p style="text-align:center;"><strong><strong>Spring AI 开发框架设计理念</strong></strong></p> 
 <p>Spring AI 是一个 AI 工程师的应用框架，它提供了一个友好的 API 和开发 AI 应用的抽象，旨在简化 AI 大模型应用的开发工作。</p> 
 <p>Spring AI 吸取了知名 Python 项目的精髓，比如：LangChain 和 LlamaIndex。Spring AI 是基于这样一个理念创立的：未来的 AI 大模型应用将不仅限于 Python 开发者，而且会普及到多种编程语言中。Spring AI 的核心是提供了开发 AI 大模型应用所需的基本抽象模型，这些抽象拥有多种实现方式，使得开发者可以用很少的代码改动就能实现组件的轻松替换。</p> 
 <p style="text-align:center;"><img src="https://images2.imgbox.com/7c/ea/wNLJtyW1_o.png" alt="e0df75d5896a321e8b87154066674242.png"></p> 
 <p>Spring AI <strong>主要功能特性</strong>如下：</p> 
 <p><strong>第一</strong>、对主流 AI 大模型供应商提供了支持，比如：OpenAI、Microsoft、Amazon、Google HuggingFace、Ollama、MistralAI 支持，目前对国内大模型支持还不友好。</p> 
 <p><strong>第二</strong>、支持 AI 大模型类型包括：聊天、文本到图像、文本到声音，比如：OpenAI with DALL-E、StabilityAI 等。</p> 
 <p><strong>第三</strong>、支持主流的 Embedding Model 和向量数据库，比如：Azure Vector Search、Chroma、Milvus、Neo4j、PostgreSQL/PGVector、PineCone、Redis 等。</p> 
 <p><strong>第四</strong>、把 AI 大模型输出映射到简单的 Java 对象（POJOs）上。</p> 
 <p><strong>第五</strong>、支持了函数调用（Function calling）功能。</p> 
 <p><strong>第六</strong>、为数据工程提供 ETL（数据抽取、转换和加载）框架。</p> 
 <p><strong>第七</strong>、支持 Spring Boot 自动配置和快速启动，便于运行 AI 模型和管理向量库。</p> 
 <p>当前，Spring AI 最新版本为 0.8.1，具体使用也比较简单，符合 Java 开发者的开发习惯。</p> 
 <p>更详细的特性在这里：<strong>https://spring.io/projects/spring-ai</strong></p> 
 <p style="text-align:center;"><em><strong> <em>—</em>2</strong></em><em>—</em><em></em></p> 
 <p style="text-align:center;"><strong>Spring AI 应用开发案例</strong></p> 
 <p>接下来我们来看3个具体的开发案例，Spring AI 最新版本为 0.8.1，具体使用也比较简单，符合 Java 开发者的开发习惯。</p> 
 <p><strong>案例一：基于大模型的对话应用开发</strong></p> 
 <pre class="has"><code class="language-kotlin">package org.springframework.ai.openai.samples.helloworld.simple;


import org.springframework.ai.chat.ChatClient;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RequestParam;
import org.springframework.web.bind.annotation.RestController;


import java.util.Map;


@RestController
public class SimpleAiController {


  private final ChatClient chatClient;


  @Autowired
  public SimpleAiController(ChatClient chatClient) {
    this.chatClient = chatClient;
  }


  @GetMapping("/ai/simple")
  public Map&lt;String, String&gt; completion(@RequestParam(value = "message", defaultValue = "Tell me a joke") String message) {
    return Map.of("generation", chatClient.call(message));
  }
}</code></pre> 
 <p><strong>案例二：RAG 检索增强应用开发</strong></p> 
 <pre class="has"><code class="language-swift">package org.springframework.samples.ai.azure.openai.rag;


import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.ai.client.AiClient;
import org.springframework.ai.client.AiResponse;
import org.springframework.ai.client.Generation;
import org.springframework.ai.document.Document;
import org.springframework.ai.embedding.EmbeddingClient;
import org.springframework.ai.loader.impl.JsonLoader;
import org.springframework.ai.prompt.Prompt;
import org.springframework.ai.prompt.SystemPromptTemplate;
import org.springframework.ai.prompt.messages.Message;
import org.springframework.ai.prompt.messages.UserMessage;
import org.springframework.ai.retriever.impl.VectorStoreRetriever;
import org.springframework.ai.vectorstore.VectorStore;
import org.springframework.ai.vectorstore.impl.InMemoryVectorStore;
import org.springframework.beans.factory.annotation.Value;
import org.springframework.core.io.Resource;


import java.util.List;
import java.util.Map;
import java.util.stream.Collectors;


public class RagService {


    private static final Logger logger = LoggerFactory.getLogger(RagService.class);


    @Value("classpath:/data/bikes.json")
    private Resource bikesResource;


    @Value("classpath:/prompts/system-qa.st")
    private Resource systemBikePrompt;


    private final AiClient aiClient;
    private final EmbeddingClient embeddingClient;


    public RagService(AiClient aiClient, EmbeddingClient embeddingClient) {
        this.aiClient = aiClient;
        this.embeddingClient = embeddingClient;
    }


    public Generation retrieve(String message) {


        // Step 1 - Load JSON document as Documents


        logger.info("Loading JSON as Documents");
        JsonLoader jsonLoader = new JsonLoader(bikesResource,
                "name", "price", "shortDescription", "description");
        List&lt;Document&gt; documents = jsonLoader.load();
        logger.info("Loading JSON as Documents");


        // Step 2 - Create embeddings and save to vector store


        logger.info("Creating Embeddings...");
        VectorStore vectorStore = new InMemoryVectorStore(embeddingClient);
        vectorStore.add(documents);
        logger.info("Embeddings created.");


        // Step 3 retrieve related documents to query


        VectorStoreRetriever vectorStoreRetriever = new VectorStoreRetriever(vectorStore);
        logger.info("Retrieving relevant documents");
        List&lt;Document&gt; similarDocuments = vectorStoreRetriever.retrieve(message);
        logger.info(String.format("Found %s relevant documents.", similarDocuments.size()));


        // Step 4 Embed documents into SystemMessage with the `system-qa.st` prompt template


        Message systemMessage = getSystemMessage(similarDocuments);
        UserMessage userMessage = new UserMessage(message);


        // Step 4 - Ask the AI model


        logger.info("Asking AI model to reply to question.");
        Prompt prompt = new Prompt(List.of(systemMessage, userMessage));
        logger.info(prompt.toString());
        AiResponse response = aiClient.generate(prompt);
        logger.info("AI responded.");
        logger.info(response.getGeneration().toString());
        return response.getGeneration();
    }


    private Message getSystemMessage(List&lt;Document&gt; similarDocuments) {


        String documents = similarDocuments.stream().map(entry -&gt; entry.getContent()).collect(Collectors.joining("\n"));
        SystemPromptTemplate systemPromptTemplate = new SystemPromptTemplate(systemBikePrompt);
        Message systemMessage = systemPromptTemplate.createMessage(Map.of("documents", documents));
        return systemMessage;


    }
}</code></pre> 
 <p><strong>案例三：Function Calling Agent 应用开发</strong></p> 
 <p>Spring AI Function Calling 函数调用工作流程如下图所示：包含了 Prompt 提示词、大模型、业务服务 API、回调、大模型响应等核心模块。</p> 
 <p><img src="https://images2.imgbox.com/e9/4f/4v9jyeDZ_o.jpg" alt="7e8bb70c25b535a4f3d0cf5ddbd3609e.jpeg"></p> 
 <p>为了帮助同学们彻底掌握大模型的 Agent 智能体、向量数据库、RAG 的<strong>应用开发、部署、生产化</strong>，今晚20点我会开一场直播和同学们深度剖析，请同学们点击以下<strong>预约按钮免费预约</strong>。</p> 
 <p style="text-align:center;"><em><strong> <em>—</em>3</strong></em><em>—</em></p> 
 <p style="text-align:center;"><strong>!送！</strong><strong>AI大模型开发直播课程</strong></p> 
 <p>大模型的技术体系非常复杂，即使有了知识图谱和学习路线后，快速掌握并不容易，我们打造了大模型应用技术的系列直播课程，包括：<strong>通用大模型技术架构原理、大模型 Agent 应用开发、企业私有大模型开发、向量数据库、大模型应用治理、大模型应用行业落地案例</strong>等6项核心技能，帮助同学们快速掌握 AI 大模型的技能。</p> 
 <p style="text-align:center;"><strong> 🔥即将开播 </strong></p> 
 <p style="text-align:center;"><strong>立即扫码，</strong><strong>即可</strong><strong>免费</strong><strong>预约</strong></p> 
 <p style="text-align:center;"><strong>进入直播，大佬直播在线答疑！</strong></p> 
 <p><img src="https://images2.imgbox.com/ac/d6/gr1qkMLI_o.gif" alt="48219c91597acf635db5000d1ae367b3.gif"></p> 
 <p style="text-align:center;"><strong><img src="https://images2.imgbox.com/8e/06/5ibUNphe_o.png" alt="c4d6cb7c90d61a6967cada181faa424f.png"></strong></p> 
 <p style="text-align:center;">本期名额有限</p> 
 <p style="text-align:center;"><strong>高度起始于速度</strong><strong>（手慢无！！）</strong></p> 
 <p style="text-align:center;"><em><strong> <em>—</em>4</strong></em><em>—</em></p> 
 <p style="text-align:center;"><strong>!!再送!!</strong><strong>《AI <strong>大模型技术知识图谱</strong>》</strong></p> 
 <p>最近很多同学在后台留言：“玄姐，AI 大模型技术的知识图谱有没？”、“AI 大模型技术有学习路线吗？”</p> 
 <p>我们倾心整理了 AI 大模型技术的知识图谱快来领取吧！</p> 
 <p><img src="https://images2.imgbox.com/39/ab/mBsjw32T_o.png" alt="157b3ad0e23644740102368cf1a15667.png"></p> 
 <p><strong>这份业界首创知识图谱和学习路线，</strong>今天<strong>免费</strong>送给大家一份!</p> 
 <p>只需要以下<strong>3步</strong>操作就可免费领取：<br></p> 
 <p><strong>第一步</strong>：<strong>长按扫码</strong><strong>以下我的视频号：玄姐谈AGI</strong></p> 
 <p style="text-align:center;"><img src="https://images2.imgbox.com/af/01/Qpk1o9Wj_o.png" alt="376d79795b24202966d3273e28c5274b.png"></p> 
 <p><strong>第二步：扫码后，点击以下关注按钮，就可关注我。</strong></p> 
 <p style="text-align:center;"><img src="https://images2.imgbox.com/f7/e6/NhiwV0XB_o.jpg" alt="c775d523784177557a6449e6bc1d41a5.jpeg"></p> 
 <p><strong>第三步：点击"客服“按钮，回复</strong>“<strong>知识图谱</strong>”<strong>即可领取。</strong></p> 
 <p style="text-align:center;"><img src="https://images2.imgbox.com/7d/f4/azs7P6Zf_o.jpg" alt="aaa3468eef45f1e26e749cb089d3fc72.jpeg"></p> 
 <p>END</p> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/94e0206b49df3f4b7acdb73c9eb299d1/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">常见的SQL面试题：经典50例</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/1c7047492b4e88344cc69f78fe3ed5f9/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Android：手把手带你入门跨平台UI开发框架Flutter，看完这篇</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>