<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【qt】考试系统项目 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/c45a7b6b754a839925491716d5a661a9/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="【qt】考试系统项目">
  <meta property="og:description" content="话不多说,先一睹芳颜
咱们的账号,题库和答案都是通过文件获取的.
话不多说,直接开干
目录 一.登录窗口1.界面设计2.邮箱验证3.登录验证 二.题库窗口1.考试计时2.布局管理器3.题库显示4.按钮布局5.计算分数 三.窗口交互四.完整代码五.结语 一.登录窗口 1.界面设计 这里添加背景图片.
密码输入模式和提示语句.
注意:背景图标放在的标签必须要第一个,不然会盖住其他组件.
2.邮箱验证 用正则表达式来进行判断.
3.登录验证 第一行读取的话,要跳过,我们不用.
中间有多个空格,所以我们可以使用正则表达式来进行匹配来获取子串.
如果循环完都没有找到就说明我们输入的账号有问题,所以这个是循环读取外面加的.
二.题库窗口 1.考试计时 需要用到计时器
每隔一秒,我们就发出timeout()这个信号.
然后计算分秒来设置在窗口的标题上.
对窗口进行一点的渲染.
2.布局管理器 这是一个神器,当我们用代码来写组件的时候,有了它,你可以高枕无忧的布局.
下面我们布局组件的时候可以来看布局管理器怎么使用.
3.题库显示 定义了这个来保存我们的答案,方便我们后面计算分数.
添加到组件上,并使用布局管理器.
第一个参数是要添加布局的组件
第二三个参数是这个组件的位置,可以把布局管理器理解成一个表格,从0行0列开始
第四五哥参数是这个组件所占的行数和列数.
4.按钮布局 用的组件数组来初始化.
初始化单选题的时候,我们要进行分组,这样才可以每个题选一项.
同时添加到布局管理器中.
初始化按钮并关联槽函数,来计算分数.
5.计算分数 在计算分数前,我们先来判断是否所有的题都已答完,若没有就继续.
单选题只需要判断每个单选组里面有没有选择的即可.
多选题记一下数,看是不是大于等于2即可
接下来就是正式的算分了.
多选题的算分比较复杂
先获取答案中有那些选项,我们用bool类型来设置状态.
然后与多选框的每个选项状态一一对比.
完全一样才得分.
单选题和判断题都从按钮组中获取到文本来与我们先前获取到的答案进行对比.
显示分数,并给用户选择是否重新答题.
三.窗口交互 现在,我们的两个窗口都写好了,怎么衔接起来呢?
这个可以关闭当前的窗口,并返回一种用户点击的信息.
在main中用模态的方式,来进行接受信息.
并构造我们的考试窗口.
在考试窗口的构造函数中进行显示,以防未初始化窗口就进行显示.
四.完整代码 examdialog.h
#ifndef EXAMDIALOG_H #define EXAMDIALOG_H #include &lt;QDialog&gt; #include &lt;QTimer&gt; #include &lt;QGridLayout&gt; #include &lt;QTextEdit&gt; #include &lt;QRadioButton&gt; #include &lt;QCheckBox&gt; #include &lt;QPushButton&gt; #include &lt;QLabel&gt; #include &lt;QButtonGroup&gt; class ExamDialog : public QDialog { Q_OBJECT public: ExamDialog(QWidget *parent=0); void initTimer(); void initLayout(); bool initTextEdit(); void initButton(); bool hasSelected(); void getScores(); private: QTimer*m_timer; int m_sec=0; QGridLayout*m_layout; QTextEdit*m_textEdit; QLabel*m_label[10]; QRadioButton*m_radioBtn[32]; QRadioButton*m_radioA; QRadioButton*m_radioB; QCheckBox*m_CheckBoxBtn[4]; QStringList answers; QButtonGroup*BtnGroup[9]; private slots: void onTimeout(); void onBtn(); }; #endif // EXAMDIALOG_H examdialog.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-07-14T16:42:05+08:00">
    <meta property="article:modified_time" content="2024-07-14T16:42:05+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【qt】考试系统项目</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>话不多说,先一睹芳颜<br> <img src="https://images2.imgbox.com/c6/21/0u1FIRBN_o.gif" alt="在这里插入图片描述"></p> 
<p>咱们的账号,题库和答案都是通过文件获取的.<br> 话不多说,直接开干<br> </p> 
<div class="toc"> 
 <h4>目录</h4> 
 <ul><li><a href="#_6" rel="nofollow">一.登录窗口</a></li><li><ul><li><a href="#1_7" rel="nofollow">1.界面设计</a></li><li><a href="#2_16" rel="nofollow">2.邮箱验证</a></li><li><a href="#3_21" rel="nofollow">3.登录验证</a></li></ul> 
  </li><li><a href="#_32" rel="nofollow">二.题库窗口</a></li><li><ul><li><a href="#1_33" rel="nofollow">1.考试计时</a></li><li><a href="#2_45" rel="nofollow">2.布局管理器</a></li><li><a href="#3_50" rel="nofollow">3.题库显示</a></li><li><a href="#4_64" rel="nofollow">4.按钮布局</a></li><li><a href="#5_77" rel="nofollow">5.计算分数</a></li></ul> 
  </li><li><a href="#_98" rel="nofollow">三.窗口交互</a></li><li><a href="#_111" rel="nofollow">四.完整代码</a></li><li><a href="#_568" rel="nofollow">五.结语</a></li></ul> 
</div> 
<p></p> 
<h2><a id="_6"></a>一.登录窗口</h2> 
<h3><a id="1_7"></a>1.界面设计</h3> 
<p><img src="https://images2.imgbox.com/7c/88/D0ieBO2l_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/78/64/uhnkosbC_o.png" alt="在这里插入图片描述"><br> 这里添加背景图片.<br> <img src="https://images2.imgbox.com/de/23/5jLV1go6_o.png" alt="在这里插入图片描述"><br> 密码输入模式和提示语句.<br> <img src="https://images2.imgbox.com/8f/c8/Np60UhbD_o.png" alt="在这里插入图片描述"></p> 
<p>注意:背景图标放在的标签必须要第一个,不然会盖住其他组件.</p> 
<h3><a id="2_16"></a>2.邮箱验证</h3> 
<p><img src="https://images2.imgbox.com/f9/9f/locBcYZx_o.png" alt="在这里插入图片描述"></p> 
<p>用正则表达式来进行判断.</p> 
<h3><a id="3_21"></a>3.登录验证</h3> 
<p><img src="https://images2.imgbox.com/e5/e3/WXRJoYF4_o.png" alt="在这里插入图片描述"><br> 第一行读取的话,要跳过,我们不用.<br> <img src="https://images2.imgbox.com/97/96/KYNS3OkE_o.png" alt="在这里插入图片描述"><br> 中间有多个空格,所以我们可以使用正则表达式来进行匹配来获取子串.</p> 
<p><img src="https://images2.imgbox.com/14/5d/ORJwwURM_o.png" alt="在这里插入图片描述"><br> 如果循环完都没有找到就说明我们输入的账号有问题,所以这个是循环读取外面加的.</p> 
<h2><a id="_32"></a>二.题库窗口</h2> 
<h3><a id="1_33"></a>1.考试计时</h3> 
<p>需要用到计时器<br> <img src="https://images2.imgbox.com/b1/d8/FRyOJVoo_o.png" alt="在这里插入图片描述"><br> 每隔一秒,我们就发出<strong>timeout</strong>()这个信号.<br> <img src="https://images2.imgbox.com/e9/e3/D95uTsG1_o.png" alt="在这里插入图片描述"><br> 然后计算分秒来设置在窗口的标题上.</p> 
<p><img src="https://images2.imgbox.com/9a/9f/8khh8mPZ_o.png" alt="在这里插入图片描述"><br> 对窗口进行一点的渲染.</p> 
<h3><a id="2_45"></a>2.布局管理器</h3> 
<p>这是一个神器,当我们用代码来写组件的时候,有了它,你可以高枕无忧的布局.<br> <img src="https://images2.imgbox.com/3d/6f/QMrnT3ff_o.png" alt="在这里插入图片描述"><br> 下面我们布局组件的时候可以来看布局管理器怎么使用.</p> 
<h3><a id="3_50"></a>3.题库显示</h3> 
<p><img src="https://images2.imgbox.com/07/1c/miF6NQt2_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/0f/1f/PJqApZtO_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/f4/58/vLozowWS_o.png" alt="在这里插入图片描述"><br> 定义了这个来保存我们的答案,方便我们后面计算分数.</p> 
<p><img src="https://images2.imgbox.com/74/4a/GNBsbJ9F_o.png" alt="在这里插入图片描述"><br> 添加到组件上,并使用布局管理器.<br> 第一个参数是要添加布局的组件<br> 第二三个参数是这个组件的位置,可以把布局管理器理解成一个表格,从0行0列开始<br> 第四五哥参数是这个组件所占的行数和列数.</p> 
<h3><a id="4_64"></a>4.按钮布局</h3> 
<p><img src="https://images2.imgbox.com/5c/ed/UbJCIA4W_o.png" alt="在这里插入图片描述"><br> 用的组件数组来初始化.</p> 
<p><img src="https://images2.imgbox.com/db/98/UMKWa5Eu_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/77/4d/xAss6GYL_o.png" alt="在这里插入图片描述"><br> 初始化单选题的时候,我们要进行分组,这样才可以每个题选一项.<br> 同时添加到布局管理器中.</p> 
<p><img src="https://images2.imgbox.com/35/28/FaSUsrPG_o.png" alt="在这里插入图片描述"><br> 初始化按钮并关联槽函数,来计算分数.</p> 
<h3><a id="5_77"></a>5.计算分数</h3> 
<p><img src="https://images2.imgbox.com/96/d0/JOZTeq8n_o.png" alt="在这里插入图片描述"><br> 在计算分数前,我们先来判断是否所有的题都已答完,若没有就继续.<br> <img src="https://images2.imgbox.com/93/c6/vaCDrneW_o.png" alt="在这里插入图片描述"><br> 单选题只需要判断每个单选组里面有没有选择的即可.<br> 多选题记一下数,看是不是大于等于2即可</p> 
<p>接下来就是正式的算分了.<br> 多选题的算分比较复杂<br> <img src="https://images2.imgbox.com/25/49/TozzMjT6_o.png" alt="在这里插入图片描述"><br> 先获取答案中有那些选项,我们用bool类型来设置状态.<br> 然后与多选框的每个选项状态一一对比.<br> 完全一样才得分.</p> 
<p><img src="https://images2.imgbox.com/31/76/zIx2IWtF_o.png" alt="在这里插入图片描述"><br> 单选题和判断题都从按钮组中获取到文本来与我们先前获取到的答案进行对比.<br> <img src="https://images2.imgbox.com/da/85/UwCCWifz_o.png" alt="在这里插入图片描述"><br> 显示分数,并给用户选择是否重新答题.</p> 
<h2><a id="_98"></a>三.窗口交互</h2> 
<p>现在,我们的两个窗口都写好了,怎么衔接起来呢?<br> <img src="https://images2.imgbox.com/44/82/IN94n3yo_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/6f/69/cne5oIa5_o.png" alt="在这里插入图片描述"><br> 这个可以关闭当前的窗口,并返回一种用户点击的信息.</p> 
<p><img src="https://images2.imgbox.com/d8/09/ml2Te5ry_o.png" alt="在这里插入图片描述"><br> 在main中用模态的方式,来进行接受信息.<br> 并构造我们的考试窗口.<br> 在考试窗口的构造函数中进行显示,以防未初始化窗口就进行显示.<br> <img src="https://images2.imgbox.com/01/84/X0lAnFJb_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_111"></a>四.完整代码</h2> 
<p>examdialog.h</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">EXAMDIALOG_H</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">EXAMDIALOG_H</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QDialog&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QTimer&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QGridLayout&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QTextEdit&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QRadioButton&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QCheckBox&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QPushButton&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QLabel&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QButtonGroup&gt;</span></span>

<span class="token keyword">class</span> <span class="token class-name">ExamDialog</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">QDialog</span></span>
<span class="token punctuation">{<!-- --></span>
    Q_OBJECT
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token function">ExamDialog</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">initTimer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">initLayout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">bool</span> <span class="token function">initTextEdit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">initButton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">bool</span> <span class="token function">hasSelected</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">getScores</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">private</span><span class="token operator">:</span>
    QTimer<span class="token operator">*</span>m_timer<span class="token punctuation">;</span>
    <span class="token keyword">int</span> m_sec<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    QGridLayout<span class="token operator">*</span>m_layout<span class="token punctuation">;</span>
    QTextEdit<span class="token operator">*</span>m_textEdit<span class="token punctuation">;</span>
    QLabel<span class="token operator">*</span>m_label<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    QRadioButton<span class="token operator">*</span>m_radioBtn<span class="token punctuation">[</span><span class="token number">32</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    QRadioButton<span class="token operator">*</span>m_radioA<span class="token punctuation">;</span>
    QRadioButton<span class="token operator">*</span>m_radioB<span class="token punctuation">;</span>
    QCheckBox<span class="token operator">*</span>m_CheckBoxBtn<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    QStringList answers<span class="token punctuation">;</span>
    QButtonGroup<span class="token operator">*</span>BtnGroup<span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">;</span>


<span class="token keyword">private</span> slots<span class="token operator">:</span>
    <span class="token keyword">void</span> <span class="token function">onTimeout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">onBtn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span> <span class="token comment">// EXAMDIALOG_H</span></span>

</code></pre> 
<p>examdialog.cpp</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"examdialog.h"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QApplication&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QFile&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QTextStream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QMessageBox&gt;</span></span>

<span class="token class-name">ExamDialog</span><span class="token double-colon punctuation">::</span><span class="token function">ExamDialog</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent<span class="token punctuation">)</span><span class="token operator">:</span><span class="token function">QDialog</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token function">resize</span><span class="token punctuation">(</span><span class="token number">800</span><span class="token punctuation">,</span><span class="token number">900</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">setWindowTitle</span><span class="token punctuation">(</span><span class="token string">"已考试: 0分0秒"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    QFont font<span class="token punctuation">;</span>
    font<span class="token punctuation">.</span><span class="token function">setPointSize</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">setFont</span><span class="token punctuation">(</span>font<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">setPalette</span><span class="token punctuation">(</span><span class="token function">QPalette</span><span class="token punctuation">(</span><span class="token function">QColor</span><span class="token punctuation">(</span><span class="token number">213</span><span class="token punctuation">,</span><span class="token number">81</span><span class="token punctuation">,</span><span class="token number">213</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">setWindowFlags</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>Dialog<span class="token operator">|</span>Qt<span class="token double-colon punctuation">::</span>WindowCloseButtonHint<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">initTimer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">initLayout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">initTextEdit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">QTimer</span><span class="token double-colon punctuation">::</span><span class="token function">singleShot</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>qApp<span class="token punctuation">,</span><span class="token function">SLOT</span><span class="token punctuation">(</span><span class="token function">quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">initButton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//都初始化成功,我才显示.</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token class-name">ExamDialog</span><span class="token double-colon punctuation">::</span><span class="token function">initTimer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    m_timer<span class="token operator">=</span><span class="token keyword">new</span> <span class="token function">QTimer</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    m_timer<span class="token operator">-&gt;</span><span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    m_timer<span class="token operator">-&gt;</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">connect</span><span class="token punctuation">(</span>m_timer<span class="token punctuation">,</span><span class="token function">SIGNAL</span><span class="token punctuation">(</span><span class="token function">timeout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">,</span><span class="token function">SLOT</span><span class="token punctuation">(</span><span class="token function">onTimeout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token class-name">ExamDialog</span><span class="token double-colon punctuation">::</span><span class="token function">initLayout</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    m_layout<span class="token operator">=</span><span class="token keyword">new</span> <span class="token function">QGridLayout</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    m_layout<span class="token operator">-&gt;</span><span class="token function">setSpacing</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    m_layout<span class="token operator">-&gt;</span><span class="token function">setMargin</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">bool</span> <span class="token class-name">ExamDialog</span><span class="token double-colon punctuation">::</span><span class="token function">initTextEdit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    m_textEdit<span class="token operator">=</span><span class="token keyword">new</span> <span class="token function">QTextEdit</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    m_textEdit<span class="token operator">-&gt;</span><span class="token function">setReadOnly</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    QString fileName<span class="token operator">=</span><span class="token string">"../tk.txt"</span><span class="token punctuation">;</span>
    QFile <span class="token function">file</span><span class="token punctuation">(</span>fileName<span class="token punctuation">)</span><span class="token punctuation">;</span>
    QTextStream <span class="token function">stream</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>
    stream<span class="token punctuation">.</span><span class="token function">setCodec</span><span class="token punctuation">(</span><span class="token string">"UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>file<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>QIODevice<span class="token double-colon punctuation">::</span>ReadOnly<span class="token operator">|</span>QIODevice<span class="token double-colon punctuation">::</span>Text<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

    QString line<span class="token punctuation">;</span>
    QStringList list<span class="token punctuation">;</span>
    QString passage<span class="token punctuation">;</span>
    <span class="token keyword">int</span> nline<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>stream<span class="token punctuation">.</span><span class="token function">atEnd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>nline<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            stream<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            nline<span class="token operator">++</span><span class="token punctuation">;</span>
            <span class="token keyword">continue</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>nline<span class="token operator">&gt;=</span><span class="token number">6</span><span class="token operator">&amp;&amp;</span>nline<span class="token operator">&lt;=</span><span class="token number">6</span><span class="token operator">*</span><span class="token number">9</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>nline<span class="token operator">%</span><span class="token number">6</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token punctuation">(</span>nline<span class="token operator">==</span><span class="token number">6</span><span class="token operator">*</span><span class="token number">9</span><span class="token operator">+</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            line<span class="token operator">=</span>stream<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            list<span class="token operator">=</span>line<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            answers<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>list<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//服了</span>
            passage<span class="token operator">+=</span><span class="token string">"\n"</span><span class="token punctuation">;</span>
            nline<span class="token operator">++</span><span class="token punctuation">;</span>
            <span class="token keyword">continue</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        line<span class="token operator">=</span>stream<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        passage<span class="token operator">+=</span>line<span class="token punctuation">;</span>
        passage<span class="token operator">+=</span><span class="token string">"\n"</span><span class="token punctuation">;</span>
        nline<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    m_textEdit<span class="token operator">-&gt;</span><span class="token function">setText</span><span class="token punctuation">(</span>passage<span class="token punctuation">)</span><span class="token punctuation">;</span>
    m_layout<span class="token operator">-&gt;</span><span class="token function">addWidget</span><span class="token punctuation">(</span>m_textEdit<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    file<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token class-name">ExamDialog</span><span class="token double-colon punctuation">::</span><span class="token function">initButton</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    QStringList chooseList<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token string">"A"</span><span class="token punctuation">,</span><span class="token string">"B"</span><span class="token punctuation">,</span><span class="token string">"C"</span><span class="token punctuation">,</span><span class="token string">"D"</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">10</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        m_label<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span><span class="token keyword">new</span> <span class="token function">QLabel</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        m_label<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">-&gt;</span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">"第"</span><span class="token operator">+</span><span class="token class-name">QString</span><span class="token double-colon punctuation">::</span><span class="token function">number</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"题"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        m_layout<span class="token operator">-&gt;</span><span class="token function">addWidget</span><span class="token punctuation">(</span>m_label<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">==</span><span class="token number">8</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span><span class="token number">4</span><span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                m_CheckBoxBtn<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span><span class="token keyword">new</span> <span class="token function">QCheckBox</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                m_CheckBoxBtn<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">-&gt;</span><span class="token function">setText</span><span class="token punctuation">(</span>chooseList<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                m_layout<span class="token operator">-&gt;</span><span class="token function">addWidget</span><span class="token punctuation">(</span>m_CheckBoxBtn<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span>j<span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">,</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">continue</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">==</span><span class="token number">9</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            m_radioA<span class="token operator">=</span><span class="token keyword">new</span> <span class="token function">QRadioButton</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            m_radioA<span class="token operator">-&gt;</span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">"对"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            m_radioB<span class="token operator">=</span><span class="token keyword">new</span> <span class="token function">QRadioButton</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            m_radioB<span class="token operator">-&gt;</span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">"错"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            BtnGroup<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token keyword">new</span> <span class="token function">QButtonGroup</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            BtnGroup<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token operator">-&gt;</span><span class="token function">addButton</span><span class="token punctuation">(</span>m_radioA<span class="token punctuation">)</span><span class="token punctuation">;</span>
            BtnGroup<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token operator">-&gt;</span><span class="token function">addButton</span><span class="token punctuation">(</span>m_radioB<span class="token punctuation">)</span><span class="token punctuation">;</span>
            m_layout<span class="token operator">-&gt;</span><span class="token function">addWidget</span><span class="token punctuation">(</span>m_radioA<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
            m_layout<span class="token operator">-&gt;</span><span class="token function">addWidget</span><span class="token punctuation">(</span>m_radioB<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">continue</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        BtnGroup<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span><span class="token keyword">new</span> <span class="token function">QButtonGroup</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span><span class="token number">4</span><span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            m_radioBtn<span class="token punctuation">[</span>i<span class="token operator">*</span><span class="token number">4</span><span class="token operator">+</span>j<span class="token punctuation">]</span><span class="token operator">=</span><span class="token keyword">new</span> <span class="token function">QRadioButton</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            m_radioBtn<span class="token punctuation">[</span>i<span class="token operator">*</span><span class="token number">4</span><span class="token operator">+</span>j<span class="token punctuation">]</span><span class="token operator">-&gt;</span><span class="token function">setText</span><span class="token punctuation">(</span>chooseList<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            BtnGroup<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">-&gt;</span><span class="token function">addButton</span><span class="token punctuation">(</span>m_radioBtn<span class="token punctuation">[</span>i<span class="token operator">*</span><span class="token number">4</span><span class="token operator">+</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            m_layout<span class="token operator">-&gt;</span><span class="token function">addWidget</span><span class="token punctuation">(</span>m_radioBtn<span class="token punctuation">[</span>i<span class="token operator">*</span><span class="token number">4</span><span class="token operator">+</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token operator">+</span>j<span class="token punctuation">,</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    QPushButton <span class="token operator">*</span>Btn<span class="token operator">=</span><span class="token keyword">new</span> <span class="token function">QPushButton</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Btn<span class="token operator">-&gt;</span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">"提交"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    m_layout<span class="token operator">-&gt;</span><span class="token function">addWidget</span><span class="token punctuation">(</span>Btn<span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">connect</span><span class="token punctuation">(</span>Btn<span class="token punctuation">,</span><span class="token function">SIGNAL</span><span class="token punctuation">(</span><span class="token function">clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">,</span><span class="token function">SLOT</span><span class="token punctuation">(</span><span class="token function">onBtn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">bool</span> <span class="token class-name">ExamDialog</span><span class="token double-colon punctuation">::</span><span class="token function">hasSelected</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> checkCount<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span><span class="token number">4</span><span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>m_CheckBoxBtn<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">-&gt;</span><span class="token function">isChecked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            checkCount<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>checkCount<span class="token operator">==</span><span class="token number">0</span><span class="token operator">||</span>checkCount<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">9</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>BtnGroup<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">-&gt;</span><span class="token function">checkedButton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token class-name">ExamDialog</span><span class="token double-colon punctuation">::</span><span class="token function">getScores</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> score<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">10</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">==</span><span class="token number">8</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            QString answer<span class="token operator">=</span>answers<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">bool</span> hasA<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span>
            <span class="token keyword">bool</span> hasB<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span>
            <span class="token keyword">bool</span> hasC<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span>
            <span class="token keyword">bool</span> hasD<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>answer<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">"A"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> hasA<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>answer<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">"B"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> hasB<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>answer<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">"C"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> hasC<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>answer<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">"D"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> hasD<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span>

            <span class="token keyword">if</span><span class="token punctuation">(</span>m_CheckBoxBtn<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">-&gt;</span><span class="token function">isChecked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">==</span>hasA<span class="token operator">&amp;&amp;</span>
               m_CheckBoxBtn<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">-&gt;</span><span class="token function">isChecked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">==</span>hasB<span class="token operator">&amp;&amp;</span>
               m_CheckBoxBtn<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">-&gt;</span><span class="token function">isChecked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">==</span>hasC<span class="token operator">&amp;&amp;</span>
               m_CheckBoxBtn<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">-&gt;</span><span class="token function">isChecked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">==</span>hasD<span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                score<span class="token operator">+=</span><span class="token number">10</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">continue</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">==</span><span class="token number">9</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            QString answer<span class="token operator">=</span>answers<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>BtnGroup<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token operator">-&gt;</span><span class="token function">checkedButton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">==</span>answer<span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                score<span class="token operator">+=</span><span class="token number">10</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">continue</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">if</span><span class="token punctuation">(</span>BtnGroup<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">-&gt;</span><span class="token function">checkedButton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">==</span>answers<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            score<span class="token operator">+=</span><span class="token number">10</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">int</span> res<span class="token operator">=</span><span class="token class-name">QMessageBox</span><span class="token double-colon punctuation">::</span><span class="token function">information</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span><span class="token string">"提示"</span><span class="token punctuation">,</span><span class="token string">"您的考试分数为:"</span><span class="token operator">+</span><span class="token class-name">QString</span><span class="token double-colon punctuation">::</span><span class="token function">number</span><span class="token punctuation">(</span>score<span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"分,是否需要重新考试?"</span><span class="token punctuation">,</span>
                             QMessageBox<span class="token double-colon punctuation">::</span>Yes<span class="token operator">|</span>QMessageBox<span class="token double-colon punctuation">::</span>No<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>res<span class="token operator">==</span>QMessageBox<span class="token double-colon punctuation">::</span>Yes<span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>


<span class="token keyword">void</span> <span class="token class-name">ExamDialog</span><span class="token double-colon punctuation">::</span><span class="token function">onTimeout</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    m_sec<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> minute<span class="token operator">=</span>m_sec<span class="token operator">/</span><span class="token number">60</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> sec<span class="token operator">=</span>m_sec<span class="token operator">%</span><span class="token number">60</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">setWindowTitle</span><span class="token punctuation">(</span><span class="token string">"已考试: "</span><span class="token operator">+</span><span class="token class-name">QString</span><span class="token double-colon punctuation">::</span><span class="token function">number</span><span class="token punctuation">(</span>minute<span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"分"</span><span class="token operator">+</span><span class="token class-name">QString</span><span class="token double-colon punctuation">::</span><span class="token function">number</span><span class="token punctuation">(</span>sec<span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"秒"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token class-name">ExamDialog</span><span class="token double-colon punctuation">::</span><span class="token function">onBtn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">hasSelected</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">QMessageBox</span><span class="token double-colon punctuation">::</span><span class="token function">information</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span><span class="token string">"提示"</span><span class="token punctuation">,</span><span class="token string">"题没作答完,请继续作答!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token function">getScores</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<p>logindialog.h</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">LOGINDIALOG_H</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">LOGINDIALOG_H</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QDialog&gt;</span></span>

QT_BEGIN_NAMESPACE
<span class="token keyword">namespace</span> Ui <span class="token punctuation">{<!-- --></span> <span class="token keyword">class</span> <span class="token class-name">loginDialog</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
QT_END_NAMESPACE

<span class="token keyword">class</span> <span class="token class-name">loginDialog</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">QDialog</span></span>
<span class="token punctuation">{<!-- --></span>
    Q_OBJECT

<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token function">loginDialog</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">~</span><span class="token function">loginDialog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">private</span> slots<span class="token operator">:</span>
    <span class="token keyword">void</span> <span class="token function">on_pushButtonLogin_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">void</span> <span class="token function">on_pushButtonCancel_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">private</span><span class="token operator">:</span>
    Ui<span class="token double-colon punctuation">::</span>loginDialog <span class="token operator">*</span>ui<span class="token punctuation">;</span>


    <span class="token keyword">void</span> <span class="token function">loginFromFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span> <span class="token comment">// LOGINDIALOG_H</span></span>

</code></pre> 
<p>logindialog.cpp</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"logindialog.h"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"ui_logindialog.h"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QMessageBox&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QFile&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QTextStream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QDebug&gt;</span></span>

loginDialog<span class="token double-colon punctuation">::</span><span class="token function">loginDialog</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent<span class="token punctuation">)</span>
    <span class="token operator">:</span> <span class="token function">QDialog</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span>
    <span class="token punctuation">,</span> <span class="token function">ui</span><span class="token punctuation">(</span><span class="token keyword">new</span> Ui<span class="token double-colon punctuation">::</span>loginDialog<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    ui<span class="token operator">-&gt;</span><span class="token function">setupUi</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ui<span class="token operator">-&gt;</span>label<span class="token operator">-&gt;</span><span class="token function">setScaledContents</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">resize</span><span class="token punctuation">(</span>ui<span class="token operator">-&gt;</span>label<span class="token operator">-&gt;</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>ui<span class="token operator">-&gt;</span>label<span class="token operator">-&gt;</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">setFixedSize</span><span class="token punctuation">(</span>ui<span class="token operator">-&gt;</span>label<span class="token operator">-&gt;</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>ui<span class="token operator">-&gt;</span>label<span class="token operator">-&gt;</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">setWindowFlags</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>Dialog<span class="token operator">|</span>Qt<span class="token double-colon punctuation">::</span>WindowCloseButtonHint<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">setWindowTitle</span><span class="token punctuation">(</span><span class="token string">"考试系统"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name">loginDialog</span><span class="token double-colon punctuation">::</span><span class="token operator">~</span><span class="token function">loginDialog</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">delete</span> ui<span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token keyword">void</span> loginDialog<span class="token double-colon punctuation">::</span><span class="token function">on_pushButtonLogin_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    QRegExp <span class="token function">reg</span><span class="token punctuation">(</span><span class="token string">"^[A-Za-z0-9]+(_[A-Za-z0-9]+)*@[A-Za-z0-9]+(_[A-Za-z0-9]+)*\.[A-Za-z]{2,6}$"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">bool</span> res<span class="token operator">=</span>reg<span class="token punctuation">.</span><span class="token function">exactMatch</span><span class="token punctuation">(</span>ui<span class="token operator">-&gt;</span>lineEditAccount<span class="token operator">-&gt;</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token function">loginFromFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">QMessageBox</span><span class="token double-colon punctuation">::</span><span class="token function">information</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span><span class="token string">"提示"</span><span class="token punctuation">,</span><span class="token string">"邮箱格式有误,请重新输入!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ui<span class="token operator">-&gt;</span>lineEditPWD<span class="token operator">-&gt;</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ui<span class="token operator">-&gt;</span>lineEditAccount<span class="token operator">-&gt;</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ui<span class="token operator">-&gt;</span>lineEditAccount<span class="token operator">-&gt;</span><span class="token function">setFocus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> loginDialog<span class="token double-colon punctuation">::</span><span class="token function">loginFromFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    QString line<span class="token punctuation">;</span>
    QString account<span class="token punctuation">;</span>
    QString pwd<span class="token punctuation">;</span>
    QStringList list<span class="token punctuation">;</span>
    <span class="token keyword">int</span> nline<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>

    account<span class="token operator">=</span>ui<span class="token operator">-&gt;</span>lineEditAccount<span class="token operator">-&gt;</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    pwd<span class="token operator">=</span>ui<span class="token operator">-&gt;</span>lineEditPWD<span class="token operator">-&gt;</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    QString <span class="token function">fileName</span><span class="token punctuation">(</span><span class="token string">"../account.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    QFile <span class="token function">file</span><span class="token punctuation">(</span>fileName<span class="token punctuation">)</span><span class="token punctuation">;</span>
    QTextStream <span class="token function">stream</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>file<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>QIODevice<span class="token double-colon punctuation">::</span>ReadOnly<span class="token operator">|</span>QIODevice<span class="token double-colon punctuation">::</span>Text<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span>stream<span class="token punctuation">.</span><span class="token function">atEnd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>nline<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            stream<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            nline<span class="token operator">++</span><span class="token punctuation">;</span>
            <span class="token keyword">continue</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        line<span class="token operator">=</span>stream<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        QRegExp <span class="token function">reg</span><span class="token punctuation">(</span><span class="token string">"\\s+"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        list<span class="token operator">=</span>line<span class="token punctuation">.</span><span class="token function">trimmed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">;</span>
        nline<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>account<span class="token operator">==</span>list<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>pwd<span class="token operator">==</span>list<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                <span class="token class-name">QMessageBox</span><span class="token double-colon punctuation">::</span><span class="token function">information</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span><span class="token string">"提示"</span><span class="token punctuation">,</span><span class="token string">"登录成功,欢迎进入考试系统!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                file<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">done</span><span class="token punctuation">(</span>Accepted<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">else</span>
            <span class="token punctuation">{<!-- --></span>
                <span class="token class-name">QMessageBox</span><span class="token double-colon punctuation">::</span><span class="token function">information</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span><span class="token string">"提示"</span><span class="token punctuation">,</span><span class="token string">"密码输入有误,请重新输入!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                ui<span class="token operator">-&gt;</span>lineEditPWD<span class="token operator">-&gt;</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                ui<span class="token operator">-&gt;</span>lineEditPWD<span class="token operator">-&gt;</span><span class="token function">setFocus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                file<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token class-name">QMessageBox</span><span class="token double-colon punctuation">::</span><span class="token function">information</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span><span class="token string">"提示"</span><span class="token punctuation">,</span><span class="token string">"账户输入有误,请重新输入!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ui<span class="token operator">-&gt;</span>lineEditAccount<span class="token operator">-&gt;</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ui<span class="token operator">-&gt;</span>lineEditPWD<span class="token operator">-&gt;</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ui<span class="token operator">-&gt;</span>lineEditAccount<span class="token operator">-&gt;</span><span class="token function">setFocus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    file<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> loginDialog<span class="token double-colon punctuation">::</span><span class="token function">on_pushButtonCancel_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token function">done</span><span class="token punctuation">(</span>Rejected<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> 
<p>main.cpp</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"logindialog.h"</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QApplication&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"examdialog.h"</span></span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    QApplication <span class="token function">a</span><span class="token punctuation">(</span>argc<span class="token punctuation">,</span> argv<span class="token punctuation">)</span><span class="token punctuation">;</span>
    loginDialog w<span class="token punctuation">;</span>
    <span class="token keyword">int</span> res<span class="token operator">=</span>w<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>res<span class="token operator">==</span>QDialog<span class="token double-colon punctuation">::</span>Accepted<span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        ExamDialog <span class="token operator">*</span>examDialog<span class="token operator">=</span><span class="token keyword">new</span> ExamDialog<span class="token punctuation">;</span>        
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> a<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> 
<h2><a id="_568"></a>五.结语</h2> 
<p>当然这个读取文件没有自适应,需要根据你的文件内容进行调整.<br> 完结撒花.</p> 
<blockquote> 
 <p>好想到筑基期呀.君子生非异也,善假于物也.</p> 
</blockquote>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/14ab8df5135825bc9f5ff7c30609f02f/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Spark SQL</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/cb15abac65a3859ec611c9012b3438ea/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Sentinel规则持久化Push模式两种实现方式</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>