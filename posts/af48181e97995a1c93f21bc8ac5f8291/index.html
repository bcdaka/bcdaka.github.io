<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【C&#43;&#43;】string类 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/af48181e97995a1c93f21bc8ac5f8291/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="【C&#43;&#43;】string类">
  <meta property="og:description" content="🚀个人主页：奋斗的小羊 🚀所属专栏：C&#43;&#43; 很荣幸您能阅读我的文章，诚请评论指点，欢迎欢迎 ~ 目录 前言💥1、标准库中的string类💥1.1string类的常用接口💥string类对象常见构造💥string类对象容量操作💥string类对象修改操作💥string类非成员函数 💥1.2auto和范围for💥1.2.1遍历字符串的三种方式💥下标 &#43; [ ] 重载💥迭代器（通用）💥范围for（通用） 前言 C语言中，字符串是以’\0’结尾的一些字符的集合，为了操作方便，C标准库中提供了一些str系列的库函数，但是这些库函数与字符串是分离开的，不太符合OOP（分装、继承、多态）的思想，而且底层空间需要用户自己管理，稍不留神可能还会越界访问。
在常规工作中，为了简单、方便、快捷，基本都使用string类，很少有人去使用C库中的字符串操作函数。
💥1、标准库中的string类 💥1.1string类的常用接口 💥string类对象常见构造 函数名称功能string()构造空的string类对象，即空字符串string(const char* s)用常量来构造string类对象string(size_t n, char c)string类对象中包含n个字符cstring(const string&amp; s)拷贝构造函数 #include &lt;iostream&gt; #include &lt;string&gt; using namespace std; int main() { string s1;//构造空的string类对象 string s2(&#34;123456&#34;);//用常量构造string类对象 string s3(s2);//拷贝构造 return 0; } operator[]：返回字符串中位置 pos 的字符引用，像数组一样修改某个位置的字符： class string { public: char&amp; operator[](size_t i) { assert(i &lt; _size); return _str[i]; } private: char* _str; size_t _size; size_t capactiy; }; 💥string类对象容量操作 函数名称功能size返回字符串有效字符长度length返回字符串有效字符长度resize将有效字符的个数改成n个，多出的空间用字符c填充capacity返回空间总大小reserve提前开空间，避免扩容，为字符串预留空间clear清空有效字符，容量不变empty检测字符串释放为空串，是返回true，否则返回false string类对象的空间不包含字符&#39;/0&#39;void reserve (size_t n = 0)：请求将字符串容量调整为计划的大小更改，长度不超过 n 个字符。如果 n 大于当前字符串容量，则该函数会导致容器将其容量增加到 n 个字符（或更大）。此函数对字符串长度没有影响，并且不能更改其内容。在VS中大了扩容，小了不变size()与length()方法底层实现原理完全相同，引入size()的原因是为了与其他容器的接口保持一致，一般情况下基本都是用size()clear()只是将string中有效字符清空，不改变底层空间大小resize(size_t n) 与 resize(size_t n, char c)都是将字符串中有效字符个数改变到n个，不同的是当字符个数增多时，resize(n)用0来填充多出的元素空resize(size_t n, charc)用字符c来填充多出的元素空间。注意：resize在改变元素个数时，如果是将元素个数增多，可能会改变底层容量的大小，如果是将元素个数减少，底层空间总大小不变 💥string类对象修改操作 函数功能push_back在字符串后尾插入字符cappend在字符串后追加一个字符串operator&#43;=在字符串后追加字符串c_str返回c格式find &#43; npos从字符串pos位置开始往后找字符c，返回该字符在字符串中的位置rfind从字符串pos位置开始往前找字符c，返回该字符在字符串中的位置substr在str中从pos位置开始，截取n个字符，然后将其返回 在string尾部追加字符时，s.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-08-07T17:50:18+08:00">
    <meta property="article:modified_time" content="2024-08-07T17:50:18+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【C&#43;&#43;】string类</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <center> 
 <img src="https://images2.imgbox.com/9d/75/NKnNd8YT_o.png" alt="头像" width="100" height="100"> 
</center> 
<center> 
 <font size="4" color="Coral" face="华文新魏">🚀个人主页：<a href="https://blog.csdn.net/2301_78843337?type=blog">奋斗的小羊 </a></font> 
</center> 
<center> 
 <font size="4" color="Coral" face="华文新魏">🚀所属专栏：<a href="https://https://blog.csdn.net/2301_78843337/category_12740133.html">C++ </a></font> 
</center> 
<center> 
 <font size="3" color="MidnightBlue" face="方正粗黑宋简体">很荣幸您能阅读我的文章，诚请评论指点，欢迎欢迎 ~ </font> 
</center> 
<p><img src="https://images2.imgbox.com/16/42/n07bcMvs_o.gif" alt=""></p> 
<p></p> 
<div class="toc"> 
 <h4>目录</h4> 
 <ul><li><a href="#_21" rel="nofollow">前言</a></li><li><a href="#1string_26" rel="nofollow">💥1、标准库中的string类</a></li><li><ul><li><a href="#11string_27" rel="nofollow">💥1.1string类的常用接口</a></li><li><ul><li><a href="#string_28" rel="nofollow">💥string类对象常见构造</a></li><li><a href="#string_69" rel="nofollow">💥string类对象容量操作</a></li><li><a href="#string_86" rel="nofollow">💥string类对象修改操作</a></li><li><a href="#string_100" rel="nofollow">💥string类非成员函数</a></li></ul> 
   </li><li><a href="#12autofor_303" rel="nofollow">💥1.2auto和范围for</a></li><li><ul><li><a href="#121_347" rel="nofollow">💥1.2.1遍历字符串的三种方式</a></li><li><ul><li><a href="#_____348" rel="nofollow">💥下标 + [ ] 重载</a></li><li><a href="#_362" rel="nofollow">💥迭代器（通用）</a></li><li><a href="#for_425" rel="nofollow">💥范围for（通用）</a></li></ul> 
   </li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<hr> 
<h2><a id="_21"></a>前言</h2> 
<p>C语言中，字符串是以’\0’结尾的一些字符的集合，为了操作方便，C标准库中提供了一些str系列的库函数，<strong>但是这些库函数与字符串是分离开的</strong>，不太符合OOP（<strong>分装、继承、多态</strong>）的思想，而且底层空间需要用户自己管理，稍不留神可能还会越界访问。<br> 在常规工作中，为了简单、方便、快捷，基本都使用string类，很少有人去使用C库中的字符串操作函数。</p> 
<hr> 
<h2><a id="1string_26"></a>💥1、标准库中的string类</h2> 
<h3><a id="11string_27"></a>💥1.1string类的常用接口</h3> 
<h4><a id="string_28"></a>💥string类对象常见构造</h4> 
<table><thead><tr><th>函数名称</th><th>功能</th></tr></thead><tbody><tr><td><code>string()</code></td><td>构造空的string类对象，即空字符串</td></tr><tr><td><code>string(const char* s)</code></td><td>用常量来构造string类对象</td></tr><tr><td>string(size_t n, char c)</td><td>string类对象中包含n个字符c</td></tr><tr><td><code>string(const string&amp; s)</code></td><td>拷贝构造函数</td></tr></tbody></table> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	string s1<span class="token punctuation">;</span><span class="token comment">//构造空的string类对象</span>
	string <span class="token function">s2</span><span class="token punctuation">(</span><span class="token string">"123456"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//用常量构造string类对象</span>
	string <span class="token function">s3</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//拷贝构造</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<ul><li><code>operator[]</code>：返回字符串中位置 pos 的字符引用，<strong>像数组一样</strong>修改某个位置的字符：</li></ul> 
<pre><code class="prism language-cpp"><span class="token keyword">class</span> <span class="token class-name">string</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token keyword">char</span><span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span>size_t i<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">assert</span><span class="token punctuation">(</span>i <span class="token operator">&lt;</span> _size<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> _str<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token keyword">private</span><span class="token operator">:</span>
	<span class="token keyword">char</span><span class="token operator">*</span> _str<span class="token punctuation">;</span>
	size_t _size<span class="token punctuation">;</span>
	size_t capactiy<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/72/a3/QhU9SRjA_o.png" alt="在这里插入图片描述" height="120"></p> 
<hr> 
<h4><a id="string_69"></a>💥string类对象容量操作</h4> 
<table><thead><tr><th>函数名称</th><th>功能</th></tr></thead><tbody><tr><td><code>size</code></td><td>返回字符串有效字符长度</td></tr><tr><td>length</td><td>返回字符串有效字符长度</td></tr><tr><td><code>resize</code></td><td>将有效字符的个数改成n个，多出的空间用字符c填充</td></tr><tr><td>capacity</td><td>返回空间总大小</td></tr><tr><td><code>reserve</code></td><td>提前开空间，避免扩容，为字符串预留空间</td></tr><tr><td><code>clear</code></td><td>清空有效字符，容量不变</td></tr><tr><td><code>empty</code></td><td>检测字符串释放为空串，是返回true，否则返回false</td></tr></tbody></table> 
<ul><li><code>string</code>类对象的空间不包含字符<code>'/0'</code></li><li><code>void reserve (size_t n = 0)</code>：请求将字符串容量调整为计划的大小更改，长度不超过 n 个字符。如果 n 大于当前字符串容量，则该函数会导致容器将其容量增加到 n 个字符（或更大）。此函数对字符串长度没有影响，并且不能更改其内容。在VS中<strong>大了扩容，小了不变</strong></li><li><code>size()</code>与<code>length()</code>方法底层实现原理完全相同，引入<code>size()</code>的原因是为了与其他容器的接口保持一致，一般情况下基本都是用<code>size()</code></li><li><code>clear()</code>只是将<code>string</code>中有效字符清空，<strong>不改变底层空间大小</strong></li><li><code>resize(size_t n)</code> 与 <code>resize(size_t n, char c)</code>都是将字符串中有效字符个数改变到n个，不同的是当字符个数增多时，<code>resize(n)</code>用<code>0</code>来填充多出的元素空<code>resize(size_t n, charc)</code>用字符<code>c</code>来填充多出的元素空间。<strong>注意</strong>：<code>resize</code>在改变元素个数时，<strong>如果是将元素个数增多，可能会改变底层容量的大小</strong>，如果是将元素个数减少，底层空间<strong>总大小不变</strong></li></ul> 
<hr> 
<h4><a id="string_86"></a>💥string类对象修改操作</h4> 
<table><thead><tr><th>函数</th><th>功能</th></tr></thead><tbody><tr><td>push_back</td><td>在字符串后尾插入字符c</td></tr><tr><td>append</td><td>在字符串后追加一个字符串</td></tr><tr><td><code>operator+=</code></td><td>在字符串后追加字符串</td></tr><tr><td><code>c_str</code></td><td>返回c格式</td></tr><tr><td><code>find + npos</code></td><td>从字符串pos位置开始往后找字符c，返回该字符在字符串中的位置</td></tr><tr><td>rfind</td><td>从字符串pos位置开始往前找字符c，返回该字符在字符串中的位置</td></tr><tr><td>substr</td><td>在str中从pos位置开始，截取n个字符，然后将其返回</td></tr></tbody></table> 
<ul><li>在<code>string</code>尾部追加字符时，<code>s.push_back(c) / s.append(1, c) / s += 'c'</code>三种的实现方式差不多，一般情况下<strong>string类的<code>+=</code>操作用的比较多</strong>，+=操作不仅可以连接单个字符，还可以连接字符串</li><li>对<code>string</code>操作时，<strong>如果能够大概预估到放多少字符，可以先通过<code>reserve</code>把空间预留</strong></li></ul> 
<hr> 
<h4><a id="string_100"></a>💥string类非成员函数</h4> 
<table><thead><tr><th>函数</th><th>功能</th></tr></thead><tbody><tr><td><code>operator&gt;&gt;</code></td><td>输入运算符重载</td></tr><tr><td><code>operator&lt;&lt;</code></td><td>输出运算符重载</td></tr><tr><td><code>getline</code></td><td>获取一行字符</td></tr></tbody></table> 
<ul><li>getline解决了输入操作时遇到空格、换行就结束的问题</li></ul> 
<p><strong>| string类的接口测试：</strong></p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string&gt;</span></span>

<span class="token comment"></span>
<span class="token comment">// 测试string容量相关的接口</span>
<span class="token comment">// size/clear/resize</span>
<span class="token keyword">void</span> <span class="token function">Teststring1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">// 注意：string类对象支持直接用cin和cout进行输入和输出</span>
	string <span class="token function">s</span><span class="token punctuation">(</span><span class="token string">"hello, bit!!!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> s<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> s<span class="token punctuation">.</span><span class="token function">capacity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> s <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	<span class="token comment">// 将s中的字符串清空，注意清空时只是将size清0，不改变底层空间的大小</span>
	s<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> s<span class="token punctuation">.</span><span class="token function">capacity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	<span class="token comment">// 将s中有效字符个数增加到10个，多出位置用'a'进行填充</span>
	<span class="token comment">// “aaaaaaaaaa”</span>
	s<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token char">'a'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> s<span class="token punctuation">.</span><span class="token function">capacity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	<span class="token comment">// 将s中有效字符个数增加到15个，多出位置用缺省值'\0'进行填充</span>
	<span class="token comment">// "aaaaaaaaaa\0\0\0\0\0"</span>
	<span class="token comment">// 注意此时s中有效字符个数已经增加到15个</span>
	s<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> s<span class="token punctuation">.</span><span class="token function">capacity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> s <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	<span class="token comment">// 将s中有效字符个数缩小到5个</span>
	s<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> s<span class="token punctuation">.</span><span class="token function">capacity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> s <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//====================================================================================</span>
<span class="token keyword">void</span> <span class="token function">Teststring2</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	string s<span class="token punctuation">;</span>
	<span class="token comment">// 测试reserve是否会改变string中有效元素个数</span>
	s<span class="token punctuation">.</span><span class="token function">reserve</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> s<span class="token punctuation">.</span><span class="token function">capacity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	<span class="token comment">// 测试reserve参数小于string的底层空间大小时，是否会将空间缩小</span>
	s<span class="token punctuation">.</span><span class="token function">reserve</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> s<span class="token punctuation">.</span><span class="token function">capacity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 利用reserve提高插入数据的效率，避免增容带来的开销</span>
<span class="token comment">//====================================================================================</span>
<span class="token keyword">void</span> <span class="token function">TestPushBack</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	string s<span class="token punctuation">;</span>
	size_t sz <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">capacity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"making s grow:\n"</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		s<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token char">'c'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>sz <span class="token operator">!=</span> s<span class="token punctuation">.</span><span class="token function">capacity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			sz <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">capacity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			cout <span class="token operator">&lt;&lt;</span> <span class="token string">"capacity changed: "</span> <span class="token operator">&lt;&lt;</span> sz <span class="token operator">&lt;&lt;</span> <span class="token char">'\n'</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 构建vector时，如果提前已经知道string中大概要放多少个元素，可以提前将string中空间设置好</span>
<span class="token keyword">void</span> <span class="token function">TestPushBackReserve</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	string s<span class="token punctuation">;</span>
	s<span class="token punctuation">.</span><span class="token function">reserve</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	size_t sz <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">capacity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"making s grow:\n"</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		s<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token char">'c'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>sz <span class="token operator">!=</span> s<span class="token punctuation">.</span><span class="token function">capacity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			sz <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">capacity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			cout <span class="token operator">&lt;&lt;</span> <span class="token string">"capacity changed: "</span> <span class="token operator">&lt;&lt;</span> sz <span class="token operator">&lt;&lt;</span> <span class="token char">'\n'</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>


<span class="token comment"></span>
<span class="token comment">// string的遍历</span>
<span class="token comment">// begin()+end()   for+[]  范围for</span>
<span class="token comment">// 注意：string遍历时使用最多的还是for+下标 或者 范围for(C++11后才支持)</span>
<span class="token comment">// begin()+end()大多数使用在需要使用STL提供的算法操作string时，比如：采用reverse逆置string</span>
<span class="token keyword">void</span> <span class="token function">Teststring3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	string <span class="token function">s1</span><span class="token punctuation">(</span><span class="token string">"hello Bit"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">const</span> string <span class="token function">s2</span><span class="token punctuation">(</span><span class="token string">"Hello Bit"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> s1 <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> s2 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> s1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> s2<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	s1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token char">'H'</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> s1 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	<span class="token comment">// s2[0] = 'h';   代码编译失败，因为const类型对象不能修改</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">Teststring4</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	string <span class="token function">s</span><span class="token punctuation">(</span><span class="token string">"hello Bit"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// 3种遍历方式：</span>
	<span class="token comment">// 需要注意的以下三种方式除了遍历string对象，还可以遍历是修改string中的字符，</span>
	<span class="token comment">// 另外以下三种方式对于string而言，第一种使用最多</span>
	<span class="token comment">// 1. for+operator[]</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span>size_t i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
		cout <span class="token operator">&lt;&lt;</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	<span class="token comment">// 2.迭代器</span>
	string<span class="token double-colon punctuation">::</span>iterator it <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>it <span class="token operator">!=</span> s<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>it <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
		<span class="token operator">++</span>it<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// string::reverse_iterator rit = s.rbegin();</span>
	<span class="token comment">// C++11之后，直接使用auto定义迭代器，让编译器推到迭代器的类型</span>
	<span class="token keyword">auto</span> rit <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">rbegin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>rit <span class="token operator">!=</span> s<span class="token punctuation">.</span><span class="token function">rend</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>rit <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	<span class="token comment">// 3.范围for</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> ch <span class="token operator">:</span> s<span class="token punctuation">)</span>
		cout <span class="token operator">&lt;&lt;</span> ch <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token comment">//</span>
<span class="token comment">// 测试string：</span>
<span class="token comment">// 1. 插入(拼接)方式：push_back  append  operator+= </span>
<span class="token comment">// 2. 正向和反向查找：find() + rfind()</span>
<span class="token comment">// 3. 截取子串：substr()</span>
<span class="token comment">// 4. 删除：erase</span>
<span class="token keyword">void</span> <span class="token function">Teststring5</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	string str<span class="token punctuation">;</span>
	str<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token char">' '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 在str后插入空格</span>
	str<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 在str后追加一个字符"hello"</span>
	str <span class="token operator">+=</span> <span class="token char">'b'</span><span class="token punctuation">;</span>           <span class="token comment">// 在str后追加一个字符'b'   </span>
	str <span class="token operator">+=</span> <span class="token string">"it"</span><span class="token punctuation">;</span>          <span class="token comment">// 在str后追加一个字符串"it"</span>
	cout <span class="token operator">&lt;&lt;</span> str <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> str<span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>   <span class="token comment">// 以C语言的方式打印字符串</span>

	<span class="token comment">// 获取file的后缀</span>
	string <span class="token function">file</span><span class="token punctuation">(</span><span class="token string">"string.cpp"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	size_t pos <span class="token operator">=</span> file<span class="token punctuation">.</span><span class="token function">rfind</span><span class="token punctuation">(</span><span class="token char">'.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	string <span class="token function">suffix</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span>pos<span class="token punctuation">,</span> file<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> pos<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> suffix <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	<span class="token comment">// npos是string里面的一个静态成员变量</span>
	<span class="token comment">// static const size_t npos = -1;</span>

	<span class="token comment">// 取出url中的域名</span>
	string <span class="token function">url</span><span class="token punctuation">(</span><span class="token string">"http://www.cplusplus.com/reference/string/string/find/"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> url <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	size_t start <span class="token operator">=</span> url<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">"://"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>start <span class="token operator">==</span> string<span class="token double-colon punctuation">::</span>npos<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">"invalid url"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	start <span class="token operator">+=</span> <span class="token number">3</span><span class="token punctuation">;</span>
	size_t finish <span class="token operator">=</span> url<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token char">'/'</span><span class="token punctuation">,</span> start<span class="token punctuation">)</span><span class="token punctuation">;</span>
	string address <span class="token operator">=</span> url<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span> finish <span class="token operator">-</span> start<span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> address <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	<span class="token comment">// 删除url的协议前缀</span>
	pos <span class="token operator">=</span> url<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">"://"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	url<span class="token punctuation">.</span><span class="token function">erase</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> pos <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> url <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<ol><li><a href="https://leetcode.cn/problems/reverse-only-letters/description/" rel="nofollow">Leetcode——仅仅反转字母</a></li><li><a href="https://leetcode.cn/problems/first-unique-character-in-a-string/description/" rel="nofollow">Leetcode——找字符串中第一个只出现一次的字符</a></li><li><a href="https://leetcode.cn/problems/add-strings/solutions/2870194/zi-fu-chuan-xiang-jia-by-nrhtlnmlod-8fmg/" rel="nofollow">Leetcode——字符串相加</a></li></ol> 
<hr> 
<h3><a id="12autofor_303"></a>💥1.2auto和范围for</h3> 
<p><strong>| auto关键字</strong></p> 
<ul><li>在早期C/C++中auto的含义是：使用auto修饰的变量，是具有自动存储器的局部变量，后来这个不重要了。C++11中，标准委员会变废为宝赋予了auto全新的含义即：auto不再是一个存储类型指示符，而是作为一个新的类型指示符来指示编译器，<strong>auto声明的变量必须由编译器在编译时期推导而得</strong></li><li><strong>用<code>auto</code>声明指针类型时，用<code>auto</code>和<code>auto*</code>没有任何区别，但用<code>auto</code>声明引用类型时则必须加<code>&amp;</code></strong></li><li>当在同一行声明多个变量时，<strong>这些变量必须是相同的类型</strong>，否则编译器将会报错，因为编译器实际只对第一个类型进行推导，然后用推导出来的类型定义其他变量</li><li><strong><code>auto</code>不能作为函数的参数</strong>，可以做返回值，但是建议<strong>谨慎使用</strong></li><li><strong><code>auto</code>不能直接用来声明数组</strong></li></ul> 
<p><code>auto</code>的价值是<strong>简化代码</strong>：</p> 
<pre><code class="prism language-cpp">map<span class="token operator">&lt;</span>string<span class="token punctuation">,</span> string<span class="token operator">&gt;</span> dict<span class="token punctuation">;</span>
<span class="token comment">//map&lt;string, string&gt;::iterator mit = dict.begin();</span>
<span class="token keyword">auto</span> mit <span class="token operator">=</span> dict<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p><strong>| 范围for</strong></p> 
<ul><li>对于一个<strong>有范围的集合</strong>而言，由程序员来说明循环的范围是多余的，有时候还会容易犯错误。因此C++11中引入了基于范围的for循环。for循环后的括号由冒号“ ：”分为两部分：第一部分是范围内用于迭代的变量，第二部分则表示被迭代的范围，<strong>自动迭代，自动取数据，自动判断结束</strong></li><li>范围for可以作用到数组和容器对象上进行遍历</li><li>范围for的底层很简单，<strong>容器遍历实际就是替换为迭代器</strong>，这个从汇编层也可以看到</li></ul> 
<p>常规遍历数组：</p> 
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span>size_t i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		cout <span class="token operator">&lt;&lt;</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>范围for遍历数组：</p> 
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> n <span class="token operator">:</span> arr<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		cout <span class="token operator">&lt;&lt;</span> n <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<hr> 
<h4><a id="121_347"></a>💥1.2.1遍历字符串的三种方式</h4> 
<h5><a id="_____348"></a>💥下标 + [ ] 重载</h5> 
<ul><li><code>size_t size() const</code>：返回字符串的长度（以字节为单位）</li></ul> 
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	string <span class="token function">s1</span><span class="token punctuation">(</span><span class="token string">"abcdef"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span>size_t i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> s1<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		cout <span class="token operator">&lt;&lt;</span> s1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<hr> 
<h5><a id="_362"></a>💥迭代器（通用）</h5> 
<ul><li><strong>迭代器提供了一种通用的访问所有容器的方式</strong></li></ul> 
<p><strong>| 正向迭代器：</strong></p> 
<ul><li><code>iterator begin()</code>：返回一个迭代器，该迭代器<strong>指向</strong>字符串的<strong>第一个字符</strong></li><li><code>iterator end()</code>：返回一个迭代器，该迭代器<strong>指向</strong>字符串的<strong>末尾字符</strong>(<code>'/0'</code>)</li></ul> 
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	string <span class="token function">s1</span><span class="token punctuation">(</span><span class="token string">"abcdef"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	string<span class="token double-colon punctuation">::</span>iterator it <span class="token operator">=</span> s1<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>it <span class="token operator">!=</span> s1<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>it <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>
		<span class="token operator">++</span>it<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<ul><li><code>*it</code>是<code>operator*</code>运算符重载的结果</li><li>迭代器可修改</li></ul> 
<p><img src="https://images2.imgbox.com/4b/ce/xnKHIdxL_o.png" alt="请添加图片描述" height="110"></p> 
<p><strong>| 反向迭代器：</strong></p> 
<ul><li><code>reverse_iterator rbegin()</code>：返回一个反向迭代器，指向字符串的最后一个字符（即其反向开头）</li><li><code>reverse_iterator rend()</code>：返回一个反向迭代器，指向字符串的第一个字符（被视为其反面端）之前的理论元素</li><li>反向迭代器向后迭代：<strong>增加迭代器</strong>会使它们朝向字符串的开头</li></ul> 
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	string <span class="token function">s</span><span class="token punctuation">(</span><span class="token string">"abcdef"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	string<span class="token double-colon punctuation">::</span>reverse_iterator rit <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">rbegin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>rit <span class="token operator">!=</span> s<span class="token punctuation">.</span><span class="token function">rend</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>rit <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>
		<span class="token operator">++</span>rit<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/3b/9d/QtNfceWS_o.png" alt="请添加图片描述" height="130"></p> 
<p>如果对象是常量字符串，则只可读不可写。以正向迭代器为例：</p> 
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">const</span> string <span class="token function">s</span><span class="token punctuation">(</span><span class="token string">"abcdef"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	string<span class="token double-colon punctuation">::</span>const_iterator cit <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>cit <span class="token operator">!=</span> s<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>cit <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>
		<span class="token operator">++</span>cit<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<hr> 
<h5><a id="for_425"></a>💥范围for（通用）</h5> 
<ul><li>自动从容器中取每一个值给变量（ch）</li><li>自动赋值，自动迭代，自动判断结束</li></ul> 
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	string <span class="token function">s1</span><span class="token punctuation">(</span><span class="token string">"abcdef"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> ch <span class="token operator">:</span> s1<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		cout <span class="token operator">&lt;&lt;</span> ch <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<ul><li>范围for的底层还是迭代器，所以范围for也可修改</li></ul> 
<p><img src="https://images2.imgbox.com/fd/3a/hgo4ICu3_o.png" alt="请添加图片描述" height="110"></p> 
<p>但当我们重新打印s1时还是原来值：</p> 
<p><img src="https://images2.imgbox.com/43/09/9IypWxsC_o.png" alt="请添加图片描述" height="140"></p> 
<p>这是因为底层<code>*it</code>的值给给<code>ch</code>只是拷贝，要想通过<code>ch</code>改变可以考虑传引用。</p> 
<p><img src="https://images2.imgbox.com/eb/22/1HBHkrew_o.png" alt="请添加图片描述" height="130"></p> 
<hr>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/da109add6f9b94f8d5a063ecc4336967/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【MYSQL】基础知识</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6050dc2efc561d134648bfadd2d88834/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">探索灵办AI：智能办公的好帮手</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>