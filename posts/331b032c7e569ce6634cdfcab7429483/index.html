<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Ubuntu22部署MySQL5.7详细教程 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/331b032c7e569ce6634cdfcab7429483/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="Ubuntu22部署MySQL5.7详细教程">
  <meta property="og:description" content="Ubuntu22部署MySQL5.7详细教程 一、下载MySQL安装包二、安装MySQL三、启动MySQL检查状态登录MySQL 四、开启远程访问功能1、允许其他主机通过root访问数据库2、修改配置文件，允许其他IP通过自定义端口访问 五、使用Navicat连接数据库 默认情况下，Ubuntu22安装MySQL的版本为8.0。但8.0更加严格的加密规则，使得一些配置难以实现，下面就来为大家介绍在ubuntu22中怎么安装MySQL5.7.x。
一、下载MySQL安装包 以MySQL5.7.29为例，进入MySQL官方的Community Server选择历史版本：https://downloads.mysql.com/archives/community/
可以使用wget命令下载，或直接点击Download下载。然后将tar包放在Ubuntu的一个目录中。
使用wget命令下载tar包
sudo wget https://downloads.mysql.com/archives/get/p/23/file/mysql-server_5.7.29-1ubuntu18.04_amd64.deb-bundle.tar 解压tar包
sudo tar -xvf mysql-server_5.7.29-1ubuntu18.04_amd64.deb-bundle.tar 解压后目录
二、安装MySQL 更新依赖源数据
sudo apt-get update 安装依赖lib包
sudo apt-get install ./libmysql* sudo apt-get install libtinfo5 安装客户端和服务端，按提示可能要先安装community版本
sudo apt-get install ./mysql-community-client_5.7.29-1ubuntu18.04_amd64.deb sudo apt-get install ./mysql-client_5.7.29-1ubuntu18.04_amd64.deb sudo apt-get install ./mysql-community-server_5.7.29-1ubuntu18.04_amd64.deb sudo apt-get install ./mysql-server_5.7.29-1ubuntu18.04_amd64.deb 第三行命令执行时会提示设置MySQL的密码，用户名默认root
三、启动MySQL 检查状态 一般安装成功就自动启动，输入命令检查启动状态，绿色的active表示运行中
systemctl status mysql.service 登录MySQL 使用root用户登录MySQL
mysql -u root -p 输入密码后，如下界面就是进入MySQL命令行
此时mysql安装完成了，但是不能为我们的程序提供服务(使用连接工具现在是连接不上的)。 因为还需要配置远程连接，使我们可以远程登录才可以。
四、开启远程访问功能 1、允许其他主机通过root访问数据库 进入mysql库，查看user表。 表中host、user字段标识了可以访问数据库的主机和用户。">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-02-21T22:53:58+08:00">
    <meta property="article:modified_time" content="2024-02-21T22:53:58+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Ubuntu22部署MySQL5.7详细教程</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>Ubuntu22部署MySQL5.7详细教程</h4> 
 <ul><li><a href="#MySQL_3" rel="nofollow">一、下载MySQL安装包</a></li><li><a href="#MySQL_18" rel="nofollow">二、安装MySQL</a></li><li><a href="#MySQL_37" rel="nofollow">三、启动MySQL</a></li><li><ul><li><a href="#_38" rel="nofollow">检查状态</a></li><li><a href="#MySQL_44" rel="nofollow">登录MySQL</a></li></ul> 
  </li><li><a href="#_52" rel="nofollow">四、开启远程访问功能</a></li><li><ul><li><a href="#1root_53" rel="nofollow">1、允许其他主机通过root访问数据库</a></li><li><a href="#2IP_92" rel="nofollow">2、修改配置文件，允许其他IP通过自定义端口访问</a></li></ul> 
  </li><li><a href="#Navicat_108" rel="nofollow">五、使用Navicat连接数据库</a></li></ul> 
</div> 
<p></p> 
<blockquote> 
 <p>默认情况下，Ubuntu22安装MySQL的版本为8.0。但8.0更加严格的加密规则，使得一些配置难以实现，下面就来为大家介绍在ubuntu22中怎么安装MySQL5.7.x。</p> 
</blockquote> 
<h2><a id="MySQL_3"></a>一、下载MySQL安装包</h2> 
<p>以MySQL5.7.29为例，进入MySQL官方的Community Server选择历史版本：<a href="https://downloads.mysql.com/archives/community/" rel="nofollow">https://downloads.mysql.com/archives/community/</a><br> <img src="https://images2.imgbox.com/d4/a2/fVEQ8FsA_o.png" alt="在这里插入图片描述"><br> 可以使用wget命令下载，或直接点击Download下载。然后将tar包放在Ubuntu的一个目录中。</p> 
<p>使用wget命令下载tar包</p> 
<pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">wget</span> https://downloads.mysql.com/archives/get/p/23/file/mysql-server_5.7.29-1ubuntu18.04_amd64.deb-bundle.tar
</code></pre> 
<p>解压tar包</p> 
<pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">tar</span> <span class="token parameter variable">-xvf</span> mysql-server_5.7.29-1ubuntu18.04_amd64.deb-bundle.tar
</code></pre> 
<p>解压后目录<br> <img src="https://images2.imgbox.com/de/7f/dlsN4YAo_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="MySQL_18"></a>二、安装MySQL</h2> 
<p>更新依赖源数据</p> 
<pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">apt-get</span> update
</code></pre> 
<p>安装依赖lib包</p> 
<pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> ./libmysql*
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> libtinfo5
</code></pre> 
<p>安装客户端和服务端，按提示可能要先安装community版本</p> 
<pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> ./mysql-community-client_5.7.29-1ubuntu18.04_amd64.deb
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> ./mysql-client_5.7.29-1ubuntu18.04_amd64.deb
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> ./mysql-community-server_5.7.29-1ubuntu18.04_amd64.deb
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> ./mysql-server_5.7.29-1ubuntu18.04_amd64.deb 
</code></pre> 
<p>第三行命令执行时会提示设置MySQL的密码，用户名默认root<br> <img src="https://images2.imgbox.com/5a/e2/LMGWyPV2_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="MySQL_37"></a>三、启动MySQL</h2> 
<h3><a id="_38"></a>检查状态</h3> 
<p>一般安装成功就自动启动，输入命令检查启动状态，绿色的active表示运行中</p> 
<pre><code class="prism language-bash">systemctl status mysql.service
</code></pre> 
<p><img src="https://images2.imgbox.com/df/08/dRJvh5Gy_o.png" alt="在这里插入图片描述"><img src="https://images2.imgbox.com/66/f5/lvcUdZdW_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="MySQL_44"></a>登录MySQL</h3> 
<p>使用root用户登录MySQL</p> 
<pre><code class="prism language-bash">mysql <span class="token parameter variable">-u</span> root <span class="token parameter variable">-p</span>
</code></pre> 
<p>输入密码后，如下界面就是进入MySQL命令行<br> <img src="https://images2.imgbox.com/c5/25/rYk19z2p_o.png" alt="在这里插入图片描述"><br> 此时mysql安装完成了，但是不能为我们的程序提供服务(使用连接工具现在是连接不上的)。 因为还需要配置远程连接，使我们可以远程登录才可以。</p> 
<h2><a id="_52"></a>四、开启远程访问功能</h2> 
<h3><a id="1root_53"></a>1、允许其他主机通过root访问数据库</h3> 
<p><strong>进入mysql库，查看user表。</strong> <strong>表中host、user字段标识了可以访问数据库的主机和用户。</strong></p> 
<pre><code class="prism language-bash">use mysql<span class="token punctuation">;</span>
<span class="token keyword">select</span> User,Host from user<span class="token punctuation">;</span>
</code></pre> 
<p><strong>默认情况下 mysql 只接受本地访问</strong>，需要执行 mysql 语句授权外网用户访问。例如下面的数据就表示只能用本地主机通过root用户访问数据库。为了让数据库支持远程主机访问，<strong>有两种方法可以开启远程访问功能。</strong><br> <img src="https://images2.imgbox.com/9d/4f/zp6aAunY_o.png" alt="在这里插入图片描述"></p> 
<p><strong>（1）第一种（改表法）：</strong><br> <strong>修改host字段的值，将localhost修改成需要远程连接数据库的ip地址，或者直接修改成%，使所有主机都可以通过root用户访问数据库。</strong></p> 
<p>以下是将user为root对应的host字段直接修改成%的命令：</p> 
<pre><code class="prism language-bash">update user <span class="token builtin class-name">set</span> <span class="token function">host</span> <span class="token operator">=</span> <span class="token string">'%'</span> where user <span class="token operator">=</span> <span class="token string">'root'</span><span class="token punctuation">;</span>
</code></pre> 
<p>输入命令使修改生效</p> 
<pre><code class="prism language-bash">flush privileges<span class="token punctuation">;</span> 
</code></pre> 
<p>再次查看user表, 修改成功。<img src="https://images2.imgbox.com/7c/15/QLVziaft_o.png" alt="在这里插入图片描述"><br> <strong>第二种（授权法）:</strong><br> 例如，你想root使用mypassword从任何主机连接到mysql服务器的话。</p> 
<pre><code class="prism language-bash">GRANT ALL PRIVILEGES ON *.* TO <span class="token string">'root'</span>@<span class="token string">'%'</span> IDENTIFIED BY <span class="token string">'mypassword'</span> WITH GRANT OPTION<span class="token punctuation">;</span>
</code></pre> 
<p>如果你想允许用户myuser从ip为192.168.1.3的主机连接到mysql服务器，并使用mypassword作为密码：</p> 
<pre><code class="prism language-bash">GRANT ALL PRIVILEGES ON *.* TO <span class="token string">'root'</span>@<span class="token string">'192.168.1.3'</span> IDENTIFIED BY 
<span class="token string">'mypassword'</span> WITH GRANT OPTION<span class="token punctuation">;</span>
</code></pre> 
<p>输入命令使修改生效</p> 
<pre><code class="prism language-bash">flush privileges<span class="token punctuation">;</span> 
</code></pre> 
<p>这两种方法选择一种即可，接下来配置允许其他IP访问</p> 
<h3><a id="2IP_92"></a>2、修改配置文件，允许其他IP通过自定义端口访问</h3> 
<p>现在需要配置服务器的接口，从而使服务器能够侦听远程可访问的接口。默认情况下，绑定地址为“127.0.0.1”。<br> 修改位于/etc/mysql/mysql.conf.d/mysqld.cnf 的配置文件，<strong>将bind-address=127.0.0.1修改成0.0.0.0，并添加 port = 开放的具体端口号，默认端口号为3306</strong> ，即可实现开放外网访问和自定义端口的目的。</p> 
<pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">vi</span> /etc/mysql/mysql.conf.d/mysqld.cnf
</code></pre> 
<p><img src="https://images2.imgbox.com/bf/0c/X0JTkHD3_o.png" alt="在这里插入图片描述"><br> 点击 Esc按键进入命令模式，输入 :wq 保存并退出。</p> 
<p>重启mysql服务</p> 
<pre><code class="prism language-bash">systemctl restart mysql
</code></pre> 
<p>重启成功后，就可以使用连接工具连接了！</p> 
<h2><a id="Navicat_108"></a>五、使用Navicat连接数据库</h2> 
<p>Navicat是一个广泛使用的数据库管理工具，可用于管理多种数据库系统，如MySQL、MariaDB、Oracle等。</p> 
<p>使用ifconfig查看服务器ip地址，使用Navicat与数据库建立连接。<br> <img src="https://images2.imgbox.com/c3/49/sjGtXYuU_o.png" alt="在这里插入图片描述"><br> <strong>至此 mysql的安装已全部完成 如果有部署在云服务器上的经过上列操作无法访问的话 记得查看后台防火墙端口是否开启</strong></p> 
<p>参考资料：<br> <a href="https://www.cnblogs.com/DingyLand/p/17466734.html" rel="nofollow">Ubuntu22.04安装低版本MySQL5.7</a><br> <a href="https://blog.csdn.net/qq_41265137/article/details/130644812?spm=1001.2101.3001.6650.7&amp;utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-7-130644812-blog-128264867.235%5Ev43%5Epc_blog_bottom_relevance_base3&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-7-130644812-blog-128264867.235%5Ev43%5Epc_blog_bottom_relevance_base3&amp;utm_relevant_index=13">Ubuntu安装mysql5.7(适用于大多数ubuntu版本)</a><br> <a href="https://devpress.csdn.net/devcloud/63bd284f80b9983378cda53e.html?spm=1001.2101.3001.6650.6&amp;utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7Eactivity-6-90287715-blog-130653390.235%5Ev43%5Epc_blog_bottom_relevance_base3&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7Eactivity-6-90287715-blog-130653390.235%5Ev43%5Epc_blog_bottom_relevance_base3&amp;utm_relevant_index=13#MySQL%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7%E4%B8%8E%E6%8E%88%E6%9D%83?login=from_csdn" rel="nofollow">Ubuntu 安装和使用MySQL</a><br> <a href="https://dev.mysql.com/doc/mysql-apt-repo-quick-guide/en/" rel="nofollow">使用 MySQL APT 存储库的快速指南(官方)</a><br> <a href="https://blog.csdn.net/qq_39559879/article/details/134815411">Ubuntu22 安装 mysql5.7 过程记录</a><br> <a href="https://blog.csdn.net/mazaiting/article/details/106661158">MySQL 异常: “Host ‘xxx’ is not allowed to connect to this MySQL server”</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/66ccc93cd31c8b8b4cf7219acbd4a83a/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【C语言课设】经典植物大战僵尸丨完整开发教程&#43;笔记&#43;源码</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/355558f277bc686c0b7f73d5e02c7b96/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">PHP&#43;MYSQL&#43;HTML实现在线购物商城，基于php的电商系统，电子商务网站，零食购物商城</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>