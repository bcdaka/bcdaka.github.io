<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>源码编译安装LNMP - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/8740789c21fb324770e12c5854132eca/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="源码编译安装LNMP">
  <meta property="og:description" content="目录
LNMP包含：
LNMP的工作原理 ：
编译安装： nginx服务器配置
安装依赖包 创建用户
上传软件包至/opt目录下并解压
编译安装
设置软链接，可以直接调用nginx命令来进行管理
添加Nginx系统服务
配置Nginx支持php解析（7 8 9 的操作是在配置完后面的mysql和php才开始的） ​编辑 ​编辑
验证php测试页
动态页面
静态页面
在本服务器中安装NFS
挂载目录
php服务器进行操作
验证mysql测试页
Mysql服务器配置 上传压缩包至/opt目录中并解压 安装环境依赖包 创建用户
配置软件模块
编译安装 清除mariadb缓存 修改mysql配置文件
更换mysql配置文件和安装目录的属主属组
在环境变量中添加mysql的bin和lib目录
mysql初始化操作
添加mysqld系统服务
修改mysql密码 授权并刷新 php服务器配置 上传压缩包至/opt目录中并解压
​编辑
安装环境依赖包
配置软件模块
编译安装
路径优化
修改php配置文件（共三个）
修改主配置文件 修改进程服务配置文件 ​编辑
修改扩展配置文件
​编辑​编辑​编辑创建用户
启动php-fpm
安装论坛 上传压缩包到Nginx服务器的/opt目录下并解压 设置属主属组
​编辑创建数据库 LNMP包含： linux、Nginx、Mysql、php
LNMP的工作原理 ： 由客户端发送页面请求给Nginx，Nginx会根据location匹配用户访问请求的URL路径判断是静态还是动态，静态的一般是以 .html .htm .css .shtml结尾，动态的一般是以 .php .jsp .py结尾。">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-06-04T14:28:33+08:00">
    <meta property="article:modified_time" content="2024-06-04T14:28:33+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">源码编译安装LNMP</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="main-toc-toc" style="margin-left:0px;"><a href="#main-toc" rel="nofollow">LNMP包含：</a></p> 
<p id="LNMP%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86%C2%A0%EF%BC%9A-toc" style="margin-left:0px;"><a href="#LNMP%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86%C2%A0%EF%BC%9A" rel="nofollow">LNMP的工作原理 ：</a></p> 
<p id="%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85%EF%BC%9A%C2%A0-toc" style="margin-left:0px;"><a href="#%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85%EF%BC%9A%C2%A0" rel="nofollow">编译安装： </a></p> 
<p id="nginx%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE-toc" style="margin-left:80px;"><a href="#nginx%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE" rel="nofollow">nginx服务器配置</a></p> 
<p id="%E5%AE%89%E8%A3%85%E4%BE%9D%E8%B5%96%E5%8C%85%C2%A0-toc" style="margin-left:120px;"><a href="#%E5%AE%89%E8%A3%85%E4%BE%9D%E8%B5%96%E5%8C%85%C2%A0" rel="nofollow">安装依赖包 </a></p> 
<p id="%C2%A0%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7-toc" style="margin-left:120px;"><a href="#%C2%A0%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7" rel="nofollow"> 创建用户</a></p> 
<p id="%E4%B8%8A%E4%BC%A0%E8%BD%AF%E4%BB%B6%E5%8C%85%E8%87%B3%2Fopt%E7%9B%AE%E5%BD%95%E4%B8%8B%E5%B9%B6%E8%A7%A3%E5%8E%8B-toc" style="margin-left:120px;"><a href="#%E4%B8%8A%E4%BC%A0%E8%BD%AF%E4%BB%B6%E5%8C%85%E8%87%B3%2Fopt%E7%9B%AE%E5%BD%95%E4%B8%8B%E5%B9%B6%E8%A7%A3%E5%8E%8B" rel="nofollow">上传软件包至/opt目录下并解压</a></p> 
<p id="%C2%A0%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85-toc" style="margin-left:120px;"><a href="#%C2%A0%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85" rel="nofollow"> 编译安装</a></p> 
<p id="%E8%AE%BE%E7%BD%AE%E8%BD%AF%E9%93%BE%E6%8E%A5%EF%BC%8C%E5%8F%AF%E4%BB%A5%E7%9B%B4%E6%8E%A5%E8%B0%83%E7%94%A8nginx%E5%91%BD%E4%BB%A4%E6%9D%A5%E8%BF%9B%E8%A1%8C%E7%AE%A1%E7%90%86-toc" style="margin-left:120px;"><a href="#%E8%AE%BE%E7%BD%AE%E8%BD%AF%E9%93%BE%E6%8E%A5%EF%BC%8C%E5%8F%AF%E4%BB%A5%E7%9B%B4%E6%8E%A5%E8%B0%83%E7%94%A8nginx%E5%91%BD%E4%BB%A4%E6%9D%A5%E8%BF%9B%E8%A1%8C%E7%AE%A1%E7%90%86" rel="nofollow">设置软链接，可以直接调用nginx命令来进行管理</a></p> 
<p id="%C2%A0%E6%B7%BB%E5%8A%A0Nginx%E7%B3%BB%E7%BB%9F%E6%9C%8D%E5%8A%A1-toc" style="margin-left:120px;"><a href="#%C2%A0%E6%B7%BB%E5%8A%A0Nginx%E7%B3%BB%E7%BB%9F%E6%9C%8D%E5%8A%A1" rel="nofollow"> 添加Nginx系统服务</a></p> 
<p id="%E9%85%8D%E7%BD%AENginx%E6%94%AF%E6%8C%81php%E8%A7%A3%E6%9E%90%EF%BC%887%208%209%20%E7%9A%84%E6%93%8D%E4%BD%9C%E6%98%AF%E5%9C%A8%E9%85%8D%E7%BD%AE%E5%AE%8C%E5%90%8E%E9%9D%A2%E7%9A%84mysql%E5%92%8Cphp%E6%89%8D%E5%BC%80%E5%A7%8B%E7%9A%84%EF%BC%89%C2%A0-toc" style="margin-left:120px;"><a href="#%E9%85%8D%E7%BD%AENginx%E6%94%AF%E6%8C%81php%E8%A7%A3%E6%9E%90%EF%BC%887%208%209%20%E7%9A%84%E6%93%8D%E4%BD%9C%E6%98%AF%E5%9C%A8%E9%85%8D%E7%BD%AE%E5%AE%8C%E5%90%8E%E9%9D%A2%E7%9A%84mysql%E5%92%8Cphp%E6%89%8D%E5%BC%80%E5%A7%8B%E7%9A%84%EF%BC%89%C2%A0" rel="nofollow">配置Nginx支持php解析（7 8 9 的操作是在配置完后面的mysql和php才开始的） </a></p> 
<p id="%E2%80%8B%E7%BC%96%E8%BE%91%C2%A0%E2%80%8B%E7%BC%96%E8%BE%91-toc" style="margin-left:80px;"><a href="#%E2%80%8B%E7%BC%96%E8%BE%91%C2%A0%E2%80%8B%E7%BC%96%E8%BE%91" rel="nofollow">​编辑 ​编辑</a></p> 
<p id="%E9%AA%8C%E8%AF%81php%E6%B5%8B%E8%AF%95%E9%A1%B5-toc" style="margin-left:120px;"><a href="#%E9%AA%8C%E8%AF%81php%E6%B5%8B%E8%AF%95%E9%A1%B5" rel="nofollow">验证php测试页</a></p> 
<p id="%E5%8A%A8%E6%80%81%E9%A1%B5%E9%9D%A2-toc" style="margin-left:160px;"><a href="#%E5%8A%A8%E6%80%81%E9%A1%B5%E9%9D%A2" rel="nofollow">动态页面</a></p> 
<p id="%E9%9D%99%E6%80%81%E9%A1%B5%E9%9D%A2-toc" style="margin-left:160px;"><a href="#%E9%9D%99%E6%80%81%E9%A1%B5%E9%9D%A2" rel="nofollow">静态页面</a></p> 
<p id="%E5%9C%A8%E6%9C%AC%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%AD%E5%AE%89%E8%A3%85NFS-toc" style="margin-left:160px;"><a href="#%E5%9C%A8%E6%9C%AC%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%AD%E5%AE%89%E8%A3%85NFS" rel="nofollow">在本服务器中安装NFS</a></p> 
<p id="%E6%8C%82%E8%BD%BD%E7%9B%AE%E5%BD%95-toc" style="margin-left:160px;"><a href="#%E6%8C%82%E8%BD%BD%E7%9B%AE%E5%BD%95" rel="nofollow">挂载目录</a></p> 
<p id="php%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%BF%9B%E8%A1%8C%E6%93%8D%E4%BD%9C-toc" style="margin-left:160px;"><a href="#php%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%BF%9B%E8%A1%8C%E6%93%8D%E4%BD%9C" rel="nofollow">php服务器进行操作</a></p> 
<p id="%C2%A0%E9%AA%8C%E8%AF%81mysql%E6%B5%8B%E8%AF%95%E9%A1%B5-toc" style="margin-left:120px;"><a href="#%C2%A0%E9%AA%8C%E8%AF%81mysql%E6%B5%8B%E8%AF%95%E9%A1%B5" rel="nofollow"> 验证mysql测试页</a></p> 
<p id="Mysql%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE%C2%A0-toc" style="margin-left:80px;"><a href="#Mysql%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE%C2%A0" rel="nofollow">Mysql服务器配置 </a></p> 
<p id="%E4%B8%8A%E4%BC%A0%E5%8E%8B%E7%BC%A9%E5%8C%85%E8%87%B3%2Fopt%E7%9B%AE%E5%BD%95%E4%B8%AD%E5%B9%B6%E8%A7%A3%E5%8E%8B%C2%A0-toc" style="margin-left:120px;"><a href="#%E4%B8%8A%E4%BC%A0%E5%8E%8B%E7%BC%A9%E5%8C%85%E8%87%B3%2Fopt%E7%9B%AE%E5%BD%95%E4%B8%AD%E5%B9%B6%E8%A7%A3%E5%8E%8B%C2%A0" rel="nofollow">上传压缩包至/opt目录中并解压 </a></p> 
<p id="%E5%AE%89%E8%A3%85%E7%8E%AF%E5%A2%83%E4%BE%9D%E8%B5%96%E5%8C%85%C2%A0-toc" style="margin-left:120px;"><a href="#%E5%AE%89%E8%A3%85%E7%8E%AF%E5%A2%83%E4%BE%9D%E8%B5%96%E5%8C%85%C2%A0" rel="nofollow">安装环境依赖包 </a></p> 
<p id="%C2%A0%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7-toc" style="margin-left:120px;"><a href="#%C2%A0%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7" rel="nofollow"> 创建用户</a></p> 
<p id="%E9%85%8D%E7%BD%AE%E8%BD%AF%E4%BB%B6%E6%A8%A1%E5%9D%97-toc" style="margin-left:120px;"><a href="#%E9%85%8D%E7%BD%AE%E8%BD%AF%E4%BB%B6%E6%A8%A1%E5%9D%97" rel="nofollow">配置软件模块</a></p> 
<p id="%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85%C2%A0-toc" style="margin-left:120px;"><a href="#%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85%C2%A0" rel="nofollow">编译安装 </a></p> 
<p id="%E6%B8%85%E9%99%A4mariadb%E7%BC%93%E5%AD%98%C2%A0-toc" style="margin-left:120px;"><a href="#%E6%B8%85%E9%99%A4mariadb%E7%BC%93%E5%AD%98%C2%A0" rel="nofollow">清除mariadb缓存 </a></p> 
<p id="%E4%BF%AE%E6%94%B9mysql%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6-toc" style="margin-left:120px;"><a href="#%E4%BF%AE%E6%94%B9mysql%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6" rel="nofollow">修改mysql配置文件</a></p> 
<p id="%E6%9B%B4%E6%8D%A2mysql%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E5%92%8C%E5%AE%89%E8%A3%85%E7%9B%AE%E5%BD%95%E7%9A%84%E5%B1%9E%E4%B8%BB%E5%B1%9E%E7%BB%84-toc" style="margin-left:120px;"><a href="#%E6%9B%B4%E6%8D%A2mysql%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E5%92%8C%E5%AE%89%E8%A3%85%E7%9B%AE%E5%BD%95%E7%9A%84%E5%B1%9E%E4%B8%BB%E5%B1%9E%E7%BB%84" rel="nofollow">更换mysql配置文件和安装目录的属主属组</a></p> 
<p id="%E5%9C%A8%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E4%B8%AD%E6%B7%BB%E5%8A%A0mysql%E7%9A%84bin%E5%92%8Clib%E7%9B%AE%E5%BD%95-toc" style="margin-left:120px;"><a href="#%E5%9C%A8%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E4%B8%AD%E6%B7%BB%E5%8A%A0mysql%E7%9A%84bin%E5%92%8Clib%E7%9B%AE%E5%BD%95" rel="nofollow">在环境变量中添加mysql的bin和lib目录</a></p> 
<p id="mysql%E5%88%9D%E5%A7%8B%E5%8C%96%E6%93%8D%E4%BD%9C-toc" style="margin-left:120px;"><a href="#mysql%E5%88%9D%E5%A7%8B%E5%8C%96%E6%93%8D%E4%BD%9C" rel="nofollow">mysql初始化操作</a></p> 
<p id="%E6%B7%BB%E5%8A%A0mysqld%E7%B3%BB%E7%BB%9F%E6%9C%8D%E5%8A%A1-toc" style="margin-left:120px;"><a href="#%E6%B7%BB%E5%8A%A0mysqld%E7%B3%BB%E7%BB%9F%E6%9C%8D%E5%8A%A1" rel="nofollow">添加mysqld系统服务</a></p> 
<p id="%E4%BF%AE%E6%94%B9mysql%E5%AF%86%E7%A0%81%C2%A0-toc" style="margin-left:120px;"><a href="#%E4%BF%AE%E6%94%B9mysql%E5%AF%86%E7%A0%81%C2%A0" rel="nofollow">修改mysql密码 </a></p> 
<p id="%E6%8E%88%E6%9D%83%E5%B9%B6%E5%88%B7%E6%96%B0%C2%A0-toc" style="margin-left:120px;"><a href="#%E6%8E%88%E6%9D%83%E5%B9%B6%E5%88%B7%E6%96%B0%C2%A0" rel="nofollow">授权并刷新 </a></p> 
<p id="php%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE%C2%A0-toc" style="margin-left:40px;"><a href="#php%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE%C2%A0" rel="nofollow">php服务器配置 </a></p> 
<p id="%C2%A0%E4%B8%8A%E4%BC%A0%E5%8E%8B%E7%BC%A9%E5%8C%85%E8%87%B3%2Fopt%E7%9B%AE%E5%BD%95%E4%B8%AD%E5%B9%B6%E8%A7%A3%E5%8E%8B-toc" style="margin-left:120px;"><a href="#%C2%A0%E4%B8%8A%E4%BC%A0%E5%8E%8B%E7%BC%A9%E5%8C%85%E8%87%B3%2Fopt%E7%9B%AE%E5%BD%95%E4%B8%AD%E5%B9%B6%E8%A7%A3%E5%8E%8B" rel="nofollow"> 上传压缩包至/opt目录中并解压</a></p> 
<p id="%E2%80%8B%E7%BC%96%E8%BE%91-toc" style="margin-left:120px;"><a href="#%E2%80%8B%E7%BC%96%E8%BE%91" rel="nofollow">​编辑</a></p> 
<p id="%E5%AE%89%E8%A3%85%E7%8E%AF%E5%A2%83%E4%BE%9D%E8%B5%96%E5%8C%85-toc" style="margin-left:120px;"><a href="#%E5%AE%89%E8%A3%85%E7%8E%AF%E5%A2%83%E4%BE%9D%E8%B5%96%E5%8C%85" rel="nofollow">安装环境依赖包</a></p> 
<p id="%E9%85%8D%E7%BD%AE%E8%BD%AF%E4%BB%B6%E6%A8%A1%E5%9D%97-toc" style="margin-left:120px;"><a href="#%E9%85%8D%E7%BD%AE%E8%BD%AF%E4%BB%B6%E6%A8%A1%E5%9D%97" rel="nofollow">配置软件模块</a></p> 
<p id="%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85-toc" style="margin-left:120px;"><a href="#%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85" rel="nofollow">编译安装</a></p> 
<p id="%E8%B7%AF%E5%BE%84%E4%BC%98%E5%8C%96-toc" style="margin-left:120px;"><a href="#%E8%B7%AF%E5%BE%84%E4%BC%98%E5%8C%96" rel="nofollow">路径优化</a></p> 
<p id="%E4%BF%AE%E6%94%B9php%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%EF%BC%88%E5%85%B1%E4%B8%89%E4%B8%AA%EF%BC%89-toc" style="margin-left:120px;"><a href="#%E4%BF%AE%E6%94%B9php%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%EF%BC%88%E5%85%B1%E4%B8%89%E4%B8%AA%EF%BC%89" rel="nofollow">修改php配置文件（共三个）</a></p> 
<p id="%E4%BF%AE%E6%94%B9%E4%B8%BB%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%C2%A0-toc" style="margin-left:160px;"><a href="#%E4%BF%AE%E6%94%B9%E4%B8%BB%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%C2%A0" rel="nofollow">修改主配置文件 </a></p> 
<p id="%E4%BF%AE%E6%94%B9%E8%BF%9B%E7%A8%8B%E6%9C%8D%E5%8A%A1%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%C2%A0-toc" style="margin-left:160px;"><a href="#%E4%BF%AE%E6%94%B9%E8%BF%9B%E7%A8%8B%E6%9C%8D%E5%8A%A1%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%C2%A0" rel="nofollow">修改进程服务配置文件 </a></p> 
<p id="%E2%80%8B%E7%BC%96%E8%BE%91-toc" style="margin-left:160px;"><a href="#%E2%80%8B%E7%BC%96%E8%BE%91" rel="nofollow">​编辑</a></p> 
<p id="%E4%BF%AE%E6%94%B9%E6%89%A9%E5%B1%95%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6-toc" style="margin-left:160px;"><a href="#%E4%BF%AE%E6%94%B9%E6%89%A9%E5%B1%95%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6" rel="nofollow">修改扩展配置文件</a></p> 
<p id="%E2%80%8B%E7%BC%96%E8%BE%91%E2%80%8B%E7%BC%96%E8%BE%91%E2%80%8B%E7%BC%96%E8%BE%91%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7-toc" style="margin-left:120px;"><a href="#%E2%80%8B%E7%BC%96%E8%BE%91%E2%80%8B%E7%BC%96%E8%BE%91%E2%80%8B%E7%BC%96%E8%BE%91%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7" rel="nofollow">​编辑​编辑​编辑创建用户</a></p> 
<p id="%E5%90%AF%E5%8A%A8php-fpm-toc" style="margin-left:120px;"><a href="#%E5%90%AF%E5%8A%A8php-fpm" rel="nofollow">启动php-fpm</a></p> 
<p id="%E5%AE%89%E8%A3%85%E8%AE%BA%E5%9D%9B%C2%A0-toc" style="margin-left:80px;"><a href="#%E5%AE%89%E8%A3%85%E8%AE%BA%E5%9D%9B%C2%A0" rel="nofollow">安装论坛 </a></p> 
<p id="%E4%B8%8A%E4%BC%A0%E5%8E%8B%E7%BC%A9%E5%8C%85%E5%88%B0Nginx%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%9A%84%2Fopt%E7%9B%AE%E5%BD%95%E4%B8%8B%E5%B9%B6%E8%A7%A3%E5%8E%8B%C2%A0-toc" style="margin-left:120px;"><a href="#%E4%B8%8A%E4%BC%A0%E5%8E%8B%E7%BC%A9%E5%8C%85%E5%88%B0Nginx%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%9A%84%2Fopt%E7%9B%AE%E5%BD%95%E4%B8%8B%E5%B9%B6%E8%A7%A3%E5%8E%8B%C2%A0" rel="nofollow">上传压缩包到Nginx服务器的/opt目录下并解压 </a></p> 
<p id="%E8%AE%BE%E7%BD%AE%E5%B1%9E%E4%B8%BB%E5%B1%9E%E7%BB%84-toc" style="margin-left:120px;"><a href="#%E8%AE%BE%E7%BD%AE%E5%B1%9E%E4%B8%BB%E5%B1%9E%E7%BB%84" rel="nofollow">设置属主属组</a></p> 
<p id="%E2%80%8B%E7%BC%96%E8%BE%91%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93%C2%A0-toc" style="margin-left:80px;"><a href="#%E2%80%8B%E7%BC%96%E8%BE%91%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93%C2%A0" rel="nofollow">​编辑创建数据库 </a></p> 
<hr id="hr-toc"> 
<p></p> 
<h2>LNMP<strong>包含</strong>：</h2> 
<blockquote> 
 <p><strong>linux、Nginx、Mysql、php</strong></p> 
</blockquote> 
<h2 id="LNMP%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86%C2%A0%EF%BC%9A">LNMP的工作原理 ：</h2> 
<p><img alt="" height="1176" src="https://images2.imgbox.com/91/c6/6ckEylon_o.png" width="1200"></p> 
<blockquote> 
 <p>由客户端发送页面请求给Nginx，Nginx会根据location匹配用户访问请求的URL路径判断是静态还是动态，静态的一般是以 .html .htm .css .shtml结尾，动态的一般是以 .php .jsp .py结尾。</p> 
 <p>如果是静态，由Nginx直接处理和响应。如果是动态，Nginx会通过fastcgi接口转发给php-fpm进程接受，</p> 
 <p>然后再由php解析器处理解释动态页面后响应返回给Nginx，Nginx再返回给客户端。如果动态页面涉及到数据库的读写，php会通过程序代码访问，mysql的api接口，并使用sql语句进行数据库的速写操作</p> 
</blockquote> 
<h2 id="%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85%EF%BC%9A%C2%A0">编译安装： </h2> 
<p><strong>三台虚拟机，Nginx服务器，Mysql服务器，php服务器。</strong></p> 
<h4><strong>三台虚拟机系统初始化</strong> ：</h4> 
<pre><code>[root@l1 ~]# systemctl stop firewalld
[root@l1 ~]# setenforce 0
[root@l1 ~]# 
</code></pre> 
<pre><code>[root@l2 ~]# systemctl stop firewalld
[root@l2 ~]# setenforce 0
[root@l2 ~]# 
</code></pre> 
<pre><code>[root@l3 ~]# systemctl stop firewalld
[root@l3 ~]# setenforce 0
[root@l3 ~]# 
</code></pre> 
<h4 id="nginx%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE">nginx服务器配置</h4> 
<h5 id="%E5%AE%89%E8%A3%85%E4%BE%9D%E8%B5%96%E5%8C%85%C2%A0">安装依赖包 </h5> 
<div> 
 <pre><code>[root@l1 ~]# df
文件系统                   1K-块    已用     可用 已用% 挂载点
devtmpfs                  480736       0   480736    0% /dev
tmpfs                     497816       0   497816    0% /dev/shm
tmpfs                     497816   14912   482904    3% /run
tmpfs                     497816       0   497816    0% /sys/fs/cgroup
/dev/mapper/centos-root 38770180 5435772 33334408   15% /
/dev/sda1                1038336  177472   860864   18% /boot
tmpfs                      99564      32    99532    1% /run/user/0
/dev/sr0                 4635056 4635056        0  100% /mnt
[root@l1 ~]# yum -y install pcre-devel zlib-devel openssl-devel gcc gcc-c++ make   
//安装依赖包
</code></pre> 
</div> 
<h5 id="%C2%A0%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7"> 创建用户</h5> 
<div> 
 <pre><code>[root@l1 ~]# useradd -M -s /sbin/nologin nginx   //创建用户
[root@l1 ~]# cat /etc/passwd | grep nginx:
nginx:x:1001:1001::/home/nginx:/sbin/nologin
[root@l1 ~]# 
</code></pre> 
</div> 
<h5 id="%E4%B8%8A%E4%BC%A0%E8%BD%AF%E4%BB%B6%E5%8C%85%E8%87%B3%2Fopt%E7%9B%AE%E5%BD%95%E4%B8%8B%E5%B9%B6%E8%A7%A3%E5%8E%8B">上传软件包至/opt目录下并解压</h5> 
<p><img alt="" height="451" src="https://images2.imgbox.com/63/8e/f1gw1RVs_o.png" width="655">​ </p> 
<div> 
 <pre><code>[root@l1 opt]# ls
nginx-1.26.0.tar.gz  rh
[root@l1 opt]# tar xf nginx-1.26.0.tar.gz   //解压
[root@l1 opt]# ls
nginx-1.26.0  nginx-1.26.0.tar.gz  rh
[root@l1 opt]# cd nginx-1.26.0/
[root@l1 nginx-1.26.0]# 
</code></pre> 
</div> 
<h5 id="%C2%A0%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85"> 编译安装</h5> 
<pre><code class="hljs">./configure \
--prefix=/usr/local/nginx \
--user=nginx \
--group=nginx \
--with-http_stub_status_module</code></pre> 
<div> 
 <pre><code>[root@l1 nginx-1.26.0]#  ./configure --prefix=/usr/local/nginx --user=nginx --group=nginx --with-http_stub_status_module  --with-http_ssl_module</code></pre> 
</div> 
<div> 
 <pre><code>[root@l1 nginx-1.26.0]# make -j4 &amp;&amp; make install</code></pre> 
</div> 
<h5 id="%E8%AE%BE%E7%BD%AE%E8%BD%AF%E9%93%BE%E6%8E%A5%EF%BC%8C%E5%8F%AF%E4%BB%A5%E7%9B%B4%E6%8E%A5%E8%B0%83%E7%94%A8nginx%E5%91%BD%E4%BB%A4%E6%9D%A5%E8%BF%9B%E8%A1%8C%E7%AE%A1%E7%90%86">设置软链接，可以直接调用nginx命令来进行管理</h5> 
<div> 
 <pre><code>[root@l1 nginx-1.26.0]# cd /usr/local/nginx/
[root@l1 nginx]# ls sbin/
nginx
[root@l1 nginx]# ln -s /usr/local/nginx/sbin/nginx /usr/local/sbin/    //软连接
[root@l1 nginx]# nginx -t
nginx: the configuration file /usr/local/nginx/conf/nginx.conf syntax is ok
nginx: configuration file /usr/local/nginx/conf/nginx.conf test is successful
[root@l1 nginx]# 
</code></pre> 
</div> 
<h5 id="%C2%A0%E6%B7%BB%E5%8A%A0Nginx%E7%B3%BB%E7%BB%9F%E6%9C%8D%E5%8A%A1"> <strong>添加Nginx系统服务</strong></h5> 
<div> 
 <pre><code>[root@l1 nginx]# cd /usr/lib/systemd/system
[root@l1 system]# vim nginx.service
</code></pre> 
</div> 
<p> <img alt="" height="391" src="https://images2.imgbox.com/c0/8e/veXZyiya_o.png" width="562">​</p> 
<div> 
 <pre><code>[Unit]
Description=nginx
After=network.target

[Service]
Type=forking
PIDFile=/usr/local/nginx/logs/nginx.pid
ExecStart=/usr/local/nginx/sbin/nginx
ExecReload=/bin/kill -s HUP $MAINPID
ExecStop=/bin/kill -s QUIT $MAINPID
PrivateTmp=true

[Install]
WantedBy=multi-user.target</code></pre> 
</div> 
<div> 
 <pre><code>[root@l1 system]# systemctl daemon-reload
[root@l1 system]# systemctl start nginx
[root@l1 system]# systemctl enable nginx
Created symlink from /etc/systemd/system/multi-user.target.wants/nginx.service to /usr/lib/systemd/system/nginx.service.
[root@l1 system]# netstat -lntp | grep nginx
tcp        0      0 0.0.0.0:80              0.0.0.0:*               LISTEN      10947/nginx: master 
[root@l1 system]#</code></pre> 
</div> 
<h5 id="%E9%85%8D%E7%BD%AENginx%E6%94%AF%E6%8C%81php%E8%A7%A3%E6%9E%90%EF%BC%887%208%209%20%E7%9A%84%E6%93%8D%E4%BD%9C%E6%98%AF%E5%9C%A8%E9%85%8D%E7%BD%AE%E5%AE%8C%E5%90%8E%E9%9D%A2%E7%9A%84mysql%E5%92%8Cphp%E6%89%8D%E5%BC%80%E5%A7%8B%E7%9A%84%EF%BC%89%C2%A0">配置Nginx支持php解析（7 8 9 的操作是在配置完后面的mysql和php才开始的） </h5> 
<pre><code>[root@l1 nginx]# cd /usr/local/nginx/
[root@l1 nginx]# cd conf/
[root@l1 conf]# ls
fastcgi.conf            koi-win             scgi_params
fastcgi.conf.default    mime.types          scgi_params.default
fastcgi_params          mime.types.default  uwsgi_params
fastcgi_params.default  nginx.conf          uwsgi_params.default
koi-utf                 nginx.conf.default  win-utf
[root@l1 conf]# vim nginx.conf
[root@l1 conf]# 
</code></pre> 
<p> <img alt="" height="134" src="https://images2.imgbox.com/f5/21/AZNnrsnP_o.png" width="421"></p> 
<p> <img alt="" height="200" src="https://images2.imgbox.com/c9/53/FZOoQEbn_o.png" width="477"></p> 
<h4 id="%E2%80%8B%E7%BC%96%E8%BE%91%C2%A0%E2%80%8B%E7%BC%96%E8%BE%91"><img alt="" height="216" src="https://images2.imgbox.com/68/9f/8zubOvKy_o.png" width="576"> <img alt="" height="315" src="https://images2.imgbox.com/00/96/VzIdHfgv_o.png" width="1001"></h4> 
<pre><code>[root@l1 conf]# nginx -t
nginx: the configuration file /usr/local/nginx/conf/nginx.conf syntax is ok
nginx: configuration file /usr/local/nginx/conf/nginx.conf test is successful
[root@l1 conf]# </code></pre> 
<h4 id="%E9%AA%8C%E8%AF%81php%E6%B5%8B%E8%AF%95%E9%A1%B5">验证php测试页</h4> 
<h5 id="%E5%8A%A8%E6%80%81%E9%A1%B5%E9%9D%A2"><strong>动态页面</strong></h5> 
<pre><code>[root@l1 conf]# mkdir -p /var/www/html
[root@l1 conf]# cd /var/www/html/
[root@l1 html]# vim test.php
[root@l1 html]# 
</code></pre> 
<p><img alt="" height="154" src="https://images2.imgbox.com/db/a7/TgZqahji_o.png" width="315"></p> 
<h5 id="%E9%9D%99%E6%80%81%E9%A1%B5%E9%9D%A2"><strong>静态页面</strong></h5> 
<pre><code>[root@l1 html]# cd /usr/local/nginx/html/
[root@l1 html]# ls
50x.html  index.html
[root@l1 html]# rz -E
rz waiting to receive.
[root@l1 html]# vim m.html
[root@l1 html]# ls
50x.html  index.html  m.html  w.jpg
[root@l1 html]# 
</code></pre> 
<p><img alt="" height="202" src="https://images2.imgbox.com/49/92/6r6BbAvQ_o.png" width="449"></p> 
<p><img alt="" height="380" src="https://images2.imgbox.com/10/f7/G4ZkRndH_o.png" width="851"><img alt="" height="229" src="https://images2.imgbox.com/e2/63/7IML3nqw_o.png" width="535"> <img alt="" height="86" src="https://images2.imgbox.com/41/c0/m8Ugwowt_o.png" width="407"><img alt="" height="1014" src="https://images2.imgbox.com/d4/2a/rDXoFHqg_o.png" width="1200"></p> 
<p></p> 
<p><strong>此时动态页面现在是查不到的，静态页面是由Nginx直接处理和响应的，而动态页面是</strong><strong>Nginx通过fastcgi接口转发给php-fpm进程接受，然后再由php解析器处理解释动态页面后响应返回给Nginx，Nginx再返回给客户端的，所以我们要在将动态页面位置也放入到php服务器中</strong></p> 
<h6 id="%E5%9C%A8%E6%9C%AC%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%AD%E5%AE%89%E8%A3%85NFS"><strong>在本服务器中安装NFS</strong></h6> 
<p><strong>yum安装rbcbind和nfs-utils</strong><img alt="" height="221" src="https://images2.imgbox.com/ff/20/7KYBSnuo_o.png" width="969"></p> 
<pre><code>[root@l1 html]# vim /etc/exports
</code></pre> 
<p><img alt="" height="201" src="https://images2.imgbox.com/b4/6c/iE6lPUPR_o.png" width="674"></p> 
<pre><code>[root@l1 html]# systemctl --now enable rpcbind nfs
Created symlink from /etc/systemd/system/multi-user.target.wants/nfs-server.service to /usr/lib/systemd/system/nfs-server.service.
[root@l1 html]# showmount -e
Export list for l1:
/var/www/html 192.168.18.0/24
[root@l1 html]# 
</code></pre> 
<h5 id="%E6%8C%82%E8%BD%BD%E7%9B%AE%E5%BD%95"><strong>挂载目录</strong></h5> 
<pre><code>[root@localhost opt]# vim /etc/fstab
</code></pre> 
<p><img alt="" height="386" src="https://images2.imgbox.com/71/1c/F0Gr8nW9_o.png" width="765"></p> 
<h5 id="php%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%BF%9B%E8%A1%8C%E6%93%8D%E4%BD%9C"><strong>php服务器进行操作</strong></h5> 
<p><strong>能查到我们Nginx服务器共享的目录</strong></p> 
<pre><code>[root@localhost ~]# showmount -e 192.168.18.10
Export list for 192.168.18.10:
/var/www/html 192.168.18.0/24
[root@localhost ~]# 
</code></pre> 
<p></p> 
<h5><strong>挂载目录</strong> </h5> 
<p><img alt="" height="350" src="https://images2.imgbox.com/96/05/McCgZMh8_o.png" width="916"></p> 
<pre><code>[root@localhost ~]# vim /etc/fstab 
[root@localhost ~]# mkdir -p /var/www/html
[root@localhost ~]# mount -a
[root@localhost ~]# df -h
文件系统                     容量  已用  可用 已用% 挂载点
devtmpfs                     470M     0  470M    0% /dev
tmpfs                        487M     0  487M    0% /dev/shm
tmpfs                        487M  8.5M  478M    2% /run
tmpfs                        487M     0  487M    0% /sys/fs/cgroup
/dev/mapper/centos-root       37G  5.1G   32G   14% /
/dev/sda1                   1014M  174M  841M   18% /boot
tmpfs                         98M   60K   98M    1% /run/user/0
/dev/sr0                     4.5G  4.5G     0  100% /mnt
192.168.18.10:/var/www/html   37G  5.3G   32G   15% /var/www/html
[root@localhost ~]# 
</code></pre> 
<pre><code>[root@localhost ~]# ls /var/www/html/      //查看目录，显示成功
test.php
[root@localhost ~]# 
</code></pre> 
<p> <img alt="" height="130" src="https://images2.imgbox.com/43/a7/lUhKrbzs_o.png" width="416"><img alt="" height="915" src="https://images2.imgbox.com/34/fe/1MsGn6P1_o.png" width="1200"></p> 
<h5 id="%C2%A0%E9%AA%8C%E8%AF%81mysql%E6%B5%8B%E8%AF%95%E9%A1%B5"> 验证mysql测试页</h5> 
<p> 随便在nginx还是php服务器的/var/www/html目录下创建一个mysql.php文件</p> 
<p>我这是在php服务器创建的，文件里面的IP地址是mysql服务器的IP地址</p> 
<pre><code>[root@localhost php-7.1.10]# cd /var/www/html/
[root@localhost html]# ls
test.php
[root@localhost html]# vim mysql.php
[root@localhost html]#</code></pre> 
<p><img alt="" height="346" src="https://images2.imgbox.com/04/ee/6WIzueI3_o.png" width="820"></p> 
<pre><code>&lt;?php
$link=mysqli_connect('192.168.18.20','root','abc123');     
if($link) echo "&lt;h1&gt;mysql connect successful &lt;/h1&gt;";
else echo "&lt;h1&gt;mysql connect failed&lt;/h1&gt;";
 
?&gt;</code></pre> 
<p> <img alt="" height="197" src="https://images2.imgbox.com/85/a0/n8xtLPWv_o.png" width="636"><img alt="" height="89" src="https://images2.imgbox.com/95/57/N3Bq8UJK_o.png" width="486"><img alt="" height="362" src="https://images2.imgbox.com/5c/85/5NkR6kAA_o.png" width="875"></p> 
<p></p> 
<hr> 
<h4 id="Mysql%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE%C2%A0">Mysql服务器配置 </h4> 
<h5 id="%E4%B8%8A%E4%BC%A0%E5%8E%8B%E7%BC%A9%E5%8C%85%E8%87%B3%2Fopt%E7%9B%AE%E5%BD%95%E4%B8%AD%E5%B9%B6%E8%A7%A3%E5%8E%8B%C2%A0">上传压缩包至/opt目录中并解压 </h5> 
<div> 
 <pre><code>[root@l2 ~]# cd /opt
[root@l2 opt]# ls
abc.txt  cywl  cywl.txt  rh
[root@l2 opt]# rz -E
rz waiting to receive.
[root@l2 opt]# ls
abc.txt  cywl  cywl.txt  mysql-boost-5.7.44.tar.gz  rh
</code></pre> 
</div> 
<p></p> 
<p> <img alt="" height="419" src="https://images2.imgbox.com/fc/72/Tq7NXjez_o.png" width="540">​</p> 
<div> 
 <pre><code>[root@l2 opt]# tar xf mysql-boost-5.7.44.tar.gz  //解压
[root@l2 opt]# ls
abc.txt  cywl  cywl.txt  mysql-5.7.44  mysql-boost-5.7.44.tar.gz  rh
[root@l2 opt]# cd mysql-5.7.44/ 
</code></pre> 
</div> 
<h5 id="%E5%AE%89%E8%A3%85%E7%8E%AF%E5%A2%83%E4%BE%9D%E8%B5%96%E5%8C%85%C2%A0">安装环境依赖包 </h5> 
<div> 
 <pre><code>[root@l2 mysql-5.7.44]# mount /dev/sr0 /mnt/
mount: /dev/sr0 写保护，将以只读方式挂载
[root@l2 mysql-5.7.44]# df
文件系统                   1K-块    已用     可用 已用% 挂载点
devtmpfs                 1913548       0  1913548    0% /dev
tmpfs                    1930628       0  1930628    0% /dev/shm
tmpfs                    1930628   12528  1918100    1% /run
tmpfs                    1930628       0  1930628    0% /sys/fs/cgroup
/dev/mapper/centos-root 38770180 6265016 32505164   17% /
/dev/sda1                1038336  191100   847236   19% /boot
tmpfs                     386128      12   386116    1% /run/user/42
tmpfs                     386128       0   386128    0% /run/user/0
/dev/sr0                 4635056 4635056        0  100% /mnt
[root@l2 mysql-5.7.44]# yum -y install gcc gcc-c++ ncurses ncurses-devel bison cmake openssl-devel
</code></pre> 
</div> 
<h5> 创建用户</h5> 
<div> 
 <pre><code>[root@zx3 mysql-5.7.44]# useradd -M -s /sbin/nologin  mysql
[root@zx3 mysql-5.7.44]# cat /etc/passwd | grep mysql:
mysql:x:1001:1001::/home/mysql:/sbin/nologin
[root@zx3 mysql-5.7.44]#
</code></pre> 
</div> 
<h5 id="%E9%85%8D%E7%BD%AE%E8%BD%AF%E4%BB%B6%E6%A8%A1%E5%9D%97">配置软件模块</h5> 
<div> 
 <pre><code>[root@l2 mysql-5.7.44]# cmake \
&gt; -DCMAKE_INSTALL_PREFIX=/usr/local/mysql \
&gt; -DMYSQL_UNIX_ADDR=/usr/local/mysql/mysql.sock \
&gt; -DSYSCONFDIR=/etc \
&gt; -DSYSTEMD_PID_DIR=/usr/local/mysql \
&gt; -DDEFAULT_CHARSET=utf8  \
&gt; -DDEFAULT_COLLATION=utf8_general_ci \
&gt; -DWITH_EXTRA_CHARSETS=all \
&gt; -DWITH_INNOBASE_STORAGE_ENGINE=1 \
&gt; -DMYSQL_DATADIR=/usr/local/mysql/data \
&gt; -DWITH_BOOST=boost \
&gt; -DWITH_SYSTEMD=1
</code></pre> 
</div> 
<div> 
 <pre><code>cmake \
-DCMAKE_INSTALL_PREFIX=/usr/local/mysql \
-DMYSQL_UNIX_ADDR=/usr/local/mysql/mysql.sock \
-DSYSCONFDIR=/etc \
-DSYSTEMD_PID_DIR=/usr/local/mysql \
-DDEFAULT_CHARSET=utf8  \
-DDEFAULT_COLLATION=utf8_general_ci \
-DWITH_EXTRA_CHARSETS=all \
-DWITH_INNOBASE_STORAGE_ENGINE=1 \
-DMYSQL_DATADIR=/usr/local/mysql/data \
-DWITH_BOOST=boost \
-DWITH_SYSTEMD=1</code></pre> 
</div> 
<h5 id="%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85%C2%A0">编译安装 </h5> 
<div> 
 <pre><code>[root@l2 mysql-5.7.44]# make -j 4 &amp;&amp; make install
</code></pre> 
</div> 
<h5 id="%E6%B8%85%E9%99%A4mariadb%E7%BC%93%E5%AD%98%C2%A0">清除mariadb缓存 </h5> 
<div> 
 <pre><code>[root@l2 mysql-5.7.44]# yum remove -y mariadb*
</code></pre> 
</div> 
<h5 id="%E4%BF%AE%E6%94%B9mysql%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6">修改mysql配置文件</h5> 
<div> 
 <pre><code>[root@l2 mysql-5.7.44]# vim /etc/my.cnf
</code></pre> 
</div> 
<p></p> 
<div> 
 <pre><code>[client]
port = 3306
socket=/usr/local/mysql/mysql.sock

[mysqld]
user = mysql
basedir=/usr/local/mysql
datadir=/usr/local/mysql/data
port = 3306
character-set-server=utf8
pid-file = /usr/local/mysql/mysqld.pid
socket=/usr/local/mysql/mysql.sock
bind-address = 0.0.0.0
skip-name-resolve
max_connections=2048
default-storage-engine=INNODB
max_allowed_packet=16M
server-id = 1

sql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_AUTO_VALUE_ON_ZERO,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,PIPES_AS_CONCAT,ANSI_QUOTES
</code></pre> 
</div> 
<h5 id="%E6%9B%B4%E6%8D%A2mysql%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E5%92%8C%E5%AE%89%E8%A3%85%E7%9B%AE%E5%BD%95%E7%9A%84%E5%B1%9E%E4%B8%BB%E5%B1%9E%E7%BB%84">更换mysql配置文件和安装目录的属主属组</h5> 
<div> 
 <pre><code>[root@l2 mysql-5.7.44]# chown mysql:mysql /etc/my.cnf
[root@l2 mysql-5.7.44]# ll /etc/my.cnf
-rw-r--r--. 1 mysql mysql 555 6月   2 13:20 /etc/my.cnf
[root@l2 mysql-5.7.44]# cd /usr/local/
[root@l2 local]# ll
总用量 0
drwxr-xr-x.  2 root root   6 4月  11 2018 bin
drwxr-xr-x.  2 root root   6 4月  11 2018 etc
drwxr-xr-x.  2 root root   6 4月  11 2018 games
drwxr-xr-x.  2 root root   6 4月  11 2018 include
drwxr-xr-x.  2 root root   6 4月  11 2018 lib
drwxr-xr-x.  2 root root   6 4月  11 2018 lib64
drwxr-xr-x.  2 root root   6 4月  11 2018 libexec
drwxr-xr-x. 11 root root 177 6月   2 12:57 mysql
drwxr-xr-x.  2 root root   6 4月  11 2018 sbin
drwxr-xr-x.  5 root root  49 4月  30 23:03 share
drwxr-xr-x.  2 root root   6 4月  11 2018 src
[root@l2 local]# chown -R mysql:mysql mysql/
[root@l2 local]# ll
总用量 0
drwxr-xr-x.  2 root  root    6 4月  11 2018 bin
drwxr-xr-x.  2 root  root    6 4月  11 2018 etc
drwxr-xr-x.  2 root  root    6 4月  11 2018 games
drwxr-xr-x.  2 root  root    6 4月  11 2018 include
drwxr-xr-x.  2 root  root    6 4月  11 2018 lib
drwxr-xr-x.  2 root  root    6 4月  11 2018 lib64
drwxr-xr-x.  2 root  root    6 4月  11 2018 libexec
drwxr-xr-x. 11 mysql mysql 177 6月   2 12:57 mysql
drwxr-xr-x.  2 root  root    6 4月  11 2018 sbin
drwxr-xr-x.  5 root  root   49 4月  30 23:03 share
drwxr-xr-x.  2 root  root    6 4月  11 2018 src
[root@l2 local]# 
</code></pre> 
</div> 
<h5 id="%E5%9C%A8%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E4%B8%AD%E6%B7%BB%E5%8A%A0mysql%E7%9A%84bin%E5%92%8Clib%E7%9B%AE%E5%BD%95"><strong>在环境变量中添加mysql的bin和lib目录</strong></h5> 
<div> 
 <pre><code>[root@l2 local]# cd mysql/bin/
[root@l2 bin]# pwd
/usr/local/mysql/bin
[root@l2 bin]# ls
innochecksum                mysql_config               mysqlslap
lz4_decompress              mysql_config_editor        mysql_ssl_rsa_setup
myisamchk                   mysqld                     mysqltest
myisam_ftdump               mysqld_pre_systemd         mysqltest_embedded
myisamlog                   mysqldump                  mysql_tzinfo_to_sql
myisampack                  mysqldumpslow              mysql_upgrade
my_print_defaults           mysql_embedded             mysqlxtest
mysql                       mysqlimport                perror
mysqladmin                  mysql_install_db           replace
mysqlbinlog                 mysql_plugin               resolveip
mysqlcheck                  mysqlpump                  resolve_stack_dump
mysql_client_test           mysql_secure_installation  zlib_decompress
mysql_client_test_embedded  mysqlshow
[root@l2 bin]# vim /etc/profile

</code></pre> 
</div> 
<p><img alt="" height="440" src="https://images2.imgbox.com/09/7c/1vKfrccK_o.png" width="780">​</p> 
<div> 
 <pre><code>[root@l2 bin]# source /etc/profile
[root@l2 bin]# echo $PATH
/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin:/usr/local/mysql/bin:/usr/local/mysql/lib
[root@l2 bin]# </code></pre> 
</div> 
<h5 id="mysql%E5%88%9D%E5%A7%8B%E5%8C%96%E6%93%8D%E4%BD%9C">mysql初始化操作</h5> 
<div> 
 <pre><code>./mysqld \
--initialize-insecure \
--user=mysql \
--basedir=/usr/local/mysql \
--datadir=/usr/local/mysql/data</code></pre> 
</div> 
<div> 
 <pre><code>[root@l2 bin]# ./mysqld \
&gt; --initialize-insecure \
&gt; --user=mysql \
&gt; --basedir=/usr/local/mysql \
&gt; --datadir=/usr/local/mysql/data
</code></pre> 
</div> 
<h5 id="%E6%B7%BB%E5%8A%A0mysqld%E7%B3%BB%E7%BB%9F%E6%9C%8D%E5%8A%A1">添加mysqld系统服务</h5> 
<div> 
 <pre><code>[root@l2 bin]# cd /usr/local/mysql/usr/lib/systemd/system/
[root@l2 system]# ls
mysqld.service  mysqld@.service
[root@l2 system]# cp mysqld.service /usr/lib/systemd/system
[root@l2 system]# systemctl daemon-reload
[root@l2 system]# systemctl enable mysqld
Created symlink from /etc/systemd/system/multi-user.target.wants/mysqld.service to /usr/lib/systemd/system/mysqld.service.
[root@l2 system]# systemctl start mysqld
[root@l2 system]# netstat -lntp | grep mysqld
tcp        0      0 0.0.0.0:3306            0.0.0.0:*               LISTEN      33819/mysqld        
[root@l2 system]# </code></pre> 
</div> 
<h5 id="%E4%BF%AE%E6%94%B9mysql%E5%AF%86%E7%A0%81%C2%A0">修改mysql密码 </h5> 
<div> 
 <pre><code>[root@l2 system]# mysqladmin -u root -p password "abc123"
Enter password:    //直接回车，因为原先是没有密码的
mysqladmin: [Warning] Using a password on the command line interface can be insecure.
Warning: Since password will be sent to server in plain text, use ssl connection to ensure password safety.

</code></pre> 
</div> 
<p></p> 
<pre><code>[root@l2 system]# mysql -u root -pabc123
mysql: [Warning] Using a password on the command line interface can be insecure.
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 3
Server version: 5.7.44 Source distribution

Copyright (c) 2000, 2023, Oracle and/or its affiliates.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

mysql&gt; show databases;
+--------------------+
| Database           |
+--------------------+
| information_schema |
| mysql              |
| performance_schema |
| sys                |
+--------------------+
4 rows in set (0.00 sec)

mysql&gt; quit
Bye
[root@l2 system]# </code></pre> 
<h5 id="%E6%8E%88%E6%9D%83%E5%B9%B6%E5%88%B7%E6%96%B0%C2%A0"><strong>授权并刷新</strong> </h5> 
<pre><code>[root@l2 system]# mysql -u root -pabc123
mysql: [Warning] Using a password on the command line interface can be insecure.
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 4
Server version: 5.7.44 Source distribution

Copyright (c) 2000, 2023, Oracle and/or its affiliates.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

</code></pre> 
<pre><code>mysql&gt; grant all on *.* to 'root'@'%' identified by 'abc123';
Query OK, 0 rows affected, 1 warning (0.00 sec)
</code></pre> 
<pre><code>
mysql&gt; flush privileges;
Query OK, 0 rows affected (0.00 sec)

mysql&gt; 
</code></pre> 
<h4 id="php%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE%C2%A0">php服务器配置 </h4> 
<h5 id="%C2%A0%E4%B8%8A%E4%BC%A0%E5%8E%8B%E7%BC%A9%E5%8C%85%E8%87%B3%2Fopt%E7%9B%AE%E5%BD%95%E4%B8%AD%E5%B9%B6%E8%A7%A3%E5%8E%8B"> 上传压缩包至/opt目录中并解压</h5> 
<pre><code>[root@l3 ~]# cd /opt/
[root@l3 opt]# ls
rh
</code></pre> 
<h5 id="%E2%80%8B%E7%BC%96%E8%BE%91"><img alt="" height="419" src="https://images2.imgbox.com/21/4e/bw9jQszd_o.png" width="537"></h5> 
<pre><code>[root@l3 opt]# ls
php-7.1.10.tar.bz2  rh
[root@l3 opt]# tar xf php-7.1.10.tar.bz2
[root@l3 opt]# 
</code></pre> 
<h5 id="%E5%AE%89%E8%A3%85%E7%8E%AF%E5%A2%83%E4%BE%9D%E8%B5%96%E5%8C%85">安装环境依赖包</h5> 
<pre><code>[root@l3 opt]# cd php-7.1.10/
[root@l3 php-7.1.10]# df
文件系统                   1K-块    已用     可用 已用% 挂载点
devtmpfs                 1913544       0  1913544    0% /dev
tmpfs                    1930624       0  1930624    0% /dev/shm
tmpfs                    1930624   12528  1918096    1% /run
tmpfs                    1930624       0  1930624    0% /sys/fs/cgroup
/dev/mapper/centos-root 38770180 5624548 33145632   15% /
/dev/sda1                1038336  191100   847236   19% /boot
tmpfs                     386128       8   386120    1% /run/user/42
tmpfs                     386128       0   386128    0% /run/user/0
[root@l3 php-7.1.10]# mount /dev/sr0 /mnt
mount: /dev/sr0 写保护，将以只读方式挂载
[root@l3 php-7.1.10]#yum -y install gd \
libjpeg libjpeg-devel \
libpng libpng-devel \
freetype freetype-devel \
libxml2 libxml2-devel \
zlib zlib-devel \
curl curl-devel \
openssl openssl-devel
</code></pre> 
<pre><code>yum -y install gd \
libjpeg libjpeg-devel \
libpng libpng-devel \
freetype freetype-devel \
libxml2 libxml2-devel \
zlib zlib-devel \
curl curl-devel \
openssl openssl-devel</code></pre> 
<h5>配置软件模块</h5> 
<pre><code>[root@l3 php-7.1.10]# ./configure \
&gt; --prefix=/usr/local/php \
&gt; --with-mysql-sock=/usr/local/mysql/mysql.sock \
&gt; --with-mysqli \
&gt; --with-zlib \
&gt; --with-curl \
&gt; --with-gd \
&gt; --with-jpeg-dir \
&gt; --with-png-dir \
&gt; --with-freetype-dir \
&gt; --with-openssl \
&gt; --enable-fpm \
&gt; --enable-mbstring \
&gt; --enable-xml \
&gt; --enable-session \
&gt; --enable-ftp \
&gt; --enable-pdo \
&gt; --enable-tokenizer \
&gt; --enable-zip</code></pre> 
<pre><code>./configure \
--prefix=/usr/local/php \
--with-mysql-sock=/usr/local/mysql/mysql.sock \
--with-mysqli \
--with-zlib \
--with-curl \
--with-gd \
--with-jpeg-dir \
--with-png-dir \
--with-freetype-dir \
--with-openssl \
--enable-fpm \
--enable-mbstring \
--enable-xml \
--enable-session \
--enable-ftp \
--enable-pdo \
--enable-tokenizer \
--enable-zip</code></pre> 
<h5 id="%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85">编译安装</h5> 
<pre><code>make &amp;&amp; make install</code></pre> 
<h5 id="%E8%B7%AF%E5%BE%84%E4%BC%98%E5%8C%96">路径优化</h5> 
<pre><code>[root@localhost php-7.1.10]# cd /usr/local/php/
[root@localhost php]# ls
bin  etc  include  lib  php  sbin  var
[root@localhost php]# ln -s /usr/local/php/bin/* /usr/local/bin/
[root@localhost php]# ln -s /usr/local/php/sbin/* /usr/local/sbin/
[root@localhost php]# 
</code></pre> 
<h5 id="%E4%BF%AE%E6%94%B9php%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%EF%BC%88%E5%85%B1%E4%B8%89%E4%B8%AA%EF%BC%89">修改php配置文件（共三个）</h5> 
<h5 id="%E4%BF%AE%E6%94%B9%E4%B8%BB%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%C2%A0">修改主配置文件 </h5> 
<pre><code>[root@localhost php]# php --ini
Configuration File (php.ini) Path: /usr/local/php/lib
Loaded Configuration File:         (none)
Scan for additional .ini files in: (none)
Additional .ini files parsed:      (none)
[root@localhost php]# cd /opt/php-7.1.10/
[root@localhost php-7.1.10]# ls
acinclude.m4      ltmain.sh                 README.PARAMETER_PARSING_API
aclocal.m4        main                      README.REDIST.BINS
appveyor          makedist                  README.RELEASE_PROCESS
build             Makefile                  README.SELF-CONTAINED-EXTENSIONS
buildconf         Makefile.frag             README.STREAMS
buildconf.bat     Makefile.fragments        README.SUBMITTING_PATCH
CODING_STANDARDS  Makefile.gcov             README.TESTING
config.guess      Makefile.global           README.TESTING2
config.log        Makefile.objects          README.UNIX-BUILD-SYSTEM
config.nice       makerpm                   README.WIN32-BUILD-SYSTEM
config.status     missing                   run-tests.php
config.sub        mkinstalldirs             sapi
configure         modules                   scripts
configure.in      netware                   server-tests-config.php
CONTRIBUTING.md   NEWS                      server-tests.php
CREDITS           pear                      snapshot
ext               php7.spec                 stamp-h.in
EXTENSIONS        php7.spec.in              stub.c
footer            php.gif                   tests
generated_lists   php.ini-development       travis
genfiles          php.ini-production        TSRM
header            README.EXT_SKEL           UPGRADING
include           README.GIT-RULES          UPGRADING.INTERNALS
INSTALL           README.input_filter       vcsclean
install-sh        README.MAILINGLIST_RULES  win32
libs              README.md                 Zend
libtool           README.namespaces
LICENSE           README.NEW-OUTPUT-API
[root@localhost php-7.1.10]# 
[root@localhost php-7.1.10]# cp php.ini-production /usr/local/php/lib/php.ini
[root@localhost php-7.1.10]# cd /usr/local/php/lib/
[root@localhost lib]# ls
php  php.ini
[root@localhost lib]# </code></pre> 
<pre><code>[root@localhost lib]# vim php.ini
[root@localhost lib]# </code></pre> 
<p></p> 
<p><img alt="" height="75" src="https://images2.imgbox.com/bd/bb/kY3an4vm_o.png" width="475"></p> 
<h5 id="%E4%BF%AE%E6%94%B9%E8%BF%9B%E7%A8%8B%E6%9C%8D%E5%8A%A1%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%C2%A0">修改进程服务配置文件 </h5> 
<pre><code>[root@localhost php]# cd /usr/local/php/etc/
[root@localhost etc]# ls
pear.conf  php-fpm.conf.default  php-fpm.d
[root@localhost etc]# 
[root@localhost etc]# cp php-fpm.conf.default php-fpm.conf
[root@localhost etc]# ls
pear.conf  php-fpm.conf  php-fpm.conf.default  php-fpm.d
[root@localhost etc]# 

</code></pre> 
<pre><code>[root@localhost etc]# vim php-fpm.conf
[root@localhost etc]# 
</code></pre> 
<p></p> 
<h6><img alt="" height="246" src="https://images2.imgbox.com/db/97/VuZP9Sli_o.png" width="462"></h6> 
<h5 id="%E4%BF%AE%E6%94%B9%E6%89%A9%E5%B1%95%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6">修改扩展配置文件</h5> 
<pre><code>[root@localhost etc]# cd php-fpm.d/
[root@localhost php-fpm.d]# ls
www.conf.default
[root@localhost php-fpm.d]# </code></pre> 
<pre><code>[root@localhost php-fpm.d]# cp www.conf.default www.conf
[root@localhost php-fpm.d]# vim www.conf
[root@localhost php-fpm.d]# </code></pre> 
<p></p> 
<h5 id="%E2%80%8B%E7%BC%96%E8%BE%91%E2%80%8B%E7%BC%96%E8%BE%91%E2%80%8B%E7%BC%96%E8%BE%91%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7"><img alt="" height="92" src="https://images2.imgbox.com/f3/7f/JeUczIKn_o.png" width="676"><img alt="" height="147" src="https://images2.imgbox.com/e3/54/fCXHCmzR_o.png" width="509"><img alt="" height="156" src="https://images2.imgbox.com/45/de/pjBfXqma_o.png" width="759">创建用户</h5> 
<pre><code>[root@localhost php-fpm.d]# useradd -M -s /sbin/nologin php
[root@localhost php-fpm.d]# cat /etc/passwd | grep php:
php:x:1001:1001::/home/php:/sbin/nologin
[root@localhost php-fpm.d]# 
</code></pre> 
<h5 id="%E5%90%AF%E5%8A%A8php-fpm">启动php-fpm</h5> 
<pre><code>[root@localhost php-fpm.d]# cd /opt/php-7.1.10/
[root@localhost php-7.1.10]# ls
acinclude.m4      ltmain.sh                 README.PARAMETER_PARSING_API
aclocal.m4        main                      README.REDIST.BINS
appveyor          makedist                  README.RELEASE_PROCESS
build             Makefile                  README.SELF-CONTAINED-EXTENSIONS
buildconf         Makefile.frag             README.STREAMS
buildconf.bat     Makefile.fragments        README.SUBMITTING_PATCH
CODING_STANDARDS  Makefile.gcov             README.TESTING
config.guess      Makefile.global           README.TESTING2
config.log        Makefile.objects          README.UNIX-BUILD-SYSTEM
config.nice       makerpm                   README.WIN32-BUILD-SYSTEM
config.status     missing                   run-tests.php
config.sub        mkinstalldirs             sapi
configure         modules                   scripts
configure.in      netware                   server-tests-config.php
CONTRIBUTING.md   NEWS                      server-tests.php
CREDITS           pear                      snapshot
ext               php7.spec                 stamp-h.in
EXTENSIONS        php7.spec.in              stub.c
footer            php.gif                   tests
generated_lists   php.ini-development       travis
genfiles          php.ini-production        TSRM
header            README.EXT_SKEL           UPGRADING
include           README.GIT-RULES          UPGRADING.INTERNALS
INSTALL           README.input_filter       vcsclean
install-sh        README.MAILINGLIST_RULES  win32
libs              README.md                 Zend
libtool           README.namespaces
LICENSE           README.NEW-OUTPUT-API
[root@localhost php-7.1.10]# cd sapi/
[root@localhost sapi]# ls
apache2handler  cgi  cli  embed  fpm  litespeed  phpdbg  tests
[root@localhost sapi]# cd fpm/
[root@localhost fpm]# ls
config.m4          LICENSE        php-fpm.conf        status.html.in
CREDITS            Makefile.frag  php-fpm.conf.in     tests
fpm                php-fpm        php-fpm.service     www.conf
init.d.php-fpm     php-fpm.8      php-fpm.service.in  www.conf.in
init.d.php-fpm.in  php-fpm.8.in   status.html
[root@localhost fpm]# cp php-fpm.service /usr/lib/systemd/system
[root@localhost fpm]# systemctl daemon-reload
[root@localhost fpm]# systemctl start php-fpm.service
[root@localhost fpm]# systemctl enable php-fpm.service
Created symlink from /etc/systemd/system/multi-user.target.wants/php-fpm.service to /usr/lib/systemd/system/php-fpm.service.
[root@localhost fpm]# netstat -lntp | grep php
tcp        0      0 192.168.18.40:9000      0.0.0.0:*               LISTEN      86042/php-fpm: mast 
[root@localhost fpm]# </code></pre> 
<h4 id="%E5%AE%89%E8%A3%85%E8%AE%BA%E5%9D%9B%C2%A0">安装论坛 </h4> 
<h5 id="%E4%B8%8A%E4%BC%A0%E5%8E%8B%E7%BC%A9%E5%8C%85%E5%88%B0Nginx%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%9A%84%2Fopt%E7%9B%AE%E5%BD%95%E4%B8%8B%E5%B9%B6%E8%A7%A3%E5%8E%8B%C2%A0">上传压缩包到Nginx服务器的/opt目录下并解压 </h5> 
<pre><code>[root@l1 system]# cd /opt/
[root@l1 opt]# ls
nginx-1.26.0  nginx-1.26.0.tar.gz  rh
</code></pre> 
<p><img alt="" height="420" src="https://images2.imgbox.com/36/c3/Ea5AG3RC_o.png" width="540"></p> 
<pre><code>[root@l1 opt]# ls
Discuz_X3.4_SC_UTF8.zip  nginx-1.26.0  nginx-1.26.0.tar.gz  rh  
[root@l1 opt]# unzip Discuz_X3.4_SC_UTF8.zip
[root@l1 opt]# cd dir_SC_UTF8/
[root@l1 dir_SC_UTF8]# cp -r upload/ /var/www/html/discuz
[root@l1 dir_SC_UTF8]# cd /var/www/html/
[root@l1 html]# 

</code></pre> 
<h5 id="%E8%AE%BE%E7%BD%AE%E5%B1%9E%E4%B8%BB%E5%B1%9E%E7%BB%84">设置属主属组</h5> 
<h5><strong>php服务器</strong></h5> 
<pre><code>[root@localhost html]# cd /usr/local/php/etc/php-fpm.d/
[root@localhost php-fpm.d]# vim www.conf
[root@localhost php-fpm.d]# </code></pre> 
<p><img alt="" height="139" src="https://images2.imgbox.com/0b/ed/zIUK5c7Q_o.png" width="419"></p> 
<pre><code>[root@localhost php-fpm.d]# useradd -M -s /sbin/nologin nginx
[root@localhost php-fpm.d]# cat /etc/passwd | grep nginx:
nginx:x:1002:1002::/home/nginx:/sbin/nologin
[root@localhost php-fpm.d]# systemctl restart php-fpm.service
[root@localhost php-fpm.d]# ps aux | grep php
root      88567  0.2  0.7 216796  7656 ?        Ss   20:00   0:00 php-fpm: master process (/usr/local/php/etc/php-fpm.conf)
nginx     88568  0.0  0.3 218880  3932 ?        S    20:00   0:00 php-fpm: pool www
nginx     88569  0.0  0.3 218880  3932 ?        S    20:00   0:00 php-fpm: pool www
root      88571  0.0  0.0 112824   972 pts/2    S+   20:00   0:00 grep --color=auto php
[root@localhost php-fpm.d]# cd /var/www/html/
[root@localhost html]# chown -R nginx:nginx discuz/
[root@localhost html]# ll
总用量 12
drwxr-xr-x. 13 nginx nginx 4096 6月   2 19:55 discuz
-rw-r--r--.  1 root  root   163 6月   2 19:50 mysql.php
-rw-r--r--.  1 root  root    20 6月   2 19:25 test.php
[root@localhost html]# </code></pre> 
<h5><strong>Nginx服务器</strong></h5> 
<pre><code>[root@l1 html]# chown -R nginx:nginx discuz/
[root@l1 html]# ll
总用量 12
drwxr-xr-x. 13 nginx nginx 4096 6月   2 19:55 discuz
-rw-r--r--.  1 root  root   163 6月   2 19:50 mysql.php
-rw-r--r--.  1 root  root    20 6月   2 19:25 test.php
[root@l1 html]# 
</code></pre> 
<h5><strong>修改文件</strong></h5> 
<pre><code>[root@l1 html]# cd /usr/local/nginx/conf/
[root@l1 conf]# vim nginx.conf
[root@l1 conf]# </code></pre> 
<h4 id="%E2%80%8B%E7%BC%96%E8%BE%91%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93%C2%A0"><img alt="" height="122" src="https://images2.imgbox.com/e2/3f/Dlf5GVbh_o.png" width="707">创建数据库 </h4> 
<h5><strong>mysql服务器</strong></h5> 
<pre><code>[root@l2 system]# mysql -u root -pabc123
mysql: [Warning] Using a password on the command line interface can be insecure.
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 6
Server version: 5.7.44 Source distribution

Copyright (c) 2000, 2023, Oracle and/or its affiliates.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.
</code></pre> 
<pre><code>mysql&gt; create database discuz;
Query OK, 1 row affected (0.00 sec)

mysql&gt; 
</code></pre> 
<pre><code>mysql&gt; show databases;
+--------------------+
| Database           |
+--------------------+
| information_schema |
| discuz             |
| mysql              |
| performance_schema |
| sys                |
+--------------------+
5 rows in set (0.00 sec)

mysql&gt; 
</code></pre> 
<pre><code>mysql&gt;  grant all on discuz. * to 'zy'@'%' identified by 'zy1234';
Query OK, 0 rows affected, 1 warning (0.00 sec)

mysql&gt; 
</code></pre> 
<pre><code>mysql&gt; flush privileges;
Query OK, 0 rows affected (0.00 sec)

mysql&gt; 
</code></pre> 
<h5>nginx服务器 </h5> 
<pre><code>[root@l1 conf]# nginx -s reload      //刷新
 </code></pre> 
<p></p> 
<p><img alt="" height="196" src="https://images2.imgbox.com/3a/40/wwTH2Sn5_o.png" width="557"><img alt="" height="441" src="https://images2.imgbox.com/94/6d/fqxe1czB_o.png" width="856"><img alt="" height="952" src="https://images2.imgbox.com/88/dd/iwWOiwfB_o.png" width="1091"><img alt="" height="921" src="https://images2.imgbox.com/d4/1e/E2UGSkuT_o.png" width="1145"><img alt="" height="855" src="https://images2.imgbox.com/09/1d/veSDt3FM_o.png" width="1034"><img alt="" height="890" src="https://images2.imgbox.com/ae/17/DbCnNgsh_o.png" width="1192"><img alt="" height="957" src="https://images2.imgbox.com/6e/35/cUqA6x6S_o.png" width="1200"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/47a3c9f164c570f7991a7323eecdc051/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">java中如何灵活使用mysql中的json类型字段存储数据</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/1f66607b7c1b04e7164842bff67b1da7/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">微信公众号发送模板消息，并且点击可以直接转到小程序。（开发篇）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>