<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Gatewayå®ç°Redisæ‹‰å–ä¿¡æ¯&#43;ç”¨æˆ·æ¨¡å—å¼€å‘ - ç¼–ç¨‹å¤§å’–</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/e5efca4288668f63b05131f122660da8/">
  <meta property="og:site_name" content="ç¼–ç¨‹å¤§å’–">
  <meta property="og:title" content="Gatewayå®ç°Redisæ‹‰å–ä¿¡æ¯&#43;ç”¨æˆ·æ¨¡å—å¼€å‘">
  <meta property="og:description" content="æ–‡ç« ç›®å½• ğŸŒ Sun Frameï¼šSpringBoot çš„è½»é‡çº§å¼€å‘æ¡†æ¶ï¼ˆä¸ªäººå¼€æºé¡¹ç›®æ¨èï¼‰ğŸŒŸ äº®ç‚¹åŠŸèƒ½ğŸ“¦ spring cloudæ¨¡å—æ¦‚è§ˆå¸¸ç”¨å·¥å…· ğŸ”— æ›´å¤šä¿¡æ¯1.Gatewayå®ç°Redisæ‹‰å–ä¿¡æ¯1.ç›®å½•ç»“æ„2.RedisConfig.java3.RedisUtil.java4.StpInterfaceImpl.java 2.ç”¨æˆ·æ¨¡å—-ç”¨æˆ·æ³¨å†Œ1.easycodeç”Ÿæˆauth_userä»£ç 1.åˆ›å»ºå¥½ç›®å½•2.é…ç½®ç”Ÿæˆä»£ç 3.å°†daoå±‚çš„ç±»å‰ªåˆ‡åˆ°mapperå±‚4.AuthUserDao.javaåˆ é™¤Pageableçš„å‚æ•°5.serviceå±‚åˆ é™¤åˆ†é¡µæŸ¥è¯¢æ¥å£å’Œå®ç°ç±»6.æœ€ç»ˆç›®å½•ç»“æ„ 2.sun-club-auth-application-controller åŸºæœ¬é…ç½®1.ç›®å½•åˆ›å»º2.GlobalConfig.java mvcçš„å…¨å±€å¤„ç† 3.sun-club-auth-common åŸºæœ¬é…ç½®1.ç›®å½•ç»“æ„2.PageInfo.java3.PageResult.java4.Result.java5.IsDeleteFlagEnum.java6.ResultCodeEnum.java 4.sun-club-auth-application-controllerå±‚1.AuthUserDTO.java2.sun-club-auth-domain æ¨¡å—AuthUserBO.java ä¸DTOä¸€è‡´ 3.AuthUserDTOConverter.java 5.sun-club-auth-domainå±‚1.ç›®å½•åˆ›å»º2.AuthUserBOConverter.java3.AuthUserDomainService.java4.AuthUserDomainServiceImpl.java 6.sun-club-auth-infraå±‚1.AuthUserService.java ä¿®æ”¹insertè¿”å›ä¸ºInteger2.AuthUserServiceImpl.java3.AuthUserDao.java4.AuthUserDao.xml 7.æœ€åï¼šUserController.java8.æµ‹è¯•1.æ¥å£è®¾è®¡2.ç»“æœ3.DB4.å‘ç°DBä¸­æ²¡æœ‰æ’å…¥status1.sun-club-auth-commonæ¨¡å—æ–°å¢æšä¸¾ AuthUserStatusEnum.java2.sun-club-auth-application-controller UserController.javaæ–°å¢è¯­å¥3.é‡å¯æµ‹è¯• 3.ç”¨æˆ·æ¨¡å—-æ›´æ–°ç”¨æˆ·ä¿¡æ¯1.æ¥å£è®¾è®¡2.sun-club-auth-application-controller1.UserController.java 3.sun-club-auth-domain1.AuthUserDomainService.java2.AuthUserDomainServiceImpl.java 4.sun-club-auth-infra1.AuthUserService.java2.AuthUserServiceImpl.java 5.æµ‹è¯•1.ç»“æœ2.DB 4.ç”¨æˆ·æ¨¡å—-åˆ é™¤ç”¨æˆ·ä¿¡æ¯1.æ¥å£è®¾è®¡2.sun-club-auth-application-controller1.UserController.java 3.sun-club-auth-domain1.AuthUserDomainService.java2.AuthUserDomainServiceImpl.java 4.æµ‹è¯•1.ç»“æœ2.DB 5.ç”¨æˆ·æ¨¡å—-å¯ç”¨/ç¦ç”¨ä¿¡æ¯1.æ¥å£è®¾è®¡2.UserController.java3.æµ‹è¯•1.ç»“æœ2.DB ğŸŒ Sun Frameï¼šSpringBoot çš„è½»é‡çº§å¼€å‘æ¡†æ¶ï¼ˆä¸ªäººå¼€æºé¡¹ç›®æ¨èï¼‰ è½»æ¾é«˜æ•ˆçš„ç°ä»£åŒ–å¼€å‘ä½“éªŒ
Sun Frame æ˜¯æˆ‘ä¸ªäººå¼€æºçš„ä¸€æ¬¾åŸºäº SpringBoot çš„è½»é‡çº§æ¡†æ¶ï¼Œä¸“ä¸ºä¸­å°å‹ä¼ä¸šè®¾è®¡ã€‚å®ƒæä¾›äº†ä¸€ç§å¿«é€Ÿã€ç®€å•ä¸”æ˜“äºæ‰©å±•çš„å¼€å‘æ–¹å¼ã€‚
æˆ‘ä»¬çš„å¼€å‘æ–‡æ¡£è®°å½•äº†æ•´ä¸ªé¡¹ç›®ä»0åˆ°1çš„ä»»ä½•ç»†èŠ‚ï¼Œå®å±ä¸æ˜“ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ªStarï¼ğŸŒŸ
æ‚¨çš„æ”¯æŒæ˜¯æˆ‘ä»¬æŒç»­æ”¹è¿›çš„åŠ¨åŠ›ã€‚ ğŸŒŸ äº®ç‚¹åŠŸèƒ½ ç»„ä»¶åŒ–å¼€å‘ï¼šçµæ´»é€‰æ‹©ï¼Œç®€åŒ–æµç¨‹ã€‚é«˜æ€§èƒ½ï¼šé€šè¿‡å¼‚æ­¥æ—¥å¿—å’Œ Redis ç¼“å­˜æå‡æ€§èƒ½ã€‚æ˜“æ‰©å±•ï¼šæ”¯æŒå¤šç§æ•°æ®åº“å’Œæ¶ˆæ¯é˜Ÿåˆ—ã€‚ ğŸ“¦ spring cloudæ¨¡å—æ¦‚è§ˆ Nacos æœåŠ¡ï¼šé«˜æ•ˆçš„æœåŠ¡æ³¨å†Œä¸å‘ç°ã€‚Feign è¿œç¨‹è°ƒç”¨ï¼šç®€åŒ–æœåŠ¡é—´é€šä¿¡ã€‚å¼ºå¤§ç½‘å…³ï¼šè·¯ç”±ä¸é™æµã€‚ å¸¸ç”¨å·¥å…· æ—¥å¿—ç®¡ç†ï¼šå¼‚æ­¥å¤„ç†ä¸é“¾è·¯è¿½è¸ªã€‚Redis é›†æˆï¼šæ”¯æŒåˆ†å¸ƒå¼é”ä¸ç¼“å­˜ã€‚Swagger æ–‡æ¡£ï¼šä¾¿æ·çš„ API å…¥å£ã€‚æµ‹è¯•æ”¯æŒï¼šSpringBoot-Test é›†æˆã€‚EasyCodeï¼šè‡ªå®šä¹‰EasyCodeæ¨¡æ¿å¼•æ“ï¼Œä¸€é”®ç”ŸæˆCRUDã€‚ ğŸ”— æ›´å¤šä¿¡æ¯ å¼€æºåœ°å€ï¼šGitee Sun Frameè¯¦ç»†æ–‡æ¡£ï¼šè¯­é›€æ–‡æ¡£">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-08-05T13:14:17+08:00">
    <meta property="article:modified_time" content="2024-08-05T13:14:17+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ç¼–ç¨‹å¤§å’–" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ç¼–ç¨‹å¤§å’–</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Gatewayå®ç°Redisæ‹‰å–ä¿¡æ¯&#43;ç”¨æˆ·æ¨¡å—å¼€å‘</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>æ–‡ç« ç›®å½•</h4> 
 <ul><li><a href="#_Sun_FrameSpringBoot__3" rel="nofollow">ğŸŒ Sun Frameï¼šSpringBoot çš„è½»é‡çº§å¼€å‘æ¡†æ¶ï¼ˆä¸ªäººå¼€æºé¡¹ç›®æ¨èï¼‰</a></li><li><ul><li><a href="#__15" rel="nofollow">ğŸŒŸ äº®ç‚¹åŠŸèƒ½</a></li><li><a href="#_spring_cloud_21" rel="nofollow">ğŸ“¦ spring cloudæ¨¡å—æ¦‚è§ˆ</a></li><li><ul><li><a href="#_27" rel="nofollow">å¸¸ç”¨å·¥å…·</a></li></ul> 
   </li><li><a href="#__36" rel="nofollow">ğŸ”— æ›´å¤šä¿¡æ¯</a></li><li><a href="#1GatewayRedis_45" rel="nofollow">1.Gatewayå®ç°Redisæ‹‰å–ä¿¡æ¯</a></li><li><ul><li><ul><li><a href="#1_47" rel="nofollow">1.ç›®å½•ç»“æ„</a></li><li><a href="#2RedisConfigjava_51" rel="nofollow">2.RedisConfig.java</a></li><li><a href="#3RedisUtiljava_103" rel="nofollow">3.RedisUtil.java</a></li><li><a href="#4StpInterfaceImpljava_206" rel="nofollow">4.StpInterfaceImpl.java</a></li></ul> 
   </li></ul> 
   </li><li><a href="#2_276" rel="nofollow">2.ç”¨æˆ·æ¨¡å—-ç”¨æˆ·æ³¨å†Œ</a></li><li><ul><li><ul><li><a href="#1easycodeauth_user_278" rel="nofollow">1.easycodeç”Ÿæˆauth_userä»£ç </a></li><li><ul><li><a href="#1_280" rel="nofollow">1.åˆ›å»ºå¥½ç›®å½•</a></li><li><a href="#2_284" rel="nofollow">2.é…ç½®ç”Ÿæˆä»£ç </a></li><li><a href="#3daomapper_288" rel="nofollow">3.å°†daoå±‚çš„ç±»å‰ªåˆ‡åˆ°mapperå±‚</a></li><li><a href="#4AuthUserDaojavaPageable_290" rel="nofollow">4.AuthUserDao.javaåˆ é™¤Pageableçš„å‚æ•°</a></li><li><a href="#5service_294" rel="nofollow">5.serviceå±‚åˆ é™¤åˆ†é¡µæŸ¥è¯¢æ¥å£å’Œå®ç°ç±»</a></li><li><a href="#6_300" rel="nofollow">6.æœ€ç»ˆç›®å½•ç»“æ„</a></li></ul> 
     </li><li><a href="#2sunclubauthapplicationcontroller__304" rel="nofollow">2.sun-club-auth-application-controller åŸºæœ¬é…ç½®</a></li><li><ul><li><a href="#1_306" rel="nofollow">1.ç›®å½•åˆ›å»º</a></li><li><a href="#2GlobalConfigjava_mvc_310" rel="nofollow">2.GlobalConfig.java mvcçš„å…¨å±€å¤„ç†</a></li></ul> 
     </li><li><a href="#3sunclubauthcommon__350" rel="nofollow">3.sun-club-auth-common åŸºæœ¬é…ç½®</a></li><li><ul><li><a href="#1_352" rel="nofollow">1.ç›®å½•ç»“æ„</a></li><li><a href="#2PageInfojava_356" rel="nofollow">2.PageInfo.java</a></li><li><a href="#3PageResultjava_397" rel="nofollow">3.PageResult.java</a></li><li><a href="#4Resultjava_515" rel="nofollow">4.Result.java</a></li><li><a href="#5IsDeleteFlagEnumjava_597" rel="nofollow">5.IsDeleteFlagEnum.java</a></li><li><a href="#6ResultCodeEnumjava_639" rel="nofollow">6.ResultCodeEnum.java</a></li></ul> 
     </li><li><a href="#4sunclubauthapplicationcontroller_681" rel="nofollow">4.sun-club-auth-application-controllerå±‚</a></li><li><ul><li><a href="#1AuthUserDTOjava_683" rel="nofollow">1.AuthUserDTO.java</a></li><li><a href="#2sunclubauthdomain__753" rel="nofollow">2.sun-club-auth-domain æ¨¡å—</a></li><li><ul><li><a href="#AuthUserBOjava_DTO_755" rel="nofollow">AuthUserBO.java ä¸DTOä¸€è‡´</a></li></ul> 
      </li><li><a href="#3AuthUserDTOConverterjava_825" rel="nofollow">3.AuthUserDTOConverter.java</a></li></ul> 
     </li><li><a href="#5sunclubauthdomain_858" rel="nofollow">5.sun-club-auth-domainå±‚</a></li><li><ul><li><a href="#1_860" rel="nofollow">1.ç›®å½•åˆ›å»º</a></li><li><a href="#2AuthUserBOConverterjava_864" rel="nofollow">2.AuthUserBOConverter.java</a></li><li><a href="#3AuthUserDomainServicejava_900" rel="nofollow">3.AuthUserDomainService.java</a></li><li><a href="#4AuthUserDomainServiceImpljava_919" rel="nofollow">4.AuthUserDomainServiceImpl.java</a></li></ul> 
     </li><li><a href="#6sunclubauthinfra_957" rel="nofollow">6.sun-club-auth-infraå±‚</a></li><li><ul><li><a href="#1AuthUserServicejava_insertInteger_959" rel="nofollow">1.AuthUserService.java ä¿®æ”¹insertè¿”å›ä¸ºInteger</a></li><li><a href="#2AuthUserServiceImpljava_971" rel="nofollow">2.AuthUserServiceImpl.java</a></li><li><a href="#3AuthUserDaojava_986" rel="nofollow">3.AuthUserDao.java</a></li><li><a href="#4AuthUserDaoxml_998" rel="nofollow">4.AuthUserDao.xml</a></li></ul> 
     </li><li><a href="#7UserControllerjava_1010" rel="nofollow">7.æœ€åï¼šUserController.java</a></li><li><a href="#8_1083" rel="nofollow">8.æµ‹è¯•</a></li><li><ul><li><a href="#1_1085" rel="nofollow">1.æ¥å£è®¾è®¡</a></li><li><a href="#2_1089" rel="nofollow">2.ç»“æœ</a></li><li><a href="#3DB_1093" rel="nofollow">3.DB</a></li><li><a href="#4DBstatus_1097" rel="nofollow">4.å‘ç°DBä¸­æ²¡æœ‰æ’å…¥status</a></li><li><ul><li><a href="#1sunclubauthcommon_AuthUserStatusEnumjava_1099" rel="nofollow">1.sun-club-auth-commonæ¨¡å—æ–°å¢æšä¸¾ AuthUserStatusEnum.java</a></li><li><a href="#2sunclubauthapplicationcontroller_UserControllerjava_1139" rel="nofollow">2.sun-club-auth-application-controller UserController.javaæ–°å¢è¯­å¥</a></li><li><a href="#3_1143" rel="nofollow">3.é‡å¯æµ‹è¯•</a></li></ul> 
     </li></ul> 
    </li></ul> 
   </li></ul> 
   </li><li><a href="#3_1147" rel="nofollow">3.ç”¨æˆ·æ¨¡å—-æ›´æ–°ç”¨æˆ·ä¿¡æ¯</a></li><li><ul><li><ul><li><a href="#1_1149" rel="nofollow">1.æ¥å£è®¾è®¡</a></li><li><a href="#2sunclubauthapplicationcontroller_1153" rel="nofollow">2.sun-club-auth-application-controller</a></li><li><ul><li><a href="#1UserControllerjava_1155" rel="nofollow">1.UserController.java</a></li></ul> 
     </li><li><a href="#3sunclubauthdomain_1186" rel="nofollow">3.sun-club-auth-domain</a></li><li><ul><li><a href="#1AuthUserDomainServicejava_1188" rel="nofollow">1.AuthUserDomainService.java</a></li><li><a href="#2AuthUserDomainServiceImpljava_1199" rel="nofollow">2.AuthUserDomainServiceImpl.java</a></li></ul> 
     </li><li><a href="#4sunclubauthinfra_1213" rel="nofollow">4.sun-club-auth-infra</a></li><li><ul><li><a href="#1AuthUserServicejava_1215" rel="nofollow">1.AuthUserService.java</a></li><li><a href="#2AuthUserServiceImpljava_1227" rel="nofollow">2.AuthUserServiceImpl.java</a></li></ul> 
     </li><li><a href="#5_1242" rel="nofollow">5.æµ‹è¯•</a></li><li><ul><li><a href="#1_1244" rel="nofollow">1.ç»“æœ</a></li><li><a href="#2DB_1248" rel="nofollow">2.DB</a></li></ul> 
    </li></ul> 
   </li></ul> 
   </li><li><a href="#4_1252" rel="nofollow">4.ç”¨æˆ·æ¨¡å—-åˆ é™¤ç”¨æˆ·ä¿¡æ¯</a></li><li><ul><li><ul><li><a href="#1_1254" rel="nofollow">1.æ¥å£è®¾è®¡</a></li><li><a href="#2sunclubauthapplicationcontroller_1258" rel="nofollow">2.sun-club-auth-application-controller</a></li><li><ul><li><a href="#1UserControllerjava_1260" rel="nofollow">1.UserController.java</a></li></ul> 
     </li><li><a href="#3sunclubauthdomain_1290" rel="nofollow">3.sun-club-auth-domain</a></li><li><ul><li><a href="#1AuthUserDomainServicejava_1292" rel="nofollow">1.AuthUserDomainService.java</a></li><li><a href="#2AuthUserDomainServiceImpljava_1303" rel="nofollow">2.AuthUserDomainServiceImpl.java</a></li></ul> 
     </li><li><a href="#4_1319" rel="nofollow">4.æµ‹è¯•</a></li><li><ul><li><a href="#1_1321" rel="nofollow">1.ç»“æœ</a></li><li><a href="#2DB_1325" rel="nofollow">2.DB</a></li></ul> 
    </li></ul> 
   </li></ul> 
   </li><li><a href="#5_1329" rel="nofollow">5.ç”¨æˆ·æ¨¡å—-å¯ç”¨/ç¦ç”¨ä¿¡æ¯</a></li><li><ul><li><ul><li><a href="#1_1331" rel="nofollow">1.æ¥å£è®¾è®¡</a></li><li><a href="#2UserControllerjava_1335" rel="nofollow">2.UserController.java</a></li><li><a href="#3_1366" rel="nofollow">3.æµ‹è¯•</a></li><li><ul><li><a href="#1_1368" rel="nofollow">1.ç»“æœ</a></li><li><a href="#2DB_1372" rel="nofollow">2.DB</a></li></ul> 
    </li></ul> 
   </li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="_Sun_FrameSpringBoot__3"></a>ğŸŒ Sun Frameï¼šSpringBoot çš„è½»é‡çº§å¼€å‘æ¡†æ¶ï¼ˆä¸ªäººå¼€æºé¡¹ç›®æ¨èï¼‰</h2> 
<p><img src="https://images2.imgbox.com/fd/29/XoNkTAYX_o.png" alt="Sun Frame Banner"></p> 
<blockquote> 
 <p><strong>è½»æ¾é«˜æ•ˆçš„ç°ä»£åŒ–å¼€å‘ä½“éªŒ</strong></p> 
</blockquote> 
<p>Sun Frame æ˜¯æˆ‘ä¸ªäººå¼€æºçš„ä¸€æ¬¾åŸºäº SpringBoot çš„è½»é‡çº§æ¡†æ¶ï¼Œä¸“ä¸ºä¸­å°å‹ä¼ä¸šè®¾è®¡ã€‚å®ƒæä¾›äº†ä¸€ç§å¿«é€Ÿã€ç®€å•ä¸”æ˜“äºæ‰©å±•çš„å¼€å‘æ–¹å¼ã€‚</p> 
<div> 
 <strong>æˆ‘ä»¬çš„å¼€å‘æ–‡æ¡£è®°å½•äº†æ•´ä¸ªé¡¹ç›®ä»0åˆ°1çš„ä»»ä½•ç»†èŠ‚ï¼Œå®å±ä¸æ˜“ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ªStarï¼ğŸŒŸ<br>æ‚¨çš„æ”¯æŒæ˜¯æˆ‘ä»¬æŒç»­æ”¹è¿›çš„åŠ¨åŠ›ã€‚</strong> 
</div> 
<h3><a id="__15"></a>ğŸŒŸ äº®ç‚¹åŠŸèƒ½</h3> 
<ul><li><strong>ç»„ä»¶åŒ–å¼€å‘</strong>ï¼šçµæ´»é€‰æ‹©ï¼Œç®€åŒ–æµç¨‹ã€‚</li><li><strong>é«˜æ€§èƒ½</strong>ï¼šé€šè¿‡å¼‚æ­¥æ—¥å¿—å’Œ Redis ç¼“å­˜æå‡æ€§èƒ½ã€‚</li><li><strong>æ˜“æ‰©å±•</strong>ï¼šæ”¯æŒå¤šç§æ•°æ®åº“å’Œæ¶ˆæ¯é˜Ÿåˆ—ã€‚</li></ul> 
<h3><a id="_spring_cloud_21"></a>ğŸ“¦ spring cloudæ¨¡å—æ¦‚è§ˆ</h3> 
<ul><li><strong>Nacos æœåŠ¡</strong>ï¼šé«˜æ•ˆçš„æœåŠ¡æ³¨å†Œä¸å‘ç°ã€‚</li><li><strong>Feign è¿œç¨‹è°ƒç”¨</strong>ï¼šç®€åŒ–æœåŠ¡é—´é€šä¿¡ã€‚</li><li><strong>å¼ºå¤§ç½‘å…³</strong>ï¼šè·¯ç”±ä¸é™æµã€‚</li></ul> 
<h4><a id="_27"></a>å¸¸ç”¨å·¥å…·</h4> 
<ul><li><strong>æ—¥å¿—ç®¡ç†</strong>ï¼šå¼‚æ­¥å¤„ç†ä¸é“¾è·¯è¿½è¸ªã€‚</li><li><strong>Redis é›†æˆ</strong>ï¼šæ”¯æŒåˆ†å¸ƒå¼é”ä¸ç¼“å­˜ã€‚</li><li><strong>Swagger æ–‡æ¡£</strong>ï¼šä¾¿æ·çš„ API å…¥å£ã€‚</li><li><strong>æµ‹è¯•æ”¯æŒ</strong>ï¼šSpringBoot-Test é›†æˆã€‚</li><li><strong>EasyCode</strong>ï¼šè‡ªå®šä¹‰EasyCodeæ¨¡æ¿å¼•æ“ï¼Œä¸€é”®ç”ŸæˆCRUDã€‚</li></ul> 
<hr> 
<h3><a id="__36"></a>ğŸ”— æ›´å¤šä¿¡æ¯</h3> 
<ul><li><strong>å¼€æºåœ°å€</strong>ï¼š<a href="https://gitee.com/qyxinhua_0/sun-frame" rel="nofollow">Gitee Sun Frame</a></li><li><strong>è¯¦ç»†æ–‡æ¡£</strong>ï¼š<a href="https://www.yuque.com/yuqueyonghuzns2k6/xg2046" rel="nofollow">è¯­é›€æ–‡æ¡£</a><br> <img src="https://images2.imgbox.com/fd/f3/aVH64zXh_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></li></ul> 
<hr> 
<h3><a id="1GatewayRedis_45"></a>1.Gatewayå®ç°Redisæ‹‰å–ä¿¡æ¯</h3> 
<h5><a id="1_47"></a>1.ç›®å½•ç»“æ„</h5> 
<p><img src="https://images2.imgbox.com/4b/f8/21uvVw3D_o.png" alt="image-20240605145202260"></p> 
<h5><a id="2RedisConfigjava_51"></a>2.RedisConfig.java</h5> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>sunxiansheng<span class="token punctuation">.</span>club<span class="token punctuation">.</span>gateway<span class="token punctuation">.</span>redis</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>fasterxml<span class="token punctuation">.</span>jackson<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">JsonAutoDetect</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>fasterxml<span class="token punctuation">.</span>jackson<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">JsonTypeInfo</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>fasterxml<span class="token punctuation">.</span>jackson<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">PropertyAccessor</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>fasterxml<span class="token punctuation">.</span>jackson<span class="token punctuation">.</span>databind<span class="token punctuation">.</span></span><span class="token class-name">DeserializationFeature</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>fasterxml<span class="token punctuation">.</span>jackson<span class="token punctuation">.</span>databind<span class="token punctuation">.</span></span><span class="token class-name">ObjectMapper</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Bean</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>data<span class="token punctuation">.</span>redis<span class="token punctuation">.</span>connection<span class="token punctuation">.</span></span><span class="token class-name">RedisConnectionFactory</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>data<span class="token punctuation">.</span>redis<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">RedisTemplate</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>data<span class="token punctuation">.</span>redis<span class="token punctuation">.</span>serializer<span class="token punctuation">.</span></span><span class="token class-name">Jackson2JsonRedisSerializer</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>data<span class="token punctuation">.</span>redis<span class="token punctuation">.</span>serializer<span class="token punctuation">.</span></span><span class="token class-name">RedisSerializer</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>data<span class="token punctuation">.</span>redis<span class="token punctuation">.</span>serializer<span class="token punctuation">.</span></span><span class="token class-name">StringRedisSerializer</span></span><span class="token punctuation">;</span>

<span class="token comment">/**
 * Description: åŸç”Ÿ redis çš„ template çš„åºåˆ—åŒ–å™¨ä¼šäº§ç”Ÿä¹±ç é—®é¢˜ï¼Œé‡å†™æ”¹ä¸º jackson
 * @Author sun
 * @Create 2024/6/5 14:16
 * @Version 1.0
 */</span>
<span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RedisConfig</span> <span class="token punctuation">{<!-- --></span>

    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">RedisTemplate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> <span class="token function">redisTemplate</span><span class="token punctuation">(</span><span class="token class-name">RedisConnectionFactory</span> redisConnectionFactory<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">RedisTemplate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> redisTemplate <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RedisTemplate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">RedisSerializer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> redisSerializer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringRedisSerializer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        redisTemplate<span class="token punctuation">.</span><span class="token function">setConnectionFactory</span><span class="token punctuation">(</span>redisConnectionFactory<span class="token punctuation">)</span><span class="token punctuation">;</span>
        redisTemplate<span class="token punctuation">.</span><span class="token function">setKeySerializer</span><span class="token punctuation">(</span>redisSerializer<span class="token punctuation">)</span><span class="token punctuation">;</span>
        redisTemplate<span class="token punctuation">.</span><span class="token function">setHashKeySerializer</span><span class="token punctuation">(</span>redisSerializer<span class="token punctuation">)</span><span class="token punctuation">;</span>
        redisTemplate<span class="token punctuation">.</span><span class="token function">setValueSerializer</span><span class="token punctuation">(</span><span class="token function">jackson2JsonRedisSerializer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        redisTemplate<span class="token punctuation">.</span><span class="token function">setHashValueSerializer</span><span class="token punctuation">(</span><span class="token function">jackson2JsonRedisSerializer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> redisTemplate<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token class-name">Jackson2JsonRedisSerializer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> <span class="token function">jackson2JsonRedisSerializer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">Jackson2JsonRedisSerializer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> jsonRedisSerializer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Jackson2JsonRedisSerializer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ObjectMapper</span> objectMapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        objectMapper<span class="token punctuation">.</span><span class="token function">setVisibility</span><span class="token punctuation">(</span><span class="token class-name">PropertyAccessor</span><span class="token punctuation">.</span><span class="token constant">ALL</span><span class="token punctuation">,</span> <span class="token class-name">JsonAutoDetect<span class="token punctuation">.</span>Visibility</span><span class="token punctuation">.</span><span class="token constant">ANY</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        objectMapper<span class="token punctuation">.</span><span class="token function">configure</span><span class="token punctuation">(</span><span class="token class-name">DeserializationFeature</span><span class="token punctuation">.</span><span class="token constant">FAIL_ON_UNKNOWN_PROPERTIES</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        objectMapper<span class="token punctuation">.</span><span class="token function">enableDefaultTyping</span><span class="token punctuation">(</span><span class="token class-name">ObjectMapper<span class="token punctuation">.</span>DefaultTyping</span><span class="token punctuation">.</span><span class="token constant">NON_FINAL</span><span class="token punctuation">,</span> <span class="token class-name">JsonTypeInfo<span class="token punctuation">.</span>As</span><span class="token punctuation">.</span><span class="token constant">PROPERTY</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        jsonRedisSerializer<span class="token punctuation">.</span><span class="token function">setObjectMapper</span><span class="token punctuation">(</span>objectMapper<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> jsonRedisSerializer<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> 
<h5><a id="3RedisUtiljava_103"></a>3.RedisUtil.java</h5> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>sunxiansheng<span class="token punctuation">.</span>club<span class="token punctuation">.</span>gateway<span class="token punctuation">.</span>redis</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span>extern<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">Slf4j</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>data<span class="token punctuation">.</span>redis<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">RedisTemplate</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Resource</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Set</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token class-name">TimeUnit</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>stream<span class="token punctuation">.</span></span><span class="token class-name">Collectors</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>stream<span class="token punctuation">.</span></span><span class="token class-name">Stream</span></span><span class="token punctuation">;</span>

<span class="token comment">/**
 * Description: RedisUtilå·¥å…·ç±»
 * @Author sun
 * @Create 2024/6/5 14:17
 * @Version 1.0
 */</span>
<span class="token annotation punctuation">@Component</span>
<span class="token annotation punctuation">@Slf4j</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RedisUtil</span> <span class="token punctuation">{<!-- --></span>

    <span class="token annotation punctuation">@Resource</span>
    <span class="token keyword">private</span> <span class="token class-name">RedisTemplate</span> redisTemplate<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> <span class="token constant">CACHE_KEY_SEPARATOR</span> <span class="token operator">=</span> <span class="token string">"."</span><span class="token punctuation">;</span>

    <span class="token comment">/**
     * æ„å»ºç¼“å­˜key
     */</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">buildKey</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> strObjs<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token class-name">Stream</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>strObjs<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">joining</span><span class="token punctuation">(</span><span class="token constant">CACHE_KEY_SEPARATOR</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * æ˜¯å¦å­˜åœ¨key
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">exist</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> redisTemplate<span class="token punctuation">.</span><span class="token function">hasKey</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * åˆ é™¤key
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">del</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> redisTemplate<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">set</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token class-name">String</span> value<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        redisTemplate<span class="token punctuation">.</span><span class="token function">opsForValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">setNx</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token class-name">String</span> value<span class="token punctuation">,</span> <span class="token class-name">Long</span> time<span class="token punctuation">,</span> <span class="token class-name">TimeUnit</span> timeUnit<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setIfAbsent</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">,</span> time<span class="token punctuation">,</span> timeUnit<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Boolean</span> <span class="token function">zAdd</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token class-name">String</span> value<span class="token punctuation">,</span> <span class="token class-name">Long</span> score<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForZSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">,</span> <span class="token class-name">Double</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>score<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Long</span> <span class="token function">countZset</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForZSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">rangeZset</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token keyword">long</span> start<span class="token punctuation">,</span> <span class="token keyword">long</span> end<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForZSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">range</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> start<span class="token punctuation">,</span> end<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Long</span> <span class="token function">removeZset</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token class-name">Object</span> value<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForZSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">removeZsetList</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> value<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        value<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForZSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> val<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Double</span> <span class="token function">score</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token class-name">Object</span> value<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForZSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">score</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">rangeByScore</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token keyword">long</span> start<span class="token punctuation">,</span> <span class="token keyword">long</span> end<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForZSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">rangeByScore</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> <span class="token class-name">Double</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>start<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">Double</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>end<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">addScore</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token class-name">Object</span> obj<span class="token punctuation">,</span> <span class="token keyword">double</span> score<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForZSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">incrementScore</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> obj<span class="token punctuation">,</span> score<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">rank</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token class-name">Object</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForZSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">rank</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


<span class="token punctuation">}</span>
</code></pre> 
<h5><a id="4StpInterfaceImpljava_206"></a>4.StpInterfaceImpl.java</h5> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>sunxiansheng<span class="token punctuation">.</span>club<span class="token punctuation">.</span>gateway<span class="token punctuation">.</span>auth</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">cn<span class="token punctuation">.</span>dev33<span class="token punctuation">.</span>satoken<span class="token punctuation">.</span>stp<span class="token punctuation">.</span></span><span class="token class-name">StpInterface</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>cloud<span class="token punctuation">.</span>commons<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span><span class="token class-name">StringUtils</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>google<span class="token punctuation">.</span>gson<span class="token punctuation">.</span></span><span class="token class-name">Gson</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>sunxiansheng<span class="token punctuation">.</span>club<span class="token punctuation">.</span>gateway<span class="token punctuation">.</span>redis<span class="token punctuation">.</span></span><span class="token class-name">RedisConfig</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>sunxiansheng<span class="token punctuation">.</span>club<span class="token punctuation">.</span>gateway<span class="token punctuation">.</span>redis<span class="token punctuation">.</span></span><span class="token class-name">RedisUtil</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Collections</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>

<span class="token comment">/**
 * è‡ªå®šä¹‰æƒé™éªŒè¯æ¥å£æ‰©å±•
 */</span>
<span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StpInterfaceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">StpInterface</span> <span class="token punctuation">{<!-- --></span>

    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">RedisUtil</span> redisUtil<span class="token punctuation">;</span>
    <span class="token comment">// å®šä¹‰å­˜å…¥åˆ°redisçš„å‰ç¼€</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> authPermissionPrefix <span class="token operator">=</span> <span class="token string">"auth.permission"</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> authRolePrefix <span class="token operator">=</span> <span class="token string">"auth.role"</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">StpInterfaceImpl</span><span class="token punctuation">(</span><span class="token class-name">RedisUtil</span> redisUtil<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>redisUtil <span class="token operator">=</span> redisUtil<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * è¿”å›æ­¤loginIdæ‹¥æœ‰çš„æƒé™åˆ—è¡¨
     * @param loginId
     * @param loginType
     * @return
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">getPermissionList</span><span class="token punctuation">(</span><span class="token class-name">Object</span> loginId<span class="token punctuation">,</span> <span class="token class-name">String</span> loginType<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token function">getAuth</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span> loginId<span class="token punctuation">,</span> authPermissionPrefix<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * è¿”å›æ­¤loginIdæ‹¥æœ‰çš„è§’è‰²åˆ—è¡¨
     * @param loginId
     * @param loginType
     * @return
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">getRoleList</span><span class="token punctuation">(</span><span class="token class-name">Object</span> loginId<span class="token punctuation">,</span> <span class="token class-name">String</span> loginType<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token function">getAuth</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span> loginId<span class="token punctuation">,</span> authRolePrefix<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">getAuth</span><span class="token punctuation">(</span><span class="token class-name">String</span> loginId<span class="token punctuation">,</span> <span class="token class-name">String</span> prefix<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// å¾—åˆ°è¯¥ç”¨æˆ·åœ¨redisä¸­å­˜å‚¨çš„key</span>
        <span class="token class-name">String</span> authKey <span class="token operator">=</span> redisUtil<span class="token punctuation">.</span><span class="token function">buildKey</span><span class="token punctuation">(</span>prefix<span class="token punctuation">,</span> loginId<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// ä»redisä¸­è·å–åˆ—è¡¨</span>
        <span class="token class-name">String</span> authValue <span class="token operator">=</span> redisUtil<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>authKey<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// åˆ¤ç©º</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">isBlank</span><span class="token punctuation">(</span>authValue<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">emptyList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// å¦‚æœæœ‰æƒé™ï¼Œåˆ™ä½¿ç”¨Gsonååºåˆ—åŒ–ä¸ºList</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> authList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Gson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fromJson</span><span class="token punctuation">(</span>authValue<span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> authList<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="2_276"></a>2.ç”¨æˆ·æ¨¡å—-ç”¨æˆ·æ³¨å†Œ</h3> 
<h5><a id="1easycodeauth_user_278"></a>1.easycodeç”Ÿæˆauth_userä»£ç </h5> 
<h6><a id="1_280"></a>1.åˆ›å»ºå¥½ç›®å½•</h6> 
<p><img src="https://images2.imgbox.com/80/e3/E0tX9O9O_o.png" alt="image-20240605150443859"></p> 
<h6><a id="2_284"></a>2.é…ç½®ç”Ÿæˆä»£ç </h6> 
<p><img src="https://images2.imgbox.com/0c/0e/pLAgRJPH_o.png" alt="image-20240605150614456"></p> 
<h6><a id="3daomapper_288"></a>3.å°†daoå±‚çš„ç±»å‰ªåˆ‡åˆ°mapperå±‚</h6> 
<h6><a id="4AuthUserDaojavaPageable_290"></a>4.AuthUserDao.javaåˆ é™¤Pageableçš„å‚æ•°</h6> 
<p><img src="https://images2.imgbox.com/b9/65/Qrk1rc2x_o.png" alt="image-20240605151131673"></p> 
<h6><a id="5service_294"></a>5.serviceå±‚åˆ é™¤åˆ†é¡µæŸ¥è¯¢æ¥å£å’Œå®ç°ç±»</h6> 
<p><img src="https://images2.imgbox.com/f2/6a/RfSo4rk8_o.png" alt="image-20240605151230210"></p> 
<p><img src="https://images2.imgbox.com/00/8b/DuZKH38V_o.png" alt="image-20240605151243406"></p> 
<h6><a id="6_300"></a>6.æœ€ç»ˆç›®å½•ç»“æ„</h6> 
<p><img src="https://images2.imgbox.com/55/2f/pFeXnlTh_o.png" alt="image-20240605151513469"></p> 
<h5><a id="2sunclubauthapplicationcontroller__304"></a>2.sun-club-auth-application-controller åŸºæœ¬é…ç½®</h5> 
<h6><a id="1_306"></a>1.ç›®å½•åˆ›å»º</h6> 
<p><img src="https://images2.imgbox.com/0d/27/XVKAIbFC_o.png" alt="image-20240605152023941"></p> 
<h6><a id="2GlobalConfigjava_mvc_310"></a>2.GlobalConfig.java mvcçš„å…¨å±€å¤„ç†</h6> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>sunxiansheng<span class="token punctuation">.</span>auth<span class="token punctuation">.</span>application<span class="token punctuation">.</span>config</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>fasterxml<span class="token punctuation">.</span>jackson<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">JsonInclude</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>fasterxml<span class="token punctuation">.</span>jackson<span class="token punctuation">.</span>databind<span class="token punctuation">.</span></span><span class="token class-name">ObjectMapper</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>fasterxml<span class="token punctuation">.</span>jackson<span class="token punctuation">.</span>databind<span class="token punctuation">.</span></span><span class="token class-name">SerializationFeature</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>http<span class="token punctuation">.</span>converter<span class="token punctuation">.</span></span><span class="token class-name">HttpMessageConverter</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>http<span class="token punctuation">.</span>converter<span class="token punctuation">.</span>json<span class="token punctuation">.</span></span><span class="token class-name">MappingJackson2HttpMessageConverter</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>config<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebMvcConfigurationSupport</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>

<span class="token comment">/**
 * mvcçš„å…¨å±€å¤„ç†
 */</span>
<span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GlobalConfig</span> <span class="token keyword">extends</span> <span class="token class-name">WebMvcConfigurationSupport</span> <span class="token punctuation">{<!-- --></span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">configureMessageConverters</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">HttpMessageConverter</span><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> converters<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">configureMessageConverters</span><span class="token punctuation">(</span>converters<span class="token punctuation">)</span><span class="token punctuation">;</span>
        converters<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token function">mappingJackson2HttpMessageConverter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">/**
     * è‡ªå®šä¹‰mappingJackson2HttpMessageConverter
     * ç›®å‰å®ç°ï¼šç©ºå€¼å¿½ç•¥ï¼Œç©ºå­—æ®µå¯è¿”å›
     */</span>
    <span class="token keyword">private</span> <span class="token class-name">MappingJackson2HttpMessageConverter</span> <span class="token function">mappingJackson2HttpMessageConverter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">ObjectMapper</span> objectMapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        objectMapper<span class="token punctuation">.</span><span class="token function">configure</span><span class="token punctuation">(</span><span class="token class-name">SerializationFeature</span><span class="token punctuation">.</span><span class="token constant">FAIL_ON_EMPTY_BEANS</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        objectMapper<span class="token punctuation">.</span><span class="token function">setSerializationInclusion</span><span class="token punctuation">(</span><span class="token class-name">JsonInclude<span class="token punctuation">.</span>Include</span><span class="token punctuation">.</span><span class="token constant">NON_NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">MappingJackson2HttpMessageConverter</span><span class="token punctuation">(</span>objectMapper<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> 
<h5><a id="3sunclubauthcommon__350"></a>3.sun-club-auth-common åŸºæœ¬é…ç½®</h5> 
<h6><a id="1_352"></a>1.ç›®å½•ç»“æ„</h6> 
<p><img src="https://images2.imgbox.com/6f/6d/KWxMJlql_o.png" alt="image-20240605152556975"></p> 
<h6><a id="2PageInfojava_356"></a>2.PageInfo.java</h6> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>sunxiansheng<span class="token punctuation">.</span>auth<span class="token punctuation">.</span>common<span class="token punctuation">.</span>eneity</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * Description: åˆ†é¡µè¯·æ±‚çš„å…¥å‚
 * @Author sun
 * @Create 2024/5/28 16:25
 * @Version 1.0
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PageInfo</span> <span class="token punctuation">{<!-- --></span>

    <span class="token keyword">private</span> <span class="token class-name">Integer</span> pageNo <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token class-name">Integer</span> pageSize <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">getPageNo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>pageNo <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> pageNo <span class="token operator">&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> pageNo<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">getPageSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>pageSize <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> pageSize <span class="token operator">&lt;</span> <span class="token number">1</span> <span class="token operator">||</span> pageSize <span class="token operator">&gt;</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token constant">MAX_VALUE</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> <span class="token number">20</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> pageSize<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setPageNo</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> pageNo<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>pageNo <span class="token operator">=</span> pageNo<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setPageSize</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> pageSize<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>pageSize <span class="token operator">=</span> pageSize<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h6><a id="3PageResultjava_397"></a>3.PageResult.java</h6> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>sunxiansheng<span class="token punctuation">.</span>auth<span class="token punctuation">.</span>common<span class="token punctuation">.</span>eneity</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Collections</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>

<span class="token comment">/**
 * Description: åˆ†é¡µè¿”å›çš„å®ä½“
 * @Author sun
 * @Create 2024/5/28 16:36
 * @Version 1.1
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PageResult</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{<!-- --></span>

    <span class="token comment">// å½“å‰é¡µç ï¼Œé»˜è®¤ä¸º1</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> pageNo <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

    <span class="token comment">// æ¯é¡µæ˜¾ç¤ºçš„è®°å½•æ•°ï¼Œé»˜è®¤ä¸º20</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> pageSize <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>

    <span class="token comment">// æ€»è®°å½•æ¡æ•°</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> total <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token comment">// æ€»é¡µæ•°</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> totalPages <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token comment">// å½“å‰é¡µçš„è®°å½•åˆ—è¡¨</span>
    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> result <span class="token operator">=</span> <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">emptyList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// è¡¨ç¤ºå½“å‰é¡µæ˜¯ä»æ•°æ®åº“çš„ç¬¬å‡ æ¡è®°å½•å¼€å§‹ï¼Œä¸‹æ ‡ä»1å¼€å§‹</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> start <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

    <span class="token comment">// è¡¨ç¤ºå½“å‰é¡µæ˜¯ä»æ•°æ®åº“çš„ç¬¬å‡ æ¡è®°å½•ç»“æŸï¼Œä¸‹æ ‡ä»1å¼€å§‹</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> end <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token comment">// è®¾ç½®å½“å‰é¡µç ï¼Œå¹¶é‡æ–°è®¡ç®—èµ·å§‹å’Œç»“æŸä½ç½®</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setPageNo</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> pageNo<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>pageNo <span class="token operator">=</span> pageNo<span class="token punctuation">;</span>
        <span class="token function">calculateStartAndEnd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// è®¾ç½®æ¯é¡µè®°å½•æ•°ï¼Œå¹¶é‡æ–°è®¡ç®—èµ·å§‹å’Œç»“æŸä½ç½®</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setPageSize</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> pageSize<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>pageSize <span class="token operator">=</span> pageSize<span class="token punctuation">;</span>
        <span class="token function">calculateStartAndEnd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// è®¾ç½®å½“å‰é¡µçš„è®°å½•åˆ—è¡¨</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setRecords</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> result<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>result <span class="token operator">=</span> result<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// è®¾ç½®æ€»è®°å½•æ¡æ•°ï¼Œå¹¶é‡æ–°è®¡ç®—æ€»é¡µæ•°å’Œèµ·å§‹ç»“æŸä½ç½®</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setTotal</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> total<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>total <span class="token operator">=</span> total<span class="token punctuation">;</span>
        <span class="token function">calculateTotalPages</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">calculateStartAndEnd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// è®¡ç®—æ€»é¡µæ•°</span>
    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">calculateTotalPages</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>pageSize <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>totalPages <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>total <span class="token operator">/</span> <span class="token keyword">this</span><span class="token punctuation">.</span>pageSize<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>total <span class="token operator">%</span> <span class="token keyword">this</span><span class="token punctuation">.</span>pageSize <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>totalPages <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// è®¡ç®—èµ·å§‹å’Œç»“æŸä½ç½®</span>
    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">calculateStartAndEnd</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>pageSize <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>start <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>pageNo <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>pageSize <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>end <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>pageNo <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>pageSize<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>total<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>start <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>end <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>total<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// è·å–æ•°æ®åº“æŸ¥è¯¢çš„èµ·å§‹ä½ç½®ï¼ˆä»0å¼€å§‹ï¼‰</span>
    <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">getDBStart</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> start <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">getStart</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> start<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// è·å–æ¯é¡µè®°å½•æ•°</span>
    <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">getPageSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> pageSize<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// å¯é€‰çš„ Getters å’Œ Setters</span>
    <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">getPageNo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> pageNo<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">getTotal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> total<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">getTotalPages</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> totalPages<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">getResult</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> result<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">getEnd</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> end<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h6><a id="4Resultjava_515"></a>4.Result.java</h6> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>sunxiansheng<span class="token punctuation">.</span>auth<span class="token punctuation">.</span>common<span class="token punctuation">.</span>eneity</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>sunxiansheng<span class="token punctuation">.</span>auth<span class="token punctuation">.</span>common<span class="token punctuation">.</span>enums<span class="token punctuation">.</span></span><span class="token class-name">ResultCodeEnum</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">Data</span></span><span class="token punctuation">;</span>

<span class="token comment">/**
 * Description:
 * @Author sun
 * @Create 2024/5/24 9:48
 * @Version 1.0
 */</span>
<span class="token annotation punctuation">@Data</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Result</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{<!-- --></span>

    <span class="token keyword">private</span> <span class="token class-name">Boolean</span> success<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token class-name">Integer</span> code<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> message<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token class-name">T</span> data<span class="token punctuation">;</span>

    <span class="token comment">/**
     * æˆåŠŸè¿”å›ç»“æœ
     * @return
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Result</span> <span class="token function">ok</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">Result</span> result <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Result</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        result<span class="token punctuation">.</span><span class="token function">setSuccess</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        result<span class="token punctuation">.</span><span class="token function">setCode</span><span class="token punctuation">(</span><span class="token class-name">ResultCodeEnum</span><span class="token punctuation">.</span><span class="token constant">SUCCESS</span><span class="token punctuation">.</span><span class="token function">getCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        result<span class="token punctuation">.</span><span class="token function">setMessage</span><span class="token punctuation">(</span><span class="token class-name">ResultCodeEnum</span><span class="token punctuation">.</span><span class="token constant">SUCCESS</span><span class="token punctuation">.</span><span class="token function">getDesc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> result<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * æˆåŠŸè¿”å›ç»“æœï¼Œæºå¸¦æ•°æ®
     * @param data
     * @return
     * @param &lt;T&gt;
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Result</span> <span class="token function">ok</span><span class="token punctuation">(</span><span class="token class-name">T</span> data<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">Result</span> result <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Result</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        result<span class="token punctuation">.</span><span class="token function">setSuccess</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        result<span class="token punctuation">.</span><span class="token function">setCode</span><span class="token punctuation">(</span><span class="token class-name">ResultCodeEnum</span><span class="token punctuation">.</span><span class="token constant">SUCCESS</span><span class="token punctuation">.</span><span class="token function">getCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        result<span class="token punctuation">.</span><span class="token function">setMessage</span><span class="token punctuation">(</span><span class="token class-name">ResultCodeEnum</span><span class="token punctuation">.</span><span class="token constant">SUCCESS</span><span class="token punctuation">.</span><span class="token function">getDesc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        result<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> result<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * å¤±è´¥è¿”å›ç»“æœ
     * @return
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Result</span> <span class="token function">fail</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">Result</span> result <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Result</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        result<span class="token punctuation">.</span><span class="token function">setSuccess</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        result<span class="token punctuation">.</span><span class="token function">setCode</span><span class="token punctuation">(</span><span class="token class-name">ResultCodeEnum</span><span class="token punctuation">.</span><span class="token constant">FAIL</span><span class="token punctuation">.</span><span class="token function">getCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        result<span class="token punctuation">.</span><span class="token function">setMessage</span><span class="token punctuation">(</span><span class="token class-name">ResultCodeEnum</span><span class="token punctuation">.</span><span class="token constant">FAIL</span><span class="token punctuation">.</span><span class="token function">getDesc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> result<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * å¤±è´¥ï¼Œæºå¸¦æ•°æ®
     * @param data
     * @return
     * @param &lt;T&gt;
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Result</span> <span class="token function">fail</span><span class="token punctuation">(</span><span class="token class-name">T</span> data<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">Result</span> result <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Result</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        result<span class="token punctuation">.</span><span class="token function">setSuccess</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        result<span class="token punctuation">.</span><span class="token function">setCode</span><span class="token punctuation">(</span><span class="token class-name">ResultCodeEnum</span><span class="token punctuation">.</span><span class="token constant">FAIL</span><span class="token punctuation">.</span><span class="token function">getCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        result<span class="token punctuation">.</span><span class="token function">setMessage</span><span class="token punctuation">(</span><span class="token class-name">ResultCodeEnum</span><span class="token punctuation">.</span><span class="token constant">FAIL</span><span class="token punctuation">.</span><span class="token function">getDesc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        result<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> result<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> 
<h6><a id="5IsDeleteFlagEnumjava_597"></a>5.IsDeleteFlagEnum.java</h6> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>sunxiansheng<span class="token punctuation">.</span>auth<span class="token punctuation">.</span>common<span class="token punctuation">.</span>enums</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">Getter</span></span><span class="token punctuation">;</span>

<span class="token comment">/**
 * Description: åˆ é™¤æ ‡è¯†æšä¸¾
 * @Author sun
 * @Create 2024/5/24 9:53
 * @Version 1.0
 */</span>
<span class="token annotation punctuation">@Getter</span>
<span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">IsDeleteFlagEnum</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">DELETED</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"å·²åˆ é™¤"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">UN_DELETED</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">"æœªåˆ é™¤"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">int</span> code<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> desc<span class="token punctuation">;</span>

    <span class="token class-name">IsDeleteFlagEnum</span><span class="token punctuation">(</span><span class="token keyword">int</span> code<span class="token punctuation">,</span> <span class="token class-name">String</span> desc<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>code <span class="token operator">=</span> code<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>desc <span class="token operator">=</span> desc<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * æ ¹æ®codeè·å–æšä¸¾
     * @param code
     * @return
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">IsDeleteFlagEnum</span> <span class="token function">getByCode</span><span class="token punctuation">(</span><span class="token keyword">int</span> code<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">IsDeleteFlagEnum</span> value <span class="token operator">:</span> <span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>value<span class="token punctuation">.</span>code <span class="token operator">==</span> code<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">return</span> value<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h6><a id="6ResultCodeEnumjava_639"></a>6.ResultCodeEnum.java</h6> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>sunxiansheng<span class="token punctuation">.</span>auth<span class="token punctuation">.</span>common<span class="token punctuation">.</span>enums</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">Getter</span></span><span class="token punctuation">;</span>

<span class="token comment">/**
 * Description: è¿”å›ç»“æœæšä¸¾
 * @Author sun
 * @Create 2024/5/24 9:53
 * @Version 1.0
 */</span>
<span class="token annotation punctuation">@Getter</span>
<span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">ResultCodeEnum</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">SUCCESS</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token string">"æˆåŠŸ"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">FAIL</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">,</span> <span class="token string">"å¤±è´¥"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">int</span> code<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> desc<span class="token punctuation">;</span>

    <span class="token class-name">ResultCodeEnum</span><span class="token punctuation">(</span><span class="token keyword">int</span> code<span class="token punctuation">,</span> <span class="token class-name">String</span> desc<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>code <span class="token operator">=</span> code<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>desc <span class="token operator">=</span> desc<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * æ ¹æ®codeè·å–æšä¸¾
     * @param code
     * @return
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">ResultCodeEnum</span> <span class="token function">getByCode</span><span class="token punctuation">(</span><span class="token keyword">int</span> code<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">ResultCodeEnum</span> value <span class="token operator">:</span> <span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>value<span class="token punctuation">.</span>code <span class="token operator">==</span> code<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">return</span> value<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h5><a id="4sunclubauthapplicationcontroller_681"></a>4.sun-club-auth-application-controllerå±‚</h5> 
<h6><a id="1AuthUserDTOjava_683"></a>1.AuthUserDTO.java</h6> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>sunxiansheng<span class="token punctuation">.</span>auth<span class="token punctuation">.</span>application<span class="token punctuation">.</span>dto</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">Data</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">Serializable</span></span><span class="token punctuation">;</span>

<span class="token comment">/**
 * ç”¨æˆ·ä¿¡æ¯çš„dto
 *
 * @author makejava
 * @since 2024-06-05 15:06:10
 */</span>
<span class="token annotation punctuation">@Data</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AuthUserDTO</span> <span class="token keyword">implements</span> <span class="token class-name">Serializable</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">/**
     * ä¸»é”®
     */</span>
    <span class="token keyword">private</span> <span class="token class-name">Long</span> id<span class="token punctuation">;</span>
    <span class="token comment">/**
     * ç”¨æˆ·åç§°/è´¦å·
     */</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> userName<span class="token punctuation">;</span>
    <span class="token comment">/**
     * æ˜µç§°
     */</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> nickName<span class="token punctuation">;</span>
    <span class="token comment">/**
     * é‚®ç®±
     */</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> email<span class="token punctuation">;</span>
    <span class="token comment">/**
     * æ‰‹æœºå·
     */</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> phone<span class="token punctuation">;</span>
    <span class="token comment">/**
     * å¯†ç 
     */</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> password<span class="token punctuation">;</span>
    <span class="token comment">/**
     * æ€§åˆ«
     */</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> sex<span class="token punctuation">;</span>
    <span class="token comment">/**
     * å¤´åƒ
     */</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> avatar<span class="token punctuation">;</span>
    <span class="token comment">/**
     * çŠ¶æ€ 0å¯ç”¨ 1ç¦ç”¨
     */</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> status<span class="token punctuation">;</span>
    <span class="token comment">/**
     * ä¸ªäººä»‹ç»
     */</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> introduce<span class="token punctuation">;</span>
    <span class="token comment">/**
     * ç‰¹æ®Šå­—æ®µ
     */</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> extJson<span class="token punctuation">;</span>
    <span class="token comment">/**
     * æ˜¯å¦è¢«åˆ é™¤ 0æœªåˆ é™¤ 1å·²åˆ é™¤
     */</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> isDeleted<span class="token punctuation">;</span>

<span class="token punctuation">}</span>

</code></pre> 
<h6><a id="2sunclubauthdomain__753"></a>2.sun-club-auth-domain æ¨¡å—</h6> 
<h6><a id="AuthUserBOjava_DTO_755"></a>AuthUserBO.java ä¸DTOä¸€è‡´</h6> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>sunxiansheng<span class="token punctuation">.</span>auth<span class="token punctuation">.</span>domain<span class="token punctuation">.</span>entity</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">Data</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">Serializable</span></span><span class="token punctuation">;</span>

<span class="token comment">/**
 * ç”¨æˆ·ä¿¡æ¯çš„bo
 *
 * @author makejava
 * @since 2024-06-05 15:06:10
 */</span>
<span class="token annotation punctuation">@Data</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AuthUserBO</span> <span class="token keyword">implements</span> <span class="token class-name">Serializable</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">/**
     * ä¸»é”®
     */</span>
    <span class="token keyword">private</span> <span class="token class-name">Long</span> id<span class="token punctuation">;</span>
    <span class="token comment">/**
     * ç”¨æˆ·åç§°/è´¦å·
     */</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> userName<span class="token punctuation">;</span>
    <span class="token comment">/**
     * æ˜µç§°
     */</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> nickName<span class="token punctuation">;</span>
    <span class="token comment">/**
     * é‚®ç®±
     */</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> email<span class="token punctuation">;</span>
    <span class="token comment">/**
     * æ‰‹æœºå·
     */</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> phone<span class="token punctuation">;</span>
    <span class="token comment">/**
     * å¯†ç 
     */</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> password<span class="token punctuation">;</span>
    <span class="token comment">/**
     * æ€§åˆ«
     */</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> sex<span class="token punctuation">;</span>
    <span class="token comment">/**
     * å¤´åƒ
     */</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> avatar<span class="token punctuation">;</span>
    <span class="token comment">/**
     * çŠ¶æ€ 0å¯ç”¨ 1ç¦ç”¨
     */</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> status<span class="token punctuation">;</span>
    <span class="token comment">/**
     * ä¸ªäººä»‹ç»
     */</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> introduce<span class="token punctuation">;</span>
    <span class="token comment">/**
     * ç‰¹æ®Šå­—æ®µ
     */</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> extJson<span class="token punctuation">;</span>
    <span class="token comment">/**
     * æ˜¯å¦è¢«åˆ é™¤ 0æœªåˆ é™¤ 1å·²åˆ é™¤
     */</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> isDeleted<span class="token punctuation">;</span>

<span class="token punctuation">}</span>

</code></pre> 
<h6><a id="3AuthUserDTOConverterjava_825"></a>3.AuthUserDTOConverter.java</h6> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>sunxiansheng<span class="token punctuation">.</span>auth<span class="token punctuation">.</span>application<span class="token punctuation">.</span>convert</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>sunxiansheng<span class="token punctuation">.</span>auth<span class="token punctuation">.</span>application<span class="token punctuation">.</span>dto<span class="token punctuation">.</span></span><span class="token class-name">AuthUserDTO</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>sunxiansheng<span class="token punctuation">.</span>auth<span class="token punctuation">.</span>domain<span class="token punctuation">.</span>entity<span class="token punctuation">.</span></span><span class="token class-name">AuthUserBO</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>mapstruct<span class="token punctuation">.</span></span><span class="token class-name">Mapper</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>mapstruct<span class="token punctuation">.</span>factory<span class="token punctuation">.</span></span><span class="token class-name">Mappers</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>

<span class="token comment">/**
 * Description: DTOè½¬æ¢
 * @Author sun
 * @Create 2024/6/5 15:39
 * @Version 1.0
 */</span>
<span class="token annotation punctuation">@Mapper</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">AuthUserDTOConverter</span> <span class="token punctuation">{<!-- --></span>
    <span class="token class-name">AuthUserDTOConverter</span> <span class="token constant">INSTANCE</span> <span class="token operator">=</span> <span class="token class-name">Mappers</span><span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">AuthUserDTOConverter</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// å°†AuthUserDTOè½¬æ¢ä¸ºAuthUserBO</span>
    <span class="token class-name">AuthUserBO</span> <span class="token function">convertDTO2BO</span><span class="token punctuation">(</span><span class="token class-name">AuthUserDTO</span> authUserDTO<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// å°†AuthUserBOè½¬æ¢ä¸ºAuthUserDTO</span>
    <span class="token class-name">AuthUserDTO</span> <span class="token function">convertBO2DTO</span><span class="token punctuation">(</span><span class="token class-name">AuthUserBO</span> authUserBO<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// å°†AuthUserDTOé›†åˆè½¬æ¢ä¸ºAuthUserBOé›†åˆ</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">AuthUserBO</span><span class="token punctuation">&gt;</span></span> <span class="token function">convertDTO2BO</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">AuthUserDTO</span><span class="token punctuation">&gt;</span></span> authUserDTOList<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// å°†AuthUserBOé›†åˆè½¬æ¢ä¸ºAuthUserDTOé›†åˆ</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">AuthUserDTO</span><span class="token punctuation">&gt;</span></span> <span class="token function">convertBO2DTO</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">AuthUserBO</span><span class="token punctuation">&gt;</span></span> authUserBOList<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h5><a id="5sunclubauthdomain_858"></a>5.sun-club-auth-domainå±‚</h5> 
<h6><a id="1_860"></a>1.ç›®å½•åˆ›å»º</h6> 
<p><img src="https://images2.imgbox.com/ad/82/UGRO0Gbc_o.png" alt="image-20240605155441562"></p> 
<h6><a id="2AuthUserBOConverterjava_864"></a>2.AuthUserBOConverter.java</h6> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>sunxiansheng<span class="token punctuation">.</span>auth<span class="token punctuation">.</span>domain<span class="token punctuation">.</span>convert</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>sunxiansheng<span class="token punctuation">.</span>auth<span class="token punctuation">.</span>basic<span class="token punctuation">.</span>entity<span class="token punctuation">.</span></span><span class="token class-name">AuthUser</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>sunxiansheng<span class="token punctuation">.</span>auth<span class="token punctuation">.</span>domain<span class="token punctuation">.</span>entity<span class="token punctuation">.</span></span><span class="token class-name">AuthUserBO</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>mapstruct<span class="token punctuation">.</span></span><span class="token class-name">Mapper</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>mapstruct<span class="token punctuation">.</span>factory<span class="token punctuation">.</span></span><span class="token class-name">Mappers</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>

<span class="token comment">/**
 * Description: BOè½¬æ¢
 * @Author sun
 * @Create 2024/5/24 9:18
 * @Version 1.0
 */</span>
<span class="token annotation punctuation">@Mapper</span> <span class="token comment">// mapstructçš„æ³¨è§£</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">AuthUserBOConverter</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// INSTANCEæ˜¯ä¸€ä¸ªAuthUserBOConverterçš„é™æ€å®ä¾‹ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡AuthUserBOConverter.INSTANCEè°ƒç”¨å†…éƒ¨çš„æ–¹æ³•</span>
    <span class="token class-name">AuthUserBOConverter</span> <span class="token constant">INSTANCE</span> <span class="token operator">=</span> <span class="token class-name">Mappers</span><span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">AuthUserBOConverter</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// å°†AuthUserBOè½¬æ¢ä¸ºAuthUser</span>
    <span class="token class-name">AuthUser</span> <span class="token function">convertBO2Entity</span><span class="token punctuation">(</span><span class="token class-name">AuthUserBO</span> authUserBO<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// å°†AuthUserè½¬æ¢ä¸ºAuthUserBO</span>
    <span class="token class-name">AuthUserBO</span> <span class="token function">convertEntity2BO</span><span class="token punctuation">(</span><span class="token class-name">AuthUser</span> authUser<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// å°†AuthUserBOé›†åˆè½¬æ¢ä¸ºAuthUseré›†åˆ</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">AuthUser</span><span class="token punctuation">&gt;</span></span> <span class="token function">convertBO2Entity</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">AuthUserBO</span><span class="token punctuation">&gt;</span></span> authUserBOList<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// å°†AuthUseré›†åˆè½¬æ¢ä¸ºAuthUserBOé›†åˆ</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">AuthUserBO</span><span class="token punctuation">&gt;</span></span> <span class="token function">convertEntity2BO</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">AuthUser</span><span class="token punctuation">&gt;</span></span> authUserList<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>

</code></pre> 
<h6><a id="3AuthUserDomainServicejava_900"></a>3.AuthUserDomainService.java</h6> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>sunxiansheng<span class="token punctuation">.</span>auth<span class="token punctuation">.</span>domain<span class="token punctuation">.</span>service</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>sunxiansheng<span class="token punctuation">.</span>auth<span class="token punctuation">.</span>domain<span class="token punctuation">.</span>entity<span class="token punctuation">.</span></span><span class="token class-name">AuthUserBO</span></span><span class="token punctuation">;</span>

<span class="token comment">/**
 * Description:
 * @Author sun
 * @Create 2024/5/24 9:03
 * @Version 1.0
 */</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">AuthUserDomainService</span> <span class="token punctuation">{<!-- --></span>

    <span class="token class-name">Boolean</span> <span class="token function">register</span><span class="token punctuation">(</span><span class="token class-name">AuthUserBO</span> authUserBO<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h6><a id="4AuthUserDomainServiceImpljava_919"></a>4.AuthUserDomainServiceImpl.java</h6> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>sunxiansheng<span class="token punctuation">.</span>auth<span class="token punctuation">.</span>domain<span class="token punctuation">.</span>service<span class="token punctuation">.</span>impl</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>sunxiansheng<span class="token punctuation">.</span>auth<span class="token punctuation">.</span>basic<span class="token punctuation">.</span>entity<span class="token punctuation">.</span></span><span class="token class-name">AuthUser</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>sunxiansheng<span class="token punctuation">.</span>auth<span class="token punctuation">.</span>basic<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">AuthUserService</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>sunxiansheng<span class="token punctuation">.</span>auth<span class="token punctuation">.</span>domain<span class="token punctuation">.</span>convert<span class="token punctuation">.</span></span><span class="token class-name">AuthUserBOConverter</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>sunxiansheng<span class="token punctuation">.</span>auth<span class="token punctuation">.</span>domain<span class="token punctuation">.</span>entity<span class="token punctuation">.</span></span><span class="token class-name">AuthUserBO</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>sunxiansheng<span class="token punctuation">.</span>auth<span class="token punctuation">.</span>domain<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">AuthUserDomainService</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span>extern<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">Slf4j</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Service</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Resource</span></span><span class="token punctuation">;</span>

<span class="token comment">/**
 * Description:
 * @Author sun
 * @Create 2024/5/24 9:03
 * @Version 1.0
 */</span>
<span class="token annotation punctuation">@Service</span>
<span class="token annotation punctuation">@Slf4j</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AuthUserDomainServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">AuthUserDomainService</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Resource</span>
    <span class="token keyword">private</span> <span class="token class-name">AuthUserService</span> authUserService<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Boolean</span> <span class="token function">register</span><span class="token punctuation">(</span><span class="token class-name">AuthUserBO</span> authUserBO<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// BOè½¬æ¢ä¸ºEntity</span>
        <span class="token class-name">AuthUser</span> authUser <span class="token operator">=</span> <span class="token class-name">AuthUserBOConverter</span><span class="token punctuation">.</span><span class="token constant">INSTANCE</span><span class="token punctuation">.</span><span class="token function">convertBO2Entity</span><span class="token punctuation">(</span>authUserBO<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è°ƒç”¨åŸºç¡€æœåŠ¡</span>
        <span class="token class-name">Integer</span> count <span class="token operator">=</span> authUserService<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>authUser<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> count <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h5><a id="6sunclubauthinfra_957"></a>6.sun-club-auth-infraå±‚</h5> 
<h6><a id="1AuthUserServicejava_insertInteger_959"></a>1.AuthUserService.java ä¿®æ”¹insertè¿”å›ä¸ºInteger</h6> 
<pre><code class="prism language-java"><span class="token comment">/**
 * æ–°å¢æ•°æ®
 *
 * @param authUser å®ä¾‹å¯¹è±¡
 * @return å®ä¾‹å¯¹è±¡
 */</span>
<span class="token class-name">Integer</span> <span class="token function">insert</span><span class="token punctuation">(</span><span class="token class-name">AuthUser</span> authUser<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h6><a id="2AuthUserServiceImpljava_971"></a>2.AuthUserServiceImpl.java</h6> 
<pre><code class="prism language-java"><span class="token comment">/**
 * æ–°å¢æ•°æ®
 *
 * @param authUser å®ä¾‹å¯¹è±¡
 * @return å®ä¾‹å¯¹è±¡
 */</span>
<span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">insert</span><span class="token punctuation">(</span><span class="token class-name">AuthUser</span> authUser<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>authUserDao<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>authUser<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h6><a id="3AuthUserDaojava_986"></a>3.AuthUserDao.java</h6> 
<pre><code class="prism language-java"><span class="token comment">/**
 * æ–°å¢æ•°æ®
 *
 * @param authUser å®ä¾‹å¯¹è±¡
 * @return å½±å“è¡Œæ•°
 */</span>
<span class="token keyword">int</span> <span class="token function">insert</span><span class="token punctuation">(</span><span class="token class-name">AuthUser</span> authUser<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h6><a id="4AuthUserDaoxml_998"></a>4.AuthUserDao.xml</h6> 
<pre><code class="prism language-xml"><span class="token comment">&lt;!--æ–°å¢æ‰€æœ‰åˆ—--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>insert</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>insert<span class="token punctuation">"</span></span> <span class="token attr-name">keyProperty</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>id<span class="token punctuation">"</span></span> <span class="token attr-name">useGeneratedKeys</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    insert into auth_user(user_name, nick_name, email, phone, password, sex, avatar, status, introduce, ext_json,
                          created_by, created_time, update_by, update_time, is_deleted)
    values (#{userName}, #{nickName}, #{email}, #{phone}, #{password}, #{sex}, #{avatar}, #{status}, #{introduce},
            #{extJson}, #{createdBy}, #{createdTime}, #{updateBy}, #{updateTime}, #{isDeleted})
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>insert</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<h5><a id="7UserControllerjava_1010"></a>7.æœ€åï¼šUserController.java</h5> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>sunxiansheng<span class="token punctuation">.</span>auth<span class="token punctuation">.</span>application<span class="token punctuation">.</span>controller</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">cn<span class="token punctuation">.</span>dev33<span class="token punctuation">.</span>satoken<span class="token punctuation">.</span>stp<span class="token punctuation">.</span></span><span class="token class-name">SaTokenInfo</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">cn<span class="token punctuation">.</span>dev33<span class="token punctuation">.</span>satoken<span class="token punctuation">.</span>stp<span class="token punctuation">.</span></span><span class="token class-name">StpUtil</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">cn<span class="token punctuation">.</span>dev33<span class="token punctuation">.</span>satoken<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">SaResult</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>fastjson<span class="token punctuation">.</span></span><span class="token class-name">JSON</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>google<span class="token punctuation">.</span>common<span class="token punctuation">.</span>base<span class="token punctuation">.</span></span><span class="token class-name">Preconditions</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>sun<span class="token punctuation">.</span>xml<span class="token punctuation">.</span>internal<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>v2<span class="token punctuation">.</span></span><span class="token class-name">TODO</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>sunxiansheng<span class="token punctuation">.</span>auth<span class="token punctuation">.</span>application<span class="token punctuation">.</span>convert<span class="token punctuation">.</span></span><span class="token class-name">AuthUserDTOConverter</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>sunxiansheng<span class="token punctuation">.</span>auth<span class="token punctuation">.</span>application<span class="token punctuation">.</span>dto<span class="token punctuation">.</span></span><span class="token class-name">AuthUserDTO</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>sunxiansheng<span class="token punctuation">.</span>auth<span class="token punctuation">.</span>common<span class="token punctuation">.</span>eneity<span class="token punctuation">.</span></span><span class="token class-name">Result</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>sunxiansheng<span class="token punctuation">.</span>auth<span class="token punctuation">.</span>common<span class="token punctuation">.</span>enums<span class="token punctuation">.</span></span><span class="token class-name">IsDeleteFlagEnum</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>sunxiansheng<span class="token punctuation">.</span>auth<span class="token punctuation">.</span>domain<span class="token punctuation">.</span>entity<span class="token punctuation">.</span></span><span class="token class-name">AuthUserBO</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>sunxiansheng<span class="token punctuation">.</span>auth<span class="token punctuation">.</span>domain<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">AuthUserDomainService</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span>extern<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">Slf4j</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>commons<span class="token punctuation">.</span>lang3<span class="token punctuation">.</span></span><span class="token class-name">StringUtils</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">PostMapping</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RequestBody</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RequestMapping</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RestController</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Resource</span></span><span class="token punctuation">;</span>

<span class="token comment">/**
 * Description:
 * @Author sun
 * @Create 2024/6/2 17:25
 * @Version 1.0
 */</span>
<span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/user/"</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Slf4j</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserController</span> <span class="token punctuation">{<!-- --></span>

    <span class="token annotation punctuation">@Resource</span>
    <span class="token keyword">private</span> <span class="token class-name">AuthUserDomainService</span> authUserDomainService<span class="token punctuation">;</span>

    <span class="token comment">/**
     * ç”¨æˆ·æ³¨å†Œ
     * @param authUserDTO
     * @return
     */</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"register"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Result</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Boolean</span><span class="token punctuation">&gt;</span></span> <span class="token function">register</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">AuthUserDTO</span> authUserDTO<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// æ—¥å¿—</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>log<span class="token punctuation">.</span><span class="token function">isInfoEnabled</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"UserController register AuthUserDTO, authUserDTO:{}"</span><span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>authUserDTO<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token comment">// å‚æ•°æ ¡éªŒ</span>
            <span class="token class-name">Preconditions</span><span class="token punctuation">.</span><span class="token function">checkArgument</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">isBlank</span><span class="token punctuation">(</span>authUserDTO<span class="token punctuation">.</span><span class="token function">getUserName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"ç”¨æˆ·åä¸èƒ½ä¸ºç©º"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">Preconditions</span><span class="token punctuation">.</span><span class="token function">checkArgument</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">isBlank</span><span class="token punctuation">(</span>authUserDTO<span class="token punctuation">.</span><span class="token function">getEmail</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"é‚®ç®±ä¸èƒ½ä¸ºç©º"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">Preconditions</span><span class="token punctuation">.</span><span class="token function">checkArgument</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">isBlank</span><span class="token punctuation">(</span>authUserDTO<span class="token punctuation">.</span><span class="token function">getPassword</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"å¯†ç ä¸èƒ½ä¸ºç©º"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// è½¬æ¢DTOä¸ºBO</span>
            <span class="token class-name">AuthUserBO</span> authUserBO <span class="token operator">=</span> <span class="token class-name">AuthUserDTOConverter</span><span class="token punctuation">.</span><span class="token constant">INSTANCE</span><span class="token punctuation">.</span><span class="token function">convertDTO2BO</span><span class="token punctuation">(</span>authUserDTO<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// è°ƒç”¨é¢†åŸŸæœåŠ¡</span>
            <span class="token comment">// è®¾ç½®é€»è¾‘åˆ é™¤</span>
            authUserBO<span class="token punctuation">.</span><span class="token function">setIsDeleted</span><span class="token punctuation">(</span><span class="token class-name">IsDeleteFlagEnum</span><span class="token punctuation">.</span><span class="token constant">UN_DELETED</span><span class="token punctuation">.</span><span class="token function">getCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// æ³¨å†Œ</span>
            <span class="token class-name">Boolean</span> res <span class="token operator">=</span> authUserDomainService<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span>authUserBO<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token class-name">Result</span><span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            log<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"UserController register error:{}"</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token class-name">Result</span><span class="token punctuation">.</span><span class="token function">fail</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> 
<h5><a id="8_1083"></a>8.æµ‹è¯•</h5> 
<h6><a id="1_1085"></a>1.æ¥å£è®¾è®¡</h6> 
<p><img src="https://images2.imgbox.com/35/ab/Ua2uEviF_o.png" alt="image-20240605163348946"></p> 
<h6><a id="2_1089"></a>2.ç»“æœ</h6> 
<p><img src="https://images2.imgbox.com/a4/20/BBD6AV4W_o.png" alt="image-20240605163402309"></p> 
<h6><a id="3DB_1093"></a>3.DB</h6> 
<p><img src="https://images2.imgbox.com/f4/b6/axDRWWNm_o.png" alt="image-20240605163427362"></p> 
<h6><a id="4DBstatus_1097"></a>4.å‘ç°DBä¸­æ²¡æœ‰æ’å…¥status</h6> 
<h6><a id="1sunclubauthcommon_AuthUserStatusEnumjava_1099"></a>1.sun-club-auth-commonæ¨¡å—æ–°å¢æšä¸¾ AuthUserStatusEnum.java</h6> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>sunxiansheng<span class="token punctuation">.</span>auth<span class="token punctuation">.</span>common<span class="token punctuation">.</span>enums</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">Getter</span></span><span class="token punctuation">;</span>

<span class="token comment">/**
 * Description: è¿”å›ç»“æœæšä¸¾
 * @Author sun
 * @Create 2024/5/24 9:53
 * @Version 1.0
 */</span>
<span class="token annotation punctuation">@Getter</span>
<span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">AuthUserStatusEnum</span> <span class="token punctuation">{<!-- --></span>

    <span class="token function">OPEN</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"å¯ç”¨"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">CLOSE</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">"ç¦ç”¨"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">int</span> code<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> desc<span class="token punctuation">;</span>

    <span class="token class-name">AuthUserStatusEnum</span><span class="token punctuation">(</span><span class="token keyword">int</span> code<span class="token punctuation">,</span> <span class="token class-name">String</span> desc<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>code <span class="token operator">=</span> code<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>desc <span class="token operator">=</span> desc<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">AuthUserStatusEnum</span> <span class="token function">getByCode</span><span class="token punctuation">(</span><span class="token keyword">int</span> codeVal<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">AuthUserStatusEnum</span> resultCodeEnum <span class="token operator">:</span> <span class="token class-name">AuthUserStatusEnum</span><span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>resultCodeEnum<span class="token punctuation">.</span>code <span class="token operator">==</span> codeVal<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                <span class="token keyword">return</span> resultCodeEnum<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> 
<h6><a id="2sunclubauthapplicationcontroller_UserControllerjava_1139"></a>2.sun-club-auth-application-controller UserController.javaæ–°å¢è¯­å¥</h6> 
<p><img src="https://images2.imgbox.com/71/d3/Z1iQSrD6_o.png" alt=""></p> 
<h6><a id="3_1143"></a>3.é‡å¯æµ‹è¯•</h6> 
<p><img src="https://images2.imgbox.com/f9/5f/M9Dyy1Xo_o.png" alt="image-20240605164814865"></p> 
<h3><a id="3_1147"></a>3.ç”¨æˆ·æ¨¡å—-æ›´æ–°ç”¨æˆ·ä¿¡æ¯</h3> 
<h5><a id="1_1149"></a>1.æ¥å£è®¾è®¡</h5> 
<p><img src="https://images2.imgbox.com/33/06/7N8Kjrvf_o.png" alt="image-20240605171114841"></p> 
<h5><a id="2sunclubauthapplicationcontroller_1153"></a>2.sun-club-auth-application-controller</h5> 
<h6><a id="1UserControllerjava_1155"></a>1.UserController.java</h6> 
<pre><code class="prism language-java"><span class="token comment">/**
 * ä¿®æ”¹ç”¨æˆ·ä¿¡æ¯
 * @param authUserDTO
 * @return
 */</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"update"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">Result</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Boolean</span><span class="token punctuation">&gt;</span></span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">AuthUserDTO</span> authUserDTO<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// æ—¥å¿—</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>log<span class="token punctuation">.</span><span class="token function">isInfoEnabled</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"UserController update AuthUserDTO, authUserDTO:{}"</span><span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>authUserDTO<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// å‚æ•°æ ¡éªŒ</span>
        <span class="token class-name">Preconditions</span><span class="token punctuation">.</span><span class="token function">checkArgument</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">isBlank</span><span class="token punctuation">(</span>authUserDTO<span class="token punctuation">.</span><span class="token function">getUserName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"ç”¨æˆ·åä¸èƒ½ä¸ºç©º"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è½¬æ¢DTOä¸ºBO</span>
        <span class="token class-name">AuthUserBO</span> authUserBO <span class="token operator">=</span> <span class="token class-name">AuthUserDTOConverter</span><span class="token punctuation">.</span><span class="token constant">INSTANCE</span><span class="token punctuation">.</span><span class="token function">convertDTO2BO</span><span class="token punctuation">(</span>authUserDTO<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è°ƒç”¨é¢†åŸŸæœåŠ¡</span>
        <span class="token comment">// æ›´æ–°ç”¨æˆ·ä¿¡æ¯</span>
        <span class="token class-name">Boolean</span> res <span class="token operator">=</span> authUserDomainService<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>authUserBO<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token class-name">Result</span><span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// erroræ—¥å¿—</span>
        log<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"UserController update error:{}"</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token class-name">Result</span><span class="token punctuation">.</span><span class="token function">fail</span><span class="token punctuation">(</span><span class="token string">"æ›´æ–°ç”¨æˆ·ä¿¡æ¯å¤±è´¥"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h5><a id="3sunclubauthdomain_1186"></a>3.sun-club-auth-domain</h5> 
<h6><a id="1AuthUserDomainServicejava_1188"></a>1.AuthUserDomainService.java</h6> 
<pre><code class="prism language-java"><span class="token comment">/**
 * æ›´æ–°
 * @param authUserBO
 * @return
 */</span>
<span class="token class-name">Boolean</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token class-name">AuthUserBO</span> authUserBO<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h6><a id="2AuthUserDomainServiceImpljava_1199"></a>2.AuthUserDomainServiceImpl.java</h6> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token class-name">Boolean</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token class-name">AuthUserBO</span> authUserBO<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// BOè½¬æ¢ä¸ºEntity</span>
    <span class="token class-name">AuthUser</span> authUser <span class="token operator">=</span> <span class="token class-name">AuthUserBOConverter</span><span class="token punctuation">.</span><span class="token constant">INSTANCE</span><span class="token punctuation">.</span><span class="token function">convertBO2Entity</span><span class="token punctuation">(</span>authUserBO<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// è°ƒç”¨åŸºç¡€æœåŠ¡</span>
    <span class="token class-name">Integer</span> count <span class="token operator">=</span> authUserService<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>authUser<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// æœ‰ä»»ä½•çš„æ›´æ–°ï¼Œéƒ½è¦ä¸ç¼“å­˜è¿›è¡ŒåŒæ­¥çš„ä¿®æ”¹ï¼Œè¦æŠŠå½“å‰ç”¨æˆ·çš„è§’è‰²å’Œæƒé™éƒ½æ”¾åˆ°redisé‡Œ</span>
    <span class="token keyword">return</span> count <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h5><a id="4sunclubauthinfra_1213"></a>4.sun-club-auth-infra</h5> 
<h6><a id="1AuthUserServicejava_1215"></a>1.AuthUserService.java</h6> 
<pre><code class="prism language-java"><span class="token comment">/**
 * ä¿®æ”¹æ•°æ®
 *
 * @param authUser å®ä¾‹å¯¹è±¡
 * @return å®ä¾‹å¯¹è±¡
 */</span>
<span class="token class-name">Integer</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token class-name">AuthUser</span> authUser<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h6><a id="2AuthUserServiceImpljava_1227"></a>2.AuthUserServiceImpl.java</h6> 
<pre><code class="prism language-java"><span class="token comment">/**
 * ä¿®æ”¹æ•°æ®
 *
 * @param authUser å®ä¾‹å¯¹è±¡
 * @return å®ä¾‹å¯¹è±¡
 */</span>
<span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token class-name">AuthUser</span> authUser<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>authUserDao<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>authUser<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h5><a id="5_1242"></a>5.æµ‹è¯•</h5> 
<h6><a id="1_1244"></a>1.ç»“æœ</h6> 
<p><img src="https://images2.imgbox.com/91/6f/GIvvErNa_o.png" alt="image-20240605171347052"></p> 
<h6><a id="2DB_1248"></a>2.DB</h6> 
<p><img src="https://images2.imgbox.com/17/a4/MVxqNqKa_o.png" alt="image-20240605171417545"></p> 
<h3><a id="4_1252"></a>4.ç”¨æˆ·æ¨¡å—-åˆ é™¤ç”¨æˆ·ä¿¡æ¯</h3> 
<h5><a id="1_1254"></a>1.æ¥å£è®¾è®¡</h5> 
<p><img src="https://images2.imgbox.com/87/fd/bqio5T6A_o.png" alt="image-20240605172400982"></p> 
<h5><a id="2sunclubauthapplicationcontroller_1258"></a>2.sun-club-auth-application-controller</h5> 
<h6><a id="1UserControllerjava_1260"></a>1.UserController.java</h6> 
<pre><code class="prism language-java"><span class="token comment">/**
 * åˆ é™¤ç”¨æˆ·ä¿¡æ¯
 * @param authUserDTO
 * @return
 */</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"delete"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">Result</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Boolean</span><span class="token punctuation">&gt;</span></span> <span class="token function">delete</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">AuthUserDTO</span> authUserDTO<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// æ—¥å¿—</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>log<span class="token punctuation">.</span><span class="token function">isInfoEnabled</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"UserController delete AuthUserDTO, authUserDTO:{}"</span><span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>authUserDTO<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// å‚æ•°æ ¡éªŒ</span>
        <span class="token comment">// è½¬æ¢DTOä¸ºBO</span>
        <span class="token class-name">AuthUserBO</span> authUserBO <span class="token operator">=</span> <span class="token class-name">AuthUserDTOConverter</span><span class="token punctuation">.</span><span class="token constant">INSTANCE</span><span class="token punctuation">.</span><span class="token function">convertDTO2BO</span><span class="token punctuation">(</span>authUserDTO<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è°ƒç”¨é¢†åŸŸæœåŠ¡</span>
        <span class="token comment">// åˆ é™¤ç”¨æˆ·ä¿¡æ¯</span>
        <span class="token class-name">Boolean</span> res <span class="token operator">=</span> authUserDomainService<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>authUserBO<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token class-name">Result</span><span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// erroræ—¥å¿—</span>
        log<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"UserController delete error:{}"</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token class-name">Result</span><span class="token punctuation">.</span><span class="token function">fail</span><span class="token punctuation">(</span><span class="token string">"åˆ é™¤ç”¨æˆ·ä¿¡æ¯å¤±è´¥"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h5><a id="3sunclubauthdomain_1290"></a>3.sun-club-auth-domain</h5> 
<h6><a id="1AuthUserDomainServicejava_1292"></a>1.AuthUserDomainService.java</h6> 
<pre><code class="prism language-java"><span class="token comment">/**
 * åˆ é™¤
 * @param authUserBO
 * @return
 */</span>
<span class="token class-name">Boolean</span> <span class="token function">delete</span><span class="token punctuation">(</span><span class="token class-name">AuthUserBO</span> authUserBO<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h6><a id="2AuthUserDomainServiceImpljava_1303"></a>2.AuthUserDomainServiceImpl.java</h6> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token class-name">Boolean</span> <span class="token function">delete</span><span class="token punctuation">(</span><span class="token class-name">AuthUserBO</span> authUserBO<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token class-name">AuthUser</span> authUser <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AuthUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// è®¾ç½®ID</span>
    authUser<span class="token punctuation">.</span><span class="token function">setId</span><span class="token punctuation">(</span>authUserBO<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// è®¾ç½®é€»è¾‘åˆ é™¤</span>
    authUser<span class="token punctuation">.</span><span class="token function">setIsDeleted</span><span class="token punctuation">(</span><span class="token class-name">IsDeleteFlagEnum</span><span class="token punctuation">.</span><span class="token constant">DELETED</span><span class="token punctuation">.</span><span class="token function">getCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// æ›´æ–°</span>
    <span class="token class-name">Integer</span> count <span class="token operator">=</span> authUserService<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>authUser<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> count <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h5><a id="4_1319"></a>4.æµ‹è¯•</h5> 
<h6><a id="1_1321"></a>1.ç»“æœ</h6> 
<p><img src="https://images2.imgbox.com/d2/59/2us8VQXv_o.png" alt="image-20240605172530415"></p> 
<h6><a id="2DB_1325"></a>2.DB</h6> 
<p><img src="https://images2.imgbox.com/57/5b/RYY9WA8q_o.png" alt="image-20240605172553742"></p> 
<h3><a id="5_1329"></a>5.ç”¨æˆ·æ¨¡å—-å¯ç”¨/ç¦ç”¨ä¿¡æ¯</h3> 
<h5><a id="1_1331"></a>1.æ¥å£è®¾è®¡</h5> 
<p><img src="https://images2.imgbox.com/1d/77/4LZaZJaG_o.png" alt="image-20240605173355196"></p> 
<h5><a id="2UserControllerjava_1335"></a>2.UserController.java</h5> 
<pre><code class="prism language-java"><span class="token comment">/**
 * ç”¨æˆ·å¯ç”¨/ç¦ç”¨
 * @param authUserDTO
 * @return
 */</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"changeStatus"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">Result</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Boolean</span><span class="token punctuation">&gt;</span></span> <span class="token function">changeStatus</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">AuthUserDTO</span> authUserDTO<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// æ—¥å¿—</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>log<span class="token punctuation">.</span><span class="token function">isInfoEnabled</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"UserController changeStatus AuthUserDTO, authUserDTO:{}"</span><span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>authUserDTO<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// å‚æ•°æ ¡éªŒ</span>
        <span class="token class-name">Preconditions</span><span class="token punctuation">.</span><span class="token function">checkNotNull</span><span class="token punctuation">(</span>authUserDTO<span class="token punctuation">.</span><span class="token function">getStatus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"ç”¨æˆ·çŠ¶æ€ä¸èƒ½ä¸ºç©º"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è½¬æ¢DTOä¸ºBO</span>
        <span class="token class-name">AuthUserBO</span> authUserBO <span class="token operator">=</span> <span class="token class-name">AuthUserDTOConverter</span><span class="token punctuation">.</span><span class="token constant">INSTANCE</span><span class="token punctuation">.</span><span class="token function">convertDTO2BO</span><span class="token punctuation">(</span>authUserDTO<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è°ƒç”¨é¢†åŸŸæœåŠ¡</span>
        <span class="token comment">// ç”¨æˆ·å¯ç”¨/ç¦ç”¨ï¼Œç›´æ¥è°ƒç”¨æ›´æ–°å³å¯</span>
        <span class="token class-name">Boolean</span> res <span class="token operator">=</span> authUserDomainService<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>authUserBO<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token class-name">Result</span><span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// erroræ—¥å¿—</span>
        log<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"UserController changeStatus error:{}"</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token class-name">Result</span><span class="token punctuation">.</span><span class="token function">fail</span><span class="token punctuation">(</span><span class="token string">"ç”¨æˆ·å¯ç”¨/ç¦ç”¨å¤±è´¥"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h5><a id="3_1366"></a>3.æµ‹è¯•</h5> 
<h6><a id="1_1368"></a>1.ç»“æœ</h6> 
<p><img src="https://images2.imgbox.com/df/db/vBIMOOWU_o.png" alt="image-20240605173436856"></p> 
<h6><a id="2DB_1372"></a>2.DB</h6> 
<p><img src="https://images2.imgbox.com/70/5f/AbIP2Lui_o.png" alt="image-20240605173502549"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e4b58a9f74d0c4074064f7d55899c410/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">Sun Frameï¼šåŸºäº SpringBoot çš„è½»é‡çº§å¼€å‘æ¡†æ¶ï¼ˆä¸ªäººå¼€æºé¡¹ç›®ï¼‰</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/2643124f5ffdfc2c3e4ad721d9b402c1/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">Python çˆ¬è™«é¡¹ç›®å®æˆ˜ï¼ˆä¸€ï¼‰ï¼šçˆ¬å–æŸäº‘çƒ­æ­Œæ¦œæ­Œæ›²</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ç¼–ç¨‹å¤§å’–.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>