<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>ã€C&#43;&#43;é«˜é˜¶ã€‘é«˜æ•ˆæ•°æ®å­˜å‚¨ï¼šç†è§£å¹¶æ¨¡æ‹Ÿå®ç°çº¢é»‘æ ‘Mapä¸Set - ç¼–ç¨‹å¤§å’–</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/dc64a8b7bb91be9c4faf1986c769e213/">
  <meta property="og:site_name" content="ç¼–ç¨‹å¤§å’–">
  <meta property="og:title" content="ã€C&#43;&#43;é«˜é˜¶ã€‘é«˜æ•ˆæ•°æ®å­˜å‚¨ï¼šç†è§£å¹¶æ¨¡æ‹Ÿå®ç°çº¢é»‘æ ‘Mapä¸Set">
  <meta property="og:description" content="ğŸ“ä¸ªäººä¸»é¡µğŸŒ¹ï¼šEternity._
â©æ”¶å½•ä¸“æ âªï¼šC&#43;&#43; â€œ ç™»ç¥é•¿é˜¶ â€
ğŸ¤¡å¾€æœŸå›é¡¾ğŸ¤¡ï¼šäº†è§£ çº¢é»‘æ ‘
ğŸŒ¹ğŸŒ¹æœŸå¾…æ‚¨çš„å…³æ³¨ ğŸŒ¹ğŸŒ¹
â€æ¨¡æ‹Ÿå®ç°Mapä¸Set ğŸ“’1. æ”¹é€ çº¢é»‘æ ‘ğŸ“œ2. çº¢é»‘æ ‘çš„è¿­ä»£å™¨ğŸŒè¿­ä»£å™¨åŸºæœ¬è®¾è®¡ğŸŒ™begin()ä¸end()â­operator&#43;&#43;()ä¸operator--() ğŸ“š3. Setçš„æ¨¡æ‹Ÿå®ç°ğŸ§©Setçš„åŸºæœ¬è®¾è®¡ ğŸ“4. Mapçš„æ¨¡æ‹Ÿå®ç°ğŸ§©Mapçš„åŸºæœ¬è®¾è®¡ ğŸ“–5. æ€»ç»“ å‰è¨€ï¼š åœ¨ç¼–ç¨‹çš„æµ©ç€šå®‡å®™ä¸­ï¼Œæ•°æ®ç»“æ„ä½œä¸ºæ„å»ºç¨‹åºçš„åŸºçŸ³ï¼Œæ‰®æ¼”ç€è‡³å…³é‡è¦çš„è§’è‰²ã€‚å®ƒä»¬ä¸ä»…å®šä¹‰äº†æ•°æ®çš„å­˜å‚¨æ–¹å¼ï¼Œè¿˜æå¤§åœ°å½±å“ç€ç¨‹åºçš„æ€§èƒ½ä¸æ•ˆç‡ã€‚åœ¨ä¼—å¤šç»å…¸æ•°æ®ç»“æ„ä¸­ï¼ŒMapï¼ˆæ˜ å°„ï¼‰å’ŒSetï¼ˆé›†åˆï¼‰ä»¥å…¶ç‹¬ç‰¹çš„æ€§è´¨å’Œå¹¿æ³›çš„åº”ç”¨åœºæ™¯ï¼Œæˆä¸ºäº†ç¨‹åºå‘˜ä»¬æ‰‹ä¸­ä¸å¯æˆ–ç¼ºçš„å·¥å…·ã€‚Mapå…è®¸æˆ‘ä»¬æ ¹æ®é”®ï¼ˆKeyï¼‰å¿«é€Ÿæ£€ç´¢å€¼ï¼ˆValueï¼‰ï¼Œè€ŒSetåˆ™æä¾›äº†ä¸€ç§ä¸åŒ…å«é‡å¤å…ƒç´ çš„æ•°æ®é›†åˆ
æ·±å…¥ç†è§£å¹¶ç†Ÿç»ƒæŒæ¡è¿™äº›é«˜çº§æ•°æ®ç»“æ„ï¼Œå¹¶éä¸€è¹´è€Œå°±ã€‚ä¸ºäº†æ›´åŠ æ·±åˆ»åœ°è®¤è¯†Mapä¸Setçš„å·¥ä½œåŸç†ï¼Œä»¥åŠå®ƒä»¬èƒŒåéšè—çš„ç®—æ³•æ™ºæ…§ï¼Œä¸€ä¸ªè¡Œä¹‹æœ‰æ•ˆçš„æ–¹æ³•ä¾¿æ˜¯äº²æ‰‹æ¨¡æ‹Ÿå®ç°å®ƒä»¬ã€‚è¿™ä¸€è¿‡ç¨‹ï¼Œä¸ä»…èƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬åŠ æ·±å¯¹æ•°æ®ç»“æ„çš„ç†è§£ï¼Œè¿˜èƒ½åœ¨å®è·µä¸­é”»ç‚¼ç¼–ç¨‹èƒ½åŠ›å’Œé—®é¢˜è§£å†³èƒ½åŠ›
æœ¬æ–‡æ—¨åœ¨ä¸ºè¯»è€…æä¾›ä¸€ä¸ªå…¨é¢è€Œæ·±å…¥çš„è§†è§’ï¼Œé€šè¿‡é€æ­¥è§£æçº¢é»‘æ ‘çš„åŸºæœ¬åŸç†ã€è¯¦ç»†é˜è¿°æ¨¡æ‹Ÿå®ç°çš„è¿‡ç¨‹ï¼Œå¹¶è¾…ä»¥ä¸°å¯Œçš„ä»£ç ç¤ºä¾‹ï¼Œå¸®åŠ©è¯»è€…æŒæ¡çº¢é»‘æ ‘Mapä¸Setçš„æ„å»ºä¸ä½¿ç”¨ã€‚æˆ‘ä»¬å°†ä»æœ€åŸºæœ¬çš„äºŒå‰æœç´¢æ ‘å‡ºå‘ï¼Œé€æ­¥å¼•å…¥çº¢é»‘æ ‘çš„ç‰¹æ€§å’Œè§„åˆ™
è®©æˆ‘ä»¬ä¸€èµ·è¸ä¸Šå­¦ä¹ çš„æ—…ç¨‹ï¼Œæ¢ç´¢å®ƒå¸¦æ¥çš„æ— å°½å¯èƒ½ï¼
ğŸ“’1. æ”¹é€ çº¢é»‘æ ‘ æ”¹é€ çº¢é»‘æ ‘ä»¥é€‚é…mapå’Œsetå®¹å™¨ï¼Œä¸»è¦æ¶‰åŠåˆ°å¦‚ä½•æ ¹æ®è¿™ä¸¤ç§å®¹å™¨çš„ç‰¹æ€§æ¥è®¾è®¡å’Œå®ç°çº¢é»‘æ ‘èŠ‚ç‚¹çš„å­˜å‚¨ä»¥åŠç›¸åº”çš„æ“ä½œã€‚mapå’Œsetçš„ä¸»è¦åŒºåˆ«åœ¨äºå®ƒä»¬å­˜å‚¨çš„å…ƒç´ ç±»å‹ï¼šmapå­˜å‚¨é”®å€¼å¯¹ï¼ˆkey-value pairsï¼‰ï¼Œè€Œsetä»…å­˜å‚¨å”¯ä¸€çš„é”®å€¼ï¼ˆé€šå¸¸æ˜¯é”®æœ¬èº«ä½œä¸ºå€¼ï¼‰ã€‚å°½ç®¡å¦‚æ­¤ï¼Œå®ƒä»¬åœ¨åº•å±‚æ•°æ®ç»“æ„ï¼ˆå¦‚çº¢é»‘æ ‘ï¼‰çš„å®ç°ä¸Šæœ‰å¾ˆå¤šç›¸ä¼¼ä¹‹å¤„
æ”¹é€ å†…å®¹ï¼š
Kï¼škeyçš„ç±»å‹Tï¼šå¦‚æœæ˜¯mapï¼Œåˆ™ä¸ºpair&lt;K, V&gt;; å¦‚æœæ˜¯setï¼Œåˆ™ä¸ºKKeyOfTï¼šé€šè¿‡Tæ¥è·å–keyçš„ä¸€ä¸ªä»¿å‡½æ•°ç±» // Map ä¸ Set // set -&gt; RBTree&lt;K, K, SetKeyOfT&gt; _t; // map -&gt; RBTree&lt;K, pair&lt;const K, V, MapKeyOfT&gt;&gt; _t; çº¢é»‘æ ‘çš„èŠ‚ç‚¹è®¾è®¡ï¼š
enum Color { RED, BLACK }; template&lt;class T&gt; struct RBTreeNode { RBTreeNode&lt;T&gt;* _left; RBTreeNode&lt;T&gt;* _right; RBTreeNode&lt;T&gt;* _parent; // pair&lt;K, V&gt; _kv; // ä¸ŠèŠ‚å†…å®¹ä½¿ç”¨çš„è¿™ç§æ–¹å¼ T _data; Color _col; RBTreeNode(const T&amp; data) :_left(nullptr) , _right(nullptr) , _parent(nullptr) , _data(data) , _col(RED) {} }; çº¢é»‘æ ‘ç±»çš„å®ç°å‚è€ƒä¸Šä¸€ç¯‡æ–‡ç« ï¼šçº¢é»‘æ ‘ç±»çš„å®ç°">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-07-10T08:00:00+08:00">
    <meta property="article:modified_time" content="2024-07-10T08:00:00+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ç¼–ç¨‹å¤§å’–" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ç¼–ç¨‹å¤§å’–</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">ã€C&#43;&#43;é«˜é˜¶ã€‘é«˜æ•ˆæ•°æ®å­˜å‚¨ï¼šç†è§£å¹¶æ¨¡æ‹Ÿå®ç°çº¢é»‘æ ‘Mapä¸Set</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <blockquote> 
 <p>ğŸ“ä¸ªäººä¸»é¡µğŸŒ¹ï¼š<a href="https://blog.csdn.net/EterNity_TiMe_?type=blog">Eternity._</a><br> â©æ”¶å½•ä¸“æ âªï¼š<a href="http://t.csdnimg.cn/rM7cw" rel="nofollow">C++ â€œ ç™»ç¥é•¿é˜¶ â€</a><br> ğŸ¤¡å¾€æœŸå›é¡¾ğŸ¤¡ï¼š<a href="http://t.csdnimg.cn/FYp1S" rel="nofollow">äº†è§£ çº¢é»‘æ ‘</a><br> ğŸŒ¹ğŸŒ¹æœŸå¾…æ‚¨çš„å…³æ³¨ ğŸŒ¹ğŸŒ¹</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/a4/48/zfiWA7SU_o.gif" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p><img src="https://images2.imgbox.com/fc/20/FiiQGiZJ_o.gif" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> <img src="https://images2.imgbox.com/d7/70/Ynhrx84J_o.gif" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p></p> 
<div class="toc"> 
 <h4>â€æ¨¡æ‹Ÿå®ç°Mapä¸Set</h4> 
 <ul><li><a href="#1__25" rel="nofollow">ğŸ“’1. æ”¹é€ çº¢é»‘æ ‘</a></li><li><a href="#2__123" rel="nofollow">ğŸ“œ2. çº¢é»‘æ ‘çš„è¿­ä»£å™¨</a></li><li><ul><li><a href="#_124" rel="nofollow">ğŸŒè¿­ä»£å™¨åŸºæœ¬è®¾è®¡</a></li><li><a href="#beginend_158" rel="nofollow">ğŸŒ™begin()ä¸end()</a></li><li><a href="#operatoroperator_203" rel="nofollow">â­operator++()ä¸operator--()</a></li></ul> 
  </li><li><a href="#3_Set_270" rel="nofollow">ğŸ“š3. Setçš„æ¨¡æ‹Ÿå®ç°</a></li><li><ul><li><a href="#Set_271" rel="nofollow">ğŸ§©Setçš„åŸºæœ¬è®¾è®¡</a></li></ul> 
  </li><li><a href="#4_Map_314" rel="nofollow">ğŸ“4. Mapçš„æ¨¡æ‹Ÿå®ç°</a></li><li><ul><li><a href="#Map_315" rel="nofollow">ğŸ§©Mapçš„åŸºæœ¬è®¾è®¡</a></li></ul> 
  </li><li><a href="#5__367" rel="nofollow">ğŸ“–5. æ€»ç»“</a></li></ul> 
</div> 
<p></p> 
<hr> 
<p><strong>å‰è¨€ï¼š</strong> åœ¨ç¼–ç¨‹çš„æµ©ç€šå®‡å®™ä¸­ï¼Œæ•°æ®ç»“æ„ä½œä¸ºæ„å»ºç¨‹åºçš„åŸºçŸ³ï¼Œæ‰®æ¼”ç€è‡³å…³é‡è¦çš„è§’è‰²ã€‚å®ƒä»¬ä¸ä»…å®šä¹‰äº†æ•°æ®çš„å­˜å‚¨æ–¹å¼ï¼Œè¿˜æå¤§åœ°å½±å“ç€ç¨‹åºçš„æ€§èƒ½ä¸æ•ˆç‡ã€‚åœ¨ä¼—å¤šç»å…¸æ•°æ®ç»“æ„ä¸­ï¼ŒMapï¼ˆæ˜ å°„ï¼‰å’ŒSetï¼ˆé›†åˆï¼‰ä»¥å…¶ç‹¬ç‰¹çš„æ€§è´¨å’Œå¹¿æ³›çš„åº”ç”¨åœºæ™¯ï¼Œæˆä¸ºäº†ç¨‹åºå‘˜ä»¬æ‰‹ä¸­ä¸å¯æˆ–ç¼ºçš„å·¥å…·ã€‚<strong>Mapå…è®¸æˆ‘ä»¬æ ¹æ®é”®ï¼ˆKeyï¼‰å¿«é€Ÿæ£€ç´¢å€¼ï¼ˆValueï¼‰ï¼Œè€ŒSetåˆ™æä¾›äº†ä¸€ç§ä¸åŒ…å«é‡å¤å…ƒç´ çš„æ•°æ®é›†åˆ</strong></p> 
<blockquote> 
 <p><strong>æ·±å…¥ç†è§£å¹¶ç†Ÿç»ƒæŒæ¡è¿™äº›é«˜çº§æ•°æ®ç»“æ„ï¼Œå¹¶éä¸€è¹´è€Œå°±ã€‚ä¸ºäº†æ›´åŠ æ·±åˆ»åœ°è®¤è¯†Mapä¸Setçš„å·¥ä½œåŸç†ï¼Œä»¥åŠå®ƒä»¬èƒŒåéšè—çš„ç®—æ³•æ™ºæ…§ï¼Œä¸€ä¸ªè¡Œä¹‹æœ‰æ•ˆçš„æ–¹æ³•ä¾¿æ˜¯äº²æ‰‹æ¨¡æ‹Ÿå®ç°å®ƒä»¬ã€‚è¿™ä¸€è¿‡ç¨‹ï¼Œä¸ä»…èƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬åŠ æ·±å¯¹æ•°æ®ç»“æ„çš„ç†è§£ï¼Œè¿˜èƒ½åœ¨å®è·µä¸­é”»ç‚¼ç¼–ç¨‹èƒ½åŠ›å’Œé—®é¢˜è§£å†³èƒ½åŠ›</strong></p> 
</blockquote> 
<p>æœ¬æ–‡æ—¨åœ¨ä¸ºè¯»è€…æä¾›ä¸€ä¸ªå…¨é¢è€Œæ·±å…¥çš„è§†è§’ï¼Œ<strong>é€šè¿‡é€æ­¥è§£æçº¢é»‘æ ‘çš„åŸºæœ¬åŸç†ã€è¯¦ç»†é˜è¿°æ¨¡æ‹Ÿå®ç°çš„è¿‡ç¨‹ï¼Œå¹¶è¾…ä»¥ä¸°å¯Œçš„ä»£ç ç¤ºä¾‹ï¼Œå¸®åŠ©è¯»è€…æŒæ¡çº¢é»‘æ ‘Mapä¸Setçš„æ„å»ºä¸ä½¿ç”¨</strong>ã€‚æˆ‘ä»¬å°†ä»æœ€åŸºæœ¬çš„äºŒå‰æœç´¢æ ‘å‡ºå‘ï¼Œé€æ­¥å¼•å…¥çº¢é»‘æ ‘çš„ç‰¹æ€§å’Œè§„åˆ™</p> 
<p><strong>è®©æˆ‘ä»¬ä¸€èµ·è¸ä¸Šå­¦ä¹ çš„æ—…ç¨‹ï¼Œæ¢ç´¢å®ƒå¸¦æ¥çš„æ— å°½å¯èƒ½ï¼</strong></p> 
<hr> 
<h2><a id="1__25"></a>ğŸ“’1. æ”¹é€ çº¢é»‘æ ‘</h2> 
<blockquote> 
 <p><strong>æ”¹é€ çº¢é»‘æ ‘ä»¥é€‚é…mapå’Œsetå®¹å™¨ï¼Œä¸»è¦æ¶‰åŠåˆ°å¦‚ä½•æ ¹æ®è¿™ä¸¤ç§å®¹å™¨çš„ç‰¹æ€§æ¥è®¾è®¡å’Œå®ç°çº¢é»‘æ ‘èŠ‚ç‚¹çš„å­˜å‚¨ä»¥åŠç›¸åº”çš„æ“ä½œã€‚mapå’Œsetçš„ä¸»è¦åŒºåˆ«åœ¨äºå®ƒä»¬å­˜å‚¨çš„å…ƒç´ ç±»å‹ï¼šmapå­˜å‚¨é”®å€¼å¯¹ï¼ˆkey-value pairsï¼‰ï¼Œè€Œsetä»…å­˜å‚¨å”¯ä¸€çš„é”®å€¼ï¼ˆé€šå¸¸æ˜¯é”®æœ¬èº«ä½œä¸ºå€¼ï¼‰ã€‚å°½ç®¡å¦‚æ­¤ï¼Œå®ƒä»¬åœ¨åº•å±‚æ•°æ®ç»“æ„ï¼ˆå¦‚çº¢é»‘æ ‘ï¼‰çš„å®ç°ä¸Šæœ‰å¾ˆå¤šç›¸ä¼¼ä¹‹å¤„</strong></p> 
</blockquote> 
<p><strong>æ”¹é€ å†…å®¹ï¼š</strong></p> 
<blockquote> 
 <ul><li>Kï¼škeyçš„ç±»å‹</li><li>Tï¼šå¦‚æœæ˜¯mapï¼Œåˆ™ä¸ºpair&lt;K, V&gt;; å¦‚æœæ˜¯setï¼Œåˆ™ä¸ºK</li><li>KeyOfTï¼šé€šè¿‡Tæ¥è·å–keyçš„ä¸€ä¸ªä»¿å‡½æ•°ç±»</li></ul> 
</blockquote> 
<pre><code class="prism language-cpp"><span class="token comment">// Map ä¸ Set</span>
<span class="token comment">// set -&gt; RBTree&lt;K, K, SetKeyOfT&gt; _t;</span>
<span class="token comment">// map -&gt; RBTree&lt;K, pair&lt;const K, V, MapKeyOfT&gt;&gt; _t;</span>
</code></pre> 
<hr> 
<p><strong>çº¢é»‘æ ‘çš„èŠ‚ç‚¹è®¾è®¡ï¼š</strong></p> 
<pre><code class="prism language-cpp"><span class="token keyword">enum</span> <span class="token class-name">Color</span>
<span class="token punctuation">{<!-- --></span>
	RED<span class="token punctuation">,</span>
	BLACK
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
<span class="token keyword">struct</span> <span class="token class-name">RBTreeNode</span>
<span class="token punctuation">{<!-- --></span>
	RBTreeNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> _left<span class="token punctuation">;</span>
	RBTreeNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> _right<span class="token punctuation">;</span>
	RBTreeNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">*</span> _parent<span class="token punctuation">;</span>
	<span class="token comment">// pair&lt;K, V&gt; _kv; // ä¸ŠèŠ‚å†…å®¹ä½¿ç”¨çš„è¿™ç§æ–¹å¼</span>
	T _data<span class="token punctuation">;</span>
	Color _col<span class="token punctuation">;</span>

	<span class="token function">RBTreeNode</span><span class="token punctuation">(</span><span class="token keyword">const</span> T<span class="token operator">&amp;</span> data<span class="token punctuation">)</span>
		<span class="token operator">:</span><span class="token function">_left</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span>
		<span class="token punctuation">,</span> <span class="token function">_right</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span>
		<span class="token punctuation">,</span> <span class="token function">_parent</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span>
		<span class="token punctuation">,</span> <span class="token function">_data</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
		<span class="token punctuation">,</span> <span class="token function">_col</span><span class="token punctuation">(</span>RED<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<hr> 
<p><strong>çº¢é»‘æ ‘ç±»çš„å®ç°å‚è€ƒä¸Šä¸€ç¯‡æ–‡ç« ï¼š<a href="http://t.csdnimg.cn/FYp1S" rel="nofollow">çº¢é»‘æ ‘ç±»çš„å®ç°</a></strong><br> ä¸çº¢é»‘æ ‘ç±»çš„ä¸åŒçš„æ˜¯<code>Insert(æ’å…¥)</code>çš„ç±»å‹æ˜¯<code>pair&lt;iterator, bool&gt;</code>æˆ–è€…<code>pair&lt;Node*, bool&gt;</code>ï¼Œç„¶åè¿˜è¦ä¿®æ”¹å†…éƒ¨çš„<code>return</code>è¿”å›çš„å¯¹è±¡<br> <img src="https://images2.imgbox.com/61/41/xXF4N8qk_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p><img src="https://images2.imgbox.com/04/21/rpAG1lqq_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>ä»¥pair&lt;Node*, bool&gt;ä¸ºä¾‹<br> <strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p> 
<pre><code class="prism language-cpp">pair<span class="token operator">&lt;</span>Node<span class="token operator">*</span><span class="token punctuation">,</span> <span class="token keyword">bool</span><span class="token operator">&gt;</span> <span class="token function">Insert</span><span class="token punctuation">(</span><span class="token keyword">const</span> T<span class="token operator">&amp;</span> data<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>_root <span class="token operator">==</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			_root <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Node</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
			_root<span class="token operator">-&gt;</span>_col <span class="token operator">=</span> BLACK<span class="token punctuation">;</span>
			<span class="token keyword">return</span> <span class="token function">make_pair</span><span class="token punctuation">(</span>_root<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		Node<span class="token operator">*</span> parent <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>
		Node<span class="token operator">*</span> cur <span class="token operator">=</span> _root<span class="token punctuation">;</span>
		<span class="token comment">// é€šè¿‡ä»¿å‡½æ•°KeyOfTæ¥æ¯”è¾ƒæ•°æ®çš„å¤§å°</span>
		KeyOfT kot<span class="token punctuation">;</span>

		<span class="token keyword">while</span> <span class="token punctuation">(</span>cur<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			parent <span class="token operator">=</span> cur<span class="token punctuation">;</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">kot</span><span class="token punctuation">(</span>cur<span class="token operator">-&gt;</span>_data<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token function">kot</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				cur <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_right<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">kot</span><span class="token punctuation">(</span>cur<span class="token operator">-&gt;</span>_data<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token function">kot</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				cur <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_left<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">else</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token keyword">return</span> <span class="token function">make_pair</span><span class="token punctuation">(</span>cur<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// æ–°å¢èŠ‚ç‚¹ç»™çº¢è‰²</span>
		cur <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Node</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// æ³¨æ„ï¼Œè¿™é‡Œéœ€è¦ä¿å­˜ä¸€ä¸ªæ–°å¢èŠ‚ç‚¹ï¼Œä»¥ä¾¿ç”¨æ¥è¿”å›</span>
		Node<span class="token operator">*</span> newnode <span class="token operator">=</span> cur<span class="token punctuation">;</span>
		cur<span class="token operator">-&gt;</span>_col <span class="token operator">=</span> RED<span class="token punctuation">;</span>
		<span class="token comment">// æ—‹è½¬å˜è‰²</span>
		<span class="token keyword">return</span> <span class="token function">make_pair</span><span class="token punctuation">(</span>newnode<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
</code></pre> 
<blockquote> 
 <p><strong>å¯¹äºsetï¼Œä½ å¯ä»¥ç®€å•åœ°ä½¿ç”¨RBTree&lt;K, K, SetKeyOfT&gt;ï¼›è€Œå¯¹äºmapï¼Œåˆ™ä½¿ç”¨RBTree&lt;K, pair&lt;const K, V&gt;, MapKeyOfT&gt;</strong></p> 
</blockquote> 
<hr> 
<h2><a id="2__123"></a>ğŸ“œ2. çº¢é»‘æ ‘çš„è¿­ä»£å™¨</h2> 
<h3><a id="_124"></a>ğŸŒè¿­ä»£å™¨åŸºæœ¬è®¾è®¡</h3> 
<pre><code class="prism language-cpp"><span class="token comment">// é€šè¿‡æ¨¡æ¿æ¥è¾¾åˆ°constçš„è¿­ä»£å™¨çš„å¤ç”¨</span>
<span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">Ref</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">Ptr</span><span class="token operator">&gt;</span>
<span class="token keyword">struct</span> <span class="token class-name">__TreeIterator</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">typedef</span> RBTreeNode<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> Node<span class="token punctuation">;</span>
	<span class="token keyword">typedef</span> __TreeIterator<span class="token operator">&lt;</span>T<span class="token punctuation">,</span> Ref<span class="token punctuation">,</span> Ptr<span class="token operator">&gt;</span> Self<span class="token punctuation">;</span>
	Node<span class="token operator">*</span> _node<span class="token punctuation">;</span>
	
	<span class="token comment">// æ„é€ å‡½æ•°</span>
	<span class="token function">__TreeIterator</span><span class="token punctuation">(</span>Node<span class="token operator">*</span> node<span class="token punctuation">)</span>
		<span class="token operator">:</span><span class="token function">_node</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>

	Ref <span class="token keyword">operator</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> _node<span class="token operator">-&gt;</span>_data<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	Ptr <span class="token keyword">operator</span><span class="token operator">-&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token operator">&amp;</span><span class="token punctuation">(</span>_node<span class="token operator">-&gt;</span>_data<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token operator">!=</span><span class="token punctuation">(</span><span class="token keyword">const</span> Self<span class="token operator">&amp;</span> s<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> _node <span class="token operator">!=</span> s<span class="token punctuation">.</span>_node<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<hr> 
<h3><a id="beginend_158"></a>ğŸŒ™begin()ä¸end()</h3> 
<blockquote> 
 <p><strong>STLæ˜ç¡®è§„å®šï¼Œbegin()ä¸end()ä»£è¡¨çš„æ˜¯ä¸€æ®µå‰é—­åå¼€çš„åŒºé—´ï¼Œè€Œå¯¹çº¢é»‘æ ‘è¿›è¡Œä¸­åºéå†åï¼Œ<br> å¯ä»¥å¾—åˆ°ä¸€ä¸ªæœ‰åºçš„åºåˆ—ï¼Œå› æ­¤ï¼šbegin()å¯ä»¥æ”¾åœ¨çº¢é»‘æ ‘ä¸­æœ€å°èŠ‚ç‚¹(å³æœ€å·¦ä¾§èŠ‚ç‚¹)çš„ä½<br> ç½®ï¼Œend()æ”¾åœ¨æœ€å¤§èŠ‚ç‚¹(æœ€å³ä¾§èŠ‚ç‚¹)çš„ä¸‹ä¸€ä¸ªä½ç½®ï¼Œå…³é”®æ˜¯æœ€å¤§èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªä½ç½®åœ¨å“ªå—ï¼Ÿ<br> èƒ½å¦ç»™æˆnullptrå‘¢ï¼Ÿç­”æ¡ˆæ˜¯è¡Œä¸é€šçš„ï¼Œå› ä¸ºå¯¹end()ä½ç½®çš„è¿­ä»£å™¨è¿›è¡Œâ€“æ“ä½œï¼Œå¿…é¡»è¦èƒ½æ‰¾æœ€<br> åä¸€ä¸ªå…ƒç´ ï¼Œæ­¤å¤„å°±ä¸è¡Œï¼Œå› æ­¤æœ€å¥½çš„æ–¹å¼æ˜¯å°†end()æ”¾åœ¨å¤´ç»“ç‚¹çš„ä½ç½®</strong></p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/60/82/eA9d0DZm_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> <strong>ä»£ç ç¤ºä¾‹(C++)ï¼š</strong><br> <strong>(æ³¨æ„ï¼šæ­¤æ­¥éœ€è¦åœ¨RBTreeç±»çš„å†…éƒ¨å®ç°)ï¼Œä»¥ä¾¿map,setçš„ä½¿ç”¨</strong></p> 
<pre><code class="prism language-cpp"><span class="token keyword">typedef</span> __TreeIterator<span class="token operator">&lt;</span>T<span class="token punctuation">,</span> T<span class="token operator">&amp;</span><span class="token punctuation">,</span> T<span class="token operator">*</span><span class="token operator">&gt;</span> iterator<span class="token punctuation">;</span>
<span class="token keyword">typedef</span> __TreeIterator<span class="token operator">&lt;</span>T<span class="token punctuation">,</span> <span class="token keyword">const</span> T<span class="token operator">&amp;</span><span class="token punctuation">,</span> <span class="token keyword">const</span> T<span class="token operator">*</span><span class="token operator">&gt;</span> const_iterator<span class="token punctuation">;</span>

iterator <span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	Node<span class="token operator">*</span> cur <span class="token operator">=</span> _root<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>cur <span class="token operator">&amp;&amp;</span> cur<span class="token operator">-&gt;</span>_left<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		cur <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_left<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> <span class="token function">iterator</span><span class="token punctuation">(</span>cur<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

iterator <span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> <span class="token function">iterator</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

const_iterator <span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span>
<span class="token punctuation">{<!-- --></span>
	Node<span class="token operator">*</span> cur <span class="token operator">=</span> _root<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>cur <span class="token operator">&amp;&amp;</span> cur<span class="token operator">-&gt;</span>_left<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		cur <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_left<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> <span class="token function">const_iterator</span><span class="token punctuation">(</span>cur<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

const_iterator <span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span>
<span class="token punctuation">{<!-- --></span>
 	<span class="token keyword">return</span> <span class="token function">const_iterator</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<hr> 
<h3><a id="operatoroperator_203"></a>â­operator++()ä¸operatorâ€“()</h3> 
<blockquote> 
 <p><strong>operator++()</strong></p> 
 <ul><li>å³ä¸ä¸ºç©ºï¼Œå³å­æ ‘çš„æœ€å·¦èŠ‚ç‚¹</li><li>å³ä¸ºç©ºï¼Œæ²¿ç€åˆ°æ ¹çš„è·¯å¾„æ‰¾å­©å­æ˜¯çˆ¶äº²å·¦çš„é‚£ä¸ªç¥–å…ˆ</li></ul> 
</blockquote> 
<blockquote> 
 <p><strong>operatorâ€“()</strong></p> 
 <ul><li>å·¦ä¸ä¸ºç©ºï¼Œå·¦å­æ ‘çš„æœ€å³èŠ‚ç‚¹</li><li>å·¦ä¸ºç©ºï¼Œæ²¿ç€åˆ°æ ¹çš„è·¯å¾„æ‰¾å­©å­æ˜¯çˆ¶äº²å³çš„é‚£ä¸ªç¥–å…ˆ</li></ul> 
</blockquote> 
<p><strong>æ³¨æ„ï¼š++å’Œâ€“æ­£å¥½æ˜¯å®Œå…¨ç›¸åçš„</strong></p> 
<hr> 
<p><strong>ä»£ç ç¤ºä¾‹(C++)ï¼š</strong></p> 
<pre><code class="prism language-cpp">Self<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">++</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>_node<span class="token operator">-&gt;</span>_right<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		Node<span class="token operator">*</span> cur <span class="token operator">=</span> _node<span class="token operator">-&gt;</span>_right<span class="token punctuation">;</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>cur<span class="token operator">-&gt;</span>_left<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			cur <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_left<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		_node <span class="token operator">=</span> cur<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">else</span>
	<span class="token punctuation">{<!-- --></span>
		Node<span class="token operator">*</span> cur <span class="token operator">=</span> _node<span class="token punctuation">;</span>
		Node<span class="token operator">*</span> parent <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_parent<span class="token punctuation">;</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>parent <span class="token operator">&amp;&amp;</span> cur <span class="token operator">==</span> parent<span class="token operator">-&gt;</span>_right<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			cur <span class="token operator">=</span> parent<span class="token punctuation">;</span>
			parent <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_parent<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		_node <span class="token operator">=</span> parent<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

Self<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">--</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>_node<span class="token operator">-&gt;</span>_left<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		Node<span class="token operator">*</span> cur <span class="token operator">=</span> _node<span class="token operator">-&gt;</span>_left<span class="token punctuation">;</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>cur<span class="token operator">-&gt;</span>_right<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			cur <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_right<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		_node <span class="token operator">=</span> cur<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">else</span>
	<span class="token punctuation">{<!-- --></span>
		Node<span class="token operator">*</span> cur <span class="token operator">=</span> _node<span class="token punctuation">;</span>
		Node<span class="token operator">*</span> parent <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_parent<span class="token punctuation">;</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>parent<span class="token operator">&amp;&amp;</span> cur <span class="token operator">==</span> parent<span class="token operator">-&gt;</span>_left<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			cur <span class="token operator">=</span> parent<span class="token punctuation">;</span>
			parent <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_parent<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		_node <span class="token operator">=</span> parent<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<hr> 
<h2><a id="3_Set_270"></a>ğŸ“š3. Setçš„æ¨¡æ‹Ÿå®ç°</h2> 
<h3><a id="Set_271"></a>ğŸ§©Setçš„åŸºæœ¬è®¾è®¡</h3> 
<pre><code class="prism language-cpp"><span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">K</span><span class="token operator">&gt;</span>
<span class="token keyword">class</span> <span class="token class-name">set</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token comment">// SetKeyOfTï¼šé€šè¿‡Tæ¥è·å–keyçš„ä¸€ä¸ªä»¿å‡½æ•°ç±»</span>
	<span class="token keyword">struct</span> <span class="token class-name">SetKeyOfT</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">const</span> K<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">const</span> K<span class="token operator">&amp;</span> key<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> key<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token comment">// typenameå‘Šè¯‰ç¼–è¯‘å™¨è¿™æ˜¯ç±»å‹ï¼Œ</span>
	<span class="token comment">// å› ä¸ºsetä¸èƒ½å¤Ÿè¿›è¡Œä¿®æ”¹ï¼Œæ‰€ä»¥æˆ‘ä»¬ç”¨constè¿­ä»£å™¨æ¥åˆå§‹åŒ–æ™®é€šè¿­ä»£å™¨ï¼Œæ¥è¾¾åˆ°ä¸èƒ½ä¿®æ”¹çš„ç›®çš„</span>
	<span class="token keyword">typedef</span> <span class="token keyword">typename</span> <span class="token class-name">RBTree</span><span class="token operator">&lt;</span>K<span class="token punctuation">,</span> K<span class="token punctuation">,</span> SetKeyOfT<span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>const_iterator iterator<span class="token punctuation">;</span>
	<span class="token keyword">typedef</span> <span class="token keyword">typename</span> <span class="token class-name">RBTree</span><span class="token operator">&lt;</span>K<span class="token punctuation">,</span> K<span class="token punctuation">,</span> SetKeyOfT<span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>const_iterator const_iterator<span class="token punctuation">;</span>

	iterator <span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> _t<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	iterator <span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> _t<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token comment">// å¤ç”¨RBTreeä¸­çš„æ’å…¥</span>
	pair<span class="token operator">&lt;</span>iterator<span class="token punctuation">,</span> <span class="token keyword">bool</span><span class="token operator">&gt;</span> <span class="token function">insert</span><span class="token punctuation">(</span><span class="token keyword">const</span> K<span class="token operator">&amp;</span> key<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> _t<span class="token punctuation">.</span><span class="token function">Insert</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

<span class="token keyword">private</span><span class="token operator">:</span>
	RBTree<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> K<span class="token punctuation">,</span> SetKeyOfT<span class="token operator">&gt;</span> _t<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<hr> 
<h2><a id="4_Map_314"></a>ğŸ“4. Mapçš„æ¨¡æ‹Ÿå®ç°</h2> 
<h3><a id="Map_315"></a>ğŸ§©Mapçš„åŸºæœ¬è®¾è®¡</h3> 
<pre><code class="prism language-cpp"><span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">V</span><span class="token operator">&gt;</span>
<span class="token keyword">class</span> <span class="token class-name">map</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token comment">// MapKeyOfTï¼šé€šè¿‡pairæ¥è·å–kv.firstçš„ä¸€ä¸ªä»¿å‡½æ•°ç±»</span>
	<span class="token keyword">struct</span> <span class="token class-name">MapKeyOfT</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">const</span> K<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">const</span> pair<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> V<span class="token operator">&gt;</span><span class="token operator">&amp;</span> kv<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> kv<span class="token punctuation">.</span>first<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
	
	<span class="token comment">// mapæ˜¯ä¸€ä¸ªkeyä¸èƒ½ä¿®æ”¹ï¼Œvalueèƒ½å¤Ÿä¿®æ”¹çš„ç»“æ„</span>
	<span class="token keyword">typedef</span> <span class="token keyword">typename</span> <span class="token class-name">RBTree</span><span class="token operator">&lt;</span>K<span class="token punctuation">,</span> pair<span class="token operator">&lt;</span><span class="token keyword">const</span> K<span class="token punctuation">,</span> V<span class="token operator">&gt;</span><span class="token punctuation">,</span> MapKeyOfT<span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>iterator iterator<span class="token punctuation">;</span>
	<span class="token keyword">typedef</span> <span class="token keyword">typename</span> <span class="token class-name">RBTree</span><span class="token operator">&lt;</span>K<span class="token punctuation">,</span> pair<span class="token operator">&lt;</span><span class="token keyword">const</span> K<span class="token punctuation">,</span> V<span class="token operator">&gt;</span><span class="token punctuation">,</span> MapKeyOfT<span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>iterator const_iterator<span class="token punctuation">;</span>

	iterator <span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> _t<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	iterator <span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> _t<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token comment">// é‡è½½mapä¸­çš„operatorp[]</span>
	<span class="token comment">// operatorp[] å½“åŸæ•°æ®ä¸­æ²¡æœ‰æ—¶ï¼Œæ’å…¥å¹¶åˆå§‹åŒ–ï¼Œæœ‰åˆ™ä¿®æ”¹second</span>
	V<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">const</span> K<span class="token operator">&amp;</span> key<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token comment">// æ²¡æœ‰æ˜¯æ’å…¥ï¼Œæœ‰åˆ™æ˜¯æŸ¥æ‰¾</span>
		pair<span class="token operator">&lt;</span>iterator<span class="token punctuation">,</span> <span class="token keyword">bool</span><span class="token operator">&gt;</span> ret <span class="token operator">=</span> <span class="token function">insert</span><span class="token punctuation">(</span><span class="token function">make_pair</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> <span class="token function">V</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> ret<span class="token punctuation">.</span>first<span class="token operator">-&gt;</span>second<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token comment">// å¤ç”¨RBTreeä¸­çš„æ’å…¥</span>
	pair<span class="token operator">&lt;</span>iterator<span class="token punctuation">,</span> <span class="token keyword">bool</span><span class="token operator">&gt;</span> <span class="token function">insert</span><span class="token punctuation">(</span><span class="token keyword">const</span> pair<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> V<span class="token operator">&gt;</span><span class="token operator">&amp;</span> kv<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> _t<span class="token punctuation">.</span><span class="token function">Insert</span><span class="token punctuation">(</span>kv<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
<span class="token keyword">private</span><span class="token operator">:</span>
	RBTree<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> pair<span class="token operator">&lt;</span><span class="token keyword">const</span> K<span class="token punctuation">,</span> V<span class="token operator">&gt;</span><span class="token punctuation">,</span> MapKeyOfT<span class="token operator">&gt;</span> _t<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<hr> 
<h2><a id="5__367"></a>ğŸ“–5. æ€»ç»“</h2> 
<p><strong>éšç€æˆ‘ä»¬å¯¹çº¢é»‘æ ‘Mapä¸Setçš„æ·±å…¥æ¢ç´¢ä¸æ¨¡æ‹Ÿå®ç°ï¼Œè¿™åœºé«˜æ•ˆæ•°æ®å­˜å‚¨çš„æ—…ç¨‹ä¹Ÿå³å°†ç”»ä¸Šåœ†æ»¡çš„å¥å·ã€‚å›æœ›è¿™æ®µæ—…ç¨‹ï¼Œæˆ‘ä»¬ä»çº¢é»‘æ ‘çš„åŸºæœ¬æ¦‚å¿µå‡ºå‘ï¼Œé€æ­¥æ­ç¤ºäº†å…¶ä¿æŒå¹³è¡¡ã€å®ç°é«˜æ•ˆæ“ä½œçš„ç§˜å¯†ï¼Œå¹¶é€šè¿‡äº²æ‰‹ç¼–å†™ä»£ç ï¼Œå°†ç†è®ºè½¬åŒ–ä¸ºäº†å®è·µ</strong></p> 
<p><strong>åŒæ—¶ï¼Œæˆ‘ä»¬ä¹Ÿè¦æ„è¯†åˆ°ï¼Œæ•°æ®ç»“æ„çš„é€‰æ‹©å¹¶éä¸€æˆä¸å˜ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬éœ€è¦æ ¹æ®å…·ä½“éœ€æ±‚ã€æ•°æ®è§„æ¨¡ã€æ€§èƒ½è¦æ±‚ç­‰å› ç´ ç»¼åˆè€ƒè™‘ï¼Œé€‰æ‹©æœ€åˆé€‚çš„æ•°æ®ç»“æ„æ¥è§£å†³é—®é¢˜ã€‚åªæœ‰è¿™æ ·ï¼Œæˆ‘ä»¬æ‰èƒ½çœŸæ­£åšåˆ°é«˜æ•ˆã€ç¨³å®šåœ°å¤„ç†æ•°æ®ã€‚</strong></p> 
<blockquote> 
 <p><strong>ç„¶è€Œï¼Œå­¦ä¹ ä¹‹è·¯æ°¸æ— æ­¢å¢ƒã€‚çº¢é»‘æ ‘åªæ˜¯ä¼—å¤šé«˜æ•ˆæ•°æ®ç»“æ„ä¸­çš„ä¸€ç§ï¼Œå®ƒä»¬å„è‡ªæœ‰ç€ç‹¬ç‰¹çš„ä¼˜åŠ¿å’Œé€‚ç”¨åœºæ™¯ã€‚åœ¨æœªæ¥çš„å­¦ä¹ ä¸å®è·µä¸­ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ç»§ç»­æ¢ç´¢å…¶ä»–æ•°æ®ç»“æ„ï¼Œå¦‚AVLæ ‘ã€Bæ ‘ã€B+æ ‘ç­‰ï¼Œä»¥æ‹“å®½æˆ‘ä»¬çš„è§†é‡ï¼Œæå‡æˆ‘ä»¬çš„æŠ€èƒ½</strong></p> 
</blockquote> 
<p>å¸Œæœ›å„ä½åœ¨æœªæ¥çš„å­¦ä¹ ä¸å·¥ä½œä¸­ï¼Œ<strong>ä¿æŒå¯¹çŸ¥è¯†çš„æ¸´æœ›ä¸è¿½æ±‚ï¼Œå‹‡äºæŒ‘æˆ˜è‡ªæˆ‘ï¼Œä¸æ–­æ¢ç´¢æœªçŸ¥é¢†åŸŸã€‚ç›¸ä¿¡åœ¨ä¸ä¹…çš„å°†æ¥ï¼Œä½ ä»¬å®šèƒ½åœ¨æ•°æ®å¤„ç†çš„å¹¿é˜”èˆå°ä¸Šå¤§æ”¾å¼‚å½©</strong>ï¼</p> 
<p><img src="https://images2.imgbox.com/94/fa/f8yTzESU_o.gif" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p><strong>å¸Œæœ›æœ¬æ–‡èƒ½å¤Ÿä¸ºä½ æä¾›æœ‰ç›Šçš„å‚è€ƒå’Œå¯ç¤ºï¼Œè®©æˆ‘ä»¬ä¸€èµ·åœ¨ç¼–ç¨‹çš„é“è·¯ä¸Šä¸æ–­å‰è¡Œï¼<br> è°¢è°¢å¤§å®¶æ”¯æŒæœ¬ç¯‡åˆ°è¿™é‡Œå°±ç»“æŸäº†ï¼Œç¥å¤§å®¶å¤©å¤©å¼€å¿ƒï¼</strong></p> 
<p><img src="https://images2.imgbox.com/d7/77/rSI3MfNv_o.gif" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/313fb35a94b5f46101cde43ffefc3c86/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">Macç”µè„‘åˆ©ç”¨ IDEAè‡ªå¸¦ Mavené…ç½®ç¯å¢ƒå˜é‡</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/eab52a44b704dff7e8823eb38a75086b/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">Pythonçˆ¬è™«è·å–ç‹è€…è£è€€è‹±é›„å…¨çš®è‚¤å›¾ç‰‡ï¼Œå¹¶ä¸‹è½½åˆ°æœ¬åœ°</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ç¼–ç¨‹å¤§å’–.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>