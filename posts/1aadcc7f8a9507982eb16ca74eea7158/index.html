<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Nginx基本使用以及部署前端项目 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/1aadcc7f8a9507982eb16ca74eea7158/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="Nginx基本使用以及部署前端项目">
  <meta property="og:description" content="前言 最近学习了一下Nginx，整理了一个博客，主要参考的是狂神说的b站视频教程，文章链接如下：狂神说Nginx快速入门
一、下载、启动Nginx 1.下载Nginx 到Nginx官方选择自己电脑适用的稳定版本下载，我下载的的windows版本。
下载完，就会有一个压缩包。需要创建一个文件夹用于存放解压后的nginx内容（注意：存放Nginx的文件夹最好不要有中文，否则会报错），解压后的内容如下所示：
后续我们经常使用到的就是conf配置文件。
2.启动Nginx Win&#43;R，运行cmd，切换到nginx解压之后的目录：
可以查看下conf目录中的nginx.conf文件。
用记事本打开，可以看到它的默认端口是80端口，默认访问域名是以localhost访问。也就是以后只要访问80端口，就会被Nginx拦截。
接着，打开浏览器，输入 http://localhost:80并 回车，出现以下内容说明Nginx启动成功了！
也可以在任务管理器中看到nginx是在运行状态的。
3.常用命令 强制停止nginx：nginx -s stop 安全退出nginx：nginx -s quit 重新加载配置文件：nginx -s reload （如果修改了配置文件就执行这行命令，否则修改就是无效的。前提：nginx服务是启动的状态，否则reload是不成功的。） 二、nginx.conf配置文件分析 最上面的是全局配置；events是最大连接的数量；http中有一些小模块，比如静态资源文件配置，里面可以配置多个server，server可以配置不同的服务，比如location，比如负载均衡配置upstream。
1.配置反向代理 例如：修改nginx.conf配置文件，配置location中proxy_pass指向YSL官网。
// 这行代码就说明请求会代理到 https://www.yslbeautycn.com proxy_pass https://www.yslbeautycn.com 注意：
proxy_pass后面跟的是空格
写完一个配置项后面需要以分号；结尾
修改了nginx.conf配置文件后，运行nginx -s reload
在浏览器输入http://localhost:80并回车，就可以发现出现的是YSL官网了。
2.负载均衡upstream 在一堆服务器中，Nginx能够将从客户端请求“均匀地”分配到这些服务器中，这就是负载均衡。
场景：如果请求很多，一台服务器忙不过来，就需要多个服务器一起合作。假如我们有100G的服务器、64G的服务器、16G的服务器，我们希望实现更多的请求能够到100G的服务器中，更少的请求到16G的服务器中。这就是负载均衡的功能了。
常用方式：
轮询
&#34;轮询&#34;会将客户端的请求循环分配给不同的后端服务器。轮询容易产生资源分配不合理的问题。
假设有三个服务器，那么就可以在nginx.conf文件中使用upstream块定义这三个服务器；然后再配置location中的proxy_pass指令指向upstream名称。写法如下所示：
加权轮询
用于服务器性能不同的集群中，可以让资源分配更合理。
服务器性能越好的，权重就更高；性能越差的，权重就越低。（权重weight）
如上图所示：如果请求很多的情况下，那么大量的请求都会到权重为4的第三个服务器中，只有一部分请求才会到权重为1的服务器中，这样可以确保服务器没有超负荷。权重weight越高的，请求就越多；这样，可以保证服务器性能的最大化，哪怕有一台很小的服务器，也可以上线去使用，这样会节约成本。
可以通过weight来设置服务器的不同权重，写法如下所示：
优点：分布式处理，提升网络的灵活性、稳定性，使得服务器性能最大化。
三、Nginx上部署前端项目 Vue项目需要打包好，打包项目运行npm run build即可，打包完成项目中会多出一个dist目录，我这里的项目叫demo。
我们将demo项目下dist目录中的内容都复制粘贴到nginx目录下的html目录中，将原本的nginx下的html中的内容删除掉。
效果就是这样：
配置文件依然是默认的80端口，localhost打开。运行一下：start nginx，可以看到vue项目运行成功了。
总结 以上就是我要分享的Nginx相关的内容了。">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2023-05-17T09:42:25+08:00">
    <meta property="article:modified_time" content="2023-05-17T09:42:25+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Nginx基本使用以及部署前端项目</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="_2"></a>前言</h2> 
<p>最近学习了一下Nginx，整理了一个博客，主要参考的是狂神说的b站视频教程，文章链接如下：<a href="https://www.kuangstudy.com/bbs/1353634800149213186" rel="nofollow">狂神说Nginx快速入门</a></p> 
<hr> 
<h2><a id="Nginx_6"></a>一、下载、启动Nginx</h2> 
<h3><a id="1Nginx_8"></a>1.下载Nginx</h3> 
<p>到<a href="http://nginx.org/en/download.html" rel="nofollow">Nginx官方</a>选择自己电脑适用的稳定版本下载，我下载的的windows版本。<br> <img src="https://images2.imgbox.com/d1/fe/mezwry5U_o.png" alt="在这里插入图片描述"><br> 下载完，就会有一个压缩包。需要创建一个文件夹用于存放解压后的nginx内容（注意：存放Nginx的文件夹最好不要有中文，否则会报错），解压后的内容如下所示：<br> <img src="https://images2.imgbox.com/fc/bf/5Nx8gbBP_o.png" alt="在这里插入图片描述"></p> 
<p>后续我们经常使用到的就是conf配置文件。</p> 
<h3><a id="2Nginx_15"></a>2.启动Nginx</h3> 
<p>Win+R，运行cmd，切换到nginx解压之后的目录：<br> <img src="https://images2.imgbox.com/43/e5/IAwj1qm3_o.png" alt="在这里插入图片描述"><br> 可以查看下conf目录中的nginx.conf文件。<br> <img src="https://images2.imgbox.com/ae/6e/8NM37pFN_o.png" alt="在这里插入图片描述"><br> 用记事本打开，可以看到它的默认端口是80端口，默认访问域名是以localhost访问。也就是以后只要访问80端口，就会被Nginx拦截。<br> <img src="https://images2.imgbox.com/a9/1c/CPA1Z3yE_o.png" alt="在这里插入图片描述"><br> 接着，打开浏览器，输入 http://localhost:80并 回车，出现以下内容说明Nginx启动成功了！<br> <img src="https://images2.imgbox.com/1d/c7/wrw8EkFf_o.png" alt="在这里插入图片描述"><br> 也可以在任务管理器中看到nginx是在运行状态的。<br> <img src="https://images2.imgbox.com/88/3d/DUvb5JLz_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="3_26"></a>3.常用命令</h3> 
<pre><code class="prism language-powershell">强制停止nginx：nginx <span class="token operator">-</span>s stop
安全退出nginx：nginx <span class="token operator">-</span>s quit
重新加载配置文件：nginx <span class="token operator">-</span>s reload （如果修改了配置文件就执行这行命令，否则修改就是无效的。前提：nginx服务是启动的状态，否则reload是不成功的。）
</code></pre> 
<h2><a id="nginxconf_33"></a>二、nginx.conf配置文件分析</h2> 
<p>最上面的是全局配置；events是最大连接的数量；http中有一些小模块，比如静态资源文件配置，里面可以配置多个server，server可以配置不同的服务，比如location，比如负载均衡配置upstream。<br> <img src="https://images2.imgbox.com/54/66/ECLXQ4qy_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="1_37"></a>1.配置反向代理</h3> 
<p>例如：修改nginx.conf配置文件，配置location中proxy_pass指向YSL官网。</p> 
<pre><code class="prism language-powershell">/<span class="token operator">/</span> 这行代码就说明请求会代理到 https:<span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>yslbeautycn<span class="token punctuation">.</span>com
proxy_pass  https:<span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>yslbeautycn<span class="token punctuation">.</span>com 
</code></pre> 
<p><img src="https://images2.imgbox.com/b8/16/W0CgcpDl_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>注意：<br> proxy_pass后面跟的是空格<br> 写完一个配置项后面需要以分号；结尾</p> 
</blockquote> 
<p>修改了nginx.conf配置文件后，运行<code>nginx -s reload</code><br> 在浏览器输入http://localhost:80并回车，就可以发现出现的是YSL官网了。<br> <img src="https://images2.imgbox.com/52/fd/Vh7VY2BJ_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="2upstream_52"></a>2.负载均衡upstream</h3> 
<p>在一堆服务器中，Nginx能够将从客户端请求“均匀地”分配到这些服务器中，这就是负载均衡。</p> 
<blockquote> 
 <p>场景：如果请求很多，一台服务器忙不过来，就需要多个服务器一起合作。假如我们有100G的服务器、64G的服务器、16G的服务器，我们希望实现更多的请求能够到100G的服务器中，更少的请求到16G的服务器中。这就是负载均衡的功能了。</p> 
</blockquote> 
<p>常用方式：</p> 
<ul><li> <p><strong>轮询</strong><br> "轮询"会将客户端的请求循环分配给不同的后端服务器。轮询容易产生资源分配不合理的问题。<br> <img src="https://images2.imgbox.com/cf/06/uBGpZjcM_o.png" alt="在这里插入图片描述"><br> 假设有三个服务器，那么就可以在nginx.conf文件中使用upstream块定义这三个服务器；然后再配置location中的proxy_pass指令指向upstream名称。写法如下所示：<br> <img src="https://images2.imgbox.com/85/c4/nnL1KOI4_o.png" alt="在这里插入图片描述"></p> </li><li> <p><strong>加权轮询</strong><br> 用于服务器性能不同的集群中，可以让资源分配更合理。<br> <img src="https://images2.imgbox.com/55/14/agBxSX5c_o.png" alt="在这里插入图片描述"><br> 服务器性能越好的，权重就更高；性能越差的，权重就越低。（<code>权重weight</code>）<br> 如上图所示：如果请求很多的情况下，那么大量的请求都会到权重为4的第三个服务器中，只有一部分请求才会到权重为1的服务器中，这样可以确保服务器没有超负荷。权重weight越高的，请求就越多；这样，可以保证服务器性能的最大化，哪怕有一台很小的服务器，也可以上线去使用，这样会节约成本。<br> 可以通过weight来设置服务器的不同权重，写法如下所示：<br> <img src="https://images2.imgbox.com/d7/26/8VY6ATtX_o.png" alt="在这里插入图片描述"><br> <code>优点：分布式处理，提升网络的灵活性、稳定性，使得服务器性能最大化。</code></p> </li></ul> 
<h2><a id="Nginx_74"></a>三、Nginx上部署前端项目</h2> 
<p>Vue项目需要打包好，打包项目运行npm run build即可，打包完成项目中会多出一个dist目录，我这里的项目叫demo。<br> 我们将demo项目下dist目录中的内容都复制粘贴到nginx目录下的html目录中，将原本的nginx下的html中的内容删除掉。<br> <img src="https://images2.imgbox.com/02/0f/MBo5eLDY_o.png" alt="在这里插入图片描述"><br> 效果就是这样：<br> <img src="https://images2.imgbox.com/09/f4/OHTgWkah_o.png" alt="在这里插入图片描述"><br> 配置文件依然是默认的80端口，localhost打开。运行一下：start nginx，可以看到vue项目运行成功了。<br> <img src="https://images2.imgbox.com/4f/a6/ZB9bI0b8_o.png" alt="在这里插入图片描述"></p> 
<hr> 
<h2><a id="_87"></a>总结</h2> 
<p>以上就是我要分享的Nginx相关的内容了。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/383fcb991fe00219aa1358c588215b03/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">二叉搜索树</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/ffbaa477b87d22d341592cb19688f18f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">vscode里面配置Java环境（小白保姆教程）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>