<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Java Web实验九：使用JDBC完成数据的增删改查 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/c9d2258dc251aac3a6c4eea6e598a186/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="Java Web实验九：使用JDBC完成数据的增删改查">
  <meta property="og:description" content="实验九 使用JDBC完成数据的增删改查
一、实验目的 1. 熟练JDBC的基本概念和原理；
2. 掌握使用JDBC进行数据库连接和操作的方法；
3. 熟悉JDBC在增删改查中的应用；
二、实验内容
在实际项目的开发中，用户信息是存放在数据库中的，管理员对用户信息进行管理的过程，无时无刻不涉及到增删改查操作。本次实验要求创建数据库表user表，包括属性id（主键）、name、password、email、birthday等字段，其中id为学号，创建数据库表后使用JDBC实现对数据库中用户信息的增加（JdbcInsertTest.java）、删除（DeleteUserTest.java）、修改（UpdateUserTest.java）和查询（FindAllUserTest.java和FindUserByIdTest.java）操作，要求数据库表中有一行信息为学生本人的学号姓名。
三、实验结果（源代码、运行截图）
源代码
User.java:
import java.util.Date; public class User { private int id; private String name; private String password; private String email; private Date birthday; public int getId() { return id; } public void setId(int id) { this.id = id; } public String getUsername() { return name; } public void setUsername(String username) { this.name = username; } public String getPassword() { return password; } public void setPassword(String password) { this.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-04-15T12:08:48+08:00">
    <meta property="article:modified_time" content="2024-04-15T12:08:48+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Java Web实验九：使用JDBC完成数据的增删改查</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p style="margin-left:.0001pt;text-align:center;">实验九   使用JDBC完成数据的增删改查</p> 
<p style="margin-left:.0001pt;text-align:justify;"><strong><strong>一、实验目的 </strong></strong></p> 
<p style="margin-left:.0001pt;text-align:justify;">1. 熟练JDBC的基本概念和原理；</p> 
<p style="margin-left:.0001pt;text-align:justify;">2. 掌握使用JDBC进行数据库连接和操作的方法；</p> 
<p style="margin-left:.0001pt;text-align:justify;">3. 熟悉JDBC在增删改查中的应用；</p> 
<p style="margin-left:.0001pt;text-align:justify;"><strong><strong>二、实验内容</strong></strong></p> 
<p style="margin-left:.0001pt;text-align:justify;">在实际项目的开发中，用户信息是存放在数据库中的，管理员对用户信息进行管理的过程，无时无刻不涉及到增删改查操作。本次实验要求创建数据库表user表，包括属性id（主键）、name、password、email、birthday等字段，其中id为学号，创建数据库表后使用JDBC实现对数据库中用户信息的增加（JdbcInsertTest.java）、删除（DeleteUserTest.java）、修改（UpdateUserTest.java）和查询（FindAllUserTest.java和FindUserByIdTest.java）操作，要求数据库表中有一行信息为学生本人的学号姓名。</p> 
<p style="margin-left:.0001pt;text-align:justify;"><strong><strong>三、</strong></strong><strong><strong>实验</strong></strong><strong><strong>结</strong></strong><strong><strong>果</strong></strong><strong><strong>（</strong></strong><strong><strong>源代码、运行截图</strong></strong><strong><strong>）</strong></strong></p> 
<p style="margin-left:.0001pt;text-align:justify;"><strong><strong>源代码</strong></strong></p> 
<p style="margin-left:.0001pt;text-align:justify;"><strong><strong>User.java:</strong></strong></p> 
<pre><code class="language-java">import java.util.Date;

public class User {
    private int id;
    private String name;
    private String password;
    private String email;
    private Date birthday;

    public int getId() {
        return id;
    }

    public void setId(int id) {
        this.id = id;
    }

    public String getUsername() {
        return name;
    }

    public void setUsername(String username) {
        this.name = username;
    }

    public String getPassword() {
        return password;
    }

    public void setPassword(String password) {
        this.password = password;
    }

    public String getEmail() {
        return email;
    }

    public void setEmail(String email) {
        this.email = email;
    }

    public Date getBirthday() {

        return birthday;
    }

    public void setBirthday(Date birthday) {

        this.birthday = birthday;
    }
}</code></pre> 
<p style="margin-left:.0001pt;text-align:justify;"><strong><strong>JDBCUtil.java:</strong></strong></p> 
<pre><code class="language-java">import java.sql.*;

public class JDBCUtil {
    public static Connection getConnection() throws SQLException,
            ClassNotFoundException{
        Class.forName("com.mysql.cj.jdbc.Driver");
        String url="jdbc:mysql://localhost:3306/javatest9?useUnicode=true&amp;characterEncoding=UTF-8&amp;userSSL=false&amp;serverTimezone=GMT%2B8";
        String username="root";
        String password="123456";
        Connection conn= DriverManager.getConnection(url,username,password);
        return conn;
    }
    public static void release(Statement stmt,Connection conn){
        if(stmt!=null){
            try {
                stmt.close();
            }catch (SQLException e){
                e.printStackTrace();
            }
            stmt=null;
        }
        if(conn!=null){
            try {
                conn.close();
            }catch (SQLException e){
                e.printStackTrace();
            }
            conn=null;
        }
    }
    public static void release(ResultSet rs,Statement stmt,Connection conn){
        if(rs!=null){
            try {
                rs.close();
            }catch (SQLException e){
                e.printStackTrace();
            }
            rs=null;
        }
        release(stmt,conn);
    }
}
</code></pre> 
<p style="margin-left:.0001pt;text-align:justify;"><strong><strong>UserDao.java:</strong></strong></p> 
<pre><code class="language-java">import java.sql.Array;
import java.sql.Connection;
import java.sql.ResultSet;
import java.sql.Statement;
import java.text.SimpleDateFormat;
import java.util.ArrayList;

public class UserDao {
    //添加用户
    public boolean insert(User user){
        Connection conn=null;
        Statement stmt=null;
        ResultSet rs=null;
        try {
            conn=JDBCUtil.getConnection();
            stmt=conn.createStatement();
            SimpleDateFormat sdf=new SimpleDateFormat("yyyy-MM-dd");

            String birthday=sdf.format(user.getBirthday());

            String sql="INSERT INTO user(id,name,password,email,birthday)"+
                    "VALUES("
                    +user.getId()
                    +",'"
                    +user.getUsername()
                    +"','"
                    +user.getPassword()
                    +"','"
                    +user.getEmail()
                    +"','"
                    + birthday+"')";
            int num=stmt.executeUpdate(sql);
            if(num&gt;0){
                return true;
            }
            return false;
        }catch (Exception e){
            e.printStackTrace();
        }finally {
            JDBCUtil.release(rs,stmt,conn);
        }
        return false;
    }
    //查询操作
    public  ArrayList&lt;User&gt; findAll(){
        Connection conn=null;
        Statement stmt=null;
        ResultSet rs=null;
        ArrayList&lt;User&gt; list=new ArrayList&lt;User&gt;();
        try {
            conn=JDBCUtil.getConnection();
            stmt=conn.createStatement();
            String sql="SELECT * FROM user";
            rs=stmt.executeQuery(sql);
            while(rs.next()){
                User user=new User();
                user.setId(rs.getInt("id"));
                user.setUsername(rs.getString("name"));
                user.setPassword(rs.getString("password"));
                user.setEmail(rs.getString("email"));
                user.setBirthday(rs.getDate("birthday"));
                list.add(user);
            }
            return list;
        }catch (Exception e){
            e.printStackTrace();
        }finally {
            JDBCUtil.release(rs,stmt,conn);
        }
        return null;
    }
    //查找指定id操作
    public User find(int id){
        Connection conn=null;
        Statement stmt=null;
        ResultSet rs=null;
        try {
            conn=JDBCUtil.getConnection();
            stmt=conn.createStatement();
            String sql="SELECT * FROM user WHERE id="+id;
            rs=stmt.executeQuery(sql);
            while(rs.next()){
                User user=new User();
                user.setId(rs.getInt("id"));
                user.setUsername(rs.getString("name"));
                user.setPassword(rs.getString("password"));
                user.setEmail(rs.getString("email"));
                user.setBirthday(rs.getDate("birthday"));
                return user;
            }
            return null;

        }catch (Exception e){
            e.printStackTrace();
        }finally {
            JDBCUtil.release(rs,stmt,conn);
        }
        return null;
    }
    //删除操作
    public boolean delete(int id){
        Connection conn=null;
        Statement stmt=null;
        ResultSet rs=null;
        try{
            conn=JDBCUtil.getConnection();
            stmt=conn.createStatement();
            String sql="DELETE FROM user WHERE id="+id;
            int num=stmt.executeUpdate(sql);
            if(num&gt;0){
                return true;
            }
            return false;
        }catch (Exception e){
            e.printStackTrace();
        }finally {
            JDBCUtil.release(rs,stmt,conn);
        }
        return false;
    }
    //修改用户
    public boolean update(User user){
        Connection conn=null;
        Statement stmt=null;
        ResultSet rs=null;
        try {
            conn=JDBCUtil.getConnection();
            stmt=conn.createStatement();
            SimpleDateFormat sdf=new SimpleDateFormat("yyyy-MM-dd");
            String birthday=sdf.format(user.getBirthday());
            String sql="UPDATE user set name='"+user.getUsername()
                    +"',password='"+user.getPassword()+"',email='"
                    +user.getEmail()+"',birthday='"+birthday
                    +"'WHERE id="+user.getId();
            int num=stmt.executeUpdate(sql);
            if(num&gt;0){
                return true;
            }
            return false;
        }catch (Exception e){
            e.printStackTrace();
        }finally {
            JDBCUtil.release(rs,stmt,conn);
        }
        return false;
    }
}</code></pre> 
<p style="margin-left:.0001pt;text-align:justify;"><strong><strong>JdbcInsertTest.java:</strong></strong></p> 
<pre><code class="language-java">import java.util.Calendar;
import java.util.Date;

public class JdbcInsertTest {
    public static void main(String[] args) {
        UserDao ud=new UserDao();
        User user=new User();
        user.setId(202266623);
        user.setUsername("李四");
        user.setPassword("123");
        user.setEmail("lisi@qq.com");
        Calendar calendar= Calendar.getInstance();
        calendar.set(2003, Calendar.FEBRUARY, 21);  //年月日  也可以具体到时分秒如calendar.set(2015, 10, 12,11,32,52);
        Date date=calendar.getTime();//date就是你需要的时间

        user.setBirthday(date);
        boolean b=ud.insert(user);
        System.out.println(b);
    }
}</code></pre> 
<p style="margin-left:.0001pt;text-align:justify;"><strong><strong>DeleteUserTest.java:</strong></strong></p> 
<pre><code class="language-java">public class DeleteUserTest {
    public static void main(String[] args) {
        UserDao userDao=new UserDao();
        boolean b=userDao.delete(202233366);
        System.out.println(b);
    }
}</code></pre> 
<p style="margin-left:.0001pt;text-align:justify;"><strong><strong>UpdateUserTest.java:</strong></strong></p> 
<pre><code class="language-java">import java.util.Calendar;
import java.util.Date;

public class UpdateUserTest {
    public static void main(String[] args) {
        UserDao userDao=new UserDao();
        User user=new User();
        user.setId(202233366);
        user.setUsername("赵六");
        user.setPassword("12345");
        user.setEmail("zhaoliu@qq.com");
        Calendar calendar= Calendar.getInstance();
        calendar.set(2003, Calendar.JUNE, 21);  //年月日  也可以具体到时分秒如calendar.set(2015, 10, 12,11,32,52);
        Date date=calendar.getTime();//date就是你需要的时间

        user.setBirthday(date);

        boolean b=userDao.update(user);
        System.out.println(b);

    }
}</code></pre> 
<p style="margin-left:.0001pt;text-align:justify;"><strong><strong>FindAllUserTest.java:</strong></strong></p> 
<pre><code class="language-java">import java.util.ArrayList;

public class FindAllUserTest {
    public static void main(String[] args) {
        UserDao userDao=new UserDao();
        ArrayList&lt;User&gt; list=userDao.findAll();
        for(int i=0;i&lt;list.size();i++){
            System.out.println("id:"+list.get(i).getId()+"\t"+"name:"+list.get(i).getUsername()+"\t\t"+"email:"+list.get(i).getEmail()+"\t\t"+"birthday:"+list.get(i).getBirthday());
        }
    }
}</code></pre> 
<p style="margin-left:.0001pt;text-align:justify;"><strong><strong>FindUserByIdTest.java:</strong></strong></p> 
<pre><code class="language-java">public class FindUserByIdTest {
    public static void main(String[] args) {
        UserDao userDao=new UserDao();
        User user= userDao.find(202233366);
        System.out.println("id:"+user.getId()+"\tname:"+user.getUsername()+"\t\temail:"+user.getEmail()+"\t\tbirthday:"+user.getBirthday());
    }
}</code></pre> 
<p style="margin-left:.0001pt;text-align:left;"><strong><strong>运行截图</strong></strong></p> 
<p style="margin-left:.0001pt;text-align:left;"><strong><strong>MySQL命令窗查看user表</strong></strong></p> 
<p style="margin-left:.0001pt;text-align:left;"><img alt="" height="632" src="https://images2.imgbox.com/f5/f3/3IttNmiW_o.png" width="1200"></p> 
<p style="margin-left:.0001pt;text-align:left;"><strong><strong>整体代码框架(IDEA和MySQL连接成功)</strong></strong></p> 
<p style="margin-left:.0001pt;text-align:left;"><img alt="" height="1016" src="https://images2.imgbox.com/84/d5/69TqUVBV_o.png" width="1200"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><strong><strong>删除用户数据(id:202233366 name:赵六 email:zhaoliu@qq.com birthday:2003-6-21)</strong></strong></p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="1012" src="https://images2.imgbox.com/ec/de/bYa3LB6c_o.png" width="1200"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><strong><strong>增加用户数据(id:202233366 name:赵六 email:zhaoliu@qq.com birthday:2003-6-21)</strong></strong></p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="1020" src="https://images2.imgbox.com/53/94/ixv5qlx0_o.png" width="1200"></p> 
<p style="margin-left:.0001pt;text-align:left;"><strong><strong>修改用户数据(id:202233366 name:赵六 email:zhaoliu@qq.com birthday:2003-6-21改为id:202233366 name:王五 email:wangwu@qq.com birthday:2004-6-21)</strong></strong></p> 
<p style="margin-left:.0001pt;text-align:left;"><img alt="" height="1022" src="https://images2.imgbox.com/b0/cb/vGKMTmth_o.png" width="1200"><img alt="" height="632" src="https://images2.imgbox.com/e6/1f/ZUmMFalm_o.png" width="1200"></p> 
<p style="margin-left:.0001pt;text-align:left;"></p> 
<p style="margin-left:.0001pt;text-align:left;">查询用户数据(查看所有)</p> 
<p style="margin-left:.0001pt;text-align:left;"><img alt="" height="1022" src="https://images2.imgbox.com/d8/af/mqTXBYRW_o.png" width="1200"></p> 
<p style="margin-left:.0001pt;text-align:left;"><strong><strong>查询用户数据(查看指定id用户数据，这里查询202233366)</strong></strong></p> 
<p style="margin-left:.0001pt;text-align:left;"><img alt="" height="1012" src="https://images2.imgbox.com/3e/17/GI2M8PO1_o.png" width="1200"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/21297bec9320c8c1aa4f532318e0fe39/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">SQL Server详细使用教程：安装步骤、必备知识点与常见问题解析</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a6b5b4fb633d6e1685a1fb976cc7cd1c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">前端必备技能——轮播图（原生代码&#43;插件）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>