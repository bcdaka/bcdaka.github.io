<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>[matlab]matlab调用python的各种方法 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/fac0a410586bb4b66fadf626ae71c4ff/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="[matlab]matlab调用python的各种方法">
  <meta property="og:description" content="前言 在MATLAB中，可以使用 py 函数来调用Python模块和函数。在此基础上，我们可以很轻易的调用python中的各种模块，方便我们在神经网络上的应用仿真。
以下是使用MATLAB调用Python模块的基本步骤：
确保你的系统已经正确安装了Python，并且将Python添加到了系统的环境变量中。
在MATLAB命令窗口中，使用 pyversion 命令检查MATLAB当前使用的Python版本。确保它是你希望调用的Python版本。
使用 py.module_name 语法来引入Python模块。 module_name 是你要调用的Python模块的名称。
调用Python模块中的函数或方法。使用 . 操作符来访问模块中的函数和方法。
1 调用自定义python函数 1
2
3
4
5
% 添加函数模块路径, 如果路径不在则搜索不到
py.sys.path().append(&#39;fun/to/path&#39;)
mymod = py.importlib.import_module(&#39;py_name&#39;) % 不要带py后缀,不然报错
a = mymod.print_num(1)
disp(a)
例子
1
2
3
# num.py
def print_num(num):
return num
1
2
3
4
5
6
% 添加函数模块路径, 如果路径不在则搜索不到
py.sys.path().append(&#39;fun/to/path&#39;)
mymod = py.importlib.import_module(&#39;num&#39;) % 不要带py后缀,不然报错
a = mymod.print_num(1)
disp(pwd)
disp(a)
2 访问 Python 内置模块 要访问 Python 库，请在 Python 名称前添加 py.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-07-08T06:35:03+08:00">
    <meta property="article:modified_time" content="2024-07-08T06:35:03+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">[matlab]matlab调用python的各种方法</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h3>前言</h3> 
<p>在MATLAB中，可以使用 <code>py </code>函数来调用Python模块和函数。在此基础上，我们可以很轻易的调用python中的各种模块，方便我们在神经网络上的应用仿真。</p> 
<p><strong>以下是使用MATLAB调用Python模块的基本步骤：</strong></p> 
<p>确保你的系统已经正确安装了Python，并且将Python添加到了系统的环境变量中。</p> 
<p>在MATLAB命令窗口中，使用 <code>pyversion </code>命令检查MATLAB当前使用的Python版本。确保它是你希望调用的Python版本。</p> 
<p>使用 <code>py.module_name </code>语法来引入Python模块。 <code>module_name </code>是你要调用的Python模块的名称。</p> 
<p>调用Python模块中的函数或方法。使用 <code>. </code>操作符来访问模块中的函数和方法。</p> 
<p><a name="_label1"></a></p> 
<h3>1 调用自定义python函数</h3> 
<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> <p>1</p> <p>2</p> <p>3</p> <p>4</p> <p>5</p> </td><td> <p><code>%</code> <code>添加函数模块路径, 如果路径不在则搜索不到</code></p> <p><code>py.sys.path().append(</code><code>'fun/to/path'</code><code>)</code></p> <p><code>mymod </code><code>=</code> <code>py.importlib.import_module(</code><code>'py_name'</code><code>)  </code><code>%</code> <code>不要带py后缀,不然报错</code></p> <p><code>a </code><code>=</code> <code>mymod.print_num(</code><code>1</code><code>)</code></p> <p><code>disp(a)</code></p> </td></tr></tbody></table> 
<p>例子</p> 
<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> <p>1</p> <p>2</p> <p>3</p> </td><td> <p><code># num.py</code></p> <p><code>def</code> <code>print_num(num):</code></p> <p><code>   </code><code>return</code> <code>num</code></p> </td></tr></tbody></table> 
<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> <p>1</p> <p>2</p> <p>3</p> <p>4</p> <p>5</p> <p>6</p> </td><td> <p><code>%</code> <code>添加函数模块路径, 如果路径不在则搜索不到</code></p> <p><code>py.sys.path().append(</code><code>'fun/to/path'</code><code>)</code></p> <p><code>mymod </code><code>=</code> <code>py.importlib.import_module(</code><code>'num'</code><code>)  </code><code>%</code> <code>不要带py后缀,不然报错</code></p> <p><code>a </code><code>=</code> <code>mymod.print_num(</code><code>1</code><code>)</code></p> <p><code>disp(pwd)</code></p> <p><code>disp(a)</code></p> </td></tr></tbody></table> 
<p></p> 
<p class="img-center"><img alt="" height="72" src="https://images2.imgbox.com/51/18/l2fg6qMo_o.png" width="456"></p> 
<p><a name="_label2"></a></p> 
<h3>2 访问 Python 内置模块</h3> 
<p>要访问 Python 库，请在 Python 名称前添加 <code>py. </code>前缀。访问math模块：</p> 
<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> <p>1</p> <p>2</p> <p>3</p> <p>4</p> <p>5</p> </td><td> <p><code>%</code> <code>引入Python模块</code></p> <p><code>%</code> <code>py.math;</code></p> <p><code>%</code> <code>调用Python模块中的函数</code></p> <p><code>result </code><code>=</code> <code>py.math.sqrt(</code><code>4</code><code>);</code></p> <p><code>disp(result);  </code><code>%</code> <code>显示结果</code></p> </td></tr></tbody></table> 
<p></p> 
<p class="img-center"><img alt="" height="41" src="https://images2.imgbox.com/8d/f3/qn0dRSlc_o.png" width="406"></p> 
<p>调用list、textwrap：</p> 
<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> <p>1</p> <p>2</p> <p>3</p> <p>4</p> </td><td> <p><code>a </code><code>=</code> <code>py.</code><code>list</code><code>({<!-- --></code><code>'This'</code><code>,</code><code>'is a'</code><code>,</code><code>'list'</code><code>});</code></p> <p><code>disp(a);</code></p> <p><code>b </code><code>=</code> <code>py.textwrap.wrap(</code><code>'This is a string'</code><code>);</code></p> <p><code>disp(b);</code></p> </td></tr></tbody></table> 
<p></p> 
<p class="img-center"><img alt="" height="221" src="https://images2.imgbox.com/93/12/ODmAtDhY_o.png" width="468"></p> 
<p><a name="_label3"></a></p> 
<h3>3 从 MATLAB 运行python脚本</h3> 
<p><a name="_lab2_3_0"></a></p> 
<h4>3.1 PYRUNFILE(FILE)</h4> 
<p>PYRUNFILE(FILE) 执行 Python 脚本文件 FILE，它可以被提供为标量字符串、cellstr 或 char 数组。 FILE 必须指定绝对路径或相对路径-相对于当前工作目录，扩展名为“.py”的文件的路径。如果脚本文件需要任何命令行参数，则可以通过提供它们在要执行的文件路径之后的 FILE 中，由空格字符分隔。</p> 
<p><strong>格式</strong></p> 
<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> <p>1</p> <p>2</p> </td><td> <p><code>%</code> <code>返回值的</code></p> <p><code>pyrunfile(</code><code>"fun.py"</code><code>)</code></p> </td></tr></tbody></table> 
<p><strong>例子</strong></p> 
<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> <p>1</p> <p>2</p> <p>3</p> <p>4</p> <p>5</p> <p>6</p> <p>7</p> </td><td> <p><code># 定义num.py的函数</code></p> <p><code>def</code> <code>print_num(num</code><code>=</code><code>1</code><code>):</code></p> <p><code>  </code><code>print</code><code>(</code><code>"执行print_num函数"</code><code>)</code></p> <p><code>  </code><code>return</code> <code>num</code></p> <p><code>if</code> <code>__name__ </code><code>=</code><code>=</code> <code>"__main__"</code><code>:</code></p> <p><code>  </code><code>b </code><code>=</code> <code>print_num(</code><code>3</code><code>)</code></p> <p><code>  </code><code>print</code><code>(</code><code>"hello world!"</code><code>)</code></p> </td></tr></tbody></table> 
<p>matlab中调用，命令行窗口可以得到print打印出的值:</p> 
<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> <p>1</p> <p>2</p> <p>3</p> <p>4</p> <p>5</p> </td><td> <p><code>%</code> <code>a string, cellstr </code><code>or</code> <code>a char array</code></p> <p><code>%</code> <code>添加当前python的文件路径</code></p> <p><code>py.sys.path().append(</code><code>'fun/to/path'</code><code>)</code></p> <p><code>%</code> <code>调用这个函数</code></p> <p><code>pyrunfile(</code><code>"num.py"</code><code>)</code></p> </td></tr></tbody></table> 
<p></p> 
<p class="img-center"><img alt="" height="61" src="https://images2.imgbox.com/63/9f/qkInN4PJ_o.png" width="361"></p> 
<p><a name="_lab2_3_1"></a></p> 
<h4>3.2 [ OUTVARS ] = PYRUNFILE(FILE, OUTPUTS)</h4> 
<p>[ OUTVARS ] = PYRUNFILE(FILE, OUTPUTS) 执行文件并返回任何变量由 Python 生成到 MATLAB，通过指定 Python 变量的名称在 OUTPUTS 中并在 OUTVARS 中捕获返回值。 可以提供输出作为字符串、cellstr 或 char 数组。</p> 
<p>格式</p> 
<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> <p>1</p> <p>2</p> </td><td> <p><code>%</code> <code>返回值的</code></p> <p><code>out_vulue </code><code>=</code> <code>pyrunfile(</code><code>"fun.py"</code><code>, </code><code>"var_nam"</code><code>)</code></p> </td></tr></tbody></table> 
<p>例子</p> 
<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> <p>1</p> <p>2</p> <p>3</p> <p>4</p> <p>5</p> </td><td> <p><code># num.py</code></p> <p><code>def</code> <code>print_num(num</code><code>=</code><code>1</code><code>):</code></p> <p><code>  </code><code>return</code> <code>num</code></p> <p><code>if</code> <code>__name__ </code><code>=</code><code>=</code> <code>"__main__"</code><code>:</code></p> <p><code>  </code><code>b </code><code>=</code> <code>print_num(</code><code>3</code><code>)</code></p> </td></tr></tbody></table> 
<p>matlab中调用，这里不需要导入这个函数，程序会自动搜索这个函数:</p> 
<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> <p>1</p> <p>2</p> <p>3</p> <p>4</p> <p>5</p> </td><td> <p><code>%</code> <code>a string, cellstr </code><code>or</code> <code>a char array</code></p> <p><code>%</code> <code>添加当前python的文件路径</code></p> <p><code>py.sys.path().append(</code><code>'fun/to/path'</code><code>)</code></p> <p><code>%</code> <code>调用这个函数</code></p> <p><code>myListFile </code><code>=</code> <code>pyrunfile(</code><code>"num.py"</code><code>, </code><code>"b"</code><code>)</code></p> </td></tr></tbody></table> 
<p></p> 
<p class="img-center"><img alt="" height="225" src="https://images2.imgbox.com/22/ea/s5mPk3X4_o.png" width="431"></p> 
<p>denominator分母，imag虚部，real实部，numerator分子</p> 
<p><strong>获取更多的返回变量</strong></p> 
<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> <p>1</p> <p>2</p> <p>3</p> <p>4</p> <p>5</p> <p>6</p> <p>7</p> <p>8</p> <p>9</p> </td><td> <p><code># 已经定义的num.py</code></p> <p><code>def</code> <code>print_num(num</code><code>=</code><code>1</code><code>):</code></p> <p><code>  </code><code>c </code><code>=</code> <code>1</code></p> <p><code>  </code><code>print</code><code>(</code><code>"执行print_num函数"</code><code>)</code></p> <p><code>  </code><code>return</code> <code>num</code></p> <p><code>if</code> <code>__name__ </code><code>=</code><code>=</code> <code>"__main__"</code><code>:</code></p> <p><code>  </code><code>a </code><code>=</code>  <code>print_num(</code><code>2</code><code>)</code></p> <p><code>  </code><code>b </code><code>=</code> <code>print_num(</code><code>3</code><code>)</code></p> <p><code>  </code><code>print</code><code>(</code><code>"hello world!"</code><code>)</code></p> </td></tr></tbody></table> 
<p>上面代码中，我们定义了a、b、c三个变量，这是我们都想获取，则可以通过下面的方法:</p> 
<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> <p>1</p> </td><td> <p><code>[a, b, c] </code><code>=</code> <code>pyrunfile(</code><code>"num.py"</code><code>, [</code><code>"a"</code><code>, </code><code>"b"</code><code>, </code><code>"c"</code><code>]);</code></p> </td></tr></tbody></table> 
<p>可以发现，a、b的值都成功获取了，但是c没有成功，应为c为在函数print_num中，为零时变量，获取不到。</p> 
<p></p> 
<p class="img-center"><img alt="" height="68" src="https://images2.imgbox.com/bc/6c/6HJO2ZK0_o.png" width="412"></p> 
<p></p> 
<p class="img-center"><img alt="" height="75" src="https://images2.imgbox.com/30/73/evDQn096_o.png" width="267"></p> 
<p><a name="_lab2_3_2"></a></p> 
<h4>3.3 [ OUTVARS ] = PYRUNFILE(FILE, OUTPUTS, varargin{INPUTS})</h4> 
<p>[ OUTVARS ] = PYRUNFILE(FILE, OUTPUTS, varargin{INPUTS}) 执行文件并返回OUTPUTS， 并将它们分配给 OUTVARS，使用 varargin{INPUTS} 传递的 MATLAB 数据。 varargin{INPUTS} 可用于将 MATLAB 数据传递给 Python 表达式，格式：名称-值对，其中名称是要分配的 Python 变量的名称，并且该值是 MATLAB 数据或可访问工作区中的变量名称。 varargin{INPUTS}只能用于传递可自动转换为python格式的数据。</p> 
<p><strong>格式一</strong></p> 
<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> <p>1</p> <p>2</p> </td><td> <p><code>%</code> <code>返回值的</code></p> <p><code>out_vulue </code><code>=</code> <code>pyrunfile(</code><code>"fun.py argv1 argv2 ...argvn"</code><code>, </code><code>"var_nam"</code><code>)</code></p> </td></tr></tbody></table> 
<p><strong>例子</strong></p> 
<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> <p>1</p> <p>2</p> <p>3</p> <p>4</p> <p>5</p> <p>6</p> <p>7</p> <p>8</p> <p>9</p> <p>10</p> </td><td> <p><code># num.py</code></p> <p><code>import</code> <code>sys</code></p> <p><code>def</code> <code>print_num(num</code><code>=</code><code>1</code><code>):</code></p> <p><code>  </code><code>ans </code><code>=</code> <code>num</code><code>+</code><code>1</code></p> <p><code>  </code><code>return</code> <code>ans</code></p> <p><code>if</code> <code>__name__ </code><code>=</code><code>=</code> <code>"__main__"</code><code>:</code></p> <p><code>  </code><code>arg </code><code>=</code> <code>sys.argv[</code><code>1</code><code>]</code></p> <p><code>  </code><code>print</code><code>(</code><code>type</code><code>(arg))</code></p> <p><code>  </code><code>b </code><code>=</code> <code>print_num(</code><code>int</code><code>(arg))</code></p> <p><code>  </code><code>print</code><code>(b)</code></p> </td></tr></tbody></table> 
<p><strong>调用</strong></p> 
<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> <p>1</p> </td><td> <p><code>b </code><code>=</code> <code>pyrunfile(</code><code>"num.py 1"</code><code>, </code><code>"b"</code><code>);</code></p> </td></tr></tbody></table> 
<p></p> 
<p class="img-center"><img alt="" height="63" src="https://images2.imgbox.com/47/a1/sgU8uEtA_o.png" width="249"></p> 
<p>格式二</p> 
<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> <p>1</p> <p>2</p> </td><td> <p><code>%</code> <code>返回值的</code></p> <p><code>out_vulue </code><code>=</code> <code>pyrunfile(</code><code>"fun.py"</code><code>, </code><code>"var_nam"</code><code>, arg1</code><code>=</code><code>v1, arg2</code><code>=</code><code>v2)</code></p> </td></tr></tbody></table> 
<p>例子</p> 
<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> <p>1</p> <p>2</p> <p>3</p> <p>4</p> <p>5</p> <p>6</p> <p>7</p> <p>8</p> <p>9</p> <p>10</p> <p>11</p> </td><td> <p><code># num.py</code></p> <p><code>def</code> <code>print_num(num</code><code>=</code><code>1</code><code>):</code></p> <p><code>  </code><code>ans </code><code>=</code> <code>num</code><code>+</code><code>1</code></p> <p><code>  </code><code>return</code> <code>ans</code></p> <p><code>if</code> <code>__name__ </code><code>=</code><code>=</code> <code>"__main__"</code><code>:</code></p> <p><code>  </code><code>num1</code><code>=</code> <code>x</code></p> <p><code>  </code><code>num2 </code><code>=</code> <code>y</code></p> <p><code>  </code><code>a </code><code>=</code> <code>print_num(num1)</code></p> <p><code>  </code><code>b </code><code>=</code> <code>print_num(num2)</code></p> <p><code>  </code><code>print</code><code>(a)</code></p> <p><code>  </code><code>print</code><code>(b)</code></p> </td></tr></tbody></table> 
<p>调用:</p> 
<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> <p>1</p> </td><td> <p><code>[a, b] </code><code>=</code> <code>pyrunfile(</code><code>"num.py"</code><code>, [</code><code>"a"</code><code>, </code><code>"b"</code><code>], x</code><code>=</code><code>1</code><code>, y</code><code>=</code><code>2</code><code>);</code></p> </td></tr></tbody></table> 
<p></p> 
<p class="img-center"><img alt="" height="56" src="https://images2.imgbox.com/43/c3/HAsgcPtQ_o.png" width="355"></p> 
<p><a name="_label4"></a></p> 
<h3>总结</h3> 
<p>到此这篇关于matlab调用python的各种方法的文章就介绍到这了</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/a24189b846ba880f4600381f2d157831/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">iOS 开发中不常见的专业术语</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/701d1f217b9981f80239a1eb47c8afbe/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【Elasticsearch】Elasticsearch倒排索引详解</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>