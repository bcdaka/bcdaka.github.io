<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>操作系统安全：Windows系统安全配置，Windows安全基线检查加固 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/436b071ea8e580d82474dd57ce6525fc/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="操作系统安全：Windows系统安全配置，Windows安全基线检查加固">
  <meta property="og:description" content="「作者简介」：2022年北京冬奥会网络安全中国代表队，CSDN Top100，就职奇安信多年，以实战工作为基础对安全知识体系进行总结与归纳，著作适用于快速入门的 《网络安全自学教程》，内容涵盖系统安全、信息收集等12个知识域的一百多个知识点，持续更新。
这一章节我们需要知道Windows安全基线的标准，怎么检查和配置。
Windows安全配置 1、安装部署2、访问控制3、账户安全4、密码策略5、账号锁定策略6、本地安全策略7、安全审计8、文件共享9、关闭自动播放10、第三方安全软件 Windows安全配置也叫「安全基线」配置，就是我们常说的 check list
1、安装部署 系统安装前，应选择「最新版本」的官方或可靠镜像，并使用MD5校验镜像的完整性，很多非官方的ghost镜像，可能会携带后门或病毒。
系统安装时，应明按照「最小化部署」原则，不安装不需要的组件，关闭不需要的服务和功能。
系统安装后，应即使安装安全补丁。
2、访问控制 启用Windows自带的防火墙，按照最小化原则配置「访问策略」。
【控制面板】-【系统和安全】-【Windows Defender 防火墙】-【启用或关闭 Windows Defender 防火墙】- 勾选两个启用。
以禁用永恒之蓝的445端口为例，演示一下配置防火墙策略。
【控制面板】-【系统和安全】-【Windows Defender 防火墙】-【高级设置】-【入站规则】-【新建规则】
规则类型选「端口」
「协议」选 TCP，端口选 特定本地端口，填445。
「操作」选阻止连接
配置文件 默认
名称 自定义
添加后「立即生效」不用重启。可以在入站规则看到。关闭端口后，利用445端口的攻击就无法生效了。
3、账户安全 win &#43; r，输入 compmgmt.msc 打开计算机管理。
【系统工具】-【本地用户和组】-【用户】中「修改管理员账号默认名称」。右键Administrator 重命名。
「禁用来宾账户」，右键Guest 属性，勾选禁用。
4、密码策略 Windows默认不启用密码策略，需要手动开启，防止弱口令。
win &#43; r，输入secpol.msc 打开本地安全策略，按照要求配置密码策略。右键属性可以改。
密码复杂性要求：必须开启
不能包含用户的帐户名，不能包含用户姓名中超过两个连续字符的部分。长度至少六个字符。包含大小写字母、数字、特殊字符中的三种。 密码长度最小值：不能少于8个字符
密码最短使用期限：不能小于2天
密码最长使用期限：不能超过90天
强制密码历史：不能重复使用前5个密码
用可还原的加密来存储密码：禁用
5、账号锁定策略 Windows默认不启用账号锁定策略，需要手动开启，防止暴力破解。
win &#43; r，输入secpol.msc 打开本地安全策略，按照要求配置账号锁定策略。右键属性可以改。
账号锁定阈值：登录失败不超过6次锁定
账号锁定时间：最低锁定30分钟
重置账号锁定计数器：30分钟后解除锁定，小于等于账号锁定时间
6、本地安全策略 win &#43; r，输入secpol.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-06-11T07:08:46+08:00">
    <meta property="article:modified_time" content="2024-06-11T07:08:46+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">操作系统安全：Windows系统安全配置，Windows安全基线检查加固</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <blockquote> 
 <p><font color="orange">「作者简介」：</font>2022年北京冬奥会网络安全中国代表队，CSDN Top100，就职奇安信多年，以实战工作为基础对安全知识体系进行总结与归纳，著作适用于快速入门的 <a href="https://blog.csdn.net/wangyuxiang946/category_12221621.html">《网络安全自学教程》</a>，内容涵盖系统安全、信息收集等12个知识域的一百多个知识点，持续更新。</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/a4/59/w1w1VCo8_o.png" alt="在这里插入图片描述"></p> 
<p>这一章节我们需要知道Windows安全基线的标准，怎么检查和配置。</p> 
<p><img src="https://images2.imgbox.com/02/fa/Yr5NekPn_o.png" alt="在这里插入图片描述"></p> 
<p></p> 
<div class="toc"> 
 <h4>Windows安全配置</h4> 
 <ul><li><a href="#1_15" rel="nofollow">1、安装部署</a></li><li><a href="#2_22" rel="nofollow">2、访问控制</a></li><li><a href="#3_57" rel="nofollow">3、账户安全</a></li><li><a href="#4_69" rel="nofollow">4、密码策略</a></li><li><a href="#5_89" rel="nofollow">5、账号锁定策略</a></li><li><a href="#6_101" rel="nofollow">6、本地安全策略</a></li><li><a href="#7_128" rel="nofollow">7、安全审计</a></li><li><a href="#8_144" rel="nofollow">8、文件共享</a></li><li><a href="#9_160" rel="nofollow">9、关闭自动播放</a></li><li><a href="#10_168" rel="nofollow">10、第三方安全软件</a></li></ul> 
</div> 
<p></p> 
<p>Windows安全配置也叫<font color="orange">「安全基线」</font>配置，就是我们常说的 check list</p> 
<h2><a id="1_15"></a>1、安装部署</h2> 
<p>系统安装前，应选择<font color="red">「最新版本」</font>的官方或可靠镜像，并使用MD5校验镜像的完整性，很多非官方的ghost镜像，可能会携带后门或病毒。</p> 
<p>系统安装时，应明按照<font color="grape">「最小化部署」</font>原则，不安装不需要的组件，关闭不需要的服务和功能。</p> 
<p>系统安装后，应即使安装安全补丁。</p> 
<h2><a id="2_22"></a>2、访问控制</h2> 
<p>启用Windows自带的防火墙，按照最小化原则配置<font color="viridis">「访问策略」</font>。</p> 
<p>【控制面板】-【系统和安全】-【Windows Defender 防火墙】-【启用或关闭 Windows Defender 防火墙】- 勾选两个启用。</p> 
<p><img src="https://images2.imgbox.com/75/2b/3vYkY3Mm_o.png" alt="在这里插入图片描述"></p> 
<p>以禁用永恒之蓝的445端口为例，演示一下配置防火墙策略。</p> 
<p>【控制面板】-【系统和安全】-【Windows Defender 防火墙】-【高级设置】-【入站规则】-【新建规则】</p> 
<p><img src="https://images2.imgbox.com/6c/b6/dICKZXow_o.png" alt="在这里插入图片描述"><br> 规则类型选<font color="scarlet">「端口」</font></p> 
<p><img src="https://images2.imgbox.com/69/31/GyUP1JWZ_o.png" alt="在这里插入图片描述"></p> 
<p><font color="sapphire">「协议」</font>选 TCP，端口选 特定本地端口，填445。</p> 
<p><img src="https://images2.imgbox.com/78/ab/ToEmmQwB_o.png" alt="在这里插入图片描述"></p> 
<p><font color="indigo">「操作」</font>选阻止连接</p> 
<p><img src="https://images2.imgbox.com/41/b8/1QSUorc1_o.png" alt="在这里插入图片描述"></p> 
<p>配置文件 默认</p> 
<p><img src="https://images2.imgbox.com/31/ba/b8PSLSD4_o.png" alt="在这里插入图片描述"><br> 名称 自定义</p> 
<p><img src="https://images2.imgbox.com/f5/7b/2MQTBgxp_o.png" alt="在这里插入图片描述"></p> 
<p>添加后<font color="green">「立即生效」</font>不用重启。可以在入站规则看到。关闭端口后，利用445端口的攻击就无法生效了。</p> 
<p><img src="https://images2.imgbox.com/71/b6/TGKlXjQ6_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="3_57"></a>3、账户安全</h2> 
<p><code>win + r</code>，输入 <code>compmgmt.msc</code> 打开计算机管理。</p> 
<p>【系统工具】-【本地用户和组】-【用户】中<font color="brown">「修改管理员账号默认名称」</font>。右键Administrator 重命名。</p> 
<p><img src="https://images2.imgbox.com/9d/ab/0OKhPp7s_o.png" alt="在这里插入图片描述"></p> 
<p><font color="purple">「禁用来宾账户」</font>，右键Guest 属性，勾选禁用。</p> 
<p><img src="https://images2.imgbox.com/84/e9/S2p4vZfa_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="4_69"></a>4、密码策略</h2> 
<p>Windows默认不启用密码策略，需要手动开启，防止弱口令。</p> 
<p><code>win + r</code>，输入<code>secpol.msc</code> 打开本地安全策略，按照要求配置密码策略。右键属性可以改。</p> 
<p><img src="https://images2.imgbox.com/3a/13/A3rbTbHc_o.png" alt="在这里插入图片描述"></p> 
<p>密码复杂性要求：必须开启</p> 
<ul><li>不能包含用户的帐户名，不能包含用户姓名中超过两个连续字符的部分。</li><li>长度至少六个字符。</li><li>包含大小写字母、数字、特殊字符中的三种。</li></ul> 
<p>密码长度最小值：不能少于8个字符<br> 密码最短使用期限：不能小于2天<br> 密码最长使用期限：不能超过90天<br> 强制密码历史：不能重复使用前5个密码<br> 用可还原的加密来存储密码：禁用</p> 
<h2><a id="5_89"></a>5、账号锁定策略</h2> 
<p>Windows默认不启用账号锁定策略，需要手动开启，防止暴力破解。</p> 
<p><code>win + r</code>，输入<code>secpol.msc</code> 打开本地安全策略，按照要求配置账号锁定策略。右键属性可以改。</p> 
<p><img src="https://images2.imgbox.com/30/da/mQSpHD1x_o.png" alt="在这里插入图片描述"></p> 
<p>账号锁定阈值：登录失败不超过6次锁定<br> 账号锁定时间：最低锁定30分钟<br> 重置账号锁定计数器：30分钟后解除锁定，小于等于账号锁定时间</p> 
<h2><a id="6_101"></a>6、本地安全策略</h2> 
<p><code>win + r</code>，输入<code>secpol.msc</code> 打开本地安全策略。</p> 
<p>找到【安全设置】-【本地策略】-【用户权限分配】</p> 
<ul><li>从网络访问此计算机，只给指定的授权用户。</li><li>关闭系统和从远程系统强制关机，只给administrators组权限，其他用户全部删除。</li><li>取得文件或其他对象的所有权，只给administrators组权限。</li><li>允许本地登录，只给指定的授权用户。</li></ul> 
<p><img src="https://images2.imgbox.com/3b/8e/XeHzaXcN_o.png" alt="在这里插入图片描述"></p> 
<p>找到【安全设置】-【本地策略】-【安全选项】</p> 
<ul><li>Microsoft 网络服务器：暂停会话前所需的空闲时间数量。设置远程登录超时时间不超过15分钟。</li><li>Microsoft网络服务器：登录时间过期后断开与客户端的连接。启用，远程登录超时后自动断开。</li><li>关机：清除虚拟内存页面文件。启用，关机前清除缓存数据。</li><li>网络安全：在超过登录事件后强制注销。启用，自动注销本地登录的用户。</li><li>交互式登录：提示用户在过期之前更改密码。密码过期提醒设置14天。</li><li>交互式登录：不显示最后的用户名。启用，不显示上次登录的用户名。</li><li>域成员：禁用计算机账号密码更改。启用，禁止域成员更改账号密码。</li><li>网络访问：不允许SAM账户和共享的匿名枚举。启用，禁止匿名用户远程枚举。</li></ul> 
<p><img src="https://images2.imgbox.com/48/9e/Y0E8VaEU_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="7_128"></a>7、安全审计</h2> 
<p>开启时间服务，<code>win + r</code>，输入<code>services.msc</code> 打开服务，Windows Time服务设置为自启动。（如果有）并配置企业内部的时间服务器。</p> 
<p><img src="https://images2.imgbox.com/56/c4/W5LSO6vI_o.png" alt="在这里插入图片描述"></p> 
<p>开启日志功能，<code>win + r</code>，输入<code>secpol.msc</code> 打开本地安全策略，审核策略全部开启（右键属性修改）。</p> 
<p><img src="https://images2.imgbox.com/65/96/z6MbztcE_o.png" alt="在这里插入图片描述"><br> 调整日志大小，<code>win + r</code>，输入<code>eventvwr</code> 打开事件查看器，将Windows日志中，应用程序、安全、Setup、系统这四项的日志大小调整到100MB以上。右侧属性 - 常规 - 日志最大大小。</p> 
<p><img src="https://images2.imgbox.com/f2/80/twp7x0CP_o.png" alt="在这里插入图片描述"></p> 
<p>企业内部部署日志服务器，实现日志的统一存储和搜索，最低保存6个月。</p> 
<h2><a id="8_144"></a>8、文件共享</h2> 
<p><code>net share</code> 查看文件共享是否开启。</p> 
<p><img src="https://images2.imgbox.com/75/5c/Sgz8P79o_o.png" alt="在这里插入图片描述"></p> 
<p><code>win + r</code>，输入 <code>services.msc</code>，打开服务，共享服务对应的服务名是 Server，右键属性，启动类型选择禁用。</p> 
<p><img src="https://images2.imgbox.com/f2/ae/UOUJIKkT_o.png" alt="在这里插入图片描述"></p> 
<p>如果必须开启文件共享，则需要限制共享文件夹的访问权限。</p> 
<p><code>win + r</code> 输入 <code>compmgmt.msc</code>，打开计算机管理，找到系统工具 - 共享文件夹 - 共享 - 更多操作 - 属性 - 共享权限，不给everyone，只给指定的授权用户。</p> 
<p><img src="https://images2.imgbox.com/d7/a0/Q1Ueemsm_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="9_160"></a>9、关闭自动播放</h2> 
<p>Windows默认开启自动播放功能，这可能会成为U盘病毒的传播途径。</p> 
<p><code>win + r</code>，输入 <code>gpedit.msc</code>，打开本地组策略编辑器，在计算机配置 - 管理模板 - Windows 组件 找到 自动播放策略，右键编辑，勾选已启用。</p> 
<p><img src="https://images2.imgbox.com/21/69/Ol2NRh1z_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="10_168"></a>10、第三方安全软件</h2> 
<p>防病毒软件：部署在终端上，从控制台实现统一查杀病毒。</p> 
<p>主机入侵检测：装在主机上的入侵检测软件</p> 
<ul><li>HIDS（Host-based Intrusion Detection System）基于主机的入侵检测系统，目前很少用了。</li><li>EDR（Endpoint Detection and Response）端点检测与响应。记录终端与网络事件，通过云端威胁情报、机器学习、异常行为分析和已知的攻击，主动发现来自外部和内部的安全威胁，并进行自动化的阻止、取证、补救和溯源，从而有效对端点进行防护。</li><li>NDR（Network Detection and Response）网络检测与响应，EDR的升级版。EDR偏终端，NDR偏网络。实时监测网络流量和安全事件，发现潜在威胁。</li><li>XDR（Extended Detection and Response）NDR的升级版，可扩展威胁检测与响应。X代表一切，终端、网络、云端的日志都收集和检测，发现潜在的威胁。</li></ul>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/9807e43ed2c7e536d4cebda0ff22a631/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">AI学习指南机器学习篇-决策树在python中的实现</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/80bfad62fbd4a0c3b5994c3bda1468c4/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Java 类与对象 -- Java 语言的类与对象、构造器、static、final、包和 JAR</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>