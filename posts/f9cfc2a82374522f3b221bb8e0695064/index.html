<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Oracle-并集、交集、差集（union、union all、intersect、minus）的使用方法 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/f9cfc2a82374522f3b221bb8e0695064/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="Oracle-并集、交集、差集（union、union all、intersect、minus）的使用方法">
  <meta property="og:description" content="文章目录 并集-union、union all举例-union举例-union all 交集-INTERSECT举例-intersect 差集-miuns举例-minus 并集-union、union all unoin 和 union all 主要作用是将两个或两个以上select语句的结果集进行并集操作。主要区别是，union 会对最后的结果集去重，union all 则会保留所有结果集（包含重复值）。
--union语法使用 select column1,column2,column1…… from table1 union select column1,column2,column1…… from table2; --union all语法使用 select column1,column2,column1…… from table1 union all select column1,column2,column1…… from table2; 在使用过程中有几点需要注意：
UNION必须由两条或两条以上的SELECT语句组成，语句之间用关键字UNION分隔。UNION中的每个查询必须包含相同的列、表达式或聚集函数（不过，各个列不需要以相同的次序列出）。列数据类型必须兼容：类型不必完全相同，但必须是DBMS可以隐含转换的类型（例如，不同的数值类型或不同的日期类型）。如果结合UNION使用的SELECT语句遇到不同的列名,它会返回第一个列的名字。UNION会取消重复的行，UNION ALL则不去重，列出所有行。在用UNION组合查询时，只能使用一条ORDER BY子句，它必须位于最后一条SELECT语句之后，DBMS将用它来排序所有SELECT语句返回的所有结果。 举例-union 这里举个简单的例子，如下图所示，将三个select语句的结果集进行union操作，重复的内容包含’a’、‘b’，最后结果会去重。
举例-union all 还是刚才的例子，前面两个select语句进行union操作，再和第三个select语句进行union all 操作。最后结果集会包含三个select语句的所有结果。
交集-INTERSECT intersect 和前面的 union、union all 恰好相反，intersect 是取多个结果集中的交叉集，即多个结果集里都存在的数据。
select column1,column2,column1…… from table1 intersect select column1,column2,column1…… from table2; 举例-intersect 现在有两个表 test_tab1 和 test_tab2 ,各自的结果集如下图所示。">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-01-11T17:55:39+08:00">
    <meta property="article:modified_time" content="2024-01-11T17:55:39+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Oracle-并集、交集、差集（union、union all、intersect、minus）的使用方法</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#unionunion_all_1" rel="nofollow">并集-union、union all</a></li><li><ul><li><a href="#union_23" rel="nofollow">举例-union</a></li><li><a href="#union_all_26" rel="nofollow">举例-union all</a></li></ul> 
  </li><li><a href="#INTERSECT_29" rel="nofollow">交集-INTERSECT</a></li><li><ul><li><a href="#intersect_37" rel="nofollow">举例-intersect</a></li></ul> 
  </li><li><a href="#miuns_44" rel="nofollow">差集-miuns</a></li><li><ul><li><a href="#minus_52" rel="nofollow">举例-minus</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="unionunion_all_1"></a>并集-union、union all</h2> 
<p><code>unoin</code> 和 <code>union all</code> 主要作用是将两个或两个以上select语句的结果集进行并集操作。主要区别是，<code>union</code> 会对最后的结果集去重，<code>union all</code> 则会保留所有结果集（包含重复值）。</p> 
<pre><code class="prism language-sql"><span class="token comment">--union语法使用</span>
<span class="token keyword">select</span> column1<span class="token punctuation">,</span>column2<span class="token punctuation">,</span>column1……  <span class="token keyword">from</span> table1
<span class="token keyword">union</span> 
<span class="token keyword">select</span> column1<span class="token punctuation">,</span>column2<span class="token punctuation">,</span>column1……  <span class="token keyword">from</span> table2<span class="token punctuation">;</span>

<span class="token comment">--union all语法使用</span>
<span class="token keyword">select</span> column1<span class="token punctuation">,</span>column2<span class="token punctuation">,</span>column1……  <span class="token keyword">from</span> table1
<span class="token keyword">union</span> <span class="token keyword">all</span>
<span class="token keyword">select</span> column1<span class="token punctuation">,</span>column2<span class="token punctuation">,</span>column1……  <span class="token keyword">from</span> table2<span class="token punctuation">;</span>
</code></pre> 
<p>在使用过程中有几点需要注意：</p> 
<ul><li>UNION必须由<strong>两条或两条以上的SELECT语句组成</strong>，语句之间用关键字UNION分隔。</li><li>UNION中的每个查询必须<strong>包含相同的列</strong>、表达式或聚集函数（不过，各个列不需要以相同的次序列出）。</li><li>列数据类型必须兼容：类型不必完全相同，但必须是DBMS可以隐含转换的类型（例如，不同的数值类型或不同的日期类型）。</li><li>如果结合UNION使用的SELECT语句遇到不同的列名,它会返回第一个列的名字。</li><li>UNION会取消重复的行，UNION ALL则不去重，列出所有行。</li><li>在用UNION组合查询时，<strong>只能使用一条ORDER BY子句，它必须位于最后一条SELECT语句之后</strong>，DBMS将用它来<strong>排序所有SELECT语句返回的所有结果</strong>。</li></ul> 
<h3><a id="union_23"></a>举例-union</h3> 
<p>这里举个简单的例子，如下图所示，将三个select语句的结果集进行union操作，重复的内容包含’a’、‘b’，最后结果会去重。<br> <img src="https://images2.imgbox.com/d8/44/oKsAn5KT_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="union_all_26"></a>举例-union all</h3> 
<p>还是刚才的例子，前面两个select语句进行union操作，再和第三个select语句进行union all 操作。最后结果集会包含三个select语句的所有结果。<br> <img src="https://images2.imgbox.com/49/77/zYRTDTYH_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="INTERSECT_29"></a>交集-INTERSECT</h2> 
<p><code>intersect</code> 和前面的 <code>union</code>、<code>union all</code> 恰好相反，intersect 是取多个结果集中的交叉集，即多个结果集里都存在的数据。</p> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> column1<span class="token punctuation">,</span>column2<span class="token punctuation">,</span>column1……  <span class="token keyword">from</span> table1
<span class="token keyword">intersect</span>
<span class="token keyword">select</span> column1<span class="token punctuation">,</span>column2<span class="token punctuation">,</span>column1……  <span class="token keyword">from</span> table2<span class="token punctuation">;</span>
</code></pre> 
<h3><a id="intersect_37"></a>举例-intersect</h3> 
<p>现在有两个表 <code>test_tab1</code> 和 <code>test_tab2</code> ,各自的结果集如下图所示。</p> 
<p><img src="https://images2.imgbox.com/37/53/dNClbXyo_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/fb/f7/7w4kb6kr_o.png" alt="在这里插入图片描述"><br> 现在对两个表进行 <code>intersect</code> 操作，结果如下。将两个表同时存在的一条数据显示出来。<br> <img src="https://images2.imgbox.com/1e/db/BS8PUkUB_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="miuns_44"></a>差集-miuns</h2> 
<p><code>minus</code> 的作用主要是得出两个或两个以上select语句的差集。即在 minus 前面的表存在，而在 minus 后面的表不存在的结果集。</p> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> column1<span class="token punctuation">,</span>column2<span class="token punctuation">,</span>column1……  <span class="token keyword">from</span> table1
<span class="token keyword">intersect</span>
<span class="token keyword">select</span> column1<span class="token punctuation">,</span>column2<span class="token punctuation">,</span>column1……  <span class="token keyword">from</span> table2<span class="token punctuation">;</span>
</code></pre> 
<h3><a id="minus_52"></a>举例-minus</h3> 
<p>我们还拿刚才的两个表 <code>test_tab1</code> 和 <code>test_tab2</code> 举例，两个表的结果集如下。</p> 
<p><img src="https://images2.imgbox.com/1b/0b/kcXqAMtH_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/16/ef/GC9UV2s6_o.png" alt="在这里插入图片描述"><br> 现在对两个表做 <code>minus</code> 操作,结果如下。Bob和Cendy两行数据只存在于 test_tab1 中，在 test_tab2 中不存在，故最后的结果集是这两行数据。<br> <img src="https://images2.imgbox.com/e2/79/P1ttZWB4_o.png" alt="在这里插入图片描述"><br> 那我们颠倒一下上面例子中两个表的顺序，看看结果有没有变化。<br> <img src="https://images2.imgbox.com/00/aa/Tu89wQcC_o.png" alt="在这里插入图片描述"><br> 结果显而易见，所以 minus 操作遵循的原则是： <strong>前面的表存在，后面的表不存在的数据。</strong></p> 
<p>以上就是Oracle中关于并集、交集、差集的介绍。</p> 
<hr> 
<p><em>感谢大家阅读查看，如有补充和建议，欢迎留言~期待关注、点赞、收藏😘</em></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/09d79854f25f0fa64346e62c33112d3d/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">手把手教你调用文心一言API，含py调用示例代码</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/2cfef79e0974862184180205525b3eb2/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">JDBC如何连接SQL Server数据库实现增删改查</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>