<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>前端如何让网页页面完美适配不同大小和分辨率屏幕 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/866432a4402d9a270099fb4b9549f9a0/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="前端如何让网页页面完美适配不同大小和分辨率屏幕">
  <meta property="og:description" content="推荐使用postcss插件，它会自动将项目所有的px单位统一转换为vw等单位（包括npm安装的第三方组件），从而实现适配，具体配置规则可参考官网或npm网站介绍。
另外对于大屏的适配，需要缩放网页，可使用autojs，参考https://blog.csdn.net/m0_71231013/article/details/131650562 。但它只能放大或缩小页面（适合做大屏项目使用），不能让页面字体、div宽高等自动依据屏幕分辨率适配。
我的vue3项目使用postcss，首先在devDependencies安装了以下包：
&#34;postcss&#34;: &#34;^8.4.38&#34;, &#34;postcss-import&#34;: &#34;^16.1.0&#34;, &#34;postcss-loader&#34;: &#34;^8.1.1&#34;, &#34;postcss-px-to-viewport&#34;: &#34;^1.1.1&#34;, &#34;postcss-px-to-viewport-opt&#34;: &#34;^0.0.4&#34;, 随后，参考官网和一些参考资料，在项目根目录（和package.json平级）新建配置文件postcss.config.js，内容如下：
export default { plugins: { &#39;autoprefixer&#39;: { path: [&#39;./src/*&#39;] }, &#39;postcss-import&#39;: {}, &#39;postcss-px-to-viewport-opt&#39;: { &#39;viewportWidth&#39;: &#39;1707&#39;, // 我的视窗宽度 &#39;viewportHeight&#39;: &#39;791&#39;, // 我的视窗高度 &#39;unitPrecision&#39;: 5, // 指定`px`转换为视窗单位值的小数位数(很多时候无法整除) &#39;viewportUnit&#39;: &#39;vw&#39;, // 指定需要转换成的视窗单位，建议使用vw &#39;selectorBlackList&#39;: [&#39;#nprogress&#39;], // 指定不转换为视窗单位的类 &#39;minPixelValue&#39;: 3, // 小于或等于`1px`不转换为视窗单位 &#39;mediaQuery&#39;: false, // 允许在媒体查询中转换`px` // &#39;exclude&#39;: /(\/|\\)(node_modules)(\/|\\)/, // 可以自定义规则哪些文件不要转换，例如这句让包里的不会转换，但通常无需配置 } } } 最后，如果使用了element-plus的el-message组件，它不能被postcss自动转换，需要自己在项目根目录的index.html的head配置：
&lt;head&gt; &lt;meta charset=&#34;UTF-8&#34; /&gt; &lt;!">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-07-09T18:03:15+08:00">
    <meta property="article:modified_time" content="2024-07-09T18:03:15+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">前端如何让网页页面完美适配不同大小和分辨率屏幕</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>推荐使用postcss插件，它会自动将项目所有的px单位统一转换为vw等单位（包括npm安装的第三方组件），从而实现适配，具体配置规则可参考官网或npm网站介绍。</p> 
<p>另外对于大屏的适配，需要缩放网页，可使用autojs，参考https://blog.csdn.net/m0_71231013/article/details/131650562 。但它只能放大或缩小页面（适合做大屏项目使用），不能让页面字体、div宽高等自动依据屏幕分辨率适配。</p> 
<p>我的vue3项目使用postcss，首先在devDependencies安装了以下包：</p> 
<pre><code class="prism language-javascript"><span class="token string-property property">"postcss"</span><span class="token operator">:</span> <span class="token string">"^8.4.38"</span><span class="token punctuation">,</span>
<span class="token string-property property">"postcss-import"</span><span class="token operator">:</span> <span class="token string">"^16.1.0"</span><span class="token punctuation">,</span>
<span class="token string-property property">"postcss-loader"</span><span class="token operator">:</span> <span class="token string">"^8.1.1"</span><span class="token punctuation">,</span>
<span class="token string-property property">"postcss-px-to-viewport"</span><span class="token operator">:</span> <span class="token string">"^1.1.1"</span><span class="token punctuation">,</span>
<span class="token string-property property">"postcss-px-to-viewport-opt"</span><span class="token operator">:</span> <span class="token string">"^0.0.4"</span><span class="token punctuation">,</span>
</code></pre> 
<p>随后，参考官网和一些参考资料，在项目根目录（和package.json平级）新建配置文件postcss.config.js，内容如下：</p> 
<pre><code class="prism language-javascript"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string-property property">'autoprefixer'</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'./src/*'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-property property">'postcss-import'</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-property property">'postcss-px-to-viewport-opt'</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      <span class="token string-property property">'viewportWidth'</span><span class="token operator">:</span> <span class="token string">'1707'</span><span class="token punctuation">,</span> <span class="token comment">// 我的视窗宽度</span>
      <span class="token string-property property">'viewportHeight'</span><span class="token operator">:</span> <span class="token string">'791'</span><span class="token punctuation">,</span> <span class="token comment">// 我的视窗高度</span>
      <span class="token string-property property">'unitPrecision'</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token comment">// 指定`px`转换为视窗单位值的小数位数(很多时候无法整除)</span>
      <span class="token string-property property">'viewportUnit'</span><span class="token operator">:</span> <span class="token string">'vw'</span><span class="token punctuation">,</span> <span class="token comment">// 指定需要转换成的视窗单位，建议使用vw</span>
      <span class="token string-property property">'selectorBlackList'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'#nprogress'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 指定不转换为视窗单位的类</span>
      <span class="token string-property property">'minPixelValue'</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token comment">// 小于或等于`1px`不转换为视窗单位</span>
      <span class="token string-property property">'mediaQuery'</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 允许在媒体查询中转换`px`</span>
      <span class="token comment">// 'exclude': /(\/|\\)(node_modules)(\/|\\)/, // 可以自定义规则哪些文件不要转换，例如这句让包里的不会转换，但通常无需配置</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>最后，如果使用了element-plus的el-message组件，它不能被postcss自动转换，需要自己在项目根目录的index.html的head配置：</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token comment">&lt;!-- &lt;link rel="icon" type="image/svg+xml" href="/vite.svg" /&gt; --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>icon<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>image<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/AI.png<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>标题<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">.el-message</span> <span class="token punctuation">{<!-- --></span>
      <span class="token property">font-size</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>这样就配置完成了！无论是在浏览器随意缩放，或者换不同的浏览器查看，网页都能完美适配！</p> 
<p>我总结出写项目应遵循以下适配规则：</p> 
<ol><li> <p>在App.vue页面设置全局的字体颜色、字体大小作为项目默认，避免意外情况，让页面宽100vw，高100vh</p> </li><li> <p>font-size等单位不要用large、medium等没有明确单位的写法！！！全部禁用px单位，特别是1px、2px这种无法被postcss转换的微小长度！统一用vw、vh或者百分比；</p> </li><li> <p>记得电脑系统、浏览器调成深色模式，观察网站是否会有文字变白等异常现象并修复；</p> </li><li> <p>可以将网页用浏览器的手机显示模式，调整网页大小，例如1920×1080，观察不同大小模式网页是否适配；将网页进行缩放，观察不同缩放倍率下，是否出现不适配问题。</p> </li><li> <p>完成适配具体做法：安装postcss，项目根目录新建配置文件postcss.config.js，记得别用exclude排除node_modules，否则postcss无法将包里的px样式也一起转为vw；对于el-message组件，单独在项目的index.html文件的style里，设置 .el-message { font-size: 16px;}，即可保证el-message组件显示正常。</p> </li></ol>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/45f40b1fccaae1a09d398a36c175cf19/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">配置管理新纪元：Eureka引领分布式服务配置潮流</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c281ab1200788c65b2952c9b2b3207f9/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Android Studio Download Gradle 时慢问题解决</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>