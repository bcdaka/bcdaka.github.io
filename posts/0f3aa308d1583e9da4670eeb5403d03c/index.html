<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【Godot4.2】MLTag类：HTML、XML通用标签类 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/0f3aa308d1583e9da4670eeb5403d03c/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="【Godot4.2】MLTag类：HTML、XML通用标签类">
  <meta property="og:description" content="概述 HTML和XML采用类似的标签形式。
之前在Godot中以函数库形式实现了网页标签和内容生成。能用，但是缺点也很明显。函数之间没有从属关系，但是多有依赖，而且没有划分出各种对象和类型。
如果以完全的面向对象形式来设计标签类或者元素类，将可以更贴近HTML或XML的本来面目。也更容易生成。
整体思路是设计如下的类继承结构：
实现之后，将可以充分的定义和生成HTML、XML和SVG标签，并用于内容生成或文档解析。
通用标签类 因为HTML和XML标签的语法格式和要素是类似的，因此可以通过创建一个通用的标签类，来生成HTML或XML标签。
MLtag就是这个通用的标签类，它定义了几个核心的属性：
tag_name ：标签名称attrs：包含标签所有属性的字典is_single:是否为单标签，默认为falsecontent ：标签的子内容,可以直接赋值，也可以使用append()方法追加。单标签（is_single为true）时被忽略get_end_tag()：获取结束标签，单标签时返回空字符串append()：追加当前标签的子内容，可以是字符串形式，也可以是SVG标签实例（会自动调用to_string()方法转化为字符串） # ============================================= # 名称：MLtag # 类型：类 # 描述：HTML、XML通用标签类，用于定义和生成HTML、XML标签字符串 # 作者：巽星石 # 创建时间：2024年7月16日17:48:01 # 最后修改时间：2024年7月16日22:27:53 # ============================================= class_name MLTag # ====================== 属性 ====================== var tag_name = &#34;&#34; # 标签名称 var attrs:Dictionary = {} # 属性字典 var is_single = false # 是否单标签 var content = &#34;&#34; # 子内容 # ====================== 方法 ====================== # 获取结束标签 func get_end_tag() -&gt; String: return &#34;">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-07-16T23:56:30+08:00">
    <meta property="article:modified_time" content="2024-07-16T23:56:30+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【Godot4.2】MLTag类：HTML、XML通用标签类</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="_0"></a>概述</h3> 
<p>HTML和XML采用类似的标签形式。</p> 
<p>之前在Godot中以函数库形式实现了网页标签和内容生成。能用，但是缺点也很明显。函数之间没有从属关系，但是多有依赖，而且没有划分出各种对象和类型。</p> 
<p>如果以完全的面向对象形式来设计标签类或者元素类，将可以更贴近HTML或XML的本来面目。也更容易生成。</p> 
<p>整体思路是设计如下的类继承结构：<br> <img src="https://images2.imgbox.com/96/ca/IaWFQQCl_o.png" alt="在这里插入图片描述"></p> 
<p>实现之后，将可以充分的定义和生成HTML、XML和SVG标签，并用于内容生成或文档解析。</p> 
<h3><a id="_11"></a>通用标签类</h3> 
<p>因为HTML和XML标签的语法格式和要素是类似的，因此可以通过创建一个通用的标签类，来生成HTML或XML标签。</p> 
<p><code>MLtag</code>就是这个通用的标签类，它定义了几个核心的属性：</p> 
<ul><li><code>tag_name</code> ：标签名称</li><li><code>attrs</code>：包含标签所有属性的字典</li><li><code>is_single</code>:是否为单标签，默认为<code>false</code></li><li><code>content</code> ：标签的子内容,可以直接赋值，也可以使用<code>append()</code>方法追加。单标签（<code>is_single</code>为<code>true</code>）时被忽略</li><li><code>get_end_tag()</code>：获取结束标签，单标签时返回空字符串</li><li><code>append()</code>：追加当前标签的子内容，可以是字符串形式，也可以是SVG标签实例（会自动调用<code>to_string()</code>方法转化为字符串）</li></ul> 
<pre><code class="prism language-swift"># <span class="token operator">=============================================</span>
# 名称：<span class="token class-name">MLtag</span>
# 类型：类
# 描述：<span class="token constant">HTML</span>、<span class="token constant">XML</span>通用标签类，用于定义和生成<span class="token constant">HTML</span>、<span class="token constant">XML</span>标签字符串
# 作者：巽星石
# 创建时间：<span class="token number">2024</span>年<span class="token number">7</span>月<span class="token number">16</span>日<span class="token number">17</span><span class="token punctuation">:</span><span class="token number">48</span><span class="token punctuation">:</span><span class="token number">01</span>
# 最后修改时间：<span class="token number">2024</span>年<span class="token number">7</span>月<span class="token number">16</span>日<span class="token number">22</span><span class="token punctuation">:</span><span class="token number">27</span><span class="token punctuation">:</span><span class="token number">53</span>
# <span class="token operator">=============================================</span>
class_name <span class="token class-name">MLTag</span>

# <span class="token operator">======================</span> 属性 <span class="token operator">======================</span>
<span class="token keyword">var</span> tag_name <span class="token operator">=</span> <span class="token string-literal"><span class="token string">""</span></span>          # 标签名称
<span class="token keyword">var</span> attrs<span class="token punctuation">:</span><span class="token class-name">Dictionary</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>  # 属性字典
<span class="token keyword">var</span> is_single <span class="token operator">=</span> <span class="token boolean">false</span>      # 是否单标签
<span class="token keyword">var</span> content <span class="token operator">=</span> <span class="token string-literal"><span class="token string">""</span></span>           # 子内容  

# <span class="token operator">======================</span> 方法 <span class="token operator">======================</span>
# 获取结束标签
<span class="token keyword">func</span> <span class="token function-definition function">get_end_tag</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">String</span><span class="token punctuation">:</span>
	<span class="token keyword">return</span> <span class="token string-literal"><span class="token string">""</span></span> <span class="token keyword">if</span> is_single <span class="token keyword">else</span> <span class="token string-literal"><span class="token string">"&lt;/%s&gt;"</span></span> <span class="token operator">%</span> tag_name

# 追加子内容
<span class="token keyword">func</span> <span class="token function-definition function">append</span><span class="token punctuation">(</span>new_content<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> void<span class="token punctuation">:</span>
	<span class="token keyword">if</span> new_content <span class="token keyword">is</span> <span class="token class-name">String</span><span class="token punctuation">:</span>
		content <span class="token operator">+=</span> <span class="token string-literal"><span class="token string">"\n"</span></span> <span class="token operator">+</span> new_content
	<span class="token keyword">else</span><span class="token punctuation">:</span>
		content <span class="token operator">+=</span> <span class="token string-literal"><span class="token string">"\n"</span></span> <span class="token operator">+</span> new_content<span class="token punctuation">.</span><span class="token function">to_string</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

# <span class="token operator">======================</span> 虚函数 <span class="token operator">======================</span>
# 转化为字符串
<span class="token keyword">func</span> <span class="token function-definition function">_to_string</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">String</span><span class="token punctuation">:</span>
	<span class="token keyword">var</span> tag_str<span class="token punctuation">:</span><span class="token class-name">String</span>
	
	# 获取属性字典的字符串
	<span class="token keyword">var</span> attr <span class="token operator">=</span> <span class="token string-literal"><span class="token string">""</span></span>
	<span class="token keyword">for</span> key <span class="token keyword">in</span> attrs<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
		<span class="token keyword">if</span> attrs<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token string-literal"><span class="token string">""</span></span><span class="token punctuation">:</span>
			attr <span class="token operator">+=</span> <span class="token string-literal"><span class="token string">"%s=\"%s\" "</span></span> <span class="token operator">%</span> <span class="token punctuation">[</span>key<span class="token punctuation">,</span>attrs<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">]</span>
	tag_str <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"&lt;%s%s/&gt;"</span></span> <span class="token operator">%</span> <span class="token punctuation">[</span>tag_name<span class="token punctuation">,</span><span class="token string-literal"><span class="token string">" "</span></span> <span class="token operator">+</span> attr<span class="token punctuation">]</span> <span class="token keyword">if</span> is_single <span class="token keyword">else</span> <span class="token string-literal"><span class="token string">"&lt;%s%s&gt;%s&lt;/%s&gt;"</span></span> <span class="token operator">%</span> <span class="token punctuation">[</span>tag_name<span class="token punctuation">,</span><span class="token string-literal"><span class="token string">" "</span></span> <span class="token operator">+</span> attr<span class="token punctuation">,</span>content<span class="token punctuation">,</span>tag_name<span class="token punctuation">]</span>
	<span class="token keyword">return</span> tag_str
</code></pre> 
<p>测试：</p> 
<pre><code class="prism language-swift"><span class="token attribute atrule">@tool</span>
extends <span class="token class-name">EditorScript</span>

<span class="token keyword">func</span> <span class="token function-definition function">_run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> void<span class="token punctuation">:</span>
	<span class="token keyword">var</span> tag <span class="token operator">=</span> <span class="token class-name">MLTag</span><span class="token punctuation">.</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    # 创建一个标签
	tag<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"a"</span></span>           # 名称
	tag<span class="token punctuation">.</span>attrs<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"id"</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"a1"</span></span>   # 设定属性
	tag<span class="token punctuation">.</span>attrs<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"href"</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"https://www.runoob.com/"</span></span>
	tag<span class="token punctuation">.</span>content <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"菜鸟教程"</span></span>
	
	<span class="token function">print</span><span class="token punctuation">(</span>tag<span class="token punctuation">)</span>
</code></pre> 
<p>默认是双标签，也就是带有起始标签和结束标签的标签对。</p> 
<pre><code class="prism language-swift"><span class="token operator">&lt;</span>a id<span class="token operator">=</span><span class="token string-literal"><span class="token string">"a1"</span></span> href<span class="token operator">=</span><span class="token string-literal"><span class="token string">"https://www.runoob.com/"</span></span> <span class="token operator">&gt;</span>菜鸟教程<span class="token operator">&lt;/</span>a<span class="token operator">&gt;</span>
</code></pre> 
<p><code>is_single</code>设为<code>true</code>后，就被认为是单标签：</p> 
<pre><code class="prism language-swift"><span class="token attribute atrule">@tool</span>
extends <span class="token class-name">EditorScript</span>

<span class="token keyword">func</span> <span class="token function-definition function">_run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> void<span class="token punctuation">:</span>
	<span class="token keyword">var</span> tag <span class="token operator">=</span> <span class="token class-name">MLTag</span><span class="token punctuation">.</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    # 创建一个标签
	tag<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"a"</span></span>           # 名称
	tag<span class="token punctuation">.</span>attrs<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"id"</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"a1"</span></span>   # 设定属性
	tag<span class="token punctuation">.</span>attrs<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"href"</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"1.com"</span></span>
	tag<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"hahah"</span></span>
	tag<span class="token punctuation">.</span>is_single <span class="token operator">=</span> <span class="token boolean">true</span>     # 设为标签
	
	<span class="token function">print</span><span class="token punctuation">(</span>tag<span class="token punctuation">)</span>
</code></pre> 
<p>打印输出的结果也就变了：</p> 
<pre><code class="prism language-swift"><span class="token operator">&lt;</span>a id<span class="token operator">=</span><span class="token string-literal"><span class="token string">"a1"</span></span> href<span class="token operator">=</span><span class="token string-literal"><span class="token string">"https://www.runoob.com/"</span></span> <span class="token operator">/&gt;</span>
</code></pre> 
<p>可以看到没有了结束标签，子内容部分也自动省略。</p> 
<h3><a id="HTML_101"></a>HTML标签基类</h3> 
<pre><code class="prism language-swift"># <span class="token operator">=============================================</span>
# 名称：<span class="token class-name">HTMLtag</span>
# 类型：类
# 描述：<span class="token constant">HTML</span>标签基类
# 作者：巽星石
# 创建时间：<span class="token number">2024</span>年<span class="token number">7</span>月<span class="token number">16</span>日<span class="token number">19</span><span class="token punctuation">:</span><span class="token number">05</span><span class="token punctuation">:</span><span class="token number">46</span>
# 最后修改时间：<span class="token number">2024</span>年<span class="token number">7</span>月<span class="token number">16</span>日<span class="token number">19</span><span class="token punctuation">:</span><span class="token number">29</span><span class="token punctuation">:</span><span class="token number">34</span>
# <span class="token operator">=============================================</span>
class_name <span class="token class-name">HTMLTag</span> extends <span class="token class-name">MLTag</span>

# <span class="token operator">======================</span> 属性 <span class="token operator">======================</span>
# <span class="token constant">ID</span>
<span class="token keyword">var</span> id<span class="token punctuation">:</span><span class="token class-name">String</span><span class="token punctuation">:</span>
	<span class="token keyword">set</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">:</span>
		attrs<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"id"</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> val
	<span class="token keyword">get</span><span class="token punctuation">:</span>
		<span class="token keyword">return</span> attrs<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"id"</span></span><span class="token punctuation">]</span>
# name
<span class="token keyword">var</span> name<span class="token punctuation">:</span><span class="token class-name">String</span><span class="token punctuation">:</span>
	<span class="token keyword">set</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">:</span>
		attrs<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"name"</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> val
	<span class="token keyword">get</span><span class="token punctuation">:</span>
		<span class="token keyword">return</span> attrs<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"name"</span></span><span class="token punctuation">]</span>
# css类名
<span class="token keyword">var</span> className<span class="token punctuation">:</span><span class="token class-name">String</span><span class="token punctuation">:</span>
	<span class="token keyword">set</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">:</span>
		attrs<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"class"</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> val
	<span class="token keyword">get</span><span class="token punctuation">:</span>
		<span class="token keyword">return</span> attrs<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"class"</span></span><span class="token punctuation">]</span>
# 行内<span class="token constant">CSS</span>样式
<span class="token keyword">var</span> style<span class="token punctuation">:</span><span class="token class-name">String</span><span class="token punctuation">:</span>
	<span class="token keyword">set</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">:</span>
		attrs<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"style"</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> val
	<span class="token keyword">get</span><span class="token punctuation">:</span>
		<span class="token keyword">return</span> attrs<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"style"</span></span><span class="token punctuation">]</span>
# <span class="token operator">======================</span> 初始化 <span class="token operator">======================</span>
<span class="token keyword">func</span> <span class="token function-definition function">_init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> void<span class="token punctuation">:</span>
	# <span class="token constant">HTML</span>标签通用属性
	attrs <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
		<span class="token string-literal"><span class="token string">"id"</span></span> <span class="token operator">=</span> <span class="token string-literal"><span class="token string">""</span></span><span class="token punctuation">,</span>    # <span class="token constant">ID</span>
		<span class="token string-literal"><span class="token string">"name"</span></span> <span class="token operator">=</span> <span class="token string-literal"><span class="token string">""</span></span><span class="token punctuation">,</span>  # name属性
		<span class="token string-literal"><span class="token string">"class"</span></span> <span class="token operator">=</span> <span class="token string-literal"><span class="token string">""</span></span><span class="token punctuation">,</span> # css类名
		<span class="token string-literal"><span class="token string">"style"</span></span> <span class="token operator">=</span> <span class="token string-literal"><span class="token string">""</span></span><span class="token punctuation">,</span> # 行内样式
	<span class="token punctuation">}</span>
</code></pre> 
<p>测试代码：</p> 
<pre><code class="prism language-swift"><span class="token attribute atrule">@tool</span>
extends <span class="token class-name">EditorScript</span>

<span class="token keyword">func</span> <span class="token function-definition function">_run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> void<span class="token punctuation">:</span>
	<span class="token keyword">var</span> tag <span class="token operator">=</span> <span class="token class-name">HTMLTag</span><span class="token punctuation">.</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  # 创建一个标签
	tag<span class="token punctuation">.</span>tag_name <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"a"</span></span>           # 名称
	# 设定<span class="token constant">HTML</span>标签通用属性
	tag<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"a2"</span></span>
	tag<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"a2"</span></span>
	tag<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"url"</span></span>
	tag<span class="token punctuation">.</span>style <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"font-size:16px;"</span></span>
	tag<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"一个超链接"</span></span>
	
	<span class="token function">print</span><span class="token punctuation">(</span>tag<span class="token punctuation">)</span>
</code></pre> 
<p>输出：</p> 
<pre><code class="prism language-swift"><span class="token operator">&lt;</span>a id<span class="token operator">=</span><span class="token string-literal"><span class="token string">"a2"</span></span> name<span class="token operator">=</span><span class="token string-literal"><span class="token string">"a2"</span></span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string-literal"><span class="token string">"url"</span></span> style<span class="token operator">=</span><span class="token string-literal"><span class="token string">"font-size:16px;"</span></span> <span class="token operator">&gt;</span>一个超链接<span class="token operator">&lt;/</span>a<span class="token operator">&gt;</span>
</code></pre> 
<h4><a id="HTMLltagt_169"></a>HTML&lt;a&gt;标签</h4> 
<pre><code class="prism language-swift"># <span class="token operator">=============================================</span>
# 名称：<span class="token class-name">HTMLtagA</span>
# 类型：类
# 描述：<span class="token constant">HTML</span>的<span class="token operator">&lt;</span>a<span class="token operator">&gt;</span>标签类
# 作者：巽星石
# 创建时间：<span class="token number">2024</span>年<span class="token number">7</span>月<span class="token number">16</span>日<span class="token number">19</span><span class="token punctuation">:</span><span class="token number">32</span><span class="token punctuation">:</span><span class="token number">47</span>
# 最后修改时间：<span class="token number">2024</span>年<span class="token number">7</span>月<span class="token number">16</span>日<span class="token number">22</span><span class="token punctuation">:</span><span class="token number">30</span><span class="token punctuation">:</span><span class="token number">57</span>
# <span class="token operator">=============================================</span>
class_name <span class="token class-name">HTMLTagA</span> extends <span class="token class-name">HTMLTag</span>

# <span class="token operator">======================</span> 属性 <span class="token operator">======================</span>
# 链接地址
<span class="token keyword">var</span> href<span class="token punctuation">:</span><span class="token class-name">String</span><span class="token punctuation">:</span>
	<span class="token keyword">set</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">:</span>
		attrs<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"href"</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> val
	<span class="token keyword">get</span><span class="token punctuation">:</span>
		<span class="token keyword">return</span> attrs<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"href"</span></span><span class="token punctuation">]</span>
# 指定链接如何在浏览器中打开
<span class="token keyword">var</span> target<span class="token punctuation">:</span><span class="token class-name">String</span><span class="token punctuation">:</span>
	<span class="token keyword">set</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">:</span>
		attrs<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"target"</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> val
	<span class="token keyword">get</span><span class="token punctuation">:</span>
		<span class="token keyword">return</span> attrs<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"target"</span></span><span class="token punctuation">]</span>
# 鼠标提示文本
<span class="token keyword">var</span> title<span class="token punctuation">:</span><span class="token class-name">String</span><span class="token punctuation">:</span>
	<span class="token keyword">set</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">:</span>
		attrs<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"title"</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> val
	<span class="token keyword">get</span><span class="token punctuation">:</span>
		<span class="token keyword">return</span> attrs<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"title"</span></span><span class="token punctuation">]</span>
# 指定与链接目标的关系，如 nofollow、noopener 等
<span class="token keyword">var</span> rel<span class="token punctuation">:</span><span class="token class-name">String</span><span class="token punctuation">:</span>
	<span class="token keyword">set</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">:</span>
		attrs<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"rel"</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> val
	<span class="token keyword">get</span><span class="token punctuation">:</span>
		<span class="token keyword">return</span> attrs<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"rel"</span></span><span class="token punctuation">]</span>

# <span class="token operator">======================</span> 初始化 <span class="token operator">======================</span>
<span class="token keyword">func</span> <span class="token function-definition function">_init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> void<span class="token punctuation">:</span>
	<span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   # 初始化父类，否则无法继承相关的默认属性
	# 确定标签名称以及是否单标签
	tag_name <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"a"</span></span>
	is_single <span class="token operator">=</span> <span class="token boolean">false</span>
	# <span class="token operator">&lt;</span>a<span class="token operator">&gt;</span>标签可用属性
	attrs<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"href"</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string-literal"><span class="token string">""</span></span>     # 链接地址
	attrs<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"target"</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string-literal"><span class="token string">""</span></span>   # 指定链接如何在浏览器中打开
	attrs<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"title"</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string-literal"><span class="token string">""</span></span>    # 鼠标提示文本
	attrs<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"rel"</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string-literal"><span class="token string">""</span></span>      # 指定与链接目标的关系，如 nofollow、noopener 等

</code></pre> 
<p>测试代码：</p> 
<pre><code class="prism language-swift"><span class="token attribute atrule">@tool</span>
extends <span class="token class-name">EditorScript</span>

<span class="token keyword">func</span> <span class="token function-definition function">_run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> void<span class="token punctuation">:</span>
	<span class="token keyword">var</span> link <span class="token operator">=</span> <span class="token class-name">HTMLTagA</span><span class="token punctuation">.</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  # 创建一个标签
	# 设定<span class="token operator">&lt;</span>a<span class="token operator">&gt;</span>标签属性
	link<span class="token punctuation">.</span>href <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"https://www.runoob.com/"</span></span>
	link<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"菜鸟教程"</span></span>
	
	<span class="token function">print</span><span class="token punctuation">(</span>link<span class="token punctuation">)</span>
</code></pre> 
<p>输出：</p> 
<pre><code class="prism language-swift"><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string-literal"><span class="token string">"https://www.runoob.com/"</span></span> <span class="token operator">&gt;</span>菜鸟教程<span class="token operator">&lt;/</span>a<span class="token operator">&gt;</span>
</code></pre> 
<h3><a id="SVG_239"></a>SVG标签类</h3> 
<p><img src="https://images2.imgbox.com/d9/3d/ShhQZXsI_o.png" alt="在这里插入图片描述"></p> 
<p>我发现专门做一个XML标签基类是没有必要的，XML本身就没有固定的标签，所以由MLTag定义完全可以解决XML标签定义和生成的功能。</p> 
<p>而<code>&lt;svg&gt;</code>本身既可以算HTML标签，也可以看做是XML标签。这里为了简化，我创建SVG类，代表<code>&lt;svg&gt;</code>标签，并直接继承自<code>MLTag</code>类型。</p> 
<pre><code class="prism language-swift"># <span class="token operator">=============================================</span>
# 名称：<span class="token constant">SVG</span>
# 类型：类
# 描述：<span class="token constant">SVG</span>的<span class="token operator">&lt;</span>svg<span class="token operator">&gt;</span>标签类
# 作者：巽星石
# 创建时间：<span class="token number">2024</span>年<span class="token number">7</span>月<span class="token number">16</span>日<span class="token number">21</span><span class="token punctuation">:</span><span class="token number">37</span><span class="token punctuation">:</span><span class="token number">24</span>
# 最后修改时间：<span class="token number">2024</span>年<span class="token number">7</span>月<span class="token number">16</span>日<span class="token number">21</span><span class="token punctuation">:</span><span class="token number">44</span><span class="token punctuation">:</span><span class="token number">04</span>
# <span class="token operator">=============================================</span>
class_name <span class="token constant">SVG</span> extends <span class="token class-name">MLTag</span>

# <span class="token operator">======================</span> 属性 <span class="token operator">======================</span>
# <span class="token constant">SVG</span>画布宽度
<span class="token keyword">var</span> width<span class="token punctuation">:</span><span class="token class-name">String</span><span class="token punctuation">:</span>
	<span class="token keyword">set</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">:</span>
		attrs<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"width"</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> val
	<span class="token keyword">get</span><span class="token punctuation">:</span>
		<span class="token keyword">return</span> attrs<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"width"</span></span><span class="token punctuation">]</span>
# <span class="token constant">SVG</span>画布高度
<span class="token keyword">var</span> height<span class="token punctuation">:</span><span class="token class-name">String</span><span class="token punctuation">:</span>
	<span class="token keyword">set</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">:</span>
		attrs<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"height"</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> val
	<span class="token keyword">get</span><span class="token punctuation">:</span>
		<span class="token keyword">return</span> attrs<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"height"</span></span><span class="token punctuation">]</span>

# <span class="token operator">======================</span> 初始化 <span class="token operator">======================</span>
<span class="token keyword">func</span> <span class="token function-definition function">_init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> void<span class="token punctuation">:</span>
	tag_name <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"svg"</span></span>
	# <span class="token constant">HTML</span>标签通用属性
	attrs <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
		<span class="token string-literal"><span class="token string">"version"</span></span><span class="token operator">=</span><span class="token string-literal"><span class="token string">"1.1"</span></span><span class="token punctuation">,</span>
		<span class="token string-literal"><span class="token string">"baseProfile"</span></span><span class="token operator">=</span><span class="token string-literal"><span class="token string">"full"</span></span><span class="token punctuation">,</span>
		<span class="token string-literal"><span class="token string">"width"</span></span><span class="token operator">=</span><span class="token string-literal"><span class="token string">"200"</span></span><span class="token punctuation">,</span>
		<span class="token string-literal"><span class="token string">"height"</span></span><span class="token operator">=</span><span class="token string-literal"><span class="token string">"200"</span></span><span class="token punctuation">,</span>
		<span class="token string-literal"><span class="token string">"xmlns"</span></span><span class="token operator">=</span><span class="token string-literal"><span class="token string">"http://www.w3.org/2000/svg"</span></span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="SVGShape_282"></a>SVGShape</h4> 
<p>SVG的形状和路径有许多共同的属性，所以抽象出一个<code>SVGShape</code>类型，用来承载共同属性。</p> 
<pre><code class="prism language-swift"># <span class="token operator">=============================================</span>
# 名称：<span class="token class-name">SVGShape</span>
# 类型：类
# 描述：<span class="token constant">SVG</span>所有形状和路径标签类的基类，承载共同属性
# 作者：巽星石
# 创建时间：<span class="token number">2024</span>年<span class="token number">7</span>月<span class="token number">16</span>日<span class="token number">21</span><span class="token punctuation">:</span><span class="token number">51</span><span class="token punctuation">:</span><span class="token number">00</span>
# 最后修改时间：<span class="token number">2024</span>年<span class="token number">7</span>月<span class="token number">16</span>日<span class="token number">23</span><span class="token punctuation">:</span><span class="token number">07</span><span class="token punctuation">:</span><span class="token number">46</span>
# <span class="token operator">=============================================</span>
class_name <span class="token class-name">SVGShape</span> extends <span class="token class-name">MLTag</span>

# <span class="token operator">======================</span> 属性 <span class="token operator">======================</span>
# 填充颜色
<span class="token keyword">var</span> fill<span class="token punctuation">:</span><span class="token class-name">String</span><span class="token punctuation">:</span>
	<span class="token keyword">set</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">:</span>
		attrs<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"fill"</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> val
	<span class="token keyword">get</span><span class="token punctuation">:</span>
		<span class="token keyword">return</span> attrs<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"fill"</span></span><span class="token punctuation">]</span>

# 描边颜色
<span class="token keyword">var</span> stroke<span class="token punctuation">:</span><span class="token class-name">String</span><span class="token punctuation">:</span>
	<span class="token keyword">set</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">:</span>
		attrs<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"stroke"</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> val
	<span class="token keyword">get</span><span class="token punctuation">:</span>
		<span class="token keyword">return</span> attrs<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"stroke"</span></span><span class="token punctuation">]</span>

# 描边宽度
<span class="token keyword">var</span> stroke_width<span class="token punctuation">:</span>int<span class="token punctuation">:</span>
	<span class="token keyword">set</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">:</span>
		attrs<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"stroke-width"</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">str</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span>
	<span class="token keyword">get</span><span class="token punctuation">:</span>
		<span class="token keyword">return</span> <span class="token function">int</span><span class="token punctuation">(</span>attrs<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"stroke-width"</span></span><span class="token punctuation">]</span><span class="token punctuation">)</span>

# <span class="token operator">======================</span> 初始化 <span class="token operator">======================</span>
<span class="token keyword">func</span> <span class="token function-definition function">_init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> void<span class="token punctuation">:</span>
	tag_name <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"svg"</span></span>
	# svg形状和路径标签通用属性
	attrs<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"fill"</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"#fff"</span></span>
	attrs<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"stroke"</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"#000"</span></span>
	attrs<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"stroke-width"</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"1"</span></span>
</code></pre> 
<h4><a id="_325"></a>矩形</h4> 
<p>基于<code>SVGShape</code>类型，我们可以创建SVG具体的形状和路径类型。<code>SVGRect</code>就是SVG矩形 
 <rect>
   标签对应的类。 
 </rect></p> 
<pre><code class="prism language-swift"># <span class="token operator">=============================================</span>
# 名称：<span class="token class-name">SVGRect</span>
# 类型：类
# 描述：<span class="token constant">SVG</span>的<span class="token operator">&lt;</span>rect<span class="token operator">&gt;</span>标签类
# 作者：巽星石
# 创建时间：<span class="token number">2024</span>年<span class="token number">7</span>月<span class="token number">16</span>日<span class="token number">21</span><span class="token punctuation">:</span><span class="token number">47</span><span class="token punctuation">:</span><span class="token number">43</span>
# 最后修改时间：<span class="token number">2024</span>年<span class="token number">7</span>月<span class="token number">16</span>日<span class="token number">22</span><span class="token punctuation">:</span><span class="token number">16</span><span class="token punctuation">:</span><span class="token number">54</span>
# <span class="token operator">=============================================</span>
class_name <span class="token class-name">SVGRect</span> extends <span class="token class-name">SVGShape</span>

# <span class="token operator">======================</span> 属性 <span class="token operator">======================</span>

# <span class="token operator">----------------------</span> 位置 <span class="token operator">----------------------</span> 
# 矩形左上角x坐标
<span class="token keyword">var</span> x<span class="token punctuation">:</span><span class="token class-name">String</span><span class="token punctuation">:</span>
	<span class="token keyword">set</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">:</span>
		attrs<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"x"</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> val
	<span class="token keyword">get</span><span class="token punctuation">:</span>
		<span class="token keyword">return</span> attrs<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"x"</span></span><span class="token punctuation">]</span>

# 矩形左上角y坐标
<span class="token keyword">var</span> y<span class="token punctuation">:</span><span class="token class-name">String</span><span class="token punctuation">:</span>
	<span class="token keyword">set</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">:</span>
		attrs<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"y"</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> val
	<span class="token keyword">get</span><span class="token punctuation">:</span>
		<span class="token keyword">return</span> attrs<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"y"</span></span><span class="token punctuation">]</span>
# <span class="token operator">----------------------</span> 尺寸 <span class="token operator">----------------------</span> 
# 矩形宽度
<span class="token keyword">var</span> width<span class="token punctuation">:</span><span class="token class-name">String</span><span class="token punctuation">:</span>
	<span class="token keyword">set</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">:</span>
		attrs<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"width"</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> val
	<span class="token keyword">get</span><span class="token punctuation">:</span>
		<span class="token keyword">return</span> attrs<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"width"</span></span><span class="token punctuation">]</span>

# 矩形高度
<span class="token keyword">var</span> height<span class="token punctuation">:</span><span class="token class-name">String</span><span class="token punctuation">:</span>
	<span class="token keyword">set</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">:</span>
		attrs<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"height"</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> val
	<span class="token keyword">get</span><span class="token punctuation">:</span>
		<span class="token keyword">return</span> attrs<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"height"</span></span><span class="token punctuation">]</span>
# <span class="token operator">----------------------</span> 圆角 <span class="token operator">----------------------</span> 
# 矩形圆角半径（水平方向）
<span class="token keyword">var</span> rx<span class="token punctuation">:</span><span class="token class-name">String</span><span class="token punctuation">:</span>
	<span class="token keyword">set</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">:</span>
		attrs<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"rx"</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> val
	<span class="token keyword">get</span><span class="token punctuation">:</span>
		<span class="token keyword">return</span> attrs<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"rx"</span></span><span class="token punctuation">]</span>

# 矩形圆角半径（垂直方向）
<span class="token keyword">var</span> ry<span class="token punctuation">:</span><span class="token class-name">String</span><span class="token punctuation">:</span>
	<span class="token keyword">set</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">:</span>
		attrs<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"ry"</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> val
	<span class="token keyword">get</span><span class="token punctuation">:</span>
		<span class="token keyword">return</span> attrs<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"ry"</span></span><span class="token punctuation">]</span>

# <span class="token operator">======================</span> 初始化 <span class="token operator">======================</span>
<span class="token keyword">func</span> <span class="token function-definition function">_init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> void<span class="token punctuation">:</span>
	<span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   # 初始化父类，否则无法继承相关的默认属性
	tag_name <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"rect"</span></span>
	# <span class="token constant">HTML</span>标签通用属性
	attrs<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"x"</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"0"</span></span>
	attrs<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"y"</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"0"</span></span>
	attrs<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"width"</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"100"</span></span>
	attrs<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"height"</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"100"</span></span>
	attrs<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"rx"</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"0"</span></span>
	attrs<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"ry"</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"0"</span></span>
</code></pre> 
<p>测试代码：</p> 
<pre><code class="prism language-swift"><span class="token attribute atrule">@tool</span>
extends <span class="token class-name">EditorScript</span>

<span class="token keyword">func</span> <span class="token function-definition function">_run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> void<span class="token punctuation">:</span>
	<span class="token keyword">var</span> svg <span class="token operator">=</span> <span class="token constant">SVG</span><span class="token punctuation">.</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span>          # 创建<span class="token constant">SVG</span>标签
	<span class="token keyword">var</span> rect  <span class="token operator">=</span> <span class="token class-name">SVGRect</span><span class="token punctuation">.</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    # 创建矩形
	svg<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>rect<span class="token punctuation">)</span>
	<span class="token function">print</span><span class="token punctuation">(</span>svg<span class="token punctuation">)</span>
</code></pre> 
<p>获得的SVG代码：</p> 
<pre><code class="prism language-swift"><span class="token operator">&lt;</span>svg version<span class="token operator">=</span><span class="token string-literal"><span class="token string">"1.1"</span></span> baseProfile<span class="token operator">=</span><span class="token string-literal"><span class="token string">"full"</span></span> width<span class="token operator">=</span><span class="token string-literal"><span class="token string">"200"</span></span> height<span class="token operator">=</span><span class="token string-literal"><span class="token string">"200"</span></span> xmlns<span class="token operator">=</span><span class="token string-literal"><span class="token string">"http://www.w3.org/2000/svg"</span></span> <span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>rect fill<span class="token operator">=</span><span class="token string-literal"><span class="token string">"#fff"</span></span> stroke<span class="token operator">=</span><span class="token string-literal"><span class="token string">"#000"</span></span> stroke<span class="token operator">-</span>width<span class="token operator">=</span><span class="token string-literal"><span class="token string">"1"</span></span> x<span class="token operator">=</span><span class="token string-literal"><span class="token string">"0"</span></span> y<span class="token operator">=</span><span class="token string-literal"><span class="token string">"0"</span></span> width<span class="token operator">=</span><span class="token string-literal"><span class="token string">"100"</span></span> height<span class="token operator">=</span><span class="token string-literal"><span class="token string">"100"</span></span> rx<span class="token operator">=</span><span class="token string-literal"><span class="token string">"0"</span></span> ry<span class="token operator">=</span><span class="token string-literal"><span class="token string">"0"</span></span> <span class="token operator">&gt;&lt;/</span>rect<span class="token operator">&gt;&lt;/</span>svg<span class="token operator">&gt;</span>
</code></pre> 
<p>SVG预览如下：<br> <img src="https://images2.imgbox.com/af/e1/ZoefPkQL_o.png" alt="image.png"></p> 
<pre><code class="prism language-swift"><span class="token attribute atrule">@tool</span>
extends <span class="token class-name">EditorScript</span>

<span class="token keyword">func</span> <span class="token function-definition function">_run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> void<span class="token punctuation">:</span>
	<span class="token keyword">var</span> svg <span class="token operator">=</span> <span class="token constant">SVG</span><span class="token punctuation">.</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">)</span>                    # 创建<span class="token constant">SVG</span>标签
	<span class="token keyword">var</span> rect  <span class="token operator">=</span> <span class="token class-name">SVGRect</span><span class="token punctuation">.</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">)</span>    # 创建矩形
	# 设定矩形属性
	rect<span class="token punctuation">.</span>stroke <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"red"</span></span>
	rect<span class="token punctuation">.</span>stroke_width <span class="token operator">=</span> <span class="token number">2</span>
	# 将矩形追加到svg内容的末尾
	svg<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>rect<span class="token punctuation">)</span>
	<span class="token function">print</span><span class="token punctuation">(</span>svg<span class="token punctuation">)</span>           # 打印<span class="token constant">SVG</span>代码
</code></pre> 
<p>获得的SVG代码：</p> 
<pre><code class="prism language-swift"><span class="token operator">&lt;</span>svg version<span class="token operator">=</span><span class="token string-literal"><span class="token string">"1.1"</span></span> baseProfile<span class="token operator">=</span><span class="token string-literal"><span class="token string">"full"</span></span> width<span class="token operator">=</span><span class="token string-literal"><span class="token string">"100"</span></span> height<span class="token operator">=</span><span class="token string-literal"><span class="token string">"200"</span></span> xmlns<span class="token operator">=</span><span class="token string-literal"><span class="token string">"http://www.w3.org/2000/svg"</span></span> <span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>rect fill<span class="token operator">=</span><span class="token string-literal"><span class="token string">"#fff"</span></span> stroke<span class="token operator">=</span><span class="token string-literal"><span class="token string">"red"</span></span> stroke<span class="token operator">-</span>width<span class="token operator">=</span><span class="token string-literal"><span class="token string">"2"</span></span> x<span class="token operator">=</span><span class="token string-literal"><span class="token string">"0"</span></span> y<span class="token operator">=</span><span class="token string-literal"><span class="token string">"0"</span></span> width<span class="token operator">=</span><span class="token string-literal"><span class="token string">"100"</span></span> height<span class="token operator">=</span><span class="token string-literal"><span class="token string">"200"</span></span> rx<span class="token operator">=</span><span class="token string-literal"><span class="token string">"12"</span></span> ry<span class="token operator">=</span><span class="token string-literal"><span class="token string">"12"</span></span> <span class="token operator">&gt;&lt;/</span>rect<span class="token operator">&gt;&lt;/</span>svg<span class="token operator">&gt;</span>
</code></pre> 
<p>预览如下：<br> <img src="https://images2.imgbox.com/00/d6/ohrRK9QX_o.png" alt="image.png"></p> 
<h3><a id="_434"></a>总结</h3> 
<ul><li>纯面向对象的设计，尤其是基于继承的多个类组成的体系在某些方面还是很有用的。比如HTML、XML、SVG这样本身就很明显的继承设计。</li><li>基于继承或许会写出一堆类，但是辅以类图和文档，还是能让别人比较轻松的理解和掌握的。</li><li>静态函数库则完全是一个很差的设计形式，很有可能会被一堆函数搞得特别臃肿。</li><li>适当的用类和类的继承形式取代静态函数库形式是我正在做的尝试</li></ul>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/18c670b364015060f4110ad428e7c175/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">分享6个AI一键生成PPT的工具【国内最新】</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/28e9f63b89a185ce05335aca25e6072a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">MySQL单表千万数据求解思路：实现可持续运行的策略</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>