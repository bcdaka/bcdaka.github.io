<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>AI绘画SD神器插件Inpaint Anything---简单快速实现换装换脸 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/d3b816a758ebc3edb947f51b019ace14/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="AI绘画SD神器插件Inpaint Anything---简单快速实现换装换脸">
  <meta property="og:description" content="大家好，我是程序员晓晓
在AI绘画Stable DIffusion中，有一个 Inpaint Anything算法，可以实现移除、填补、替换一切内容，实现单击图像上的任何物体可以一键擦除替换任何内容、更改任意背景，这可以提高遮罩创建过程的效率和准确性，从而在节省时间和精力的同时获得更高质量的修复结果。
1.安装方法 1、在扩展面板中安装Inpaint Anything
地址：https://github.com/Uminosachi/sd-webui-inpaint-anything.git
如链接无法下载，请看文末获取本地插件安装包
2、安装插件并重启之后，可以在导航栏面板中看到Inpaint Anything组件，此时还需要安装SAM模型。
SAM 提供三种模型，显存高的下载 sam_vit_h，识别度更精准。显存 8G 左右的下载 sam_vit_l，显存低于 8G 的下载 sam_vit_b。选择对应模型后，点击“下载模型”，下载后的模型会存放在 Inpaint Anything 插件目录中的 models 文件夹内。
SAM模型，我已经放在网盘了，请看文末扫描获取，下载后把SAM模型放在“……\sd-webui-aki-v4\extensions\sd-webui-segment-anything\models\sam”路径下。
2.使用生成指定蒙版 上传你要修改的图片，点击“run segment anything”，会将参考图进行分割。
在右侧图片分割区域，调整笔刷大小，鼠标点击图片需要分割的区域，涂抹你要修改的色块。
选取完毕后，点击“创建遮罩”，蒙版将出现在选定的蒙版图像区域中。
你可以看到，上衣已经被选中，以高亮的颜色标识。接着，在界面左下还有一排标签，选择最右边的Mask only：
出现的两个按钮，分别点击一下，你就得到了两张图：
左边是直接抠图，将上一步中高亮选中的部分直接扣出，生成一张Alpha通道的png图片。
右边是生成蒙版，高亮区域为白色，其他区域黑色。
需要说明的是，这两张图和原图尺寸完全一致，可以直接保存到本地。
蒙版调整说明：
如果觉得蒙版边缘不够精准，可以点击下方的expand mask整体外扩蒙板，使用此按钮可以稍微扩大遮罩的区域以获得更广泛的覆盖范围。
Add mask by sketch 按钮：单击此按钮会将草绘区域添加到蒙版中。
在左侧仅蒙版选项卡中，点击“获取遮罩”，创建蒙版图。
点击“发送到图生图重绘”，将蒙版发送到图生图上传重绘蒙版模式中。
3.设置SD模型和图生图参数 选择 Stable Diffusion 模型，如果要生成写实模型，就选真人模型比如majicMIX realistic 模型。
输入你要修改的提示词描述，设置好宽高，分辨率与原图一致（512X768），重绘幅度建议0.6以上。
采样方法和迭代步数根据情况来设置，这里设置采样方法为Euler a，迭代步数 20，启用脸部修复。
在上传重绘蒙版选项卡的重绘模式中，选择“重绘非蒙版内容”。（白色部分是蒙版，黑色部分不是蒙版）
我们测试将白色上衣修改成藏青色毛衣。
正向提示词：
masterpiece, best quality, ultra highres, sharp focus, professional, delicate, finely detailed, detailed skin, professional lighting, (Navy Sweater:1.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-03-30T14:30:42+08:00">
    <meta property="article:modified_time" content="2024-03-30T14:30:42+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">AI绘画SD神器插件Inpaint Anything---简单快速实现换装换脸</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>大家好，我是程序员晓晓</p> 
<p>在AI绘画Stable DIffusion中，有一个 Inpaint Anything算法，可以实现移除、填补、替换一切内容，实现单击图像上的任何物体可以一键擦除替换任何内容、更改任意背景，这可以提高遮罩创建过程的效率和准确性，从而在节省时间和精力的同时获得更高质量的修复结果。</p> 
<h3><a id="1_5"></a>1.安装方法</h3> 
<p><strong>1、在扩展面板中安装Inpaint Anything</strong></p> 
<p>地址：https://github.com/Uminosachi/sd-webui-inpaint-anything.git<br> 如链接无法下载，请看文末获取本地插件安装包</p> 
<p><img src="https://images2.imgbox.com/3b/71/gqyASt9A_o.png" alt=""></p> 
<p>2、安装插件并重启之后，可以在导航栏面板中看到<strong>Inpaint Anything组件</strong>，此时还需要安装SAM模型。</p> 
<p><img src="https://images2.imgbox.com/bc/3f/8lGUlV6c_o.png" alt=""></p> 
<p>SAM 提供三种模型，显存高的下载 sam_vit_h，识别度更精准。显存 8G 左右的下载 sam_vit_l，显存低于 8G 的下载 sam_vit_b。选择对应模型后，点击“下载模型”，下载后的模型会存放在 Inpaint Anything 插件目录中的 models 文件夹内。</p> 
<p>SAM模型，我已经放在网盘了，请看文末扫描获取，下载后把SAM模型放在“……\sd-webui-aki-v4\extensions\sd-webui-segment-anything\models\sam”路径下。</p> 
<ol><li><img src="https://images2.imgbox.com/13/44/DhCeAuVa_o.png" alt=""></li></ol> 
<h3><a id="2_35"></a>2.使用生成指定蒙版</h3> 
<p>上传你要修改的图片，点击“run segment anything”，会将参考图进行分割。</p> 
<p>在右侧图片分割区域，调整笔刷大小，鼠标点击图片需要分割的区域，涂抹你要修改的色块。</p> 
<p><img src="https://images2.imgbox.com/cb/82/1VNncFKS_o.png" alt=""></p> 
<p>选取完毕后，点击“创建遮罩”，蒙版将出现在选定的蒙版图像区域中。</p> 
<p><img src="https://images2.imgbox.com/f4/95/JWTo60Pn_o.png" alt=""></p> 
<p>你可以看到，上衣已经被选中，以高亮的颜色标识。接着，在界面左下还有一排标签，选择最右边的Mask only：</p> 
<p><img src="https://images2.imgbox.com/1d/ac/MKpgzam4_o.png" alt=""></p> 
<p>出现的两个按钮，分别点击一下，你就得到了两张图：</p> 
<p>左边是直接抠图，将上一步中高亮选中的部分直接扣出，生成一张Alpha通道的png图片。</p> 
<p>右边是生成蒙版，高亮区域为白色，其他区域黑色。</p> 
<p>需要说明的是，这两张图和原图尺寸完全一致，可以直接保存到本地。</p> 
<p>蒙版调整说明：</p> 
<p>如果觉得蒙版边缘不够精准，可以点击下方的expand mask整体外扩蒙板，使用此按钮可以稍微扩大遮罩的区域以获得更广泛的覆盖范围。</p> 
<p>Add mask by sketch 按钮：单击此按钮会将草绘区域添加到蒙版中。</p> 
<p>在左侧仅蒙版选项卡中，点击“获取遮罩”，创建蒙版图。</p> 
<p><img src="https://images2.imgbox.com/58/3a/7bO3gUcG_o.png" alt=""></p> 
<p>点击“发送到图生图重绘”，将蒙版发送到图生图上传重绘蒙版模式中。</p> 
<p><img src="https://images2.imgbox.com/4e/1b/AZRstraT_o.png" alt=""></p> 
<h3><a id="3SD_103"></a>3.设置SD模型和图生图参数</h3> 
<p>选择 Stable Diffusion 模型，如果要生成写实模型，就选真人模型比如majicMIX realistic 模型。</p> 
<p>输入你要修改的提示词描述，设置好宽高，分辨率与原图一致（512X768），重绘幅度建议0.6以上。</p> 
<p>采样方法和迭代步数根据情况来设置，这里设置采样方法为Euler a，迭代步数 20，启用脸部修复。</p> 
<p>在上传重绘蒙版选项卡的重绘模式中，选择“重绘非蒙版内容”。（白色部分是蒙版，黑色部分不是蒙版）</p> 
<p>我们测试将白色上衣修改成藏青色毛衣。</p> 
<p>正向提示词：</p> 
<p>masterpiece, best quality, ultra highres, sharp focus, professional, delicate, finely detailed, detailed skin, professional lighting, (Navy Sweater:1.3)</p> 
<p>反向提示词：</p> 
<p>ng_deepnegative_v1_75t, badhandv4, (worst quality:2), (low quality:2), (normal quality:2), lowres, ((monochrome)), ((grayscale)), watermark, (bad-hands-5:1.1) (Unspeakable-Horrors-Composition-4v:1.1)</p> 
<p><img src="https://images2.imgbox.com/7f/e9/YCxcw8jW_o.png" alt=""></p> 
<p>然后，点击右上角的“生成”按钮。上衣已经换过来了。</p> 
<p><img src="https://images2.imgbox.com/54/06/RmOuR3FK_o.png" alt=""></p> 
<p>也可以换成其他颜色，在正向提示词里换成“blue Sweater:1.3”，生成蓝色毛衣。</p> 
<p><img src="https://images2.imgbox.com/df/cd/NJFdemHr_o.png" alt=""></p> 
<p>可以结合Control net，选择openpos骨架图，控制人物姿势，你也可以不使用，直接生成。</p> 
<h3><a id="4_153"></a>4.生成图像及后期处理</h3> 
<p>在生成的效果图中，可以看到人物衣服已经替换过来了，我们完成了局部“换肤</p> 
<p>选择一张整体满意的图，如需要微调图片中的内容，可以将 seed 种子数固定，再调整提示词重新生成。点击“后期处理”，选择图片放大倍数和模型，增强图像分辨率和细节。</p> 
<p><img src="https://images2.imgbox.com/04/b8/wMYlco12_o.png" alt=""></p> 
<h3><a id="_165"></a>写在最后</h3> 
<p><font face="幼圆" size="4" color="red">感兴趣的小伙伴，赠送全套AIGC学习资料，包含AI绘画、AI人工智能等前沿科技教程和软件工具，具体看这里。<br> </font><br> <img src="https://images2.imgbox.com/b6/6f/N7h15E1E_o.png"></p> 
<p>AIGC技术的未来发展前景广阔，随着人工智能技术的不断发展，AIGC技术也将不断提高。未来，AIGC技术将在游戏和计算领域得到更广泛的应用，使游戏和计算系统具有更高效、更智能、更灵活的特性。同时，AIGC技术也将与人工智能技术紧密结合，在更多的领域得到广泛应用，对程序员来说影响至关重要。未来，AIGC技术将继续得到提高，同时也将与人工智能技术紧密结合，在更多的领域得到广泛应用。<br>  <br> <img src="https://images2.imgbox.com/20/fa/SB05HNZo_o.png" alt="在这里插入图片描述"></p> 
<p><strong>一、AIGC所有方向的学习路线</strong></p> 
<p>AIGC所有方向的技术点做的整理，形成各个领域的知识点汇总，它的用处就在于，你可以按照下面的知识点去找对应的学习资源，保证自己学得较为全面。</p> 
<p><img src="https://images2.imgbox.com/3d/18/o87GgH1b_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/08/b3/FZEnPJOS_o.png" alt="在这里插入图片描述"></p> 
<p><strong>二、AIGC必备工具</strong></p> 
<p>工具都帮大家整理好了，安装就可直接上手！<br> <img src="https://images2.imgbox.com/e8/cf/oODTaolo_o.png" alt="在这里插入图片描述"></p> 
<p><strong>三、最新AIGC学习笔记</strong></p> 
<p>当我学到一定基础，有自己的理解能力的时候，会去阅读一些前辈整理的书籍或者手写的笔记资料，这些笔记详细记载了他们对一些技术点的理解，这些理解是比较独到，可以学到不一样的思路。<br> <img src="https://images2.imgbox.com/8e/42/tvAJKmI2_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/ba/4b/8pCzTVGB_o.png" alt="在这里插入图片描述"></p> 
<p><strong>四、AIGC视频教程合集</strong></p> 
<p>观看全面零基础学习视频，看视频学习是最快捷也是最有效果的方式，跟着视频中老师的思路，从基础到深入，还是很容易入门的。</p> 
<p><img src="https://images2.imgbox.com/63/d8/08A6UK8u_o.png" alt="在这里插入图片描述"></p> 
<p><strong>五、实战案例</strong></p> 
<p>纸上得来终觉浅，要学会跟着视频一起敲，要动手实操，才能将自己的所学运用到实际当中去，这时候可以搞点实战案例来学习。<br> <img src="https://images2.imgbox.com/4d/ed/XbbRTpFS_o.png" alt="在这里插入图片描述"></p> 
<img src="https://images2.imgbox.com/e1/58/tbl9y7o2_o.png"> 若有侵权，请联系删除
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/90204bfc904a70da3eb03265ac9b21f4/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">AI绘画利器：Stable-Diffusion-ComfyUI保姆级教程</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6d78f46a4b97c5c170770e6779b5b260/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">99AI 稳定版：基于 NineAI 二开的可商业化 AI Web 应用</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>