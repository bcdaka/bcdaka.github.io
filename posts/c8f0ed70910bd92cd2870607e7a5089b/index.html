<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Llama 3消费级PC安装与运行教程 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/c8f0ed70910bd92cd2870607e7a5089b/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="Llama 3消费级PC安装与运行教程">
  <meta property="og:description" content="我是 Llama 的忠实粉丝。 Meta 发布其 LLM 开源代码对整个科技界来说是一项净收益，其宽松的许可证允许大多数中小型企业在几乎没有任何限制的情况下使用其 LLM（当然，在法律范围内）。 他们的最新版本是备受期待的 Llama 3。
Llama 3 有两种大小：80 亿和 700 亿参数。 这种模型经过大量文本数据的训练，可用于各种任务，包括生成文本、翻译语言、编写不同类型的创意内容以及以信息丰富的方式回答你的问题。 Meta 宣称 Llama 3 是最好的开放模型之一，但它仍在开发中。 这是与 Mistral 和 Gemma 相比的 8B 模型基准（根据 Meta）。
NSDT工具推荐： Three.js AI纹理开发包 - YOLO合成数据生成器 - GLTF/GLB在线编辑 - 3D模型格式在线转换 - 可编程3D场景编辑器 - REVIT导出3D模型插件 - 3D模型语义搜索引擎 - Three.js虚拟轴心开发包 - 3D模型在线减面 - STL模型在线切割
这就引出了一个问题：作为普通人，我如何在我的计算机上本地运行这些模型？
1、开始使用 Ollama 这就是Ollama登场的地方！ Ollama 是一款免费的开源应用程序，允许你在自己的计算机上运行各种大型语言模型，包括 Llama 3，即使资源有限。 Ollama 利用了 llama.cpp 的性能提升，llama.cpp 是一个开源库，旨在允许你以相对较低的硬件要求在本地运行 LLM。 它还包括一种包管理器，使你只需一个命令即可快速有效地下载和使用 LLM。
第一步是安装 Ollama。 它支持所有 3 个主要操作系统，其中 Windows 是“预览版”（更好的说法是“测试版”）。">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-04-28T09:39:15+08:00">
    <meta property="article:modified_time" content="2024-04-28T09:39:15+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Llama 3消费级PC安装与运行教程</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>我是 Llama 的忠实粉丝。 Meta 发布其 LLM 开源代码对整个科技界来说是一项净收益，其宽松的许可证允许大多数中小型企业在几乎没有任何限制的情况下使用其 LLM（当然，在法律范围内）。 他们的最新版本是备受期待的 Llama 3。</p> 
<p>Llama 3 有两种大小：80 亿和 700 亿参数。 这种模型经过大量文本数据的训练，可用于各种任务，包括生成文本、翻译语言、编写不同类型的创意内容以及以信息丰富的方式回答你的问题。 Meta 宣称 Llama 3 是最好的开放模型之一，但它仍在开发中。 这是与 Mistral 和 Gemma 相比的 8B 模型基准（根据 Meta）。</p> 
<p></p> 
<p class="img-center"><img alt="" height="899" src="https://images2.imgbox.com/ba/14/DcgVLxrK_o.png" width="800"></p> 
<blockquote> 
 <p><strong>NSDT工具推荐</strong>： <a href="https://tools.nsdt.cloud/DreamTexture?s=7878" rel="nofollow" title="Three.js AI纹理开发包">Three.js AI纹理开发包</a> - <a href="https://tools.nsdt.cloud/UnrealSynth?s=7878" rel="nofollow" title="YOLO合成数据生成器">YOLO合成数据生成器</a> - <a href="https://gltf.nsdt.cloud/?s=7878" rel="nofollow" title="GLTF/GLB在线编辑">GLTF/GLB在线编辑</a> - <a href="https://3dconvert.nsdt.cloud/?s=7878" rel="nofollow" title="3D模型格式在线转换">3D模型格式在线转换</a> - <a href="https://studio.nsdt.cloud/?s=7878" rel="nofollow" title="可编程3D场景编辑器">可编程3D场景编辑器</a> - <a href="https://3dconvert.nsdt.cloud/conv/plugin?s=7878" rel="nofollow" title="REVIT导出3D模型插件">REVIT导出3D模型插件</a> - <a href="https://tools.nsdt.cloud/3DSEE?s=7878" rel="nofollow" title="3D模型语义搜索引擎">3D模型语义搜索引擎</a> - <a href="https://tools.nsdt.cloud/three-pivot?s=7878" rel="nofollow" title="Three.js虚拟轴心开发包">Three.js虚拟轴心开发包</a> - <a href="https://simplify.nsdt.cloud/?s=7878" rel="nofollow" title="3D模型在线减面">3D模型在线减面</a> - <a href="https://cut.nsdt.cloud/?s=7878" rel="nofollow" title="STL模型在线切割">STL模型在线切割</a></p> 
</blockquote> 
<p>这就引出了一个问题：作为普通人，我如何在我的计算机上本地运行这些模型？</p> 
<h3 id="1%E3%80%81%E5%BC%80%E5%A7%8B%E4%BD%BF%E7%94%A8-ollama">1、开始使用 Ollama</h3> 
<p>这就是<a href="https://ollama.com/" rel="nofollow" title="Ollama">Ollama</a>登场的地方！ Ollama 是一款免费的开源应用程序，允许你在自己的计算机上运行各种大型语言模型，包括 Llama 3，即使资源有限。 Ollama 利用了 llama.cpp 的性能提升，llama.cpp 是一个开源库，旨在允许你以相对较低的硬件要求在本地运行 LLM。 它还包括一种包管理器，使你只需一个命令即可快速有效地下载和使用 LLM。</p> 
<p>第一步是<a href="https://ollama.com/download" rel="nofollow" title="安装 Ollama">安装 Ollama</a>。 它支持所有 3 个主要操作系统，其中 Windows 是“预览版”（更好的说法是“测试版”）。</p> 
<p>安装完成后，打开你的终端。 在所有平台上，命令都是相同的：</p> 
<pre><code>ollama run llama3
</code></pre> 
<p>等待几分钟，它会下载并加载模型，然后开始聊天！ 它应该会带你进入与此类似的聊天提示：</p> 
<pre><code>ollama run llama3
&gt;&gt;&gt; Who was the second president of the united states?
The second President of the United States was John Adams. He served from 1797 to 1801, succeeding
George Washington and being succeeded by Thomas Jefferson.

&gt;&gt;&gt; Who was the 30th?
The 30th President of the United States was Calvin Coolidge! He served from August 2, 1923, to March 4,
1929.

&gt;&gt;&gt; /bye</code></pre> 
<p>你可以在这个终端聊天中整天聊天，但是如果想要更像 ChatGPT 的东西怎么办？</p> 
<h3 id="2%E3%80%81open-webui">2、Open WebUI</h3> 
<p>Open WebUI 是一个可扩展的、自托管的 UI，完全在 Docker 内部运行。 它可以与 Ollama 或其他 OpenAI 兼容的 LLM 一起使用，例如 LiteLLM 或我自己的 <a href="https://github.com/chand1012/openai-cf-workers-ai" title="Cloudflare Workers OpenAI API">Cloudflare Workers OpenAI API</a>。</p> 
<p>假设你的计算机上已经运行了 Docker 和 Ollama，安装Open WebUI非常简单：</p> 
<pre><code>docker run -d -p 3000:8080 --add-host=host.docker.internal:host-gateway -v open-webui:/app/backend/data --name open-webui --restart always ghcr.io/open-webui/open-webui:main
</code></pre> 
<p>只需访问 <a href="http://localhost:3000/" rel="nofollow" title="http://localhost:3000">http://localhost:3000</a>，创建一个帐户，然后开始聊天！</p> 
<p></p> 
<p class="img-center"><img alt="" height="1169" src="https://images2.imgbox.com/4e/f2/vBjrjI4y_o.png" width="800"></p> 
<p>如果你之前没有运行 Llama 3，则必须先关闭一些模型才能开始聊天。 最简单的方法是单击左下角你的名字后单击设置图标：</p> 
<p></p> 
<p class="img-center"><img alt="" height="744" src="https://images2.imgbox.com/00/65/WQ01Vd77_o.png" width="634"></p> 
<p>然后单击模式左侧的“models”，然后粘贴 Ollama 注册表中的模型名称。 以下是我推荐用于一般用途的一些模型。</p> 
<ul><li>llama3</li><li>mistral</li><li>llama2</li></ul> 
<p></p> 
<p class="img-center"><img alt="" height="544" src="https://images2.imgbox.com/82/9c/fvw0Ddqf_o.png" width="800"></p> 
<h3 id="4%E3%80%81ollama-api">4、Ollama API</h3> 
<p>如果你想将 Ollama 集成到自己的项目中，Ollama 提供自己的 API 以及 OpenAI 兼容 API。 API 自动将本地保存的 LLM 加载到内存中，运行推理，然后在一定的超时后卸载。 你必须先拉取想要使用的任何模型，然后才能通过 API 运行模型，这可以通过命令行轻松完成：</p> 
<pre><code>ollama pull mistral</code></pre> 
<h4 id="41-ollama-api">4.1 Ollama API</h4> 
<p>Ollama 有自己的 API，其中还有一些用于 Javascript 和 Python 的 SDK。</p> 
<p>以下是如何使用 API 进行简单的文本生成推理：</p> 
<pre><code>curl http://localhost:11434/api/generate -d '{
  "model": "mistral",
  "prompt":"Why is the sky blue?"
}'</code></pre> 
<p>以下是如何使用 API 进行聊天生成推理：</p> 
<pre><code>curl http://localhost:11434/api/chat -d '{
  "model": "mistral",
  "messages": [
    { "role": "user", "content": "why is the sky blue?" }
  ]
}'</code></pre> 
<p>将 <code>model</code>参数替换为你要使用的任何模型。 请参阅<a href="https://github.com/ollama/ollama/blob/main/docs/api.md" title="官方 API 文档">官方 API 文档</a>以获取更多信息。</p> 
<h4 id="42-openai-%E5%85%BC%E5%AE%B9-api">4.2 OpenAI 兼容 API</h4> 
<p>你还可以使用 Ollama 作为 OpenAI 库的替代品（取决于用例）。 这是<a href="https://github.com/ollama/ollama/blob/main/docs/openai.md" title="他们文档">他们文档</a>中的一个示例：</p> 
<pre><code># Python
from openai import OpenAI

client = OpenAI(
    base_url='http://localhost:11434/v1/',

    # required but ignored
    api_key='ollama',
)

chat_completion = client.chat.completions.create(
    messages=[
        {
            'role': 'user',
            'content': 'Say this is a test',
        }
    ],
    model='mistral',
)</code></pre> 
<p>这也适用于 JavaScript：</p> 
<pre><code>// Javascript
import OpenAI from 'openai'

const openai = new OpenAI({
  baseURL: 'http://localhost:11434/v1/',

  // required but ignored
  apiKey: 'ollama',
})

const chatCompletion = await openai.chat.completions.create({
  messages: [{ role: 'user', content: 'Say this is a test' }],
  model: 'llama2',
})</code></pre> 
<h3 id="5%E3%80%81%E7%BB%93%E6%9D%9F%E8%AF%AD">5、结束语</h3> 
<p>Meta 的 Llama 3 的发布及其大型语言模型 (LLM) 技术的开源标志着技术社区的一个重要里程碑。 现在，通过 Ollama 和 Open WebUI 等本地工具可以访问这些先进的模型，普通个人可以挖掘其巨大潜力来生成文本、翻译语言、创作创意写作等。</p> 
<p>此外，API 的可用性使开发人员能够将 LLM 无缝集成到新项目或增强现有项目。 最终，LLM 技术通过 Llama 3 等开源项目实现民主化，释放了广阔的创新可能性，并激发了科技行业的创造力。</p> 
<hr> 
<p>原文链接：<a href="http://www.bimant.com/blog/run-llama-3-locally/" rel="nofollow" title="Llama 3本地运行教程 - BimAnt">Llama 3本地运行教程 - BimAnt</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/00e1c124f7021d843136ca3657e9d23c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">ZooKeeper 搭建详细步骤之一（单机模式）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/56dd670947e6b68010756b31017ebb0a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【数据结构】考点十五：广义表的表头和表尾</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>