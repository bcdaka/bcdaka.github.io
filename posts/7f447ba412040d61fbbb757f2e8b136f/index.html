<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Java Web实验八：按照JSP Model2思想实现注册功能 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/7f447ba412040d61fbbb757f2e8b136f/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="Java Web实验八：按照JSP Model2思想实现注册功能">
  <meta property="og:description" content="实验八 按照JSP Model2思想实现注册功能
一、实验目的 1. 熟悉JavaBean的应用；
2. 熟悉MVC设计模式的原理，并能在实际案例中应用；
3. 熟悉JSP Model2模型。
二、实验内容
按照JSP Model2模型思想编写一个用户注册程序，浏览器的显示结果如图所示：
在上图所示的表单中填写用户信息进行注册，如果注册的信息不符合表单验证规则，那么当单击“注册”按钮后，程序会再次跳回到注册页面，提示注册信息错误。例如，用户填写注册信息时，如果两次填写的密码不一致，并且邮箱格式错误，那么当单击“注册”按钮后，页面的显示结果如下图所示：
重新填写用户信息，如果用户信息全部填写正确，当单击“注册”按钮后，页面会自动跳转到用户成功登录页面，并显示出用户信息，如下图所示：
提示实验步骤如下：
创建两个JSP页面，注册页面register.jsp和注册成功提示信息页面loginSuccess.jsp；负责处理用户注册的请求的Servlet类ControllerServlet；两个JavaBean类，封装注册表单信息的JavaBean类RegisterFormBean和封装用户信息的JavaBean类UserBean；一个访问模拟数据库的辅助类DBUtil，这些组件的关系如下图所示： 三、实验结果（源代码、运行截图）
ControllerServlet.java
package xxx; import javax.servlet.*; import javax.servlet.http.*; import java.io.IOException; import java.util.Arrays; import java.util.List; public class ControllerServlet extends HttpServlet { @Override protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException { resp.sendRedirect(&#34;register.jsp&#34;); } protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { request.setCharacterEncoding(&#34;UTF-8&#34;); String username = request.getParameter(&#34;username&#34;); String password = request.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-04-03T20:24:16+08:00">
    <meta property="article:modified_time" content="2024-04-03T20:24:16+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Java Web实验八：按照JSP Model2思想实现注册功能</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p style="margin-left:.0001pt;text-align:center;">实验八   按照JSP Model2思想实现注册功能</p> 
<p style="margin-left:.0001pt;text-align:justify;"><strong><strong>一、实验目的 </strong></strong></p> 
<p style="margin-left:.0001pt;text-align:justify;">1. 熟悉JavaBean的应用；</p> 
<p style="margin-left:.0001pt;text-align:justify;">2. 熟悉MVC设计模式的原理，并能在实际案例中应用；</p> 
<p style="margin-left:.0001pt;text-align:justify;">3. 熟悉JSP Model2模型。</p> 
<p style="margin-left:.0001pt;text-align:justify;"><strong><strong>二、实验内容</strong></strong></p> 
<p style="margin-left:.0001pt;text-align:justify;">按照JSP Model2模型思想编写一个用户注册程序，浏览器的显示结果如图所示：</p> 
<p style="margin-left:.0001pt;text-align:center;"><img alt="" src="https://images2.imgbox.com/81/71/9wBYCX62_o.png"></p> 
<p style="margin-left:.0001pt;text-align:justify;">在上图所示的表单中填写用户信息进行注册，如果注册的信息不符合表单验证规则，那么当单击“注册”按钮后，程序会再次跳回到注册页面，提示注册信息错误。例如，用户填写注册信息时，如果两次填写的密码不一致，并且邮箱格式错误，那么当单击“注册”按钮后，页面的显示结果如下图所示：</p> 
<p style="margin-left:.0001pt;text-align:center;"><img alt="" src="https://images2.imgbox.com/9e/90/bkWNkJl6_o.png"></p> 
<p style="margin-left:.0001pt;text-align:justify;">重新填写用户信息，如果用户信息全部填写正确，当单击“注册”按钮后，页面会自动跳转到用户成功登录页面，并显示出用户信息，如下图所示：</p> 
<p style="margin-left:.0001pt;text-align:center;"><img alt="" src="https://images2.imgbox.com/38/3b/PCzwkmhG_o.png"></p> 
<p style="margin-left:.0001pt;text-align:justify;">提示实验步骤如下：</p> 
<ol><li style="text-align:justify;">创建两个JSP页面，注册页面register.jsp和注册成功提示信息页面loginSuccess.jsp；</li><li style="text-align:justify;">负责处理用户注册的请求的Servlet类ControllerServlet；</li><li style="text-align:justify;">两个JavaBean类，封装注册表单信息的JavaBean类RegisterFormBean和封装用户信息的JavaBean类UserBean；</li><li style="text-align:justify;">一个访问模拟数据库的辅助类DBUtil，这些组件的关系如下图所示：</li><li style="text-align:center;"><img alt="" src="https://images2.imgbox.com/59/ac/tOaSb0yD_o.png"></li></ol> 
<p style="margin-left:.0001pt;text-align:justify;"><strong><strong>三、</strong></strong><strong><strong>实验</strong></strong><strong><strong>结</strong></strong><strong><strong>果</strong></strong><strong><strong>（</strong></strong><strong><strong>源代码、运行截图</strong></strong><strong><strong>）</strong></strong></p> 
<p style="margin-left:.0001pt;text-align:justify;"><strong><strong>ControllerServlet</strong></strong><strong><strong>.java</strong></strong></p> 
<pre><code class="language-java">package xxx;

import javax.servlet.*;
import javax.servlet.http.*;
import java.io.IOException;
import java.util.Arrays;
import java.util.List;

public class ControllerServlet extends HttpServlet {
    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        resp.sendRedirect("register.jsp");
    }

    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {

        request.setCharacterEncoding("UTF-8");
        String username = request.getParameter("username");
        String password = request.getParameter("password");
        String confirmPassword = request.getParameter("confirmPassword");
        String email = request.getParameter("email");

        if (!password.equals(confirmPassword)) {
            request.setAttribute("error", "两次输入的密码不匹配");
        } else if (!isValidEmail(email)) {
           
            request.setAttribute("error", "邮箱格式错误");
        } else {
            // 假设DBUtil是数据库操作的工具类
            // 这里只是模拟，实际开发中需要调用DBUtil来存储用户信息
            UserBean userBean = new UserBean(username, password, email);
            // 假设存储用户信息成功
            request.setAttribute("username", username);
            request.setAttribute("email", email);

            request.getRequestDispatcher("loginSuccess.jsp").forward(request, response);
        }

        request.getRequestDispatcher("register.jsp").forward(request, response);
    }

    private boolean isValidEmail(String email) {
        String emailRegex = "^[A-Za-z0-9+_.-]+@[A-Za-z0-9.-]+$";
        
        return email.matches(emailRegex);
    }
}

</code></pre> 
<p style="margin-left:.0001pt;text-align:justify;"><strong><strong>DBUtil.java</strong></strong></p> 
<pre><code class="language-java">package xxx;

public class DBUtil {
    public static void storeUser(UserBean userBean) {
        // 假设用户信息已经成功存储
        System.out.println("User stored: " + userBean.getUsername());
    }
}</code></pre> 
<p style="margin-left:.0001pt;text-align:justify;"><strong><strong>RegisterFormBean</strong></strong><strong><strong>.java</strong></strong></p> 
<pre><code class="language-java">package xxx;

public class RegisterFormBean {
    private String username;
    private String password;
    private String confirmPassword;
    private String email;

    public RegisterFormBean(String username, String password, String confirmPassword, String email) {
        this.username = username;
        this.password = password;
        this.confirmPassword = confirmPassword;
        this.email = email;
    }

    public String getUsername() {
        return username;
    }

    public void setUsername(String username) {
        this.username = username;
    }

    public String getPassword() {
        return password;
    }

    public void setPassword(String password) {
        this.password = password;
    }

    public String getConfirmPassword() {
        return confirmPassword;
    }

    public void setConfirmPassword(String confirmPassword) {
        this.confirmPassword = confirmPassword;
    }

    public String getEmail() {
        return email;
    }

    public void setEmail(String email) {
        this.email = email;
    }
}
</code></pre> 
<p style="margin-left:.0001pt;text-align:justify;"><strong><strong>UserBean</strong></strong><strong><strong>.java</strong></strong></p> 
<pre><code class="language-java">package xxx;

public class UserBean {
    private String username;
    private String password;
    private String email;

    public UserBean(String username, String password, String email) {
        this.username = username;
        this.password = password;
        this.email = email;
    }

    public String getUsername() {
        return username;
    }

    public void setUsername(String username) {
        this.username = username;
    }

    public String getPassword() {
        return password;
    }

    public void setPassword(String password) {
        this.password = password;
    }

    public String getEmail() {
        return email;
    }

    public void setEmail(String email) {
        this.email = email;
    }
}</code></pre> 
<p style="margin-left:.0001pt;text-align:justify;"><strong><strong>web.xml</strong></strong></p> 
<pre><code class="language-html">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;web-app xmlns="http://xmlns.jcp.org/xml/ns/javaee"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd"
         version="4.0"&gt;

    &lt;servlet&gt;
        &lt;servlet-name&gt;ControllerServlet&lt;/servlet-name&gt;
        &lt;servlet-class&gt;xxx.ControllerServlet&lt;/servlet-class&gt;

    &lt;/servlet&gt;
    &lt;servlet-mapping&gt;
        &lt;servlet-name&gt;ControllerServlet&lt;/servlet-name&gt;
        &lt;url-pattern&gt;/ControllerServlet&lt;/url-pattern&gt;
    &lt;/servlet-mapping&gt;


&lt;/web-app&gt;
</code></pre> 
<p style="margin-left:.0001pt;text-align:justify;"><strong><strong>loginSuccess.jsp</strong></strong></p> 
<pre><code class="language-html">&lt;%@ page contentType="text/html;charset=UTF-8" language="java" %&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;login successful&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;h1&gt;恭喜你，登录成功&lt;/h1&gt;
您的信息&lt;br&gt;
&lt;p&gt;您的姓名:&lt;%= request.getAttribute("username") %&gt;&lt;br&gt;
    您的邮箱:&lt;%= request.getAttribute("email") %&gt;
    &lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre> 
<p style="margin-left:.0001pt;text-align:justify;"><strong><strong>register.jsp</strong></strong></p> 
<pre><code class="language-html">&lt;%@ page contentType="text/html;charset=UTF-8" language="java" %&gt;
&lt;html&gt;
&lt;head&gt;

    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;用户注册&lt;/title&gt;
    &lt;style&gt;
        section h1 {
            text-align: center;
            margin-left: 90%;
            font-size: 2em;

        }
        .form-container {
            text-align: left;
            margin-left: 40%;
            vertical-align: middle; /* 垂直居中对齐 */
            display: inline-block; /* 使标签和输入框在同一行显示 */

        }
        .form-group {
            margin-bottom: 15px; /* 每个表单组之间的间距 */
        }



        .form-group label {
            display: inline-block; /* 使得标签成为行内块级元素 */
            width: 100px; /* 标签宽度，确保对齐 */
            text-align: right; /* 文本右对齐 */
            margin-left: -50px;
            vertical-align: top; /* 与输入框顶部对齐 */
        }
        .form-group input,
        .form-group select {
            vertical-align: middle; /* 与标签垂直居中对齐 */
            margin-left: 10px; /* 左侧间距，以便与标签分隔开 */
        }




    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div class="form-container"&gt;
    &lt;h1&gt;用户注册&lt;/h1&gt;
    &lt;form action="ControllerServlet" method="post"&gt;
        &lt;div class="form-group"&gt;
            &lt;label for="username"&gt;用户名:&lt;/label&gt;
            &lt;input type="text" id="username" name="username" placeholder="请输入用户名" required&gt;
        &lt;/div&gt;
        &lt;div class="form-group"&gt;
            &lt;label for="password"&gt;密码:&lt;/label&gt;
            &lt;input type="password" id="password" name="password" placeholder="请输入密码" required&gt;
        &lt;/div&gt;
        &lt;div class="form-group"&gt;
            &lt;label for="confirmPassword"&gt;确认密码:&lt;/label&gt;
            &lt;input type="password" id="confirmPassword" name="confirmPassword" placeholder="请再次输入密码" required&gt;
        &lt;/div&gt;
        &lt;div class="form-group"&gt;
            &lt;label for="email"&gt;邮箱:&lt;/label&gt;
            &lt;input type="text" id="email" name="email" placeholder="请输入邮箱" required&gt;
        &lt;/div&gt;



        &lt;input type="submit" value="注册"&gt;
        &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
        &lt;input type="reset" value="重置"&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;% if (request.getAttribute("error") != null) { %&gt;
&lt;p style="color: red; text-align: center;"&gt;&lt;%= request.getAttribute("error") %&gt;&lt;/p&gt;
&lt;% } %&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="1021" src="https://images2.imgbox.com/d8/5d/CubUPA1k_o.png" width="1200"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="1021" src="https://images2.imgbox.com/6c/9b/bQtKfVS1_o.png" width="1200"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="1021" src="https://images2.imgbox.com/0f/9d/7a91Taee_o.png" width="1200"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="1021" src="https://images2.imgbox.com/64/f7/k2JFplFx_o.png" width="1200"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/49583b59bb3351385a12a0f26c88eef3/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">八数码问题——A*算法的应用（A-Star）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/3d7127a1b9139aa2852b574ef858d69e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【人工智能】保姆级波士顿房价预测</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>