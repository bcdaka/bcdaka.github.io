<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【C&#43;&#43;深度探索】AVL树的底层实现机制 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/85b98c28ce1587912ca78b2a934776cc/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="【C&#43;&#43;深度探索】AVL树的底层实现机制">
  <meta property="og:description" content="🔥 个人主页：大耳朵土土垚 🔥 所属专栏：C&#43;&#43;从入门至进阶 这里将会不定期更新有关C/C&#43;&#43;的内容，欢迎大家点赞，收藏，评论🥳🥳🎉🎉🎉 前言 AVL树就是在二叉搜索树的基础上引入了平衡因子，因此AVL树也可以看成是二叉搜索树.一棵AVL树或者是空树，或者是具有以下性质的二叉搜索树：它的左右子树都是AVL树，左右子树高度之差(简称平衡因子)的绝对值不超过1(-1/0/1).接下来我们继续学习AVL树底层实现的部分机制.
文章目录 前言1.AVL树结构2.AVL树的插入✨左单旋✨右单旋✨右左双旋✨左右双旋 3.中序遍历4. AVL树的验证5.验证用例6.结语 1.AVL树结构 //AVL树节点类 template&lt;class K, class V&gt; struct AVLTreeNode { pair&lt;K, V&gt; _kv; AVLTreeNode&lt;K, V&gt;* _pLeft; AVLTreeNode&lt;K, V&gt;* _pRight; AVLTreeNode&lt;K, V&gt;* _pParent; int _bf; // balance factor AVLTreeNode(const pair&lt;K, V&gt;&amp; kv) :_kv(kv) , _pLeft(nullptr) , _pRight(nullptr) , _pParent(nullptr) , _bf(0) {} }; // AVL: 二叉搜索树 &#43; 平衡因子的限制 template&lt;class K,class V&gt; class AVLTree { typedef AVLTreeNode&lt;K,V&gt; Node; public: AVLTree() : _pRoot(nullptr) {} // 在AVL树中插入值为kv的节点 bool Insert(const pair&lt;K, V&gt;&amp; kv); //中序遍历 void InOrder() { _InOrder(_pRoot); } //判断是否是平衡树 bool IsBalanceTree() { //嵌套一层函数 return _IsBalanceTree(_pRoot); } private: bool _IsBalanceTree(Node* pRoot); int _Height(Node* pRoot); void _InOrder(Node* root); // 右单旋 void RotateR(Node* parent); // 左单旋 void RotateL(Node* parent); // 右左双旋 void RotateRL(Node* parent); // 左右双旋 void RotateLR(Node* parent) 2.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-08-04T21:00:11+08:00">
    <meta property="article:modified_time" content="2024-08-04T21:00:11+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【C&#43;&#43;深度探索】AVL树的底层实现机制</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <div align="center"> 
 <img src="https://images2.imgbox.com/de/fd/bNAK09yt_o.jpg" width="800"> 
</div> 
<center> 
 <strong><font color="orange">🔥 个人主页：<a href="https://blog.csdn.net/Renswc?type=blog">大耳朵土土垚</a></font></strong> 
</center> 
<center> 
 <strong><font color="orange">🔥 所属专栏：<a href="https://blog.csdn.net/renswc/category_12630230.html">C++从入门至进阶</a></font></strong> 
</center> 
<br> 
<center> 
 <strong> 这里将会不定期更新有关C/C++的内容，欢迎大家点赞，收藏，评论🥳🥳🎉🎉🎉 </strong> 
 <div align="center"> 
  <img src="https://images2.imgbox.com/1f/d0/Dur7Jxj9_o.gif" width="800"> 
 </div> 
</center> 
<h2><a id="_9"></a>前言</h2> 
<p>  AVL树就是在二叉搜索树的基础上引入了平衡因子，因此AVL树也可以看成是二叉搜索树.一棵AVL树或者是空树，或者是具有以下性质的二叉搜索树：它的左右子树都是AVL树，左右子树高度之差(简称平衡因子)的绝对值不超过1(-1/0/1).接下来我们继续学习AVL树底层实现的部分机制.</p> 
<p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#_9" rel="nofollow">前言</a></li><li><a href="#1AVL_13" rel="nofollow">1.AVL树结构</a></li><li><a href="#2AVL_74" rel="nofollow">2.AVL树的插入</a></li><li><ul><li><a href="#_210" rel="nofollow">✨左单旋</a></li><li><a href="#_254" rel="nofollow">✨右单旋</a></li><li><a href="#_297" rel="nofollow">✨右左双旋</a></li><li><a href="#_336" rel="nofollow">✨左右双旋</a></li></ul> 
  </li><li><a href="#3_386" rel="nofollow">3.中序遍历</a></li><li><a href="#4_AVL_413" rel="nofollow">4. AVL树的验证</a></li><li><a href="#5_460" rel="nofollow">5.验证用例</a></li><li><a href="#6_484" rel="nofollow">6.结语</a></li></ul> 
</div> 
<p></p> 
<h2><a id="1AVL_13"></a>1.AVL树结构</h2> 
<pre><code class="prism language-cpp"><span class="token comment">//AVL树节点类</span>
<span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">V</span><span class="token operator">&gt;</span>
<span class="token keyword">struct</span> <span class="token class-name">AVLTreeNode</span>
<span class="token punctuation">{<!-- --></span>
	pair<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> V<span class="token operator">&gt;</span> _kv<span class="token punctuation">;</span>
	AVLTreeNode<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> V<span class="token operator">&gt;</span><span class="token operator">*</span> _pLeft<span class="token punctuation">;</span>
	AVLTreeNode<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> V<span class="token operator">&gt;</span><span class="token operator">*</span> _pRight<span class="token punctuation">;</span>
	AVLTreeNode<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> V<span class="token operator">&gt;</span><span class="token operator">*</span> _pParent<span class="token punctuation">;</span>
	<span class="token keyword">int</span> _bf<span class="token punctuation">;</span> <span class="token comment">// balance factor</span>

	<span class="token function">AVLTreeNode</span><span class="token punctuation">(</span><span class="token keyword">const</span> pair<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> V<span class="token operator">&gt;</span><span class="token operator">&amp;</span> kv<span class="token punctuation">)</span>
		<span class="token operator">:</span><span class="token function">_kv</span><span class="token punctuation">(</span>kv<span class="token punctuation">)</span>
		<span class="token punctuation">,</span> <span class="token function">_pLeft</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span>
		<span class="token punctuation">,</span> <span class="token function">_pRight</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span>
		<span class="token punctuation">,</span> <span class="token function">_pParent</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span>
		<span class="token punctuation">,</span> <span class="token function">_bf</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// AVL: 二叉搜索树 + 平衡因子的限制</span>
<span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">K</span><span class="token punctuation">,</span><span class="token keyword">class</span> <span class="token class-name">V</span><span class="token operator">&gt;</span>
<span class="token keyword">class</span> <span class="token class-name">AVLTree</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">typedef</span> AVLTreeNode<span class="token operator">&lt;</span>K<span class="token punctuation">,</span>V<span class="token operator">&gt;</span> Node<span class="token punctuation">;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token function">AVLTree</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token operator">:</span> <span class="token function">_pRoot</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>

	<span class="token comment">// 在AVL树中插入值为kv的节点</span>
	<span class="token keyword">bool</span> <span class="token function">Insert</span><span class="token punctuation">(</span><span class="token keyword">const</span> pair<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> V<span class="token operator">&gt;</span><span class="token operator">&amp;</span> kv<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//中序遍历</span>
	<span class="token keyword">void</span> <span class="token function">InOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">_InOrder</span><span class="token punctuation">(</span>_pRoot<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//判断是否是平衡树</span>
	<span class="token keyword">bool</span> <span class="token function">IsBalanceTree</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
	<span class="token comment">//嵌套一层函数</span>
		<span class="token keyword">return</span> <span class="token function">_IsBalanceTree</span><span class="token punctuation">(</span>_pRoot<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	
<span class="token keyword">private</span><span class="token operator">:</span>
	<span class="token keyword">bool</span> <span class="token function">_IsBalanceTree</span><span class="token punctuation">(</span>Node<span class="token operator">*</span> pRoot<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> <span class="token function">_Height</span><span class="token punctuation">(</span>Node<span class="token operator">*</span> pRoot<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">void</span> <span class="token function">_InOrder</span><span class="token punctuation">(</span>Node<span class="token operator">*</span> root<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// 右单旋</span>
	<span class="token keyword">void</span> <span class="token function">RotateR</span><span class="token punctuation">(</span>Node<span class="token operator">*</span> parent<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// 左单旋</span>
	<span class="token keyword">void</span> <span class="token function">RotateL</span><span class="token punctuation">(</span>Node<span class="token operator">*</span> parent<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// 右左双旋</span>
	<span class="token keyword">void</span> <span class="token function">RotateRL</span><span class="token punctuation">(</span>Node<span class="token operator">*</span> parent<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// 左右双旋</span>
	<span class="token keyword">void</span> <span class="token function">RotateLR</span><span class="token punctuation">(</span>Node<span class="token operator">*</span> parent<span class="token punctuation">)</span>
</code></pre> 
<h2><a id="2AVL_74"></a>2.AVL树的插入</h2> 
<br> 
<p>AVL树的插入过程可以分为两步：</p> 
<ul><li>按照二叉搜索树的方式插入新节点</li><li>调整节点的平衡因子</li></ul> 
<blockquote> 
 <p>在插入新节点之后，AVL树的平衡性可能会遭到破坏，此时就需要更新平衡因子，并检测是否破坏了AVL树的平衡性。</p> 
</blockquote> 
<p>如下图所示：</p> 
<div align="center"> 
 <img src="https://images2.imgbox.com/34/14/MaIFCnaN_o.jpg" width="800"> 
</div> 
<p><strong>pCur插入后，pParent的平衡因子一定需要调整，在插入之前，pParent<br> 的平衡因子分为三种情况：-1，0, 1, 分以下两种情况：</strong></p> 
<ul><li>如果pCur插入到pParent的左侧，只需给pParent的平衡因子-1即可，如上图所示</li><li>如果pCur插入到pParent的右侧，只需给pParent的平衡因子+1即可</li></ul> 
<p><strong>此时，pParent的平衡因子也可能有三种情况：0，正负1， 正负2</strong></p> 
<ul><li>如果pParent的平衡因子为0，说明插入之前pParent的平衡因子为正负1，插入后被调整成0，此时满足AVL树的性质，插入成功，如上图所示；</li><li>如果pParent的平衡因子为正负1，说明插入前pParent的平衡因子一定为0（不可能是2，因为这样没插入新节点前该树就已经不平衡了），插入后被更新成正负1，此时以pParent为根的树的高度增加，需要继续向上更新，如下图所示：</li></ul> 
<div align="center"> 
 <img src="https://images2.imgbox.com/79/43/M0gfNrJw_o.jpg" width="800"> 
</div> 
<br> 
<blockquote> 
 <p>AVL树插入新节点90之后，pParent也就是80节点的平衡因子就需要更新为1，继续往上更新，直到60节点的平衡因子被更新为2，说明不符合AVL树的性质，就需要进行旋转来维持平衡。</p> 
</blockquote> 
<ul><li>如果更新后pParent的平衡因子为正负2，则pParent的平衡因子违反平衡树的性质，需要对其进行旋转处理，如上图所示</li></ul> 
<p>所以对于AVL树插入新节点来说，我们需要更新插入后由于左右子树高度差改变带来的新的平衡因子，然后根据平衡因子是否大于1或小于-1来判断AVL树是否平衡，如果不平衡我们就必须通过旋转来维持平衡，代码如下：</p> 
<pre><code class="prism language-cpp">	<span class="token comment">// 在AVL树中插入值为kv的节点</span>
	<span class="token keyword">bool</span> <span class="token function">Insert</span><span class="token punctuation">(</span><span class="token keyword">const</span> pair<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> V<span class="token operator">&gt;</span><span class="token operator">&amp;</span> kv<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token comment">//1.先构造新节点</span>
		Node<span class="token operator">*</span> newnode <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Node</span><span class="token punctuation">(</span>kv<span class="token punctuation">)</span><span class="token punctuation">;</span>
		Node<span class="token operator">*</span> cur <span class="token operator">=</span> _pRoot<span class="token punctuation">;</span>
		
		<span class="token comment">//2.判断插入位置</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>cur <span class="token operator">==</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token comment">//如果树为空</span>
			_pRoot <span class="token operator">=</span> newnode<span class="token punctuation">;</span>
			<span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token comment">//如果AVL树不为空，找到插入位置</span>
		Node<span class="token operator">*</span> parent <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_pParent<span class="token punctuation">;</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>cur<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>	
			<span class="token keyword">if</span> <span class="token punctuation">(</span>cur<span class="token operator">-&gt;</span>_kv<span class="token punctuation">.</span>first <span class="token operator">&gt;</span> kv<span class="token punctuation">.</span>first<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				parent <span class="token operator">=</span> cur<span class="token punctuation">;</span>
				cur <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_pLeft<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>cur<span class="token operator">-&gt;</span>_kv<span class="token punctuation">.</span>first <span class="token operator">&lt;</span> kv<span class="token punctuation">.</span>first<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				parent <span class="token operator">=</span> cur<span class="token punctuation">;</span>
				cur <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_pRight<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token comment">//找到相同节点，AVL树不能插入相同节点</span>
			<span class="token keyword">else</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		
		<span class="token comment">//3.插入节点</span>
		<span class="token comment">//先判断是插入左边还是右边</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>parent<span class="token operator">-&gt;</span>_kv<span class="token punctuation">.</span>first <span class="token operator">&gt;</span> kv<span class="token punctuation">.</span>first<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token comment">//插入左边</span>
			parent<span class="token operator">-&gt;</span>_pLeft <span class="token operator">=</span> newnode<span class="token punctuation">;</span>		
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token comment">//插入右边</span>
			parent<span class="token operator">-&gt;</span>_pRight <span class="token operator">=</span> newnode<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		newnode<span class="token operator">-&gt;</span>_pParent <span class="token operator">=</span> parent<span class="token punctuation">;</span>
		cur <span class="token operator">=</span> newnode<span class="token punctuation">;</span>
		<span class="token comment">//4.更新平衡因子</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>parent<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>parent<span class="token operator">-&gt;</span>_pLeft <span class="token operator">==</span> cur<span class="token punctuation">)</span>
				parent<span class="token operator">-&gt;</span>_bf<span class="token operator">--</span><span class="token punctuation">;</span>
			<span class="token keyword">else</span>
				parent<span class="token operator">-&gt;</span>_bf<span class="token operator">++</span><span class="token punctuation">;</span>

			<span class="token comment">// 更新后检测双亲的平衡因子</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>parent<span class="token operator">-&gt;</span>_bf <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token keyword">break</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>parent<span class="token operator">-&gt;</span>_bf <span class="token operator">==</span> <span class="token number">1</span> <span class="token operator">||</span> parent<span class="token operator">-&gt;</span>_bf <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token comment">//平衡因子需要继续往上更新</span>
				cur <span class="token operator">=</span> parent<span class="token punctuation">;</span>
				parent <span class="token operator">=</span> parent<span class="token operator">-&gt;</span>_pParent<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>parent<span class="token operator">-&gt;</span>_bf <span class="token operator">==</span> <span class="token number">2</span> <span class="token operator">||</span> parent<span class="token operator">-&gt;</span>_bf <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span>parent<span class="token operator">-&gt;</span>_bf <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">2</span> <span class="token operator">&amp;&amp;</span> cur<span class="token operator">-&gt;</span>_bf <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
				<span class="token punctuation">{<!-- --></span>
					<span class="token comment">//左边高进行右单旋</span>
					<span class="token function">RotateR</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>parent<span class="token operator">-&gt;</span>_bf <span class="token operator">==</span> <span class="token number">2</span> <span class="token operator">&amp;&amp;</span> cur<span class="token operator">-&gt;</span>_bf <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span>
				<span class="token punctuation">{<!-- --></span>
					<span class="token comment">//右边高进行左单旋</span>
					<span class="token function">RotateL</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>parent<span class="token operator">-&gt;</span>_bf <span class="token operator">==</span> <span class="token number">2</span> <span class="token operator">&amp;&amp;</span> cur<span class="token operator">-&gt;</span>_bf <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
				<span class="token punctuation">{<!-- --></span>
					<span class="token function">RotateRL</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				<span class="token keyword">else</span><span class="token comment">//(parent-&gt;_bf == -2 &amp;&amp; cur-&gt;_bf == 1)</span>
				<span class="token punctuation">{<!-- --></span>
					<span class="token function">RotateLR</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				<span class="token keyword">break</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">else</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token comment">//其他情况，断言报错</span>
				<span class="token function">assert</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
</code></pre> 
<blockquote> 
 <p>这里要注意AVL树不能插入相同节点</p> 
</blockquote> 
<p><strong>AVL树插入新节点的逻辑结构如上述代码所示，如果在一棵原本是平衡的AVL树中插入一个新节点，可能造成不平衡，此时必须调整树的结构，使之平衡化。根据节点插入位置的不同，AVL树的旋转分为四种：那么我们具体来看看AVL树旋转的实现：</strong></p> 
<h3><a id="_210"></a>✨左单旋</h3> 
<p>新节点插入较高右子树的右侧—右右：左单旋<br> <br></p> 
<div align="center"> 
 <img src="https://images2.imgbox.com/31/cc/kx6C0ZT3_o.jpg" width="800"> 
</div> 
<br> 
<blockquote> 
 <p>parent和cur的平衡因子经过旋转之后变为0，维持了AVL树的平衡。</p> 
</blockquote> 
<p>代码如下：</p> 
<pre><code class="prism language-cpp"><span class="token comment">// 左单旋</span>
<span class="token keyword">void</span> <span class="token function">RotateL</span><span class="token punctuation">(</span>Node<span class="token operator">*</span> parent<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	Node<span class="token operator">*</span> cur <span class="token operator">=</span> parent<span class="token operator">-&gt;</span>_pRight<span class="token punctuation">;</span>

	<span class="token comment">//将cur的左边给parent的右边，cur的左边再指向parent</span>
	parent<span class="token operator">-&gt;</span>_pRight <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_pLeft<span class="token punctuation">;</span>
	cur<span class="token operator">-&gt;</span>_pLeft <span class="token operator">=</span> parent<span class="token punctuation">;</span>

	<span class="token comment">//链接cur与parent的父节点</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>parent<span class="token operator">-&gt;</span>_pParent <span class="token operator">==</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token comment">//如果pParent是根节点</span>
		cur<span class="token operator">-&gt;</span>_pParent <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>
		_pRoot <span class="token operator">=</span> cur<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>parent<span class="token operator">-&gt;</span>_pParent<span class="token operator">-&gt;</span>_pLeft <span class="token operator">==</span> parent<span class="token punctuation">)</span>
		parent<span class="token operator">-&gt;</span>_pParent<span class="token operator">-&gt;</span>_pLeft <span class="token operator">=</span> cur<span class="token punctuation">;</span>
	<span class="token keyword">else</span>
		parent<span class="token operator">-&gt;</span>_pParent<span class="token operator">-&gt;</span>_pRight <span class="token operator">=</span> cur<span class="token punctuation">;</span>


	<span class="token comment">//更新父节点</span>
	cur<span class="token operator">-&gt;</span>_pParent <span class="token operator">=</span> parent<span class="token operator">-&gt;</span>_pParent<span class="token punctuation">;</span>
	parent<span class="token operator">-&gt;</span>_pParent <span class="token operator">=</span> cur<span class="token punctuation">;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>parent<span class="token operator">-&gt;</span>_pRight<span class="token punctuation">)</span><span class="token comment">//判断pParent的右边是否存在</span>
		parent<span class="token operator">-&gt;</span>_pRight<span class="token operator">-&gt;</span>_pParent <span class="token operator">=</span> parent<span class="token punctuation">;</span>

	<span class="token comment">//更新平衡因子</span>
	parent<span class="token operator">-&gt;</span>_bf <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	cur<span class="token operator">-&gt;</span>_bf <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="_254"></a>✨右单旋</h3> 
<p>新节点插入较高左子树的左侧—左左：右单旋<br> <br></p> 
<div align="center"> 
 <img src="https://images2.imgbox.com/8b/05/qcEbsZ5n_o.jpg" width="800"> 
</div> 
<br> 代码如下： 
<pre><code class="prism language-cpp">	<span class="token comment">// 右单旋</span>
	<span class="token keyword">void</span> <span class="token function">RotateR</span><span class="token punctuation">(</span>Node<span class="token operator">*</span> parent<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		Node<span class="token operator">*</span> cur <span class="token operator">=</span> parent<span class="token operator">-&gt;</span>_pLeft<span class="token punctuation">;</span>

		<span class="token comment">//将cur的右边给pParent的左边，cur的右边再指向pParent</span>
		parent<span class="token operator">-&gt;</span>_pLeft <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_pRight<span class="token punctuation">;</span>
		cur<span class="token operator">-&gt;</span>_pRight <span class="token operator">=</span> parent<span class="token punctuation">;</span>
		
		<span class="token comment">//链接cur与pParent的父节点</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>parent<span class="token operator">-&gt;</span>_pParent <span class="token operator">==</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token comment">//如果pParent是根节点</span>
			cur<span class="token operator">-&gt;</span>_pParent <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>
			_pRoot <span class="token operator">=</span> cur<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>parent<span class="token operator">-&gt;</span>_pParent<span class="token operator">-&gt;</span>_pLeft <span class="token operator">==</span> parent<span class="token punctuation">)</span>
			parent<span class="token operator">-&gt;</span>_pParent<span class="token operator">-&gt;</span>_pLeft <span class="token operator">=</span> cur<span class="token punctuation">;</span>
		<span class="token keyword">else</span>
			parent<span class="token operator">-&gt;</span>_pParent<span class="token operator">-&gt;</span>_pRight <span class="token operator">=</span> cur<span class="token punctuation">;</span>


		<span class="token comment">//更新父节点</span>
		cur<span class="token operator">-&gt;</span>_pParent <span class="token operator">=</span> parent<span class="token operator">-&gt;</span>_pParent<span class="token punctuation">;</span>
		parent<span class="token operator">-&gt;</span>_pParent <span class="token operator">=</span> cur<span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>parent<span class="token operator">-&gt;</span>_pLeft<span class="token punctuation">)</span>
		parent<span class="token operator">-&gt;</span>_pLeft<span class="token operator">-&gt;</span>_pParent <span class="token operator">=</span> parent<span class="token punctuation">;</span>

		<span class="token comment">//更新平衡因子</span>
		parent<span class="token operator">-&gt;</span>_bf <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
		cur<span class="token operator">-&gt;</span>_bf <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

	<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="_297"></a>✨右左双旋</h3> 
<p>新节点插入较高右子树的左侧—右左：先右单旋再左单旋，借助上面实现的右单旋和左单旋即可</p> 
<p>如下图所示，较高右子树(以cur节点为根节点的树)的左侧(以child节点为根节点的树），插入节点，注意这里可以插入child的左侧或右侧，只要插入在child的子树上即可，所以可以是下图中的b或c，这里选择b：<br> <br></p> 
<div align="center"> 
 <img src="https://images2.imgbox.com/73/28/0D1oqc0H_o.jpg" width="800"> 
</div> 
<br> 
<p>前文我们说过只要插入在child的子树上即可，所以可以是上图中的b或c，这里选择b，那么如果是c的话，还是需要进行左右双旋，与选b的区别在于平衡因子的不同，这里可以根据具体选择分析出来，所以在双旋之后记得根据不同的插入位置更新不同的平衡因子。</p> 
<p>代码如下：</p> 
<pre><code class="prism language-cpp"><span class="token comment">// 右左双旋</span>
<span class="token keyword">void</span> <span class="token function">RotateRL</span><span class="token punctuation">(</span>Node<span class="token operator">*</span> parent<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	Node<span class="token operator">*</span> cur <span class="token operator">=</span> parent<span class="token operator">-&gt;</span>_pRight<span class="token punctuation">;</span>
	Node<span class="token operator">*</span> child <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_pLeft<span class="token punctuation">;</span>

	<span class="token comment">//旋转前保存child的平衡因子</span>
	<span class="token keyword">int</span> bf <span class="token operator">=</span> child<span class="token operator">-&gt;</span>_bf<span class="token punctuation">;</span>

	<span class="token comment">//cur的左边高，先右旋</span>
	<span class="token function">RotateR</span><span class="token punctuation">(</span>cur<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//再左旋</span>
	<span class="token function">RotateL</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">//根据不同插入位置更新不同的平衡因子</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>bf <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token comment">//插入在b</span>
	<span class="token punctuation">{<!-- --></span>
		cur<span class="token operator">-&gt;</span>_bf <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>bf <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token comment">//插入在c</span>
	<span class="token punctuation">{<!-- --></span>
		parent<span class="token operator">-&gt;</span>_bf <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="_336"></a>✨左右双旋</h3> 
<p>新节点插入较高左子树的右侧—左右：先左单旋再右单旋，借助上面实现的右单旋和左单旋即可</p> 
<p>如下图所示，左右双旋与右左双旋类似，也可以插入在下图中的b或从，旋转方式一样，不影响，就是最后平衡因子需要根据插入的位置更新：<br> <br></p> 
<div align="center"> 
 <img src="https://images2.imgbox.com/37/a0/QvUnVh5G_o.jpg" width="800"> 
</div> 
<br> 
<p>代码如下：</p> 
<pre><code class="prism language-cpp"><span class="token comment">// 左右双旋</span>
<span class="token keyword">void</span> <span class="token function">RotateLR</span><span class="token punctuation">(</span>Node<span class="token operator">*</span> parent<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	Node<span class="token operator">*</span> cur <span class="token operator">=</span> parent<span class="token operator">-&gt;</span>_pLeft<span class="token punctuation">;</span>
	Node<span class="token operator">*</span> child <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_pRight<span class="token punctuation">;</span>

	<span class="token comment">//旋转前保存child的平衡因子</span>
	<span class="token keyword">int</span> bf <span class="token operator">=</span> child<span class="token operator">-&gt;</span>_bf<span class="token punctuation">;</span>

	<span class="token comment">//cur的右边高，先左旋</span>
	<span class="token function">RotateL</span><span class="token punctuation">(</span>cur<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//再右旋</span>
	<span class="token function">RotateR</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">//根据不同插入位置更新不同的平衡因子</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>bf <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token comment">//b</span>
	<span class="token punctuation">{<!-- --></span>
		parent<span class="token operator">-&gt;</span>_bf <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>bf <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token comment">//c</span>
	<span class="token punctuation">{<!-- --></span>
		cur<span class="token operator">-&gt;</span>_bf <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<br> 
<p><strong>小结：</strong></p> 
<p>假如以parent为根的子树不平衡，即parent的平衡因子为2或者-2，分以下情况考虑</p> 
<ol><li>parent的平衡因子为2，说明parent的右子树高，设parent的右子树的根为cur<br> 当cur的平衡因子为1时，执行左单旋<br> 当cur的平衡因子为-1时，执行右左双旋</li><li>parent的平衡因子为-2，说明parent的左子树高，设parent的左子树的根为cur<br> 当cur的平衡因子为-1是，执行右单旋<br> 当cur的平衡因子为1时，执行左右双旋</li></ol> 
<p>旋转完成后，原parent为根的子树个高度降低，已经平衡，不需要再向上更新。</p> 
<h2><a id="3_386"></a>3.中序遍历</h2> 
<p>  AVL树就是在二叉搜索树的基础上引入了平衡因子，因此AVL树也可以看成是二叉搜索树，其中序遍历和我们之前实现过的<a href="http://t.csdnimg.cn/J9XTJ" rel="nofollow">二叉搜索树</a>一样。</p> 
<p>代码如下：</p> 
<pre><code class="prism language-cpp"><span class="token comment">//中序遍历</span>
<span class="token keyword">void</span> <span class="token function">InOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">_InOrder</span><span class="token punctuation">(</span>_pRoot<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token keyword">void</span> <span class="token function">_InOrder</span><span class="token punctuation">(</span>Node<span class="token operator">*</span> root<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">_InOrder</span><span class="token punctuation">(</span>root<span class="token operator">-&gt;</span>_pLeft<span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> root<span class="token operator">-&gt;</span>_kv<span class="token punctuation">.</span>first <span class="token operator">&lt;&lt;</span> <span class="token string">":"</span> <span class="token operator">&lt;&lt;</span> root<span class="token operator">-&gt;</span>_kv<span class="token punctuation">.</span>second <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token function">_InOrder</span><span class="token punctuation">(</span>root<span class="token operator">-&gt;</span>_pRight<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre> 
<br> 
<h2><a id="4_AVL_413"></a>4. AVL树的验证</h2> 
<p>  AVL树是在二叉搜索树的基础上加入了平衡性的限制，因此要验证AVL树，可以分两步：</p> 
<ul><li>验证其是否为二叉搜索树：<br> 如果中序遍历可得到一个有序的序列，就说明为二叉搜索树</li><li>验证其是否为平衡树：<br> 每个节点子树高度差的绝对值不超过1<br> 对于验证是否是平衡树，代码如下：</li></ul> 
<pre><code class="prism language-cpp"><span class="token keyword">bool</span> <span class="token function">IsBalanceTree</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token comment">//嵌套一层函数</span>
	<span class="token keyword">return</span> <span class="token function">_IsBalanceTree</span><span class="token punctuation">(</span>_pRoot<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">bool</span> <span class="token function">_IsBalanceTree</span><span class="token punctuation">(</span>Node<span class="token operator">*</span> pRoot<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">// 空树也是AVL树</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">nullptr</span> <span class="token operator">==</span> pRoot<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

	<span class="token comment">// 计算pRoot节点的平衡因子：即pRoot左右子树的高度差</span>
	<span class="token keyword">int</span> leftHeight <span class="token operator">=</span> <span class="token function">_Height</span><span class="token punctuation">(</span>pRoot<span class="token operator">-&gt;</span>_pLeft<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> rightHeight <span class="token operator">=</span> <span class="token function">_Height</span><span class="token punctuation">(</span>pRoot<span class="token operator">-&gt;</span>_pRight<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> diff <span class="token operator">=</span> rightHeight <span class="token operator">-</span> leftHeight<span class="token punctuation">;</span>

	<span class="token comment">// 如果计算出的平衡因子与pRoot的平衡因子不相等，或者pRoot平衡因子的绝对值超过1，则一定不是AVL树</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>diff <span class="token operator">!=</span> pRoot<span class="token operator">-&gt;</span>_bf <span class="token operator">||</span> <span class="token punctuation">(</span>diff <span class="token operator">&gt;</span> <span class="token number">1</span> <span class="token operator">||</span> diff <span class="token operator">&lt;</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

	<span class="token comment">// pRoot的左和右如果都是AVL树，则该树一定是AVL树</span>
	<span class="token keyword">return</span> <span class="token function">_IsBalanceTree</span><span class="token punctuation">(</span>pRoot<span class="token operator">-&gt;</span>_pLeft<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token function">_IsBalanceTree</span><span class="token punctuation">(</span>pRoot <span class="token operator">-</span>
	<span class="token operator">&gt;</span> _pRight<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//求树的高度</span>
size_t <span class="token function">_Height</span><span class="token punctuation">(</span>Node<span class="token operator">*</span> pRoot<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>pRoot <span class="token operator">==</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span>
		<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
	size_t left <span class="token operator">=</span> <span class="token function">_Height</span><span class="token punctuation">(</span>pRoot<span class="token operator">-&gt;</span>_pLeft<span class="token punctuation">)</span><span class="token punctuation">;</span>
	size_t right <span class="token operator">=</span> <span class="token function">_Height</span><span class="token punctuation">(</span>pRoot<span class="token operator">-&gt;</span>_pRight<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">return</span> <span class="token punctuation">(</span>left <span class="token operator">&gt;=</span> right <span class="token operator">?</span> left <span class="token operator">:</span> right<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<blockquote> 
 <p>计算pRoot节点的平衡因子：即计算pRoot左右子树的高度差，我们利用递归实现即可。计算是否为平衡树因为是递归需要传递根节点，但是我们在使用时并不能获取根节点，所以需要嵌套一层函数。</p> 
</blockquote> 
<h2><a id="5_460"></a>5.验证用例</h2> 
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">TestAVLTree</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	AVLTree<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">&gt;</span> t<span class="token punctuation">;</span>
	<span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">26</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">15</span> <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment">//用例1</span>
	<span class="token comment">//int a[] = { 4, 2, 6, 1, 3, 5, 15, 7, 16,14 };//用例2</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> e <span class="token operator">:</span> a<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		t<span class="token punctuation">.</span><span class="token function">Insert</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> e<span class="token punctuation">,</span> e <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	cout <span class="token operator">&lt;&lt;</span><span class="token string">"是否是平衡树："</span><span class="token operator">&lt;&lt;</span> t<span class="token punctuation">.</span><span class="token function">IsBalanceTree</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	t<span class="token punctuation">.</span><span class="token function">InOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre> 
<p>结果如下：</p> 
<br> 
<div align="center"> 
 <img src="https://images2.imgbox.com/34/97/LGLnRTZ7_o.png" width="800"> 
</div> 
<br> 
<h2><a id="6_484"></a>6.结语</h2> 
<p>  因为AVL树也是二叉搜索树，其他的类似查找节点，析构函数和构造函数都与二叉搜索树类似，对于删除节点，可按照二叉搜索树的方式将节点删除，然后再更新平衡因子，最差情况下一直要调整到根节点的位置，大家有兴趣可以自己查找了解一下，以上就是今天所有的内容啦~ 完结撒花 ~🥳🎉🎉</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/147d70d7a5d48a7c99631745fea488ea/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Flink学习之Flink SQL</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/772e4bcd5c261b16ef37125d06d9186a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">启航前的风浪：在PyCharm中化解IDE启动错误的策略</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>