<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>学习笔记——动态路由——RIP（距离矢量协议） - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/a080bee44408271835e6fe00826a27a2/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="学习笔记——动态路由——RIP（距离矢量协议）">
  <meta property="og:description" content="一、距离矢量协议
1、距离矢量协议
矢量行为：协议收到一个路由之后，查看是否可以加入到本地的路由表中，如果可以加入，则可以传递，如果不可以加入，则无法传递。 距离矢量路由协议
RIP基于距离矢量算法(又称为Bellman-ford)，路由以矢量(Distance,Direction)的方式通告。
周期性更新：每个路由器周期性地向直接相连的其他路由器发送自己的路由表。
2、路由泛洪
泛洪路由表：路由器将从邻居学习到的路由放进自己的路由表中，然后将路由表所有路由信息在通告给其他路由器，直到整个网络学习到。
1)路由表形成
RIP启动时，初始路由表仅包含直连路由，然后通过设备互相学习更新路由表。假设两个路由器R1和R2相连，路由表形成过程如下：
首先，RIP协议启动之后，R1会向相邻路由器广播一个请求报文；
其次，R2收到R1请求报文后，将自己的RIP路由表封装在响应报文中，以组播形式发出；
最后，R1从R2响应报文中学习新的路由，更新到自己的路由表中。
2)路由信息更新
定期更新：每隔30秒通过UDP 520端口以广播方式向邻居路由器发送一个路由更新包。
触发更新：网络拓扑发生变动，路由器会立即发送一个更新信息个邻居路由器，并以此产生出发更新通知它们的邻居路由器。
因此，当网络出现故障时，要经过较长的时间才能将信息传达所有路由器，即坏消息传播慢。
路由学习过程：路由器学习直连路由。(C代表直连路由)(下图)
所有路由器均配置RIP。更新周期30秒到，路由器会向邻居发送路由表。(下左图)
再过30秒，第二个更新周期到了，再次发送路由表。(上右图)
3、路由环路
路由环路：是指网络中产生矛盾的路由条目，导致数据包在网络中不断地循环传输，始终到达不了目的地的现象。
当192.168.3.0网络突然出现故障时，Router3中对应的路由信息被删除，Router2需要等待定时器超时才会删除该路由，在定时超时前，Router2仍认为192.168.3.0可达。
此时，若Router2先向Router3发送更新信息，则情况如(下图)：RIP路由环路产生示意图
1)Router2向Router3发送更新报文，报文中包含目的网络为192.168.3.0的路由信息；
2)Router3收到更新报文，学习192.168.3.0网络的路由，认为通过Router2可以到达192.168.3.0
3)此时，Router2中去往192.168.3.0的下一跳为Router3，Router3中去往192.168.3.0的下一跳为Router2，形成路由环路。
整个华为数通学习笔记系列中，本人是以网络视频与网络文章的方式自学的，并按自己理解的方式总结了学习笔记，某些笔记段落中可能有部分文字或图片与网络中有雷同，并非抄袭。完处于学习态度，觉得这段文字更通俗易懂，融入了自己的学习笔记中。如有相关文字涉及到某个人的版权利益，可以直接联系我，我会把相关文字删除。【VX：czlingyun 暗号：CSDN】">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-06-25T17:15:43+08:00">
    <meta property="article:modified_time" content="2024-06-25T17:15:43+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">学习笔记——动态路由——RIP（距离矢量协议）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#14151a;"><strong>一、距离矢量协议</strong></span></span></p> 
<p style="margin-left:7.95pt;"><span style="background-color:#ffffff;"><span style="color:#14151a;"><strong>1、距离矢量协议</strong></span></span></p> 
<p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#14151a;"><strong>矢量行为：</strong>协议收到一个路由之后，查看是否可以加入到本地的路由表中，如果可以加入，则可以传递，如果不可以加入，则无法传递。 </span></span></p> 
<p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#14151a;"><strong>距离矢量路由协议</strong></span></span></p> 
<p><img alt="" height="240" src="https://images2.imgbox.com/91/58/p9uFonQs_o.png" width="612"></p> 
<p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#14151a;"><span style="background-color:#ffff00;">RIP</span><span style="background-color:#ffff00;">基于距离矢量算法</span><span style="background-color:#ffff00;">(</span><span style="background-color:#ffff00;">又称为Bellman-ford</span><span style="background-color:#ffff00;">)</span>，<span style="background-color:#ffff00;">路由以矢量</span>(Distance,Direction)<span style="background-color:#ffff00;">的方式通告</span>。</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#14151a;"><strong>周期性更新：</strong>每个路由器周期性地向直接相连的其他路由器发送自己的路由表。</span></span></p> 
<p style="margin-left:7.95pt;"><span style="background-color:#ffffff;"><span style="color:#14151a;"><strong>2、路由泛洪</strong></span></span></p> 
<p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#14151a;"><strong>泛洪路由表：</strong>路由器将从邻居学习到的路由放进自己的路由表中，然后将路由表所有路由信息在通告给其他路由器，直到整个网络学习到。</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#14151a;"><strong>1)路由表形成</strong></span></span></p> 
<p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#14151a;"><span style="background-color:#ffff00;"><span style="color:#000000;">RIP启动时，初始路由表仅包含直连路由</span></span>，然后通过<span style="background-color:#ffff00;"><span style="color:#000000;">设备互相学习更新路由表</span></span>。<strong>假设两个路由器R1和R2相连，路由表形成过程</strong><strong>如下：</strong></span></span></p> 
<p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#14151a;"><strong>首先，</strong>RIP协议启动之后，R1会<span style="background-color:#ffff00;"><span style="color:#000000;">向相邻路由器广播一个请求报文</span></span>；</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#14151a;"><strong>其次，</strong>R2收到R1请求报文后，<span style="background-color:#ffff00;">将自己的RIP路由表封装在响应报文中，以组播形式发出</span>；</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#14151a;"><strong>最后，</strong>R1从R2响应报文中学习新的路由，<span style="background-color:#ffff00;"><span style="color:#000000;">更新到自己的路由表中</span></span>。</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#14151a;"><strong>2)路由信息更新</strong></span></span></p> 
<p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#14151a;"><strong>定期更新：</strong><span style="background-color:#ffff00;">每隔30秒通过UDP 520端口</span>以<span style="background-color:#ffff00;">广播方式</span>向邻居路由器发送一个路由更新包。</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#14151a;"><strong>触发更新：</strong><span style="background-color:#ffff00;">网络拓扑发生变动</span>，<span style="background-color:#ffff00;">路由器会立即发送一个更新信息个邻居路由器</span>，并以此产生出发更新通知它们的邻居路由器。</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#14151a;"><strong>因此，</strong>当网络出现故障时，要经过较长的时间才能将信息传达所有路由器，即坏消息传播慢。</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#14151a;"><strong>路由学习</strong><strong>过程：</strong>路由器学习直连路由。(C代表直连路由)(下图)</span></span></p> 
<p><img alt="" height="180" src="https://images2.imgbox.com/83/73/MSHQikyO_o.png" width="584"></p> 
<p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#14151a;">所有路由器均配置RIP。更新周期30秒到，路由器会向邻居发送路由表。(下左图)</span></span></p> 
<p><img alt="" height="194" src="https://images2.imgbox.com/20/26/GdAVaj7w_o.png" width="477"></p> 
<p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#14151a;">      </span></span></p> 
<p><img alt="" height="216" src="https://images2.imgbox.com/bc/7a/95EX7PLC_o.png" width="496"></p> 
<p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#14151a;">再过30秒，第二个更新周期到了，再次发送路由表。(上右图)</span></span></p> 
<p style="margin-left:7.95pt;"><span style="background-color:#ffffff;"><span style="color:#14151a;"><strong>3、路由环路</strong></span></span></p> 
<p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#14151a;"><strong>路由环路：</strong>是指<span style="background-color:#ffff00;">网络中产生矛盾的路由条目</span>，<span style="background-color:#ffff00;">导致数据包在网络中不断地循环传输</span>，始终到达不了目的地的现象。</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#14151a;">当192.168.3.0网络突然出现故障时，Router3中对应的路由信息被删除，Router2需要等待定时器超时才会删除该路由，在定时超时前，Router2仍认为192.168.3.0可达。</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#14151a;">此时，若Router2先向Router3发送更新信息，则情况如(下图)：<strong>RIP路由环路产生示意图</strong></span></span></p> 
<p><img alt="" height="228" src="https://images2.imgbox.com/06/b3/drqwZQ0a_o.png" width="651"></p> 
<p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#14151a;">      </span></span></p> 
<p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#14151a;">1)Router2向Router3发送更新报文，报文中包含目的网络为192.168.3.0的路由信息；</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#14151a;">2)Router3收到更新报文，学习192.168.3.0网络的路由，认为通过Router2可以到达192.168.3.0</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#ffffff;"><span style="color:#14151a;">3)此时，Router2中去往192.168.3.0的下一跳为Router3，Router3中去往192.168.3.0的下一跳为Router2，形成路由环路。</span></span></p> 
<hr> 
<p><span style="color:#f3f3f4;"><span style="background-color:#fe2c24;">整个华为数通学习笔记系列中，本人是以网络视频与网络文章的方式自学的，并按自己理解的方式总结了学习笔记，某些笔记段落中可能有部分文字或图片与网络中有雷同，并非抄袭。完处于学习态度，觉得这段文字更通俗易懂，融入了自己的学习笔记中。如有相关文字涉及到某个人的版权利益，可以直接联系我，我会把相关文字删除。【VX：czlingyun    暗号：CSDN】</span></span></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f05b3276322475a1b33f28aa9a010f16/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">springboot easyexcel导入/导出excel自定义时间格式</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/0e9028f0a13ab5661b0064a675979bda/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【自然语言处理系列】手动安装和测试Spacy中en_core_web_sm模型的详细教程</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>