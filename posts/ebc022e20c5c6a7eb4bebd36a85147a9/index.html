<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Python爬虫——爬取某网站的视频 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/ebc022e20c5c6a7eb4bebd36a85147a9/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="Python爬虫——爬取某网站的视频">
  <meta property="og:description" content="爬取视频 本次爬取，还是运用的是requests方法
首先进入此网站中，选取你想要爬取的视频，进入视频播放页面，按F12，将网络中的名称栏向上拉找到第一个并点击，可以在标头中，找到后续我们想要的一些信息。
爬取视频的步骤大致分为
1、UA伪装2、获取url3、发送请求4、获取响应的数据5、数据解析 获取存放视频和音频数据的&#34;window.playinfo&#34;文本内容分别获取视频和音频的url将获取到的视频和音频数据存放在两个不同的文件中 UA伪装
找到Cookie并复制—&gt;用户登陆此网站的个人Cookie信息，每个人的都不同找到Referer并复制—&gt;每个网站的防盗链找到User-Agent并复制—&gt;标头的最下面
# UA伪装 head = { &#34;User-Agent&#34;:&#34;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/127.0.0.0 Safari/537.36 Edg/127.0.0.0&#34; # 防盗链子 , &#34;Referer&#34;:&#34;https://www.bilibili.com/&#34; , &#34;Cookie&#34;:&#34;CURRENT_FNVAL=4048; buvid3=BE2D386A-BBCB-E06E-8C2B-F5223B4C8BC517591infoc; b_nut=1721567317; _uuid=67165DF10-7B77-BDE8-3C63-732C2FCAF4D520375infoc; enable_web_push=DISABLE; buvid4=0245F01B-6C4B-CD5A-2EC5-BC060EC0777D18433-024072113-zRTpkL0r94scQqxGfSYKhQ%3D%3D; home_feed_column=5; header_theme_version=CLOSE; rpdid=|(Y|RJRR)Y~0J&#39;u~kulY~Rkk; DedeUserID=1611307689; DedeUserID__ckMd5=b0865dba0b3ced5b; buvid_fp_plain=undefined; is-2022-channel=1; b_lsid=D8542F24_191412D93C0; bsource=search_bing; bmg_af_switch=1; bmg_src_def_domain=i1.hdslb.com; browser_resolution=1659-943; bili_ticket=eyJhbGciOiJIUzI1NiIsImtpZCI6InMwMyIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3MjM2MzQ1OTMsImlhdCI6MTcyMzM3NTMzMywicGx0IjotMX0.Ox8rnEpQH5i1H_wQfH2z5CzZC0y8PlqQCy1KVa8XEfQ; bili_ticket_expires=1723634533; SESSDATA=f567fef6%2C1738927393%2C5d207%2A82CjAh2pSUKwDLr1XiI6ncU5B6NXEfWKS7ES6mDC8yGxM6aT3-BTdvK0KAlYpMhCXtEXgSVkl2aTlQWUNacTZOZ0ZNXzJwZ21QT2ozMXFXcWtFc1FpNnBIWlNWbml2Y3BxNV80bUNMZTBVN1dyb3h0STU1ZklDM0MwckJvanRmTmNkeTBFcW5qYl9RIIEC; bili_jct=8d788bcb503d69ba2ded7dfbb53f6e58; sid=71po5kkf; fingerprint=0c7279b7c69b9542a76b8d9df9b7872a; buvid_fp=BE2D386A-BBCB-E06E-8C2B-F5223B4C8BC517591infoc; bp_t_offset_1611307689=964382000909647872&#34; } 获取url
可以在标头中看到请求URL
# 指定url 自定义一个变量接收 url = &#34;https://www.bilibili.com/video/BV17w4m1e7PT/?spm_id_from=333.1007.tianma.1-1-1.click&amp;vd_source=2a6e427465a2f829272f5863986dfa80&#34; 发送请求
可以在标头中看到请求方式，这里的请求方式是GET方法
# 发送请求，这里的请求方式是get方法 response = requests.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-08-16T15:50:00+08:00">
    <meta property="article:modified_time" content="2024-08-16T15:50:00+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Python爬虫——爬取某网站的视频</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="_0"></a>爬取视频</h2> 
<p><img src="https://images2.imgbox.com/d8/a5/y0LnE5jd_o.png" alt="在这里插入图片描述"></p> 
<ul><li> <p>本次爬取，还是运用的是<strong>requests方法</strong></p> </li><li> <p>首先进入此网站中，选取你想要爬取的视频，进入视频播放页面，按<strong>F12</strong>，将<strong>网络</strong>中的<strong>名称栏</strong>向上拉找到<strong>第一个</strong>并点击，可以在<strong>标头</strong>中，找到后续我们想要的一些信息。<br> <img src="https://images2.imgbox.com/c0/da/7FWRvw8N_o.png" alt="在这里插入图片描述"></p> </li><li> <p>爬取视频的步骤大致分为</p> 
  <ul><li>1、UA伪装</li><li>2、获取url</li><li>3、发送请求</li><li>4、获取响应的数据</li><li>5、数据解析 
    <ul><li>获取存放视频和音频数据的"window.playinfo"文本内容</li><li>分别获取视频和音频的url</li><li>将获取到的视频和音频数据存放在两个不同的文件中</li></ul> </li></ul> </li><li> <p><strong>UA伪装</strong></p> 
  <ul><li>找到<strong>Cookie</strong>并复制—&gt;用户登陆此网站的个人Cookie信息，每个人的都不同</li><li>找到<strong>Referer</strong>并复制—&gt;每个网站的防盗链</li><li>找到<strong>User-Agent</strong>并复制—&gt;标头的最下面<br> <img src="https://images2.imgbox.com/b3/15/h3W3O99w_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/26/f4/EKEr8wRi_o.png" alt="在这里插入图片描述"><pre><code class="prism language-python"><span class="token comment"># UA伪装</span>
    head <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
        <span class="token string">"User-Agent"</span><span class="token punctuation">:</span><span class="token string">"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/127.0.0.0 Safari/537.36 Edg/127.0.0.0"</span>
        <span class="token comment"># 防盗链子</span>
        <span class="token punctuation">,</span> <span class="token string">"Referer"</span><span class="token punctuation">:</span><span class="token string">"https://www.bilibili.com/"</span>
        <span class="token punctuation">,</span>
        <span class="token string">"Cookie"</span><span class="token punctuation">:</span><span class="token string">"CURRENT_FNVAL=4048; buvid3=BE2D386A-BBCB-E06E-8C2B-F5223B4C8BC517591infoc; b_nut=1721567317; _uuid=67165DF10-7B77-BDE8-3C63-732C2FCAF4D520375infoc; enable_web_push=DISABLE; buvid4=0245F01B-6C4B-CD5A-2EC5-BC060EC0777D18433-024072113-zRTpkL0r94scQqxGfSYKhQ%3D%3D; home_feed_column=5; header_theme_version=CLOSE; rpdid=|(Y|RJRR)Y~0J'u~kulY~Rkk; DedeUserID=1611307689; DedeUserID__ckMd5=b0865dba0b3ced5b; buvid_fp_plain=undefined; is-2022-channel=1; b_lsid=D8542F24_191412D93C0; bsource=search_bing; bmg_af_switch=1; bmg_src_def_domain=i1.hdslb.com; browser_resolution=1659-943; bili_ticket=eyJhbGciOiJIUzI1NiIsImtpZCI6InMwMyIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3MjM2MzQ1OTMsImlhdCI6MTcyMzM3NTMzMywicGx0IjotMX0.Ox8rnEpQH5i1H_wQfH2z5CzZC0y8PlqQCy1KVa8XEfQ; bili_ticket_expires=1723634533; SESSDATA=f567fef6%2C1738927393%2C5d207%2A82CjAh2pSUKwDLr1XiI6ncU5B6NXEfWKS7ES6mDC8yGxM6aT3-BTdvK0KAlYpMhCXtEXgSVkl2aTlQWUNacTZOZ0ZNXzJwZ21QT2ozMXFXcWtFc1FpNnBIWlNWbml2Y3BxNV80bUNMZTBVN1dyb3h0STU1ZklDM0MwckJvanRmTmNkeTBFcW5qYl9RIIEC; bili_jct=8d788bcb503d69ba2ded7dfbb53f6e58; sid=71po5kkf; fingerprint=0c7279b7c69b9542a76b8d9df9b7872a; buvid_fp=BE2D386A-BBCB-E06E-8C2B-F5223B4C8BC517591infoc; bp_t_offset_1611307689=964382000909647872"</span>
    <span class="token punctuation">}</span>
</code></pre> </li></ul> </li><li> <p><strong>获取url</strong></p> 
  <ul><li> <p>可以在标头中看到请求URL<br> <img src="https://images2.imgbox.com/41/e9/XDZJv65s_o.png" alt="在这里插入图片描述"></p> <pre><code class="prism language-python"><span class="token comment"># 指定url 自定义一个变量接收</span>
    url <span class="token operator">=</span> <span class="token string">"https://www.bilibili.com/video/BV17w4m1e7PT/?spm_id_from=333.1007.tianma.1-1-1.click&amp;vd_source=2a6e427465a2f829272f5863986dfa80"</span>
</code></pre> </li></ul> </li><li> <p><strong>发送请求</strong></p> 
  <ul><li>可以在标头中看到请求方式，这里的请求方式是GET方法<br> <img src="https://images2.imgbox.com/34/66/bgE3k7j4_o.png" alt="在这里插入图片描述"><pre><code class="prism language-python"><span class="token comment"># 发送请求，这里的请求方式是get方法</span>
response <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">,</span> headers <span class="token operator">=</span> head<span class="token punctuation">)</span>
</code></pre> </li></ul> </li><li> <p><strong>获取响应的数据</strong></p> 
  <ul><li>这里使用requests中的response.text方法<pre><code class="prism language-python"><span class="token comment"># 获取响应的数据</span>
res_text <span class="token operator">=</span> response<span class="token punctuation">.</span>text
</code></pre> </li></ul> </li><li> <p><strong>数据解析</strong></p> 
  <ul><li> <p>使用 <strong>lxml 库中的 etree 方法</strong></p> </li><li> <p>并将获取到的数据写入到一个html的文件中，进入这个文件可以通过浏览器打开，查看是否是我们将要获取视频的页面</p> <pre><code class="prism language-python">tree <span class="token operator">=</span> etree<span class="token punctuation">.</span>HTML<span class="token punctuation">(</span>res_text<span class="token punctuation">)</span>

<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">"bili2.html"</span><span class="token punctuation">,</span> <span class="token string">"w"</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
    f<span class="token punctuation">.</span>write<span class="token punctuation">(</span>res_text<span class="token punctuation">)</span>
</code></pre> </li><li> <p><strong>获取存放视频和音频数据的"window.–playinfo–"文本内容</strong></p> 
    <ul><li> <p>因为视频和音频的数据都存在window.–playinfo–中，因此我们需要在元素栏下通过标签定位到它，但是我们只需要其内容</p> </li><li> <p>因为window.–playinfo–的内容<strong>是一个大json字符串</strong>，所以我们可以<strong>通过json.loads的方法将它变成一个字典</strong>，方便后面通过键来取视频和音频的数据<br> <img src="https://images2.imgbox.com/7f/6d/6hRFC9R2_o.png" alt="在这里插入图片描述"></p> <pre><code class="prism language-python">base_info <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>tree<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">"/html/head/script[4]/text()"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">:</span><span class="token punctuation">]</span>
info_dict <span class="token operator">=</span> json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>base_info<span class="token punctuation">)</span>
</code></pre> </li></ul> </li><li> <p><strong>分别获取视频和音频的url</strong></p> 
    <ul><li> <p>在元素栏中可以看出window.–playinfo–的内容太多了，不利于我们寻找视频和音频的数据，我们可以在<strong>网络栏</strong>下，<strong>名称中第一个数据的响应中</strong>也可以找到，<strong>耐心一点</strong>向下慢慢通过标签找到window.–playinfo–，再在其中<strong>找到视频和音频的baseUrl</strong></p> </li><li> <p>获取后，再次通过get请求方式，发送请求</p> </li><li> <p><strong>注意</strong>:图片，视频和音频都是二进制内容，所以用content属性获取<br> <img src="https://images2.imgbox.com/85/a9/P5GehjfM_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/6d/82/d8hwHTEK_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/86/39/KO8Xz4w1_o.png" alt="在这里插入图片描述"></p> <pre><code class="prism language-python">video_url <span class="token operator">=</span> info_dict<span class="token punctuation">[</span><span class="token string">"data"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"dash"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'video'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"baseUrl"</span><span class="token punctuation">]</span>
audio_url <span class="token operator">=</span> info_dict<span class="token punctuation">[</span><span class="token string">"data"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"dash"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'audio'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"baseUrl"</span><span class="token punctuation">]</span>

video_content <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>video_url<span class="token punctuation">,</span> headers<span class="token operator">=</span>head<span class="token punctuation">)</span><span class="token punctuation">.</span>content
audio_content <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>audio_url<span class="token punctuation">,</span> headers<span class="token operator">=</span>head<span class="token punctuation">)</span><span class="token punctuation">.</span>content
</code></pre> </li></ul> </li></ul> </li><li> <p>最后将获取到的视频和音频的数据分别存放在两个不同的文件中，视频可以是MP4或者是wmv格式，音频是MP4格式</p> </li></ul> 
<pre><code class="prism language-python"><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">"video2.wmv"</span><span class="token punctuation">,</span> <span class="token string">"wb"</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
	f<span class="token punctuation">.</span>write<span class="token punctuation">(</span>video_content<span class="token punctuation">)</span>
<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">"audio2.mp4"</span><span class="token punctuation">,</span> <span class="token string">"wb"</span><span class="token punctuation">)</span> <span class="token keyword">as</span> fp<span class="token punctuation">:</span>
	fp<span class="token punctuation">.</span>write<span class="token punctuation">(</span>audio_content<span class="token punctuation">)</span>
</code></pre> 
<ul><li>完整代码</li></ul> 
<pre><code class="prism language-python"><span class="token keyword">import</span> requests
<span class="token keyword">from</span> lxml <span class="token keyword">import</span> etree
<span class="token keyword">import</span> json

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    <span class="token comment"># UA伪装</span>
    head <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
        <span class="token string">"User-Agent"</span><span class="token punctuation">:</span><span class="token string">"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/127.0.0.0 Safari/537.36 Edg/127.0.0.0"</span>
        <span class="token comment"># 防盗链子</span>
        <span class="token punctuation">,</span> <span class="token string">"Referer"</span><span class="token punctuation">:</span><span class="token string">"https://www.bilibili.com/"</span>
        <span class="token punctuation">,</span>
        <span class="token string">"Cookie"</span><span class="token punctuation">:</span><span class="token string">"CURRENT_FNVAL=4048; buvid3=BE2D386A-BBCB-E06E-8C2B-F5223B4C8BC517591infoc; b_nut=1721567317; _uuid=67165DF10-7B77-BDE8-3C63-732C2FCAF4D520375infoc; enable_web_push=DISABLE; buvid4=0245F01B-6C4B-CD5A-2EC5-BC060EC0777D18433-024072113-zRTpkL0r94scQqxGfSYKhQ%3D%3D; home_feed_column=5; header_theme_version=CLOSE; rpdid=|(Y|RJRR)Y~0J'u~kulY~Rkk; DedeUserID=1611307689; DedeUserID__ckMd5=b0865dba0b3ced5b; buvid_fp_plain=undefined; is-2022-channel=1; b_lsid=D8542F24_191412D93C0; bsource=search_bing; bmg_af_switch=1; bmg_src_def_domain=i1.hdslb.com; browser_resolution=1659-943; bili_ticket=eyJhbGciOiJIUzI1NiIsImtpZCI6InMwMyIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3MjM2MzQ1OTMsImlhdCI6MTcyMzM3NTMzMywicGx0IjotMX0.Ox8rnEpQH5i1H_wQfH2z5CzZC0y8PlqQCy1KVa8XEfQ; bili_ticket_expires=1723634533; SESSDATA=f567fef6%2C1738927393%2C5d207%2A82CjAh2pSUKwDLr1XiI6ncU5B6NXEfWKS7ES6mDC8yGxM6aT3-BTdvK0KAlYpMhCXtEXgSVkl2aTlQWUNacTZOZ0ZNXzJwZ21QT2ozMXFXcWtFc1FpNnBIWlNWbml2Y3BxNV80bUNMZTBVN1dyb3h0STU1ZklDM0MwckJvanRmTmNkeTBFcW5qYl9RIIEC; bili_jct=8d788bcb503d69ba2ded7dfbb53f6e58; sid=71po5kkf; fingerprint=0c7279b7c69b9542a76b8d9df9b7872a; buvid_fp=BE2D386A-BBCB-E06E-8C2B-F5223B4C8BC517591infoc; bp_t_offset_1611307689=964382000909647872"</span>
    <span class="token punctuation">}</span>

    <span class="token comment"># 1、指定url</span>
    url <span class="token operator">=</span> <span class="token string">"https://www.bilibili.com/video/BV17w4m1e7PT/?spm_id_from=333.1007.tianma.1-1-1.click&amp;vd_source=2a6e427465a2f829272f5863986dfa80"</span>

    <span class="token comment"># 2、发送请求</span>
    response <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">,</span> headers <span class="token operator">=</span> head<span class="token punctuation">)</span>

    <span class="token comment"># 3、获取响应的数据</span>
    res_text <span class="token operator">=</span> response<span class="token punctuation">.</span>text

    <span class="token comment"># 4、数据解析</span>
    tree <span class="token operator">=</span> etree<span class="token punctuation">.</span>HTML<span class="token punctuation">(</span>res_text<span class="token punctuation">)</span>

    <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">"bili2.html"</span><span class="token punctuation">,</span> <span class="token string">"w"</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
        f<span class="token punctuation">.</span>write<span class="token punctuation">(</span>res_text<span class="token punctuation">)</span>

    base_info <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>tree<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">"/html/head/script[4]/text()"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">:</span><span class="token punctuation">]</span>
    info_dict <span class="token operator">=</span> json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>base_info<span class="token punctuation">)</span>

    video_url <span class="token operator">=</span> info_dict<span class="token punctuation">[</span><span class="token string">"data"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"dash"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'video'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"baseUrl"</span><span class="token punctuation">]</span>
    audio_url <span class="token operator">=</span> info_dict<span class="token punctuation">[</span><span class="token string">"data"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"dash"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'audio'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"baseUrl"</span><span class="token punctuation">]</span>

    video_content <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>video_url<span class="token punctuation">,</span> headers<span class="token operator">=</span>head<span class="token punctuation">)</span><span class="token punctuation">.</span>content
    audio_content <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>audio_url<span class="token punctuation">,</span> headers<span class="token operator">=</span>head<span class="token punctuation">)</span><span class="token punctuation">.</span>content

    <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">"video2.wmv"</span><span class="token punctuation">,</span> <span class="token string">"wb"</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
        f<span class="token punctuation">.</span>write<span class="token punctuation">(</span>video_content<span class="token punctuation">)</span>
    <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">"audio2.mp4"</span><span class="token punctuation">,</span> <span class="token string">"wb"</span><span class="token punctuation">)</span> <span class="token keyword">as</span> fp<span class="token punctuation">:</span>
        fp<span class="token punctuation">.</span>write<span class="token punctuation">(</span>audio_content<span class="token punctuation">)</span>
</code></pre> 
<ul><li><strong>注意！！！注意！！！注意！！！</strong></li><li>获取到的是视频和音频两个文件，所以播放时也只能分开播放，也有方法可以将其合并，但是比较繁琐，可以先通过这种方法获取视频练一练，后期再学习合并的方法。</li><li>其实有一种很简单的方法就是将这两个文件，<strong>放到剪映中合并</strong>，效果也是一样的<br> <img src="https://images2.imgbox.com/37/c3/XvZBW27T_o.png" alt="在这里插入图片描述"></li></ul>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/30325f8d293293222ac1672f92010dcb/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">ThreeJs学习笔记--坐标系，光源，相机控件</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/70ff1acc3670f18a23f475e253ec0997/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">日期类代码实现-C&#43;&#43;</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>