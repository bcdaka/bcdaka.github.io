<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>⭐最新版!SpringBoot正确集成PageHelper姿势，不再被误导！ - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/c21643e54a04959044ead8c193a755cd/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="⭐最新版!SpringBoot正确集成PageHelper姿势，不再被误导！">
  <meta property="og:description" content="GGBond🔈 CSDN的朋友们大家好哇，我是新来的Java练习生 CodeCodeBond！
什么是PageHelper？ 这里给不知道的人儿说明一下~~ 知道的xdm可以跳过了！
PageHelper顾名思义是一个 页面 帮手。也就是分页查询的一个好用的工具。他是集成Mybatis开发的时候才能使用的，也就是说他是基于Mybatis的（拦截Mybatis的Excutor，详细可以自行冲浪）大家如果有过写分页查询的需求的时候，其实就会感受过写分页查询sql时候的不便性。
要思考sql分页，条数的拓展性，如何优化。分页逻辑看似简单，但实际操作中涉及多个参数（页码、每页条数、总记录数等），处理不当容易导致分页错误，如计算偏移量出错、页码越界等问题。维护成本高，且多人开发时每个人分页逻辑不同很难统一。 但是！ 使用PageHelper这个工具帮我们解决了以上问题，（当然生产中得好好掂量这个开源工具的兼容稳定性了）当使用PageHelper，你的分页逻辑代码将会变成以下如此简单 👇
@RestController public class IssueController { @Resource private IssueService issueService; @GetMapping(&#34;/get/user/issues&#34;) public R&lt;IssuesPageVo&gt; getIssues(@RequestParam(defaultValue = &#34;1&#34;) Integer pageNum, @RequestParam(defaultValue = &#34;10&#34;) Integer pageSize){ return R.success(issueService.getIssues(pageNum, pageSize)); } } 其中的issueService其实实际你写的sql就只是一个select * 。 然后把页数、页条数放进去，PageHelper就会自动帮你分好页了！！这样子的接口，前端的coding自由度更高，可以随意做拉取加载等等节流操作，再也不怕前端来找茬了。（不是
SpringBoot集成PageHelper正确姿势 开始学习这个插件的时候，可能是网上课程较老的原因，网路上搜索到的各种配置操作基本都是坑，导致我看别人博客学习踩了很多坑，现在我将它们分享出来，希望学习的朋友们及时从坑里爬出来。
坑1： 在风雨交加的一天，CodeCodeBond在学习PageHelper时候，开始谷歌SpringBoot配置PageHelper，看了看文章标题也没错。进去发现它教我在一个SSM项目中写一个配置类，甚至还有文章Maven导入的依赖也是高度重复！真是让人头晕。
在SpringBoot项目究竟要导入什么依赖 网上最常见的就是这样导依赖了
虽然版本兼容的话，也能跑，但是这不是乱导一通吗。
来看看右边的Maven大哥怎么说：
不懂英文没关系，跟着我念 Omi踢 for 丢普立kei te。
其实导入pagehelper-spring-boot-starter的时候，就已经包含了这些依赖项了。所以我们的SpringBoot项目也只需要导入这个依赖即可！
对于一个轻度代码洁癖的CRUD boy，我选择优雅导入依赖~删除冗余
在SpringBoot项目中究竟如何配置 SpringBoot中是可以直接在yml配置文件配置PageHelper的，简单方便可读性高
pagehelper: helperDialect: mysql reasonable: true supportMethodsArguments: true params: count=countSql pageSizeZero: true 我们只需要在你对应的application.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-06-25T23:14:45+08:00">
    <meta property="article:modified_time" content="2024-06-25T23:14:45+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">⭐最新版!SpringBoot正确集成PageHelper姿势，不再被误导！</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="GGBond_0"></a>GGBond🔈</h2> 
<p>CSDN的朋友们大家好哇，我是新来的Java练习生 <strong>CodeCodeBond！</strong><br></p> 
<h3><a id="PageHelper_3"></a>什么是PageHelper？</h3> 
<blockquote> 
 <p>这里给不知道的人儿说明一下~~ <strong>知道的xdm可以跳过了！</strong><br><br> PageHelper顾名思义是一个 页面 帮手。也就是分页查询的一个好用的工具。他是集成Mybatis开发的时候才能使用的，也就是说他是基于Mybatis的（<strong>拦截Mybatis的Excutor</strong>，详细可以自行冲浪）大家如果有过写分页查询的需求的时候，其实就会感受过写分页查询sql时候的不便性。</p> 
 <ul><li>要思考sql分页，条数的拓展性，如何优化。</li><li>分页逻辑看似简单，但实际操作中涉及多个参数（页码、每页条数、总记录数等），处理不当容易导致分页错误，如计算偏移量出错、页码越界等问题。</li><li>维护成本高，且多人开发时每个人分页逻辑不同很难统一。</li></ul> 
</blockquote> 
<p><strong>但是！</strong> 使用PageHelper这个工具帮我们解决了以上问题，（当然生产中得好好掂量这个开源工具的兼容稳定性了）当使用PageHelper，你的分页逻辑代码将会变成以下如此简单 👇</p> 
<pre><code>@RestController
public class IssueController {
    @Resource
    private IssueService issueService;

    @GetMapping("/get/user/issues")
    public R&lt;IssuesPageVo&gt; getIssues(@RequestParam(defaultValue = "1") Integer pageNum,
                                     @RequestParam(defaultValue = "10") Integer pageSize){
        return R.success(issueService.getIssues(pageNum, pageSize));
    }
}
</code></pre> 
<p>其中的issueService其实<strong>实际你写的sql就只是一个select * 。</strong> 然后把页数、页条数放进去，PageHelper就会自动帮你分好页了！！这样子的接口，前端的coding自由度更高，可以随意做拉取加载等等节流操作，再也不怕前端来找茬了。（不是</p> 
<h3><a id="SpringBootPageHelper_26"></a>SpringBoot集成PageHelper正确姿势</h3> 
<p>开始学习这个插件的时候，可能是网上课程较老的原因，网路上搜索到的各种配置操作基本都是坑，导致我看别人博客学习踩了很多坑，现在我将它们分享出来，希望学习的朋友们及时从坑里爬出来。</p> 
<p><strong>坑1：</strong> 在风雨交加的一天，CodeCodeBond在学习PageHelper时候，开始谷歌SpringBoot配置PageHelper，看了看文章标题也没错。进去发现它教我在一个SSM项目中写一个配置类，甚至还有文章Maven导入的依赖也是高度重复！真是让人头晕。<br></p> 
<h5><a id="SpringBoot_30"></a>在SpringBoot项目究竟要导入什么依赖</h5> 
<p>网上最常见的就是这样导依赖了<br> <img src="https://images2.imgbox.com/b9/8d/g8XSYIGE_o.png" alt="image.png"><br> 虽然版本兼容的话，也能跑，但是这不是乱导一通吗。<br></p> 
<p>来看看右边的Maven大哥怎么说：<br> <img src="https://images2.imgbox.com/08/48/yY6Tk0kX_o.png" alt="image.png"></p> 
<p>不懂英文没关系，跟着我念 Omi踢 for 丢普立kei te。</p> 
<p><img src="https://images2.imgbox.com/ff/6b/M0Clx6Le_o.png" alt="image.png"></p> 
<p><strong>其实导入pagehelper-spring-boot-starter的时候，就已经包含了这些依赖项了。所以我们的SpringBoot项目也只需要导入这个依赖即可！</strong><br> 对于一个轻度代码洁癖的CRUD boy，我选择优雅导入依赖~删除冗余</p> 
<br> 
<h5><a id="SpringBoot_49"></a>在SpringBoot项目中究竟如何配置</h5> 
<p><strong>SpringBoot中是可以直接在yml配置文件配置PageHelper的，简单方便可读性高</strong></p> 
<pre><code>pagehelper:
  helperDialect: mysql
  reasonable: true
  supportMethodsArguments: true
  params: count=countSql
  pageSizeZero: true
</code></pre> 
<p>我们只需要在你对应的application.yml文件配你想的配置就可以啦！<br> 这也是SpringBoot项目特点之一： <strong>大大简化了配置！</strong></p> 
<h5><a id="_63"></a>配置成功后，为什么不成功</h5> 
<p>来，我们开始启动，<strong>原…Application，启动！！</strong></p> 
<p><img src="https://images2.imgbox.com/40/57/G8VpiMnD_o.png" alt="image.png"></p> 
<p>噢！原来启动后有一个PageHelper的Logo啊！ 你看看你有没有？ [doge]</p> 
<p>然后我们调用一下我们刚刚写好的接口，试一下哈<br> 嘶，调用是成功了，但是为什么是select * 实际sql语句呢，我想要PageHelper给我家的LIMIT 放去哪里了？？！ <br><br> <strong>坑2： 这里不得不说到一个最新的版本兼容问题，这个问题当时花了我很久的时间去找到。</strong><br> 来看看官方文档：<br><br> <a href="https://github.com/pagehelper/pagehelper-spring-boot">GitHub - pagehelper/pagehelper-spring-boot: pagehelper-spring-boot</a></p> 
<p>文档中明确说到：<br></p> 
<p><img src="https://images2.imgbox.com/51/1d/1iy32SGi_o.png" alt="image.png"><br> 相信很多人学习生活中已经和我一样，用上了SpringBoot 3.x版本了，但是呢，<strong>PageHelper插件在v1.4.6 + 才开始兼容 SpringBoot 3.x版本 ！</strong> <br><br> <strong>所以这是个版本兼容问题的坑， 朋友们注意了</strong></p> 
<p><img src="https://images2.imgbox.com/a3/d0/uDJmKleE_o.png" alt="image.png"><br> 怎么报500了！！！（光速跑到后厨）<br> 让我们看一下报错日志</p> 
<p><img src="https://images2.imgbox.com/5a/5a/ZeriYmbR_o.png" alt="image.png"><br> 这句话的意思是 它的LIMIT给我加到了";"的后面，也就是我的sql语句后面</p> 
<p><img src="https://images2.imgbox.com/9e/82/jRoMhCQQ_o.png" alt="image.png"><br> 我们把这个 “;” 删除，就能正常的分页查询了。</p> 
<p><strong>坑3： sql语句的后面不要习惯性加上你的";",会影响PageHelper加上的LIMIT的</strong></p> 
<p><strong>Once again</strong></p> 
<p><img src="https://images2.imgbox.com/79/ae/hvlF38Wa_o.png" alt="image.png"><br> 可以看到终于实现我们正常的分页查询了！！！<br> <br><br> ps: 这个响应体是我自己写的一个类返回的，你也可以看看PageHelper返回的PageInfo是什么样子的，然后根据需求处理数据。</p> 
<h2><a id="_104"></a>最后的最后</h2> 
<blockquote> 
 <p>这些都是我以前总结的一些笔记，我会慢慢把他们发到CSDN这个平台，希望可以帮助到大家！~ 我是CodeCodeBond，关注我，带你游玩后端开发~</p> 
</blockquote>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/66078c54098b6fb398dea46b0868c2ea/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Flink CDC</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/3f13f1ee49d72452aafd46aa70e9f0d6/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Websocket在实时视频监控行业中的应用，以及如何应用于视频监控平台及其web客户端</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>