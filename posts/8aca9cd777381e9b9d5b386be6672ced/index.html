<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【C语言】探索结构体基础知识：简明概要 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/8aca9cd777381e9b9d5b386be6672ced/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="【C语言】探索结构体基础知识：简明概要">
  <meta property="og:description" content="🔥引言
结构体是一种在编程中用来组织和存储相关数据的自定义数据类型，本章将会介绍结构体的基本概念和使用方法
🌈个人主页：是店小二呀
🌈C语言笔记专栏：C语言笔记
🌈C&#43;&#43;笔记专栏： C&#43;&#43;笔记
🌈喜欢的诗句:无人扶我青云志 我自踏雪至山巅
文章目录 【前文】类型分类 【正文】一、结构体的声明1.1 特殊声明(匿名结构体) 二、自引用三、typedef类型重命名相关的知识点四、结构体变量的创建和初始化（重点）4.1 结构体变量的创建4.2 结构体变量的初始化4.3 特殊初始化 五、结构成员访问操作符 【前文】 首先我们需要先搞清楚两个问题。结构体是什么？结构体有什么用呢？关于第一个问题，结构体是可以存储一个或者多个类型成员变量的集合关于第二个问题，结构体作用，可以更加灵活地处理、描述一个复杂的属性。比如:一个学生的属性就是名字，年纪之类的，那么我们就需要用到结构体去描述
类型分类 类型主要分为内置类型和自定义类型，内置类型由 C&#43;&#43; 语言标准指定的基础类型，比如char，int就是 属于内置类型，而联合体，枚举，包括今天学习的结构体也是属于自定义类型
【正文】 一、结构体的声明 struct 自定义名称 { int _age; char _name; }; 【注意】:
自定义名称是用于定义结构体类型，结构体内部只负责声明定义结构体类型关键字是struct结构体后面需要添加;这里_可以更好表示这是一个结构体成员(不写也是可以的)，提高可读性 1.1 特殊声明(匿名结构体) struct//匿名结构体 { int _age; char _name; }*s; struct { int _age; char _name; }p; 【问题】：s=&amp;p这里一段代码合法吗？
【回答】：
编译器会将这里两个变量看作两个不同类型的变量基本只能使用一次匿名结构体，不然会区分不开 二、自引用 【问题一】:如果结构体里面内嵌结构体？
【回答】：
如果将结构体看成一个容器，如果将一个等大容器放进去，那么容器是不是被挤满了，再分析下，这样子结构体变量大小会无穷大！ 【问题二】：如果想要结构体内嵌结构体，需要怎么做？
【回答】：
既然这个容器不能满足需求，可以找其他容器来保存数据，同时将它们之间创建联系—&gt;将容器一半装入数据，一半是另外容器的指针，通过指针找到另外的容器 struct Su { int _a; struct Su *_p; }; 三、typedef类型重命名相关的知识点 typedef struct { node *_p; }node; 【问题】:">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-05-20T08:29:48+08:00">
    <meta property="article:modified_time" content="2024-05-20T08:29:48+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【C语言】探索结构体基础知识：简明概要</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-github-gist">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><img src="https://images2.imgbox.com/f5/40/PhDnCWLw_o.gif" alt="在这里插入图片描述">🔥引言</p> 
<blockquote> 
 <p>结构体是一种在编程中用来组织和存储相关数据的自定义数据类型，本章将会介绍结构体的基本概念和使用方法</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/75/12/MdrTYvKi_o.gif" alt="请添加图片描述" width="600" height="60"></p> 
<p><img src="https://images2.imgbox.com/16/78/4s2YKGPU_o.png" alt="Alt" width="200" height="200"></p> 
<p>🌈个人主页：<a href="https://blog.csdn.net/2302_79177254?type=blog">是店小二呀</a><br> 🌈C语言笔记专栏：<a href="https://blog.csdn.net/2302_79177254/category_12498683.html?spm=1001.2014.3001.5482">C语言笔记</a><br> 🌈C++笔记专栏： <a href="https://blog.csdn.net/2302_79177254/category_12596619.html">C++笔记</a></p> 
<p>🌈喜欢的诗句:无人扶我青云志 我自踏雪至山巅<br> <img src="https://images2.imgbox.com/5d/11/okwO9ap7_o.gif" alt="请添加图片描述" width="600" height="60"></p> 
<p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#font_colorcornflowerbluefont_21" rel="nofollow"><font color="cornflowerblue">【前文】</font></a></li><li><ul><li><a href="#font_colorcornflowerbluefont_25" rel="nofollow"><font color="cornflowerblue">类型分类</font></a></li></ul> 
  </li><li><a href="#font_colorcornflowerbluefont_30" rel="nofollow"><font color="cornflowerblue">【正文】</font></a></li><li><a href="#font_colorcornflowerbluefont_31" rel="nofollow"><font color="cornflowerblue">一、结构体的声明</font></a></li><li><ul><li><a href="#font_colorcornflowerblue11_font_48" rel="nofollow"><font color="cornflowerblue">1.1 特殊声明(匿名结构体)</font></a></li></ul> 
  </li><li><a href="#font_colorcornflowerbluefont_71" rel="nofollow"><font color="cornflowerblue">二、自引用</font></a></li><li><a href="#font_colorcornflowerbluetypedeffont_94" rel="nofollow"><font color="cornflowerblue">三、typedef类型重命名相关的知识点</font></a></li><li><a href="#font_colorcornflowerbluefont_114" rel="nofollow"><font color="cornflowerblue">四、结构体变量的创建和初始化</font>（重点）</a></li><li><ul><li><a href="#font_colorcornflowerblue41_font_116" rel="nofollow"><font color="cornflowerblue">4.1 结构体变量的创建</font></a></li><li><a href="#font_colorcornflowerblue42_font_159" rel="nofollow"><font color="cornflowerblue">4.2 结构体变量的初始化</font></a></li><li><a href="#font_colorcornflowerblue43_font_171" rel="nofollow"><font color="cornflowerblue">4.3 特殊初始化</font></a></li></ul> 
  </li><li><a href="#font_colorcornflowerbluefont_205" rel="nofollow"><font color="cornflowerblue">五、结构成员访问操作符</font></a></li></ul> 
</div> 
<p></p> 
<hr> 
<h2><a id="font_colorcornflowerbluefont_21"></a><font color="cornflowerblue">【前文】</font></h2> 
<p>首先我们需要先搞清楚两个问题。结构体是什么？结构体有什么用呢？关于第一个问题，结构体是可以存储一个或者多个类型成员变量的集合关于第二个问题，结构体作用，可以更加灵活地处理、描述一个复杂的属性。比如:一个学生的属性就是名字，年纪之类的，那么我们就需要用到结构体去描述</p> 
<h3><a id="font_colorcornflowerbluefont_25"></a><font color="cornflowerblue">类型分类</font></h3> 
<p>类型主要分为<strong>内置类型</strong>和<strong>自定义类型</strong>，内置类型由 C++ 语言标准指定的基础类型，比如char，int就是 属于内置类型，而联合体，枚举，包括今天学习的结构体也是属于自定义类型</p> 
<hr> 
<h2><a id="font_colorcornflowerbluefont_30"></a><font color="cornflowerblue">【正文】</font></h2> 
<h2><a id="font_colorcornflowerbluefont_31"></a><font color="cornflowerblue">一、结构体的声明</font></h2> 
<pre><code class="prism language-c"><span class="token keyword">struct</span> 自定义名称
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> _age<span class="token punctuation">;</span>
    <span class="token keyword">char</span> _name<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<p>【<strong>注意</strong>】:</p> 
<ul><li>自定义名称是用于定义结构体类型，结构体<strong>内部只负责声明</strong></li><li>定义结构体类型关键字是struct</li><li>结构体后面需要添加;</li><li>这里_可以更好表示这是一个结构体成员(不写也是可以的)，提高可读性</li></ul> 
<h3><a id="font_colorcornflowerblue11_font_48"></a><font color="cornflowerblue">1.1 特殊声明(匿名结构体)</font></h3> 
<pre><code class="prism language-c"><span class="token keyword">struct</span><span class="token comment">//匿名结构体 </span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> _age<span class="token punctuation">;</span>
    <span class="token keyword">char</span> _name<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token operator">*</span>s<span class="token punctuation">;</span>
<span class="token keyword">struct</span> 
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> _age<span class="token punctuation">;</span>
    <span class="token keyword">char</span> _name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>p<span class="token punctuation">;</span>
</code></pre> 
<p>【<strong>问题</strong>】：s=&amp;p这里一段代码合法吗？</p> 
<p>【<strong>回答</strong>】：</p> 
<ul><li>编译器会将这里两个变量看作两个不同类型的变量</li><li>基本<strong>只能使用一次</strong>匿名结构体，不然会区分不开</li></ul> 
<hr> 
<h2><a id="font_colorcornflowerbluefont_71"></a><font color="cornflowerblue">二、自引用</font></h2> 
<p>【<strong>问题一</strong>】:如果结构体里面内嵌结构体？</p> 
<p>【<strong>回答</strong>】：</p> 
<ul><li>如果将结构体看成一个容器，如果将一个等大容器放进去，那么容器是不是被挤满了，再分析下，这样子结构体变量大小会无穷大！</li></ul> 
<p>【<strong>问题二</strong>】：如果想要结构体内嵌结构体，需要怎么做？</p> 
<p>【<strong>回答</strong>】：</p> 
<ul><li>既然这个容器不能满足需求，可以找其他容器来保存数据，同时将它们之间创建联系—&gt;<strong>将容器一半装入数据，一半是另外容器的指针，通过指针找到另外的容器</strong></li></ul> 
<pre><code class="prism language-c"><span class="token keyword">struct</span> <span class="token class-name">Su</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> _a<span class="token punctuation">;</span>
    <span class="token keyword">struct</span> <span class="token class-name">Su</span> <span class="token operator">*</span>_p<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<hr> 
<h2><a id="font_colorcornflowerbluetypedeffont_94"></a><font color="cornflowerblue">三、typedef类型重命名相关的知识点</font></h2> 
<pre><code class="prism language-c"><span class="token keyword">typedef</span> <span class="token keyword">struct</span>
<span class="token punctuation">{<!-- --></span> 
    node <span class="token operator">*</span>_p<span class="token punctuation">;</span>
<span class="token punctuation">}</span>node<span class="token punctuation">;</span>

</code></pre> 
<p>【<strong>问题</strong>】:</p> 
<p>特殊情况，如果是匿名结构体，node对类型的重命名，但是不能在结构体内提前使用，这里node还没有被定义</p> 
<p>【<strong>解决措施</strong>】：</p> 
<p>使用typedef就<strong>不要使用匿名结构体</strong>，而是直接以node作为结构体名称</p> 
<hr> 
<h2><a id="font_colorcornflowerbluefont_114"></a><font color="cornflowerblue">四、结构体变量的创建和初始化</font>（重点）</h2> 
<h3><a id="font_colorcornflowerblue41_font_116"></a><font color="cornflowerblue">4.1 结构体变量的创建</font></h3> 
<pre><code class="prism language-c"><span class="token keyword">struct</span> <span class="token class-name">Su</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> _a<span class="token punctuation">;</span>  
    <span class="token keyword">char</span> _i<span class="token punctuation">;</span>
<span class="token punctuation">}</span>p1<span class="token punctuation">;</span>  <span class="token comment">//声明类型的同时定义变量p1</span>

<span class="token keyword">struct</span> <span class="token class-name">Su</span> P2<span class="token punctuation">;</span><span class="token comment">//定义变量p2</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">struct</span> <span class="token class-name">Su</span> P3<span class="token punctuation">;</span><span class="token comment">//定义变量p3</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>【注意】:</p> 
<ul><li>这里p1，p2属于函数外的，称为全局变量</li><li>这里p3是在函数里面的，成为局部变量</li></ul> 
<p>【问题】:</p> 
<pre><code class="prism language-cpp"><span class="token keyword">struct</span> <span class="token class-name">node</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> _val<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">int</span> main
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">struct</span> <span class="token class-name">node</span> <span class="token operator">*</span> p<span class="token punctuation">;</span>
    <span class="token keyword">int</span> ret <span class="token operator">=</span> p <span class="token operator">-&gt;</span> _val<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>这里需要注意的是，如果只<strong>声明了结构体指针，是没有为结构体分配内存空间</strong>，这个指针指向的位置是不确定的，就是产生了野指针。对此在需要访问结构体成员变量时，通过定义结构体变量完成实例化，为结构体分配空间。</p> 
<h3><a id="font_colorcornflowerblue42_font_159"></a><font color="cornflowerblue">4.2 结构体变量的初始化</font></h3> 
<p>在定义结构体变量时，允许完成初始化，但是初始化一般需要讲究按照成员顺序初始化</p> 
<pre><code class="prism language-c"><span class="token keyword">struct</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> _age<span class="token punctuation">;</span>
    <span class="token keyword">char</span> _name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>s<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token number">18</span><span class="token punctuation">,</span><span class="token string">"xiaoming"</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<h3><a id="font_colorcornflowerblue43_font_171"></a><font color="cornflowerblue">4.3 特殊初始化</font></h3> 
<p>特殊初始化主要分为两种:<strong>结构体嵌套初始化</strong>和<strong>不按照顺序初始化</strong></p> 
<pre><code class="prism language-c">结构体嵌套初始化
<span class="token keyword">struct</span> <span class="token class-name">P</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> _x<span class="token punctuation">;</span>
    <span class="token keyword">int</span> _y<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">struct</span> <span class="token class-name">Su</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> _a<span class="token punctuation">;</span>
    <span class="token keyword">struct</span> <span class="token class-name">P</span> _p<span class="token punctuation">;</span>
    <span class="token keyword">struct</span> <span class="token class-name">Su</span> <span class="token operator">*</span> _s<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token keyword">struct</span> <span class="token class-name">Su</span> n1<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token number">18</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">struct</span> <span class="token class-name">Su</span> n2<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment">//结构体嵌套初始化</span>

不按照顺序初始化
<span class="token keyword">struct</span> <span class="token class-name">Su</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> _age<span class="token punctuation">;</span>
    <span class="token keyword">char</span> _name<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">struct</span> <span class="token class-name">Su</span> s<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">.</span>name<span class="token operator">=</span><span class="token string">"xiaoming"</span><span class="token punctuation">,</span> <span class="token punctuation">.</span>age<span class="token operator">=</span><span class="token number">18</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment">//这样子不按照顺序也能完成初始化</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<hr> 
<h2><a id="font_colorcornflowerbluefont_205"></a><font color="cornflowerblue">五、结构成员访问操作符</font></h2> 
<p>访问结构体成员变量，我们可以通过以下两种方式实现</p> 
<ul><li>结构体变量.成员变量名</li><li>结构体指针-&gt;成员变量名</li></ul> 
<pre><code class="prism language-C">struct Su
{
    int _a;
    char _i;
}s;

void Transmit1(struct Su s)
{
    printf("%d",s.a);--&gt;4
}

void Transmit2(struct Su* s)
{
    printf("%d",s-&gt;a);--&gt;4
}

int main()
{
    Transmit1(s);//传结构体
    Transmit2(&amp;s);//传地址
    return 0;
}
</code></pre> 
<p>【<strong>问题</strong>】:</p> 
<p>在结构体传参中，推荐使用Transmit1和Transmit2哪个函数？</p> 
<p>【<strong>回答</strong>】:</p> 
<p>推荐使用Transmit2。<strong>函数传参中，参数会压栈</strong>，会空间和时间上的系统开销。如果当传参一个结构体对象的大小很大，那么参数压栈的系统开销比较大，导致性能下降</p> 
<hr> 
<p><img src="https://images2.imgbox.com/a6/ef/Ks916So2_o.gif" alt="请添加图片描述"><br> <strong><font color="cornflowerblue">以上就是本篇文章的所有内容，在此感谢大家的观看！这里是店小二C语言笔记，希望对你在学习C语言中有所帮助！</font></strong></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b6100a9f8c902fea5ec7d4f83ebee6fc/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">基于微信洗车预约小程序系统设计与实现</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c768ffe408bf8d50ae645addaf5163b2/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">基于Doris的日志存储分析平台（同步Kafka日志数据）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>