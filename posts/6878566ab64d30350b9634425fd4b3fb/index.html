<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【leetcode】滑动窗口专题 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/6878566ab64d30350b9634425fd4b3fb/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="【leetcode】滑动窗口专题">
  <meta property="og:description" content="文章目录 1.长度最小的子数组2.无重复字符的最长子串3.最大连续1的个数III4.将x减小到0的最小操作数5.水果成篮6.找到字符串中所有字母异位词7.串联所有单词的子串8.最小覆盖子串 1.长度最小的子数组 leetcode 209.长度最小的子数组
看到这个题目，第一眼肯定想到的是暴力枚举，那我们就来枚举以下试试：
很明显，暴力枚举的方式会超时。
那有没有哪里能优化一下，让它不超时呢？我们来分析一下：
在暴力枚举中，我们的 right 每次都会回到left位置的下一个，然后和 left 一起重新枚举。
优化枚举具体步骤如下：
在上面的枚举过程中，我们的蓝色框就像是一个滑动的、大小不固定的窗口，我们称这种方式叫做滑动窗口
对与滑动窗口而言，无非就以下几个步骤：
每个题目窗口的起始、更新结果的位置是不固定的，具体情况具体分析。
按照滑动窗口的方法，我们的代码就不会超时啦。
简单分析以下时间复杂度：从代码看好像是O(n2)，但是由于我们滑动窗口的思想，两个指针是同向遍历，而且不会回退；当right指针结束时，循环结束，所以它的时间复杂度是O(n)。
class Solution { public: int minSubArrayLen(int target, vector&lt;int&gt;&amp; nums) { int ret = INT_MAX; int n = nums.size(); int sum = 0; for(int left = 0, right = 0; right &lt; n; right&#43;&#43;)//right后移 { //进窗口 sum &#43;= nums[right]; //判断窗口 while(sum &gt;= target) { //符合条件，更新结果 ret = min(ret,right - left &#43; 1); sum -= nums[left];//出窗口 left&#43;&#43;; } } if(ret == INT_MAX) return 0; else return ret; } }; 2.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-07-11T18:03:53+08:00">
    <meta property="article:modified_time" content="2024-07-11T18:03:53+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【leetcode】滑动窗口专题</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#1_3" rel="nofollow">1.长度最小的子数组</a></li><li><a href="#2_63" rel="nofollow">2.无重复字符的最长子串</a></li><li><a href="#31III_101" rel="nofollow">3.最大连续1的个数III</a></li><li><a href="#4x0_139" rel="nofollow">4.将x减小到0的最小操作数</a></li><li><a href="#5_191" rel="nofollow">5.水果成篮</a></li><li><a href="#6_241" rel="nofollow">6.找到字符串中所有字母异位词</a></li><li><a href="#7_306" rel="nofollow">7.串联所有单词的子串</a></li><li><a href="#8_370" rel="nofollow">8.最小覆盖子串</a></li></ul> 
</div> 
<p></p> 
<p><img src="https://images2.imgbox.com/f6/3d/6Ls0sXOG_o.gif" alt="在这里插入图片描述"></p> 
<h2><a id="1_3"></a>1.长度最小的子数组</h2> 
<p><img src="https://images2.imgbox.com/e0/4f/6MVbhfxR_o.png" alt="在这里插入图片描述"><br> <a href="https://leetcode.cn/problems/minimum-size-subarray-sum/" rel="nofollow">leetcode 209.长度最小的子数组</a></p> 
<p>看到这个题目，第一眼肯定想到的是暴力枚举，那我们就来枚举以下试试：<br> <img src="https://images2.imgbox.com/0c/0d/Nu4e7iAK_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>很明显，暴力枚举的方式会超时。</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/67/38/V1FEE2Ya_o.png" alt="在这里插入图片描述"></p> 
<p>那有没有哪里能优化一下，让它不超时呢？我们来分析一下：</p> 
<p>在暴力枚举中，我们的 right 每次都会回到left位置的下一个，然后和 left 一起重新枚举。</p> 
<p><img src="https://images2.imgbox.com/e4/1a/vK03ln8X_o.png" alt="在这里插入图片描述"><br> <mark>优化枚举具体步骤如下：</mark></p> 
<p><img src="https://images2.imgbox.com/33/2c/EcUgiFRd_o.png" alt="在这里插入图片描述"></p> 
<p>在上面的枚举过程中，我们的蓝色框就像是一个滑动的、大小不固定的窗口，我们称这种方式叫做<mark>滑动窗口</mark></p> 
<p>对与滑动窗口而言，无非就以下几个步骤：<br> <img src="https://images2.imgbox.com/25/54/YDwXWEU6_o.png" alt="在这里插入图片描述"><br> 每个题目窗口的起始、更新结果的位置是不固定的，具体情况具体分析。</p> 
<p>按照滑动窗口的方法，我们的代码就不会超时啦。<br> <img src="https://images2.imgbox.com/78/de/JyCR4vCl_o.png" alt="在这里插入图片描述"><br> 简单分析以下时间复杂度：从代码看好像是O(n<sup>2</sup>)，但是由于我们滑动窗口的思想，两个指针是同向遍历，而且不会回退；当right指针结束时，循环结束，所以它的<mark>时间复杂度是O(n)。</mark></p> 
<pre><code class="prism language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">int</span> <span class="token function">minSubArrayLen</span><span class="token punctuation">(</span><span class="token keyword">int</span> target<span class="token punctuation">,</span> vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> nums<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">int</span> ret <span class="token operator">=</span> INT_MAX<span class="token punctuation">;</span>
        <span class="token keyword">int</span> n <span class="token operator">=</span> nums<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> left <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> right <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> right <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> right<span class="token operator">++</span><span class="token punctuation">)</span><span class="token comment">//right后移</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token comment">//进窗口</span>
            sum <span class="token operator">+=</span> nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token comment">//判断窗口</span>
            <span class="token keyword">while</span><span class="token punctuation">(</span>sum <span class="token operator">&gt;=</span> target<span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                <span class="token comment">//符合条件，更新结果</span>
                ret <span class="token operator">=</span> <span class="token function">min</span><span class="token punctuation">(</span>ret<span class="token punctuation">,</span>right <span class="token operator">-</span> left <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                sum <span class="token operator">-=</span> nums<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//出窗口</span>
                left<span class="token operator">++</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>  
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>ret <span class="token operator">==</span> INT_MAX<span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span>
            <span class="token keyword">return</span> ret<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<h2><a id="2_63"></a>2.无重复字符的最长子串</h2> 
<p><img src="https://images2.imgbox.com/44/69/zPNF3UZe_o.png" alt="在这里插入图片描述"><br> <a href="https://leetcode.cn/problems/longest-substring-without-repeating-characters/description/" rel="nofollow">leetcode 3.无重复字符的最长字串</a></p> 
<p>这一题首先想到的方法无疑就是枚举，然后统计每个字符出现的次数；如果一个字符出现了两次，那么当前字符对应的字符串就是最长子串<br> <img src="https://images2.imgbox.com/ad/9f/BNP9Aqvg_o.png" alt="在这里插入图片描述"><br> 我们发现，暴力枚举法也可以过<br> <img src="https://images2.imgbox.com/c9/cf/tCFhO9Zx_o.png" alt="在这里插入图片描述"></p> 
<p>那有没有更优的解法呢？我们来分析一下<br> <img src="https://images2.imgbox.com/32/26/5NTK2viT_o.png" alt="在这里插入图片描述"><br> 上述解法不就是滑动窗口吗？<br> <img src="https://images2.imgbox.com/eb/4c/nMudBO26_o.png" alt="在这里插入图片描述"></p> 
<p>此时的时间复杂度O(n)是不是比暴力枚举O(n<sup>2</sup>)更加优秀了</p> 
<pre><code class="prism language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">int</span> <span class="token function">lengthOfLongestSubstring</span><span class="token punctuation">(</span>string s<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">int</span> n <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> hash<span class="token punctuation">[</span><span class="token number">128</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> ret <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> left <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> right <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> right <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> right<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            hash<span class="token punctuation">[</span>s<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token comment">//入窗口，先记录当前</span>
            <span class="token keyword">while</span><span class="token punctuation">(</span>hash<span class="token punctuation">[</span>s<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token comment">//若s[right]重复</span>
            <span class="token punctuation">{<!-- --></span>
                hash<span class="token punctuation">[</span>s<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">--</span><span class="token punctuation">;</span><span class="token comment">//出窗口</span>
                left<span class="token operator">++</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            ret <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>ret<span class="token punctuation">,</span>right <span class="token operator">-</span> left <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//更新结果</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> ret<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<h2><a id="31III_101"></a>3.最大连续1的个数III</h2> 
<p><img src="https://images2.imgbox.com/22/36/Y3Z3tQGI_o.png" alt="在这里插入图片描述"><br> <a href="https://leetcode.cn/problems/max-consecutive-ones-iii/description/" rel="nofollow">leetcode 1004.最大连续1的个数III</a></p> 
<p>分析题目可知，<mark>其中0可以翻转的意思就是：0可以当作1来用</mark>。那我们的目标就是找一段包含1的个数最大连续的区间，该区间中0的个数不可以超过k。</p> 
<p>这一题的暴力枚举法就不演示了，我们直接上滑动窗口。<br> <img src="https://images2.imgbox.com/65/37/rhuj0vZO_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/c0/b2/1i48yuHF_o.png" alt="在这里插入图片描述"><br> 这样我们的代码就过咯<br> <img src="https://images2.imgbox.com/b0/da/HTTyvgPj_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">int</span> <span class="token function">longestOnes</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> nums<span class="token punctuation">,</span> <span class="token keyword">int</span> k<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">int</span> n <span class="token operator">=</span> nums<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> zero <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//统计0的个数</span>
        <span class="token keyword">int</span> ret <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> left <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> right <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> right <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> right<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token comment">//进窗口，判断是否是0</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
                zero<span class="token operator">++</span><span class="token punctuation">;</span>
            <span class="token comment">//判断0的个数是否大于k</span>
            <span class="token keyword">while</span><span class="token punctuation">(</span>zero <span class="token operator">&gt;</span> k<span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                <span class="token comment">//判断是否是0出窗口</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>left<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
                    zero<span class="token operator">--</span><span class="token punctuation">;</span>
                left<span class="token operator">++</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token comment">//更新结果</span>
            ret <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>ret<span class="token punctuation">,</span>right<span class="token operator">-</span>left<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> ret<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<h2><a id="4x0_139"></a>4.将x减小到0的最小操作数</h2> 
<p><img src="https://images2.imgbox.com/21/34/B3VjaVyq_o.png" alt="在这里插入图片描述"><br> <a href="https://leetcode.cn/problems/minimum-operations-to-reduce-x-to-zero/description/" rel="nofollow">leetcode 1658.将x减小到0的最小操作数</a></p> 
<p>通过读题我们可以发现，它一会是左边，一会是右边，是不是很难控制；那应该怎么做呢？<br> <mark>正难则反</mark></p> 
<ul><li>我们在数组中找一块连续的区间，数组中去除该连续区间的内容，剩下的内容刚好等于x时，那我们是不是就找到了一种情况</li><li>该连续区间就是<mark>数组中元素的总和减去x</mark></li><li>当在数组中找到的一块连续区间最长时，我们就找到了最佳的解决方案。</li></ul> 
<p><img src="https://images2.imgbox.com/19/df/2rABX9MC_o.png" alt="在这里插入图片描述"><br> 还是像前面的题目一样，使用滑动窗口。</p> 
<p><img src="https://images2.imgbox.com/be/db/MXBVxYXc_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">int</span> <span class="token function">minOperations</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> nums<span class="token punctuation">,</span> <span class="token keyword">int</span> x<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">int</span> ret <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> total <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> n <span class="token operator">=</span> nums<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">auto</span> e <span class="token operator">:</span> nums<span class="token punctuation">)</span>
            total <span class="token operator">+=</span> e<span class="token punctuation">;</span> <span class="token comment">//求数组的和</span>
        <span class="token keyword">int</span> target <span class="token operator">=</span> total <span class="token operator">-</span> x<span class="token punctuation">;</span> <span class="token comment">//target为要找的连续区间的总大小</span>

        <span class="token keyword">if</span><span class="token punctuation">(</span>target <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token comment">//细节</span>
            <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>total <span class="token operator">==</span> x<span class="token punctuation">)</span>
            <span class="token keyword">return</span> n<span class="token punctuation">;</span>
            
        <span class="token keyword">int</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> left <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> right <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> right <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> right<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            sum <span class="token operator">+=</span> nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//进窗口</span>
            <span class="token keyword">while</span><span class="token punctuation">(</span>sum <span class="token operator">&gt;</span> target<span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                sum <span class="token operator">-=</span> nums<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">;</span>
                left<span class="token operator">++</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>sum <span class="token operator">==</span> target<span class="token punctuation">)</span><span class="token comment">//找到目标区间，取长的一个</span>
                ret <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>ret<span class="token punctuation">,</span>right <span class="token operator">-</span> left <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>ret <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span>
            <span class="token keyword">return</span> n <span class="token operator">-</span> ret<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<h2><a id="5_191"></a>5.水果成篮</h2> 
<p><img src="https://images2.imgbox.com/cb/70/s68BrmSJ_o.png" alt="在这里插入图片描述"><br> <a href="https://leetcode.cn/problems/fruit-into-baskets/description/" rel="nofollow">leetcode 904.水果成篮</a></p> 
<p>这个题目这么长，它表达的是什么意思呢？</p> 
<blockquote> 
 <p>只有两个篮子，篮子里的水果只能有两种，并且不能跨越树木，求你所经过的树的最多的个数。<br> 那又是求一段连续区间的长度，我们可以使用滑动窗口</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/a1/a4/vfQFcONF_o.png" alt="在这里插入图片描述"><br> 那我怎么知道当前摘的水果有几种呢？----使用哈希表统计<br> <img src="https://images2.imgbox.com/14/28/WPqKLKqr_o.png" alt="在这里插入图片描述"><br> 我们可以发现，使用哈希表的消耗还是挺大的，能不能再优化一下呢？</p> 
<p>由题目要求可知，种类是小于10<sup>5</sup>的，所以我们可以直接使用一个数组+一个变量（记录种类）<br> <img src="https://images2.imgbox.com/24/d1/QIwqJoU1_o.png" alt="在这里插入图片描述"></p> 
<p>这样我们的效率就提升了很多。<br> <img src="https://images2.imgbox.com/bc/9b/dIWNeqNj_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">int</span> <span class="token function">totalFruit</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> fruits<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">int</span> n <span class="token operator">=</span> fruits<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> ret <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> hash<span class="token punctuation">[</span><span class="token number">100000</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> kinds <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> left <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> right <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> right <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> right<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>hash<span class="token punctuation">[</span>fruits<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token comment">//判断是否是新种类水果</span>
                kinds<span class="token operator">++</span><span class="token punctuation">;</span>

            hash<span class="token punctuation">[</span>fruits<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token comment">//进窗口</span>
            
            <span class="token keyword">while</span><span class="token punctuation">(</span>kinds <span class="token operator">&gt;</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token comment">//判断总类是否大于2</span>
            <span class="token punctuation">{<!-- --></span>
                hash<span class="token punctuation">[</span>fruits<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">--</span><span class="token punctuation">;</span><span class="token comment">//出窗口</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>hash<span class="token punctuation">[</span>fruits<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
                    kinds<span class="token operator">--</span><span class="token punctuation">;</span>  <span class="token comment">//去除该种类</span>
                left<span class="token operator">++</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            ret <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>ret<span class="token punctuation">,</span>right <span class="token operator">-</span> left <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> ret<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<h2><a id="6_241"></a>6.找到字符串中所有字母异位词</h2> 
<p><img src="https://images2.imgbox.com/05/ca/49tHQb7u_o.png" alt="在这里插入图片描述"></p> 
<p><a href="https://leetcode.cn/problems/find-all-anagrams-in-a-string/solutions/1123971/zhao-dao-zi-fu-chuan-zhong-suo-you-zi-mu-xzin/" rel="nofollow">leetcode 438.找到字符串中所有字母异位词</a></p> 
<p>分析题目可知，就是在s串中找出p串（p串中的字符顺序可打乱）。<br> 那我们就可以<mark>找一个长度和p相等，且字符种类、个数和p串相等的子串即可</mark>。</p> 
<p>所以我们可以使用两个哈希表，分别统计p串和s串中字符的种类和个数。</p> 
<p>那我们先使用暴力枚举的方式试一下：<br> <img src="https://images2.imgbox.com/22/15/s7cXOj3v_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/12/dc/V4z20R6r_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>那两个哈希表是如何进行比较的呢？</p> 
 <ol><li>首先使用hash1记录p串中字符的类型个数</li><li>遍历s，找长度和p相等的子串，同时hash2存放当前字符<br> a、若hash2[right] &lt;= hash1[right]时，“有效字符”种类增加<br> b、若hash2[right] &gt; hash2[right]，“有效字符”种类不变</li></ol> 
</blockquote> 
<p><img src="https://images2.imgbox.com/87/df/vgqWONsK_o.png" alt="在这里插入图片描述"><br> 暴力枚举的方式确实可以过，但效率比较低下。<br> 既然是找一段连续的区间，那能不能使用滑动窗口呢？我们来试一下<br> <img src="https://images2.imgbox.com/bc/0c/BaxX1Lpd_o.png" alt="在这里插入图片描述"><br> 这样我们的效率就高很多了<br> <img src="https://images2.imgbox.com/6c/53/k0whs6M6_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">findAnagrams</span><span class="token punctuation">(</span>string s<span class="token punctuation">,</span> string p<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> ret<span class="token punctuation">;</span>
        <span class="token keyword">int</span> len <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> hash1<span class="token punctuation">[</span><span class="token number">128</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">auto</span> e<span class="token operator">:</span> p<span class="token punctuation">)</span>
            hash1<span class="token punctuation">[</span>e<span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token comment">//统计p串的种类</span>
        <span class="token keyword">int</span> n <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> hash2<span class="token punctuation">[</span><span class="token number">128</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment">//统计子串种类</span>
        <span class="token keyword">int</span> kinds <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> tmp <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> left <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>right <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> right <span class="token operator">&lt;</span> n <span class="token punctuation">;</span> right<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            hash2<span class="token punctuation">[</span>s<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span> <span class="token comment">//进窗口</span>
            tmp<span class="token operator">++</span><span class="token punctuation">;</span><span class="token comment">//子串长度增加</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>hash2<span class="token punctuation">[</span>s<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">&lt;=</span> hash1<span class="token punctuation">[</span>s<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
                kinds<span class="token operator">++</span><span class="token punctuation">;</span><span class="token comment">//"有效字符"种类增加</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>tmp <span class="token operator">&gt;</span> len<span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>hash2<span class="token punctuation">[</span>s<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">&lt;=</span> hash1<span class="token punctuation">[</span>s<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
                    kinds<span class="token operator">--</span><span class="token punctuation">;</span><span class="token comment">//left位置为“有效字符”，种类减少</span>
                hash2<span class="token punctuation">[</span>s<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">--</span><span class="token punctuation">;</span>
                tmp<span class="token operator">--</span><span class="token punctuation">;</span>
                left<span class="token operator">++</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>tmp <span class="token operator">==</span> len<span class="token punctuation">)</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>kinds <span class="token operator">==</span> len<span class="token punctuation">)</span>
                    ret<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> ret<span class="token punctuation">;</span>
        
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<h2><a id="7_306"></a>7.串联所有单词的子串</h2> 
<p><img src="https://images2.imgbox.com/a9/e1/pj9AWZlf_o.png" alt="在这里插入图片描述"></p> 
<p><a href="https://leetcode.cn/problems/substring-with-concatenation-of-all-words/solutions/3825/chuan-lian-suo-you-dan-ci-de-zi-chuan-by-powcai/" rel="nofollow">leetcode 30.串联所有单词的子串</a></p> 
<p>这一题和前一道题目类似，只不过这里是将字符换成了字符串而已。因此我们还是使用：滑动窗口+哈希表的方式解决。<br> <img src="https://images2.imgbox.com/f7/35/gkmqWyVW_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>解题步骤：</p> 
 <ol><li>先使用hash1统计words中字符串的种类</li><li>使用滑动窗口(由于字符串的长度是固定的，所以可以直接跳跃长度)<br> a、定义起始：left、right<br> b、字符串进窗口，需要使用字符串的函数substr进行裁剪<br> c、判断字符串的种类<br>   是否出窗口<br>   更新结果</li></ol> 
</blockquote> 
<p><img src="https://images2.imgbox.com/b9/44/VxjmqU7O_o.png" alt="在这里插入图片描述"><br> 然而，代码只过了一部分，分析一下它的测试用例发现，<br> <img src="https://images2.imgbox.com/e5/60/mx3c3uae_o.png" alt="在这里插入图片描述"><br> 这样代码就过啦！</p> 
<p><img src="https://images2.imgbox.com/bc/ee/W3oYXN5L_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">findSubstring</span><span class="token punctuation">(</span>string s<span class="token punctuation">,</span> vector<span class="token operator">&lt;</span>string<span class="token operator">&gt;</span><span class="token operator">&amp;</span> words<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> ret<span class="token punctuation">;</span>
        unordered_map<span class="token operator">&lt;</span>string<span class="token punctuation">,</span><span class="token keyword">int</span><span class="token operator">&gt;</span> hash1<span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">auto</span><span class="token operator">&amp;</span> e <span class="token operator">:</span> words<span class="token punctuation">)</span>
            hash1<span class="token punctuation">[</span>e<span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token comment">//统计要求的字符串种类</span>
        <span class="token keyword">int</span> n <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> len <span class="token operator">=</span> words<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//固定的字符串长度</span>
        <span class="token keyword">int</span> m <span class="token operator">=</span> words<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//数组长度</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            unordered_map<span class="token operator">&lt;</span>string<span class="token punctuation">,</span><span class="token keyword">int</span><span class="token operator">&gt;</span> hash2<span class="token punctuation">;</span>
            <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> left <span class="token operator">=</span> i<span class="token punctuation">,</span> right <span class="token operator">=</span> i<span class="token punctuation">;</span> right <span class="token operator">&lt;=</span> n <span class="token operator">-</span>len<span class="token punctuation">;</span> right<span class="token operator">+=</span> len<span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                string in <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span>right<span class="token punctuation">,</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//裁剪字符串</span>
                hash2<span class="token punctuation">[</span>in<span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token comment">//进窗口</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>hash2<span class="token punctuation">[</span>in<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> hash1<span class="token punctuation">[</span>in<span class="token punctuation">]</span><span class="token punctuation">)</span>
                    count<span class="token operator">++</span><span class="token punctuation">;</span><span class="token comment">//统计当前字符串数量</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>right <span class="token operator">-</span> left <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&gt;</span> m<span class="token operator">*</span>len<span class="token punctuation">)</span><span class="token comment">//判断字符串数量是否大于字符数组</span>
                <span class="token punctuation">{<!-- --></span>
                    string out <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span>left<span class="token punctuation">,</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">if</span><span class="token punctuation">(</span>hash2<span class="token punctuation">[</span>out<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> hash1<span class="token punctuation">[</span>out<span class="token punctuation">]</span><span class="token punctuation">)</span>
                        count<span class="token operator">--</span><span class="token punctuation">;</span>
                    hash2<span class="token punctuation">[</span>out<span class="token punctuation">]</span><span class="token operator">--</span><span class="token punctuation">;</span><span class="token comment">//出窗口</span>
                    left <span class="token operator">+=</span> len<span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>count <span class="token operator">==</span> m<span class="token punctuation">)</span>
                    ret<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> ret<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<h2><a id="8_370"></a>8.最小覆盖子串</h2> 
<p><img src="https://images2.imgbox.com/88/cc/eZH8jAAc_o.png" alt="在这里插入图片描述"><br> <a href="https://leetcode.cn/problems/minimum-window-substring/solutions/257359/zui-xiao-fu-gai-zi-chuan-by-leetcode-solution/" rel="nofollow">leetcode 76.最小覆盖子串</a></p> 
<p>该题和上一题的解题思路差不多，也是在s串中找t串的全部字符，只不过这里要将找到的字符串的最小的一个返回而已。</p> 
<p>我们依旧使用滑动窗口+哈希表的方式解决。</p> 
<blockquote> 
 <ol><li>使用hash1统计t串中字符的种类和数量</li><li>滑动窗口：定义起始位置 left, right<br> a、进窗口<br> b、判断是否出窗口<br> c、更新结果（仅需记录串的起始位置和长度，最后在切割子串）</li></ol> 
</blockquote> 
<p><img src="https://images2.imgbox.com/fb/3f/HLqLGFSA_o.png" alt="在这里插入图片描述"></p> 
<p>在代码中在记录字符串的起始位置和长度即可，这样我们的代码就过啦。</p> 
<p><img src="https://images2.imgbox.com/87/70/BIULd2Wd_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
    string <span class="token function">minWindow</span><span class="token punctuation">(</span>string s<span class="token punctuation">,</span> string t<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">int</span> hash1<span class="token punctuation">[</span><span class="token number">128</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">auto</span> e <span class="token operator">:</span> t<span class="token punctuation">)</span>
            hash1<span class="token punctuation">[</span>e<span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token comment">//统计t串的字符种类和数量</span>
        <span class="token keyword">int</span> m <span class="token operator">=</span> t<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> n <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> hash2<span class="token punctuation">[</span><span class="token number">128</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> start <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> len <span class="token operator">=</span> INT_MAX<span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> left <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> right <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> right <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> right<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            hash2<span class="token punctuation">[</span>s<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token comment">//进窗口</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>hash2<span class="token punctuation">[</span>s<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">&lt;=</span> hash1<span class="token punctuation">[</span>s<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment">//是否更新有效字符</span>
                count<span class="token operator">++</span><span class="token punctuation">;</span>
            <span class="token keyword">while</span><span class="token punctuation">(</span>count <span class="token operator">&gt;=</span> m<span class="token punctuation">)</span><span class="token comment">//是否出窗口</span>
            <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>count <span class="token operator">==</span> m<span class="token punctuation">)</span><span class="token comment">//找到符合种类的子串</span>
                <span class="token punctuation">{<!-- --></span>
                    <span class="token comment">//取长度小的一个</span>
                    <span class="token keyword">int</span> curlen <span class="token operator">=</span> right <span class="token operator">-</span> left <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
                    <span class="token keyword">if</span><span class="token punctuation">(</span>curlen <span class="token operator">&lt;</span> len<span class="token punctuation">)</span>
                    <span class="token punctuation">{<!-- --></span>
                        start <span class="token operator">=</span> left<span class="token punctuation">;</span>
                        len <span class="token operator">=</span> curlen<span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
                <span class="token comment">//出窗口</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>hash2<span class="token punctuation">[</span>s<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">&lt;=</span> hash1<span class="token punctuation">[</span>s<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
                    count<span class="token operator">--</span><span class="token punctuation">;</span>
                hash2<span class="token punctuation">[</span>s<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">--</span><span class="token punctuation">;</span>
                left<span class="token operator">++</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>len <span class="token operator">==</span> INT_MAX<span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token string">""</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span>
            <span class="token keyword">return</span> s<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/5ccd5667736cc3ee0bb4fb6caa88de06/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Java Stream API详解：高效处理集合数据的利器</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/9a95a75744ac5312cad512444c642553/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Java中的LinkedList（链表）（如果想知道Java中有关LinkedList的知识点，那么只看这一篇就足够了！）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>