<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>在 Ubuntu 系统上安装和彻底卸载 MySQL - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/2e7f5a0677d09de72d6390f58aee1093/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="在 Ubuntu 系统上安装和彻底卸载 MySQL">
  <meta property="og:description" content="在Ubuntu 20.04上安装MySQL 8.0并配置root用户以进行远程登录，同时设置密码为SSKS#dd的步骤如下：
安装MySQL 8.0
打开终端，使用以下命令安装MySQL服务器：
sudo apt update sudo apt install mysql-server 安全配置MySQL
运行安全配置脚本：
sudo mysql_secure_installation 此过程会提示你设置root密码，移除匿名用户，禁止root用户远程登录等。由于你需要远程登录，所以在禁止root用户远程登录的提示时选择“No”。
设置root密码
在MySQL安全配置时，你会被提示设置root用户的密码。在这里，你应该设置密码为SDW#87%dy。
要配置 MySQL 的 root 用户以允许远程登录并设置密码为 SSKS#dd，请按照以下步骤操作：
登录 MySQL：
首先，使用 root 用户登录到 MySQL。打开终端并输入以下命令：
sudo mysql -u root -p 如果您之前没有为 root 用户设置密码，则 -p 选项可能不需要。
更改 root 用户的认证方法（如有必要）：
默认情况下，MySQL 使用 auth_socket 插件对 root 进行身份验证，这可能会阻止远程登录。要改为使用密码认证，请执行以下命令：
ALTER USER &#39;root&#39;@&#39;localhost&#39; IDENTIFIED WITH &#39;mysql_native_password&#39; BY &#39;SSKS#dd&#39;; FLUSH PRIVILEGES; 创建一个允许远程访问的 root 用户：
接下来，创建一个与您的 root 用户相同权限的用户，但允许从任何主机连接。
CREATE USER &#39;root&#39;@&#39;%&#39; IDENTIFIED BY &#39;SSKS#dd&#39;; GRANT ALL PRIVILEGES ON *.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-01-12T16:15:31+08:00">
    <meta property="article:modified_time" content="2024-01-12T16:15:31+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">在 Ubuntu 系统上安装和彻底卸载 MySQL</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>在Ubuntu 20.04上安装MySQL 8.0并配置root用户以进行远程登录，同时设置密码为<code>SSKS#dd</code>的步骤如下：</p> 
<ol><li> <p><strong>安装MySQL 8.0</strong><br> 打开终端，使用以下命令安装MySQL服务器：</p> <pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">apt</span> update
<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> mysql-server
</code></pre> </li><li> <p><strong>安全配置MySQL</strong><br> 运行安全配置脚本：</p> <pre><code class="prism language-bash"><span class="token function">sudo</span> mysql_secure_installation
</code></pre> <p>此过程会提示你设置root密码，移除匿名用户，禁止root用户远程登录等。由于你需要远程登录，所以在禁止root用户远程登录的提示时选择“No”。</p> </li><li> <p><strong>设置root密码</strong><br> 在MySQL安全配置时，你会被提示设置root用户的密码。在这里，你应该设置密码为<code>SDW#87%dy</code>。</p> </li></ol> 
<p>要配置 MySQL 的 <code>root</code> 用户以允许远程登录并设置密码为 <code>SSKS#dd</code>，请按照以下步骤操作：</p> 
<ol start="4"><li> <p><strong>登录 MySQL</strong>：<br> 首先，使用 <code>root</code> 用户登录到 MySQL。打开终端并输入以下命令：</p> <pre><code class="prism language-bash"><span class="token function">sudo</span> mysql <span class="token parameter variable">-u</span> root <span class="token parameter variable">-p</span>
</code></pre> <p>如果您之前没有为 <code>root</code> 用户设置密码，则 <code>-p</code> 选项可能不需要。</p> </li><li> <p><strong>更改 root 用户的认证方法</strong>（如有必要）：<br> 默认情况下，MySQL 使用 <code>auth_socket</code> 插件对 <code>root</code> 进行身份验证，这可能会阻止远程登录。要改为使用密码认证，请执行以下命令：</p> <pre><code class="prism language-sql"><span class="token keyword">ALTER</span> <span class="token keyword">USER</span> <span class="token string">'root'</span><span class="token variable">@'localhost'</span> IDENTIFIED <span class="token keyword">WITH</span> <span class="token string">'mysql_native_password'</span> <span class="token keyword">BY</span> <span class="token string">'SSKS#dd'</span><span class="token punctuation">;</span>
FLUSH <span class="token keyword">PRIVILEGES</span><span class="token punctuation">;</span>
</code></pre> </li><li> <p><strong>创建一个允许远程访问的 root 用户</strong>：<br> 接下来，创建一个与您的 <code>root</code> 用户相同权限的用户，但允许从任何主机连接。</p> <pre><code class="prism language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">USER</span> <span class="token string">'root'</span><span class="token variable">@'%'</span> IDENTIFIED <span class="token keyword">BY</span> <span class="token string">'SSKS#dd'</span><span class="token punctuation">;</span>
<span class="token keyword">GRANT</span> <span class="token keyword">ALL</span> <span class="token keyword">PRIVILEGES</span> <span class="token keyword">ON</span> <span class="token operator">*</span><span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">TO</span> <span class="token string">'root'</span><span class="token variable">@'%'</span> <span class="token keyword">WITH</span> <span class="token keyword">GRANT</span> <span class="token keyword">OPTION</span><span class="token punctuation">;</span>
FLUSH <span class="token keyword">PRIVILEGES</span><span class="token punctuation">;</span>
</code></pre> </li><li> <p><strong>修改 MySQL 配置以允许远程连接</strong>：<br> 编辑 MySQL 配置文件，通常在 <code>/etc/mysql/mysql.conf.d/mysqld.cnf</code> 或 <code>/etc/mysql/my.cnf</code>。</p> <pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">vim</span> /etc/mysql/mysql.conf.d/mysqld.cnf
</code></pre> <p>找到 <code>bind-address</code> 和<code>mysqlx-bind-address</code>项，把<code>127.0.0.1</code>更改为 <code>0.0.0.0</code> 或注释掉这两行，以允许从任何 IP 地址连接。</p> <pre><code>bind-address = 0.0.0.0
mysqlx-bind-address     = 0.0.0.0
</code></pre> </li><li> <p><strong>重启 MySQL 服务</strong>：<br> 保存文件并退出编辑器后，重启 MySQL 服务以应用更改。</p> <pre><code class="prism language-bash"><span class="token function">sudo</span> systemctl restart mysql
</code></pre> </li><li> <p><strong>测试远程连接</strong>（可选）：<br> 从另一台计算机上，尝试使用新设置的 <code>root</code> 用户和密码远程连接到 MySQL 服务器。</p> <pre><code class="prism language-bash">mysql <span class="token parameter variable">-h</span> <span class="token punctuation">[</span>服务器IP地址<span class="token punctuation">]</span> <span class="token parameter variable">-u</span> root <span class="token parameter variable">-p</span>
</code></pre> </li></ol> 
<p>完成这些步骤后，<code>root</code> 用户应该能够从远程位置登录到 MySQL 服务器，并且密码已设置为 <code>SSKS#dd</code>。请确保您的网络和防火墙设置允许远程连接到 MySQL 服务器（默认端口为 3306）。</p> 
<p>要在 Ubuntu 系统上彻底卸载 MySQL，您可以按照以下步骤操作。请注意，这将完全移除 MySQL，包括所有数据和配置文件。在进行这些操作之前，请确保已经备份了所有重要数据。</p> 
<ol><li> <p><strong>停止 MySQL 服务</strong>：<br> 首先，停止 MySQL 服务以确保所有 MySQL 进程都已终止。</p> <pre><code class="prism language-bash"><span class="token function">sudo</span> systemctl stop mysql
</code></pre> </li><li> <p><strong>卸载 MySQL 软件包</strong>：<br> 使用 <code>apt-get</code> 命令卸载 MySQL 服务器及其相关软件包。</p> <pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">apt-get</span> remove <span class="token parameter variable">--purge</span> mysql-server mysql-client mysql-common
<span class="token function">sudo</span> <span class="token function">apt-get</span> autoremove
<span class="token function">sudo</span> <span class="token function">apt-get</span> autoclean
</code></pre> <p>这将卸载 MySQL 服务器、客户端以及所有相关的依赖包，并清除安装包缓存。</p> </li><li> <p><strong>删除配置和数据文件</strong>：<br> 删除 MySQL 的配置文件和数据目录。这一步是必要的，因为 <code>apt-get remove --purge</code> 可能不会删除所有文件。</p> <pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">rm</span> <span class="token parameter variable">-rf</span> /etc/mysql /var/lib/mysql
<span class="token function">sudo</span> <span class="token function">rm</span> <span class="token parameter variable">-rf</span> /var/log/mysql
</code></pre> </li><li> <p><strong>删除 MySQL 用户和组</strong>（可选）：<br> 如果您希望删除 MySQL 用户和组，可以执行以下命令：</p> <pre><code class="prism language-bash"><span class="token function">sudo</span> deluser mysql
<span class="token function">sudo</span> delgroup mysql
</code></pre> </li><li> <p><strong>检查是否还有遗留文件</strong>：<br> 您还可以使用 <code>find</code> 命令来查找系统中可能遗留的与 MySQL 相关的其他文件，并手动删除它们。</p> <pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">find</span> / <span class="token parameter variable">-iname</span> <span class="token string">'mysql*'</span> <span class="token parameter variable">-exec</span> <span class="token function">rm</span> <span class="token parameter variable">-rf</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span> <span class="token punctuation">\</span><span class="token punctuation">;</span>
</code></pre> </li></ol> 
<p>完成以上步骤后，MySQL 应该已经从您的系统中彻底卸载。在重新安装 MySQL 或安装不同版本的 MySQL 之前，确保系统已经清理干净。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/40ce7a835e3177679cc4564852595301/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Flink CDC 实时抽取 Oracle 数据-排错&amp;调优</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/599002c0cd86a48324e0ba7abfa6c7e2/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Kotlin中的?、!!、?:、:: 、== 符号</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>