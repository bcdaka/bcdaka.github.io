<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>深度学习环境完整安装(Python&#43;Pycharm&#43;Pytorch cpu版) - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/697fde1701ef3ea36852a889a8b83143/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="深度学习环境完整安装(Python&#43;Pycharm&#43;Pytorch cpu版)">
  <meta property="og:description" content="在这里，我们将引导您逐步完成深度学习环境的完整安装，助您踏上从Python到PyTorch的探索之旅。通过本博客，您将轻松掌握如何设置Python环境、使用Pycharm进行开发以及安装Pytorch，成为一名具备完整深度学习环境的实践者。让我们一起开始吧！
文章目录（如果有会的可以略过）
一、Python安装
（一）Python下载
（二）Python安装
（三）Python验证
二、PyCharm安装
（一）PyCharm下载
（二）PyCharm安装
（三）PyCharm配置
三、PyTorch安装
（一）PyTorch安装
（二）PyTorch验证
四、深度学习案例：YOLOv5训练数据集、图像检测与识别
（一）YOLOv5下载及解压 （二）YOLOv5训练数据集
1.准备工作（新建文件夹）
（1）新建VOCData
（2）新建Annotation、images
2.使用labelImg标注图片
（1）安装labelImg
（2）使用labelImg
（3）相关问题 ①No module named &#39;sip&#39;报错
②No module named &#39;libs.resources&#39;报错
3.划分数据集及配置文件修改
（1）划分训练集、验证集及测试集
（2）xml格式转txt格式
（3）配置文件
4.模型训练
（1）开始训练
（2）训练过程
（3）训练时间
（4）相关问题
（5）检测效果
五、参考链接
一、Python安装 Python是一种流行的高级编程语言，以其易学易用、可读性强和强大的标准库而受到广泛欢迎。Python支持多种编程范式，包括面向对象、过程式和函数式编程，可以用于开发各种类型的应用程序。Python的简洁语法和动态类型系统使其成为快速原型开发和数据分析的理想选择。此外，Python还具有丰富的第三方库支持，可以轻松地与其他编程语言集成。无论您是初学者还是经验丰富的开发人员，Python都是一种功能强大且易于使用的编程语言。
（一）Python下载 Python官网，显示下面这个界面。
因为大家都是都是初级程序员，学习的环境都还是比较新手的windows系统，将鼠标光标移动到 Downloads ，点击Windows ，意思就是选择Python安装在你的电脑上的系统类型，之后显示下面这个界面。
看到这个界面有很多很多的版本，给大家简单介绍一下，这里的Latest Python 3 Release - Python 3.11.5，表明的意思是最新的Python3版本 3.11.5，如果大家说噢我就想要最新的，那就无脑冲这个版本！
点击链接之后，等待网页响应，滑到网页最下面，可以看到以下界面。
这里有很多个不同配置的Python安装包，博主这边主要给大家介绍自动安装的安装包。
点击 Windows installer (64-bit) ，就可以下载Python3 3.11.5版本的安装包。
因为这是在Python官网加载的链接并下载，下载速度会比较慢，大家也可以点击我这里的链接去下载。有网盘链接和迅雷种子文件。
初次之外，博主个人还建议使用Python3 3.8.10版本，这个版本相对其他版本来说比较稳定。">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-05-04T22:18:54+08:00">
    <meta property="article:modified_time" content="2024-05-04T22:18:54+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">深度学习环境完整安装(Python&#43;Pycharm&#43;Pytorch cpu版)</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>        在这里，我们将引导您逐步完成深度学习环境的完整安装，助您踏上从Python到PyTorch的探索之旅。通过本博客，您将轻松掌握如何设置Python环境、使用Pycharm进行开发以及安装Pytorch，成为一名具备完整深度学习环境的实践者。让我们一起开始吧！</p> 
<p><strong>文章目录（如果有会的可以略过）</strong></p> 
<p style="margin-left:0px;"><a href="#%E4%B8%80%E3%80%81Python%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85" rel="nofollow">一、Python安装</a></p> 
<p style="margin-left:40px;"><a href="#%EF%BC%88%E4%B8%80%EF%BC%89Python%E4%B8%8B%E8%BD%BD" rel="nofollow">（一）Python下载</a></p> 
<p style="margin-left:40px;"><a href="#%EF%BC%88%E4%BA%8C%EF%BC%89Python%E5%AE%89%E8%A3%85" rel="nofollow">（二）Python安装</a></p> 
<p style="margin-left:40px;"><a href="#%EF%BC%88%E4%B8%89%EF%BC%89Python%E9%AA%8C%E8%AF%81" rel="nofollow">（三）Python验证</a></p> 
<p style="margin-left:0px;"><a href="#%E4%BA%8C%E3%80%81Pycharm%E5%AE%89%E8%A3%85%E5%8F%8A%E6%BF%80%E6%B4%BB" rel="nofollow">二、PyCharm安装</a></p> 
<p style="margin-left:40px;"><a href="#%EF%BC%88%E4%B8%80%EF%BC%89PyCharm%E4%B8%8B%E8%BD%BD" rel="nofollow">（一）PyCharm下载</a></p> 
<p style="margin-left:40px;"><a href="#%EF%BC%88%E4%BA%8C%EF%BC%89PyCharm%E5%AE%89%E8%A3%85" rel="nofollow">（二）PyCharm安装</a></p> 
<p style="margin-left:40px;"><a href="#%EF%BC%88%E4%B8%89%EF%BC%89PyCharm%E9%85%8D%E7%BD%AE" rel="nofollow">（三）PyCharm配置</a></p> 
<p style="margin-left:0px;"><a href="#%E4%B8%89%E3%80%81Pytorch%E5%AE%89%E8%A3%85" rel="nofollow">三、PyTorch安装</a></p> 
<p style="margin-left:40px;"><a href="#%EF%BC%88%E4%B8%80%EF%BC%89Pytorch%E5%AE%89%E8%A3%85" rel="nofollow">（一）PyTorch安装</a></p> 
<p style="margin-left:40px;"><a href="#%EF%BC%88%E4%BA%8C%EF%BC%89PyTorch%E9%AA%8C%E8%AF%81" rel="nofollow">（二）PyTorch验证</a></p> 
<p style="margin-left:0px;"><a href="#%E5%9B%9B%E3%80%81%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E6%A1%88%E4%BE%8B%EF%BC%9AYOLOv5%E8%AE%AD%E7%BB%83%E6%95%B0%E6%8D%AE%E9%9B%86%E3%80%81%E5%9B%BE%E5%83%8F%E6%A3%80%E6%B5%8B%E4%B8%8E%E8%AF%86%E5%88%AB" rel="nofollow">四、深度学习案例：YOLOv5训练数据集、图像检测与识别</a></p> 
<p style="margin-left:40px;"><a href="#%EF%BC%88%E4%B8%80%EF%BC%89YOLOv5%E4%B8%8B%E8%BD%BD%E5%8F%8A%E8%A7%A3%E5%8E%8B%C2%A0" rel="nofollow">（一）YOLOv5下载及解压 </a></p> 
<p style="margin-left:40px;"><a href="#%EF%BC%88%E4%BA%8C%EF%BC%89YOLOv5%E8%AE%AD%E7%BB%83%E6%95%B0%E6%8D%AE%E9%9B%86" rel="nofollow">（二）YOLOv5训练数据集</a></p> 
<p style="margin-left:80px;"><a href="#1.%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C%EF%BC%88%E6%96%B0%E5%BB%BA%E6%96%87%E4%BB%B6%E5%A4%B9%EF%BC%89" rel="nofollow">1.准备工作（新建文件夹）</a></p> 
<p style="margin-left:120px;"><a href="#%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%EF%BC%881%EF%BC%89%E6%96%B0%E5%BB%BAVOCData" rel="nofollow">        （1）新建VOCData</a></p> 
<p style="margin-left:120px;"><a href="#%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%EF%BC%882%EF%BC%89%E6%96%B0%E5%BB%BAAnnotation%E3%80%81images" rel="nofollow">        （2）新建Annotation、images</a></p> 
<p style="margin-left:80px;"><a href="#2.%E4%BD%BF%E7%94%A8labelImg%E6%A0%87%E6%B3%A8%E5%9B%BE%E7%89%87" rel="nofollow">2.使用labelImg标注图片</a></p> 
<p style="margin-left:120px;"><a href="#%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%EF%BC%881%EF%BC%89%E5%AE%89%E8%A3%85labelImg" rel="nofollow">        （1）安装labelImg</a></p> 
<p style="margin-left:120px;"><a href="#%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%EF%BC%882%EF%BC%89%E4%BD%BF%E7%94%A8labelImg" rel="nofollow">        （2）使用labelImg</a></p> 
<p style="margin-left:120px;"><a href="#%EF%BC%883%EF%BC%89%E7%9B%B8%E5%85%B3%E9%97%AE%E9%A2%98%C2%A0" rel="nofollow">        </a><a href="#%EF%BC%883%EF%BC%89%E7%9B%B8%E5%85%B3%E9%97%AE%E9%A2%98%C2%A0" rel="nofollow">（3）相关问题 </a></p> 
<p style="margin-left:160px;"><a href="#%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%E2%91%A0No%20module%20named%20'%20rel=">        ①No module named 'sip'报错</a></p> 
<p style="margin-left:160px;"><a href="#%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%C2%A0%E2%91%A1No%20module%20named%20'%20rel=">        ②No module named 'libs.resources'报错</a></p> 
<p style="margin-left:80px;"><a href="#3.%E5%88%92%E5%88%86%E6%95%B0%E6%8D%AE%E9%9B%86%E5%8F%8A%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%BF%AE%E6%94%B9" rel="nofollow">3.划分数据集及配置文件修改</a></p> 
<p style="margin-left:120px;"><a href="#%EF%BC%881%EF%BC%89%E5%88%92%E5%88%86%E8%AE%AD%E7%BB%83%E9%9B%86%E3%80%81%E9%AA%8C%E8%AF%81%E9%9B%86%E5%8F%8A%E6%B5%8B%E8%AF%95%E9%9B%86" rel="nofollow">（1）划分训练集、验证集及测试集</a></p> 
<p style="margin-left:120px;"><a href="#%EF%BC%882%EF%BC%89xml%E6%A0%BC%E5%BC%8F%E8%BD%ACtxt%E6%A0%BC%E5%BC%8F" rel="nofollow">（2）xml格式转txt格式</a></p> 
<p style="margin-left:120px;"><a href="#%EF%BC%883%EF%BC%89%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6" rel="nofollow">（3）配置文件</a></p> 
<p style="margin-left:80px;"><a href="#4.%E6%A8%A1%E5%9E%8B%E8%AE%AD%E7%BB%83" rel="nofollow">4.模型训练</a></p> 
<p style="margin-left:120px;"><a href="#%EF%BC%881%EF%BC%89%E5%BC%80%E5%A7%8B%E8%AE%AD%E7%BB%83" rel="nofollow">（1）开始训练</a></p> 
<p style="margin-left:120px;"><a href="#%EF%BC%882%EF%BC%89%E8%AE%AD%E7%BB%83%E8%BF%87%E7%A8%8B" rel="nofollow">（2）训练过程</a></p> 
<p style="margin-left:120px;"><a href="#%EF%BC%883%EF%BC%89%E8%AE%AD%E7%BB%83%E6%97%B6%E9%97%B4" rel="nofollow">（3）训练时间</a></p> 
<p style="margin-left:120px;"><a href="#%EF%BC%884%EF%BC%89%E7%9B%B8%E5%85%B3%E9%97%AE%E9%A2%98" rel="nofollow">（4）相关问题</a></p> 
<p style="margin-left:120px;"><a href="#%EF%BC%885%EF%BC%89%E6%A3%80%E6%B5%8B%E6%95%88%E6%9E%9C" rel="nofollow">（5）检测效果</a></p> 
<p style="margin-left:0px;"><a href="#%E4%BA%94%E3%80%81%E5%8F%82%E8%80%83%E9%93%BE%E6%8E%A5" rel="nofollow">五、参考链接</a></p> 
<hr> 
<h2>一、Python安装</h2> 
<p>        Python是一种流行的高级编程语言，以其易学易用、可读性强和强大的标准库而受到广泛欢迎。Python支持多种编程范式，包括面向对象、过程式和函数式编程，可以用于开发各种类型的应用程序。Python的简洁语法和动态类型系统使其成为快速原型开发和数据分析的理想选择。此外，Python还具有丰富的第三方库支持，可以轻松地与其他编程语言集成。无论您是初学者还是经验丰富的开发人员，Python都是一种功能强大且易于使用的编程语言。</p> 
<h3>（一）Python下载</h3> 
<p>        <a class="link-info" href="https://www.python.org/" rel="nofollow" title="Python官网">Python官网</a>，显示下面这个界面。</p> 
<p><img alt="f47b38a530904fe4b2ae2b00068d48a8.png" src="https://images2.imgbox.com/c4/77/SRuFgVV1_o.png"></p> 
<p>        因为大家都是都是初级程序员，学习的环境都还是比较新手的windows系统，将鼠标光标移动到 <strong>Downloads </strong>，<strong>点击Windows </strong>，意思就是选择Python安装在你的电脑上的系统类型，之后显示下面这个界面。</p> 
<p><img alt="f200c709614f437a8daa44384ca84936.png" src="https://images2.imgbox.com/ec/48/Zdat8Wgk_o.png"></p> 
<p>        看到这个界面有很多很多的版本，给大家简单介绍一下，这里的Latest Python 3 Release - Python 3.11.5，表明的意思是最新的Python3版本 3.11.5，如果大家说噢我就想要最新的，那就无脑冲这个版本！</p> 
<p>        点击链接之后，等待网页响应，滑到网页最下面，可以看到以下界面。</p> 
<p><img alt="4cda289a724542e8aea0b087b52f3965.png" src="https://images2.imgbox.com/5d/48/UopgW0ss_o.png"></p> 
<p>        这里有很多个不同配置的Python安装包，博主这边主要给大家介绍自动安装的安装包。</p> 
<p>        点击 <strong>Windows installer (64-bit) </strong>，就可以下载Python3 3.11.5版本的安装包。</p> 
<p>        因为这是在Python官网加载的链接并下载，下载速度会比较慢，大家也可以点击我这里的链接去下载。有网盘链接和迅雷种子文件。</p> 
<p>        初次之外，博主个人还建议使用Python3 3.8.10版本，这个版本相对其他版本来说比较稳定。</p> 
<p> <a class="link-info" href="https://pan.baidu.com/s/16d7hTaIWKzTfAV3x7eKDsg?pwd=uuo3" rel="nofollow" title="Python3 3.11.5安装包">Python3 3.11.5安装包</a>       <a class="link-info" href="https://pan.baidu.com/s/1dfBBMltvbyfuq4u30NMe-A?pwd=2dhl" rel="nofollow" title="Python3 3.8.10安装包">Python3 3.8.10安装包</a></p> 
<h3>（二）Python安装</h3> 
<p>        大家下载好后，<strong>双击安装包 </strong>，就显示以下界面。</p> 
<p><img alt="bbc5da4b7200494ebfaa274f5c40b7f3.png" src="https://images2.imgbox.com/74/40/R2P22XNF_o.png"></p> 
<p>        勾选 <strong>Add Python 3.8 to PATH </strong>，并点击下面的 <strong>Customize installation </strong>，显示以下界面。</p> 
<p><img alt="79d396ba9b294b12beb272b272793bd9.png" src="https://images2.imgbox.com/5b/7a/kQ8cD80I_o.png"></p> 
<p>        继续点击 <strong>Next </strong>。</p> 
<p>        <img alt="0c462dcf8382449882b4977628681189.png" src="https://images2.imgbox.com/9d/3d/wlAesh9c_o.png"></p> 
<p>        这里要更改一下安装目录，因为之后要安装深度学习的环境会占比较大的空间，安装在C盘是不切实际的做法，这里我选择安装在D盘目录下的Python文件夹下，可以按照我下面的图进行操作。</p> 
<p><img alt="dfcfc6a660bb4dc4a6966d59de5c0590.png" src="https://images2.imgbox.com/35/d1/yd9ANRZ9_o.png"></p> 
<p><img alt="603b63201d0c4389b44c14d052491dc4.png" src="https://images2.imgbox.com/6f/f4/I8DYr0J8_o.png"></p> 
<p>        修改好后的界面是这样子的。</p> 
<p><img alt="4109118ca31d4b70b9ce4aa65ca375a6.png" src="https://images2.imgbox.com/a5/bf/sCPl7xPD_o.png"></p> 
<p>        然后点击 <strong>Install </strong>，就可以等待程序自动安装完毕。</p> 
<p><img alt="d5a65fdaac4e4e5aa9780926b0fd17ad.png" src="https://images2.imgbox.com/d5/41/gfIoha62_o.png"></p> 
<p>        当显示这个界面，就说明安装成功，点击 <strong>Close </strong>就可以关闭界面了。</p> 
<p><img alt="faf7d172cbbe490ab4ddb1337ee1f375.png" src="https://images2.imgbox.com/2a/c8/MzrXuhIs_o.png"></p> 
<h3>（三）Python验证</h3> 
<p>        Python安装完毕后，大家可以在Windows命令终端输入命令去验证自己的Python环境是否搭建成功。</p> 
<p>        首先，键盘按住 <strong>Win+R键</strong>（大家可能不知道Win键是哪个，在键盘上是在左侧下方Alt旁边，呈现四个方框的那一个），打开 <strong>运行界面 </strong>。</p> 
<p><img alt="4e72683c12aa44e78568f8f852cace10.png" src="https://images2.imgbox.com/ba/a5/NLl5odXS_o.png"></p> 
<p>        在输入框内，输入 <strong>cmd </strong>，点击 <strong>确定/回车 </strong>，即可打开Windows终端界面。</p> 
<p><img alt="b34b5e151f7a42efaa1e87184bdb16ea.png" src="https://images2.imgbox.com/63/77/NAscofwO_o.png"></p> 
<p>        输入命令 <strong>python --version </strong>，并回车，如果显示以下界面即安装完毕。</p> 
<p><img alt="18204a35b9f84b5280bc725b2cd68a08.png" src="https://images2.imgbox.com/aa/3a/FzZjGIOk_o.png"></p> 
<h2>二、PyCharm安装</h2> 
<p>        PyCharm是一种流行的集成开发环境（IDE），专门为Python开发人员设计。它提供了强大的代码编辑器、调试器、自动代码完成和语法高亮等功能，帮助开发人员更高效地编写、测试和调试Python代码。PyCharm支持多种Python虚拟环境，可以轻松进行项目管理和跨平台开发。其丰富的插件库还可以扩展支持其他编程语言和工具，使得PyCharm成为Python开发人员的首选工具之一。</p> 
<h3>（一）PyCharm下载</h3> 
<p>        我们先找到PyCharm官方网站：<a class="link-info" href="https://www.jetbrains.com.cn/" rel="nofollow" title="JetBrains">JetBrains</a>，我这里是根据网页提示显示了中文翻译，原本是英文界面的，大家跟着我的步骤去一步一步来。</p> 
<p><img alt="a891c1ac525d403da55618f3e4ea46f1.png" src="https://images2.imgbox.com/a2/78/3vPDEkBp_o.png"></p> 
<p>        点击头部的 <strong>Developer Tools </strong>，展开一个很大的界面是这样的，点击 <strong>PyCharm </strong>进入介绍界面。</p> 
<p><img alt="066f858efe084027a68e85dcccd5e4d7.png" src="https://images2.imgbox.com/40/fa/dVSW3Qha_o.png"></p> 
<p>        进入后点击界面正中间的 <strong>DOWNLOAD </strong>。</p> 
<p><img alt="4865fb8b4a204597a86efa9b676c2b43.png" src="https://images2.imgbox.com/50/ed/KCdYUhSh_o.png"></p> 
<p>        进入后，有PyCharm Professional（Pycharm专业版）和PyCharm Community Edition（Pycharm社区版）选择，博主这边建议初学者以社区版为起步，首先是因为社区版是免费的，不需要付费激活，其次专业版功能较为齐全，有很多的功能初学者暂时用不上。博主这里就以社区版为例。点击这里的 <strong>Download </strong>即可开始下载</p> 
<p><img alt="743d18beef514c438b39a83559810d0d.png" src="https://images2.imgbox.com/03/69/9j9lZFSL_o.png"></p> 
<p>        博主这里也附上个人的百度网盘下载链接供大家下载。<a class="link-info" href="https://pan.baidu.com/s/13hBsvmM3WcH3fPs5-v-WAA?pwd=6msz" rel="nofollow" title="PyCharm社区版安装包">PyCharm社区版安装包</a></p> 
<h3>（二）PyCharm安装</h3> 
<p> 下载好后鼠标双击打开安装包。</p> 
<p><img alt="8e25c36aea884de1b21c7163afbdc5fc.png" src="https://images2.imgbox.com/c3/d0/qXwnO6fz_o.png"></p> 
<p>        点击 <strong>Next </strong>。</p> 
<p><img alt="a8c8c14b53274881b0d29c00c1cc5065.png" src="https://images2.imgbox.com/66/fc/JHa5te6E_o.png"></p> 
<p>        这里还是像刚刚那样点击 <strong>Browse </strong>去修改安装路径。博主这边仍然是建议大家安装在D盘目录下的JetBrains文件夹下，如下图所示，选择好后点击 <strong>确定 </strong>。</p> 
<p><img alt="b81ba27bc626415e83a1ddb816b6b356.png" src="https://images2.imgbox.com/7c/d1/uWMX5So3_o.png"></p> 
<p><img alt="d99ccbe85ee44fd5a17e1dcf8d9abdae.png" src="https://images2.imgbox.com/56/3b/yLqimoaD_o.png"></p> 
<p>        到这里后继续点击 <strong>Next </strong>，勾选下图中所有的选项，继续点击 <strong>Next </strong>。</p> 
<p><img alt="2924c3a9aa974b88aedc30318e0a1de6.png" src="https://images2.imgbox.com/5c/07/4ahegQuz_o.png"></p> 
<p>        到如下图界面后即可点击 <strong>Install </strong>进行安装。</p> 
<p><img alt="d3b636b957e645f09b44ee37ce9a1cb5.png" src="https://images2.imgbox.com/7a/f6/mbHNgqL2_o.png"><img alt="7928e1a78252450396d8bed91c015c3e.png" src="https://images2.imgbox.com/8f/01/Kvs8lMBU_o.png"></p> 
<p>        当出现以下界面即安装成功，点击 <strong>Finish </strong>即可关闭安装界面。</p> 
<p><img alt="af081c25192a458aaa8c2b63bf4aae4f.png" src="https://images2.imgbox.com/17/74/nbYEa56D_o.png"></p> 
<p>        在桌面此电脑中，找到刚刚安装Pycharm的文件夹，博主这里的目录是 <strong>D:\JetBrains\PyCharm Community Edition 2023.2.1 </strong>，进入目录下的bin文件夹，右箭选择下面图上箭头指示的可执行文件pycharm64.exe，选择 <strong>发送到-&gt;桌面快捷方式 </strong>，这样就可以把PyCharm放到桌面，方便使用。</p> 
<p>        打开Pycharm后，显示以下界面，<strong>勾选Do not import settings ，</strong>如果点击OK后有弹窗防火墙的一些相关提示，可以直接 <strong>点击允许访问 </strong>。</p> 
<p><img alt="02f73ea1b22e4757abad634c53c4565a.png" src="https://images2.imgbox.com/3e/3f/uJd69pga_o.png"><img alt="daf85a787d404b91a4012bf243139237.png" src="https://images2.imgbox.com/3c/4a/CGKx0SX7_o.png"></p> 
<p>        这样子咱们就正式进入Pycharm编辑器的使用了。</p> 
<p><img alt="55f69001eec84c9580cd21ff68843e78.png" src="https://images2.imgbox.com/a3/88/mxxwf3Qb_o.png"></p> 
<h3>（三）PyCharm配置</h3> 
<p>        首先先点击界面上的 <strong>Plugins </strong>，在 <strong>Type / to see options </strong>方框内输入“ <strong>chinese </strong>”，在搜索后的结果中选择一个以“ <strong>汉 </strong>”字为图标的插件，然后再点击 <strong>Install </strong>，等待一会之后我们的PyCharm界面就已经全部汉化了。（如果有不想汉化的网友们可以跳过这一步）</p> 
<p>        安装好汉化包并重新打开PyCharm后，点击新建项目。</p> 
<p><img alt="0865f66e55624301a545daf5ea76a556.png" src="https://images2.imgbox.com/fc/1f/NG573wdu_o.png"></p> 
<p>        之后，就显示了很多参数能够自定义我们的项目。首先博主这里修改了一下位置，改成了D盘目录下的Study文件夹（大家可以先去创建一下Study文件夹），然后就到配置Python解释器。</p> 
<p><strong>一定要勾选先前配置的解释器！！！</strong></p> 
<p><strong>一定要勾选先前配置的解释器！！！</strong></p> 
<p><strong>一定要勾选先前配置的解释器！！！</strong></p> 
<p><img alt="db8d3aa11b1f474bafb4603a2241808f.png" src="https://images2.imgbox.com/83/1b/ZNBvcdri_o.png"></p> 
<p><strong>        </strong>重要的事情强调三遍，因为我们之前有安装过Python的环境，如果选择“ <strong>使用此工具新建环境 </strong>”，那么表示的意思就是你要用PyCharm编辑器自己去帮你安装另一个Python，这样子虽然说少去了先前下载安装Python的环节，但是坏处就是难以很好的去管理我们的Python环境，所以这也是博主大费周章跟大家讲前面Python的安装教程的原因。</p> 
<p>        博主这里是Pycharm软件有自动识别到我的Python环境目录，如果大家点解释器后面的下拉框没有像博主这样子的选项，可以点击 <strong>右侧的添加解释器 </strong>，选择 <strong>添加本地解释器 </strong>，然后就会出现这样子的界面。</p> 
<p><img alt="42811a54212f417ea9d4ee0e1099e12f.png" src="https://images2.imgbox.com/8b/24/xlB3Y4AC_o.png"><img alt="54c77938facb405da0838479afc698e9.png" src="https://images2.imgbox.com/cf/02/qk72GLi3_o.png"></p> 
<p>        勾选现有，再点击 <strong>右侧的...框框 </strong>，然后找到我们的Python安装目录，选择目录下的python.exe并点击确认。</p> 
<p><img alt="70f26fd658c24d8d8021a02441ad0ad7.png" src="https://images2.imgbox.com/f9/03/zXRSVojI_o.png"></p> 
<p>        然后再点击创建就配置好python环境了。</p> 
<h2>三、PyTorch安装</h2> 
<p>        PyTorch是一个广泛使用的开源机器学习框架，由Facebook人工智能研究院（FAIR）开发并维护。它支持动态计算图，使得模型的构建和调试更加直观，同时也提供了高效的GPU加速功能，使得深度学习应用的训练和推理速度更快。PyTorch具有广泛的社区支持和丰富的文档资源，方便开发人员学习和使用。它支持多种操作系统和编程语言，如Python、C++等，并提供了丰富的预训练模型库和工具，使得开发人员可以快速构建和优化深度学习模型。PyTorch已经成为机器学习领域的流行框架之一，被广泛应用于计算机视觉、自然语言处理、语音识别等领域。</p> 
<h3>（一）PyTorch安装</h3> 
<p>        首先我们先进入PyTorch官网：<a class="link-info" href="https://pytorch.org/" rel="nofollow" title="PyTorch">PyTorch</a></p> 
<p>         往下滑找到下图这个界面，并且按博主这样子一样的选择。</p> 
<p><img alt="51931c2f126a4c8ba96d9e1a3b2c17e4.png" src="https://images2.imgbox.com/93/f3/umC5jwVW_o.png"></p> 
<p>        博主这里也直接给出命令。</p> 
<blockquote> 
 <p>pip3 install torch torchvision torchaudio</p> 
</blockquote> 
<p>         然后在我们的Pycharm界面下方点击 <strong>Terminal</strong>（如果是中文的就像博主这样叫终端）</p> 
<p><img alt="4cefc1caef5f4aabbd556e88950fd71d.png" src="https://images2.imgbox.com/1d/66/GMom4gLb_o.png"></p> 
<p>        然后输入刚刚的安装代码，回车即可进行Pytorch安装。下载安装会比较久，请耐心等待一下噢~~~有出现Successfully installed...的字眼，就说明已经安装成功啦。</p> 
<p><img alt="e4ffaffeea554c8bb0e8f0feeb02fad5.png" src="https://images2.imgbox.com/3e/b9/24IKHra3_o.png"></p> 
<p><strong>补充：这里出现了黄色的提示，意思就是我们的pip版本是21.1.1版本，最新版本23.2.1允许安装，博主这里也给出命令共大家去升级自己的pip（pip类似是一个python内置的一个命令，用于安装、卸载等）。</strong></p> 
<blockquote> 
 <p>python.exe -m pip install --upgrade pip</p> 
</blockquote> 
<h3>（二）PyTorch验证</h3> 
<p>        博主这里以个人的专业版Pycharm作为演示（大家的社区版也是一样的）。</p> 
<p>        首先右箭我们的Study目录-&gt;新建-&gt;点击Python文件，输入Study作为python文件的名字，然后回车就创建好一个名为Study的python文件。</p> 
<p><img alt="2c20966013ff44a6a304c08237d9dc95.png" src="https://images2.imgbox.com/39/f4/pqdbUQFk_o.png"></p> 
<p>        在我们的编辑器下输入以下代码。</p> 
<pre><code class="language-python">import torch
print(torch.__version__)</code></pre> 
<p>        然后点击右上角绿色向右的箭头，即可运行当前Python文件中的代码。<img alt="25e0dc06e5834d168ede5df6dae4c1a7.png" src="https://images2.imgbox.com/48/7b/itLto4ND_o.png"> </p> 
<p>        如果运行结束后显示如下图就说明大家的PyTorch已经安装成功啦。</p> 
<p><img alt="f3a1da3479b14e408547137563f2717a.png" src="https://images2.imgbox.com/f7/72/fMu0u4w4_o.png"></p> 
<h2>四、深度学习案例：YOLOv5训练数据集、图像检测与识别</h2> 
<p>        YOLOv5是一种目标检测模型，用于在视频或图像中识别和定位物体。它是YOLO算法的最新版本，在YOLOv4的基础上进行了改进。</p> 
<p>        YOLOv5由美国加州大学伯克利分校的研究者Alexey Bochkovskiy和Chien-Yao Wang开发。YOLOv5使用了一个新的骨干网络，即CSPNet，该网络可以更好地提取特征。另外，YOLOv5也采用了更高效的训练技术，如自适应训练、数据增强和多尺度训练，从而使得它在实际应用中具有更好的性能表现。</p> 
<p>        YOLOv5可以检测多种物体，并且可以在不同的硬件上运行，包括CPU、GPU和TPU等。</p> 
<h3>（一）YOLOv5下载及解压 </h3> 
<p>        YOLOV5源码网址：<a class="link-info" href="https://github.com/ultralytics/yolov5" title="https://github.com/ultralytics/yolov5">https://github.com/ultralytics/yolov5</a></p> 
<p>        在此，因为github这个网站对于国内用户去访问会有时候连接不上，博主给大家一个访问github网站的加速器，这样子大家访问起来就比较顺畅。<a class="link-info" href="https://pan.baidu.com/s/1Uv_0GM4GefC1QVWXnLbT1w?pwd=vbdq" rel="nofollow" title="FastGitHub压缩包">FastGitHub压缩包</a>       </p> 
<p>        大家下载好这个加速器并解压、运行后，就可以直接挂着在后台了。（建议大家不访问的时候还是关闭着好一些哦）。</p> 
<p>        来到YOLOv5源码网址，点击右边的 <strong>Code ，</strong>再点击下面的 <strong>Download ZIP </strong>就可以开始下载YOLOv5源码的压缩包了。</p> 
<p><img alt="137dda7ae2264de1be13e4b5f4dfbc07.png" src="https://images2.imgbox.com/21/e8/G9Y2R3Pf_o.png"></p> 
<p>        这里博主也放上压缩包和种子文件供大家下载。</p> 
<p><a class="link-info" href="https://pan.baidu.com/s/1NpYTedt-1SJySL00zq8EqA?pwd=cy06" rel="nofollow" title="YOLOv5压缩包">YOLOv5压缩包</a>       </p> 
<p>        下载好后，解压到我们刚刚的Study目录下，如下图所示。</p> 
<p><img alt="6f530dee8eb948eda7eb39d096442939.png" src="https://images2.imgbox.com/49/8f/90fVkOf6_o.png"></p> 
<h3>（二）YOLOv5训练数据集</h3> 
<h4>1.准备工作（新建文件夹）</h4> 
<p>        （1）新建VOCData</p> 
<p>        在yolov5文件目录下，新建一个空白文件夹 <strong>VOCData</strong>（博主习惯这样子命名，大家可以自定义命名）。</p> 
<p><img alt="53ecdf3c6dfb48d38c70c95e8e1b4c78.png" src="https://images2.imgbox.com/48/9a/xuZFH0BA_o.png"></p> 
<p>        （2）新建Annotation、images</p> 
<p>        在VOCData文件夹下再新建两个空白文件夹 <strong>Annotations </strong>和 <strong>images</strong>（建议尽量不要修改文件名，否则会有一些路径上的错误）。</p> 
<p><img alt="3cb6e526237545ffa42499a3ef877dd2.png" src="https://images2.imgbox.com/70/74/376nxLTX_o.png"></p> 
<p>        这里给大家说明一下这两个文件夹的用途：</p> 
<p><strong>Annotations</strong>：用于存放图片标注后产生的内容（以XML格式存放）</p> 
<p><strong>images</strong>：用于存放要标注的图片（虽然YOLO开始训练的时候会检测并自动更正格式，但是仍然建议以jpg格式存放）</p> 
<h4 style="background-color:transparent;">2.使用labelImg标注图片</h4> 
<p>        （1）安装labelImg</p> 
<p>        labelImg下载：<a href="https://github.com/HumanSignal/labelImg" title="https://github.com/HumanSignal/labelImg">https://github.com/HumanSignal/labelImg</a></p> 
<p>        附上本人百度网盘链接：<a class="link-info" href="https://pan.baidu.com/s/1M4nPcZmbSbOWQ2yoy0sNSA?pwd=8bcj" rel="nofollow" title="labelImg">labelImg</a></p> 
<p>        这里还是照上文YOLOv5下载及解压一样的方法去操作，解压到yolov5的文件目录下。</p> 
<p><img alt="7f24f051c29240eba454b58038985cfc.png" src="https://images2.imgbox.com/61/16/MxCqRu5k_o.png">​</p> 
<p>        （2）添加/修改标签（方便标注）</p> 
<p>        这块内容博主今天（5月4日）才发现没有添加，这里给大家说明一下。</p> 
<p>        <img alt="" height="312" src="https://images2.imgbox.com/0b/f2/Tf3oQ2Qj_o.png" width="957"></p> 
<p> 在labelImg的data目录下有一个predefined_classes，里面存储着标注数据的时候用的标签，大家一定要修改这个。</p> 
<p><img alt="" height="170" src="https://images2.imgbox.com/8d/a2/GCFyK16G_o.png" width="217"></p> 
<p>博主这里之前就在第一行添加了“ripe”，其他的没动。</p> 
<p>        （3）使用labelImg</p> 
<p>        首先，<strong>双击鼠标左键 </strong>进入到labelImg文件夹下。</p> 
<p><img alt="e5cb89c890eb4a78b4ce4b99da6de4d5.png" src="https://images2.imgbox.com/52/81/UuAuI5Uj_o.png">​</p> 
<p>        然后，<strong>鼠标左键点击 </strong>顶部的输入框，按退格键清除掉原有内容，并 <strong>输入cmd，然后回车 </strong>，弹出以下两个图片就算成功在该文件夹路径下打开Windows命令终端。</p> 
<p><img alt="796ed1dc564b4a21b0bcf34ff54f33b2.png" src="https://images2.imgbox.com/65/75/OipB9Qcp_o.png">​</p> 
<p><img alt="520b93a2f1134135871e554cc39e5c67.png" src="https://images2.imgbox.com/11/d5/w7D4WgB2_o.png">​</p> 
<p>        之后，<strong>输入以下命令并回车 </strong>就可以打开我们的标注程序labelImg。</p> 
<blockquote> 
 <p>python labelImg.py</p> 
</blockquote> 
<p>        来到labelImg的使用界面后，左侧的打开目录对应存放标注图片的文件夹（images），改变存放目录对应标注图片产生的xml数据文件夹（Annotations）。</p> 
<p><img alt="ee710f709eb54f0d9ab71267310c5357.png" src="https://images2.imgbox.com/de/80/psUTacyR_o.png"></p> 
<p>        大家点击左侧的创建区块即可进行标注。</p> 
<p>        博主这里给大家整理一下labelImg使用的快捷键以方便大家进行大数据量的图片标注。</p> 
<table align="left" border="1" cellpadding="1" cellspacing="1" style="width:650px;"><tbody><tr><td>Ctrl + u</td><td>从一个目录加载所有图像</td><td>d</td><td>下一张图片</td></tr><tr><td>Ctrl + r</td><td>更改默认的注释目标目录</td><td>a</td><td>上一张图片</td></tr><tr><td>Ctrl + s</td><td>保存</td><td>del</td><td>删除选中的矩形框</td></tr><tr><td>Ctrl + d</td><td>复制当前标签和矩形框</td><td>Ctrl++</td><td>放大</td></tr><tr><td>Ctrl + Shift + d</td><td>删除当前图像</td><td>Ctrl--</td><td>缩小</td></tr><tr><td>Space</td><td>将当前映像标记为已验证</td><td>↑→↓←</td><td>键盘箭头移动选定的矩形框</td></tr><tr><td>w</td><td>创建一个矩形框</td><td></td><td></td></tr></tbody></table> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p>（3）相关问题 </p> 
<p>        ①No module named 'sip'报错</p> 
<p><img alt="c033d5baeea14dc0beb207727ee20900.jpeg" src="https://images2.imgbox.com/e8/cc/3NFdX5hc_o.jpg">​</p> 
<p>        这是因为我们的Python环境下没有PyQt5包里面的sip包，这时候只需在 <strong>PyCharm终端 </strong>或者 <strong>Windows命令终端 </strong>输入以下代码即可解决问题。</p> 
<blockquote> 
 <p>pip install PyQt5</p> 
</blockquote> 
<p>        ②No module named 'libs.resources'报错</p> 
<p><img alt="618e5aeb208548adac16bbdb347213a4.png" src="https://images2.imgbox.com/77/5b/Cn9DAIyY_o.png">​</p> 
<p>        这是因为我们下载下来的labelImg文件夹下的包库里面没有resources.py，大家可以在labelImg文件夹下去运行以下命令。</p> 
<blockquote> 
 <p>Pyrcc5 -o resources.py resources.qrc </p> 
</blockquote> 
<p>         运行后会在当前目录生成一个 <strong>resources.py </strong>文件，将这个文件剪切/复制到当前目录下的 <strong>libs </strong>文件夹下即可解决问题。</p> 
<h4>3.划分数据集及配置文件修改</h4> 
<p>（1）划分训练集、验证集及测试集</p> 
<p>        在VOCData目录下创建python程序 split_train_val.py 并运行，代码如下（不用修改代码）。</p> 
<pre><code class="language-python">import os
import random
import argparse

parser = argparse.ArgumentParser()
#xml文件的地址，根据自己的数据进行修改 xml一般存放在Annotations下
parser.add_argument('--xml_path', default='Annotations', type=str, help='input xml label path')
#数据集的划分，地址选择自己数据下的ImageSets/Main
parser.add_argument('--txt_path', default='ImageSets/Main', type=str, help='output txt label path')
opt = parser.parse_args()

trainval_percent = 1.0  # 训练集和验证集所占比例。 这里没有划分测试集
train_percent = 0.9     # 训练集所占比例，可自己进行调整
xmlfilepath = opt.xml_path
txtsavepath = opt.txt_path
total_xml = os.listdir(xmlfilepath)
if not os.path.exists(txtsavepath):
    os.makedirs(txtsavepath)

num = len(total_xml)
list_index = range(num)
tv = int(num * trainval_percent)
tr = int(tv * train_percent)
trainval = random.sample(list_index, tv)
train = random.sample(trainval, tr)

file_trainval = open(txtsavepath + '/trainval.txt', 'w')
file_test = open(txtsavepath + '/test.txt', 'w')
file_train = open(txtsavepath + '/train.txt', 'w')
file_val = open(txtsavepath + '/val.txt', 'w')

for i in list_index:
    name = total_xml[i][:-4] + '\n'
    if i in trainval:
        file_trainval.write(name)
        if i in train:
            file_train.write(name)
        else:
            file_val.write(name)
    else:
        file_test.write(name)

file_trainval.close()
file_train.close()
file_val.close()
file_test.close()
</code></pre> 
<p>        运行完毕后，会生成 <strong>ImagesSets/Main</strong> 文件夹，且在其下生成测试集、训练集、验证集来存放图片的名字（都是纯名字，没有文件格式后缀.jpg）。</p> 
<p>        <strong>由于没有分配测试集，所以测试集为空。若要分配，更改12，13这两行代码，更改所在比例即可。</strong></p> 
<p><img alt="f79c1aee958241d6bfe8c0ba829c6a53.png" src="https://images2.imgbox.com/25/7a/WFp4tYTQ_o.png"></p> 
<p>（2）xml格式转txt格式</p> 
<p>        在VOCData目录下创建python程序 xml_to_yolo.py 并运行，代码如下（<strong>需要修改代码</strong>）。</p> 
<p>        这里需要修改的 <strong>第6行classes = ["light", "post"] </strong>，要把中括号内的标签名就改成你自己需要的，比如博主个人有标有 <strong>classes = ["ripe"] </strong>；除此之外还要修改的地方就是像 <strong>第24、25、53、54、55、57、58、63行 </strong>中出现的类似'D:/Yolov5/yolov5/VOCData/Annotations/%s.xml'，这里大家就需要把它改成自己的路径，比如博主个人的路径是 <strong>D:/Study/yolov5/VOCData/Annotations </strong>，大家就直接复制粘贴就好（注意：最好只修改 <strong>D:/Study/yolov5/VOCData/ </strong>这一段，因为这些路径多多少少是有一些不同，博主也是出于方便才特意说明）。</p> 
<pre><code class="language-python">import xml.etree.ElementTree as ET
import os
from os import getcwd

sets = ['train', 'val', 'test']
classes = ["light", "post"]   # 改成自己的标签类别
abs_path = os.getcwd()
print(abs_path)

def convert(size, box):
    dw = 1. / (size[0])
    dh = 1. / (size[1])
    x = (box[0] + box[1]) / 2.0 - 1
    y = (box[2] + box[3]) / 2.0 - 1
    w = box[1] - box[0]
    h = box[3] - box[2]
    x = x * dw
    w = w * dw
    y = y * dh
    h = h * dh
    return x, y, w, h

def convert_annotation(image_id):
    in_file = open('D:/Yolov5/yolov5/VOCData/Annotations/%s.xml' % (image_id), encoding='UTF-8')
    out_file = open('D:/Yolov5/yolov5/VOCData/labels/%s.txt' % (image_id), 'w')
    tree = ET.parse(in_file)
    root = tree.getroot()
    size = root.find('size')
    w = int(size.find('width').text)
    h = int(size.find('height').text)
    for obj in root.iter('object'):
        difficult = obj.find('difficult').text
        #difficult = obj.find('Difficult').text
        cls = obj.find('name').text
        if cls not in classes or int(difficult) == 1:
            continue
        cls_id = classes.index(cls)
        xmlbox = obj.find('bndbox')
        b = (float(xmlbox.find('xmin').text), float(xmlbox.find('xmax').text), float(xmlbox.find('ymin').text),
             float(xmlbox.find('ymax').text))
        b1, b2, b3, b4 = b
        # 标注越界修正
        if b2 &gt; w:
            b2 = w
        if b4 &gt; h:
            b4 = h
        b = (b1, b2, b3, b4)
        bb = convert((w, h), b)
        out_file.write(str(cls_id) + " " + " ".join([str(a) for a in bb]) + '\n')

wd = getcwd()
for image_set in sets:
    if not os.path.exists('D:/Yolov5/yolov5/VOCData/labels/'):
        os.makedirs('D:/Yolov5/yolov5/VOCData/labels/')
    image_ids = open('D:/Yolov5/yolov5/VOCData/ImageSets/Main/%s.txt' % (image_set)).read().strip().split()
   
    if not os.path.exists('D:/Yolov5/yolov5/VOCData/dataSet_path/'):
        os.makedirs('D:/Yolov5/yolov5/VOCData/dataSet_path/')
     
    list_file = open('dataSet_path/%s.txt' % (image_set), 'w')    # 这行路径不需更改，这是相对路径

    for image_id in image_ids:
        list_file.write('D:/Yolov5/yolov5/VOCData/images/%s.jpg\n' % (image_id))
        convert_annotation(image_id)
    list_file.close()
</code></pre> 
<p>        运行后会生成如下 <strong>labels</strong> 文件夹和 <strong>dataSet_path</strong> 文件夹。</p> 
<p>        其中 <strong>labels</strong> 中为不同图像的标注文件，每个图像对应一个txt文件，文件每一行为一个目标的信息，包括class, x_center, y_center, width, height格式，这种即为yolo_txt格式。</p> 
<p><img alt="ee91d75ec4b94df39eeda5a75d94da14.png" src="https://images2.imgbox.com/c9/91/I4hLmSV6_o.png"></p> 
<p><strong>        dataSet_path </strong>文件夹包含三个数据集的txt文件，train.txt等txt文件为划分后图像所在位置的路径，如train.txt就含有所有训练集图像的路径（博主这里的路径和大家的不一样，需要注意一下）。</p> 
<p><img alt="27d7e67fec124b2bab0bddbddf6ba476.png" src="https://images2.imgbox.com/21/02/Ud7wPixI_o.png"></p> 
<p>（3）配置文件</p> 
<p>        在 yolov5 目录下的 data 文件夹下 <strong>新建一个 myvoc.yaml 文件</strong>（可以自定义命名）并用记事本打开，输入以下内容。</p> 
<p>        给大家解释一下，这里的内容是 <strong>训练集以及验证集（train.txt和val.txt）的路径</strong>（可以改为相对路径）以及 <strong>目标的类别数目（nc）</strong> 和 <strong>类别名称（name） </strong>。</p> 
<p><strong>注意：这里的类别名称顺序和 xml_to_yolo.py 中的类别名称顺序得一致，如果训练的结果是反的，这里修改重新训练；还有，冒号后面都需要加一个空格。</strong></p> 
<pre><code class="language-python">train: D:/Yolov5/yolov5/VOCData/dataSet_path/train.txt
val: D:/Yolov5/yolov5/VOCData/dataSet_path/val.txt

# number of classes
nc: 2

# class names
names: ["light", "post"]
</code></pre> 
<p>        接下来修改模型配置文件，选择一个模型，在yolov5目录下的model文件夹下是模型的配置文件，有n、s、m、l、x版本，逐渐增大（随着架构的增大，训练时间也是逐渐增大），博主这里放上一些官方数据。</p> 
<p><img alt="a78d7319dcac407f98c92ec88158be13.png" src="https://images2.imgbox.com/db/6d/Xx4GSTcx_o.png"></p> 
<table align="left" border="1" cellpadding="1" cellspacing="1"><tbody><tr><td>Model</td><td>size<br> (pixels)</td><td>mAPbox<br> 50-95</td><td>mAPmask<br> 50-95</td><td>Speed<br> CPU b1<br> (ms)</td><td>Speed<br> V100 b1<br> (ms)</td><td>Speed<br> V100 b32<br> (ms)</td><td>params<br> (M)</td><td>FLOPs<br> @640 (B)</td></tr><tr><td><a href="https://github.com/ultralytics/yolov5/releases/download/v7.0/yolov5n.pt" title="YOLOv5n">YOLOv5n</a>-seg</td><td>640</td><td>27.6</td><td>23.4</td><td>45</td><td>6.3</td><td>0.6</td><td>1.9</td><td>4.5</td></tr><tr><td><a href="https://github.com/ultralytics/yolov5/releases" title="YOLOv5s">YOLOv5s</a>-seg</td><td>640</td><td>37.6</td><td>31.7</td><td>98</td><td>6.4</td><td>0.9</td><td>7.2</td><td>16.5</td></tr><tr><td><a href="https://github.com/ultralytics/yolov5/releases/download/v7.0/yolov5m.pt" title="YOLOv5m">YOLOv5m</a>-seg</td><td>640</td><td>45.0</td><td>37.1</td><td>224</td><td>8.2</td><td>1.7</td><td>21.2</td><td>49.0</td></tr><tr><td><a href="https://github.com/ultralytics/yolov5/releases/download/v7.0/yolov5l.pt" title="YOLOv5l">YOLOv5l</a>-seg</td><td>640</td><td>49.0</td><td>39.9</td><td>430</td><td>10.1</td><td>2.7</td><td>46.5</td><td>109.1</td></tr><tr><td><a href="https://github.com/ultralytics/yolov5/releases/download/v7.0/yolov5x.pt" title="YOLOv5x">YOLOv5x</a>-seg</td><td>640</td><td>50.7</td><td><strong>41.4</strong></td><td>766</td><td>12.1</td><td>4.8</td><td>86.7</td><td>205.7</td></tr></tbody></table> 
<h4></h4> 
<h4></h4> 
<h4></h4> 
<h4></h4> 
<h4></h4> 
<h4></h4> 
<h4></h4> 
<h4></h4> 
<p>         博主这里就选用 <strong>yolov5s.yaml </strong>并使用记事本打开，更改标注类别数目<strong>nc</strong>。</p> 
<p><img alt="7328b637a48d4536b87801a17d1b2b52.png" src="https://images2.imgbox.com/2d/94/GyLzVYZH_o.png"></p> 
<p><img alt="e56a62fc196f4a2c8cf4b000b0b59fe1.png" src="https://images2.imgbox.com/a7/71/xxWWiFzw_o.png"></p> 
<h4>4.模型训练</h4> 
<p>（1）开始训练</p> 
<p>        使用PyCharm打开yolov5 目录下的 <strong>train.py</strong> 程序，我们可以多看看这些参数使用。</p> 
<p><img alt="dee39c6123574caa95d82d8bf00669f5.png" src="https://images2.imgbox.com/ca/79/jM6CcYfF_o.png"></p> 
<p>常用参数解释如下：</p> 
<p><strong>weights</strong>：权重文件路径</p> 
<p><strong>cfg</strong>：存储模型结构的配置文件</p> 
<p><strong>data</strong>：存储训练、测试数据的文件</p> 
<p><strong>epochs</strong>：指的就是训练过程中整个数据集将被迭代（训练）了多少次，显卡不行你就调小点。</p> 
<p><strong>batch-size</strong>：训练完多少张图片才进行权重更新，显卡不行就调小点。</p> 
<p><strong>img-size</strong>：输入图片宽高，显卡不行就调小点。</p> 
<p><strong>device</strong>：cuda device, i.e. 0 or 0,1,2,3 or cpu。选择使用GPU还是CPU</p> 
<p><strong>workers</strong>：线程数。默认是8。</p> 
<p>        在我们的yolov5目录下打开Windows命令终端。<strong>训练命令如下</strong>：</p> 
<blockquote> 
 <p>python train.py --weights yolov5s-seg.pt --cfg models/yolov5s.yaml  --data data/myvoc.yaml --epoch 100 --batch-size 1 --img 640   --device cpu</p> 
</blockquote> 
<p><strong>--weights</strong>：这个选择yolov5s-seg.pt文件作为预训练的权重文件</p> 
<p><strong>--cfg</strong>：选择models目录下的yolov5s.yaml模型。</p> 
<p><strong>--data</strong>：选择data目录下的myvoc.yaml数据源，也就是在上文配置文件那里创建的文件。</p> 
<p><strong>--epoch</strong>：训练100次。</p> 
<p><strong>--batch-size</strong>：训练1张图片后进行权重更新。</p> 
<p><strong>--img</strong>：图片训练尺寸为640。</p> 
<p><strong>--device</strong>：使用CPU训练。</p> 
<p><strong>如果出现问题，查看后面相关问题说明！</strong></p> 
<p><strong><span style="background-color:#ffd900;">注意，这里给大家附上下载yolov5的预训练的权重文件链接。</span><br><span style="background-color:#ffd900;">很重要！很重要！很重要！之前忘记把这个放出来了</span></strong></p> 
<p><a href="https://github.com/ultralytics/yolov5/releases" title="Releases · ultralytics/yolov5 · GitHub">Releases · ultralytics/yolov5 · GitHub</a><br> 打开界面之后，往下稍稍滑动一下，看到以下界面，例如使用yolov5n-seg去训练，点击即可下载<br><img alt="" height="513" src="https://images2.imgbox.com/a9/92/YMXSqNwR_o.png" width="1129"></p> 
<p>最后将下载好的文件放在yolov5文件目录下即可使用<br><img alt="" height="148" src="https://images2.imgbox.com/20/89/IJhPA4vw_o.png" width="130"><img alt="" height="719" src="https://images2.imgbox.com/3f/f3/O1X9vzVu_o.png" width="1200"></p> 
<p><strong>（2）训练过程</strong></p> 
<p><strong>        博主这边暂时没有时间去找数据集以及标注和训练，就对大家也说一声抱歉没法给出训练的图片。</strong></p> 
<p>        训练好的模型会被保存在 yolov5 目录下的 runs/train/exp/weights/ 下（注意：如果重复执行命令训练，会产生多个exp，注意区别就好）。</p> 
<p><img alt="b3fd07086be54d2188cc749e24623120.png" src="https://images2.imgbox.com/51/2c/qnAqH2tK_o.png"></p> 
<p><strong>如果出现问题，查看后面相关问题说明！</strong></p> 
<p>（3）训练时间</p> 
<p>        博主这里就跟大家说一下我的个人的实际经验吧，之前训练过单标签，--epoch 200，--batch-size 1 ， --device cpu 训练了大概8个小时，大概一张图片训练一次2-3s，我也用过GPU去训练，是桌面级RTX3050Ti，训练一张图片大概0.5s，快了好几倍，所以建议大家还是选择GPU训练。</p> 
<p>（4）相关问题</p> 
<p><strong><span style="background-color:#ffd900;">出现缺少模块（类似No module named 'cv2'）</span></strong></p> 
<p><span style="background-color:#ffd900;">可以在PyCharm终端或者Windows命令终端去pip install opencv-python，这里的opencv-python是举一个例子，大家要看自己环境缺什么就安装什么。</span></p> 
<p><strong><span style="background-color:#ffd900;">页面太小，无法完成操作</span></strong></p> 
<p><span style="background-color:#ffd900;">虚拟内存不足，调小 --batch-size，降低 --epoch，可以多尝试尝试，直到成功不报错为止。</span></p> 
<p>（5）检测效果</p> 
<p>我们使用刚刚训练出的最好的模型 best.pt 来测试，在yolov5目录下的 runs/train/exp/weights</p> 
<blockquote> 
 <p> python detect.py --weights runs/train/exp/weights/best.pt --source video/VID_20211106_160222.mp4 </p> 
</blockquote> 
<p>         博主在这里给大家解释一下：</p> 
<p><strong>runs/train/exp/weights/best.pt</strong>：意思是选择刚刚我们训练好的模型 best.pt 来检测。</p> 
<p><strong>--source video/VID_20211106_160222.mp4</strong>：意思是要检测的视频是yolov5目录下的VID_20211106_160222.mp4视频，如果大家要检测的是图片，救修改--source后的路径就好。</p> 
<p>        这里附上之前做过一个火龙果识别的视频。</p> 
<div class="csdn-video-box"> 
 <iframe id="AYtKXeDE-1694597050175" frameborder="0" src="https://live.csdn.net/v/embed/328112" allowfullscreen="true" data-mediaembed="csdn"></iframe> 
 <p></p> 
</div> 
<h2>五、资源整合</h2> 
<p>        因为本文篇幅有点长，博主在这里将所有用到的资源全部放到这里。</p> 
<p><a class="link-info" href="https://pan.baidu.com/s/16d7hTaIWKzTfAV3x7eKDsg?pwd=uuo3" rel="nofollow" title="Python3 3.11.5安装包">Python3 3.11.5安装包</a>        <a class="link-info" href="https://pan.baidu.com/s/1dfBBMltvbyfuq4u30NMe-A?pwd=2dhl" rel="nofollow" title="Python3 3.8.10安装包">Python3 3.8.10安装包</a>        <a class="link-info" href="https://pan.baidu.com/s/13hBsvmM3WcH3fPs5-v-WAA?pwd=6msz" rel="nofollow" title="PyCharm社区版安装包">PyCharm社区版安装包</a>        <a class="link-info" href="https://pan.baidu.com/s/1Uv_0GM4GefC1QVWXnLbT1w?pwd=vbdq" rel="nofollow" title="FastGitHub压缩包">FastGitHub压缩包</a>        <a class="link-info" href="https://pan.baidu.com/s/1NpYTedt-1SJySL00zq8EqA?pwd=cy06" rel="nofollow" title="YOLOv5压缩包">YOLOv5压缩包</a>        <a class="link-info" href="https://pan.baidu.com/s/1M4nPcZmbSbOWQ2yoy0sNSA?pwd=8bcj" rel="nofollow" title="labelImg">labelImg</a>       <a class="link-info" href="https://github.com/ultralytics/yolov5/releases" title=".pt权重文件">.pt权重文件</a></p> 
<p><strong>如果大家觉得有用的话，就拜托点点赞咯！大家有什么问题都可以在反馈评论区哦！</strong></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/2fc26c6316e3f49c42f9bec81aa6baa5/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">ROS2高效学习第十章 -- ros2 高级组件其四之 webots</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/115188cf85171bc7f02e36ae059fc801/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Java高阶私房菜：JVM性能优化案例及讲解</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>