<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Java - List排序 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/f709bc2d15cf5a061f3cd73694ee3a4e/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="Java - List排序">
  <meta property="og:description" content="List排序方法
主要有三种方法（按推荐度排序）：
JDK8的streamComparator#compare()Comparable#compareTo() 法1：list的sort() package com.example.a; import java.util.ArrayList; import java.util.Comparator; import java.util.List; class User{ private Integer score; private Integer age; public User(Integer score, Integer age){ super(); this.score = score; this.age = age; } public Integer getScore() { return score; } public void setScore(Integer score) { this.score = score; } public Integer getAge() { return age; } public void setAge(Integer age) { this.age = age; } } public class Demo { public static void main(String[] args) { List&lt;User&gt; users = new ArrayList&lt;&gt;(); users.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-03-04T21:48:59+08:00">
    <meta property="article:modified_time" content="2024-03-04T21:48:59+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Java - List排序</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><strong>List排序方法</strong></p> 
<p>主要有三种方法（按推荐度排序）：</p> 
<blockquote> 
 <ol><li>JDK8的stream</li><li>Comparator#compare()</li><li>Comparable#compareTo()</li></ol> 
</blockquote> 
<h3></h3> 
<h3>法1：list的sort()</h3> 
<pre><code class="language-java">package com.example.a;

import java.util.ArrayList;
import java.util.Comparator;
import java.util.List;


class User{

    private Integer score;

    private Integer age;

    public User(Integer score, Integer age){
        super();
        this.score = score;
        this.age = age;
    }

    public Integer getScore() {
        return score;
    }

    public void setScore(Integer score) {
        this.score = score;
    }

    public Integer getAge() {
        return age;
    }

    public void setAge(Integer age) {
        this.age = age;
    }

}


public class Demo {
    public static void main(String[] args) {
        List&lt;User&gt; users = new ArrayList&lt;&gt;();
        users.add(new User(95, 26));
        users.add(new User(84, 23));
        users.add(new User(96, 25));
        users.add(new User(95, 24));

        // 单字段排序
        users.sort(Comparator.comparing(User::getAge));
        for(User user : users){
            System.out.println(user.getScore() + "," + user.getAge());
        }

        System.out.println("---------------------------------");

        // 多字段排序（法1）
        users.sort((o1, o2) -&gt; {
            // 这里必须要在中间加分隔符。否则，若都是数字，会变成数字相加，再转为字符串
            String tmp1 = o1.getScore() + ":" + o1.getAge();
            String tmp2 = o2.getScore() + ":" + o2.getAge();
            return tmp1.compareTo(tmp2);
        });
        for(User user : users){
            System.out.println(user.getScore() + ":" + user.getAge());
        }

        System.out.println("---------------------------------");

        // 多字段排序（法2）
        users.sort((o1, o2) -&gt; {
            int i = o2.getScore() - o1.getScore();
            if (i == 0) {
                return o1.getAge() - o2.getAge();
            }
            return i;
        });
        for(User user : users){
            System.out.println(user.getScore() + "," + user.getAge());
        }
    }

}

//测试输出
84,23
95,24
96,25
95,26
---------------------------------
84:23
95:24
95:26
96:25
---------------------------------
96,25
95,24
95,26
84,23</code></pre> 
<h3></h3> 
<h3><strong>法2：JDK8的stream</strong></h3> 
<table><tbody><tr><td><strong>方法</strong></td><td><strong>说明</strong></td></tr><tr><td>sorted()</td><td>自然排序（从小到大），流中元素需实现Comparable接口。 例：list.stream().sorted()</td></tr><tr><td>sorted(Comparator com)</td><td>定制排序。常用以下几种：<br> list.stream().sorted(Comparator.reverseOrder()) //倒序排序（从大到小）<br> list.stream().sorted(Comparator.comparing(Student::getAge)) //顺序排序（从小到大）<br> list.stream().sorted(Comparator.comparing(Student::getAge).reversed()) // 倒序排序（从大到小）</td></tr></tbody></table> 
<p>返回排序后的流</p> 
<pre><code class="language-java">//4、sorted：排序，根据名字倒序
userList.stream().sorted(Comparator.comparing(User::getName).reversed()).collect(Collectors.toList()).forEach(System.out::println);</code></pre> 
<h4><strong>原始类型排序</strong></h4> 
<pre><code class="language-java">List&lt;String&gt; list = Arrays.asList("aa", "ff", "dd");
//String 类自身已实现Comparable接口
list.stream().sorted().forEach(System.out::println);
 
//结果：
aa
dd
ff</code></pre> 
<h4>对象单字段排序</h4> 
<pre><code class="language-java">User u1 = new User("dd", 40);
User u2 = new User("bb", 20);
User u3 = new User("aa", 20);
User u4 = new User("aa", 30);
List&lt;User&gt; userList = Arrays.asList(u1, u2, u3, u4);
 
//按年龄升序
userList.stream().sorted(Comparator.comparing(User::getAge))
        .forEach(System.out::println);
 
//结果
User(name=bb, age=20)
User(name=aa, age=20)
User(name=aa, age=30)
User(name=dd, age=40)</code></pre> 
<h4>对象多字段、全部升序排序 </h4> 
<pre><code class="language-java">//先按年龄升序，年龄相同则按姓名升序
User u1 = new User("dd", 40);
User u2 = new User("bb", 20);
User u3 = new User("aa", 20);
User u4 = new User("aa", 30);
List&lt;User&gt; userList = Arrays.asList(u1, u2, u3, u4);
 
// 写法1（推荐）
userList.stream().sorted(Comparator
                .comparing(User::getAge)
                .thenComparing(User::getName)
        // 可以写多个.thenComparing
).forEach(System.out::println);
 
System.out.println("------------------------------------");
 
// 写法2
userList.stream().sorted(
        (o1, o2) -&gt; {
            String tmp1 = o1.getAge() + o1.getName();
            String tmp2 = o2.getAge() + o2.getName();
            return tmp1.compareTo(tmp2);
        }
).forEach(System.out::println);
 
System.out.println("------------------------------------");
 
// 写法3
userList.stream().sorted(
        (o1, o2) -&gt; {
            if (!o1.getAge().equals(o2.getAge())) {
                return o1.getAge().compareTo(o2.getAge());
            } else {
                return o1.getName().compareTo(o2.getName());
            }
        }
).forEach(System.out::println);
 
//结果
User(name=aa, age=20)
User(name=bb, age=20)
User(name=aa, age=30)
User(name=dd, age=40)
------------------------------------
User(name=aa, age=20)
User(name=bb, age=20)
User(name=aa, age=30)
User(name=dd, age=40)
------------------------------------
User(name=aa, age=20)
User(name=bb, age=20)
User(name=aa, age=30)
User(name=dd, age=40)</code></pre> 
<h4>对象多字段、升序+降序</h4> 
<pre><code class="language-java">//先按年龄升序，年龄相同则按姓名降序
User u1 = new User("dd", 40);
User u2 = new User("bb", 20);
User u3 = new User("aa", 20);
User u4 = new User("aa", 30);
List&lt;User&gt; userList = Arrays.asList(u1, u2, u3, u4);
 
userList.stream().sorted(
        (o1, o2) -&gt; {
            if (!o1.getAge().equals(o2.getAge())) {
                return o1.getAge().compareTo(o2.getAge());
            } else {
                return o2.getName().compareTo(o1.getName());
            }
        }
).forEach(System.out::println);
 
//结果
User(name=bb, age=20)
User(name=aa, age=20)
User(name=aa, age=30)
User(name=dd, age=40)</code></pre> 
<p> </p> 
<h3><strong>法3：Comparator#compare()</strong></h3> 
<p>需求：用户有成绩和年龄。按成绩排序，若成绩相同，则按年龄排序。</p> 
<pre><code class="language-java">package org.example.a;

import java.util.ArrayList;
import java.util.Collections;
import java.util.Comparator;
import java.util.List;


class User{

    private int score;

    private int age;

    public User(int score, int age){
        super();
        this.score = score;
        this.age = age;
    }

    public int getScore() {
        return score;
    }

    public void setScore(int score) {
        this.score = score;
    }

    public int getAge() {
        return age;
    }

    public void setAge(int age) {
        this.age = age;
    }

}


public class Demo {
    public static void main(String[] args) {
        List&lt;User&gt; users = new ArrayList&lt;User&gt;();
        users.add(new User(95, 26));
        users.add(new User(84, 23));
        users.add(new User(96, 25));
        users.add(new User(95, 24));
        Collections.sort(users, new Comparator&lt;User&gt;() {
            @Override
            public int compare(User o1, User o2) {
                int i = o2.getScore() - o1.getScore();
                if(i == 0){
                    return o1.getAge() - o2.getAge();
                }
                return i;
            }
        });
        for(User user : users){
            System.out.println(user.getScore() + "," + user.getAge());
        }
    }

}

//执行结果
96,25
95,24
95,26
84,23</code></pre> 
<h3><strong>法4：Comparable#compareTo()</strong></h3> 
<p>默认按增序排序：</p> 
<p>需求：用户有成绩和年龄。按成绩降序排序，若成绩相同，则按年龄正序排序。</p> 
<pre><code class="language-java">package org.example.a;

import java.util.ArrayList;
import java.util.Collections;
import java.util.List;


class User implements Comparable&lt;User&gt;{

    private int score;

    private int age;

    public User(int score, int age){
        super();
        this.score = score;
        this.age = age;
    }

    public int getScore() {
        return score;
    }

    public void setScore(int score) {
        this.score = score;
    }

    public int getAge() {
        return age;
    }

    public void setAge(int age) {
        this.age = age;
    }

    @Override
    public int compareTo(User o) {
        int i = o.getScore() - this.getScore();
        if(i == 0){
            return this.getAge() - o.getAge();
        }
        return i;
    }
}


public class Demo {
    public static void main(String[] args) {
        List&lt;User&gt; users = new ArrayList&lt;User&gt;();
        users.add(new User(95, 26));
        users.add(new User(84, 23));
        users.add(new User(96, 25));
        users.add(new User(95, 24));
        Collections.sort(users);
        for(User user : users){
            System.out.println(user.getScore() + "," + user.getAge());
        }
    }

}

//执行结果
96,25
95,24
95,26
84,23</code></pre> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/1e61ecd15b1d6902b7951015ce8af3f6/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">一个强大的 VS Code 的AI代码插件：Fitten Code</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/13dd64f6c05603f908e7b3349f81fe0e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">微信开发者工具下载及小程序项目的创建与调试（完整图文教程）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>