<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Anaconda &#43; Pytorch 超详细安装教程(2023/4/29) - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/68030b3da1292219d7fce32001d07e00/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="Anaconda &#43; Pytorch 超详细安装教程(2023/4/29)">
  <meta property="og:description" content="Anconda&#43;PyTorch 最新安装教程（2023-04-29） 安装流程1.安装Anaconda装完之后 2.创建pytorch环境3.检查显卡（NVIDIA显卡）（AMD显卡可跳过）4.配置阿里云镜像源进入base环境，键入命令 5.安装pytorch6.测试我遇到的错误1.下载问题解决办法 2.版本问题解决办法安装方法 7.CUDA核心NVIDIA显卡成功图其他显卡安装成功图 安装流程 1.安装Anaconda
2.创建机器学习环境
3.检查显卡，更新驱动
4.配置阿里云镜像源
5.安装pytorch
6.测试
7.CUDA核心
1.安装Anaconda https://www.anaconda.com/download/
直接默认下一步即可
装完之后 按win在“所有应用”中找到Anaconda Prompt
出现（base）表示成功
2.创建pytorch环境 这里面输入python可以看到安装的python版本号，我的是python3.10然后输入exit()回车就好。
创建pytorch虚拟环境，pytorch是环境变量的名字，python=3.10即是之前自己系统python版本。(注意这里的python版本要和自己的版本相同，我的是python3.10)
conda create -n pytorch python=3.10
到这里按y即可
出现这个界面就表示成功了
我们输入activate pytorch（pytorch是你定义的这个环境的名字），左边的环境就从base（基本环境），变成了pytorch环境。
3.检查显卡（NVIDIA显卡）（AMD显卡可跳过） 选择自己的显卡型号（如果有英伟达显卡的话，AMD的显卡不可以实用cuda核心训练，如果是AMD显卡直接用CPU训练就行）
4.配置阿里云镜像源 默认是Anconda国外镜像源，换国内的镜像源下载速度快。
进入base环境，键入命令 conda config --set show_channel_urls yes
在用户文件中找到这里 并用记事本打开
用记事本打开并输入阿里云镜像源
channels: - defaults show_channel_urls: true default_channels: - http://mirrors.aliyun.com/anaconda/pkgs/main - http://mirrors.aliyun.com/anaconda/pkgs/r - http://mirrors.aliyun.com/anaconda/pkgs/msys2 custom_channels: conda-forge: http://mirrors.aliyun.com/anaconda/cloud msys2: http://mirrors.aliyun.com/anaconda/cloud bioconda: http://mirrors.aliyun.com/anaconda/cloud menpo: http://mirrors.aliyun.com/anaconda/cloud pytorch: http://mirrors.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2023-04-29T19:26:18+08:00">
    <meta property="article:modified_time" content="2023-04-29T19:26:18+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Anaconda &#43; Pytorch 超详细安装教程(2023/4/29)</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>Anconda+PyTorch 最新安装教程（2023-04-29）</h4> 
 <ul><li><a href="#_2" rel="nofollow">安装流程</a></li><li><a href="#1Anaconda_11" rel="nofollow">1.安装Anaconda</a></li><li><ul><li><a href="#_20" rel="nofollow">装完之后</a></li></ul> 
  </li><li><a href="#2pytorch_26" rel="nofollow">2.创建pytorch环境</a></li><li><a href="#3NVIDIAAMD_43" rel="nofollow">3.检查显卡（NVIDIA显卡）（AMD显卡可跳过）</a></li><li><a href="#4_48" rel="nofollow">4.配置阿里云镜像源</a></li><li><ul><li><a href="#base_50" rel="nofollow">进入base环境，键入命令</a></li></ul> 
  </li><li><a href="#5pytorch_80" rel="nofollow">5.安装pytorch</a></li><li><a href="#6_99" rel="nofollow">6.测试</a></li><li><ul><li><a href="#_106" rel="nofollow">我遇到的错误</a></li><li><ul><li><a href="#1_108" rel="nofollow">1.下载问题</a></li><li><ul><li><a href="#_125" rel="nofollow">解决办法</a></li></ul> 
    </li><li><a href="#2_143" rel="nofollow">2.版本问题</a></li><li><ul><li><a href="#_152" rel="nofollow">解决办法</a></li><li><a href="#_159" rel="nofollow">安装方法</a></li></ul> 
   </li></ul> 
  </li></ul> 
  </li><li><a href="#7CUDA_169" rel="nofollow">7.CUDA核心</a></li><li><ul><li><a href="#NVIDIA_170" rel="nofollow">NVIDIA显卡成功图</a></li><li><a href="#_172" rel="nofollow">其他显卡安装成功图</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="_2"></a>安装流程</h2> 
<p>1.安装Anaconda<br> 2.创建机器学习环境<br> 3.检查显卡，更新驱动<br> 4.配置阿里云镜像源<br> 5.安装pytorch<br> 6.测试<br> 7.CUDA核心</p> 
<h2><a id="1Anaconda_11"></a>1.安装Anaconda</h2> 
<p><img src="https://images2.imgbox.com/37/a1/CbwPNeKY_o.png" alt="请添加图片描述"></p> 
<blockquote> 
 <p>https://www.anaconda.com/download/</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/1c/78/rTJMGDYz_o.png" alt="请添加图片描述"><br> <img src="https://images2.imgbox.com/b3/2c/rM79ktPD_o.png" alt="请添加图片描述"></p> 
<p><img src="https://images2.imgbox.com/05/0c/N2OCXwFK_o.png" alt="请添加图片描述"><br> 直接默认下一步即可</p> 
<h3><a id="_20"></a>装完之后</h3> 
<blockquote> 
 <p>按win在“所有应用”中找到Anaconda Prompt</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/7a/10/ikpNmq06_o.png" alt="请添加图片描述"><br> <img src="https://images2.imgbox.com/8a/9b/s51RwOVS_o.png" alt="请添加图片描述"></p> 
<blockquote> 
 <p>出现（base）表示成功</p> 
</blockquote> 
<h2><a id="2pytorch_26"></a>2.创建pytorch环境</h2> 
<p><img src="https://images2.imgbox.com/6b/0b/kT1OazPm_o.png" alt="请添加图片描述"></p> 
<blockquote> 
 <p>这里面输入python可以看到安装的python版本号，我的是python3.10然后输入exit()回车就好。</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/14/d0/mh6xgBJQ_o.png" alt="请添加图片描述"></p> 
<blockquote> 
 <p>创建pytorch虚拟环境，pytorch是环境变量的名字，python=3.10即是之前自己系统python版本。(注意这里的python版本要和自己的版本相同，我的是python3.10)<br> conda create -n pytorch python=3.10</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/03/ee/RC5yYwly_o.png" alt="请添加图片描述"></p> 
<blockquote> 
 <p>到这里按y即可</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/cf/f1/bsRZMj9G_o.png" alt="请添加图片描述"></p> 
<blockquote> 
 <p>出现这个界面就表示成功了</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/eb/25/ANmUEad1_o.png" alt="请添加图片描述"></p> 
<blockquote> 
 <p>我们输入activate pytorch（pytorch是你定义的这个环境的名字），左边的环境就从base（基本环境），变成了pytorch环境。</p> 
</blockquote> 
<h2><a id="3NVIDIAAMD_43"></a>3.检查显卡（NVIDIA显卡）（AMD显卡可跳过）</h2> 
<p><img src="https://images2.imgbox.com/f9/d0/FLC0YjDR_o.png" alt="请添加图片描述"></p> 
<blockquote> 
 <p>选择自己的显卡型号（如果有英伟达显卡的话，AMD的显卡不可以实用cuda核心训练，如果是AMD显卡直接用CPU训练就行）</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/fe/1a/nAwl74bV_o.png" alt="请添加图片描述"></p> 
<h2><a id="4_48"></a>4.配置阿里云镜像源</h2> 
<p>默认是Anconda国外镜像源，换国内的镜像源下载速度快。</p> 
<h3><a id="base_50"></a>进入base环境，键入命令</h3> 
<blockquote> 
 <p>conda config --set show_channel_urls yes</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/02/1a/PYQLSdVm_o.png" alt="请添加图片描述"></p> 
<blockquote> 
 <p>在用户文件中找到这里 并用记事本打开</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/92/3e/UFmwv4Fw_o.png" alt="请添加图片描述"></p> 
<blockquote> 
 <p>用记事本打开并输入阿里云镜像源</p> 
</blockquote> 
<pre><code class="prism language-javascript"><span class="token literal-property property">channels</span><span class="token operator">:</span>
  <span class="token operator">-</span> defaults
<span class="token literal-property property">show_channel_urls</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token literal-property property">default_channels</span><span class="token operator">:</span>
  <span class="token operator">-</span> http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>mirrors<span class="token punctuation">.</span>aliyun<span class="token punctuation">.</span>com<span class="token operator">/</span>anaconda<span class="token operator">/</span>pkgs<span class="token operator">/</span>main
  <span class="token operator">-</span> http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>mirrors<span class="token punctuation">.</span>aliyun<span class="token punctuation">.</span>com<span class="token operator">/</span>anaconda<span class="token operator">/</span>pkgs<span class="token operator">/</span>r
  <span class="token operator">-</span> http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>mirrors<span class="token punctuation">.</span>aliyun<span class="token punctuation">.</span>com<span class="token operator">/</span>anaconda<span class="token operator">/</span>pkgs<span class="token operator">/</span>msys2
<span class="token literal-property property">custom_channels</span><span class="token operator">:</span>
  conda<span class="token operator">-</span>forge<span class="token operator">:</span> http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>mirrors<span class="token punctuation">.</span>aliyun<span class="token punctuation">.</span>com<span class="token operator">/</span>anaconda<span class="token operator">/</span>cloud
  <span class="token literal-property property">msys2</span><span class="token operator">:</span> http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>mirrors<span class="token punctuation">.</span>aliyun<span class="token punctuation">.</span>com<span class="token operator">/</span>anaconda<span class="token operator">/</span>cloud
  <span class="token literal-property property">bioconda</span><span class="token operator">:</span> http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>mirrors<span class="token punctuation">.</span>aliyun<span class="token punctuation">.</span>com<span class="token operator">/</span>anaconda<span class="token operator">/</span>cloud
  <span class="token literal-property property">menpo</span><span class="token operator">:</span> http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>mirrors<span class="token punctuation">.</span>aliyun<span class="token punctuation">.</span>com<span class="token operator">/</span>anaconda<span class="token operator">/</span>cloud
  <span class="token literal-property property">pytorch</span><span class="token operator">:</span> http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>mirrors<span class="token punctuation">.</span>aliyun<span class="token punctuation">.</span>com<span class="token operator">/</span>anaconda<span class="token operator">/</span>cloud
  <span class="token literal-property property">simpleitk</span><span class="token operator">:</span> http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>mirrors<span class="token punctuation">.</span>aliyun<span class="token punctuation">.</span>com<span class="token operator">/</span>anaconda<span class="token operator">/</span>cloud
</code></pre> 
<p><img src="https://images2.imgbox.com/58/fa/eS6xidAJ_o.png" alt="请添加图片描述"></p> 
<blockquote> 
 <p>ctrl + s保存即可</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/88/4e/AfZuGvQb_o.png" alt="请添加图片描述"></p> 
<blockquote> 
 <p>在Anaconda prompt 命令窗口运行 conda clean -i 清除索引缓存，保证用的是镜像站提供的索引。然后输入y。</p> 
</blockquote> 
<h2><a id="5pytorch_80"></a>5.安装pytorch</h2> 
<p><img src="https://images2.imgbox.com/12/de/JeetASeD_o.png" alt="在这里插入图片描述"><br> 进入网页会自动跳转到对应的系统复制（Run this Command）命令安装即可。</p> 
<p>这个是我的版本对应的命令。</p> 
<blockquote> 
 <p>conda install pytorch torchvision torchaudio pytorch-cuda=11.8 -c pytorch -c nvidia</p> 
</blockquote> 
<blockquote> 
 <p>进入pytorch环境（注意是pytorch环境，不是base环境）</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/44/c9/xKV6raAB_o.png" alt="请添加图片描述"><br> <img src="https://images2.imgbox.com/09/dd/buQnSOBP_o.png" alt="请添加图片描述"></p> 
<blockquote> 
 <p>等待安装即可</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/24/02/9m1w1oo7_o.png" alt="请添加图片描述"></p> 
<blockquote> 
 <p>输入y</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/d5/46/c1odfTBc_o.png" alt="请添加图片描述"></p> 
<blockquote> 
 <p>如果中间窗口停止或者终止，重复步骤5（一定要记得清除索引conda clean -i）</p> 
</blockquote> 
<h2><a id="6_99"></a>6.测试</h2> 
<blockquote> 
 <p>等全部装好之后输入python<br> 然后输入import torch<br> 如果不报错说明没有问题</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/8a/41/LwkhJb4K_o.png" alt="请添加图片描述"></p> 
<h3><a id="_106"></a>我遇到的错误</h3> 
<p><img src="https://images2.imgbox.com/23/75/IWCWBylK_o.png" alt="请添加图片描述"></p> 
<h4><a id="1_108"></a>1.下载问题</h4> 
<p>由于网速较慢经常终止，再次重新下载时会遇到这种情况</p> 
<pre><code>During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\MYSTE\anaconda3\lib\site-packages\conda\auxlib\logz.py", line 165, in stringify
    requests_models_Response_builder(builder, obj)
  File "C:\Users\MYSTE\anaconda3\lib\site-packages\conda\auxlib\logz.py", line 141, in requests_models_Response_builder
    resp = response_object.json()
  File "C:\Users\MYSTE\anaconda3\lib\site-packages\requests\models.py", line 975, in json
    raise RequestsJSONDecodeError(e.msg, e.doc, e.pos)
requests.exceptions.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
</code></pre> 
<p><img src="https://images2.imgbox.com/61/51/tH0w5Ba4_o.png" alt="请添加图片描述"></p> 
<blockquote> 
 <p>错误原因:之前下载中断，导致索引关系发生错误</p> 
</blockquote> 
<h5><a id="_125"></a>解决办法</h5> 
<p>在pytorch虚拟环境下输入命令</p> 
<blockquote> 
 <p>conda clean -i</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/70/d6/XIoape4z_o.png" alt="请添加图片描述"><br> 然后按y即可取消索引重新下载pytorch包<br> 即重新键入</p> 
<blockquote> 
 <p>conda install pytorch torchvision torchaudio pytorch-cuda=11.8 -c pytorch -c nvidia</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/80/3c/zP6qR8X7_o.png" alt="请添加图片描述"></p> 
<blockquote> 
 <p>我的已经装好了，界面是这样的</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/88/c2/fe89wBdk_o.png" alt="请添加图片描述"></p> 
<blockquote> 
 <p>能够import torch不报错即可</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/1a/15/qowJzbfO_o.png" alt="请添加图片描述"></p> 
<h4><a id="2_143"></a>2.版本问题</h4> 
<blockquote> 
 <p>如果没有NIVIDA的GPU但是下载的确实GPU版本则会报错导入torch失败</p> 
</blockquote> 
<blockquote> 
 <p>报错显示如下：<br> ClobberError: This transaction has incompatible packages due to a shared path.<br> packages: nvidia/win-64::cuda-cupti-11.8.87-0, nvidia/win-64::cuda-nvtx-11.8.86-0<br> path: ‘metadata_conda_debug.yaml’</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/e2/a4/s7cjQIMT_o.png" alt="请添加图片描述"></p> 
<h5><a id="_152"></a>解决办法</h5> 
<blockquote> 
 <p>如果是AMD或者Intel显卡或者集成显卡可以直接用CPU版本</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/54/c8/EbKGNkkL_o.png" alt="请添加图片描述"></p> 
<blockquote> 
 <p>我的是:<br> conda install pytorch torchvision torchaudio cpuonly -c pytorch</p> 
</blockquote> 
<h5><a id="_159"></a>安装方法</h5> 
<blockquote> 
 <p>先解除索引</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/d0/96/P5DC9DOt_o.png" alt="请添加图片描述"></p> 
<blockquote> 
 <p>输入命令即可<br> conda install pytorch torchvision torchaudio cpuonly -c pytorch</p> 
</blockquote> 
<blockquote> 
 <p>安装成功</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/8b/a2/BFUIKIAB_o.png" alt="请添加图片描述"></p> 
<h2><a id="7CUDA_169"></a>7.CUDA核心</h2> 
<h3><a id="NVIDIA_170"></a>NVIDIA显卡成功图</h3> 
<p><img src="https://images2.imgbox.com/7a/20/o1U8lMRx_o.png" alt="请添加图片描述"></p> 
<h3><a id="_172"></a>其他显卡安装成功图</h3> 
<p><img src="https://images2.imgbox.com/a4/48/0L635a3S_o.png" alt="请添加图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/6f3838a7b9ad32fb250f0f3e253e23b6/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">10个最流行的向量数据库【AI】</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/2a6e8033dc8aaae301a1672ef7378044/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">分割一切？手把手教你部署SAM&#43;LabelStudio实现自动标注</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>