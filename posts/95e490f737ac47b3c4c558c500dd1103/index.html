<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【Python datetime模块精讲】：时间旅行者的日志，精准操控日期与时间 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/95e490f737ac47b3c4c558c500dd1103/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="【Python datetime模块精讲】：时间旅行者的日志，精准操控日期与时间">
  <meta property="og:description" content="文章目录 前言一、datetime模块简介二、常用类和方法三、date类四、time类五、datetime类六、timedelta类七、常用的函数和属性八、代码及其演示 前言 Python的datetime模块提供了日期和时间的类，用于处理日期和时间的算术运算。这个模块包括date、time、datetime和timedelta等类，以及tzinfo接口和timezone类。date类用于表示年、月、日，而time类表示时间。datetime类结合了日期和时间，提供了一个单一的日期时间对象。timedelta类用于表示两个日期或时间之间的差异。此外，tzinfo接口允许用户定义时区信息，而timezone类提供了时区的实现。datetime模块广泛用于需要日期和时间计算的应用程序，如日志记录、调度和数据时间戳。它的强大功能和灵活性使其成为Python标准库中不可或缺的一部分。
一、datetime模块简介 datetime模块是Python标准库中处理日期和时间的常用模块之一。它提供了日期和时间的表示、比较和运算方法，以及常见的格式化和解析函数。
二、常用类和方法 # datetime模块提供了许多有用的类和方法，下面是其中一些常用的： # 导入datetime模块 import datetime 类或方法描述datetime.date表示一个具体的日期，包括年份、月份和日数datetime.time表示一个具体的时间，包括小时、分钟、秒和微秒datetime.datetime表示一个具体的日期和时间，包括日期和时间的所有信息datetime.timedelta表示两个日期或时间之间的差距datetime.datetime.today() / datetime.datetime.now()返回表示当前日期和时间的对象datetime.datetime.fromtimestamp(ts)将时间戳转换为datetime对象datetime.datetime.strftime(format) / datetime.datetime.strptime(date_string, format)将datetime对象格式化为字符串，或将字符串解析为datetime对象 时间格式化符号
格式描述注释%Y年2021%y年21%m月%d日%H时24小时制（晚上九点：21:00）%I时12小时制（晚上九点：9:00）%M分%S秒%p上午AM 下午 PM 三、date类 # date类表示一个具体的日期，其中包括以下属性： 属性描述year年份month月份day日数weekday()返回星期几（0表示星期一，6表示星期日）isoweekday()返回ISO规定的星期几（1表示星期一，7表示星期日）isocalendar()返回一个元组，其中包含年份、周数和星期几strftime(format)将date对象格式化为字符串 # 创建一个date对象: d = datetime.date(year, month, day) d = datetime.date(2023, 5, 11) year属性表示日期对象的年份month属性表示日期对象的月份day属性表示日期对象的日数isoweekday()方法返回ISO规定的星期几，其中1表示星期一，7表示星期日。weekday()方法返回星期几，其中0表示星期一，6表示星期日。isocalendar()方法返回一个元组，其中包含年份、周数和星期几。 import datetime d = datetime.date(2023, 5, 11) print(d.year) # 2023 print(d.month) # 5 print(d.day) # 11 print(d.isoweekday()) # 4 print(d.weekday()) # 3 print(d.isocalendar()) # (2023, 19, 4) strftime()方法将date对象格式化为字符串。format参数是一个格式化字符串，其中包含特定的代码，代表日期和时间的不同部分。
import datetime d = datetime.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-06-26T23:03:47+08:00">
    <meta property="article:modified_time" content="2024-06-26T23:03:47+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【Python datetime模块精讲】：时间旅行者的日志，精准操控日期与时间</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><ul><li><ul><li><a href="#_4" rel="nofollow">前言</a></li><li><a href="#datetime_7" rel="nofollow">一、datetime模块简介</a></li><li><a href="#_14" rel="nofollow">二、常用类和方法</a></li><li><a href="#date_49" rel="nofollow">三、date类</a></li><li><a href="#time_109" rel="nofollow">四、time类</a></li><li><a href="#datetime_165" rel="nofollow">五、datetime类</a></li><li><a href="#timedelta_258" rel="nofollow">六、timedelta类</a></li><li><a href="#_335" rel="nofollow">七、常用的函数和属性</a></li><li><a href="#_453" rel="nofollow">八、代码及其演示</a></li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<p><img src="https://images2.imgbox.com/32/99/brCWOyUW_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_4"></a>前言</h4> 
<p>Python的datetime模块提供了日期和时间的类，用于处理日期和时间的算术运算。这个模块包括date、time、datetime和timedelta等类，以及tzinfo接口和timezone类。date类用于表示年、月、日，而time类表示时间。datetime类结合了日期和时间，提供了一个单一的日期时间对象。timedelta类用于表示两个日期或时间之间的差异。此外，tzinfo接口允许用户定义时区信息，而timezone类提供了时区的实现。datetime模块广泛用于需要日期和时间计算的应用程序，如日志记录、调度和数据时间戳。它的强大功能和灵活性使其成为Python标准库中不可或缺的一部分。</p> 
<h4><a id="datetime_7"></a>一、datetime模块简介</h4> 
<p><code>datetime模块是Python标准库中处理日期和时间的常用模块之一。它提供了日期和时间的表示、比较和运算方法，以及常见的格式化和解析函数。</code></p> 
<h4><a id="_14"></a>二、常用类和方法</h4> 
<pre><code class="prism language-python"><span class="token comment"># datetime模块提供了许多有用的类和方法，下面是其中一些常用的：</span>

<span class="token comment"># 导入datetime模块</span>
<span class="token keyword">import</span> datetime
</code></pre> 
<table><thead><tr><th align="left">类或方法</th><th>描述</th></tr></thead><tbody><tr><td align="left">datetime.date</td><td>表示一个具体的日期，包括年份、月份和日数</td></tr><tr><td align="left">datetime.time</td><td>表示一个具体的时间，包括小时、分钟、秒和微秒</td></tr><tr><td align="left">datetime.datetime</td><td>表示一个具体的日期和时间，包括日期和时间的所有信息</td></tr><tr><td align="left">datetime.timedelta</td><td>表示两个日期或时间之间的差距</td></tr><tr><td align="left">datetime.datetime.today() / datetime.datetime.now()</td><td>返回表示当前日期和时间的对象</td></tr><tr><td align="left">datetime.datetime.fromtimestamp(ts)</td><td>将时间戳转换为datetime对象</td></tr><tr><td align="left">datetime.datetime.strftime(format) / datetime.datetime.strptime(date_string, format)</td><td>将datetime对象格式化为字符串，或将字符串解析为datetime对象</td></tr></tbody></table> 
<p><mark>时间格式化符号</mark></p> 
<table><thead><tr><th>格式</th><th>描述</th><th>注释</th></tr></thead><tbody><tr><td>%Y</td><td>年</td><td>2021</td></tr><tr><td>%y</td><td>年</td><td>21</td></tr><tr><td>%m</td><td>月</td><td></td></tr><tr><td>%d</td><td>日</td><td></td></tr><tr><td>%H</td><td>时</td><td>24小时制（晚上九点：21:00）</td></tr><tr><td>%I</td><td>时</td><td>12小时制（晚上九点：9:00）</td></tr><tr><td>%M</td><td>分</td><td></td></tr><tr><td>%S</td><td>秒</td><td></td></tr><tr><td>%p</td><td>上午AM 下午 PM</td><td></td></tr></tbody></table> 
<h4><a id="date_49"></a>三、date类</h4> 
<pre><code class="prism language-python"><span class="token comment"># date类表示一个具体的日期，其中包括以下属性：</span>
</code></pre> 
<table><thead><tr><th align="center">属性</th><th>描述</th></tr></thead><tbody><tr><td align="center">year</td><td>年份</td></tr><tr><td align="center">month</td><td>月份</td></tr><tr><td align="center">day</td><td>日数</td></tr><tr><td align="center">weekday()</td><td>返回星期几（0表示星期一，6表示星期日）</td></tr><tr><td align="center">isoweekday()</td><td>返回ISO规定的星期几（1表示星期一，7表示星期日）</td></tr><tr><td align="center">isocalendar()</td><td>返回一个元组，其中包含年份、周数和星期几</td></tr><tr><td align="center">strftime(format)</td><td>将date对象格式化为字符串</td></tr></tbody></table> 
<pre><code class="prism language-python"><span class="token comment"># 创建一个date对象:</span>
d <span class="token operator">=</span> datetime<span class="token punctuation">.</span>date<span class="token punctuation">(</span>year<span class="token punctuation">,</span> month<span class="token punctuation">,</span> day<span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-python">d <span class="token operator">=</span> datetime<span class="token punctuation">.</span>date<span class="token punctuation">(</span><span class="token number">2023</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">)</span>
</code></pre> 
<ul><li><code>year</code>属性表示日期对象的年份</li><li><code>month</code>属性表示日期对象的月份</li><li><code>day</code>属性表示日期对象的日数</li><li><code>isoweekday()</code>方法返回ISO规定的星期几，其中1表示星期一，7表示星期日。</li><li><code>weekday()</code>方法返回星期几，其中0表示星期一，6表示星期日。</li><li><code>isocalendar()</code>方法返回一个元组，其中包含年份、周数和星期几。</li></ul> 
<pre><code class="prism language-python"><span class="token keyword">import</span> datetime

d <span class="token operator">=</span> datetime<span class="token punctuation">.</span>date<span class="token punctuation">(</span><span class="token number">2023</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span>year<span class="token punctuation">)</span> <span class="token comment"># 2023</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span>month<span class="token punctuation">)</span> <span class="token comment"># 5</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span>day<span class="token punctuation">)</span> <span class="token comment"># 11</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span>isoweekday<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 4</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span>weekday<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 3</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span>isocalendar<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># (2023, 19, 4)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/a5/ab/oYiwRIqc_o.png" alt="在这里插入图片描述"></p> 
<p>strftime()方法将date对象格式化为字符串。format参数是一个格式化字符串，其中包含特定的代码，代表日期和时间的不同部分。</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> datetime 

d <span class="token operator">=</span> datetime<span class="token punctuation">.</span>date<span class="token punctuation">(</span><span class="token number">2023</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">)</span>
s <span class="token operator">=</span> d<span class="token punctuation">.</span>strftime<span class="token punctuation">(</span><span class="token string">'%Y-%m-%d'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>  <span class="token comment"># 2023-05-11</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/7b/e3/ZyodDiwm_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="time_109"></a>四、time类</h4> 
<pre><code class="prism language-python"><span class="token comment"># time类表示一个具体的时间，其中包括以下属性：</span>
</code></pre> 
<table><thead><tr><th align="center">属性</th><th>描述</th></tr></thead><tbody><tr><td align="center">hour</td><td>小时</td></tr><tr><td align="center">minute</td><td>分钟</td></tr><tr><td align="center">second</td><td>秒</td></tr><tr><td align="center">microsecond</td><td>微秒</td></tr><tr><td align="center">strftime(format)</td><td>将time对象格式化为字符串</td></tr></tbody></table> 
<pre><code class="prism language-python"><span class="token comment"># 创建一个time对象：</span>
t <span class="token operator">=</span> datetime<span class="token punctuation">.</span>time<span class="token punctuation">(</span>hour<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> minute<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> second<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> microsecond<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-python">t <span class="token operator">=</span> datetime<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
</code></pre> 
<ul><li><code>hour</code>属性表示时间对象的小时数</li><li><code>minute</code>属性表示时间对象的分钟数</li><li><code>second</code>属性表示时间对象的秒数</li><li><code>microsecond</code>属性表示时间对象的微秒数</li></ul> 
<pre><code class="prism language-python"><span class="token keyword">import</span> datetime

t <span class="token operator">=</span> datetime<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">500000</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>hour<span class="token punctuation">)</span>  <span class="token comment"># 10</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>minute<span class="token punctuation">)</span> <span class="token comment"># 30</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>second<span class="token punctuation">)</span>  <span class="token comment"># 15</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>microsecond<span class="token punctuation">)</span>  <span class="token comment"># 500000</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/79/f0/H7NZj4L0_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-python"><span class="token comment"># strftime()方法将time对象格式化为字符串。format参数是一个格式化字符串，其中包含特定的代码，代表日期和时间的不同部分。</span>

<span class="token keyword">import</span> datetime

t <span class="token operator">=</span> datetime<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span>
s <span class="token operator">=</span> t<span class="token punctuation">.</span>strftime<span class="token punctuation">(</span><span class="token string">'%H:%M:%S'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>  <span class="token comment"># 10:30:15</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/d2/25/tYWMESZW_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="datetime_165"></a>五、datetime类</h4> 
<pre><code class="prism language-python"><span class="token comment"># datetime类表示一个具体的日期和时间，其中包括以下属性：</span>
</code></pre> 
<table><thead><tr><th align="center">属性</th><th>描述</th></tr></thead><tbody><tr><td align="center">year</td><td>年份</td></tr><tr><td align="center">month</td><td>月份</td></tr><tr><td align="center">day</td><td>日数</td></tr><tr><td align="center">hour</td><td>小时</td></tr><tr><td align="center">minute</td><td>分钟</td></tr><tr><td align="center">second</td><td>秒</td></tr><tr><td align="center">microsecond</td><td>微秒</td></tr><tr><td align="center">timestamp()</td><td>返回时间戳（自1970年以来的秒数）</td></tr><tr><td align="center">weekday()</td><td>返回星期几（0表示星期一，6表示星期日）</td></tr><tr><td align="center">isoweekday()</td><td>返回ISO规定的星期几（1表示星期一，7表示星期日）</td></tr><tr><td align="center">isocalendar()</td><td>返回一个元组，其中包含年份、周数和星期几</td></tr><tr><td align="center">strftime(format)</td><td>将datetime对象格式化为字符串</td></tr></tbody></table> 
<pre><code class="prism language-python"><span class="token comment">#v创建datetime对象</span>
dt <span class="token operator">=</span> datetime<span class="token punctuation">.</span>datetime<span class="token punctuation">(</span>year<span class="token punctuation">,</span> month<span class="token punctuation">,</span> day<span class="token punctuation">[</span><span class="token punctuation">,</span> hour<span class="token punctuation">[</span><span class="token punctuation">,</span> minute<span class="token punctuation">[</span><span class="token punctuation">,</span> second<span class="token punctuation">[</span><span class="token punctuation">,</span> microsecond<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-python">dt <span class="token operator">=</span> datetime<span class="token punctuation">.</span>datetime<span class="token punctuation">(</span><span class="token number">2023</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
</code></pre> 
<ul><li><code>year</code>属性表示日期时间对象的年份</li><li><code>month</code>属性表示日期时间对象的月份</li><li><code>day</code>属性表示日期时间对象的日数</li><li><code>hour</code>属性表示日期时间对象的小时数</li><li><code>minute</code>属性表示日期时间对象的分钟数</li><li><code>second</code>属性表示日期时间对象的秒数</li><li><code>microsecond</code>属性表示日期时间对象的微秒数</li></ul> 
<pre><code class="prism language-python"><span class="token keyword">import</span> datetime

dt <span class="token operator">=</span> datetime<span class="token punctuation">.</span>datetime<span class="token punctuation">(</span><span class="token number">2023</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">500000</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>dt<span class="token punctuation">.</span>year<span class="token punctuation">)</span>  <span class="token comment"># 2023</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>dt<span class="token punctuation">.</span>month<span class="token punctuation">)</span> <span class="token comment"># 5</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>dt<span class="token punctuation">.</span>day<span class="token punctuation">)</span> <span class="token comment"># 11</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>dt<span class="token punctuation">.</span>hour<span class="token punctuation">)</span> <span class="token comment"># 10</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>dt<span class="token punctuation">.</span>minute<span class="token punctuation">)</span> <span class="token comment"># 30</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>dt<span class="token punctuation">.</span>second<span class="token punctuation">)</span> <span class="token comment"># 15</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>dt<span class="token punctuation">.</span>microsecond<span class="token punctuation">)</span> <span class="token comment"># 500000</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/d8/93/tZ6vtps3_o.png" alt="在这里插入图片描述"></p> 
<ul><li><code>timestamp()</code>方法返回自1970年1月1日以来的秒数</li><li><code>weekday()</code>方法返回星期几，其中0表示星期一，6表示星期日。</li><li><code>isoweekday()</code>方法返回ISO规定的星期几，其中1表示星期一，7表示星期日</li><li><code>isocalendar()</code>方法返回一个元组，其中包含年份、周数和星期几。</li></ul> 
<pre><code class="prism language-python">

<span class="token keyword">import</span> datetime

dt <span class="token operator">=</span> datetime<span class="token punctuation">.</span>datetime<span class="token punctuation">(</span><span class="token number">2023</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span>
 
<span class="token keyword">print</span><span class="token punctuation">(</span>dt<span class="token punctuation">.</span>timestamp<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token comment"># 1686790215.0</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>dt<span class="token punctuation">.</span>weekday<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 3</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>dt<span class="token punctuation">.</span>isoweekday<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 4</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>dt<span class="token punctuation">.</span>isocalendar<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># (2023, 19, 4)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/c0/c2/FK8aNREr_o.png" alt="在这里插入图片描述"></p> 
<p>strftime()方法将datetime对象格式化为字符串。format参数是一个格式化字符串，其中包含特定的代码，代表日期和时间的不同部分。</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> datetime

dt <span class="token operator">=</span> datetime<span class="token punctuation">.</span>datetime<span class="token punctuation">(</span><span class="token number">2023</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span>
s <span class="token operator">=</span> dt<span class="token punctuation">.</span>strftime<span class="token punctuation">(</span><span class="token string">'%Y-%m-%d %H:%M:%S'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token comment"># 2023-05-11 10:30:15</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/6e/ca/F0fDNUcM_o.png" alt="在这里插入图片描述"></p> 
<p>strptime()方法是将字符串转换为datetime对象的方法。它根据特定的格式化代码将字符串解析为datetime对象。</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> datetime

s <span class="token operator">=</span> <span class="token string">'2023-05-11 10:30:15'</span>
dt <span class="token operator">=</span> datetime<span class="token punctuation">.</span>datetime<span class="token punctuation">.</span>strptime<span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token string">'%Y-%m-%d %H:%M:%S'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>dt<span class="token punctuation">)</span>  <span class="token comment"># 2023-05-11 10:30:15</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/55/40/9uYJF96L_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="timedelta_258"></a>六、timedelta类</h4> 
<pre><code class="prism language-python"><span class="token comment"># timedelta类表示两个日期或时间之间的差距，它支持以下属性：</span>
</code></pre> 
<table><thead><tr><th align="center">属性</th><th>描述</th></tr></thead><tbody><tr><td align="center">days</td><td>天数</td></tr><tr><td align="center">seconds</td><td>秒数</td></tr><tr><td align="center">microseconds</td><td>微秒数</td></tr><tr><td align="center">total_seconds()</td><td>返回总秒数</td></tr></tbody></table> 
<pre><code class="prism language-python"><span class="token comment"># 创建一个timedelta对象：</span>
delta <span class="token operator">=</span> datetime<span class="token punctuation">.</span>timedelta<span class="token punctuation">(</span><span class="token punctuation">[</span>days<span class="token punctuation">[</span><span class="token punctuation">,</span> seconds<span class="token punctuation">[</span><span class="token punctuation">,</span> microseconds<span class="token punctuation">[</span><span class="token punctuation">,</span> milliseconds<span class="token punctuation">[</span><span class="token punctuation">,</span> minutes<span class="token punctuation">[</span><span class="token punctuation">,</span> hours<span class="token punctuation">[</span><span class="token punctuation">,</span> weeks<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-python">delta <span class="token operator">=</span> datetime<span class="token punctuation">.</span>timedelta<span class="token punctuation">(</span>days<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">)</span>
</code></pre> 
<p>timedelta对象的days属性表示天数</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> datetime

d1 <span class="token operator">=</span> datetime<span class="token punctuation">.</span>date<span class="token punctuation">(</span><span class="token number">2023</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">)</span>
d2 <span class="token operator">=</span> datetime<span class="token punctuation">.</span>date<span class="token punctuation">(</span><span class="token number">2023</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
delta <span class="token operator">=</span> d1 <span class="token operator">-</span> d2
<span class="token keyword">print</span><span class="token punctuation">(</span>delta<span class="token punctuation">.</span>days<span class="token punctuation">)</span> <span class="token comment"># 10</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/e2/ed/QpfuBSlw_o.png" alt="在这里插入图片描述"></p> 
<p>timedelta对象的seconds属性表示秒数</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> datetime

t1 <span class="token operator">=</span> datetime<span class="token punctuation">.</span>datetime<span class="token punctuation">(</span><span class="token number">2023</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span>
t2 <span class="token operator">=</span> datetime<span class="token punctuation">.</span>datetime<span class="token punctuation">(</span><span class="token number">2023</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
delta <span class="token operator">=</span> t1 <span class="token operator">-</span> t2
<span class="token keyword">print</span><span class="token punctuation">(</span>delta<span class="token punctuation">.</span>seconds<span class="token punctuation">)</span>  <span class="token comment"># 1815</span>
</code></pre> 
<pre><code class="prism language-python"><span class="token comment"># timedelta对象的microseconds属性表示微秒数</span>

<span class="token keyword">import</span> datetime

t1 <span class="token operator">=</span> datetime<span class="token punctuation">.</span>datetime<span class="token punctuation">(</span><span class="token number">2023</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">500000</span><span class="token punctuation">)</span>
t2 <span class="token operator">=</span> datetime<span class="token punctuation">.</span>datetime<span class="token punctuation">(</span><span class="token number">2023</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span>
delta <span class="token operator">=</span> t1 <span class="token operator">-</span> t2
<span class="token keyword">print</span><span class="token punctuation">(</span>delta<span class="token punctuation">.</span>microseconds<span class="token punctuation">)</span>  <span class="token comment"># 500000</span>
</code></pre> 
<pre><code class="prism language-python"><span class="token comment"># total_seconds()方法返回总秒数</span>

<span class="token keyword">import</span> datetime

t1 <span class="token operator">=</span> datetime<span class="token punctuation">.</span>datetime<span class="token punctuation">(</span><span class="token number">2023</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span>
t2 <span class="token operator">=</span> datetime<span class="token punctuation">.</span>datetime<span class="token punctuation">(</span><span class="token number">2023</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
delta <span class="token operator">=</span> t1 <span class="token operator">-</span> t2
<span class="token keyword">print</span><span class="token punctuation">(</span>delta<span class="token punctuation">)</span>  <span class="token comment"># 3 days, 0:30:15</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>delta<span class="token punctuation">.</span>seconds<span class="token punctuation">)</span>  <span class="token comment"># 1815</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>delta<span class="token punctuation">.</span>total_seconds<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 261015.0</span>
</code></pre> 
<h4><a id="_335"></a>七、常用的函数和属性</h4> 
<pre><code class="prism language-python"><span class="token comment"># datetime模块还提供了一些其他有用的函数和属性，下面是其中一些常用的：</span>
</code></pre> 
<table><thead><tr><th align="center">函数或属性</th><th>描述</th></tr></thead><tbody><tr><td align="center">datetime.datetime.today() / datetime.datetime.now()</td><td>返回表示当前日期和时间的对象</td></tr><tr><td align="center">datetime.datetime.fromtimestamp(ts)</td><td>将时间戳转换为datetime对象</td></tr><tr><td align="center">datetime.datetime.astimezone(tz=None)</td><td>返回带有时区信息的datetime对象</td></tr><tr><td align="center">datetime.datetime.utcoffset()</td><td>返回一个datetime对象相对于UTC的偏移量</td></tr><tr><td align="center">datetime.date.today()</td><td>返回表示当前日期的date对象</td></tr><tr><td align="center">datetime.datetime.combine(date, time)</td><td>将一个date对象和一个time对象组合成一个datetime对象</td></tr></tbody></table> 
<pre><code class="prism language-python"><span class="token comment"># datetime.datetime.today() / datetime.datetime.now()</span>
<span class="token comment"># 这两个方法都返回表示当前日期和时间的datetime对象。</span>

<span class="token keyword">import</span> datetime

dt_now <span class="token operator">=</span> datetime<span class="token punctuation">.</span>datetime<span class="token punctuation">.</span>now<span class="token punctuation">(</span><span class="token punctuation">)</span>
dt_today <span class="token operator">=</span> datetime<span class="token punctuation">.</span>datetime<span class="token punctuation">.</span>today<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>dt_now<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>dt_today<span class="token punctuation">)</span>

<span class="token comment"># 2023-05-11 15:30:15.123456</span>
<span class="token comment"># 2023-05-11 15:30:15.123456</span>

<span class="token triple-quoted-string string">"""
它们的区别在于，today()方法不接受任何参数，而now()方法可以接受一个可选参数，用于指定时区。如果不指定，则默认使用系统本地时区。
"""</span>
</code></pre> 
<p>fromtimestamp()方法将时间戳转换为datetime对象。</p> 
<pre><code class="prism language-python"><span class="token comment"># datetime.datetime.fromtimestamp(ts)</span>

<span class="token keyword">import</span> datetime

<span class="token comment"># ts1 = datetime.datetime.now()</span>
<span class="token comment"># ts = datetime.datetime.now().timestamp()</span>
<span class="token comment"># print(ts1)</span>
<span class="token comment"># print(ts)</span>

ts <span class="token operator">=</span> <span class="token number">1686790215.0</span> <span class="token comment"># 时间戳</span>
dt <span class="token operator">=</span> datetime<span class="token punctuation">.</span>datetime<span class="token punctuation">.</span>fromtimestamp<span class="token punctuation">(</span>ts<span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>dt<span class="token punctuation">)</span>  <span class="token comment"># 2023-05-12 02:30:15</span>
</code></pre> 
<p>astimezone()方法返回带有时区信息的datetime对象，如果tz参数未提供，则默认使用系统本地时区。</p> 
<pre><code class="prism language-python"><span class="token comment"># datetime.datetime.astimezone(tz=None)</span>

<span class="token keyword">import</span> datetime

dt <span class="token operator">=</span> datetime<span class="token punctuation">.</span>datetime<span class="token punctuation">(</span><span class="token number">2023</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span>

<span class="token comment"># 将时区从本地修改为UTC+8</span>
tzinfo <span class="token operator">=</span> datetime<span class="token punctuation">.</span>timezone<span class="token punctuation">(</span>datetime<span class="token punctuation">.</span>timedelta<span class="token punctuation">(</span>hours<span class="token operator">=</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
dt2 <span class="token operator">=</span> dt<span class="token punctuation">.</span>astimezone<span class="token punctuation">(</span>tz<span class="token operator">=</span>tzinfo<span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>dt2<span class="token punctuation">)</span>  <span class="token comment"># 2023-05-11 18:30:15+08:00</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/8e/4f/rjHmlHK3_o.png" alt="在这里插入图片描述"></p> 
<p>utcoffset()方法是datetime模块中tzinfo类的一个方法，用于返回一个timedelta对象，表示当前时区相对于协调世界时（UTC）的偏移量。这个方法通常在处理时区相关的日期和时间时使用。</p> 
<pre><code class="prism language-python"><span class="token comment"># datetime.datetime.utcoffset()</span>
<span class="token comment"># utcoffset()方法返回一个datetime对象相对于UTC的偏移量。</span>

<span class="token keyword">import</span> datetime
dt <span class="token operator">=</span> datetime<span class="token punctuation">.</span>datetime<span class="token punctuation">(</span><span class="token number">2023</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">.</span>astimezone<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>dt<span class="token punctuation">.</span>utcoffset<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 8:00:00</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/9b/ef/iyD7VhoL_o.png" alt="在这里插入图片描述"></p> 
<p>date.today()方法用于获取当前日期。这个方法不需要任何参数，并返回一个date对象，表示当前的年、月、日。</p> 
<pre><code class="prism language-python"><span class="token comment"># datetime.date.today()</span>
<span class="token comment"># today()方法返回表示当前日期的date对象。</span>
<span class="token keyword">import</span> datetime

d_today <span class="token operator">=</span> datetime<span class="token punctuation">.</span>date<span class="token punctuation">.</span>today<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>d_today<span class="token punctuation">)</span>  <span class="token comment"># 2023-05-11</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/b4/29/RFzgXD92_o.png" alt="在这里插入图片描述"></p> 
<p><code>combine()</code>方法将一个date对象和一个time对象组合成一个datetime对象。</p> 
<pre><code class="prism language-python"><span class="token comment"># datetime.datetime.combine(date, time)</span>

<span class="token keyword">import</span> datetime

d <span class="token operator">=</span> datetime<span class="token punctuation">.</span>date<span class="token punctuation">(</span><span class="token number">2023</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">)</span>
t <span class="token operator">=</span> datetime<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span>
dt <span class="token operator">=</span> datetime<span class="token punctuation">.</span>datetime<span class="token punctuation">.</span>combine<span class="token punctuation">(</span>d<span class="token punctuation">,</span> t<span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>dt<span class="token punctuation">)</span>  <span class="token comment"># 2023-05-11 10:30:15</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/8b/2c/hrjeeT2P_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_453"></a>八、代码及其演示</h4> 
<pre><code class="prism language-python"><span class="token comment"># 计算两个日期之间的天数差距</span>
<span class="token keyword">import</span> datetime

d1 <span class="token operator">=</span> datetime<span class="token punctuation">.</span>date<span class="token punctuation">(</span><span class="token number">2023</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
d2 <span class="token operator">=</span> datetime<span class="token punctuation">.</span>date<span class="token punctuation">(</span><span class="token number">2023</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">)</span>
delta <span class="token operator">=</span> d2 <span class="token operator">-</span> d1

<span class="token keyword">print</span><span class="token punctuation">(</span>delta<span class="token punctuation">.</span>days<span class="token punctuation">)</span>  <span class="token comment"># 10</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/58/6a/u7nd8dus_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-python"><span class="token comment"># 获取当前时间并格式化输出</span>
<span class="token keyword">import</span> datetime

now <span class="token operator">=</span> datetime<span class="token punctuation">.</span>datetime<span class="token punctuation">.</span>now<span class="token punctuation">(</span><span class="token punctuation">)</span>
s <span class="token operator">=</span> now<span class="token punctuation">.</span>strftime<span class="token punctuation">(</span><span class="token string">'%Y-%m-%d %H:%M:%S'</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token comment"># 2023-05-11 10:00:00</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/00/fa/uwNgyabx_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-python"><span class="token comment"># 将一个字符串解析为datetime对象</span>
<span class="token keyword">import</span> datetime

s <span class="token operator">=</span> <span class="token string">'2023-05-11 10:00:00'</span>
dt <span class="token operator">=</span> datetime<span class="token punctuation">.</span>datetime<span class="token punctuation">.</span>strptime<span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token string">'%Y-%m-%d %H:%M:%S'</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>dt<span class="token punctuation">)</span>  <span class="token comment"># 2023-05-11 10:00:00</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/43/fe/kw4y1dEc_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-python"><span class="token comment"># datetime模块提供了一组强大的工具来处理日期和时间相关的问题，包括日期、时间、日期时间、时间差和格式化等。学会了使用这些工具，我们就可以方便地进行日期和时间相关的计算、比较和格式化，从而使程序更具可读性和可维护性。</span>
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/91b15b56a5ffeb41095b7f7d7008dfe6/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">刷题——二叉树的后续遍历</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a2a11ee77bf27979a01a482f78aaf44d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">操作符详解（上） (C语言)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>