<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>ã€æ•°æ®ç»“æ„ä¸ç®—æ³•ã€‘å †çš„å®ç°ï¼ˆé™„æºç ï¼‰ - ç¼–ç¨‹å¤§å’–</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/0eea0f17a929ba02a63c8fe892190559/">
  <meta property="og:site_name" content="ç¼–ç¨‹å¤§å’–">
  <meta property="og:title" content="ã€æ•°æ®ç»“æ„ä¸ç®—æ³•ã€‘å †çš„å®ç°ï¼ˆé™„æºç ï¼‰">
  <meta property="og:description" content="ç›®å½•
ä¸€.å †çš„æ¦‚å¿µåŠç»“æ„
äºŒ.æ¥å£å®ç°
A.åˆå§‹åŒ–Â HeapinitÂ é”€æ¯ Heapdestroy
B.æ’å…¥ Heappush å‘ä¸Šè°ƒæ•´Â AdjustUp
1.Heappush
2.AdjustUp
C.åˆ é™¤ HeappopÂ å‘ä¸‹è°ƒæ•´Â AdjustDown
D.å †çš„åˆ¤ç©ºÂ HeapemptyÂ å †é¡¶æ•°æ®Â HeaptopÂ å †çš„å¤§å°Â Heapsize
ä¸‰.æºç 
Heap.h
Heap.c
test.c
ä¸€.å †çš„æ¦‚å¿µåŠç»“æ„ 1.æ¦‚å¿µ
å¦‚æœæœ‰ä¸€ä¸ªå…³é”®ç çš„é›†åˆK = { ï¼Œ ï¼Œ ï¼Œâ€¦ï¼Œ }ï¼ŒæŠŠå®ƒçš„æ‰€æœ‰å…ƒç´ æŒ‰å®Œå…¨äºŒå‰æ ‘çš„é¡ºåºå­˜å‚¨æ–¹å¼å­˜å‚¨åœ¨ä¸€ä¸ªä¸€ç»´æ•°ç»„ä¸­ï¼Œå¹¶æ»¡è¶³ï¼š &lt;= ä¸” &lt;= ( &gt;= ä¸” &gt;= ) i = 0ï¼Œ1ï¼Œ2â€¦ï¼Œåˆ™ç§°ä¸ºå°å †(æˆ–å¤§å †)ã€‚å°†æ ¹èŠ‚ç‚¹æœ€å¤§çš„å †å«åšæœ€å¤§å †æˆ–å¤§æ ¹å †ï¼Œæ ¹èŠ‚ç‚¹æœ€å°çš„å †å«åšæœ€å°å †æˆ–å°æ ¹å †ã€‚
2.å †çš„æ€§è´¨ï¼š
A.å †ä¸­æŸä¸ªèŠ‚ç‚¹çš„å€¼æ€»æ˜¯ä¸å¤§äºæˆ–ä¸å°äºå…¶çˆ¶èŠ‚ç‚¹çš„å€¼ï¼›
B.å †æ€»æ˜¯ä¸€æ£µå®Œå…¨äºŒå‰æ ‘ã€‚
å…¶å®å †æ˜¯ä¸€ç§äºŒå‰æ ‘ï¼Œé€šå¸¸æˆ‘ä»¬éƒ½æ˜¯ç”¨æ•°æ®è¡¨å®ç°ï¼Œä¹Ÿå°±æ˜¯è¯´å †çš„åº•å±‚æ˜¯æ•°ç»„ï¼Œæ•°ç»„ä¸­çš„å°æ ‡è¡¨ç¤ºäºŒå‰æ ‘çš„èŠ‚ç‚¹ï¼Œæ‰€ä»¥åœ¨å®ç°å †ä¹‹å‰ï¼Œæˆ‘ä»¬æœ‰å¿…è¦äº†è§£å®Œå…¨äºŒå‰æ ‘ä¸­èŠ‚ç‚¹ä¹‹é—´çš„å…³ç³»ã€‚
1.ç†è§£çˆ¶èŠ‚ç‚¹ parent å’Œå­èŠ‚ç‚¹ childï¼›
2.äº†è§£çˆ¶èŠ‚ç‚¹ä¸å­èŠ‚ç‚¹ä¹‹é—´çš„å…³ç³»ï¼š
A.parent=ï¼ˆchild-1ï¼‰/2ï¼›
B.å·¦å­©å­child=2*parent&#43;1ï¼›
C.å³å­©å­child=2*parent&#43;2ã€‚
äºŒ.æ¥å£å®ç° A.åˆå§‹åŒ–Â HeapinitÂ é”€æ¯ Heapdestroy è¿™é‡Œçš„åˆå§‹åŒ–å’Œé”€æ¯éƒ½å¾ˆç®€å•ï¼Œç›¸ä¿¡è¿™å¯¹å­¦åˆ°å †çš„äººå¹¶ä¸æ˜¯ä»€ä¹ˆéš¾äº‹ï¼Œå’Œé¡ºåºè¡¨çš„æ“ä½œæ˜¯ä¸€æ ·çš„ï¼Œå¦‚æœå®åœ¨ä¸ç†è§£çš„è¯ï¼Œè¯·çœ‹ -&gt;Â é¡ºåºè¡¨
B.æ’å…¥ Heappush å‘ä¸Šè°ƒæ•´Â AdjustUp 1.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2023-03-26T22:19:20+08:00">
    <meta property="article:modified_time" content="2023-03-26T22:19:20+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ç¼–ç¨‹å¤§å’–" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ç¼–ç¨‹å¤§å’–</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">ã€æ•°æ®ç»“æ„ä¸ç®—æ³•ã€‘å †çš„å®ç°ï¼ˆé™„æºç ï¼‰</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p></p> 
<p><img alt="" height="240" src="https://images2.imgbox.com/5b/a1/yY0cxmGt_o.gif" width="240">Â </p> 
<p></p> 
<p id="main-toc"><strong>ç›®å½•</strong></p> 
<p id="-toc" style="margin-left:0px;"><a href="#%E4%B8%80.%E5%A0%86%E7%9A%84%E6%A6%82%E5%BF%B5%E5%8F%8A%E7%BB%93%E6%9E%84" rel="nofollow">ä¸€.å †çš„æ¦‚å¿µåŠç»“æ„</a></p> 
<p id="%E4%BA%8C.%E6%8E%A5%E5%8F%A3%E5%AE%9E%E7%8E%B0-toc" style="margin-left:0px;"><a href="#%E4%BA%8C.%E6%8E%A5%E5%8F%A3%E5%AE%9E%E7%8E%B0" rel="nofollow">äºŒ.æ¥å£å®ç°</a></p> 
<p id="A.%E5%88%9D%E5%A7%8B%E5%8C%96%C2%A0%20Heapinit%C2%A0%20%C2%A0%E9%94%80%E6%AF%81%20Heapdestroy-toc" style="margin-left:40px;"><a href="#A.%E5%88%9D%E5%A7%8B%E5%8C%96%C2%A0%20Heapinit%C2%A0%20%C2%A0%E9%94%80%E6%AF%81%20Heapdestroy" rel="nofollow">A.åˆå§‹åŒ–Â  HeapinitÂ  Â é”€æ¯ Heapdestroy</a></p> 
<p id="B.%E6%8F%92%E5%85%A5%20Heappush%20%E5%90%91%E4%B8%8A%E8%B0%83%E6%95%B4%C2%A0%20AdjustUp-toc" style="margin-left:40px;"><a href="#B.%E6%8F%92%E5%85%A5%20Heappush%20%E5%90%91%E4%B8%8A%E8%B0%83%E6%95%B4%C2%A0%20AdjustUp" rel="nofollow">B.æ’å…¥ Heappush å‘ä¸Šè°ƒæ•´Â  AdjustUp</a></p> 
<p id="1.Heappush-toc" style="margin-left:80px;"><a href="#1.Heappush" rel="nofollow">1.Heappush</a></p> 
<p id="2.AdjustUp-toc" style="margin-left:80px;"><a href="#2.AdjustUp" rel="nofollow">2.AdjustUp</a></p> 
<p id="C.%E5%88%A0%E9%99%A4%20Heappop%C2%A0%20%E5%90%91%E4%B8%8B%E8%B0%83%E6%95%B4%C2%A0%20AdjustDown-toc" style="margin-left:40px;"><a href="#C.%E5%88%A0%E9%99%A4%20Heappop%C2%A0%20%E5%90%91%E4%B8%8B%E8%B0%83%E6%95%B4%C2%A0%20AdjustDown" rel="nofollow">C.åˆ é™¤ HeappopÂ  å‘ä¸‹è°ƒæ•´Â  AdjustDown</a></p> 
<p id="D.%E5%A0%86%E7%9A%84%E5%88%A4%E7%A9%BA%C2%A0%20Heapempty%C2%A0%20%E5%A0%86%E9%A1%B6%E6%95%B0%E6%8D%AE%C2%A0%20Heaptop%C2%A0%20%E5%A0%86%E7%9A%84%E5%A4%A7%E5%B0%8F%C2%A0%20Heapsize-toc" style="margin-left:40px;"><a href="#D.%E5%A0%86%E7%9A%84%E5%88%A4%E7%A9%BA%C2%A0%20Heapempty%C2%A0%20%E5%A0%86%E9%A1%B6%E6%95%B0%E6%8D%AE%C2%A0%20Heaptop%C2%A0%20%E5%A0%86%E7%9A%84%E5%A4%A7%E5%B0%8F%C2%A0%20Heapsize" rel="nofollow">D.å †çš„åˆ¤ç©ºÂ  HeapemptyÂ  å †é¡¶æ•°æ®Â  HeaptopÂ  å †çš„å¤§å°Â  Heapsize</a></p> 
<p id="%E4%B8%89.%E6%BA%90%E7%A0%81-toc" style="margin-left:0px;"><a href="#%E4%B8%89.%E6%BA%90%E7%A0%81" rel="nofollow">ä¸‰.æºç </a></p> 
<p id="Heap.h-toc" style="margin-left:80px;"><a href="#Heap.h" rel="nofollow">Heap.h</a></p> 
<p id="Heap.c-toc" style="margin-left:80px;"><a href="#Heap.c" rel="nofollow">Heap.c</a></p> 
<p id="test.c-toc" style="margin-left:0px;"><a href="#test.c" rel="nofollow">test.c</a></p> 
<hr id="hr-toc"> 
<p></p> 
<h2 id="%E4%B8%80.%E5%A0%86%E7%9A%84%E6%A6%82%E5%BF%B5%E5%8F%8A%E7%BB%93%E6%9E%84">ä¸€.å †çš„æ¦‚å¿µåŠç»“æ„</h2> 
<blockquote> 
 <p>1.æ¦‚å¿µ</p> 
 <p>Â  Â  Â å¦‚æœæœ‰ä¸€ä¸ªå…³é”®ç çš„é›†åˆK = { ï¼Œ ï¼Œ ï¼Œâ€¦ï¼Œ }ï¼ŒæŠŠå®ƒçš„æ‰€æœ‰å…ƒç´ æŒ‰å®Œå…¨äºŒå‰æ ‘çš„é¡ºåºå­˜å‚¨æ–¹å¼å­˜å‚¨åœ¨ä¸€ä¸ªä¸€ç»´æ•°ç»„ä¸­ï¼Œå¹¶æ»¡è¶³ï¼š &lt;= ä¸” &lt;= ( &gt;= ä¸” &gt;= ) i = 0ï¼Œ1ï¼Œ2â€¦ï¼Œåˆ™ç§°ä¸ºå°å †(æˆ–å¤§å †)ã€‚å°†æ ¹èŠ‚ç‚¹æœ€å¤§çš„å †å«åšæœ€å¤§å †æˆ–å¤§æ ¹å †ï¼Œæ ¹èŠ‚ç‚¹æœ€å°çš„å †å«åšæœ€å°å †æˆ–å°æ ¹å †ã€‚<br> 2.å †çš„æ€§è´¨ï¼š<br> Â  Â  A.<span style="background-color:#ffd900;">å †ä¸­æŸä¸ªèŠ‚ç‚¹çš„å€¼æ€»æ˜¯ä¸å¤§äºæˆ–ä¸å°äºå…¶çˆ¶èŠ‚ç‚¹çš„å€¼</span>ï¼›<br> Â  Â  B.<span style="background-color:#ffd900;">å †æ€»æ˜¯ä¸€æ£µå®Œå…¨äºŒå‰æ ‘</span>ã€‚</p> 
</blockquote> 
<blockquote> 
 <p>å…¶å®å †æ˜¯ä¸€ç§äºŒå‰æ ‘ï¼Œé€šå¸¸æˆ‘ä»¬éƒ½æ˜¯ç”¨æ•°æ®è¡¨å®ç°ï¼Œä¹Ÿå°±æ˜¯è¯´å †çš„åº•å±‚æ˜¯æ•°ç»„ï¼Œæ•°ç»„ä¸­çš„å°æ ‡è¡¨ç¤ºäºŒå‰æ ‘çš„èŠ‚ç‚¹ï¼Œæ‰€ä»¥åœ¨å®ç°å †ä¹‹å‰ï¼Œæˆ‘ä»¬<span style="background-color:#ffd900;">æœ‰å¿…è¦äº†è§£å®Œå…¨äºŒå‰æ ‘ä¸­èŠ‚ç‚¹ä¹‹é—´çš„å…³ç³»</span>ã€‚</p> 
</blockquote> 
<blockquote> 
 <p>1.ç†è§£çˆ¶èŠ‚ç‚¹ parent å’Œå­èŠ‚ç‚¹ childï¼›</p> 
 <p>2.äº†è§£çˆ¶èŠ‚ç‚¹ä¸å­èŠ‚ç‚¹ä¹‹é—´çš„å…³ç³»ï¼š</p> 
 <p>Â <span style="background-color:#ffd900;"> Â A.parent=ï¼ˆchild-1ï¼‰/2ï¼›</span></p> 
 <p><span style="background-color:#ffd900;">Â  Â B.å·¦å­©å­child=2*parent+1ï¼›</span></p> 
 <p><span style="background-color:#ffd900;">Â  Â C.å³å­©å­child=2*parent+2ã€‚</span></p> 
 <p><img alt="" height="882" src="https://images2.imgbox.com/02/df/LvIjWQlw_o.png" width="1200"></p> 
</blockquote> 
<h2 id="%E4%BA%8C.%E6%8E%A5%E5%8F%A3%E5%AE%9E%E7%8E%B0">äºŒ.æ¥å£å®ç°</h2> 
<h3 id="A.%E5%88%9D%E5%A7%8B%E5%8C%96%C2%A0%20Heapinit%C2%A0%20%C2%A0%E9%94%80%E6%AF%81%20Heapdestroy">A.åˆå§‹åŒ–Â  HeapinitÂ  Â é”€æ¯ Heapdestroy</h3> 
<blockquote> 
 <p>è¿™é‡Œçš„åˆå§‹åŒ–å’Œé”€æ¯éƒ½å¾ˆç®€å•ï¼Œç›¸ä¿¡è¿™å¯¹å­¦åˆ°å †çš„äººå¹¶ä¸æ˜¯ä»€ä¹ˆéš¾äº‹ï¼Œ<span style="background-color:#ffd900;">å’Œé¡ºåºè¡¨çš„æ“ä½œæ˜¯ä¸€æ ·çš„</span>ï¼Œå¦‚æœå®åœ¨ä¸ç†è§£çš„è¯ï¼Œè¯·çœ‹ -&gt;Â Â <a class="link-info" href="http://t.csdn.cn/0qWHh" rel="nofollow" title="é¡ºåºè¡¨">é¡ºåºè¡¨</a></p> 
</blockquote> 
<h3 id="B.%E6%8F%92%E5%85%A5%20Heappush%20%E5%90%91%E4%B8%8A%E8%B0%83%E6%95%B4%C2%A0%20AdjustUp">B.æ’å…¥ Heappush å‘ä¸Šè°ƒæ•´Â  AdjustUp</h3> 
<h4 id="1.Heappush">1.Heappush</h4> 
<blockquote> 
 <p>æ’å…¥æ•°æ®å¾ˆç®€å•ï¼Œç›´æ¥å¯¹æ•°ç»„èµ‹å€¼ï¼Œç„¶å size å†åŠ åŠ å°±è¡Œäº†ï¼Œä½†æ˜¯<span style="background-color:#ffd900;">åœ¨æ’å…¥å®Œæ•°æ®åï¼Œæˆ‘ä»¬å¾—ä¿è¯å®ƒæ˜¯å †ï¼Œæ‰€ä»¥è¿™å°±éœ€è¦ç”¨åˆ°å‘ä¸Šè°ƒæ•´è¿™ä¸ªå‡½æ•°ã€‚</span></p> 
</blockquote> 
<h4 id="2.AdjustUp">2.AdjustUp</h4> 
<blockquote> 
 <p>å‡è®¾æˆ‘ä»¬å»ºçš„æ˜¯å¤§å †ï¼Œæˆ‘ä»¬å°†æ–°æ’å…¥çš„èŠ‚ç‚¹ä¸å®ƒçš„çˆ¶èŠ‚ç‚¹æ¯”è¾ƒï¼š</p> 
 <p>1.<span style="background-color:#ffd900;">å¦‚æœæ¯”å®ƒçš„çˆ¶èŠ‚ç‚¹å¤§ï¼Œåˆ™ä¸å…¶äº¤æ¢</span>ï¼Œæ‰€ä»¥äº¤æ¢åçš„çˆ¶èŠ‚ç‚¹å°±æˆä¸ºäº†å­èŠ‚ç‚¹ï¼Œå†ä¸å…¶çˆ¶èŠ‚ç‚¹æ¯”è¾ƒï¼Œ<span style="background-color:#ffd900;">ä»¥æ­¤ç±»æ¨</span>ï¼›</p> 
 <p>2.<span style="background-color:#ffd900;">å¦‚æœchild&lt;=0 åˆ™ç»“æŸå¾ªç¯</span>ã€‚</p> 
 <p><img alt="" height="1200" src="https://images2.imgbox.com/88/5c/A2lfr0tO_o.png" width="1200"></p> 
 <p></p> 
</blockquote> 
<pre><code class="language-cpp">void Swap(HPdatatype* p1, HPdatatype* p2)  //äº¤æ¢å‡½æ•°
{
	HPdatatype tmp = *p1;
	*p1 = *p2;
	*p2 = tmp;
}

void AdjustUp(HPdatatype* arr, int child)   //å‘ä¸Šè°ƒæ•´
{
	assert(arr);

	int parent = (child - 1) / 2;

	while (child &gt; 0)
	{
		if (arr[child] &gt; arr[parent])
		{
			Swap(&amp;arr[child], &amp;arr[parent]);
			child = parent;
			parent = (child - 1) / 2;
		}
		else
			break;
	}
}

void Heappush(Heap* php, HPdatatype x)
{
	assert(php);

	if (php-&gt;size == php-&gt;capacity)
	{
		HPdatatype* tmp = (HPdatatype*)realloc(php-&gt;arr, 2 * sizeof(HPdatatype) * php-&gt;capacity);
		if (tmp == NULL)
		{
			perror("realloc fail");
			exit(-1);
		}

		php-&gt;arr = tmp;
		php-&gt;capacity *= 2;
	}

	php-&gt;arr[php-&gt;size] = x;
	php-&gt;size++;

	AdjustUp(php-&gt;arr, php-&gt;size - 1);  //æ³¨æ„è¿™é‡Œè¦ä¼ size-1ï¼Œå› ä¸ºsizeè¡¨ç¤ºçš„æ˜¯ä¸‹ä¸€ä¸ªä½ç½®
}</code></pre> 
<h3 id="C.%E5%88%A0%E9%99%A4%20Heappop%C2%A0%20%E5%90%91%E4%B8%8B%E8%B0%83%E6%95%B4%C2%A0%20AdjustDown">C.åˆ é™¤ HeappopÂ  å‘ä¸‹è°ƒæ•´Â  AdjustDown</h3> 
<blockquote> 
 <p>1.åˆ é™¤çš„è¯ï¼Œæˆ‘ä»¬æ˜¯è¦<span style="background-color:#ffd900;">åˆ é™¤å †é¡¶çš„æ•°æ®</span>ï¼Œå› ä¸ºåˆ é™¤å †å°¾çš„æ•°æ®å¹¶æ²¡æœ‰ä»€ä¹ˆå®é™…æ„ä¹‰ï¼Œ<span style="background-color:#ffd900;">åˆ é™¤å°±æ˜¯è®©size--</span>ï¼Œä½†æ˜¯å †é¡¶æ•°æ®çš„ä¸‹æ ‡æ˜¯0ï¼Œæ‰€ä»¥åœ¨åˆ é™¤å‰åº”<span style="background-color:#ffd900;">å…ˆäº¤æ¢å †é¡¶å’Œå †å°¾çš„æ•°æ®</span>ï¼›</p> 
 <p>2.åˆ é™¤å®Œåï¼Œ<span style="background-color:#ffd900;">è¿˜è¦ä¿æŒå®ƒè¿˜æ˜¯ä¸ªå †</span>ï¼Œä¸èƒ½æŠŠåé¢çš„é¡ºåºæä¹±äº†ï¼Œè¦æƒ³è¾¾åˆ°è¿™ä¸ªç›®çš„ï¼Œå°±éœ€è¦ä½¿ç”¨åˆ°<span style="background-color:#ffd900;">å‘ä¸‹è°ƒæ•´</span>è¿™ä¸ªå‡½æ•°ï¼›</p> 
 <p>3.å‡è®¾æ˜¯å¤§å †ï¼Œ<span style="background-color:#ffd900;">å‘ä¸‹è°ƒæ•´æ˜¯çˆ¶èŠ‚ç‚¹ä¸å…¶è¾ƒå¤§çš„å­èŠ‚ç‚¹æ¯”è¾ƒï¼Œå¦‚æœè¾ƒå¤§çš„é‚£ä¸ªå­èŠ‚ç‚¹å¤§äºçˆ¶èŠ‚ç‚¹ï¼Œåˆ™äºŒè€…äº¤æ¢</span>ï¼Œç„¶åè¾ƒå¤§çš„å­èŠ‚ç‚¹æˆä¸ºäº†æ–°çš„çˆ¶èŠ‚ç‚¹ï¼Œ<span style="background-color:#ffd900;">å½“å­èŠ‚ç‚¹çš„ä¸‹æ ‡å¤§äºæˆ–æ˜¯ç­‰äºèŠ‚ç‚¹æ€»æ•°ï¼Œä¹Ÿå°±æ˜¯sizeæ—¶ï¼Œå°±ç»“æŸå¾ªç¯ã€‚</span></p> 
 <p><img alt="" height="1200" src="https://images2.imgbox.com/a0/35/F11c24j3_o.png" width="1200"></p> 
 <p>Â </p> 
</blockquote> 
<h3 id="D.%E5%A0%86%E7%9A%84%E5%88%A4%E7%A9%BA%C2%A0%20Heapempty%C2%A0%20%E5%A0%86%E9%A1%B6%E6%95%B0%E6%8D%AE%C2%A0%20Heaptop%C2%A0%20%E5%A0%86%E7%9A%84%E5%A4%A7%E5%B0%8F%C2%A0%20Heapsize">D.å †çš„åˆ¤ç©ºÂ  HeapemptyÂ  å †é¡¶æ•°æ®Â  HeaptopÂ  å †çš„å¤§å°Â  Heapsize</h3> 
<blockquote> 
 <p>è¿™äº›æ¥å£çš„å®ç°éƒ½éå¸¸ç®€å•ï¼Œåšä¸»å°±ä¸åœ¨è¿™é‡Œè®²è¿°äº†ï¼Œå¯ä»¥å‚è€ƒåé¢çš„æºç ã€‚</p> 
</blockquote> 
<hr> 
<h2 id="%E4%B8%89.%E6%BA%90%E7%A0%81">ä¸‰.æºç </h2> 
<h4 id="Heap.h">Heap.h</h4> 
<pre><code class="language-cpp">#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;assert.h&gt;
#include &lt;stdbool.h&gt;
#include &lt;time.h&gt;

#define MAX_MIN &lt;   //é€šè¿‡æ”¹å˜è¿™é‡Œçš„ç¬¦å·ï¼Œå¯ä»¥å†³å®šæ˜¯å»ºå¤§å †è¿˜æ˜¯å°å †

typedef int HPdatatype;

typedef struct Heap
{
	HPdatatype* arr;
	int size;
	int capacity;
}Heap;

void Heapinit(Heap* php);

void Swap(HPdatatype* p1, HPdatatype* p2);

void AdjustUp(HPdatatype* arr, int child);  //å‘ä¸Šè°ƒæ•´

void Heappush(Heap* php, HPdatatype x);

void AdjustDown(HPdatatype* arr, int parent, int n);  //å‘ä¸‹è°ƒæ•´

void Heappop(Heap* php);

HPdatatype Heaptop(Heap* php);

int Heapsize(Heap* php);

bool Heapempty(Heap* php);

void Heapdestroy(Heap* php);
</code></pre> 
<h4 id="Heap.c">Heap.c</h4> 
<pre><code class="language-cpp">#include "Heap.h"


void Heapinit(Heap* php)
{
	assert(php);

	php-&gt;arr = (HPdatatype*)malloc(sizeof(HPdatatype) * 4);
	if (php-&gt;arr == NULL)
	{
		perror("malloc fail");
		exit(-1);
	}
	php-&gt;size = 0;
	php-&gt;capacity = 4;
}

void Swap(HPdatatype* p1, HPdatatype* p2)
{
	HPdatatype tmp = *p1;
	*p1 = *p2;
	*p2 = tmp;
}

///Ğ¡

void AdjustUp(HPdatatype* arr, int child)
{
	assert(arr);

	int parent = (child - 1) / 2;

	while (child &gt; 0)
	{
		if (arr[child] MAX_MIN arr[parent])
		{
			Swap(&amp;arr[child], &amp;arr[parent]);
			child = parent;
			parent = (child - 1) / 2;
		}
		else
			break;
	}
}

void Heappush(Heap* php, HPdatatype x)
{
	assert(php);

	if (php-&gt;size == php-&gt;capacity)   //æ’å…¥å‰ï¼Œåˆ¤æ–­æ•°ç»„æ˜¯å¦å·²æ»¡
	{
		HPdatatype* tmp = (HPdatatype*)realloc(php-&gt;arr, 2 * sizeof(HPdatatype) * php-&gt;capacity);
		if (tmp == NULL)
		{
			perror("realloc fail");
			exit(-1);
		}

		php-&gt;arr = tmp;
		php-&gt;capacity *= 2;
	}

	php-&gt;arr[php-&gt;size] = x;
	php-&gt;size++;

	AdjustUp(php-&gt;arr, php-&gt;size - 1);  //è¿™é‡Œè¦ä¼ size-1
}

void AdjustDown(HPdatatype* arr, int parent, int n)
{
	assert(arr);

	int child = 2 * parent + 1;

	while (child &lt; n)
	{
        //åˆ¤æ–­è¾ƒå¤§ï¼ˆè¾ƒå°ï¼‰çš„å­èŠ‚ç‚¹
		if ((child + 1) &lt; n &amp;&amp; arr[child + 1] MAX_MIN arr[child])  
		{
			child++;
		}

		if (arr[child] MAX_MIN arr[parent])
		{
			Swap(&amp;arr[child], &amp;arr[parent]);
			parent = child;
			child = 2 * parent + 1;
		}
		else
			break;
	}
}

void Heappop(Heap* php)
{
	assert(php);
	assert(php-&gt;size);
	Swap(&amp;php-&gt;arr[0], &amp;php-&gt;arr[php-&gt;size - 1]);
	php-&gt;size--;

	AdjustDown(php-&gt;arr, 0, php-&gt;size);
}

HPdatatype Heaptop(Heap* php)
{
	assert(php);
	assert(php-&gt;size);   //ä¸ºç©ºæ—¶ä¸èƒ½å–æ•°æ®

	return php-&gt;arr[0];
}

int Heapsize(Heap* php)
{
	assert(php);

	return php-&gt;size;
}

bool Heapempty(Heap* php)
{
	assert(php);

	return php-&gt;size == 0;  //size==0å³ä¸ºç©º
}

void Heapdestroy(Heap* php)
{
	assert(php);
	free(php-&gt;arr);
	php-&gt;arr = NULL;
	php-&gt;size = 0;
	php-&gt;capacity = 0;
}</code></pre> 
<h2 id="test.c">test.c</h2> 
<pre><code class="language-cpp">#include "Heap.h"


void testHeap()
{
	Heap hp;
	Heapinit(&amp;hp);

	int i = 0, n = 10;
	int x = 0;
	while (n)
	{
		x = rand() % 100 + 1;

		Heappush(&amp;hp, x);
		n--;
	}
	while (!Heapempty(&amp;hp))
	{
		printf("%d  ", Heaptop(&amp;hp));
		Heappop(&amp;hp);
	}

	printf("\n");
	Heapdestroy(&amp;hp);
}

int main()
{
	srand((unsigned int)time(NULL));
	testHeap();

	return 0;
}</code></pre> 
<hr> 
<blockquote> 
 <p><span style="color:#4da8ee;"><strong>ğŸ²ğŸ‘»è¿™å¾ªç¯é˜Ÿåˆ—çš„è®²è§£å°±åˆ°è¿™é‡Œäº†ï¼Œè‹¥æœ‰é”™è¯¯æˆ–æ˜¯å»ºè®®æ¬¢è¿å°ä¼™ä¼´ä»¬æŒ‡å‡ºã€‚ğŸ¯ğŸ¤–</strong></span></p> 
 <p><span style="color:#4da8ee;"><strong>ğŸ¥°ğŸ¤©å¸Œæœ›å°ä¼™ä¼´ä»¬å¯ä»¥å¤šå¤šæ”¯æŒåšä¸»å“¦ã€‚ğŸ˜ğŸ˜ƒ</strong></span></p> 
 <p><span style="color:#4da8ee;"><strong>ğŸ˜ğŸ˜„è°¢è°¢ä½ çš„é˜…è¯»ã€‚ğŸ˜¼ğŸ˜¸</strong></span></p> 
</blockquote> 
<p><img alt="" height="240" src="https://images2.imgbox.com/d6/93/mo7whSrO_o.gif" width="240"></p> 
<p>Â </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/c401c08f6efe76def0b336dad629bbf4/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">RANSACç®—æ³•ï¼ˆä»…ä¾›å­¦ä¹ ä½¿ç”¨ï¼‰</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/7674a66f3a0c5e49119d4720b6dbfd98/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">ã€ChatGPTã€‘å‚åŠ è®¡ç®—æœºç§‘å­¦è€ƒè¯•ï¼ˆGPT-4å¯¹æ¯”GPT-3.5ï¼‰</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ç¼–ç¨‹å¤§å’–.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>