<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>C#类和结构体的区别 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/c4f37a52c6322c267643d307e8e08083/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="C#类和结构体的区别">
  <meta property="og:description" content="1、类class是引用类型，多个引用类型变量的值会互相影响。存储在堆（heap）上
2、结构体struct是值类型，多个值类型变量的值不会互相影响。存储在栈（stack）上
类结构关键字classstruct类型引用类型值类型存储位置托管 堆（heap）上栈（stack）上语法都使用new来说明实例都使用new来说明实例 using System; using System.Collections.Generic; using System.Text; namespace VariableScopeSample3 { class Vector { int value; public int Value { get; internal set; } } } using System; using System.Collections.Generic; using System.Text; namespace VariableScopeSample3 { struct Point { public int X { get; internal set; } public int Y { get; internal set; } } } using System; namespace VariableScopeSample3 { class Program { static int j = 20; static int Main(string[] args) { int j = 30; Console.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-08-03T19:39:10+08:00">
    <meta property="article:modified_time" content="2024-08-03T19:39:10+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">C#类和结构体的区别</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>1、类class是引用类型，多个引用类型变量的值会互相影响。存储在堆（heap）上</p> 
<p>2、结构体struct是值类型，多个值类型变量的值不会互相影响。存储在栈（stack）上</p> 
<table cellspacing="0" style="width:309pt;"><tbody><tr><td style="vertical-align:middle;width:54pt;"></td><td style="vertical-align:middle;width:130pt;"><strong><span style="color:#000000;">类</span></strong></td><td style="vertical-align:middle;width:125pt;"><strong><span style="color:#000000;">结构</span></strong></td></tr><tr><td style="vertical-align:middle;"><strong><span style="color:#000000;">关键字</span></strong></td><td style="vertical-align:middle;"><span style="color:#000000;">class</span></td><td style="vertical-align:middle;"><span style="color:#000000;">struct</span></td></tr><tr><td style="vertical-align:middle;"><strong><span style="color:#000000;">类型</span></strong></td><td style="vertical-align:middle;"><span style="color:#000000;">引用类型</span></td><td style="vertical-align:middle;"><span style="color:#000000;">值类型</span></td></tr><tr><td style="vertical-align:middle;"><strong><span style="color:#000000;">存储位置</span></strong></td><td style="vertical-align:middle;"><span style="color:#000000;">托管 堆（heap）上</span></td><td style="vertical-align:middle;"><span style="color:#000000;">栈（stack）上</span></td></tr><tr><td style="vertical-align:middle;"><strong><span style="color:#000000;">语法</span></strong></td><td style="vertical-align:middle;"><span style="color:#000000;">都使用new来说明实例</span></td><td style="vertical-align:middle;"><span style="color:#000000;">都使用new来说明实例</span></td></tr></tbody></table> 
<p><img alt="" height="698" src="https://images2.imgbox.com/ba/87/I1mn1pDp_o.png" width="1058"></p> 
<p></p> 
<pre><code>using System;
using System.Collections.Generic;
using System.Text;

namespace VariableScopeSample3
{
    class Vector
    {
        int value;

        public  int Value { get; internal set; }
    }
}
</code></pre> 
<pre><code>using System;
using System.Collections.Generic;
using System.Text;

namespace VariableScopeSample3
{
     struct Point
    {
        

        public int X { get; internal set; }
        public int Y { get; internal set; }
    }
}
</code></pre> 
<pre><code>using System;

namespace VariableScopeSample3
{
    class Program
    {
        static int j = 20;
        static int Main(string[] args)
        {
            int j = 30;
            Console.WriteLine(j);
           // return 0;

            Vector x, y;
            x = new Vector();
            x.Value = 30;//value is a field defind in Vector class
            y = x;
            Console.WriteLine(y.Value);
            y.Value = 50;
            Console.WriteLine(x.Value);
            Console.WriteLine("--------------------");
            Point a,b;
            a = new Point();
            a.X = 30;
            b = new Point();//下面有赋值，所以这里可省略
            b = a;
            Console.WriteLine(b.X);
            b.X = 50;
            Console.WriteLine(a.X);
            Console.WriteLine(b.X);
            return 0;

        }
    }
}
</code></pre> 
<p>在C#中，结构体（struct）是值类型，这意味着它们在赋值时是通过值复制的方式来传递的</p> 
<ol><li> <p><code>Point a, b;</code> 声明了两个 <code>Point</code> 类型的变量 <code>a</code> 和 <code>b</code>。由于结构体是值类型，这两个变量会被初始化为默认值（在本例中，<code>X</code> 和 <code>Y</code> 都是 <code>0</code>）。</p> </li><li> <p><code>a = new Point();</code> 创建了一个新的 <code>Point</code> 实例，并将其赋值给变量 <code>a</code>。</p> </li><li> <p><code>a.X = 30;</code> 将 <code>a</code> 的 <code>X</code> 属性设置为 <code>30</code>。</p> </li><li> <p><code>b = new Point();</code> 创建了另一个新的 <code>Point</code> 实例，并将其赋值给变量 <code>b</code>。这一步实际上不是必需的，因为你紧接着就重写了 <code>b</code> 的值。</p> </li><li> <p><code>b = a;</code> 将 <code>a</code> 的值复制给 <code>b</code>。由于结构体是按值传递的，这里发生的是 <code>a</code> 的值（此时 <code>X</code> 是 <code>30</code>）被复制给 <code>b</code>。</p> </li><li> <p><code>Console.WriteLine(b.X);</code> 打印 <code>b</code> 的 <code>X</code> 属性，输出 <code>30</code>。</p> </li><li> <p><code>b.X = 50;</code> 将 <code>b</code> 的 <code>X</code> 属性设置为 <code>50</code>。由于 <code>b</code> 是 <code>a</code> 的一个副本，这个操作不会影响 <code>a</code>。</p> </li><li> <p><code>Console.WriteLine(a.X);</code> 打印 <code>a</code> 的 <code>X</code> 属性，输出 <code>30</code>，因为 <code>a</code> 和 <code>b</code> 是独立的副本。</p> </li><li> <p><code>Console.WriteLine(b.X);</code> 再次打印 <code>b</code> 的 <code>X</code> 属性，输出 <code>50</code>。</p> </li></ol> 
<p>关于 <code>b = new Point();</code> 这一行代码可以省略的问题：</p> 
<p>因为在执行 <code>b = a;</code> 之前，<code>b</code> 的值并不重要，因为它会被立即覆盖。省略这一行代码不会影响程序的行为，因为 <code>b</code> 会在赋值时得到 <code>a</code> 的副本。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d7bbdaa48280cf48df11f545f2086f43/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">鸿蒙媒体开发【相机数据采集保存】拍照和图片</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b2aa0770de47bff0ed2ec3abad63ad94/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">MySQL版本选择与安装</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>