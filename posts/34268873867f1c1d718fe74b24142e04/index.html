<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【Android Studio】gradle文件、配置、版本下载、国内源（SDK版本、gradle版本以及gradle-plugin（AGP）版本） - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/34268873867f1c1d718fe74b24142e04/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="【Android Studio】gradle文件、配置、版本下载、国内源（SDK版本、gradle版本以及gradle-plugin（AGP）版本）">
  <meta property="og:description" content="文章目录 AS查看gradle-plugin版本及gradle版本（图形）查看gradle-plugin版本及gradle版本（配置文件）配置文件分析解决gradle下载失败、版本错乱等问题。 Gradle 是一个基于 Apache Ant 和 Apache Maven 概念的自动化构建工具，它使用一种基于 Groovy 的特定领域语言（DSL）来声明项目设置，而不是传统的 XML。Gradle 提供了更灵活和强大的方式来构建、测试、打包和部署应用程序，它支持多种编程语言和平台，包括 Java、Kotlin、Groovy、Android、C/C&#43;&#43; 等。 Gradle 的优势 灵活性：Gradle 允许你以编程方式定义构建逻辑，这提供了比传统 XML 配置更高的灵活性。性能：Gradle 使用守护进程和增量构建来加速构建过程。多项目构建：Gradle 支持在一个构建脚本中定义多个项目，并允许你跨项目共享配置和依赖项。强大的依赖管理：Gradle 提供了灵活的依赖管理机制，支持从 Maven 仓库、Ivy 仓库和其他类型的仓库中解析依赖项。社区支持：Gradle 有一个活跃的社区，提供了大量的插件和文档资源。 AS查看gradle-plugin版本及gradle版本（图形） 查看gradle-plugin版本及gradle版本（配置文件） 进入项目级bulid.gradle(不是app级)
gradle\wrapper\gradle-wrapper.properties 配置文件分析 gradle-plugin
这里主要解决第一次构建项目时可能出现的问题，不考虑具体项目配置，涉及到的配置文件就上图两个。
项目级build.gradle：项目全局的gradle构建脚本（下面是uniapp 安卓SDK实例）
（注意不要找到app文件夹里的那个了） // Top-level build file where you can add configuration options common to all sub-projects/modules. buildscript { repositories { maven {url &#39;https://maven.aliyun.com/repository/google&#39;} maven {url &#39;https://maven.aliyun.com/repository/gradle-plugin&#39;} maven {url &#39;https://maven.aliyun.com/repository/public&#39;} } dependencies { classpath &#39;com.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-08-08T16:33:31+08:00">
    <meta property="article:modified_time" content="2024-08-08T16:33:31+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【Android Studio】gradle文件、配置、版本下载、国内源（SDK版本、gradle版本以及gradle-plugin（AGP）版本）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><ul><li><a href="#ASgradleplugingradle_8" rel="nofollow">AS查看gradle-plugin版本及gradle版本（图形）</a></li><li><a href="#gradleplugingradle_12" rel="nofollow">查看gradle-plugin版本及gradle版本（配置文件）</a></li><li><a href="#_22" rel="nofollow">配置文件分析</a></li><li><a href="#gradle_67" rel="nofollow">解决gradle下载失败、版本错乱等问题。</a></li></ul> 
 </li></ul> 
</div> 
<br> Gradle 是一个基于 Apache Ant 和 Apache Maven 概念的自动化构建工具，它使用一种基于 Groovy 的特定领域语言（DSL）来声明项目设置，而不是传统的 XML。Gradle 提供了更灵活和强大的方式来构建、测试、打包和部署应用程序，它支持多种编程语言和平台，包括 Java、Kotlin、Groovy、Android、C/C++ 等。 
<br> Gradle 的优势 
<p></p> 
<ul><li>灵活性：Gradle 允许你以编程方式定义构建逻辑，这提供了比传统 XML 配置更高的灵活性。</li><li>性能：Gradle 使用守护进程和增量构建来加速构建过程。</li><li>多项目构建：Gradle 支持在一个构建脚本中定义多个项目，并允许你跨项目共享配置和依赖项。</li><li>强大的依赖管理：Gradle 提供了灵活的依赖管理机制，支持从 Maven 仓库、Ivy 仓库和其他类型的仓库中解析依赖项。</li><li>社区支持：Gradle 有一个活跃的社区，提供了大量的插件和文档资源。</li></ul> 
<blockquote> 
 <h3><a id="ASgradleplugingradle_8"></a>AS查看gradle-plugin版本及gradle版本（图形）</h3> 
</blockquote> 
<p><img src="https://images2.imgbox.com/f1/d3/e2CE6WdO_o.png" alt="在这里插入图片描述" width="500"><br> <img src="https://images2.imgbox.com/4a/c3/LNRkfl9j_o.png" alt="在这里插入图片描述" width="600"></p> 
<blockquote> 
 <h3><a id="gradleplugingradle_12"></a>查看gradle-plugin版本及gradle版本（配置文件）</h3> 
</blockquote> 
<ul><li>进入项目级bulid.gradle(不是app级)<br> <img src="https://images2.imgbox.com/e8/0e/Xyva4ren_o.png" alt="在这里插入图片描述" width="700"></li><li>gradle\wrapper\gradle-wrapper.properties</li></ul> 
<p><img src="https://images2.imgbox.com/28/55/tV63pM4m_o.png" alt="在这里插入图片描述" width="700"></p> 
<blockquote> 
 <h3><a id="_22"></a>配置文件分析</h3> 
</blockquote> 
<ul><li>gradle-plugin<br> 这里主要解决第一次构建项目时可能出现的问题，不考虑具体项目配置，涉及到的配置文件就上图两个。<br> 项目级build.gradle：项目全局的gradle构建脚本（下面是uniapp 安卓SDK实例）<br> （注意不要找到app文件夹里的那个了）</li></ul> 
<pre><code class="prism language-java"><span class="token comment">// Top-level build file where you can add configuration options common to all sub-projects/modules.</span>

buildscript <span class="token punctuation">{<!-- --></span>
    repositories <span class="token punctuation">{<!-- --></span>
        maven <span class="token punctuation">{<!-- --></span>url 'https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>maven<span class="token punctuation">.</span>aliyun<span class="token punctuation">.</span>com<span class="token operator">/</span>repository<span class="token operator">/</span>google'<span class="token punctuation">}</span>
        maven <span class="token punctuation">{<!-- --></span>url 'https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>maven<span class="token punctuation">.</span>aliyun<span class="token punctuation">.</span>com<span class="token operator">/</span>repository<span class="token operator">/</span>gradle<span class="token operator">-</span>plugin'<span class="token punctuation">}</span>
        maven <span class="token punctuation">{<!-- --></span>url 'https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>maven<span class="token punctuation">.</span>aliyun<span class="token punctuation">.</span>com<span class="token operator">/</span>repository<span class="token operator">/</span><span class="token keyword">public</span>'<span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    dependencies <span class="token punctuation">{<!-- --></span>
        classpath 'com<span class="token punctuation">.</span>android<span class="token punctuation">.</span>tools<span class="token punctuation">.</span>build<span class="token operator">:</span>gradle<span class="token operator">:</span><span class="token number">4.1</span><span class="token number">.1</span>'
        <span class="token comment">// NOTE: Do not place your application dependencies here; they belong</span>
        <span class="token comment">// in the individual module build.gradle files</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

allprojects <span class="token punctuation">{<!-- --></span>
    repositories <span class="token punctuation">{<!-- --></span>
        maven <span class="token punctuation">{<!-- --></span>url 'https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>maven<span class="token punctuation">.</span>aliyun<span class="token punctuation">.</span>com<span class="token operator">/</span>repository<span class="token operator">/</span>google'<span class="token punctuation">}</span>
        maven <span class="token punctuation">{<!-- --></span>url 'https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>maven<span class="token punctuation">.</span>aliyun<span class="token punctuation">.</span>com<span class="token operator">/</span>repository<span class="token operator">/</span>gradle<span class="token operator">-</span>plugin'<span class="token punctuation">}</span>
        maven <span class="token punctuation">{<!-- --></span>url 'https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>maven<span class="token punctuation">.</span>aliyun<span class="token punctuation">.</span>com<span class="token operator">/</span>repository<span class="token operator">/</span><span class="token keyword">public</span>'<span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

task <span class="token function">clean</span><span class="token punctuation">(</span>type<span class="token operator">:</span> <span class="token class-name">Delete</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    delete rootProject<span class="token punctuation">.</span>buildDir
<span class="token punctuation">}</span>
</code></pre> 
<ul><li>gradle<br> repositories中配置的是仓库地址，Android Studio会从这里的地址下载gradle等工具。<br> gradle-wrapper.properties：配置gradle</li></ul> 
<pre><code class="prism language-java">#<span class="token class-name">Mon</span> <span class="token class-name">Dec</span> <span class="token number">28</span> <span class="token number">18</span><span class="token operator">:</span><span class="token number">07</span><span class="token operator">:</span><span class="token number">31</span> <span class="token constant">CST</span> <span class="token number">2020</span>
distributionBase<span class="token operator">=</span><span class="token class-name">GRADLE_USER_HOME</span>
distributionPath<span class="token operator">=</span>wrapper<span class="token operator">/</span>dists
zipStoreBase<span class="token operator">=</span><span class="token class-name">GRADLE_USER_HOME</span>
zipStorePath<span class="token operator">=</span>wrapper<span class="token operator">/</span>dists
distributionUrl<span class="token operator">=</span>https\<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>services<span class="token punctuation">.</span>gradle<span class="token punctuation">.</span>org<span class="token operator">/</span>distributions<span class="token operator">/</span>gradle<span class="token operator">-</span><span class="token number">6.5</span><span class="token operator">-</span>all<span class="token punctuation">.</span>zip
</code></pre> 
<blockquote> 
 <h3><a id="gradle_67"></a>解决gradle下载失败、版本错乱等问题。</h3> 
</blockquote> 
<ol><li>配置国内源<br> 首先配置国内的源，这里用阿里云的仓库<br> <a href="https://developer.aliyun.com/mvn/guide" rel="nofollow">https://developer.aliyun.com/mvn/guide</a><br> 在build.gradle文件中把 google() 和 jcenter() 注释掉，并添加</li></ol> 
<p><img src="https://images2.imgbox.com/cc/5c/4I7LoGtA_o.png" alt="在这里插入图片描述"><br> gradle版本和plugin版本是有对应关系的，版本错误的话可能会发生异常，具体对应关系见网址<a href="https://developer.android.com/studio/releases/gradle-plugin" rel="nofollow">https://developer.android.com/studio/releases/gradle-plugin</a><br> （注：需要科学上网才能打开）<br> 这里贴一个当前最新的对应关系表，如果不追求最新版的话应该够用了。<br> 插件版本 所需的最低 Gradle 版本</p> 
<table><thead><tr><th>plugin(AGP)</th><th>gradle</th></tr></thead><tbody><tr><td>8.4 (alpha)</td><td>8.6-rc-1</td></tr><tr><td>8.3</td><td>8.4</td></tr><tr><td>8.2</td><td>8.2</td></tr><tr><td>8.1</td><td>8.0</td></tr><tr><td>8.0</td><td>8.0</td></tr><tr><td>7.4</td><td>7.5</td></tr><tr><td>7.3</td><td>7.4</td></tr><tr><td>7.2</td><td>7.3.3</td></tr><tr><td>7.1</td><td>7.2</td></tr><tr><td>7.0</td><td>7.0</td></tr><tr><td>4.2.0+</td><td>6.7.1</td></tr><tr><td>4.1.0+</td><td>6.5+</td></tr><tr><td>4.0.0+</td><td>6.1.1+</td></tr><tr><td>3.6.0 - 3.6.4</td><td>5.6.4+</td></tr><tr><td>3.5.0 - 3.5.4</td><td>5.4.1+</td></tr><tr><td>3.4.0 - 3.4.3</td><td>5.1.1+</td></tr><tr><td>3.3.0 - 3.3.3</td><td>4.10.1+</td></tr><tr><td>3.2.0 - 3.2.1</td><td>4.6+</td></tr><tr><td>3.1.0+</td><td>4.4+</td></tr><tr><td>3.0.0+</td><td>4.1+</td></tr><tr><td>2.3.0+</td><td>3.3+</td></tr><tr><td>2.1.3 - 2.2.3</td><td>2.14.1 - 3.5</td></tr><tr><td>2.0.0 - 2.1.2</td><td>2.10 - 2.13</td></tr><tr><td>1.5.0</td><td>2.2.1 - 2.13</td></tr><tr><td>1.2.0 - 1.3.1</td><td>2.2.1 - 2.9</td></tr><tr><td>1.0.0 - 1.1.3</td><td>2.2.1 - 2.37.3 7.4</td></tr></tbody></table> 
<ol start="2"><li>手动下载gradle<br> 如果因为某些原因无法自动下载或解压gradle，可以手动进行下载并自行放置。<br> gradle文件所在的地址是<br> <code>C:\Users\用户名\.gradle\wrapper\dists</code><br> 打开以后就会看见不同版本的gradle<br> <img src="https://images2.imgbox.com/70/ac/nZSYDVLp_o.png" alt="在这里插入图片描述" width="500"></li></ol> 
<p>其中bin后缀的是只包含二进制文件，all后缀的包括二进制文件、文档和源代码，根据自己的需求进行选择。</p> 
<p>进入任意一个gradle目录中都会有一个乱码文件夹，这个是必须的，如果gradle无法下载，也点击Android Studio中的Sync按钮让它去生成这个乱码文件夹，好让我们去手动放置。<br> <img src="https://images2.imgbox.com/a1/ab/9FY2i10m_o.png" alt="在这里插入图片描述" width="500"><br> <img src="https://images2.imgbox.com/d5/ec/NdofAGWc_o.png" alt="在这里插入图片描述" width="600"></p> 
<p>选择好gradle版本后，开始手动下载，官方地址：<a href="https://gradle.org/releases/" rel="nofollow">https://gradle.org/releases/</a><br> 以我使用的8.7为例<br> <img src="https://images2.imgbox.com/dc/63/N8ftzJqU_o.png" alt="在这里插入图片描述" width="400"></p> 
<p>binary-only就是bin版本，complete就是all版本，自行选择进行下载即可。<br> 下载完成后会得到一个zip压缩包，注意不要解压。把压缩包放到刚才提到的乱码文件夹中。<br> <img src="https://images2.imgbox.com/24/c6/xjtHFOcb_o.png" alt="在这里插入图片描述" width="500"></p> 
<p>接下来重启Android Studio，它会自动进行解压并完成配置。</p> 
<p>如果重启后还是在下载gradle文件，这时候就去看看是不是bin和all对应不上，比如项目需要bin版本的gradle，而你放了一个all版本的压缩包进去，那它当然还会下载。<br> 这时候进入gradle-wrapper.properties 文件中，最后一行把bin改成all就解决问题了。<br> <img src="https://images2.imgbox.com/cd/ef/VPMJW9i6_o.png" alt="在这里插入图片描述" width="600"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/fcd51cfbc4afb882e398bb61691bd7f8/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【L1.第二章】如何搭建 Appium 环境与配置</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b1dafbd1c548879856047ac1ce3ae7e6/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">XXXForm组件</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>