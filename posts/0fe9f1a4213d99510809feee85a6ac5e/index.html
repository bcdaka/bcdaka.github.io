<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【OpenCV 图像处理 Python版】图像处理的基本操作 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/0fe9f1a4213d99510809feee85a6ac5e/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="【OpenCV 图像处理 Python版】图像处理的基本操作">
  <meta property="og:description" content="文章目录 1.图像的 IO 操作1.1 图像读取 imread1.2 图像显示1.2.1 opencv 方式1.2.2 matplotlib 方式 1.3 图像保存 imwrite 2.绘制几何图形1. 绘制直线2. 绘制矩形3. 绘制圆形4. 绘制多边形5. 添加文字 3.获取并修改图像中的像素点3.1 获取像素值3.2 修改像素值3.3 获取和修改区域像素值 4.获取图像属性4.1 获取图像属性详细解释 4.2 处理灰度图像 5.图像通道的拆分与合并5.1 图像通道的拆分5.2 图像通道的合并5.3 修改单个通道并合并 6.色彩空间的改变详细解释为什么需要将 HSV 和 Lab 图像，先转换回 RGB 格式再显示？1. `matplotlib` 期望的颜色格式是 RGB2. 可视化的直观性3. 避免误解 1.图像的 IO 操作 1.1 图像读取 imread 使用cv2.imread函数可以读取图像。该函数有两个参数：
第一个参数是图像文件的路径。第二个参数是读取模式，可以是以下几种： cv2.IMREAD_COLOR：读取彩色图像（默认）。cv2.IMREAD_GRAYSCALE：读取灰度图像。cv2.IMREAD_UNCHANGED：读取图像，并包括图像的alpha通道。 示例
import numpy as np import cv2 as cv import matplotlib.pyplot as plt # 1.读取图像 # 读取彩色图像 image = cv.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-06-26T10:17:15+08:00">
    <meta property="article:modified_time" content="2024-06-26T10:17:15+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【OpenCV 图像处理 Python版】图像处理的基本操作</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><img src="https://images2.imgbox.com/7e/43/hvjf2qBJ_o.png" alt="在这里插入图片描述"></p> 
<p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#1_IO__4" rel="nofollow">1.图像的 IO 操作</a></li><li><ul><li><a href="#11__imread_6" rel="nofollow">1.1 图像读取 imread</a></li><li><a href="#12__29" rel="nofollow">1.2 图像显示</a></li><li><ul><li><a href="#121_opencv__32" rel="nofollow">1.2.1 opencv 方式</a></li><li><a href="#122_matplotlib__70" rel="nofollow">1.2.2 matplotlib 方式</a></li></ul> 
   </li><li><a href="#13__imwrite_136" rel="nofollow">1.3 图像保存 imwrite</a></li></ul> 
  </li><li><a href="#2_178" rel="nofollow">2.绘制几何图形</a></li><li><ul><li><ul><li><a href="#1__181" rel="nofollow">1. 绘制直线</a></li><li><a href="#2__207" rel="nofollow">2. 绘制矩形</a></li><li><a href="#3__236" rel="nofollow">3. 绘制圆形</a></li><li><a href="#4__268" rel="nofollow">4. 绘制多边形</a></li><li><a href="#5__306" rel="nofollow">5. 添加文字</a></li></ul> 
  </li></ul> 
  </li><li><a href="#3_350" rel="nofollow">3.获取并修改图像中的像素点</a></li><li><ul><li><a href="#31__354" rel="nofollow">3.1 获取像素值</a></li><li><a href="#32__383" rel="nofollow">3.2 修改像素值</a></li><li><a href="#33__414" rel="nofollow">3.3 获取和修改区域像素值</a></li></ul> 
  </li><li><a href="#4_440" rel="nofollow">4.获取图像属性</a></li><li><ul><li><a href="#41__443" rel="nofollow">4.1 获取图像属性</a></li><li><ul><li><a href="#_476" rel="nofollow">详细解释</a></li></ul> 
   </li><li><a href="#42__488" rel="nofollow">4.2 处理灰度图像</a></li></ul> 
  </li><li><a href="#5_512" rel="nofollow">5.图像通道的拆分与合并</a></li><li><ul><li><a href="#51__516" rel="nofollow">5.1 图像通道的拆分</a></li><li><a href="#52__566" rel="nofollow">5.2 图像通道的合并</a></li><li><a href="#53__594" rel="nofollow">5.3 修改单个通道并合并</a></li></ul> 
  </li><li><a href="#6_625" rel="nofollow">6.色彩空间的改变</a></li><li><ul><li><ul><li><a href="#_687" rel="nofollow">详细解释</a></li><li><a href="#_HSV__Lab__RGB__707" rel="nofollow">为什么需要将 HSV 和 Lab 图像，先转换回 RGB 格式再显示？</a></li><li><ul><li><a href="#1_matplotlib__RGB_710" rel="nofollow">1. `matplotlib` 期望的颜色格式是 RGB</a></li><li><a href="#2__714" rel="nofollow">2. 可视化的直观性</a></li><li><a href="#3__718" rel="nofollow">3. 避免误解</a></li></ul> 
   </li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="1_IO__4"></a>1.图像的 IO 操作</h2> 
<h3><a id="11__imread_6"></a>1.1 图像读取 imread</h3> 
<p>使用<code>cv2.imread</code>函数可以读取图像。该函数有两个参数：</p> 
<ul><li>第一个参数是<code>图像文件的路径</code>。</li><li>第二个参数是<code>读取模式</code>，可以是以下几种： 
  <ul><li><code>cv2.IMREAD_COLOR</code>：读取彩色图像（默认）。</li><li><code>cv2.IMREAD_GRAYSCALE</code>：读取灰度图像。</li><li><code>cv2.IMREAD_UNCHANGED</code>：读取图像，并包括图像的alpha通道。</li></ul> </li></ul> 
<p><em><strong>示例</strong></em></p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">import</span> cv2 <span class="token keyword">as</span> cv
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt

<span class="token comment"># 1.读取图像</span>
<span class="token comment"># 读取彩色图像</span>
image  <span class="token operator">=</span> cv<span class="token punctuation">.</span>imread<span class="token punctuation">(</span><span class="token string">'../images/iu.jpg'</span><span class="token punctuation">,</span> cv<span class="token punctuation">.</span>IMREAD_COLOR<span class="token punctuation">)</span>

<span class="token comment"># 读取灰度图像</span>
image_gray  <span class="token operator">=</span> cv<span class="token punctuation">.</span>imread<span class="token punctuation">(</span><span class="token string">'../images/iu.jpg'</span><span class="token punctuation">,</span> cv<span class="token punctuation">.</span>IMREAD_GRAYSCALE<span class="token punctuation">)</span>
</code></pre> 
<h3><a id="12__29"></a>1.2 图像显示</h3> 
<p>图像显示主要有两种方式：<code>OpenCV</code> 提供的 imshow 函数和 <code>matplotlib</code> 库提供的 imshow 函数。</p> 
<h4><a id="121_opencv__32"></a>1.2.1 opencv 方式</h4> 
<p>使用 <code>cv2.imshow</code> 函数可以显示图像。该函数有两个参数：</p> 
<ul><li>第一个参数是窗口的名称。</li><li>第二个参数是要显示的图像。</li></ul> 
<p>使用 <code>cv2.waitKey</code> 函数可以等待按键事件。该函数的参数是等待的时间（毫秒），如果设置为0，则无限等待。</p> 
<p>使用<code>cv2.destroyAllWindows</code>函数可以关闭所有窗口。</p> 
<p><em><strong>示例</strong></em></p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">import</span> cv2 <span class="token keyword">as</span> cv
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt

<span class="token comment"># 1.读取图像</span>

<span class="token comment"># 读取彩色图像</span>
image  <span class="token operator">=</span> cv<span class="token punctuation">.</span>imread<span class="token punctuation">(</span><span class="token string">'../images/iu.jpg'</span><span class="token punctuation">,</span> cv<span class="token punctuation">.</span>IMREAD_COLOR<span class="token punctuation">)</span>

<span class="token comment"># 读取灰度图像</span>
image_gray  <span class="token operator">=</span> cv<span class="token punctuation">.</span>imread<span class="token punctuation">(</span><span class="token string">'../images/iu.jpg'</span><span class="token punctuation">,</span> cv<span class="token punctuation">.</span>IMREAD_GRAYSCALE<span class="token punctuation">)</span>

<span class="token comment"># 2.显示图像</span>
<span class="token comment"># 2.1 opencv 显示</span>
cv<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span><span class="token string">'iu'</span><span class="token punctuation">,</span> image<span class="token punctuation">)</span>
cv<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span><span class="token string">'gray'</span><span class="token punctuation">,</span> image_gray<span class="token punctuation">)</span>
cv<span class="token punctuation">.</span>waitKey<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
cv<span class="token punctuation">.</span>destroyAllWindows<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/58/91/pV3mpWlV_o.png" alt="在这里插入图片描述"></p> 
<p>但是由于使用 opencv 提供的 imshow 函数时会创建新的窗口显示图像，不方便观察，所以后面一般会用另外一种方式。</p> 
<h4><a id="122_matplotlib__70"></a>1.2.2 matplotlib 方式</h4> 
<p><em><strong>转换颜色空间</strong></em></p> 
<p>由于<code>OpenCV </code>读取的图像是 <code>BGR</code> 格式，而 <code>matplotlib</code> 显示图像时使用的是 <code>RGB</code> 格式。因此，需要将 BGR 图像转换为 RGB 图像，此时也是有两种方式：</p> 
<ol><li>使用 <code>cvtColor</code> 进行转换；</li></ol> 
<pre><code class="prism language-python">image_rgb <span class="token operator">=</span> cv2<span class="token punctuation">.</span>cvtColor<span class="token punctuation">(</span>image<span class="token punctuation">,</span> cv2<span class="token punctuation">.</span>COLOR_BGR2RGB<span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>image_rgb<span class="token punctuation">)</span>
</code></pre> 
<ol start="2"><li>使用<code>矩阵</code>转换；</li></ol> 
<pre><code class="prism language-python">plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>image<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> 
<p><em><strong>示例</strong></em></p> 
<p><strong>第一种方式</strong></p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">import</span> cv2 <span class="token keyword">as</span> cv
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt

<span class="token comment"># 1.读取图像</span>

<span class="token comment"># 读取彩色图像</span>
image  <span class="token operator">=</span> cv<span class="token punctuation">.</span>imread<span class="token punctuation">(</span><span class="token string">'../images/iu.jpg'</span><span class="token punctuation">,</span> cv<span class="token punctuation">.</span>IMREAD_COLOR<span class="token punctuation">)</span>

<span class="token comment"># 读取灰度图像</span>
image_gray  <span class="token operator">=</span> cv<span class="token punctuation">.</span>imread<span class="token punctuation">(</span><span class="token string">'../images/iu.jpg'</span><span class="token punctuation">,</span> cv<span class="token punctuation">.</span>IMREAD_GRAYSCALE<span class="token punctuation">)</span>

<span class="token comment"># 2.2 plt 读取</span>

<span class="token comment"># 第一种方式</span>
image_rgb <span class="token operator">=</span> cv<span class="token punctuation">.</span>cvtColor<span class="token punctuation">(</span>image<span class="token punctuation">,</span> cv<span class="token punctuation">.</span>COLOR_BGR2RGB<span class="token punctuation">)</span><span class="token comment"># 彩色图像显示</span>
plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>image_rgb<span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/a2/3e/rE4HryTf_o.png" alt="在这里插入图片描述"><br> <strong>第二种方式</strong></p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">import</span> cv2 <span class="token keyword">as</span> cv
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt

<span class="token comment"># 1.读取图像</span>

<span class="token comment"># 读取彩色图像</span>
image  <span class="token operator">=</span> cv<span class="token punctuation">.</span>imread<span class="token punctuation">(</span><span class="token string">'../images/iu.jpg'</span><span class="token punctuation">,</span> cv<span class="token punctuation">.</span>IMREAD_COLOR<span class="token punctuation">)</span>

<span class="token comment"># 读取灰度图像</span>
image_gray  <span class="token operator">=</span> cv<span class="token punctuation">.</span>imread<span class="token punctuation">(</span><span class="token string">'../images/iu.jpg'</span><span class="token punctuation">,</span> cv<span class="token punctuation">.</span>IMREAD_GRAYSCALE<span class="token punctuation">)</span>

<span class="token comment"># 2.2 plt 读取</span>

<span class="token comment"># 第二种方式</span>
plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>image<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment"># 彩色图像显示</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/ac/b5/wuLwgOTa_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="13__imwrite_136"></a>1.3 图像保存 imwrite</h3> 
<p>使用 <code>cv2.imwrite</code> 函数可以保存图像。该函数有两个参数：</p> 
<ul><li>第一个参数是保存的文件路径。</li><li>第二个参数是要保存的图像。</li></ul> 
<p><em><strong>示例</strong></em></p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">import</span> cv2 <span class="token keyword">as</span> cv
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt

<span class="token comment"># 1.读取图像</span>

<span class="token comment"># 读取彩色图像</span>
image  <span class="token operator">=</span> cv<span class="token punctuation">.</span>imread<span class="token punctuation">(</span><span class="token string">'../images/iu.jpg'</span><span class="token punctuation">,</span> cv<span class="token punctuation">.</span>IMREAD_COLOR<span class="token punctuation">)</span>

<span class="token comment"># 读取灰度图像</span>
image_gray  <span class="token operator">=</span> cv<span class="token punctuation">.</span>imread<span class="token punctuation">(</span><span class="token string">'../images/iu.jpg'</span><span class="token punctuation">,</span> cv<span class="token punctuation">.</span>IMREAD_GRAYSCALE<span class="token punctuation">)</span>

<span class="token comment"># 2.显示图像</span>
<span class="token comment"># 2.1 opencv 读取</span>
<span class="token comment"># cv.imshow('iu', image)</span>
<span class="token comment"># cv.imshow('gray', image_gray)</span>
<span class="token comment"># cv.waitKey(0)</span>
<span class="token comment"># cv.destroyAllWindows()</span>

<span class="token comment"># 2.2 plt 读取</span>

<span class="token comment"># 第一种方式</span>
<span class="token comment"># image_rgb = cv.cvtColor(image, cv.COLOR_BGR2RGB)# 彩色图像读取</span>
<span class="token comment"># plt.imshow(image_rgb)</span>

<span class="token comment"># 第二种方式</span>
<span class="token comment"># plt.imshow(image[:,:,::-1]) # 彩色图像读取</span>
<span class="token comment"># plt.show()</span>

<span class="token comment"># 3.图像保存</span>
cv<span class="token punctuation">.</span>imwrite<span class="token punctuation">(</span><span class="token string">'../images/iu_rgb.jpg'</span><span class="token punctuation">,</span> image<span class="token punctuation">)</span>
cv<span class="token punctuation">.</span>imwrite<span class="token punctuation">(</span><span class="token string">'../images/iu_gray.jpg'</span><span class="token punctuation">,</span> image_gray<span class="token punctuation">)</span>
</code></pre> 
<h2><a id="2_178"></a>2.绘制几何图形</h2> 
<p>在OpenCV中，可以使用一系列绘图函数在图像上绘制几何图形和添加文字。这些函数包括绘制直线、矩形、圆形、多边形以及添加文本等。以下是如何使用这些函数的详细步骤和示例代码。</p> 
<h4><a id="1__181"></a>1. 绘制直线</h4> 
<p>使用 <code>cv2.line</code> 函数可以在图像上绘制直线。该函数的参数包括：</p> 
<ul><li>图像对象</li><li>起点坐标</li><li>终点坐标</li><li>颜色（BGR格式）</li><li>线条粗细（可选）</li></ul> 
<pre><code class="prism language-python"><span class="token keyword">import</span> cv2 <span class="token keyword">as</span> cv
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt

<span class="token comment"># 创建一个空白图像</span>
image <span class="token operator">=</span> np<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">512</span><span class="token punctuation">,</span> <span class="token number">512</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> np<span class="token punctuation">.</span>uint8<span class="token punctuation">)</span>

<span class="token comment"># 绘制一条白色直线</span>
cv<span class="token punctuation">.</span>line<span class="token punctuation">(</span>image<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">511</span><span class="token punctuation">,</span> <span class="token number">511</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>

<span class="token comment"># 显示图像</span>
plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>image<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/22/df/Uk9WrKbJ_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="2__207"></a>2. 绘制矩形</h4> 
<p>使用 <code>cv2.rectangle</code> 函数可以在图像上绘制矩形。该函数的参数包括：</p> 
<ul><li>图像对象</li><li>左上角坐标</li><li>右下角坐标</li><li>颜色（BGR格式）</li><li>线条粗细（如果为负值，则填充矩形）</li></ul> 
<pre><code class="prism language-python"><span class="token keyword">import</span> cv2 <span class="token keyword">as</span> cv
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt

<span class="token comment"># 创建一个空白图像</span>
image <span class="token operator">=</span> np<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">512</span><span class="token punctuation">,</span> <span class="token number">512</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> np<span class="token punctuation">.</span>uint8<span class="token punctuation">)</span>

<span class="token comment"># 绘制一条白色直线</span>
cv<span class="token punctuation">.</span>line<span class="token punctuation">(</span>image<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">511</span><span class="token punctuation">,</span> <span class="token number">511</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>

<span class="token comment"># 绘制一个绿色矩形</span>
cv<span class="token punctuation">.</span>rectangle<span class="token punctuation">(</span>image<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>

<span class="token comment"># 显示图像</span>
plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>image<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/20/93/p3mjJYjn_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="3__236"></a>3. 绘制圆形</h4> 
<p>使用 <code>cv2.circle</code> 函数可以在图像上绘制圆形。该函数的参数包括：</p> 
<ul><li>图像对象</li><li>圆心坐标</li><li>半径</li><li>颜色（BGR格式）</li><li>线条粗细（如果为负值，则填充圆形）</li></ul> 
<pre><code class="prism language-python"><span class="token keyword">import</span> cv2 <span class="token keyword">as</span> cv
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt

<span class="token comment"># 创建一个空白图像</span>
image <span class="token operator">=</span> np<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">512</span><span class="token punctuation">,</span> <span class="token number">512</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> np<span class="token punctuation">.</span>uint8<span class="token punctuation">)</span>

<span class="token comment"># 绘制一条白色直线</span>
cv<span class="token punctuation">.</span>line<span class="token punctuation">(</span>image<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">511</span><span class="token punctuation">,</span> <span class="token number">511</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>

<span class="token comment"># 绘制一个绿色矩形</span>
cv<span class="token punctuation">.</span>rectangle<span class="token punctuation">(</span>image<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>

<span class="token comment"># 绘制一个红色圆形</span>
cv<span class="token punctuation">.</span>circle<span class="token punctuation">(</span>image<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">256</span><span class="token punctuation">,</span> <span class="token number">256</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>

<span class="token comment"># 显示图像</span>
plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>image<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/3c/ba/rJyLid5k_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="4__268"></a>4. 绘制多边形</h4> 
<p>使用 <code>cv2.polylines</code> 函数可以在图像上绘制多边形。该函数的参数包括：</p> 
<ul><li>图像对象</li><li>顶点坐标数组</li><li>是否闭合</li><li>颜色（BGR格式）</li><li>线条粗细</li></ul> 
<pre><code class="prism language-python"><span class="token keyword">import</span> cv2 <span class="token keyword">as</span> cv
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt

<span class="token comment"># 创建一个空白图像</span>
image <span class="token operator">=</span> np<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">512</span><span class="token punctuation">,</span> <span class="token number">512</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> np<span class="token punctuation">.</span>uint8<span class="token punctuation">)</span>

<span class="token comment"># 绘制一条白色直线</span>
cv<span class="token punctuation">.</span>line<span class="token punctuation">(</span>image<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">511</span><span class="token punctuation">,</span> <span class="token number">511</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>

<span class="token comment"># 绘制一个绿色矩形</span>
cv<span class="token punctuation">.</span>rectangle<span class="token punctuation">(</span>image<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>

<span class="token comment"># 绘制一个红色圆形</span>
cv<span class="token punctuation">.</span>circle<span class="token punctuation">(</span>image<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">256</span><span class="token punctuation">,</span> <span class="token number">256</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>

<span class="token comment"># 定义多边形的顶点</span>
points <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> np<span class="token punctuation">.</span>int32<span class="token punctuation">)</span>
points <span class="token operator">=</span> points<span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># 绘制一个蓝色多边形</span>
cv<span class="token punctuation">.</span>polylines<span class="token punctuation">(</span>image<span class="token punctuation">,</span> <span class="token punctuation">[</span>points<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token boolean">True</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
<span class="token comment"># 显示图像</span>
plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>image<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/b4/da/IdUq82ll_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="5__306"></a>5. 添加文字</h4> 
<p>使用 <code>cv2.putText</code> 函数可以在图像上添加文字。该函数的参数包括：</p> 
<ul><li>图像对象</li><li>文字内容</li><li>文字起点坐标</li><li>字体类型</li><li>字体大小</li><li>颜色（BGR格式）</li><li>线条粗细</li></ul> 
<pre><code class="prism language-python"><span class="token keyword">import</span> cv2 <span class="token keyword">as</span> cv
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt

<span class="token comment"># 创建一个空白图像</span>
image <span class="token operator">=</span> np<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">512</span><span class="token punctuation">,</span> <span class="token number">512</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> np<span class="token punctuation">.</span>uint8<span class="token punctuation">)</span>

<span class="token comment"># 绘制一条白色直线</span>
cv<span class="token punctuation">.</span>line<span class="token punctuation">(</span>image<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">511</span><span class="token punctuation">,</span> <span class="token number">511</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>

<span class="token comment"># 绘制一个绿色矩形</span>
cv<span class="token punctuation">.</span>rectangle<span class="token punctuation">(</span>image<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>

<span class="token comment"># 绘制一个红色圆形</span>
cv<span class="token punctuation">.</span>circle<span class="token punctuation">(</span>image<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">256</span><span class="token punctuation">,</span> <span class="token number">256</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>

<span class="token comment"># 定义多边形的顶点</span>
points <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> np<span class="token punctuation">.</span>int32<span class="token punctuation">)</span>
points <span class="token operator">=</span> points<span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># 绘制一个蓝色多边形</span>
cv<span class="token punctuation">.</span>polylines<span class="token punctuation">(</span>image<span class="token punctuation">,</span> <span class="token punctuation">[</span>points<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token boolean">True</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
<span class="token comment"># 显示图像</span>

<span class="token comment"># 添加白色文字</span>
cv<span class="token punctuation">.</span>putText<span class="token punctuation">(</span>image<span class="token punctuation">,</span> <span class="token string">'Hello, OpenCV!'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">250</span><span class="token punctuation">)</span><span class="token punctuation">,</span> cv<span class="token punctuation">.</span>FONT_HERSHEY_SIMPLEX<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>

plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>image<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/c4/1b/aZi5IVtI_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="3_350"></a>3.获取并修改图像中的像素点</h2> 
<p>在OpenCV中，可以非常方便地获取和修改图像中的像素点。图像在OpenCV中被表示为一个NumPy数组，因此可以使用NumPy的索引和切片操作来访问和修改图像的像素值。</p> 
<h3><a id="31__354"></a>3.1 获取像素值</h3> 
<p>要获取图像中某个像素点的值，可以使用数组索引。对于彩色图像，像素值是一个包含三个元素的数组，分别表示B、G、R三个通道的值。对于灰度图像，像素值是一个单一的灰度值。</p> 
<p><em><strong>示例</strong></em></p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> cv2 <span class="token keyword">as</span> cv

<span class="token comment"># 读取彩色图像</span>
image <span class="token operator">=</span> cv<span class="token punctuation">.</span>imread<span class="token punctuation">(</span><span class="token string">'../images/iu.jpg'</span><span class="token punctuation">)</span>

<span class="token comment"># 获取某个像素点的值 (x=100, y=100)</span>
pixel_value <span class="token operator">=</span> image<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Pixel value at (100, 100):"</span><span class="token punctuation">,</span> pixel_value<span class="token punctuation">)</span>

<span class="token comment"># 获取某个像素点的蓝色通道值</span>
blue_value <span class="token operator">=</span> image<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Blue channel value at (100, 100):"</span><span class="token punctuation">,</span> blue_value<span class="token punctuation">)</span>

<span class="token comment"># 获取某个像素点的绿色通道值</span>
green_value <span class="token operator">=</span> image<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Green channel value at (100, 100):"</span><span class="token punctuation">,</span> green_value<span class="token punctuation">)</span>

<span class="token comment"># 获取某个像素点的红色通道值</span>
red_value <span class="token operator">=</span> image<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Red channel value at (100, 100):"</span><span class="token punctuation">,</span> red_value<span class="token punctuation">)</span>
</code></pre> 
<h3><a id="32__383"></a>3.2 修改像素值</h3> 
<p>要修改图像中某个像素点的值，可以直接使用数组索引进行赋值操作。对于彩色图像，可以分别修改B、G、R三个通道的值。</p> 
<p><em><strong>示例</strong></em></p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> cv2 <span class="token keyword">as</span> cv
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt

<span class="token comment"># 创建一个空白图像</span>
image <span class="token operator">=</span> np<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">512</span><span class="token punctuation">,</span> <span class="token number">512</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> np<span class="token punctuation">.</span>uint8<span class="token punctuation">)</span>

<span class="token comment"># 修改某个像素点的值 (x=100, y=100)</span>
image<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span>  <span class="token comment"># 将该像素点设置为绿色</span>

<span class="token comment"># 修改某个像素点的蓝色通道值</span>
image<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">255</span>  <span class="token comment"># 将该像素点的蓝色通道值设置为255</span>

<span class="token comment"># 修改某个像素点的绿色通道值</span>
image<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span>  <span class="token comment"># 将该像素点的绿色通道值设置为0</span>

<span class="token comment"># 修改某个像素点的红色通道值</span>
image<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span>  <span class="token comment"># 将该像素点的红色通道值设置为0</span>

<span class="token comment"># 显示修改后的图像</span>
plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>image<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<h3><a id="33__414"></a>3.3 获取和修改区域像素值</h3> 
<p>除了单个像素点，还可以获取和修改图像的某个区域。可以使用<code>NumPy</code>的切片操作来实现。</p> 
<p><em><strong>示例</strong></em></p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> cv2 <span class="token keyword">as</span> cv
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt

<span class="token comment"># 创建一个空白图像</span>
image <span class="token operator">=</span> np<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">512</span><span class="token punctuation">,</span> <span class="token number">512</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> np<span class="token punctuation">.</span>uint8<span class="token punctuation">)</span>

<span class="token comment"># 获取某个区域的像素值 (从x=100, y=100到x=200, y=200)</span>
region <span class="token operator">=</span> image<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">:</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">:</span><span class="token number">200</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Region shape:"</span><span class="token punctuation">,</span> region<span class="token punctuation">.</span>shape<span class="token punctuation">)</span>

<span class="token comment"># 修改某个区域的像素值 (从x=100, y=100到x=200, y=200)</span>
image<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">:</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">:</span><span class="token number">200</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span>  <span class="token comment"># 将该区域设置为绿色</span>

<span class="token comment"># 显示修改后的图像</span>
plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>image<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/1c/62/ImuofR3K_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="4_440"></a>4.获取图像属性</h2> 
<p>在OpenCV中，可以通过读取图像的属性来获取图像的基本信息，例如图像的尺寸、通道数、数据类型等。这些属性可以帮助你了解图像的基本结构和格式，从而更好地进行图像处理和分析。</p> 
<h3><a id="41__443"></a>4.1 获取图像属性</h3> 
<p>以下是一些常用的图像属性及其获取方法：</p> 
<ol><li><strong>图像的形状（尺寸）</strong>：可以使用NumPy数组的 <code>shape</code> 属性来获取图像的尺寸。</li><li><strong>图像的大小（像素数）</strong>：可以使用NumPy数组的 <code>size</code> 属性来获取图像的总像素数。</li><li><strong>图像的数据类型</strong>：可以使用NumPy数组的 <code>dtype</code> 属性来获取图像的数据类型。</li></ol> 
<p><em><strong>示例</strong></em></p> 
<p>以下是一个示例代码，演示如何获取图像的这些属性：</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> cv2 <span class="token keyword">as</span> cv

<span class="token comment"># 读取图像</span>
image <span class="token operator">=</span> cv<span class="token punctuation">.</span>imread<span class="token punctuation">(</span><span class="token string">'../images/iu.jpg'</span><span class="token punctuation">)</span>

<span class="token comment"># 获取图像的形状（尺寸）</span>
height<span class="token punctuation">,</span> width<span class="token punctuation">,</span> channels <span class="token operator">=</span> image<span class="token punctuation">.</span>shape
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Height:"</span><span class="token punctuation">,</span> height<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Width:"</span><span class="token punctuation">,</span> width<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Channels:"</span><span class="token punctuation">,</span> channels<span class="token punctuation">)</span>

<span class="token comment"># 获取图像的大小（像素数）</span>
size <span class="token operator">=</span> image<span class="token punctuation">.</span>size
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Size (number of pixels):"</span><span class="token punctuation">,</span> size<span class="token punctuation">)</span>

<span class="token comment"># 获取图像的数据类型</span>
dtype <span class="token operator">=</span> image<span class="token punctuation">.</span>dtype
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Data type:"</span><span class="token punctuation">,</span> dtype<span class="token punctuation">)</span>
</code></pre> 
<h4><a id="_476"></a>详细解释</h4> 
<ol><li> <p><strong>图像的形状（尺寸）</strong>：</p> 
  <ul><li><code>image.shape</code> 返回一个包含三个元素的元组，分别表示图像的高度、宽度和通道数。</li><li>对于灰度图像，<code>image.shape</code> 返回的元组只有两个元素，分别表示图像的高度和宽度。</li></ul> </li><li> <p><strong>图像的大小（像素数）</strong>：</p> 
  <ul><li><code>image.size</code> 返回图像的总像素数，即高度、宽度和通道数的乘积。</li></ul> </li><li> <p><strong>图像的数据类型</strong>：</p> 
  <ul><li><code>image.dtype</code> 返回图像的数据类型，通常是 <code>uint8</code>，表示每个像素值是一个8位无符号整数。</li></ul> </li></ol> 
<h3><a id="42__488"></a>4.2 处理灰度图像</h3> 
<p>如果你处理的是灰度图像，获取属性的方式略有不同，因为灰度图像只有两个维度（高度和宽度）。</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> cv2 <span class="token keyword">as</span> cv

<span class="token comment"># 读取灰度图像</span>
gray_image <span class="token operator">=</span> cv<span class="token punctuation">.</span>imread<span class="token punctuation">(</span><span class="token string">'example.jpg'</span><span class="token punctuation">,</span> cv<span class="token punctuation">.</span>IMREAD_GRAYSCALE<span class="token punctuation">)</span>

<span class="token comment"># 获取图像的形状（尺寸）</span>
height<span class="token punctuation">,</span> width <span class="token operator">=</span> gray_image<span class="token punctuation">.</span>shape
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Height:"</span><span class="token punctuation">,</span> height<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Width:"</span><span class="token punctuation">,</span> width<span class="token punctuation">)</span>

<span class="token comment"># 获取图像的大小（像素数）</span>
size <span class="token operator">=</span> gray_image<span class="token punctuation">.</span>size
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Size (number of pixels):"</span><span class="token punctuation">,</span> size<span class="token punctuation">)</span>

<span class="token comment"># 获取图像的数据类型</span>
dtype <span class="token operator">=</span> gray_image<span class="token punctuation">.</span>dtype
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Data type:"</span><span class="token punctuation">,</span> dtype<span class="token punctuation">)</span>
</code></pre> 
<h2><a id="5_512"></a>5.图像通道的拆分与合并</h2> 
<p>在OpenCV中，可以使用 <code>cv2.split</code> 函数将彩色图像的通道拆分为单独的灰度图像，并使用 <code>cv2.merge</code> 函数将多个单通道图像合并为一个多通道图像。这些操作在图像处理和计算机视觉任务中非常常见和有用。</p> 
<h3><a id="51__516"></a>5.1 图像通道的拆分</h3> 
<p><code>cv2.split</code> 函数可以将彩色图像的B、G、R三个通道拆分为三个单独的灰度图像。</p> 
<p><em><strong>示例</strong></em></p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> cv2 <span class="token keyword">as</span> cv
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt

<span class="token comment"># 读取彩色图像</span>
image <span class="token operator">=</span> cv<span class="token punctuation">.</span>imread<span class="token punctuation">(</span><span class="token string">'../images/iu.jpg'</span><span class="token punctuation">)</span>

<span class="token comment"># 拆分图像的B、G、R通道</span>
b_channel<span class="token punctuation">,</span> g_channel<span class="token punctuation">,</span> r_channel <span class="token operator">=</span> cv<span class="token punctuation">.</span>split<span class="token punctuation">(</span>image<span class="token punctuation">)</span>

<span class="token comment"># 将BGR图像转换为RGB图像</span>
image_rgb <span class="token operator">=</span> cv<span class="token punctuation">.</span>cvtColor<span class="token punctuation">(</span>image<span class="token punctuation">,</span> cv<span class="token punctuation">.</span>COLOR_BGR2RGB<span class="token punctuation">)</span>

<span class="token comment"># 显示原始图像和拆分后的通道图像</span>
plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># 显示原始图像</span>
plt<span class="token punctuation">.</span>subplot<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>image_rgb<span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">'Original Image (RGB)'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>axis<span class="token punctuation">(</span><span class="token string">'off'</span><span class="token punctuation">)</span>

<span class="token comment"># 显示蓝色通道</span>
plt<span class="token punctuation">.</span>subplot<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>b_channel<span class="token punctuation">,</span> cmap<span class="token operator">=</span><span class="token string">'gray'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">'Blue Channel'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>axis<span class="token punctuation">(</span><span class="token string">'off'</span><span class="token punctuation">)</span>

<span class="token comment"># 显示绿色通道</span>
plt<span class="token punctuation">.</span>subplot<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>g_channel<span class="token punctuation">,</span> cmap<span class="token operator">=</span><span class="token string">'gray'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">'Green Channel'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>axis<span class="token punctuation">(</span><span class="token string">'off'</span><span class="token punctuation">)</span>

<span class="token comment"># 显示红色通道</span>
plt<span class="token punctuation">.</span>subplot<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>r_channel<span class="token punctuation">,</span> cmap<span class="token operator">=</span><span class="token string">'gray'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">'Red Channel'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>axis<span class="token punctuation">(</span><span class="token string">'off'</span><span class="token punctuation">)</span>

plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/64/5a/UDKFEtk5_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="52__566"></a>5.2 图像通道的合并</h3> 
<p><code>cv2.merge</code> 函数可以将多个单通道图像合并为一个多通道图像。通常用于将拆分后的通道重新合并为一个彩色图像。</p> 
<p><em><strong>示例</strong></em></p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> cv2 <span class="token keyword">as</span> cv
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt

<span class="token comment"># 读取彩色图像</span>
image <span class="token operator">=</span> cv<span class="token punctuation">.</span>imread<span class="token punctuation">(</span><span class="token string">'../images/iu.jpg'</span><span class="token punctuation">)</span>

<span class="token comment"># 拆分图像的B、G、R通道</span>
b_channel<span class="token punctuation">,</span> g_channel<span class="token punctuation">,</span> r_channel <span class="token operator">=</span> cv<span class="token punctuation">.</span>split<span class="token punctuation">(</span>image<span class="token punctuation">)</span>

<span class="token comment"># 将BGR图像转换为RGB图像</span>
image_rgb <span class="token operator">=</span> cv<span class="token punctuation">.</span>cvtColor<span class="token punctuation">(</span>image<span class="token punctuation">,</span> cv<span class="token punctuation">.</span>COLOR_BGR2RGB<span class="token punctuation">)</span>

<span class="token comment"># 合并B、G、R通道</span>
merged_image <span class="token operator">=</span> cv<span class="token punctuation">.</span>merge<span class="token punctuation">(</span><span class="token punctuation">[</span>b_channel<span class="token punctuation">,</span> g_channel<span class="token punctuation">,</span> r_channel<span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment"># 显示合并通道后的图像</span>
plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>merged_image<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/2d/22/EThnHQIJ_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="53__594"></a>5.3 修改单个通道并合并</h3> 
<p>你还可以在拆分通道后对单个通道进行修改，然后再合并回去。例如，将图像的红色通道设置为零。</p> 
<p><em><strong>示例</strong></em></p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> cv2 <span class="token keyword">as</span> cv
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt

<span class="token comment"># 读取彩色图像</span>
image <span class="token operator">=</span> cv<span class="token punctuation">.</span>imread<span class="token punctuation">(</span><span class="token string">'../images/iu.jpg'</span><span class="token punctuation">)</span>

<span class="token comment"># 拆分图像的B、G、R通道</span>
b_channel<span class="token punctuation">,</span> g_channel<span class="token punctuation">,</span> r_channel <span class="token operator">=</span> cv<span class="token punctuation">.</span>split<span class="token punctuation">(</span>image<span class="token punctuation">)</span>

<span class="token comment"># 将BGR图像转换为RGB图像</span>
image_rgb <span class="token operator">=</span> cv<span class="token punctuation">.</span>cvtColor<span class="token punctuation">(</span>image<span class="token punctuation">,</span> cv<span class="token punctuation">.</span>COLOR_BGR2RGB<span class="token punctuation">)</span>

<span class="token comment"># # 将红色通道设置为零</span>
<span class="token comment"># r_channel[:] = 0</span>

<span class="token comment"># 合并B、G、R通道</span>
merged_image <span class="token operator">=</span> cv<span class="token punctuation">.</span>merge<span class="token punctuation">(</span><span class="token punctuation">[</span>b_channel<span class="token punctuation">,</span> g_channel<span class="token punctuation">,</span> r_channel<span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment"># 显示合并通道后的图像</span>
plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>merged_image<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/3e/3a/JeutNcKc_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="6_625"></a>6.色彩空间的改变</h2> 
<p>在图像处理和计算机视觉中，改变色彩空间是一个常见的操作。OpenCV 提供了多种<code>色彩空间转换函数</code>，可以方便地在不同色彩空间之间进行转换。常见的色彩空间包括 <code>BGR</code>、<code>RGB</code>、<code>HSV</code>、<code>Lab</code> 等。</p> 
<p>OpenCV 提供了 <code>cv.cvtColor</code> 函数来进行色彩空间的转换。以下是一些常见的色彩空间转换：</p> 
<ul><li><code>BGR</code> 到 <code>RGB</code>：<code>cv.COLOR_BGR2RGB</code></li><li><code>BGR</code> 到 <code>灰度</code>：<code>cv.COLOR_BGR2GRAY</code></li><li><code>BGR</code> 到 <code>HSV</code>：<code>cv.COLOR_BGR2HSV</code></li><li><code>BGR</code> 到 <code>Lab</code>：<code>cv.COLOR_BGR2Lab</code></li></ul> 
<p><em><strong>示例</strong></em></p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> cv2 <span class="token keyword">as</span> cv
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt

<span class="token comment"># 读取彩色图像</span>
image <span class="token operator">=</span> cv<span class="token punctuation">.</span>imread<span class="token punctuation">(</span><span class="token string">'../images/iu.jpg'</span><span class="token punctuation">)</span>

<span class="token comment"># BGR 转 RGB</span>
image_rgb <span class="token operator">=</span> cv<span class="token punctuation">.</span>cvtColor<span class="token punctuation">(</span>image<span class="token punctuation">,</span> cv<span class="token punctuation">.</span>COLOR_BGR2RGB<span class="token punctuation">)</span>

<span class="token comment"># BGR 转 灰度</span>
image_gray <span class="token operator">=</span> cv<span class="token punctuation">.</span>cvtColor<span class="token punctuation">(</span>image<span class="token punctuation">,</span> cv<span class="token punctuation">.</span>COLOR_BGR2GRAY<span class="token punctuation">)</span>

<span class="token comment"># BGR 转 HSV</span>
image_hsv <span class="token operator">=</span> cv<span class="token punctuation">.</span>cvtColor<span class="token punctuation">(</span>image<span class="token punctuation">,</span> cv<span class="token punctuation">.</span>COLOR_BGR2HSV<span class="token punctuation">)</span>

<span class="token comment"># BGR 转 Lab</span>
image_lab <span class="token operator">=</span> cv<span class="token punctuation">.</span>cvtColor<span class="token punctuation">(</span>image<span class="token punctuation">,</span> cv<span class="token punctuation">.</span>COLOR_BGR2Lab<span class="token punctuation">)</span>

<span class="token comment"># 显示原始图像和转换后的图像</span>
plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># 显示原始图像（BGR 转 RGB）</span>
plt<span class="token punctuation">.</span>subplot<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>image_rgb<span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">'Original Image (RGB)'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>axis<span class="token punctuation">(</span><span class="token string">'off'</span><span class="token punctuation">)</span>

<span class="token comment"># 显示灰度图像</span>
plt<span class="token punctuation">.</span>subplot<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>image_gray<span class="token punctuation">,</span> cmap<span class="token operator">=</span><span class="token string">'gray'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">'Grayscale Image'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>axis<span class="token punctuation">(</span><span class="token string">'off'</span><span class="token punctuation">)</span>

<span class="token comment"># 显示 HSV 图像</span>
plt<span class="token punctuation">.</span>subplot<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>image_hsv<span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">'HSV Image'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>axis<span class="token punctuation">(</span><span class="token string">'off'</span><span class="token punctuation">)</span>

<span class="token comment"># 显示 Lab 图像</span>
plt<span class="token punctuation">.</span>subplot<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>image_lab<span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">'Lab Image'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>axis<span class="token punctuation">(</span><span class="token string">'off'</span><span class="token punctuation">)</span>

plt<span class="token punctuation">.</span>tight_layout<span class="token punctuation">(</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/7c/59/sSlA0h2d_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_687"></a>详细解释</h4> 
<p><em><strong>读取图像</strong></em></p> 
<p>使用 cv.imread 读取图像，默认情况下图像是以 <code>BGR</code> 顺序存储的。<br> 色彩空间转换：</p> 
<ul><li>使用 <code>cv.cvtColor</code> 函数进行色彩空间转换。 
  <ul><li><code>cv.COLOR_BGR2RGB</code>：将 BGR 转换为 RGB。</li><li><code>cv.COLOR_BGR2GRAY</code>：将 BGR 转换为灰度。</li><li><code>cv.COLOR_BGR2HSV</code>：将 BGR 转换为 HSV。</li><li><code>cv.COLOR_BGR2Lab</code>：将 BGR 转换为 Lab。</li></ul> </li></ul> 
<p><em><strong>显示图像</strong></em></p> 
<p>使用 plt.imshow 显示图像。对于彩色图像，确保颜色通道顺序正确<code>（RGB）</code>。</p> 
<ul><li>对于灰度图像，使用 <code>cmap='gray'</code> 参数显示灰度图像。</li><li>对于 <code>HSV</code> 和 <code>Lab</code> 图像，先转换回 <code>RGB</code> 格式再显示。</li></ul> 
<h4><a id="_HSV__Lab__RGB__707"></a>为什么需要将 HSV 和 Lab 图像，先转换回 RGB 格式再显示？</h4> 
<p>在使用 <code>matplotlib</code> 显示图像时，特别是对于 HSV 和 Lab 色彩空间的图像，先转换回 RGB 格式再显示的原因主要有以下几点：</p> 
<h5><a id="1_matplotlib__RGB_710"></a>1. <code>matplotlib</code> 期望的颜色格式是 RGB</h5> 
<p><code>matplotlib</code> 的 <code>plt.imshow</code> 函数默认期望输入的图像是 RGB 格式的。如果直接传入 HSV 或 Lab 格式的图像，颜色会显示不正确，因为 <code>matplotlib</code> 会将这些值误解为 RGB 值。</p> 
<h5><a id="2__714"></a>2. 可视化的直观性</h5> 
<p>HSV 和 Lab 色彩空间的值并不直接对应于人类视觉系统中的颜色感知。例如，HSV 色彩空间中的 H（色调）分量是一个角度值，S（饱和度）和 V（亮度）分量是比例值，而这些值在直接显示时并不能直观地反映出图像的颜色信息。将它们转换回 RGB 格式后，可以更直观地展示图像的颜色信息。</p> 
<h5><a id="3__718"></a>3. 避免误解</h5> 
<p>直接显示 HSV 或 Lab 图像可能会导致误解，因为这些色彩空间的值范围和含义与 RGB 不同。例如，HSV 色彩空间中的 H 分量范围是 [0, 179]（在 OpenCV 中），而 RGB 的每个通道范围是 [0, 255]。直接显示这些图像会导致颜色失真和误解。</p> 
<p><em><strong>示例</strong></em></p> 
<p>以下是一个示例代码，演示如何将 HSV 和 Lab 图像转换回 RGB 格式再使用 <code>matplotlib</code> 显示：</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> cv2 <span class="token keyword">as</span> cv
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt

<span class="token comment"># 读取彩色图像</span>
image <span class="token operator">=</span> cv<span class="token punctuation">.</span>imread<span class="token punctuation">(</span><span class="token string">'example.jpg'</span><span class="token punctuation">)</span>

<span class="token comment"># BGR 转 HSV</span>
image_hsv <span class="token operator">=</span> cv<span class="token punctuation">.</span>cvtColor<span class="token punctuation">(</span>image<span class="token punctuation">,</span> cv<span class="token punctuation">.</span>COLOR_BGR2HSV<span class="token punctuation">)</span>

<span class="token comment"># BGR 转 Lab</span>
image_lab <span class="token operator">=</span> cv<span class="token punctuation">.</span>cvtColor<span class="token punctuation">(</span>image<span class="token punctuation">,</span> cv<span class="token punctuation">.</span>COLOR_BGR2Lab<span class="token punctuation">)</span>

<span class="token comment"># HSV 转 RGB</span>
image_hsv_rgb <span class="token operator">=</span> cv<span class="token punctuation">.</span>cvtColor<span class="token punctuation">(</span>image_hsv<span class="token punctuation">,</span> cv<span class="token punctuation">.</span>COLOR_HSV2RGB<span class="token punctuation">)</span>

<span class="token comment"># Lab 转 RGB</span>
image_lab_rgb <span class="token operator">=</span> cv<span class="token punctuation">.</span>cvtColor<span class="token punctuation">(</span>image_lab<span class="token punctuation">,</span> cv<span class="token punctuation">.</span>COLOR_Lab2RGB<span class="token punctuation">)</span>

<span class="token comment"># 显示原始图像和转换后的图像</span>
plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># 显示原始图像（BGR 转 RGB）</span>
image_rgb <span class="token operator">=</span> cv<span class="token punctuation">.</span>cvtColor<span class="token punctuation">(</span>image<span class="token punctuation">,</span> cv<span class="token punctuation">.</span>COLOR_BGR2RGB<span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>subplot<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>image_rgb<span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">'Original Image (RGB)'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>axis<span class="token punctuation">(</span><span class="token string">'off'</span><span class="token punctuation">)</span>

<span class="token comment"># 显示 HSV 图像（转换回 RGB）</span>
plt<span class="token punctuation">.</span>subplot<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>image_hsv_rgb<span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">'HSV Image (Converted to RGB)'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>axis<span class="token punctuation">(</span><span class="token string">'off'</span><span class="token punctuation">)</span>

<span class="token comment"># 显示 Lab 图像（转换回 RGB）</span>
plt<span class="token punctuation">.</span>subplot<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>image_lab_rgb<span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">'Lab Image (Converted to RGB)'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>axis<span class="token punctuation">(</span><span class="token string">'off'</span><span class="token punctuation">)</span>

plt<span class="token punctuation">.</span>tight_layout<span class="token punctuation">(</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/26/b1/bfhzas9C_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/c133b3fcc0def79e6a5b3105309fe0b1/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">计算机必背单词——数据库</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/288b0eefb96fea194540782c071eabe1/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">AI软件革新文本操作体验：从自动粘贴文本到一键提取保存手机号码</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>