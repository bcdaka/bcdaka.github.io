<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>MacOS重装系统和制作安装U盘 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/f17064240ce565cf8b0bcb82cc8496d6/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="MacOS重装系统和制作安装U盘">
  <meta property="og:description" content="MacBook Pro A1707 系统丢失，重装系统。
第一次尝试：
按照正常步骤，对电脑进行重启，按住组合键“Command&#43;R”，macOS恢复将提供最新安装的macOS的当前版本。系统安装macOS Sierra。
安装至最后出现报错信息“An error occurred while perparing the installation. Try running this application again”准备安装时发生错误。请再次运行此应用程序。
原因大概率是以下几种：时间问题、网络问题、磁盘问题、输入法未切换到中文。
时间问题：可以在安装界面左上角 实用工具 打开终端，查看和修改时间。
打开终端输入date，查看时间；
修改时间可以通过ntp时间同步：ntpdate time.apple.com 或者sntp -sS time.apple.com ;
也可以手动修改时间：date 102605112023.09 意思是10月26号，05:11，2023年，9秒；
磁盘问题：
选择磁盘工具，在磁盘工具界面找到显示所有设备，不同版本的位置会有差异。
从下到上将不需要的磁盘抹掉erase，如果有多余的磁盘可以选择MAC OS Extended(Journaled)格式，安装系统的磁盘选择APFS格式，推荐命名为&#34;Macintosh HD&#34;，系统会自动创建容器和宗卷，宗卷名即为&#34;Macintosh HD&#34;；然后从下到上修复(First Aid)宗卷到最上面的磁盘；
如果遇到无法修复的磁盘，可以跳过。
重置PRAM和NVRAM：
上面存储了各种设置和首选项，重启时按住option&#43;Command&#43;P&#43;R四个键知道看到第二个apple标志或者听到第二个启动声音，即重置完成。
第二次尝试：
对电脑进行重启，按住组合键“option&#43;Command&#43;R”，macOS恢复将提供与Mac兼容的最新版macOS。系统安装macOS Monterey。
安装至最后报错：PK Download Error error 8.
安装时，使用快捷键查看安装日志（也可以从左上角点击查看安装日志），
原因是卷宗不是APFS格式，以及NO IAL update found. 若重做磁盘后仍无法安装，大概率是网络问题，如熄屏。
第三次尝试：
这次直接制作了一个启动U盘，因为一直熄屏，而且找不到设置不熄屏的方法(命令caffeinate -s不能用)，但是这需要另外一台MacOS系统的电脑。
我使用了Mojave 制作启动盘，首先将Mojave镜像文件放到Applications中；然后将U盘接入电脑格式化为MacOS Extended(Journaled)格式，命名为“MyVloume”；然后打开终端执行命令“sudo /Applications/Mojave.app/Contents/Resources/createinstallmedia --volume /Volumes/MyVolume”
sudo /Applications/Mojave.app/Contents/Resources/createinstallmedia --volume /Volumes/MyVolume U盘制作完成后，接入MacBook Pro，重启，按“option”键，选择从启动盘启动；">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2023-10-26T20:42:18+08:00">
    <meta property="article:modified_time" content="2023-10-26T20:42:18+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">MacOS重装系统和制作安装U盘</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>MacBook Pro A1707 系统丢失，重装系统。</p> 
<p></p> 
<p><img alt="" height="860" src="https://images2.imgbox.com/35/5c/eXeNLfLe_o.png" width="938"></p> 
<p>第一次尝试：</p> 
<p>        按照正常步骤，对电脑进行重启，<span style="color:#1a439c;">按住组合键“Command+R”，macOS恢复将提供最新安装的macOS的当前版本</span>。系统安装macOS Sierra。</p> 
<p>        安装至最后出现报错信息“An error occurred while perparing the installation. Try running this application again”准备安装时发生错误。请再次运行此应用程序。</p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/80/0e/W4yS49Ot_o.png" width="1200"></p> 
<p><span style="background-color:#ffd900;">原因大概率是以下几种：时间问题、网络问题、磁盘问题、输入法未切换到中文。</span></p> 
<p>时间问题：可以在安装界面左上角 实用工具 打开终端，查看和修改时间。</p> 
<p>        打开终端输入date，查看时间；</p> 
<p><img alt="" height="220" src="https://images2.imgbox.com/a0/ed/rYjcHxf3_o.png" width="1193"></p> 
<p>        修改时间可以通过ntp时间同步：ntpdate time.apple.com 或者sntp -sS time.apple.com ;</p> 
<p>也可以手动修改时间：date <span style="color:#fe2c24;">1026</span><span style="color:#1c7331;">0511</span><span style="color:#fe2c24;">2023</span><span style="color:#1c7331;">.09</span>   意思是10月26号，05:11，2023年，9秒；</p> 
<p><img alt="" height="170" src="https://images2.imgbox.com/ed/86/4IMoifXg_o.png" width="1200"></p> 
<p><img alt="" height="172" src="https://images2.imgbox.com/b4/f2/qEiTGrEi_o.png" width="1200"></p> 
<p>磁盘问题：</p> 
<p>        选择磁盘工具，在磁盘工具界面找到显示所有设备，不同版本的位置会有差异。</p> 
<p>从下到上将不需要的磁盘抹掉erase，如果有多余的磁盘可以选择MAC OS Extended(Journaled)格式，<span style="color:#fe2c24;">安装系统的磁盘选择APFS格式</span>，推荐命名为"Macintosh HD"，系统会自动创建容器和宗卷，宗卷名即为"Macintosh HD"；然后从下到上修复(First Aid)宗卷到最上面的磁盘；</p> 
<p><img alt="" height="448" src="https://images2.imgbox.com/e3/16/3v8tvtxt_o.png" width="1200">        如果遇到无法修复的磁盘，可以跳过。</p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/35/77/wuGfIcfh_o.png" width="1200"></p> 
<p></p> 
<p style="margin-left:0;">重置PRAM和NVRAM：</p> 
<p style="margin-left:0;">上面存储了各种设置和首选项，重启时按住<span style="color:#fe2c24;">option+Command+P+R</span>四个键知道看到第二个apple标志或者听到第二个启动声音，即重置完成。</p> 
<p style="margin-left:0;"></p> 
<p>第二次尝试：</p> 
<p>        对电脑进行重启，<span style="color:#1a439c;">按住组合键“option+Command+R”，macOS恢复将提供与Mac兼容的最新版macOS</span>。系统安装macOS Monterey。</p> 
<p>        安装至最后报错：PK Download Error error 8.</p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/0c/55/g23DKWGd_o.png" width="1200"></p> 
<p>安装时，使用快捷键查看安装日志（也可以从左上角点击查看安装日志），</p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/0f/ef/nBqAHyZP_o.png" width="1200"></p> 
<p>原因是卷宗不是APFS格式，以及NO IAL update found. 若重做磁盘后仍无法安装，大概率是网络问题，如熄屏。</p> 
<p></p> 
<p>第三次尝试：</p> 
<p>        这次直接制作了一个启动U盘，因为一直熄屏，而且找不到设置不熄屏的方法(命令caffeinate -s不能用)，但是这需要另外一台MacOS系统的电脑。</p> 
<p>我使用了Mojave 制作启动盘，首先将Mojave镜像文件放到Applications中；然后将U盘接入电脑格式化为MacOS Extended(Journaled)格式，命名为“MyVloume”；然后打开终端执行命令“sudo /Applications/Mojave.app/Contents/Resources/createinstallmedia --volume /Volumes/MyVolume”</p> 
<pre><code class="language-cpp">sudo /Applications/Mojave.app/Contents/Resources/createinstallmedia --volume /Volumes/MyVolume</code></pre> 
<p><img alt="" height="458" src="https://images2.imgbox.com/26/a9/BrkITH9F_o.png" width="1200"></p> 
<p><img alt="" height="358" src="https://images2.imgbox.com/13/c6/KxEADUkP_o.png" width="1200"></p> 
<p>U盘制作完成后，接入MacBook Pro，重启，按“option”键，选择从启动盘启动；</p> 
<p>断开网络连接，修改电脑的时间到以前，因为一些旧版本的macOS系统设置了证书过期时间，如10.14，这样做是为了避免出现安装错误，此次我修改到了2016年的时间；</p> 
<p>打开磁盘管理工具，检查磁盘设置是否正确，<span style="color:#fe2c24;">安装系统的卷宗是否为APFS格式；</span></p> 
<p>然后点击第二项 Reinstall macOS重新安装macOS；</p> 
<p>截止到目前是不需要连接网络的，后面会重启几次，以及提示连接网络需要安装一些必要的组件，按照提示进行操作即可。</p> 
<p>制作U盘可以参考：<a href="https://support.apple.com/en-us/HT201372" rel="nofollow" title="Create a bootable installer for macOS - Apple Support">Create a bootable installer for macOS - Apple Support</a></p> 
<p>使用启动盘安装系统可以参考：<a href="https://support.apple.com/en-us/102506" rel="nofollow" title="Use Disk Utility to erase a Mac with Apple silicon - Apple Support">Use Disk Utility to erase a Mac with Apple silicon - Apple Support</a></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/086a926d80fae79518e147bb4dd23500/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Android Studio安装SDK时报错：SDK emulator directory is missing</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6292663c6a0498c545ca9c657a3bdbb9/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">随机生成密码（Python）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>