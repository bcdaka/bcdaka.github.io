<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>YOLOè®­ç»ƒè‡ªå·±çš„æ•°æ®é›† | æ ¼å¼è½¬æ¢ | JSONã€TXTã€XMLæ–‡ä»¶çš„ç›¸äº’è½¬æ¢ - ç¼–ç¨‹å¤§å’–</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/874e92ca7fee287ce4634dd254944a12/">
  <meta property="og:site_name" content="ç¼–ç¨‹å¤§å’–">
  <meta property="og:title" content="YOLOè®­ç»ƒè‡ªå·±çš„æ•°æ®é›† | æ ¼å¼è½¬æ¢ | JSONã€TXTã€XMLæ–‡ä»¶çš„ç›¸äº’è½¬æ¢">
  <meta property="og:description" content="YOLOè®­ç»ƒè‡ªå·±çš„æ•°æ®é›† | æ ¼å¼è½¬æ¢ | æœªå®Œå¾…ç»­... åœºæ™¯1.å°†JSONæ–‡ä»¶è½¬æ¢ä¸ºTXTæ–‡ä»¶,å¹¶æŒ‰ç…§æ¯”ä¾‹åˆ’åˆ†è®­ç»ƒé›†ã€éªŒè¯é›†ã€æµ‹è¯•é›†â˜€éœ€æ±‚åˆ†æğŸŒ™è½¬æ¢æ­¥éª¤ğŸŒ™step 1.å°†JSONæ–‡ä»¶è½¬æ¢ä¸ºXMLæ–‡ä»¶step 2.å°†XMLæ–‡ä»¶è½¬æ¢ä¸ºTXTæ–‡ä»¶ï¼Œå¹¶æŒ‰ç…§æ¯”ä¾‹åˆ’åˆ†è®­ç»ƒé›†ã€æµ‹è¯•é›†ã€éªŒè¯é›† ------------------------------------------------------------------------------------------åœºæ™¯2.å°†JSONæ–‡ä»¶ç›´æ¥è½¬æ¢æˆTXTæ–‡ä»¶â˜€éœ€æ±‚åˆ†æğŸŒ™è½¬æ¢æ­¥éª¤ğŸŒ™ ------------------------------------------------------------------------------------------åœºæ™¯3.å°†TXTæ–‡ä»¶ç›´æ¥è½¬æ¢æˆJSONæ–‡ä»¶â˜€éœ€æ±‚åˆ†æğŸŒ™è½¬æ¢æ­¥éª¤ğŸŒ™ ------------------------------------------------------------------------------------------åœºæ™¯4.å°†TXTæ–‡ä»¶ç›´æ¥è½¬æ¢æˆXMLæ–‡ä»¶â˜€éœ€æ±‚åˆ†æğŸŒ™è½¬æ¢æ­¥éª¤ğŸŒ™ åœºæ™¯1.å°†JSONæ–‡ä»¶è½¬æ¢ä¸ºTXTæ–‡ä»¶,å¹¶æŒ‰ç…§æ¯”ä¾‹åˆ’åˆ†è®­ç»ƒé›†ã€éªŒè¯é›†ã€æµ‹è¯•é›†â˜€ éœ€æ±‚åˆ†æğŸŒ™ å½“æˆ‘ä»¬åœ¨ä½¿ç”¨äº†Labelmeç­‰ä¸€ç³»åˆ—æ•°æ®æ ‡æ³¨è½¯ä»¶åï¼Œä¾¿ä¼šå¾—åˆ°ä¸å›¾ç‰‡å¯¹åº”çš„JSONæ–‡ä»¶ï¼Œä½†æˆ‘ä»¬åœ¨è®­ç»ƒYOLOæ¨¡å‹ä¹‹å‰ï¼Œé€šå¸¸éœ€è¦å°†æ ‡æ³¨æ•°æ®è½¬æ¢ä¸ºYOLOèƒ½è¯†åˆ«çš„æ ¼å¼ï¼Œä¹Ÿå³TXTæ–‡ä»¶æ ¼å¼ã€‚å†ç”¨äºè®­ç»ƒæ¨¡å‹ã€‚è€ŒTXTæ ¼å¼æ˜¯ä¸€ç§ç®€å•æ˜“è¯»çš„æ–‡æœ¬æ ¼å¼ï¼Œå¯ä»¥æ–¹ä¾¿åœ°æ‰‹åŠ¨ä¿®æ”¹æ ‡ç­¾ä¸­çš„ä¿¡æ¯ï¼Œä¾‹å¦‚ç±»åˆ«åç§°ã€è¾¹ç•Œæ¡†åæ ‡ç­‰ã€‚å°†æ ‡ç­¾è½¬æ¢ä¸ºTXTæ ¼å¼æ˜¯ä¸ºäº†æ–¹ä¾¿åç»­çš„YOLOè®­ç»ƒå’Œæµ‹è¯•ï¼Œå¹¶æé«˜å·¥ä½œæ•ˆç‡ã€‚
è½¬æ¢æ­¥éª¤ğŸŒ™ step 1.å°†JSONæ–‡ä»¶è½¬æ¢ä¸ºXMLæ–‡ä»¶ åˆ›å»ºcreate_xml_anno.pyæ–‡ä»¶
from xml.dom.minidom import Document class CreateAnno: def __init__(self, ): self.doc = Document() # åˆ›å»ºDOMæ–‡æ¡£å¯¹è±¡ self.anno = self.doc.createElement(&#39;annotation&#39;) # åˆ›å»ºæ ¹å…ƒç´  self.doc.appendChild(self.anno) self.add_folder() self.add_path() self.add_source() self.add_segmented() # self.add_filename() # self.add_pic_size(width_text_str=str(width), height_text_str=str(height), depth_text_str=str(depth)) def add_folder(self, floder_text_str=&#39;JPEGImages&#39;): floder = self.doc.createElement(&#39;floder&#39;) ##å»ºç«‹è‡ªå·±çš„å¼€å¤´ floder_text = self.doc.createTextNode(floder_text_str) ##å»ºç«‹è‡ªå·±çš„æ–‡æœ¬ä¿¡æ¯ floder.appendChild(floder_text) ##è‡ªå·±çš„å†…å®¹ self.anno.appendChild(floder) def add_filename(self, filename_text_str=&#39;00000.jpg&#39;): filename = self.doc.createElement(&#39;filename&#39;) filename_text = self.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2023-08-16T21:36:03+08:00">
    <meta property="article:modified_time" content="2023-08-16T21:36:03+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ç¼–ç¨‹å¤§å’–" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ç¼–ç¨‹å¤§å’–</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">YOLOè®­ç»ƒè‡ªå·±çš„æ•°æ®é›† | æ ¼å¼è½¬æ¢ | JSONã€TXTã€XMLæ–‡ä»¶çš„ç›¸äº’è½¬æ¢</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><img src="https://images2.imgbox.com/6a/8a/pah4oTsh_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p></p> 
<div class="toc"> 
 <h4>YOLOè®­ç»ƒè‡ªå·±çš„æ•°æ®é›† | æ ¼å¼è½¬æ¢ | æœªå®Œå¾…ç»­...</h4> 
 <ul><li><a href="#1JSONTXT_5" rel="nofollow">åœºæ™¯1.å°†JSONæ–‡ä»¶è½¬æ¢ä¸ºTXTæ–‡ä»¶,å¹¶æŒ‰ç…§æ¯”ä¾‹åˆ’åˆ†è®­ç»ƒé›†ã€éªŒè¯é›†ã€æµ‹è¯•é›†â˜€</a></li><li><ul><li><a href="#_6" rel="nofollow">éœ€æ±‚åˆ†æğŸŒ™</a></li><li><a href="#_8" rel="nofollow">è½¬æ¢æ­¥éª¤ğŸŒ™</a></li><li><ul><li><a href="#step_1JSONXML_9" rel="nofollow">step 1.å°†JSONæ–‡ä»¶è½¬æ¢ä¸ºXMLæ–‡ä»¶</a></li><li><a href="#step_2XMLTXT_231" rel="nofollow">step 2.å°†XMLæ–‡ä»¶è½¬æ¢ä¸ºTXTæ–‡ä»¶ï¼Œå¹¶æŒ‰ç…§æ¯”ä¾‹åˆ’åˆ†è®­ç»ƒé›†ã€æµ‹è¯•é›†ã€éªŒè¯é›†</a></li></ul> 
  </li></ul> 
  </li><li><a href="#_321" rel="nofollow">------------------------------------------------------------------------------------------</a></li><li><a href="#2JSONTXT_322" rel="nofollow">åœºæ™¯2.å°†JSONæ–‡ä»¶ç›´æ¥è½¬æ¢æˆTXTæ–‡ä»¶â˜€</a></li><li><ul><li><a href="#_323" rel="nofollow">éœ€æ±‚åˆ†æğŸŒ™</a></li><li><a href="#_325" rel="nofollow">è½¬æ¢æ­¥éª¤ğŸŒ™</a></li></ul> 
  </li><li><a href="#_372" rel="nofollow">------------------------------------------------------------------------------------------</a></li><li><a href="#3TXTJSON_373" rel="nofollow">åœºæ™¯3.å°†TXTæ–‡ä»¶ç›´æ¥è½¬æ¢æˆJSONæ–‡ä»¶â˜€</a></li><li><ul><li><a href="#_374" rel="nofollow">éœ€æ±‚åˆ†æğŸŒ™</a></li><li><a href="#_376" rel="nofollow">è½¬æ¢æ­¥éª¤ğŸŒ™</a></li></ul> 
  </li><li><a href="#_477" rel="nofollow">------------------------------------------------------------------------------------------</a></li><li><a href="#4TXTXML_478" rel="nofollow">åœºæ™¯4.å°†TXTæ–‡ä»¶ç›´æ¥è½¬æ¢æˆXMLæ–‡ä»¶â˜€</a></li><li><ul><li><a href="#_479" rel="nofollow">éœ€æ±‚åˆ†æğŸŒ™</a></li><li><a href="#_481" rel="nofollow">è½¬æ¢æ­¥éª¤ğŸŒ™</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="1JSONTXT_5"></a>åœºæ™¯1.å°†JSONæ–‡ä»¶è½¬æ¢ä¸ºTXTæ–‡ä»¶,å¹¶æŒ‰ç…§æ¯”ä¾‹åˆ’åˆ†è®­ç»ƒé›†ã€éªŒè¯é›†ã€æµ‹è¯•é›†â˜€</h2> 
<h3><a id="_6"></a>éœ€æ±‚åˆ†æğŸŒ™</h3> 
<p>å½“æˆ‘ä»¬åœ¨ä½¿ç”¨äº†<mark>Labelme</mark>ç­‰ä¸€ç³»åˆ—æ•°æ®æ ‡æ³¨è½¯ä»¶åï¼Œä¾¿ä¼šå¾—åˆ°ä¸å›¾ç‰‡å¯¹åº”çš„JSONæ–‡ä»¶ï¼Œä½†æˆ‘ä»¬åœ¨è®­ç»ƒYOLOæ¨¡å‹ä¹‹å‰ï¼Œé€šå¸¸éœ€è¦å°†æ ‡æ³¨æ•°æ®è½¬æ¢ä¸ºYOLOèƒ½è¯†åˆ«çš„æ ¼å¼ï¼Œä¹Ÿå³TXTæ–‡ä»¶æ ¼å¼ã€‚å†ç”¨äºè®­ç»ƒæ¨¡å‹ã€‚è€ŒTXTæ ¼å¼æ˜¯ä¸€ç§ç®€å•æ˜“è¯»çš„æ–‡æœ¬æ ¼å¼ï¼Œå¯ä»¥æ–¹ä¾¿åœ°æ‰‹åŠ¨ä¿®æ”¹æ ‡ç­¾ä¸­çš„ä¿¡æ¯ï¼Œä¾‹å¦‚ç±»åˆ«åç§°ã€è¾¹ç•Œæ¡†åæ ‡ç­‰ã€‚å°†æ ‡ç­¾è½¬æ¢ä¸ºTXTæ ¼å¼æ˜¯ä¸ºäº†æ–¹ä¾¿åç»­çš„YOLOè®­ç»ƒå’Œæµ‹è¯•ï¼Œå¹¶æé«˜å·¥ä½œæ•ˆç‡ã€‚</p> 
<h3><a id="_8"></a>è½¬æ¢æ­¥éª¤ğŸŒ™</h3> 
<h4><a id="step_1JSONXML_9"></a>step 1.å°†JSONæ–‡ä»¶è½¬æ¢ä¸ºXMLæ–‡ä»¶</h4> 
<p>åˆ›å»º<mark>create_xml_anno.py</mark>æ–‡ä»¶</p> 
<pre><code class="prism language-c">from xml<span class="token punctuation">.</span>dom<span class="token punctuation">.</span>minidom import Document


class CreateAnno<span class="token operator">:</span>
    def <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token punctuation">)</span><span class="token operator">:</span>
        self<span class="token punctuation">.</span>doc <span class="token operator">=</span> <span class="token function">Document</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  # åˆ›å»ºDOMæ–‡æ¡£å¯¹è±¡
        self<span class="token punctuation">.</span>anno <span class="token operator">=</span> self<span class="token punctuation">.</span>doc<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token char">'annotation'</span><span class="token punctuation">)</span>  # åˆ›å»ºæ ¹å…ƒç´ 
        self<span class="token punctuation">.</span>doc<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>anno<span class="token punctuation">)</span>

        self<span class="token punctuation">.</span><span class="token function">add_folder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span><span class="token function">add_path</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span><span class="token function">add_source</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span><span class="token function">add_segmented</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token macro property"><span class="token directive-hash">#</span> <span class="token directive keyword">self</span><span class="token expression"><span class="token punctuation">.</span><span class="token function">add_filename</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span></span>
        <span class="token macro property"><span class="token directive-hash">#</span> <span class="token directive keyword">self</span><span class="token expression"><span class="token punctuation">.</span><span class="token function">add_pic_size</span><span class="token punctuation">(</span>width_text_str<span class="token operator">=</span><span class="token function">str</span><span class="token punctuation">(</span>width<span class="token punctuation">)</span><span class="token punctuation">,</span> height_text_str<span class="token operator">=</span><span class="token function">str</span><span class="token punctuation">(</span>height<span class="token punctuation">)</span><span class="token punctuation">,</span> depth_text_str<span class="token operator">=</span><span class="token function">str</span><span class="token punctuation">(</span>depth<span class="token punctuation">)</span><span class="token punctuation">)</span></span></span>

    def <span class="token function">add_folder</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> floder_text_str<span class="token operator">=</span><span class="token char">'JPEGImages'</span><span class="token punctuation">)</span><span class="token operator">:</span>
        floder <span class="token operator">=</span> self<span class="token punctuation">.</span>doc<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token char">'floder'</span><span class="token punctuation">)</span>  ##å»ºç«‹è‡ªå·±çš„å¼€å¤´
        floder_text <span class="token operator">=</span> self<span class="token punctuation">.</span>doc<span class="token punctuation">.</span><span class="token function">createTextNode</span><span class="token punctuation">(</span>floder_text_str<span class="token punctuation">)</span>  ##å»ºç«‹è‡ªå·±çš„æ–‡æœ¬ä¿¡æ¯
        floder<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>floder_text<span class="token punctuation">)</span>  ##è‡ªå·±çš„å†…å®¹
        self<span class="token punctuation">.</span>anno<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>floder<span class="token punctuation">)</span>

    def <span class="token function">add_filename</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> filename_text_str<span class="token operator">=</span><span class="token char">'00000.jpg'</span><span class="token punctuation">)</span><span class="token operator">:</span>
        filename <span class="token operator">=</span> self<span class="token punctuation">.</span>doc<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token char">'filename'</span><span class="token punctuation">)</span>
        filename_text <span class="token operator">=</span> self<span class="token punctuation">.</span>doc<span class="token punctuation">.</span><span class="token function">createTextNode</span><span class="token punctuation">(</span>filename_text_str<span class="token punctuation">)</span>
        filename<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>filename_text<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>anno<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span>

    def <span class="token function">add_path</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> path_text_str<span class="token operator">=</span><span class="token string">"None"</span><span class="token punctuation">)</span><span class="token operator">:</span>
        path <span class="token operator">=</span> self<span class="token punctuation">.</span>doc<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token char">'path'</span><span class="token punctuation">)</span>
        path_text <span class="token operator">=</span> self<span class="token punctuation">.</span>doc<span class="token punctuation">.</span><span class="token function">createTextNode</span><span class="token punctuation">(</span>path_text_str<span class="token punctuation">)</span>
        path<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>path_text<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>anno<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span>

    def <span class="token function">add_source</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> database_text_str<span class="token operator">=</span><span class="token string">"Unknow"</span><span class="token punctuation">)</span><span class="token operator">:</span>
        source <span class="token operator">=</span> self<span class="token punctuation">.</span>doc<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token char">'source'</span><span class="token punctuation">)</span>
        database <span class="token operator">=</span> self<span class="token punctuation">.</span>doc<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token char">'database'</span><span class="token punctuation">)</span>
        database_text <span class="token operator">=</span> self<span class="token punctuation">.</span>doc<span class="token punctuation">.</span><span class="token function">createTextNode</span><span class="token punctuation">(</span>database_text_str<span class="token punctuation">)</span>  # å…ƒç´ å†…å®¹å†™å…¥
        database<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>database_text<span class="token punctuation">)</span>
        source<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>database<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>anno<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span>

    def <span class="token function">add_pic_size</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> width_text_str<span class="token operator">=</span><span class="token string">"0"</span><span class="token punctuation">,</span> height_text_str<span class="token operator">=</span><span class="token string">"0"</span><span class="token punctuation">,</span> depth_text_str<span class="token operator">=</span><span class="token string">"3"</span><span class="token punctuation">)</span><span class="token operator">:</span>
        size <span class="token operator">=</span> self<span class="token punctuation">.</span>doc<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token char">'size'</span><span class="token punctuation">)</span>
        width <span class="token operator">=</span> self<span class="token punctuation">.</span>doc<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token char">'width'</span><span class="token punctuation">)</span>
        width_text <span class="token operator">=</span> self<span class="token punctuation">.</span>doc<span class="token punctuation">.</span><span class="token function">createTextNode</span><span class="token punctuation">(</span>width_text_str<span class="token punctuation">)</span>  # å…ƒç´ å†…å®¹å†™å…¥
        width<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>width_text<span class="token punctuation">)</span>
        size<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>width<span class="token punctuation">)</span>

        height <span class="token operator">=</span> self<span class="token punctuation">.</span>doc<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token char">'height'</span><span class="token punctuation">)</span>
        height_text <span class="token operator">=</span> self<span class="token punctuation">.</span>doc<span class="token punctuation">.</span><span class="token function">createTextNode</span><span class="token punctuation">(</span>height_text_str<span class="token punctuation">)</span>
        height<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>height_text<span class="token punctuation">)</span>
        size<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>height<span class="token punctuation">)</span>

        depth <span class="token operator">=</span> self<span class="token punctuation">.</span>doc<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token char">'depth'</span><span class="token punctuation">)</span>
        depth_text <span class="token operator">=</span> self<span class="token punctuation">.</span>doc<span class="token punctuation">.</span><span class="token function">createTextNode</span><span class="token punctuation">(</span>depth_text_str<span class="token punctuation">)</span>
        depth<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>depth_text<span class="token punctuation">)</span>
        size<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>depth<span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>anno<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>size<span class="token punctuation">)</span>

    def <span class="token function">add_segmented</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> segmented_text_str<span class="token operator">=</span><span class="token string">"0"</span><span class="token punctuation">)</span><span class="token operator">:</span>
        segmented <span class="token operator">=</span> self<span class="token punctuation">.</span>doc<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token char">'segmented'</span><span class="token punctuation">)</span>
        segmented_text <span class="token operator">=</span> self<span class="token punctuation">.</span>doc<span class="token punctuation">.</span><span class="token function">createTextNode</span><span class="token punctuation">(</span>segmented_text_str<span class="token punctuation">)</span>
        segmented<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>segmented_text<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>anno<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>segmented<span class="token punctuation">)</span>

    def <span class="token function">add_object</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>
                   name_text_str<span class="token operator">=</span><span class="token string">"None"</span><span class="token punctuation">,</span>
                   xmin_text_str<span class="token operator">=</span><span class="token string">"0"</span><span class="token punctuation">,</span>
                   ymin_text_str<span class="token operator">=</span><span class="token string">"0"</span><span class="token punctuation">,</span>
                   xmax_text_str<span class="token operator">=</span><span class="token string">"0"</span><span class="token punctuation">,</span>
                   ymax_text_str<span class="token operator">=</span><span class="token string">"0"</span><span class="token punctuation">,</span>
                   pose_text_str<span class="token operator">=</span><span class="token string">"Unspecified"</span><span class="token punctuation">,</span>
                   truncated_text_str<span class="token operator">=</span><span class="token string">"0"</span><span class="token punctuation">,</span>
                   difficult_text_str<span class="token operator">=</span><span class="token string">"0"</span><span class="token punctuation">)</span><span class="token operator">:</span>
        object <span class="token operator">=</span> self<span class="token punctuation">.</span>doc<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token char">'object'</span><span class="token punctuation">)</span>
        name <span class="token operator">=</span> self<span class="token punctuation">.</span>doc<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token char">'name'</span><span class="token punctuation">)</span>
        name_text <span class="token operator">=</span> self<span class="token punctuation">.</span>doc<span class="token punctuation">.</span><span class="token function">createTextNode</span><span class="token punctuation">(</span>name_text_str<span class="token punctuation">)</span>
        name<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>name_text<span class="token punctuation">)</span>
        object<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>

        pose <span class="token operator">=</span> self<span class="token punctuation">.</span>doc<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token char">'pose'</span><span class="token punctuation">)</span>
        pose_text <span class="token operator">=</span> self<span class="token punctuation">.</span>doc<span class="token punctuation">.</span><span class="token function">createTextNode</span><span class="token punctuation">(</span>pose_text_str<span class="token punctuation">)</span>
        pose<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>pose_text<span class="token punctuation">)</span>
        object<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>pose<span class="token punctuation">)</span>

        truncated <span class="token operator">=</span> self<span class="token punctuation">.</span>doc<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token char">'truncated'</span><span class="token punctuation">)</span>
        truncated_text <span class="token operator">=</span> self<span class="token punctuation">.</span>doc<span class="token punctuation">.</span><span class="token function">createTextNode</span><span class="token punctuation">(</span>truncated_text_str<span class="token punctuation">)</span>
        truncated<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>truncated_text<span class="token punctuation">)</span>
        object<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>truncated<span class="token punctuation">)</span>

        difficult <span class="token operator">=</span> self<span class="token punctuation">.</span>doc<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token char">'difficult'</span><span class="token punctuation">)</span>
        difficult_text <span class="token operator">=</span> self<span class="token punctuation">.</span>doc<span class="token punctuation">.</span><span class="token function">createTextNode</span><span class="token punctuation">(</span>difficult_text_str<span class="token punctuation">)</span>
        difficult<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>difficult_text<span class="token punctuation">)</span>
        object<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>difficult<span class="token punctuation">)</span>

        bndbox <span class="token operator">=</span> self<span class="token punctuation">.</span>doc<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token char">'bndbox'</span><span class="token punctuation">)</span>
        xmin <span class="token operator">=</span> self<span class="token punctuation">.</span>doc<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token char">'xmin'</span><span class="token punctuation">)</span>
        xmin_text <span class="token operator">=</span> self<span class="token punctuation">.</span>doc<span class="token punctuation">.</span><span class="token function">createTextNode</span><span class="token punctuation">(</span>xmin_text_str<span class="token punctuation">)</span>
        xmin<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>xmin_text<span class="token punctuation">)</span>
        bndbox<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>xmin<span class="token punctuation">)</span>

        ymin <span class="token operator">=</span> self<span class="token punctuation">.</span>doc<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token char">'ymin'</span><span class="token punctuation">)</span>
        ymin_text <span class="token operator">=</span> self<span class="token punctuation">.</span>doc<span class="token punctuation">.</span><span class="token function">createTextNode</span><span class="token punctuation">(</span>ymin_text_str<span class="token punctuation">)</span>
        ymin<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>ymin_text<span class="token punctuation">)</span>
        bndbox<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>ymin<span class="token punctuation">)</span>

        xmax <span class="token operator">=</span> self<span class="token punctuation">.</span>doc<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token char">'xmax'</span><span class="token punctuation">)</span>
        xmax_text <span class="token operator">=</span> self<span class="token punctuation">.</span>doc<span class="token punctuation">.</span><span class="token function">createTextNode</span><span class="token punctuation">(</span>xmax_text_str<span class="token punctuation">)</span>
        xmax<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>xmax_text<span class="token punctuation">)</span>
        bndbox<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>xmax<span class="token punctuation">)</span>

        ymax <span class="token operator">=</span> self<span class="token punctuation">.</span>doc<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token char">'ymax'</span><span class="token punctuation">)</span>
        ymax_text <span class="token operator">=</span> self<span class="token punctuation">.</span>doc<span class="token punctuation">.</span><span class="token function">createTextNode</span><span class="token punctuation">(</span>ymax_text_str<span class="token punctuation">)</span>
        ymax<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>ymax_text<span class="token punctuation">)</span>
        bndbox<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>ymax<span class="token punctuation">)</span>
        object<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>bndbox<span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>anno<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span>

    def <span class="token function">get_anno</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token operator">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>anno

    def <span class="token function">get_doc</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token operator">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>doc

    def <span class="token function">save_doc</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> save_path<span class="token punctuation">)</span><span class="token operator">:</span>
        with <span class="token function">open</span><span class="token punctuation">(</span>save_path<span class="token punctuation">,</span> <span class="token string">"w"</span><span class="token punctuation">)</span> as f<span class="token operator">:</span>
            self<span class="token punctuation">.</span>doc<span class="token punctuation">.</span><span class="token function">writexml</span><span class="token punctuation">(</span>f<span class="token punctuation">,</span> indent<span class="token operator">=</span><span class="token char">'\t'</span><span class="token punctuation">,</span> newl<span class="token operator">=</span><span class="token char">'\n'</span><span class="token punctuation">,</span> addindent<span class="token operator">=</span><span class="token char">'\t'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token char">'utf-8'</span><span class="token punctuation">)</span>
</code></pre> 
<p>å†åˆ›å»º<mark>read_json_anno.py</mark>æ–‡ä»¶</p> 
<pre><code class="prism language-c">import numpy as np
import json
class ReadAnno<span class="token operator">:</span>
    def <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> json_path<span class="token punctuation">,</span> process_mode<span class="token operator">=</span><span class="token string">"rectangle"</span><span class="token punctuation">)</span><span class="token operator">:</span>
        self<span class="token punctuation">.</span>json_data <span class="token operator">=</span> json<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token function">open</span><span class="token punctuation">(</span>json_path<span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>filename <span class="token operator">=</span> self<span class="token punctuation">.</span>json_data<span class="token punctuation">[</span><span class="token char">'imagePath'</span><span class="token punctuation">]</span>
        self<span class="token punctuation">.</span>width <span class="token operator">=</span> self<span class="token punctuation">.</span>json_data<span class="token punctuation">[</span><span class="token char">'imageWidth'</span><span class="token punctuation">]</span>
        self<span class="token punctuation">.</span>height <span class="token operator">=</span> self<span class="token punctuation">.</span>json_data<span class="token punctuation">[</span><span class="token char">'imageHeight'</span><span class="token punctuation">]</span>

        self<span class="token punctuation">.</span>coordis <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        assert process_mode in <span class="token punctuation">[</span><span class="token string">"rectangle"</span><span class="token punctuation">,</span> <span class="token string">"polygon"</span><span class="token punctuation">]</span>
        <span class="token keyword">if</span> process_mode <span class="token operator">==</span> <span class="token string">"rectangle"</span><span class="token operator">:</span>
            self<span class="token punctuation">.</span><span class="token function">process_polygon_shapes</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        elif process_mode <span class="token operator">==</span> <span class="token string">"polygon"</span><span class="token operator">:</span>
            self<span class="token punctuation">.</span><span class="token function">process_polygon_shapes</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    def <span class="token function">process_rectangle_shapes</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token operator">:</span>
        <span class="token keyword">for</span> single_shape in self<span class="token punctuation">.</span>json_data<span class="token punctuation">[</span><span class="token char">'shapes'</span><span class="token punctuation">]</span><span class="token operator">:</span>
            bbox_class <span class="token operator">=</span> single_shape<span class="token punctuation">[</span><span class="token char">'label'</span><span class="token punctuation">]</span>
            xmin <span class="token operator">=</span> single_shape<span class="token punctuation">[</span><span class="token char">'points'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
            ymin <span class="token operator">=</span> single_shape<span class="token punctuation">[</span><span class="token char">'points'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
            xmax <span class="token operator">=</span> single_shape<span class="token punctuation">[</span><span class="token char">'points'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
            ymax <span class="token operator">=</span> single_shape<span class="token punctuation">[</span><span class="token char">'points'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
            self<span class="token punctuation">.</span>coordis<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token punctuation">[</span>xmin<span class="token punctuation">,</span> ymin<span class="token punctuation">,</span> xmax<span class="token punctuation">,</span> ymax<span class="token punctuation">,</span> bbox_class<span class="token punctuation">]</span><span class="token punctuation">)</span>

    def <span class="token function">process_polygon_shapes</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token operator">:</span>
        <span class="token keyword">for</span> single_shape in self<span class="token punctuation">.</span>json_data<span class="token punctuation">[</span><span class="token char">'shapes'</span><span class="token punctuation">]</span><span class="token operator">:</span>
            bbox_class <span class="token operator">=</span> single_shape<span class="token punctuation">[</span><span class="token char">'label'</span><span class="token punctuation">]</span>
            temp_points <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
            <span class="token keyword">for</span> couple_point in single_shape<span class="token punctuation">[</span><span class="token char">'points'</span><span class="token punctuation">]</span><span class="token operator">:</span>
                x <span class="token operator">=</span> <span class="token keyword">float</span><span class="token punctuation">(</span>couple_point<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
                y <span class="token operator">=</span> <span class="token keyword">float</span><span class="token punctuation">(</span>couple_point<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
                temp_points<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">]</span><span class="token punctuation">)</span>
            temp_points <span class="token operator">=</span> np<span class="token punctuation">.</span><span class="token function">array</span><span class="token punctuation">(</span>temp_points<span class="token punctuation">)</span>
            xmin<span class="token punctuation">,</span> ymin <span class="token operator">=</span> temp_points<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>
            xmax<span class="token punctuation">,</span> ymax <span class="token operator">=</span> temp_points<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>coordis<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token punctuation">[</span>xmin<span class="token punctuation">,</span> ymin<span class="token punctuation">,</span> xmax<span class="token punctuation">,</span> ymax<span class="token punctuation">,</span> bbox_class<span class="token punctuation">]</span><span class="token punctuation">)</span>

    def <span class="token function">get_width_height</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token operator">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>width<span class="token punctuation">,</span> self<span class="token punctuation">.</span>height

    def <span class="token function">get_filename</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token operator">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>filename

    def <span class="token function">get_coordis</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token operator">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>coordis
</code></pre> 
<p>æœ€ååˆ›å»º<mark>main.py</mark>æ–‡ä»¶ï¼Œéœ€è¦ä¿®æ”¹<mark>root_json_dir</mark>ã€<mark>root_save_xml_dir</mark></p> 
<pre><code class="prism language-c">import os
from tqdm import tqdm

from read_json_anno import ReadAnno
from create_xml_anno import CreateAnno


def <span class="token function">json_transform_xml</span><span class="token punctuation">(</span>json_path<span class="token punctuation">,</span> xml_path<span class="token punctuation">,</span> process_mode<span class="token operator">=</span><span class="token string">"rectangle"</span><span class="token punctuation">)</span><span class="token operator">:</span>
    json_path <span class="token operator">=</span> json_path
    json_anno <span class="token operator">=</span> <span class="token function">ReadAnno</span><span class="token punctuation">(</span>json_path<span class="token punctuation">,</span> process_mode<span class="token operator">=</span>process_mode<span class="token punctuation">)</span>
    width<span class="token punctuation">,</span> height <span class="token operator">=</span> json_anno<span class="token punctuation">.</span><span class="token function">get_width_height</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    filename <span class="token operator">=</span> json_anno<span class="token punctuation">.</span><span class="token function">get_filename</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    coordis <span class="token operator">=</span> json_anno<span class="token punctuation">.</span><span class="token function">get_coordis</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    xml_anno <span class="token operator">=</span> <span class="token function">CreateAnno</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    xml_anno<span class="token punctuation">.</span><span class="token function">add_filename</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span>
    xml_anno<span class="token punctuation">.</span><span class="token function">add_pic_size</span><span class="token punctuation">(</span>width_text_str<span class="token operator">=</span><span class="token function">str</span><span class="token punctuation">(</span>width<span class="token punctuation">)</span><span class="token punctuation">,</span> height_text_str<span class="token operator">=</span><span class="token function">str</span><span class="token punctuation">(</span>height<span class="token punctuation">)</span><span class="token punctuation">,</span> depth_text_str<span class="token operator">=</span><span class="token function">str</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> xmin<span class="token punctuation">,</span> ymin<span class="token punctuation">,</span> xmax<span class="token punctuation">,</span> ymax<span class="token punctuation">,</span> label in coordis<span class="token operator">:</span>
        xml_anno<span class="token punctuation">.</span><span class="token function">add_object</span><span class="token punctuation">(</span>name_text_str<span class="token operator">=</span><span class="token function">str</span><span class="token punctuation">(</span>label<span class="token punctuation">)</span><span class="token punctuation">,</span>
                            xmin_text_str<span class="token operator">=</span><span class="token function">str</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">(</span>xmin<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                            ymin_text_str<span class="token operator">=</span><span class="token function">str</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">(</span>ymin<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                            xmax_text_str<span class="token operator">=</span><span class="token function">str</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">(</span>xmax<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                            ymax_text_str<span class="token operator">=</span><span class="token function">str</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">(</span>ymax<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    xml_anno<span class="token punctuation">.</span><span class="token function">save_doc</span><span class="token punctuation">(</span>xml_path<span class="token punctuation">)</span>
<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token operator">:</span>
    root_json_dir <span class="token operator">=</span> r<span class="token string">"æ”¾å­˜æ”¾JSONæ–‡ä»¶çš„è·¯å¾„"</span>  
    root_save_xml_dir <span class="token operator">=</span> r<span class="token string">"æ”¾å³å°†ç”Ÿæˆçš„XMLæ–‡ä»¶çš„ä¿å­˜è·¯å¾„"</span> 
    <span class="token keyword">for</span> json_filename in <span class="token function">tqdm</span><span class="token punctuation">(</span>os<span class="token punctuation">.</span><span class="token function">listdir</span><span class="token punctuation">(</span>root_json_dir<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">:</span>
        <span class="token keyword">if</span> json_filename<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token char">'.'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">==</span><span class="token char">'json'</span><span class="token operator">:</span>
            json_path <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>root_json_dir<span class="token punctuation">,</span> json_filename<span class="token punctuation">)</span>
            save_xml_path <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>root_save_xml_dir<span class="token punctuation">,</span> json_filename<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">".json"</span><span class="token punctuation">,</span> <span class="token string">".xml"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token function">json_transform_xml</span><span class="token punctuation">(</span>json_path<span class="token punctuation">,</span> save_xml_path<span class="token punctuation">,</span> process_mode<span class="token operator">=</span><span class="token string">"polygon"</span><span class="token punctuation">)</span> # labelmeåŸæ•°æ®çš„æ ‡æ³¨æ–¹å¼<span class="token punctuation">(</span>çŸ©å½¢rectangleå’Œå¤šè¾¹å½¢polygon<span class="token punctuation">)</span>
</code></pre> 
<h4><a id="step_2XMLTXT_231"></a>step 2.å°†XMLæ–‡ä»¶è½¬æ¢ä¸ºTXTæ–‡ä»¶ï¼Œå¹¶æŒ‰ç…§æ¯”ä¾‹åˆ’åˆ†è®­ç»ƒé›†ã€æµ‹è¯•é›†ã€éªŒè¯é›†</h4> 
<p>åˆ›å»º<mark>xml_to_txt.py</mark>æ–‡ä»¶</p> 
<pre><code class="prism language-c">import os
import shutil
import random
# ä¿è¯éšæœºå¯å¤ç°
random<span class="token punctuation">.</span><span class="token function">seed</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
def <span class="token function">split_data</span><span class="token punctuation">(</span>file_path<span class="token punctuation">,</span> new_file_path<span class="token punctuation">,</span> train_rate<span class="token punctuation">,</span> val_rate<span class="token punctuation">,</span> test_rate<span class="token punctuation">)</span><span class="token operator">:</span>
        eachclass_image <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token keyword">for</span> image in os<span class="token punctuation">.</span><span class="token function">listdir</span><span class="token punctuation">(</span>file_path<span class="token punctuation">)</span><span class="token operator">:</span>
            eachclass_image<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>image<span class="token punctuation">)</span>
        total <span class="token operator">=</span> <span class="token function">len</span><span class="token punctuation">(</span>eachclass_image<span class="token punctuation">)</span>
        random<span class="token punctuation">.</span><span class="token function">shuffle</span><span class="token punctuation">(</span>eachclass_image<span class="token punctuation">)</span>
        train_images <span class="token operator">=</span> eachclass_image<span class="token punctuation">[</span><span class="token number">0</span><span class="token operator">:</span><span class="token keyword">int</span><span class="token punctuation">(</span>train_rate <span class="token operator">*</span> total<span class="token punctuation">)</span><span class="token punctuation">]</span> # æ³¨æ„å·¦é—­å³å¼€
        val_images <span class="token operator">=</span> eachclass_image<span class="token punctuation">[</span><span class="token keyword">int</span><span class="token punctuation">(</span>train_rate <span class="token operator">*</span> total<span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">int</span><span class="token punctuation">(</span><span class="token punctuation">(</span>train_rate <span class="token operator">+</span> val_rate<span class="token punctuation">)</span> <span class="token operator">*</span> total<span class="token punctuation">)</span><span class="token punctuation">]</span>  # æ³¨æ„å·¦é—­å³å¼€
        test_images <span class="token operator">=</span> eachclass_image<span class="token punctuation">[</span><span class="token keyword">int</span><span class="token punctuation">(</span><span class="token punctuation">(</span>train_rate <span class="token operator">+</span> val_rate<span class="token punctuation">)</span> <span class="token operator">*</span> total<span class="token punctuation">)</span><span class="token operator">:</span><span class="token punctuation">]</span>

        # è®­ç»ƒé›†
        <span class="token keyword">for</span> image in train_images<span class="token operator">:</span>
            <span class="token function">print</span><span class="token punctuation">(</span>image<span class="token punctuation">)</span>
            old_path <span class="token operator">=</span> file_path <span class="token operator">+</span> <span class="token char">'/'</span> <span class="token operator">+</span> image
            new_path1 <span class="token operator">=</span> new_file_path <span class="token operator">+</span> <span class="token char">'/'</span> <span class="token operator">+</span> <span class="token char">'train'</span> <span class="token operator">+</span> <span class="token char">'/'</span> <span class="token operator">+</span> <span class="token char">'images'</span>
            <span class="token keyword">if</span> not os<span class="token punctuation">.</span>path<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span>new_path1<span class="token punctuation">)</span><span class="token operator">:</span>
                os<span class="token punctuation">.</span><span class="token function">makedirs</span><span class="token punctuation">(</span>new_path1<span class="token punctuation">)</span>
            new_path <span class="token operator">=</span> new_path1 <span class="token operator">+</span> <span class="token char">'/'</span> <span class="token operator">+</span> image
            <span class="token macro property"><span class="token directive-hash">#</span> <span class="token directive keyword">print</span><span class="token expression"><span class="token punctuation">(</span>new_path<span class="token punctuation">)</span></span></span>
            shutil<span class="token punctuation">.</span><span class="token function">copy</span><span class="token punctuation">(</span>old_path<span class="token punctuation">,</span> new_path<span class="token punctuation">)</span>
        new_name <span class="token operator">=</span> os<span class="token punctuation">.</span><span class="token function">listdir</span><span class="token punctuation">(</span>new_file_path <span class="token operator">+</span> <span class="token char">'/'</span> <span class="token operator">+</span> <span class="token char">'train'</span> <span class="token operator">+</span> <span class="token char">'/'</span> <span class="token operator">+</span> <span class="token char">'images'</span><span class="token punctuation">)</span>
        <span class="token macro property"><span class="token directive-hash">#</span> <span class="token directive keyword">print</span><span class="token expression"><span class="token punctuation">(</span>new_name<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token operator">:</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span></span></span>
        <span class="token keyword">for</span> im in new_name<span class="token operator">:</span>
            old_xmlpath <span class="token operator">=</span> xmlpath <span class="token operator">+</span> <span class="token char">'/'</span> <span class="token operator">+</span> im<span class="token punctuation">[</span><span class="token operator">:</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token char">'txt'</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token char">'old'</span><span class="token punctuation">,</span>old_xmlpath<span class="token punctuation">)</span>
            new_xmlpath1 <span class="token operator">=</span> new_file_path <span class="token operator">+</span> <span class="token char">'/'</span> <span class="token operator">+</span> <span class="token char">'train'</span> <span class="token operator">+</span> <span class="token char">'/'</span> <span class="token operator">+</span> <span class="token char">'labels'</span>
            <span class="token keyword">if</span> not os<span class="token punctuation">.</span>path<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span>new_xmlpath1<span class="token punctuation">)</span><span class="token operator">:</span>
                os<span class="token punctuation">.</span><span class="token function">makedirs</span><span class="token punctuation">(</span>new_xmlpath1<span class="token punctuation">)</span>
            new_xmlpath <span class="token operator">=</span> new_xmlpath1 <span class="token operator">+</span> <span class="token char">'/'</span> <span class="token operator">+</span> im<span class="token punctuation">[</span><span class="token operator">:</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token char">'txt'</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token char">'xml name'</span><span class="token punctuation">,</span>new_xmlpath<span class="token punctuation">)</span>
            <span class="token keyword">if</span> not os<span class="token punctuation">.</span>path<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span>f<span class="token char">'{old_xmlpath}'</span><span class="token punctuation">)</span><span class="token operator">:</span>
                <span class="token function">open</span><span class="token punctuation">(</span>f<span class="token char">'{old_xmlpath}'</span><span class="token punctuation">,</span> <span class="token char">'w'</span><span class="token punctuation">)</span>
            shutil<span class="token punctuation">.</span><span class="token function">copy</span><span class="token punctuation">(</span>old_xmlpath<span class="token punctuation">,</span> new_xmlpath<span class="token punctuation">)</span>

        # éªŒè¯é›†
        <span class="token keyword">for</span> image in val_images<span class="token operator">:</span>
            old_path <span class="token operator">=</span> file_path <span class="token operator">+</span> <span class="token char">'/'</span> <span class="token operator">+</span> image
            new_path1 <span class="token operator">=</span> new_file_path <span class="token operator">+</span> <span class="token char">'/'</span> <span class="token operator">+</span> <span class="token char">'val'</span> <span class="token operator">+</span> <span class="token char">'/'</span> <span class="token operator">+</span> <span class="token char">'images'</span>
            <span class="token keyword">if</span> not os<span class="token punctuation">.</span>path<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span>new_path1<span class="token punctuation">)</span><span class="token operator">:</span>
                os<span class="token punctuation">.</span><span class="token function">makedirs</span><span class="token punctuation">(</span>new_path1<span class="token punctuation">)</span>
            new_path <span class="token operator">=</span> new_path1 <span class="token operator">+</span> <span class="token char">'/'</span> <span class="token operator">+</span> image
            shutil<span class="token punctuation">.</span><span class="token function">copy</span><span class="token punctuation">(</span>old_path<span class="token punctuation">,</span> new_path<span class="token punctuation">)</span>
        new_name <span class="token operator">=</span> os<span class="token punctuation">.</span><span class="token function">listdir</span><span class="token punctuation">(</span>new_file_path <span class="token operator">+</span> <span class="token char">'/'</span> <span class="token operator">+</span> <span class="token char">'val'</span> <span class="token operator">+</span> <span class="token char">'/'</span> <span class="token operator">+</span> <span class="token char">'images'</span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> im in new_name<span class="token operator">:</span>
            old_xmlpath <span class="token operator">=</span> xmlpath <span class="token operator">+</span> <span class="token char">'/'</span> <span class="token operator">+</span> im<span class="token punctuation">[</span><span class="token operator">:</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token char">'txt'</span>
            new_xmlpath1 <span class="token operator">=</span> new_file_path <span class="token operator">+</span> <span class="token char">'/'</span> <span class="token operator">+</span> <span class="token char">'val'</span> <span class="token operator">+</span> <span class="token char">'/'</span> <span class="token operator">+</span> <span class="token char">'labels'</span>
            <span class="token keyword">if</span> not os<span class="token punctuation">.</span>path<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span>new_xmlpath1<span class="token punctuation">)</span><span class="token operator">:</span>
                os<span class="token punctuation">.</span><span class="token function">makedirs</span><span class="token punctuation">(</span>new_xmlpath1<span class="token punctuation">)</span>
            new_xmlpath <span class="token operator">=</span> new_xmlpath1 <span class="token operator">+</span> <span class="token char">'/'</span> <span class="token operator">+</span> im<span class="token punctuation">[</span><span class="token operator">:</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token char">'txt'</span>
            <span class="token keyword">if</span> not os<span class="token punctuation">.</span>path<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span>f<span class="token char">'{old_xmlpath}'</span><span class="token punctuation">)</span><span class="token operator">:</span>
                <span class="token function">open</span><span class="token punctuation">(</span>f<span class="token char">'{old_xmlpath}'</span><span class="token punctuation">,</span> <span class="token char">'w'</span><span class="token punctuation">)</span>
            shutil<span class="token punctuation">.</span><span class="token function">copy</span><span class="token punctuation">(</span>old_xmlpath<span class="token punctuation">,</span> new_xmlpath<span class="token punctuation">)</span>

        #æµ‹è¯•é›†
        <span class="token keyword">for</span> image in test_images<span class="token operator">:</span>
            old_path <span class="token operator">=</span> file_path <span class="token operator">+</span> <span class="token char">'/'</span> <span class="token operator">+</span> image
            new_path1 <span class="token operator">=</span> new_file_path <span class="token operator">+</span> <span class="token char">'/'</span> <span class="token operator">+</span> <span class="token char">'test'</span> <span class="token operator">+</span> <span class="token char">'/'</span> <span class="token operator">+</span> <span class="token char">'images'</span>
            <span class="token keyword">if</span> not os<span class="token punctuation">.</span>path<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span>new_path1<span class="token punctuation">)</span><span class="token operator">:</span>
                os<span class="token punctuation">.</span><span class="token function">makedirs</span><span class="token punctuation">(</span>new_path1<span class="token punctuation">)</span>
            new_path <span class="token operator">=</span> new_path1 <span class="token operator">+</span> <span class="token char">'/'</span> <span class="token operator">+</span> image
            shutil<span class="token punctuation">.</span><span class="token function">copy</span><span class="token punctuation">(</span>old_path<span class="token punctuation">,</span> new_path<span class="token punctuation">)</span>
        new_name <span class="token operator">=</span> os<span class="token punctuation">.</span><span class="token function">listdir</span><span class="token punctuation">(</span>new_file_path <span class="token operator">+</span> <span class="token char">'/'</span> <span class="token operator">+</span> <span class="token char">'test'</span> <span class="token operator">+</span> <span class="token char">'/'</span> <span class="token operator">+</span> <span class="token char">'images'</span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> im in new_name<span class="token operator">:</span>
            old_xmlpath <span class="token operator">=</span> xmlpath <span class="token operator">+</span> <span class="token char">'/'</span> <span class="token operator">+</span> im<span class="token punctuation">[</span><span class="token operator">:</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token char">'txt'</span>
            new_xmlpath1 <span class="token operator">=</span> new_file_path <span class="token operator">+</span> <span class="token char">'/'</span> <span class="token operator">+</span> <span class="token char">'test'</span> <span class="token operator">+</span> <span class="token char">'/'</span> <span class="token operator">+</span> <span class="token char">'labels'</span>
            <span class="token keyword">if</span> not os<span class="token punctuation">.</span>path<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span>new_xmlpath1<span class="token punctuation">)</span><span class="token operator">:</span>
                os<span class="token punctuation">.</span><span class="token function">makedirs</span><span class="token punctuation">(</span>new_xmlpath1<span class="token punctuation">)</span>
            new_xmlpath <span class="token operator">=</span> new_xmlpath1 <span class="token operator">+</span> <span class="token char">'/'</span> <span class="token operator">+</span> im<span class="token punctuation">[</span><span class="token operator">:</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token char">'txt'</span>
            <span class="token keyword">if</span> not os<span class="token punctuation">.</span>path<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span>f<span class="token char">'{old_xmlpath}'</span><span class="token punctuation">)</span><span class="token operator">:</span>
                <span class="token function">open</span><span class="token punctuation">(</span>f<span class="token char">'{old_xmlpath}'</span><span class="token punctuation">,</span> <span class="token char">'w'</span><span class="token punctuation">)</span>
            shutil<span class="token punctuation">.</span><span class="token function">copy</span><span class="token punctuation">(</span>old_xmlpath<span class="token punctuation">,</span> new_xmlpath<span class="token punctuation">)</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token char">'ok'</span><span class="token punctuation">)</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token char">'__main__'</span><span class="token operator">:</span>
    file_path <span class="token operator">=</span> <span class="token string">"å­˜æ”¾å›¾ç‰‡çš„æ–‡ä»¶å¤¹è·¯å¾„//"</span>
    xmlpath <span class="token operator">=</span> <span class="token char">'å­˜æ”¾xmlæ–‡ä»¶çš„è·¯å¾„//'</span>
    new_file_path <span class="token operator">=</span> <span class="token string">"å­˜æ”¾ç”Ÿæˆæ•°æ®é›†çš„è·¯å¾„//"</span>
    <span class="token function">split_data</span><span class="token punctuation">(</span>file_path<span class="token punctuation">,</span> new_file_path<span class="token punctuation">,</span> train_rate<span class="token operator">=</span><span class="token number">0.8</span><span class="token punctuation">,</span> val_rate<span class="token operator">=</span><span class="token number">0.1</span><span class="token punctuation">,</span> test_rate<span class="token operator">=</span><span class="token number">0.1</span><span class="token punctuation">)</span>#è¿™é‡Œæ˜¯åˆ’åˆ†æ¯”ä¾‹ï¼Œå¯è‡ªå·±è°ƒèŠ‚ï¼Œä¸€èˆ¬æ˜¯<span class="token number">8</span>ï¼š<span class="token number">1</span>ï¼š<span class="token number">1</span>ï¼Œä¹Ÿæœ‰<span class="token number">7</span>ï¼š<span class="token number">2</span>ï¼š<span class="token number">1</span>çš„åˆ’åˆ†æ¯”ä¾‹æƒ…å†µæ²¡å…·ä½“åˆ’åˆ†æƒ…å†µçœ‹æ•°æ®é›†çš„å¤§å°
</code></pre> 
<p>è¿è¡Œ<mark>xml_to_txt.py</mark>æ–‡ä»¶åçœ‹åˆ°è¿™æ ·çš„æ ¼å¼ï¼Œä¹Ÿå°±ä»£è¡¨æˆåŠŸå•¦<br> <img src="https://images2.imgbox.com/c7/fc/JseJ1mKh_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h2><a id="_321"></a>------------------------------------------------------------------------------------------</h2> 
<h2><a id="2JSONTXT_322"></a>åœºæ™¯2.å°†JSONæ–‡ä»¶ç›´æ¥è½¬æ¢æˆTXTæ–‡ä»¶â˜€</h2> 
<h3><a id="_323"></a>éœ€æ±‚åˆ†æğŸŒ™</h3> 
<p>æœ‰çš„å°ä¼™ä¼´å†ä½¿ç”¨äº†<mark>Labelme</mark>è¿™ç§æ ‡æ³¨è½¯ä»¶ä¹‹åï¼Œæƒ³ç›´æ¥æŠŠJSONæ–‡ä»¶è½¬æ¢ä¸ºTXTæ–‡ä»¶ï¼Œå½“ç„¶è¿™ä¹Ÿæ˜¯å¯ä»¥çš„ï¼ŒåºŸè¯ä¸å¤šè¯´ï¼Œç›´æ¥ä¸Šä»£ç </p> 
<h3><a id="_325"></a>è½¬æ¢æ­¥éª¤ğŸŒ™</h3> 
<p>åˆ›å»º<mark>json_to_txt.py</mark>æ–‡ä»¶ï¼Œéœ€è¦ä¿®æ”¹<mark>txt_name</mark>ã€<mark>json_floder_path</mark></p> 
<pre><code class="prism language-c">import json
import os
import pandas as pd
def <span class="token function">convert</span><span class="token punctuation">(</span>img_size<span class="token punctuation">,</span> box<span class="token punctuation">)</span><span class="token operator">:</span>
    x1 <span class="token operator">=</span> box<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
    y1 <span class="token operator">=</span> box<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
    x2 <span class="token operator">=</span> box<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>
    y2 <span class="token operator">=</span> box<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>x1<span class="token punctuation">,</span> y1<span class="token punctuation">,</span> x2<span class="token punctuation">,</span> y2<span class="token punctuation">)</span>
def <span class="token function">decode_json</span><span class="token punctuation">(</span>json_floder_path<span class="token punctuation">,</span> json_name<span class="token punctuation">,</span>label<span class="token punctuation">)</span><span class="token operator">:</span>
    txt_name <span class="token operator">=</span> r<span class="token char">'è¿™é‡Œå­˜æ”¾å³å°†ç”Ÿæˆtxtæ–‡ä»¶çš„è·¯å¾„/'</span> <span class="token operator">+</span> json_name<span class="token punctuation">[</span><span class="token number">0</span><span class="token operator">:</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token char">'.txt'</span>  
    txt_file <span class="token operator">=</span> <span class="token function">open</span><span class="token punctuation">(</span>txt_name<span class="token punctuation">,</span> <span class="token char">'w'</span><span class="token punctuation">)</span>
    json_path <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>json_floder_path<span class="token punctuation">,</span> json_name<span class="token punctuation">)</span>
    data <span class="token operator">=</span> json<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token function">open</span><span class="token punctuation">(</span>json_path<span class="token punctuation">,</span> <span class="token char">'r'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    img_w <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token char">'imageWidth'</span><span class="token punctuation">]</span>
    img_h <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token char">'imageHeight'</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span> i in data<span class="token punctuation">[</span><span class="token char">'shapes'</span><span class="token punctuation">]</span><span class="token operator">:</span>
        <span class="token keyword">if</span> i<span class="token punctuation">[</span><span class="token char">'shape_type'</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token char">'rectangle'</span><span class="token operator">:</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>label<span class="token punctuation">[</span><span class="token char">'label'</span><span class="token punctuation">]</span> <span class="token operator">!=</span> i<span class="token punctuation">[</span><span class="token char">'label'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>
                new_label<span class="token operator">=</span>pd<span class="token punctuation">.</span><span class="token function">DataFrame</span><span class="token punctuation">(</span>columns<span class="token operator">=</span><span class="token punctuation">[</span><span class="token char">'label'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> data<span class="token operator">=</span><span class="token punctuation">[</span>i<span class="token punctuation">[</span><span class="token char">'label'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
                label<span class="token operator">=</span>label<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>new_label<span class="token punctuation">,</span>ignore_index<span class="token operator">=</span>True<span class="token punctuation">)</span>
            try<span class="token operator">:</span>
                x1 <span class="token operator">=</span> <span class="token keyword">float</span><span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token punctuation">[</span><span class="token char">'points'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">/</span> img_w
                y1 <span class="token operator">=</span> <span class="token keyword">float</span><span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token punctuation">[</span><span class="token char">'points'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">/</span> img_h
                x2 <span class="token operator">=</span> <span class="token keyword">float</span><span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token punctuation">[</span><span class="token char">'points'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">/</span> img_w
                y2 <span class="token operator">=</span> <span class="token keyword">float</span><span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token punctuation">[</span><span class="token char">'points'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">/</span> img_h
                n <span class="token operator">=</span> label<span class="token punctuation">[</span>label<span class="token punctuation">[</span><span class="token char">'label'</span><span class="token punctuation">]</span><span class="token operator">==</span>i<span class="token punctuation">[</span><span class="token char">'label'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">.</span>index<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
                bb <span class="token operator">=</span> <span class="token punctuation">(</span>x1<span class="token punctuation">,</span> y1<span class="token punctuation">,</span> x2<span class="token punctuation">,</span> y2<span class="token punctuation">)</span>
                bbox <span class="token operator">=</span> <span class="token function">convert</span><span class="token punctuation">(</span><span class="token punctuation">(</span>img_w<span class="token punctuation">,</span> img_h<span class="token punctuation">)</span><span class="token punctuation">,</span> bb<span class="token punctuation">)</span>
                txt_file<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token function">str</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">" "</span> <span class="token operator">+</span> <span class="token string">" "</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token function">str</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token keyword">for</span> a in bbox<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token char">'\n'</span><span class="token punctuation">)</span>
            except IndexError<span class="token operator">:</span>
                <span class="token function">print</span><span class="token punctuation">(</span>json_name<span class="token punctuation">[</span><span class="token number">0</span><span class="token operator">:</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token char">'çš„'</span><span class="token operator">+</span>i<span class="token punctuation">[</span><span class="token char">'label'</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token string">"æ ‡ç­¾åæ ‡ç¼ºå¤±"</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> label
<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token operator">:</span>
    json_floder_path <span class="token operator">=</span> r<span class="token char">'è¿™é‡Œå­˜æ”¾ä½ å­˜jsonæ–‡ä»¶çš„è·¯å¾„/'</span> 
    json_names <span class="token operator">=</span> os<span class="token punctuation">.</span><span class="token function">listdir</span><span class="token punctuation">(</span>json_floder_path<span class="token punctuation">)</span>
    label<span class="token operator">=</span> pd<span class="token punctuation">.</span><span class="token function">DataFrame</span><span class="token punctuation">(</span>columns <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token char">'label'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> json_name in json_names<span class="token operator">:</span>
        <span class="token keyword">if</span> json_name<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">4</span><span class="token operator">:</span><span class="token punctuation">]</span><span class="token operator">==</span><span class="token char">'json'</span><span class="token operator">:</span>
            <span class="token function">print</span><span class="token punctuation">(</span>json_name<span class="token punctuation">)</span>
            label<span class="token operator">=</span><span class="token function">decode_json</span><span class="token punctuation">(</span>json_floder_path<span class="token punctuation">,</span> json_name<span class="token punctuation">,</span>label<span class="token punctuation">)</span>

    label<span class="token punctuation">.</span><span class="token function">to_csv</span><span class="token punctuation">(</span><span class="token char">'label.txt'</span><span class="token punctuation">,</span> sep<span class="token operator">=</span><span class="token char">'\t'</span><span class="token punctuation">,</span> index<span class="token operator">=</span>True<span class="token punctuation">)</span> 
</code></pre> 
<h2><a id="_372"></a>------------------------------------------------------------------------------------------</h2> 
<h2><a id="3TXTJSON_373"></a>åœºæ™¯3.å°†TXTæ–‡ä»¶ç›´æ¥è½¬æ¢æˆJSONæ–‡ä»¶â˜€</h2> 
<h3><a id="_374"></a>éœ€æ±‚åˆ†æğŸŒ™</h3> 
<p>æœ‰çš„å°ä¼™ä¼´åœ¨å°†JSONæ–‡ä»¶è½¬æ¢ä¸ºTXTæ–‡ä»¶åï¼Œå°±æŠŠJSONæ–‡ä»¶ç»™åˆ é™¤äº†ï¼Œä½†æ˜¯åç»­æƒ³è¦å¯¹å›¾åƒè¿›è¡Œå†æ¬¡æ ‡æ³¨çš„æ—¶å€™ï¼Œæ— æ³•æ‰¾åˆ°åŸå§‹çš„JSONæ•°æ®ï¼Œäº§ç”Ÿäº†æƒ³è¦é‡æ–°æ ‡æ³¨çš„å±é™©æƒ³æ³•ï¼Œä»¥ä¸‹ä»£ç å¯å®ç°å¯¹TXTæ–‡ä»¶ç›´æ¥è½¬æ¢ä¸ºJSONæ–‡ä»¶çš„éœ€æ±‚ï¼ŒåºŸè¯ä¸å¤šè¯´ï¼Œç›´æ¥ä¸Šä»£ç </p> 
<h3><a id="_376"></a>è½¬æ¢æ­¥éª¤ğŸŒ™</h3> 
<p>åˆ›å»º<mark>txt_to_json.py</mark>æ–‡ä»¶,è¿™é‡Œå‡è®¾éœ€è¦æ•°æ®é›†æœ‰ä¸¤ç±»ï¼Œåˆ†åˆ«ä¸º<mark>dog</mark>å’Œ<mark>cat</mark>,å¦‚æœä½ çš„æ ‡ç­¾åæ˜¯åˆ«çš„ï¼Œé‚£ä¹ˆå°±éœ€è¦ä¿®æ”¹<mark>class_name</mark>,ä½ å°†ä¿®æ”¹çš„æ˜¯<mark>txt_folder</mark>ã€<mark>output_folder</mark>ï¼Œ<mark>img_folder</mark>ã€‚</p> 
<pre><code class="prism language-c">import os
import json
import base64
import cv2

def <span class="token function">read_txt_file</span><span class="token punctuation">(</span>txt_file<span class="token punctuation">)</span><span class="token operator">:</span>
    with <span class="token function">open</span><span class="token punctuation">(</span>txt_file<span class="token punctuation">,</span> <span class="token char">'r'</span><span class="token punctuation">)</span> as f<span class="token operator">:</span>
        lines <span class="token operator">=</span> f<span class="token punctuation">.</span><span class="token function">readlines</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span> line in lines<span class="token operator">:</span>
        line <span class="token operator">=</span> line<span class="token punctuation">.</span><span class="token function">strip</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        class_name <span class="token operator">=</span> line<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
        bbox <span class="token operator">=</span> <span class="token punctuation">[</span>coord <span class="token keyword">for</span> coord in line<span class="token punctuation">[</span><span class="token number">1</span><span class="token operator">:</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
        data<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token char">'class_name'</span><span class="token operator">:</span> class_name<span class="token punctuation">,</span> <span class="token char">'bbox'</span><span class="token operator">:</span> bbox<span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> data

def <span class="token function">convert_to_labelme</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> image_path<span class="token punctuation">,</span> image_size<span class="token punctuation">)</span><span class="token operator">:</span>
    labelme_data <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
        <span class="token char">'version'</span><span class="token operator">:</span> <span class="token char">'4.5.6'</span><span class="token punctuation">,</span>
        <span class="token char">'flags'</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token char">'shapes'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token char">'imagePath'</span><span class="token operator">:</span> json_image_path<span class="token punctuation">,</span>
        <span class="token char">'imageData'</span><span class="token operator">:</span> None<span class="token punctuation">,</span>
        <span class="token char">'imageHeight'</span><span class="token operator">:</span> image_size<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token char">'imageWidth'</span><span class="token operator">:</span> image_size<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">for</span> obj in data<span class="token operator">:</span>
        dx <span class="token operator">=</span> obj<span class="token punctuation">[</span><span class="token char">'bbox'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
        dy <span class="token operator">=</span> obj<span class="token punctuation">[</span><span class="token char">'bbox'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
        dw <span class="token operator">=</span> obj<span class="token punctuation">[</span><span class="token char">'bbox'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>
        dh <span class="token operator">=</span> obj<span class="token punctuation">[</span><span class="token char">'bbox'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span>

        w <span class="token operator">=</span> <span class="token function">eval</span><span class="token punctuation">(</span>dw<span class="token punctuation">)</span> <span class="token operator">*</span> image_size<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
        h <span class="token operator">=</span> <span class="token function">eval</span><span class="token punctuation">(</span>dh<span class="token punctuation">)</span> <span class="token operator">*</span> image_size<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
        center_x <span class="token operator">=</span> <span class="token function">eval</span><span class="token punctuation">(</span>dx<span class="token punctuation">)</span> <span class="token operator">*</span> image_size<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
        center_y <span class="token operator">=</span> <span class="token function">eval</span><span class="token punctuation">(</span>dy<span class="token punctuation">)</span> <span class="token operator">*</span> image_size<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
        x1 <span class="token operator">=</span> center_x <span class="token operator">-</span> w<span class="token operator">/</span><span class="token number">2</span>
        y1 <span class="token operator">=</span> center_y <span class="token operator">-</span> h<span class="token operator">/</span><span class="token number">2</span>
        x2 <span class="token operator">=</span> center_x <span class="token operator">+</span> w<span class="token operator">/</span><span class="token number">2</span>
        y2 <span class="token operator">=</span> center_y <span class="token operator">+</span> h<span class="token operator">/</span><span class="token number">2</span>

        <span class="token keyword">if</span> obj<span class="token punctuation">[</span><span class="token char">'dog'</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token char">'0'</span><span class="token operator">:</span> #åˆ¤æ–­å¯¹åº”çš„æ ‡ç­¾åç§°ï¼Œå†™å…¥jsonæ–‡ä»¶ä¸­
            label <span class="token operator">=</span> <span class="token function">str</span><span class="token punctuation">(</span><span class="token char">'grape'</span><span class="token punctuation">)</span>
        <span class="token keyword">else</span><span class="token operator">:</span>
            label <span class="token operator">=</span> obj<span class="token punctuation">[</span><span class="token char">'cat'</span><span class="token punctuation">]</span>
        shape_data <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
            <span class="token char">'label'</span><span class="token operator">:</span> label<span class="token punctuation">,</span>
            <span class="token char">'points'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>x1<span class="token punctuation">,</span> y1<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>x2<span class="token punctuation">,</span> y2<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token char">'group_id'</span><span class="token operator">:</span> None<span class="token punctuation">,</span>
            <span class="token char">'shape_type'</span><span class="token operator">:</span> <span class="token char">'rectangle'</span><span class="token punctuation">,</span>
            <span class="token char">'flags'</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        labelme_data<span class="token punctuation">[</span><span class="token char">'shapes'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>shape_data<span class="token punctuation">)</span>
    <span class="token keyword">return</span> labelme_data

def <span class="token function">save_labelme_json</span><span class="token punctuation">(</span>labelme_data<span class="token punctuation">,</span> image_path<span class="token punctuation">,</span> output_file<span class="token punctuation">)</span><span class="token operator">:</span>
    with <span class="token function">open</span><span class="token punctuation">(</span>image_path<span class="token punctuation">,</span> <span class="token char">'rb'</span><span class="token punctuation">)</span> as f<span class="token operator">:</span>
        image_data <span class="token operator">=</span> f<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    labelme_data<span class="token punctuation">[</span><span class="token char">'imageData'</span><span class="token punctuation">]</span> <span class="token operator">=</span> base64<span class="token punctuation">.</span><span class="token function">b64encode</span><span class="token punctuation">(</span>image_data<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span><span class="token char">'utf-8'</span><span class="token punctuation">)</span>

    with <span class="token function">open</span><span class="token punctuation">(</span>output_file<span class="token punctuation">,</span> <span class="token char">'w'</span><span class="token punctuation">)</span> as f<span class="token operator">:</span>
        json<span class="token punctuation">.</span><span class="token function">dump</span><span class="token punctuation">(</span>labelme_data<span class="token punctuation">,</span> f<span class="token punctuation">,</span> indent<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">)</span>

# è®¾ç½®æ–‡ä»¶å¤¹è·¯å¾„å’Œè¾“å‡ºæ–‡ä»¶å¤¹è·¯å¾„
txt_folder <span class="token operator">=</span> r<span class="token string">"å­˜æ”¾txtæ–‡ä»¶çš„æ–‡ä»¶å¤¹è·¯å¾„//"</span>  
output_folder <span class="token operator">=</span> r<span class="token string">"è¾“å‡ºjsonæ–‡ä»¶çš„æ–‡ä»¶å¤¹è·¯å¾„//"</span>  
img_folder <span class="token operator">=</span> r<span class="token string">"å­˜æ”¾å¯¹åº”æ ‡ç­¾çš„å›¾ç‰‡æ–‡ä»¶å¤¹è·¯å¾„//"</span> 

# åˆ›å»ºè¾“å‡ºæ–‡ä»¶å¤¹
<span class="token keyword">if</span> not os<span class="token punctuation">.</span>path<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span>output_folder<span class="token punctuation">)</span><span class="token operator">:</span>
    os<span class="token punctuation">.</span><span class="token function">makedirs</span><span class="token punctuation">(</span>output_folder<span class="token punctuation">)</span>

# éå†txtæ–‡ä»¶å¤¹ä¸­çš„æ‰€æœ‰æ–‡ä»¶
<span class="token keyword">for</span> filename in os<span class="token punctuation">.</span><span class="token function">listdir</span><span class="token punctuation">(</span>txt_folder<span class="token punctuation">)</span><span class="token operator">:</span>
    <span class="token keyword">if</span> filename<span class="token punctuation">.</span><span class="token function">endswith</span><span class="token punctuation">(</span><span class="token char">'.txt'</span><span class="token punctuation">)</span><span class="token operator">:</span>
        # ç”Ÿæˆå¯¹åº”çš„è¾“å‡ºæ–‡ä»¶å
        output_filename <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span><span class="token function">splitext</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token char">'.json'</span>

        # è¯»å–txtæ–‡ä»¶
        txt_file <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>txt_folder<span class="token punctuation">,</span> filename<span class="token punctuation">)</span>
        data <span class="token operator">=</span> <span class="token function">read_txt_file</span><span class="token punctuation">(</span>txt_file<span class="token punctuation">)</span>

        # è®¾ç½®å›¾ç‰‡è·¯å¾„å’Œå°ºå¯¸
        image_filename <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span><span class="token function">splitext</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token char">'.jpg'</span>  # å›¾ç‰‡æ–‡ä»¶åä¸txtæ–‡ä»¶åç›¸åŒï¼Œåç¼€ä¸º<span class="token punctuation">.</span>jpg
        image_path <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>img_folder<span class="token punctuation">,</span> image_filename<span class="token punctuation">)</span>
        <span class="token macro property"><span class="token directive-hash">#</span> <span class="token directive keyword">image</span><span class="token expression">_size <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1280</span><span class="token punctuation">,</span> <span class="token number">720</span><span class="token punctuation">)</span>  # æ ¹æ®å®é™…æƒ…å†µä¿®æ”¹</span></span>
        json_image_path <span class="token operator">=</span> image_path<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token char">'\\'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"image_path:"</span><span class="token punctuation">,</span> image_path<span class="token punctuation">)</span>
        image_size <span class="token operator">=</span> cv2<span class="token punctuation">.</span><span class="token function">imread</span><span class="token punctuation">(</span>image_path<span class="token punctuation">)</span><span class="token punctuation">.</span>shape

        # è½¬åŒ–ä¸ºLabelMeæ ¼å¼
        labelme_data <span class="token operator">=</span> <span class="token function">convert_to_labelme</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> image_path<span class="token punctuation">,</span> image_size<span class="token punctuation">)</span>

        # ä¿å­˜ä¸ºLabelMe JSONæ–‡ä»¶
        output_file <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>output_folder<span class="token punctuation">,</span> output_filename<span class="token punctuation">)</span>
        <span class="token function">save_labelme_json</span><span class="token punctuation">(</span>labelme_data<span class="token punctuation">,</span> image_path<span class="token punctuation">,</span> output_file<span class="token punctuation">)</span>

</code></pre> 
<h2><a id="_477"></a>------------------------------------------------------------------------------------------</h2> 
<h2><a id="4TXTXML_478"></a>åœºæ™¯4.å°†TXTæ–‡ä»¶ç›´æ¥è½¬æ¢æˆXMLæ–‡ä»¶â˜€</h2> 
<h3><a id="_479"></a>éœ€æ±‚åˆ†æğŸŒ™</h3> 
<p>å½“æˆ‘ä»¬éœ€è¦å¯¹æ•°æ®é›†åˆ©ç”¨<mark>imgaug</mark>åº“è¿›è¡Œæ•°æ®å¢å¼ºæ—¶ï¼Œæˆ–è€…éœ€è¦å¯¹<mark>é”šæ¡†é‡èšç±»åˆ†æ</mark>ï¼ŒåŒ…æ‹¬ä½†ä¸é™äº<mark>kmeansèšç±»</mark>ã€<mark>kmeans++èšç±»</mark>ã€<mark>kmeansèšç±»èåˆé—ä¼ ç®—æ³•</mark>ç­‰èšç±»æ–¹æ³•æ—¶ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦ä½¿ç”¨åˆ°æˆ‘ä»¬XMLæ ¼å¼çš„æ–‡ä»¶äº†ï¼Œä½†æ˜¯æœ‰çš„å°ä¼™ä¼´æ²¡æœ‰ä¿å­˜æ­¤ç±»æ–‡ä»¶ï¼Œä»…æœ‰TXTæ–‡ä»¶æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨TXTæ–‡ä»¶è½¬ä¸ºXMLæ–‡ä»¶ã€‚</p> 
<h3><a id="_481"></a>è½¬æ¢æ­¥éª¤ğŸŒ™</h3> 
<pre><code class="prism language-c">å¾…æ›´æ–°<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/a50d4313d24b339c620c131860971eba/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">ä¸€ç™¾äº”åäºŒã€Kettleâ€”â€”Kettle9.3.0æœ¬åœ°è¿æ¥Hive3.1.2(è¸©å‘ï¼Œäº²æµ‹æœ‰æ•ˆï¼Œé™„æˆªå›¾)</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b649e8d728f0ebd04ad23109ba4f1ea5/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">çº¯å‰ç«¯--åŸç”Ÿjså°†htmlé¡µé¢å˜æˆpdfæ–‡ä»¶ï¼ˆhtml2canvas&#43;jsPDFï¼‰</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ç¼–ç¨‹å¤§å’–.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>