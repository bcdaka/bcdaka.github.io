<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>åˆ©ç”¨ollamaå’Œopen-webuiæœ¬åœ°éƒ¨ç½²é€šä¹‰åƒé—®Qwen1.5-7B-Chatæ¨¡å‹ - ç¼–ç¨‹å¤§å’–</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/6dfeebce3c3a709f02d7595a52be89c0/">
  <meta property="og:site_name" content="ç¼–ç¨‹å¤§å’–">
  <meta property="og:title" content="åˆ©ç”¨ollamaå’Œopen-webuiæœ¬åœ°éƒ¨ç½²é€šä¹‰åƒé—®Qwen1.5-7B-Chatæ¨¡å‹">
  <meta property="og:description" content="ç›®å½•
1 å®‰è£…ollama
2 å®‰è£…open-webui
2.1 é•œåƒä¸‹è½½
3Â é…ç½®ollamaçš„æ¨¡å‹è½¬æ¢å·¥å…·ç¯å¢ƒ
3.1 ä¸‹è½½ollamaæºç 
3.2 ä¸‹è½½ollamaå­æ¨¡å—
3.3 åˆ›å»ºollamaè™šæ‹Ÿç¯å¢ƒ
3.4 å®‰è£…ä¾èµ–
3.5 ç¼–è¯‘é‡åŒ–å·¥å…·
7 åˆ›å»ºollamaæ¨¡å‹
8Â è¿è¡Œæ¨¡å‹
å‚è€ƒæ–‡çŒ®ï¼š
1 å®‰è£…ollama curl -fsSL https://ollama.com/install.sh | sh å¯åŠ¨ã€å…³é—­ollama
systemctl start ollama
systemctl stop ollama
systemctl restart ollama
systemctl status ollama
2 å®‰è£…open-webui git clone https://github.com/open-webui/open-webui.git cd open-webui è¿™é‡Œopen-webuiçš„æºç å…¶å®ç”¨ä¸åˆ°ï¼Œç›´æ¥ç”¨ä¸‹é¢çš„é•œåƒå°±è¡Œã€‚Â 2.1 é•œåƒä¸‹è½½ å®˜æ–¹æ²¡æœ‰åœ¨Â docker hubÂ ä¸Šå‘å¸ƒé•œåƒï¼Œè€Œæ˜¯å‘å¸ƒåœ¨Â ghcr.ioï¼Œåœ°å€åœ¨ https://Github.com/open-webui/open-webui/pkgs/container/open-webui
docker pull ghcr.io/open-webui/open-webui:main å¦‚æœæ²¡æœ‰ç§‘å­¦ä¸Šç½‘ï¼Œå¾ˆå¯èƒ½ä¼šæ‹‰ä¸åŠ¨ï¼Œå¯ä»¥è¯•è¯•Â dockerÂ ä»£ç†ç½‘ç«™ï¼šhttps://dockerproxy.com/ï¼Œä½†æ˜¯ä¼šå¤šå‡ ä¸ªæ­¥éª¤
# å¦‚æœæ‹‰ä¸åŠ¨çš„è¯åŠ ä¸ªä»£ç† docker pull ghcr.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-04-23T16:45:54+08:00">
    <meta property="article:modified_time" content="2024-04-23T16:45:54+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ç¼–ç¨‹å¤§å’–" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ç¼–ç¨‹å¤§å’–</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">åˆ©ç”¨ollamaå’Œopen-webuiæœ¬åœ°éƒ¨ç½²é€šä¹‰åƒé—®Qwen1.5-7B-Chatæ¨¡å‹</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>Â </strong></p> 
<p id="main-toc"><strong>ç›®å½•</strong></p> 
<p id="1%20%E5%AE%89%E8%A3%85ollama-toc" style="margin-left:0px;"><a href="#1%20%E5%AE%89%E8%A3%85ollama" rel="nofollow">1 å®‰è£…ollama</a></p> 
<p id="2%20%E5%AE%89%E8%A3%85open-webui-toc" style="margin-left:0px;"><a href="#2%20%E5%AE%89%E8%A3%85open-webui" rel="nofollow">2 å®‰è£…open-webui</a></p> 
<p id="2.1%20%E9%95%9C%E5%83%8F%E4%B8%8B%E8%BD%BD-toc" style="margin-left:40px;"><a href="#2.1%20%E9%95%9C%E5%83%8F%E4%B8%8B%E8%BD%BD" rel="nofollow">2.1 é•œåƒä¸‹è½½</a></p> 
<p id="3%C2%A0%E9%85%8D%E7%BD%AEollama%E7%9A%84%E6%A8%A1%E5%9E%8B%E8%BD%AC%E6%8D%A2%E5%B7%A5%E5%85%B7%E7%8E%AF%E5%A2%83-toc" style="margin-left:0px;"><a href="#3%C2%A0%E9%85%8D%E7%BD%AEollama%E7%9A%84%E6%A8%A1%E5%9E%8B%E8%BD%AC%E6%8D%A2%E5%B7%A5%E5%85%B7%E7%8E%AF%E5%A2%83" rel="nofollow">3Â é…ç½®ollamaçš„æ¨¡å‹è½¬æ¢å·¥å…·ç¯å¢ƒ</a></p> 
<p id="3.1%20%E4%B8%8B%E8%BD%BDollama%E6%BA%90%E7%A0%81-toc" style="margin-left:40px;"><a href="#3.1%20%E4%B8%8B%E8%BD%BDollama%E6%BA%90%E7%A0%81" rel="nofollow">3.1 ä¸‹è½½ollamaæºç </a></p> 
<p id="%C2%A03.2%20%E4%B8%8B%E8%BD%BDollama%E5%AD%90%E6%A8%A1%E5%9D%97-toc" style="margin-left:40px;"><a href="#%C2%A03.2%20%E4%B8%8B%E8%BD%BDollama%E5%AD%90%E6%A8%A1%E5%9D%97" rel="nofollow">Â 3.2 ä¸‹è½½ollamaå­æ¨¡å—</a></p> 
<p id="3.3%20%E5%88%9B%E5%BB%BAollama%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83-toc" style="margin-left:40px;"><a href="#3.3%20%E5%88%9B%E5%BB%BAollama%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83" rel="nofollow">3.3 åˆ›å»ºollamaè™šæ‹Ÿç¯å¢ƒ</a></p> 
<p id="3.4%20%E5%AE%89%E8%A3%85%E4%BE%9D%E8%B5%96-toc" style="margin-left:40px;"><a href="#3.4%20%E5%AE%89%E8%A3%85%E4%BE%9D%E8%B5%96" rel="nofollow">3.4 å®‰è£…ä¾èµ–</a></p> 
<p id="3.5%20%E7%BC%96%E8%AF%91%E9%87%8F%E5%8C%96%E5%B7%A5%E5%85%B7-toc" style="margin-left:40px;"><a href="#3.5%20%E7%BC%96%E8%AF%91%E9%87%8F%E5%8C%96%E5%B7%A5%E5%85%B7" rel="nofollow">3.5 ç¼–è¯‘é‡åŒ–å·¥å…·</a></p> 
<p id="-toc" style="margin-left:0px;"></p> 
<p id="4%C2%A0%E8%BD%AC%E6%8D%A2qwen%E6%A8%A1%E5%9E%8B-toc" style="margin-left:0px;"><a href="#4%C2%A0%E8%BD%AC%E6%8D%A2qwen%E6%A8%A1%E5%9E%8B" rel="nofollow">7 åˆ›å»ºollamaæ¨¡å‹</a></p> 
<p id="8%C2%A0%E8%BF%90%E8%A1%8C%E6%A8%A1%E5%9E%8B-toc" style="margin-left:0px;"><a href="#8%C2%A0%E8%BF%90%E8%A1%8C%E6%A8%A1%E5%9E%8B" rel="nofollow">8Â è¿è¡Œæ¨¡å‹</a></p> 
<p id="%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE%EF%BC%9A-toc" style="margin-left:0px;"><a href="#%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE%EF%BC%9A" rel="nofollow">å‚è€ƒæ–‡çŒ®ï¼š</a></p> 
<hr id="hr-toc"> 
<p></p> 
<h2 id="1%20%E5%AE%89%E8%A3%85ollama">1 å®‰è£…ollama</h2> 
<pre><code class="language-bash">curl -fsSL https://ollama.com/install.sh | sh</code></pre> 
<p>å¯åŠ¨ã€å…³é—­ollama<br> systemctl start ollama<br> systemctl stop ollama<br> systemctl restart ollama<br> systemctl status ollama</p> 
<h2 id="2%20%E5%AE%89%E8%A3%85open-webui">2 å®‰è£…open-webui</h2> 
<pre><code class="language-bash">git clone https://github.com/open-webui/open-webui.git
cd open-webui</code></pre> 
<p>è¿™é‡Œopen-webuiçš„æºç å…¶å®ç”¨ä¸åˆ°ï¼Œç›´æ¥ç”¨ä¸‹é¢çš„é•œåƒå°±è¡Œã€‚Â </p> 
<h3 id="2.1%20%E9%95%9C%E5%83%8F%E4%B8%8B%E8%BD%BD">2.1 é•œåƒä¸‹è½½</h3> 
<p>å®˜æ–¹æ²¡æœ‰åœ¨Â <code>docker hub</code>Â ä¸Šå‘å¸ƒé•œåƒï¼Œè€Œæ˜¯å‘å¸ƒåœ¨Â <code>ghcr.io</code>ï¼Œåœ°å€åœ¨ https://<a href="https://www.bmabk.com/index.php/post/tag/58" rel="nofollow" title="Git">Git</a>hub.com/open-webui/open-webui/pkgs/container/open-webui</p> 
<pre><code class="language-bash">docker pull ghcr.io/open-webui/open-webui:main</code></pre> 
<p>å¦‚æœæ²¡æœ‰ç§‘å­¦ä¸Šç½‘ï¼Œå¾ˆå¯èƒ½ä¼šæ‹‰ä¸åŠ¨ï¼Œå¯ä»¥è¯•è¯•Â <code>docker</code>Â ä»£ç†ç½‘ç«™ï¼šhttps://dockerproxy.com/ï¼Œä½†æ˜¯ä¼šå¤šå‡ ä¸ªæ­¥éª¤</p> 
<pre><code class="language-bash"># å¦‚æœæ‹‰ä¸åŠ¨çš„è¯åŠ ä¸ªä»£ç†
docker pull ghcr.dockerproxy.com/open-webui/open-webui:main

# é‡å‘½åé•œåƒï¼ˆå¦‚æœæ˜¯é€šè¿‡ä»£ç†ä¸‹è½½çš„ï¼‰
docker tag ghcr.dockerproxy.com/open-webui/open-webui:main ghcr.io/open-webui/open-webui:main

# åˆ é™¤ä»£ç†é•œåƒï¼ˆå¦‚æœæ˜¯é€šè¿‡ä»£ç†ä¸‹è½½çš„ï¼‰
docker rmi ghcr.dockerproxy.com/open-webui/open-webui:main</code></pre> 
<p>Â ç„¶ådocker imageså¯ä»¥çœ‹åˆ°é•œåƒ</p> 
<p><img alt="" height="87" src="https://images2.imgbox.com/72/51/iWYY5y65_o.png" width="1200"></p> 
<pre><code class="language-bash">docker run -d -p 3006:8080 --add-host=host.docker.internal:host-gateway -v open-webui:/app/backend/data --name open-webui-chw --restart always ghcr.io/open-webui/open-webui:main
2c93ac3c6c911302d4d2926692a7bab64f607317938da71e53ff32798be801da
</code></pre> 
<h2 id="3%C2%A0%E9%85%8D%E7%BD%AEollama%E7%9A%84%E6%A8%A1%E5%9E%8B%E8%BD%AC%E6%8D%A2%E5%B7%A5%E5%85%B7%E7%8E%AF%E5%A2%83">3Â é…ç½®ollamaçš„æ¨¡å‹è½¬æ¢å·¥å…·ç¯å¢ƒ</h2> 
<h3 id="3.1%20%E4%B8%8B%E8%BD%BDollama%E6%BA%90%E7%A0%81">3.1 ä¸‹è½½ollamaæºç </h3> 
<pre><code class="language-bash">git clone https://github.com/ollama/ollama.git
cd ollama</code></pre> 
<h3 id="%C2%A03.2%20%E4%B8%8B%E8%BD%BDollama%E5%AD%90%E6%A8%A1%E5%9D%97">Â 3.2 ä¸‹è½½ollamaå­æ¨¡å—</h3> 
<pre><code class="language-bash">git submodule init
git submodule update llm/llama.cpp</code></pre> 
<h3 id="3.3%20%E5%88%9B%E5%BB%BAollama%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83">3.3 åˆ›å»ºollamaè™šæ‹Ÿç¯å¢ƒ</h3> 
<pre><code class="language-bash">conda create -n ollama_chw python=3.11
conda activate ollama_chw</code></pre> 
<h3 id="3.4%20%E5%AE%89%E8%A3%85%E4%BE%9D%E8%B5%96">3.4 å®‰è£…ä¾èµ–</h3> 
<pre><code class="language-bash">pip install -r llm/llama.cpp/requirements.txt</code></pre> 
<h3 id="3.5%20%E7%BC%96%E8%AF%91%E9%87%8F%E5%8C%96%E5%B7%A5%E5%85%B7">3.5 ç¼–è¯‘é‡åŒ–å·¥å…·</h3> 
<pre><code class="language-bash">make -C llm/llama.cpp quantize
å¦‚æœç¼–è¯‘llama.cppçš„æµ‹è¯•å·¥å…·mainï¼Œåœ¨llama.cppç›®å½•æ‰§è¡Œmake -jï¼Œä¼šåœ¨å½“å‰ç›®å½•ç”Ÿæˆmainæ–‡ä»¶ã€‚
æµ‹è¯•å®éªŒ./main -m ./model_name</code></pre> 
<h2>4 5 6 è§ç§äººåšå®¢</h2> 
<h2 id="4%C2%A0%E8%BD%AC%E6%8D%A2qwen%E6%A8%A1%E5%9E%8B">7 åˆ›å»ºollamaæ¨¡å‹</h2> 
<pre><code class="language-bash">ollama create chw1.5 -f /data/chw/ollama_20240419/qwen1.5-7B/Modelfile</code></pre> 
<p>åˆ°äº†è¿™ä¸€æ­¥ä¹‹åï¼Œå…¶å®åœ¨open-webuiä¸Šå°±å¯ä»¥çœ‹åˆ°è¿™ä¸ªæ¨¡å‹äº†</p> 
<p></p> 
<h2 id="8%C2%A0%E8%BF%90%E8%A1%8C%E6%A8%A1%E5%9E%8B">8Â è¿è¡Œæ¨¡å‹</h2> 
<pre><code class="language-bash">ollama run chw1.5</code></pre> 
<p>å…¶å®è¿™ä¸ªollama runå°±ç›¸å½“äºåœ¨å‘½ä»¤è¡Œè¿è¡Œæ¨¡å‹ï¼Œä½†æ˜¯æˆ‘ä»¬è¿™é‡Œæ˜¯ç”¨open-webuiï¼Œæ‰€ä»¥ç›´æ¥ollama createä¹‹åå°±å¯ä»¥ç”¨open-webuiã€‚</p> 
<p></p> 
<p></p> 
<h2 id="%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE%EF%BC%9A">å‚è€ƒæ–‡çŒ®ï¼š</h2> 
<p><a href="https://github.com/ollama/ollama" title="GitHub - ollama/ollama: Get up and running with Llama 3, Mistral, Gemma, and other large language models.">GitHub - ollama/ollama: Get up and running with Llama 3, Mistral, Gemma, and other large language models.</a></p> 
<p><a href="https://github.com/open-webui/open-webui" title="GitHub - open-webui/open-webui: User-friendly WebUI for LLMs (Formerly Ollama WebUI)">GitHub - open-webui/open-webui: User-friendly WebUI for LLMs (Formerly Ollama WebUI)</a></p> 
<p><a href="https://blog.csdn.net/weixin_40313940/article/details/134769706" title="llama.cppéƒ¨ç½²é€šä¹‰åƒé—®Qwen-14B_é€šä¹‰åƒé—®gguf model-CSDNåšå®¢">llama.cppéƒ¨ç½²é€šä¹‰åƒé—®Qwen-14B_é€šä¹‰åƒé—®gguf model-CSDNåšå®¢</a></p> 
<p><a href="https://www.bmabk.com/index.php/post/225816.html" rel="nofollow" title="é€‚é…Ollamaçš„å‰ç«¯ç•Œé¢Open WebUI | åŠç åšå®¢">é€‚é…Ollamaçš„å‰ç«¯ç•Œé¢Open WebUI | åŠç åšå®¢</a><br><a href="https://docs.openwebui.com/getting-started/" rel="nofollow" title="ğŸš€ Getting Started | Open WebUI">ğŸš€ Getting Started | Open WebUI</a></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/9905c62c7f5a439920b8b6e85e9bf061/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">Flinkå­¦ä¹ ï¼ˆå…«ï¼‰-Flink é›†ç¾¤æ­å»º</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a2ef95fa34b48da80d40962d6e5003da/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">springbootä½¿ç”¨Mybatisä¸­å…¼å®¹å¤šæ•°æ®æºçš„databaseIdï¼ˆdatabaseIdProviderï¼‰çš„ç®€å•ä½¿ç”¨æ–¹æ³•</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ç¼–ç¨‹å¤§å’–.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>