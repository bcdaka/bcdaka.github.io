<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Redis基础——1、Linux下安装Redis（超详细） - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/ee93be8a6b8d16508e41913ec875a160/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="Redis基础——1、Linux下安装Redis（超详细）">
  <meta property="og:description" content="一、Linux下安装Redis 1、下载Redis2、连接Linux（或者VMwear）3、进入redis目录下4、Redis是基于c语言编写的需要安装依赖，需要安装gcc：5、redis默认安装路径：/usr/local/bin6、将redis配置文件复制到bin目录下（先新建文件夹然后再将redis配置文件coyp进去）7、redis默认不是后台启动，更改启动方式8、启动redis-server服务9、使用redis-cli连接测试10、查看redis的进程是否开启（新开一个绘画）11、如何关闭redis服务12、设置Redis开机自启动13、性能测试 1、下载Redis Redis官网：https://redis.io/
历史版本：
http://download.redis.io/releases
本文中安装的版本为：http://download.redis.io/releases/redis-7.0.5.tar.gz
2、连接Linux（或者VMwear） 我们安装的是linux版本的redis，这里用的是云服务器所以需要远程连接，这里使用的是xshell连接到服务器，没有服务器的话也可以使用虚拟机，这里不过多赘述。
打开xftp我们需要先将我们的Redis上传到服务器上
上传文件：
解压安装包：
程序一般放在opt下 ，我们可以使用命令将文件移动到对应目录：
mv redis-7.0.5.tar.gz /opt 使用命令对Redis文件进行解压：
tar zxvf redis-7.0.5.tar.gz 3、进入redis目录下 [外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-9XsutmcD-1683894704945)(D:/USB/Typora%E5%9B%BE%E7%89%87/image-20221109152311141.png)]
4、Redis是基于c语言编写的需要安装依赖，需要安装gcc： yum install gcc-c&#43;&#43; 查看gcc版本：
gcc -v 输入make命令配置Gcc需要的文件：
make 执行成功后：
在次进行make：
make make install确认所有都安装完成：
make install 5、redis默认安装路径：/usr/local/bin 6、将redis配置文件复制到bin目录下（先新建文件夹然后再将redis配置文件coyp进去） 我们要将配置文件复制一份，我们以后就是用这个配置文件来启动。
mkdir redisconfig cp /opt/redis-7.0.5/redis.conf redisconfig 我们之后就是用这个文件启动
7、redis默认不是后台启动，更改启动方式 有关redis配置文件的一些说明：
然后修改redis.conf文件中的一些配置
# 允许访问的地址，默认是127.0.0.1，会导致只能在本地访问。修改为0.0.0.0则可以在任意IP访问，生产环境不要设置为0.0.0.0 bind 0.0.0.0 # 守护进程，修改为yes后即可后台运行 daemonize yes # 密码，设置后访问Redis必须输入密码 requirepass 123321 Redis的其它常见配置：
# 监听的端口 port 6379 # 工作目录，默认是当前目录，也就是运行redis-server时的命令，日志、持久化等文件会保存在这个目录 dir .">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-03-19T11:55:00+08:00">
    <meta property="article:modified_time" content="2024-03-19T11:55:00+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Redis基础——1、Linux下安装Redis（超详细）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>一、Linux下安装Redis</h4> 
 <ul><li><ul><li><ul><li><ul><li><a href="#1Redis_2" rel="nofollow">1、下载Redis</a></li><li><a href="#2LinuxVMwear_13" rel="nofollow">2、连接Linux（或者VMwear）</a></li><li><a href="#3redis_38" rel="nofollow">3、进入redis目录下</a></li><li><a href="#4Rediscgcc_42" rel="nofollow">4、Redis是基于c语言编写的需要安装依赖，需要安装gcc：</a></li><li><a href="#5redisusrlocalbin_90" rel="nofollow">5、redis默认安装路径：/usr/local/bin</a></li><li><a href="#6redisbinrediscoyp_95" rel="nofollow">6、将redis配置文件复制到bin目录下（先新建文件夹然后再将redis配置文件coyp进去）</a></li><li><a href="#7redis_112" rel="nofollow">7、redis默认不是后台启动，更改启动方式</a></li><li><a href="#8redisserver_163" rel="nofollow">8、启动redis-server服务</a></li><li><a href="#9rediscli_174" rel="nofollow">9、使用redis-cli连接测试</a></li><li><a href="#10redis_195" rel="nofollow">10、查看redis的进程是否开启（新开一个绘画）</a></li><li><a href="#11redis_204" rel="nofollow">11、如何关闭redis服务</a></li><li><a href="#12Redis_217" rel="nofollow">12、设置Redis开机自启动</a></li><li><a href="#13_276" rel="nofollow">13、性能测试</a></li></ul> 
   </li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h5><a id="1Redis_2"></a>1、下载Redis</h5> 
<p>Redis官网：https://redis.io/</p> 
<p><img src="https://images2.imgbox.com/34/86/ifKfvmJ3_o.png" alt="在这里插入图片描述"><br> 历史版本：</p> 
<p>http://download.redis.io/releases</p> 
<p>本文中安装的版本为：http://download.redis.io/releases/redis-7.0.5.tar.gz<br> <img src="https://images2.imgbox.com/a4/9a/Qv7RJevm_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="2LinuxVMwear_13"></a>2、连接Linux（或者VMwear）</h5> 
<p>我们安装的是linux版本的redis，这里用的是云服务器所以需要远程连接，这里使用的是xshell连接到服务器，没有服务器的话也可以使用虚拟机，这里不过多赘述。<br> <img src="https://images2.imgbox.com/2e/11/pgHgqOEy_o.png" alt="在这里插入图片描述">打开xftp我们需要先将我们的Redis上传到服务器上<br> 上传文件：<br> <img src="https://images2.imgbox.com/14/3b/WUOAjpWW_o.png" alt="在这里插入图片描述"></p> 
<p>解压安装包：</p> 
<p>程序一般放在opt下 ，我们可以使用命令将文件移动到对应目录：</p> 
<pre><code class="prism language-powershell"><span class="token function">mv</span> redis-7<span class="token punctuation">.</span>0<span class="token punctuation">.</span>5<span class="token punctuation">.</span>tar<span class="token punctuation">.</span>gz  <span class="token operator">/</span>opt
</code></pre> 
<p><img src="https://images2.imgbox.com/1b/73/bnu8oeK8_o.png" alt="在这里插入图片描述"></p> 
<p>使用命令对Redis文件进行解压：</p> 
<pre><code class="prism language-powershell">tar zxvf redis-7<span class="token punctuation">.</span>0<span class="token punctuation">.</span>5<span class="token punctuation">.</span>tar<span class="token punctuation">.</span>gz 
</code></pre> 
<p><img src="https://images2.imgbox.com/3b/1e/ancTVvv4_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="3redis_38"></a>3、进入redis目录下</h5> 
<p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-9XsutmcD-1683894704945)(D:/USB/Typora%E5%9B%BE%E7%89%87/image-20221109152311141.png)]<img src="https://images2.imgbox.com/84/02/IQjDI1yR_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="4Rediscgcc_42"></a>4、Redis是基于c语言编写的需要安装依赖，需要安装gcc：</h5> 
<pre><code class="prism language-powershell">yum install gcc-c+<span class="token operator">+</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/9a/d2/o4UJiyTP_o.png" alt="在这里插入图片描述"></p> 
<p>查看gcc版本：</p> 
<pre><code class="prism language-powershell"> gcc <span class="token operator">-</span>v
</code></pre> 
<p><img src="https://images2.imgbox.com/42/57/2Ss2fdhA_o.png" alt="在这里插入图片描述"></p> 
<p>输入make命令配置Gcc需要的文件：</p> 
<pre><code class="prism language-powershell">make
</code></pre> 
<p><img src="https://images2.imgbox.com/4d/15/RehwyUSZ_o.png" alt="在这里插入图片描述"><br> 执行成功后：</p> 
<p><img src="https://images2.imgbox.com/d4/fd/kwHg02d9_o.png" alt="在这里插入图片描述"></p> 
<p>在次进行make：</p> 
<pre><code class="prism language-powershell">make
</code></pre> 
<p><img src="https://images2.imgbox.com/e5/1c/WoP1K1n8_o.png" alt="在这里插入图片描述"></p> 
<p>make install确认所有都安装完成：</p> 
<pre><code class="prism language-powershell">make install
</code></pre> 
<p><img src="https://images2.imgbox.com/0e/60/rHUzvN4f_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="5redisusrlocalbin_90"></a>5、redis默认安装路径：/usr/local/bin</h5> 
<p><img src="https://images2.imgbox.com/0c/06/IsLbFVMn_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="6redisbinrediscoyp_95"></a>6、将redis配置文件复制到bin目录下（先新建文件夹然后再将redis配置文件coyp进去）</h5> 
<p>我们要将配置文件复制一份，我们以后就是用这个配置文件来启动。</p> 
<pre><code class="prism language-powershell">mkdir redisconfig
</code></pre> 
<pre><code class="prism language-powershell"><span class="token function">cp</span> <span class="token operator">/</span>opt/redis-7<span class="token punctuation">.</span>0<span class="token punctuation">.</span>5/redis<span class="token punctuation">.</span>conf redisconfig
</code></pre> 
<p>我们之后就是用这个文件启动</p> 
<p><img src="https://images2.imgbox.com/76/e0/RbQwBEEW_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="7redis_112"></a>7、redis默认不是后台启动，更改启动方式</h5> 
<p>有关redis配置文件的一些说明：</p> 
<p>然后修改redis.conf文件中的一些配置</p> 
<pre><code class="prism language-properties"># 允许访问的地址，默认是127.0.0.1，会导致只能在本地访问。修改为0.0.0.0则可以在任意IP访问，生产环境不要设置为0.0.0.0
bind 0.0.0.0
# 守护进程，修改为yes后即可后台运行
daemonize yes 
# 密码，设置后访问Redis必须输入密码
requirepass 123321
</code></pre> 
<p><img src="https://images2.imgbox.com/3d/d5/T1NAUwZB_o.png" alt="在这里插入图片描述"><img src="https://images2.imgbox.com/71/f7/JiSpQUtg_o.png" alt="在这里插入图片描述"><img src="https://images2.imgbox.com/a8/35/dJsu3b8t_o.png" alt="在这里插入图片描述"></p> 
<p>Redis的其它常见配置：</p> 
<pre><code class="prism language-properties"># 监听的端口
port 6379
# 工作目录，默认是当前目录，也就是运行redis-server时的命令，日志、持久化等文件会保存在这个目录
dir .
# 数据库数量，设置为1，代表只使用1个库，默认有16个库，编号0~15
databases 1
# 设置redis能够使用的最大内存
maxmemory 512mb
# 日志文件，默认为空，不记录日志，可以指定日志文件名
logfile "redis.log"
</code></pre> 
<p><img src="https://images2.imgbox.com/a2/a3/m00Vd7UF_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/a9/3e/2OtIxWuI_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/f9/ed/hBwbmm4X_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/16/00/lmMFY6Oq_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-powershell">vim redis<span class="token punctuation">.</span>conf
</code></pre> 
<p><img src="https://images2.imgbox.com/57/0d/I3fVbs7d_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="8redisserver_163"></a>8、启动redis-server服务</h5> 
<p>通过指定配置文件启动服务</p> 
<pre><code class="prism language-powershell">redis-server redisconfig/redis<span class="token punctuation">.</span>conf
</code></pre> 
<p><img src="https://images2.imgbox.com/76/6b/ulgbEU6a_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="9rediscli_174"></a>9、使用redis-cli连接测试</h5> 
<pre><code class="prism language-powershell">redis-<span class="token function">cli</span> <span class="token operator">-</span>p 6379
</code></pre> 
<p><img src="https://images2.imgbox.com/b9/85/FnRHeJCK_o.png" alt="在这里插入图片描述"></p> 
<p>如果你设置了登录密码则需要认证：</p> 
<p><img src="https://images2.imgbox.com/a8/7d/RUpj4NnW_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-java">auth 你的密码
</code></pre> 
<p><img src="https://images2.imgbox.com/b3/c5/vTwzILEs_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="10redis_195"></a>10、查看redis的进程是否开启（新开一个绘画）</h5> 
<pre><code class="prism language-powershell"><span class="token function">ps</span> <span class="token operator">-</span>ef<span class="token punctuation">|</span>grep redis
</code></pre> 
<p><img src="https://images2.imgbox.com/d8/17/vN46lK1h_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="11redis_204"></a>11、如何关闭redis服务</h5> 
<p>shutdown是关闭redis的命令，注意此段命令必须在redis命令行运行，否则回导致服务器关闭！！！<br> <img src="https://images2.imgbox.com/ae/78/ikMLkbIR_o.png" alt="在这里插入图片描述">在linux命令行关闭redis只需要</p> 
<pre><code class="prism language-bash">systemctl stop redis
</code></pre> 
<p>再次查看服务：</p> 
<p><img src="https://images2.imgbox.com/3e/4f/XyGDHUaz_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="12Redis_217"></a>12、设置Redis开机自启动</h5> 
<p>首先，新建一个系统服务文件：</p> 
<pre><code class="prism language-sh"><span class="token function">vi</span> /etc/systemd/system/redis.service
</code></pre> 
<p><img src="https://images2.imgbox.com/25/ab/M7Cd2FsP_o.png" alt="在这里插入图片描述"><br> 内容如下：</p> 
<p>最重要的是：ExecStart=/usr/local/bin/redis-server /usr/local/bin/redisconfig/redis.conf这个，这里指定了redis-server的配置文件</p> 
<p>根据配置文件的不同这里的名字也是不同的</p> 
<pre><code class="prism language-conf">[Unit]
Description=redis-server
After=network.target

[Service]
Type=forking
ExecStart=/usr/local/bin/redis-server /usr/local/bin/redisconfig/redis.conf
PrivateTmp=true

[Install]
WantedBy=multi-user.target
</code></pre> 
<p>然后重载系统服务：</p> 
<pre><code class="prism language-sh">systemctl daemon-reload
</code></pre> 
<p>现在，我们可以用下面这组命令来操作redis了：</p> 
<pre><code class="prism language-sh"><span class="token comment"># 启动</span>
systemctl start redis
<span class="token comment"># 停止</span>
systemctl stop redis
<span class="token comment"># 重启</span>
systemctl restart redis
<span class="token comment"># 查看状态</span>
systemctl status redis
</code></pre> 
<p>执行下面的命令，可以让redis开机自启：</p> 
<pre><code class="prism language-sh">systemctl <span class="token builtin class-name">enable</span> redis
</code></pre> 
<p><img src="https://images2.imgbox.com/6d/2f/oH9Z9FW4_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="13_276"></a>13、性能测试</h5> 
<p>redis 性能测试的基本命令如下：</p> 
<pre><code class="prism language-bash">redis-benchmark <span class="token punctuation">[</span>option<span class="token punctuation">]</span> <span class="token punctuation">[</span>option value<span class="token punctuation">]</span>
</code></pre> 
<table><thead><tr><th align="left">序号</th><th align="left">选项</th><th align="left">描述</th><th align="left">默认值</th></tr></thead><tbody><tr><td align="left">1</td><td align="left"><strong>-h</strong></td><td align="left">指定服务器主机名</td><td align="left">127.0.0.1</td></tr><tr><td align="left">2</td><td align="left"><strong>-p</strong></td><td align="left">指定服务器端口</td><td align="left">6379</td></tr><tr><td align="left">3</td><td align="left"><strong>-s</strong></td><td align="left">指定服务器 socket</td><td align="left"></td></tr><tr><td align="left">4</td><td align="left"><strong>-c</strong></td><td align="left">指定并发连接数</td><td align="left">50</td></tr><tr><td align="left">5</td><td align="left"><strong>-n</strong></td><td align="left">指定请求数</td><td align="left">10000</td></tr><tr><td align="left">6</td><td align="left"><strong>-d</strong></td><td align="left">以字节的形式指定 SET/GET 值的数据大小</td><td align="left">2</td></tr><tr><td align="left">7</td><td align="left"><strong>-k</strong></td><td align="left">1=keep alive 0=reconnect</td><td align="left">1</td></tr><tr><td align="left">8</td><td align="left"><strong>-r</strong></td><td align="left">SET/GET/INCR 使用随机 key, SADD 使用随机值</td><td align="left"></td></tr><tr><td align="left">9</td><td align="left"><strong>-P</strong></td><td align="left">通过管道传输 请求</td><td align="left">1</td></tr><tr><td align="left">10</td><td align="left"><strong>-q</strong></td><td align="left">强制退出 redis。仅显示 query/sec 值</td><td align="left"></td></tr><tr><td align="left">11</td><td align="left"><strong>–csv</strong></td><td align="left">以 CSV 格式输出</td><td align="left"></td></tr><tr><td align="left">12</td><td align="left">*<strong>-l*（L 的小写字母）</strong></td><td align="left">生成循环，永久执行测试</td><td align="left"></td></tr><tr><td align="left">13</td><td align="left"><strong>-t</strong></td><td align="left">仅运行以逗号分隔的测试命令列表。</td><td align="left"></td></tr><tr><td align="left">14</td><td align="left">*<strong>-I*（i 的大写字母）</strong></td><td align="left">Idle 模式。仅打开 N 个 idle 连接并等待。</td><td align="left"></td></tr></tbody></table> 
<p>测试100个并发链接，每个并发100000请求</p> 
<pre><code class="prism language-bash">redis-benchmark <span class="token parameter variable">-h</span> localhost <span class="token parameter variable">-p</span> <span class="token number">6379</span> <span class="token parameter variable">-c</span> <span class="token number">100</span> <span class="token parameter variable">-n</span> <span class="token number">100000</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/4d/9e/eU2WZplo_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/a3889144f965d6bc561e6cde93abe7bd/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【Android14】注册广播报错One of RECEIVER_EXPORTED or RECEIVER_NOT_EXPORTED should be specified when a rec...</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/56560a996260d0090925015b023bf9c2/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">消息队列—如何保证 RabbitMQ 消息的顺序性？</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>