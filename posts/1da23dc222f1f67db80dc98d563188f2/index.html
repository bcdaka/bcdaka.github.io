<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>真实对比kimi、通义千问、文心一言的写代码能力，到底谁强？ - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/1da23dc222f1f67db80dc98d563188f2/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="真实对比kimi、通义千问、文心一言的写代码能力，到底谁强？">
  <meta property="og:description" content="🤖AI改变生活：最近都在说月之暗面的kimi的各项能力吊打国内其他大模型，今天我们真实感受下 kimi、通义千问、文心一言的根据需求写代码的能力。
测评结果让人震惊！
kimi kimi编程过程 我们先看一下热捧的月之暗面的kimi模型。
第一次运行有错误，很正常，我们继续把错误发给kimi，让他修复。
kimi仿佛进入了错误死循环，始终无法修复错误，我认为他可能上下文理解错乱，所以重新描述了自己的需求，让他重新作答。结果依然无法使用。
而且错误变得很离谱，连包都没有导入。
又经过多轮对话，我发现他始终无法修复自己的错误。
最终我放弃和他的对话。
最终代码： kimi的代码越改越复杂，使用canvas更复杂，有大部分错误发生在canvas绘制和字体选择上，没编程基础，都无法调试。
import os from tkinter import Tk, Button, Label, Entry, filedialog, messagebox from PIL import Image from reportlab.pdfbase import pdfmetrics from reportlab.pdfbase.ttfonts import TTFont from reportlab.pdfgen import canvas from reportlab.lib.pagesizes import A4 # 注册字体 def register_font(font_name, font_path): try: pdfmetrics.registerFont(TTFont(font_name, font_path)) except IOError as e: print(&#34;Error registering font:&#34;, e) # 合并图片到PDF def merge_images_to_pdf(folder_path, output_pdf_path): register_font(&#39;SimSun&#39;, r&#39;C:\Windows\Fonts\simsun.ttc&#39;) # 确保提供正确的字体文件路径 pdf = canvas.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-04-07T22:25:23+08:00">
    <meta property="article:modified_time" content="2024-04-07T22:25:23+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">真实对比kimi、通义千问、文心一言的写代码能力，到底谁强？</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <blockquote> 
 <p>🤖AI改变生活：最近都在说月之暗面的kimi的各项能力吊打国内其他大模型，今天我们真实感受下 kimi、通义千问、文心一言的根据需求写代码的能力。</p> 
 <p>测评结果让人震惊！</p> 
</blockquote> 
<h2><a id="kimi_6"></a>kimi</h2> 
<h3><a id="kimi_7"></a>kimi编程过程</h3> 
<p>我们先看一下热捧的月之暗面的kimi模型。<br> <img src="https://images2.imgbox.com/b4/6c/KfrSRV4Q_o.png" alt=""><br> <img src="https://images2.imgbox.com/53/9f/QRFveVco_o.png" alt=""></p> 
<p>第一次运行有错误，很正常，我们继续把错误发给kimi，让他修复。<br> <img src="https://images2.imgbox.com/d2/81/m03UJ6Qb_o.png" alt=""><br> <img src="https://images2.imgbox.com/d6/83/vyfNgbFR_o.png" alt=""><br> <img src="https://images2.imgbox.com/42/f9/7HWTApBk_o.png" alt=""><br> <img src="https://images2.imgbox.com/8c/3d/07lTfd0o_o.png" alt=""></p> 
<p>kimi仿佛进入了错误死循环，始终无法修复错误，我认为他可能上下文理解错乱，所以重新描述了自己的需求，让他重新作答。结果依然无法使用。<br> <img src="https://images2.imgbox.com/6d/d5/Yn5Kb9eC_o.png" alt=""><br> <img src="https://images2.imgbox.com/b8/7c/bOfSIA4K_o.png" alt=""></p> 
<p>而且错误变得很离谱，连包都没有导入。<br> <img src="https://images2.imgbox.com/34/e1/p8FyrJpo_o.png" alt=""></p> 
<p>又经过多轮对话，我发现他始终无法修复自己的错误。<br> 最终我放弃和他的对话。<br> <img src="https://images2.imgbox.com/00/a9/E1jid2Tr_o.png" alt=""></p> 
<h3><a id="_29"></a>最终代码：</h3> 
<p>kimi的代码越改越复杂，使用<code>canvas</code>更复杂，有大部分错误发生在canvas绘制和字体选择上，没编程基础，都无法调试。</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> os  
<span class="token keyword">from</span> tkinter <span class="token keyword">import</span> Tk<span class="token punctuation">,</span> Button<span class="token punctuation">,</span> Label<span class="token punctuation">,</span> Entry<span class="token punctuation">,</span> filedialog<span class="token punctuation">,</span> messagebox  
<span class="token keyword">from</span> PIL <span class="token keyword">import</span> Image  
<span class="token keyword">from</span> reportlab<span class="token punctuation">.</span>pdfbase <span class="token keyword">import</span> pdfmetrics  
<span class="token keyword">from</span> reportlab<span class="token punctuation">.</span>pdfbase<span class="token punctuation">.</span>ttfonts <span class="token keyword">import</span> TTFont  
<span class="token keyword">from</span> reportlab<span class="token punctuation">.</span>pdfgen <span class="token keyword">import</span> canvas  
<span class="token keyword">from</span> reportlab<span class="token punctuation">.</span>lib<span class="token punctuation">.</span>pagesizes <span class="token keyword">import</span> A4  
  
<span class="token comment"># 注册字体  </span>
<span class="token keyword">def</span> <span class="token function">register_font</span><span class="token punctuation">(</span>font_name<span class="token punctuation">,</span> font_path<span class="token punctuation">)</span><span class="token punctuation">:</span>  
    <span class="token keyword">try</span><span class="token punctuation">:</span>  
    pdfmetrics<span class="token punctuation">.</span>registerFont<span class="token punctuation">(</span>TTFont<span class="token punctuation">(</span>font_name<span class="token punctuation">,</span> font_path<span class="token punctuation">)</span><span class="token punctuation">)</span>  
    <span class="token keyword">except</span> IOError <span class="token keyword">as</span> e<span class="token punctuation">:</span>  
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Error registering font:"</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span>  
  
<span class="token comment"># 合并图片到PDF  </span>
<span class="token keyword">def</span> <span class="token function">merge_images_to_pdf</span><span class="token punctuation">(</span>folder_path<span class="token punctuation">,</span> output_pdf_path<span class="token punctuation">)</span><span class="token punctuation">:</span>  
    register_font<span class="token punctuation">(</span><span class="token string">'SimSun'</span><span class="token punctuation">,</span> <span class="token string">r'C:\Windows\Fonts\simsun.ttc'</span><span class="token punctuation">)</span>  <span class="token comment"># 确保提供正确的字体文件路径  </span>
    pdf <span class="token operator">=</span> canvas<span class="token punctuation">.</span>Canvas<span class="token punctuation">(</span>output_pdf_path<span class="token punctuation">,</span> pagesize<span class="token operator">=</span>A4<span class="token punctuation">)</span>  
    current_page <span class="token operator">=</span> <span class="token number">1</span>  
    page_height <span class="token operator">=</span> pdf<span class="token punctuation">.</span>_pagesize<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>  
  
    images <span class="token operator">=</span> <span class="token punctuation">[</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>folder_path<span class="token punctuation">,</span> f<span class="token punctuation">)</span> <span class="token keyword">for</span> f <span class="token keyword">in</span> os<span class="token punctuation">.</span>listdir<span class="token punctuation">(</span>folder_path<span class="token punctuation">)</span> <span class="token keyword">if</span> f<span class="token punctuation">.</span>lower<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>endswith<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">'.png'</span><span class="token punctuation">,</span> <span class="token string">'.jpg'</span><span class="token punctuation">,</span> <span class="token string">'.jpeg'</span><span class="token punctuation">,</span> <span class="token string">'.bmp'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span>  
  
    <span class="token keyword">for</span> img_path <span class="token keyword">in</span> images<span class="token punctuation">:</span>  
    img <span class="token operator">=</span> Image<span class="token punctuation">.</span><span class="token builtin">open</span><span class="token punctuation">(</span>img_path<span class="token punctuation">)</span><span class="token punctuation">.</span>convert<span class="token punctuation">(</span><span class="token string">'RGB'</span><span class="token punctuation">)</span>  <span class="token comment"># 确保图像为RGB模式  </span>
    width<span class="token punctuation">,</span> height <span class="token operator">=</span> img<span class="token punctuation">.</span>size  
    <span class="token keyword">if</span> height <span class="token operator">&gt;</span> page_height<span class="token punctuation">:</span>  
    <span class="token comment"># 如果图片高度大于页面高度，需要创建新页面  </span>
    pdf<span class="token punctuation">.</span>showPage<span class="token punctuation">(</span><span class="token punctuation">)</span>  
    current_page <span class="token operator">+=</span> <span class="token number">1</span>  
    page_height <span class="token operator">=</span> pdf<span class="token punctuation">.</span>_pagesize<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>  
    pdf<span class="token punctuation">.</span>drawImage<span class="token punctuation">(</span>img<span class="token punctuation">,</span> width<span class="token punctuation">,</span> height<span class="token punctuation">,</span> x<span class="token operator">=</span><span class="token punctuation">(</span>A4<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">-</span> width<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> y<span class="token operator">=</span>page_height <span class="token operator">-</span> height<span class="token punctuation">)</span>  
  
    pdf<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token punctuation">)</span>  
    messagebox<span class="token punctuation">.</span>showinfo<span class="token punctuation">(</span><span class="token string">"Success"</span><span class="token punctuation">,</span> <span class="token string">"PDF Created Successfully!"</span><span class="token punctuation">)</span>  
  
<span class="token comment"># 选择文件夹  </span>
<span class="token keyword">def</span> <span class="token function">select_folder</span><span class="token punctuation">(</span>entry<span class="token punctuation">)</span><span class="token punctuation">:</span>  
    folder_path <span class="token operator">=</span> filedialog<span class="token punctuation">.</span>askdirectory<span class="token punctuation">(</span><span class="token punctuation">)</span>  
    entry<span class="token punctuation">.</span>delete<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'end'</span><span class="token punctuation">)</span>  
    entry<span class="token punctuation">.</span>insert<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> folder_path<span class="token punctuation">)</span>  
  
<span class="token comment"># GUI应用程序的主函数  </span>
<span class="token keyword">def</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  
    root <span class="token operator">=</span> Tk<span class="token punctuation">(</span><span class="token punctuation">)</span>  
    root<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">"Image to PDF Converter"</span><span class="token punctuation">)</span>  
  
    Label<span class="token punctuation">(</span>root<span class="token punctuation">,</span> text<span class="token operator">=</span><span class="token string">"Select the folder containing images:"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>pack<span class="token punctuation">(</span><span class="token punctuation">)</span>  
    folder_path_entry <span class="token operator">=</span> Entry<span class="token punctuation">(</span>root<span class="token punctuation">,</span> width<span class="token operator">=</span><span class="token number">50</span><span class="token punctuation">)</span>  
    folder_path_entry<span class="token punctuation">.</span>pack<span class="token punctuation">(</span><span class="token punctuation">)</span>  
  
    Button<span class="token punctuation">(</span>root<span class="token punctuation">,</span> text<span class="token operator">=</span><span class="token string">"Browse"</span><span class="token punctuation">,</span> command<span class="token operator">=</span><span class="token keyword">lambda</span><span class="token punctuation">:</span> select_folder<span class="token punctuation">(</span>folder_path_entry<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>pack<span class="token punctuation">(</span><span class="token punctuation">)</span>  
    Button<span class="token punctuation">(</span>root<span class="token punctuation">,</span> text<span class="token operator">=</span><span class="token string">"Run"</span><span class="token punctuation">,</span> command<span class="token operator">=</span><span class="token keyword">lambda</span><span class="token punctuation">:</span> merge_images_to_pdf<span class="token punctuation">(</span>folder_path_entry<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"merged.pdf"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>pack<span class="token punctuation">(</span><span class="token punctuation">)</span>  
  
    root<span class="token punctuation">.</span>mainloop<span class="token punctuation">(</span><span class="token punctuation">)</span>  
  
<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>  
    main<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<h3><a id="kimi_93"></a>结论：kimi代码编写失败。</h3> 
<h2><a id="_96"></a>通义千问</h2> 
<h3><a id="_97"></a>通义千问编码过程</h3> 
<p><img src="https://images2.imgbox.com/19/de/LqYQYKdx_o.png" alt=""></p> 
<p>无一例外第一次都会报错。<br> <img src="https://images2.imgbox.com/29/f4/OXcbWYIY_o.png" alt=""></p> 
<p>很惊喜，通义千问修改代码后，代码就运行成功。<br> <img src="https://images2.imgbox.com/c2/74/MUeV5Dcj_o.png" alt=""></p> 
<p>我们看下生成的pdf效果。<br> <img src="https://images2.imgbox.com/1a/d8/Wgxrb174_o.png" alt=""></p> 
<p>pdf内容是出来了，我们再让他优化下程序，将UI调大，pdf中图片调成一样大小。</p> 
<p><img src="https://images2.imgbox.com/53/c4/TxQiEVdY_o.png" alt=""></p> 
<p><img src="https://images2.imgbox.com/96/6c/CZermtzZ_o.png" alt=""></p> 
<p>有一个错误，让他修复，修复后成功。<br> <img src="https://images2.imgbox.com/d3/0e/PI19YneP_o.png" alt=""></p> 
<p>最终UI效果：<br> <img src="https://images2.imgbox.com/f9/19/Q0ecwwHy_o.png" alt=""></p> 
<p>最终PDF内容：<br> <img src="https://images2.imgbox.com/ee/62/Gc9X7NV8_o.png" alt=""></p> 
<h3><a id="_125"></a>最终代码：</h3> 
<p>通义千问给的代码更少，选择的库<code>img2pdf</code>比较合适。</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> os  
<span class="token keyword">import</span> tkinter <span class="token keyword">as</span> tk  
<span class="token keyword">from</span> tkinter <span class="token keyword">import</span> filedialog  
<span class="token keyword">import</span> img2pdf  
  
<span class="token triple-quoted-string string">''' 
模型：通义千问
需求：把一个文件夹中的图片转换成pdf文件，要求有一个界面，可以选择图片所在路径，然后点击运行，可以生产pdf文件，然后输出pdf所在路径。请保证相关的包都导入，如果用到字体，使用宋体常规。
UI大小适中，pdf内容图片一样大小。
'''</span> 
<span class="token keyword">def</span> <span class="token function">select_folder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  
    folder_path <span class="token operator">=</span> filedialog<span class="token punctuation">.</span>askdirectory<span class="token punctuation">(</span><span class="token punctuation">)</span>  
    <span class="token keyword">if</span> folder_path<span class="token punctuation">:</span>  
	    pdf_output_path <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>folder_path<span class="token punctuation">,</span> <span class="token string">"output.pdf"</span><span class="token punctuation">)</span>  
	    images_list <span class="token operator">=</span> <span class="token punctuation">[</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>folder_path<span class="token punctuation">,</span> img<span class="token punctuation">)</span> <span class="token keyword">for</span> img <span class="token keyword">in</span> os<span class="token punctuation">.</span>listdir<span class="token punctuation">(</span>folder_path<span class="token punctuation">)</span> <span class="token keyword">if</span> img<span class="token punctuation">.</span>endswith<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">'.png'</span><span class="token punctuation">,</span> <span class="token string">'.jpg'</span><span class="token punctuation">,</span> <span class="token string">'.jpeg'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span>  
	  
	    <span class="token comment"># 按照文件名排序，确保顺序正确  </span>
	    images_list<span class="token punctuation">.</span>sort<span class="token punctuation">(</span><span class="token punctuation">)</span>  
	  
	    <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>pdf_output_path<span class="token punctuation">,</span> <span class="token string">"wb"</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>  
		    pdf_bytes <span class="token operator">=</span> img2pdf<span class="token punctuation">.</span>convert<span class="token punctuation">(</span>images_list<span class="token punctuation">)</span>  
		    f<span class="token punctuation">.</span>write<span class="token punctuation">(</span>pdf_bytes<span class="token punctuation">)</span>  
	  
	    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"PDF文件已生成并保存至：</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>pdf_output_path<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>  
	  
  
<span class="token keyword">def</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  
    root <span class="token operator">=</span> tk<span class="token punctuation">.</span>Tk<span class="token punctuation">(</span><span class="token punctuation">)</span>  
    root<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">"图片转PDF工具"</span><span class="token punctuation">)</span>  
  
    browse_button <span class="token operator">=</span> tk<span class="token punctuation">.</span>Button<span class="token punctuation">(</span>root<span class="token punctuation">,</span> text<span class="token operator">=</span><span class="token string">"选择图片文件夹"</span><span class="token punctuation">,</span> command<span class="token operator">=</span>select_folder<span class="token punctuation">)</span>  
    browse_button<span class="token punctuation">.</span>pack<span class="token punctuation">(</span>pady<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">)</span>  
  
    root<span class="token punctuation">.</span>mainloop<span class="token punctuation">(</span><span class="token punctuation">)</span>  
  
  
<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>  
    main<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<h3><a id="_168"></a>结论：通义千问代码编写成功。</h3> 
<p>上面还有一个小问题，是通义千问给的UI并没有“运行”按钮，如果需要，可以继续让他添加按钮，但是已经很好了。</p> 
<h2><a id="_172"></a>文心一言</h2> 
<h3><a id="_173"></a>文心一言编码过程</h3> 
<p><img src="https://images2.imgbox.com/a9/3d/i2KibKmi_o.png" alt=""></p> 
<p><img src="https://images2.imgbox.com/14/6b/4xko4pqG_o.png" alt=""></p> 
<p>文心一言给的这段代码连编译都错误，很明显下面代码中少了一个右括号</p> 
<pre><code class="prism language-python">img <span class="token operator">=</span> img<span class="token punctuation">.</span>resize<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>img_width <span class="token operator">*</span> <span class="token number">0.75</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">(</span>img_height <span class="token operator">*</span> <span class="token number">0.75</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Image<span class="token punctuation">.</span>ANTIALIAS  
</code></pre> 
<p><img src="https://images2.imgbox.com/fb/f5/ZmDP5GjN_o.png" alt=""></p> 
<p><img src="https://images2.imgbox.com/80/97/ILZCMV2S_o.png" alt=""><br> 经过我的提示，它好像明白了，但是给的修正后的代码依然没有添加右括号🙄。<br> 算了，原谅它的无知，我手动添加括号试试。</p> 
<p><img src="https://images2.imgbox.com/c0/df/3hdXmqJL_o.png" alt=""></p> 
<p><img src="https://images2.imgbox.com/f4/f1/fyLmVJi2_o.png" alt=""></p> 
<p>文心一言后面就和kimi一样，进入了错误循环。<br> 大概又经过4次调试，代码终于调通，能够生成pdf，但是文件内容不完整。<br> <img src="https://images2.imgbox.com/54/c3/r3KIrd5D_o.png" alt=""></p> 
<h3><a id="_198"></a>最终代码</h3> 
<p>文心一言和kimi给的代码非常多，使用<code>canvas</code>库，复杂度更高，更难以调试。</p> 
<pre><code class="prism language-python"><span class="token keyword">from</span> tkinter <span class="token keyword">import</span> Tk<span class="token punctuation">,</span> filedialog<span class="token punctuation">,</span> Label<span class="token punctuation">,</span> Button<span class="token punctuation">,</span> Entry<span class="token punctuation">,</span> mainloop  
<span class="token keyword">from</span> PIL <span class="token keyword">import</span> Image  
<span class="token keyword">from</span> reportlab<span class="token punctuation">.</span>pdfgen <span class="token keyword">import</span> canvas  
<span class="token keyword">from</span> reportlab<span class="token punctuation">.</span>lib<span class="token punctuation">.</span>pagesizes <span class="token keyword">import</span> letter  
<span class="token keyword">import</span> os  
  
  
<span class="token keyword">def</span> <span class="token function">resize_image</span><span class="token punctuation">(</span>image_path<span class="token punctuation">,</span> max_width<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span> max_height<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  
    <span class="token triple-quoted-string string">"""  
    Resize an image to fit within the given maximum width and height.  
    Aspect ratio is preserved.  
    """</span>  
    <span class="token keyword">with</span> Image<span class="token punctuation">.</span><span class="token builtin">open</span><span class="token punctuation">(</span>image_path<span class="token punctuation">)</span> <span class="token keyword">as</span> img<span class="token punctuation">:</span>  
    orig_width<span class="token punctuation">,</span> orig_height <span class="token operator">=</span> img<span class="token punctuation">.</span>size  
    <span class="token keyword">if</span> max_width <span class="token keyword">is</span> <span class="token boolean">None</span> <span class="token keyword">and</span> max_height <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>  
    <span class="token comment"># No resizing needed if no max width or height is specified  </span>
    <span class="token keyword">return</span> img  
    <span class="token keyword">if</span> max_width <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>  
    max_width <span class="token operator">=</span> orig_width  
    <span class="token keyword">if</span> max_height <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>  
    max_height <span class="token operator">=</span> orig_height  
  
    <span class="token comment"># Calculate the scaling factor to fit the image  </span>
    width_ratio <span class="token operator">=</span> max_width <span class="token operator">/</span> <span class="token builtin">float</span><span class="token punctuation">(</span>orig_width<span class="token punctuation">)</span>  
    height_ratio <span class="token operator">=</span> max_height <span class="token operator">/</span> <span class="token builtin">float</span><span class="token punctuation">(</span>orig_height<span class="token punctuation">)</span>  
    ratio <span class="token operator">=</span> <span class="token builtin">min</span><span class="token punctuation">(</span>width_ratio<span class="token punctuation">,</span> height_ratio<span class="token punctuation">)</span>  
  
    <span class="token comment"># Resize the image  </span>
    new_size <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>orig_width <span class="token operator">*</span> ratio<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">(</span>orig_height <span class="token operator">*</span> ratio<span class="token punctuation">)</span><span class="token punctuation">)</span>  
    resized_img <span class="token operator">=</span> img<span class="token punctuation">.</span>resize<span class="token punctuation">(</span>new_size<span class="token punctuation">,</span> Image<span class="token punctuation">.</span>ANTIALIAS<span class="token punctuation">)</span>  
    <span class="token keyword">return</span> resized_img  
  
  
<span class="token keyword">def</span> <span class="token function">convert_images_to_pdf</span><span class="token punctuation">(</span>image_folder<span class="token punctuation">,</span> output_pdf<span class="token punctuation">)</span><span class="token punctuation">:</span>  
    images <span class="token operator">=</span> <span class="token punctuation">[</span>img <span class="token keyword">for</span> img <span class="token keyword">in</span> os<span class="token punctuation">.</span>listdir<span class="token punctuation">(</span>image_folder<span class="token punctuation">)</span> <span class="token keyword">if</span>  
    img<span class="token punctuation">.</span>lower<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>endswith<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">".png"</span><span class="token punctuation">,</span> <span class="token string">".jpg"</span><span class="token punctuation">,</span> <span class="token string">".jpeg"</span><span class="token punctuation">,</span> <span class="token string">".tiff"</span><span class="token punctuation">,</span> <span class="token string">".bmp"</span><span class="token punctuation">,</span> <span class="token string">".gif"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span>  
    <span class="token keyword">if</span> <span class="token keyword">not</span> images<span class="token punctuation">:</span>  
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"No images found in the folder."</span><span class="token punctuation">)</span>  
    <span class="token keyword">return</span>  
  
    c <span class="token operator">=</span> canvas<span class="token punctuation">.</span>Canvas<span class="token punctuation">(</span>output_pdf<span class="token punctuation">,</span> pagesize<span class="token operator">=</span>letter<span class="token punctuation">)</span>  
    height <span class="token operator">=</span> letter<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">72</span>  <span class="token comment"># 72 is the margin at the top  </span>
  
    <span class="token keyword">for</span> img_name <span class="token keyword">in</span> images<span class="token punctuation">:</span>  
    img_path <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>image_folder<span class="token punctuation">,</span> img_name<span class="token punctuation">)</span>  
  
    <span class="token comment"># Resize the image to fit the page width (or a specified maximum size)  </span>
    resized_img <span class="token operator">=</span> resize_image<span class="token punctuation">(</span>img_path<span class="token punctuation">,</span> max_width<span class="token operator">=</span>letter<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">72</span><span class="token punctuation">)</span>  <span class="token comment"># 72 is for the left and right margins  </span>
  
    <span class="token comment"># Calculate the new height based on the resized width to preserve aspect ratio  </span>
    new_height <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span><span class="token punctuation">(</span>resized_img<span class="token punctuation">.</span>size<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token punctuation">(</span>letter<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">72</span><span class="token punctuation">)</span> <span class="token operator">/</span> resized_img<span class="token punctuation">.</span>size<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  
  
    <span class="token comment"># Draw the resized image onto the canvas  </span>
    c<span class="token punctuation">.</span>drawImage<span class="token punctuation">(</span>resized_img<span class="token punctuation">,</span> <span class="token number">36</span><span class="token punctuation">,</span> height <span class="token operator">-</span> new_height<span class="token punctuation">,</span> width<span class="token operator">=</span>resized_img<span class="token punctuation">.</span>size<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> height<span class="token operator">=</span>new_height<span class="token punctuation">)</span>  
  
    <span class="token comment"># Update the current height for the next image  </span>
    height <span class="token operator">-=</span> new_height <span class="token operator">+</span> <span class="token number">12</span>  <span class="token comment"># 12 is the gap between images  </span>
  
    <span class="token keyword">if</span> height <span class="token operator">&lt;</span> <span class="token number">36</span><span class="token punctuation">:</span>  <span class="token comment"># Add a new page if needed  </span>
    c<span class="token punctuation">.</span>showPage<span class="token punctuation">(</span><span class="token punctuation">)</span>  
    height <span class="token operator">=</span> letter<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">72</span>  
  
    <span class="token comment"># Save the PDF and close the canvas  </span>
    c<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token punctuation">)</span>  
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"PDF saved to: </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>output_pdf<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>  
  
  
<span class="token keyword">def</span> <span class="token function">select_directory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  
    directory <span class="token operator">=</span> filedialog<span class="token punctuation">.</span>askdirectory<span class="token punctuation">(</span><span class="token punctuation">)</span>  
    entry_image_folder<span class="token punctuation">.</span>delete<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'end'</span><span class="token punctuation">)</span>  
    entry_image_folder<span class="token punctuation">.</span>insert<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> directory<span class="token punctuation">)</span>  
  
  
<span class="token comment"># 创建GUI界面  </span>
root <span class="token operator">=</span> Tk<span class="token punctuation">(</span><span class="token punctuation">)</span>  
root<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">'Image to PDF Converter'</span><span class="token punctuation">)</span>  
  
<span class="token comment"># 图片文件夹输入  </span>
label_image_folder <span class="token operator">=</span> Label<span class="token punctuation">(</span>root<span class="token punctuation">,</span> text<span class="token operator">=</span><span class="token string">'Select Image Folder:'</span><span class="token punctuation">)</span>  
label_image_folder<span class="token punctuation">.</span>pack<span class="token punctuation">(</span><span class="token punctuation">)</span>  
entry_image_folder <span class="token operator">=</span> Entry<span class="token punctuation">(</span>root<span class="token punctuation">,</span> width<span class="token operator">=</span><span class="token number">50</span><span class="token punctuation">)</span>  
entry_image_folder<span class="token punctuation">.</span>pack<span class="token punctuation">(</span><span class="token punctuation">)</span>  
  
<span class="token comment"># 选择文件夹按钮  </span>
button_select_folder <span class="token operator">=</span> Button<span class="token punctuation">(</span>root<span class="token punctuation">,</span> text<span class="token operator">=</span><span class="token string">'Select Folder'</span><span class="token punctuation">,</span> command<span class="token operator">=</span>select_directory<span class="token punctuation">)</span>  
button_select_folder<span class="token punctuation">.</span>pack<span class="token punctuation">(</span><span class="token punctuation">)</span>  
  
<span class="token comment"># 转换按钮  </span>
button_convert <span class="token operator">=</span> Button<span class="token punctuation">(</span>root<span class="token punctuation">,</span> text<span class="token operator">=</span><span class="token string">'Convert to PDF'</span><span class="token punctuation">,</span>  
                        command<span class="token operator">=</span><span class="token keyword">lambda</span><span class="token punctuation">:</span> convert_images_to_pdf<span class="token punctuation">(</span>entry_image_folder<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'output.pdf'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
button_convert<span class="token punctuation">.</span>pack<span class="token punctuation">(</span><span class="token punctuation">)</span>  
  
<span class="token comment"># 运行GUI主循环  </span>
mainloop<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p>我想让他继续优化pdf内容，但是接下来再调试，也无法调试成功。放弃吧~<br> <img src="https://images2.imgbox.com/fa/b5/invMjnww_o.png" alt=""></p> 
<h3><a id="_301"></a>结论：文心一言代码编写失败。</h3> 
<h2><a id="_304"></a>总结</h2> 
<p>按照编码运行结果排序：通义千问 &gt; 文心一言 &gt; kimi。</p> 
<p>按照编码纠错效率排序：通义千问 &gt; 文心一言 &gt; kimi。</p> 
<p>按照代码质量排序：通义千问&gt; kimi / 文心一言 。</p> 
<p>如果您对测评结果有疑问，欢迎交流，更多大模型案例在公众号首发。</p> 
<p>#AIGC #kimi #通义千问 #文心一言 #大模型</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/a9f51e6250bbe3c997b129b29b8b9bf7/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Stable Diffusion文生图技术详解：从零基础到掌握CLIP模型、Unet训练和采样器迭代</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e71cd785113eb369adc548d17304c2ad/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【LeetCode】排序数组——不一样的方式实现快排</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>