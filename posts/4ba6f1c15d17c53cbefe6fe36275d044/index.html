<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>H3Cä¸VPNé«˜çº§åº”ç”¨ï¼ˆä¸‰ï¼‰æ·±å…¥è§£æH3Cä¸VPNé«˜çº§åº”ç”¨ï¼šå…¨é¢æŒ‡å— - ç¼–ç¨‹å¤§å’–</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/4ba6f1c15d17c53cbefe6fe36275d044/">
  <meta property="og:site_name" content="ç¼–ç¨‹å¤§å’–">
  <meta property="og:title" content="H3Cä¸VPNé«˜çº§åº”ç”¨ï¼ˆä¸‰ï¼‰æ·±å…¥è§£æH3Cä¸VPNé«˜çº§åº”ç”¨ï¼šå…¨é¢æŒ‡å—">
  <meta property="og:description" content="æ–‡ç« ç›®å½• æ·±å…¥è§£æH3Cä¸VPNé«˜çº§åº”ç”¨ï¼šå…¨é¢æŒ‡å—å¼•è¨€ä¸€ã€VPNåŸºæœ¬æ¦‚å¿µä¸åŸç†1.1 VPNæ¦‚è¿°1.2 IPSec VPNä¸SSL VPN äºŒã€H3C VPNè§£å†³æ–¹æ¡ˆ2.1 H3C VPNç®€ä»‹2.2 H3C VPNè®¾å¤‡ç±»å‹ ä¸‰ã€è¿œç¨‹è®¿é—®VPNâ€”â€”Easy VPN3.1 ç†è®ºéƒ¨åˆ†3.1.1 è¿œç¨‹è®¿é—®VPNåŸç†3.1.2 IPSec VPNä¸­çš„NATè±å… 3.2 å®ç°éƒ¨åˆ†3.2.1 ASAé˜²ç«å¢™ä¸Šçš„é…ç½® å››ã€åº”ç”¨æ¡ˆä¾‹è§£æ4.1 åº”ç”¨æ¡ˆä¾‹ä¸€ï¼šè·¯ç”±å™¨ä¸Šå®ç°è¿œç¨‹VPN4.2 åº”ç”¨æ¡ˆä¾‹äºŒï¼šé˜²ç«å¢™å®ç°è¿œç¨‹VPN äº”ã€é…ç½®æ­¥éª¤è¯¦è§£5.1 è·¯ç”±å™¨é…ç½®æ­¥éª¤5.2 é˜²ç«å¢™é…ç½®æ­¥éª¤ å…­ã€æ€»ç»“ ğŸ‘ ä¸ªäººç½‘ç«™ï¼šã€æ´›ç§‹èµ„æºå°ç«™ã€‘
æ·±å…¥è§£æH3Cä¸VPNé«˜çº§åº”ç”¨ï¼šå…¨é¢æŒ‡å— å¼•è¨€ éšç€ä¼ä¸šä¿¡æ¯åŒ–å»ºè®¾çš„ä¸æ–­æ·±å…¥ï¼ŒVPNï¼ˆè™šæ‹Ÿä¸“ç”¨ç½‘ç»œï¼‰æŠ€æœ¯å·²ç»æˆä¸ºè¿æ¥åˆ†æ”¯æœºæ„ã€è¿œç¨‹åŠå…¬çš„é‡è¦å·¥å…·ã€‚H3Cä½œä¸ºç½‘ç»œè®¾å¤‡é¢†åŸŸçš„é¢†å¯¼è€…ï¼Œæä¾›äº†ä¸°å¯Œçš„VPNè§£å†³æ–¹æ¡ˆå’Œåº”ç”¨æ¡ˆä¾‹ã€‚æœ¬ç¯‡åšå®¢å°†è¯¦ç»†æ¢è®¨H3Cä¸VPNçš„é«˜çº§åº”ç”¨ï¼Œæ¶µç›–ç†è®ºéƒ¨åˆ†å’Œå®é™…é…ç½®æ­¥éª¤ï¼ŒåŠ›æ±‚ä¸ºè¯»è€…æä¾›ä¸€ä»½å…¨é¢ä¸”å®ç”¨çš„å‚è€ƒæŒ‡å—ã€‚
ä¸€ã€VPNåŸºæœ¬æ¦‚å¿µä¸åŸç† 1.1 VPNæ¦‚è¿° VPNï¼ˆè™šæ‹Ÿä¸“ç”¨ç½‘ç»œï¼‰æ˜¯ä¸€ç§é€šè¿‡å…¬å…±ç½‘ç»œï¼ˆå¦‚äº’è”ç½‘ï¼‰ä¸ºè¿œç¨‹ç”¨æˆ·å’Œåˆ†æ”¯æœºæ„æä¾›å®‰å…¨è¿æ¥çš„æŠ€æœ¯ã€‚VPNé€šè¿‡åŠ å¯†å’Œéš§é“æŠ€æœ¯ï¼Œç¡®ä¿æ•°æ®åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­çš„å®‰å…¨æ€§å’Œå®Œæ•´æ€§ã€‚
1.2 IPSec VPNä¸SSL VPN IPSecï¼ˆInternet Protocol Securityï¼‰å’ŒSSLï¼ˆSecure Sockets Layerï¼‰æ˜¯ä¸¤ç§å¸¸è§çš„VPNåè®®ã€‚IPSec VPNä¸»è¦ç”¨äºç«™ç‚¹é—´è¿æ¥ï¼Œé€‚åˆéœ€è¦é«˜å®‰å…¨æ€§çš„åº”ç”¨åœºæ™¯ï¼›SSL VPNåˆ™æ›´é€‚åˆè¿œç¨‹è®¿é—®ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡æµè§ˆå™¨æ–¹ä¾¿åœ°è¿›è¡Œè¿æ¥ã€‚
äºŒã€H3C VPNè§£å†³æ–¹æ¡ˆ 2.1 H3C VPNç®€ä»‹ H3Cæä¾›äº†ä¸°å¯Œçš„VPNè§£å†³æ–¹æ¡ˆï¼ŒåŒ…æ‹¬IPSec VPNã€SSL VPNã€GRE VPNç­‰ï¼Œèƒ½å¤Ÿæ»¡è¶³ä¼ä¸šä¸åŒçš„ç½‘ç»œéœ€æ±‚ã€‚H3C VPNè®¾å¤‡å…·æœ‰é«˜æ€§èƒ½ã€é«˜å¯é æ€§å’Œæ˜“äºç®¡ç†çš„ç‰¹ç‚¹ã€‚
2.2 H3C VPNè®¾å¤‡ç±»å‹ H3Cçš„VPNè®¾å¤‡åŒ…æ‹¬é˜²ç«å¢™ã€è·¯ç”±å™¨å’Œä¸“ç”¨VPNç½‘å…³ç­‰ã€‚è¿™äº›è®¾å¤‡èƒ½å¤Ÿçµæ´»é…ç½®ï¼Œæ”¯æŒå¤šç§VPNåè®®å’Œåº”ç”¨åœºæ™¯ã€‚
ä¸‰ã€è¿œç¨‹è®¿é—®VPNâ€”â€”Easy VPN 3.1 ç†è®ºéƒ¨åˆ† 3.1.1 è¿œç¨‹è®¿é—®VPNåŸç† è¿œç¨‹è®¿é—®VPNé€šè¿‡åœ¨å®¢æˆ·ç«¯å’ŒVPNç½‘å…³ä¹‹é—´å»ºç«‹åŠ å¯†éš§é“ï¼Œå®ç°è¿œç¨‹ç”¨æˆ·å¯¹ä¼ä¸šå†…éƒ¨èµ„æºçš„å®‰å…¨è®¿é—®ã€‚å…¶åŸºæœ¬æµç¨‹åŒ…æ‹¬ç®¡ç†è¿æ¥çš„å»ºç«‹ã€æ•°æ®è¿æ¥çš„å»ºç«‹ã€ç”¨æˆ·éªŒè¯ï¼ˆå¦‚XAUTHï¼‰ã€ç»„ç­–ç•¥çš„åº”ç”¨ç­‰ã€‚">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-07-22T18:06:49+08:00">
    <meta property="article:modified_time" content="2024-07-22T18:06:49+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ç¼–ç¨‹å¤§å’–" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ç¼–ç¨‹å¤§å’–</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">H3Cä¸VPNé«˜çº§åº”ç”¨ï¼ˆä¸‰ï¼‰æ·±å…¥è§£æH3Cä¸VPNé«˜çº§åº”ç”¨ï¼šå…¨é¢æŒ‡å—</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>æ–‡ç« ç›®å½•</h4> 
 <ul><li><ul><li><a href="#H3CVPN_2" rel="nofollow">æ·±å…¥è§£æH3Cä¸VPNé«˜çº§åº”ç”¨ï¼šå…¨é¢æŒ‡å—</a></li><li><ul><li><a href="#_4" rel="nofollow">å¼•è¨€</a></li><li><a href="#VPN_8" rel="nofollow">ä¸€ã€VPNåŸºæœ¬æ¦‚å¿µä¸åŸç†</a></li><li><ul><li><a href="#11_VPN_10" rel="nofollow">1.1 VPNæ¦‚è¿°</a></li><li><a href="#12_IPSec_VPNSSL_VPN_14" rel="nofollow">1.2 IPSec VPNä¸SSL VPN</a></li></ul> 
    </li><li><a href="#H3C_VPN_18" rel="nofollow">äºŒã€H3C VPNè§£å†³æ–¹æ¡ˆ</a></li><li><ul><li><a href="#21_H3C_VPN_20" rel="nofollow">2.1 H3C VPNç®€ä»‹</a></li><li><a href="#22_H3C_VPN_24" rel="nofollow">2.2 H3C VPNè®¾å¤‡ç±»å‹</a></li></ul> 
    </li><li><a href="#VPNEasy_VPN_28" rel="nofollow">ä¸‰ã€è¿œç¨‹è®¿é—®VPNâ€”â€”Easy VPN</a></li><li><ul><li><a href="#31__30" rel="nofollow">3.1 ç†è®ºéƒ¨åˆ†</a></li><li><ul><li><a href="#311_VPN_32" rel="nofollow">3.1.1 è¿œç¨‹è®¿é—®VPNåŸç†</a></li><li><a href="#312_IPSec_VPNNAT_36" rel="nofollow">3.1.2 IPSec VPNä¸­çš„NATè±å…</a></li></ul> 
     </li><li><a href="#32__40" rel="nofollow">3.2 å®ç°éƒ¨åˆ†</a></li><li><ul><li><a href="#321_ASA_42" rel="nofollow">3.2.1 ASAé˜²ç«å¢™ä¸Šçš„é…ç½®</a></li></ul> 
    </li></ul> 
    </li><li><a href="#_51" rel="nofollow">å››ã€åº”ç”¨æ¡ˆä¾‹è§£æ</a></li><li><ul><li><a href="#41_VPN_53" rel="nofollow">4.1 åº”ç”¨æ¡ˆä¾‹ä¸€ï¼šè·¯ç”±å™¨ä¸Šå®ç°è¿œç¨‹VPN</a></li><li><a href="#42_VPN_62" rel="nofollow">4.2 åº”ç”¨æ¡ˆä¾‹äºŒï¼šé˜²ç«å¢™å®ç°è¿œç¨‹VPN</a></li></ul> 
    </li><li><a href="#_70" rel="nofollow">äº”ã€é…ç½®æ­¥éª¤è¯¦è§£</a></li><li><ul><li><a href="#51__72" rel="nofollow">5.1 è·¯ç”±å™¨é…ç½®æ­¥éª¤</a></li><li><a href="#52__113" rel="nofollow">5.2 é˜²ç«å¢™é…ç½®æ­¥éª¤</a></li></ul> 
    </li><li><a href="#_158" rel="nofollow">å…­ã€æ€»ç»“</a></li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<blockquote> 
 <p>ğŸ‘ ä¸ªäººç½‘ç«™ï¼šã€<a href="https://code.luoqiu.site/" rel="nofollow">æ´›ç§‹èµ„æºå°ç«™</a>ã€‘</p> 
</blockquote> 
<h3><a id="H3CVPN_2"></a>æ·±å…¥è§£æH3Cä¸VPNé«˜çº§åº”ç”¨ï¼šå…¨é¢æŒ‡å—</h3> 
<h4><a id="_4"></a>å¼•è¨€</h4> 
<p>éšç€ä¼ä¸šä¿¡æ¯åŒ–å»ºè®¾çš„ä¸æ–­æ·±å…¥ï¼ŒVPNï¼ˆè™šæ‹Ÿä¸“ç”¨ç½‘ç»œï¼‰æŠ€æœ¯å·²ç»æˆä¸ºè¿æ¥åˆ†æ”¯æœºæ„ã€è¿œç¨‹åŠå…¬çš„é‡è¦å·¥å…·ã€‚H3Cä½œä¸ºç½‘ç»œè®¾å¤‡é¢†åŸŸçš„é¢†å¯¼è€…ï¼Œæä¾›äº†ä¸°å¯Œçš„VPNè§£å†³æ–¹æ¡ˆå’Œåº”ç”¨æ¡ˆä¾‹ã€‚æœ¬ç¯‡åšå®¢å°†è¯¦ç»†æ¢è®¨H3Cä¸VPNçš„é«˜çº§åº”ç”¨ï¼Œæ¶µç›–ç†è®ºéƒ¨åˆ†å’Œå®é™…é…ç½®æ­¥éª¤ï¼ŒåŠ›æ±‚ä¸ºè¯»è€…æä¾›ä¸€ä»½å…¨é¢ä¸”å®ç”¨çš„å‚è€ƒæŒ‡å—ã€‚</p> 
<h4><a id="VPN_8"></a>ä¸€ã€VPNåŸºæœ¬æ¦‚å¿µä¸åŸç†</h4> 
<h5><a id="11_VPN_10"></a>1.1 VPNæ¦‚è¿°</h5> 
<p>VPNï¼ˆè™šæ‹Ÿä¸“ç”¨ç½‘ç»œï¼‰æ˜¯ä¸€ç§é€šè¿‡å…¬å…±ç½‘ç»œï¼ˆå¦‚äº’è”ç½‘ï¼‰ä¸ºè¿œç¨‹ç”¨æˆ·å’Œåˆ†æ”¯æœºæ„æä¾›å®‰å…¨è¿æ¥çš„æŠ€æœ¯ã€‚VPNé€šè¿‡åŠ å¯†å’Œéš§é“æŠ€æœ¯ï¼Œç¡®ä¿æ•°æ®åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­çš„å®‰å…¨æ€§å’Œå®Œæ•´æ€§ã€‚</p> 
<h5><a id="12_IPSec_VPNSSL_VPN_14"></a>1.2 IPSec VPNä¸SSL VPN</h5> 
<p>IPSecï¼ˆInternet Protocol Securityï¼‰å’ŒSSLï¼ˆSecure Sockets Layerï¼‰æ˜¯ä¸¤ç§å¸¸è§çš„VPNåè®®ã€‚IPSec VPNä¸»è¦ç”¨äºç«™ç‚¹é—´è¿æ¥ï¼Œé€‚åˆéœ€è¦é«˜å®‰å…¨æ€§çš„åº”ç”¨åœºæ™¯ï¼›SSL VPNåˆ™æ›´é€‚åˆè¿œç¨‹è®¿é—®ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡æµè§ˆå™¨æ–¹ä¾¿åœ°è¿›è¡Œè¿æ¥ã€‚</p> 
<h4><a id="H3C_VPN_18"></a>äºŒã€H3C VPNè§£å†³æ–¹æ¡ˆ</h4> 
<h5><a id="21_H3C_VPN_20"></a>2.1 H3C VPNç®€ä»‹</h5> 
<p>H3Cæä¾›äº†ä¸°å¯Œçš„VPNè§£å†³æ–¹æ¡ˆï¼ŒåŒ…æ‹¬IPSec VPNã€SSL VPNã€GRE VPNç­‰ï¼Œèƒ½å¤Ÿæ»¡è¶³ä¼ä¸šä¸åŒçš„ç½‘ç»œéœ€æ±‚ã€‚H3C VPNè®¾å¤‡å…·æœ‰é«˜æ€§èƒ½ã€é«˜å¯é æ€§å’Œæ˜“äºç®¡ç†çš„ç‰¹ç‚¹ã€‚</p> 
<h5><a id="22_H3C_VPN_24"></a>2.2 H3C VPNè®¾å¤‡ç±»å‹</h5> 
<p>H3Cçš„VPNè®¾å¤‡åŒ…æ‹¬é˜²ç«å¢™ã€è·¯ç”±å™¨å’Œä¸“ç”¨VPNç½‘å…³ç­‰ã€‚è¿™äº›è®¾å¤‡èƒ½å¤Ÿçµæ´»é…ç½®ï¼Œæ”¯æŒå¤šç§VPNåè®®å’Œåº”ç”¨åœºæ™¯ã€‚</p> 
<h4><a id="VPNEasy_VPN_28"></a>ä¸‰ã€è¿œç¨‹è®¿é—®VPNâ€”â€”Easy VPN</h4> 
<h5><a id="31__30"></a>3.1 ç†è®ºéƒ¨åˆ†</h5> 
<h6><a id="311_VPN_32"></a>3.1.1 è¿œç¨‹è®¿é—®VPNåŸç†</h6> 
<p>è¿œç¨‹è®¿é—®VPNé€šè¿‡åœ¨å®¢æˆ·ç«¯å’ŒVPNç½‘å…³ä¹‹é—´å»ºç«‹åŠ å¯†éš§é“ï¼Œå®ç°è¿œç¨‹ç”¨æˆ·å¯¹ä¼ä¸šå†…éƒ¨èµ„æºçš„å®‰å…¨è®¿é—®ã€‚å…¶åŸºæœ¬æµç¨‹åŒ…æ‹¬ç®¡ç†è¿æ¥çš„å»ºç«‹ã€æ•°æ®è¿æ¥çš„å»ºç«‹ã€ç”¨æˆ·éªŒè¯ï¼ˆå¦‚XAUTHï¼‰ã€ç»„ç­–ç•¥çš„åº”ç”¨ç­‰ã€‚</p> 
<h6><a id="312_IPSec_VPNNAT_36"></a>3.1.2 IPSec VPNä¸­çš„NATè±å…</h6> 
<p>åœ¨é…ç½®IPSec VPNæ—¶ï¼Œå¦‚æœæ¶‰åŠåˆ°NATï¼ˆç½‘ç»œåœ°å€è½¬æ¢ï¼‰ï¼Œéœ€è¦é…ç½®NATè±å…ï¼Œä»¥ç¡®ä¿VPNæµé‡ä¸è¢«NATå¤„ç†ï¼Œä»è€Œé¿å…IPSecæŠ¥æ–‡çš„å®Œæ•´æ€§æ ¡éªŒå¤±è´¥ã€‚</p> 
<h5><a id="32__40"></a>3.2 å®ç°éƒ¨åˆ†</h5> 
<h6><a id="321_ASA_42"></a>3.2.1 ASAé˜²ç«å¢™ä¸Šçš„é…ç½®</h6> 
<p>åœ¨ASAé˜²ç«å¢™ä¸Šå®ç°IPSec VPNï¼Œéœ€è¦é…ç½®ç®¡ç†è¿æ¥ã€æ•°æ®è¿æ¥ã€ç”¨æˆ·éªŒè¯å’Œç»„ç­–ç•¥ç­‰ã€‚å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p> 
<ol><li><strong>å»ºç«‹ç®¡ç†è¿æ¥</strong>ï¼šä½¿ç”¨DHç®—æ³•å…±äº«å¯†é’¥ä¿¡æ¯ï¼Œå¯¹ç­‰ä½“è¿›è¡Œèº«ä»½éªŒè¯ã€‚</li><li><strong>å»ºç«‹æ•°æ®è¿æ¥</strong>ï¼šå®šä¹‰å¯¹ç­‰ä½“é—´ä¿æŠ¤çš„æµé‡å’Œä½¿ç”¨çš„å®‰å…¨åè®®ã€‚</li><li><strong>ç”¨æˆ·éªŒè¯</strong>ï¼šé€šè¿‡XAUTHåè®®ï¼Œä½¿ç”¨AAAæœåŠ¡å™¨è¿›è¡Œç”¨æˆ·éªŒè¯ã€‚</li><li><strong>ç»„ç­–ç•¥åº”ç”¨</strong>ï¼šä¸ºè¿œç¨‹ç”¨æˆ·é…ç½®åœ°å€æ± ã€DNSã€ç½‘å…³ç­‰ç­–ç•¥ã€‚</li></ol> 
<h4><a id="_51"></a>å››ã€åº”ç”¨æ¡ˆä¾‹è§£æ</h4> 
<h5><a id="41_VPN_53"></a>4.1 åº”ç”¨æ¡ˆä¾‹ä¸€ï¼šè·¯ç”±å™¨ä¸Šå®ç°è¿œç¨‹VPN</h5> 
<p>åœ¨è·¯ç”±å™¨ä¸Šé…ç½®è¿œç¨‹VPNçš„æ­¥éª¤å¦‚ä¸‹ï¼š</p> 
<ol><li><strong>é…ç½®AAA</strong>ï¼šå¯ç”¨AAAåŠŸèƒ½ï¼Œé…ç½®æœ¬åœ°ç”¨æˆ·åå¯†ç æˆ–ä½¿ç”¨è¿œç¨‹RADIUS/TACACS+æœåŠ¡å™¨ã€‚</li><li><strong>é…ç½®IKE</strong>ï¼šå®šä¹‰åŠ å¯†ç®—æ³•ã€å“ˆå¸Œç®—æ³•å’Œé¢„å…±äº«å¯†é’¥ç­‰ã€‚</li><li><strong>é…ç½®ç»„ç­–ç•¥</strong>ï¼šè®¾ç½®åœ°å€æ± ã€DNSã€ç½‘å…³å’Œéš§é“åˆ†ç¦»ç­‰ç­–ç•¥ã€‚</li><li><strong>é…ç½®Crypto Map</strong>ï¼šå®šä¹‰ä¼ è¾“é›†ï¼Œåˆ›å»ºåŠ¨æ€å’Œé™æ€Crypto Mapï¼Œå¹¶åº”ç”¨åˆ°æ¥å£ã€‚</li></ol> 
<h5><a id="42_VPN_62"></a>4.2 åº”ç”¨æ¡ˆä¾‹äºŒï¼šé˜²ç«å¢™å®ç°è¿œç¨‹VPN</h5> 
<p>åœ¨é˜²ç«å¢™ä¸Šé…ç½®è¿œç¨‹VPNçš„æ­¥éª¤å¦‚ä¸‹ï¼š</p> 
<ol><li><strong>é…ç½®IKE</strong>ï¼šå¯ç”¨å¤–éƒ¨æ¥å£çš„IKEåŠŸèƒ½ï¼Œå®šä¹‰åŠ å¯†ç®—æ³•å’Œé¢„å…±äº«å¯†é’¥ç­‰ã€‚</li><li><strong>é…ç½®ç»„ç­–ç•¥å’Œéš§é“ç»„</strong>ï¼šè®¾ç½®åœ°å€æ± ã€DNSã€ç½‘å…³å’Œéš§é“åˆ†ç¦»ç­‰ç­–ç•¥ï¼Œå¹¶å…³è”åˆ°éš§é“ç»„ã€‚</li><li><strong>é…ç½®Crypto Map</strong>ï¼šå®šä¹‰ä¼ è¾“é›†ï¼Œåˆ›å»ºåŠ¨æ€å’Œé™æ€Crypto Mapï¼Œå¹¶åº”ç”¨åˆ°æ¥å£ã€‚</li></ol> 
<h4><a id="_70"></a>äº”ã€é…ç½®æ­¥éª¤è¯¦è§£</h4> 
<h5><a id="51__72"></a>5.1 è·¯ç”±å™¨é…ç½®æ­¥éª¤</h5> 
<ol><li> <p><strong>å¯ç”¨AAAåŠŸèƒ½</strong>ï¼š</p> <pre><code class="prism language-bash">R1<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment"># aaa new-model</span>
R1<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment"># aaa authentication login vpn_authen local</span>
R1<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment"># aaa authorization network vpn_author local</span>
</code></pre> </li><li> <p><strong>é…ç½®IKEç­–ç•¥</strong>ï¼š</p> <pre><code class="prism language-bash">R1<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment"># crypto isakmp policy 10</span>
R1<span class="token punctuation">(</span>config-isakmp<span class="token punctuation">)</span><span class="token comment"># encryption 3des</span>
R1<span class="token punctuation">(</span>config-isakmp<span class="token punctuation">)</span><span class="token comment"># hash sha</span>
R1<span class="token punctuation">(</span>config-isakmp<span class="token punctuation">)</span><span class="token comment"># authentication pre-share</span>
R1<span class="token punctuation">(</span>config-isakmp<span class="token punctuation">)</span><span class="token comment"># group 2</span>
R1<span class="token punctuation">(</span>config-isakmp<span class="token punctuation">)</span><span class="token comment"># exit</span>
</code></pre> </li><li> <p><strong>é…ç½®ç»„ç­–ç•¥</strong>ï¼š</p> <pre><code class="prism language-bash">R1<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment"># ip local pool vpn_pool 192.168.1.1 192.168.1.200</span>
R1<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment"># crypto isakmp client configuration group group_name</span>
R1<span class="token punctuation">(</span>config-isakmp-group<span class="token punctuation">)</span><span class="token comment"># key pre_share_key</span>
R1<span class="token punctuation">(</span>config-isakmp-group<span class="token punctuation">)</span><span class="token comment"># pool vpn_pool</span>
R1<span class="token punctuation">(</span>config-isakmp-group<span class="token punctuation">)</span><span class="token comment"># dns 192.168.10.254</span>
R1<span class="token punctuation">(</span>config-isakmp-group<span class="token punctuation">)</span><span class="token comment"># exit</span>
</code></pre> </li><li> <p><strong>é…ç½®Crypto Map</strong>ï¼š</p> <pre><code class="prism language-bash">R1<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment"># crypto ipsec transform-set benet-set esp-3des esp-sha-hmac</span>
R1<span class="token punctuation">(</span>config-crypto-tran<span class="token punctuation">)</span><span class="token comment"># exit</span>
R1<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment"># crypto dynamic-map dynamic_map_name 1</span>
R1<span class="token punctuation">(</span>config-crypto-m<span class="token punctuation">)</span><span class="token comment"># set transform-set benet-set</span>
R1<span class="token punctuation">(</span>config-crypto-m<span class="token punctuation">)</span><span class="token comment"># exit</span>
R1<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment"># crypto map static_map_name 1000 ipsec-isakmp dynamic dynamic_map_name</span>
R1<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment"># int f0/0</span>
R1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment"># crypto map static_map_name</span>
</code></pre> </li></ol> 
<h5><a id="52__113"></a>5.2 é˜²ç«å¢™é…ç½®æ­¥éª¤</h5> 
<ol><li> <p><strong>é…ç½®æœ¬åœ°ç”¨æˆ·</strong>ï¼š</p> <pre><code class="prism language-bash">ASA<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment"># username benet password cisco</span>
</code></pre> </li><li> <p><strong>é…ç½®IKEç­–ç•¥</strong>ï¼š</p> <pre><code class="prism language-bash">ASA<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment"># crypto isakmp enable outside</span>
ASA<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment"># crypto isakmp policy 10</span>
ASA<span class="token punctuation">(</span>config-isakmp-policy<span class="token punctuation">)</span><span class="token comment"># encryption 3des</span>
ASA<span class="token punctuation">(</span>config-isakmp-policy<span class="token punctuation">)</span><span class="token comment"># hash sha</span>
ASA<span class="token punctuation">(</span>config-isakmp-policy<span class="token punctuation">)</span><span class="token comment"># authentication pre-share</span>
ASA<span class="token punctuation">(</span>config-isakmp-policy<span class="token punctuation">)</span><span class="token comment"># group 2</span>
ASA<span class="token punctuation">(</span>config-isakmp-policy<span class="token punctuation">)</span><span class="token comment"># exit</span>
</code></pre> </li><li> <p><strong>é…ç½®ç»„ç­–ç•¥å’Œéš§é“ç»„</strong>ï¼š</p> <pre><code class="prism language-bash">ASA<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment"># ip local pool benet-pool 192.168.1.200-192.168.1.210</span>
ASA<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment"># access-list split-acl permit ip 192.168.1.0 255.255.255.0 any</span>
ASA<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment"># group-policy test-group internal</span>
ASA<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment"># group-policy test-group attributes</span>
ASA<span class="token punctuation">(</span>config-group-policy<span class="token punctuation">)</span><span class="token comment"># split-tunnel-policy tunnelspecified</span>
ASA<span class="token punctuation">(</span>config-group-policy<span class="token punctuation">)</span><span class="token comment"># split-tunnel-network-list value split-acl</span>
ASA<span class="token punctuation">(</span>config-group-policy<span class="token punctuation">)</span><span class="token comment"># exit</span>
ASA<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment"># tunnel-group benet-group type ipsec-ra</span>
ASA<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment"># tunnel-group benet-group general-attributes</span>
ASA<span class="token punctuation">(</span>config-tunnel-general<span class="token punctuation">)</span><span class="token comment"># address-pool benet-pool</span>
ASA<span class="token punctuation">(</span>config-tunnel-general<span class="token punctuation">)</span><span class="token comment"># default-group-policy test-group</span>
ASA<span class="token punctuation">(</span>config-tunnel-general<span class="token punctuation">)</span><span class="token comment"># exit</span>
ASA<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment"># tunnel-group benet-group ipsec-attributes</span>
ASA<span class="token punctuation">(</span>config-tunnel-ipsec<span class="token punctuation">)</span><span class="token comment"># pre-shared-key benet-key</span>
ASA<span class="token punctuation">(</span>config-tunnel-ipsec<span class="token punctuation">)</span><span class="token comment"># exit</span>
</code></pre> </li><li> <p><strong>é…ç½®Crypto Map</strong>ï¼š</p> <pre><code class="prism language-bash">ASA<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment"># crypto ipsec transform-set benet-set esp-3des esp-sha-hmac</span>
ASA<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment"># crypto dynamic-map benet-dymap 1 set transform-set benet-set</span>
ASA<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment"># crypto map benet-stamap 1000 ipsec-isakmp dynamic benet-dymap</span>
ASA<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment"># crypto map benet-stamap int outside</span>
</code></pre> </li></ol> 
<h4><a id="_158"></a>å…­ã€æ€»ç»“</h4> 
<p>æˆ‘ä»¬ä¸ä»…äº†è§£äº†H3C VPNè§£å†³æ–¹æ¡ˆçš„ç†è®ºçŸ¥è¯†ï¼Œè¿˜é€šè¿‡å…·ä½“çš„é…ç½®æ­¥éª¤å’Œåº”ç”¨æ¡ˆä¾‹ï¼Œå¯¹å…¶æœ‰äº†æ›´åŠ æ·±å…¥çš„ç†è§£ã€‚æ— è®ºæ˜¯åœ¨è·¯ç”±å™¨è¿˜æ˜¯é˜²ç«å¢™ä¸Šé…ç½®VPNï¼Œéƒ½æ˜¯ä¸€ä¸ªç³»ç»Ÿæ€§å·¥ç¨‹ï¼Œéœ€è¦ç»¼åˆè€ƒè™‘å®‰å…¨æ€§ã€æ€§èƒ½å’Œç®¡ç†ä¾¿æ·æ€§ç­‰å› ç´ ã€‚</p> 
<blockquote> 
 <p>ğŸ‘‰ æœ€åï¼Œæ„¿å¤§å®¶éƒ½å¯ä»¥è§£å†³å·¥ä½œä¸­å’Œç”Ÿæ´»ä¸­é‡åˆ°çš„éš¾é¢˜ï¼Œå‰‘é”‹æ‰€æŒ‡,æ‰€å‘æŠ«é¡ï½</p> 
</blockquote>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d807c6f034dcf4260f7318691fa18746/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">å®¹å™¨å†…å‹åŠ›æµ‹è¯•</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/2dbfd3eb0056e1bcb262c151fa0efd90/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">Javaåˆè¯†æ€»ç»“ï¼ˆjavaç¨‹åºç»“æ„ç»„æˆã€ä»£ç è¿è¡Œã€æ³¨é‡Šã€å…³é”®å­—ã€æ ‡è¯†ç¬¦ï¼‰</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ç¼–ç¨‹å¤§å’–.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>