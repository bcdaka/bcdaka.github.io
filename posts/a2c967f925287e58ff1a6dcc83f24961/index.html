<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【课程设计】Java 计算器实现（源码 &#43; 详解） - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/a2c967f925287e58ff1a6dcc83f24961/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="【课程设计】Java 计算器实现（源码 &#43; 详解）">
  <meta property="og:description" content="🎈 作者：Linux猿
🎈 简介：CSDN博客专家🏆，华为云享专家🏆，Linux、C/C&#43;&#43;、云计算、物联网、面试、刷题、算法尽管咨询我，关注我，有问题私聊！
🎈 关注专栏：C/C&#43;&#43;/Java课程设计100例 优质好文持续更新中……🚀🚀🚀
🎈 欢迎小伙伴们点赞👍、收藏⭐、留言💬
目录
一、需求分析
二、设计思路
2.1 界面设计
2.2 表达式算法
三、代码实现
「Java 计算器」是非常适合刚学习 Java 用来练手的基础项目，即可以巩固 Java 基础，也可以学习表达式算法，本篇文章来讲解下基于 Java 的「计算器」实现。
在正式讲解之前，先来看下实现效果，如下所示。
图1 Java 计算器界面 一、需求分析 功能需求如下所示：
（1）实现算术加法、减法、乘法、除法的基本运算；
（2）支持括号‘（’ 和 ‘）’操作；
（3）支持删除操作；
（4）支持清除操作；
（5）支持小数操作；
（6）支持错误检查；
二、设计思路 功能设计主要包括两部分：界面设计和表达式算法，下面分别来介绍下。
2.1 界面设计 通过继承 JFrame 类实现界面的布局，主要分为两部分，一个是表达式输入框，另一个是表达式输入需要的按钮。
其中，表达式需要的按钮包括：&#34;C&#34;, &#34;(&#34;, &#34;)&#34;, &#34;/&#34;, &#34;7&#34;, &#34;8&#34;, &#34;9&#34;, &#34;*&#34;, &#34;4&#34;, &#34;5&#34;, &#34;6&#34;, &#34;-&#34;, &#34;1&#34;, &#34;2&#34;, &#34;3&#34;, &#34;&#43;&#34;, &#34;0&#34;, &#34;.&#34;, &#34;DEL&#34;, &#34;=&#34;。
其中，C 按钮表示清空输入框，DEL 按钮表示删除输入框中的最后一个字符，= 按钮表示计算输入框中的表达式。">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2023-06-13T21:33:10+08:00">
    <meta property="article:modified_time" content="2023-06-13T21:33:10+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【课程设计】Java 计算器实现（源码 &#43; 详解）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><strong>🎈 作者：</strong><a href="https://blog.csdn.net/nyist_zxp" title="Linux猿">Linux猿</a></p> 
<p><strong>🎈 简介：</strong>CSDN博客专家🏆，华为云享专家🏆，Linux、C/C++、云计算、物联网、面试、刷题、算法尽管咨询我，关注我，有问题私聊！</p> 
<p><strong>🎈 关注专栏：<strong><a href="https://blog.csdn.net/nyist_zxp/category_11232270.html" title="C/C++/Java课程设计100例">C/C++/Java课程设计100例</a></strong></strong> 优质好文持续更新中……🚀🚀🚀</p> 
<p><strong>🎈 </strong>欢迎小伙伴们点赞👍、收藏⭐、留言💬</p> 
<hr> 
<p id="main-toc"><strong>目录</strong></p> 
<p id="%E4%B8%80%E3%80%81%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90-toc" style="margin-left:0px;"><a href="#%E4%B8%80%E3%80%81%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90" rel="nofollow">一、需求分析</a></p> 
<p id="%E4%BA%8C%E3%80%81%E8%AE%BE%E8%AE%A1%E6%80%9D%E8%B7%AF-toc" style="margin-left:0px;"><a href="#%E4%BA%8C%E3%80%81%E8%AE%BE%E8%AE%A1%E6%80%9D%E8%B7%AF" rel="nofollow">二、设计思路</a></p> 
<p id="2.1%20%E7%95%8C%E9%9D%A2%E8%AE%BE%E8%AE%A1-toc" style="margin-left:40px;"><a href="#2.1%20%E7%95%8C%E9%9D%A2%E8%AE%BE%E8%AE%A1" rel="nofollow">2.1 界面设计</a></p> 
<p id="2.2%20%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%AE%97%E6%B3%95-toc" style="margin-left:40px;"><a href="#2.2%20%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%AE%97%E6%B3%95" rel="nofollow">2.2 表达式算法</a></p> 
<p id="%E4%B8%89%E3%80%81%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0-toc" style="margin-left:0px;"><a href="#%E4%B8%89%E3%80%81%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0" rel="nofollow">三、代码实现</a></p> 
<hr id="hr-toc"> 
<p><span style="color:#fe2c24;"><strong>「</strong>Java 计算器<strong>」</strong></span>是非常适合刚学习 Java 用来练手的基础项目，即可以巩固 Java 基础，也可以学习表达式算法，本篇文章来讲解下基于 Java 的<span style="color:#fe2c24;"><strong>「</strong>计算器<strong>」</strong></span>实现。</p> 
<p>在正式讲解之前，先来看下实现效果，如下所示。</p> 
<div class="img-center"> 
 <figure class="image"> 
  <img alt="" src="https://images2.imgbox.com/e4/8d/wJfdQWze_o.png"> 
  <figcaption>
    图1 Java 计算器界面 
  </figcaption> 
 </figure> 
</div> 
<p></p> 
<h2 id="%E4%B8%80%E3%80%81%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90">一、需求分析</h2> 
<p>功能需求如下所示：</p> 
<p>（1）实现算术加法、减法、乘法、除法的基本运算；</p> 
<p>（2）支持括号‘（’ 和 ‘）’操作；</p> 
<p>（3）支持删除操作；</p> 
<p>（4）支持清除操作；</p> 
<p>（5）支持小数操作；</p> 
<p>（6）支持错误检查；</p> 
<h2 id="%E4%BA%8C%E3%80%81%E8%AE%BE%E8%AE%A1%E6%80%9D%E8%B7%AF">二、设计思路</h2> 
<p>功能设计主要包括两部分：界面设计和表达式算法，下面分别来介绍下。</p> 
<h3 id="2.1%20%E7%95%8C%E9%9D%A2%E8%AE%BE%E8%AE%A1">2.1 界面设计</h3> 
<p>通过继承 JFrame 类实现界面的布局，主要分为两部分，一个是表达式输入框，另一个是表达式输入需要的按钮。</p> 
<p>其中，表达式需要的按钮包括："C", "(", ")", "/", "7", "8", "9", "*", "4", "5", "6", "-", "1", "2", "3", "+", "0", ".", "DEL", "="。</p> 
<p>其中，C 按钮表示清空输入框，DEL 按钮表示删除输入框中的最后一个字符，= 按钮表示计算输入框中的表达式。</p> 
<h3 id="2.2%20%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%AE%97%E6%B3%95">2.2 表达式算法</h3> 
<p>计算输入的表达式：使用两个栈分别存储表达式计算需要的数值和表达式计算操作符，同时，表达式计算操作符也根据优先级划分，通过操作符获取数值进行计算。</p> 
<h2 id="%E4%B8%89%E3%80%81%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0">三、代码实现</h2> 
<p>基于 Java 的<span style="color:#fe2c24;"><strong>「</strong>计算器<strong>」</strong></span>代码实现如下所示。</p> 
<div> 
 <pre><code class="language-java">import javax.swing.*;
import java.awt.*;
import java.util.HashMap;
import java.util.Stack;

public class Calculator extends JFrame {

    private Stack&lt;Double&gt; expressionValue = new Stack&lt;&gt;(); // 值
    private Stack&lt;String&gt; expressionOperator = new Stack&lt;&gt;(); // 运算符

    private Calculator() {

        setTitle("基于 Java 的计算器");
        setSize(345, 500);
        setLocation(700, 300);
        Container c = getContentPane();
        c.setLayout(null);
        
        // 输入面板
        JTextArea jt = new JTextArea(100, 100);
        jt.setFont(new Font("Aria", Font.BOLD, 30));
        jt.setLineWrap(true);
        JScrollPane sp = new JScrollPane(jt);
        jt.setCaretPosition(jt.getDocument().getLength());
        sp.setBounds(0, 0, 330, 163);
        c.add(sp);

        JPanel p = new JPanel();
        p.setLayout(new GridLayout(5, 4, 0, 0));
        p.setBounds(0, 162, 340, 300);
        
        // 放置按钮
        int n = 20;
        String[] num = {
        		"C", "(", ")", "/",
        		"7", "8", "9", "*",
        		"4", "5", "6", "-",
        		"1", "2", "3", "+",
        		"0", ".", "DEL", "="
        	};
        JButton[] jb = new JButton[n];
        for(int i = 0; i &lt; n; i++) {
            jb[i] = new JButton(num[i]);
            p.add(jb[i]);
        }
        c.add(p);

        for(int i = 1; i &lt; 18; i++) {
        	final int j = i;
        	jb[i].addActionListener(e-&gt; jt.append(num[j]));
        }
        
        // 监听 C 按键
        jb[0].addActionListener(e-&gt;{
            jt.setText("");
            expressionValue.clear();
            expressionOperator.clear();
        });
        
        // 监听 DEL 按键
        jb[18].addActionListener(e-&gt;{
            try {
                jt.setText(jt.getText().substring(0,jt.getText().length()-1));
            } catch (Exception ignored) {
            	
            }
        });
        
        // 监听 = 按键
        jb[19].addActionListener(e-&gt;{
            try {
            	System.out.println(jt.getText());
                double x = calculate(jt.getText() + "#");
                jt.setText("");  				// 清空输入框
                jt.append(String.valueOf(x)); 	// 显示计算结果
            } catch(Exception ex) { 			// 异常情况
                if(ex.getMessage() == null) {
                	jt.setText("计算错误!");
                } else {
                	jt.setText(ex.getMessage());
                }
            }
        });
        
        KeyStroke enter = KeyStroke.getKeyStroke("ENTER");
        jt.getInputMap().put(enter, "none");

        this.getRootPane().setDefaultButton(jb[19]);

        setVisible(true);
        setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);
    }
    
    // 执行 + - * / 计算
    private void calculate(){
        String b = expressionOperator.pop();
        double c = expressionValue.pop();
        double d = expressionValue.pop();
        double e;
        
        if (b.equals("+")) {
            e = d + c;
            expressionValue.push(e);
        } else if (b.equals("-")) {
            e = d - c;
            expressionValue.push(e);
        } else if (b.equals("*")) {
            e = d * c;
            expressionValue.push(e);
        } else if (b.equals("/")) {
            if(c == 0)
                throw new ArithmeticException("除 0 错误!");
            e = d / c;
            expressionValue.push(e);
        }
    }
    
    // 计算字符串的值
    private Double calculate(String text){
        HashMap&lt;String, Integer&gt; operator = new HashMap&lt;&gt;();
        operator.put("(",0);
        operator.put(")",0);
        operator.put("/",2);
        operator.put("*",2);
        operator.put("-",1);
        operator.put("+",1);
        operator.put("#",0);

        expressionOperator.push("#");

        int flag = 0;
        int n = text.length();
        for(int i = 0; i &lt; n; i++) {
            String a = String.valueOf(text.charAt(i));
            if (!a.matches("[0-9.]")) {
                if(flag != i) {
                	expressionValue.push(Double.parseDouble(text.substring(flag, i)));
                }
                flag = i + 1;
                while(!(a.equals("#") &amp;&amp; expressionOperator.peek().equals("#"))) { // peek 返回栈顶元素，不删除
                    if(operator.get(a) &gt; operator.get(expressionOperator.peek()) || a.equals("(")) {
                    	expressionOperator.push(a); // 加入操作符
                        break;
                    } else {
                        if(a.equals(")")) {
                            while(!expressionOperator.peek().equals("("))
                                calculate();
                            expressionOperator.pop();
                            break;
                        }
                        calculate();
                    }
                }

            }
        }

        return expressionValue.pop();
    }

    public static void main(String[] args) {
        new Calculator();
    }
}</code></pre> 
</div> 
<p></p> 
<p>🍓🍓🍓 更多<span style="color:#fe2c24;"><strong>「</strong>课程设计/大作业<strong>」</strong></span>请点击<strong><span style="color:#fe2c24;">『 </span><strong><a href="https://blog.csdn.net/nyist_zxp/category_11232270.html" title="C/C++/Java课程设计100例">C/C++/Java课程设计100例</a></strong></strong><span style="color:#fe2c24;"> 』</span>获取！🎉🎉🎉</p> 
<p></p> 
<hr> 
<p><strong>🎈 </strong>感觉有帮助记得<span style="color:#fe2c24;"><strong>「一键三连</strong><strong>」</strong></span>支持下哦！有问题可在评论区留言💬，感谢大家的一路支持！🤞猿哥将持续输出<span style="color:#fe2c24;"><strong>「优质文章</strong><strong>」</strong></span>回馈大家！🤞🌹🌹🌹🌹🌹🌹🤞</p> 
<hr> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/03d1c498adbc689508dcfb03bc50c56f/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">java Web实现用户登录功能</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f126369f442c94aa6f1e84faad86fd88/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Windows窗体学这一篇就够了(C#控件讲解)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>