<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【Oracle】创建表 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/9d462eee16a089703ff6c195701f2af3/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="【Oracle】创建表">
  <meta property="og:description" content="目录
方法一：CREATE TABLE 语法
创建表示例1：创建stuinfo(学生信息表)
创建表示例2：添加stuinfo(学生信息表)约束
方法二：CREATE TABLE AS 语法
创建表示例3：
创建表示例4：实现对select查询的结果进行快速备份
创建表示例5：复制另一个表的选定列
创建表示例6：从多个表复制选定的列
方法一：CREATE TABLE 语法 CREATE TABLE schema_name.table_name ( column_1 data_type column_constraint, column_2 data_type column_constraint, ... table_constraint ); 首先，在CREATE TABLE子句中，指定新表所属的表名和模式名称。
其次，在圆括号内列出所有列。如果一个表有多个列，则需要用逗号分隔每个列的定义。列定义包括列名，后跟它的数据类型，例如NUMBER，VARCHAR2和列约束，如NOT NULL，主键，约束检查等。
注意：请注意用户权限问题，必须具有CREATE TABLE系统特权才能在模式中创建新表，并使用CREATE ANY TABLE系统特权在其他用户的模式中创建新表。除此之外，新表的所有者必须具有包含新表或UNLIMITED TABLESPACE系统特权的表空间的配额。
在我们之前创建的JT_CS用户下创建表，一定要有CREATE TABLE权限，不然无法创建数据表。
创建表示例1：创建stuinfo(学生信息表) --实例建表stuinfo create table JT_CS.stuinfo ( stuid varchar2(11) not null,--学号：&#39;S&#39;&#43;班号(7位数)&#43;学生序号(3位数)(不能为空)SC200101001 stuname varchar2(50) not null,--学生姓名(不能为空) sex char(1) not null,--性别(不能为空)1(男)、2(女) age number(2) not null,--年龄(不能为空) classno varchar2(7) not null,--班号：&#39;C&#39;&#43;年级(4位数)&#43;班级序号(2位数)(不能为空)C200101 stuaddress varchar2(100) default &#39;地址未录入&#39;,--地址 (不填或为空时默认填入‘地址未录入‘) grade char(4) not null,--年级(不能为空) enroldate date,--入学时间 idnumber varchar2(18) default &#39;身份证未采集&#39; not null--身份证(不能为空) ) -- Add comments to the table --comment on table 是给表名进行注释 comment on table JT_CS.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2023-12-15T23:09:18+08:00">
    <meta property="article:modified_time" content="2023-12-15T23:09:18+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【Oracle】创建表</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="%E6%96%B9%E6%B3%95%E4%B8%80%EF%BC%9ACREATE%20TABLE%20%E8%AF%AD%E6%B3%95-toc" style="margin-left:0px;"><a href="#%E6%96%B9%E6%B3%95%E4%B8%80%EF%BC%9ACREATE%20TABLE%20%E8%AF%AD%E6%B3%95" rel="nofollow">方法一：CREATE TABLE 语法</a></p> 
<p id="%E5%88%9B%E5%BB%BA%E8%A1%A8%E7%A4%BA%E4%BE%8B1%EF%BC%9A%E5%88%9B%E5%BB%BAstuinfo(%E5%AD%A6%E7%94%9F%E4%BF%A1%E6%81%AF%E8%A1%A8)-toc" style="margin-left:40px;"><a href="#%E5%88%9B%E5%BB%BA%E8%A1%A8%E7%A4%BA%E4%BE%8B1%EF%BC%9A%E5%88%9B%E5%BB%BAstuinfo%28%E5%AD%A6%E7%94%9F%E4%BF%A1%E6%81%AF%E8%A1%A8%29" rel="nofollow">创建表示例1：创建stuinfo(学生信息表)</a></p> 
<p id="%E5%88%9B%E5%BB%BA%E8%A1%A8%E7%A4%BA%E4%BE%8B2%EF%BC%9A%E6%B7%BB%E5%8A%A0stuinfo(%E5%AD%A6%E7%94%9F%E4%BF%A1%E6%81%AF%E8%A1%A8)%E7%BA%A6%E6%9D%9F-toc" style="margin-left:40px;"><a href="#%E5%88%9B%E5%BB%BA%E8%A1%A8%E7%A4%BA%E4%BE%8B2%EF%BC%9A%E6%B7%BB%E5%8A%A0stuinfo%28%E5%AD%A6%E7%94%9F%E4%BF%A1%E6%81%AF%E8%A1%A8%29%E7%BA%A6%E6%9D%9F" rel="nofollow">创建表示例2：添加stuinfo(学生信息表)约束</a></p> 
<p id="%E6%96%B9%E6%B3%95%E4%BA%8C%EF%BC%9ACREATE%20TABLE%20AS%20%E8%AF%AD%E6%B3%95-toc" style="margin-left:0px;"><a href="#%E6%96%B9%E6%B3%95%E4%BA%8C%EF%BC%9ACREATE%20TABLE%20AS%20%E8%AF%AD%E6%B3%95" rel="nofollow">方法二：CREATE TABLE AS 语法</a></p> 
<p id="%E5%88%9B%E5%BB%BA%E8%A1%A8%E7%A4%BA%E4%BE%8B3%EF%BC%9A-toc" style="margin-left:40px;"><a href="#%E5%88%9B%E5%BB%BA%E8%A1%A8%E7%A4%BA%E4%BE%8B3%EF%BC%9A" rel="nofollow">创建表示例3：</a></p> 
<p id="%E5%88%9B%E5%BB%BA%E8%A1%A8%E7%A4%BA%E4%BE%8B4%EF%BC%9A%E5%AE%9E%E7%8E%B0%E5%AF%B9select%E6%9F%A5%E8%AF%A2%E7%9A%84%E7%BB%93%E6%9E%9C%E8%BF%9B%E8%A1%8C%E5%BF%AB%E9%80%9F%E5%A4%87%E4%BB%BD-toc" style="margin-left:40px;"><a href="#%E5%88%9B%E5%BB%BA%E8%A1%A8%E7%A4%BA%E4%BE%8B4%EF%BC%9A%E5%AE%9E%E7%8E%B0%E5%AF%B9select%E6%9F%A5%E8%AF%A2%E7%9A%84%E7%BB%93%E6%9E%9C%E8%BF%9B%E8%A1%8C%E5%BF%AB%E9%80%9F%E5%A4%87%E4%BB%BD" rel="nofollow">创建表示例4：实现对select查询的结果进行快速备份</a></p> 
<p id="%E5%88%9B%E5%BB%BA%E8%A1%A8%E7%A4%BA%E4%BE%8B5%EF%BC%9A%E5%A4%8D%E5%88%B6%E5%8F%A6%E4%B8%80%E4%B8%AA%E8%A1%A8%E7%9A%84%E9%80%89%E5%AE%9A%E5%88%97-toc" style="margin-left:40px;"><a href="#%E5%88%9B%E5%BB%BA%E8%A1%A8%E7%A4%BA%E4%BE%8B5%EF%BC%9A%E5%A4%8D%E5%88%B6%E5%8F%A6%E4%B8%80%E4%B8%AA%E8%A1%A8%E7%9A%84%E9%80%89%E5%AE%9A%E5%88%97" rel="nofollow">创建表示例5：复制另一个表的选定列</a></p> 
<p id="%E5%88%9B%E5%BB%BA%E8%A1%A8%E7%A4%BA%E4%BE%8B6%EF%BC%9A%E4%BB%8E%E5%A4%9A%E4%B8%AA%E8%A1%A8%E5%A4%8D%E5%88%B6%E9%80%89%E5%AE%9A%E7%9A%84%E5%88%97-toc" style="margin-left:40px;"><a href="#%E5%88%9B%E5%BB%BA%E8%A1%A8%E7%A4%BA%E4%BE%8B6%EF%BC%9A%E4%BB%8E%E5%A4%9A%E4%B8%AA%E8%A1%A8%E5%A4%8D%E5%88%B6%E9%80%89%E5%AE%9A%E7%9A%84%E5%88%97" rel="nofollow">创建表示例6：从多个表复制选定的列</a></p> 
<h2 id="%E6%96%B9%E6%B3%95%E4%B8%80%EF%BC%9ACREATE%20TABLE%20%E8%AF%AD%E6%B3%95"><strong>方法一：CREATE TABLE 语法</strong></h2> 
<pre><code class="language-sql">CREATE TABLE schema_name.table_name (

    column_1 data_type column_constraint,

    column_2 data_type column_constraint,

    ...

    table_constraint

);</code></pre> 
<p>首先，在CREATE TABLE子句中，指定新表所属的表名和模式名称。</p> 
<p>其次，在圆括号内列出所有列。如果一个表有多个列，则需要用逗号分隔每个列的定义。列定义包括列名，后跟它的数据类型，例如NUMBER，VARCHAR2和列约束，如NOT NULL，主键，约束检查等。</p> 
<p>注意：请注意用户权限问题，必须具有CREATE TABLE系统特权才能在模式中创建新表，并使用CREATE ANY TABLE系统特权在其他用户的模式中创建新表。除此之外，新表的所有者必须具有包含新表或UNLIMITED TABLESPACE系统特权的表空间的配额。</p> 
<p>在我们之前创建的JT_CS用户下创建表，一定要有CREATE TABLE权限，不然无法创建数据表。</p> 
<h3 id="%E5%88%9B%E5%BB%BA%E8%A1%A8%E7%A4%BA%E4%BE%8B1%EF%BC%9A%E5%88%9B%E5%BB%BAstuinfo(%E5%AD%A6%E7%94%9F%E4%BF%A1%E6%81%AF%E8%A1%A8)"><strong>创建表示例1：创建stuinfo(学生信息表)</strong></h3> 
<pre><code class="language-sql"> --实例建表stuinfo

 create table JT_CS.stuinfo

 (

   stuid      varchar2(11) not null,--学号：'S'+班号(7位数)+学生序号(3位数)(不能为空)SC200101001

   stuname    varchar2(50) not null,--学生姓名(不能为空)

   sex        char(1) not null,--性别(不能为空)1(男)、2(女)

   age        number(2) not null,--年龄(不能为空)

   classno    varchar2(7) not null,--班号：'C'+年级(4位数)+班级序号(2位数)(不能为空)C200101

   stuaddress varchar2(100) default '地址未录入',--地址 (不填或为空时默认填入‘地址未录入‘)

   grade      char(4) not null,--年级(不能为空)

   enroldate  date,--入学时间

   idnumber   varchar2(18) default '身份证未采集' not null--身份证(不能为空)

 )



 -- Add comments to the table

 --comment on table 是给表名进行注释

 comment on table JT_CS.stuinfo

   is '学生信息表';

 -- Add comments to the columns

 --comment on column 是给表字段进行注释。

 comment on column JT_CS.stuinfo.stuid

   is '学号';

 comment on column JT_CS.stuinfo.stuname

   is '学生姓名';

 comment on column JT_CS.stuinfo.sex

   is '学生性别';

 comment on column JT_CS.stuinfo.age

   is '学生年龄';

 comment on column JT_CS.stuinfo.classno

   is '学生班级号';

 comment on column JT_CS.stuinfo.stuaddress

   is '学生住址';

 comment on column JT_CS.stuinfo.grade

   is '年级';

 comment on column JT_CS.stuinfo.enroldate

   is '入学时间';

 comment on column JT_CS.stuinfo.idnumber

   is '身份证号';</code></pre> 
<p>通过上面Crate Table命令创建了stuinfo学生信息表后，还可以继续给表添加相应的约束来保证表数据的准确性。比如：学生的年龄不能存在大龄的岁数，可能是错误数据、性别不能填入不是1(男)、2(女)之外的数据等。</p> 
<h3 id="%E5%88%9B%E5%BB%BA%E8%A1%A8%E7%A4%BA%E4%BE%8B2%EF%BC%9A%E6%B7%BB%E5%8A%A0stuinfo(%E5%AD%A6%E7%94%9F%E4%BF%A1%E6%81%AF%E8%A1%A8)%E7%BA%A6%E6%9D%9F"><strong>创建表示例2：添加stuinfo(学生信息表)约束</strong></h3> 
<pre><code class="language-sql">--添加约束

--把stuid当做主键，主键字段的数据必须是唯一性的(学号是唯一的)

alter table JT_CS.STUINFO

  add constraint pk_stuinfo_stuid primary key (STUID);

-- --给字段年龄age添加约束，学生的年龄只能0-60岁之内的

alter table JT_CS.STUINFO

  add constraint ch_stuinfo_age

  check (age&gt;0 and age&lt;=60);

  

--性别不能填入不是1(男)、2(女)之外的数据

alter table JT_CS.STUINFO

  add constraint ch_stuinfo_sex

  check (sex='1' or sex='2');

--年级

alter table JT_CS.STUINFO

  add constraint ch_stuinfo_GRADE

  check (grade&gt;='2000' and grade&lt;='9999');</code></pre> 
<p><img alt="" height="388" src="https://images2.imgbox.com/b2/95/IYqqWG5J_o.png" width="835"></p> 
<h2 id="%E6%96%B9%E6%B3%95%E4%BA%8C%EF%BC%9ACREATE%20TABLE%20AS%20%E8%AF%AD%E6%B3%95"><strong>方法二：CREATE TABLE AS 语法</strong></h2> 
<p>除了上边Create Table 语句可以创建数据表以外，使用Create Table AS语句一样可以通过复制现有表的列从现有表来创建新表。同时，Create Table 表名 as select 语句也可以实现对select查询的结果进行快速备份。</p> 
<pre><code class="language-sql">--语法：SELECT语句可指定列或添加where条件

CREATE TABLE new_table  

AS (SELECT * FROM old_table);</code></pre> 
<h3 id="%E5%88%9B%E5%BB%BA%E8%A1%A8%E7%A4%BA%E4%BE%8B3%EF%BC%9A"><strong>创建表示例3：</strong></h3> 
<pre><code class="language-sql">CREATE TABLE JT_CS.STUINFO_01 AS (SELECT * FROM JT_CS.STUINFO);</code></pre> 
<p><img alt="" height="318" src="https://images2.imgbox.com/79/fa/Dfqlm82H_o.png" width="719"></p> 
<h3 id="%E5%88%9B%E5%BB%BA%E8%A1%A8%E7%A4%BA%E4%BE%8B4%EF%BC%9A%E5%AE%9E%E7%8E%B0%E5%AF%B9select%E6%9F%A5%E8%AF%A2%E7%9A%84%E7%BB%93%E6%9E%9C%E8%BF%9B%E8%A1%8C%E5%BF%AB%E9%80%9F%E5%A4%87%E4%BB%BD">创建表示例4：实现对select查询的结果进行快速备份</h3> 
<pre><code class="language-sql">新创建的表命名为STUINFO_02，并具有与STUINFO相同的表字段和记录（性别参数小于2的所有记录）；

CREATE TABLE JT_CS.STUINFO_02 AS (SELECT * FROM JT_CS.STUINFO WHERE sex&lt;2);</code></pre> 
<h3 id="%E5%88%9B%E5%BB%BA%E8%A1%A8%E7%A4%BA%E4%BE%8B5%EF%BC%9A%E5%A4%8D%E5%88%B6%E5%8F%A6%E4%B8%80%E4%B8%AA%E8%A1%A8%E7%9A%84%E9%80%89%E5%AE%9A%E5%88%97">创建表示例5：复制另一个表的选定列</h3> 
<pre><code class="language-sql">-----语法：

CREATE TABLE new_table AS (SELECT column_1, column2, ... column_n FROM old_table); 



-----示例：创建新表，指定STUNAME, SEX,AGE,CLASSNO四列，并选择SEX小于2的记录。

CREATE TABLE scott.STUINFO_03 AS (SELECT stuname, sex,age,classno FROM  scott.STUINFO WHERE sex&lt;2);</code></pre> 
<p><img alt="" height="235" src="https://images2.imgbox.com/5b/e0/FwxyH5IX_o.png" width="360"></p> 
<h3 id="%E5%88%9B%E5%BB%BA%E8%A1%A8%E7%A4%BA%E4%BE%8B6%EF%BC%9A%E4%BB%8E%E5%A4%9A%E4%B8%AA%E8%A1%A8%E5%A4%8D%E5%88%B6%E9%80%89%E5%AE%9A%E7%9A%84%E5%88%97">创建表示例6：从多个表复制选定的列</h3> 
<pre><code class="language-sql">-----语法：

CREATE TABLE new_table AS (SELECT column_1, column2, ... column_n FROM old_table_1, old_table_2, ... old_table_n); 


-----示例：

CREATE TABLE scott.STUINFO_04 AS (SELECT scott.STUINFO.stuname, scott.STUINFO.sex,  scott.STUINFO_01.age,scott.STUINFO_01.classno FROM scott.STUINFO,

scott.STUINFO_01 WHERE scott.STUINFO.stuname = scott.STUINFO_01.stuname AND  scott.STUINFO.sex &lt; 2);</code></pre> 
<p><img alt="" height="211" src="https://images2.imgbox.com/24/8a/S4QYVNr1_o.png" width="726"></p> 
<p><img alt="" height="214" src="https://images2.imgbox.com/27/63/yJ5u0SOi_o.png" width="723"></p> 
<p><img alt="" height="200" src="https://images2.imgbox.com/97/8e/B6wRQhL3_o.png" width="540"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e471d964256b83659973c14ddbe00eba/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">人工智能与大数据：未来的合作与挑战</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e657125f8ebae4af8073c117ad42de0a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【Python】json.dumps()函数详解和示例</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>