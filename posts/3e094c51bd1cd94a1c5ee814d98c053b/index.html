<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>网络基础知识 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/3e094c51bd1cd94a1c5ee814d98c053b/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="网络基础知识">
  <meta property="og:description" content="目录
网络发展
独立模式
网络互联
局域网LAN
广域网WAN
网络通信基础
IP 地址
端口号
协议
五元组
协议分层
OSI 七层模型
TCP/IP 五层模型
网络设备所在分层
封装和分用
封装 分用
网络发展 独立模式 独立模式：计算机之间相互独立
网络互联 随着时代的发展，计算机之间需要相互通信，共享软件和数据，即，需要多个计算机协调工作来完成业务，此时就有了网络互联
网络互联：将多台计算机连接起来，完成数据共享
数据共享的本质是网络数据传输，即，计算机之间通过网络来传输数据，也就是 网络通信
根据网络互联的规模不同，可划分为 局域网 和 广域网
局域网LAN 局域网，即，Local Area Network，简称 LAN
Local 标识了局域网是本地、局部组建的一种私有网络
局域网内的主机之间能够方便的进行网络通信，又称为 内网。局域网和局域网之间在没有连接的情况下，是无法通信的
局域网组件网络的方式有很多种：
（1）基于网络直连
（2）基于集线器组建
（3）基于交换机组建
（4）基于交换机和路由器组建
广域网WAN 广域网，即，Wide Area Network，简称 WAN
通过路由器，将多个局域网连接起来，在物理上组成很大范围的网络，就形成了广域网。其内部的局域网属于其子网
网络通信基础 网络互连的目的是进行网络通信，即网络数据传输，也就是 网络主机的不同进程之间，基于网络传输数据
那么，在组件网络时，如何判断是从哪台主机将数据发送到哪台主机呢？这就需要使用 IP 地址 来进行标识
IP 地址 IP 地址主要用于标识网络主机，其他网络设备（如路由器）的网络地址，简而言之，IP 地址用于定位主机的网络地址
就像收发快递一样，只有知道对方的收货地址，快递员才能将包裹送到目的地
格式 IP 地址是一个 32 位的二进制数，通常被分割为 4个 8位二进制数（也就是4个字节），如">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-08-31T09:00:00+08:00">
    <meta property="article:modified_time" content="2024-08-31T09:00:00+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">网络基础知识</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="-toc" style="margin-left:0px;"></p> 
<p id="%E7%BD%91%E7%BB%9C%E5%8F%91%E5%B1%95-toc" style="margin-left:0px;"><a href="#%E7%BD%91%E7%BB%9C%E5%8F%91%E5%B1%95" rel="nofollow">网络发展</a></p> 
<p id="%E7%8B%AC%E7%AB%8B%E6%A8%A1%E5%BC%8F-toc" style="margin-left:40px;"><a href="#%E7%8B%AC%E7%AB%8B%E6%A8%A1%E5%BC%8F" rel="nofollow">独立模式</a></p> 
<p id="%E7%BD%91%E7%BB%9C%E4%BA%92%E8%81%94-toc" style="margin-left:40px;"><a href="#%E7%BD%91%E7%BB%9C%E4%BA%92%E8%81%94" rel="nofollow">网络互联</a></p> 
<p id="%E5%B1%80%E5%9F%9F%E7%BD%91LAN-toc" style="margin-left:80px;"><a href="#%E5%B1%80%E5%9F%9F%E7%BD%91LAN" rel="nofollow">局域网LAN</a></p> 
<p id="%E5%B9%BF%E5%9F%9F%E7%BD%91WAN-toc" style="margin-left:80px;"><a href="#%E5%B9%BF%E5%9F%9F%E7%BD%91WAN" rel="nofollow">广域网WAN</a></p> 
<p id="%E7%BD%91%E7%BB%9C%E9%80%9A%E4%BF%A1%E5%9F%BA%E7%A1%80-toc" style="margin-left:0px;"><a href="#%E7%BD%91%E7%BB%9C%E9%80%9A%E4%BF%A1%E5%9F%BA%E7%A1%80" rel="nofollow">网络通信基础</a></p> 
<p id="IP%20%E5%9C%B0%E5%9D%80-toc" style="margin-left:40px;"><a href="#IP%20%E5%9C%B0%E5%9D%80" rel="nofollow">IP 地址</a></p> 
<p id="%E7%AB%AF%E5%8F%A3%E5%8F%B7-toc" style="margin-left:40px;"><a href="#%E7%AB%AF%E5%8F%A3%E5%8F%B7" rel="nofollow">端口号</a></p> 
<p id="%E5%8D%8F%E8%AE%AE-toc" style="margin-left:40px;"><a href="#%E5%8D%8F%E8%AE%AE" rel="nofollow">协议</a></p> 
<p id="%E4%BA%94%E5%85%83%E7%BB%84-toc" style="margin-left:40px;"><a href="#%E4%BA%94%E5%85%83%E7%BB%84" rel="nofollow">五元组</a></p> 
<p id="%E5%8D%8F%E8%AE%AE%E5%88%86%E5%B1%82-toc" style="margin-left:40px;"><a href="#%E5%8D%8F%E8%AE%AE%E5%88%86%E5%B1%82" rel="nofollow">协议分层</a></p> 
<p id="OSI%20%E4%B8%83%E5%B1%82%E6%A8%A1%E5%9E%8B-toc" style="margin-left:80px;"><a href="#OSI%20%E4%B8%83%E5%B1%82%E6%A8%A1%E5%9E%8B" rel="nofollow">OSI 七层模型</a></p> 
<p id="TCP%2FIP%20%E4%BA%94%E5%B1%82%E6%A8%A1%E5%9E%8B-toc" style="margin-left:80px;"><a href="#TCP%2FIP%20%E4%BA%94%E5%B1%82%E6%A8%A1%E5%9E%8B" rel="nofollow">TCP/IP 五层模型</a></p> 
<p id="%E7%BD%91%E7%BB%9C%E8%AE%BE%E5%A4%87%E6%89%80%E5%9C%A8%E5%88%86%E5%B1%82-toc" style="margin-left:80px;"><a href="#%E7%BD%91%E7%BB%9C%E8%AE%BE%E5%A4%87%E6%89%80%E5%9C%A8%E5%88%86%E5%B1%82" rel="nofollow">网络设备所在分层</a></p> 
<p id="%E5%B0%81%E8%A3%85%E5%92%8C%E5%88%86%E7%94%A8-toc" style="margin-left:0px;"><a href="#%E5%B0%81%E8%A3%85%E5%92%8C%E5%88%86%E7%94%A8" rel="nofollow">封装和分用</a></p> 
<p id="%E5%B0%81%E8%A3%85%C2%A0-toc" style="margin-left:40px;"><a href="#%E5%B0%81%E8%A3%85%C2%A0" rel="nofollow">封装 </a></p> 
<p id="%E5%88%86%E7%94%A8-toc" style="margin-left:40px;"><a href="#%E5%88%86%E7%94%A8" rel="nofollow">分用</a></p> 
<hr id="hr-toc"> 
<p></p> 
<h2 id="%E7%BD%91%E7%BB%9C%E5%8F%91%E5%B1%95" style="background-color:transparent;">网络发展</h2> 
<h3 id="%E7%8B%AC%E7%AB%8B%E6%A8%A1%E5%BC%8F">独立模式</h3> 
<p><strong>独立模式：计算机之间相互独立</strong></p> 
<p><img alt="" height="880" src="https://images2.imgbox.com/f4/ce/91zo0EoN_o.png" width="965"></p> 
<h3 id="%E7%BD%91%E7%BB%9C%E4%BA%92%E8%81%94">网络互联</h3> 
<p>随着时代的发展，计算机之间需要相互通信，共享软件和数据，即，需要多个计算机协调工作来完成业务，此时就有了网络互联</p> 
<p><strong>网络互联：将多台计算机连接起来，完成数据共享</strong></p> 
<p>数据共享的本质是<strong>网络数据传输</strong>，即，计算机之间通过网络来传输数据，也就是 <strong>网络通信</strong></p> 
<p>根据网络互联的规模不同，可划分为<strong> 局域网 </strong>和<strong> 广域网</strong></p> 
<h4 id="%E5%B1%80%E5%9F%9F%E7%BD%91LAN">局域网LAN</h4> 
<p>局域网，即，<strong>Local Area Network</strong>，简称 <strong>LAN</strong></p> 
<p>Local 标识了<strong>局域网是本地、局部组建的一种私有网络</strong></p> 
<p><strong>局域网内的主机之间能够方便的进行网络通信，又称为 内网。局域网和局域网之间在没有连接的情况下，是无法通信的</strong></p> 
<p>局域网组件网络的方式有很多种：</p> 
<blockquote> 
 <p>（1）基于网络直连</p> 
 <p>（2）基于集线器组建</p> 
 <p>（3）基于交换机组建</p> 
 <p>（4）基于交换机和路由器组建</p> 
</blockquote> 
<h4 id="%E5%B9%BF%E5%9F%9F%E7%BD%91WAN">广域网WAN</h4> 
<p>广域网，即，<strong>Wide Area Network</strong>，简称 <strong>WAN</strong></p> 
<p><strong>通过路由器，将多个局域网连接起来，在物理上组成很大范围的网络，就形成了广域网。其内部的局域网属于其子网</strong></p> 
<p><img alt="" height="1113" src="https://images2.imgbox.com/79/5e/I21xDcpp_o.png" width="1200"></p> 
<p> </p> 
<h2 id="%E7%BD%91%E7%BB%9C%E9%80%9A%E4%BF%A1%E5%9F%BA%E7%A1%80">网络通信基础</h2> 
<p>网络互连的目的是进行网络通信，即网络数据传输，也就是 网络主机的不同进程之间，基于网络传输数据</p> 
<p>那么，在组件网络时，如何判断是从哪台主机将数据发送到哪台主机呢？这就需要使用<strong> IP 地址 </strong>来进行标识</p> 
<h3 id="IP%20%E5%9C%B0%E5%9D%80">IP 地址</h3> 
<p>IP 地址主要用于<strong>标识网络主机</strong>，其他网络设备（如路由器）的网络地址，简而言之，<strong>IP 地址用于定位主机的网络地址</strong></p> 
<blockquote> 
 <p>就像收发快递一样，只有知道对方的收货地址，快递员才能将包裹送到目的地</p> 
</blockquote> 
<p><strong>格式</strong> </p> 
<p>IP 地址是一个 <strong>32 位的二进制数</strong>，通常被分割为<strong> 4个 8位二进制数（也就是4个字节）</strong>，如</p> 
<p>11111111 11111111 11111111 00000000</p> 
<p>通常使用<strong> 点分十进制 </strong>的方式来表示，即通过<strong> . </strong>来分割这4个8位二进制数，而每个字节使用十进制来表示，即，a.b.c.d 的格式，如 255.255.255.0</p> 
<h3 id="%E7%AB%AF%E5%8F%A3%E5%8F%B7">端口号</h3> 
<p>在网络通信过程中，<strong>IP 地址用来标识主机网络地址</strong>，而端口号用于<strong>标识主机中发送数据、接收数据的进程</strong>，简而言之，<strong>端口号用于定位主机中的进程</strong></p> 
<blockquote> 
 <p>同样的，在收发快递时，不但需要知道收获地址（IP 地址），还需要知道收件人（端口号）</p> 
</blockquote> 
<p><strong>格式</strong></p> 
<p>端口号是<strong> 0 ~ 65535 </strong>范围的数字，在网络通信中，进程可以通过绑定一个端口号，来发送和接收网络数据</p> 
<h3 id="%E5%8D%8F%E8%AE%AE">协议</h3> 
<p>协议，即 <strong>网络协议 </strong>的简称，网络协议是<strong>网络通信（网络数据传输）经过的所有网络设备都必须共同遵从的一组约定、规则</strong>。如 如何建立连接，怎样相互识别等。<strong>只有遵守这个约定，计算机之间才能相互通信交流</strong></p> 
<p><strong>协议（protocol）最终体现为在网络上传输的数据包格式</strong></p> 
<blockquote> 
 <p><strong>为社么需要使用协议呢？</strong></p> 
</blockquote> 
<p>计算机之间的传输媒介是 光信号 和 电信号，通过 频率 和 强弱 来表示 0 和 1 这样的信息，要想传递各种不同的信息，就需要约定号双方的数据格式</p> 
<blockquote> 
 <p>就如同在和朋友见面之前，需要先彼此协商见面的时间、地点以及要准备的东西，这就是一种提前的约定，也可以称之为协议 </p> 
</blockquote> 
<p>计算机的生产厂商有很多，操作系统也有很多，网络硬件设备也很多，如何让不同厂商之间生产的计算机能够互相通信？</p> 
<p>就需要约定一个共同的标准，大家都遵守，这就是 <strong>网络协议</strong></p> 
<h3 id="%E4%BA%94%E5%85%83%E7%BB%84">五元组</h3> 
<p>在 TCP/IP 协议中，使用 五元组 来标识一个网络通信：</p> 
<blockquote> 
 <p><strong>源IP</strong>：标识源主机</p> 
 <p><strong>源端口号</strong>：标识源主机中本次通信发送数据的进程</p> 
 <p><strong>目的IP</strong>：标识目的主机</p> 
 <p><strong>目的端口号</strong>：标识目的主机中本次通信接收数据的进程</p> 
 <p><strong>协议号</strong>：标识发送进程和接收进程双方约定的数据格式</p> 
</blockquote> 
<p><img alt="" height="669" src="https://images2.imgbox.com/ef/fe/rclkqzhY_o.png" width="1192"></p> 
<p>同样的，我们还是以收发快递的例子来理解 五元组 在网络通信中的作用：</p> 
<p> <img alt="" height="819" src="https://images2.imgbox.com/2e/b3/2oAW0HMG_o.png" width="1200"></p> 
<p></p> 
<p>在<strong> cmd </strong>中，通过输入<strong> netstat -ano </strong>可以查看网络数据传输中的五元组信息：</p> 
<p><img alt="" height="686" src="https://images2.imgbox.com/93/b7/ExFshzK8_o.png" width="1168"></p> 
<p></p> 
<h3 id="%E5%8D%8F%E8%AE%AE%E5%88%86%E5%B1%82">协议分层</h3> 
<p>在网络通信的过程中，其中涉及到的细节是非常多的，若使用一个协议来完成网络通信，就需要考虑到每一个细节，约定好方方面面的内容，这就导致这个协议会非常的复杂</p> 
<p>而若一个协议太过复杂和庞大，是非常不利于学习和维护的，因此，就需要将这个 "大而全" 的协议，拆分成多个更能更加单一， "小而细" 的协议</p> 
<p>但此时，就会拆分出很多协议。为了让这些协议之间相互配合，就引入了<strong> 协议分层</strong>，<strong>将功能定位相似的协议放到同一层中:</strong></p> 
<blockquote> 
 <p>上层协议调用下层协议的功能</p> 
 <p>下次协议为上层协议提供服务</p> 
</blockquote> 
<p>相邻的层次之间可以进行沟通，不能跨层次调用（若跨层次调用，则容易混乱）</p> 
<p>当我们对网络协议进行分层后，就类似于 面向接口编程：定义好两层之间的接口规范，让双方遵循这个规范来对接，这样，就能够更好的扩展和维护</p> 
<blockquote> 
 <p>对于上层（使用方）来说，并不关心提供方是如何实现的，只需要使用接口即可</p> 
 <p>对于下层（提供方）来说，利用封装的特性，隐藏了实现的细节，只需要开放接口即可</p> 
</blockquote> 
<p>那么，协议分层分成几层呢？</p> 
<h4 id="OSI%20%E4%B8%83%E5%B1%82%E6%A8%A1%E5%9E%8B">OSI 七层模型</h4> 
<p>OSI，即 <strong>Open System Interconnection</strong>，开放系统互连</p> 
<p>OSI 七层网络模型是一个逻辑上的定义和规范，将网络从逻辑上分为了 7 层</p> 
<p>OSI 七层模型是一种框架性的设计方法，其中最主要的功能是<strong>帮助不同类型的主机实现数据传输</strong></p> 
<p>OSI 七层模型划分为以下七层：</p> 
<table border="1" cellpadding="1" cellspacing="1" style="width:500px;"><thead><tr><th></th><th style="width:89px;">分层名称</th><th style="width:384px;">功能</th></tr></thead><tbody><tr><td>7</td><td style="width:89px;">应用层</td><td style="width:384px;">针对特定应用的协议</td></tr><tr><td>6</td><td style="width:89px;">表示层</td><td style="width:384px;">设备固有的数据格式和网络标准数据格式的转换</td></tr><tr><td>5</td><td style="width:89px;">会话层</td><td style="width:384px;">通信管理。负责建立和断开通信连接（数据流动的逻辑通路）管理传输层以下的分层</td></tr><tr><td>4</td><td style="width:89px;">传输层</td><td style="width:384px;">管理两个节点之间的数据传输，保证数据被可靠地传输到目标地址</td></tr><tr><td>3</td><td style="width:89px;">网络层</td><td style="width:384px;">地址管理和路由选择</td></tr><tr><td>2</td><td style="width:89px;">数据链路层</td><td style="width:384px;">互连设备之间的传送和识别数据帧</td></tr><tr><td>1</td><td style="width:89px;">物理层</td><td style="width:384px;">以 0 和 1 代表电压的高低、灯光的闪灭，界定连接器和网线的规格</td></tr></tbody></table> 
<p>但是，由于 OSI 七层模型太过复杂且不实用，因此，OSI 七层模型并没有实现</p> 
<p>在实际组建网络时，只是使用了 OSI 七层模型设计中的部分分层，也就是<strong> TCP/IP 五层模型 </strong>来实现</p> 
<h4 id="TCP%2FIP%20%E4%BA%94%E5%B1%82%E6%A8%A1%E5%9E%8B">TCP/IP 五层模型</h4> 
<p>TCP/IP 是一组协议的代名词，其中还包含许多协议，组成了 TCP/IP 协议簇</p> 
<p>TCP/IP 通讯协议采用了 5 层层级结构：</p> 
<table border="1" cellpadding="1" cellspacing="1" style="width:500px;"><thead><tr><th></th><th style="width:114px;">分层名称</th><th style="width:359px;">功能</th></tr></thead><tbody><tr><td>5</td><td style="width:114px;">应用层</td><td style="width:359px;">负责应用程序间的沟通。如：文件传输协议（FTP）、简单电子邮件传输（SMTP）等。</td></tr><tr><td>4</td><td style="width:114px;">传输层</td><td style="width:359px;">负责两台主机之间的数据传输。如：传输控制协议（TCP），能够确保数据可靠的从源主机发送到目标主机</td></tr><tr><td>3</td><td style="width:114px;">网络层</td><td style="width:359px;">负责地址管理和路由选择。如：在 IP 协议中，通过路由表的方式规划出两台主机之间的数据传输线路（路由）</td></tr><tr><td>2</td><td style="width:114px;">数据链路层</td><td style="width:359px;">负责设备之间的数据帧传送和识别。如：网卡设备的驱动、数据差错校验等</td></tr><tr><td>1</td><td style="width:114px;">物理层</td><td style="width:359px;">负责 光/电 信号的传递方式。如：光纤、wifi 无线网等。物理层的能力决定了 最大传输速率、传输距离、抗干扰性等。</td></tr></tbody></table> 
<p>OSI模型 与 TCP/IP模型：</p> 
<p><img alt="" height="574" src="https://images2.imgbox.com/ec/1b/gVPMrcn3_o.png" width="1200"></p> 
<h4 id="%E7%BD%91%E7%BB%9C%E8%AE%BE%E5%A4%87%E6%89%80%E5%9C%A8%E5%88%86%E5%B1%82">网络设备所在分层</h4> 
<blockquote> 
 <p>对于一台 <strong>主机</strong>，其操作系统内核实现了传输层到物理层的内容，也就是<strong> TCP/IP 五层模型的下四层</strong></p> 
 <p>对于一台 <strong>路由器</strong>，其实现了从网络层到物理层，也就是<strong> TCP/IP 五层模型的下三层</strong></p> 
 <p>对于一台 <strong>交换机</strong>，其实现了从数据链路层到物理层，也就是<strong> TCP/IP 五层模型的下两层</strong></p> 
 <p>对于 <strong>集线器</strong>，其只实现了<strong>物理层</strong></p> 
</blockquote> 
<p>在这里，我们所说的是传统意义上的交换机和路由器，也称为 二层交换机（工作在 TCP/IP 五层模型的下两层）、三层路由器（工作在 TCP/IP 五层模型的下三层）</p> 
<p>随着网络设备技术的发展，也出现了许多 3 层、4 层交换机，4 层路由器，在本篇文章中，我们所说的网络设备都是指的传统意义上的交互机和路由器</p> 
<h2 id="%E5%B0%81%E8%A3%85%E5%92%8C%E5%88%86%E7%94%A8">封装和分用</h2> 
<p>不同的协议层对数据有不同的称谓：</p> 
<blockquote> 
 <p>在<strong> 传输层</strong> 叫做<strong> 段（segment）</strong></p> 
 <p>在<strong> 网络层</strong> 叫做 <strong>数据报（datagram）</strong></p> 
 <p>在 <strong>数据链路层 </strong>叫做 <strong>帧（frame）</strong></p> 
</blockquote> 
<h3 id="%E5%B0%81%E8%A3%85%C2%A0">封装 </h3> 
<p>我们首先来看封装的过程：</p> 
<blockquote> 
 <p>假设张三要使用微信给李四发送消息：hello</p> 
</blockquote> 
<p><strong>应用层（应用程序）：</strong></p> 
<p>从消息输入框获取到张三输入的 hello 后，就将这个字符串构造成一个应用层数据包</p> 
<p>假设应用层数据包按照以下应用层协议约定格式来构造（也就是字符串拼接的方式）：</p> 
<p><img alt="" height="242" src="https://images2.imgbox.com/b0/c5/8drm81j5_o.png" width="543"></p> 
<p>接着，应用程序调用操作系统提供的 API，将这个数据包交给传输层</p> 
<p><strong>传输层：</strong></p> 
<p>将上述数据作为一个整体，再将其构造成 传输层 的 数据段</p> 
<p>传输层涉及到的协议主要是 <strong>TCP </strong>和 <strong>UDP</strong></p> 
<p>在这里，我们假设使用的是 UDP 来进行通信，此时就会构造一个 UDP 数据段</p> 
<p><img alt="" height="379" src="https://images2.imgbox.com/ec/3a/WWBnVhyL_o.png" width="684"></p> 
<p></p> 
<p>上述添加报头的过程，就是<strong> 封装</strong>，其本质是 <strong>字符串拼接</strong>，拼接的报头具有一定的结构，能够承载一些关键的用来转发数据的信息</p> 
<p>而对于 UDP 报头来说，承载的最重要的信息就是<strong> 源端口 和 目的端口</strong></p> 
<p>拼接好 传输层 数据段后，再将这个数据段交给下层（网络层）继续进行封装</p> 
<p><strong>网络层：</strong></p> 
<p>在网络层，涉及到的最核心的协议是<strong> IP 协议</strong></p> 
<p>此时，将刚才传输层的 UDP 数据段作为一个整体，再拼接上 IP 报头，构成一个 IP数据报：</p> 
<p><img alt="" height="384" src="https://images2.imgbox.com/4e/65/HAPJGiNV_o.png" width="929"></p> 
<p>IP 报头中也包含了辅助转发的关键信息，其中，最关键的是<strong> 源IP 和 目的IP</strong></p> 
<p>构造完IP数据报后，IP 协议 继续调用数据链路层 API，将数据交给数据链路层的协议进行处理</p> 
<p><strong>数据链路层：</strong> </p> 
<p>数据链路层涉及的核心协议是 <strong>以太网协议</strong></p> 
<p>将 IP 数据报作为一个整体，添加上一个 <strong>帧头 和 帧尾</strong></p> 
<p><img alt="" height="360" src="https://images2.imgbox.com/ae/1f/m1inr44a_o.png" width="1200"></p> 
<p>接下来，就将数据交给 物理层</p> 
<p><strong>物理层：</strong></p> 
<p>将上述以太网数据帧（二进制结构 01001 这样的数据），转换为 光信号/电信号/电磁波，然后进行发送</p> 
<p> 经过上述一些列操作，数据才终于发送出去</p> 
<h3 id="%E5%88%86%E7%94%A8" style="background-color:transparent;">分用</h3> 
<p>假设数据已经抵达 李四 的网卡，如何进行处理，其处理过程，就称为 <strong>分用</strong></p> 
<p><strong>物理层：</strong></p> 
<p>物理层接收到 光信号/电信号/电磁波，就将这些物理信号转换成数字信息（二进制的0 1 0 1），得到一个以太网数据帧，进一步将这个数据帧交给数据链路处理</p> 
<p><strong>数据链路层：</strong></p> 
<p>按照 <strong>以太网数据帧 </strong>的格式，解析，取出其中载荷，再将其交给上层协议</p> 
<p><img alt="" height="600" src="https://images2.imgbox.com/e1/0e/kLdX7RKJ_o.png" width="1200"></p> 
<p><strong>网络层：</strong></p> 
<p>按照 <strong>IP 协议 </strong>的格式进行解析，取出其中的载荷，再交给上层协议：</p> 
<p><img alt="" height="627" src="https://images2.imgbox.com/7d/a4/zkQ19zvU_o.png" width="1138"></p> 
<p><strong>传输层：</strong></p> 
<p>按照<strong> UDP 协议 </strong>格式来解析，取出其中的载荷，再交给上层协议：</p> 
<p><img alt="" height="551" src="https://images2.imgbox.com/92/52/yX1UjB4f_o.png" width="1076"></p> 
<p><strong>应用层（应用程序）：</strong></p> 
<p>按照程序内部的<strong> 应用层协议格式 </strong>来解析数据，并将信息在窗口弹出</p> 
<p><strong>上述 分用 的过程，其实就是 封装 的逆向过程</strong></p> 
<p>在数据传输的过程中，需要通过一系列的交换机或路由器来进行<strong>数据转发</strong></p> 
<p><img alt="" height="653" src="https://images2.imgbox.com/c7/30/2HmrpA1P_o.png" width="1200"></p> 
<p>在经过交互机或路由器时，上述封装和分用的过程，也是相同的</p> 
<p>只是，封装分用的程度不一定到应用层</p> 
<blockquote> 
 <p>我们以交换机为例：</p> 
</blockquote> 
<p><strong>物理层：</strong></p> 
<p>交换机接收到光电信号后，将其转换成 以太网数据帧 二进制数据，交给数据链路层</p> 
<p><img alt="" height="196" src="https://images2.imgbox.com/97/63/YwHl2w8i_o.png" width="1073"></p> 
<p><strong>数据链路层： </strong></p> 
<p><img alt="" height="429" src="https://images2.imgbox.com/ff/ad/zwHG8pgB_o.png" width="1195"></p> 
<p>数据链路层对上述数据进行解析，取出载荷部分，并解析帧头中的关键信息，根据帧头中的信息，决定下一步将数据往哪里发送，并根据这个情况进一步构造出新的以太网数据帧</p> 
<p><img alt="" height="604" src="https://images2.imgbox.com/91/bc/FArCgAn1_o.png" width="1200"></p> 
<p>然后再将这个新的数据交给物理层，并发送出去</p> 
<p>若是 <strong>路由器</strong>，则会 封装分用 到 <strong>网络层</strong></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/32f72e18d8403cd74583ebcad0d1658d/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Python知识点：如何使用Appium进行移动应用测试</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/08542a1b7d65b054725f06e709af051b/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【MySQL】字节跳动MySQL连环40问（网图）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>