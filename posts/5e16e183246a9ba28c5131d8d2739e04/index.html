<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>ã€äºŒå‰æ ‘è¿›é˜¶ã€‘--- äºŒå‰æœç´¢æ ‘è½¬åŒå‘é“¾è¡¨ &amp;&amp; æœ€è¿‘å…¬å…±ç¥–å…ˆ - ç¼–ç¨‹å¤§å’–</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/5e16e183246a9ba28c5131d8d2739e04/">
  <meta property="og:site_name" content="ç¼–ç¨‹å¤§å’–">
  <meta property="og:title" content="ã€äºŒå‰æ ‘è¿›é˜¶ã€‘--- äºŒå‰æœç´¢æ ‘è½¬åŒå‘é“¾è¡¨ && æœ€è¿‘å…¬å…±ç¥–å…ˆ">
  <meta property="og:description" content="Welcome to 9ilk&#39;s Code World (à¹‘â€¢Ì â‚ƒ â€¢Ì€à¹‘)Â ä¸ªäººä¸»é¡µ:Â 9ilk (à¹‘â€¢Ì â‚ƒ â€¢Ì€à¹‘)Â æ–‡ç« ä¸“æ ï¼šÂ æ•°æ®ç»“æ„ æœ¬ç¯‡åšå®¢æˆ‘ä»¬ç»§ç»­äº†è§£ä¸€äº›äºŒå‰æ ‘çš„è¿›é˜¶ç®—æ³•ã€‚
ğŸ  äºŒå‰æœç´¢ æ ‘è½¬åŒ–ä¸ºåŒå‘å¾ªç¯é“¾è¡¨ ğŸ“Œ é¢˜ç›®å†…å®¹ å°†äºŒå‰æœç´¢æ ‘è½¬åŒ–ä¸ºæ’åºå¥½çš„åŒå‘å¾ªç¯é“¾è¡¨
ğŸ“Œ é¢˜ç›®è§£æ åŒå‘å¾ªç¯é“¾è¡¨æ‰€è¿æ¥çš„ç»“ç‚¹æ˜¯æœ‰åºçš„ã€‚é¢˜ç›®è¦æ±‚åŸåœ°è½¬æ¢ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸å…è®¸æ–°newç»“ç‚¹å½¢æˆæ–°çš„é“¾è¡¨ï¼Œè€Œæ˜¯æ”¹å˜æœç´¢æ ‘ä¸­ç»“ç‚¹æŒ‡é’ˆæŒ‡å‘ã€‚æœç´¢æ ‘ä¸­ç»“ç‚¹çš„å€¼éƒ½æ˜¯å”¯ä¸€çš„ï¼Œæˆ‘ä»¬æ— éœ€æ‹…å¿ƒå‡ºç°é‡å¤å€¼ç»“ç‚¹ã€‚ ğŸ“Œ ç®—æ³•åŸç† âœï¸ æ€è·¯ä¸€ï¼š é¢˜ç›®è¦æ±‚é“¾è¡¨ä¸­çš„èŠ‚ç‚¹æ˜¯æ’å¥½åºçš„ï¼Œå› æ­¤ç»“åˆäºŒå‰æœç´¢æ ‘çš„æ€§è´¨(äºŒå‰æœç´¢æ ‘ä¸­åºéå†å‡ºæ¥æ˜¯æœ‰åºçš„)ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‰ç…§å¯¹äºŒå‰æ ‘è¿›è¡Œä¸­åºéå†ï¼Œç„¶åä¾æ¬¡å°†èŠ‚ç‚¹æŒ‡é’ˆå­˜è¿›vectoré‡Œï¼Œæœ€åéå†vectorå°†å„ä¸ªèŠ‚ç‚¹çš„å‰é©±å’Œåç»§æŒ‡é’ˆç»™å¤„ç†å¥½ï¼Œæœ€ååˆ«å¿˜è®°å¤´èŠ‚ç‚¹å‰é©±æŒ‡å‘å°¾èŠ‚ç‚¹ï¼Œå°¾èŠ‚ç‚¹åç»§æŒ‡å‘å¤´èŠ‚ç‚¹ã€‚
åŠ¨å›¾æ¼”ç¤ºï¼š
å‚è€ƒä»£ç ï¼š
class Solution { public: void InOrder(Node* root,vector&lt;Node*&gt;&amp; treev) //åˆ©ç”¨ä¸­åºéå† å› ä¸ºäºŒå‰æœç´¢æ ‘ä¸­åºæ˜¯æ’å¥½åºçš„ { if(root == nullptr) return; InOrder(root-&gt;left,treev); treev.push_back(root); //å­˜è¿›æ•°ç»„ InOrder(root-&gt;right,treev); } Node* treeToDoublyList(Node* root) { if(root == nullptr) return root; vector&lt;Node*&gt; treev; InOrder(root,treev); int cur = 1 ; Node* prev = treev[0]; Node* del = treev[1]; while(cur &lt; treev.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-08-14T21:25:09+08:00">
    <meta property="article:modified_time" content="2024-08-14T21:25:09+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ç¼–ç¨‹å¤§å’–" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ç¼–ç¨‹å¤§å’–</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">ã€äºŒå‰æ ‘è¿›é˜¶ã€‘--- äºŒå‰æœç´¢æ ‘è½¬åŒå‘é“¾è¡¨ &amp;&amp; æœ€è¿‘å…¬å…±ç¥–å…ˆ</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2 style="text-align:center;">Â <span style="color:#a5a5a5;">Welcome to 9ilk's Code World</span></h2> 
<p style="text-align:center;"><span style="color:#a5a5a5;">Â  Â  Â  Â <img alt="" src="https://images2.imgbox.com/02/e5/3HNiG33K_o.jpg"></span></p> 
<p></p> 
<h3>(à¹‘â€¢Ì â‚ƒ â€¢Ì€à¹‘)Â <span style="color:#38d8f0;">ä¸ªäººä¸»é¡µ:</span><span style="color:#a5a5a5;">Â  Â  Â  Â Â <a class="link-info" href="https://blog.csdn.net/2301_79448270?type=blog" title="9ilk">9ilk</a></span></h3> 
<h3>(à¹‘â€¢Ì â‚ƒ â€¢Ì€à¹‘)Â <span style="color:#38d8f0;">æ–‡ç« ä¸“æ ï¼šÂ  Â  Â <a class="link-info" href="https://blog.csdn.net/2301_79448270/category_12624613.html?spm=1001.2014.3001.5482" title="æ•°æ®ç»“æ„">æ•°æ®ç»“æ„</a></span></h3> 
<hr> 
<blockquote> 
 <p>æœ¬ç¯‡åšå®¢æˆ‘ä»¬ç»§ç»­äº†è§£ä¸€äº›äºŒå‰æ ‘çš„è¿›é˜¶ç®—æ³•ã€‚</p> 
</blockquote> 
<hr> 
<p></p> 
<h2>ğŸ  äºŒå‰æœç´¢ æ ‘è½¬åŒ–ä¸ºåŒå‘å¾ªç¯é“¾è¡¨</h2> 
<h3 style="background-color:transparent;">ğŸ“Œ é¢˜ç›®å†…å®¹</h3> 
<blockquote> 
 <p><a class="link-info" href="https://leetcode.cn/problems/er-cha-sou-suo-shu-yu-shuang-xiang-lian-biao-lcof/" rel="nofollow" title="å°†äºŒå‰æœç´¢æ ‘è½¬åŒ–ä¸ºæ’åºå¥½çš„åŒå‘å¾ªç¯é“¾è¡¨">å°†äºŒå‰æœç´¢æ ‘è½¬åŒ–ä¸ºæ’åºå¥½çš„åŒå‘å¾ªç¯é“¾è¡¨</a></p> 
 <p><img alt="" height="1200" src="https://images2.imgbox.com/43/6a/AXjDJKs7_o.png" width="1008"></p> 
</blockquote> 
<h3 style="background-color:transparent;">Â ğŸ“Œ é¢˜ç›®è§£æ</h3> 
<ul><li>åŒå‘å¾ªç¯é“¾è¡¨æ‰€è¿æ¥çš„ç»“ç‚¹æ˜¯<strong>æœ‰åº</strong>çš„ã€‚</li><li>é¢˜ç›®è¦æ±‚<strong>åŸåœ°è½¬æ¢</strong>ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸å…è®¸æ–°newç»“ç‚¹å½¢æˆæ–°çš„é“¾è¡¨ï¼Œè€Œæ˜¯æ”¹å˜æœç´¢æ ‘ä¸­ç»“ç‚¹æŒ‡é’ˆæŒ‡å‘ã€‚</li><li>æœç´¢æ ‘ä¸­ç»“ç‚¹çš„<strong>å€¼éƒ½æ˜¯å”¯ä¸€çš„</strong>ï¼Œæˆ‘ä»¬æ— éœ€æ‹…å¿ƒå‡ºç°é‡å¤å€¼ç»“ç‚¹ã€‚</li></ul> 
<h3>ğŸ“Œ ç®—æ³•åŸç†</h3> 
<h4>âœï¸ æ€è·¯ä¸€ï¼š</h4> 
<blockquote> 
 <p>Â  é¢˜ç›®è¦æ±‚é“¾è¡¨ä¸­çš„èŠ‚ç‚¹æ˜¯æ’å¥½åºçš„ï¼Œå› æ­¤ç»“åˆäºŒå‰æœç´¢æ ‘çš„æ€§è´¨(äºŒå‰æœç´¢æ ‘ä¸­åºéå†å‡ºæ¥æ˜¯æœ‰åºçš„)ï¼Œæˆ‘ä»¬å¯ä»¥<strong>æŒ‰ç…§å¯¹äºŒå‰æ ‘è¿›è¡Œä¸­åºéå†</strong>ï¼Œç„¶åä¾æ¬¡å°†èŠ‚ç‚¹æŒ‡é’ˆ<strong>å­˜è¿›vector</strong>é‡Œï¼Œæœ€åéå†vectorå°†<strong>å„ä¸ªèŠ‚ç‚¹çš„å‰é©±å’Œåç»§æŒ‡é’ˆç»™å¤„ç†å¥½</strong>ï¼Œæœ€ååˆ«å¿˜è®°å¤´èŠ‚ç‚¹å‰é©±æŒ‡å‘å°¾èŠ‚ç‚¹ï¼Œå°¾èŠ‚ç‚¹åç»§æŒ‡å‘å¤´èŠ‚ç‚¹ã€‚</p> 
</blockquote> 
<p><strong>åŠ¨å›¾æ¼”ç¤ºï¼š</strong></p> 
<p><img alt="" height="596" src="https://images2.imgbox.com/e8/87/zQbfrzt9_o.gif" width="1200"></p> 
<p><strong>å‚è€ƒä»£ç ï¼š</strong></p> 
<pre><code class="language-cpp">class Solution {
public:
   void InOrder(Node* root,vector&lt;Node*&gt;&amp; treev) //åˆ©ç”¨ä¸­åºéå† å› ä¸ºäºŒå‰æœç´¢æ ‘ä¸­åºæ˜¯æ’å¥½åºçš„
   {
     if(root == nullptr)
       return;
     InOrder(root-&gt;left,treev);
     treev.push_back(root); //å­˜è¿›æ•°ç»„
     InOrder(root-&gt;right,treev);  
   }

    Node* treeToDoublyList(Node* root) 
    {
        if(root == nullptr)
         return root;
       vector&lt;Node*&gt; treev;
       InOrder(root,treev);
       int cur = 1 ;
       Node* prev = treev[0];
       Node* del = treev[1]; 
       while(cur &lt; treev.size()) //è°ƒæ•´å¥½æŒ‡é’ˆæŒ‡å‘
       {
             del = treev[cur];
             prev-&gt;right = del;
             del-&gt;left = prev;
             prev = del;
             cur++;
       }
      treev[0]-&gt;left = treev[cur-1];
      treev[cur-1]-&gt;right = treev[0];   
      return treev[0];
    }
};</code></pre> 
<blockquote> 
 <p>åˆ†æï¼šè¿™ç§æ€è·¯ç®€å•ï¼Œä½†æ˜¯ç©ºé—´å¤æ‚åº¦è¾¾åˆ°äº†O(N)(ç”¨vectorå­˜èŠ‚ç‚¹æŒ‡é’ˆå¯¼è‡´)ï¼Œæ˜¯å¦æœ‰å…¶ä»–æ€è·¯èƒ½ä¼˜åŒ–åˆ°O(1),åœ¨éå†çš„åŒæ—¶ä¿®æ”¹æŒ‡é’ˆæŒ‡å‘å‘¢?</p> 
</blockquote> 
<h4>âœï¸ æ€è·¯äºŒï¼š</h4> 
<p>Â æˆ‘ä»¬ä¹‹å‰åˆ›å»ºä¸€ä¸ªé“¾è¡¨é™¤äº†å…ˆæå‰newå‡ºèŠ‚ç‚¹å†è¿æ¥å¤–ï¼Œå…¶å®è¿˜æœ‰ä¸€ä¸ªæ–¹æ³•å¯ä»¥åŠ¨æ€åˆ›å»ºé“¾è¡¨ã€‚</p> 
<p><img alt="" height="596" src="https://images2.imgbox.com/90/e7/DHUAnixR_o.gif" width="1200"></p> 
<p>å½“æˆ‘ä»¬ä¸­åºéå†äºŒå‰æœç´¢æ ‘æ—¶å°±å¯é‡‡å–ç±»ä¼¼çš„åšæ³•ã€‚ä¸åŒçš„æ˜¯ï¼Œæˆ‘ä»¬éœ€è¦è®°å½•å‰é©±èŠ‚ç‚¹prevï¼Œptail-&gt;next = node,æ­¤æ—¶çš„nodeå°±æ˜¯æˆ‘ä»¬ä¸­åºéå†çš„å½“å‰è®¿é—®èŠ‚ç‚¹ï¼Œæ­¤æ—¶ptailéœ€è¦æ›´æ–°æˆnode(å½“å‰è®¿é—®èŠ‚ç‚¹),prevå°±æ˜¯ä¸Šä¸€ä¸ªæŒ‰ä¸­åºè¢«è®¿é—®èŠ‚ç‚¹ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦åœ¨æ›´æ–°ptailä¹‹å‰è®°å½•prevï¼ŒåŒæ—¶æ›´æ–°å¥½å‰é©±å’Œåç»§æŒ‡é’ˆçš„æŒ‡å‘ã€‚</p> 
<p><strong>åŠ¨ç”»æ¼”ç¤ºï¼š</strong></p> 
<p><img alt="" height="773" src="https://images2.imgbox.com/eb/df/hU3BQUIs_o.gif" width="1122"></p> 
<p>æ ¸å¿ƒæ­¥éª¤ï¼š</p> 
<pre><code class="language-cpp">       ptail-&gt;right =root; 
       Node* prev = ptail; //ptailå…¶å®å°±æ˜¯å‰é©±ç»“ç‚¹
       ptail = ptail-&gt;right; 
       ptail-&gt;left = prev</code></pre> 
<p>å‚è€ƒä»£ç ï¼š</p> 
<pre><code class="language-cpp">  Node* phead = nullptr;
   Node* ptail = nullptr;
   void InOrder(Node* root) //åˆ©ç”¨ä¸­åºéå† å› ä¸ºäºŒå‰æœç´¢æ ‘ä¸­åºæ˜¯æ’å¥½åºçš„
   {
     if(root == nullptr)
       return;
     InOrder(root-&gt;left);
     if(phead == nullptr) //å¤´ç»“ç‚¹ ä¹Ÿå°±æ˜¯æœç´¢æ ‘çš„æœ€å·¦
      phead = ptail = root;
     else 
     {
       ptail-&gt;right =root; 
       Node* prev = ptail; //ptailå…¶å®å°±æ˜¯å‰é©±ç»“ç‚¹
       ptail = ptail-&gt;right; 
       ptail-&gt;left = prev;
     }  
     InOrder(root-&gt;right);  

   }

    Node* treeToDoublyList(Node* root) 
    {
        if(root == nullptr)
         return root;
         InOrder(root);
         phead-&gt;left = ptail;
         ptail-&gt;right = phead;
         return phead; 

    }</code></pre> 
<p></p> 
<h2 style="background-color:transparent;">ğŸ  äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ</h2> 
<h3 style="background-color:transparent;">ğŸ“Œ é¢˜ç›®å†…å®¹</h3> 
<blockquote> 
 <p><a class="link-info" href="https://leetcode.cn/problems/lowest-common-ancestor-of-a-binary-tree/description/" rel="nofollow" title="äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ">äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ</a></p> 
 <p><img alt="" height="615" src="https://images2.imgbox.com/f6/44/ZJTMjaFv_o.png" width="972"></p> 
</blockquote> 
<h3 style="background-color:transparent;">ğŸ“Œ é¢˜ç›®è§£æ</h3> 
<ul><li>æ³¨æ„ç‚¹1ï¼šä¸€ä¸ªèŠ‚ç‚¹ä¹Ÿå¯ä»¥æ˜¯å®ƒè‡ªå·±çš„ç¥–å…ˆ</li><li>æ³¨æ„ç‚¹2ï¼šè¦æ‰¾çš„ç¥–å…ˆå…¬å…±è¦æ˜¯æœ€è¿‘ä¹Ÿå°±æ˜¯æ·±åº¦æœ€å¤§ã€‚</li></ul> 
<h3>ğŸ“Œ ç®—æ³•åŸç†</h3> 
<h4 style="background-color:transparent;">âœï¸ æ€è·¯ä¸€ï¼š</h4> 
<blockquote> 
 <p>1.é¢˜ç›®è¦æ±‚æˆ‘ä»¬æ‰¾å…¬å…±ç¥–å…ˆï¼Œé‚£æˆ‘ä»¬é¦–è¦ä»»åŠ¡æ˜¯æ±‚å‡ºèŠ‚ç‚¹åˆ°æ ¹èŠ‚ç‚¹è·¯å¾„æ‰€ç»è¿‡çš„èŠ‚ç‚¹ã€‚</p> 
 <p>2.æˆ‘ä»¬å¯ä»¥æ±‚å‡ºæ¯ä¸ªèŠ‚ç‚¹çš„ç¥–å…ˆè·¯å¾„åˆ†åˆ«è£…è¿›æ•°ç»„é‡Œã€‚</p> 
 <p>3.æ±‚è·¯å¾„ï¼šæˆ‘ä»¬å¯ä»¥è®¾è®¡ä¸€ä¸ªé€’å½’å‡½æ•°ï¼Œå®ƒçš„åŠŸèƒ½æ˜¯<strong>åˆ¤æ–­å­æ ‘æ˜¯å¦å­˜åœ¨ç›®æ ‡èŠ‚ç‚¹ï¼Œç›´åˆ°æ‰¾åˆ°ç›®æ ‡èŠ‚ç‚¹ä¸ºæ­¢</strong>ã€‚</p> 
 <p>4.æ‰¾åˆ°ç›®æ ‡èŠ‚ç‚¹ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥åˆ©ç”¨ä¸¤ä¸ª<strong>å“ˆå¸Œè¡¨åˆ†åˆ«éå†æ•°ç»„ï¼Œè¡¨ç¤ºä»–ä»¬å‡ºç°è¿‡</strong>ã€‚</p> 
 <p>5.æœ€è¿‘çš„å…¬å…±ç¥–å…ˆä¸€å®šå‡ºç°åœ¨æ•°ç»„çš„åé¢éƒ¨åˆ†ï¼Œæˆ‘ä»¬å¯ä»¥<strong>ä»åå¾€å‰éå†ç¥–å…ˆè·¯å¾„æ¯”è¾ƒçŸ­çš„æ•°ç»„</strong>ï¼Œå‘ç°ä¸¤ä¸ªæ˜ å°„å…³ç³»éƒ½ç¡®ç«‹çš„å°±æ˜¯æˆ‘ä»¬è¦æ‰¾çš„ã€‚</p> 
</blockquote> 
<p><strong>å‚è€ƒä»£ç ï¼š</strong></p> 
<pre><code class="language-cpp">bool isLeft(TreeNode* node, TreeNode* del) //çœ‹æ˜¯ä¸æ˜¯åœ¨å­æ ‘
	{
		if (del == nullptr)
			return false;
		if (del == node) 
			return true;
		return isLeft(node, del-&gt;left) || isLeft(node,del-&gt;right);
	}

	void ancestor(vector&lt;TreeNode*&gt;&amp; v, TreeNode* node, TreeNode* root, unordered_map&lt;TreeNode*, int&gt;&amp; ump) //è£…è·¯å¾„è¿›æ•°ç»„çš„å‡½æ•°
	{
		if (root == nullptr)
			return;
		v.push_back(root); //ä¸è®ºæ˜¯ä¸æ˜¯éƒ½è¯´æ˜è¿™æ˜¯target nodeçš„ç¥–å…ˆ
		ump[root]++;
		if (root == node)
		{
			return;
		}
		
		if (isLeft(node, root-&gt;left)) //åˆ¤æ–­åœ¨å·¦å­æ ‘è¿˜æ˜¯å³å­æ ‘
		{
			ancestor(v, node, root-&gt;left, ump);
		}
		else
		{
			ancestor(v, node, root-&gt;right, ump);
		}

	}


	TreeNode* lowestCommonAncestor(TreeNode* root, TreeNode* p, TreeNode* q)
	{
		unordered_map&lt;TreeNode*, int&gt; ump;
		unordered_map&lt;TreeNode*, int&gt; umq;
		//åˆ†åˆ«æ‰¾å‡ºå„è‡ªçš„ç¥–å…ˆå†è¿›è¡Œæ¯”è¾ƒæ·±åº¦
		if (p == root || q == root)
			return root;
		vector&lt;TreeNode*&gt; vp;//å­˜çš„æ˜¯pçš„ç¥–å…ˆ
		vector&lt;TreeNode*&gt; vq;//å­˜çš„æ˜¯qçš„ç¥–å…ˆ
		vp.push_back(root);
		vq.push_back(root); 
		ump[root]++;
		umq[root]++;
		if (isLeft(p, root-&gt;left))
		{
			ancestor(vp, p, root-&gt;left, ump);//åœ¨å·¦å­æ ‘ é€’å½’è¿›å»
		}
		else
		{
			ancestor(vp, p, root-&gt;right, ump); //åœ¨å³å­æ ‘
		}
		if (isLeft(q, root-&gt;left))
		{
			ancestor(vq, q, root-&gt;left, umq);
		}
		else
		{
			ancestor(vq, q, root-&gt;right, umq);
		}
		//æ¯”è¾ƒæœ€è¿‘ç¥–å…ˆ
		
		vector&lt;TreeNode*&gt; min = vp;
		if (vp.size() &gt; vq.size())
		{
			min = vq;
		}
	  
		TreeNode* near = nullptr;
		for (int i = min.size() - 1 ; i &gt;= 0; --)
		{
			if (ump[min[i]] &amp;&amp; umq[min[i]])
			{
				near = min[i];
                break;
			}
		}

		return near;

	}</code></pre> 
<blockquote> 
 <p>è¿™ç§æ€è·¯æ¯”è¾ƒç®€å•ï¼Œä½†æ˜¯æ—¶é—´å¤æ‚åº¦è¾ƒå¤§ä¸”è°ƒç”¨æ ˆç©ºé—´è¾ƒå¤šï¼Œæ˜¯ä¸€ç¬”ä¸å°çš„å¼€é”€ã€‚</p> 
</blockquote> 
<h4 style="background-color:transparent;">âœï¸ æ€è·¯äºŒï¼š</h4> 
<p><img alt="" height="357" src="https://images2.imgbox.com/f4/60/S3m2JInI_o.png" width="1200"></p> 
<blockquote> 
 <p>ä»”ç»†è§‚å¯Ÿï¼Œæˆ‘ä»¬å‘ç°æ€è·¯1:ä»”ç»†è§‚å¯Ÿä¸€ä¸‹,ä¸¤ä¸ªç»“ç‚¹,æœ€è¿‘å…¬å…±ç¥–å…ˆçš„ç‰¹å¾å°±æ˜¯<strong>ä¸€ä¸ªç»“ç‚¹åœ¨æœ€è¿‘å…¬å…±ç¥–å…ˆçš„å·¦è¾¹,ä¸€ä¸ªç»“ç‚¹åœ¨æœ€è¿‘å…¬å…±ç¥–å…ˆçš„å³è¾¹</strong>ã€‚æ¯”å¦‚å›¾ä¸€6å’Œ4çš„å…¬å…±ç¥–å…ˆæœ‰5å’Œ3,ä½†æ˜¯åªæœ‰æœ€è¿‘å…¬å…±ç¥–å…ˆ5æ»¡è¶³6åœ¨å·¦è¾¹,4åœ¨å³è¾¹ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå¯¹äºå›¾äºŒè¿™ç§æƒ…å†µï¼Œ<strong>å¦‚æœæœ€è¿‘å…¬å…±ç¥–å…ˆæ˜¯på’Œqå…¶ä¸­ä¸€ä¸ªï¼Œæˆ‘ä»¬ç›´æ¥è¿”å›å½“å‰çš„rootå³å¯ã€‚</strong></p> 
</blockquote> 
<p><strong>å› æ­¤æœ‰ï¼š</strong></p> 
<ul><li>æˆ‘ä»¬é¦–å…ˆéœ€è¦ä¸€ä¸ªå‡½æ•°åˆ¤æ–­ç»“ç‚¹åœ¨å“ªä¸ªå­æ ‘ï¼Œè¿™é‡Œæ³¨æ„çš„æ˜¯ï¼Œ<strong>æˆ‘ä»¬å¯ä»¥å‡è®¾å…ˆè¿™ä¸ªç»“ç‚¹åœ¨å·¦å­æ ‘ï¼Œå¦‚æœè¿”å›falseï¼Œåˆ™è¯´æ˜ç»“ç‚¹åœ¨å³å­æ ‘äº†ï¼Œåä¹‹åœ¨å·¦å­æ ‘</strong>ã€‚ä¹Ÿå°±æ˜¯ä¸‹æ–¹ç¬¬äºŒä¸ªå‚æ•°æˆ‘ä»¬ä¼ root-&gt;leftå³å¯ã€‚</li></ul> 
<pre><code class="language-cpp"> bool isleftOright(TreeNode* node,TreeNode* root)
    {
        if(root == nullptr)
          return false;
        return root == node ||isleftOright(node,root-&gt;left) ||  
               isleftOright(node,root&gt;right);  
    } //éç©ºçš„è¯ å¦‚æœå½“å‰èŠ‚ç‚¹æ˜¯è¦æ‰¾çš„ç›´æ¥è¿”å›å¦åˆ™åœ¨å·¦å³å­æ ‘æ‰¾ æ‰€ä»¥ç”¨||</code></pre> 
<ul><li><strong>è‹¥ä¸¤ä¸ªç»“ç‚¹åˆ†åˆ«åœ¨ä¸€å·¦ä¸€å³ï¼Œç›´æ¥è¿”å›å½“å‰rootå³å¯ã€‚</strong></li><li><strong>è‹¥ä¸¤ä¸ªç»“ç‚¹éƒ½åœ¨å·¦å­æ ‘æˆ–éƒ½åœ¨å³å­æ ‘ï¼Œæ­¤æ—¶æˆ‘ä»¬éœ€è¦é€’å½’è¿›å½“å‰å­æ ‘çš„å·¦å­æ ‘æˆ–å³å­æ ‘ï¼Œç»§ç»­å¯»æ‰¾å…¬å…±ç¥–å…ˆã€‚</strong></li><li><strong>åœ¨æ¯æ¬¡ç¡®å®šç»“ç‚¹åœ¨å·¦å­æ ‘è¿˜æ˜¯å³å­æ ‘ï¼Œæˆ‘ä»¬éœ€è¦å¤„ç†ç‰¹æ®Šæƒ…å†µçœ‹æ˜¯å¦å½“å‰ç»“ç‚¹å°±æ˜¯pæˆ–q</strong>.</li></ul> 
<p><strong>å‚è€ƒä»£ç ï¼š</strong></p> 
<pre><code class="language-cpp">class Solution {
public:
    bool isleftOright(TreeNode* node,TreeNode* root)
    {
        if(root == nullptr)
          return false;
        return root == node ||isleftOright(node,root-&gt;left) ||  isleftOright(node,root-&gt;right);  
    }
    
	TreeNode* lowestCommonAncestor(TreeNode* root, TreeNode* p, TreeNode* q)
	{

		if (p == root || q == root)//æœ€è¿‘å…¬å…±ç¥–å…ˆä¸ºp qå…¶ä¸­ä¸€ä¸ª
			return root;
        bool pinleft = isleftOright(p,root-&gt;left);
        bool pinright = !pinleft; //éå·¦å³å³
        bool qinleft = isleftOright(q,root-&gt;left);
        bool qinright = !qinleft;
        //p qåˆ†åˆ«åœ¨å·¦å³å­æ ‘
        if((pinleft &amp;&amp; qinright) || (qinleft &amp;&amp; pinright))
          return root;
       //p qéƒ½åœ¨å·¦å³å­æ ‘
        else if(pinleft &amp;&amp; qinleft)
          return lowestCommonAncestor(root-&gt;left,p,q);
         else
          return lowestCommonAncestor(root-&gt;right,p,q); 

	} </code></pre> 
<ol><li>è¿™ç§æ€è·¯æ¯”æ€è·¯ä¸€è°ƒç”¨æ ˆå±‚æ•°å°‘äº†è®¸å¤šï¼Œä½†ä¹Ÿæ˜¯æœ‰ä¸€å®šå¼€é”€çš„ã€‚</li><li>è¿™ç§æ€è·¯æœ€åæƒ…å†µä¸‹æ—¶é—´å¤æ‚åº¦æ˜¯O(N^2).</li></ol> 
<p><img alt="" height="489" src="https://images2.imgbox.com/db/f7/PfqDkIFF_o.png" width="402"></p> 
<h4>âœï¸ æ€è·¯ä¸‰ï¼š</h4> 
<p>Â Â <em>Â å½’æ ¹ç»“åº•ï¼Œæ‰¾å…¬å…±ç¥–å…ˆä¹Ÿå°±æ˜¯æ‰¾å…¬å…±èŠ‚ç‚¹ï¼Œå¦‚æœæˆ‘ä»¬èƒ½æ±‚å‡ºä¸¤ä¸ªèŠ‚ç‚¹çš„ç¥–å…ˆè·¯å¾„ï¼Œå°±èƒ½è½¬åŒ–ä¸ºé“¾è¡¨ç›¸äº¤é—®é¢˜äº†ã€‚é—®é¢˜æ˜¯å¦‚ä½•ä¼˜åŒ–æ±‚è·¯å¾„å‘¢ï¼Ÿ</em></p> 
<p><img alt="" height="523" src="https://images2.imgbox.com/bb/8a/KQakR8TO_o.gif" width="1200"></p> 
<blockquote> 
 <p>1. æˆ‘ä»¬å¯ä»¥æŒ‰ç…§<span style="color:#2b2f36;">å‰åºéå†çš„æ€è·¯ï¼Œæ‰¾</span><span style="color:#2b2f36;">x</span><span style="color:#2b2f36;">ç»“ç‚¹çš„è·¯å¾„ã€‚</span></p> 
 <p><span style="color:#2b2f36;">2.<strong>é‡åˆ°root</strong></span><strong><span style="color:#2b2f36;">ç»“ç‚¹å…ˆ</span><span style="color:#2b2f36;">push</span><span style="color:#2b2f36;">â¼Šæ ˆï¼Œå› ä¸º</span><span style="color:#2b2f36;">root</span><span style="color:#2b2f36;">å°±ç®—ä¸æ˜¯</span><span style="color:#2b2f36;">x</span><span style="color:#2b2f36;">ï¼Œä½†æ˜¯</span><span style="color:#2b2f36;">root</span><span style="color:#2b2f36;">å¯èƒ½æ˜¯æ ¹</span><span style="color:#2b2f36;">-&gt;x</span><span style="color:#2b2f36;">è·¯å¾„ä¸­â¼€ä¸ªåˆ†æ”¯ç»“ç‚¹ï¼Œ</span><span style="color:#2b2f36;">å½“è¿™ä¸ªèŠ‚ç‚¹å·¦å³å­æ ‘éƒ½æ²¡æœ‰è¦æ‰¾çš„èŠ‚ç‚¹çš„è¯ï¼Œè¯´æ˜ä¸Šé¢å…¥æ ˆçš„</span><span style="color:#2b2f36;">root</span><span style="color:#2b2f36;">ä¸æ˜¯æ ¹</span></strong><span style="color:#2b2f36;"><strong>-&gt;xè·¯å¾„ä¸­â¼€ä¸ªåˆ†â½€ç»“ç‚¹ï¼Œæ­¤æ—¶å°±å¯ä»¥popå‡ºæ ˆå›é€€ï¼Œç»§ç»­å»å…¶ä»–åˆ†â½€è·¯å¾„è¿›è¡ŒæŸ¥æ‰¾ </strong>ã€‚</span></p> 
 <p>3.é“¾è¡¨ç›¸äº¤é—®é¢˜æˆ‘ä»¬å¯ä»¥å…ˆ<strong>ç”¨å“ˆå¸Œmapéå†å…¶ä¸­ä¸€æ¡è·¯å¾„ï¼Œå†éå†å¦ä¸€æ¡è·¯å¾„æ—¶ï¼Œç”±äºæˆ‘ä»¬å‰åº+æ ˆå¾—åˆ°çš„æ˜¯ä»ä¸‹åˆ°ä¸Šçš„è·¯å¾„ï¼Œæ‰€ä»¥ç¬¬ä¸€æ¬¡ä¸¤ä¸ªå“ˆå¸Œè¡¨éƒ½æœ‰æ˜ å°„è¯´æ˜å°±æ˜¯äº¤ç‚¹ï¼Œä¹Ÿå°±æ˜¯æœ€è¿‘å…¬å…±ç¥–å…ˆã€‚</strong></p> 
</blockquote> 
<p><strong>å‚è€ƒä»£ç ï¼š</strong></p> 
<pre><code class="language-cpp">    bool GetPath(TreeNode*root,TreeNode* p, stack&lt;TreeNode*&gt;&amp; s)//æ±‚è·¯å¾„
    {  
        if(root == nullptr)
        return false;
         s.push(root);
        if(root == p)//æ‰¾åˆ°ç›®æ ‡èŠ‚ç‚¹
         return true;
        if(GetPath(root-&gt;left,p,s)) //å·¦å­æ ‘æ‰¾ æ²¡æœ‰å°±å»å³å­æ ‘
        {  
            return true; 
        }
        if(GetPath(root-&gt;right,p,s))
        {
            return true;
        }
        //å·¦å³å­æ ‘éƒ½æ²¡æœ‰ å›é€€
        s.pop();
        return false;

    } 



	TreeNode* lowestCommonAncestor(TreeNode* root, TreeNode* p, TreeNode* q)
	{  
        stack&lt;TreeNode*&gt; sp;
        stack&lt;TreeNode*&gt; sq;

		unordered_map&lt;TreeNode*, int&gt; ump;
		unordered_map&lt;TreeNode*, int&gt; umq;
		if (p == root || q == root)
			return root;
       //æ±‚è·¯å¾„
		GetPath(root,p,sp);
		GetPath(root,q,sq);
       while(!sp.empty())
       {
            TreeNode* top = sp.top();
            ump[top]++;
            sp.pop();
       }
       TreeNode* near = nullptr;
       //é“¾è¡¨ç›¸äº¤ 
       while(!sq.empty())
       {
           TreeNode* top = sq.top();
           umq[top]++;
           if(umq[top] &amp;&amp; ump[top]) //ä¸¤ä¸ªéƒ½æœ‰æ˜ å°„
           {
              near = top;
              break;
           }
          sq.pop();
       }
      return near;
	} </code></pre> 
<p></p> 
<hr> 
<p><strong>å®Œ(à¹‘Â¯Ï‰Â¯à¹‘)</strong></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/994386e8899eb4391102c8cd598a45f2/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">2024 å¹´å¯å…è´¹ä¸‹è½½çš„ 6 æ¬¾æœ€ä½³ iOS è§£é”è½¯ä»¶</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/ce04f8964c277c557dc74ed37444c8f1/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">ã€æ•°æ®ç»“æ„ã€‘é¡ºåºè¡¨â€”â€”èµ‹æºç (ç»“å°¾)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ç¼–ç¨‹å¤§å’–.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>