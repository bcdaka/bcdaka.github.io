<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【爱上C&#43;&#43;】vector用法详解 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/825a7288275b0e3b034edaa48f8c6c1a/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="【爱上C&#43;&#43;】vector用法详解">
  <meta property="og:description" content="文章目录 一:vector简介二:vector的创建和初始化三:vector的遍历1.[]&#43;下标2.at()3.迭代器遍历4.范围for 四:vector的空间1.size2.max_size3.capacity4.reserve5.resize6.empty 五:vector的增删查改1.push_back2.pop_back3.find4.insert5.erase6.swap7.assign Hello~同学们好，本文将深入探讨 C&#43;&#43; 中的 vector 容器，作为标准模板库（STL）中最常用的动态数组之一，vector 提供了灵活的元素存储和高效的访问方法。我们将从基础知识入手，逐步学习其创建、初始化、遍历、空间管理以及增删查改等操作。通过详细的示例和解析，希望能够帮助读者全面理解和掌握 vector 的使用技巧和注意事项。 一:vector简介 vector文档
vector是表示可变大小数组的序列容器。就像数组一样，vector也采用的连续存储空间来存储元素。也就是意味着可以采用下标对vector的元素进行访问，和数组一样高效。但是又不像数组，它的大小是可以动态改变的，而且它的大小会被容器自动处理。本质讲，vector使用动态分配数组来存储它的元素。当新元素插入时候，这个数组需要被重新分配大小为了增加存储空间。其做法是，分配一个新的数组，然后将全部元素移到这个数组。就时间而言，这是一个相对代价高的任务，因为每当一个新的元素加入到容器的时候，vector并不会每次都重新分配大小。vector分配空间策略：vector会分配一些额外的空间以适应可能的增长，因为存储空间比实际需要的存储空间更大。不同的库采用不同的策略权衡空间的使用和重新分配。但是无论如何，重新分配都应该是对数增长的间隔大小，以至于在末尾插入一个元素的时候是在常数时间的复杂度完成的。因此，vector占用了更多的存储空间，为了获得管理存储空间的能力，并且以一种有效的方式动态增长。与其它动态序列容器相比（deque, list and forward_list）， vector在访问元素的时候更加高效，在末尾添加和删除元素相对高效。对于其它不在末尾的删除和插入操作，效率更低。比起list和forward_list统一的迭代器和引用更好。 使用STL的三个境界：能用，明理，能扩展 ，那么下面学习vector，我们也是按照这个方法去学习
二:vector的创建和初始化 要包头文件#include&lt;vector&gt;
// 默认构造函数，创建一个空的 vector vector&lt;int&gt; v1; // 创建一个包含 4 个默认初始化元素（值为 0）的 vector vector&lt;int&gt; v2(4); // 创建一个包含 4 个元素，每个元素初始化为 10 的 vector vector&lt;int&gt; v3(4, 10); // 使用迭代器范围（v3 的起始和结束迭代器）初始化 vector，v4 将包含 v3 的所有元素 vector&lt;int&gt; v4(v3.begin(), v3.end()); // 拷贝构造函数，创建一个 v2 的副本 vector&lt;int&gt; v5(v2); // 使用初始化列表创建 vector，v6 将包含 1, 2, 3, 4, 5, 6, 7 这些元素 vector&lt;int&gt; v6 = {1, 2, 3, 4, 5, 6, 7}; // 使用 std::string 初始化 string s1(&#34;">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-07-08T10:30:57+08:00">
    <meta property="article:modified_time" content="2024-07-08T10:30:57+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【爱上C&#43;&#43;】vector用法详解</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#vector_2" rel="nofollow">一:vector简介</a></li><li><a href="#vector_14" rel="nofollow">二:vector的创建和初始化</a></li><li><a href="#vector_55" rel="nofollow">三:vector的遍历</a></li><li><ul><li><a href="#1_57" rel="nofollow">1.[]+下标</a></li><li><a href="#2at_77" rel="nofollow">2.at()</a></li><li><a href="#3_111" rel="nofollow">3.迭代器遍历</a></li><li><a href="#4for_141" rel="nofollow">4.范围for</a></li></ul> 
  </li><li><a href="#vector_181" rel="nofollow">四:vector的空间</a></li><li><ul><li><a href="#1size_192" rel="nofollow">1.size</a></li><li><a href="#2max_size_195" rel="nofollow">2.max_size</a></li><li><a href="#3capacity_198" rel="nofollow">3.capacity</a></li><li><a href="#4reserve_201" rel="nofollow">4.reserve</a></li><li><a href="#5resize_222" rel="nofollow">5.resize</a></li><li><a href="#6empty_236" rel="nofollow">6.empty</a></li></ul> 
  </li><li><a href="#vector_240" rel="nofollow">五:vector的增删查改</a></li><li><ul><li><a href="#1push_back_251" rel="nofollow">1.push_back</a></li><li><a href="#2pop_back_277" rel="nofollow">2.pop_back</a></li><li><a href="#3find_294" rel="nofollow">3.find</a></li><li><a href="#4insert_335" rel="nofollow">4.insert</a></li><li><a href="#5erase_373" rel="nofollow">5.erase</a></li><li><a href="#6swap_405" rel="nofollow">6.swap</a></li><li><a href="#7assign_437" rel="nofollow">7.assign</a></li></ul> 
 </li></ul> 
</div> 
<br> Hello~同学们好，本文将深入探讨 C++ 中的 vector 容器，作为标准模板库（STL）中最常用的动态数组之一，vector 提供了灵活的元素存储和高效的访问方法。我们将从基础知识入手，逐步学习其创建、初始化、遍历、空间管理以及增删查改等操作。通过详细的示例和解析，希望能够帮助读者全面理解和掌握 vector 的使用技巧和注意事项。 
<p></p> 
<h2><a id="vector_2"></a>一:vector简介</h2> 
<p>vector<a href="http://www.cplusplus.com/reference/vector/vector/" rel="nofollow">文档</a></p> 
<ol><li>vector是表示可变大小数组的序列容器。</li><li>就像数组一样，vector也采用的连续存储空间来存储元素。也就是意味着可以采用下标对vector的元素进行访问，和数组一样高效。但是又不像数组，它的大小是可以动态改变的，而且它的大小会被容器自动处理。</li><li>本质讲，vector使用动态分配数组来存储它的元素。当新元素插入时候，这个数组需要被重新分配大小为了增加存储空间。其做法是，分配一个新的数组，然后将全部元素移到这个数组。就时间而言，这是一个相对代价高的任务，因为每当一个新的元素加入到容器的时候，vector并不会每次都重新分配大小。</li><li>vector分配空间策略：vector会分配一些额外的空间以适应可能的增长，因为存储空间比实际需要的存储空间更大。不同的库采用不同的策略权衡空间的使用和重新分配。但是无论如何，重新分配都应该是对数增长的间隔大小，以至于在末尾插入一个元素的时候是在常数时间的复杂度完成的。</li><li>因此，vector占用了更多的存储空间，为了获得管理存储空间的能力，并且以一种有效的方式动态增长。</li><li>与其它动态序列容器相比（deque, list and forward_list）， vector在访问元素的时候更加高效，在末尾添加和删除元素相对高效。对于其它不在末尾的删除和插入操作，效率更低。比起list和forward_list统一的迭代器和引用更好。</li></ol> 
<p><br>使用STL的三个境界：能用，明理，能扩展 ，那么下面学习vector，我们也是按照这个方法去学习<br> </p> 
<h2><a id="vector_14"></a>二:vector的创建和初始化</h2> 
<p>要包头文件<code>#include&lt;vector&gt;</code></p> 
<pre><code class="prism language-cpp">    <span class="token comment">// 默认构造函数，创建一个空的 vector</span>
    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> v1<span class="token punctuation">;</span> 
    
    <span class="token comment">// 创建一个包含 4 个默认初始化元素（值为 0）的 vector</span>
    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">v2</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    
    <span class="token comment">// 创建一个包含 4 个元素，每个元素初始化为 10 的 vector</span>
    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">v3</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    
    <span class="token comment">// 使用迭代器范围（v3 的起始和结束迭代器）初始化 vector，v4 将包含 v3 的所有元素</span>
    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">v4</span><span class="token punctuation">(</span>v3<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> v3<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">// 拷贝构造函数，创建一个 v2 的副本</span>
    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">v5</span><span class="token punctuation">(</span>v2<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    
    <span class="token comment">// 使用初始化列表创建 vector，v6 将包含 1, 2, 3, 4, 5, 6, 7 这些元素</span>
    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> v6 <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">}</span><span class="token punctuation">;</span> 

    <span class="token comment">// 使用 std::string 初始化</span>
    string <span class="token function">s1</span><span class="token punctuation">(</span><span class="token string">"12345"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 创建一个包含 "12345" 的字符串 s1</span>
    <span class="token comment">// 使用 std::string 的迭代器初始化 std::vector&lt;int&gt;</span>
    <span class="token comment">// 这里每个 char 会隐式转换为其对应的 int（ASCII 值）</span>
    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">v3</span><span class="token punctuation">(</span>s1<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> s1<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 使用字符串的迭代器初始化 vector&lt;int&gt;</span>
</code></pre> 
<p><strong>vector和string的区别：</strong></p> 
<blockquote> 
 <p><br> <strong>std::vector：</strong></p> 
 <ul><li><strong>不自动添加 \0</strong>: 
   <ul><li>std::vector 只是一个通用的动态数组容器，它不会在末尾自动添加 \0。你需要手动管理字符串的结束标志。</li><li>当你需要将 std::vector 转换为 C 风格字符串时，你必须手动添加一个 \0。</li></ul> </li></ul> 
</blockquote> 
<blockquote> 
 <p><br> <strong>std::string：</strong></p> 
 <ul><li><strong>自动添加 \0</strong>: 
   <ul><li>std::string 在内部管理一个以 \0 结尾的字符数组。这个空字符保证了字符串可以直接使用 C 风格字符串的函数。</li><li>当你创建或操作 std::string 对象时，\0 是自动添加和管理的，因此不需要手动处理。</li></ul> </li></ul> 
</blockquote> 
<p></p> 
<h2><a id="vector_55"></a>三:vector的遍历</h2> 
<p></p> 
<h3><a id="1_57"></a>1.[]+下标</h3> 
<p><img src="https://images2.imgbox.com/88/a8/Wzw5Tg18_o.png" alt="image.png"></p> 
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">test_vector1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> v<span class="token punctuation">;</span>
	v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span>size_t i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> v<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		cout <span class="token operator">&lt;&lt;</span> v<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> 
<p>看一下结果(push_back后面会将，顾名思义也就是尾插）<br><img src="https://images2.imgbox.com/ab/ab/CV1MAaHk_o.png" alt="image.png"><br>调试一下看看<img src="https://images2.imgbox.com/12/03/oEms0JRo_o.png" alt="image.png"><br> </p> 
<h3><a id="2at_77"></a>2.at()</h3> 
<p><img src="https://images2.imgbox.com/e9/c3/FW2VAUzY_o.png" alt="image.png"><br>at() 函数用于访问vector 中的元素，并进行边界检查。与 operator[] 不同，at() 会在访问越界时抛出 std::out_of_range 异常，因此它比 operator[] 更安全，但稍微有点性能开销。</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span>  <span class="token comment">// 引入输入输出流头文件</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span>    <span class="token comment">// 引入 vector 容器头文件</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdexcept&gt;</span> <span class="token comment">// 引入标准异常头文件</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span> <span class="token comment">// 使用标准命名空间</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> vec <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">50</span> <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// 初始化一个包含五个整数的 vector</span>

	<span class="token comment">// 正常访问 vector 的元素</span>
	<span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span>size_t i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> vec<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Element at index "</span> <span class="token operator">&lt;&lt;</span> i <span class="token operator">&lt;&lt;</span> <span class="token string">" is "</span> <span class="token operator">&lt;&lt;</span> vec<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">// 使用 at() 函数访问元素</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token keyword">const</span> out_of_range<span class="token operator">&amp;</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		cerr <span class="token operator">&lt;&lt;</span> <span class="token string">"Out of range error: "</span> <span class="token operator">&lt;&lt;</span> e<span class="token punctuation">.</span><span class="token function">what</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">// 捕捉并处理越界访问异常</span>
	<span class="token punctuation">}</span>
	<span class="token comment">// 尝试访问越界元素</span>
	<span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Element at index 10 is "</span> <span class="token operator">&lt;&lt;</span> vec<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">// 访问索引为 10 的元素，这将抛出异常</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token keyword">const</span> out_of_range<span class="token operator">&amp;</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		cerr <span class="token operator">&lt;&lt;</span> <span class="token string">"Out of range error————"</span> <span class="token operator">&lt;&lt;</span> e<span class="token punctuation">.</span><span class="token function">what</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">// 捕捉并处理越界访问异常</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// 返回 0 表示程序正常结束</span>
<span class="token punctuation">}</span>

</code></pre> 
<p><img src="https://images2.imgbox.com/3a/a1/tBwP0bAa_o.png" alt="image.png"><br> </p> 
<h3><a id="3_111"></a>3.迭代器遍历</h3> 
<table><thead><tr><th>iterator的使用</th><th>接口说明</th></tr></thead><tbody><tr><td>begin +end（重点）</td><td>获取第一个数据位置的iterator/const_iterator<br>获取最后一个数据的下一个位置<br>的iterator/const_iterator</td></tr><tr><td>rbegin + rend</td><td>获取最后一个数据位置的reverse_iterator<br>获取第一个数据前一个位置的<br>reverse_iterator</td></tr></tbody></table> 
<p><img src="https://images2.imgbox.com/db/b3/DC9NL2Gp_o.png" alt="image.png"><br>迭代器访问+修改</p> 
<pre><code class="prism language-cpp">    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> v1<span class="token punctuation">;</span>        <span class="token comment">// 定义一个空的 vector 容器</span>
    v1<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">// 向容器中添加元素 1</span>
    v1<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">// 向容器中添加元素 2</span>
    v1<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">// 向容器中添加元素 3</span>
    v1<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">// 向容器中添加元素 4</span>
    
    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>iterator it <span class="token operator">=</span> v1<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 初始化迭代器，指向 vector 的起始位置</span>
    
    <span class="token comment">// 使用 while 循环遍历 vector 的元素</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>it <span class="token operator">!=</span> v1<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>                <span class="token comment">// 当迭代器未到达 vector 的末尾时继续循环</span>
        <span class="token operator">*</span>it <span class="token operator">-=</span> <span class="token number">10</span><span class="token punctuation">;</span>                          <span class="token comment">// 将迭代器指向的元素值减去 10</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>it <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>                 <span class="token comment">// 打印当前元素值</span>
        it<span class="token operator">++</span><span class="token punctuation">;</span>                               <span class="token comment">// 迭代器指向下一个元素</span>
    <span class="token punctuation">}</span>
    cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>                           <span class="token comment">// 输出换行符</span>
</code></pre> 
<blockquote> 
 <p>为什么 while (it != v1.end())不能用 it&lt;v1.end()?<br> 因为在 C++ 中，标准库容器（如 std::vector）的迭代器支持比较操作，但通常是使用 != 而不是 &lt; 来判断迭代器是否已经到达容器的末尾。!= 比较更加直观和符合语义。<br> 使用 &lt; 进行比较可能在某些情况下无效，因为并不是所有迭代器都支持 &lt; 运算符。特别是，对于双向迭代器或更复杂的迭代器（如关联容器中的迭代器），它们不支持这种操作。</p> 
</blockquote> 
<p>注意：<code>vector&lt;int&gt;::iterator it = v1.begin();</code>要用vector::指明是什么类型的迭代器。<br> </p> 
<h3><a id="4for_141"></a>4.范围for</h3> 
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">vector_Traversal_test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> v<span class="token punctuation">;</span>
	v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
	<span class="token comment">// 范围for</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> e <span class="token operator">:</span> v<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		cout <span class="token operator">&lt;&lt;</span> e <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
 
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span><span class="token operator">&amp;</span> e <span class="token operator">:</span> v<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		e <span class="token operator">+=</span> <span class="token number">10</span><span class="token punctuation">;</span>
		cout <span class="token operator">&lt;&lt;</span> e <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

<span class="token comment">//范围for实际上是使用迭代器来遍历容器的</span>
<span class="token comment">//把上面两个展开其实是下面两个。</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> it <span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> it <span class="token operator">!=</span> v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>it<span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">auto</span> e <span class="token operator">=</span> <span class="token operator">*</span>it<span class="token punctuation">;</span>  <span class="token comment">// 通过迭代器获取当前元素</span>
    cout <span class="token operator">&lt;&lt;</span> e <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> it <span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> it <span class="token operator">!=</span> v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>it<span class="token punctuation">)</span> 
    <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">auto</span><span class="token operator">&amp;</span> e <span class="token operator">=</span> <span class="token operator">*</span>it<span class="token punctuation">;</span>  <span class="token comment">// 通过迭代器获取当前元素的引用</span>
    e <span class="token operator">+=</span> <span class="token number">10</span><span class="token punctuation">;</span>        <span class="token comment">// 修改元素的值</span>
    cout <span class="token operator">&lt;&lt;</span> e <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p></p> 
<h2><a id="vector_181"></a>四:vector的空间</h2> 
<table><thead><tr><th><br></th><th></th><th></th></tr></thead><tbody><tr><td>size</td><td>获取数据个数</td><td></td></tr><tr><td>max_size</td><td>容器所能容纳的最大元素数量</td><td></td></tr><tr><td>capacity</td><td>获取容量大小</td><td></td></tr><tr><td>resize</td><td>改变vector的size</td><td></td></tr><tr><td>reserve</td><td>改变vector的capacity</td><td></td></tr><tr><td>empty</td><td>判断是否为空</td><td></td></tr></tbody></table> 
<p></p> 
<h3><a id="1size_192"></a>1.size</h3> 
<p>size() 函数返回当前 vector 中的元素个数。<br> </p> 
<h3><a id="2max_size_195"></a>2.max_size</h3> 
<p>max_size() 函数返回 vector 可以容纳的最大元素数量，这个数量通常是一个非常大的值，取决于系统限制和内存可用性。<br> </p> 
<h3><a id="3capacity_198"></a>3.capacity</h3> 
<p>capacity() 函数返回当前 vector 内部存储空间的容量，即在重新分配之前可以存储的元素数量。<br> </p> 
<h3><a id="4reserve_201"></a>4.reserve</h3> 
<p>reserve(n) 函数用于请求 vector 预留足够的存储空间，以容纳至少 n 个元素。这样做可以减少因为容器扩展而导致的重新分配操作，提高插入元素的效率。 <br>如果已经确定vector中要存储元素大概个数，可以提前将空间设置足够,就可以避免边插入边扩容导致效率低下的问题了</p> 
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">TestVectorExpandOP</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> v<span class="token punctuation">;</span>
	size_t sz <span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">capacity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	v<span class="token punctuation">.</span><span class="token function">reserve</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 提前将容量设置好，可以避免一遍插入一遍扩容</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"making bar grow:\n"</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>sz <span class="token operator">!=</span> v<span class="token punctuation">.</span><span class="token function">capacity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			sz <span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">capacity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			cout <span class="token operator">&lt;&lt;</span> <span class="token string">"capacity changed: "</span> <span class="token operator">&lt;&lt;</span> sz <span class="token operator">&lt;&lt;</span> <span class="token char">'\n'</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p></p> 
<h3><a id="5resize_222"></a>5.resize</h3> 
<p>resize() 函数用于改变 vector 的大小，即容器中元素的数量。它可以根据传入的参数 n，进行不同的操作：</p> 
<ol><li><strong>当 n &lt; size 时</strong>： 
  <ul><li>容器尾部多余的元素会被销毁。</li><li>capacity 不会改变。</li></ul> </li><li><strong>当 size &lt;= n &lt;= capacity 时</strong>： 
  <ul><li>容器尾部新增加的元素被初始化为默认值（对于 int 类型，默认值是 0）。</li><li>capacity 不会改变。</li></ul> </li><li><strong>当 n &gt; capacity 时</strong>： 
  <ul><li>容器尾部新增加的元素被初始化为默认值。</li><li>size 和 capacity 都会变为 n，并且需要重新分配内存来扩展容器的存储空间。</li></ul> </li></ol> 
<p></p> 
<h3><a id="6empty_236"></a>6.empty</h3> 
<p>empty() 函数检查 vector 是否为空，如果 vector 中没有元素，则返回 true，否则返回 false。</p> 
<p></p> 
<h2><a id="vector_240"></a>五:vector的增删查改</h2> 
<table><thead><tr><th>push_back</th><th>尾插</th></tr></thead><tbody><tr><td>pop_back</td><td>尾删</td></tr><tr><td>find</td><td>查找（注意这个是算法模块实现，不是vector的成员接口）</td></tr><tr><td>insert</td><td>在pos位置<strong>之前</strong>插入数据</td></tr><tr><td>erase</td><td>删除pos位置的数据</td></tr><tr><td>swap</td><td>交换两个vector的数据空间</td></tr><tr><td>assign</td><td>用于将新值分配给向量的元素，替换当前内容，并修改向量的大小</td></tr></tbody></table> 
<p></p> 
<h3><a id="1push_back_251"></a>1.push_back</h3> 
<pre><code class="prism language-cpp">	vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> v<span class="token punctuation">;</span>
	v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> e <span class="token operator">:</span> v<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		cout <span class="token operator">&lt;&lt;</span> e <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	
	vector<span class="token operator">&lt;</span>string<span class="token operator">&gt;</span> v1<span class="token punctuation">;</span>
	v1<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token string">" we"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	v1<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token string">" all"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	v1<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token string">" love"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	v1<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token string">" C++"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> e <span class="token operator">:</span> v1<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		cout <span class="token operator">&lt;&lt;</span>e<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/85/19/Y7e1w0hq_o.png" alt="image.png"><br> </p> 
<h3><a id="2pop_back_277"></a>2.pop_back</h3> 
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">test_vector5</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> v<span class="token punctuation">;</span>
	v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> e <span class="token operator">:</span> v<span class="token punctuation">)</span> cout <span class="token operator">&lt;&lt;</span> e <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span> cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
 
	v<span class="token punctuation">.</span><span class="token function">pop_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 尾删：3</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> e <span class="token operator">:</span> v<span class="token punctuation">)</span> cout <span class="token operator">&lt;&lt;</span> e <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span> cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	
	v<span class="token punctuation">.</span><span class="token function">pop_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 尾删：2</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> e <span class="token operator">:</span> v<span class="token punctuation">)</span> cout <span class="token operator">&lt;&lt;</span> e <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span> cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p></p> 
<h3><a id="3find_294"></a>3.find</h3> 
<p><strong>思考</strong>:为什么string、map、set、都有自己的find而vector和list没有？</p> 
<blockquote> 
 <p><br> <strong>为什么 string、map、set 提供 find 操作？</strong></p> 
 <ul><li><strong>std::string</strong>： 
   <ul><li>std::string 是一个字符序列，提供 find 操作用于子串查找，这是字符串操作中非常常见的需求。</li><li>例如，查找某个子串在字符串中的位置。</li></ul> </li><li><strong>std::map 和 std::set</strong>： 
   <ul><li>std::map 和 std::set 是关联容器，基于平衡二叉树（如红黑树）实现。</li><li>find 操作在这些容器中是核心功能，因为它们的主要用途就是快速查找键。</li><li>std::map 提供键值对的查找，而 std::set 提供唯一键的查找。</li><li>这些容器的查找操作效率是 O(log n)。<br> <br> <strong>为什么 vector 和 list 不提供 find 操作？</strong></li></ul> </li><li><strong>std::vector</strong>： 
   <ul><li>std::vector 是一个动态数组，主要用于顺序存储和访问。</li><li>查找操作的效率是 O(n)，因为需要线性扫描整个数组。</li><li>提供 find 操作<strong>在效率上</strong>不占优势，因此没有直接提供。</li></ul> </li><li><strong>std::list</strong>： 
   <ul><li>std::list 是一个双向链表，适用于频繁插入和删除操作。</li><li>查找操作的效率同样是 O(n)，因为需要线性扫描链表。</li><li>和 vector 类似，提供 find 操作在效率上不占优势，因此没有直接提供。</li></ul> </li></ul> 
</blockquote> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm&gt;</span></span>
<span class="token keyword">void</span> <span class="token function">test_vector9</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> v<span class="token punctuation">;</span>
	v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>iterator it <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>it <span class="token operator">!=</span> v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">"找到啦"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>it <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p></p> 
<h3><a id="4insert_335"></a>4.insert</h3> 
<p><img src="https://images2.imgbox.com/d1/0f/kTOpFLQr_o.png" alt="image.png"></p> 
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">test_vector9</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> v<span class="token punctuation">;</span>
	v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">auto</span> it1 <span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">;</span><span class="token comment">//在第三个位置插入</span>
	v<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>it1<span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> e <span class="token operator">:</span> v<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		cout <span class="token operator">&lt;&lt;</span> e <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token comment">//1 2 100 3 4 5 6</span>
	cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	<span class="token keyword">auto</span> it2 <span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">4</span><span class="token punctuation">;</span>
	v<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>it2<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//在第五个位置插入3个90</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> e <span class="token operator">:</span> v<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		cout <span class="token operator">&lt;&lt;</span> e <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token comment">//1 2 100 3 90 90 90 4 5 6</span>
	cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>


	vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> vec1 <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">6</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
	vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> vec2 <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token keyword">auto</span> it3 <span class="token operator">=</span> vec1<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">// 在第三个位置插入元素</span>
	vec1<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>it3<span class="token punctuation">,</span> vec2<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> vec2<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 在位置 it 处插入 vec2 的所有元素</span>
	<span class="token comment">// 现在 vec1 = {1, 2, 3, 4, 5, 6}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><strong>注意</strong>：pos的类型都是iterator;<br> </p> 
<h3><a id="5erase_373"></a>5.erase</h3> 
<p><img src="https://images2.imgbox.com/65/48/bZhRSlWe_o.png" alt="image.png"></p> 
<pre><code class="prism language-cpp">    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> v <span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token comment">// 删除第三个元素</span>
    <span class="token keyword">auto</span> it <span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">erase</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// v = {1, 2, 4, 5}</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> elem <span class="token operator">:</span> v<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        cout <span class="token operator">&lt;&lt;</span> elem <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

    <span class="token comment">// 删除第二个到第四个元素</span>
    <span class="token keyword">auto</span> first <span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">auto</span> last <span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">4</span><span class="token punctuation">;</span>
    v<span class="token punctuation">.</span><span class="token function">erase</span><span class="token punctuation">(</span>first<span class="token punctuation">,</span> last<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// v = {1, 5}</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> elem <span class="token operator">:</span> v<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        cout <span class="token operator">&lt;&lt;</span> elem <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token comment">//注意：[first,last) 是左闭右开的区间所以last可以取v.begin() + 4</span>
</code></pre> 
<ul><li>在调用 erase 后，被移除的元素会被析构，相关的内存也会被释放。</li><li>对于 erase(iterator first, iterator last)，注意 first 和 last 的有效性和顺序，确保不会越界访问或者非法操作。</li><li>删除元素后，后续的元素会向前移动填补空缺，保持 vector 的连续性。</li><li>erase 操作可能会导致迭代器失效，因此在使用返回的迭代器之前，要确保其仍然有效。</li></ul> 
<p>迭代器失效问题我会放在vector模拟实现(下一篇文章)详细讲解。<br> </p> 
<h3><a id="6swap_405"></a>6.swap</h3> 
<p>std::vector 提供了一个成员函数 swap，用于交换两个 vector 对象的内容。这个操作可以快速地交换两个容器的元素，而不需要复制它们的内容。</p> 
<pre><code class="prism language-cpp">    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> v1 <span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> v2 <span class="token punctuation">{<!-- --></span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token comment">// 使用 swap 交换两个 vector 的内容</span>
    v1<span class="token punctuation">.</span><span class="token function">swap</span><span class="token punctuation">(</span>v2<span class="token punctuation">)</span><span class="token punctuation">;</span>

    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"After swapping:\n"</span><span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"v1: "</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> elem <span class="token operator">:</span> v1<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        cout <span class="token operator">&lt;&lt;</span> elem <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>  <span class="token comment">//4 5 6</span>
    <span class="token punctuation">}</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"\nv2: "</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> elem <span class="token operator">:</span> v2<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        cout <span class="token operator">&lt;&lt;</span> elem <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>  <span class="token comment">//1 2 3</span>
    <span class="token punctuation">}</span>
    cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

</code></pre> 
<p><br> <strong>效果和注意事项</strong></p> 
<ol><li><strong>内容交换</strong>：swap 函数会交换两个 vector 对象的所有元素，包括它们的大小（size）和容量（capacity）。</li><li><strong>高效性</strong>：swap 操作非常高效，因为它只涉及指针的交换，不需要复制元素。这对于大型的 vector 特别有用，可以在不重新分配内存的情况下快速交换数据。</li><li><strong>迭代器和引用的影响</strong>：swap 操作不会使现有的迭代器、引用和指针失效，因此可以安全地在 swap 后继续使用交换后的 vector 对象。</li><li><strong>使用场景</strong>：swap 可以用于重新排序或重新组织数据，也可以用于优化内存使用，比如在算法中交换两个 vector 来实现更高效的数据处理流程。</li><li><strong>示例：</strong> 上面的示例展示了如何使用 swap 将两个 vector 对象的内容进行交换，从而在输出中显示了交换后的结果。</li></ol> 
<p>总之，std::vector 的 swap 函数是一个非常有用的工具，能够快速、高效地交换两个 vector 对象的内容，适合在需要优化内存使用或者重新组织数据时使用。<br> </p> 
<h3><a id="7assign_437"></a>7.assign</h3> 
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">demonstrate_assign</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 创建一个空的 vector&lt;int&gt;</span>
    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> v<span class="token punctuation">;</span>

    <span class="token comment">// 使用 assign(n, value) 方法赋值</span>
    v<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 用5个10替换当前内容</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"After v.assign(5, 10): "</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">:</span> v<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        cout <span class="token operator">&lt;&lt;</span> i <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span> <span class="token comment">// 输出: 10 10 10 10 10</span>
    <span class="token punctuation">}</span>
    cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

    <span class="token comment">// 使用 assign(first, last) 方法赋值</span>
    <span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    v<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> arr <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 用数组的前3个元素替换当前内容</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"After v.assign(arr, arr + 3): "</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">:</span> v<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        cout <span class="token operator">&lt;&lt;</span> i <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span> <span class="token comment">// 输出: 1 2 3</span>
    <span class="token punctuation">}</span>
    cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

    <span class="token comment">// 使用 vector 的迭代器范围赋值</span>
    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> v2 <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    v<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>v2<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> v2<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 用v2的所有元素替换当前内容</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"After v.assign(v2.begin(), v2.end()): "</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">:</span> v<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        cout <span class="token operator">&lt;&lt;</span> i <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span> <span class="token comment">// 输出: 7 8 9</span>
    <span class="token punctuation">}</span>
    cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> 
<p><img src="https://images2.imgbox.com/73/1e/S8SoV7F1_o.png" alt="07c03ae6d77b4b153f6d1ec710be7c14_7a80245f0b5f4021a033b3789a9efdeb.png"><br>📜 [ 声明 ] 由于作者水平有限，本文有错误和不准确之处在所难免，<br> 本人也很想知道这些错误，恳望读者批评指正！</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/6b34663013242739e0bcb203d53a434e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">XML标记语言简介</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/3bc4f0c3e012f47ac91ddfd1448467e4/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Java中几种常见的四舍五入方法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>