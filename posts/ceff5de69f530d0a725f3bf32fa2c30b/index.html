<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>C:指针学习-指针变量—学习笔记 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/ceff5de69f530d0a725f3bf32fa2c30b/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="C:指针学习-指针变量—学习笔记">
  <meta property="og:description" content="今日伊雷娜：
目录
前言：
1、字符指针变量
1.1 使用字符指针存放字符
1.2 使用字符指针变量存放字符串
2、数组指针变量
2.1 什么是数组指针变量？
2.2 数组指针变量初始化
2.3 关于数组指针类型的解析
3、函数指针变量
3.1 函数地址
3.2 函数指针变量的创建
3.3 关于指针的连续定义
3.4 函数指针变量的使用
3.5 补充函数调用
前言： 本篇文章涉及字符指针变量，数组指针变量，函数指针变量，以及函数指针数组。
1、字符指针变量 在指针类型中我们知道有一种指针类型叫char*
1.1 使用字符指针存放字符 #include &lt;stdio.h&gt; int main() { char ch = &#39;l&#39;; char* pc = &amp;ch;//取出ch的地址放到ch里 *pc = &#39;l&#39;; return 0; } pc为字符指针变量，指针变量是变量，存放的是字符，类型是char*
关于字符指针变量还有另外一种用法。也就是存放字符串。
1.2 使用字符指针变量存放字符串 char* p = &#34;JonlyMay&#34;;//字符指针p指向了一个字符串
这句代码的意思是什么呢？是把 &#34;JonlyMay&#34;字符串存放到指针变量p 中吗？
重点：p 中存放的是该字符串首字符的地址
我们来与数组类比理解 char* p = &#34;JonlyMay&#34;中是将首元素地址赋给字符指针变量p：">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-08-17T15:38:12+08:00">
    <meta property="article:modified_time" content="2024-08-17T15:38:12+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">C:指针学习-指针变量—学习笔记</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><strong><span style="color:#38d8f0;">今日伊雷娜：</span></strong></p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/37/b0/KfvbwCML_o.jpg"></p> 
<p id="main-toc"><strong>目录</strong></p> 
<p id="%E5%89%8D%E8%A8%80%EF%BC%9A-toc" style="margin-left:0px;"><a href="#%E5%89%8D%E8%A8%80%EF%BC%9A" rel="nofollow">前言：</a></p> 
<p id="1%E3%80%81%E5%AD%97%E7%AC%A6%E6%8C%87%E9%92%88%E5%8F%98%E9%87%8F-toc" style="margin-left:0px;"><a href="#1%E3%80%81%E5%AD%97%E7%AC%A6%E6%8C%87%E9%92%88%E5%8F%98%E9%87%8F" rel="nofollow">1、字符指针变量</a></p> 
<p id="1.1%20%E4%BD%BF%E7%94%A8%E5%AD%97%E7%AC%A6%E6%8C%87%E9%92%88%E5%AD%98%E6%94%BE%E5%AD%97%E7%AC%A6-toc" style="margin-left:40px;"><a href="#1.1%20%E4%BD%BF%E7%94%A8%E5%AD%97%E7%AC%A6%E6%8C%87%E9%92%88%E5%AD%98%E6%94%BE%E5%AD%97%E7%AC%A6" rel="nofollow">1.1 使用字符指针存放字符</a></p> 
<p id="1.2%20%E4%BD%BF%E7%94%A8%E5%AD%97%E7%AC%A6%E6%8C%87%E9%92%88%E5%8F%98%E9%87%8F%E5%AD%98%E6%94%BE%E5%AD%97%E7%AC%A6%E4%B8%B2-toc" style="margin-left:40px;"><a href="#1.2%20%E4%BD%BF%E7%94%A8%E5%AD%97%E7%AC%A6%E6%8C%87%E9%92%88%E5%8F%98%E9%87%8F%E5%AD%98%E6%94%BE%E5%AD%97%E7%AC%A6%E4%B8%B2" rel="nofollow">1.2 使用字符指针变量存放字符串</a></p> 
<p id="%C2%A02%E3%80%81%E6%95%B0%E7%BB%84%E6%8C%87%E9%92%88%E5%8F%98%E9%87%8F-toc" style="margin-left:0px;"><a href="#%C2%A02%E3%80%81%E6%95%B0%E7%BB%84%E6%8C%87%E9%92%88%E5%8F%98%E9%87%8F" rel="nofollow"> 2、数组指针变量</a></p> 
<p id="2.1%20%E4%BB%80%E4%B9%88%E6%98%AF%E6%95%B0%E7%BB%84%E6%8C%87%E9%92%88%E5%8F%98%E9%87%8F%EF%BC%9F-toc" style="margin-left:40px;"><a href="#2.1%20%E4%BB%80%E4%B9%88%E6%98%AF%E6%95%B0%E7%BB%84%E6%8C%87%E9%92%88%E5%8F%98%E9%87%8F%EF%BC%9F" rel="nofollow">2.1 什么是数组指针变量？</a></p> 
<p id="2.2%20%E6%95%B0%E7%BB%84%E6%8C%87%E9%92%88%E5%8F%98%E9%87%8F%E5%88%9D%E5%A7%8B%E5%8C%96-toc" style="margin-left:40px;"><a href="#2.2%20%E6%95%B0%E7%BB%84%E6%8C%87%E9%92%88%E5%8F%98%E9%87%8F%E5%88%9D%E5%A7%8B%E5%8C%96" rel="nofollow">2.2 数组指针变量初始化</a></p> 
<p id="2.3%20%E5%85%B3%E4%BA%8E%E6%95%B0%E7%BB%84%E6%8C%87%E9%92%88%E7%B1%BB%E5%9E%8B%E7%9A%84%E8%A7%A3%E6%9E%90-toc" style="margin-left:40px;"><a href="#2.3%20%E5%85%B3%E4%BA%8E%E6%95%B0%E7%BB%84%E6%8C%87%E9%92%88%E7%B1%BB%E5%9E%8B%E7%9A%84%E8%A7%A3%E6%9E%90" rel="nofollow">2.3 关于数组指针类型的解析</a></p> 
<p id="3%E3%80%81%E5%87%BD%E6%95%B0%E6%8C%87%E9%92%88%E5%8F%98%E9%87%8F-toc" style="margin-left:0px;"><a href="#3%E3%80%81%E5%87%BD%E6%95%B0%E6%8C%87%E9%92%88%E5%8F%98%E9%87%8F" rel="nofollow">3、函数指针变量</a></p> 
<p id="3.1%20%E5%87%BD%E6%95%B0%E5%9C%B0%E5%9D%80-toc" style="margin-left:40px;"><a href="#3.1%20%E5%87%BD%E6%95%B0%E5%9C%B0%E5%9D%80" rel="nofollow">3.1 函数地址</a></p> 
<p id="3.2%C2%A0%E5%87%BD%E6%95%B0%E6%8C%87%E9%92%88%E5%8F%98%E9%87%8F%E7%9A%84%E5%88%9B%E5%BB%BA-toc" style="margin-left:40px;"><a href="#3.2%C2%A0%E5%87%BD%E6%95%B0%E6%8C%87%E9%92%88%E5%8F%98%E9%87%8F%E7%9A%84%E5%88%9B%E5%BB%BA" rel="nofollow">3.2 函数指针变量的创建</a></p> 
<p id="3.3%20%E5%85%B3%E4%BA%8E%E6%8C%87%E9%92%88%E7%9A%84%E8%BF%9E%E7%BB%AD%E5%AE%9A%E4%B9%89-toc" style="margin-left:40px;"><a href="#3.3%20%E5%85%B3%E4%BA%8E%E6%8C%87%E9%92%88%E7%9A%84%E8%BF%9E%E7%BB%AD%E5%AE%9A%E4%B9%89" rel="nofollow">3.3 关于指针的连续定义</a></p> 
<p id="3.4%20%E5%87%BD%E6%95%B0%E6%8C%87%E9%92%88%E5%8F%98%E9%87%8F%E7%9A%84%E4%BD%BF%E7%94%A8-toc" style="margin-left:40px;"><a href="#3.4%20%E5%87%BD%E6%95%B0%E6%8C%87%E9%92%88%E5%8F%98%E9%87%8F%E7%9A%84%E4%BD%BF%E7%94%A8" rel="nofollow">3.4 函数指针变量的使用</a></p> 
<p id="3.5%20%E8%A1%A5%E5%85%85%E5%87%BD%E6%95%B0%E8%B0%83%E7%94%A8-toc" style="margin-left:40px;"><a href="#3.5%20%E8%A1%A5%E5%85%85%E5%87%BD%E6%95%B0%E8%B0%83%E7%94%A8" rel="nofollow">3.5 补充函数调用</a></p> 
<hr id="hr-toc"> 
<p></p> 
<h2 id="%E5%89%8D%E8%A8%80%EF%BC%9A">前言：</h2> 
<p>本篇文章涉及<span style="color:#ff9900;">字符指针变量，数组指针变量，函数指针变量，以及函数指针数组。</span></p> 
<hr> 
<h2 id="1%E3%80%81%E5%AD%97%E7%AC%A6%E6%8C%87%E9%92%88%E5%8F%98%E9%87%8F">1、字符指针变量</h2> 
<p>在指针类型中我们知道有一种指针类型叫char*</p> 
<h3 id="1.1%20%E4%BD%BF%E7%94%A8%E5%AD%97%E7%AC%A6%E6%8C%87%E9%92%88%E5%AD%98%E6%94%BE%E5%AD%97%E7%AC%A6">1.1 使用字符指针存放字符</h3> 
<pre><code>#include &lt;stdio.h&gt;
int main()
{
	char ch = 'l';
	char* pc = &amp;ch;//取出ch的地址放到ch里
	*pc = 'l';
	return 0;
}</code></pre> 
<p>pc为字符指针变量，指针变量是变量，存放的是字符，类型是char*</p> 
<p>关于字符指针变量还有另外一种用法。也就是存放字符串。</p> 
<h3 id="1.2%20%E4%BD%BF%E7%94%A8%E5%AD%97%E7%AC%A6%E6%8C%87%E9%92%88%E5%8F%98%E9%87%8F%E5%AD%98%E6%94%BE%E5%AD%97%E7%AC%A6%E4%B8%B2"><br> 1.2 使用字符指针变量存放字符串</h3> 
<blockquote> 
 <p>    char* p = "JonlyMay";//字符指针p指向了一个字符串</p> 
</blockquote> 
<p>这句代码的意思是什么呢？是把  "JonlyMay"字符串存放到指针变量p 中吗？</p> 
<p><strong><span style="color:#fe2c24;">重点：p </span>中存放的是该字符串首字符的地址</strong></p> 
<p>我们来与数组类比理解 char* p = "JonlyMay"中是将首元素地址赋给字符指针变量p：</p> 
<blockquote> 
 <p>char arr[ ] = "JonlyMay";<br> char* p = arr</p> 
 <p>我们创建了一个字符数组arr，并把数组首元素地址arr赋给了p，p变量里存放了数组首元素地址</p> 
 <p><img alt="" height="296" src="https://images2.imgbox.com/ef/dd/G1a3AGve_o.png" width="537"></p> 
 <p><img alt="" height="685" src="https://images2.imgbox.com/17/33/vRy8STfU_o.png" width="888"></p> 
</blockquote> 
<p>我们可以用代码再来理解一下</p> 
<pre><code>#include &lt;stdio.h&gt;
int main()
{
	char arr[] = "JonlyMay";
	printf("%c\n", arr[2]);
	printf("%c\n", "JonlyMay"[2]);
	return 0;
}</code></pre> 
<p>可以把 "JonlyMay"想象成一个数组，[2]就访问下标为2的元素</p> 
<p><img alt="" height="229" src="https://images2.imgbox.com/20/f4/zff1d34N_o.png" width="1053"></p> 
<blockquote> 
 <p> const char* p  = "JonlyMay"   //这里加上const的原因是"JonlyMay" 是常量字符串，不能被修改的</p> 
 <p>其实仔细想想也不可能是将整个字符串都存放到指针变量p中，空间也不够啊！</p> 
 <p>p如果在x86的环境下，只能向内存申请4个字节的空间，而<span style="color:#fe2c24;">JonlyMay+\0</span><span style="color:#0d0016;">有</span>九个字节也放不下！</p> 
</blockquote> 
<p><span style="color:#ff9900;"><strong>总结：</strong></span></p> 
<p>const char* p  = "JonlyMay" 这串代码的意思是：把一个常量字符串首字符 J 的地址存放到指针变量 p 中。</p> 
<h2 id="%C2%A02%E3%80%81%E6%95%B0%E7%BB%84%E6%8C%87%E9%92%88%E5%8F%98%E9%87%8F"> 2、数组指针变量</h2> 
<h3 id="2.1%20%E4%BB%80%E4%B9%88%E6%98%AF%E6%95%B0%E7%BB%84%E6%8C%87%E9%92%88%E5%8F%98%E9%87%8F%EF%BC%9F">2.1 什么是数组指针变量？</h3> 
<p>在介绍<strong>数组指针变量</strong>之前，我们需要先提一下<span style="color:#ed7976;">字符指针变量</span>，<span style="color:#faa572;">整型指针变量</span>，那这哥两是什么意思呢？</p> 
<blockquote> 
 <p><span style="color:#b95514;">(pc)字符指针变量</span><span style="color:#0d0016;">是一种</span><span style="color:#b95514;">变量</span>，<span style="color:#0d0016;">里面存放的是</span><span style="color:#b95514;">(&amp;ch)字符指针 (地址）</span></p> 
 <p><span style="color:#0d0016;">char ch;</span></p> 
 <p><span style="color:#0d0016;">char* pc = &amp;ch;</span></p> 
 <p><span style="color:#b95514;">(pn)整型指针变量</span><span style="color:#0d0016;">是一种</span><span style="color:#b95514;">变量</span><span style="color:#0d0016;">，里面存放的是</span><span style="color:#ad720d;">(&amp;n)</span><span style="color:#b95514;">整型指针（地址）</span></p> 
 <p><span style="color:#0d0016;">int n ;</span></p> 
 <p><span style="color:#0d0016;">int* pn = &amp;n;</span></p> 
</blockquote> 
<p><span style="color:#0d0016;">通过与它们的类比，我们应该能得出<strong>数组指针变量</strong>也是一种<strong>变量</strong>，里面存放的是<strong>数组指针（地址）</strong></span></p> 
<p>现在我们了解了指针数组指针变量的基本作用，那<strong>数组指针(地址) </strong>怎么得到呢？</p> 
<p>比如说 int arr[10] ,我们怎么得到数组的地址呢？</p> 
<blockquote> 
 <p><strong>arr，&amp;arr[0]：</strong>表示首元素地址；</p> 
 <p><strong><span style="color:#fe2c24;">&amp;arr</span>：</strong>表示的是数组的地址</p> 
 <p>数组的地址是 通过取地址数组名得到的（&amp;arr）</p> 
 <p>也就是说数组指针变量就是用来存放&amp;arr的</p> 
</blockquote> 
<p>我们知道</p> 
<p><span style="color:#ad720d;">字符指针变量</span>的类型是<span style="color:#ad720d;">字符指针(char*);</span></p> 
<p><span style="color:#ad720d;">整型指针变量</span>的类型是<span style="color:#ad720d;">整型指针(int*),</span></p> 
<p>那<span style="color:#1c7892;">数组指针变量(parr)</span>的类型是什么呢？是数组指针吗？好像是的，但是应该怎么表达呢？</p> 
<p>我们举一个整型数组的例子</p> 
<pre><code>int main()
{
	int arr[10] = { 0 };
	int* parr[10] = &amp;arr;
	return 0;
}</code></pre> 
<p>乍一看似乎没毛病，但是在<span style="color:#b95514;">int* parr[10] = &amp;arr</span>中<span style="color:#ad720d;"> int* </span>就变成了<span style="color:#1c7331;">整型指针</span>，<span style="color:#1c7892;"> parr和[10]结合变为数组</span>了，<span style="color:#1c7892;">parr是数组名</span>，那<strong>int* parr[10] = &amp;arr</strong>的意思就变成了一个<span style="color:#ff9900;">名为parr的数组有10个元素，每个元素类型为int*。</span></p> 
<p>但是我们想要的parr是一个指向数组的指针，应该怎么做呢？</p> 
<p>其实这里面涉及到了操作符优先级的问题 ，如果对操作符优先级不太了解的，可以看一看博主关于操作符的博文：<a href="https://blog.csdn.net/2401_85010100/article/details/140791848?spm=1001.2014.3001.5501" title="C：操作符介绍-学习笔记-CSDN博客">C：操作符介绍-学习笔记-CSDN博客</a></p> 
<p><strong>int* parr[10] = &amp;arr</strong>，在这串代码中，<span style="color:#e6b223;">parr先和[10]结合变成了数组</span>，我们希望得到的是一个<span style="color:#ad720d;">指针变量parr</span>，而当<span style="color:#e6b223;">parr和[10]结合后就变为了数组名</span>，得不到想要的结果。主要原因是<span style="color:#1c7331;">（*）操作符的优先级低于（[ ]）操作符</span></p> 
<p>说了这么多，怎么解决呢？其实很简单，我们只需要使用<strong>圆括号()</strong>将<strong> * </strong>和 <strong>parr</strong>括起来就可以了</p> 
<p><img alt="" height="369" src="https://images2.imgbox.com/f0/77/IouqS4Qo_o.png" width="898"></p> 
<p>从上面的图中我们可以看到圆括号的优先级是最高的，所以当我们想得到一个指针，就需要<strong>* 和 parr先结合，而不是parr和[10]先结合</strong></p> 
<p><span style="color:#fe2c24;"><strong>表达形式：</strong></span><span style="color:#1a439c;">int </span><span style="color:#1c7331;">(*parr) </span><span style="color:#1c7892;">[10]</span><span style="color:#fe2c24;"> = &amp;arr;</span></p> 
<p>parr与*结合说明<span style="color:#1c7331;">parr是指针</span>，指针指向的是数组<span style="color:#1c7892;"> [10]说明数组有10个元素</span>，<span style="color:#1a439c;">每个元素类型是int</span></p> 
<p>现在这里的parr就是数组指针变量。</p> 
<p>现在关于数组指针变量的表达形式我们已经很清楚了</p> 
<p>那数组指针变量的类型是什么？int(*)[10]</p> 
<p><span style="color:#0d0016;">int* pn = &amp;n;中pn的类型就是int *</span></p> 
<p><span style="color:#0d0016;">char* pc = &amp;ch;中pc的类型就是char*;</span></p> 
<p><span style="color:#0d0016;">所以变量的类型就是</span><strong><span style="color:#0d0016;">去掉变量名字，剩下的就是变量类型</span></strong></p> 
<p><span style="color:#0d0016;"><strong>int (*parr) [10] = &amp;arr中parr的类型就是 </strong></span><strong>int(*)[10]，&amp;arr的类型也是</strong><span style="color:#0d0016;"><strong> </strong></span><strong>int(*)[10]。</strong></p> 
<p>来举一个稍微有点难度的例子来帮助我们更好的掌握数组指针变量类型</p> 
<p>胡言乱语：写到这突然想到一个很有意思的两句话，<span style="color:#511b78;">你已经学会加减乘除了，来,写道高数题练练手。</span></p> 
<p>哈哈哈哈哈哈哈哈哈。（作者日常发癫，不必理会）<strong>言归正传，来看一下题目</strong></p> 
<blockquote> 
 <p> int* arr[9] = { 0 };<br>  p = &amp;arr;   </p> 
 <p><span style="color:#fe2c24;">问：</span>这个p的类型是什么？</p> 
 <p><span style="color:#fe2c24;">答：</span><span style="color:#511b78;">int*(*)[9]</span></p> 
 <p>首先，p先于*结合<span style="color:#511b78;">(*p)</span>，然后指向数组arr，有9个元素<span style="color:#511b78;">(*p)[9] ，</span><span style="color:#0d0016;">数组中每个元素类型是int*，</span></p> 
 <p><span style="color:#0d0016;">所以变为</span><span style="color:#511b78;"> int*(*p)[9] 。所以数组指针变量p的类型就是int*(*)[9] </span></p> 
</blockquote> 
<p>不知道大家是否还记得在这篇<a href="https://blog.csdn.net/2401_85010100/article/details/141105278?spm=1001.2014.3001.5501" title="C:指针和数组之间的关系-学习笔记-CSDN博客">C:指针和数组之间的关系-学习笔记-CSDN博客</a>文章中关于&amp;arr+1后跳过了40个字节</p> 
<p>相信到这里应该能够理解为什么跳过40个字节了吧！</p> 
<p>&amp;arr的类型是数组指针，int(*)[10]，数组指针认为指向的数组有10个元素，每一个元素类型都是int。所以+1后跳过了4*10个字节。</p> 
<p><span style="color:#ff9900;"><strong>总结：</strong></span>数组指针变量是用来存放数组的地址，数组的地址通过<span style="color:#fe2c24;">&amp;数组名</span>获得，将数组地址存起来放到数组指针变量中，数组指针变量的类型就是（ <span style="color:#fe2c24;">数组元素类型(*)[元素个数]</span> ）</p> 
<h3 id="2.2%20%E6%95%B0%E7%BB%84%E6%8C%87%E9%92%88%E5%8F%98%E9%87%8F%E5%88%9D%E5%A7%8B%E5%8C%96">2.2 数组指针变量初始化</h3> 
<p>关于数组指针变量的初始化有两种方式：</p> 
<p><strong>1、直接使用数组的地址进行初始化</strong><br> 例如对一个整型数组int arr[10]，可以这样初始化；</p> 
<pre><code>int (*p)[10] = &amp;arr;</code></pre> 
<p><strong>2、先声明数组指针变量，然后在后续的代码中通过赋值来初始化。</strong></p> 
<pre><code>int (*p)[5];
    p = &amp;arr;</code></pre> 
<h3 id="2.3%20%E5%85%B3%E4%BA%8E%E6%95%B0%E7%BB%84%E6%8C%87%E9%92%88%E7%B1%BB%E5%9E%8B%E7%9A%84%E8%A7%A3%E6%9E%90">2.3 关于数组指针类型的解析</h3> 
<p><span style="color:#1c7331;">数组指针变量是一种特殊类型的指针，它指向的是整个数组，而不是单个元素。</span></p> 
<p>数组指针变量的<span style="color:#4da8ee;">声明</span>形式通常为 <strong>数据类型 (*指针变量名)[数组大小]</strong></p> 
<p>例如 int (*p)[5] 声明了一个指向包含 5 个整数的数组的指针 p 。</p> 
<p><span style="color:#4da8ee;">通过数组指针访问数组元素时，通常需要结合下标来进行。</span></p> 
<p>对于上述的 p，(*p)[0] 表示数组的第一个元素，(*p)[1]表示第二个元素，以此类推。</p> 
<p><strong>图文总结：</strong></p> 
<pre><code>int (*p) [10] = &amp;arr;
 |    |    |
 |    |    |
 |    |    p指向数组的元素个数
 |    p是数组指针变量名
 p指向的数组的元素类型</code></pre> 
<h2 id="3%E3%80%81%E5%87%BD%E6%95%B0%E6%8C%87%E9%92%88%E5%8F%98%E9%87%8F">3、函数指针变量</h2> 
<h3 id="3.1%20%E5%87%BD%E6%95%B0%E5%9C%B0%E5%9D%80">3.1 函数地址</h3> 
<p>通过前面的学习我们知道变量可以取地址，数组也可以取地址。那么想问大家一个问题，函数有地址吗？函数可以取地址吗？ 答案是<strong>函数有地址</strong></p> 
<p>既然函数有地址，我们该怎么得到呢？</p> 
<p><img alt="" height="300" src="https://images2.imgbox.com/54/26/cJrcWpOy_o.png" width="715"></p> 
<p>上图中，我们可以发现想要得到函数的地址可以通过<span style="color:#1a439c;">&amp;函数名</span>和<span style="color:#1a439c;">函数名</span>两种方式得到函数的地址</p> 
<p><strong>注意：</strong></p> 
<p> 对于函数来说，只有一个地址，这里不要和数组搞混了，数组中&amp;数组名拿到的是数组首元素地址，但是函数不存在什么首元素地址。</p> 
<h3 id="3.2%C2%A0%E5%87%BD%E6%95%B0%E6%8C%87%E9%92%88%E5%8F%98%E9%87%8F%E7%9A%84%E5%88%9B%E5%BB%BA">3.2 函数指针变量的创建</h3> 
<p>既然我们知道函数的地址是怎么得到的时候，我们该怎么将函数地址存起来呢？</p> 
<p>比如上面那个add函数，我们想将它存到pf中，该怎么表示呢？pf的类型该怎么写呢？</p> 
<blockquote> 
 <p>pf = &amp;add;</p> 
</blockquote> 
<p>这里可以类比数组指针变量，int (*p) [10] = &amp;arr;</p> 
<p>照猫画虎，这里小编先把 pf 的类型写出来</p> 
<blockquote> 
 <p>int (*pf)(int x, int y) = &amp;add;</p> 
</blockquote> 
<p>类比int (*p) [10] = &amp;arr;理解int (*pf)(int x, int y) = &amp;add;</p> 
<p>首先， int (*p) [10] = &amp;arr; 中，p是一个数组指针，它指向的是一个包含 10 个整数的数组。</p> 
<p>而int (*pf)(int x, int y) = &amp;add; 中，pf 是一个函数指针，它指向的是一个接收两个int 类型参数并返回 int 类型值的函数。</p> 
<p>就如同数组指针 p 通过 &amp;arr 获得了指向数组的地址，函数指针 pf 通过 &amp;add 获得了指向函数 add的地址。</p> 
<p>对于数组指针，通过 (*p) [i] 的形式可以访问数组中的第 i 个元素。</p> 
<p>对于函数指针，通过 (*pf)(int x, int y) 的形式可以调用所指向的函数，并传递参数类型int ,int</p> 
<blockquote> 
 <p><span style="color:#fe2c24;"><strong>注意：</strong></span></p> 
 <p>(int x, int y)中形参的x y是可以省略的，只需要传递<strong>参数类型</strong>就可以了  </p> 
 <p><strong>pf就是函数指针变量</strong></p> 
</blockquote> 
<p>函数指针类型图解：</p> 
<pre><code>int    (*pf)    (int x, int y) 
 |       |            |
 |       |            |
 |       |            pf指向函数的参数类型和个数的交代
 |       函数指针变量名
 pf指向函数的返回类型
</code></pre> 
<h3 id="3.3%20%E5%85%B3%E4%BA%8E%E6%8C%87%E9%92%88%E7%9A%84%E8%BF%9E%E7%BB%AD%E5%AE%9A%E4%B9%89">3.3 关于指针的连续定义</h3> 
<blockquote> 
 <p>如果是连续定义两个整数，我们可以这么写</p> 
 <p>int a , b;</p> 
 <p>那如果是来连续定义两个指针呢？我们还可以这么写吗？</p> 
 <p>int* a , b;</p> 
 <p>答案是不对的；我们可以来看一下</p> 
 <p><img alt="" height="123" src="https://images2.imgbox.com/6e/a3/3D1MylEh_o.png" width="317"><img alt="" height="124" src="https://images2.imgbox.com/c8/4a/qu36eZ04_o.png" width="320"></p> 
 <p>当我们将鼠标放到a上时，可以看到a的类型是 int*</p> 
 <p>但是当我们将鼠标放到b上时，可以看到b的类型是 int</p> 
 <p>所以，关于来纳许定义两个指针我们需要每一个变量都有*</p> 
 <p><span style="color:#511b78;">正确表达形式：int *a , *b；</span></p> 
</blockquote> 
<h3 id="3.4%20%E5%87%BD%E6%95%B0%E6%8C%87%E9%92%88%E5%8F%98%E9%87%8F%E7%9A%84%E4%BD%BF%E7%94%A8">3.4 函数指针变量的使用</h3> 
<p>我们将函数地址存放起来，是为了后面的使用，那么我们应该怎么使用呢？</p> 
<blockquote> 
 <p>int (*pf)(int x, int y) = &amp;add;</p> 
</blockquote> 
<p>我们怎么调用这个函数呢？</p> 
<pre><code>#include &lt;stdio.h&gt;
int add(int x, int y)
{
	return x + y;
}
int main()
{
	int (*pf)(int x, int y) = &amp;add;
	int ret = (*pf)(2, 3);//调用函数
    printf("%d",ret);
	return 0;
}</code></pre> 
<p> 结果：</p> 
<p><img alt="" height="117" src="https://images2.imgbox.com/f7/10/gyPvIg99_o.png" width="1067"></p> 
<p> int ret = (*pf)(2, 3)解读：</p> 
<p> pf 是一个函数指针，*pf 表示对函数指针进行解引用，得到它所指向的函数。</p> 
<p>然后 (*pf)(2, 3) 就是调用这个函数指针所指向的函数，并向其传递参数 2 和 3。</p> 
<p>最后，将函数的返回值赋给变量 ret  。</p> 
<h3 id="3.5%20%E8%A1%A5%E5%85%85%E5%87%BD%E6%95%B0%E8%B0%83%E7%94%A8" style="background-color:transparent;">3.5 补充函数调用</h3> 
<p>还记得我们正常函数调用是怎么操作的吗？</p> 
<pre><code>#include &lt;stdio.h&gt;
int add(int x, int y)
{
	return x + y;
}
int main()
{	
	int ret = add(2, 3);
	printf("%d", ret);
	return 0;
}</code></pre> 
<blockquote> 
 <p>int (*pf)(int x, int y) = &amp;add;</p> 
 <p>int ret = (*pf)(2, 3);</p> 
 <p>这个是指我们先将函数地址存放到指针变量pf中去，然后我们通过函数指针变量来调用函数</p> 
</blockquote> 
<p>我们来对比一下这两种调用方式</p> 
<pre><code>//第一种：
int (*pf)(int x, int y) = &amp;add;
int ret = (*pf)(2, 3);
printf("%d", ret);
//第二种：
ret = add(2, 3);
printf("%d", ret);</code></pre> 
<p>前面我们说过add就是函数的地址，pf中也是函数的地址，那*pf为什么要解引用呢？是否可以直接使用呢？来测试一下</p> 
<p><img alt="" height="277" src="https://images2.imgbox.com/b4/dd/L36zesV8_o.png" width="795"></p> 
<p>可以发现没有解引用pf也能直接使用，所以在<span style="color:#1a439c;">函数指针调用</span>的时候 <strong>* </strong>是可以省略的 ，它是没有实际意义的。</p> 
<p>这里写*只是为了方便理解。</p> 
<h2>4、函数指针数组</h2> 
<p>数组是用来存放相同类型数据的存储空间，在前面数组与指针这一篇中我们也介绍了<strong>指针数组</strong>的概念，如：</p> 
<pre><code class="hljs">int * arr[10];//数组中的每个元素是int*</code></pre> 
<p>那要是把函数的地址存放到一个数组中，那么这个数组就叫函数指针数组，那函数指针的数组如何定义呢？</p> 
<pre><code class="hljs">int main()
{
	//指针数组
	int* arr[5]; //整型指针数组
	char* ch[5]; //字符指针数组
	return 0;
}</code></pre> 
<p>如果我们将函数指针也放在数组中呢？</p> 
<pre><code class="hljs">int add(int x, int y)
{
	return x + y;
}
int sub(int x, int y)
{
	return x - y;
}
int main()
{
	int(*pa)(int, int) = add;
	int(*ps)(int, int) = sub;
	return 0;
}</code></pre> 
<p>从上面代码中我们可以发现pa,ps的类型是一样的，既然如此，我们就可以将他们放到一个数组中，毕竟数组是用来存放相同类型数据的存储空间，那我们如何创建一个函数指针数组呢？</p> 
<blockquote> 
 <p>int ( * parr<span style="color:#be191c;">[4]</span> )( int, int )</p> 
</blockquote> 
<p>这样写parr就变为数组名了，有4个元素，然后指针为parr[4];</p> 
<p>如果我们把parr<span style="color:#be191c;">[4]</span><span style="color:#0d0016;">去掉再看剩下的部分</span><strong>int ( *  )( int, int ) ，</strong>欸，这不是一个函数指针类型，也就是说我们创建的这个数组parr<span style="color:#be191c;">[4]</span><span style="color:#0d0016;">的元素类型是函数指针，所以我们所创建的这个数组就是函数指针数组。</span></p> 
<p><span style="color:#0d0016;">这个函数指针数组是怎么创建的呢？</span></p> 
<p><span style="color:#0d0016;">我们只需要在函数指针变量的基础上，在后面加上一个</span><span style="color:#be191c;"> [元素个数]</span><span style="color:#0d0016;">,就可以表示函数指针数组了</span></p> 
<p><span style="color:#0d0016;">这时候这个数组就可以存放一些函数指针了</span></p> 
<pre><code class="hljs">int (*parr[4])(int, int) = { add,sub };</code></pre> 
<p><span style="color:#ff9900;">函数指针数组的作用：</span>数组的创建时为了方便更好的数据管理，当我们想要存放多个函数的地址，并且函数返回类型统一，我们就可以造一个函数指针数组。</p> 
<hr> 
<p>结语：本篇文章到这里就结束了，主要介绍了一些指针变量的用法，希望大家在看完这篇文章后能够有所收获！下篇再见啦！！！</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/9b3f726b25057f544bc99a0b8da45d0f/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【数据结构】数据结构 知识总复习</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b6e943c7aec89c2b0f06898ecfe53084/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">防止内存泄漏的神兵利器 — 智能指针</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>