<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【保姆级教程】免费域名注册 &amp; Cloudflare 域名解析 &amp; Ngnix端口转发 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/cf8b57ca4dd0e8d7dd96c906489c125e/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="【保姆级教程】免费域名注册 & Cloudflare 域名解析 & Ngnix端口转发">
  <meta property="og:description" content="前段时间，带大家搞了两台云服务器：
玩转云服务：Oracle Cloud甲骨文永久免费云服务器注册及配置指南玩转云服务：手把手带你薅一台腾讯云服务器，公网 IP 基于这两台云服务器，我们玩转了很多有趣的开源项目：
手把手带你搭建免费的人脸检测/识别系统本地部署大模型？Ollama 部署和实战，看这篇就够了 不过上述这些应用都是通过 IP &#43;端口号的方式访问的，非常不利于传播~
这时你需要的就是一个域名，以及把域名翻译成 IP 的服务。
通常各大云厂商都提供域名注册服务，不过域名注册是需要付费的。
如果你只是想搞个来玩玩，又不想花这个钱？
好在有一些二级域名可以白嫖~
本文将带大家：注册一个免费域名，并通过 Cloudflare 实现免费的域名解析，让小伙伴们通过域名就能访问你的网站！。
1.免费域名注册 免费的域名网站有不少，不过随着大家将白嫖进行到底的精神，很多都不能用了。
最常见的就是 eu.org，由Paul Mockapetris 在1996年创建，是为了给没有资金买域名的个人或组织提供永久免费的域名。不过，状态一直处于审核中 == 没通过~
传送门：https://nic.eu.org/，感兴趣的小伙伴可以去试试，有成功的评论区告诉我哦~
接下来介绍的这个，亲测注册成功，带着大家走一遍流程。
传送门：https://nic.us.kg/
首先，测试一下你想要注册的域名，是否已被占用，然后点击下面的立即注册，用邮箱创建一个账号（国内邮箱即可）。
账号注册有几种方式，我这里选择的是填写 github issue 申请，大概不到 1 小时就通过了，邮件名称为 GitHub KYC Approved，通过后即可前往申请域名。
注册成功后，点击域名注册。
如果没被注册过，它会提示你，你只需要180天后续订下一年，就可以一直使用下去。
下面两个必填的 Name Server 是什么鬼？
这里是让你填：用于 域名解析 的域名服务器。
什么是域名解析：通过将域名映射到特定的IP地址，使得用户能够通过域名轻松访问你的网站 or 服务。而域名解析，需要由域名服务器来执行。
Cloudflare 是一个知名的云服务提供商，提供免费的域名解析服务，同时也提供域名注册服务，不过需要付费。
所以，我们就以 Cloudflare 为例，给大家展示如下如何拿到域名服务器。
2.免费域名解析 2.1 获取域名服务器 首先，前往 https://www.cloudflare.com 注册一个账号。
然后，点击最上方的 添加站点。
输入你刚注册的域名，点击 继续。
选择这里的 free 计划（付费的服务暂时还用不到），点击 快速扫描。">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-07-30T07:39:12+08:00">
    <meta property="article:modified_time" content="2024-07-30T07:39:12+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【保姆级教程】免费域名注册 &amp; Cloudflare 域名解析 &amp; Ngnix端口转发</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>前段时间，带大家搞了两台云服务器：</p> 
<ul><li><a href="https://blog.csdn.net/u010522887/article/details/140223094">玩转云服务：Oracle Cloud甲骨文永久免费云服务器注册及配置指南</a></li><li><a href="https://blog.csdn.net/u010522887/article/details/140091900">玩转云服务：手把手带你薅一台腾讯云服务器，公网 IP</a></li></ul> 
<p>基于这两台云服务器，我们玩转了很多有趣的开源项目：</p> 
<ul><li><a href="https://zhuanlan.zhihu.com/p/710781082" rel="nofollow">手把手带你搭建免费的人脸检测/识别系统</a></li><li><a href="https://blog.csdn.net/u010522887/article/details/140651584">本地部署大模型？Ollama 部署和实战，看这篇就够了</a></li></ul> 
<p>不过上述这些应用都是通过 IP +端口号的方式访问的，非常不利于传播~</p> 
<p>这时你需要的就是一个域名，以及把域名翻译成 IP 的服务。</p> 
<p>通常各大云厂商都提供域名注册服务，不过域名注册是需要付费的。</p> 
<p>如果你只是想搞个来玩玩，又不想花这个钱？</p> 
<p>好在有一些二级域名可以白嫖~</p> 
<p><strong>本文将带大家：注册一个免费域名，并通过 Cloudflare 实现免费的域名解析</strong>，让小伙伴们通过域名就能访问你的网站！。</p> 
<h2><a id="1_22"></a>1.免费域名注册</h2> 
<p>免费的域名网站有不少，不过随着大家<em>将白嫖进行到底</em>的精神，很多都不能用了。</p> 
<p>最常见的就是 eu.org，由Paul Mockapetris 在1996年创建，是为了给没有资金买域名的个人或组织提供<strong>永久免费</strong>的域名。不过，状态一直处于审核中 == 没通过~</p> 
<blockquote> 
 <p>传送门：<a href="https://nic.eu.org/" rel="nofollow">https://nic.eu.org/</a>，感兴趣的小伙伴可以去试试，有成功的评论区告诉我哦~</p> 
</blockquote> 
<p>接下来介绍的这个，亲测注册成功，带着大家走一遍流程。</p> 
<blockquote> 
 <p>传送门：<a href="https://nic.us.kg/" rel="nofollow">https://nic.us.kg/</a></p> 
</blockquote> 
<p>首先，测试一下你想要注册的域名，是否已被占用，然后点击下面的<code>立即注册</code>，用邮箱创建一个账号（国内邮箱即可）。</p> 
<p><img src="https://images2.imgbox.com/a9/54/oRIKyAoC_o.png" alt=""></p> 
<p>账号注册有几种方式，我这里选择的是填写 github issue 申请，大概不到 1 小时就通过了，邮件名称为 GitHub KYC Approved，通过后即可前往申请域名。</p> 
<p>注册成功后，点击<code>域名注册</code>。</p> 
<p><img src="https://images2.imgbox.com/3a/bf/hRqZamLn_o.png" alt=""></p> 
<p>如果没被注册过，它会提示你，你只需要180天后续订下一年，就可以一直使用下去。</p> 
<p><img src="https://images2.imgbox.com/57/b4/N7Ok7PTr_o.png" alt=""></p> 
<p>下面两个必填的 <strong>Name Server</strong> 是什么鬼？</p> 
<p>这里是让你填：用于 <code>域名解析</code> 的域名服务器。</p> 
<p>什么是<code>域名解析</code>：通过将域名映射到特定的IP地址，使得用户能够通过域名轻松访问你的网站 or 服务。而域名解析，需要由域名服务器来执行。</p> 
<p>Cloudflare 是一个知名的云服务提供商，提供免费的域名解析服务，同时也提供域名注册服务，不过需要付费。</p> 
<p>所以，我们就以 Cloudflare 为例，给大家展示如下如何拿到域名服务器。</p> 
<h2><a id="2_57"></a>2.免费域名解析</h2> 
<h3><a id="21__59"></a>2.1 获取域名服务器</h3> 
<p>首先，前往 <a href="https://www.cloudflare.com" rel="nofollow">https://www.cloudflare.com</a> 注册一个账号。</p> 
<p>然后，点击最上方的 <code>添加站点</code>。</p> 
<p><img src="https://images2.imgbox.com/a3/63/bWG5tr6Z_o.png" alt=""></p> 
<p>输入你刚注册的域名，点击 <code>继续</code>。<br> <img src="https://images2.imgbox.com/12/26/ZcU586M0_o.png" alt=""></p> 
<p>选择这里的 free 计划（付费的服务暂时还用不到），点击 快速扫描。<br> <img src="https://images2.imgbox.com/02/a4/hrJUu0Yk_o.png" alt=""></p> 
<p>没有注册过的域名是没有任何解析记录的，如出现解析记录说明此域名已经被注册过了。<br> <img src="https://images2.imgbox.com/fc/cc/hpg4cMKk_o.png" alt=""></p> 
<p>最后，找到这里的名称服务器，复制到刚才的 <strong>Name Server</strong> 处。</p> 
<p><img src="https://images2.imgbox.com/2b/4e/YuocA8pH_o.png" alt=""></p> 
<p>比如我这里，最后点击 <code>注册</code>。<br> <img src="https://images2.imgbox.com/48/ee/UIZFhkm1_o.png" alt=""></p> 
<p>注册成功！这里提示您的域名已成功创建并提交到根 DNS。请允许最多 20 分钟或更长时间，以便域名解析记录和注册生效。<br> <img src="https://images2.imgbox.com/ea/4f/Lzd7xIMi_o.png" alt=""></p> 
<p>现在我们回到 Cloudflare，当 <code>houge.us.kg</code> 在 Cloudflare 上激活时，它会向您的注册邮箱发送电子邮件。</p> 
<p><img src="https://images2.imgbox.com/94/d8/kZg2dT2i_o.png" alt=""></p> 
<p>大概不到 10 分钟就能收到 Cloudflare 的邮件。</p> 
<p><img src="https://images2.imgbox.com/47/a3/8kYuOnWE_o.png" alt=""></p> 
<p>回到 Cloudflare，这里状态也变成了 <code>活跃</code>。</p> 
<p><img src="https://images2.imgbox.com/77/60/iaL6sGgN_o.png" alt=""></p> 
<h3><a id="22__DNS__99"></a>2.2 添加 DNS 记录</h3> 
<p>接下来需要添加 DNS 记录，也就是 域名 和 IP 的一一映射关系。</p> 
<p><img src="https://images2.imgbox.com/47/e8/plZyEbMx_o.png" alt=""></p> 
<p><strong>类型怎么填：</strong></p> 
<ul><li>A：用于将域名映射到 IPv4 地址，大部分云服务器提供的都是 IPv4，所以选择默认的 A 即可。</li><li>AAAA：用于将域名映射到 IPv6 地址。</li><li>CNAME：用于将一个域名指向另一个域名（可以是另一个CNAME或者A记录）。</li></ul> 
<p><strong>名称怎么填：</strong></p> 
<ul><li>填入 @：直接指向你的根域名；</li><li>填入 www：指向www.xxx.com，比如对应这里：浏览器输入 www.houge.us.kg 也能指向你的 IP。</li></ul> 
<p>IP 地址填写你申请的云服务器地址，添加成功后，如下图所以：</p> 
<p><img src="https://images2.imgbox.com/92/91/YUvBk7Uo_o.png" alt=""></p> 
<p>到这里，你的 域名 已经和 IP 绑定好了。</p> 
<p>那么，在浏览器输入你的域名，就能访问你的网站了？</p> 
<p>错，还差一步！</p> 
<p>我们在浏览器中输入网址时，通常是发出 HTTP 请求，而 HTTP 请求的默认端口是 80，所以，你还需要确保服务器的 80 端口是开放和可用的。</p> 
<p>这时，你得来了解下 Nginx 这款神器了。</p> 
<h3><a id="23_Nginx__130"></a>2.3 Nginx 端口转发</h3> 
<p>Nginx 是啥？</p> 
<p>一个高性能的开源 Web 服务器和反向代理服务器，同时也可以用作负载均衡器和 HTTP 缓存。主要有以下功能：</p> 
<ul><li>Web 服务器：提供静态内容（如 HTML、CSS、图片等）。</li><li>反向代理：将客户端请求转发到后端服务器。</li><li>负载均衡：分配请求到多个服务器，提高性能和可用性。</li><li>SSL/TLS 支持：处理 HTTPS 请求，确保数据安全。</li></ul> 
<p>上一篇：<a href="https://zhuanlan.zhihu.com/p/710560829" rel="nofollow">Ollama 部署和实战</a>，我们把 Ollama 的 WebUI 部署在了 3000 端口上。</p> 
<p>所以，我们这里就将 80 端口上的请求转发到 3000 端口的后端应用上，来给大家展示下如何使用 Nginx。</p> 
<h4><a id="231_Nginx__144"></a>2.3.1 Nginx 安装</h4> 
<p>如果你的服务器上安装好了宝塔面板，可以直接在面板中安装，不过使用过程中并不是特别友好。</p> 
<p>这里推荐大家直接在终端安装。</p> 
<p><strong>方式一：</strong> 如果是预装了 Debian/Ubuntu 的服务器，可以一键安装：</p> 
<pre><code>sudo apt install -y nginx
</code></pre> 
<p>启动 &amp; 关闭 &amp; 重启命令：</p> 
<pre><code>sudo systemctl start nginx
sudo systemctl stop nginx
sudo systemctl restart nginx
</code></pre> 
<p>设置开机自启动：</p> 
<pre><code>sudo systemctl enable nginx.service
</code></pre> 
<p>查看 Nginx 状态：</p> 
<pre><code>sudo systemctl status nginx
</code></pre> 
<p><strong>方式二：编译安装（推荐）</strong>，前往官网找到指定版本</p> 
<blockquote> 
 <p>官网：<a href="https://nginx.org/en/download.html" rel="nofollow">https://nginx.org/en/download.html</a></p> 
</blockquote> 
<p>终端输入如下命令，进行下载并安装：</p> 
<pre><code>mkdir nginx 
cd nginx
wget https://nginx.org/download/nginx-1.26.1.tar.gz
tar -xf nginx-1.26.1.tar.gz
./configure
make
make install
</code></pre> 
<p>默认安装在：<code>/usr/local/nginx/sbin/nginx</code></p> 
<p>此时环境变量中找不到，需要建立软连接：</p> 
<pre><code>ln -s /usr/local/nginx/sbin/nginx /usr/local/sbin/nginx
</code></pre> 
<p>此时，再执行：<code>nginx -v</code></p> 
<p>返回版本号，说明安装成功。</p> 
<p>服务启动 &amp; 停止 &amp; 重启命令如下：</p> 
<pre><code>nginx # 启动
nginx -s stop # 关闭
nginx -s reload # 重启
nginx -t # 测试配置文件
</code></pre> 
<h4><a id="232_Nginx__203"></a>2.3.2 Nginx 配置</h4> 
<p>Nginx 是依赖配置文件进行运行的，如果是按照上述<code>方式二</code>安装的，那么默认配置在：<code>/usr/local/nginx/conf/nginx.conf</code></p> 
<p>如何查看默认配置文件在哪？</p> 
<pre><code>sudo nginx -t
# 输出
nginx: the configuration file /www/server/nginx/conf/nginx.conf syntax is ok
nginx: configuration file /www/server/nginx/conf/nginx.conf test is successfuli
</code></pre> 
<p>为了实现我们端口转发的需求：</p> 
<p><strong>step 1:</strong> 在默认配置文件中 http 的配置中添加一行：</p> 
<pre><code>http {
    include /usr/local/nginx/conf/server/*.conf;
}
</code></pre> 
<p><strong>！！注意：修改后，记得保存，否则会无法生效。</strong> 这样 Nignx 启动后，它就会自动匹配 <code>/usr/local/nginx/conf/server/</code> 文件夹下所有后缀为 <code>.conf</code> 的文件。</p> 
<p><strong>step 2:</strong> 新建 <code>/usr/local/nginx/conf/server/</code> 文件夹，然后在其中新建一个 <code>.conf</code> 的文件，其中填入：</p> 
<pre><code>server {
    listen 80;
    server_name houge.us.kg;
    location / {
        proxy_pass       http://127.0.0.1:3000;
        proxy_set_header   X-Real-IP $remote_addr;
        proxy_set_header   Host      $http_host;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection "upgrade";
    }
}
</code></pre> 
<p>上面的参数说明如下：</p> 
<ul><li>listen 80，这时 http 默认的端口号，确保它没有被占用，否则需要换用其他端口号；如果有多个服务都在监听 80 端口，则 nginx 会按照配置中的顺序分配。</li><li>server_name，当然就是你注册好的域名。</li><li>proxy_pass，你要转发到的后端端口，我们这里是本地的 3000 端口。</li></ul> 
<p>修改配置文件后，记得一定要重启 Nginx，否则配置无法生效。</p> 
<p>启动后，我们查看下进程号：</p> 
<pre><code>ps -aux | grep nginx
</code></pre> 
<p>如果出现下面界面，说明 Nginx 服务已经成功启动，不过 80 端口出了问题，需要排查下：<br> <img src="https://images2.imgbox.com/1c/64/FSVOo4AW_o.png" alt=""></p> 
<p><img src="https://images2.imgbox.com/da/c4/iVKowtq4_o.png" alt=""></p> 
<p>成功搞定！<br> <img src="https://images2.imgbox.com/c0/95/th8616kZ_o.png" alt=""></p> 
<h2><a id="_261"></a>写在最后</h2> 
<p>至此，你也能让小伙伴们通过专属域名访问你的网站啦。</p> 
<p>想要一个酷炫但不用花钱的域名？只需三步：</p> 
<ol><li>US.KG 注册免费二级域名</li><li>Cloudflare 实现免费域名解析</li><li>Nginx 实现端口转发</li></ol> 
<p>希望能够帮助更多的小伙伴搭建自己的在线网站，展示你的创意成果。快去试试吧！别忘了评论区展示你的成果~</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/eaef56f4c926fea8b821eb6af5881910/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">从分布式存储到持久卷：【Cloud Native】存储的进化与实战策略</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e340ba2b17550bdc160b284cb088b12d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">黑马头条Day09-用户行为</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>