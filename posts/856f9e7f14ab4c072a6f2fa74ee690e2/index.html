<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>前端实现主题（深色模式）切换的几种方案 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/856f9e7f14ab4c072a6f2fa74ee690e2/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="前端实现主题（深色模式）切换的几种方案">
  <meta property="og:description" content="方案一：link 动态引入 通过改变link 标签的 href 属性实现动态修改样式（暂不推荐这种方案）
优点：实现了按需加载，提高了性能；
缺点：动态加载样式文件，可能会因为网络问题导致样式加载过慢；
可维护性较差，后续新增或修改主题较为麻烦。
方案二：提前引入样式，类名切换 在这个方案中，我们只有一个css文件，然后通过js来改变他的类名（也暂不推荐这种方案）
优点：相比方案一，不会因为网络问题导致样式切换延迟；
缺点：样式文件过大时可能会出现首屏加载过慢问题；
可维护性依旧较差，后续新增或修改主题较为麻烦；
方案三：CSS 滤镜 利用CSS3新增的filter属性（需求简单可以使用）
优点：一行代码实现黑色主题功能，简单易于维护；
缺点：不能满足需求的要求，不能实现对区域的主题颜色自定义；
方案四：CSS变量&#43;类名切换（目前的主流方案） VUE3官方文档使用的解决方案（比较推荐），这一个方案也是我目前使用的方案
实现思路：首先定义几个我们需要的全局样式变量，之后定义几个集合属性&lt;html lang=&#34;en&#34; data-theme=&#34;dark&#34;&gt;（不同的主题样式），然后将其放在html根元素标签里，再动过js动态的切换这个集合属性就可以实现主题的切换，具体看以下代码；
优点：不会因为网络问题导致样式切换延迟；
在需要切换主题的地方利用 var0绑定变量即可，不存在优先级问题；
新增或修改主题方便灵活，仅需新增或修改 CSS 变量即可，在 var（）绑定样式变量的地 方就会自动更换；
缺点：首屏加载时会牺牲一些时间加载样式资源；
预览效果
具体实现
&lt;!DOCTYPE html&gt; &lt;!-- &lt;html lang=&#34;en&#34; data-theme=&#34;light&#34;&gt; --&gt; &lt;html lang=&#34;en&#34; data-theme=&#34;dark&#34;&gt; &lt;head&gt; &lt;meta charset=&#34;UTF-8&#34;&gt; &lt;meta name=&#34;viewport&#34; content=&#34;width=device-width, initial-scale=1.0&#34;&gt; &lt;title&gt;王国梁&lt;/title&gt; &lt;link rel=&#34;shortcut icon&#34; href=&#34;./img/w.png&#34; type=&#34;image/x-icon&#34;&gt; &lt;!-- 引入谷歌字体 --&gt; &lt;link rel=&#34;preconnect&#34; href=&#34;https://fonts.googleapis.com&#34;&gt; &lt;link rel=&#34;preconnect&#34; href=&#34;https://fonts.gstatic.com&#34; crossorigin&gt; &lt;link href=&#34;">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2023-12-06T16:00:20+08:00">
    <meta property="article:modified_time" content="2023-12-06T16:00:20+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">前端实现主题（深色模式）切换的几种方案</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h3></h3> 
<h3 style="background-color:transparent;">方案一：link 动态引入</h3> 
<p>通过改变link 标签的 href 属性实现动态修改样式（暂不推荐这种方案）</p> 
<p>优点：实现了按需加载，提高了性能；</p> 
<p>缺点：动态加载样式文件，可能会因为网络问题导致样式加载过慢；</p> 
<p>           可维护性较差，后续新增或修改主题较为麻烦。</p> 
<p><img alt="" height="349" src="https://images2.imgbox.com/98/04/xZt3urWy_o.png" width="530"></p> 
<h3 style="background-color:transparent;">方案二：提前引入样式，类名切换</h3> 
<p>在这个方案中，我们只有一个css文件，然后通过js来改变他的类名（也暂不推荐这种方案）</p> 
<p>优点：相比方案一，不会因为网络问题导致样式切换延迟；</p> 
<p>缺点：样式文件过大时可能会出现首屏加载过慢问题；</p> 
<p>           可维护性依旧较差，后续新增或修改主题较为麻烦；</p> 
<p><img alt="" height="670" src="https://images2.imgbox.com/fc/93/v56qPOR0_o.png" width="1041"></p> 
<h3 style="background-color:transparent;">方案三：CSS 滤镜</h3> 
<p>利用CSS3新增的filter属性（需求简单可以使用）</p> 
<p>优点：一行代码实现黑色主题功能，简单易于维护；</p> 
<p>缺点：不能满足需求的要求，不能实现对区域的主题颜色自定义；</p> 
<p><img alt="" height="112" src="https://images2.imgbox.com/29/11/1QLeMEoM_o.png" width="1081"></p> 
<h3 style="background-color:transparent;"><span style="color:#f3f3f4;"><span style="background-color:#fe2c24;">方案四：CSS变量+类名切换（目前的主流方案）</span></span></h3> 
<p>VUE3官方文档使用的解决方案（比较推荐），这一个方案也是我目前使用的方案</p> 
<p>实现思路：首先定义几个我们需要的全局样式变量，之后定义几个集合属性&lt;html lang="en" data-theme="dark"&gt;（不同的主题样式），然后将其放在html根元素标签里，再动过js动态的切换这个集合属性就可以实现主题的切换，具体看以下代码；</p> 
<p>优点：不会因为网络问题导致样式切换延迟；</p> 
<p>           在需要切换主题的地方利用 var0绑定变量即可，不存在优先级问题；</p> 
<p>           新增或修改主题方便灵活，仅需新增或修改 CSS 变量即可，在 var（）绑定样式变量的地             方就会自动更换；</p> 
<p>缺点：首屏加载时会牺牲一些时间加载样式资源；</p> 
<p>预览效果</p> 
<p><img alt="" height="935" src="https://images2.imgbox.com/81/ad/0irElSxk_o.png" width="1200"></p> 
<p><img alt="" height="935" src="https://images2.imgbox.com/0b/65/u2EkKmNf_o.png" width="1200"></p> 
<p>具体实现</p> 
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;!-- &lt;html lang="en" data-theme="light"&gt; --&gt;
    &lt;html lang="en" data-theme="dark"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
    &lt;title&gt;王国梁&lt;/title&gt;
    &lt;link rel="shortcut icon" href="./img/w.png" type="image/x-icon"&gt;
    &lt;!-- 引入谷歌字体 --&gt;
    &lt;link rel="preconnect" href="https://fonts.googleapis.com"&gt;
    &lt;link rel="preconnect" href="https://fonts.gstatic.com" crossorigin&gt;
    &lt;link
        href="https://fonts.googleapis.com/css2?family=Dhurjati&amp;family=Noto+Sans+SC:wght@400;500;600;700;800;900&amp;display=swap"
        rel="stylesheet"&gt;
    &lt;!-- 自定义样式 --&gt;
    &lt;link rel="stylesheet" href="./index.css"&gt;
    &lt;style&gt;
        .container {}
    &lt;/style&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;!-- 标题部分 --&gt;
    &lt;header&gt;
        &lt;a href="#" class="logo"&gt;&lt;span&gt;W&lt;/span&gt;GL&lt;/a&gt;
        &lt;ul class="nav-bar"&gt;
            &lt;li&gt;&lt;a href="#"&gt;首页&lt;/a&gt;&lt;/li&gt;
            &lt;li&gt;&lt;a href="#"&gt;教育背景&lt;/a&gt;&lt;/li&gt;
            &lt;li&gt;&lt;a href="#"&gt;技术栈&lt;/a&gt;&lt;/li&gt;
            &lt;li&gt;&lt;a href="#"&gt;经历&lt;/a&gt;&lt;/li&gt;
            &lt;li&gt;&lt;a href="#"&gt;博客&lt;/a&gt;&lt;/li&gt;
            &lt;li&gt;&lt;a href="#"&gt;联系我&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
        &lt;div&gt;
            &lt;span&gt;更多&lt;/span&gt;
            &lt;div&gt;&lt;/div&gt;
        &lt;/div&gt;
        &lt;button onclick="toggle()" class="toggle"&gt;切换主题&lt;/button&gt;
        &lt;!-- &lt;theme-button value="dark" id="btn" size="3"&gt;&lt;/theme-button&gt; --&gt;
    &lt;/header&gt;
    &lt;!-- 自定义js文件链接 --&gt;
    &lt;script src="./index.js"&gt;&lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre> 
<pre><code class="language-css">*{
    padding: 0;
    margin: 0;
    box-sizing: border-box;
    font-family: "rubik",sans-serif;
    list-style: none;
    text-decoration: none;
}

@media screen and (max-width: 768px) {
    
}

/* 全局样式变量 */
:root{
    /* 背景色/边框颜色/主色/辅色/其他色 */
    --color-border:#deddee;
    --color-main:#ffae00;
    --color-auxiliary:#00ff11;
    --color-other:#00ffdd;
    --color-bg:#1f1f21;
    --font-color-main:#ffffff;
    --font-color-secondary:#ffffffb3;
    --font-color-auxiliary:#ffffff3b;
    /* 字号和字体颜色 */
    --font-root:1rem;
    --font-32px:2rem;
    --font-20px:1.25rem;
    --font-18px:1.125rem;
    --font-16px:1rem;
    --font-14px:.875rem;
    --font-12px:.75rem;
    --font-10px:.625rem;
    /* 层级 */
    --z-index10:10;
    --z-index100:100;
    --z-index1000:1000;
    /* 间距 */
    --spacing-2:.125rem;
    --spacing-4:.25rem;
    --spacing-6:.375rem;
    --spacing-8:.5rem;
    --spacing-10:.625rem;
    --spacing-12:.75rem;
    --spacing-14:.875rem;
    --spacing-16:1rem;
    --spacing-20:1.25rem;
    --spacing-24:1.5rem;
    --spacing-30:1.875rem;
    --spacing-40:2.5rem;
    --spacing-50:3.125rem;
    --spacing-60:3.75rem;
}
/* 集合属性（主题样式） */
[data-theme="dark"] {
    --color-bg:#1f1f21;
    --color-btn:#ffffff;
    --color-btn-font:#333333;
    --color-border:#deddee;
    --color-main:#ffae00;
    --color-auxiliary:#00ff11;
    --color-other:#00ffdd;
    --font-color-main:#ffffff;
    --font-color-secondary:#ffffffb3;
    --font-color-auxiliary:#ffffff3b;
}
[data-theme="light"] {
    --color-bg:#ffffff;
    --color-btn:#000000;
    --color-btn-font:#ffffff;
    --color-border:#deddee;
    --color-main:#ffae00;
    --color-auxiliary:#00ff11;
    --color-other:#00ffdd;
    --font-color-main:#333333;
    --font-color-secondary:#777777;
    --font-color-auxiliary:#aaaaaa;
}

/* 切换按钮 */
.toggle{
    border: none;
    padding: var(--spacing-6);
    font-size: var(--font-14px);
    background-color: var(--color-btn);
    color: var(--color-btn-font);
    border-radius: .25rem;
    transition: all ease .45s;
}

body{
    background: var(--color-bg);
    color: var(--font-color-main);
    overflow-x: hidden;
    transition: all 0.5s ease-in-out;
}

/* 标题部分 */
header{
    position: fixed;
    top: 0;
    right: 0;
    width: 100%;
    background: transparent;
    z-index: var(--z-index10);
    font-size: var(--font-14px);
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: var(--spacing-30) 15%;
    transition: all ease .45s;
}
.logo{
    color: var(--font-color-main);
    font-weight: 600;
    font-size: var(--font-32px);
}
.logo span{
    color: var(--color-main);    
}
.nav-bar{
    display: flex;
}
.nav-bar a{
    font-size: var(--font-14px);
    color: var(--font-color-secondary);
    margin:0 var(--spacing-24);
    transition: all ease.5s;
}
.nav-bar a:hover{
    color: var(--color-main);
    font-weight: 600;
}
</code></pre> 
<pre><code class="language-javascript">// 切换主题
function toggle() {
    let html = document.querySelector('html')
    let currentTheme = html.getAttribute('data-theme');

    if (currentTheme === "light") {
        html.setAttribute('data-theme', 'dark');
    } else {
        html.setAttribute('data-theme', 'light');
    }
}</code></pre> 
<h3 style="background-color:transparent;">方案五：v-bind (Vue3)</h3> 
<p>在vue3中基于响应式对css变量进行动态改变</p> 
<p>优点：不用考虑网络问题；</p> 
<p>           在需要切换主题的地方利用 v-bind 绑定变量即可，不存在优先级问题；</p> 
<p>           新增或修改主题方便灵活，仅需新增或修改JS 变量即可，在v-bind0绑定样式变量的地方就             会自动更换；</p> 
<p>缺点：也是首屏加载时会牺牲一些时间加载样式资源；</p> 
<p>           这种方式只要是在组件上绑定了动态样式的地方都会有对应的编译成哈希化的 CSS 变量，             而不像 CSS变量一样统一地在:root 上设置；</p> 
<p><img alt="" height="540" src="https://images2.imgbox.com/6e/21/bXjdmzQT_o.png" width="1162"></p> 
<p><img alt="" height="536" src="https://images2.imgbox.com/68/c4/5YddjiJH_o.png" width="989"></p> 
<p>还有剩下的一些方案就不一一介绍了，感觉有用就点个赞再走吧</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d182474a83659f3aa124661a8428d75e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">工业机器人运动学与Matlab正逆解算法学习笔记（用心总结一文全会）（四）——雅可比矩阵</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/7edccb0fc99a08216773dcea74f5248a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Spring Boot 整合kafka：生产者ack机制和消费者AckMode消费模式、手动提交ACK</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>