<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>前端UNIAPP端webview嵌入H5使用说明文档 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/6de41796a04aaabe9e5248e83a823478/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="前端UNIAPP端webview嵌入H5使用说明文档">
  <meta property="og:description" content="一、关闭webView窗口 plus.webview.close( id_wvobj, aniClose, duration, extras ); 功能说明 关闭已经打开的Webview窗口，需先获取窗口对象或窗口id，并可指定关闭窗口的动画及动画持续时间。
参数说明 参数是否必须参数类型/固定值说明id_wvobj是String 要关闭Webview窗口id或窗口对象，若操作窗口对象已经关闭，则无任何效果。 使用窗口id时，则查找对应id的窗口，如果有多个相同id的窗口则操作最先打开的窗口，若没有查找到对应id的WebviewObject对象，则无任何效果。aniClose否 auto （默认值）：自动选择关闭动画效果。none：无动画效果，直接关闭。slide-out-right：从右向左滑出关闭动画。slide-out-left：从左向右滑出关闭动画。关闭Webview窗口的动画效果，如果没有指定关闭窗口动画，则使用默认值“auto”，即使用显示时设置的窗口动画相对应的关闭动画。duration否Number 关闭Webview窗口动画的持续时间，单位为ms，如果没有设置则使用显示窗口动画时间。extras否任意类型关闭Webview窗口扩展参数，可用于指定Webview窗口动画是否使用图片加速。 使用示例 function closeWebview(){ var ws=plus.webview.currentWebview(); plus.webview.close(ws); } 二、创建新的webView窗口 plus.webview.create( url, id, styles, extras ); 功能说明 创建Webview窗口，用于加载新的HTML页面，可通过styles设置Webview窗口的样式，创建完成后需要调用show方法才能将Webview窗口显示出来。
参数说明 参数是否必须参数类型/示例说明url否String 新窗口加载的HTML页面地址，新打开Webview窗口要加载的HTML页面地址，可支持本地地址和网络地址。id否String 新窗口的标识，窗口标识可用于在其它页面中通过getWebviewById来查找指定的窗口，为了保持窗口标识的唯一性，应该避免使用相同的标识来创建多个Webview窗口。 如果传入无效的字符串则使用url参数作为WebviewObject窗口的id值。styles否 JSON 创建Webview窗口的样式（如窗口宽、高、位置等信息）WebviewStylesextras否Object 创建Webview窗口的额外扩展参数，值为JSON类型，设置扩展参数后可以直接通过Webview的点（“.”）操作符获取扩展参数属性值，
如： var w=plus.webview.create(&#39;url.html&#39;,&#39;id&#39;,{},{preload:&#39;preload webview&#39;});
// 可直接通过以下方法获取preload值 console.log(w.preload);
// 输出值为“preload webview” 使用示例 function create(){ var w = plus.webview.create(&#39;http://m.weibo.cn/u/3196963860&#39;); w.show(); // 显示窗口 } 三、获取当前窗口的WebviewObject对象 plus.webview.currentWebview(); 功能说明 获取当前页面所属的Webview窗口对象。
使用示例 var ws=plus.webview.currentWebview(); console.log( &#34;">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-03-15T16:09:04+08:00">
    <meta property="article:modified_time" content="2024-03-15T16:09:04+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">前端UNIAPP端webview嵌入H5使用说明文档</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p></p> 
<h4>一、关闭webView窗口</h4> 
<table><tbody><tr><td> <pre>plus.webview.close( id_wvobj, aniClose, duration, extras );</pre> </td></tr></tbody></table> 
<ul><li><strong>功能说明</strong></li></ul> 
<p>关闭已经打开的Webview窗口，需先获取窗口对象或窗口id，并可指定关闭窗口的动画及动画持续时间。</p> 
<ul><li><strong>参数说明</strong></li></ul> 
<table><tbody><tr><th>参数</th><th>是否必须</th><th>参数类型/固定值</th><th>说明</th></tr><tr><td>id_wvobj</td><td>是</td><td><em>String </em></td><td>要关闭Webview窗口id或窗口对象，若操作窗口对象已经关闭，则无任何效果。 使用窗口id时，则查找对应id的窗口，如果有多个相同id的窗口则操作最先打开的窗口，若没有查找到对应id的WebviewObject对象，则无任何效果。</td></tr><tr><td>aniClose</td><td>否</td><td> 
    <ol><li>auto （默认值）：自动选择关闭动画效果。</li><li>none：无动画效果，直接关闭。</li><li>slide-out-right：从右向左滑出关闭动画。</li><li>slide-out-left：从左向右滑出关闭动画。</li></ol></td><td>关闭Webview窗口的动画效果，如果没有指定关闭窗口动画，则使用默认值“auto”，即使用显示时设置的窗口动画相对应的关闭动画。</td></tr><tr><td>duration</td><td>否</td><td><em>Number </em></td><td>关闭Webview窗口动画的持续时间，单位为ms，如果没有设置则使用显示窗口动画时间。</td></tr><tr><td>extras</td><td>否</td><td>任意类型</td><td>关闭Webview窗口扩展参数，可用于指定Webview窗口动画是否使用图片加速。</td></tr></tbody></table> 
<ul><li><strong>使用示例</strong></li></ul> 
<table><tbody><tr><td> <pre> function closeWebview(){
	var ws=plus.webview.currentWebview();
	plus.webview.close(ws);
}</pre> </td></tr></tbody></table> 
<h4>二、创建新的webView窗口</h4> 
<table><tbody><tr><td> <pre>plus.webview.create( url, id, styles, extras );</pre> </td></tr></tbody></table> 
<ul><li><strong>功能说明</strong></li></ul> 
<p>创建Webview窗口，用于加载新的HTML页面，可通过styles设置Webview窗口的样式，创建完成后需要调用show方法才能将Webview窗口显示出来。</p> 
<ul><li><strong>参数说明</strong></li></ul> 
<table><tbody><tr><th>参数</th><th>是否必须</th><th>参数类型/示例</th><th>说明</th></tr><tr><td>url</td><td>否</td><td><em>String </em></td><td>新窗口加载的HTML页面地址，新打开Webview窗口要加载的HTML页面地址，可支持本地地址和网络地址。</td></tr><tr><td>id</td><td>否</td><td><em>String </em></td><td>新窗口的标识，窗口标识可用于在其它页面中通过getWebviewById来查找指定的窗口，为了保持窗口标识的唯一性，应该避免使用相同的标识来创建多个Webview窗口。 如果传入无效的字符串则使用url参数作为WebviewObject窗口的id值。</td></tr><tr><td>styles</td><td>否</td><td> <p><em>JSON </em></p> </td><td>创建Webview窗口的样式（如窗口宽、高、位置等信息）<a href="https://www.html5plus.org/doc/zh_cn/webview.html#plus.webview.WebviewStyles" rel="nofollow" title="WebviewStyles">WebviewStyles</a></td></tr><tr><td>extras</td><td>否</td><td><em>Object </em></td><td>创建Webview窗口的额外扩展参数，值为JSON类型，设置扩展参数后可以直接通过Webview的点（“.”）操作符获取扩展参数属性值，<br> 如： var w=plus.webview.create('url.html','id',{},{preload:'preload webview'});<br> // 可直接通过以下方法获取preload值 console.log(w.preload);<br> // 输出值为“preload webview”</td></tr></tbody></table> 
<ul><li><strong>使用示例</strong></li></ul> 
<table><tbody><tr><td> <pre>function create(){
	var w = plus.webview.create('http://m.weibo.cn/u/3196963860');
	w.show(); // 显示窗口
}</pre> </td></tr></tbody></table> 
<h4>三、获取当前窗口的WebviewObject对象</h4> 
<table><tbody><tr><td> <pre>plus.webview.currentWebview();</pre> </td></tr></tbody></table> 
<ul><li><strong>功能说明</strong></li></ul> 
<p>获取当前页面所属的Webview窗口对象。</p> 
<ul><li><strong>使用示例</strong></li></ul> 
<table><tbody><tr><td> <pre>var ws=plus.webview.currentWebview();
console.log( "当前Webview窗口："+ws.getURL() );</pre> </td></tr></tbody></table> 
<h4>四、隐藏Webview窗口</h4> 
<table><tbody><tr><td> <pre>plus.webview.hide( id_wvobj, aniHide, duration, extras );</pre> </td></tr></tbody></table> 
<ul><li><strong>功能说明</strong></li></ul> 
<p>根据指定的WebviewObject对象或id隐藏Webview窗口，使得窗口不可见。</p> 
<ul><li><strong>参数说明</strong></li></ul> 
<table><tbody><tr><th>参数</th><th>是否必须</th><th>参数类型/固定值</th><th>说明</th></tr><tr><td>id_wvobj</td><td>是</td><td><em>String </em></td><td>要隐藏的Webview窗口id或窗口对象，使用窗口对象时，若窗口对象已经隐藏，则无任何效果。 使用窗口id时，则查找对应id的窗口，如果有多个相同id的窗口则操作最先打开的，若没有查找到对应id的WebviewObject对象，则无任何效果。</td></tr><tr><td>aniHide</td><td>否</td><td> 
    <ol><li>auto （默认值）：自动选择关闭动画效果。</li><li>none：无动画效果，直接关闭。</li><li>slide-out-right：从右向左滑出关闭动画。</li><li>slide-out-left：从左向右滑出关闭动画。</li></ol><p>···</p> </td><td>隐藏Webview窗口的动画效果，如果没有指定窗口动画，则使用默认动画效果“none”。</td></tr><tr><td>duration</td><td>否</td><td><em>Number </em></td><td>隐藏Webview窗口动画的持续时间，单位为ms，如果没有设置则使用默认窗口动画时间。</td></tr><tr><td>extras</td><td>否</td><td>JSON对象</td><td>隐藏Webview窗口扩展参数，可用于指定Webview窗口动画是否使用图片加速。</td></tr></tbody></table> 
<ul><li><strong>使用示例</strong></li></ul> 
<table><tbody><tr><td> <pre>function hideWebview(){
	plus.webview.hide(plus.webview.currentWebview());
}</pre> </td></tr></tbody></table> 
<h4>五、显示Webview窗口</h4> 
<table><tbody><tr><td> <pre>plus.webview.show( id_wvobj, aniShow, duration, showedCB, extras );</pre> </td></tr></tbody></table> 
<ul><li><strong>功能说明</strong></li></ul> 
<p>显示已创建或隐藏的Webview窗口，需先获取窗口对象或窗口id，并可指定显示窗口的动画及动画持续时间。</p> 
<ul><li><strong>参数说明</strong></li></ul> 
<table><tbody><tr><th>参数</th><th>是否必须</th><th>参数类型/固定值</th><th>说明</th></tr><tr><td>id_wvobj</td><td>是</td><td> <p><em>String</em></p> </td><td>要显示Webview窗口id或窗口对象，若操作Webview窗口对象显示，则无任何效果。 使用窗口id时，则查找对应id的窗口，如果有多个相同id的窗口则操作最先创建的窗口，若没有查找到对应id的WebviewObject对象，则无任何效果。</td></tr><tr><td>aniShow</td><td>否</td><td>  
    <ol><li>auto （默认值）：自动选择显示动画效果。</li><li>none：无动画效果，直接显示。</li><li>slide-in-right：从右向左滑出显示动画。</li><li>slide-in-left：从左向右滑出显示动画。</li></ol><p>···</p> </td><td>显示Webview窗口的动画效果，如果没有指定窗口动画类型，则使用默认值“auto”，即自动选择上一次显示窗口的动画效果，如果之前没有显示过，则使用“none”动画效果。<a href="https://www.html5plus.org/doc/zh_cn/webview.html#plus.webview.AnimationTypeShow" rel="nofollow" title="AnimationTypeShow">AnimationTypeShow</a></td></tr><tr><td>duration</td><td>否</td><td><em>Number </em></td><td>显示Webview窗口动画的持续时间,单位为ms，单位为ms，如果没有设置则使用默认窗口动画时间600ms。</td></tr><tr><td>showedCB</td><td>否</td><td> <p></p> <p><code>onSuccess(){ // Success code. }</code></p> <p></p> <p><code>onError(error){<!-- --></code></p> <p><code>var code = error.code; // 错误编码</code></p> <p><code>var message = error.message; // 错误描述信息</code></p> <p><code>}</code></p> </td><td>Webview窗口显示完成的回调函数,当指定Webview窗口显示动画执行完毕时触发回调函数，窗口无动画效果（如"none"动画效果）时也会触发此回调。</td></tr></tbody></table> 
<ul><li><strong>使用示例</strong></li></ul> 
<table><tbody><tr><td> <pre>function create(){
	var w = plus.webview.create('http://m.weibo.cn/u/3196963860');
	plus.webview.show(w); // 显示窗口
}</pre> </td></tr></tbody></table> 
<h4>六、创建并打开Webview窗口</h4> 
<table><tbody><tr><td> <pre>plus.webview.open( url, id, styles, aniShow, duration, showedCB );</pre> </td></tr></tbody></table> 
<ul><li><strong>功能说明</strong></li></ul> 
<p>创建并显示Webview窗口，用于加载新的HTML页面，可通过styles设置Webview窗口的样式，创建完成后自动将Webview窗口显示出来。</p> 
<ul><li><strong>参数说明</strong></li></ul> 
<table><tbody><tr><th>参数</th><th>是否必须</th><th>参数类型/固定值</th><th>说明</th></tr><tr><td>url</td><td>否</td><td><em>String </em></td><td>打开窗口加载的HTML页面地址，新打开Webview窗口要加载的HTML页面地址，可支持本地地址和网络地址。</td></tr><tr><td>id</td><td>否</td><td> <p><em>String</em></p> </td><td>打开窗口的标识，窗口标识可用于在其它页面中通过getWebviewById来查找指定的窗口，为了保持窗口标识的唯一性，应该避免使用相同的标识来创建多个Webview窗口。 如果传入无效的字符串则使用url参数作为WebviewObject窗口的id值。</td></tr><tr><td>styles</td><td>否</td><td> <p><em>JSON </em></p> </td><td>创建Webview窗口的样式（如窗口宽、高、位置等信息）<a href="https://www.html5plus.org/doc/zh_cn/webview.html#plus.webview.WebviewStyles" rel="nofollow" title="WebviewStyles">WebviewStyles</a></td></tr><tr><td>aniShow</td><td>否</td><td>  
    <ol><li>auto （默认值）：自动选择关闭动画效果。</li><li>none：无动画效果，直接关闭。</li><li>slide-in-right：从右向左滑出关闭动画。</li><li>slide-in-left：从左向右滑出关闭动画。</li></ol><p>···</p> </td><td>显示Webview窗口的动画效果，如果没有指定窗口动画，则使用默认无动画效果“none”。<a href="https://www.html5plus.org/doc/zh_cn/webview.html#plus.webview.AnimationTypeShow" rel="nofollow" title="AnimationTypeShow">AnimationTypeShow</a></td></tr><tr><td>duration</td><td>否</td><td><em>Number </em></td><td>显示Webview窗口动画的持续时间,单位为ms，默认值为200ms（毫秒）。</td></tr><tr><td>showedCB</td><td>否</td><td> <p><code>onSuccess(){ // Success code. }</code></p> <p><code>onError(error){<!-- --></code></p> <p><code>var code = error.code; // 错误编码</code></p> <p><code>var message = error.message; // 错误描述信息</code></p> <p><code>}</code></p> </td><td>Webview窗口显示完成的回调函数,当指定Webview窗口显示动画执行完毕时触发回调函数，窗口无动画效果（如"none"动画效果）时也会触发此回调。</td></tr></tbody></table> 
<ul><li><strong>使用示例</strong></li></ul> 
<table><tbody><tr><td> <pre>function openWebview(){
	var w = plus.webview.open('http://m.weibo.cn/u/3196963860');
}</pre> </td></tr></tbody></table> 
<h4>七、预载网络页面</h4> 
<table><tbody><tr><td> <pre>plus.webview.prefetchURL(url);</pre> </td></tr></tbody></table> 
<ul><li><strong>功能说明</strong></li></ul> 
<p>预载网络页面会向服务器发起http/https请求获取html页面内容， 待Webview窗口加载此url页面时会则根据缓存机制优先使用预载的页面内容(加快页面显示速度)。 注意：预载网络页面仅在运行期生效，为了节省内存仅保留最后5个预载页面数据。</p> 
<ul><li><strong>参数说明</strong></li></ul> 
<table><tbody><tr><th>参数</th><th>是否必须</th><th>参数类型/固定值</th><th>说明</th></tr><tr><td>url</td><td>是</td><td><em>String </em></td><td>需要预载的页面地址，必须是网络地址（http/https）,本地页面地址无需预载。</td></tr></tbody></table> 
<ul><li><strong>使用示例</strong></li></ul> 
<table><tbody><tr><td> <pre>var url = 'http://m.weibo.cn/u/3196963860';

// 预载网络页面
function prefetchWebview(){
	plus.webview.prefetchURL(url);
}

// 显示预载页面
function showWebview(){
	// 预创建新窗口（显示在可视区域外）
	wn=plus.webview.create(url, 'test',{render:'always'});
	wn.show('none');
}</pre> </td></tr></tbody></table> 
<h4>八、Webview的一些常用方法</h4> 
<p><strong>1. <a href="https://www.html5plus.org/doc/zh_cn/webview.html#plus.webview.WebviewObject.addEventListener" rel="nofollow" title="addEventListener">addEventListener</a>: 添加事件监听器</strong></p> 
<ul><li><strong>参数说明</strong> 
  <ul><li> 
    <table><tbody><tr><th>参数</th><th>是否必须</th><th>可选参数</th><th>说明</th></tr><tr><td>event</td><td>是</td><td> <p>"close": (String 类型 )Webview窗口关闭事件</p> <p>"error": <em>(String 类型 )</em>Webview窗口加载错误事件</p> <p>"hide": <em>(String 类型 )</em>Webview窗口隐藏事件</p> <p>"loading": <em>(String 类型 )</em>Webview窗口页面开始加载事件</p> <p>"loaded": <em>(String 类型 )</em>Webview窗口页面加载完成事件</p> <p>"maskClick": <em>(String 类型 )</em>Webview窗口显示遮罩层时点击事件</p> <p>"touchstart": <em>(String 类型 )</em>Webview窗口接收到触屏事件</p> <p>"popGesture": <em>(String 类型 )</em>Webview窗口侧滑返回事件</p> <p><a href="https://www.html5plus.org/doc/zh_cn/webview.html#plus.webview.WebviewEvent" rel="nofollow" title="更多事件">更多事件</a></p> </td><td>Webview窗口事件类型</td></tr><tr><td>listener</td><td>是</td><td> <p><code>void onEvent(Event event){ // Event handled code. }</code></p> </td><td>监听事件发生时执行的回调函数</td></tr><tr><td>capture</td><td>否</td><td><em> Boolean</em></td><td>捕获事件流顺序，暂无效果</td></tr></tbody></table><p></p> </li><li>示例代码</li></ul></li></ul> 
<table><tbody><tr><td> <pre>plus.nativeUI.showWaiting()
var ws = null,
	embed = null;
ws = this.$scope.$getAppWebview(); //plus.webview.currentWebview();在uni-app里vue页面直接使用无效，非v3编译模式使用this.$mp.page.$getAppWebview()
embed = plus.webview.create(this.url, '', {
	top: getApp().globalData.bh + 35 + "px",
	bottom: '0px'
});
ws.append(embed);

//监听webview窗口事件
embed.addEventListener('loaded', function() {
	if (embed.isVisible()) {
		plus.nativeUI.closeWaiting()
		// 页面加载完成且可见时的操作
	}
});</pre> </td></tr></tbody></table> 
<p><strong>2. <a href="https://www.html5plus.org/doc/zh_cn/webview.html#plus.webview.WebviewObject.append" rel="nofollow" title="append">append</a>: 在Webview窗口中添加子窗口</strong></p> 
<ul><li><strong>说明</strong></li></ul> 
<p>将另一个Webview窗口作为子窗口添加到当前Webview窗口中，添加后其所有权归父Webview窗口，当父窗口关闭时子窗口自动关闭。</p> 
<p>被添加的Webview窗口需通过plus.webview.create方法创建，并且不能调用其show方法进行显示。 父窗口显示时子窗口会自动显示，父窗口隐藏时子窗口也会自动隐藏。 被添加的View控件需通过new plus.nativeObj.View()创建，添加到Webview窗口后所有权一起转移（即Webview关闭后View控件也自动关闭）。</p> 
<ul><li><strong>示例代码</strong></li></ul> 
<p></p> 
<table><tbody><tr><td> <pre>var ws = null,
	embed = null;
ws = this.$scope.$getAppWebview(); //plus.webview.currentWebview();在uni-app里vue页面直接使用无效，非v3编译模式使用this.$mp.page.$getAppWebview()
embed=plus.webview.create('http://m.weibo.cn/u/3196963860', '',{top:'46px',bottom:'0px'});
ws.append(embed);</pre> </td></tr></tbody></table> 
<p><strong>3. <a href="https://www.html5plus.org/doc/zh_cn/webview.html#plus.webview.WebviewObject.appendJsFile" rel="nofollow" title="appendJsFile">appendJsFile</a>: 添加Webview窗口预加载js文件</strong></p> 
<ul><li><strong>说明</strong></li></ul> 
<p><strong>对于一些网络HTML页面，在无法修改HTML页面时可通过此方法自动加载本地js文件。 当Webview窗口跳转到新页面时也会自动加载指定的js执行，添加多个js文件将按照添加的先后顺序执行。</strong></p> 
<ul><li><strong>示例代码</strong></li></ul> 
<table><tbody><tr><td> <pre>// 添加Webview窗口预加载js文件
function appendJs2Webviewe(){
	var nw=plus.webview.create('http://m.weibo.cn/u/3196963860');
	nw.appendJsFile('_www/preload.js');
	nw.show();
}</pre> </td></tr></tbody></table> 
<p><strong>4. <a href="https://www.html5plus.org/doc/zh_cn/webview.html#plus.webview.WebviewObject.checkRenderedContent" rel="nofollow" title="checkRenderedContent">checkRenderedContent</a>: 检测Webview窗口是否渲染完成</strong></p> 
<ul><li><strong>说明</strong></li></ul> 
<p>检测方式为判断的Webview窗口内容是否为白屏，如果非白屏则认为渲染完成，否则认为渲染未完成。 通过successCallback回调函数返回结果，如果检测过程中发生错误则触发errorCallback回调函数。</p> 
<p>successCallback: ( Function ) 必选 检测Webview窗口渲染结果回调函数<br> 获取渲染检测结果后触发，函数原型为void function(e){}； e.rendered：表示检测渲染完成结果，Boolean类型，true表示渲染完成，false表示渲染未完成。</p> 
<p>errorCallback: ( ErrorCallback ) 可选 检测Webview窗口渲染结果失败回调函数<br> 检测Webview窗口渲染结果过程中发生错误则触发errorCallback回调函数</p> 
<p><strong>此方法不支持iOS</strong></p> 
<ul><li><strong>示例代码</strong></li></ul> 
<table><tbody><tr><td> <pre>// 创建Webview窗口
function createWebview(){
	// 打开新窗口
	nw=plus.webview.create('http://m.weibo.cn/u/3196963860');
	nw.show();
}
function checkWebview(){
	nw.checkRenderedContent({}, function(e){
		console.log('checkRenderedContent success: '+JSON.stringify(e));
	}, function(e){
		console.log('checkRenderedContent error: '+JSON.stringify(e));
	});
}</pre> </td></tr></tbody></table> 
<p><strong>5. <a href="https://www.html5plus.org/doc/zh_cn/webview.html#plus.webview.WebviewObject.interceptTouchEvent" rel="nofollow" title="interceptTouchEvent">interceptTouchEvent</a>: 是否拦截Webview窗口的触屏事件</strong></p> 
<ul><li><strong>说明</strong></li></ul> 
<p>拦截后触屏事件不再传递，否则传递给View控件下的其它窗口处理。 Webview窗口默认拦截所有触屏事件。</p> 
<p>intercept: ( Boolean ) 可选 是否拦截触屏事件<br> true表示拦截触屏事件，false表示不拦截触屏事件（透传事件给其它窗口处理）。 默认值为true。</p> 
<p>Android - 3.0+ (支持)<br> iOS - ALL (不支持)</p> 
<ul><li><strong>示例代码</strong></li></ul> 
<table><tbody><tr><td> <pre>var wv=null;
wv = plus.webview.currentWebview();
// 拦截触屏事件 
function interceptEvent(){
	wv.interceptTouchEvent(true);
}
// 不拦截触屏事件 
function uninterceptEvent(){
	wv.interceptTouchEvent(false);
}</pre> </td></tr></tbody></table> 
<p><strong>6. <a href="https://www.html5plus.org/doc/zh_cn/webview.html#plus.webview.WebviewObject.isVisible" rel="nofollow" title="isVisible">isVisible</a>: 查询Webview窗口是否可见</strong></p> 
<ul><li><strong>说明</strong></li></ul> 
<p>若Webview窗口已经显示（调用过show方法，即使被其它窗口挡住了也认为已显示）则返回true，若Webview窗口被隐藏则返回false。</p> 
<ul><li><strong>示例代码</strong></li></ul> 
<table><tbody><tr><td> <pre>ws=plus.webview.currentWebview();
embed=plus.webview.create('http://m.weibo.cn/u/3196963860', '', {top:'46px',bottom:'0px'});
embed.show();

// 查询Webview窗口是否可见
function visibleWebview() {
	alert('是否可见：'+embed.isVisible());
}
// 隐藏Webview窗口
function hideWebview() {
	embed.hide();
}</pre> </td></tr></tbody></table> 
<p><strong>7. <a href="https://www.html5plus.org/doc/zh_cn/webview.html#plus.webview.WebviewObject.overrideResourceRequest" rel="nofollow" title="overrideResourceRequest">overrideResourceRequest</a>: 拦截Webview窗口的资源加载</strong></p> 
<ul><li><strong>说明</strong></li></ul> 
<p>根据区配规则拦截Webview窗口加载资源的URL地址，重定向到其它资源地址（暂仅支持本地地址）。 注意：多次调用overrideResourceRequest时仅以最后一次调用设置的参数值生效。</p> 
<ul><li><strong>示例代码</strong></li></ul> 
<table><tbody><tr><td> <pre>var ws=null,nw=null;
ws=plus.webview.currentWebview();
// 拦截Webview窗口的资源请求
nw=plus.webview.create('http://m.weibo.cn/u/3196963860');

nw.overrideResourceRequest([{match:'http://tva3.sinaimg.cn/crop.121.80.980.980.180/be8dcc14gw1e7lz65y6g3j20uo0uoq4r.jpg',redirect:'_www/logo.png'}]);

nw.show();</pre> </td></tr></tbody></table> 
<p><strong>8. <a href="https://www.html5plus.org/doc/zh_cn/webview.html#plus.webview.WebviewObject.overrideUrlLoading" rel="nofollow" title="overrideUrlLoading">overrideUrlLoading</a>: 拦截Webview窗口的URL请求</strong></p> 
<ul><li><strong>说明</strong></li></ul> 
<p>拦截URL请求后，Webview窗口将不会跳转到新的URL地址，此时将通过callback回调方法返回拦截的URL地址（可新开Webview窗口加载URL页面等）。 此方法只能拦截窗口的网络超链接跳转（包括调用loadURL方法触发的跳转），不可拦截页面请求资源请求（如加载css/js/png等资源的请求）。 注意：多次调用overrideUrlLoading时仅以最后一次调用设置的参数值生效。</p> 
<ul><li><strong>Options属性</strong></li></ul> 
<table><tbody><tr><th>属性</th><th>类型</th><th>取值说明</th><th>作用</th></tr><tr><td>effect</td><td><em>String</em></td><td> <p>可取值： "instant" - 表示立即生效，即调用overrideUrlLoading方法后立即生效；</p> <p>"touchstart" - 表示用户操作Webview窗口（触发touchstart事件）后生效，如果用户没有操作Webview窗口则不对URL请求操作进行拦截处理。 默认值为"instant"。</p> </td><td>拦截URL请求生效时机</td></tr><tr><td>mode</td><td><em>String</em></td><td> <p>可取值： "allow"表示满足match属性定义的条件时不拦截url继续加载，不满足match属性定义的条件时拦截url跳转并触发callback回调；</p> <p>"reject"表示满足match属性定义的提交时拦截url跳转并触发callback回调，不满足match属性定义的条件时不拦截url继续加载。</p> <p>默认值为"reject"。</p> </td><td>拦截模式</td></tr><tr><td>match</td><td><em>String</em></td><td> <p>支持正则表达式，默认值为对所有URL地址生效（相当于正则表达式“.*”）。</p> <p>如果mode值为"allow"则允许区配的URL请求跳转，mode值为"reject"则拦截区配的URL请求。</p> </td><td>匹配是否需要处理的URL请求</td></tr><tr><td>exclude</td><td><em>String</em></td><td> <p>不拦截处理指定类型的URL请求，直接使用系统默认处理逻辑。</p> <p>可取值： "none"表示不排除任何URL请求（即拦截处理所有URL请求）；</p> <p>"redirect"表示排除拦截处理301/302跳转的请求（谨慎使用，非a标签的href触发的URL请求可能会误判断为302跳转）。</p> <p>默认值为"none"。</p> </td><td> 
    <ul><li>排除拦截处理请求类型</li></ul></td></tr></tbody></table> 
<ul><li><strong>示例代码</strong></li></ul> 
<table><tbody><tr><td> <pre>ws=plus.webview.currentWebview();
nw=plus.webview.create('http://m.weibo.cn/u/3196963860');
nw.show();

var regex = "^https://brain.*";
nw.overrideUrlLoading({
	mode:'allow',
 	match: regex,
}, function(e){
    console.log('reject url: '+e.url);
});</pre> </td></tr></tbody></table> 
<h4>九、参考文档</h4> 
<p><a href="https://www.html5plus.org/doc/zh_cn/webview.html#plus.webview.WebviewOverrideUrlOptions" rel="nofollow" title="参考文档地址">参考文档地址</a></p> 
<p></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b5923ce8c469276b9dea6b6376fc8324/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">国产Copilot--通义灵码安装教程</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a0a96999736a15663c32b55180ad0b1e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Android - 常用adb命令总结</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>