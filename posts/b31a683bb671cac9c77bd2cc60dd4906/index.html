<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>项目实战_表白墙（简易版） - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/b31a683bb671cac9c77bd2cc60dd4906/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="项目实战_表白墙（简易版）">
  <meta property="og:description" content="你能学到什么 一个比较简单的项目：表白墙（简易版），浏览器：谷歌升级版将在下个博客发布 效果如下
正文 说明 我们是从0开始一步一步做这个项目的，里面的各种问题，我也会以第一人称视角来解决，希望你们看了能感同身受，有所收获。
第一步：把项目建起来 注意： 你所创建的所有package或者class 必须和启动类在同一个路径上，启动类是什么：就是一开始就自动生成的，并且以Application结尾的那个类。
所以我们必须在leavemessage_blogs下面建包，或者建类。
对于测试代码和开发的规则也是一样的，要在 leavemessage_blogs下面建包或者建类。
第二步：配置文件 由于文件不能导入，所以前端的代码直接自己新建就行了，然后复制我的代码到你的前端html文件里。注意：你新建的文件可能有一些自动生成的代码，复制我的代码直接覆盖就行了。
代码如下 &lt;!DOCTYPE html&gt; &lt;html lang=&#34;en&#34;&gt; &lt;head&gt; &lt;meta charset=&#34;UTF-8&#34;&gt; &lt;meta name=&#34;viewport&#34; content=&#34;width=device-width, initial-scale=1.0&#34;&gt; &lt;title&gt;留言板&lt;/title&gt; &lt;style&gt; .container { width: 350px; height: 300px; margin: 0 auto; /* border: 1px black solid; */ text-align: center; } .grey { color: grey; } .container .row { width: 350px; height: 40px; display: flex; justify-content: space-between; align-items: center; } .container .row input { width: 260px; height: 30px; } #submit { width: 350px; height: 40px; background-color: orange; color: white; border: none; margin: 10px; border-radius: 5px; font-size: 20px; } &lt;/style&gt; &lt;/head&gt; &lt;body&gt; &lt;div class=&#34;">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-07-29T12:25:37+08:00">
    <meta property="article:modified_time" content="2024-07-29T12:25:37+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">项目实战_表白墙（简易版）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="_1"></a>你能学到什么</h2> 
<ul><li>一个比较简单的项目：表白墙（简易版），浏览器：谷歌</li><li>升级版将在下个博客发布</li></ul> 
<p>效果如下<br> <img src="https://images2.imgbox.com/29/47/ZGKTyViF_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_7"></a>正文</h2> 
<h4><a id="_8"></a>说明</h4> 
<p>我们是从0开始一步一步做这个项目的，里面的各种问题，我也会以第一人称视角来解决，希望你们看了能感同身受，有所收获。</p> 
<h3><a id="_10"></a>第一步：把项目建起来</h3> 
<p><img src="https://images2.imgbox.com/18/c1/Enqpwkcw_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/49/b0/vNL4Ec2G_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_13"></a>注意：</h4> 
<p>你所创建的所有package或者class 必须和启动类在同一个路径上，启动类是什么：就是一开始就自动生成的，并且以Application结尾的那个类。<br> 所以我们必须在leavemessage_blogs下面建包，或者建类。<br> <img src="https://images2.imgbox.com/7e/5f/wT5825Dz_o.png" alt="在这里插入图片描述"><br> 对于测试代码和开发的规则也是一样的，要在 leavemessage_blogs下面建包或者建类。</p> 
<h3><a id="_18"></a>第二步：配置文件</h3> 
<p>由于文件不能导入，所以前端的代码直接自己新建就行了，然后复制我的代码到你的前端html文件里。注意：你新建的文件可能有一些自动生成的代码，复制我的代码直接覆盖就行了。</p> 
<p><img src="https://images2.imgbox.com/de/e8/fL3DUVWP_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/30/ed/Ft7Zjod0_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/1e/83/DqsBWjdi_o.png" alt="在这里插入图片描述"></p> 
<ul><li>代码如下</li></ul> 
<pre><code class="prism language-javascript"><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token constant">DOCTYPE</span> html<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>html lang<span class="token operator">=</span><span class="token string">"en"</span><span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>head<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>meta charset<span class="token operator">=</span><span class="token string">"UTF-8"</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>meta name<span class="token operator">=</span><span class="token string">"viewport"</span> content<span class="token operator">=</span><span class="token string">"width=device-width, initial-scale=1.0"</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>title<span class="token operator">&gt;</span>留言板<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>style<span class="token operator">&gt;</span>
        <span class="token punctuation">.</span>container <span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">width</span><span class="token operator">:</span> 350px<span class="token punctuation">;</span>
            <span class="token literal-property property">height</span><span class="token operator">:</span> 300px<span class="token punctuation">;</span>
            <span class="token literal-property property">margin</span><span class="token operator">:</span> <span class="token number">0</span> auto<span class="token punctuation">;</span>
            <span class="token comment">/* border: 1px black solid; */</span>
            text<span class="token operator">-</span>align<span class="token operator">:</span> center<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token punctuation">.</span>grey <span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">color</span><span class="token operator">:</span> grey<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token punctuation">.</span>container <span class="token punctuation">.</span>row <span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">width</span><span class="token operator">:</span> 350px<span class="token punctuation">;</span>
            <span class="token literal-property property">height</span><span class="token operator">:</span> 40px<span class="token punctuation">;</span>

            <span class="token literal-property property">display</span><span class="token operator">:</span> flex<span class="token punctuation">;</span>
            justify<span class="token operator">-</span>content<span class="token operator">:</span> space<span class="token operator">-</span>between<span class="token punctuation">;</span>
            align<span class="token operator">-</span>items<span class="token operator">:</span> center<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token punctuation">.</span>container <span class="token punctuation">.</span>row input <span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">width</span><span class="token operator">:</span> 260px<span class="token punctuation">;</span>
            <span class="token literal-property property">height</span><span class="token operator">:</span> 30px<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        #submit <span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">width</span><span class="token operator">:</span> 350px<span class="token punctuation">;</span>
            <span class="token literal-property property">height</span><span class="token operator">:</span> 40px<span class="token punctuation">;</span>
            background<span class="token operator">-</span>color<span class="token operator">:</span> orange<span class="token punctuation">;</span>
            <span class="token literal-property property">color</span><span class="token operator">:</span> white<span class="token punctuation">;</span>
            <span class="token literal-property property">border</span><span class="token operator">:</span> none<span class="token punctuation">;</span>
            <span class="token literal-property property">margin</span><span class="token operator">:</span> 10px<span class="token punctuation">;</span>
            border<span class="token operator">-</span>radius<span class="token operator">:</span> 5px<span class="token punctuation">;</span>
            font<span class="token operator">-</span>size<span class="token operator">:</span> 20px<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"container"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>留言板<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>p <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"grey"</span><span class="token operator">&gt;</span>输入后点击提交<span class="token punctuation">,</span> 会将信息显示下方空白处<span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"row"</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>span<span class="token operator">&gt;</span>谁<span class="token operator">:</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">"text"</span> name<span class="token operator">=</span><span class="token string">""</span> id<span class="token operator">=</span><span class="token string">"from"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"row"</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>span<span class="token operator">&gt;</span>对谁<span class="token operator">:</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">"text"</span> name<span class="token operator">=</span><span class="token string">""</span> id<span class="token operator">=</span><span class="token string">"to"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"row"</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>span<span class="token operator">&gt;</span>说什么<span class="token operator">:</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">"text"</span> name<span class="token operator">=</span><span class="token string">""</span> id<span class="token operator">=</span><span class="token string">"say"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">"button"</span> value<span class="token operator">=</span><span class="token string">"提交"</span> id<span class="token operator">=</span><span class="token string">"submit"</span> onclick<span class="token operator">=</span><span class="token string">"submit()"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token constant">A</span> 对 <span class="token constant">B</span> <span class="token literal-property property">说</span><span class="token operator">:</span> hello<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span> <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">"https://cdn.bootcdn.net/ajax/libs/jquery/3.6.4/jquery.min.js"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
 
        <span class="token keyword">function</span> <span class="token function">submit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token comment">//1. 获取留言的内容</span>
            <span class="token keyword">var</span> from <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#from'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">var</span> to <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#to'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">var</span> say <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#say'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>from<span class="token operator">==</span> <span class="token string">''</span> <span class="token operator">||</span> to <span class="token operator">==</span> <span class="token string">''</span> <span class="token operator">||</span> say <span class="token operator">==</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">return</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token comment">//2. 构造节点</span>
            <span class="token keyword">var</span> divE <span class="token operator">=</span> <span class="token string">"&lt;div&gt;"</span><span class="token operator">+</span>from <span class="token operator">+</span><span class="token string">"对"</span> <span class="token operator">+</span> to <span class="token operator">+</span> <span class="token string">"说:"</span> <span class="token operator">+</span> say<span class="token operator">+</span><span class="token string">"&lt;/div&gt;"</span><span class="token punctuation">;</span>
            <span class="token comment">//3. 把节点添加到页面上    </span>
            <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".container"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>divE<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">//4. 清空输入框的值</span>
            <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#from'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#to'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#say'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            
        <span class="token punctuation">}</span>
        
    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">&gt;</span>
</code></pre> 
<p>搞完前端的文件配置以后我们就能测试了，启动程序，然后用浏览器访问这个html页面，看看我们复制的对不对<br> <img src="https://images2.imgbox.com/d8/00/Hh7NsWsQ_o.png" alt="在这里插入图片描述"></p> 
<p>看到这个以后就证明我们复制的没问题，如果你此时直接在该网页输入数据测试，也是没有错误的，但那是前端的实现，一刷新就没了，我们是要使用后端实现的，所以我们还要改代码，设计后端接口，熟悉理解后端接口才是此项目的目的。</p> 
<p><img src="https://images2.imgbox.com/10/14/D0smmUiv_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_128"></a>第三步：约定前后端交互接⼝</h3> 
<p>需求分析：<br> 后端需要提供两个服务</p> 
<ol><li>提交留⾔: ⽤⼾输⼊留⾔信息之后, 后端需要把留⾔信息保存起来</li><li>展⽰留⾔: ⻚⾯展⽰时, 需要从后端获取到所有的留⾔信息</li></ol> 
<ul><li>浏览器给服务器发送⼀个 GET /message/getList 这样的请求, 就能返回当前⼀共有哪些留⾔记录. 结果以 json 的格式返回过来.</li></ul> 
<h3><a id="_135"></a>第四步：编写服务器代码</h3> 
<h4><a id="_136"></a>实体类代码</h4> 
<p>定义留⾔对象 MessageInfo 类，我们将实体类都单独放在包model里，这是应用分层里的规范。</p> 
<p><img src="https://images2.imgbox.com/ce/6f/6r5ONpjz_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/cb/07/ZwkmE6MP_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>leavemessage_blogs<span class="token punctuation">.</span>model</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">Data</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Data</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MessageInfo</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> from<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> <span class="token keyword">to</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> message<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> 
<h4><a id="controller_158"></a>controller代码</h4> 
<p>依据应用分层的概念，我们依旧是建了一个package存放controller类。<br> <img src="https://images2.imgbox.com/33/ff/UDV4nMGw_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>leavemessage_blogs<span class="token punctuation">.</span></span><span class="token class-name">Controller</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>leavemessage_blogs<span class="token punctuation">.</span>model<span class="token punctuation">.</span></span><span class="token class-name">MessageInfo</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">StringUtils</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RequestMapping</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RestController</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/message"</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MessageController</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">//创建一个list来储存数据</span>
    
    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">MessageInfo</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"getList"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">MessageInfo</span><span class="token punctuation">&gt;</span></span> <span class="token function">getList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> list<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/addInfo"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">addInfo</span><span class="token punctuation">(</span><span class="token class-name">MessageInfo</span> messageInfo<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">hasLength</span><span class="token punctuation">(</span>messageInfo<span class="token punctuation">.</span><span class="token function">getFrom</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span>
        <span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">hasLength</span><span class="token punctuation">(</span>messageInfo<span class="token punctuation">.</span><span class="token function">getTo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span>
        <span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">hasLength</span><span class="token punctuation">(</span>messageInfo<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>messageInfo<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<p>写完controller代码后我们就能测试了</p> 
<h4><a id="getList_198"></a>测试getList接口</h4> 
<p>可以看出来没有问题，因为此时我们还没有添加元素呢，所以返回为空<br> <img src="https://images2.imgbox.com/69/fc/08b9qUrV_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="addInfo_201"></a>测试addInfo接口</h4> 
<p>可以看到：也没有太大的问题，如果你感觉看不到效果，不放心，你可一再次调用getList接口，看看这个信息是否被添加进来了。<br> <img src="https://images2.imgbox.com/af/e5/oumCAxTI_o.png" alt="在这里插入图片描述"><br> 为了验证，我们调用getList接口验证信息是否被添加进来了，可以看到：没有问题<br> <img src="https://images2.imgbox.com/42/3b/IHvJrDMn_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_208"></a>第五步：修改前端代码</h3> 
<p>为什么是修改而不是编写：因为我们以后端的开发为主要，所以前端的代码能大概看懂就好，不要求掌握，以后的前端代码也是以开源的形式直接复制粘贴的。</p> 
<h4><a id="1_load___210"></a>1，添加 load 函数, ⽤于在⻚⾯加载的时候获取数据</h4> 
<pre><code class="prism language-javascript">    <span class="token function">load</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">function</span> <span class="token function">load</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">"get"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">"/message/getList"</span><span class="token punctuation">,</span>
            <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">result</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> message <span class="token keyword">of</span> result<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token keyword">var</span> divE <span class="token operator">=</span> <span class="token string">"&lt;div&gt;"</span> <span class="token operator">+</span> message<span class="token punctuation">.</span>from <span class="token operator">+</span> <span class="token string">"对"</span> <span class="token operator">+</span> message<span class="token punctuation">.</span>to <span class="token operator">+</span> <span class="token string">"说:"</span> <span class="token operator">+</span> message<span class="token punctuation">.</span>message <span class="token operator">+</span> <span class="token string">"&lt;/div&gt;"</span><span class="token punctuation">;</span>
                    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".container"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>divE<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/dc/97/1FOEv2S0_o.png" alt="在这里插入图片描述"></p> 
<p>这个代码能复制就复制，看懂个大概就行了</p> 
<ul><li>注意：<img src="https://images2.imgbox.com/62/9b/FXaXmLig_o.png" alt="在这里插入图片描述"></li></ul> 
<h4><a id="2_submit_232"></a>2. 修改原来的点击事件函数submit</h4> 
<p>可以将这段代码直接覆盖掉原来的submit函数，也可以自己看着注释的思路敲一遍，这里面有很多重复的代码，能直接复制的很多，可以尝试一下，并不费劲。</p> 
<pre><code class="prism language-javascript"><span class="token keyword">function</span> <span class="token function">submit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token comment">//1. 获取留言的内容</span>
        <span class="token keyword">var</span> from <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#from'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> to <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#to'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> say <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#say'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>from<span class="token operator">==</span> <span class="token string">''</span> <span class="token operator">||</span> to <span class="token operator">==</span> <span class="token string">''</span> <span class="token operator">||</span> say <span class="token operator">==</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">//在这里将请求发送到后端，也是采用ajax的方式</span>
        $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
           <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">"post"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">"message/addInfo"</span><span class="token punctuation">,</span><span class="token comment">//这里的url不要弄错了</span>
            <span class="token literal-property property">data</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
               <span class="token literal-property property">from</span><span class="token operator">:</span>from<span class="token punctuation">,</span>
                <span class="token literal-property property">to</span><span class="token operator">:</span>to<span class="token punctuation">,</span>
                <span class="token literal-property property">message</span><span class="token operator">:</span>say
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token function-variable function">success</span><span class="token operator">:</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">ret</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
               <span class="token comment">//如果后端返回了true证明添加成功了，就将数据全部添加到网页上</span>
               <span class="token keyword">if</span><span class="token punctuation">(</span>ret<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                   <span class="token comment">//这里面都是添加页面元素的操作，了解即可</span>
                   <span class="token comment">//2. 构造节点</span>
                   <span class="token keyword">var</span> divE <span class="token operator">=</span> <span class="token string">"&lt;div&gt;"</span><span class="token operator">+</span>from <span class="token operator">+</span><span class="token string">"对"</span> <span class="token operator">+</span> to <span class="token operator">+</span> <span class="token string">"说:"</span> <span class="token operator">+</span> say<span class="token operator">+</span><span class="token string">"&lt;/div&gt;"</span><span class="token punctuation">;</span>
                   <span class="token comment">//3. 把节点添加到页面上</span>
                   <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".container"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>divE<span class="token punctuation">)</span><span class="token punctuation">;</span>

                   <span class="token comment">//4. 清空输入框的值</span>
                   <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#from'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                   <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#to'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                   <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#say'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
               <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
                   <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"留言失败！"</span><span class="token punctuation">)</span>
               <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


    <span class="token punctuation">}</span>
</code></pre> 
<h3><a id="_274"></a>第六步：测试</h3> 
<p>以上就是该简易表白墙的所有内容，此时我们就能启动程序，再次访问message.html页面，看看他是否能正常运行。</p> 
<h4><a id="_276"></a>注意：</h4> 
<ul><li>1，此时的前端页面可能会有缓存，可以使用ctrl+F5进行强刷，然后右键查看网页源代码，看看我们的前端代码是否改过来了。<img src="https://images2.imgbox.com/f6/53/Uju5w739_o.png" alt="在这里插入图片描述"></li><li>2，我用的是谷歌浏览器，因为他的兼容性……在现今的浏览器中属于很nb的那种，可以去官网下载一下，很好用。<br> <img src="https://images2.imgbox.com/54/06/JCyu9mIu_o.png" alt="在这里插入图片描述"><br> 此时意外发生了，在我填完信息之后，我点击提交按钮后，前端是没有反应的，证明有bug了。</li></ul> 
<h4><a id="bug_281"></a>排查bug</h4> 
<ul><li>第一步：按F12，看前端页面有没有报错，如果有大于一个报错的话，看第二个报错（原因一会儿说）<br> <img src="https://images2.imgbox.com/28/3d/Uv6dpfIF_o.png" alt="在这里插入图片描述"></li><li>第二步：看是前端的问题还是后端的问题<br> 如果你点了蓝色的字，会自动帮你定位错误的位置，很实用的小技巧<br> 之后我就看到了他给我的一个逗号标上了错误，但他也不是中文符号啊，为啥报错呢？于是我重新写了一个英文逗号，然后再在前端强刷了一下，就好了，估计是idea识别的问题吧。</li><li>上面我们说到了要看第二个报错，这是因为即使程序成功运行了，也会有一个错误，所以：“ 没有报错 ” == “ 有一个默认错误 ”，如下：（所以我们通常看第二个错误）<br> <img src="https://images2.imgbox.com/05/ca/T7YgMtnZ_o.png" alt="在这里插入图片描述"></li></ul> 
<h4><a id="bug_289"></a>遇到bug的处理歩奏</h4> 
<ul><li>1，按F12，看前端页面有没有报错，如果有大于一个报错的话，看第二个</li><li>2，如果前端有报错，直接处理前端代码</li><li>3，如果前端没有报错，那就在接受参数的函数第一行，加入执行的日志，看看参数传递到底有没有问题<br> <img src="https://images2.imgbox.com/d9/67/Lvw14iJu_o.png" alt="在这里插入图片描述"></li><li>4，如果传参没有问题，那就是后端的问题，通过调试等方法找问题</li><li>5，如果传参有问题，那就是前端的参数没有传递到后端，到前端检查问题</li><li>6，另外还有一个隐藏的问题就是缓存，如果实在检查不出来问题了，那就请一下缓存试试，看是否是代码是不是没有更新，双击clean就是清理缓存。还有就是前端的强刷，也很常用，搞不出来就试试。<br> <img src="https://images2.imgbox.com/46/17/lAljZLDG_o.png" alt=""></li></ul> 
<h4><a id="bug_300"></a>修复bug成功：</h4> 
<p>此时我们提交一个留言就会显示一个留言，这样就成功了，此时无论我们怎么刷新数据都不会掉了，因为此时的数据是保存在内存中的，是由后端来做的，而不是由前端直接管理，这也能作为评判我们是用后端代码实现的还是用前端代码实现的。<br> 说到这里我们会发现，如果这样搞，那我们每次重启后端代码之后，我们以前存储的数据就会丢失，这是因为，我们将数据都储存在内存中了，那么有没有一种方式能够长久的保存我的数据呢？这样我每次启动后端的时候数据就不会丢失了。这样的方式当然是有的：那就使用数据库来存储那些信息，由于以往的单纯的sql传递十分繁琐，所以我们会使用Mybatis来操作数据库，这种方式更加方便，这也是我们的表白墙进阶要使用的方式。</p> 
<p><img src="https://images2.imgbox.com/c9/93/P9rygS6E_o.png" alt="在这里插入图片描述"></p> 
<p>如果在此过程中，遇到什么报错了，欢迎评论留言，我们一起解决。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/5d151927e4460bb1e529be77d67554a1/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【C&#43;&#43;】如何巧妙运用C&#43;&#43;命名空间：初学者必备指南</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/ba45cd8e47ca67a6c480263fb1a4c1d5/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">02 Go语言开发REST API接口_20240728 课程笔记</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>