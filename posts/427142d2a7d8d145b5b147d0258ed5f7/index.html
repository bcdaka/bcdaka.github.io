<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Java - @JSONField和@JsonProperty注解 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/427142d2a7d8d145b5b147d0258ed5f7/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="Java - @JSONField和@JsonProperty注解">
  <meta property="og:description" content="@JSONField注解是阿里巴巴的fastjson框架中的注解，用于指定JSON字符串中的属性名和Java对象中的属性名之间的映射关系
@JsonProperty注解是Jackson框架中的注解，用法类似于@JSONField，也是指定JSON字符串中的属性名和Java对象中的属性名之间的映射关系
一、@JSONField @JSONField注解是阿里巴巴的fastjson框架中的注解，用于指定JSON字符串中的属性名和Java对象中的属性名之间的映射关系
1、name属性 通过name属性可以指定将Java对象中的属性名映射为JSON对象中的属性名。默认情况下，JSON对象中的属性名与Java对象中的属性名相同
import com.alibaba.fastjson.JSON; import com.alibaba.fastjson.annotation.JSONField; import lombok.Data; public class Test1Controller { public static void main(String[] args) { String str = &#34;{\&#34;ID\&#34;:11,\&#34;Name\&#34;:\&#34;张三\&#34;}&#34;; User user = JSON.parseObject(str, User.class); System.out.println(&#34;User对象：&#34; &#43; user.toString()); } } @Data class User { @JSONField(name = &#34;ID&#34;) private Integer userId; @JSONField(name = &#34;Name&#34;) private String userName; @Override public String toString() { return &#34;User{&#34; &#43; &#34;userId=&#34; &#43; userId &#43; &#34;, userName=&#39;&#34; &#43; userName &#43; &#39;\&#39;&#39; &#43; &#39;}&#39;; } } 2、format属性 通过format属性可以指定日期类型属性的格式，以及将数字类型转为字符串类型的格式">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-02-20T21:02:20+08:00">
    <meta property="article:modified_time" content="2024-02-20T21:02:20+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Java - @JSONField和@JsonProperty注解</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><strong>@JSONField</strong>注解是阿里巴巴的<a href="https://so.csdn.net/so/search?q=fastjson&amp;spm=1001.2101.3001.7020" title="fastjson">fastjson</a>框架中的注解，用于指定JSON字符串中的属性名和Java对象中的属性名之间的映射关系</p> 
<p><strong>@JsonProperty</strong>注解是Jackson框架中的注解，用法类似于@JSONField，也是指定JSON字符串中的属性名和Java对象中的属性名之间的映射关系</p> 
<h2>一、@JSONField</h2> 
<p><strong>@JSONField</strong>注解是阿里巴巴的<a href="https://so.csdn.net/so/search?q=fastjson&amp;spm=1001.2101.3001.7020" title="fastjson">fastjson</a>框架中的注解，用于指定JSON字符串中的属性名和Java对象中的属性名之间的映射关系</p> 
<h6>1、name属性</h6> 
<p>通过name属性可以指定将Java对象中的属性名映射为JSON对象中的属性名。默认情况下，JSON对象中的属性名与Java对象中的属性名相同</p> 
<pre><code class="language-java">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.annotation.JSONField;
import lombok.Data;

public class Test1Controller {
    public static void main(String[] args) {
        String str = "{\"ID\":11,\"Name\":\"张三\"}";

        User user = JSON.parseObject(str, User.class);
        System.out.println("User对象：" + user.toString());
    }
}

@Data
class User {
    @JSONField(name = "ID")
    private Integer userId;
    @JSONField(name = "Name")
    private String userName;

    @Override
    public String toString() {
        return "User{" +
                "userId=" + userId +
                ", userName='" + userName + '\'' +
                '}';
    }
}
</code></pre> 
<p><img alt="" height="722" src="https://images2.imgbox.com/ac/31/y3q9Btnv_o.png" width="784"></p> 
<h6>2、format属性</h6> 
<p>通过format属性可以指定日期类型属性的格式，以及将数字类型转为字符串类型的格式</p> 
<pre><code class="language-java">public class User {
    @JSONField(format = "yyyy-MM-dd")
    private Date birthday;
    @JSONField(format = "#,###.00")
    private double salary;
}</code></pre> 
<h6>3、serialize属性</h6> 
<p>通过serialize属性可以控制属性是否序列化到JSON对象中</p> 
<p>当serialize属性为false时，属性将不会序列化到JSON对象中，默认为true</p> 
<pre><code class="language-java">public class User {
    @JSONField(serialize = false)
    private int userId;
    private String name;
    private int age;
}</code></pre> 
<p>使用@JSONField注解将userId属性从序列化中排除</p> 
<h6>4、deserialize属性</h6> 
<p>通过deserialize属性可以控制是否将JSON对象中的属性反序列化到Java对象中</p> 
<p>当deserialize属性为false时，该属性将不会从JSON对象中反序列化到Java对象中，默认为true</p> 
<pre><code class="language-java">public class User {
    private int userId;
    private String name;
    @JSONField(deserialize = false)
    private int age;
}</code></pre> 
<p>使用@JSONField注解将age属性从反序列化中排除</p> 
<h6>5、ordinal属性</h6> 
<p>通过ordinal属性可以指定属性的顺序</p> 
<p>默认情况下，属性的顺序是按照属性在Java对象中的顺序排列的</p> 
<pre><code class="language-java">public class User {
    @JSONField(ordinal = 2)
    private String name;
    @JSONField(ordinal = 1)
    private int age;
}</code></pre> 
<p>使用@JSONField注解指定了age属性的顺序为1，name属性的顺序为2</p> 
<h6>6、defaultValue属性</h6> 
<p>通过defaultValue属性可以指定属性在Java对象中的默认值</p> 
<pre><code class="language-java">public class User {
    @JSONField(defaultValue = "0")
    private int userId;
    @JSONField(defaultValue = "N/A")
    private String name;
    private int age;
}</code></pre> 
<p>使用@JSONField注解指定了userId属性的默认值为0，name属性的默认值为“N/A”</p> 
<h6>7、type属性</h6> 
<p>通过type属性可以指定属性的类型</p> 
<pre><code class="language-java">public class User {
    private int userId;
    @JSONField(type = FieldType.STRING)
    private int age;
}</code></pre> 
<p>使用@JSONField注解指定了age属性的类型为字符串类型</p> 
<h6>8、jsonDirect属性</h6> 
<p>通过jsonDirect属性可以指定属性是否应该直接输出为JSON字符串</p> 
<p>默认情况下，属性将被转化为字符串并以引号标记输出</p> 
<pre><code class="language-java">public class User {
    private String name;
    @JSONField(jsonDirect = true)
    private String jsonMessage;
}</code></pre> 
<p>使用@JSONField注解指定了jsonMessage属性应该直接输出为JSON字符串</p> 
<h6>9、parseFeatures属性和serializeFeatures属性</h6> 
<p>通过parseFeatures属性和serializeFeatures属性可以配置解析和序列化时的特性</p> 
<p>具体可参考阿里巴巴fastjson的文档</p> 
<pre><code class="language-java">public class User {
    private String name;
    private int age;
    @JSONField(parseFeatures = Feature.AllowSingleQuotes)
    private String message;
}</code></pre> 
<p></p> 
<h2>二、@JsonProperty</h2> 
<p><strong>@JsonProperty</strong>注解是Jackson框架中的注解，用法类似于@JSONField，也是指定JSON字符串中的属性名和Java对象中的属性名之间的映射关系</p> 
<h6>1、value</h6> 
<p>value属性用于指定序列化后的属性名称</p> 
<p>如果未提供value属性，则属性名称默认与Java属性名称相同</p> 
<pre><code class="language-java">public class Person {
    @JsonProperty("name")
    private String fullName;
}</code></pre> 
<p>将Java对象中fullName属性序列化为JSON对象中的"name"属性</p> 
<h6>2、defaultValue</h6> 
<p>defaultValue属性用于指定当Java对象属性值为null时，序列化为JSON时使用的默认值</p> 
<p>该属性仅适用于对象属性而不适用于基本类型属性</p> 
<pre><code class="language-java">public class Person {
    
    @JsonProperty(defaultValue = "John")
    private String firstName;
}</code></pre> 
<p>将未设置firstName的Person对象序列化为含有默认值"John"的JSON属性</p> 
<h6>3、access</h6> 
<p>access属性用于指定Java属性的访问级别</p> 
<p>默认访问级别为PUBLIC，也可以设为READ_ONLY或WRITE_ONLY</p> 
<pre><code class="language-java">public class Person {
    
    @JsonProperty(access = JsonProperty.Access.WRITE_ONLY)
    private String password;
}</code></pre> 
<p>将Java对象中的password属性序列化为JSON时忽略掉</p> 
<h6>4、required</h6> 
<p>required属性指定此属性是否为必须字段</p> 
<p>如果为true，则当将JSON转换回Java对象时，如果该属性不存在，则将引发异常</p> 
<pre><code class="language-java">public class Person {
    
    @JsonProperty(required = true)
    private String name;
}</code></pre> 
<p>将Java对象中的name属性序列化为确保其在JSON对象中存在</p> 
<h6>5、defaultValue</h6> 
<p>defaultValue属性用于指定Java属性的默认值</p> 
<p>在将JSON转换回Java对象时如果该属性不存在或为null，则使用默认值</p> 
<pre><code class="language-java">public class Person {
    
    @JsonProperty(defaultValue = "30")
    private int age;
}</code></pre> 
<p>将Java对象中的age属性序列化为JSON时，如果该属性不存在，则使用默认值30</p> 
<h6>6、index</h6> 
<p>index属性用于指定序列化的属性在JSON对象中的位置，数值越小，位置越靠前</p> 
<pre><code class="language-java">public class Person {
    @JsonProperty(index = 1)
    private String firstName;
    
    @JsonProperty(index = 0)
    private String lastName;
}</code></pre> 
<p>将Java对象中的lastName属性序列化为JSON对象中的第一个属性，firstName属性序列化为JSON对象中的第二个属性</p> 
<h6>7、accessMode</h6> 
<p>accessMode属性用于指定序列化时使用的访问模式</p> 
<p>如果未指定，则默认为PROPETY模式，即访问getter方法获取属性值。另一个可用的模式是FIELD，即直接访问Java属性</p> 
<pre><code class="language-java">public class User {
    private String firstName;
 
    @JsonProperty(access = JsonProperty.Access.READ_ONLY, accessMode = JsonProperty.AccessMode.FIELD)
    private String lastName;
}</code></pre> 
<p>将Java对象中lastName属性序列化为JSON属性，直接访问Java属性值。</p> 
<h6>8、ignore</h6> 
<p>ignore属性用于指定是否忽略该属性</p> 
<p>如果为true，则在序列化和反序列化时忽略该属性</p> 
<pre><code class="language-java">public class User{
    private String firstName;
 
    @JsonProperty(ignore = true)
    private String lastName;
}</code></pre> 
<p>将Java对象中的lastName属性忽略掉，不进行序列化和反序列化</p> 
<p></p> 
<h2>三、@JSONField和@JsonProperty区别</h2> 
<p>1、@JSONField注解的使用方式更加简单，注解默认的值与属性名相同，而@JsonProperty需要手动指定属性名</p> 
<p>2、@JSONField注解支持更多的属性映射选项，例如序列化时的日期格式，空值的处理方式等</p> 
<p>3、@JSONField注解的性能较快，因为fastjson本身就是一款高性能的JSON处理库</p> 
<p>4、在使用Jackson框架时，只能使用@JsonProperty注解，无法使用@JSONField注解！！！不然会导致解析失败，无法取到值，如下</p> 
<pre><code class="language-java">import com.alibaba.fastjson.JSON;
import com.fasterxml.jackson.annotation.JsonProperty;
import lombok.Data;

public class Test1Controller {
    public static void main(String[] args) {
        String str = "{\"ID\":11,\"Name\":\"张三\"}";

        User user = JSON.parseObject(str, User.class);
        System.out.println("User对象：" + user.toString());
    }
}

@Data
class User {
    @JsonProperty("ID")
    private Integer userId;
    @JsonProperty("Name")
    private String userName;

    @Override
    public String toString() {
        return "User{" +
                "userId=" + userId +
                ", userName='" + userName + '\'' +
                '}';
    }
}</code></pre> 
<p><img alt="" height="674" src="https://images2.imgbox.com/8c/f9/n3m9gvbK_o.png" width="802"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f3e40dad71090e09f57da60c3b44ef29/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">grid网格布局</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/184fd25d174b0def167c5c4ddf90eed6/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">FlinkCDC详解</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>