<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【C&#43;&#43;】初识C&#43;&#43; - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/99d268d16f24c44986b27331d5dec4b8/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="【C&#43;&#43;】初识C&#43;&#43;">
  <meta property="og:description" content="【C&#43;&#43;】初识C&#43;&#43; 文章概括关键字（C&#43;&#43;98）命名空间命名空间的定义命名空间的特性 输入与输出C&#43;&#43;中的输入输出输入输出的命名空间 缺省参数函数重载引用引用的概念引用的特性引用地使用场景引用做参数引用做返回值 常引用常引用的俩个例子 引用与指针的区别 内联函数 文章概括 谈谈C&#43;&#43;在学习前的认知，C&#43;&#43;是在C的基础上，容纳进去了面向对象的编程思想，并增加了许多有用的库，以及编程范式等等。所以学习C&#43;&#43;之前一定对C有一定的认知，一个好的C&#43;&#43;程序员一定会是一个优秀的C语言程序员。
本章主要介绍：补充C语言语法的不足，以及C&#43;&#43;是如何对C语言程序设计不合理地方进行优化的，比如：作用域方面、IO方面、函数方面、指针方面、宏方面等等；同时也为后续学习类和对象做了铺垫。
关键字（C&#43;&#43;98） C&#43;&#43;有63个关键字，C语言有32个关键字。
关键字关键字关键字关键字关键字asmautoboolbreakcasecatchcharclassconstconst_castdeletedodoubledynamic_castelseenumexplicitexportexternfalsefloatgotoifinlineintlongmutablenamespacenewoperatorprivateprotectedreinterpret_castreturnshortsignedsizeofstaticstatic_casestructswitchtemplatethistrytypedeftypeidtypenameunionunsignedusingvirtualvoidvolatilecontinueforpublicthrowwchar_tdefaultfriendregistertruewhile 后续逐渐了解
命名空间 命名空间的定义 先以C语言举例：
假设需要定义一个全局变量随机数random为10
#include&lt;stdio.h&gt; int rand = 10; int main(void) { printf(&#34;%d\n&#34;, rand); return 0; } 这是可以编译成功的，但是我们之前有了解过rand是一个头文件stdlib.h的一个库函数，如果我们包含stdlib.h这个头文件会发生什么？
#include&lt;stdio.h&gt; #include&lt;stdlib.h&gt; int rand = 10; int main(void) { printf(&#34;%d\n&#34;, rand); return 0; } 发生报错，这里可以明显突出一个C语言的库命名冲突问题。
有时在一个大的工程中有多个项目，每个项目会由不同的人负责，这时也会难免遇到项目之间的命名问题。
总之，C语言命名冲突的问题有：
1.库命名冲突问题
2.项目相互之间命名的冲突
在C&#43;&#43;中，存在命名空间namespace可以解决这类型的问题。
在讲解命名空间前，需要先了解域的概念：域可以看作是一个作用区域，域包含类域、命名空间域、局部域、全局域等等
在一般情况下访问时，会先访问局部域，在局部域中未发现变量，会进而访问全局域。
假设在全局域中存在全局变量，同时在局部域中也存在一个局部变量，但是想要跳过局部域直接访问全局域，应该如何操作？
int a = 1; int main(void) { int a = 0; printf(&#34;%d\n&#34;, ::a); return 0; } 这里需要介绍一个操作符&#34;">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-06-07T10:35:00+08:00">
    <meta property="article:modified_time" content="2024-06-07T10:35:00+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【C&#43;&#43;】初识C&#43;&#43;</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>【C++】初识C++</h4> 
 <ul><li><a href="#_3" rel="nofollow">文章概括</a></li><li><a href="#C98_8" rel="nofollow">关键字（C++98）</a></li><li><a href="#_27" rel="nofollow">命名空间</a></li><li><ul><li><a href="#_28" rel="nofollow">命名空间的定义</a></li><li><a href="#_168" rel="nofollow">命名空间的特性</a></li></ul> 
  </li><li><a href="#_245" rel="nofollow">输入与输出</a></li><li><ul><li><a href="#C_247" rel="nofollow">C++中的输入输出</a></li><li><a href="#_284" rel="nofollow">输入输出的命名空间</a></li></ul> 
  </li><li><a href="#_327" rel="nofollow">缺省参数</a></li><li><a href="#_400" rel="nofollow">函数重载</a></li><li><a href="#_491" rel="nofollow">引用</a></li><li><ul><li><a href="#_493" rel="nofollow">引用的概念</a></li><li><a href="#_539" rel="nofollow">引用的特性</a></li><li><a href="#_579" rel="nofollow">引用地使用场景</a></li><li><ul><li><a href="#_580" rel="nofollow">引用做参数</a></li><li><a href="#_648" rel="nofollow">引用做返回值</a></li></ul> 
   </li><li><a href="#_819" rel="nofollow">常引用</a></li><li><ul><li><a href="#_855" rel="nofollow">常引用的俩个例子</a></li></ul> 
   </li><li><a href="#_891" rel="nofollow">引用与指针的区别</a></li></ul> 
  </li><li><a href="#_917" rel="nofollow">内联函数</a></li></ul> 
</div> 
<p></p> 
<h2><a id="_3"></a>文章概括</h2> 
<p>谈谈C++在学习前的认知，C++是在C的基础上，容纳进去了面向对象的编程思想，并增加了许多有用的库，以及编程范式等等。所以学习C++之前一定对C有一定的认知，一个好的C++程序员一定会是一个优秀的C语言程序员。</p> 
<p>本章主要介绍：补充C语言语法的不足，以及C++是如何对C语言程序设计不合理地方进行优化的，比如：作用域方面、IO方面、函数方面、指针方面、宏方面等等；同时也为后续学习类和对象做了铺垫。</p> 
<h2><a id="C98_8"></a>关键字（C++98）</h2> 
<p>C++有63个关键字，C语言有32个关键字。</p> 
<table><thead><tr><th>关键字</th><th>关键字</th><th>关键字</th><th>关键字</th><th>关键字</th></tr></thead><tbody><tr><td>asm</td><td>auto</td><td>bool</td><td>break</td><td>case</td></tr><tr><td>catch</td><td>char</td><td>class</td><td>const</td><td>const_cast</td></tr><tr><td>delete</td><td>do</td><td>double</td><td>dynamic_cast</td><td>else</td></tr><tr><td>enum</td><td>explicit</td><td>export</td><td>extern</td><td>false</td></tr><tr><td>float</td><td>goto</td><td>if</td><td>inline</td><td>int</td></tr><tr><td>long</td><td>mutable</td><td>namespace</td><td>new</td><td>operator</td></tr><tr><td>private</td><td>protected</td><td>reinterpret_cast</td><td>return</td><td>short</td></tr><tr><td>signed</td><td>sizeof</td><td>static</td><td>static_case</td><td>struct</td></tr><tr><td>switch</td><td>template</td><td>this</td><td>try</td><td>typedef</td></tr><tr><td>typeid</td><td>typename</td><td>union</td><td>unsigned</td><td>using</td></tr><tr><td>virtual</td><td>void</td><td>volatile</td><td>continue</td><td>for</td></tr><tr><td>public</td><td>throw</td><td>wchar_t</td><td>default</td><td>friend</td></tr><tr><td>register</td><td>true</td><td>while</td><td></td><td></td></tr></tbody></table> 
<p>后续逐渐了解</p> 
<h2><a id="_27"></a>命名空间</h2> 
<h3><a id="_28"></a>命名空间的定义</h3> 
<p>先以C语言举例：<br> 假设需要定义一个全局变量随机数random为10</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>

<span class="token keyword">int</span> rand <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> rand<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/ce/c3/0bTi9wFF_o.png" alt="在这里插入图片描述"><br> 这是可以编译成功的，但是我们之前有了解过rand是一个头文件stdlib.h的一个库函数，如果我们包含stdlib.h这个头文件会发生什么？</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdlib.h&gt;</span></span>
<span class="token keyword">int</span> rand <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> rand<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/6c/55/VWX2S2rr_o.png" alt="在这里插入图片描述"><br> 发生报错，这里可以明显突出一个C语言的库命名冲突问题。</p> 
<p>有时在一个大的工程中有多个项目，每个项目会由不同的人负责，这时也会难免遇到项目之间的命名问题。</p> 
<p>总之，C语言命名冲突的问题有：<br> 1.库命名冲突问题<br> 2.项目相互之间命名的冲突</p> 
<p>在C++中，存在<strong>命名空间namespace</strong>可以解决这类型的问题。</p> 
<p>在讲解命名空间前，需要先了解<strong>域</strong>的概念：域可以看作是一个作用区域，域包含类域、命名空间域、局部域、全局域等等</p> 
<p>在一般情况下访问时，会先访问局部域，在局部域中未发现变量，会进而访问全局域。<br> <img src="https://images2.imgbox.com/13/93/cApYCrjU_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/9e/02/98AFUg42_o.png" alt="在这里插入图片描述"><br> 假设在全局域中存在全局变量，同时在局部域中也存在一个局部变量，但是想要跳过局部域直接访问全局域，应该如何操作？</p> 
<pre><code class="prism language-cpp"><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> <span class="token double-colon punctuation">::</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/17/37/aDSLNmhu_o.png" alt="在这里插入图片描述"><br> 这里需要介绍一个操作符"::"，域操作限定符，::a默认会跳过局部域，访问全局域。</p> 
<p>那如果存在命名空间域namespace，其优先级是如何？</p> 
<pre><code class="prism language-cpp"><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

<span class="token keyword">namespace</span> project
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> <span class="token double-colon punctuation">::</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/48/3f/Kv86tUHo_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/a5/8e/xqivW3du_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/6b/2f/N0zwGOqN_o.png" alt="在这里插入图片描述"></p> 
<p>由此可见，访问变量a，会先访问局部域——&gt;然后访问全局域——&gt;最后在默认情况下，编译器并不会主动去命名空间域搜索。</p> 
<p>想要搜索命名空间域，有俩种方式：<br> 1.展开命名空间域</p> 
<pre><code class="prism language-cpp"><span class="token keyword">namespace</span> project
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">using</span> <span class="token keyword">namespace</span> project<span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/3c/3c/7djiH0ev_o.png" alt="在这里插入图片描述"></p> 
<p>2.指定访问命名空间域</p> 
<pre><code class="prism language-cpp"><span class="token keyword">namespace</span> project
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> project<span class="token double-colon punctuation">::</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/0c/2a/MMFjZdAw_o.png" alt="在这里插入图片描述"></p> 
<p>如果在局部域，全局域，命名空间域（展开命名空间域）中都存在变量a，会如何访问？<br> <img src="https://images2.imgbox.com/35/0b/F2XkBVWT_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/c4/fc/GB2QJbUm_o.png" alt="在这里插入图片描述"><br> 这里可以发现局部域的优先级最高，但如果只存在全局域与展开后命名空间域时，会发生报错，原因在于：展开的命名空间域相当于暴露在全局域。</p> 
<p>所以不要轻易使用using namespace + 名，即不要请轻易展开命名空间域。</p> 
<p>总结：在C/C++中，变量、函数和后面要学到的类都是大量存在的，这些变量、函数和类的名称将都存在于全局作用域中，可能会导致很多冲突。使用命名空间的目的是对标识符的名称进行本地化，以避免命名冲突或名字污染，namespace关键字的出现就是针对这种问题的。</p> 
<h3><a id="_168"></a>命名空间的特性</h3> 
<ul><li>定义命名空间，需要使用到namespace关键字，后面跟命名空间的名字，然后接一对{}即可，{}中即为命名空间的成员。</li></ul> 
<pre><code class="prism language-cpp"><span class="token keyword">namespace</span> project
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>1.命名空间域中可以定义变量、函数、类型</p> 
<pre><code class="prism language-c">namespace project
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">//定义变量</span>
	<span class="token keyword">int</span> num <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
	<span class="token comment">//定义函数</span>
	<span class="token keyword">int</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//定义结构体</span>
	<span class="token keyword">struct</span> <span class="token class-name">Node</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">struct</span> <span class="token class-name">Node</span><span class="token operator">*</span> next<span class="token punctuation">;</span>
		<span class="token keyword">int</span> data<span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>2.命名空间可以嵌套</p> 
<pre><code class="prism language-cpp"><span class="token keyword">namespace</span> project
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">namespace</span> N1
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">namespace</span> N2
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
	<span class="token comment">//定义函数</span>
	<span class="token keyword">int</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> project<span class="token double-colon punctuation">::</span>N1<span class="token double-colon punctuation">::</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> project<span class="token double-colon punctuation">::</span>N2<span class="token double-colon punctuation">::</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> project<span class="token double-colon punctuation">::</span><span class="token class-name">N2</span><span class="token double-colon punctuation">::</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/e5/53/Ol91l3mS_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/1f/22/S1kusNaW_o.png" alt="在这里插入图片描述"></p> 
<ul><li>std是C++标准库的命名空间名，C++将标准库的定义实现都放在这个命名空间里。</li></ul> 
<p><img src="https://images2.imgbox.com/e2/31/eekHgasW_o.png" alt="在这里插入图片描述"></p> 
<p>【注意】：一个命名空间就定义了一个新的作用域，命名空间中的所有内容都局限于该命名空间中</p> 
<p>3.同一个工程中允许存在多个相同的命名空间，编译器最后会合成同一个命名空间，即可以在多个文件中定义相同名字的命名空间<br> <img src="https://images2.imgbox.com/cf/e3/fvxqfcnE_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/8f/98/ioS8ZW6B_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/c3/27/EArUMeRN_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/64/17/2FmUBZR7_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_245"></a>输入与输出</h2> 
<h3><a id="C_247"></a>C++中的输入输出</h3> 
<p>早年在VC6.0时没有命名空间，头文件C++中的头文件</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream.h&gt;</span></span>
</code></pre> 
<p>后面改为了</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;vector&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;list&gt;</span></span>
</code></pre> 
<p>使用iostream这个头文件时，需要先学习C++的输入输出.<br> c语言中使用printf与scanf来将数据输出与输入，而在C++中使用cout与cin实现输入输出。</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> a<span class="token punctuation">;</span>
	cin <span class="token operator">&gt;&gt;</span> a<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> a <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/dd/25/l84aA9oN_o.png" alt="在这里插入图片描述"><br> 说明：<br> 1.使用cout标准输出对象（控制台）和cin标准输入对象（键盘）时，必须包含头文件iostream，以及按照命名空间使用方法使用std。<br> 2.cout和cin是全局的流对象，endl是特殊的C++符号，表示换行输出，它们都包含在iostream头文件中<br> 3.&lt;&lt;是流插入运算符，&gt;&gt;是流提取运算符<br> 4.cout和cin的使用比较方便，不需要同printf与scanf一样手动控制格式，C++的输入输出可以手动控制变量类型</p> 
<h3><a id="_284"></a>输入输出的命名空间</h3> 
<p>使用输入输出有3种情况：<br> 1.指定访问命名空间域</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Hello World！"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/40/43/sv18aDhB_o.png" alt="在这里插入图片描述"><br> 2.使用展开命名空间域</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Hello World!"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/84/46/lwVBAA49_o.png" alt="在这里插入图片描述"><br> 编译器会去std这个命名空间搜索（std这个命名空间域中封有iostream）<br> 【注意】直接展开std会有很大的风险，当存在自己定义的名字与库中名字重合会报错，建议项目中不要展开，日常使用可以进行展开，项目中建议指定访问，不要轻易展开命名空间。</p> 
<p>3.展开部分命名</p> 
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
using std<span class="token operator">::</span>cout<span class="token punctuation">;</span>
using std<span class="token operator">::</span>endl<span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Hello World!"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/0d/d8/20WHPU3a_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_327"></a>缺省参数</h2> 
<p>缺省参数也称默认参数，即函数在传参的时候可以存在缺省参数（默认参数）。</p> 
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">Init</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> node<span class="token punctuation">,</span> <span class="token keyword">int</span> sz <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span><span class="token operator">*</span> newnode <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">*</span> sz<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>newnode <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"malloc fail"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	node <span class="token operator">=</span> newnode<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span><span class="token operator">*</span> node<span class="token punctuation">;</span>
	<span class="token comment">//默认情况下，初始化4个字节</span>
	<span class="token function">Init</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//可以指定实参，初始化100个字节</span>
	<span class="token function">Init</span><span class="token punctuation">(</span>node<span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>观察代码，在C++中传参存在俩种情况：<br> 1.没有参数时，使用参数的默认值<br> 2.有任何参数时，使用指定的实参<br> 即实参的优先级最大，当不存在实参时，使用默认参数<br> 【注意】当存在多个缺省参数时，不允许跳着传参，只能从左到右顺序传参</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token comment">//全缺省</span>
<span class="token keyword">int</span> <span class="token function">RetAdd</span><span class="token punctuation">(</span><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token keyword">int</span> c <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> a <span class="token operator">+</span> b <span class="token operator">+</span> c<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> sum <span class="token operator">=</span> <span class="token function">RetAdd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> sum <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token comment">//半缺省</span>
<span class="token keyword">int</span> <span class="token function">RetAdd</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">,</span> <span class="token keyword">int</span> c <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> a <span class="token operator">+</span> b <span class="token operator">+</span> c<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> sum <span class="token operator">=</span> <span class="token function">RetAdd</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> sum <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>C++中全缺省与半缺省的概念<br> 全缺省：所有的参数都给了缺省值<br> 半缺省：缺省部分参数<br> 【注意】半缺省参数必须从右至左依次缺省，切勿间隔缺省</p> 
<p><img src="https://images2.imgbox.com/fa/d3/AAt6BS9B_o.png" alt="在这里插入图片描述"><br> 【注意】在使用缺省参数使用需要注意，声明与定义不能同时给缺省值，一般在声明时存在缺省值，定义时不存在缺省值。<br> 如果了解文件的编译与链接可以知道，编译期间只能看到声明，链接期间可以看到定义</p> 
<h2><a id="_400"></a>函数重载</h2> 
<p>重载的意思是：一词多义<br> 那么函数重载：是函数的一种特殊情况，C++允许在同以作用域中声明几个功能类似的同名函数，这些函数的形参列表（参数个数、参数类型、类型顺序）不同，常用来处理实现功能类似数据类型不同的问题。</p> 
<ul><li>参数类型不同</li></ul> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token comment">//参数类型不同</span>
<span class="token keyword">int</span> <span class="token function">RetAdd</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">double</span> <span class="token function">RetAdd</span><span class="token punctuation">(</span><span class="token keyword">double</span> a<span class="token punctuation">,</span> <span class="token keyword">double</span> b<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token function">RetAdd</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token function">RetAdd</span><span class="token punctuation">(</span><span class="token number">1.5</span><span class="token punctuation">,</span> <span class="token number">2.2</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/f7/8d/fGD3cmdX_o.png" alt="在这里插入图片描述"></p> 
<ul><li>参数个数不同</li></ul> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token comment">//参数个数不同</span>
<span class="token keyword">void</span> <span class="token function">Fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"无参数"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">Fun</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"有参数"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">Fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">Fun</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/f9/ca/8i33HpwL_o.png" alt="在这里插入图片描述"></p> 
<ul><li>类型顺序不同</li></ul> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token comment">//类型顺序不同</span>
<span class="token keyword">double</span> <span class="token function">RetAdd</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">double</span> b<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">double</span> <span class="token function">RetAdd</span><span class="token punctuation">(</span><span class="token keyword">double</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token function">RetAdd</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2.3</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token function">RetAdd</span><span class="token punctuation">(</span><span class="token number">1.9</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/7a/09/9GhltEA5_o.png" alt="在这里插入图片描述"><br> 【注意】有三个不构成函数重载的例子<br> 1.仅返回值不同</p> 
<p><img src="https://images2.imgbox.com/8e/ef/ZfeS61f8_o.png" alt="在这里插入图片描述"></p> 
<p>2.仅变量名不同</p> 
<p><img src="https://images2.imgbox.com/6f/f4/ytQ5vJf6_o.png" alt="在这里插入图片描述"></p> 
<p>3.不明确的函数调用</p> 
<p><img src="https://images2.imgbox.com/03/27/sZxVbOQN_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_491"></a>引用</h2> 
<h3><a id="_493"></a>引用的概念</h3> 
<p>引用不是新定义一个变量，而是给已存在变量取一个别名，编译器不会为引起变量开辟内存空间，它和它的变量共用同一块内存空间。</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span><span class="token operator">&amp;</span> b <span class="token operator">=</span> a<span class="token punctuation">;</span>
	<span class="token keyword">int</span><span class="token operator">&amp;</span> c <span class="token operator">=</span> b<span class="token punctuation">;</span>
	<span class="token keyword">int</span><span class="token operator">&amp;</span> d <span class="token operator">=</span> a<span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/97/ec/naQfaozV_o.png" alt="在这里插入图片描述"></p> 
<p>类型&amp; ： 引用变量名（对象名） = 引用实体</p> 
<p>在学习C语言阶段，想要找到一个变量，可以使用指针，而在C++中引入了引用的概念，可以大幅度代替指针的作用。</p> 
<pre><code class="prism language-cpp"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span><span class="token operator">*</span> pa <span class="token operator">=</span> <span class="token operator">&amp;</span>a<span class="token punctuation">;</span>
	<span class="token keyword">int</span><span class="token operator">*</span><span class="token operator">*</span> ppa <span class="token operator">=</span> <span class="token operator">&amp;</span>pa<span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> pa<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span>ppa<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/3f/f1/1A90J3xX_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/33/6f/LhlyWDfq_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/e4/87/QmNZsJJ5_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_539"></a>引用的特性</h3> 
<p>1.引用在定义时必须需要初识化在这里插入图片描述<br> <img src="https://images2.imgbox.com/63/95/4AGV4ifK_o.png" alt="在这里插入图片描述"><br> 2.一个变量可以有多个引体</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span><span class="token operator">&amp;</span> b <span class="token operator">=</span> a<span class="token punctuation">;</span>
	<span class="token keyword">int</span><span class="token operator">&amp;</span> c <span class="token operator">=</span> a<span class="token punctuation">;</span>
	<span class="token keyword">int</span><span class="token operator">&amp;</span> d <span class="token operator">=</span> a<span class="token punctuation">;</span>

	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>3.引用一旦引用一个实体，便不可再引用其他引体</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span><span class="token operator">&amp;</span> b <span class="token operator">=</span> a<span class="token punctuation">;</span>
	b <span class="token operator">=</span> x<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> b <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/a8/03/wxENnmdk_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_579"></a>引用地使用场景</h3> 
<h4><a id="_580"></a>引用做参数</h4> 
<p>引用做参数时，可以作为输出型参数使用，何为输出型参数？</p> 
<p>函数在传参地时候，会传输出型参数或者输入型参数，输入型参数的意思是形参的改变不可以改变实参，即形参是实参的一份临时拷贝；输出型参数的意思是形参的改变要改变实参。</p> 
<p>在C语言中一般使用指针来做输出型参数：</p> 
<pre><code class="prism language-c"><span class="token comment">//链表</span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">ListNode</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> data<span class="token punctuation">;</span>
	<span class="token keyword">struct</span> <span class="token class-name">ListNode</span><span class="token operator">*</span> next<span class="token punctuation">;</span>
<span class="token punctuation">}</span>PNode<span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">LTPushBack</span><span class="token punctuation">(</span>PNode<span class="token operator">*</span> p<span class="token punctuation">,</span> <span class="token keyword">int</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>而在C++中，可以使用引用来做输出型参数：</p> 
<pre><code class="prism language-cpp"><span class="token comment">//链表</span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">ListNode</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> data<span class="token punctuation">;</span>
	ListNode<span class="token operator">*</span> next<span class="token punctuation">;</span>
	<span class="token comment">//在C++中可以不写struct</span>
<span class="token punctuation">}</span><span class="token operator">*</span>PNode<span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">LTPushBack</span><span class="token punctuation">(</span>PNode<span class="token operator">&amp;</span> p<span class="token punctuation">,</span> <span class="token keyword">int</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>这段代码的意思是：定义一个结构体的指针，引用这个指针并使用phead作为别名。</p> 
<p>引用做参数，同时也可以提高效率，但是只存在于数量较大对象或者深拷贝类对象。</p> 
<p>下面这段代码可以比较传值与传引用的效率对比：</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;time.h&gt;</span></span>
<span class="token keyword">struct</span> <span class="token class-name">A</span> <span class="token punctuation">{<!-- --></span> <span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token number">100000</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">TestFunc1</span><span class="token punctuation">(</span>A a<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">TestFunc2</span><span class="token punctuation">(</span>A<span class="token operator">&amp;</span> a<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">TestRefAndValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	A a<span class="token punctuation">;</span>
	<span class="token comment">// 以值作为函数参数</span>
	size_t begin1 <span class="token operator">=</span> <span class="token function">clock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span>size_t i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10000</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
		<span class="token function">TestFunc1</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
	size_t end1 <span class="token operator">=</span> <span class="token function">clock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// 以引用作为函数参数</span>
	size_t begin2 <span class="token operator">=</span> <span class="token function">clock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span>size_t i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10000</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
		<span class="token function">TestFunc2</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
	size_t end2 <span class="token operator">=</span> <span class="token function">clock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// 分别计算两个函数运行结束后的时间</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"TestFunc1(A)-time:"</span> <span class="token operator">&lt;&lt;</span> end1 <span class="token operator">-</span> begin1 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"TestFunc2(A&amp;)-time:"</span> <span class="token operator">&lt;&lt;</span> end2 <span class="token operator">-</span> begin2 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/7d/ce/8hbmRxzf_o.png" alt="在这里插入图片描述"><br> 由于函数在传参期间，以值作为参数，函数不会之间传递实参或者将变量本身直接返回，而是传递实参的一份临时拷贝，因此以值作为参数时的效率是很低的，尤其是参数非常大时，效率会更低。</p> 
<p>对象越大，代价就会越大，提高的效率就越多</p> 
<p>【注意】引用相比较于指针没有质的区别，但是在C++中实际情况下引用的使用情况较多。</p> 
<h4><a id="_648"></a>引用做返回值</h4> 
<pre><code class="prism language-cpp"><span class="token keyword">int</span> <span class="token function">Count</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">static</span> <span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	n<span class="token operator">++</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> n<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> ret <span class="token operator">=</span> <span class="token function">Count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>观察这段代码，使用传值返回时，会生成临时变量，可能会存放在寄存器中（寄存器的大小为4/8个字节，如果寄存器内存不够，会向上申请），作为int ret = Count();这段代码的返回值。</p> 
<p>虽然n被static int修饰，成为静态变量，存放在静态区中，但是不管有没有static修饰或者存在全局变量，函数都会根据返回值int，创造出一个临时变量，这样会大大降低效率，那么使用引用做返回值可以解决这样的问题。</p> 
<p>下面就是引用做返回值的第一个作用：</p> 
<ul><li>减少拷贝，提高效率</li></ul> 
<pre><code class="prism language-cpp"><span class="token keyword">int</span><span class="token operator">&amp;</span> <span class="token function">Count</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">static</span> <span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	n<span class="token operator">++</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> n<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> ret <span class="token operator">=</span> <span class="token function">Count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>下面这段代码可以比较传值返回与传引用返回：</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;time.h&gt;</span></span>
<span class="token keyword">struct</span> <span class="token class-name">A</span><span class="token punctuation">{<!-- --></span> <span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token number">10000</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
A a<span class="token punctuation">;</span>
<span class="token comment">// 值返回</span>
A <span class="token function">TestFunc1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token keyword">return</span> a<span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token comment">// 引用返回</span>
A<span class="token operator">&amp;</span> <span class="token function">TestFunc2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span> <span class="token keyword">return</span> a<span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">TestReturnByRefOrValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
 <span class="token comment">// 以值作为函数的返回值类型</span>
 size_t begin1 <span class="token operator">=</span> <span class="token function">clock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token keyword">for</span> <span class="token punctuation">(</span>size_t i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">100000</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
 <span class="token function">TestFunc1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 size_t end1 <span class="token operator">=</span> <span class="token function">clock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// 以引用作为函数的返回值类型</span>
 size_t begin2 <span class="token operator">=</span> <span class="token function">clock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token keyword">for</span> <span class="token punctuation">(</span>size_t i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">100000</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
 <span class="token function">TestFunc2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 size_t end2 <span class="token operator">=</span> <span class="token function">clock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// 计算两个函数运算完成之后的时间</span>
 cout <span class="token operator">&lt;&lt;</span> <span class="token string">"TestFunc1 time:"</span> <span class="token operator">&lt;&lt;</span> end1 <span class="token operator">-</span> begin1 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
 cout <span class="token operator">&lt;&lt;</span> <span class="token string">"TestFunc2 time:"</span> <span class="token operator">&lt;&lt;</span> end2 <span class="token operator">-</span> begin2 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/1b/4a/bDBIqdgU_o.png" alt="在这里插入图片描述"></p> 
<p>由于函数在传值返回期间，以值作为返回值，函数不会之间传递实参或者将变量本身直接返回，而是返回变量的一份临时拷贝，因此以值作为返回值时的效率是很低的，尤其是参数非常大时，效率会更低。</p> 
<p>使用引用做返回值，还有另外一个作用：</p> 
<ul><li>修改返回值以及获取返回值</li></ul> 
<pre><code class="prism language-cpp"><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">SeqList</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> size<span class="token punctuation">;</span>
<span class="token punctuation">}</span>SL<span class="token punctuation">;</span>

<span class="token keyword">int</span><span class="token operator">&amp;</span> <span class="token function">SLPostion</span><span class="token punctuation">(</span>SL<span class="token operator">&amp;</span> s<span class="token punctuation">,</span> <span class="token keyword">int</span> pos<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>pos <span class="token operator">&lt;</span> <span class="token number">100</span> <span class="token operator">&amp;&amp;</span> pos <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">return</span> s<span class="token punctuation">.</span>arr<span class="token punctuation">[</span>pos<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	SL s<span class="token punctuation">;</span>
	<span class="token function">SLPostion</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

	<span class="token keyword">int</span> ret <span class="token operator">=</span> <span class="token function">SLPostion</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> ret <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token function">SLPostion</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/57/05/VgkxoE9a_o.png" alt="在这里插入图片描述"></p> 
<p>如果不使用static修饰静态变量，使用引用做返回值时，结果时不确定的。</p> 
<pre><code class="prism language-cpp"><span class="token keyword">int</span><span class="token operator">&amp;</span> <span class="token function">Count</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	n<span class="token operator">++</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> n<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span><span class="token operator">&amp;</span> ret <span class="token operator">=</span> <span class="token function">Count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> ret <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>这段代码虽然不会报错，但是明显可以发现，ret访问是存在越界访问。</p> 
<pre><code class="prism language-cpp"><span class="token keyword">int</span><span class="token operator">&amp;</span> <span class="token function">Count</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	n<span class="token operator">++</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> n<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span><span class="token operator">&amp;</span> ret <span class="token operator">=</span> <span class="token function">Count</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> ret <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token function">Count</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> ret <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/f1/de/wbszgfoc_o.png" alt="在这里插入图片描述"></p> 
<p>观察这段代码，如果count函数结束，函数建立的栈帧会销毁，在vs编译器上没有清理栈帧，ret的值是第一次函数调用结束后，第二次函数建立在同样的位置。</p> 
<pre><code class="prism language-cpp"><span class="token keyword">int</span><span class="token operator">&amp;</span> <span class="token function">Count</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	n<span class="token operator">++</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> n<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span><span class="token operator">&amp;</span> ret <span class="token operator">=</span> <span class="token function">Count</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> ret <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> ret <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/9a/5d/xugBumJh_o.png" alt="在这里插入图片描述"><br> 若是随意插入一个函数，则ret的值变成了随机值。</p> 
<p>可以发现，在这种情况下使用引用是很危险的。</p> 
<p>总结：<br> 1.基本任何场景都是可以使用引用传参<br> 2.谨慎用引用做返回值，出了函数作用域，对象不在了就不能使用引用返回，如果对象还在就可以使用引用返回。<br> 2.可以使用引用返回的场景：静态变量、全局变量、堆区malloc或者calloc</p> 
<h3><a id="_819"></a>常引用</h3> 
<pre><code class="prism language-cpp">	<span class="token keyword">const</span> <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span><span class="token operator">&amp;</span> b <span class="token operator">=</span> a<span class="token punctuation">;</span>
</code></pre> 
<p>观察这段代码，当变量a被const修饰变成不可修改的左值时，使用int引用是不可以的，原因是在引用的过程中国权限不能放大。</p> 
<pre><code class="prism language-cpp">	<span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span><span class="token operator">&amp;</span> b <span class="token operator">=</span> a<span class="token punctuation">;</span>
</code></pre> 
<pre><code class="prism language-cpp">	<span class="token keyword">const</span> <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> b <span class="token operator">=</span> a<span class="token punctuation">;</span> 
</code></pre> 
<p>这俩种情况是被允许的，这俩种情况是权限的平移。</p> 
<pre><code class="prism language-cpp">	<span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> b <span class="token operator">=</span> a<span class="token punctuation">;</span>
</code></pre> 
<p>这种情况也是被允许的，这种情况被称为权限的缩小。</p> 
<pre><code class="prism language-cpp">	<span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> b <span class="token operator">=</span> a<span class="token punctuation">;</span>
	a<span class="token operator">++</span><span class="token punctuation">;</span>
</code></pre> 
<p>这种情况也是被允许的，原因是编译器仅缩小了a和b所在地址的引用b的权限，而并没有缩小a的权限所有a++是被允许的，而b++是不被允许的。</p> 
<pre><code class="prism language-cpp">	<span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> x <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> 
</code></pre> 
<p>同时，给变量取别名也是被允许的。</p> 
<h4><a id="_855"></a>常引用的俩个例子</h4> 
<pre><code class="prism language-cpp">	<span class="token keyword">double</span> d <span class="token operator">=</span> <span class="token number">1.11</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> i <span class="token operator">=</span> d<span class="token punctuation">;</span>
</code></pre> 
<p>我们都知道double在转变为int时，会进行类型转换，由于double是8个字节，int是4个字节，double变成int会进行截断，而截断的过程会建立一个新的临时变量，临时变量具有常性，即临时变量是不可修改的值。</p> 
<pre><code class="prism language-cpp">	<span class="token keyword">double</span> d <span class="token operator">=</span> <span class="token number">1.11</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span><span class="token operator">&amp;</span> i <span class="token operator">=</span> d<span class="token punctuation">;</span>
</code></pre> 
<p>所有这段代码是错误的，这里double变成临时变量权限缩小，而int&amp;会将权限放大，引用的过程中权限是不可以放大的。</p> 
<pre><code class="prism language-cpp">	<span class="token keyword">double</span> d <span class="token operator">=</span> <span class="token number">1.11</span><span class="token punctuation">;</span>
	<span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> i <span class="token operator">=</span> d<span class="token punctuation">;</span>
</code></pre> 
<p>这段代码是正确的，这里进行了权限的平移。</p> 
<pre><code class="prism language-cpp"><span class="token keyword">int</span> <span class="token function">Fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">static</span> <span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> x<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span><span class="token operator">&amp;</span> ret1 <span class="token operator">=</span> <span class="token function">Fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> ret2 <span class="token operator">=</span> <span class="token function">Fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>第二个例子是关于函数在释放前会建立一个临时变量给返回值提供位置。此时这个临时变量也是具有常性，是不可以修改的，即ret1是错误的代码，而ret2是正确的代码。</p> 
<h3><a id="_891"></a>引用与指针的区别</h3> 
<p>引用与指针在语法层面是不同的，引用不开空间，引用是对变量取别名，而指针不同，指针开空间，指针是存储变量的地址。</p> 
<pre><code class="prism language-cpp">	<span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span><span class="token operator">*</span> y <span class="token operator">=</span> <span class="token operator">&amp;</span>x<span class="token punctuation">;</span>

	<span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span><span class="token operator">&amp;</span> b <span class="token operator">=</span> a<span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/fd/76/iBbjYldH_o.png" alt="在这里插入图片描述"><br> 观察这段代码，可以发现从底层汇编指令实现的角度来看，引用是类似指针的方式实现的。</p> 
<ul><li>指针与引用的不同点：<br> 1.引用概念上定义一个变量的别名，而指针存储一个变量的地址<br> 2.引用在定义时必须初始化，而指针没有要求<br> 3.引用在初始化时引用一个实体后，就不可以引用其他实体，而指针可以在任何时候指向任何一个同类型的实体<br> 4.没有NULL引用，但有NULL指针<br> 5.引用和指针在sizeof中含义不同，引用结果为引用类型的大小，而指针始终是地址空间所占字节个数（32位平台下占4个字节）<br> 6.引用自加即引用的实体增加1，指针自加即指针向后偏移一个指针类型的位置<br> 7.有多级指针，但没有多级引用<br> 8.访问实体的方式不同，指针需要解引用，引用编译器会自己处理<br> 9.引用比指针使用起来相对安全</li></ul> 
<h2><a id="_917"></a>内联函数</h2> 
<p>在了解内联函数之前，应该对C语言中的宏的定义有一定了解。</p> 
<pre><code class="prism language-cpp"><span class="token comment">//宏定义</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name function">ADD</span><span class="token expression"><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">10</span></span></span>
<span class="token comment">//注意规范，宏定义是完整的替换</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token function">ADD</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>在C语言中，使用宏定义来解决函数建立过多且函数内容较少的问题。但是宏在使用过程中也存在着也许优点与缺点：<br> 宏函数的优点：不需要建立栈帧，提高调用效率，增强代码的复用性<br> 宏函数的缺点：复杂、容易出错；可读性差；不能调试。</p> 
<p>在C++中，会使用内联函数来代替部分宏函数。<br> 以inline修饰的函数被称为内联函数，编译时C++编译器会根据情况在调用内联函数的地方进行展开，没有函数调用建立栈帧的开销，内联函数提高程序运行的速度。</p> 
<pre><code class="prism language-cpp"><span class="token comment">//内联函数</span>
<span class="token keyword">inline</span> <span class="token keyword">int</span> <span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> <span class="token punctuation">(</span>x <span class="token operator">+</span> y<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token function">Add</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>由此可知，宏函数与内联函数是很相似的，但C++对宏函数进行了优化，宏函数与内联函数适用于短小，需要频繁调用的函数。</p> 
<p>但是并不是所有的函数都可以使用内联函数，否则就会导致可执行程序变大。<br> <img src="https://images2.imgbox.com/89/36/1iBe0iyJ_o.png" alt="在这里插入图片描述"><br> 这里假设Func不是内联函数（不被inline修饰），每次执行Func函数时都会跳转到Func去执行，如果存在n个位置调用Func函数，则合计会有m+n条指令；</p> 
<p>这里假设Func是内联函数（被inline修饰），相当于每次执行Func函数都会对Func进行展开，如果存在n个位置调用Func函数，则合计会有m*n条指令。</p> 
<p>若调用Func函数过多，则会导致可执行程序变大。</p> 
<p>编译器在识别被inline修饰的内联函数时，内联函数对编译器只是一个建议，最终时候成为内联函数，编译器会自己决定，在这些情况下，编译器会自动否决内联：1.比较长的函数；2.递归函数。</p> 
<p><img src="https://images2.imgbox.com/68/bf/GdCfiHU0_o.png" alt="在这里插入图片描述"><br> 默认在debug版本下，inline不会起作用，否则无法支持调试。在debug版本下，需要对编译器进行设置：</p> 
<p><img src="https://images2.imgbox.com/2d/98/8sxNOpsy_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/f3/1a/40ALa6Jk_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/d8/ca/rF0sA8ku_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/10/f4/yu46wZU0_o.png" alt="在这里插入图片描述"><br> 这里可以发现，在调用代码较少时，此时内联函数起效果；</p> 
<pre><code class="prism language-cpp"><span class="token keyword">inline</span> <span class="token keyword">int</span> <span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		x <span class="token operator">*=</span> <span class="token number">2</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		x <span class="token operator">/=</span> <span class="token number">2</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		y <span class="token operator">*=</span> <span class="token number">2</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		y <span class="token operator">/=</span> <span class="token number">2</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">return</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> ret <span class="token operator">=</span> <span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/b6/5c/q43s8JU3_o.png" alt="在这里插入图片描述"><br> 此时，函数内容过多，内联函数被编译器否决；</p> 
<pre><code class="prism language-cpp"><span class="token keyword">inline</span> <span class="token keyword">int</span> <span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span><span class="token keyword">int</span> y<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">&gt;</span> <span class="token number">5</span> <span class="token operator">&amp;&amp;</span> y <span class="token operator">&gt;</span> <span class="token number">5</span><span class="token punctuation">)</span>
		<span class="token keyword">return</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token function">Add</span><span class="token punctuation">(</span>x <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> y <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> ret <span class="token operator">=</span> <span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> ret <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/5d/5c/xqgZx3xX_o.png" alt="在这里插入图片描述"><br> 此时，函数递归，内联函数被编译器否决；</p> 
<pre><code class="prism language-cpp"><span class="token comment">//Func.h文件</span>
<span class="token keyword">inline</span> <span class="token keyword">int</span> <span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//Func.cpp文件</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">"Func.h"</span></span>
<span class="token keyword">inline</span> <span class="token keyword">int</span> <span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> <span class="token punctuation">(</span>x <span class="token operator">+</span> y<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//test.cpp文件</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">"Func.h"</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> ret <span class="token operator">=</span> <span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> ret <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/fc/d1/Aeo3bH9F_o.png" alt="在这里插入图片描述"></p> 
<p>如果内联函数没有被编译器否决，那么内联函数就会在编译期间会被展开，建议内联函数声明与定义不分离，直接写在头文件中。<br> 原因是，内联函数不会被call，所有内联函数就不会进入符号表进行链接，如果声明与定义分离，会导致链接错误，内联函数被展开后寻找不到函数地址，链接就会找不到。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b10ef4f7acfd8babc185d76a23a17a1f/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">mysql之如何获知版本</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/46972cb11b39a8aabc8a945ab394e226/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【02数据库与小模型篇】0到1打造基于文心大模型和飞桨小模型的智能在线编辑器</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>