<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>PHP基础之面向对象讲解 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/4584eae326bdef053d685ca14f02a775/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="PHP基础之面向对象讲解">
  <meta property="og:description" content="文章目录 1 面向对象1.1 PHP 类定义1.2 创建对象1.3 构造&amp;析构函数1.3.1 构造函数1.3.2 析构函数 1.4 继承1.4.1 方法重写1.4.2 父子类初始化顺序1.4.3 示例说明 1.5 访问控制1.5.1 属性的访问控制1.5.2 方法的访问控制 1.6 接口 &amp; 抽象1.6.1 接口1.6.2 抽象类 1.7 关键字1.7.1 parent，self，this1.7.1.1 parent1.7.1.2 self1.7.1.3 this 1.7.2 常量1.7.2.1 const1.7.2.2 const &amp; define 1.7.3 Static1.7.4 Final 1 面向对象 1.1 PHP 类定义 PHP 定义类通常语法格式如下：
&lt;?php class Site { /* 成员变量 */ var $url; var $title; /* 成员函数 */ function setUrl($par){ $this-&gt;url = $par; } function getUrl(){ echo $this-&gt;url .">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-08-26T10:55:21+08:00">
    <meta property="article:modified_time" content="2024-08-26T10:55:21+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">PHP基础之面向对象讲解</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#1__1" rel="nofollow">1 面向对象</a></li><li><ul><li><a href="#11_PHP__2" rel="nofollow">1.1 PHP 类定义</a></li><li><a href="#12__37" rel="nofollow">1.2 创建对象</a></li><li><a href="#13__62" rel="nofollow">1.3 构造&amp;析构函数</a></li><li><ul><li><a href="#131__63" rel="nofollow">1.3.1 构造函数</a></li><li><a href="#132__86" rel="nofollow">1.3.2 析构函数</a></li></ul> 
   </li><li><a href="#14__106" rel="nofollow">1.4 继承</a></li><li><ul><li><a href="#141__113" rel="nofollow">1.4.1 方法重写</a></li><li><a href="#142__115" rel="nofollow">1.4.2 父子类初始化顺序</a></li><li><a href="#143__130" rel="nofollow">1.4.3 示例说明</a></li></ul> 
   </li><li><a href="#15__176" rel="nofollow">1.5 访问控制</a></li><li><ul><li><a href="#151__182" rel="nofollow">1.5.1 属性的访问控制</a></li><li><a href="#152__228" rel="nofollow">1.5.2 方法的访问控制</a></li></ul> 
   </li><li><a href="#16____311" rel="nofollow">1.6 接口 &amp; 抽象</a></li><li><ul><li><a href="#161__312" rel="nofollow">1.6.1 接口</a></li><li><a href="#162__347" rel="nofollow">1.6.2 抽象类</a></li></ul> 
   </li><li><a href="#17__438" rel="nofollow">1.7 关键字</a></li><li><ul><li><a href="#171_parentselfthis_439" rel="nofollow">1.7.1 parent，self，this</a></li><li><ul><li><a href="#1711_parent_444" rel="nofollow">1.7.1.1 parent</a></li><li><a href="#1712_self_469" rel="nofollow">1.7.1.2 self</a></li><li><a href="#1713_this_487" rel="nofollow">1.7.1.3 this</a></li></ul> 
    </li><li><a href="#172__511" rel="nofollow">1.7.2 常量</a></li><li><ul><li><a href="#1721_const_512" rel="nofollow">1.7.2.1 const</a></li><li><a href="#1722_const__define_540" rel="nofollow">1.7.2.2 const &amp; define</a></li></ul> 
    </li><li><a href="#173_Static_557" rel="nofollow">1.7.3 Static</a></li><li><a href="#174_Final_583" rel="nofollow">1.7.4 Final</a></li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="1__1"></a>1 面向对象</h2> 
<h3><a id="11_PHP__2"></a>1.1 PHP 类定义</h3> 
<p>PHP 定义类通常语法格式如下：</p> 
<pre><code class="prism language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token keyword">class</span> <span class="token class-name-definition class-name">Site</span> <span class="token punctuation">{<!-- --></span>
  <span class="token comment">/* 成员变量 */</span>
  <span class="token keyword">var</span> <span class="token variable">$url</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> <span class="token variable">$title</span><span class="token punctuation">;</span>
  
  <span class="token comment">/* 成员函数 */</span>
  <span class="token keyword">function</span> <span class="token function-definition function">setUrl</span><span class="token punctuation">(</span><span class="token variable">$par</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
     <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">url</span> <span class="token operator">=</span> <span class="token variable">$par</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  
  <span class="token keyword">function</span> <span class="token function-definition function">getUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
     <span class="token keyword">echo</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">url</span> <span class="token operator">.</span> <span class="token constant">PHP_EOL</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  
  <span class="token keyword">function</span> <span class="token function-definition function">setTitle</span><span class="token punctuation">(</span><span class="token variable">$par</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
     <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">title</span> <span class="token operator">=</span> <span class="token variable">$par</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  
  <span class="token keyword">function</span> <span class="token function-definition function">getTitle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
     <span class="token keyword">echo</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">title</span> <span class="token operator">.</span> <span class="token constant">PHP_EOL</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">?</span><span class="token operator">&gt;</span>
</code></pre> 
<p>解析如下：</p> 
<ul><li>类使用 <code>class</code> 关键字后加上类名定义。</li><li>类名后的一对大括号 <code>{}</code> 内可以定义变量和方法。</li><li>类的变量使用 <code>var</code> 来声明, 变量也可以初始化值。</li><li>函数定义类似 <code>PHP </code>函数的定义，但函数只能通过该类及其实例化的对象访问。</li><li>变量 <code>$this</code> 代表自身的对象。</li><li><code>PHP_EOL</code> 为换行符。</li></ul> 
<h3><a id="12__37"></a>1.2 创建对象</h3> 
<p>类创建后，我们可以使用 <code>new</code> 运算符来实例化该类的对象：</p> 
<pre><code class="prism language-php"><span class="token variable">$baidu</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Site</span><span class="token punctuation">;</span>
<span class="token variable">$taobao</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Site</span><span class="token punctuation">;</span>
<span class="token variable">$google</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Site</span><span class="token punctuation">;</span>
</code></pre> 
<p>以上代码我们创建了三个对象，三个对象各自都是独立的，接下来我们来看看如何访问成员方法与成员变量。</p> 
<p>在实例化对象后，我们可以使用该对象调用成员方法，该对象的成员方法只能操作该对象的成员变量：</p> 
<pre><code class="prism language-php"><span class="token comment">// 调用成员函数，设置标题和URL</span>
<span class="token variable">$taobao</span><span class="token operator">-&gt;</span><span class="token function">setTitle</span><span class="token punctuation">(</span> <span class="token string double-quoted-string">"淘宝"</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$google</span><span class="token operator">-&gt;</span><span class="token function">setTitle</span><span class="token punctuation">(</span> <span class="token string double-quoted-string">"Google 搜索"</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$taobao</span><span class="token operator">-&gt;</span><span class="token function">setUrl</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'www.taobao.com'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$google</span><span class="token operator">-&gt;</span><span class="token function">setUrl</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'www.google.com'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 调用成员函数，获取标题和URL</span>
<span class="token variable">$taobao</span><span class="token operator">-&gt;</span><span class="token function">getTitle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$google</span><span class="token operator">-&gt;</span><span class="token function">getTitle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$taobao</span><span class="token operator">-&gt;</span><span class="token function">getUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$google</span><span class="token operator">-&gt;</span><span class="token function">getUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h3><a id="13__62"></a>1.3 构造&amp;析构函数</h3> 
<h4><a id="131__63"></a>1.3.1 构造函数</h4> 
<p>构造函数是一种特殊的方法。主要用来在创建对象时初始化对象， 即为对象成员变量赋初始值，在创建对象的语句中与 new 运算符一起使用。</p> 
<p>PHP 5 允许开发者在一个类中定义一个方法作为构造函数，语法格式如下：<code>void __construct ([ mixed $args [, $... ]] )</code><br> 在上面的例子中我们就可以通过构造方法来初始化 <code>$url</code> 和 <code>$title</code> 变量：</p> 
<pre><code class="prism language-php"><span class="token keyword">function</span> <span class="token function-definition function">__construct</span><span class="token punctuation">(</span> <span class="token variable">$par1</span><span class="token punctuation">,</span> <span class="token variable">$par2</span> <span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
   <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">url</span> <span class="token operator">=</span> <span class="token variable">$par1</span><span class="token punctuation">;</span>
   <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">title</span> <span class="token operator">=</span> <span class="token variable">$par2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>现在我们就不需要再调用 <code>setTitle</code> 和 <code>setUrl</code> 方法了：</p> 
<pre><code class="prism language-php"><span class="token variable">$taobao</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Site</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'www.taobao.com'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'淘宝'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$google</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Site</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'www.google.com'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'Google 搜索'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 调用成员函数，获取标题和URL</span>
<span class="token variable">$taobao</span><span class="token operator">-&gt;</span><span class="token function">getTitle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$google</span><span class="token operator">-&gt;</span><span class="token function">getTitle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$taobao</span><span class="token operator">-&gt;</span><span class="token function">getUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$google</span><span class="token operator">-&gt;</span><span class="token function">getUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="132__86"></a>1.3.2 析构函数</h4> 
<p>析构函数(<code>destructor</code>) 与构造函数相反，当对象结束其生命周期时（例如对象所在的函数已调用完毕），系统自动执行析构函数。</p> 
<p>PHP 5 引入了析构函数的概念，这类似于其它面向对象的语言，其语法格式如下：<code>void __destruct ( void )</code></p> 
<pre><code class="prism language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token keyword">class</span> <span class="token class-name-definition class-name">MyDestructableClass</span> <span class="token punctuation">{<!-- --></span>
   <span class="token keyword">function</span> <span class="token function-definition function">__construct</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
       <span class="token keyword">print</span> <span class="token string double-quoted-string">"构造函数\n"</span><span class="token punctuation">;</span>
       <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">name</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"MyDestructableClass"</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>

   <span class="token keyword">function</span> <span class="token function-definition function">__destruct</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
       <span class="token keyword">print</span> <span class="token string double-quoted-string">"销毁 "</span> <span class="token operator">.</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">name</span> <span class="token operator">.</span> <span class="token string double-quoted-string">"\n"</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token variable">$obj</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyDestructableClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">?</span><span class="token operator">&gt;</span>
</code></pre> 
<h3><a id="14__106"></a>1.4 继承</h3> 
<p>PHP 使用关键字 <code>extends</code> 来继承一个类，<code>PHP</code> 不支持多继承，格式如下：</p> 
<pre><code class="prism language-php"><span class="token keyword">class</span> <span class="token class-name-definition class-name">Child</span> <span class="token keyword">extends</span> <span class="token keyword">Parent</span> <span class="token punctuation">{<!-- --></span>
   <span class="token comment">// 代码部分</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="141__113"></a>1.4.1 方法重写</h4> 
<p>如果从父类继承的方法不能满足子类的需求，可以对其进行改写，这个过程叫方法的覆盖（<code>override</code>），也称为方法的重写。</p> 
<h4><a id="142__115"></a>1.4.2 父子类初始化顺序</h4> 
<p>如果父类和子类的构造方法和静态属性或方法的执行顺序遵循以下规则：</p> 
<p>静态属性和静态方法的初始化：</p> 
<ul><li>静态属性和静态方法在类首次加载（即第一次使用）时初始化。</li><li>静态方法不会自动执行，只有在调用时才会执行。</li><li>静态属性在类加载时初始化，而不是在实例化对象时。</li></ul> 
<p>父类构造方法：</p> 
<ul><li>当创建子类对象时，如果<code>子类没有定义自己的构造方法</code>，父类的构造方法会自动调用。</li><li>如果<code>子类定义了自己的构造方法</code>，父类的构造方法不会自动调用，除非子类在其构造方法中显式调用父类构造方法，需要在子类的构造方法中调用 <code>parent::__construct()</code> 。</li></ul> 
<p>子类构造方法：</p> 
<ul><li>子类的构造方法在对象创建时调用，通常在父类构造方法（如果调用了）之后执行。</li></ul> 
<h4><a id="143__130"></a>1.4.3 示例说明</h4> 
<pre><code class="prism language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token keyword">class</span> <span class="token class-name-definition class-name">ParentClass</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token variable">$staticProperty</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'Parent Static Property'</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">__construct</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">echo</span> <span class="token string double-quoted-string">"Parent Constructor\n"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">function</span> <span class="token function-definition function">staticMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">echo</span> <span class="token string double-quoted-string">"Parent Static Method\n"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">ChildClass</span> <span class="token keyword">extends</span> <span class="token class-name">ParentClass</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token variable">$childStaticProperty</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'Child Static Property'</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">__construct</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword static-context">parent</span><span class="token operator">::</span><span class="token function">__construct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 显式调用父类构造方法</span>
        <span class="token keyword">echo</span> <span class="token string double-quoted-string">"Child Constructor\n"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">function</span> <span class="token function-definition function">childStaticMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">echo</span> <span class="token string double-quoted-string">"Child Static Method\n"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 执行顺序演示</span>
<span class="token class-name static-context">ChildClass</span><span class="token operator">::</span><span class="token function">staticMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 触发静态方法</span>
<span class="token class-name static-context">ChildClass</span><span class="token operator">::</span><span class="token function">childStaticMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 触发子类静态方法</span>
<span class="token variable">$child</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ChildClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 实例化子类对象</span>
<span class="token operator">?</span><span class="token operator">&gt;</span>
输出结果

<span class="token keyword">Parent</span> <span class="token keyword">Static</span> Method
Child <span class="token keyword">Static</span> Method
<span class="token keyword">Parent</span> Constructor
Child Constructor
</code></pre> 
<p>执行顺序分析</p> 
<ul><li>静态方法和静态属性： 
  <ul><li><code>ChildClass::staticMethod();</code>：调用父类的静态方法 staticMethod()，此时静态属性和方法在类首次加载时初始化。</li><li><code>ChildClass::childStaticMethod();</code>：调用子类的静态方法 childStaticMethod()。</li></ul> </li><li>父类和子类的构造方法： 
  <ul><li>当实例化 <code>ChildClass</code> 时，子类的构造方法 <code>__construct</code> 首先调用，由于在子类的构造方法中调用了 <code>parent::__construct();</code>，因此父类的构造方法 <code>__construct</code> 被显式调用，父类的构造方法先执行，然后才是子类的构造方法。</li></ul> </li></ul> 
<h3><a id="15__176"></a>1.5 访问控制</h3> 
<p>PHP 对属性或方法的访问控制，是通过在前面添加关键字 <code>public</code>（公有），<code>protected</code>（受保护）或 <code>private</code>（私有）来实现的。</p> 
<ul><li><code>public</code>（公有）：公有的类成员可以在任何地方被访问。</li><li><code>protected</code>（受保护）：受保护的类成员则可以被其自身以及其子类和父类访问。</li><li><code>private</code>（私有）：私有的类成员则只能被其定义所在的类访问。</li></ul> 
<h4><a id="151__182"></a>1.5.1 属性的访问控制</h4> 
<p>类属性必须定义为公有，受保护，私有之一。如果用 <code>var</code> 定义，则被视为<code>公有</code>。</p> 
<pre><code class="prism language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token keyword">class</span> <span class="token class-name-definition class-name">MyClass</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token variable">$public</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'Public'</span><span class="token punctuation">;</span>
    <span class="token keyword">protected</span> <span class="token variable">$protected</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'Protected'</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token variable">$private</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'Private'</span><span class="token punctuation">;</span>

    <span class="token keyword">function</span> <span class="token function-definition function">printHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">echo</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">public</span><span class="token punctuation">;</span>
        <span class="token keyword">echo</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">protected</span><span class="token punctuation">;</span>
        <span class="token keyword">echo</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">private</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token variable">$obj</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token variable">$obj</span><span class="token operator">-&gt;</span><span class="token property">public</span><span class="token punctuation">;</span> <span class="token comment">// 这行能被正常执行</span>
<span class="token keyword">echo</span> <span class="token variable">$obj</span><span class="token operator">-&gt;</span><span class="token property">protected</span><span class="token punctuation">;</span> <span class="token comment">// 这行会产生一个致命错误</span>
<span class="token keyword">echo</span> <span class="token variable">$obj</span><span class="token operator">-&gt;</span><span class="token property">private</span><span class="token punctuation">;</span> <span class="token comment">// 这行也会产生一个致命错误</span>
<span class="token variable">$obj</span><span class="token operator">-&gt;</span><span class="token function">printHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出 Public、Protected 和 Private</span>


<span class="token keyword">class</span> <span class="token class-name-definition class-name">MyClass2</span> <span class="token keyword">extends</span> <span class="token class-name">MyClass</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 可以对 public 和 protected 进行重定义，但 private 而不能</span>
    <span class="token keyword">protected</span> <span class="token variable">$protected</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'Protected2'</span><span class="token punctuation">;</span>

    <span class="token keyword">function</span> <span class="token function-definition function">printHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">echo</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">public</span><span class="token punctuation">;</span>
        <span class="token keyword">echo</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">protected</span><span class="token punctuation">;</span>
        <span class="token keyword">echo</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">private</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token variable">$obj2</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyClass2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token variable">$obj2</span><span class="token operator">-&gt;</span><span class="token property">public</span><span class="token punctuation">;</span> <span class="token comment">// 这行能被正常执行</span>
<span class="token keyword">echo</span> <span class="token variable">$obj2</span><span class="token operator">-&gt;</span><span class="token property">private</span><span class="token punctuation">;</span> <span class="token comment">// 未定义 private</span>
<span class="token keyword">echo</span> <span class="token variable">$obj2</span><span class="token operator">-&gt;</span><span class="token property">protected</span><span class="token punctuation">;</span> <span class="token comment">// 这行会产生一个致命错误</span>
<span class="token variable">$obj2</span><span class="token operator">-&gt;</span><span class="token function">printHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出 Public、Protected2 和 Undefined</span>

<span class="token operator">?</span><span class="token operator">&gt;</span>
</code></pre> 
<h4><a id="152__228"></a>1.5.2 方法的访问控制</h4> 
<p>类中的方法可以被定义为公有，私有或受保护。<code>如果没有设置这些关键字，则该方法默认为公有</code>。</p> 
<pre><code class="prism language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">MyClass</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 声明一个公有的构造函数</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">__construct</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token punctuation">}</span>

    <span class="token comment">// 声明一个公有的方法</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">MyPublic</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token punctuation">}</span>

    <span class="token comment">// 声明一个受保护的方法</span>
    <span class="token keyword">protected</span> <span class="token keyword">function</span> <span class="token function-definition function">MyProtected</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token punctuation">}</span>

    <span class="token comment">// 声明一个私有的方法</span>
    <span class="token keyword">private</span> <span class="token keyword">function</span> <span class="token function-definition function">MyPrivate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token punctuation">}</span>

    <span class="token comment">// 此方法为公有</span>
    <span class="token keyword">function</span> <span class="token function-definition function">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">MyPublic</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">MyProtected</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">MyPrivate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token variable">$myclass</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyClass</span><span class="token punctuation">;</span>
<span class="token variable">$myclass</span><span class="token operator">-&gt;</span><span class="token function">MyPublic</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 这行能被正常执行</span>
<span class="token variable">$myclass</span><span class="token operator">-&gt;</span><span class="token function">MyProtected</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 这行会产生一个致命错误</span>
<span class="token variable">$myclass</span><span class="token operator">-&gt;</span><span class="token function">MyPrivate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 这行会产生一个致命错误</span>
<span class="token variable">$myclass</span><span class="token operator">-&gt;</span><span class="token function">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 公有，受保护，私有都可以执行</span>



<span class="token keyword">class</span> <span class="token class-name-definition class-name">MyClass2</span> <span class="token keyword">extends</span> <span class="token class-name">MyClass</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 此方法为公有</span>
    <span class="token keyword">function</span> <span class="token function-definition function">Foo2</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">MyPublic</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">MyProtected</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">MyPrivate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 这行会产生一个致命错误</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token variable">$myclass2</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyClass2</span><span class="token punctuation">;</span>
<span class="token variable">$myclass2</span><span class="token operator">-&gt;</span><span class="token function">MyPublic</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 这行能被正常执行</span>
<span class="token variable">$myclass2</span><span class="token operator">-&gt;</span><span class="token function">Foo2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 公有的和受保护的都可执行，但私有的不行</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">Bar</span> 
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">testPrivate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">testPublic</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">testPublic</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">echo</span> <span class="token string double-quoted-string">"Bar::testPublic\n"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">private</span> <span class="token keyword">function</span> <span class="token function-definition function">testPrivate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">echo</span> <span class="token string double-quoted-string">"Bar::testPrivate\n"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">Foo</span> <span class="token keyword">extends</span> <span class="token class-name">Bar</span> 
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">testPublic</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">echo</span> <span class="token string double-quoted-string">"Foo::testPublic\n"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">private</span> <span class="token keyword">function</span> <span class="token function-definition function">testPrivate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">echo</span> <span class="token string double-quoted-string">"Foo::testPrivate\n"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token variable">$myFoo</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$myFoo</span><span class="token operator">-&gt;</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Bar::testPrivate </span>
                <span class="token comment">// Foo::testPublic</span>
<span class="token operator">?</span><span class="token operator">&gt;</span>
</code></pre> 
<h3><a id="16____311"></a>1.6 接口 &amp; 抽象</h3> 
<h4><a id="161__312"></a>1.6.1 接口</h4> 
<p>使用接口（<code>interface</code>），可以指定某个类必须实现哪些方法，但不需要定义这些方法的具体内容。<br> 接口是通过 <code>interface</code> 关键字来定义的，就像定义一个标准的类一样，但其中定义所有的方法都是空的。<br> 接口中定义的所有方法都必须是公有，这是接口的特性。<br> 要实现一个接口，使用 <code>implements</code> 操作符。类中必须实现接口中定义的所有方法，否则会报一个致命错误。<code>类可以实现多个接口，用逗号来分隔多个接口的名称</code>。</p> 
<pre><code class="prism language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token comment">// 声明一个'iTemplate'接口</span>
<span class="token keyword">interface</span> <span class="token class-name-definition class-name">iTemplate</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">setVariable</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token variable">$var</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">getHtml</span><span class="token punctuation">(</span><span class="token variable">$template</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token comment">// 实现接口</span>
<span class="token keyword">class</span> <span class="token class-name-definition class-name">Template</span> <span class="token keyword">implements</span> <span class="token class-name">iTemplate</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> <span class="token variable">$vars</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">setVariable</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token variable">$var</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">vars</span><span class="token punctuation">[</span><span class="token variable">$name</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token variable">$var</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">getHtml</span><span class="token punctuation">(</span><span class="token variable">$template</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">foreach</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">vars</span> <span class="token keyword">as</span> <span class="token variable">$name</span> <span class="token operator">=&gt;</span> <span class="token variable">$value</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token variable">$template</span> <span class="token operator">=</span> <span class="token function">str_replace</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'{'</span> <span class="token operator">.</span> <span class="token variable">$name</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'}'</span><span class="token punctuation">,</span> <span class="token variable">$value</span><span class="token punctuation">,</span> <span class="token variable">$template</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
 
        <span class="token keyword">return</span> <span class="token variable">$template</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="162__347"></a>1.6.2 抽象类</h4> 
<p>任何一个类，如果它里面至少有一个方法是被声明为抽象的，那么这个类就必须被声明为抽象的。<br> 定义为<code>抽象的类不能被实例化</code>。<br> 被定义为抽象的方法只是声明了其调用方式（参数），不能定义其具体的功能实现。<br> 继承一个抽象类的时候，子类必须定义父类中的所有抽象方法；另外，这些方法的访问控制必须和父类中一样（或者更为宽松）。例如某个抽象方法被声明为受保护的，那么子类中实现的方法就应该声明为受保护的或者公有的，而不能定义为私有的。</p> 
<pre><code class="prism language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name-definition class-name">AbstractClass</span>
<span class="token punctuation">{<!-- --></span>
 <span class="token comment">// 强制要求子类定义这些方法</span>
    <span class="token keyword">abstract</span> <span class="token keyword">protected</span> <span class="token keyword">function</span> <span class="token function-definition function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">abstract</span> <span class="token keyword">protected</span> <span class="token keyword">function</span> <span class="token function-definition function">prefixValue</span><span class="token punctuation">(</span><span class="token variable">$prefix</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 普通方法（非抽象方法）</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">printOut</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">print</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">.</span> <span class="token constant">PHP_EOL</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">ConcreteClass1</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractClass</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">protected</span> <span class="token keyword">function</span> <span class="token function-definition function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token string double-quoted-string">"ConcreteClass1"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">prefixValue</span><span class="token punctuation">(</span><span class="token variable">$prefix</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token string double-quoted-string">"<span class="token interpolation"><span class="token punctuation">{<!-- --></span><span class="token variable">$prefix</span><span class="token punctuation">}</span></span>ConcreteClass1"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">ConcreteClass2</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractClass</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token string double-quoted-string">"ConcreteClass2"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">prefixValue</span><span class="token punctuation">(</span><span class="token variable">$prefix</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token string double-quoted-string">"<span class="token interpolation"><span class="token punctuation">{<!-- --></span><span class="token variable">$prefix</span><span class="token punctuation">}</span></span>ConcreteClass2"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token variable">$class1</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConcreteClass1</span><span class="token punctuation">;</span>
<span class="token variable">$class1</span><span class="token operator">-&gt;</span><span class="token function">printOut</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token variable">$class1</span><span class="token operator">-&gt;</span><span class="token function">prefixValue</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'FOO_'</span><span class="token punctuation">)</span> <span class="token operator">.</span> <span class="token constant">PHP_EOL</span><span class="token punctuation">;</span>

<span class="token variable">$class2</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConcreteClass2</span><span class="token punctuation">;</span>
<span class="token variable">$class2</span><span class="token operator">-&gt;</span><span class="token function">printOut</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token variable">$class2</span><span class="token operator">-&gt;</span><span class="token function">prefixValue</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'FOO_'</span><span class="token punctuation">)</span> <span class="token operator">.</span> <span class="token constant">PHP_EOL</span><span class="token punctuation">;</span>
<span class="token operator">?</span><span class="token operator">&gt;</span>

执行以上代码，输出结果为：
ConcreteClass1
FOO_ConcreteClass1
ConcreteClass2
FOO_ConcreteClass2
</code></pre> 
<p>此外，子类方法可以包含父类抽象方法中不存在的可选参数。<br> 例如，子类定义了一个可选参数，而父类抽象方法的声明里没有，则也是可以正常运行的。</p> 
<pre><code class="prism language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name-definition class-name">AbstractClass</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 我们的抽象方法仅需要定义需要的参数</span>
    <span class="token keyword">abstract</span> <span class="token keyword">protected</span> <span class="token keyword">function</span> <span class="token function-definition function">prefixName</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">ConcreteClass</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractClass</span>
<span class="token punctuation">{<!-- --></span>

    <span class="token comment">// 我们的子类可以定义父类签名中不存在的可选参数</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">prefixName</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token variable">$separator</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"."</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$name</span> <span class="token operator">==</span> <span class="token string double-quoted-string">"Pacman"</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token variable">$prefix</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"Mr"</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">elseif</span> <span class="token punctuation">(</span><span class="token variable">$name</span> <span class="token operator">==</span> <span class="token string double-quoted-string">"Pacwoman"</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token variable">$prefix</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"Mrs"</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            <span class="token variable">$prefix</span> <span class="token operator">=</span> <span class="token string double-quoted-string">""</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token string double-quoted-string">"<span class="token interpolation"><span class="token punctuation">{<!-- --></span><span class="token variable">$prefix</span><span class="token punctuation">}</span></span><span class="token interpolation"><span class="token punctuation">{<!-- --></span><span class="token variable">$separator</span><span class="token punctuation">}</span></span> <span class="token interpolation"><span class="token punctuation">{<!-- --></span><span class="token variable">$name</span><span class="token punctuation">}</span></span>"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token variable">$class</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConcreteClass</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token variable">$class</span><span class="token operator">-&gt;</span><span class="token function">prefixName</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"Pacman"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"\n"</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token variable">$class</span><span class="token operator">-&gt;</span><span class="token function">prefixName</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"Pacwoman"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"\n"</span><span class="token punctuation">;</span>
<span class="token operator">?</span><span class="token operator">&gt;</span>
输出结果为：
Mr<span class="token operator">.</span> Pacman
Mrs<span class="token operator">.</span> Pacwoman
</code></pre> 
<h3><a id="17__438"></a>1.7 关键字</h3> 
<h4><a id="171_parentselfthis_439"></a>1.7.1 parent，self，this</h4> 
<p>大致区别：</p> 
<ul><li><code>parent</code>：用于在子类中调用父类的成员，尤其是在子类中重写父类方法后，还想使用父类方法的情况下。</li><li><code>self</code>：用于在类的静态上下文中调用当前类的静态方法和静态属性。它与 this 不同，self 不能用于访问实例属性或实例方法。</li><li><code>this</code>：用于引用当前对象实例，主要在非静态方法中使用，用来访问对象的实例属性和实例方法。</li></ul> 
<h5><a id="1711_parent_444"></a>1.7.1.1 parent</h5> 
<p><code>parent</code> 关键字用于访问<code>父类中的方法或属性</code>，特别是在子类中重写父类的方法时，<code>parent</code> 可以调用被覆盖的父类方法。<br> 常见用法：</p> 
<ul><li>调用父类的构造方法。</li><li>调用父类中被子类覆盖的方法。</li></ul> 
<pre><code class="prism language-php"><span class="token keyword">class</span> <span class="token class-name-definition class-name">ParentClass</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">greet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">echo</span> <span class="token string double-quoted-string">"Hello from Parent!"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">ChildClass</span> <span class="token keyword">extends</span> <span class="token class-name">ParentClass</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">greet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword static-context">parent</span><span class="token operator">::</span><span class="token function">greet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 调用父类的方法</span>
        <span class="token keyword">echo</span> <span class="token string double-quoted-string">" And Hello from Child!"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token variable">$child</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ChildClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$child</span><span class="token operator">-&gt;</span><span class="token function">greet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
输出：
Hello from <span class="token keyword">Parent</span><span class="token operator">!</span> <span class="token keyword">And</span> Hello from Child<span class="token operator">!</span>
</code></pre> 
<h5><a id="1712_self_469"></a>1.7.1.2 self</h5> 
<p><code>self</code> 关键字用于引用当前类中的<code>静态方法</code>或<code>静态属性</code>。在类的静态上下文中使用 <code>self</code> 来调用当前类的静态成员。</p> 
<p>常见用法：</p> 
<ul><li>调用当前类的静态方法。</li><li>访问当前类的静态属性。</li></ul> 
<pre><code class="prism language-php"><span class="token keyword">class</span> <span class="token class-name-definition class-name">MyClass</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token variable">$name</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"MyClass"</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">function</span> <span class="token function-definition function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token keyword static-context">self</span><span class="token operator">::</span><span class="token variable">$name</span><span class="token punctuation">;</span> <span class="token comment">// 使用 self 调用静态属性</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">echo</span> <span class="token class-name static-context">MyClass</span><span class="token operator">::</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出 "MyClass"</span>
</code></pre> 
<h5><a id="1713_this_487"></a>1.7.1.3 this</h5> 
<p><code>this</code> 关键字用于引用当前对象实例。<code>this</code> 是非静态上下文中的关键字，通常用于调用当前对象的实例方法和实例属性。</p> 
<p>常见用法：</p> 
<ul><li>访问当前对象的实例属性。</li><li>调用当前对象的实例方法。</li></ul> 
<pre><code class="prism language-php"><span class="token keyword">class</span> <span class="token class-name-definition class-name">MyClass</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token variable">$name</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">__construct</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">name</span> <span class="token operator">=</span> <span class="token variable">$name</span><span class="token punctuation">;</span> <span class="token comment">// 使用 this 访问实例属性</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">greet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">echo</span> <span class="token string double-quoted-string">"Hello, "</span> <span class="token operator">.</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">name</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token variable">$obj</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyClass</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"World"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$obj</span><span class="token operator">-&gt;</span><span class="token function">greet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出 "Hello, World"</span>
</code></pre> 
<h4><a id="172__511"></a>1.7.2 常量</h4> 
<h5><a id="1721_const_512"></a>1.7.2.1 const</h5> 
<p>可以把在类中始终保持不变的值定义为常量。在 定义和使用常量的时候不需要使用 <strong><code>$符号</code></strong> 。</p> 
<p>常量的值必须是一个定值，不能是变量，类属性，数学运算的结果或函数调用。</p> 
<p>自 PHP 5.3.0 起，可以用一个变量来动态调用类。但该变量的值不能为关键字（如 self，parent 或 static）。</p> 
<pre><code class="prism language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token keyword">class</span> <span class="token class-name-definition class-name">MyClass</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">const</span> <span class="token constant">constant</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'常量值'</span><span class="token punctuation">;</span>

    <span class="token keyword">function</span> <span class="token function-definition function">showConstant</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">echo</span>  <span class="token keyword static-context">self</span><span class="token operator">::</span><span class="token constant">constant</span> <span class="token operator">.</span> <span class="token constant">PHP_EOL</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">echo</span> <span class="token class-name static-context">MyClass</span><span class="token operator">::</span><span class="token constant">constant</span> <span class="token operator">.</span> <span class="token constant">PHP_EOL</span><span class="token punctuation">;</span>

<span class="token variable">$classname</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"MyClass"</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token variable">$classname</span><span class="token operator">::</span><span class="token constant">constant</span> <span class="token operator">.</span> <span class="token constant">PHP_EOL</span><span class="token punctuation">;</span> <span class="token comment">// 自 5.3.0 起</span>

<span class="token variable">$class</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$class</span><span class="token operator">-&gt;</span><span class="token function">showConstant</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">echo</span> <span class="token variable">$class</span><span class="token operator">::</span><span class="token constant">constant</span> <span class="token operator">.</span> <span class="token constant">PHP_EOL</span><span class="token punctuation">;</span> <span class="token comment">// 自 PHP 5.3.0 起</span>
<span class="token operator">?</span><span class="token operator">&gt;</span>
</code></pre> 
<h5><a id="1722_const__define_540"></a>1.7.2.2 const &amp; define</h5> 
<p><code>const</code> 和 <code>define</code> 都可以用来定义常量，但它们有一些关键的区别。</p> 
<ul><li><code>const</code>：<br> 用法：<code>const CONSTANT_NAME = value;</code><br> 只能用于<code>类</code>中或<code>全局作用域</code>，不能在条件语句内定义常量，支持在类中定义常量，使用时可以通过 <code>ClassName::CONSTANT_NAME</code> 访问类常量，定义在全局作用域时，可以直接通过 <code>CONSTANT_NAME</code> 访问<br> 常量的名称必须符合变量命名规则，通常使用全大写字母和下划线分隔单词。<br> 在<code>编译时</code>定义常量，只能用于定义标量类型的值（布尔值、整数、浮点数、字符串、常量数组）。<br> 在类中定义常量时，可以指定可见性（public、protected、private），限制访问范围。<br> 不支持使用动态值（例如函数返回值）来定义常量，必须是编译时确定的值</li><li><code>define</code>：<br> 用法：<code>define('CONSTANT_NAME', value);</code><br> 可以在全局作用域、函数内、或者条件语句内定义常量，但是它不能在类中直接使用<br> 常量的名称通常也使用全大写字母和下划线分隔单词，但可以是字符串（包括特殊字符和数字开头）。<br> 在<code>运行时</code>定义常量，也可以用于定义标量类型的值，但没有 <code>const</code> 那么严格。<br> 不支持可见性控制，定义的常量都是全局可见的。<br> <code>支持使用动态值</code>来定义常量，可以使用函数返回值等来定义，<code>define('RANDOM', rand())</code>。</li></ul> 
<h4><a id="173_Static_557"></a>1.7.3 Static</h4> 
<p>声明类属性或方法为 <code>static</code>(静态)，就可以不实例化类而直接访问。<br> 静态属性不能通过一个类已实例化的对象来访问（但静态方法可以）。<br> 由于静态方法不需要通过对象即可调用，所以伪变量 <code>$this</code> 在静态方法中不可用。<br> 静态属性不可以由对象通过 <code>-&gt;</code> 操作符来访问，需要双冒号 <code>::</code><br> 自 PHP 5.3.0 起，可以用一个变量来动态调用类。但该变量的值不能为关键字 self，parent 或 static。</p> 
<pre><code class="prism language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token keyword">class</span> <span class="token class-name-definition class-name">Foo</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token variable">$my_static</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'foo'</span><span class="token punctuation">;</span>
  
  <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">staticValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
     <span class="token keyword">return</span> <span class="token keyword static-context">self</span><span class="token operator">::</span><span class="token variable">$my_static</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">print</span> <span class="token class-name static-context">Foo</span><span class="token operator">::</span><span class="token variable">$my_static</span> <span class="token operator">.</span> <span class="token constant">PHP_EOL</span><span class="token punctuation">;</span>
<span class="token variable">$foo</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">print</span> <span class="token variable">$foo</span><span class="token operator">-&gt;</span><span class="token function">staticValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">.</span> <span class="token constant">PHP_EOL</span><span class="token punctuation">;</span>
<span class="token operator">?</span><span class="token operator">&gt;</span>    
执行以上程序，输出结果为：

foo
foo
</code></pre> 
<h4><a id="174_Final_583"></a>1.7.4 Final</h4> 
<p>PHP 5 新增了一个 <code>final</code> 关键字。如果父类中的方法被声明为 <code>final</code>，则子类无法覆盖该方法。如果一个类被声明为 <code>final</code>，则不能被继承。</p> 
<p>以下代码执行会报错：</p> 
<pre><code class="prism language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token keyword">class</span> <span class="token class-name-definition class-name">BaseClass</span> <span class="token punctuation">{<!-- --></span>
   <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
       <span class="token keyword">echo</span> <span class="token string double-quoted-string">"BaseClass::test() called"</span> <span class="token operator">.</span> <span class="token constant">PHP_EOL</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
   
   <span class="token keyword">final</span> <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">moreTesting</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
       <span class="token keyword">echo</span> <span class="token string double-quoted-string">"BaseClass::moreTesting() called"</span>  <span class="token operator">.</span> <span class="token constant">PHP_EOL</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">ChildClass</span> <span class="token keyword">extends</span> <span class="token class-name">BaseClass</span> <span class="token punctuation">{<!-- --></span>
   <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">moreTesting</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
       <span class="token keyword">echo</span> <span class="token string double-quoted-string">"ChildClass::moreTesting() called"</span>  <span class="token operator">.</span> <span class="token constant">PHP_EOL</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 报错信息 Fatal error: Cannot override final method BaseClass::moreTesting()</span>
<span class="token operator">?</span><span class="token operator">&gt;</span>
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ec2574e102b50737d9686b6d7aebca28/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">深入MySQL</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f8040da739912fbe8cf11f1f18284090/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">React——useRef（）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>