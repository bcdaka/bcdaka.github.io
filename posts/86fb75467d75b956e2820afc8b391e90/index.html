<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Eureka 概述与 Eureka Server 配置 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/86fb75467d75b956e2820afc8b391e90/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="Eureka 概述与 Eureka Server 配置">
  <meta property="og:description" content="在微服务架构中，服务注册与发现是一个至关重要的部分。Spring Cloud Netflix 提供了 Eureka 组件来解决这一问题。Eureka 是一个服务注册和发现组件，它允许微服务在启动时向 Eureka 注册，并能从中获取其他微服务的位置，从而实现客户端的负载均衡和故障转移。在这篇文章中，我们将详细介绍 Eureka 的基本概念以及如何配置 Eureka Server。
一、Eureka 概述 Eureka 是 Netflix 开源的一个服务注册与发现组件，分为 Eureka Server 和 Eureka Client 两部分。Eureka Server 作为服务注册中心，负责维护所有注册的服务实例信息；Eureka Client 是注册的服务实例，负责向 Eureka Server 注册和获取其他服务实例的信息。
1. 服务注册 服务实例在启动时会向 Eureka Server 注册自己的信息（如 IP 地址、端口等），并定期发送心跳以维持注册信息的有效性。如果 Eureka Server 在一定时间内未收到某个服务实例的心跳，则会将其从注册表中剔除。
2. 服务发现 微服务可以通过 Eureka 获取其他服务的位置，实现客户端的负载均衡和故障转移。通过 Eureka Client，微服务能够动态地获取服务实例列表，从而在调用其他服务时实现负载均衡。
二、Eureka Server 配置 在开始配置 Eureka Server 之前，需要确保已添加必要的依赖。下面是一个典型的 Spring Boot 项目配置文件 pom.xml，包括 Eureka Server 相关的依赖：
&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-server&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-06-17T15:40:56+08:00">
    <meta property="article:modified_time" content="2024-06-17T15:40:56+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Eureka 概述与 Eureka Server 配置</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>在微服务架构中，服务注册与发现是一个至关重要的部分。Spring Cloud Netflix 提供了 Eureka 组件来解决这一问题。Eureka 是一个服务注册和发现组件，它允许微服务在启动时向 Eureka 注册，并能从中获取其他微服务的位置，从而实现客户端的负载均衡和故障转移。在这篇文章中，我们将详细介绍 Eureka 的基本概念以及如何配置 Eureka Server。</p> 
<h4><a id="Eureka__2"></a>一、Eureka 概述</h4> 
<p>Eureka 是 Netflix 开源的一个服务注册与发现组件，分为 Eureka Server 和 Eureka Client 两部分。Eureka Server 作为服务注册中心，负责维护所有注册的服务实例信息；Eureka Client 是注册的服务实例，负责向 Eureka Server 注册和获取其他服务实例的信息。</p> 
<h5><a id="1__6"></a>1. 服务注册</h5> 
<p>服务实例在启动时会向 Eureka Server 注册自己的信息（如 IP 地址、端口等），并定期发送心跳以维持注册信息的有效性。如果 Eureka Server 在一定时间内未收到某个服务实例的心跳，则会将其从注册表中剔除。</p> 
<h5><a id="2__10"></a>2. 服务发现</h5> 
<p>微服务可以通过 Eureka 获取其他服务的位置，实现客户端的负载均衡和故障转移。通过 Eureka Client，微服务能够动态地获取服务实例列表，从而在调用其他服务时实现负载均衡。</p> 
<h4><a id="Eureka_Server__14"></a>二、Eureka Server 配置</h4> 
<p>在开始配置 Eureka Server 之前，需要确保已添加必要的依赖。下面是一个典型的 Spring Boot 项目配置文件 <code>pom.xml</code>，包括 Eureka Server 相关的依赖：</p> 
<pre><code>&lt;dependencies&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
        &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-server&lt;/artifactId&gt;
    &lt;/dependency&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
    &lt;/dependency&gt;
&lt;/dependencies&gt;
</code></pre> 
<p>接下来，需要创建一个 Spring Boot 应用并启用 Eureka Server 功能。在主应用类中添加 <code>@EnableEurekaServer</code> 注解：</p> 
<pre><code>import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.cloud.netflix.eureka.server.EnableEurekaServer;

@SpringBootApplication
@EnableEurekaServer
public class EurekaServerApplication {
    public static void main(String[] args) {
        SpringApplication.run(EurekaServerApplication.class, args);
    }
}
</code></pre> 
<p>然后，在 <code>application.yml</code> 或 <code>application.properties</code> 中配置 Eureka Server 的相关信息。以下是一个 <code>application.yml</code> 配置示例：</p> 
<pre><code>server:
  port: 8761

eureka:
  instance:
    hostname: localhost
  client:
    register-with-eureka: false
    fetch-registry: false
  server:
    enable-self-preservation: false
</code></pre> 
<h4><a id="_Eureka_Server_63"></a>三、启动 Eureka Server</h4> 
<p>完成上述配置后，启动 Spring Boot 应用，Eureka Server 将在配置的端口（默认 8761）启动。在浏览器中访问 <code>http://localhost:8761</code>，可以看到 Eureka Server 的管理界面，显示当前注册的服务实例信息。</p> 
<h4><a id="Eureka_Server__67"></a>四、Eureka Server 集群配置</h4> 
<p>在生产环境中，通常需要部署多个 Eureka Server 实例以实现高可用性。Eureka Server 支持集群配置，多个实例之间可以相互注册，形成一个集群。</p> 
<p>以下是一个集群配置示例，假设我们有两个 Eureka Server 实例，分别部署在 <code>host1</code> 和 <code>host2</code> 上：</p> 
<pre><code>eureka:
  instance:
    hostname: host1
  client:
    register-with-eureka: true
    fetch-registry: true
    service-url:
      defaultZone: http://host2:8761/eureka/
</code></pre> 
<p>对于第二个 Eureka Server 实例，配置如下：</p> 
<pre><code>eureka:
  instance:
    hostname: host2
  client:
    register-with-eureka: true
    fetch-registry: true
    service-url:
      defaultZone: http://host1:8761/eureka/
</code></pre> 
<p>通过这样的配置，两个 Eureka Server 实例将相互注册，实现服务实例信息的同步。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b7ab94f9b47185f9a33a05f4166b3295/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">小白的Python&#43;Anaconda&#43;vscode安装使用教程（win11系统手把手教学)（1）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/0fbc5625370ca8ee4588ae70ae041d23/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">如何完美解决 Xshell 使用 SSH 连接 Linux 服务器报错：找不到匹配的 host key 算法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>