<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>ES常见查询总结 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/f28a0cb635608e9d22ac3fbe57d4bd4f/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="ES常见查询总结">
  <meta property="og:description" content="目录 1:查询总数2:查询所有数据3:查询指定条数4:根据ID查询5:一个查询字符串搜索6:match搜索7:term搜索8:bool搜索9:must多条件匹配查询10:Should满足一个条件查询11: must_not必须不匹配查询12:多个字段查询内容13:一个字段查询多个内容14:通配符和正则匹配15:前缀查询16:短语匹配17:范围查询18:字段存在查询 1:查询总数 GET demo_person/_count { &#34;query&#34;: { &#34;match_all&#34;: {} } } 上述用sql表示：
SELECT COUNT(*) FROM demo_person 2:查询所有数据 GET demo_person/_search { &#34;query&#34;: { &#34;match_all&#34;: {} } } 上述用sql表示：
SELECT * FROM demo_person 3:查询指定条数 GET demo_person/_search { &#34;size&#34;: 20, &#34;query&#34;: { &#34;match_all&#34;: {} } } 上述用sql表示：
SELECT * FROM demo_person LIMIT 20 4:根据ID查询 GET /demo_person/_doc/1?pretty 上述用sql表示：
SELECT * FROM demo_person WHERE _id = &#39;1&#39; 5:一个查询字符串搜索 GET /demo_person/_search?q=last_name:Smith 上述用sql表示：
SELECT * FROM demo_person WHERE last_name = &#39;Smith&#39; 6:match搜索 这是一个 Elasticsearch 查询语句，用于在索引为 demo_person 中查询 last_name 字段包含 “Smith” 的文档,">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2023-12-14T20:33:22+08:00">
    <meta property="article:modified_time" content="2023-12-14T20:33:22+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">ES常见查询总结</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>目录</h4> 
 <ul><li><a href="#1_1" rel="nofollow">1:查询总数</a></li><li><a href="#2_16" rel="nofollow">2:查询所有数据</a></li><li><a href="#3_30" rel="nofollow">3:查询指定条数</a></li><li><a href="#4ID_44" rel="nofollow">4:根据ID查询</a></li><li><a href="#5_54" rel="nofollow">5:一个查询字符串搜索</a></li><li><a href="#6match_66" rel="nofollow">6:match搜索</a></li><li><a href="#7term_83" rel="nofollow">7:term搜索</a></li><li><a href="#8bool_101" rel="nofollow">8:bool搜索</a></li><li><a href="#9must_132" rel="nofollow">9:must多条件匹配查询</a></li><li><a href="#10Should_160" rel="nofollow">10:Should满足一个条件查询</a></li><li><a href="#11_must_not_188" rel="nofollow">11: must_not必须不匹配查询</a></li><li><a href="#12_216" rel="nofollow">12:多个字段查询内容</a></li><li><a href="#13_234" rel="nofollow">13:一个字段查询多个内容</a></li><li><a href="#14_254" rel="nofollow">14:通配符和正则匹配</a></li><li><a href="#15_276" rel="nofollow">15:前缀查询</a></li><li><a href="#16_296" rel="nofollow">16:短语匹配</a></li><li><a href="#17_313" rel="nofollow">17:范围查询</a></li><li><a href="#18_333" rel="nofollow">18:字段存在查询</a></li></ul> 
</div> 
<p></p> 
<h2><a id="1_1"></a>1:查询总数</h2> 
<pre><code class="prism language-powershell">GET demo_person/_count
<span class="token punctuation">{<!-- --></span> 
  <span class="token string">"query"</span>: <span class="token punctuation">{<!-- --></span>
    <span class="token string">"match_all"</span>: <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>上述用sql表示：</p> 
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> demo_person
</code></pre> 
<h2><a id="2_16"></a>2:查询所有数据</h2> 
<pre><code class="prism language-powershell">GET demo_person/_search
<span class="token punctuation">{<!-- --></span>  
  <span class="token string">"query"</span>: <span class="token punctuation">{<!-- --></span>
    <span class="token string">"match_all"</span>: <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>上述用sql表示：</p> 
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> demo_person
</code></pre> 
<h2><a id="3_30"></a>3:查询指定条数</h2> 
<pre><code class="prism language-powershell">GET demo_person/_search
<span class="token punctuation">{<!-- --></span>  <span class="token string">"size"</span>: 20<span class="token punctuation">,</span> 
  <span class="token string">"query"</span>: <span class="token punctuation">{<!-- --></span>
    <span class="token string">"match_all"</span>: <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>上述用sql表示：</p> 
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> demo_person <span class="token keyword">LIMIT</span> <span class="token number">20</span>
</code></pre> 
<h2><a id="4ID_44"></a>4:根据ID查询</h2> 
<pre><code class="prism language-powershell">GET <span class="token operator">/</span>demo_person/_doc/1?pretty
</code></pre> 
<p>上述用sql表示：</p> 
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> demo_person <span class="token keyword">WHERE</span> _id <span class="token operator">=</span> <span class="token string">'1'</span>
</code></pre> 
<h2><a id="5_54"></a>5:一个查询字符串搜索</h2> 
<pre><code class="prism language-powershell">GET <span class="token operator">/</span>demo_person/_search?q=last_name:Smith

</code></pre> 
<p>上述用sql表示：</p> 
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> demo_person <span class="token keyword">WHERE</span> last_name <span class="token operator">=</span> <span class="token string">'Smith'</span>

</code></pre> 
<h2><a id="6match_66"></a>6:match搜索</h2> 
<p>这是一个 Elasticsearch 查询语句，用于在索引为 demo_person 中查询 last_name 字段包含 “Smith” 的文档,<br> 特点先分词，再拿词去匹配倒排索引</p> 
<pre><code class="prism language-powershell">GET <span class="token operator">/</span>demo_person/_search
<span class="token punctuation">{<!-- --></span>
    <span class="token string">"query"</span> : <span class="token punctuation">{<!-- --></span>
        <span class="token string">"match"</span> : <span class="token punctuation">{<!-- --></span>
            <span class="token string">"last_name"</span> : <span class="token string">"Smith"</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>上述用sql表示：</p> 
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> demo_person <span class="token keyword">WHERE</span> last_name <span class="token operator">=</span><span class="token string">'Smith'</span>
</code></pre> 
<h2><a id="7term_83"></a>7:term搜索</h2> 
<p>这是一个 Elasticsearch 查询语句，用于在索引为 demo_person 中查询 last_name 字段精确匹配值为 “Smith” 的文档。term：不分词直接匹配词条</p> 
<pre><code class="prism language-powershell">GET <span class="token operator">/</span>demo_person/_search
<span class="token punctuation">{<!-- --></span>
  <span class="token string">"query"</span>: <span class="token punctuation">{<!-- --></span>
    <span class="token string">"term"</span>: <span class="token punctuation">{<!-- --></span>
      <span class="token string">"last_name"</span>: <span class="token punctuation">{<!-- --></span>
        <span class="token string">"value"</span>: <span class="token string">"Smith"</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>上述用sql表示：</p> 
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> demo_person <span class="token keyword">WHERE</span> last_name <span class="token operator">=</span> <span class="token string">'Smith'</span>
</code></pre> 
<h2><a id="8bool_101"></a>8:bool搜索</h2> 
<p>这是一个 Elasticsearch 查询语句，用于在索引为 demo_person 中查询 last_name 字段包含 “Smith” 且 age 大于等于 30 的文档。<br> must: 完全匹配条件 相当于sql中的and<br> should： 至少满足一个条件 相当于sql中的 or<br> must_not: 文档必须不匹配条件 相当于sql中的!=</p> 
<pre><code class="prism language-powershell">GET <span class="token operator">/</span>demo_person/_search
<span class="token punctuation">{<!-- --></span>
  <span class="token string">"query"</span>: <span class="token punctuation">{<!-- --></span>
    <span class="token string">"bool"</span>: <span class="token punctuation">{<!-- --></span>
      <span class="token string">"must"</span>: <span class="token punctuation">[</span>
        <span class="token punctuation">{<!-- --></span><span class="token string">"match"</span>: <span class="token punctuation">{<!-- --></span>
          <span class="token string">"last_name"</span>: <span class="token string">"Smith"</span>
        <span class="token punctuation">}</span><span class="token punctuation">}</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token string">"filter"</span>: <span class="token punctuation">[</span>
        <span class="token punctuation">{<!-- --></span><span class="token string">"range"</span>: <span class="token punctuation">{<!-- --></span>
          <span class="token string">"age"</span>: <span class="token punctuation">{<!-- --></span>
            <span class="token string">"gte"</span>: 30
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>上述用sql表示：</p> 
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> demo_person <span class="token keyword">WHERE</span> last_name <span class="token operator">=</span> <span class="token string">'Smith'</span> <span class="token operator">AND</span> age <span class="token operator">&gt;=</span> <span class="token number">30</span>
</code></pre> 
<h2><a id="9must_132"></a>9:must多条件匹配查询</h2> 
<p>这是一个 Elasticsearch 查询语句，用于在索引为 demo_person 中查询 last_name 字段包含 “Smith” 且 age 等于 32 的文档。</p> 
<pre><code class="prism language-powershell">GET <span class="token operator">/</span>demo_person/_search
<span class="token punctuation">{<!-- --></span>
  <span class="token string">"query"</span>: <span class="token punctuation">{<!-- --></span>
    <span class="token string">"bool"</span>: <span class="token punctuation">{<!-- --></span>
      <span class="token string">"must"</span>: <span class="token punctuation">[</span>
        <span class="token punctuation">{<!-- --></span>
          <span class="token string">"match"</span>: <span class="token punctuation">{<!-- --></span>
          <span class="token string">"last_name"</span>: <span class="token string">"Smith"</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span>
          <span class="token string">"match"</span>: <span class="token punctuation">{<!-- --></span>
            <span class="token string">"age"</span>: 32
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>上述用sql表示：</p> 
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> demo_person <span class="token keyword">WHERE</span> last_name <span class="token operator">=</span> <span class="token string">'Smith'</span> <span class="token operator">AND</span> age <span class="token operator">=</span> <span class="token number">32</span>
</code></pre> 
<h2><a id="10Should_160"></a>10:Should满足一个条件查询</h2> 
<p>这是一个 Elasticsearch 查询语句，用于在索引为 demo_person 中查询 last_name 字段包含 “Fir” 或 age 等于 32 的文档。</p> 
<pre><code class="prism language-powershell">GET <span class="token operator">/</span>demo_person/_search
<span class="token punctuation">{<!-- --></span>
  <span class="token string">"query"</span>: <span class="token punctuation">{<!-- --></span>
    <span class="token string">"bool"</span>: <span class="token punctuation">{<!-- --></span>
      <span class="token string">"should"</span>: <span class="token punctuation">[</span>
        <span class="token punctuation">{<!-- --></span>
          <span class="token string">"match"</span>: <span class="token punctuation">{<!-- --></span>
          <span class="token string">"last_name"</span>: <span class="token string">"Fir"</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span>
          <span class="token string">"match"</span>: <span class="token punctuation">{<!-- --></span>
            <span class="token string">"age"</span>: 32
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>上述用sql表示：</p> 
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> demo_person <span class="token keyword">WHERE</span> last_name <span class="token operator">=</span> <span class="token string">'Fir'</span> <span class="token operator">OR</span> age <span class="token operator">=</span> <span class="token number">32</span>
</code></pre> 
<h2><a id="11_must_not_188"></a>11: must_not必须不匹配查询</h2> 
<p>这是一个 Elasticsearch 查询语句，用于在索引为 demo_person 中查询 last_name 字段不包含 “Fir” 且 age 不等于 32 的文档</p> 
<pre><code class="prism language-powershell">GET <span class="token operator">/</span>demo_person/_search
<span class="token punctuation">{<!-- --></span>
  <span class="token string">"query"</span>: <span class="token punctuation">{<!-- --></span>
    <span class="token string">"bool"</span>: <span class="token punctuation">{<!-- --></span>
      <span class="token string">"must_not"</span>: <span class="token punctuation">[</span>
        <span class="token punctuation">{<!-- --></span>
          <span class="token string">"match"</span>: <span class="token punctuation">{<!-- --></span>
          <span class="token string">"last_name"</span>: <span class="token string">"Fir"</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span>
          <span class="token string">"match"</span>: <span class="token punctuation">{<!-- --></span>
            <span class="token string">"age"</span>: 32
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>上述用sql表示：</p> 
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> demo_person <span class="token keyword">WHERE</span> last_name <span class="token operator">!=</span> <span class="token string">'Fir'</span> <span class="token operator">AND</span> age <span class="token operator">!=</span> <span class="token number">32</span>
</code></pre> 
<h2><a id="12_216"></a>12:多个字段查询内容</h2> 
<p>这是一个 Elasticsearch 查询语句，用于在索引为 demo_person 中查询 last_name 和 about 字段包含 “collect” 或 “rock” 的文档。</p> 
<pre><code class="prism language-powershell">GET <span class="token operator">/</span>demo_person/_search
<span class="token punctuation">{<!-- --></span>
 <span class="token string">"query"</span>: <span class="token punctuation">{<!-- --></span>
    <span class="token string">"multi_match"</span>: <span class="token punctuation">{<!-- --></span>
      <span class="token string">"query"</span>: <span class="token string">"collect rock"</span><span class="token punctuation">,</span>
      <span class="token string">"fields"</span>: <span class="token punctuation">[</span><span class="token string">"last_name"</span><span class="token punctuation">,</span><span class="token string">"about"</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>上述用sql表示：</p> 
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> demo_person <span class="token keyword">WHERE</span> last_name <span class="token operator">LIKE</span> <span class="token string">'%collect%'</span> <span class="token operator">OR</span> about <span class="token operator">LIKE</span> <span class="token string">'%collect%'</span> <span class="token operator">OR</span> last_name <span class="token operator">LIKE</span> <span class="token string">'%rock%'</span> <span class="token operator">OR</span> about <span class="token operator">LIKE</span> <span class="token string">'%rock%'</span>
</code></pre> 
<h2><a id="13_234"></a>13:一个字段查询多个内容</h2> 
<pre><code class="prism language-powershell">GET <span class="token operator">/</span>demo_person/_search
<span class="token punctuation">{<!-- --></span>
 <span class="token string">"query"</span>: <span class="token punctuation">{<!-- --></span>
   <span class="token string">"terms"</span>: <span class="token punctuation">{<!-- --></span>
     <span class="token string">"about"</span>: <span class="token punctuation">[</span>
       <span class="token string">"rock"</span><span class="token punctuation">,</span>
       <span class="token string">"hehe"</span>	
     <span class="token punctuation">]</span>
   <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>	
<span class="token punctuation">}</span>
</code></pre> 
<p>上述用sql表示：</p> 
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> demo_person <span class="token keyword">WHERE</span> about <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token string">'rock'</span><span class="token punctuation">,</span> <span class="token string">'hehe'</span><span class="token punctuation">)</span>
</code></pre> 
<h2><a id="14_254"></a>14:通配符和正则匹配</h2> 
<pre><code class="prism language-powershell">GET <span class="token operator">/</span>demo_person/_search
<span class="token punctuation">{<!-- --></span>
 <span class="token string">"query"</span>: <span class="token punctuation">{<!-- --></span>
   <span class="token string">"bool"</span>: <span class="token punctuation">{<!-- --></span>
     <span class="token string">"filter"</span>: <span class="token punctuation">[</span>
      <span class="token punctuation">{<!-- --></span>
         <span class="token string">"wildcard"</span>:<span class="token punctuation">{<!-- --></span>
         <span class="token string">"last_name"</span>:<span class="token string">"*mi*"</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">]</span>
   <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>上述用sql表示：</p> 
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> demo_person <span class="token keyword">WHERE</span> last_name <span class="token operator">LIKE</span> <span class="token string">'%mi%'</span>
</code></pre> 
<h2><a id="15_276"></a>15:前缀查询</h2> 
<pre><code class="prism language-powershell">GET <span class="token operator">/</span>demo_person/_search
<span class="token punctuation">{<!-- --></span>
 <span class="token string">"query"</span>: <span class="token punctuation">{<!-- --></span>
   <span class="token string">"prefix"</span>: <span class="token punctuation">{<!-- --></span>
     <span class="token string">"last_name"</span>: <span class="token punctuation">{<!-- --></span>
       <span class="token string">"value"</span>: <span class="token string">"Smi"</span>
     <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
 
</code></pre> 
<p>上述用sql表示：</p> 
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> demo_person <span class="token keyword">WHERE</span> last_name <span class="token operator">LIKE</span> <span class="token string">'Smi%'</span>
</code></pre> 
<h2><a id="16_296"></a>16:短语匹配</h2> 
<p>这是一个 Elasticsearch 查询语句，用于在索引为 demo_person 中查询 about 字段包含短语 “rock climbing” 的文档。</p> 
<pre><code class="prism language-powershell">GET <span class="token operator">/</span>demo_person/_search
<span class="token punctuation">{<!-- --></span>
    <span class="token string">"query"</span> : <span class="token punctuation">{<!-- --></span>
        <span class="token string">"match_phrase"</span> : <span class="token punctuation">{<!-- --></span>
            <span class="token string">"about"</span> : <span class="token string">"rock climbing"</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>上述用sql表示：</p> 
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> demo_person <span class="token keyword">WHERE</span> about <span class="token operator">LIKE</span> <span class="token string">'%rock climbing%'</span>
</code></pre> 
<h2><a id="17_313"></a>17:范围查询</h2> 
<pre><code class="prism language-powershell">GET demo_person/_search
<span class="token punctuation">{<!-- --></span>  
  <span class="token string">"query"</span>: <span class="token punctuation">{<!-- --></span>
    <span class="token string">"range"</span>: <span class="token punctuation">{<!-- --></span>
      <span class="token string">"age"</span>: <span class="token punctuation">{<!-- --></span>
        <span class="token string">"gte"</span>: 30<span class="token punctuation">,</span>
        <span class="token string">"lt"</span>: 35
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>上述用sql表示：</p> 
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> demo_person <span class="token keyword">WHERE</span> age <span class="token operator">&gt;=</span> <span class="token number">30</span> <span class="token operator">AND</span> age <span class="token operator">&lt;</span> <span class="token number">35</span>
</code></pre> 
<h2><a id="18_333"></a>18:字段存在查询</h2> 
<pre><code class="prism language-powershell">GET <span class="token operator">/</span>demo_person/_search
<span class="token punctuation">{<!-- --></span>
 <span class="token string">"query"</span>: <span class="token punctuation">{<!-- --></span>
   <span class="token string">"exists"</span>: <span class="token punctuation">{<!-- --></span><span class="token string">"field"</span>: <span class="token string">"age"</span><span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>上述用sql表示：</p> 
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> demo_person <span class="token keyword">WHERE</span> age <span class="token operator">IS</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span>
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/5dad3674e3f34c8552067eb7474bb763/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">利用python&#43;whisper生成视频字幕文件</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/1da176df9138f55ccba87f351c94ed31/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">ai绘画 ai模型对显卡的要求</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>