<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>我出一道面试题，看看你能拿 3k 还是 30k！ - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/9b580837c71f6c53db90a49de21b2352/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="我出一道面试题，看看你能拿 3k 还是 30k！">
  <meta property="og:description" content="大家好，我是程序员鱼皮。欢迎屏幕前的各位来到今天的模拟面试现场，接下来我会出一道经典的后端面试题，你只需要进行 4 个简单的选择，就能判断出来你的水平是新手（3k）、初级（10k）、中级（15k）还是高级（30k）！
请听题：
题目 MySQL 数据库中的 count(1)、count(*)、count(字段）有什么区别？
在面试鸭上查看
请回答 1、它们在功能上有区别么？ A：有区别
B：没区别
答案 有区别。虽然在 MySQL 中，count(*)、count(1) 和 count(字段名) 都是用来 统计行数的聚合函数 。
但 count(*) 和 count(1) 会统计表中所有行的数量，包括 null 值（不会忽略任何一行数据）；而 count(字段名) 只会统计指定字段不为 null 的行数。
恭喜答对的朋友，3k 的 offer 到手啦！
2、count(*) 和 count(1) 谁更快？ A：count(*)
B：count(1)
C：没区别
答案 效率一致，没区别。
关于 count(1) 和 count(*) 谁更快的问题，网上众说纷纭，如果背了不专业的八股文，可能答案就选错咯~
有点经验的程序员，在遇到不确定的问题时，当然要去源头亲自求证，得去看官网怎么说。如图：
官网表示 There is no performance difference ，即二者没有性能上的区别！
对于 count(字段) 的查询就是全表扫描，正常情况下它还需要判断字段是否是 null 值，因此理论上会比 count(1) 和 count(*) 慢。
但是如果字段不为 null，例如是主键或具有非空约束，那么理论上性能也差不多。而且本质上它们的统计功能不一样，在需要统计 null 的时候，只能用 count(1) 和 count(*)，不需要统计 null 的时候只能用 count(字段)，所以也不用太纠结性能问题。">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-07-30T11:00:35+08:00">
    <meta property="article:modified_time" content="2024-07-30T11:00:35+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">我出一道面试题，看看你能拿 3k 还是 30k！</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>大家好，我是程序员鱼皮。欢迎屏幕前的各位来到今天的模拟面试现场，接下来我会出一道经典的后端面试题，你只需要进行 4 个简单的选择，就能判断出来你的水平是新手（3k）、初级（10k）、中级（15k）还是高级（30k）！</p> 
<p>请听题：</p> 
<h3><a id="_6"></a>题目</h3> 
<p>MySQL 数据库中的 count(1)、count(*)、count(字段）有什么区别？</p> 
<p><a href="https://www.mianshiya.com/bank/1791003439968264194/question/1780933295513563137" rel="nofollow">在面试鸭上查看</a></p> 
<h3><a id="_14"></a>请回答</h3> 
<h4><a id="1_16"></a>1、它们在功能上有区别么？</h4> 
<p>A：有区别</p> 
<p>B：没区别</p> 
<h5><a id="_24"></a>答案</h5> 
<p>有区别。虽然在 MySQL 中，count(*)、count(1) 和 count(字段名) 都是用来 <strong>统计行数的聚合函数</strong> 。</p> 
<p>但 count(*) 和 count(1) 会统计表中所有行的数量，包括 null 值（不会忽略任何一行数据）；而 count(字段名) 只会统计指定字段不为 null 的行数。</p> 
<p>恭喜答对的朋友，3k 的 offer 到手啦！</p> 
<h4><a id="2count__count1__34"></a>2、count(*) 和 count(1) 谁更快？</h4> 
<p>A：count(*)</p> 
<p>B：count(1)</p> 
<p>C：没区别</p> 
<h5><a id="_44"></a>答案</h5> 
<p>效率一致，没区别。</p> 
<p>关于 count(1) 和 count(*) 谁更快的问题，网上众说纷纭，如果背了不专业的八股文，可能答案就选错咯~</p> 
<p>有点经验的程序员，在遇到不确定的问题时，当然要去源头亲自求证，得去看官网怎么说。如图：</p> 
<p><img src="https://images2.imgbox.com/42/f7/70Frewu8_o.png" alt=""></p> 
<p>官网表示 <code>There is no performance difference</code> ，即二者没有性能上的区别！</p> 
<p>对于 count(字段) 的查询就是全表扫描，正常情况下它还需要判断字段是否是 null 值，因此理论上会比 count(1) 和 count(*) 慢。</p> 
<p>但是如果字段不为 null，例如是主键或具有非空约束，那么理论上性能也差不多。而且本质上它们的统计功能不一样，在需要统计 null 的时候，只能用 count(1) 和 count(*)，不需要统计 null 的时候只能用 count(字段)，所以也不用太纠结性能问题。</p> 
<p>恭喜答对的朋友，10k 的 offer 到手啦！</p> 
<h4><a id="3_count__64"></a>3、用 count(*) 统计有千万条记录的表的总数据量，快不快？</h4> 
<p>A：快</p> 
<p>B：慢</p> 
<p>C：其他</p> 
<h5><a id="_74"></a>答案</h5> 
<p>这是一道简单的场景题，有经验的程序员，本能地会想到 <strong>具体情况具体分析</strong> 。</p> 
<p>MySQL 有 2 个主流的存储引擎 MyISAM 和 InnoDB。</p> 
<p>在 MyISAM 引擎中，有一个内部计数器来维护表的记录数，查询时可以直接返回表的行数，而无需扫描整个表，所以 count(*) 非常快。</p> 
<p>但是在 InnoDB 引擎中无法维护记录总数，需要扫描整个表，所以表越大、记录越多，count(*) 就越慢。</p> 
<p>为什么 InnoDB 引擎不维护记录总数呢？因为它支持行锁，会有很多并发修改表数据的操作，难以维护总数，还会带来额外的性能开销；而 MyISAM 只有表锁，对单个表的修改串行执行，所以能维护总数。所以要针对业务场景选择不同的 MySQL 引擎。</p> 
<p>恭喜答对的朋友，15k 的 offer 到手啦！</p> 
<h4><a id="4InnoDB_countid__count__90"></a>4、InnoDB 引擎中，count(id) 和 count(二级索引) 哪个成本更低？</h4> 
<p>A：count(id)</p> 
<p>B：count(二级索引)</p> 
<p>C：其他</p> 
<h5><a id="_100"></a>答案</h5> 
<p>count(二级索引) 通常成本更低。是不是没想到？</p> 
<p>这是对上一问的进一步追问，虽然 InnoDB 引擎中 count(*) 统计总数性能不高，但它也针对这个操作进行了一定的优化。</p> 
<p>id 通常是主键索引，在 InnoDB 中，主键索引是聚簇索引，它存储了实际的数据行。执行 count 时，InnoDB 需要遍历整个聚簇索引来统计行数。</p> 
<p>二级索引是指存储了索引列和主键列的指针，而不包含实际的数据行。因此，二级索引相对来说更小。执行 count 时，InnoDB 只需要遍历这个较小的二级索引，而不是整个聚簇索引，需要读取的数据页更少，所以成本更低。</p> 
<p>当然，理论归理论，具体情况具体分析，具体的性能差异取决于索引的大小和表的结构，可以用 explain 语句查看查询计划和成本。</p> 
<p>恭喜答对的朋友，30k 的 offer 到手啦！</p> 
<p>哦不对，恭喜摸到了 30k 的门槛，继续努力，说不定下一个技术专家就是你~</p> 
<p><img src="https://images2.imgbox.com/40/28/ebUcLBrC_o.png" alt=""></p> 
<h3><a id="_118"></a>最后</h3> 
<p>通过这道题目可以发现，其实面试的时候，很多题目都是可以深挖的，挖的越深，越能体现出候选人的水平。</p> 
<p>有同学表示：自己面试题目都答上来了，为啥还是通过不了？</p> 
<p>别灰心，可能只是差点儿运气，同场面试有同学比你答的更深、表达更流畅罢了。</p> 
<p>不管怎么样，大家在准备面试八股文的时候，有时间的话，多思考一点、再深入一点，自己也能学到很多东西。欢迎多到我们的 <a href="https://www.mianshiya.com/" rel="nofollow">面试刷题神器 - 面试鸭</a> 上看看。</p> 
<p>你答对了几问呢？欢迎大家在评论区留言~</p> 
<h3><a id="_130"></a>更多</h3> 
<p>💻 编程学习交流：<a href="https://www.code-nav.cn" rel="nofollow">编程导航</a><br> 📃 简历快速制作：<a href="https://laoyujianli.com" rel="nofollow">老鱼简历</a><br> ✏️ 面试刷题神器：<a href="https://mianshiya.com" rel="nofollow">面试鸭</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f304c00763cf264dc92a7f8c35bdab5b/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">设计模式 之 —— 抽象工厂模式</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b80689dc84fe4cb2df4d7f94bc3ace8d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">本地部署 Llama 3.1：Ollama、OpenWeb UI 和 Spring AI 的综合指南</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>