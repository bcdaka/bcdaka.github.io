<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>redis最新版本在Windows系统上的安装 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/d16abd1a7c4d5840c73754b1e419b681/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="redis最新版本在Windows系统上的安装">
  <meta property="og:description" content="一、说明 这次安装操作主要是根据redis官网说明，一步步安装下来的，英语比较好的同学，可以直接看文章底部的超链接1，跳到官网按步操作即可。
目前redis的最新稳定版本为redis7.2。
二、Windows环境改造 Redis在Windows上不被官方支持。但是，您可以按照以下说明在Windows上安装Redis进行开发。
要在Windows上安装Redis，首先需要启用WSL2(Linux的Windows子系统)。WSL2允许您在Windows上本机运行Linux二进制文件。要使用这种方法，你需要运行Windows10 2004及更高版本或Windows 11。
2.1 安装wsl（微软linux子系统） 【Windows】&#43; R键，打开运行窗口，输入【cmd】命令，确定，操作如下：
输入wsl --install命令即可，回车执行。更多操作可以参见官网：https://learn.microsoft.com/en-us/windows/wsl/install
2.2 安装完成后，你的Windows电脑上会多出下面两个项目，点击Ubuntu，在Ubuntu页面里你很大可能会遇到下面记录的异常 异常提示信息：
wsl: 检测到 localhost 代理配置，但未镜像到 WSL 2.3 解决办法 打开系统的网络设置，进行局域网配置即可，将局域网设置为【自动检测设置】
2.4 上述配置完成后，重启电脑 重新打开Ubuntu应用，进行用户和密码设置。
https://learn.microsoft.com/en-us/windows/wsl/setup/environment#set-up-your-linux-username-and-password
三、安装redis7.2 3.1 进入电脑上的刚刚安装的Ubuntu应用 一旦你在Windows上运行Ubuntu，你可以按照安装在Ubuntu/Debian上的详细步骤，从官方的package . Redis .io APT存储库中安装最新稳定版本的Redis。将存储库添加到apt索引，更新它，然后安装，具体命令如下：
curl -fsSL https://packages.redis.io/gpg | sudo gpg --dearmor -o /usr/share/keyrings/redis-archive-keyring.gpg echo &#34;deb [signed-by=/usr/share/keyrings/redis-archive-keyring.gpg] https://packages.redis.io/deb $(lsb_release -cs) main&#34; | sudo tee /etc/apt/sources.list.d/redis.list sudo apt-get update sudo apt-get install redis 最后，启动你的redis应用：
sudo service redis-server start 命令验证">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-03-08T11:30:30+08:00">
    <meta property="article:modified_time" content="2024-03-08T11:30:30+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">redis最新版本在Windows系统上的安装</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-dracula">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="_0"></a>一、说明</h3> 
<p>这次安装操作主要是根据redis官网说明，一步步安装下来的，英语比较好的同学，可以直接看文章底部的超链接1，跳到官网按步操作即可。<br> 目前redis的最新稳定版本为redis7.2。</p> 
<h3><a id="Windows_3"></a>二、Windows环境改造</h3> 
<blockquote> 
 <p>Redis在Windows上不被官方支持。但是，您可以按照以下说明在Windows上安装Redis进行开发。</p> 
 <p>要在Windows上安装Redis，首先需要启用WSL2(Linux的Windows子系统)。WSL2允许您在Windows上本机运行Linux二进制文件。要使用这种方法，你需要运行Windows10 2004及更高版本或Windows 11。</p> 
</blockquote> 
<h4><a id="21_wsllinux_9"></a>2.1 安装wsl（微软linux子系统）</h4> 
<p>【Windows】+ R键，打开运行窗口，输入【cmd】命令，确定，操作如下：<br> <img src="https://images2.imgbox.com/b3/e0/JrMI8HBU_o.png" alt="在这里插入图片描述">输入<code>wsl --install</code>命令即可，回车执行。更多操作可以参见官网：https://learn.microsoft.com/en-us/windows/wsl/install<br> <img src="https://images2.imgbox.com/84/89/IcJQNWAg_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="22_WindowsUbuntuUbuntu_13"></a>2.2 安装完成后，你的Windows电脑上会多出下面两个项目，点击Ubuntu，在Ubuntu页面里你很大可能会遇到下面记录的异常</h4> 
<p><img src="https://images2.imgbox.com/11/93/VLy7sFBV_o.png" alt="在这里插入图片描述"><br> 异常提示信息：</p> 
<pre><code class="prism language-bash">wsl: 检测到 localhost 代理配置，但未镜像到 WSL
</code></pre> 
<h4><a id="23__20"></a>2.3 解决办法</h4> 
<p>打开系统的网络设置，进行局域网配置即可，将局域网设置为【自动检测设置】<br> <img src="https://images2.imgbox.com/18/f0/X40MkLlM_o.png" alt="在这里插入图片描述"><img src="https://images2.imgbox.com/0c/a2/5uaRmCMX_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/8b/f4/9Q5tkaST_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="24__24"></a>2.4 上述配置完成后，重启电脑</h4> 
<p>重新打开Ubuntu应用，进行用户和密码设置。<br> https://learn.microsoft.com/en-us/windows/wsl/setup/environment#set-up-your-linux-username-and-password</p> 
<h3><a id="redis72_28"></a>三、安装redis7.2</h3> 
<h4><a id="31_Ubuntu_29"></a>3.1 进入电脑上的刚刚安装的Ubuntu应用</h4> 
<p>一旦你在Windows上运行Ubuntu，你可以按照安装在Ubuntu/Debian上的详细步骤，从官方的package . Redis .io APT存储库中安装最新稳定版本的Redis。将存储库添加到apt索引，更新它，然后安装，具体命令如下：</p> 
<pre><code class="prism language-bash"><span class="token function">curl</span> <span class="token parameter variable">-fsSL</span> https://packages.redis.io/gpg <span class="token operator">|</span> <span class="token function">sudo</span> gpg <span class="token parameter variable">--dearmor</span> <span class="token parameter variable">-o</span> /usr/share/keyrings/redis-archive-keyring.gpg

<span class="token builtin class-name">echo</span> <span class="token string">"deb [signed-by=/usr/share/keyrings/redis-archive-keyring.gpg] https://packages.redis.io/deb <span class="token variable"><span class="token variable">$(</span>lsb_release <span class="token parameter variable">-cs</span><span class="token variable">)</span></span> main"</span> <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> /etc/apt/sources.list.d/redis.list

<span class="token function">sudo</span> <span class="token function">apt-get</span> update
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> redis
</code></pre> 
<p>最后，启动你的redis应用：</p> 
<pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">service</span> redis-server start
</code></pre> 
<p>命令验证<br> <img src="https://images2.imgbox.com/fc/31/SX0n0Htp_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="32__48"></a>3.2 链接测试</h4> 
<p><img src="https://images2.imgbox.com/c0/30/NDxGD6Sq_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/bd/02/80Hw3JHd_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="33_redisWindows_52"></a>3.3 设置redis随Windows系统开启自启</h4> 
<p>大概思路就是曲线救国，先设置redis随Ubuntu系统自启，然后设置Ubuntu随Windows开机自启。</p> 
<h5><a id="331_Redis_54"></a>3.3.1 以下是设置Redis自启动的步骤：</h5> 
<ul><li>创建一个新的systemd服务文件。</li></ul> 
<pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">nano</span> /etc/systemd/system/redis.service
</code></pre> 
<ul><li>添加以下内容到服务文件中：</li></ul> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>Unit<span class="token punctuation">]</span>
<span class="token assign-left variable">Description</span><span class="token operator">=</span>Redis In-Memory Data Store
<span class="token assign-left variable">After</span><span class="token operator">=</span>network.target
 
<span class="token punctuation">[</span>Service<span class="token punctuation">]</span>
<span class="token assign-left variable">User</span><span class="token operator">=</span>redis
<span class="token assign-left variable">Group</span><span class="token operator">=</span>redis
<span class="token assign-left variable">ExecStart</span><span class="token operator">=</span>/usr/bin/redis-server /etc/redis/redis.conf
<span class="token assign-left variable">ExecStop</span><span class="token operator">=</span>/usr/bin/redis-cli <span class="token function">shutdown</span>
<span class="token assign-left variable">Restart</span><span class="token operator">=</span>always
 
<span class="token punctuation">[</span>Install<span class="token punctuation">]</span>
<span class="token assign-left variable">WantedBy</span><span class="token operator">=</span>multi-user.target
</code></pre> 
<p>确保ExecStart中的路径是你的redis-server的实际路径，同样redis.conf的路径也要正确。</p> 
<ul><li>重新加载systemd管理器配置。</li></ul> 
<pre><code class="prism language-bash"><span class="token function">sudo</span> systemctl daemon-reload
</code></pre> 
<ul><li>启用Redis服务以在启动时运行。</li></ul> 
<pre><code class="prism language-bash"><span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> redis
</code></pre> 
<ul><li>（可选）立即启动Redis服务。</li></ul> 
<pre><code class="prism language-bash"><span class="token function">sudo</span> systemctl start redis
</code></pre> 
<p>确保你已经安装了Redis并且配置文件位于/etc/redis/redis.conf。如果你的配置文件位置不同，请相应地修改服务文件中的路径。</p> 
<ul><li>效果验证，关闭Ubuntu窗口，重新打开，redis服务进程仍在。<br> ![在这里插入图片描述](https://img-blog.csdnimg.cn/direct/d0b3091b5455403b94a6be6725d7a767.png</li></ul> 
<h5><a id="_102"></a>另一种设置方法</h5> 
<ul><li>创建redis自启动脚本</li></ul> 
<pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">vim</span> /etc/init.d/redis_6379
</code></pre> 
<ul><li>贴入一下内容</li></ul> 
<pre><code class="prism language-bash"><span class="token shebang important">#!/bin/sh</span>
<span class="token comment">#</span>
<span class="token comment"># Simple Redis init.d script conceived to work on Linux systems</span>
<span class="token comment"># as it does use of the /proc filesystem.</span>

<span class="token comment">### BEGIN INIT INFO</span>
<span class="token comment"># Provides:     redis_6379</span>
<span class="token comment"># Default-Start:        2 3 4 5</span>
<span class="token comment"># Default-Stop:         0 1 6</span>
<span class="token comment"># Short-Description:    Redis data structure server</span>
<span class="token comment"># Description:          Redis data structure server. See https://redis.io</span>
<span class="token comment">### END INIT INFO</span>

<span class="token assign-left variable">REDISPORT</span><span class="token operator">=</span><span class="token number">6379</span>
<span class="token comment"># 你的redis-server、redis-cli实际路径</span>
<span class="token assign-left variable">EXEC</span><span class="token operator">=</span>/usr/local/bin/redis-server
<span class="token assign-left variable">CLIEXEC</span><span class="token operator">=</span>/usr/local/bin/redis-cli

<span class="token assign-left variable">PIDFILE</span><span class="token operator">=</span>/var/run/redis_<span class="token variable">${REDISPORT}</span>.pid
<span class="token assign-left variable">CONF</span><span class="token operator">=</span><span class="token string">"/etc/redis/<span class="token variable">${REDISPORT}</span>.conf"</span>

<span class="token keyword">case</span> <span class="token string">"<span class="token variable">$1</span>"</span> <span class="token keyword">in</span>
    start<span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-f</span> <span class="token variable">$PIDFILE</span> <span class="token punctuation">]</span>
        <span class="token keyword">then</span>
                <span class="token builtin class-name">echo</span> <span class="token string">"<span class="token variable">$PIDFILE</span> exists, process is already running or crashed"</span>
        <span class="token keyword">else</span>
                <span class="token builtin class-name">echo</span> <span class="token string">"Starting Redis server..."</span>
                <span class="token variable">$EXEC</span> <span class="token variable">$CONF</span>
        <span class="token keyword">fi</span>
        <span class="token punctuation">;</span><span class="token punctuation">;</span>
    stop<span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> <span class="token parameter variable">-f</span> <span class="token variable">$PIDFILE</span> <span class="token punctuation">]</span>
        <span class="token keyword">then</span>
                <span class="token builtin class-name">echo</span> <span class="token string">"<span class="token variable">$PIDFILE</span> does not exist, process is not running"</span>
        <span class="token keyword">else</span>
                <span class="token assign-left variable">PID</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">cat</span> $PIDFILE<span class="token variable">)</span></span>
                <span class="token builtin class-name">echo</span> <span class="token string">"Stopping ..."</span>
                <span class="token variable">$CLIEXEC</span> <span class="token parameter variable">-p</span> <span class="token variable">$REDISPORT</span> <span class="token function">shutdown</span>
                <span class="token keyword">while</span> <span class="token punctuation">[</span> <span class="token parameter variable">-x</span> /proc/<span class="token variable">${PID}</span> <span class="token punctuation">]</span>
                <span class="token keyword">do</span>
                    <span class="token builtin class-name">echo</span> <span class="token string">"Waiting for Redis to shutdown ..."</span>
                    <span class="token function">sleep</span> <span class="token number">1</span>
                <span class="token keyword">done</span>
                <span class="token builtin class-name">echo</span> <span class="token string">"Redis stopped"</span>
        <span class="token keyword">fi</span>
        <span class="token punctuation">;</span><span class="token punctuation">;</span>
    *<span class="token punctuation">)</span>
        <span class="token builtin class-name">echo</span> <span class="token string">"Please use start or stop as first argument"</span>
        <span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token keyword">esac</span>

</code></pre> 
<ul><li>修改上述文件权限</li></ul> 
<pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">chmod</span> <span class="token number">777</span> redis_6379
</code></pre> 
<ul><li>创建9376.conf,上面脚本中有用到，你也可以直接修改脚本</li></ul> 
<pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">cp</span> /etc/redis/redis.conf /etc/redis/6379.conf
</code></pre> 
<ul><li>开启redis</li></ul> 
<pre><code class="prism language-bash"><span class="token function">sudo</span> /etc/init.d/redis_6379 start
</code></pre> 
<h5><a id="332_UbuntuWindows_181"></a>3.3.2 设置Ubuntu随Windows系统开机自启</h5> 
<p><img src="https://images2.imgbox.com/fb/5e/ZVsxk7dz_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_183"></a>四、参考文章</h3> 
<p>1.https://redis.io/docs/install/install-redis/install-redis-on-windows/<br> 2.https://www.jianshu.com/p/47d7b7e9bb40</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/698fed5d8c90a435b28aaaba80ede97d/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【AI面试】目标检测中one-stage、two-stage算法的内容和优缺点对比汇总</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/57808631247281e508cf7e1dfb5efabe/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">16款Stable Diffusion插件推荐，让SD小白快速上手</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>