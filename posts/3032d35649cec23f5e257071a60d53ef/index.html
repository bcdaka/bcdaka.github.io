<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>一起玩儿物联网人工智能小车（ESP32）——71 姿态传感器MPU6050的使用方法 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/3032d35649cec23f5e257071a60d53ef/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="一起玩儿物联网人工智能小车（ESP32）——71 姿态传感器MPU6050的使用方法">
  <meta property="og:description" content="摘要：本文介绍姿态传感器MPU6050的使用方法
姿态传感器是一种用于测量物体姿态的传感器，它可以检测物体的加速度和角速度，并计算出物体的方向和角度。前边介绍的RPI-1031只能定性的得到物体的倾斜情况，而姿态传感器则可以定量的得到物体倾斜的方向和角度。
MPU6050是一种常用的姿态传感器，它具有高精度、低功耗和成本低廉的特点。本文将介绍MPU6050的基本原理、工作方式、应用领域以及优缺点。
MPU-6050是全球首例6轴运动处理传感器。它集成了3轴微机电系统(Microelectro Mechanical Systems, MEMS)陀螺仪和3轴MEMS加速度计，以及板载数字运动处理器（Digital Motion Processor, DMP）。加速度计可以检测物体的线性加速度，而陀螺仪可以检测物体的角速度。因此，MPU-6050可以测量物体在x、y、z三个方向上的加速度和角速度。通过将加速度计和陀螺仪的测量结果进行数据融合，可以计算出物体的方向和角度。所以，MPU-6050常应用于平衡车、飞行器等需要检测自身姿态的场景。
前面所说的几轴通常指加速度传感器（即加速计）、角速度传感器（即陀螺仪）、磁感应传感器（即电子罗盘）的数量，这三类传感器测量的数据在空间坐标系中都可以被分解为X，Y，Z三个方向轴的力，因此也常常被称为3轴加速度计、3轴陀螺仪、3轴磁力计。
上面3类传感器有其各自的功能特点及应用，比如加速度计可以测量设备的线性加速度，陀螺仪可以测量设备自身的旋转角速度，还有磁力计可以检测设备的方位。通过它们相互组合和匹配融合又可以衍生出更多的不同应用，在叫法上通过这样简单的轴数上相加的可以变成六轴传感器或者九轴传感器。
六轴传感器：通常指的是三轴加速度计&#43;三轴陀螺仪，三轴加速度计是检测三个方向的加速度的，三轴陀螺仪是检测旋转角速度，因此可以用在平衡车、体感游戏机以及飞行器上。
九轴传感器：就是三轴加速度计&#43;三轴陀螺仪&#43;三轴磁力计的组合，在飞行器上是广泛应用的。另外，在九轴传感器基础上再加入气压传感器，从而能获取海拔高度的数据，人们通常称之为十轴传感器。
通常使用的MPU6050模块如下所示：
那么MPU6050所对应的坐标系和角速度方向如下所示：
在上图中可以看到，向右为X轴正方向，向前为Y轴正方向，垂直模块向上为Z轴正方向。旋转角的方向按右手法则定义，即右手大拇指指向轴向，四指弯曲的方向即为绕该轴旋转的方向。
为了称呼方便，给这三个旋转角又起了三个不同的名字：
横滚角（Roll）：即为绕X轴旋转方向的角度；
俯仰角（Pitch）：即为绕Y轴旋转方向的角度；
偏航角（Yaw）：即为绕Z轴旋转方向的角度；
这三者合称为姿态角或欧拉角（Euler angles）。通过一架飞机的姿态来理解这三个角度，应该更容易一些，如下所示：
MPU6050作为首款6轴的姿态传感器，拥有以下一些特性：
1.以数字形式输出6轴或9轴（需外接磁力传感器——通过XCL、XDA进行通信）的旋转矩阵、四元数(quaternion)、欧拉角格式(Euler Angle forma)的融合演算数据（需DMP支持）。
2.具有测量范围为±250、±500、±1000 与±2000°/sec的3轴角速度感测器（陀螺仪）。
3.集成可程序控制，测量范围为±2g、±4g、±8g和±16g的3轴加速度传感器。
4.自带数字运动处理（DMP：Digital Motion Processing）引擎，可减少MCU进行复杂的融合演算、传感器同步化、姿势感应等的负荷。
5.自带一个数字温度传感器。
6.可程序控制的中断(interrupt)（INT接口的功能），支持姿势识别功能。
7.自带1024字节FIFO，有助于降低系统功耗
8.高达400KHz的IIC通信接口
MPU6050模块引脚的功能如下表所示：
引脚
功能
VCC、GND
电源供电，直流3.3V~5V
SCL、SDA
I2C通信引脚（模块已经内置两个4.7K上拉电阻，因此接线时可以直接把SCL和SDA接在GPIO口上）
XCL、XDA
主机I2C通信引脚（为了扩展芯片功能，通常用于外接磁力计或者气压计）
AD0
从机地址最低位（接0则7位从机地址为1101000；接1则7位从机地址为1101001）
INT
中断输出引脚（可以配置芯片内部事件以触发中断引脚的输出）
接下来就来看一个简单的例子，通过一个程序来获得MPU6050的测量数据。首先把MPU6050与ESP32扩展板相连接，连接的方法如下：
MPU6050
ESP32扩展板
VCC
&#43;5V
GND
GND
SCL
P22
SDA
P21
接下来是下载一个支持MPU6050的库，在Arduino IDE中，有很多关于MPU6050的库，我所选择的是MPU6050_tockn库，如下图所示：
使用MPU6050_tockn库读取MPU6050模块的信息需要以下几步：
引入头文件MPU6050_tockn.h创建MPU6050对象调用begin()方法进行初始化调用calcGyroOffsets()方法进行自检调用update()方法更新数据调用各种方法得到各种需要的数据了。 具体代码如下所示：
#include &lt;MPU6050_tockn.h&gt;
#include &lt;Wire.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-02-27T08:30:00+08:00">
    <meta property="article:modified_time" content="2024-02-27T08:30:00+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">一起玩儿物联网人工智能小车（ESP32）——71 姿态传感器MPU6050的使用方法</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p style="margin-left:.0001pt;text-align:justify;">摘要：本文介绍姿态传感器MPU6050的使用方法</p> 
<p style="margin-left:.0001pt;text-align:justify;">姿态传感器是一种用于测量物体姿态的传感器，它可以检测物体的加速度和角速度，并计算出物体的方向和角度。前边介绍的RPI-1031只能定性的得到物体的倾斜情况，而姿态传感器则可以定量的得到物体倾斜的方向和角度。</p> 
<p style="margin-left:.0001pt;text-align:justify;">MPU6050是一种常用的姿态传感器，它具有高精度、低功耗和成本低廉的特点。本文将介绍MPU6050的基本原理、工作方式、应用领域以及优缺点。</p> 
<p style="margin-left:.0001pt;text-align:justify;">MPU-6050是全球首例6轴运动处理传感器。它集成了3轴微机电系统(Microelectro Mechanical Systems, MEMS)陀螺仪和3轴MEMS加速度计，以及板载数字运动处理器（Digital Motion Processor, DMP）。加速度计可以检测物体的线性加速度，而陀螺仪可以检测物体的角速度。因此，MPU-6050可以测量物体在x、y、z三个方向上的加速度和角速度。通过将加速度计和陀螺仪的测量结果进行数据融合，可以计算出物体的方向和角度。所以，MPU-6050常应用于平衡车、飞行器等需要检测自身姿态的场景。</p> 
<p style="margin-left:.0001pt;text-align:justify;">前面所说的几轴通常指加速度传感器（即加速计）、角速度传感器（即陀螺仪）、磁感应传感器（即电子罗盘）的数量，这三类传感器测量的数据在空间坐标系中都可以被分解为X，Y，Z三个方向轴的力，因此也常常被称为3轴加速度计、3轴陀螺仪、3轴磁力计。</p> 
<p style="margin-left:.0001pt;text-align:justify;">上面3类传感器有其各自的功能特点及应用，比如加速度计可以测量设备的线性加速度，陀螺仪可以测量设备自身的旋转角速度，还有磁力计可以检测设备的方位。通过它们相互组合和匹配融合又可以衍生出更多的不同应用，在叫法上通过这样简单的轴数上相加的可以变成六轴传感器或者九轴传感器。</p> 
<p style="margin-left:.0001pt;text-align:justify;">六轴传感器：通常指的是三轴加速度计+三轴陀螺仪，三轴加速度计是检测三个方向的加速度的，三轴陀螺仪是检测旋转角速度，因此可以用在平衡车、体感游戏机以及飞行器上。</p> 
<p style="margin-left:.0001pt;text-align:justify;">九轴传感器：就是三轴加速度计+三轴陀螺仪+三轴磁力计的组合，在飞行器上是广泛应用的。另外，在九轴传感器基础上再加入气压传感器，从而能获取海拔高度的数据，人们通常称之为十轴传感器。</p> 
<p style="margin-left:.0001pt;text-align:justify;">通常使用的MPU6050模块如下所示：</p> 
<p style="margin-left:.0001pt;text-align:center;"><img alt="" src="https://images2.imgbox.com/d5/60/Xq3gbPWA_o.png"></p> 
<p style="margin-left:.0001pt;text-align:justify;">那么MPU6050所对应的坐标系和角速度方向如下所示：</p> 
<p style="margin-left:.0001pt;text-align:center;"><img alt="" src="https://images2.imgbox.com/a6/dc/46We24iD_o.png"></p> 
<p style="margin-left:.0001pt;text-align:justify;">在上图中可以看到，向右为X轴正方向，向前为Y轴正方向，垂直模块向上为Z轴正方向。旋转角的方向按右手法则定义，即右手大拇指指向轴向，四指弯曲的方向即为绕该轴旋转的方向。</p> 
<p style="margin-left:.0001pt;text-align:justify;">为了称呼方便，给这三个旋转角又起了三个不同的名字：</p> 
<p style="margin-left:.0001pt;text-align:justify;">横滚角（Roll）：即为绕X轴旋转方向的角度；</p> 
<p style="margin-left:.0001pt;text-align:justify;">俯仰角（Pitch）：即为绕Y轴旋转方向的角度；</p> 
<p style="margin-left:.0001pt;text-align:justify;">偏航角（Yaw）：即为绕Z轴旋转方向的角度；</p> 
<p style="margin-left:.0001pt;text-align:justify;">这三者合称为姿态角或欧拉角（Euler angles）。通过一架飞机的姿态来理解这三个角度，应该更容易一些，如下所示：</p> 
<p style="margin-left:.0001pt;text-align:center;"><img alt="" src="https://images2.imgbox.com/13/aa/H1llGCiN_o.png"></p> 
<p style="margin-left:.0001pt;text-align:justify;">MPU6050作为首款6轴的姿态传感器，拥有以下一些特性：</p> 
<p style="margin-left:.0001pt;text-align:justify;">1.以数字形式输出6轴或9轴（需外接磁力传感器——通过XCL、XDA进行通信）的旋转矩阵、四元数(quaternion)、欧拉角格式(Euler Angle forma)的融合演算数据（需DMP支持）。</p> 
<p style="margin-left:.0001pt;text-align:justify;">2.具有测量范围为±250、±500、±1000 与±2000°/sec的3轴角速度感测器（陀螺仪）。</p> 
<p style="margin-left:.0001pt;text-align:justify;">3.集成可程序控制，测量范围为±2g、±4g、±8g和±16g的3轴加速度传感器。</p> 
<p style="margin-left:.0001pt;text-align:justify;">4.自带数字运动处理（DMP：Digital Motion Processing）引擎，可减少MCU进行复杂的融合演算、传感器同步化、姿势感应等的负荷。</p> 
<p style="margin-left:.0001pt;text-align:justify;">5.自带一个数字温度传感器。</p> 
<p style="margin-left:.0001pt;text-align:justify;">6.可程序控制的中断(interrupt)（INT接口的功能），支持姿势识别功能。</p> 
<p style="margin-left:.0001pt;text-align:justify;">7.自带1024字节FIFO，有助于降低系统功耗</p> 
<p style="margin-left:.0001pt;text-align:justify;">8.高达400KHz的IIC通信接口</p> 
<p style="margin-left:.0001pt;text-align:justify;">MPU6050模块引脚的功能如下表所示：</p> 
<table border="1" cellspacing="0"><tbody><tr><td style="vertical-align:top;width:60.3pt;"> <p style="margin-left:.0001pt;text-align:justify;">引脚</p> </td><td style="vertical-align:top;width:359pt;"> <p style="margin-left:.0001pt;text-align:justify;">功能</p> </td></tr><tr><td style="vertical-align:top;width:60.3pt;"> <p style="margin-left:.0001pt;text-align:justify;">VCC、GND</p> </td><td style="vertical-align:top;width:359pt;"> <p style="margin-left:.0001pt;text-align:justify;">电源供电，直流3.3V~5V</p> </td></tr><tr><td style="vertical-align:top;width:60.3pt;"> <p style="margin-left:.0001pt;text-align:justify;">SCL、SDA</p> </td><td style="vertical-align:top;width:359pt;"> <p style="margin-left:.0001pt;text-align:justify;">I2C通信引脚（模块已经内置两个4.7K上拉电阻，因此接线时可以直接把SCL和SDA接在GPIO口上）</p> </td></tr><tr><td style="vertical-align:top;width:60.3pt;"> <p style="margin-left:.0001pt;text-align:justify;">XCL、XDA</p> </td><td style="vertical-align:top;width:359pt;"> <p style="margin-left:.0001pt;text-align:justify;">主机I2C通信引脚（为了扩展芯片功能，通常用于外接磁力计或者气压计）</p> </td></tr><tr><td style="vertical-align:top;width:60.3pt;"> <p style="margin-left:.0001pt;text-align:justify;">AD0</p> </td><td style="vertical-align:top;width:359pt;"> <p style="margin-left:.0001pt;text-align:justify;">从机地址最低位（接0则7位从机地址为1101000；接1则7位从机地址为1101001）</p> </td></tr><tr><td style="vertical-align:top;width:60.3pt;"> <p style="margin-left:.0001pt;text-align:justify;">INT</p> </td><td style="vertical-align:top;width:359pt;"> <p style="margin-left:.0001pt;text-align:justify;">中断输出引脚（可以配置芯片内部事件以触发中断引脚的输出）</p> </td></tr></tbody></table> 
<p style="margin-left:.0001pt;text-align:justify;">接下来就来看一个简单的例子，通过一个程序来获得MPU6050的测量数据。首先把MPU6050与ESP32扩展板相连接，连接的方法如下：</p> 
<table border="1" cellspacing="0"><tbody><tr><td style="vertical-align:top;width:213.05pt;"> <p style="margin-left:.0001pt;text-align:justify;">MPU6050</p> </td><td style="vertical-align:top;width:213.05pt;"> <p style="margin-left:.0001pt;text-align:justify;">ESP32扩展板</p> </td></tr><tr><td style="vertical-align:top;width:213.05pt;"> <p style="margin-left:.0001pt;text-align:justify;">VCC</p> </td><td style="vertical-align:top;width:213.05pt;"> <p style="margin-left:.0001pt;text-align:justify;">+5V</p> </td></tr><tr><td style="vertical-align:top;width:213.05pt;"> <p style="margin-left:.0001pt;text-align:justify;">GND</p> </td><td style="vertical-align:top;width:213.05pt;"> <p style="margin-left:.0001pt;text-align:justify;">GND</p> </td></tr><tr><td style="vertical-align:top;width:213.05pt;"> <p style="margin-left:.0001pt;text-align:justify;">SCL</p> </td><td style="vertical-align:top;width:213.05pt;"> <p style="margin-left:.0001pt;text-align:justify;">P22</p> </td></tr><tr><td style="vertical-align:top;width:213.05pt;"> <p style="margin-left:.0001pt;text-align:justify;">SDA</p> </td><td style="vertical-align:top;width:213.05pt;"> <p style="margin-left:.0001pt;text-align:justify;">P21</p> </td></tr></tbody></table> 
<p style="margin-left:.0001pt;text-align:justify;">接下来是下载一个支持MPU6050的库，在Arduino IDE中，有很多关于MPU6050的库，我所选择的是MPU6050_tockn库，如下图所示：</p> 
<p style="margin-left:.0001pt;text-align:center;"><img alt="" src="https://images2.imgbox.com/12/e7/67meo2II_o.png"></p> 
<p style="margin-left:.0001pt;text-align:justify;">使用MPU6050_tockn库读取MPU6050模块的信息需要以下几步：</p> 
<ol><li style="text-align:justify;">引入头文件MPU6050_tockn.h</li><li style="text-align:justify;">创建MPU6050对象</li><li style="text-align:justify;">调用begin()方法进行初始化</li><li style="text-align:justify;">调用calcGyroOffsets()方法进行自检</li><li style="text-align:justify;">调用update()方法更新数据</li><li style="text-align:justify;">调用各种方法得到各种需要的数据了。</li></ol> 
<p style="margin-left:.0001pt;text-align:justify;">具体代码如下所示：</p> 
<table border="1" cellspacing="0"><tbody><tr><td style="vertical-align:top;width:426.1pt;"> <p style="margin-left:.0001pt;text-align:left;"></p> <p style="margin-left:.0001pt;text-align:left;"><span style="background-color:#ffffff;"><span style="background-color:#ffffff;"><span style="color:#728e00;">#include</span></span> <span style="background-color:#ffffff;"><span style="color:#005c5f;">&lt;MPU6050_tockn.h&gt;</span></span></span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="background-color:#ffffff;"><span style="background-color:#ffffff;"><span style="color:#728e00;">#include</span></span> <span style="background-color:#ffffff;"><span style="color:#005c5f;">&lt;Wire.h&gt;</span></span></span></p> <p style="margin-left:.0001pt;text-align:left;"></p> <p style="margin-left:.0001pt;text-align:left;"><span style="background-color:#ffffff;"><span style="background-color:#ffffff;"><span style="color:#4e5b61;">MPU6050 </span></span><span style="background-color:#ffffff;"><span style="color:#d35400;">mpu6050</span></span><span style="background-color:#ffffff;"><span style="color:#434f54;">(</span></span><span style="background-color:#ffffff;"><span style="color:#4e5b61;">Wire</span></span><span style="background-color:#ffffff;"><span style="color:#434f54;">)</span></span><span style="background-color:#ffffff;"><span style="color:#4e5b61;">;</span></span></span></p> <p style="margin-left:.0001pt;text-align:left;"></p> <p style="margin-left:.0001pt;text-align:left;"><span style="background-color:#ffffff;"><span style="background-color:#ffffff;"><span style="color:#00979d;">long</span></span><span style="background-color:#ffffff;"><span style="color:#4e5b61;"> timer = </span></span><span style="background-color:#ffffff;"><span style="color:#005c5f;">0</span></span><span style="background-color:#ffffff;"><span style="color:#4e5b61;">;</span></span></span></p> <p style="margin-left:.0001pt;text-align:left;"></p> <p style="margin-left:.0001pt;text-align:left;"><span style="background-color:#ffffff;"><span style="background-color:#ffffff;"><span style="color:#00979d;">void</span></span> <span style="background-color:#ffffff;"><span style="color:#d35400;">setup</span></span><span style="background-color:#ffffff;"><span style="color:#434f54;">()</span></span> <span style="background-color:#ffffff;"><span style="color:#434f54;">{<!-- --></span></span></span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="background-color:#ffffff;">  <span style="background-color:#ffffff;"><span style="color:#d35400;">Serial</span></span><span style="background-color:#ffffff;"><span style="color:#4e5b61;">.</span></span><span style="background-color:#ffffff;"><span style="color:#d35400;">begin</span></span><span style="background-color:#ffffff;"><span style="color:#434f54;">(</span></span><span style="background-color:#ffffff;"><span style="color:#005c5f;">9600</span></span><span style="background-color:#ffffff;"><span style="color:#434f54;">)</span></span><span style="background-color:#ffffff;"><span style="color:#4e5b61;">;</span></span></span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="background-color:#ffffff;">  <span style="background-color:#ffffff;"><span style="color:#d35400;">Wire</span></span><span style="background-color:#ffffff;"><span style="color:#4e5b61;">.</span></span><span style="background-color:#ffffff;"><span style="color:#d35400;">begin</span></span><span style="background-color:#ffffff;"><span style="color:#434f54;">()</span></span><span style="background-color:#ffffff;"><span style="color:#4e5b61;">;</span></span></span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="background-color:#ffffff;">  <span style="background-color:#ffffff;"><span style="color:#d35400;">mpu6050</span></span><span style="background-color:#ffffff;"><span style="color:#4e5b61;">.</span></span><span style="background-color:#ffffff;"><span style="color:#d35400;">begin</span></span><span style="background-color:#ffffff;"><span style="color:#434f54;">()</span></span><span style="background-color:#ffffff;"><span style="color:#4e5b61;">;</span></span></span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="background-color:#ffffff;">  <span style="background-color:#ffffff;"><span style="color:#d35400;">mpu6050</span></span><span style="background-color:#ffffff;"><span style="color:#4e5b61;">.</span></span><span style="background-color:#ffffff;"><span style="color:#d35400;">calcGyroOffsets</span></span><span style="background-color:#ffffff;"><span style="color:#434f54;">(</span></span><span style="background-color:#ffffff;"><span style="color:#005c5f;">true</span></span><span style="background-color:#ffffff;"><span style="color:#434f54;">)</span></span><span style="background-color:#ffffff;"><span style="color:#4e5b61;">;</span></span></span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="background-color:#ffffff;"><span style="background-color:#ffffff;"><span style="color:#434f54;">}</span></span></span></p> <p style="margin-left:.0001pt;text-align:left;"></p> <p style="margin-left:.0001pt;text-align:left;"><span style="background-color:#ffffff;"><span style="background-color:#ffffff;"><span style="color:#00979d;">void</span></span> <span style="background-color:#ffffff;"><span style="color:#d35400;">loop</span></span><span style="background-color:#ffffff;"><span style="color:#434f54;">()</span></span> <span style="background-color:#ffffff;"><span style="color:#434f54;">{<!-- --></span></span></span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="background-color:#ffffff;">  <span style="background-color:#ffffff;"><span style="color:#d35400;">mpu6050</span></span><span style="background-color:#ffffff;"><span style="color:#4e5b61;">.</span></span><span style="background-color:#ffffff;"><span style="color:#d35400;">update</span></span><span style="background-color:#ffffff;"><span style="color:#434f54;">()</span></span><span style="background-color:#ffffff;"><span style="color:#4e5b61;">;</span></span></span></p> <p style="margin-left:.0001pt;text-align:left;"></p> <p style="margin-left:.0001pt;text-align:left;"><span style="background-color:#ffffff;">  <span style="background-color:#ffffff;"><span style="color:#728e00;">if</span></span><span style="background-color:#ffffff;"><span style="color:#434f54;">(</span></span><span style="background-color:#ffffff;"><span style="color:#d35400;">millis</span></span><span style="background-color:#ffffff;"><span style="color:#434f54;">()</span></span><span style="background-color:#ffffff;"><span style="color:#4e5b61;"> - timer &gt; </span></span><span style="background-color:#ffffff;"><span style="color:#005c5f;">1000</span></span><span style="background-color:#ffffff;"><span style="color:#434f54;">){<!-- --></span></span></span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="background-color:#ffffff;">    </span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="background-color:#ffffff;">    <span style="background-color:#ffffff;"><span style="color:#d35400;">Serial</span></span><span style="background-color:#ffffff;"><span style="color:#4e5b61;">.</span></span><span style="background-color:#ffffff;"><span style="color:#d35400;">println</span></span><span style="background-color:#ffffff;"><span style="color:#434f54;">(</span></span><span style="background-color:#ffffff;"><span style="color:#005c5f;">"======================================================="</span></span><span style="background-color:#ffffff;"><span style="color:#434f54;">)</span></span><span style="background-color:#ffffff;"><span style="color:#4e5b61;">;</span></span></span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="background-color:#ffffff;">    <span style="background-color:#ffffff;"><span style="color:#d35400;">Serial</span></span><span style="background-color:#ffffff;"><span style="color:#4e5b61;">.</span></span><span style="background-color:#ffffff;"><span style="color:#d35400;">print</span></span><span style="background-color:#ffffff;"><span style="color:#434f54;">(</span></span><span style="background-color:#ffffff;"><span style="color:#005c5f;">"temp : "</span></span><span style="background-color:#ffffff;"><span style="color:#434f54;">)</span></span><span style="background-color:#ffffff;"><span style="color:#4e5b61;">;</span></span><span style="background-color:#ffffff;"><span style="color:#d35400;">Serial</span></span><span style="background-color:#ffffff;"><span style="color:#4e5b61;">.</span></span><span style="background-color:#ffffff;"><span style="color:#d35400;">println</span></span><span style="background-color:#ffffff;"><span style="color:#434f54;">(</span></span><span style="background-color:#ffffff;"><span style="color:#d35400;">mpu6050</span></span><span style="background-color:#ffffff;"><span style="color:#4e5b61;">.</span></span><span style="background-color:#ffffff;"><span style="color:#d35400;">getTemp</span></span><span style="background-color:#ffffff;"><span style="color:#434f54;">())</span></span><span style="background-color:#ffffff;"><span style="color:#4e5b61;">;</span></span></span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="background-color:#ffffff;">    <span style="background-color:#ffffff;"><span style="color:#d35400;">Serial</span></span><span style="background-color:#ffffff;"><span style="color:#4e5b61;">.</span></span><span style="background-color:#ffffff;"><span style="color:#d35400;">print</span></span><span style="background-color:#ffffff;"><span style="color:#434f54;">(</span></span><span style="background-color:#ffffff;"><span style="color:#005c5f;">"accX : "</span></span><span style="background-color:#ffffff;"><span style="color:#434f54;">)</span></span><span style="background-color:#ffffff;"><span style="color:#4e5b61;">;</span></span><span style="background-color:#ffffff;"><span style="color:#d35400;">Serial</span></span><span style="background-color:#ffffff;"><span style="color:#4e5b61;">.</span></span><span style="background-color:#ffffff;"><span style="color:#d35400;">print</span></span><span style="background-color:#ffffff;"><span style="color:#434f54;">(</span></span><span style="background-color:#ffffff;"><span style="color:#d35400;">mpu6050</span></span><span style="background-color:#ffffff;"><span style="color:#4e5b61;">.</span></span><span style="background-color:#ffffff;"><span style="color:#d35400;">getAccX</span></span><span style="background-color:#ffffff;"><span style="color:#434f54;">())</span></span><span style="background-color:#ffffff;"><span style="color:#4e5b61;">;</span></span></span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="background-color:#ffffff;">    <span style="background-color:#ffffff;"><span style="color:#d35400;">Serial</span></span><span style="background-color:#ffffff;"><span style="color:#4e5b61;">.</span></span><span style="background-color:#ffffff;"><span style="color:#d35400;">print</span></span><span style="background-color:#ffffff;"><span style="color:#434f54;">(</span></span><span style="background-color:#ffffff;"><span style="color:#005c5f;">"\taccY : "</span></span><span style="background-color:#ffffff;"><span style="color:#434f54;">)</span></span><span style="background-color:#ffffff;"><span style="color:#4e5b61;">;</span></span><span style="background-color:#ffffff;"><span style="color:#d35400;">Serial</span></span><span style="background-color:#ffffff;"><span style="color:#4e5b61;">.</span></span><span style="background-color:#ffffff;"><span style="color:#d35400;">print</span></span><span style="background-color:#ffffff;"><span style="color:#434f54;">(</span></span><span style="background-color:#ffffff;"><span style="color:#d35400;">mpu6050</span></span><span style="background-color:#ffffff;"><span style="color:#4e5b61;">.</span></span><span style="background-color:#ffffff;"><span style="color:#d35400;">getAccY</span></span><span style="background-color:#ffffff;"><span style="color:#434f54;">())</span></span><span style="background-color:#ffffff;"><span style="color:#4e5b61;">;</span></span></span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="background-color:#ffffff;">    <span style="background-color:#ffffff;"><span style="color:#d35400;">Serial</span></span><span style="background-color:#ffffff;"><span style="color:#4e5b61;">.</span></span><span style="background-color:#ffffff;"><span style="color:#d35400;">print</span></span><span style="background-color:#ffffff;"><span style="color:#434f54;">(</span></span><span style="background-color:#ffffff;"><span style="color:#005c5f;">"\taccZ : "</span></span><span style="background-color:#ffffff;"><span style="color:#434f54;">)</span></span><span style="background-color:#ffffff;"><span style="color:#4e5b61;">;</span></span><span style="background-color:#ffffff;"><span style="color:#d35400;">Serial</span></span><span style="background-color:#ffffff;"><span style="color:#4e5b61;">.</span></span><span style="background-color:#ffffff;"><span style="color:#d35400;">println</span></span><span style="background-color:#ffffff;"><span style="color:#434f54;">(</span></span><span style="background-color:#ffffff;"><span style="color:#d35400;">mpu6050</span></span><span style="background-color:#ffffff;"><span style="color:#4e5b61;">.</span></span><span style="background-color:#ffffff;"><span style="color:#d35400;">getAccZ</span></span><span style="background-color:#ffffff;"><span style="color:#434f54;">())</span></span><span style="background-color:#ffffff;"><span style="color:#4e5b61;">;</span></span></span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="background-color:#ffffff;">  </span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="background-color:#ffffff;">    <span style="background-color:#ffffff;"><span style="color:#d35400;">Serial</span></span><span style="background-color:#ffffff;"><span style="color:#4e5b61;">.</span></span><span style="background-color:#ffffff;"><span style="color:#d35400;">print</span></span><span style="background-color:#ffffff;"><span style="color:#434f54;">(</span></span><span style="background-color:#ffffff;"><span style="color:#005c5f;">"gyroX : "</span></span><span style="background-color:#ffffff;"><span style="color:#434f54;">)</span></span><span style="background-color:#ffffff;"><span style="color:#4e5b61;">;</span></span><span style="background-color:#ffffff;"><span style="color:#d35400;">Serial</span></span><span style="background-color:#ffffff;"><span style="color:#4e5b61;">.</span></span><span style="background-color:#ffffff;"><span style="color:#d35400;">print</span></span><span style="background-color:#ffffff;"><span style="color:#434f54;">(</span></span><span style="background-color:#ffffff;"><span style="color:#d35400;">mpu6050</span></span><span style="background-color:#ffffff;"><span style="color:#4e5b61;">.</span></span><span style="background-color:#ffffff;"><span style="color:#d35400;">getGyroX</span></span><span style="background-color:#ffffff;"><span style="color:#434f54;">())</span></span><span style="background-color:#ffffff;"><span style="color:#4e5b61;">;</span></span></span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="background-color:#ffffff;">    <span style="background-color:#ffffff;"><span style="color:#d35400;">Serial</span></span><span style="background-color:#ffffff;"><span style="color:#4e5b61;">.</span></span><span style="background-color:#ffffff;"><span style="color:#d35400;">print</span></span><span style="background-color:#ffffff;"><span style="color:#434f54;">(</span></span><span style="background-color:#ffffff;"><span style="color:#005c5f;">"\tgyroY : "</span></span><span style="background-color:#ffffff;"><span style="color:#434f54;">)</span></span><span style="background-color:#ffffff;"><span style="color:#4e5b61;">;</span></span><span style="background-color:#ffffff;"><span style="color:#d35400;">Serial</span></span><span style="background-color:#ffffff;"><span style="color:#4e5b61;">.</span></span><span style="background-color:#ffffff;"><span style="color:#d35400;">print</span></span><span style="background-color:#ffffff;"><span style="color:#434f54;">(</span></span><span style="background-color:#ffffff;"><span style="color:#d35400;">mpu6050</span></span><span style="background-color:#ffffff;"><span style="color:#4e5b61;">.</span></span><span style="background-color:#ffffff;"><span style="color:#d35400;">getGyroY</span></span><span style="background-color:#ffffff;"><span style="color:#434f54;">())</span></span><span style="background-color:#ffffff;"><span style="color:#4e5b61;">;</span></span></span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="background-color:#ffffff;">    <span style="background-color:#ffffff;"><span style="color:#d35400;">Serial</span></span><span style="background-color:#ffffff;"><span style="color:#4e5b61;">.</span></span><span style="background-color:#ffffff;"><span style="color:#d35400;">print</span></span><span style="background-color:#ffffff;"><span style="color:#434f54;">(</span></span><span style="background-color:#ffffff;"><span style="color:#005c5f;">"\tgyroZ : "</span></span><span style="background-color:#ffffff;"><span style="color:#434f54;">)</span></span><span style="background-color:#ffffff;"><span style="color:#4e5b61;">;</span></span><span style="background-color:#ffffff;"><span style="color:#d35400;">Serial</span></span><span style="background-color:#ffffff;"><span style="color:#4e5b61;">.</span></span><span style="background-color:#ffffff;"><span style="color:#d35400;">println</span></span><span style="background-color:#ffffff;"><span style="color:#434f54;">(</span></span><span style="background-color:#ffffff;"><span style="color:#d35400;">mpu6050</span></span><span style="background-color:#ffffff;"><span style="color:#4e5b61;">.</span></span><span style="background-color:#ffffff;"><span style="color:#d35400;">getGyroZ</span></span><span style="background-color:#ffffff;"><span style="color:#434f54;">())</span></span><span style="background-color:#ffffff;"><span style="color:#4e5b61;">;</span></span></span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="background-color:#ffffff;">  </span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="background-color:#ffffff;">    <span style="background-color:#ffffff;"><span style="color:#d35400;">Serial</span></span><span style="background-color:#ffffff;"><span style="color:#4e5b61;">.</span></span><span style="background-color:#ffffff;"><span style="color:#d35400;">println</span></span><span style="background-color:#ffffff;"><span style="color:#434f54;">(</span></span><span style="background-color:#ffffff;"><span style="color:#005c5f;">"=======================================================\n"</span></span><span style="background-color:#ffffff;"><span style="color:#434f54;">)</span></span><span style="background-color:#ffffff;"><span style="color:#4e5b61;">;</span></span></span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="background-color:#ffffff;"><span style="background-color:#ffffff;"><span style="color:#4e5b61;">    timer = </span></span><span style="background-color:#ffffff;"><span style="color:#d35400;">millis</span></span><span style="background-color:#ffffff;"><span style="color:#434f54;">()</span></span><span style="background-color:#ffffff;"><span style="color:#4e5b61;">;</span></span></span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="background-color:#ffffff;">    </span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="background-color:#ffffff;">  <span style="background-color:#ffffff;"><span style="color:#434f54;">}</span></span></span></p> <p style="margin-left:.0001pt;text-align:left;"></p> <p style="margin-left:.0001pt;text-align:left;"><span style="background-color:#ffffff;"><span style="background-color:#ffffff;"><span style="color:#434f54;">}</span></span></span></p> </td></tr></tbody></table> 
<p style="margin-left:.0001pt;text-align:justify;">在这个程序中，读取了原始的加速度和角速度数据。至于更多的数据以及更多的应用，未来将会有一个关于平衡车的主题，在那里会进行更详细的介绍。</p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/816cd5275694db6bc8f83415d44850f3/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">数据库课程设计-图书馆管理系统(2.数据库实现-基于mysql)</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/27557aefa4be6f17181e8bcf80de116a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">选择 Python IDE(VSCode、Spyder、Visual Studio 2022和 PyCharm)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>