<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>04-Shell 编程之正则表达式与文本处理器 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/ac56f3d5613938a9a0f55a538c88a88b/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="04-Shell 编程之正则表达式与文本处理器">
  <meta property="og:description" content="对于一般计算机用户来说，由于使用到正则表达式的机会不多，所以无法体会正则表达 式的魅力，而对于系统管理员来说，正则表达式则是必备技能之一。 正则表达式对于系统管理员来说是非常重要的，系统运行过程中会产生大量的信息，这 些信息有些是非常重要的，有些则仅是告知的信息。身为系统管理员如果直接看这么多的信 息数据，无法快速定位到重要的信息，如“用户账号登录失败”“服务启动失败”等信息。这时 可以通过正则表达式快速提取“有问题”的信息。如此一来，可以将运维工作变得更加简单、 方便
引言 在Shell编程中，正则表达式（Regular Expression，简称RE）和文本处理器是两项非常重要的工具。它们允许我们高效地处理和分析文本数据。本文档将基于您提供的材料文本，对Shell编程中的正则表达式和文本处理器grep进行详细的解析。
一、正则表达式概述 正则表达式是一种强大的文本处理工具，它使用特定的模式来描述字符序列的规则。通过定义这些规则，我们可以在文本中快速定位、查找、替换或删除符合特定模式的字符串。
在Shell编程中，正则表达式主要用于文本搜索和替换操作。常用的文本处理器如grep、sed、awk等都支持正则表达式。
二、grep命令详解 grep是一个强大的文本搜索工具，它使用正则表达式来搜索文本，并把匹配的行打印出来。以下是grep命令的一些常用选项和参数：
-a：不要忽略二进制数据。-A&lt;显示列数&gt;：除了显示符合范本样式的那一行之外，并显示该行之后的内容。-b：在显示符合范本样式的那一行之外，并显示该行之前的内容。-c：计算符合范本样式的行数。-C&lt;显示列数&gt;：除了显示符合范本样式的那一行之外，并显示该行之前后的内容。-d&lt;进行动作&gt;：当指定要查找的是目录而非文件时，必须使用这项参数。-e&lt;范本样式&gt;：指定字符串作为查找文件内容的范本样式。-E：将范本样式为延伸的普通表示法来使用，即支持扩展正则表达式。-f&lt;范本文件&gt;：指定范本文件，其内容有一个或多个范本样式。-F：将范本样式视为固定字符串的列表。-G：将范本样式视为普通的表示法来使用（默认）。-h：在显示符合范本样式的那一行之前，不标示该行所属的文件名称。-H：在显示符合范本样式的那一行之前，标示该行所属的文件名称（默认）。-i：忽略字符大小写的差别。-l：列出文件内容符合指定的范本样式的文件名称。-L：列出文件内容不符合指定的范本样式的文件名称。-n：在显示符合范本样式的那一行之前，标示出该行的编号。-q：不显示任何信息，但可以通过返回值判断查找是否成功。-R/-r：递归地在目录及其子目录中搜索。-s：不显示错误信息。-v：反转查找，即显示不包含指定模式的行。-w：只显示全字符合的列。-x：只显示全列符合的列。-o：只输出文件中匹配到的部分。 三、示例操作 假设的文件内容 (example.txt):
复制代码
apple123 banana orange456 123grape watermelon789 woody100 xyzwoooood Hello World 解析任务：
查找包含数字的行。查找以wo开头的单词。查找不包含字母o的行。 解析结果：
1. 查找包含数字的行：
我们可以使用正则表达式中的[0-9]来匹配任意数字。因为grep默认就是查找包含指定模式的行，所以不需要额外的参数。
bash复制代码
grep &#39;[0-9]&#39; example.txt 输出结果：
复制代码
apple123 orange456 123grape watermelon789 woody100 xyzwoooood 这些行都包含了至少一个数字。
2. 查找以wo开头的单词：
这里我们可以使用正则表达式的单词边界符\b来确保匹配的是整个单词的开始，而不是单词中的部分子串。
bash复制代码
grep -w &#39;\bwo&#39; example.txt 但注意，上述命令实际上不会返回任何结果，因为文件中没有以wo开头的完整单词（如woody虽然包含wo但不是以它开头）。但如果我们有一个单词wood，它就会被匹配。
如果我们只是想找到包含wo的行（不考虑是否是单词的开始），我们可以简单地使用：
bash复制代码
grep &#39;wo&#39; example.txt 输出结果：
复制代码
orange456 woody100 xyzwoooood 3. 查找不包含字母o的行：">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-05-29T12:18:26+08:00">
    <meta property="article:modified_time" content="2024-05-29T12:18:26+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">04-Shell 编程之正则表达式与文本处理器</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>对于一般计算机用户来说，由于使用到正则表达式的机会不多，所以无法体会正则表达 式的魅力，而对于系统管理员来说，正则表达式则是必备技能之一。 正则表达式对于系统管理员来说是非常重要的，系统运行过程中会产生大量的信息，这 些信息有些是非常重要的，有些则仅是告知的信息。身为系统管理员如果直接看这么多的信 息数据，无法快速定位到重要的信息，如“用户账号登录失败”“服务启动失败”等信息。这时 可以通过正则表达式快速提取“有问题”的信息。如此一来，可以将运维工作变得更加简单、 方便</p> 
<h5>引言</h5> 
<p>在Shell编程中，正则表达式（Regular Expression，简称RE）和文本处理器是两项非常重要的工具。它们允许我们高效地处理和分析文本数据。本文档将基于您提供的材料文本，对Shell编程中的正则表达式和文本处理器grep进行详细的解析。</p> 
<h5>一、正则表达式概述</h5> 
<p>正则表达式是一种强大的文本处理工具，它使用特定的模式来描述字符序列的规则。通过定义这些规则，我们可以在文本中快速定位、查找、替换或删除符合特定模式的字符串。</p> 
<p>在Shell编程中，正则表达式主要用于文本搜索和替换操作。常用的文本处理器如grep、sed、awk等都支持正则表达式。</p> 
<h5>二、grep命令详解</h5> 
<p>grep是一个强大的文本搜索工具，它使用正则表达式来搜索文本，并把匹配的行打印出来。以下是grep命令的一些常用选项和参数：</p> 
<ul><li><code>-a</code>：不要忽略二进制数据。</li><li><code>-A&lt;显示列数&gt;</code>：除了显示符合范本样式的那一行之外，并显示该行之后的内容。</li><li><code>-b</code>：在显示符合范本样式的那一行之外，并显示该行之前的内容。</li><li><code>-c</code>：计算符合范本样式的行数。</li><li><code>-C&lt;显示列数&gt;</code>：除了显示符合范本样式的那一行之外，并显示该行之前后的内容。</li><li><code>-d&lt;进行动作&gt;</code>：当指定要查找的是目录而非文件时，必须使用这项参数。</li><li><code>-e&lt;范本样式&gt;</code>：指定字符串作为查找文件内容的范本样式。</li><li><code>-E</code>：将范本样式为延伸的普通表示法来使用，即支持扩展正则表达式。</li><li><code>-f&lt;范本文件&gt;</code>：指定范本文件，其内容有一个或多个范本样式。</li><li><code>-F</code>：将范本样式视为固定字符串的列表。</li><li><code>-G</code>：将范本样式视为普通的表示法来使用（默认）。</li><li><code>-h</code>：在显示符合范本样式的那一行之前，不标示该行所属的文件名称。</li><li><code>-H</code>：在显示符合范本样式的那一行之前，标示该行所属的文件名称（默认）。</li><li><code>-i</code>：忽略字符大小写的差别。</li><li><code>-l</code>：列出文件内容符合指定的范本样式的文件名称。</li><li><code>-L</code>：列出文件内容不符合指定的范本样式的文件名称。</li><li><code>-n</code>：在显示符合范本样式的那一行之前，标示出该行的编号。</li><li><code>-q</code>：不显示任何信息，但可以通过返回值判断查找是否成功。</li><li><code>-R/-r</code>：递归地在目录及其子目录中搜索。</li><li><code>-s</code>：不显示错误信息。</li><li><code>-v</code>：反转查找，即显示不包含指定模式的行。</li><li><code>-w</code>：只显示全字符合的列。</li><li><code>-x</code>：只显示全列符合的列。</li><li><code>-o</code>：只输出文件中匹配到的部分。</li></ul> 
<h5>三、示例操作</h5> 
<p><strong>假设的文件内容 (<code>example.txt</code>)</strong>:</p> 
<pre></pre> 
<p><code>复制代码</code></p> 
<table><tbody><tr><td></td><td><code>apple123 </code></td></tr><tr><td></td><td><code>banana </code></td></tr><tr><td></td><td><code>orange456 </code></td></tr><tr><td></td><td><code>123grape </code></td></tr><tr><td></td><td><code>watermelon789 </code></td></tr><tr><td></td><td><code>woody100 </code></td></tr><tr><td></td><td><code>xyzwoooood </code></td></tr><tr><td></td><td><code>Hello World</code></td></tr></tbody></table> 
<p><strong>解析任务</strong>：</p> 
<ol><li>查找包含数字的行。</li><li>查找以<code>wo</code>开头的单词。</li><li>查找不包含字母<code>o</code>的行。</li></ol> 
<p><strong>解析结果</strong>：</p> 
<p><strong>1. 查找包含数字的行</strong>：</p> 
<p>我们可以使用正则表达式中的<code>[0-9]</code>来匹配任意数字。因为<code>grep</code>默认就是查找包含指定模式的行，所以不需要额外的参数。</p> 
<pre></pre> 
<p><code>bash复制代码</code></p> 
<table><tbody><tr><td></td><td><code>grep '[0-9]' example.txt</code></td></tr></tbody></table> 
<p>输出结果：</p> 
<pre></pre> 
<p><code>复制代码</code></p> 
<table><tbody><tr><td></td><td><code>apple123 </code></td></tr><tr><td></td><td><code>orange456 </code></td></tr><tr><td></td><td><code>123grape </code></td></tr><tr><td></td><td><code>watermelon789 </code></td></tr><tr><td></td><td><code>woody100 </code></td></tr><tr><td></td><td><code>xyzwoooood</code></td></tr></tbody></table> 
<p>这些行都包含了至少一个数字。</p> 
<p><strong>2. 查找以<code>wo</code>开头的单词</strong>：</p> 
<p>这里我们可以使用正则表达式的单词边界符<code>\b</code>来确保匹配的是整个单词的开始，而不是单词中的部分子串。</p> 
<pre></pre> 
<p><code>bash复制代码</code></p> 
<table><tbody><tr><td></td><td><code>grep -w '\bwo' example.txt</code></td></tr></tbody></table> 
<p>但注意，上述命令实际上不会返回任何结果，因为文件中没有以<code>wo</code>开头的完整单词（如<code>woody</code>虽然包含<code>wo</code>但不是以它开头）。但如果我们有一个单词<code>wood</code>，它就会被匹配。</p> 
<p>如果我们只是想找到包含<code>wo</code>的行（不考虑是否是单词的开始），我们可以简单地使用：</p> 
<pre></pre> 
<p><code>bash复制代码</code></p> 
<table><tbody><tr><td></td><td><code>grep 'wo' example.txt</code></td></tr></tbody></table> 
<p>输出结果：</p> 
<pre></pre> 
<p><code>复制代码</code></p> 
<table><tbody><tr><td></td><td><code>orange456 </code></td></tr><tr><td></td><td><code>woody100 </code></td></tr><tr><td></td><td><code>xyzwoooood</code></td></tr></tbody></table> 
<p><strong>3. 查找不包含字母<code>o</code>的行</strong>：</p> 
<p>我们可以使用<code>grep</code>的<code>-v</code>选项来反转匹配，即查找不匹配指定模式的行。</p> 
<pre></pre> 
<p><code>bash复制代码</code></p> 
<table><tbody><tr><td></td><td><code>grep -v 'o' example.txt</code></td></tr></tbody></table> 
<p>输出结果：</p> 
<pre></pre> 
<p><code>复制代码</code></p> 
<table><tbody><tr><td></td><td><code>banana </code></td></tr><tr><td></td><td><code>Hello World</code></td></tr></tbody></table> 
<p>这两行都不包含字母</p> 
<p></p> 
<p>常见的元字符</p> 
<p><img alt="" height="670" src="https://images2.imgbox.com/61/a6/rAlHRJvO_o.png" width="777"></p> 
<p></p> 
<p><img alt="" height="449" src="https://images2.imgbox.com/b9/f7/h1FyARit_o.png" width="837"></p> 
<h4></h4> 
<h4>sed工具：</h4> 
<p>1.读取：sed 从输入流（文件、管道、标准输入）中读取一行内容并存储到临时的缓 冲区中（又称模式空间，pattern space）。</p> 
<p>2.执行：默认情况下，所有的 sed 命令都在模式空间中顺序地执行，除非指定了行 的地址，否则 sed 命令将会在所有的行上依次执行</p> 
<p>3.显示：发送修改后的内容到输出流。在发送数据后，模式空间将会被清空。 在所有的文件内容都被处理完成之前，上述过程将重复执行，直至所有内容被处理完</p> 
<p></p> 
<h4>sed 命令常见用用法</h4> 
<p>sed [选项] '操作' 参数</p> 
<p>sed [选项] -f scriptfile 参数</p> 
<p>1.-e 或--expression=：表示用指定命令或者脚本来处理输入的文本文件</p> 
<p>2.-f 或--file=：表示用指定的脚本文件来处理输入的文本文件。</p> 
<p>3.-h 或--help：显示帮助。</p> 
<p>4.-n、--quiet 或 silent：表示仅显示处理后的结果</p> 
<p>5.-i：直接编辑文本文件</p> 
<p><img alt="" height="267" src="https://images2.imgbox.com/11/3b/NIJtdFJB_o.png" width="671"></p> 
<p><img alt="" height="178" src="https://images2.imgbox.com/35/29/TnwJtDEC_o.png" width="618"></p> 
<p></p> 
<h4>3.awk 工具</h4> 
<p><img alt="" height="233" src="https://images2.imgbox.com/f2/80/ayXlPYuh_o.png" width="504"></p> 
<p><img alt="" height="558" src="https://images2.imgbox.com/a3/62/U0Fz4j6V_o.png" width="769"></p> 
<p><img alt="" height="522" src="https://images2.imgbox.com/8a/11/5GXMcwvF_o.png" width="815"></p> 
<p></p> 
<p></p> 
<h5>四、总结</h5> 
<p>正则表达式和grep命令是Shell编程中不可或缺的工具。通过掌握它们的使用方法和技巧，我们可以更加高效地进行文本处理和分析。希望本文档能够为您提供有用的参考和帮助。</p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/4586d577f9a8e40d424a4cb5a343ddb8/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Kotlin 接口</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/31430ae0321e5208a88f49c10fe91f79/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">[JAVASE] String类 StringBuffer类 StringBuilder类</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>