<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>谷粒商城实战笔记-119~121-全文检索-ElasticSearch-mapping - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/b44e22407c4f061dd1fb73c27b570e88/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="谷粒商城实战笔记-119~121-全文检索-ElasticSearch-mapping">
  <meta property="og:description" content="文章目录 一，119-全文检索-ElasticSearch-映射-mapping创建1，Elasticsearch7开始不支持类型type。2，mapping2.1 Elasticsearch的Mapping 二，120-全文检索-ElasticSearch-映射-添加新的字段映射三，121-全文检索-ElasticSearch-映射-修改映射&amp;数据迁移1，创建新索引newbank2，将旧索引数据迁移到新索引3，为新索引指定别名 一，119-全文检索-ElasticSearch-映射-mapping创建 1，Elasticsearch7开始不支持类型type。 这意味着，在创建索引时，不需要指定type
2，mapping 索引就像是MySQL等关系数据库的表一样，而表是有表结构的，表结构有字段名词和自动类型组成。
Elasticsearch的索引也有类似的概念，但和MySQ的表结构有些区别：
索引的结构称之为mappingmapping不必提前创建，Elasticsearch会在导入数据时，依据具体的数据进行类型推断，自动创建mapping 2.1 Elasticsearch的Mapping 定义：映射是Elasticsearch中定义索引的模式，它指定了索引中每个字段的数据类型和属性，如分析器（Analyzers）、是否可索引（index）、是否可存储（store）等。目的：映射用于优化搜索性能和定义数据如何被索引和搜索。类型：Elasticsearch支持多种字段类型，包括text、keyword、date、integer、float、boolean等。分析器：Elasticsearch是为全文搜索优化的，字段可以指定不同的分析器来处理文本数据，如标准分析器、简单分析器等。动态映射：Elasticsearch支持动态映射，即在索引新类型的数据时，可以自动推断字段类型并创建映射。 示例：在创建索引时指定mapping：
PUT /my-index { &#34;mappings&#34;: { &#34;properties&#34;: { &#34;name&#34;: { &#34;type&#34;: &#34;text&#34; }, &#34;age&#34;: { &#34;type&#34;: &#34;integer&#34; }, &#34;date&#34;: { &#34;type&#34;: &#34;date&#34;, &#34;format&#34;: &#34;yyyy-MM-dd&#34; } } } } 二，120-全文检索-ElasticSearch-映射-添加新的字段映射 这一节的主要内容是如何修改索引的mapping。
但我们要修改一个已经存在的索引的mapping时，可用使用如下方式。
PUT /my_index/_mapping { &#34;properties&#34;: { &#34;employee-id&#34;: { &#34;type&#34;: &#34;keyword&#34;, &#34;index&#34;: false } } } PUT /my_index/_mapping：这是一个HTTP PUT请求，用于指定名为my_index的索引的映射。如果索引不存在，这个请求将创建索引并定义其映射；如果索引已经存在，它将更新现有的映射。
properties：这是映射定义中的一个关键部分，它包含了索引中所有字段的定义。
&#39;employee-id：这是字段的名称。
type：指定字段的数据类型。在这个例子中，keyword类型被指定，这意味着这个字段将用于精确匹配，并且不会进行全文搜索的分析。
index：这个属性指定字段是否应该被索引。在这个例子中，index被设置为false，表示employee-id字段的数据将不会被索引，因此不能被搜索，也即是这个字段不能作为搜索条件。这通常用于存储元数据或在文档中作为唯一标识符，但不需要进行搜索。
需要注意的是，对于mapping的更新，仅限于增加新的字段，不能修改已有字段的任何属性。
三，121-全文检索-ElasticSearch-映射-修改映射&amp;数据迁移 正如前面所说，index索引的mapping是不能修改的。">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-08-03T09:39:10+08:00">
    <meta property="article:modified_time" content="2024-08-03T09:39:10+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">谷粒商城实战笔记-119~121-全文检索-ElasticSearch-mapping</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#119ElasticSearchmapping_2" rel="nofollow">一，119-全文检索-ElasticSearch-映射-mapping创建</a></li><li><ul><li><a href="#1Elasticsearch7type_4" rel="nofollow">1，Elasticsearch7开始不支持类型type。</a></li><li><a href="#2mapping_8" rel="nofollow">2，mapping</a></li><li><ul><li><a href="#21_ElasticsearchMapping_18" rel="nofollow">2.1 Elasticsearch的Mapping</a></li></ul> 
  </li></ul> 
  </li><li><a href="#120ElasticSearch_48" rel="nofollow">二，120-全文检索-ElasticSearch-映射-添加新的字段映射</a></li><li><a href="#121ElasticSearch_81" rel="nofollow">三，121-全文检索-ElasticSearch-映射-修改映射&amp;数据迁移</a></li><li><ul><li><a href="#1newbank_92" rel="nofollow">1，创建新索引newbank</a></li><li><a href="#2_167" rel="nofollow">2，将旧索引数据迁移到新索引</a></li><li><a href="#3_182" rel="nofollow">3，为新索引指定别名</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="119ElasticSearchmapping_2"></a>一，119-全文检索-ElasticSearch-映射-mapping创建</h2> 
<h3><a id="1Elasticsearch7type_4"></a>1，Elasticsearch7开始不支持类型type。</h3> 
<p>这意味着，在创建索引时，不需要指定type</p> 
<h3><a id="2mapping_8"></a>2，mapping</h3> 
<p>索引就像是MySQL等关系数据库的表一样，而表是有表结构的，表结构有字段名词和自动类型组成。</p> 
<p>Elasticsearch的索引也有类似的概念，但和MySQ的表结构有些区别：</p> 
<ul><li>索引的结构称之为mapping</li><li>mapping不必提前创建，Elasticsearch会在导入数据时，依据具体的数据进行类型推断，自动创建mapping</li></ul> 
<h4><a id="21_ElasticsearchMapping_18"></a>2.1 Elasticsearch的Mapping</h4> 
<ul><li><strong>定义</strong>：映射是Elasticsearch中定义索引的模式，它指定了索引中每个字段的数据类型和属性，如分析器（Analyzers）、是否可索引（index）、是否可存储（store）等。</li><li><strong>目的</strong>：映射用于优化搜索性能和定义数据如何被索引和搜索。</li><li><strong>类型</strong>：Elasticsearch支持多种字段类型，包括<code>text</code>、<code>keyword</code>、<code>date</code>、<code>integer</code>、<code>float</code>、<code>boolean</code>等。</li><li><strong>分析器</strong>：Elasticsearch是为全文搜索优化的，字段可以指定不同的分析器来处理文本数据，如标准分析器、简单分析器等。</li><li><strong>动态映射</strong>：Elasticsearch支持动态映射，即在索引新类型的数据时，可以自动推断字段类型并创建映射。</li></ul> 
<p><strong>示例：在创建索引时指定mapping</strong>：</p> 
<pre><code class="prism language-json"><span class="token constant">PUT</span> <span class="token operator">/</span>my<span class="token operator">-</span>index
<span class="token punctuation">{<!-- --></span>
  <span class="token string-property property">"mappings"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string-property property">"properties"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"text"</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token string-property property">"age"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"integer"</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token string-property property">"date"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"date"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"format"</span><span class="token operator">:</span> <span class="token string">"yyyy-MM-dd"</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="120ElasticSearch_48"></a>二，120-全文检索-ElasticSearch-映射-添加新的字段映射</h2> 
<p>这一节的主要内容是如何修改索引的mapping。</p> 
<p>但我们要修改一个已经存在的索引的mapping时，可用使用如下方式。</p> 
<pre><code class="prism language-dart">PUT <span class="token operator">/</span>my_index<span class="token operator">/</span>_mapping
<span class="token punctuation">{<!-- --></span>
  <span class="token string-literal"><span class="token string">"properties"</span></span><span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string-literal"><span class="token string">"employee-id"</span></span><span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
      <span class="token string-literal"><span class="token string">"type"</span></span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"keyword"</span></span><span class="token punctuation">,</span>
      <span class="token string-literal"><span class="token string">"index"</span></span><span class="token punctuation">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<ul><li> <p><code>PUT /my_index/_mapping</code>：这是一个HTTP PUT请求，用于指定名为<code>my_index</code>的索引的映射。如果索引不存在，这个请求将创建索引并定义其映射；如果索引已经存在，它将更新现有的映射。</p> </li><li> <p><code>properties</code>：这是映射定义中的一个关键部分，它包含了索引中所有字段的定义。</p> </li><li> <p><code>'employee-id</code>：这是字段的名称。</p> </li><li> <p><code>type</code>：指定字段的数据类型。在这个例子中，<code>keyword</code>类型被指定，这意味着这个字段将用于精确匹配，并且不会进行全文搜索的分析。</p> </li><li> <p><code>index</code>：这个属性指定字段是否应该被索引。在这个例子中，<code>index</code>被设置为<code>false</code>，表示<code>employee-id</code>字段的数据将不会被索引，因此不能被搜索，也即是这个字段不能作为搜索条件。这通常用于存储元数据或在文档中作为唯一标识符，但不需要进行搜索。</p> </li></ul> 
<p><strong>需要注意的是，对于mapping的更新，仅限于增加新的字段，不能修改已有字段的任何属性。</strong></p> 
<h2><a id="121ElasticSearch_81"></a>三，121-全文检索-ElasticSearch-映射-修改映射&amp;数据迁移</h2> 
<p>正如前面所说，index索引的mapping是不能修改的。</p> 
<p>如果一定要修改，只能重新创建一个索引，再把数据迁移到新索引。步骤如下：</p> 
<ul><li>创建一个新索引，指定所需的mapping</li><li>通过reindex将数据从旧索引迁移到新索引</li><li>为新索引指定索引别名</li></ul> 
<p>以前面自动创建的索引<code>bank</code>为例，基于我们想要的<code>mapping</code>创建一个新的索引<code>newbank</code>。</p> 
<h3><a id="1newbank_92"></a>1，创建新索引newbank</h3> 
<pre><code class="prism language-dart">PUT newbank
<span class="token punctuation">{<!-- --></span>
  <span class="token string-literal"><span class="token string">"mappings"</span></span> <span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
      <span class="token string-literal"><span class="token string">"properties"</span></span> <span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token string-literal"><span class="token string">"account_number"</span></span> <span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
          <span class="token string-literal"><span class="token string">"type"</span></span> <span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"long"</span></span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string-literal"><span class="token string">"address"</span></span> <span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
          <span class="token string-literal"><span class="token string">"type"</span></span> <span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"text"</span></span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string-literal"><span class="token string">"age"</span></span> <span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
          <span class="token string-literal"><span class="token string">"type"</span></span> <span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"long"</span></span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string-literal"><span class="token string">"balance"</span></span> <span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
          <span class="token string-literal"><span class="token string">"type"</span></span> <span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"long"</span></span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string-literal"><span class="token string">"city"</span></span> <span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
          <span class="token string-literal"><span class="token string">"type"</span></span> <span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"text"</span></span><span class="token punctuation">,</span>
          <span class="token string-literal"><span class="token string">"fields"</span></span> <span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
            <span class="token string-literal"><span class="token string">"keyword"</span></span> <span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
              <span class="token string-literal"><span class="token string">"type"</span></span> <span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"keyword"</span></span><span class="token punctuation">,</span>
              <span class="token string-literal"><span class="token string">"ignore_above"</span></span> <span class="token punctuation">:</span> <span class="token number">256</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string-literal"><span class="token string">"email"</span></span> <span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
          <span class="token string-literal"><span class="token string">"type"</span></span> <span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"text"</span></span><span class="token punctuation">,</span>
          <span class="token string-literal"><span class="token string">"fields"</span></span> <span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
            <span class="token string-literal"><span class="token string">"keyword"</span></span> <span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
              <span class="token string-literal"><span class="token string">"type"</span></span> <span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"keyword"</span></span><span class="token punctuation">,</span>
              <span class="token string-literal"><span class="token string">"ignore_above"</span></span> <span class="token punctuation">:</span> <span class="token number">256</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string-literal"><span class="token string">"employer"</span></span> <span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
          <span class="token string-literal"><span class="token string">"type"</span></span> <span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"text"</span></span><span class="token punctuation">,</span>
          <span class="token string-literal"><span class="token string">"fields"</span></span> <span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
            <span class="token string-literal"><span class="token string">"keyword"</span></span> <span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
              <span class="token string-literal"><span class="token string">"type"</span></span> <span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"keyword"</span></span><span class="token punctuation">,</span>
              <span class="token string-literal"><span class="token string">"ignore_above"</span></span> <span class="token punctuation">:</span> <span class="token number">256</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string-literal"><span class="token string">"firstname"</span></span> <span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
          <span class="token string-literal"><span class="token string">"type"</span></span> <span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"keyword"</span></span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string-literal"><span class="token string">"gender"</span></span> <span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
          <span class="token string-literal"><span class="token string">"type"</span></span> <span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"keyword"</span></span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string-literal"><span class="token string">"lastname"</span></span> <span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
          <span class="token string-literal"><span class="token string">"type"</span></span> <span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"text"</span></span><span class="token punctuation">,</span>
          <span class="token string-literal"><span class="token string">"fields"</span></span> <span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
            <span class="token string-literal"><span class="token string">"keyword"</span></span> <span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
              <span class="token string-literal"><span class="token string">"type"</span></span> <span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"keyword"</span></span><span class="token punctuation">,</span>
              <span class="token string-literal"><span class="token string">"ignore_above"</span></span> <span class="token punctuation">:</span> <span class="token number">256</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string-literal"><span class="token string">"state"</span></span> <span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
          <span class="token string-literal"><span class="token string">"type"</span></span> <span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"text"</span></span><span class="token punctuation">,</span>
          <span class="token string-literal"><span class="token string">"fields"</span></span> <span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
            <span class="token string-literal"><span class="token string">"keyword"</span></span> <span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
              <span class="token string-literal"><span class="token string">"type"</span></span> <span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"keyword"</span></span><span class="token punctuation">,</span>
              <span class="token string-literal"><span class="token string">"ignore_above"</span></span> <span class="token punctuation">:</span> <span class="token number">256</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="2_167"></a>2，将旧索引数据迁移到新索引</h3> 
<pre><code class="prism language-dart">POST <span class="token operator">/</span>_reindex
<span class="token punctuation">{<!-- --></span>
  <span class="token string-literal"><span class="token string">"source"</span></span><span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string-literal"><span class="token string">"index"</span></span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"bank"</span></span><span class="token punctuation">,</span>
    <span class="token string-literal"><span class="token string">"type"</span></span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"acount"</span></span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-literal"><span class="token string">"dest"</span></span><span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string-literal"><span class="token string">"index"</span></span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"newbank"</span></span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="3_182"></a>3，为新索引指定别名</h3> 
<pre><code class="prism language-dart">POST <span class="token operator">/</span>_aliases
<span class="token punctuation">{<!-- --></span>
  <span class="token string-literal"><span class="token string">"actions"</span></span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{<!-- --></span>
      <span class="token string-literal"><span class="token string">"remove"</span></span><span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token string-literal"><span class="token string">"index"</span></span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"bank"</span></span><span class="token punctuation">,</span>
        <span class="token string-literal"><span class="token string">"alias"</span></span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"bank_alias"</span></span> 
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span>
      <span class="token string-literal"><span class="token string">"add"</span></span><span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token string-literal"><span class="token string">"index"</span></span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"newbank"</span></span><span class="token punctuation">,</span>
        <span class="token string-literal"><span class="token string">"alias"</span></span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"bank_alias"</span></span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>

</code></pre> 
<p>首先移除旧索引的别名，同时为新索引指定别名，这样在通过别名访问索引数据时，实际上访问的是新索引，这个变更的过程无需更新使用索引的引用程序。</p> 
<p>当然，前提是旧索引有别名，且应用程序使用的是别名。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/dee7aabec0529898b39d84137df50ed7/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【数据结构初阶】深度理解 “栈” （附源码）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/2f861d9793c6306c96ad17c8ba82ecaf/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Godot的节点与场景</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>