<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【Win】双系统新体验：Hyper-V上macOS安装攻略 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/b120fcb439eafc20ffccaec3e52db46d/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="【Win】双系统新体验：Hyper-V上macOS安装攻略">
  <meta property="og:description" content=" 在虚拟化的世界里，Hyper-V是探索不同操作系统的一扇大门。尽管macOS并不是Hyper-V官方支持的来宾操作系统，但这并未阻挡技术探索者的脚步。他们通过不懈努力，开辟出了一条条通往macOS的非官方路径。这些路径或许曲折，却为那些渴望在Windows环境中体验macOS魅力的用户打开了一扇窗。根据最新的技术指南和项目信息，我们了解到：
CPU支持限制：目前，只有Intel &#34;i&#34;系列CPU得到支持，Xeon、Pentium、Celeron和AMD CPU尚未兼容。macOS版本支持：从macOS 10.8 Mountain Lion到最新的macOS 14 Sonoma，多数版本均可在Hyper-V上安装和运行。 Hyper-V 推荐设置 组件：最低配置推荐配置CPU：2个虚拟核心4个以上虚拟核心GPU：128MB图形内存1GB以上图形内存内存（RAM）：macOS 10.15及更早版本需要4GB，11及更高版本需要8GB8GB以上固态硬盘（SSD）：30GB60GB以上无线网络（WiFi）：使用默认交换机使用默认交换机电池（Batt）：不适用不适用USB：不适用不适用 安装指南 前提条件 安装Hyper-V 确保您的Windows 10或11电脑上已经安装了Hyper-V。如果尚未安装，可以通过“控制面板”中的“程序和功能”启用Hyper-V功能。 安装Python 在您的系统上安装Python，这是执行某些脚本和工具所必需的。 下载UEFI.VHDX 从提供的存储库下载最新的UEFI.VHDX zip或7z文件，并将其提取到您选择的方便访问的位置。下载地址：https://github.com/balopez83/macOS_On_Hyper-V/releases/tag/2.3.0 获取OpenCore 下载最新版本的OpenCore。在安装过程中，我们将使用OpenCore工具箱中的一个工具。下载地址：https://github.com/acidanthera/OpenCorePkg/releases 准备UEFI.VHDX 解压前提条件中下载得两个工具包，获得一个UEFI.VHDX文件和以及OpenCore的文件夹。使用此页面上的说明下载您要安装的操作系统版本的恢复映像。将com.apple.recovery.boot文件夹与您之前下载的UEFI.VHDX一起保存。
右键点击您刚刚下载的com.apple.recovery.boot文件夹，点击“复制”。然后双击UEFI.VHDX。这将挂载UEFI驱动器并打开它。
在刚刚打开的挂载的UEFI驱动器资源管理器窗口中右键点击，并点击“粘贴”。现在您应该有三个文件夹。
转到“此电脑”，右键点击挂载的UEFI驱动器，然后点击“弹出”。
创建Hyper-V虚拟机 启动Hyper-V并创建一个新的虚拟机（不要使用Hyper-V快速创建）。
为您的新虚拟机命名，如果愿意，您可以更改其存储位置。点击下一步。
选择第2代。这不适用于第1代。
增加启动内存。4GB是Catalina及更早版本的最低要求；8GB是Big Sur及更高版本的最低要求。您应该保持动态内存选项被选中。点击下一步。
点击“连接”下拉菜单，选择“默认交换机”。
为您的“虚拟硬盘”命名，并更改驱动器大小为您喜欢的尺寸。驱动器会扩展到您在这里选择的最大大小，所以在选择大小时请注意。您可以更改虚拟驱动器的位置。点击下一步。
选择“稍后安装操作系统”，然后点击下一步。
点击完成。
Hyper-V完成虚拟机设置后，继续进入下一步骤。
在Hyper-V中安装macOS 右键点击您的新Hyper-V，然后点击设置。按顺序更改以下设置。
调整以下内容：在安全选项下，如果启用了“启用安全启动”，请取消选中。您可以启用或禁用TPM，因为我不知道它对虚拟机有任何负面影响。
禁用检查点，否则您在Hyper-V使用中稍后会遇到问题。
在集成服务下选择所有选项。
调整以下内容：在SCSI控制器下选择硬盘驱动器，然后点击“添加”。在虚拟硬盘下点击“浏览”。找到并选择您之前下载并更新的UEFI.VHDX。
点击应用。不要关闭窗口继续调整以下内容：在固件下调整启动顺序，使UEFI.VHDX硬盘驱动器排在第一位，其他硬盘驱动器排在第二位。如果您有网络或其他选项，请将它们移到列表的末尾。
点击应用，然后点击确定。
双击新的虚拟机。窗口将打开，在这一点上，您应该点击“开始”。
如果一切正确完成，您应该很快就会看到OpenCore启动菜单，如果没有预先选择，请选择macOS恢复并启动它（您可能需要按空格键来显示此选项）。
这将需要一段时间，但最终安装程序将加载。在启动过程中，它可能看起来在早期启动时冻结，但它会继续。如果它在启动过程的后期看起来冻结，您可以点击重置按钮重新启动。它可能需要最多5分钟才能启动，所以请耐心等待。根据您尝试安装的操作系统，您可能需要重置几次才能成功启动。
一旦恢复加载，打开磁盘工具。
选择您之前创建的“Msft虚拟磁盘介质”驱动器（应该是空白的，没有分区），并将其格式化为APFS，并为分区命名（例如“MacOS”）。
格式化后，退出磁盘工具。
启动macOS安装程序，选择您刚刚格式化的新的“macOS”分区。接受并继续点击，直到开始安装。
这次安装将需要一些时间，并且在途中可能会有几次内核崩溃。继续让它重新启动，不要停止虚拟机。最终，安装将完成，您将看到新macOS Hyper-V的初始个性化设置屏幕，
通过一系列的设置后顺利进入macOS的桌面，就是没有桌面壁纸，不知道为什么，还没细细研究。最后将得到：
恭喜您完成了在Hyper-V上安装macOS的整个过程！现在，您已经拥有了一个在Windows宿主机上运行的macOS虚拟机。虽然macOS在Hyper-V上运行可能并不完美，可能会遇到一些小问题或性能限制。但正是这些挑战，让我们的技术旅程更加充满乐趣和成就感。
参考 https://github.com/balopez83/macOS_On_Hyper-Vhttps://github.com/acidanthera/OpenCorePkghttps://dortania.github.io/OpenCore-Install-Guide/installer-guide/windows-install.html#downloading-macos ">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-06-19T15:39:23+08:00">
    <meta property="article:modified_time" content="2024-06-19T15:39:23+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【Win】双系统新体验：Hyper-V上macOS安装攻略</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>在虚拟化的世界里，Hyper-V是探索不同操作系统的一扇大门。尽管macOS并不是Hyper-V官方支持的来宾操作系统，但这并未阻挡技术探索者的脚步。他们通过不懈努力，开辟出了一条条通往macOS的非官方路径。这些路径或许曲折，却为那些渴望在Windows环境中体验macOS魅力的用户打开了一扇窗。根据最新的技术指南和项目信息，我们了解到：</p> 
<ul><li><strong>CPU支持限制</strong>：目前，只有Intel "i"系列CPU得到支持，Xeon、Pentium、Celeron和AMD CPU尚未兼容。</li><li><strong>macOS版本支持</strong>：从macOS 10.8 Mountain Lion到最新的macOS 14 Sonoma，多数版本均可在Hyper-V上安装和运行。</li></ul> 
<h2><a id="HyperV__6"></a>Hyper-V 推荐设置</h2> 
<table><thead><tr><th>组件：</th><th>最低配置</th><th>推荐配置</th></tr></thead><tbody><tr><td>CPU：</td><td>2个虚拟核心</td><td>4个以上虚拟核心</td></tr><tr><td>GPU：</td><td>128MB图形内存</td><td>1GB以上图形内存</td></tr><tr><td>内存（RAM）：</td><td>macOS 10.15及更早版本需要4GB，11及更高版本需要8GB</td><td>8GB以上</td></tr><tr><td>固态硬盘（SSD）：</td><td>30GB</td><td>60GB以上</td></tr><tr><td>无线网络（WiFi）：</td><td>使用默认交换机</td><td>使用默认交换机</td></tr><tr><td>电池（Batt）：</td><td>不适用</td><td>不适用</td></tr><tr><td>USB：</td><td>不适用</td><td>不适用</td></tr></tbody></table> 
<h2><a id="_18"></a>安装指南</h2> 
<h3><a id="_21"></a>前提条件</h3> 
<ol><li><strong>安装Hyper-V</strong> 
  <ul><li>确保您的Windows 10或11电脑上已经安装了Hyper-V。如果尚未安装，可以通过“控制面板”中的“程序和功能”启用Hyper-V功能。</li></ul> </li><li><strong>安装Python</strong> 
  <ul><li>在您的系统上安装Python，这是执行某些脚本和工具所必需的。</li></ul> </li><li><strong>下载UEFI.VHDX</strong> 
  <ul><li>从提供的存储库下载最新的UEFI.VHDX zip或7z文件，并将其提取到您选择的方便访问的位置。</li><li>下载地址：https://github.com/balopez83/macOS_On_Hyper-V/releases/tag/2.3.0</li></ul> </li><li><strong>获取OpenCore</strong> 
  <ul><li>下载最新版本的OpenCore。在安装过程中，我们将使用OpenCore工具箱中的一个工具。</li><li>下载地址：https://github.com/acidanthera/OpenCorePkg/releases</li></ul> </li></ol> 
<h3><a id="UEFIVHDX_35"></a>准备UEFI.VHDX</h3> 
<p>解压前提条件中下载得两个工具包，获得一个UEFI.VHDX文件和以及OpenCore的文件夹。使用<a href="https://dortania.github.io/OpenCore-Install-Guide/installer-guide/windows-install.html#downloading-macos" rel="nofollow">此页面</a>上的说明下载您要安装的操作系统版本的恢复映像。将com.apple.recovery.boot文件夹与您之前下载的UEFI.VHDX一起保存。</p> 
<p><img src="https://images2.imgbox.com/fb/24/Tdb6r8XU_o.png" alt="在这里插入图片描述"></p> 
<p>右键点击您刚刚下载的com.apple.recovery.boot文件夹，点击“复制”。然后双击UEFI.VHDX。这将挂载UEFI驱动器并打开它。</p> 
<p>在刚刚打开的挂载的UEFI驱动器资源管理器窗口中右键点击，并点击“粘贴”。现在您应该有三个文件夹。</p> 
<p><img src="https://images2.imgbox.com/cd/1f/Z4D9mJzr_o.png" alt="在这里插入图片描述"></p> 
<p>转到“此电脑”，右键点击挂载的UEFI驱动器，然后点击“弹出”。</p> 
<h3><a id="HyperV_51"></a>创建Hyper-V虚拟机</h3> 
<p>启动Hyper-V并创建一个新的虚拟机（不要使用Hyper-V快速创建）。<br> <img src="https://images2.imgbox.com/f4/48/MDPHLVVi_o.png" alt="在这里插入图片描述"></p> 
<p>为您的新虚拟机命名，如果愿意，您可以更改其存储位置。点击下一步。<br> <img src="https://images2.imgbox.com/8d/35/3FNgBogr_o.png" alt="在这里插入图片描述"></p> 
<p>选择第2代。这不适用于第1代。<br> <img src="https://images2.imgbox.com/14/41/0CSCsEmX_o.png" alt="在这里插入图片描述"></p> 
<p>增加启动内存。4GB是Catalina及更早版本的最低要求；8GB是Big Sur及更高版本的最低要求。您应该保持动态内存选项被选中。点击下一步。<br> <img src="https://images2.imgbox.com/ba/2f/mkoPl0sA_o.png" alt="在这里插入图片描述"></p> 
<p>点击“连接”下拉菜单，选择“默认交换机”。<br> <img src="https://images2.imgbox.com/9a/97/t3IBpCzi_o.png" alt="在这里插入图片描述"></p> 
<p>为您的“虚拟硬盘”命名，并更改驱动器大小为您喜欢的尺寸。驱动器会扩展到您在这里选择的最大大小，所以在选择大小时请注意。您可以更改虚拟驱动器的位置。点击下一步。<br> <img src="https://images2.imgbox.com/e4/b5/031bIQ2C_o.png" alt="在这里插入图片描述"></p> 
<p>选择“稍后安装操作系统”，然后点击下一步。<br> <img src="https://images2.imgbox.com/00/04/M45VQMAI_o.png" alt="在这里插入图片描述"></p> 
<p>点击完成。<br> <img src="https://images2.imgbox.com/1c/c0/woU10jSv_o.png" alt="在这里插入图片描述"></p> 
<p>Hyper-V完成虚拟机设置后，继续进入下一步骤。</p> 
<h3><a id="HyperVmacOS_84"></a>在Hyper-V中安装macOS</h3> 
<p>右键点击您的新Hyper-V，然后点击设置。按顺序更改以下设置。</p> 
<p>调整以下内容：在安全选项下，如果启用了“启用安全启动”，请取消选中。您可以启用或禁用TPM，因为我不知道它对虚拟机有任何负面影响。<br> <img src="https://images2.imgbox.com/e1/5c/pIR0qRuq_o.png" alt="在这里插入图片描述"></p> 
<p>禁用检查点，否则您在Hyper-V使用中稍后会遇到问题。<br> <img src="https://images2.imgbox.com/e8/19/4ZVs8pnd_o.png" alt="在这里插入图片描述"><br> 在集成服务下选择所有选项。<br> <img src="https://images2.imgbox.com/6d/9d/EiNhR24R_o.png" alt="在这里插入图片描述"></p> 
<p>调整以下内容：在SCSI控制器下选择硬盘驱动器，然后点击“添加”。在虚拟硬盘下点击“浏览”。找到并选择您之前下载并更新的UEFI.VHDX。<br> <img src="https://images2.imgbox.com/41/66/K0jO23wK_o.png" alt="在这里插入图片描述"></p> 
<p>点击应用。不要关闭窗口继续调整以下内容：在固件下调整启动顺序，使UEFI.VHDX硬盘驱动器排在第一位，其他硬盘驱动器排在第二位。如果您有网络或其他选项，请将它们移到列表的末尾。<br> <img src="https://images2.imgbox.com/23/37/qaZgGyZy_o.png" alt="在这里插入图片描述"></p> 
<p>点击应用，然后点击确定。</p> 
<p>双击新的虚拟机。窗口将打开，在这一点上，您应该点击“开始”。</p> 
<p>如果一切正确完成，您应该很快就会看到OpenCore启动菜单，如果没有预先选择，请选择macOS恢复并启动它（您可能需要按空格键来显示此选项）。<br> <img src="https://images2.imgbox.com/9e/6b/JtmCqrHv_o.png" alt="在这里插入图片描述"></p> 
<p>这将需要一段时间，但最终安装程序将加载。在启动过程中，它可能看起来在早期启动时冻结，但它会继续。如果它在启动过程的后期看起来冻结，您可以点击重置按钮重新启动。它可能需要最多5分钟才能启动，所以请耐心等待。根据您尝试安装的操作系统，您可能需要重置几次才能成功启动。<br> <img src="https://images2.imgbox.com/c2/30/ZF4vFfHI_o.png" alt="在这里插入图片描述"></p> 
<p>一旦恢复加载，打开磁盘工具。<br> <img src="https://images2.imgbox.com/9e/dc/4foZ4X8e_o.png" alt="在这里插入图片描述"></p> 
<p>选择您之前创建的“Msft虚拟磁盘介质”驱动器（应该是空白的，没有分区），并将其格式化为APFS，并为分区命名（例如“MacOS”）。<br> <img src="https://images2.imgbox.com/fa/f4/fuSufEXL_o.png" alt="在这里插入图片描述"><img src="https://images2.imgbox.com/3a/10/vKIpasv3_o.png" alt="在这里插入图片描述"></p> 
<p>格式化后，退出磁盘工具。<br> <img src="https://images2.imgbox.com/79/9e/VG6Pc2iX_o.png" alt="在这里插入图片描述"></p> 
<p>启动macOS安装程序，选择您刚刚格式化的新的“macOS”分区。接受并继续点击，直到开始安装。<br> <img src="https://images2.imgbox.com/bb/4b/C0TyEIe1_o.png" alt="在这里插入图片描述"><img src="https://images2.imgbox.com/98/5d/d7wfOUwB_o.png" alt="在这里插入图片描述"><img src="https://images2.imgbox.com/79/16/mh82CnAl_o.png" alt="在这里插入图片描述"><img src="https://images2.imgbox.com/de/bf/S6rzw8ds_o.png" alt="在这里插入图片描述"><img src="https://images2.imgbox.com/05/8d/yLjSQc8u_o.png" alt="在这里插入图片描述"></p> 
<p>这次安装将需要一些时间，并且在途中可能会有几次内核崩溃。继续让它重新启动，不要停止虚拟机。最终，安装将完成，您将看到新macOS Hyper-V的初始个性化设置屏幕，</p> 
<p><img src="https://images2.imgbox.com/9d/71/1I0UTvXj_o.png" alt="在这里插入图片描述"></p> 
<p>通过一系列的设置后顺利进入macOS的桌面，就是没有桌面壁纸，不知道为什么，还没细细研究。最后将得到：<br> <img src="https://images2.imgbox.com/a6/14/ysbmyPVa_o.png" alt="在这里插入图片描述"><strong>恭喜</strong>您完成了在Hyper-V上安装macOS的整个过程！现在，您已经拥有了一个在Windows宿主机上运行的macOS虚拟机。虽然macOS在Hyper-V上运行可能并不完美，可能会遇到一些小问题或性能限制。但正是这些挑战，让我们的技术旅程更加充满乐趣和成就感。</p> 
<h2><a id="_145"></a>参考</h2> 
<ul><li>https://github.com/balopez83/macOS_On_Hyper-V</li><li>https://github.com/acidanthera/OpenCorePkg</li><li>https://dortania.github.io/OpenCore-Install-Guide/installer-guide/windows-install.html#downloading-macos</li></ul>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ea8e218df2ebcd6dd56c13d09c1ed6d2/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">urllib3版本与系统openssl版本不兼容</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/92839a17664a72f9650f9e53661b979e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">GaussDB技术解读——GaussDB架构介绍（五）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>