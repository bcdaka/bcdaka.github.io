<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>解决：安装MySQL 5.7 的时候报错：unknown variable ‘mysqlx_port=0.0‘ - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/07433b8ae9e2bc1579c18d1f60e9b1e3/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="解决：安装MySQL 5.7 的时候报错：unknown variable ‘mysqlx_port=0.0‘">
  <meta property="og:description" content="目录 1. 背景2. 解决步骤 1. 背景 吐槽1，没被收购之前可以随便下载，现在下载要注册登录吐槽2，5.7安装到初始化数据库的时候就会报错，而8.x的可以一镜到底，一开始以为是国区的特色问题，google了一圈，各个国家的人都遇到过，一视同仁了属于是吐槽3，这个问题居然搜了一圈，没有特别明确的解决方案，所以就有了这个文章了 2. 解决步骤 官网下载5.7版本的，这是官网地址，直接双击安装，一路默认选项不用改，中间要填一下root的密码，一直到报错，如下图：
点开Log，里面提示的就是标题写的，无法识别的参数“mysqlx_port=0.0”，大写的疑惑啊，官方的安装程序都不能跑？这个时候不管如何改，都没用了，用官方的安装程序就到这，接下来是手动操作模式第一步：找到my.ini文件，推荐用everything，下载地址，如果前面的安装程序都是默认选择的话，那my.ini的位置应该是C:\ProgramData\MySQL\MySQL Server 5.7\my.ini，找到my.ini文件后，搜索一下报错的参数mysqlx_port=0.0，其实就在最后一行，注释掉（这时候可能以为重新用官方安装程序能够继续下去，其实不能，每次它都会重新生成my.ini，然后mysqlx_port=0.0又出现了！）第二步：如果前面的安装程序都是默认选择的话，那mysql的data文件应该在C:\ProgramData\MySQL\MySQL Server 5.7\Data，打开这个目录，把里面的文件删光第三步：找到mysqld.exe文件，可以用上一步推荐的everything，如果前面的安装程序都是默认选择的话，位置应该在C:\Program Files\MySQL\MySQL Server 5.7\bin\mysqld.exe，找到这个文件后，在这个目录下打开cmd，最方便的方式是直接地址栏输入cmd，回车打开cmd窗口后，构建这样一个命令：mysqld --defaults-file=&#34;C:\ProgramData\MySQL\MySQL Server 5.7\my.ini&#34; --console --initialize-insecure，然后回车(可选)有可能遇到这样的一个错误，是编码问题，打开上面找到的my.ini，另存为，选编码格式为ANSI，覆盖掉之前的那份my.ini，然后重新运行mysqld --defaults-file=&#34;C:\ProgramData\MySQL\MySQL Server 5.7\my.ini&#34; --console --initialize-insecure
上面那一步没有报错的运行到最后，代表离成功不远了，接下来构建这样一个命令mysqld --defaults-file=&#34;C:\ProgramData\MySQL\MySQL Server 5.7\my.ini&#34; --console ，意思是在cmd里直接运行MySQL然后在C:\Program Files\MySQL\MySQL Server 5.7\bin\这个目录下再新打开一个cmd窗口，输入命令mysql -u root，直接进入MySQL了，是的，不用密码接下来，给root用户加个密码，在MySQL内部，输入命令：ALTER USER &#39;root&#39;@&#39;localhost&#39; IDENTIFIED BY &#39;123456&#39;;(分号必须要！！！这里的123456就是新密码，可随意)，回车刷新权限命令：FLUSH PRIVILEGES;(分号必须要！！！)，回车退出MySQL命令：EXIT;，回城接下来验证一下密码生效了没，上一步退出来的cmd里输入：mysql -u root -p，再输入密码123456，ok，如愿进入MySQL了，这时候其实MySQL已经可以在电脑里运行了，但是是cmd运行的方式，每次都要手动输入，太麻烦了，做成系统服务，开机自动启动先把上面手动运行的MySQL关掉，然后打开任务管理器，如果任务管理器之前打开了，就关了重新打开，切到服务页，找MySQL字眼的服务，右键，开始，如果能够正常启动，就表示服务版的MySQL装好了，以后开机自动启动。目前观察到win11家庭版的系统，不能用上面的方式启动MySQL服务，还找不到原因，贴一个bat命令，可以手动点击开启MySQL，新建一个txt文件，把后缀改成bat，然后把下面的代码复制进去，保存退出，尝试双击打开，如果cmd窗口不会自动关闭，保持运行，说明MySQL运行起来了 @echo off echo Starting MySQL Server... &#34;C:\Program Files\MySQL\MySQL Server 5.7\bin\mysqld&#34; --defaults-file=&#34;C:\ProgramData\MySQL\MySQL Server 5.7\my.ini&#34; --console echo. echo MySQL Server started. Press any key to exit.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-06-14T11:48:54+08:00">
    <meta property="article:modified_time" content="2024-06-14T11:48:54+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">解决：安装MySQL 5.7 的时候报错：unknown variable ‘mysqlx_port=0.0‘</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>目录</h4> 
 <ul><li><a href="#1__2" rel="nofollow">1. 背景</a></li><li><a href="#2__6" rel="nofollow">2. 解决步骤</a></li></ul> 
</div> 
<p></p> 
<h2><a id="1__2"></a>1. 背景</h2> 
<ul><li>吐槽1，没被收购之前可以随便下载，现在下载要注册登录</li><li>吐槽2，5.7安装到初始化数据库的时候就会报错，而8.x的可以一镜到底，一开始以为是国区的特色问题，google了一圈，各个国家的人都遇到过，一视同仁了属于是</li><li>吐槽3，这个问题居然搜了一圈，没有特别明确的解决方案，所以就有了这个文章了</li></ul> 
<h2><a id="2__6"></a>2. 解决步骤</h2> 
<ul><li>官网下载5.7版本的，这是<a href="https://dev.mysql.com/downloads/installer/" rel="nofollow">官网地址</a>，直接双击安装，一路默认选项不用改，中间要填一下root的密码，一直到报错，如下图：<br> <img src="https://images2.imgbox.com/54/6b/FFhBb4ip_o.png" alt="在这里插入图片描述"></li><li>点开Log，里面提示的就是标题写的，无法识别的参数“mysqlx_port=0.0”，大写的疑惑啊，官方的安装程序都不能跑？</li><li>这个时候不管如何改，都没用了，用官方的安装程序就到这，接下来是手动操作模式</li><li>第一步：找到my.ini文件，推荐用everything，<a href="https://www.voidtools.com/zh-cn/downloads/" rel="nofollow">下载地址</a>，如果前面的安装程序都是默认选择的话，那my.ini的位置应该是<code>C:\ProgramData\MySQL\MySQL Server 5.7\my.ini</code>，找到my.ini文件后，搜索一下报错的参数<strong>mysqlx_port=0.0</strong>，其实就在最后一行，注释掉（这时候可能以为重新用官方安装程序能够继续下去，其实不能，每次它都会重新生成my.ini，然后mysqlx_port=0.0又出现了！）</li><li>第二步：如果前面的安装程序都是默认选择的话，那mysql的data文件应该在<code>C:\ProgramData\MySQL\MySQL Server 5.7\Data</code>，打开这个目录，把里面的文件删光</li><li>第三步：找到mysqld.exe文件，可以用上一步推荐的everything，如果前面的安装程序都是默认选择的话，位置应该在<code>C:\Program Files\MySQL\MySQL Server 5.7\bin\mysqld.exe</code>，找到这个文件后，在这个目录下打开cmd，最方便的方式是直接地址栏输入cmd，回车</li><li>打开cmd窗口后，构建这样一个命令：<code>mysqld --defaults-file="C:\ProgramData\MySQL\MySQL Server 5.7\my.ini" --console --initialize-insecure</code>，然后回车</li><li>(可选)有可能遇到这样的一个错误，是编码问题，打开上面找到的my.ini，另存为，选编码格式为ANSI，覆盖掉之前的那份my.ini，然后重新运行<code>mysqld --defaults-file="C:\ProgramData\MySQL\MySQL Server 5.7\my.ini" --console --initialize-insecure</code><br> <img src="https://images2.imgbox.com/c4/b1/3N2ziIOZ_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/bc/74/rxFI3uyT_o.png" alt="在这里插入图片描述"></li><li>上面那一步没有报错的运行到最后，代表离成功不远了，接下来构建这样一个命令<code>mysqld --defaults-file="C:\ProgramData\MySQL\MySQL Server 5.7\my.ini" --console</code> ，意思是在cmd里直接运行MySQL</li><li>然后在<code>C:\Program Files\MySQL\MySQL Server 5.7\bin\</code>这个目录下再新打开一个cmd窗口，输入命令<code>mysql -u root</code>，直接进入MySQL了，是的，不用密码</li><li>接下来，给root用户加个密码，在MySQL内部，输入命令：<code>ALTER USER 'root'@'localhost' IDENTIFIED BY '123456';</code>(分号必须要！！！这里的123456就是新密码，可随意)，回车</li><li>刷新权限命令：<code>FLUSH PRIVILEGES;</code>(分号必须要！！！)，回车</li><li>退出MySQL命令：<code>EXIT;</code>，回城</li><li>接下来验证一下密码生效了没，上一步退出来的cmd里输入：<code>mysql -u root -p</code>，再输入密码123456，ok，如愿进入MySQL了，这时候其实MySQL已经可以在电脑里运行了，但是是cmd运行的方式，每次都要手动输入，太麻烦了，做成系统服务，开机自动启动</li><li>先把上面手动运行的MySQL关掉，然后打开任务管理器，如果任务管理器之前打开了，就关了重新打开，切到服务页，找MySQL字眼的服务，右键，开始，如果能够正常启动，就表示服务版的MySQL装好了，以后开机自动启动。</li><li>目前观察到win11家庭版的系统，不能用上面的方式启动MySQL服务，还找不到原因，贴一个bat命令，可以手动点击开启MySQL，新建一个txt文件，把后缀改成bat，然后把下面的代码复制进去，保存退出，尝试双击打开，如果cmd窗口不会自动关闭，保持运行，说明MySQL运行起来了</li></ul> 
<pre><code class="prism language-bash">@echo off
<span class="token builtin class-name">echo</span> Starting MySQL Server<span class="token punctuation">..</span>.
<span class="token string">"C:\Program Files\MySQL\MySQL Server 5.7<span class="token entity" title="\b">\b</span>in\mysqld"</span> --defaults-file<span class="token operator">=</span><span class="token string">"C:\ProgramData\MySQL\MySQL Server 5.7\my.ini"</span> <span class="token parameter variable">--console</span>
echo.
<span class="token builtin class-name">echo</span> MySQL Server started. Press any key to exit<span class="token punctuation">..</span>.
pause <span class="token operator">&gt;</span>nul

</code></pre> 
<p>over，enjoy！</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/11c7457f478103a7fb9f148f735e7f33/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">CUDA算子优化：矩阵乘GEMM优化(三)</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c2824eca2f34560fe92b98a277930ddd/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">C&#43;&#43; 34 之 单例模式</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>