<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Fiddler入门：下载、安装、配置、抓包、customize rules - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/47c05addf4428ab00721413821eac0d3/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="Fiddler入门：下载、安装、配置、抓包、customize rules">
  <meta property="og:description" content="一、fiddler下载安装 安装包下载链接：https://www.telerik.com/download/fiddler
随便选个用途，填写邮箱，地区选择China，勾选“I accept the Fiddler End User License Agreement”，点击“DownLoad for windows”，下载。
双击FiddlerSetup.exe安装fiddler，可以选择常用的、不那么深的一个路径。
在安装路径下，双击Fiddler.exe，能打开，说明安装成功，可以给Fiddler.exe创建一个桌面快捷方式。
二、fiddler配置 双击Fiddler.exe，弹出“AppContainer Configuration”对话框，点击“cancel”就行。
Progress Telerik Fiddler Web Debugger菜单栏中，Tools——Options。
2-1.HTTPS配置 HTTPS的配置如下：
勾选Capture HTTPS CONNECTs、Decrypt HTTPS traffic、Ignore server certificate errors(unsafe)。
点击OK保存。
弹出对话框“SCARY TEXT AHEAD：Read Carefully！”，点击YES。
弹出对话框“安全警告”，询问是否安装证书，点击是。
弹出对话框“Add certificate to the Machine Root List？”，点击YES。
弹出对话框“TrustCert Success”，点击确定。
再点击一下options中的ok，以防忘记保存配置。
Decrypt HTTPS traffic中的选项说明：
from all processes : 抓取所有的 https 程序, 包括电脑程序和手机APP。 from browsers only : 只抓取浏览器中的https请求。 from non-browsers only : 只抓取除了浏览器之外的所有https请求。 from remote clients only： 只抓取远程的客户端的https请求，就是只抓取手机APP上的https请求。 注意事项：">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-01-05T22:12:26+08:00">
    <meta property="article:modified_time" content="2024-01-05T22:12:26+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Fiddler入门：下载、安装、配置、抓包、customize rules</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h3>一、fiddler下载安装</h3> 
<p>安装包下载链接：<a href="https://link.zhihu.com/?target=https%3A//www.telerik.com/download/fiddler" rel="nofollow" title="https://www.telerik.com/download/fiddler">https://www.telerik.com/download/fiddler</a></p> 
<p>随便选个用途，填写邮箱，地区选择China，勾选“I accept the Fiddler End User License Agreement”，点击“DownLoad for windows”，下载。</p> 
<p></p> 
<p></p> 
<p class="img-center"><img alt="" height="595" src="https://images2.imgbox.com/e4/e1/dro9PX0y_o.png" width="712"></p> 
<p></p> 
<p></p> 
<p>双击FiddlerSetup.exe安装fiddler，可以选择常用的、不那么深的一个路径。</p> 
<p>在安装路径下，双击Fiddler.exe，能打开，说明安装成功，可以给Fiddler.exe创建一个桌面快捷方式。</p> 
<p></p> 
<p></p> 
<p class="img-center"><img alt="" height="396" src="https://images2.imgbox.com/e3/b5/8IkTLCCF_o.png" width="1064"></p> 
<p></p> 
<p></p> 
<h3>二、fiddler配置</h3> 
<p>双击Fiddler.exe，弹出“AppContainer Configuration”对话框，点击“cancel”就行。</p> 
<p>Progress Telerik Fiddler Web Debugger菜单栏中，Tools——Options。</p> 
<p></p> 
<p></p> 
<p class="img-center"><img alt="" height="570" src="https://images2.imgbox.com/1b/f5/nAhQIJIi_o.png" width="720"></p> 
<p></p> 
<h3>2-1.HTTPS配置</h3> 
<p>HTTPS的配置如下：</p> 
<p>勾选Capture HTTPS CONNECTs、Decrypt HTTPS traffic、Ignore server certificate errors(unsafe)。</p> 
<p></p> 
<p></p> 
<p class="img-center"><img alt="" height="494" src="https://images2.imgbox.com/b7/1a/BLtIHT2w_o.png" width="720"></p> 
<p></p> 
<p>点击OK保存。</p> 
<p>弹出对话框“SCARY TEXT AHEAD：Read Carefully！”，点击YES。</p> 
<p>弹出对话框“安全警告”，询问是否安装证书，点击是。</p> 
<p>弹出对话框“Add certificate to the Machine Root List？”，点击YES。</p> 
<p>弹出对话框“TrustCert Success”，点击确定。</p> 
<p>再点击一下options中的ok，以防忘记保存配置。</p> 
<p>Decrypt HTTPS traffic中的选项说明：</p> 
<pre><code>from all processes : 
抓取所有的 https 程序, 包括电脑程序和手机APP。
from browsers only : 
只抓取浏览器中的https请求。
from non-browsers only : 
只抓取除了浏览器之外的所有https请求。
from remote clients only：
只抓取远程的客户端的https请求，就是只抓取手机APP上的https请求。</code></pre> 
<p></p> 
<p>注意事项：</p> 
<p>如果HTTPS请求出问题，例如，浏览器提示“您的链接不是私密链接”等，一般都是证书安装有问题，重新安装一遍证书，重复一遍HTTPS配置即可。</p> 
<p>Options——HTTPS——Actions——Trust Root Certificate。</p> 
<p></p> 
<p></p> 
<p class="img-center"><img alt="" height="421" src="https://images2.imgbox.com/e2/d8/KRTCkYcd_o.png" width="720"></p> 
<p></p> 
<p></p> 
<p></p> 
<h3>2-2.Connections配置</h3> 
<p>Fiddler listens on port，确保fiddler的端口为8888。</p> 
<p>勾选Allow remote computers to connect。</p> 
<p>弹出对话框“Enabling Remote Access”对话框，点击确定。</p> 
<p></p> 
<p></p> 
<p class="img-center"><img alt="" height="523" src="https://images2.imgbox.com/41/a4/NLOJPcRa_o.png" width="720"></p> 
<p></p> 
<p>点击OK。</p> 
<h3>2-3.Scripting</h3> 
<p>自定义脚本语言设置，可以选择C#或者<a href="https://link.zhihu.com/?target=http%3A//Jscript.NET" rel="nofollow" title="http://Jscript.NET">http://Jscript.NET</a>。</p> 
<p></p> 
<p></p> 
<p class="img-center"><img alt="" height="538" src="https://images2.imgbox.com/26/aa/r6HcJyhr_o.png" width="720"></p> 
<p></p> 
<p></p> 
<h3>三、解决fiddler自动关闭</h3> 
<p>人行征信密码控件会导致fiddler经常自动停止，并提示：</p> 
<p></p> 
<p></p> 
<p class="img-center"><img alt="" height="239" src="https://images2.imgbox.com/b6/34/wyyHt0hx_o.png" width="720"></p> 
<p></p> 
<p></p> 
<p>在控制面板，卸载人行征信安全控件。</p> 
<p>删除C:\Windows\Prefetch路径下PBCCR开头的.pf文件。</p> 
<p></p> 
<p></p> 
<p class="img-center"><img alt="" height="114" src="https://images2.imgbox.com/ab/f8/Vdogrlt3_o.png" width="1032"></p> 
<p></p> 
<p></p> 
<p>删除C:\Windows\SysWOW64下面的PBCCRCNew文件夹。</p> 
<p>重新启动Fiddler.exe。</p> 
<p></p> 
<h3>四、抓包</h3> 
<h3>3-1.电脑</h3> 
<p>电脑端的网络请求，可以直接在fiddler中看到效果。</p> 
<p></p> 
<h3>3-2.小程序</h3> 
<p>打开微信PC端，进入小程序面板，选择小程序。就可以在fiddler中看到小程序的网络请求了。</p> 
<p></p> 
<p></p> 
<h3>3-3.APP</h3> 
<p>一般APP都有web端主页，也有微信小程序，所以APP的网络请求可以通过web端主页看，或者通过小程序看。</p> 
<p>如果一定要通过远程客户端的形式，抓包APP的网络请求，可参见APP抓包设置：</p> 
<p><a href="https://link.zhihu.com/?target=https%3A//blog.csdn.net/qq_39720249/article/details/81069929" title="https://blog.csdn.net/qq_39720249/article/details/81069929">https://blog.csdn.net/qq_39720249/article/details/81069929</a></p> 
<p>其中“三、APP抓包时的手机代理设置”写得很详细。</p> 
<p></p> 
<p></p> 
<h3>五、自定义规则</h3> 
<p></p> 
<p>有时候需要把响应数据过滤保存，就需要写fiddler脚本了。</p> 
<p>快捷键ctrl+r，或者菜单栏——Rules——Customize Rules，打开规则脚本编辑器，Fiddler ScriptEditor。</p> 
<p>Go中，可以定位到不同方法，OnBeforeRequest、OnBeforeResponse等。</p> 
<p></p> 
<p></p> 
<p class="img-center"><img alt="" height="247" src="https://images2.imgbox.com/5b/f4/CPZwKJ36_o.png" width="720"></p> 
<p></p> 
<h3>5-1.一些常用的oSession函数和方法</h3> 
<p></p> 
<pre><code>// 请求host
 oSession.host == "my.test.com";
 // 请求host之后的url是否包含
 oSession.url.Contains("/feed") ;
 // 获取响应内容的字符串
 var logContent = oSession.GetResponseBodyAsString(); 
 // 创建写入流
 var sw : System.IO.StreamWriter; 
if (System.IO.File.Exists(filename)){  //是否有该文件夹  
    sw = System.IO.File.AppendText(filename);   //有添加
    sw.Write(logContent);  
}  
else{  
    sw = System.IO.File.CreateText(filename);  //没有创建
    sw.Write(logContent);  
}  
sw.Close();  //关闭写入流
sw.Dispose();  //销毁写入流

 // 修改session中的显示样式
 oSession["ui-color"] = "orange";
 // 移除http头部中的MQB-X5-Referer字段
 oSession.oRequest.headers.Remove("MQB-X5-Referer");
 // 修改http头部中的Cache-Control字段
 oSession.oRequest["Cache-Control"] = "no-cache";
 // 修改host
 oSession.host = "example.domain"; 
 // 修改Origin字段
 oSession.oRequest["Origin"] = "http://domain";
 // 删除所有的cookie
 oSession.oRequest.headers.Remove("Cookie");
 // 新建cookie
 oSession.oRequest.headers.Add("Cookie", "username=cookiename;");
 // 修改Referer字段
 oSession.oRequest["Referer"] = "https://yoururl";
 
 // 获取Request中的body字符串
 var strBody=oSession.GetRequestBodyAsString();
 // 用正则表达式或者replace方法去修改string
 strBody=strBody.replace("aaaa","bbbbbb");
 // 将修改后的body，重新写回Request中
 oSession.utilSetRequestBody(strBody);
// 判断连接中是否包含字符串str
oSession.uriContains(str)
// 给连接请求添加一个字段TEST
oSession.oRequest["TEST"]="TEST NEW Request";
</code></pre> 
<p></p> 
<h3>5-2. 定义规则保存网络请求</h3> 
<p></p> 
<p>下面这段代码，可以将将响应数据筛选出来，存储在txt文本中。</p> 
<p>其中判断请求url中是否包含路径是oSession.fullUrl.Contains方法，将字符串转为json的是Fiddler.WebFormats.JSON.JsonDecode(response_body)方法，获取对象中的json是response_json.JSONObject方法，打印日志是FiddlerApplication.Log.LogString(video_name)方法。</p> 
<p></p> 
<pre><code>	static var video_name: String = "";
    static function OnBeforeResponse(oSession: Session) {
        if (m_Hide304s &amp;&amp; oSession.responseCode == 304) {
            oSession["ui-hide"] = "true";
        }
		//过滤无关请求，只关注特定请求
		if (oSession.fullUrl.Contains("/burdock/weixin")) {
			//消除保存的请求可能存在乱码的情况
			oSession.utilDecodeResponse();
			var fso;
			var file;
			var response_code;
			var response_body;
			var response_json;
			response_code = oSession.responseCode;
			response_body = oSession.GetResponseBodyAsString();
			fso = new ActiveXObject("Scripting.FileSystemObject");
			response_json = Fiddler.WebFormats.JSON.JsonDecode(response_body);
			if (response_code == 200){
				if (oSession.fullUrl.Contains("user")){
					if (response_json.JSONObject["data"] == "System.Collections.ArrayList"){
						var title = response_json.JSONObject["data"][0]["user"]["nickname"];
						file = fso.OpenTextFile("D:\\视频\\" + title + ".txt",8 ,true, true);
						file.writeLine(response_body);
						file.writeLine("\n");
						file.close();
						FiddlerApplication.Log.LogString(title);
					}					
				}
				else if (oSession.fullUrl.Contains("note") &amp;&amp; oSession.fullUrl.Contains("single_feed")){
					video_name = response_json.JSONObject["data"]["title"];
					file = fso.OpenTextFile("D:\\视频\\" + video_name + ".txt",8 ,true, true);
					file.writeLine(response_body);
					file.writeLine("\n");
					file.close();
					FiddlerApplication.Log.LogString(video_name);
				}
				else {
					file = fso.OpenTextFile("D:\\视频\\" + video_name + ".txt",8 ,true, true);
					file.writeLine(response_body);
					file.writeLine("\n");
					file.close();
					FiddlerApplication.Log.LogString(video_name);
				}
			}
		}
    }
</code></pre> 
<p></p> 
<h3>六、总结</h3> 
<p>很全面详细的fiddler入门教程，如果觉得不错，请点赞。</p> 
<p>更多内容可参阅fiddler官网：</p> 
<h3> 总结</h3> 
<h4>如果你对此文有任何疑问，如果你也需要接口项目实战，如果你对软件测试、接口测试、自动化测试、面试经验交流感兴趣欢迎加入我们，加入方式在文章的最后面</h4> 
<blockquote> 
 <h3>  <a href="https://www.bilibili.com/video/BV1o54y1u7UU/?spm_id_from=333.999.0.0" rel="nofollow" title="2023自学fiddler抓包，请一定要看完【如何1天学会fiddler抓包】的全网最详细视频教程！！_哔哩哔哩_bilibili">2023自学fiddler抓包，请一定要看完【如何1天学会fiddler抓包】的全网最详细视频教程！！_哔哩哔哩_bilibili</a></h3> 
 <p></p> 
</blockquote> 
<h2>  总结：</h2> 
<h2> 光学理论是没用的，要学会跟着一起敲，要动手实操，才能将自己的所学运用到实际当中去，这时候可以搞点实战案例来学习。</h2> 
<p></p> 
<p><img alt="" height="872" src="https://images2.imgbox.com/ba/44/uU3jK2xB_o.jpg" width="670">​</p> 
<p><img alt="" height="872" src="https://images2.imgbox.com/a0/e1/Ra6yLz1u_o.jpg" width="670">​</p> 
<p><strong>如果对你有帮助的话，点个赞收个藏，给作者一个鼓励。也方便你下次能够快速查找。</strong></p> 
<p><strong>如有不懂还要咨询下方小卡片，博主也希望和志同道合的测试人员一起学习进步</strong></p> 
<p><strong>在适当的年龄，选择适当的岗位，尽量去发挥好自己的优势。</strong></p> 
<p><strong>我的自动化测试开发之路，一路走来都离不每个阶段的计划，因为自己喜欢规划和总结，</strong></p> 
<p><strong>测试开发视频教程、学习笔记领取传送门！！</strong></p> 
<p class="img-center"><img alt="" height="215" src="https://images2.imgbox.com/58/a0/x6ORxGEo_o.gif" width="129"></p> 
<p>​</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/52178ccbb8b40eccebed55fd2f4e829d/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">操作系统课程设计——文件管理模拟 C&#43;&#43;版</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/eaa14ee7452ed0c2ea928e507260c2f3/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">python官网下载第三方库,python常用第三方库下载</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>