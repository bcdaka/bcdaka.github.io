<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>æ¢ç´¢æ•°æ®ç»“æ„ï¼šé¡ºåºä¸²ä¸é“¾å¼ä¸²çš„æ·±å…¥ç†è§£ - ç¼–ç¨‹å¤§å’–</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/0ff9f1348be813d2b9c2bad55e79abf0/">
  <meta property="og:site_name" content="ç¼–ç¨‹å¤§å’–">
  <meta property="og:title" content="æ¢ç´¢æ•°æ®ç»“æ„ï¼šé¡ºåºä¸²ä¸é“¾å¼ä¸²çš„æ·±å…¥ç†è§£">
  <meta property="og:description" content="âœ¨âœ¨ æ¬¢è¿å¤§å®¶æ¥åˆ°è´è’‚å¤§è®²å ‚âœ¨âœ¨
ğŸˆğŸˆå…»æˆå¥½ä¹ æƒ¯ï¼Œå…ˆèµåçœ‹å“¦~ğŸˆğŸˆ
æ‰€å±ä¸“æ ï¼šæ•°æ®ç»“æ„ä¸ç®—æ³•
è´è’‚çš„ä¸»é¡µï¼šBettyâ€™s blog
1. ä¸²çš„å®šä¹‰ ä¸²æ˜¯ä¸€ç§ç‰¹æ®Šçš„é¡ºåºè¡¨ï¼Œå³æ¯ä¸€ä¸ªå…ƒç´ éƒ½æ˜¯å•ç‹¬ä¸€ä¸ªå­—ç¬¦ã€‚åœ¨Cè¯­è¨€ä¸­æˆ‘ä»¬å­¦ä¹ çš„å­—ç¬¦ä¸²ä¾¿æ˜¯ä¸²çš„ä¸€ç§ï¼Œå®ƒåœ¨æˆ‘ä»¬çš„æ•°æ®æœç´¢ä¸æ–‡æœ¬ç¼–è¯‘ä¸­èµ·ç€ä¸å¯æˆ–ç¼ºçš„ä½œç”¨ã€‚
ç‰¹åˆ«æ³¨æ„ï¼šç©ºæ ¼ä¹Ÿæ˜¯ä¸€ä¸ªå­—ç¬¦ï¼ï¼
ä¸‹é¢æ˜¯ä¸ä¸²ç›¸å…³æ¦‚å¿µï¼š
ä¸²çš„é•¿åº¦ï¼šæŒ‡ä¸²ä¸­æœ‰æ•ˆå…ƒç´ çš„ä¸ªæ•°(ä¸åŒ…æ‹¬å­—ç¬¦\0)ã€‚ç©ºä¸²ï¼šä¸å«ä»»ä½•å…ƒç´ çš„ä¸²ï¼Œå³é•¿åº¦ä¸º0ã€‚å­åºåˆ—ï¼šæŠ½å–ä¸²çš„ä¸€äº›å­—ç¬¦ï¼ŒæŒ‰ç…§åŸå­—ç¬¦ä¸²çš„é¡ºåºè¿›è¡Œæ”¾ç½®çš„æ–°ä¸²ã€‚å­ä¸²ï¼šä¸²ä¸­ä»»æ„è¿ç»­å­—ç¬¦ç»„æˆçš„å­åºåˆ—ç§°ä¸ºè¯¥ä¸²çš„å­ä¸²ï¼Œå…¶ä¸­ç©ºä¸²æ˜¯ä»»æ„ä¸²çš„å­ä¸²ã€‚ä¸»ä¸²ï¼šåŒ…å«å­ä¸²çš„ä¸²ç§°ä¸ºè¯¥å­ä¸²çš„ä¸»ä¸²ã€‚ 2. ä¸²çš„å®ç°æ–¹å¼ ä¸²æ˜¯ä¸€ç§ç‰¹æ®Šçš„é¡ºåºè¡¨ï¼Œæ‰€ä»¥å®ç°æ–¹å¼ä¹Ÿä¸é¡ºåºè¡¨ç±»ä¼¼ï¼Œåˆ†åˆ«ä»¥é¡ºåºè¡¨å’Œé“¾è¡¨æ¥å®ç°ã€‚
é¡ºåºå®ç° é“¾å¼å®ç° 3. ä¸²çš„åŠŸèƒ½ ä¸²çš„åˆå§‹åŒ–ä¸²çš„ç”Ÿæˆã€‚ä¸²çš„å¤åˆ¶ã€‚åˆ¤æ–­ä¸¤ä¸ªä¸²æ˜¯å¦ç›¸ç­‰ã€‚è¿”å›ä¸²çš„é•¿åº¦ã€‚é“¾æ¥ä¸¤ä¸ªä¸²ã€‚å–å­ä¸²ã€‚åœ¨ä¸²1çš„æŒ‡å®šä½ç½®æ’å…¥ä¸²2ã€‚åˆ é™¤æŒ‡å®šä½ç½®é•¿åº¦ä¸ºnçš„æŸä¸ªå­ä¸²ã€‚ 4. ä¸²çš„å£°æ˜ 4.1. é¡ºåºä¸² é¡ºåºä¸²çš„å­˜å‚¨è‡ªç„¶æ˜¯ä»¥é¡ºåºè¡¨çš„å½¢å¼ï¼Œä½†æ˜¯åœ¨å®šä¹‰å…¶é•¿åº¦æœ‰ä¸‰ç§å®ç°æ–¹å¼ï¼Œå¦‚ä¸‹ï¼š
åˆå§‹åŒ–ä¸€ä¸ªå¤´ç»“ç‚¹ä½œä¸ºé•¿åº¦çš„å­˜å‚¨ã€‚ ä½†æ˜¯è¿™ç§å­˜å‚¨æœ‰ä¸€ä¸ªæ˜æ˜¾çš„ç¼ºç‚¹å°±æ˜¯charç±»å‹çš„æœ€å¤§è¡¨ç¤ºèŒƒå›´ä¸º255ï¼Œæ‰€ä»¥è¿™ç§æ–¹å¼å¹¶ä¸å¯å–ã€‚
ä»¥å­—ç¬¦\0ä½œä¸ºç»“æŸæ ‡å¿—ã€‚ C/C&#43;&#43;ä¸­çš„å­—ç¬¦ä¸²å°±æ˜¯ä»¥è¿™ç§å®ç°æ–¹å¼ï¼Œä½†æ˜¯è¿™ç§å®ç°æ–¹å¼æ¯æ¬¡æ±‚é•¿åº¦éƒ½éœ€è¦éå†æ•´ä¸ªé¡ºåºè¡¨ã€‚æ‰€ä»¥åœ¨è¿™é‡Œä¹Ÿä¸æ˜¯ç‰¹åˆ«å¥½ã€‚
æ·»åŠ ä¸ºç»“æ„ä½“æˆå‘˜ã€‚ è¿™ç§å®ç°æ–¹å¼ç›¸è¾ƒäºå‰ä¸¤ç§æ›´åŠ åˆç†ï¼Œåç»­æˆ‘ä»¬ä¹Ÿå°†ä»¥è¿™ç§æ–¹å¼å®ç°ã€‚
åŒæ—¶ä¸ºäº†æ–¹ä¾¿æ‰©å®¹ï¼Œæˆ‘ä»¬å¯ä»¥å†å¢åŠ ä¸€ä¸ªç»“æ„ä½“æˆå‘˜capacityã€‚
#define MAXSIZE 50 typedef struct string { char *data; int length; int capacity; }Sstring; 4.2. é“¾å¼ä¸² é“¾å¼ä¸²æˆ‘ä»¬ä½¿ç”¨å•é“¾è¡¨æ¥å®ç°ï¼Œä¸ºäº†æ–¹ä¾¿æ“ä½œæˆ‘ä»¬å¯ä»¥æ·»åŠ ä¸€ä¸ªå¤´èŠ‚ç‚¹ã€‚
typedef struct snode { char data; struct snode* next; }LinkStrNode; 5. ä¸²çš„åˆå§‹åŒ– 5.1. é¡ºåºä¸² void StrInit(Sstring* s)//åˆå§‹åŒ–ä¸² { char *arr = (char*)malloc(sizeof(char) * MAXSIZE); if (arr == NULL) { perror(&#34;">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-04-15T00:57:08+08:00">
    <meta property="article:modified_time" content="2024-04-15T00:57:08+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ç¼–ç¨‹å¤§å’–" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ç¼–ç¨‹å¤§å’–</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">æ¢ç´¢æ•°æ®ç»“æ„ï¼šé¡ºåºä¸²ä¸é“¾å¼ä¸²çš„æ·±å…¥ç†è§£</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <blockquote> 
 <p><img src="https://images2.imgbox.com/28/39/4zVmxVQs_o.png" alt=""></p> 
 <p>âœ¨âœ¨ æ¬¢è¿å¤§å®¶æ¥åˆ°è´è’‚å¤§è®²å ‚âœ¨âœ¨</p> 
 <p>ğŸˆğŸˆå…»æˆå¥½ä¹ æƒ¯ï¼Œå…ˆèµåçœ‹å“¦~ğŸˆğŸˆ</p> 
 <p>æ‰€å±ä¸“æ ï¼š<a href="http://t.csdnimg.cn/REhD0" rel="nofollow">æ•°æ®ç»“æ„ä¸ç®—æ³•</a><br> è´è’‚çš„ä¸»é¡µï¼š<a href="https://blog.csdn.net/Bettysweetyaaa?type=lately">Bettyâ€™s blog</a></p> 
</blockquote> 
<h3><a id="1__9"></a>1. ä¸²çš„å®šä¹‰</h3> 
<p>ä¸²æ˜¯ä¸€ç§ç‰¹æ®Šçš„<strong>é¡ºåºè¡¨</strong>ï¼Œå³æ¯ä¸€ä¸ªå…ƒç´ éƒ½æ˜¯å•ç‹¬ä¸€ä¸ª<strong>å­—ç¬¦</strong>ã€‚åœ¨Cè¯­è¨€ä¸­æˆ‘ä»¬å­¦ä¹ çš„å­—ç¬¦ä¸²ä¾¿æ˜¯ä¸²çš„ä¸€ç§ï¼Œå®ƒåœ¨æˆ‘ä»¬çš„æ•°æ®æœç´¢ä¸æ–‡æœ¬ç¼–è¯‘ä¸­èµ·ç€ä¸å¯æˆ–ç¼ºçš„ä½œç”¨ã€‚</p> 
<p><img src="https://images2.imgbox.com/2b/2e/RGdgj1l3_o.jpg" alt="img"></p> 
<p>ç‰¹åˆ«æ³¨æ„ï¼š<strong>ç©ºæ ¼ä¹Ÿæ˜¯ä¸€ä¸ªå­—ç¬¦</strong>ï¼ï¼</p> 
<p>ä¸‹é¢æ˜¯ä¸ä¸²ç›¸å…³æ¦‚å¿µï¼š</p> 
<ul><li><strong>ä¸²çš„é•¿åº¦</strong>ï¼šæŒ‡ä¸²ä¸­æœ‰æ•ˆå…ƒç´ çš„ä¸ªæ•°(ä¸åŒ…æ‹¬å­—ç¬¦\0)ã€‚</li><li><strong>ç©ºä¸²</strong>ï¼šä¸å«ä»»ä½•å…ƒç´ çš„ä¸²ï¼Œå³é•¿åº¦ä¸º0ã€‚</li><li><strong>å­åºåˆ—</strong>ï¼šæŠ½å–ä¸²çš„ä¸€äº›å­—ç¬¦ï¼ŒæŒ‰ç…§åŸå­—ç¬¦ä¸²çš„é¡ºåºè¿›è¡Œæ”¾ç½®çš„æ–°ä¸²ã€‚</li><li><strong>å­ä¸²</strong>ï¼šä¸²ä¸­ä»»æ„è¿ç»­å­—ç¬¦ç»„æˆçš„å­åºåˆ—ç§°ä¸ºè¯¥ä¸²çš„å­ä¸²ï¼Œå…¶ä¸­ç©ºä¸²æ˜¯ä»»æ„ä¸²çš„å­ä¸²ã€‚</li><li><strong>ä¸»ä¸²</strong>ï¼šåŒ…å«å­ä¸²çš„ä¸²ç§°ä¸ºè¯¥å­ä¸²çš„ä¸»ä¸²ã€‚</li></ul> 
<h3><a id="2__27"></a>2. ä¸²çš„å®ç°æ–¹å¼</h3> 
<p>ä¸²æ˜¯ä¸€ç§ç‰¹æ®Šçš„é¡ºåºè¡¨ï¼Œæ‰€ä»¥å®ç°æ–¹å¼ä¹Ÿä¸é¡ºåºè¡¨ç±»ä¼¼ï¼Œåˆ†åˆ«ä»¥é¡ºåºè¡¨å’Œé“¾è¡¨æ¥å®ç°ã€‚</p> 
<ol><li>é¡ºåºå®ç°</li></ol> 
<p><img src="https://images2.imgbox.com/2a/78/ZNc0a2Ei_o.jpg" alt="img"></p> 
<ol><li>é“¾å¼å®ç°</li></ol> 
<p><img src="https://images2.imgbox.com/1b/9c/UkE49bvM_o.jpg" alt="img"></p> 
<h3><a id="3__43"></a>3. ä¸²çš„åŠŸèƒ½</h3> 
<ol><li>ä¸²çš„åˆå§‹åŒ–</li><li>ä¸²çš„ç”Ÿæˆã€‚</li><li>ä¸²çš„å¤åˆ¶ã€‚</li><li>åˆ¤æ–­ä¸¤ä¸ªä¸²æ˜¯å¦ç›¸ç­‰ã€‚</li><li>è¿”å›ä¸²çš„é•¿åº¦ã€‚</li><li>é“¾æ¥ä¸¤ä¸ªä¸²ã€‚</li><li>å–å­ä¸²ã€‚</li><li>åœ¨ä¸²1çš„æŒ‡å®šä½ç½®æ’å…¥ä¸²2ã€‚</li><li>åˆ é™¤æŒ‡å®šä½ç½®é•¿åº¦ä¸ºnçš„æŸä¸ªå­ä¸²ã€‚</li></ol> 
<h3><a id="4__57"></a>4. ä¸²çš„å£°æ˜</h3> 
<h4><a id="41__59"></a>4.1. é¡ºåºä¸²</h4> 
<p>é¡ºåºä¸²çš„å­˜å‚¨è‡ªç„¶æ˜¯ä»¥é¡ºåºè¡¨çš„å½¢å¼ï¼Œä½†æ˜¯åœ¨å®šä¹‰å…¶é•¿åº¦æœ‰ä¸‰ç§å®ç°æ–¹å¼ï¼Œå¦‚ä¸‹ï¼š</p> 
<ol><li><strong>åˆå§‹åŒ–ä¸€ä¸ªå¤´ç»“ç‚¹ä½œä¸ºé•¿åº¦çš„å­˜å‚¨ã€‚</strong></li></ol> 
<p><img src="https://images2.imgbox.com/d6/b3/iHVRcP7i_o.jpg" alt="img"></p> 
<p>ä½†æ˜¯è¿™ç§å­˜å‚¨æœ‰ä¸€ä¸ªæ˜æ˜¾çš„ç¼ºç‚¹å°±æ˜¯charç±»å‹çš„æœ€å¤§è¡¨ç¤ºèŒƒå›´ä¸º255ï¼Œæ‰€ä»¥è¿™ç§æ–¹å¼å¹¶ä¸å¯å–ã€‚</p> 
<ol><li><strong>ä»¥å­—ç¬¦\0ä½œä¸ºç»“æŸæ ‡å¿—ã€‚</strong></li></ol> 
<p><img src="https://images2.imgbox.com/ff/4d/t95ooS3t_o.jpg" alt="img"></p> 
<p>C/C++ä¸­çš„å­—ç¬¦ä¸²å°±æ˜¯ä»¥è¿™ç§å®ç°æ–¹å¼ï¼Œä½†æ˜¯è¿™ç§å®ç°æ–¹å¼æ¯æ¬¡æ±‚é•¿åº¦éƒ½éœ€è¦éå†æ•´ä¸ªé¡ºåºè¡¨ã€‚æ‰€ä»¥åœ¨è¿™é‡Œä¹Ÿä¸æ˜¯ç‰¹åˆ«å¥½ã€‚</p> 
<ol><li><strong>æ·»åŠ ä¸ºç»“æ„ä½“æˆå‘˜ã€‚</strong></li></ol> 
<p><img src="https://images2.imgbox.com/d5/ec/HTIznYMB_o.jpg" alt="img"></p> 
<p>è¿™ç§å®ç°æ–¹å¼ç›¸è¾ƒäºå‰ä¸¤ç§æ›´åŠ åˆç†ï¼Œåç»­æˆ‘ä»¬ä¹Ÿå°†ä»¥è¿™ç§æ–¹å¼å®ç°ã€‚</p> 
<p>åŒæ—¶ä¸ºäº†æ–¹ä¾¿æ‰©å®¹ï¼Œæˆ‘ä»¬å¯ä»¥å†å¢åŠ ä¸€ä¸ªç»“æ„ä½“æˆå‘˜<code>capacity</code>ã€‚</p> 
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">MAXSIZE</span> <span class="token expression"><span class="token number">50</span></span></span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">string</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">char</span> <span class="token operator">*</span>data<span class="token punctuation">;</span>
	<span class="token keyword">int</span> length<span class="token punctuation">;</span>
	<span class="token keyword">int</span> capacity<span class="token punctuation">;</span>
<span class="token punctuation">}</span>Sstring<span class="token punctuation">;</span>
</code></pre> 
<h4><a id="42__103"></a>4.2. é“¾å¼ä¸²</h4> 
<p>é“¾å¼ä¸²æˆ‘ä»¬ä½¿ç”¨å•é“¾è¡¨æ¥å®ç°ï¼Œä¸ºäº†æ–¹ä¾¿æ“ä½œæˆ‘ä»¬å¯ä»¥æ·»åŠ ä¸€ä¸ª<strong>å¤´èŠ‚ç‚¹</strong>ã€‚</p> 
<pre><code class="prism language-c"><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">snode</span> 
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">char</span> data<span class="token punctuation">;</span>
	<span class="token keyword">struct</span> <span class="token class-name">snode</span><span class="token operator">*</span> next<span class="token punctuation">;</span>
<span class="token punctuation">}</span>LinkStrNode<span class="token punctuation">;</span>
</code></pre> 
<h3><a id="5__115"></a>5. ä¸²çš„åˆå§‹åŒ–</h3> 
<h4><a id="51__117"></a>5.1. é¡ºåºä¸²</h4> 
<pre><code class="prism language-c"><span class="token keyword">void</span> <span class="token function">StrInit</span><span class="token punctuation">(</span>Sstring<span class="token operator">*</span> s<span class="token punctuation">)</span><span class="token comment">//åˆå§‹åŒ–ä¸²</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">char</span> <span class="token operator">*</span>arr <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span> <span class="token operator">*</span> MAXSIZE<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>arr <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"malloc fail"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	s<span class="token operator">-&gt;</span>data <span class="token operator">=</span> arr<span class="token punctuation">;</span>
	s<span class="token operator">-&gt;</span>length <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	s<span class="token operator">-&gt;</span>capacity <span class="token operator">=</span> MAXSIZE<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="52__134"></a>5.2. é“¾å¼ä¸²</h4> 
<p>é“¾å¼ä¸²å¹¶ä¸éœ€è¦å•ç‹¬åˆå§‹åŒ–ï¼Œå¯ä»¥åœ¨å…·ä½“çš„å®ç°ä¸­åˆå§‹åŒ–ã€‚</p> 
<h4><a id="53__138"></a>5.3. å¤æ‚åº¦åˆ†æ</h4> 
<ul><li>æ—¶é—´å¤æ‚åº¦ï¼šé¡ºåºä¸²èŠ±è´¹æ—¶é—´æ˜¯ä¸€ä¸ªå¸¸æ•°ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦ä¸ºO(1)ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼šåˆå§‹åŒ–å¼€è¾Ÿäº†MAXSIZEçš„ç©ºé—´ã€‚å¯ä»¥è§†ä¸ºO(N)çš„å¤æ‚åº¦ã€‚</li></ul> 
<h3><a id="6__145"></a>6. ä¸²çš„ç”Ÿæˆ</h3> 
<h4><a id="61__147"></a>6.1. é¡ºåºä¸²</h4> 
<p>åœ¨å¯¹ä¸²è¿›è¡Œæ‹·è´æ—¶ï¼Œè¦æ£€æŸ¥æ˜¯å¦éœ€è¦æ‰©å®¹ï¼Œæ”¾ç½®è¶Šç•Œã€‚</p> 
<pre><code class="prism language-c"><span class="token keyword">void</span> <span class="token function">CheckCapacity</span><span class="token punctuation">(</span>Sstring<span class="token operator">*</span> s<span class="token punctuation">,</span> <span class="token keyword">int</span> len<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token operator">-&gt;</span>length <span class="token operator">+</span> len <span class="token operator">&gt;</span> s<span class="token operator">-&gt;</span>capacity<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">char</span><span class="token operator">*</span> tmp <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">realloc</span><span class="token punctuation">(</span>s<span class="token operator">-&gt;</span>data<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>s<span class="token operator">-&gt;</span>length <span class="token operator">+</span> len<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>tmp <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"realloc fail"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		s<span class="token operator">-&gt;</span>data <span class="token operator">=</span> tmp<span class="token punctuation">;</span>
		s<span class="token operator">-&gt;</span>capacity <span class="token operator">=</span> MAXSIZE <span class="token operator">+</span> len<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">StrAssign</span><span class="token punctuation">(</span>Sstring<span class="token operator">*</span> s<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span>str<span class="token punctuation">)</span><span class="token comment">//ç”Ÿæˆä¸²</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>s <span class="token operator">&amp;&amp;</span> str<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> len <span class="token operator">=</span> <span class="token function">strlen</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">CheckCapacity</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> str<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token char">'\0'</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		s<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> str<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	s<span class="token operator">-&gt;</span>length <span class="token operator">=</span> len<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="62__180"></a>6.2. é“¾å¼ä¸²</h4> 
<p>é“¾å¼ä¸²æ¯æ¬¡æ’å…¥éƒ½è¦ç”Ÿæˆä¸€ä¸ªèŠ‚ç‚¹ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å•ç‹¬å°è£…æˆä¸€ä¸ªå‡½æ•°ã€‚</p> 
<pre><code class="prism language-c">LinkStrNode<span class="token operator">*</span> <span class="token function">BuyListNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	LinkStrNode<span class="token operator">*</span>tmp<span class="token operator">=</span> <span class="token punctuation">(</span>LinkStrNode<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>LinkStrNode<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>tmp <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"malloc fail"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> tmp<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">StrAssign</span><span class="token punctuation">(</span>LinkStrNode<span class="token operator">*</span><span class="token operator">*</span> s<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span>str<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
	LinkStrNode<span class="token operator">*</span> r<span class="token punctuation">,</span> <span class="token operator">*</span> p<span class="token punctuation">;</span>
	<span class="token operator">*</span>s <span class="token operator">=</span> <span class="token function">BuyListNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	r <span class="token operator">=</span> <span class="token operator">*</span>s<span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> str<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token char">'\0'</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		p <span class="token operator">=</span> <span class="token function">BuyListNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		p<span class="token operator">-&gt;</span>data <span class="token operator">=</span> str<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
		r<span class="token operator">-&gt;</span>next <span class="token operator">=</span> p<span class="token punctuation">;</span>	
		r <span class="token operator">=</span> p<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	r<span class="token operator">-&gt;</span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="63__211"></a>6.3. å¤æ‚åº¦åˆ†æ</h4> 
<ul><li>æ—¶é—´å¤æ‚åº¦ï¼šæ— è®ºæ˜¯é¡ºåºä¸²è¿˜æ˜¯é“¾å¼ä¸²éƒ½éœ€è¦éå†ä¸€éç›®æ ‡ä¸²ï¼Œé—´å¤æ‚åº¦å¯ä»¥è§†ä¸ºO(N))ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼šé¡ºåºä¸²å¯èƒ½ä¼šæ‰©å®¹ï¼Œé“¾å¼ä¸²éœ€è¦å¼€è¾Ÿç­‰é‡èŠ‚ç‚¹ï¼Œæ‰€ä»¥ç©ºé—´å¤æ‚åº¦å¯ä»¥è§†ä¸ºO(N)ã€‚</li></ul> 
<h3><a id="7__218"></a>7. ä¸²çš„å¤åˆ¶</h3> 
<h4><a id="71__220"></a>7.1. é¡ºåºä¸²</h4> 
<p>ä¸²çš„å¤åˆ¶ä¹Ÿéœ€è¦æ£€æŸ¥æ˜¯å¦éœ€è¦æ‰©å®¹ï¼Œç„¶åå†ä¾æ¬¡æ‹·è´ã€‚</p> 
<pre><code class="prism language-c"><span class="token keyword">void</span> <span class="token function">StrCopy</span><span class="token punctuation">(</span>Sstring<span class="token operator">*</span> s<span class="token punctuation">,</span> Sstring<span class="token operator">*</span> t<span class="token punctuation">)</span><span class="token comment">//å¤åˆ¶ä¸²</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>s <span class="token operator">&amp;&amp;</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token operator">-&gt;</span>capacity <span class="token operator">&lt;</span> t<span class="token operator">-&gt;</span>capacity<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">char</span><span class="token operator">*</span> tmp <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">realloc</span><span class="token punctuation">(</span>s<span class="token operator">-&gt;</span>data<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span> <span class="token operator">*</span> t<span class="token operator">-&gt;</span>capacity<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>tmp <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"realloc fail"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		s<span class="token operator">-&gt;</span>data <span class="token operator">=</span> tmp<span class="token punctuation">;</span>
		s<span class="token operator">-&gt;</span>capacity <span class="token operator">=</span> t<span class="token operator">-&gt;</span>capacity<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> t<span class="token operator">-&gt;</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		s<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> t<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	s<span class="token operator">-&gt;</span>length <span class="token operator">=</span> t<span class="token operator">-&gt;</span>length<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="72__247"></a>7.2. é“¾å¼ä¸²</h4> 
<p>é“¾å¼ä¸²çš„æ‹·è´æˆ‘ä»¬é‡‡ç”¨ä¸€ç§æ–¹æ³•ï¼šå³å…ˆå°†åŸä¸²é”€æ¯ï¼Œç„¶åå†æ‹·è´ã€‚</p> 
<pre><code class="prism language-c"><span class="token keyword">void</span> <span class="token function">StrCopy</span><span class="token punctuation">(</span>LinkStrNode<span class="token operator">*</span><span class="token operator">*</span> s<span class="token punctuation">,</span> LinkStrNode<span class="token operator">*</span> t<span class="token punctuation">)</span><span class="token comment">//å¤æ‚</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">DestroyStr</span><span class="token punctuation">(</span><span class="token operator">*</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//é”€æ¯</span>
	LinkStrNode<span class="token operator">*</span> r<span class="token punctuation">,</span> <span class="token operator">*</span> q<span class="token punctuation">;</span>
	LinkStrNode<span class="token operator">*</span> p <span class="token operator">=</span> t<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token operator">*</span>s <span class="token operator">=</span> <span class="token function">BuyListNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	r <span class="token operator">=</span> <span class="token operator">*</span>s<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>p <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		q <span class="token operator">=</span> <span class="token function">BuyListNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		q<span class="token operator">-&gt;</span>data <span class="token operator">=</span> p<span class="token operator">-&gt;</span>data<span class="token punctuation">;</span>		

		r<span class="token operator">-&gt;</span>next <span class="token operator">=</span> q<span class="token punctuation">;</span>
		r <span class="token operator">=</span> q<span class="token punctuation">;</span>			

		p <span class="token operator">=</span> p<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	r<span class="token operator">-&gt;</span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="73__274"></a>7.3. å¤æ‚åº¦åˆ†æ</h4> 
<ul><li>æ—¶é—´å¤æ‚åº¦ï¼šéœ€è¦éå†ä¸€éè¢«å¤åˆ¶ä¸²ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦å¯ä»¥è§†ä¸ºO(N)ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼šé¡ºåºä¸²å¯èƒ½æ‰©å®¹ï¼Œé“¾å¼ä¸²éœ€è¦å¤åˆ¶ç­‰é‡èŠ‚ç‚¹ï¼Œæ‰€ä»¥ç©ºé—´å¤æ‚åº¦å¯ä»¥è§†ä¸ºO(N)ã€‚</li></ul> 
<h3><a id="8__281"></a>8. ä¸²çš„æ¯”è¾ƒ</h3> 
<p>ä¸²çš„æ¯”è¾ƒä¸Cè¯­è¨€ä¸­<code>strcmp</code>å‡½æ•°åŠŸèƒ½ç±»ä¼¼ï¼Œéƒ½æ˜¯<strong>ä¾æ¬¡æ¯”è¾ƒä¸²ä¸­çš„å­—ç¬¦</strong>ï¼Œç›´è‡³ç»“æŸæˆ–è€…å‡ºç°ä¸åŒçš„å­—ç¬¦ä¸ºè‡³ã€‚</p> 
<p><strong>è‹¥å¤§äºåˆ™è¿”å›&gt;0ï¼Œç­‰äºè¿”å›0ï¼Œå°äºåˆ™è¿”å›&lt;0ã€‚</strong></p> 
<p>åˆ—å¦‚ï¼š</p> 
<ul><li>å½“ä¸²é•¿åº¦ä¸åŒæ—¶ï¼šâ€œaabcâ€&gt;â€œabbcaâ€ï¼Œâ€œaaaâ€&lt;â€œaaabâ€ã€‚</li><li>å½“ä¸²é•¿åº¦ç›¸åŒæ—¶ï¼šâ€œacbcâ€&gt;â€œbcbcâ€ï¼Œâ€œacacâ€=â€œacacâ€ã€‚</li></ul> 
<h4><a id="81__292"></a>8.1. é¡ºåºä¸²</h4> 
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">StrCmp</span><span class="token punctuation">(</span>Sstring<span class="token operator">*</span> s<span class="token punctuation">,</span> Sstring<span class="token operator">*</span> t<span class="token punctuation">)</span><span class="token comment">//æ¯”è¾ƒä¸¤ä¸ªä¸²</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>s <span class="token operator">&amp;&amp;</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">char</span><span class="token operator">*</span> p1 <span class="token operator">=</span> s<span class="token operator">-&gt;</span>data<span class="token punctuation">;</span>
	<span class="token keyword">char</span><span class="token operator">*</span> p2 <span class="token operator">=</span> t<span class="token operator">-&gt;</span>data<span class="token punctuation">;</span>
	<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> s<span class="token operator">-&gt;</span>length <span class="token operator">&amp;&amp;</span> i <span class="token operator">&lt;</span> t<span class="token operator">-&gt;</span>length <span class="token operator">&amp;&amp;</span> p1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> p2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		i<span class="token operator">++</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> s<span class="token operator">-&gt;</span>length<span class="token operator">&amp;&amp;</span>i<span class="token operator">==</span>t<span class="token operator">-&gt;</span>length<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> s<span class="token operator">-&gt;</span>length <span class="token operator">&amp;&amp;</span> i <span class="token operator">!=</span> t<span class="token operator">-&gt;</span>length<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">!=</span> s<span class="token operator">-&gt;</span>length <span class="token operator">&amp;&amp;</span> i <span class="token operator">==</span> t<span class="token operator">-&gt;</span>length<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> p1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> p2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="82__321"></a>8.2. é“¾å¼ä¸²</h4> 
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">StrCmp</span><span class="token punctuation">(</span>LinkStrNode<span class="token operator">*</span> s<span class="token punctuation">,</span> LinkStrNode<span class="token operator">*</span> t<span class="token punctuation">)</span><span class="token comment">//æ¯”è¾ƒä¸¤ä¸ªä¸²</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>s<span class="token operator">&amp;&amp;</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>
	LinkStrNode<span class="token operator">*</span> p <span class="token operator">=</span> s<span class="token operator">-&gt;</span>next<span class="token punctuation">,</span> <span class="token operator">*</span> q <span class="token operator">=</span> t<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>p <span class="token operator">!=</span> <span class="token constant">NULL</span> <span class="token operator">&amp;&amp;</span> q <span class="token operator">!=</span> <span class="token constant">NULL</span> <span class="token operator">&amp;&amp;</span> p<span class="token operator">-&gt;</span>data <span class="token operator">==</span> q<span class="token operator">-&gt;</span>data<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		p <span class="token operator">=</span> p<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
		q <span class="token operator">=</span> q<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>p <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token operator">&amp;&amp;</span>q <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>		
		<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>p <span class="token operator">==</span> <span class="token constant">NULL</span> <span class="token operator">&amp;&amp;</span> q <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>p <span class="token operator">!=</span> <span class="token constant">NULL</span> <span class="token operator">&amp;&amp;</span> q <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> p<span class="token operator">-&gt;</span>data <span class="token operator">-</span> q<span class="token operator">-&gt;</span>data<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="83__347"></a>8.3. å¤æ‚åº¦åˆ†æ</h4> 
<ul><li>æ—¶é—´å¤æ‚åº¦ï¼šæ— è®ºæ˜¯é“¾å¼ä¸²è¿˜æ˜¯é¡ºåºä¸²éƒ½å¯èƒ½éå†æ•´ä¸ªä¸²ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦å¯ä»¥è§†ä¸ºO(N)</li><li>ç©ºé—´å¤æ‚åº¦ï¼šæ— è®ºæ˜¯é¡ºåºä¸²è¿˜æ˜¯é“¾å¼ä¸²èŠ±è´¹ç©ºé—´æ˜¯ä¸€ä¸ªå¸¸æ•°ï¼Œæ‰€ä»¥ç©ºé—´å¤æ‚åº¦ä¸ºO(1)ã€‚</li></ul> 
<h3><a id="9__354"></a>9. è¿”å›ä¸²çš„é•¿åº¦</h3> 
<h4><a id="91__356"></a>9.1. é¡ºåºä¸²</h4> 
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">StrLength</span><span class="token punctuation">(</span>Sstring<span class="token operator">*</span> s<span class="token punctuation">)</span><span class="token comment">//è¿”å›ä¸²çš„é•¿åº¦</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> s<span class="token operator">-&gt;</span>length<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="92__366"></a>9.2. é“¾å¼ä¸²</h4> 
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">StrLength</span><span class="token punctuation">(</span>LinkStrNode<span class="token operator">*</span> s<span class="token punctuation">)</span><span class="token comment">//è¿”å›ä¸²çš„é•¿åº¦</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	LinkStrNode<span class="token operator">*</span> p <span class="token operator">=</span> s<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>p <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		count<span class="token operator">++</span><span class="token punctuation">;</span>
		p <span class="token operator">=</span> p<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> count<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="93__383"></a>9.3. å¤æ‚åº¦åˆ†æ</h4> 
<ul><li>æ—¶é—´å¤æ‚åº¦ï¼šé¡ºåºä¸²æ˜¯ä¸€ä¸ªå¸¸æ•°ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦ä¸ºO(1)ã€‚ä½†æ˜¯é“¾å¼ä¸²éœ€è¦éå†æ•´ä¸ªä¸²ï¼Œæ‰€ä»¥ä¸ºO(N)ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼šæ— è®ºæ˜¯é¡ºåºä¸²è¿˜æ˜¯é“¾å¼ä¸²èŠ±è´¹ç©ºé—´æ˜¯ä¸€ä¸ªå¸¸æ•°ï¼Œæ‰€ä»¥ç©ºé—´å¤æ‚åº¦ä¸ºO(1)ã€‚</li></ul> 
<h3><a id="10__390"></a>10. é“¾æ¥ä¸¤ä¸ªä¸²</h3> 
<p>é“¾æ¥ä¸¤ä¸ªä¸²ååˆ†ç®€å•ï¼Œé¦–å…ˆæ‰¾ä¸ªä¸€ä¸ªä¸²çš„æœ«å°¾ï¼Œç„¶åå†é“¾æ¥å³å¯ã€‚</p> 
<h4><a id="101__394"></a>10.1. é¡ºåºä¸²</h4> 
<p>é“¾æ¥ä¸¤ä¸ªä¸²ä¹Ÿéœ€è¦åˆ¤æ–­è¯¥ä¸²æ˜¯å¦éœ€è¦æ‰©å®¹ã€‚</p> 
<pre><code class="prism language-c">Sstring <span class="token function">Strcat</span><span class="token punctuation">(</span>Sstring<span class="token operator">*</span> s<span class="token punctuation">,</span> Sstring<span class="token operator">*</span> t<span class="token punctuation">)</span><span class="token comment">//é“¾æ¥ä¸¤ä¸ªä¸²</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>s <span class="token operator">&amp;&amp;</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> len <span class="token operator">=</span> t<span class="token operator">-&gt;</span>length<span class="token punctuation">;</span>
	<span class="token function">CheckCapacity</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> s<span class="token operator">-&gt;</span>length<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> s<span class="token operator">-&gt;</span>length <span class="token operator">+</span> t<span class="token operator">-&gt;</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		s<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> t<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span>i <span class="token operator">-</span> s<span class="token operator">-&gt;</span>length<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	s<span class="token operator">-&gt;</span>length <span class="token operator">=</span> s<span class="token operator">-&gt;</span>length <span class="token operator">+</span> t<span class="token operator">-&gt;</span>length<span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token operator">*</span>s<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="102__413"></a>10.2. é“¾å¼ä¸²</h4> 
<pre><code class="prism language-c">LinkStrNode<span class="token operator">*</span><span class="token function">Strcat</span><span class="token punctuation">(</span>LinkStrNode<span class="token operator">*</span> s<span class="token punctuation">,</span> LinkStrNode<span class="token operator">*</span> t<span class="token punctuation">)</span><span class="token comment">//é“¾æ¥ä¸¤ä¸ªä¸²</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>s <span class="token operator">&amp;&amp;</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span>
	LinkStrNode<span class="token operator">*</span> p <span class="token operator">=</span> s<span class="token operator">-&gt;</span>next<span class="token punctuation">,</span> <span class="token operator">*</span> q <span class="token operator">=</span> t<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>p<span class="token operator">-&gt;</span>next <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		p <span class="token operator">=</span> p<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	LinkStrNode<span class="token operator">*</span> str1 <span class="token operator">=</span> p<span class="token punctuation">,</span><span class="token operator">*</span>str2<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>q <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		str2 <span class="token operator">=</span> <span class="token function">BuyListNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		str2<span class="token operator">-&gt;</span>data <span class="token operator">=</span>q<span class="token operator">-&gt;</span>data<span class="token punctuation">;</span>

		str1<span class="token operator">-&gt;</span>next <span class="token operator">=</span> str2<span class="token punctuation">;</span>
		str1 <span class="token operator">=</span> str2<span class="token punctuation">;</span>

		q <span class="token operator">=</span> q<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	str1<span class="token operator">-&gt;</span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> s<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="103__440"></a>10.3. å¤æ‚åº¦åˆ†æ</h4> 
<ul><li>æ—¶é—´å¤æ‚åº¦ï¼šæ— è®ºæ˜¯é¡ºåºä¸²è¿˜æ˜¯é“¾å¼ä¸²éƒ½éœ€è¦éå†ä¸¤ä¸ªä¸²ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦ä¸ºO(N)ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼šé¡ºåºä¸²å¯èƒ½ä¼šæ‰©å®¹ï¼Œé“¾å¼ä¸²éœ€è¦å¼€è¾Ÿç­‰é‡èŠ‚ç‚¹ï¼Œæ‰€ä»¥ç©ºé—´å¤æ‚åº¦ä¸ºO(N)</li></ul> 
<h3><a id="11__447"></a>11. å–å­ä¸²</h3> 
<p>æˆ‘ä»¬é€šè¿‡ä¼ å…¥çš„ç›®æ ‡ä½ç½®ä¸é•¿åº¦æ¥æˆªå–ä¸€æ®µå­ä¸²è¿”å›ï¼Œå¦‚æœé•¿åº¦è¿‡å¤§åˆ™æˆªå–åç»­æ‰€æœ‰å­—ç¬¦ã€‚</p> 
<h4><a id="111__451"></a>11.1. é¡ºåºä¸²</h4> 
<pre><code class="prism language-c">Sstring <span class="token function">SubStr</span><span class="token punctuation">(</span>Sstring<span class="token operator">*</span> s<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">,</span> <span class="token keyword">int</span> len<span class="token punctuation">)</span><span class="token comment">//å–å­ä¸²</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>i <span class="token operator">&lt;</span> s<span class="token operator">-&gt;</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
	Sstring str<span class="token punctuation">;</span>
	str<span class="token punctuation">.</span>data <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span> <span class="token operator">*</span> s<span class="token operator">-&gt;</span>capacity<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>str<span class="token punctuation">.</span>data <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"malloc fail"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> <span class="token operator">*</span>s<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	str<span class="token punctuation">.</span>capacity <span class="token operator">=</span> s<span class="token operator">-&gt;</span>capacity<span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">+</span> len <span class="token operator">&gt;=</span> s<span class="token operator">-&gt;</span>length<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> pos <span class="token operator">=</span> i<span class="token punctuation">;</span> pos <span class="token operator">&lt;</span> s<span class="token operator">-&gt;</span>length<span class="token punctuation">;</span> pos<span class="token operator">++</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			str<span class="token punctuation">.</span>data<span class="token punctuation">[</span>pos<span class="token operator">-</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> s<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span>pos<span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		str<span class="token punctuation">.</span>length <span class="token operator">=</span> s<span class="token operator">-&gt;</span>length <span class="token operator">-</span> i<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">else</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> pos <span class="token operator">=</span> i<span class="token punctuation">;</span> pos <span class="token operator">&lt;</span> i<span class="token operator">+</span>len<span class="token punctuation">;</span> pos<span class="token operator">++</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			str<span class="token punctuation">.</span>data<span class="token punctuation">[</span>pos <span class="token operator">-</span> i<span class="token punctuation">]</span> <span class="token operator">=</span> s<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span>pos<span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		str<span class="token punctuation">.</span>length <span class="token operator">=</span> len<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> str<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="112__486"></a>11.2. é“¾å¼ä¸²</h4> 
<pre><code class="prism language-c">LinkStrNode<span class="token operator">*</span><span class="token function">SubStr</span><span class="token punctuation">(</span>LinkStrNode<span class="token operator">*</span> s<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">,</span> <span class="token keyword">int</span> len<span class="token punctuation">)</span><span class="token comment">//å–å­ä¸²</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation">(</span>i <span class="token operator">&lt;=</span> <span class="token function">StrLength</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	LinkStrNode<span class="token operator">*</span> r<span class="token punctuation">,</span> <span class="token operator">*</span> p<span class="token punctuation">;</span>
	p <span class="token operator">=</span> s<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span><span class="token comment">//è·³è¿‡å¤´èŠ‚ç‚¹</span>
	r <span class="token operator">=</span> <span class="token function">BuyListNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>p <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token comment">//æ‰¾åˆ°ç¬¬iä¸ªä½ç½®</span>
	<span class="token punctuation">{<!-- --></span>
		count<span class="token operator">++</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">==</span> i<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		p <span class="token operator">=</span> p<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	LinkStrNode<span class="token operator">*</span> str1<span class="token operator">=</span>r<span class="token punctuation">,</span><span class="token operator">*</span>str2<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>len<span class="token operator">--</span><span class="token operator">&amp;&amp;</span>p<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		str2 <span class="token operator">=</span> <span class="token function">BuyListNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		str2<span class="token operator">-&gt;</span>data <span class="token operator">=</span> p<span class="token operator">-&gt;</span>data<span class="token punctuation">;</span>
		str1<span class="token operator">-&gt;</span>next <span class="token operator">=</span> str2<span class="token punctuation">;</span>
		str1 <span class="token operator">=</span> str2<span class="token punctuation">;</span>
		p <span class="token operator">=</span> p<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	str1<span class="token operator">-&gt;</span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token comment">//æœ«å°¾ç½®ç©º</span>
	<span class="token keyword">return</span> r<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="113__520"></a>11.3. å¤æ‚åº¦åˆ†æ</h4> 
<ul><li>æ—¶é—´å¤æ‚åº¦ï¼šéƒ½å¯èƒ½éå†æ•´ä¸ªä¸²ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦ä¸ºO(N)ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼šéƒ½éœ€è¦å¼€è¾Ÿlenä¸ªå¤§å°çš„ç©ºé—´ï¼Œæ‰€ä»¥ç©ºé—´å¤æ‚åº¦å¯ä»¥è§†ä¸ºO(N)ã€‚</li></ul> 
<h3><a id="12__527"></a>12. æŒ‡å®šä½ç½®æ’å…¥</h3> 
<h4><a id="121__529"></a>12.1. é¡ºåºä¸²</h4> 
<p>æŒ‡å®šä½ç½®æ’å…¥ä¹Ÿè®¸æ£€æŸ¥æ˜¯å¦æ‰©å®¹ï¼Œç„¶åæŒ‡å®šä½ç½®åç»­å­—ç¬¦ç§»åŠ¨<code>len</code>ä¸ªå•ä½ã€‚</p> 
<p><img src="https://images2.imgbox.com/d2/31/Xgez3qfw_o.jpg" alt="img"></p> 
<p><img src="https://images2.imgbox.com/e1/9c/bWLLJeXS_o.jpg" alt="img"></p> 
<pre><code class="prism language-c">Sstring <span class="token function">InsStr</span><span class="token punctuation">(</span>Sstring<span class="token operator">*</span> s1<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">,</span> Sstring<span class="token operator">*</span> s2<span class="token punctuation">)</span><span class="token comment">//æŒ‡å®šä½ç½®æ’å…¥</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>s1 <span class="token operator">&amp;&amp;</span> s2<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation">(</span>i <span class="token operator">&lt;</span> s1<span class="token operator">-&gt;</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> len <span class="token operator">=</span> s2<span class="token operator">-&gt;</span>length<span class="token punctuation">;</span>
	<span class="token function">CheckCapacity</span><span class="token punctuation">(</span>s1<span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> pos <span class="token operator">=</span> s1<span class="token operator">-&gt;</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> pos <span class="token operator">&gt;=</span> i<span class="token punctuation">;</span> pos<span class="token operator">--</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		s1<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span>pos <span class="token operator">+</span> len<span class="token punctuation">]</span> <span class="token operator">=</span> s1<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span>pos<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> pos <span class="token operator">=</span> i<span class="token punctuation">;</span> pos <span class="token operator">&lt;</span> i <span class="token operator">+</span> len<span class="token punctuation">;</span> pos<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		s1<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span>pos<span class="token punctuation">]</span> <span class="token operator">=</span> s2<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span>pos <span class="token operator">-</span> i<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	s1<span class="token operator">-&gt;</span>length <span class="token operator">+=</span> len<span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token operator">*</span>s1<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="122__561"></a>12.2. é“¾å¼ä¸²</h4> 
<pre><code class="prism language-c">LinkStrNode<span class="token operator">*</span><span class="token function">InsStr</span><span class="token punctuation">(</span>LinkStrNode<span class="token operator">*</span> s1<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">,</span> LinkStrNode<span class="token operator">*</span> s2<span class="token punctuation">)</span><span class="token comment">//æŒ‡å®šä½ç½®æ’å…¥</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>s1<span class="token operator">&amp;&amp;</span>s2<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation">(</span>i <span class="token operator">&lt;=</span> <span class="token function">StrLength</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	LinkStrNode<span class="token operator">*</span> r<span class="token punctuation">,</span> <span class="token operator">*</span> p<span class="token punctuation">,</span><span class="token operator">*</span>q<span class="token punctuation">;</span>
	q<span class="token operator">=</span>p <span class="token operator">=</span> s1<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span><span class="token comment">//qä¸ºiä¹‹å‰çš„ä½ç½®</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>p <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token comment">//æ‰¾åˆ°ç¬¬iä¸ªä½ç½®</span>
	<span class="token punctuation">{<!-- --></span>
		count<span class="token operator">++</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">==</span> i<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		q <span class="token operator">=</span> p<span class="token punctuation">;</span><span class="token comment">//è®°å½•å‰ä¸€ä¸ªä½ç½®</span>
		p <span class="token operator">=</span> p<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	r <span class="token operator">=</span> q<span class="token punctuation">;</span>
	LinkStrNode<span class="token operator">*</span> str<span class="token punctuation">;</span>
	LinkStrNode<span class="token operator">*</span> ptr<span class="token operator">=</span>s2<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span><span class="token comment">//è·³è¿‡å¤´èŠ‚ç‚¹</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>ptr <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		str <span class="token operator">=</span> <span class="token function">BuyListNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		str<span class="token operator">-&gt;</span>data <span class="token operator">=</span> ptr<span class="token operator">-&gt;</span>data<span class="token punctuation">;</span>
		r<span class="token operator">-&gt;</span>next <span class="token operator">=</span> str<span class="token punctuation">;</span>
		r <span class="token operator">=</span> str<span class="token punctuation">;</span>
		ptr <span class="token operator">=</span> ptr<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	r<span class="token operator">-&gt;</span>next<span class="token operator">=</span> p<span class="token punctuation">;</span><span class="token comment">//é“¾æ¥</span>
	<span class="token keyword">return</span> s1<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="123__597"></a>12.3. å¤æ‚åº¦åˆ†æ</h4> 
<ul><li>æ—¶é—´å¤æ‚åº¦ï¼šé¡ºåºä¸²éœ€è¦ç§»åŠ¨è¦†ç›–ï¼Œé“¾å¼ä¸²éœ€è¦å¯»æ‰¾ç›®æ ‡ä½ç½®ï¼Œæ—¶é—´å¤æ‚åº¦éƒ½å¯ä»¥è§†ä¸ºO(N)ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼šé¡ºåºä¸²å¯èƒ½æ‰©å®¹ï¼Œé“¾å¼ä¸²éœ€è¦å¼€è¾Ÿç­‰é‡ç©ºé—´ï¼Œç©ºé—´å¤æ‚åº¦éƒ½å¯ä»¥è§†ä¸ºO(N)ã€‚</li></ul> 
<h3><a id="13__604"></a>13. æŒ‡å®šåˆ é™¤å­ä¸²</h3> 
<h4><a id="131__606"></a>13.1. é¡ºåºä¸²</h4> 
<p>å¦‚æœåˆ é™¤çš„é•¿åº¦è¿‡é•¿ï¼Œåªéœ€è¦ä¿®æ”¹ä¸²çš„<code>length</code>ã€‚å¦åˆ™éœ€è¦ä»å‰å¾€åè¦†ç›–ã€‚</p> 
<pre><code class="prism language-c">Sstring <span class="token function">DelStr</span><span class="token punctuation">(</span>Sstring<span class="token operator">*</span> s<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">,</span> <span class="token keyword">int</span> len<span class="token punctuation">)</span><span class="token comment">//æŒ‡å®šåˆ é™¤å­ä¸²</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>i <span class="token operator">&lt;</span> s<span class="token operator">-&gt;</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">+</span> len <span class="token operator">&gt;=</span>s<span class="token operator">-&gt;</span>length<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		s<span class="token operator">-&gt;</span>length <span class="token operator">=</span> i <span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">else</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> pos <span class="token operator">=</span> i<span class="token operator">+</span>len<span class="token punctuation">;</span> pos <span class="token operator">&lt;</span>s<span class="token operator">-&gt;</span>length<span class="token punctuation">;</span> pos<span class="token operator">++</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			s<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span>pos<span class="token operator">-</span>len<span class="token punctuation">]</span> <span class="token operator">=</span> s<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span>pos<span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		s<span class="token operator">-&gt;</span>length <span class="token operator">-=</span> len<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> <span class="token operator">*</span>s<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="132__631"></a>13.2. é“¾å¼ä¸²</h4> 
<pre><code class="prism language-c">LinkStrNode<span class="token operator">*</span> <span class="token function">DelStr</span><span class="token punctuation">(</span>LinkStrNode<span class="token operator">*</span> s<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">,</span> <span class="token keyword">int</span> len<span class="token punctuation">)</span><span class="token comment">//æŒ‡å®šåˆ é™¤å­ä¸²</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation">(</span>i <span class="token operator">&lt;</span> <span class="token function">StrLength</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	LinkStrNode<span class="token operator">*</span> r<span class="token punctuation">,</span> <span class="token operator">*</span> p<span class="token punctuation">;</span>
	p <span class="token operator">=</span> s<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	r <span class="token operator">=</span> p<span class="token punctuation">;</span><span class="token comment">//rä¸ºå‰ä¸€ä¸ªèŠ‚ç‚¹</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>p <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		count<span class="token operator">++</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">==</span> i<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		r <span class="token operator">=</span> p<span class="token punctuation">;</span>
		p <span class="token operator">=</span> p<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>len<span class="token operator">--</span> <span class="token operator">&amp;&amp;</span> p <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		LinkStrNode<span class="token operator">*</span> str <span class="token operator">=</span> p<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
		<span class="token function">free</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>
		p <span class="token operator">=</span> str<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	r<span class="token operator">-&gt;</span>next <span class="token operator">=</span> p<span class="token punctuation">;</span>
	<span class="token keyword">return</span> s<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="133__663"></a>13.3. å¤æ‚åº¦åˆ†æ</h4> 
<ul><li>æ—¶é—´å¤æ‚åº¦ï¼šé¡ºåºä¸²å¯èƒ½éœ€è¦ç§»åŠ¨è¦†ç›–ï¼Œé“¾å¼ä¸²éœ€è¦å¯»æ‰¾ç›®æ ‡ä½ç½®ï¼Œæ—¶é—´å¤æ‚åº¦éƒ½å¯ä»¥è§†ä¸ºO(N)ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼šé¡ºåºä¸²ä¸é“¾å¼ä¸²éƒ½ä¸éœ€è¦å¼€è¾Ÿæ ¼å¤–ç©ºé—´ï¼Œç©ºé—´å¤æ‚åº¦éƒ½å¯ä»¥è§†ä¸ºO(1)ã€‚</li></ul> 
<h3><a id="14__670"></a>14. ä¸²çš„æ‰“å°</h3> 
<h4><a id="141__672"></a>14.1. é¡ºåºä¸²</h4> 
<pre><code class="prism language-c"><span class="token keyword">void</span> <span class="token function">PrintStr</span><span class="token punctuation">(</span>Sstring<span class="token operator">*</span> s<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">char</span><span class="token operator">*</span> p <span class="token operator">=</span> s<span class="token operator">-&gt;</span>data<span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> s<span class="token operator">-&gt;</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%c"</span><span class="token punctuation">,</span> p<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="142__687"></a>14.2. é“¾å¼ä¸²</h4> 
<pre><code class="prism language-c"><span class="token keyword">void</span> <span class="token function">PrintStr</span><span class="token punctuation">(</span>LinkStrNode<span class="token operator">*</span> s<span class="token punctuation">)</span><span class="token comment">//æ‰“å°</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
	LinkStrNode<span class="token operator">*</span> p <span class="token operator">=</span> s<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>p <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%c"</span><span class="token punctuation">,</span> p<span class="token operator">-&gt;</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
		p <span class="token operator">=</span> p<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="143__703"></a>14.3. å¤æ‚åº¦åˆ†æ</h4> 
<ul><li>æ—¶é—´å¤æ‚åº¦ï¼šæ— è®ºæ˜¯é¡ºåºä¸²è¿˜æ˜¯é“¾å¼ä¸²éƒ½éœ€è¦éå†æ•´ä¸ªä¸²ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦ä¸ºO(N)ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼šé¡ºåºä¸²ä¸é“¾å¼ä¸²éƒ½ä¸éœ€è¦å¼€è¾Ÿæ ¼å¤–ç©ºé—´ï¼Œç©ºé—´å¤æ‚åº¦éƒ½å¯ä»¥è§†ä¸ºO(1)ã€‚</li></ul> 
<h3><a id="15__710"></a>15. ä¸²çš„é”€æ¯</h3> 
<h4><a id="151__712"></a>15.1. é¡ºåºä¸²</h4> 
<pre><code class="prism language-c"><span class="token keyword">void</span> <span class="token function">StrDestroy</span><span class="token punctuation">(</span>Sstring<span class="token operator">*</span> s<span class="token punctuation">)</span><span class="token comment">//é”€æ¯ä¸²</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">free</span><span class="token punctuation">(</span>s<span class="token operator">-&gt;</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
	s<span class="token operator">-&gt;</span>data <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	s<span class="token operator">-&gt;</span>length <span class="token operator">=</span> s<span class="token operator">-&gt;</span>capacity <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="152__723"></a>15.2. é“¾å¼ä¸²</h4> 
<pre><code class="prism language-c"><span class="token keyword">void</span> <span class="token function">DestroyStr</span><span class="token punctuation">(</span>LinkStrNode<span class="token operator">*</span> s<span class="token punctuation">)</span><span class="token comment">//é”€æ¯</span>
<span class="token punctuation">{<!-- --></span>
	LinkStrNode<span class="token operator">*</span> pre <span class="token operator">=</span> s<span class="token punctuation">,</span> <span class="token operator">*</span> p <span class="token operator">=</span> s<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>p <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">free</span><span class="token punctuation">(</span>pre<span class="token punctuation">)</span><span class="token punctuation">;</span>
		pre <span class="token operator">=</span> p<span class="token punctuation">;</span>
		p <span class="token operator">=</span> p<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">free</span><span class="token punctuation">(</span>pre<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="153__739"></a>15.3. å¤æ‚åº¦åˆ†æ</h4> 
<ul><li>æ—¶é—´å¤æ‚åº¦ï¼šé¡ºåºä¸²æ¶ˆè€—æ—¶é—´å›ºå®šï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(1)ã€‚é“¾å¼ä¸²éœ€è¦éå†è¿™ä¸ªä¸²ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(N)</li><li>ç©ºé—´å¤æ‚åº¦ï¼šé¡ºåºä¸²ä¸é“¾å¼ä¸²éƒ½ä¸éœ€è¦å¼€è¾Ÿæ ¼å¤–ç©ºé—´ï¼Œç©ºé—´å¤æ‚åº¦éƒ½å¯ä»¥è§†ä¸ºO(1)ã€‚</li></ul> 
<h3><a id="16__746"></a>16. å¯¹æ¯”ä¸åº”ç”¨</h3> 
<h4><a id="161__748"></a>16.1. å¯¹æ¯”</h4> 
<p>å› ä¸ºä¸²ä¹Ÿæ˜¯ä¸€ç§é¡ºåºè¡¨ï¼Œæ‰€ä»¥æ— è®ºæ˜¯é¡ºåºè¡¨è¿˜æ˜¯é“¾å¼ä¸²çš„ä¼˜åŠ£éƒ½ä¸é¡ºåºè¡¨ä¸é“¾è¡¨å·®ä¸å¤šã€‚è¿™é‡Œå°±ä¸åœ¨èµ˜è¿°ã€‚</p> 
<h4><a id="162__752"></a>16.2. åº”ç”¨</h4> 
<p>ä¸²åœ¨è®¡ç®—æœºé¢†åŸŸæœ‰ç€å¹¿æ³›çš„åº”ç”¨ï¼š</p> 
<blockquote> 
 <ol><li>**æ–‡æœ¬å¤„ç†ï¼š**æ–‡æœ¬ç¼–è¾‘å™¨æˆ–å¤„ç†å™¨ä¸­ï¼Œæ–‡æœ¬è¢«è¡¨ç¤ºä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¯ä»¥è¿›è¡ŒæŸ¥æ‰¾ã€æ›¿æ¢ã€æ’å…¥ã€åˆ é™¤ç­‰æ“ä½œ</li><li><strong>åŠ å¯†å’Œå®‰å…¨</strong>ï¼šåŠ å¯†ç®—æ³•ä¸­ç»å¸¸ä½¿ç”¨å­—ç¬¦ä¸²è¡¨ç¤ºæ•°æ®ï¼Œä¾‹å¦‚å¯¹ç§°åŠ å¯†å’Œéå¯¹ç§°åŠ å¯†ä¸­çš„å¯†é’¥å’Œæ˜æ–‡ã€‚</li></ol> 
</blockquote> 
<h3><a id="17__761"></a>17. å®Œæ•´ä»£ç </h3> 
<h4><a id="171__763"></a>17.1. é¡ºåºä¸²</h4> 
<h5><a id="1711_Sstringh_765"></a>17.1.1. Sstring.h</h5> 
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdlib.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdbool.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;assert.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;string.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">MAXSIZE</span> <span class="token expression"><span class="token number">50</span></span></span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">string</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">char</span> <span class="token operator">*</span>data<span class="token punctuation">;</span>
	<span class="token keyword">int</span> length<span class="token punctuation">;</span>
	<span class="token keyword">int</span> capacity<span class="token punctuation">;</span>
<span class="token punctuation">}</span>Sstring<span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">StrInit</span><span class="token punctuation">(</span>Sstring<span class="token operator">*</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//åˆå§‹åŒ–ä¸²</span>
<span class="token keyword">void</span> <span class="token function">StrAssign</span><span class="token punctuation">(</span>Sstring<span class="token operator">*</span> s<span class="token punctuation">,</span> <span class="token keyword">char</span> str<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//ç”Ÿæˆä¸²</span>
<span class="token keyword">void</span> <span class="token function">StrCopy</span><span class="token punctuation">(</span>Sstring<span class="token operator">*</span> s<span class="token punctuation">,</span> Sstring<span class="token operator">*</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å¤åˆ¶ä¸²</span>
<span class="token keyword">int</span> <span class="token function">StrCmp</span><span class="token punctuation">(</span>Sstring<span class="token operator">*</span>s<span class="token punctuation">,</span> Sstring<span class="token operator">*</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ¯”è¾ƒä¸¤ä¸ªä¸²</span>
<span class="token keyword">int</span> <span class="token function">StrLength</span><span class="token punctuation">(</span>Sstring<span class="token operator">*</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è¿”å›ä¸²çš„é•¿åº¦</span>
Sstring <span class="token function">Strcat</span><span class="token punctuation">(</span>Sstring<span class="token operator">*</span>s<span class="token punctuation">,</span> Sstring<span class="token operator">*</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//é“¾æ¥ä¸¤ä¸ªä¸²</span>
Sstring <span class="token function">SubStr</span><span class="token punctuation">(</span>Sstring<span class="token operator">*</span> s<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">,</span> <span class="token keyword">int</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å–å­ä¸²</span>
Sstring <span class="token function">InsStr</span><span class="token punctuation">(</span>Sstring<span class="token operator">*</span> s1<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">,</span> Sstring<span class="token operator">*</span> s2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æŒ‡å®šä½ç½®æ’å…¥</span>
Sstring <span class="token function">DelStr</span><span class="token punctuation">(</span>Sstring<span class="token operator">*</span> s<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">,</span> <span class="token keyword">int</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æŒ‡å®šåˆ é™¤å­ä¸²</span>
<span class="token keyword">void</span> <span class="token function">PrintStr</span><span class="token punctuation">(</span>Sstring<span class="token operator">*</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ‰“å°</span>
<span class="token keyword">void</span> <span class="token function">StrDestroy</span><span class="token punctuation">(</span>Sstring<span class="token operator">*</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//é”€æ¯ä¸²</span>
</code></pre> 
<h5><a id="1712_Sstringc_793"></a>17.1.2. Sstring.c</h5> 
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">_CRT_SECURE_NO_WARNINGS</span> <span class="token expression"><span class="token number">1</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">"Sstring.h"</span></span>
<span class="token keyword">void</span> <span class="token function">CheckCapacity</span><span class="token punctuation">(</span>Sstring<span class="token operator">*</span> s<span class="token punctuation">,</span> <span class="token keyword">int</span> len<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token operator">-&gt;</span>length <span class="token operator">+</span> len <span class="token operator">&gt;</span> s<span class="token operator">-&gt;</span>capacity<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">char</span><span class="token operator">*</span> tmp <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">realloc</span><span class="token punctuation">(</span>s<span class="token operator">-&gt;</span>data<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>s<span class="token operator">-&gt;</span>length <span class="token operator">+</span> len<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>tmp <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"realloc fail"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		s<span class="token operator">-&gt;</span>data <span class="token operator">=</span> tmp<span class="token punctuation">;</span>
		s<span class="token operator">-&gt;</span>capacity <span class="token operator">=</span> MAXSIZE <span class="token operator">+</span> len<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">StrInit</span><span class="token punctuation">(</span>Sstring<span class="token operator">*</span> s<span class="token punctuation">)</span><span class="token comment">//åˆå§‹åŒ–ä¸²</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">char</span> <span class="token operator">*</span>arr <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span> <span class="token operator">*</span> MAXSIZE<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>arr <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"malloc fail"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	s<span class="token operator">-&gt;</span>data <span class="token operator">=</span> arr<span class="token punctuation">;</span>
	s<span class="token operator">-&gt;</span>length <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	s<span class="token operator">-&gt;</span>capacity <span class="token operator">=</span> MAXSIZE<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">StrAssign</span><span class="token punctuation">(</span>Sstring<span class="token operator">*</span> s<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span>str<span class="token punctuation">)</span><span class="token comment">//ç”Ÿæˆä¸²</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>s <span class="token operator">&amp;&amp;</span> str<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> len <span class="token operator">=</span> <span class="token function">strlen</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">CheckCapacity</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> str<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token char">'\0'</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		s<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> str<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	s<span class="token operator">-&gt;</span>length <span class="token operator">=</span> len<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">StrCopy</span><span class="token punctuation">(</span>Sstring<span class="token operator">*</span> s<span class="token punctuation">,</span> Sstring<span class="token operator">*</span> t<span class="token punctuation">)</span><span class="token comment">//å¤åˆ¶ä¸²</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>s <span class="token operator">&amp;&amp;</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token operator">-&gt;</span>capacity <span class="token operator">&lt;</span> t<span class="token operator">-&gt;</span>capacity<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">char</span><span class="token operator">*</span> tmp <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">realloc</span><span class="token punctuation">(</span>s<span class="token operator">-&gt;</span>data<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span> <span class="token operator">*</span> t<span class="token operator">-&gt;</span>capacity<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>tmp <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"realloc fail"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		s<span class="token operator">-&gt;</span>data <span class="token operator">=</span> tmp<span class="token punctuation">;</span>
		s<span class="token operator">-&gt;</span>capacity <span class="token operator">=</span> t<span class="token operator">-&gt;</span>capacity<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> t<span class="token operator">-&gt;</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		s<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> t<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	s<span class="token operator">-&gt;</span>length <span class="token operator">=</span> s<span class="token operator">-&gt;</span>length <span class="token operator">&gt;</span> t<span class="token operator">-&gt;</span>length <span class="token operator">?</span> s<span class="token operator">-&gt;</span>length <span class="token operator">:</span> t<span class="token operator">-&gt;</span>length<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">StrCmp</span><span class="token punctuation">(</span>Sstring<span class="token operator">*</span> s<span class="token punctuation">,</span> Sstring<span class="token operator">*</span> t<span class="token punctuation">)</span><span class="token comment">//æ¯”è¾ƒä¸¤ä¸ªä¸²</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>s <span class="token operator">&amp;&amp;</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">char</span><span class="token operator">*</span> p1 <span class="token operator">=</span> s<span class="token operator">-&gt;</span>data<span class="token punctuation">;</span>
	<span class="token keyword">char</span><span class="token operator">*</span> p2 <span class="token operator">=</span> t<span class="token operator">-&gt;</span>data<span class="token punctuation">;</span>
	<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> s<span class="token operator">-&gt;</span>length <span class="token operator">&amp;&amp;</span> i <span class="token operator">&lt;</span> t<span class="token operator">-&gt;</span>length <span class="token operator">&amp;&amp;</span> p1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> p2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		i<span class="token operator">++</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> s<span class="token operator">-&gt;</span>length<span class="token operator">&amp;&amp;</span>i<span class="token operator">==</span>t<span class="token operator">-&gt;</span>length<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> s<span class="token operator">-&gt;</span>length <span class="token operator">&amp;&amp;</span> i <span class="token operator">!=</span> t<span class="token operator">-&gt;</span>length<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">!=</span> s<span class="token operator">-&gt;</span>length <span class="token operator">&amp;&amp;</span> i <span class="token operator">==</span> t<span class="token operator">-&gt;</span>length<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> p1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> p2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">StrLength</span><span class="token punctuation">(</span>Sstring<span class="token operator">*</span> s<span class="token punctuation">)</span><span class="token comment">//è¿”å›ä¸²çš„é•¿åº¦</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> s<span class="token operator">-&gt;</span>length<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
Sstring <span class="token function">Strcat</span><span class="token punctuation">(</span>Sstring<span class="token operator">*</span> s<span class="token punctuation">,</span> Sstring<span class="token operator">*</span> t<span class="token punctuation">)</span><span class="token comment">//é“¾æ¥ä¸¤ä¸ªä¸²</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>s <span class="token operator">&amp;&amp;</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> len <span class="token operator">=</span> t<span class="token operator">-&gt;</span>length<span class="token punctuation">;</span>
	<span class="token function">CheckCapacity</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> s<span class="token operator">-&gt;</span>length<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> s<span class="token operator">-&gt;</span>length <span class="token operator">+</span> t<span class="token operator">-&gt;</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		s<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> t<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span>i <span class="token operator">-</span> s<span class="token operator">-&gt;</span>length<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	s<span class="token operator">-&gt;</span>length <span class="token operator">=</span> s<span class="token operator">-&gt;</span>length <span class="token operator">+</span> t<span class="token operator">-&gt;</span>length<span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token operator">*</span>s<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
Sstring <span class="token function">SubStr</span><span class="token punctuation">(</span>Sstring<span class="token operator">*</span> s<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">,</span> <span class="token keyword">int</span> len<span class="token punctuation">)</span><span class="token comment">//å–å­ä¸²</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>i <span class="token operator">&lt;</span> s<span class="token operator">-&gt;</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
	Sstring str<span class="token punctuation">;</span>
	str<span class="token punctuation">.</span>data <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span> <span class="token operator">*</span> s<span class="token operator">-&gt;</span>capacity<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>str<span class="token punctuation">.</span>data <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"malloc fail"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> <span class="token operator">*</span>s<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	str<span class="token punctuation">.</span>capacity <span class="token operator">=</span> s<span class="token operator">-&gt;</span>capacity<span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">+</span> len <span class="token operator">&gt;=</span> s<span class="token operator">-&gt;</span>length<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> pos <span class="token operator">=</span> i<span class="token punctuation">;</span> pos <span class="token operator">&lt;</span> s<span class="token operator">-&gt;</span>length<span class="token punctuation">;</span> pos<span class="token operator">++</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			str<span class="token punctuation">.</span>data<span class="token punctuation">[</span>pos<span class="token operator">-</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> s<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span>pos<span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		str<span class="token punctuation">.</span>length <span class="token operator">=</span> s<span class="token operator">-&gt;</span>length <span class="token operator">-</span> i<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">else</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> pos <span class="token operator">=</span> i<span class="token punctuation">;</span> pos <span class="token operator">&lt;</span> i<span class="token operator">+</span>len<span class="token punctuation">;</span> pos<span class="token operator">++</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			str<span class="token punctuation">.</span>data<span class="token punctuation">[</span>pos <span class="token operator">-</span> i<span class="token punctuation">]</span> <span class="token operator">=</span> s<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span>pos<span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		str<span class="token punctuation">.</span>length <span class="token operator">=</span> len<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> str<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
Sstring <span class="token function">InsStr</span><span class="token punctuation">(</span>Sstring<span class="token operator">*</span> s1<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">,</span> Sstring<span class="token operator">*</span> s2<span class="token punctuation">)</span><span class="token comment">//æŒ‡å®šä½ç½®æ’å…¥</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>s1 <span class="token operator">&amp;&amp;</span> s2<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation">(</span>i <span class="token operator">&lt;</span> s1<span class="token operator">-&gt;</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> len <span class="token operator">=</span> s2<span class="token operator">-&gt;</span>length<span class="token punctuation">;</span>
	<span class="token function">CheckCapacity</span><span class="token punctuation">(</span>s1<span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> pos <span class="token operator">=</span> s1<span class="token operator">-&gt;</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> pos <span class="token operator">&gt;=</span> i<span class="token punctuation">;</span> pos<span class="token operator">--</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		s1<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span>pos <span class="token operator">+</span> len<span class="token punctuation">]</span> <span class="token operator">=</span> s1<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span>pos<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> pos <span class="token operator">=</span> i<span class="token punctuation">;</span> pos <span class="token operator">&lt;</span> i <span class="token operator">+</span> len<span class="token punctuation">;</span> pos<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		s1<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span>pos<span class="token punctuation">]</span> <span class="token operator">=</span> s2<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span>pos <span class="token operator">-</span> i<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	s1<span class="token operator">-&gt;</span>length <span class="token operator">+=</span> len<span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token operator">*</span>s1<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
Sstring <span class="token function">DelStr</span><span class="token punctuation">(</span>Sstring<span class="token operator">*</span> s<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">,</span> <span class="token keyword">int</span> len<span class="token punctuation">)</span><span class="token comment">//æŒ‡å®šåˆ é™¤å­ä¸²</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>i <span class="token operator">&lt;</span> s<span class="token operator">-&gt;</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">+</span> len <span class="token operator">&gt;=</span>s<span class="token operator">-&gt;</span>length<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		s<span class="token operator">-&gt;</span>length <span class="token operator">=</span> i <span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">else</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> pos <span class="token operator">=</span> i<span class="token operator">+</span>len<span class="token punctuation">;</span> pos <span class="token operator">&lt;</span>s<span class="token operator">-&gt;</span>length<span class="token punctuation">;</span> pos<span class="token operator">++</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			s<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span>pos<span class="token operator">-</span>len<span class="token punctuation">]</span> <span class="token operator">=</span> s<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span>pos<span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		s<span class="token operator">-&gt;</span>length <span class="token operator">-=</span> len<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> <span class="token operator">*</span>s<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">PrintStr</span><span class="token punctuation">(</span>Sstring<span class="token operator">*</span> s<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">char</span><span class="token operator">*</span> p <span class="token operator">=</span> s<span class="token operator">-&gt;</span>data<span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> s<span class="token operator">-&gt;</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%c"</span><span class="token punctuation">,</span> p<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">StrDestroy</span><span class="token punctuation">(</span>Sstring<span class="token operator">*</span> s<span class="token punctuation">)</span><span class="token comment">//é”€æ¯ä¸²</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">free</span><span class="token punctuation">(</span>s<span class="token operator">-&gt;</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
	s<span class="token operator">-&gt;</span>data <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	s<span class="token operator">-&gt;</span>length <span class="token operator">=</span> s<span class="token operator">-&gt;</span>capacity <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="172__982"></a>17.2. é“¾å¼ä¸²</h4> 
<h5><a id="1721_Sstringh_984"></a>17.2.1. Sstring.h</h5> 
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdlib.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdbool.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;assert.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;string.h&gt;</span></span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">snode</span> 
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">char</span> data<span class="token punctuation">;</span>
	<span class="token keyword">struct</span> <span class="token class-name">snode</span><span class="token operator">*</span> next<span class="token punctuation">;</span>
<span class="token punctuation">}</span>LinkStrNode<span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">StrInit</span><span class="token punctuation">(</span>LinkStrNode<span class="token operator">*</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//åˆå§‹åŒ–ä¸²</span>
<span class="token keyword">void</span> <span class="token function">StrAssign</span><span class="token punctuation">(</span>LinkStrNode<span class="token operator">*</span><span class="token operator">*</span>s<span class="token punctuation">,</span> <span class="token keyword">char</span> str<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//ç”Ÿæˆä¸²</span>
<span class="token keyword">void</span> <span class="token function">StrCopy</span><span class="token punctuation">(</span>LinkStrNode<span class="token operator">*</span><span class="token operator">*</span>s<span class="token punctuation">,</span> LinkStrNode<span class="token operator">*</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å¤åˆ¶ä¸²</span>
<span class="token keyword">int</span> <span class="token function">StrCmp</span><span class="token punctuation">(</span>LinkStrNode<span class="token operator">*</span>s<span class="token punctuation">,</span> LinkStrNode<span class="token operator">*</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ¯”è¾ƒä¸¤ä¸ªä¸²</span>
<span class="token keyword">int</span> <span class="token function">StrLength</span><span class="token punctuation">(</span>LinkStrNode<span class="token operator">*</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è¿”å›ä¸²çš„é•¿åº¦</span>
LinkStrNode<span class="token operator">*</span><span class="token function">Strcat</span><span class="token punctuation">(</span>LinkStrNode<span class="token operator">*</span>s<span class="token punctuation">,</span> LinkStrNode<span class="token operator">*</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//é“¾æ¥ä¸¤ä¸ªä¸²</span>
LinkStrNode<span class="token operator">*</span><span class="token function">SubStr</span><span class="token punctuation">(</span>LinkStrNode<span class="token operator">*</span> s<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">,</span> <span class="token keyword">int</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å–å­ä¸²</span>
LinkStrNode<span class="token operator">*</span><span class="token function">InsStr</span><span class="token punctuation">(</span>LinkStrNode<span class="token operator">*</span> s1<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">,</span> LinkStrNode<span class="token operator">*</span> s2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æŒ‡å®šä½ç½®æ’å…¥</span>
LinkStrNode<span class="token operator">*</span><span class="token function">DelStr</span><span class="token punctuation">(</span>LinkStrNode<span class="token operator">*</span> s<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">,</span> <span class="token keyword">int</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æŒ‡å®šåˆ é™¤å­ä¸²</span>
<span class="token keyword">void</span> <span class="token function">PrintStr</span><span class="token punctuation">(</span>LinkStrNode<span class="token operator">*</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ‰“å°</span>
<span class="token keyword">void</span> <span class="token function">DestroyStr</span><span class="token punctuation">(</span>LinkStrNode<span class="token operator">*</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//é”€æ¯ä¸²</span>
</code></pre> 
<h5><a id="1722_Sstringc_1010"></a>17.2.2. Sstring.c</h5> 
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">"Sstring.h"</span></span>
LinkStrNode<span class="token operator">*</span> <span class="token function">BuyListNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	LinkStrNode<span class="token operator">*</span>tmp<span class="token operator">=</span> <span class="token punctuation">(</span>LinkStrNode<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>LinkStrNode<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>tmp <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"malloc fail"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> tmp<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">StrAssign</span><span class="token punctuation">(</span>LinkStrNode<span class="token operator">*</span><span class="token operator">*</span> s<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span>str<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
	LinkStrNode<span class="token operator">*</span> r<span class="token punctuation">,</span> <span class="token operator">*</span> p<span class="token punctuation">;</span>
	<span class="token operator">*</span>s <span class="token operator">=</span> <span class="token function">BuyListNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	r <span class="token operator">=</span> <span class="token operator">*</span>s<span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> str<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token char">'\0'</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		p <span class="token operator">=</span> <span class="token function">BuyListNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		p<span class="token operator">-&gt;</span>data <span class="token operator">=</span> str<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
		r<span class="token operator">-&gt;</span>next <span class="token operator">=</span> p<span class="token punctuation">;</span>	
		r <span class="token operator">=</span> p<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	r<span class="token operator">-&gt;</span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">StrCopy</span><span class="token punctuation">(</span>LinkStrNode<span class="token operator">*</span><span class="token operator">*</span> s<span class="token punctuation">,</span> LinkStrNode<span class="token operator">*</span> t<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">DestroyStr</span><span class="token punctuation">(</span><span class="token operator">*</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
	LinkStrNode<span class="token operator">*</span> r<span class="token punctuation">,</span> <span class="token operator">*</span> q<span class="token punctuation">;</span>
	LinkStrNode<span class="token operator">*</span> p <span class="token operator">=</span> t<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token operator">*</span>s <span class="token operator">=</span> <span class="token function">BuyListNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	r <span class="token operator">=</span> <span class="token operator">*</span>s<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>p <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		q <span class="token operator">=</span> <span class="token function">BuyListNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		q<span class="token operator">-&gt;</span>data <span class="token operator">=</span> p<span class="token operator">-&gt;</span>data<span class="token punctuation">;</span>		

		r<span class="token operator">-&gt;</span>next <span class="token operator">=</span> q<span class="token punctuation">;</span>
		r <span class="token operator">=</span> q<span class="token punctuation">;</span>			

		p <span class="token operator">=</span> p<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	r<span class="token operator">-&gt;</span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">StrCmp</span><span class="token punctuation">(</span>LinkStrNode<span class="token operator">*</span> s<span class="token punctuation">,</span> LinkStrNode<span class="token operator">*</span> t<span class="token punctuation">)</span><span class="token comment">//æ¯”è¾ƒä¸¤ä¸ªä¸²</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>s<span class="token operator">&amp;&amp;</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>
	LinkStrNode<span class="token operator">*</span> p <span class="token operator">=</span> s<span class="token operator">-&gt;</span>next<span class="token punctuation">,</span> <span class="token operator">*</span> q <span class="token operator">=</span> t<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>p <span class="token operator">!=</span> <span class="token constant">NULL</span> <span class="token operator">&amp;&amp;</span> q <span class="token operator">!=</span> <span class="token constant">NULL</span> <span class="token operator">&amp;&amp;</span> p<span class="token operator">-&gt;</span>data <span class="token operator">==</span> q<span class="token operator">-&gt;</span>data<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		p <span class="token operator">=</span> p<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
		q <span class="token operator">=</span> q<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>p <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token operator">&amp;&amp;</span>q <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>		
		<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>p <span class="token operator">==</span> <span class="token constant">NULL</span> <span class="token operator">&amp;&amp;</span> q <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>p <span class="token operator">!=</span> <span class="token constant">NULL</span> <span class="token operator">&amp;&amp;</span> q <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> p<span class="token operator">-&gt;</span>data <span class="token operator">-</span> q<span class="token operator">-&gt;</span>data<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">StrLength</span><span class="token punctuation">(</span>LinkStrNode<span class="token operator">*</span> s<span class="token punctuation">)</span><span class="token comment">//è¿”å›ä¸²çš„é•¿åº¦</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	LinkStrNode<span class="token operator">*</span> p <span class="token operator">=</span> s<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>p <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		count<span class="token operator">++</span><span class="token punctuation">;</span>
		p <span class="token operator">=</span> p<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> count<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
LinkStrNode<span class="token operator">*</span><span class="token function">Strcat</span><span class="token punctuation">(</span>LinkStrNode<span class="token operator">*</span> s<span class="token punctuation">,</span> LinkStrNode<span class="token operator">*</span> t<span class="token punctuation">)</span><span class="token comment">//é“¾æ¥ä¸¤ä¸ªä¸²</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>s <span class="token operator">&amp;&amp;</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span>
	LinkStrNode<span class="token operator">*</span> p <span class="token operator">=</span> s<span class="token operator">-&gt;</span>next<span class="token punctuation">,</span> <span class="token operator">*</span> q <span class="token operator">=</span> t<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>p<span class="token operator">-&gt;</span>next <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		p <span class="token operator">=</span> p<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	LinkStrNode<span class="token operator">*</span> str1 <span class="token operator">=</span> p<span class="token punctuation">,</span><span class="token operator">*</span>str2<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>q <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		str2 <span class="token operator">=</span> <span class="token function">BuyListNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		str2<span class="token operator">-&gt;</span>data <span class="token operator">=</span>q<span class="token operator">-&gt;</span>data<span class="token punctuation">;</span>

		str1<span class="token operator">-&gt;</span>next <span class="token operator">=</span> str2<span class="token punctuation">;</span>
		str1 <span class="token operator">=</span> str2<span class="token punctuation">;</span>

		q <span class="token operator">=</span> q<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	str1<span class="token operator">-&gt;</span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> s<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
LinkStrNode<span class="token operator">*</span><span class="token function">SubStr</span><span class="token punctuation">(</span>LinkStrNode<span class="token operator">*</span> s<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">,</span> <span class="token keyword">int</span> len<span class="token punctuation">)</span><span class="token comment">//å–å­ä¸²</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation">(</span>i <span class="token operator">&lt;=</span> <span class="token function">StrLength</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	LinkStrNode<span class="token operator">*</span> r<span class="token punctuation">,</span> <span class="token operator">*</span> p<span class="token punctuation">;</span>
	p <span class="token operator">=</span> s<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span><span class="token comment">//è·³è¿‡å¤´èŠ‚ç‚¹</span>
	r <span class="token operator">=</span> <span class="token function">BuyListNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>p <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token comment">//æ‰¾åˆ°ç¬¬iä¸ªä½ç½®</span>
	<span class="token punctuation">{<!-- --></span>
		count<span class="token operator">++</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">==</span> i<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		p <span class="token operator">=</span> p<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	LinkStrNode<span class="token operator">*</span> str1<span class="token operator">=</span>r<span class="token punctuation">,</span><span class="token operator">*</span>str2<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>len<span class="token operator">--</span><span class="token operator">&amp;&amp;</span>p<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		str2 <span class="token operator">=</span> <span class="token function">BuyListNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		str2<span class="token operator">-&gt;</span>data <span class="token operator">=</span> p<span class="token operator">-&gt;</span>data<span class="token punctuation">;</span>
		str1<span class="token operator">-&gt;</span>next <span class="token operator">=</span> str2<span class="token punctuation">;</span>
		str1 <span class="token operator">=</span> str2<span class="token punctuation">;</span>
		p <span class="token operator">=</span> p<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	str1<span class="token operator">-&gt;</span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token comment">//æœ«å°¾ç½®ç©º</span>
	<span class="token keyword">return</span> r<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
LinkStrNode<span class="token operator">*</span><span class="token function">InsStr</span><span class="token punctuation">(</span>LinkStrNode<span class="token operator">*</span> s1<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">,</span> LinkStrNode<span class="token operator">*</span> s2<span class="token punctuation">)</span><span class="token comment">//æŒ‡å®šä½ç½®æ’å…¥</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>s1<span class="token operator">&amp;&amp;</span>s2<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation">(</span>i <span class="token operator">&lt;=</span> <span class="token function">StrLength</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	LinkStrNode<span class="token operator">*</span> r<span class="token punctuation">,</span> <span class="token operator">*</span> p<span class="token punctuation">,</span><span class="token operator">*</span>q<span class="token punctuation">;</span>
	q<span class="token operator">=</span>p <span class="token operator">=</span> s1<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span><span class="token comment">//qä¸ºiä¹‹å‰çš„ä½ç½®</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>p <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token comment">//æ‰¾åˆ°ç¬¬iä¸ªä½ç½®</span>
	<span class="token punctuation">{<!-- --></span>
		count<span class="token operator">++</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">==</span> i<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		q <span class="token operator">=</span> p<span class="token punctuation">;</span><span class="token comment">//è®°å½•å‰ä¸€ä¸ªä½ç½®</span>
		p <span class="token operator">=</span> p<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	r <span class="token operator">=</span> q<span class="token punctuation">;</span>
	LinkStrNode<span class="token operator">*</span> str<span class="token punctuation">;</span>
	LinkStrNode<span class="token operator">*</span> ptr<span class="token operator">=</span>s2<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span><span class="token comment">//è·³è¿‡å¤´èŠ‚ç‚¹</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>ptr <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		str <span class="token operator">=</span> <span class="token function">BuyListNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		str<span class="token operator">-&gt;</span>data <span class="token operator">=</span> ptr<span class="token operator">-&gt;</span>data<span class="token punctuation">;</span>
		r<span class="token operator">-&gt;</span>next <span class="token operator">=</span> str<span class="token punctuation">;</span>
		r <span class="token operator">=</span> str<span class="token punctuation">;</span>
		ptr <span class="token operator">=</span> ptr<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	r<span class="token operator">-&gt;</span>next<span class="token operator">=</span> p<span class="token punctuation">;</span><span class="token comment">//é“¾æ¥</span>
	<span class="token keyword">return</span> s1<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
LinkStrNode<span class="token operator">*</span> <span class="token function">DelStr</span><span class="token punctuation">(</span>LinkStrNode<span class="token operator">*</span> s<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">,</span> <span class="token keyword">int</span> len<span class="token punctuation">)</span><span class="token comment">//æŒ‡å®šåˆ é™¤å­ä¸²</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation">(</span>i <span class="token operator">&lt;</span> <span class="token function">StrLength</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	LinkStrNode<span class="token operator">*</span> r<span class="token punctuation">,</span> <span class="token operator">*</span> p<span class="token punctuation">;</span>
	p <span class="token operator">=</span> s<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	r <span class="token operator">=</span> p<span class="token punctuation">;</span><span class="token comment">//rä¸ºå‰ä¸€ä¸ªèŠ‚ç‚¹</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>p <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		count<span class="token operator">++</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">==</span> i<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		r <span class="token operator">=</span> p<span class="token punctuation">;</span>
		p <span class="token operator">=</span> p<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>len<span class="token operator">--</span> <span class="token operator">&amp;&amp;</span> p <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		LinkStrNode<span class="token operator">*</span> str <span class="token operator">=</span> p<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
		<span class="token function">free</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>
		p <span class="token operator">=</span> str<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	r<span class="token operator">-&gt;</span>next <span class="token operator">=</span> p<span class="token punctuation">;</span>
	<span class="token keyword">return</span> s<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">PrintStr</span><span class="token punctuation">(</span>LinkStrNode<span class="token operator">*</span> s<span class="token punctuation">)</span><span class="token comment">//æ‰“å°</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
	LinkStrNode<span class="token operator">*</span> p <span class="token operator">=</span> s<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>p <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%c"</span><span class="token punctuation">,</span> p<span class="token operator">-&gt;</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
		p <span class="token operator">=</span> p<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">DestroyStr</span><span class="token punctuation">(</span>LinkStrNode<span class="token operator">*</span> s<span class="token punctuation">)</span><span class="token comment">//é”€æ¯</span>
<span class="token punctuation">{<!-- --></span>
	LinkStrNode<span class="token operator">*</span> pre <span class="token operator">=</span> s<span class="token punctuation">,</span> <span class="token operator">*</span> p <span class="token operator">=</span> s<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>p <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">free</span><span class="token punctuation">(</span>pre<span class="token punctuation">)</span><span class="token punctuation">;</span>
		pre <span class="token operator">=</span> p<span class="token punctuation">;</span>
		p <span class="token operator">=</span> p<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">free</span><span class="token punctuation">(</span>pre<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/0c8e62dfede85631702fd99e8e0cc286/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">AIGCé‡å¡‘é‡‘èï¼šAIå¤§æ¨¡å‹é©±åŠ¨çš„é‡‘èå˜é©ä¸å®è·µï¼Œé¢è¯•å¿…ä¼š</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/d28c1530eddda1f458eaf591c9cbbdf8/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">æœ€æ–°AIåˆ›ä½œç³»ç»ŸChatGPTç½‘ç«™æºç AIç»˜ç”»ï¼ŒGPTsï¼ŒAIæ¢è„¸æ”¯æŒï¼ŒGPTè”ç½‘æé—®ã€DALL-E3æ–‡ç”Ÿå›¾</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ç¼–ç¨‹å¤§å’–.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>