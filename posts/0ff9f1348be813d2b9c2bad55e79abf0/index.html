<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>探索数据结构：顺序串与链式串的深入理解 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/0ff9f1348be813d2b9c2bad55e79abf0/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="探索数据结构：顺序串与链式串的深入理解">
  <meta property="og:description" content="✨✨ 欢迎大家来到贝蒂大讲堂✨✨
🎈🎈养成好习惯，先赞后看哦~🎈🎈
所属专栏：数据结构与算法
贝蒂的主页：Betty’s blog
1. 串的定义 串是一种特殊的顺序表，即每一个元素都是单独一个字符。在C语言中我们学习的字符串便是串的一种，它在我们的数据搜索与文本编译中起着不可或缺的作用。
特别注意：空格也是一个字符！！
下面是与串相关概念：
串的长度：指串中有效元素的个数(不包括字符\0)。空串：不含任何元素的串，即长度为0。子序列：抽取串的一些字符，按照原字符串的顺序进行放置的新串。子串：串中任意连续字符组成的子序列称为该串的子串，其中空串是任意串的子串。主串：包含子串的串称为该子串的主串。 2. 串的实现方式 串是一种特殊的顺序表，所以实现方式也与顺序表类似，分别以顺序表和链表来实现。
顺序实现 链式实现 3. 串的功能 串的初始化串的生成。串的复制。判断两个串是否相等。返回串的长度。链接两个串。取子串。在串1的指定位置插入串2。删除指定位置长度为n的某个子串。 4. 串的声明 4.1. 顺序串 顺序串的存储自然是以顺序表的形式，但是在定义其长度有三种实现方式，如下：
初始化一个头结点作为长度的存储。 但是这种存储有一个明显的缺点就是char类型的最大表示范围为255，所以这种方式并不可取。
以字符\0作为结束标志。 C/C&#43;&#43;中的字符串就是以这种实现方式，但是这种实现方式每次求长度都需要遍历整个顺序表。所以在这里也不是特别好。
添加为结构体成员。 这种实现方式相较于前两种更加合理，后续我们也将以这种方式实现。
同时为了方便扩容，我们可以再增加一个结构体成员capacity。
#define MAXSIZE 50 typedef struct string { char *data; int length; int capacity; }Sstring; 4.2. 链式串 链式串我们使用单链表来实现，为了方便操作我们可以添加一个头节点。
typedef struct snode { char data; struct snode* next; }LinkStrNode; 5. 串的初始化 5.1. 顺序串 void StrInit(Sstring* s)//初始化串 { char *arr = (char*)malloc(sizeof(char) * MAXSIZE); if (arr == NULL) { perror(&#34;">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-04-15T00:57:08+08:00">
    <meta property="article:modified_time" content="2024-04-15T00:57:08+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">探索数据结构：顺序串与链式串的深入理解</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <blockquote> 
 <p><img src="https://images2.imgbox.com/28/39/4zVmxVQs_o.png" alt=""></p> 
 <p>✨✨ 欢迎大家来到贝蒂大讲堂✨✨</p> 
 <p>🎈🎈养成好习惯，先赞后看哦~🎈🎈</p> 
 <p>所属专栏：<a href="http://t.csdnimg.cn/REhD0" rel="nofollow">数据结构与算法</a><br> 贝蒂的主页：<a href="https://blog.csdn.net/Bettysweetyaaa?type=lately">Betty’s blog</a></p> 
</blockquote> 
<h3><a id="1__9"></a>1. 串的定义</h3> 
<p>串是一种特殊的<strong>顺序表</strong>，即每一个元素都是单独一个<strong>字符</strong>。在C语言中我们学习的字符串便是串的一种，它在我们的数据搜索与文本编译中起着不可或缺的作用。</p> 
<p><img src="https://images2.imgbox.com/2b/2e/RGdgj1l3_o.jpg" alt="img"></p> 
<p>特别注意：<strong>空格也是一个字符</strong>！！</p> 
<p>下面是与串相关概念：</p> 
<ul><li><strong>串的长度</strong>：指串中有效元素的个数(不包括字符\0)。</li><li><strong>空串</strong>：不含任何元素的串，即长度为0。</li><li><strong>子序列</strong>：抽取串的一些字符，按照原字符串的顺序进行放置的新串。</li><li><strong>子串</strong>：串中任意连续字符组成的子序列称为该串的子串，其中空串是任意串的子串。</li><li><strong>主串</strong>：包含子串的串称为该子串的主串。</li></ul> 
<h3><a id="2__27"></a>2. 串的实现方式</h3> 
<p>串是一种特殊的顺序表，所以实现方式也与顺序表类似，分别以顺序表和链表来实现。</p> 
<ol><li>顺序实现</li></ol> 
<p><img src="https://images2.imgbox.com/2a/78/ZNc0a2Ei_o.jpg" alt="img"></p> 
<ol><li>链式实现</li></ol> 
<p><img src="https://images2.imgbox.com/1b/9c/UkE49bvM_o.jpg" alt="img"></p> 
<h3><a id="3__43"></a>3. 串的功能</h3> 
<ol><li>串的初始化</li><li>串的生成。</li><li>串的复制。</li><li>判断两个串是否相等。</li><li>返回串的长度。</li><li>链接两个串。</li><li>取子串。</li><li>在串1的指定位置插入串2。</li><li>删除指定位置长度为n的某个子串。</li></ol> 
<h3><a id="4__57"></a>4. 串的声明</h3> 
<h4><a id="41__59"></a>4.1. 顺序串</h4> 
<p>顺序串的存储自然是以顺序表的形式，但是在定义其长度有三种实现方式，如下：</p> 
<ol><li><strong>初始化一个头结点作为长度的存储。</strong></li></ol> 
<p><img src="https://images2.imgbox.com/d6/b3/iHVRcP7i_o.jpg" alt="img"></p> 
<p>但是这种存储有一个明显的缺点就是char类型的最大表示范围为255，所以这种方式并不可取。</p> 
<ol><li><strong>以字符\0作为结束标志。</strong></li></ol> 
<p><img src="https://images2.imgbox.com/ff/4d/t95ooS3t_o.jpg" alt="img"></p> 
<p>C/C++中的字符串就是以这种实现方式，但是这种实现方式每次求长度都需要遍历整个顺序表。所以在这里也不是特别好。</p> 
<ol><li><strong>添加为结构体成员。</strong></li></ol> 
<p><img src="https://images2.imgbox.com/d5/ec/HTIznYMB_o.jpg" alt="img"></p> 
<p>这种实现方式相较于前两种更加合理，后续我们也将以这种方式实现。</p> 
<p>同时为了方便扩容，我们可以再增加一个结构体成员<code>capacity</code>。</p> 
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">MAXSIZE</span> <span class="token expression"><span class="token number">50</span></span></span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">string</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">char</span> <span class="token operator">*</span>data<span class="token punctuation">;</span>
	<span class="token keyword">int</span> length<span class="token punctuation">;</span>
	<span class="token keyword">int</span> capacity<span class="token punctuation">;</span>
<span class="token punctuation">}</span>Sstring<span class="token punctuation">;</span>
</code></pre> 
<h4><a id="42__103"></a>4.2. 链式串</h4> 
<p>链式串我们使用单链表来实现，为了方便操作我们可以添加一个<strong>头节点</strong>。</p> 
<pre><code class="prism language-c"><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">snode</span> 
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">char</span> data<span class="token punctuation">;</span>
	<span class="token keyword">struct</span> <span class="token class-name">snode</span><span class="token operator">*</span> next<span class="token punctuation">;</span>
<span class="token punctuation">}</span>LinkStrNode<span class="token punctuation">;</span>
</code></pre> 
<h3><a id="5__115"></a>5. 串的初始化</h3> 
<h4><a id="51__117"></a>5.1. 顺序串</h4> 
<pre><code class="prism language-c"><span class="token keyword">void</span> <span class="token function">StrInit</span><span class="token punctuation">(</span>Sstring<span class="token operator">*</span> s<span class="token punctuation">)</span><span class="token comment">//初始化串</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">char</span> <span class="token operator">*</span>arr <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span> <span class="token operator">*</span> MAXSIZE<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>arr <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"malloc fail"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	s<span class="token operator">-&gt;</span>data <span class="token operator">=</span> arr<span class="token punctuation">;</span>
	s<span class="token operator">-&gt;</span>length <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	s<span class="token operator">-&gt;</span>capacity <span class="token operator">=</span> MAXSIZE<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="52__134"></a>5.2. 链式串</h4> 
<p>链式串并不需要单独初始化，可以在具体的实现中初始化。</p> 
<h4><a id="53__138"></a>5.3. 复杂度分析</h4> 
<ul><li>时间复杂度：顺序串花费时间是一个常数，所以时间复杂度为O(1)。</li><li>空间复杂度：初始化开辟了MAXSIZE的空间。可以视为O(N)的复杂度。</li></ul> 
<h3><a id="6__145"></a>6. 串的生成</h3> 
<h4><a id="61__147"></a>6.1. 顺序串</h4> 
<p>在对串进行拷贝时，要检查是否需要扩容，放置越界。</p> 
<pre><code class="prism language-c"><span class="token keyword">void</span> <span class="token function">CheckCapacity</span><span class="token punctuation">(</span>Sstring<span class="token operator">*</span> s<span class="token punctuation">,</span> <span class="token keyword">int</span> len<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token operator">-&gt;</span>length <span class="token operator">+</span> len <span class="token operator">&gt;</span> s<span class="token operator">-&gt;</span>capacity<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">char</span><span class="token operator">*</span> tmp <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">realloc</span><span class="token punctuation">(</span>s<span class="token operator">-&gt;</span>data<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>s<span class="token operator">-&gt;</span>length <span class="token operator">+</span> len<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>tmp <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"realloc fail"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		s<span class="token operator">-&gt;</span>data <span class="token operator">=</span> tmp<span class="token punctuation">;</span>
		s<span class="token operator">-&gt;</span>capacity <span class="token operator">=</span> MAXSIZE <span class="token operator">+</span> len<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">StrAssign</span><span class="token punctuation">(</span>Sstring<span class="token operator">*</span> s<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span>str<span class="token punctuation">)</span><span class="token comment">//生成串</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>s <span class="token operator">&amp;&amp;</span> str<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> len <span class="token operator">=</span> <span class="token function">strlen</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">CheckCapacity</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> str<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token char">'\0'</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		s<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> str<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	s<span class="token operator">-&gt;</span>length <span class="token operator">=</span> len<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="62__180"></a>6.2. 链式串</h4> 
<p>链式串每次插入都要生成一个节点，所以我们可以单独封装成一个函数。</p> 
<pre><code class="prism language-c">LinkStrNode<span class="token operator">*</span> <span class="token function">BuyListNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	LinkStrNode<span class="token operator">*</span>tmp<span class="token operator">=</span> <span class="token punctuation">(</span>LinkStrNode<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>LinkStrNode<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>tmp <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"malloc fail"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> tmp<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">StrAssign</span><span class="token punctuation">(</span>LinkStrNode<span class="token operator">*</span><span class="token operator">*</span> s<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span>str<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
	LinkStrNode<span class="token operator">*</span> r<span class="token punctuation">,</span> <span class="token operator">*</span> p<span class="token punctuation">;</span>
	<span class="token operator">*</span>s <span class="token operator">=</span> <span class="token function">BuyListNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	r <span class="token operator">=</span> <span class="token operator">*</span>s<span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> str<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token char">'\0'</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		p <span class="token operator">=</span> <span class="token function">BuyListNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		p<span class="token operator">-&gt;</span>data <span class="token operator">=</span> str<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
		r<span class="token operator">-&gt;</span>next <span class="token operator">=</span> p<span class="token punctuation">;</span>	
		r <span class="token operator">=</span> p<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	r<span class="token operator">-&gt;</span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="63__211"></a>6.3. 复杂度分析</h4> 
<ul><li>时间复杂度：无论是顺序串还是链式串都需要遍历一遍目标串，间复杂度可以视为O(N))。</li><li>空间复杂度：顺序串可能会扩容，链式串需要开辟等量节点，所以空间复杂度可以视为O(N)。</li></ul> 
<h3><a id="7__218"></a>7. 串的复制</h3> 
<h4><a id="71__220"></a>7.1. 顺序串</h4> 
<p>串的复制也需要检查是否需要扩容，然后再依次拷贝。</p> 
<pre><code class="prism language-c"><span class="token keyword">void</span> <span class="token function">StrCopy</span><span class="token punctuation">(</span>Sstring<span class="token operator">*</span> s<span class="token punctuation">,</span> Sstring<span class="token operator">*</span> t<span class="token punctuation">)</span><span class="token comment">//复制串</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>s <span class="token operator">&amp;&amp;</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token operator">-&gt;</span>capacity <span class="token operator">&lt;</span> t<span class="token operator">-&gt;</span>capacity<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">char</span><span class="token operator">*</span> tmp <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">realloc</span><span class="token punctuation">(</span>s<span class="token operator">-&gt;</span>data<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span> <span class="token operator">*</span> t<span class="token operator">-&gt;</span>capacity<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>tmp <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"realloc fail"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		s<span class="token operator">-&gt;</span>data <span class="token operator">=</span> tmp<span class="token punctuation">;</span>
		s<span class="token operator">-&gt;</span>capacity <span class="token operator">=</span> t<span class="token operator">-&gt;</span>capacity<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> t<span class="token operator">-&gt;</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		s<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> t<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	s<span class="token operator">-&gt;</span>length <span class="token operator">=</span> t<span class="token operator">-&gt;</span>length<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="72__247"></a>7.2. 链式串</h4> 
<p>链式串的拷贝我们采用一种方法：即先将原串销毁，然后再拷贝。</p> 
<pre><code class="prism language-c"><span class="token keyword">void</span> <span class="token function">StrCopy</span><span class="token punctuation">(</span>LinkStrNode<span class="token operator">*</span><span class="token operator">*</span> s<span class="token punctuation">,</span> LinkStrNode<span class="token operator">*</span> t<span class="token punctuation">)</span><span class="token comment">//复杂</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">DestroyStr</span><span class="token punctuation">(</span><span class="token operator">*</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//销毁</span>
	LinkStrNode<span class="token operator">*</span> r<span class="token punctuation">,</span> <span class="token operator">*</span> q<span class="token punctuation">;</span>
	LinkStrNode<span class="token operator">*</span> p <span class="token operator">=</span> t<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token operator">*</span>s <span class="token operator">=</span> <span class="token function">BuyListNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	r <span class="token operator">=</span> <span class="token operator">*</span>s<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>p <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		q <span class="token operator">=</span> <span class="token function">BuyListNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		q<span class="token operator">-&gt;</span>data <span class="token operator">=</span> p<span class="token operator">-&gt;</span>data<span class="token punctuation">;</span>		

		r<span class="token operator">-&gt;</span>next <span class="token operator">=</span> q<span class="token punctuation">;</span>
		r <span class="token operator">=</span> q<span class="token punctuation">;</span>			

		p <span class="token operator">=</span> p<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	r<span class="token operator">-&gt;</span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="73__274"></a>7.3. 复杂度分析</h4> 
<ul><li>时间复杂度：需要遍历一遍被复制串，所以时间复杂度可以视为O(N)。</li><li>空间复杂度：顺序串可能扩容，链式串需要复制等量节点，所以空间复杂度可以视为O(N)。</li></ul> 
<h3><a id="8__281"></a>8. 串的比较</h3> 
<p>串的比较与C语言中<code>strcmp</code>函数功能类似，都是<strong>依次比较串中的字符</strong>，直至结束或者出现不同的字符为至。</p> 
<p><strong>若大于则返回&gt;0，等于返回0，小于则返回&lt;0。</strong></p> 
<p>列如：</p> 
<ul><li>当串长度不同时：“aabc”&gt;“abbca”，“aaa”&lt;“aaab”。</li><li>当串长度相同时：“acbc”&gt;“bcbc”，“acac”=“acac”。</li></ul> 
<h4><a id="81__292"></a>8.1. 顺序串</h4> 
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">StrCmp</span><span class="token punctuation">(</span>Sstring<span class="token operator">*</span> s<span class="token punctuation">,</span> Sstring<span class="token operator">*</span> t<span class="token punctuation">)</span><span class="token comment">//比较两个串</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>s <span class="token operator">&amp;&amp;</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">char</span><span class="token operator">*</span> p1 <span class="token operator">=</span> s<span class="token operator">-&gt;</span>data<span class="token punctuation">;</span>
	<span class="token keyword">char</span><span class="token operator">*</span> p2 <span class="token operator">=</span> t<span class="token operator">-&gt;</span>data<span class="token punctuation">;</span>
	<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> s<span class="token operator">-&gt;</span>length <span class="token operator">&amp;&amp;</span> i <span class="token operator">&lt;</span> t<span class="token operator">-&gt;</span>length <span class="token operator">&amp;&amp;</span> p1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> p2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		i<span class="token operator">++</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> s<span class="token operator">-&gt;</span>length<span class="token operator">&amp;&amp;</span>i<span class="token operator">==</span>t<span class="token operator">-&gt;</span>length<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> s<span class="token operator">-&gt;</span>length <span class="token operator">&amp;&amp;</span> i <span class="token operator">!=</span> t<span class="token operator">-&gt;</span>length<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">!=</span> s<span class="token operator">-&gt;</span>length <span class="token operator">&amp;&amp;</span> i <span class="token operator">==</span> t<span class="token operator">-&gt;</span>length<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> p1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> p2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="82__321"></a>8.2. 链式串</h4> 
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">StrCmp</span><span class="token punctuation">(</span>LinkStrNode<span class="token operator">*</span> s<span class="token punctuation">,</span> LinkStrNode<span class="token operator">*</span> t<span class="token punctuation">)</span><span class="token comment">//比较两个串</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>s<span class="token operator">&amp;&amp;</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>
	LinkStrNode<span class="token operator">*</span> p <span class="token operator">=</span> s<span class="token operator">-&gt;</span>next<span class="token punctuation">,</span> <span class="token operator">*</span> q <span class="token operator">=</span> t<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>p <span class="token operator">!=</span> <span class="token constant">NULL</span> <span class="token operator">&amp;&amp;</span> q <span class="token operator">!=</span> <span class="token constant">NULL</span> <span class="token operator">&amp;&amp;</span> p<span class="token operator">-&gt;</span>data <span class="token operator">==</span> q<span class="token operator">-&gt;</span>data<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		p <span class="token operator">=</span> p<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
		q <span class="token operator">=</span> q<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>p <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token operator">&amp;&amp;</span>q <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>		
		<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>p <span class="token operator">==</span> <span class="token constant">NULL</span> <span class="token operator">&amp;&amp;</span> q <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>p <span class="token operator">!=</span> <span class="token constant">NULL</span> <span class="token operator">&amp;&amp;</span> q <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> p<span class="token operator">-&gt;</span>data <span class="token operator">-</span> q<span class="token operator">-&gt;</span>data<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="83__347"></a>8.3. 复杂度分析</h4> 
<ul><li>时间复杂度：无论是链式串还是顺序串都可能遍历整个串，所以时间复杂度可以视为O(N)</li><li>空间复杂度：无论是顺序串还是链式串花费空间是一个常数，所以空间复杂度为O(1)。</li></ul> 
<h3><a id="9__354"></a>9. 返回串的长度</h3> 
<h4><a id="91__356"></a>9.1. 顺序串</h4> 
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">StrLength</span><span class="token punctuation">(</span>Sstring<span class="token operator">*</span> s<span class="token punctuation">)</span><span class="token comment">//返回串的长度</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> s<span class="token operator">-&gt;</span>length<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="92__366"></a>9.2. 链式串</h4> 
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">StrLength</span><span class="token punctuation">(</span>LinkStrNode<span class="token operator">*</span> s<span class="token punctuation">)</span><span class="token comment">//返回串的长度</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	LinkStrNode<span class="token operator">*</span> p <span class="token operator">=</span> s<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>p <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		count<span class="token operator">++</span><span class="token punctuation">;</span>
		p <span class="token operator">=</span> p<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> count<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="93__383"></a>9.3. 复杂度分析</h4> 
<ul><li>时间复杂度：顺序串是一个常数，所以时间复杂度为O(1)。但是链式串需要遍历整个串，所以为O(N)。</li><li>空间复杂度：无论是顺序串还是链式串花费空间是一个常数，所以空间复杂度为O(1)。</li></ul> 
<h3><a id="10__390"></a>10. 链接两个串</h3> 
<p>链接两个串十分简单，首先找个一个串的末尾，然后再链接即可。</p> 
<h4><a id="101__394"></a>10.1. 顺序串</h4> 
<p>链接两个串也需要判断该串是否需要扩容。</p> 
<pre><code class="prism language-c">Sstring <span class="token function">Strcat</span><span class="token punctuation">(</span>Sstring<span class="token operator">*</span> s<span class="token punctuation">,</span> Sstring<span class="token operator">*</span> t<span class="token punctuation">)</span><span class="token comment">//链接两个串</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>s <span class="token operator">&amp;&amp;</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> len <span class="token operator">=</span> t<span class="token operator">-&gt;</span>length<span class="token punctuation">;</span>
	<span class="token function">CheckCapacity</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> s<span class="token operator">-&gt;</span>length<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> s<span class="token operator">-&gt;</span>length <span class="token operator">+</span> t<span class="token operator">-&gt;</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		s<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> t<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span>i <span class="token operator">-</span> s<span class="token operator">-&gt;</span>length<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	s<span class="token operator">-&gt;</span>length <span class="token operator">=</span> s<span class="token operator">-&gt;</span>length <span class="token operator">+</span> t<span class="token operator">-&gt;</span>length<span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token operator">*</span>s<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="102__413"></a>10.2. 链式串</h4> 
<pre><code class="prism language-c">LinkStrNode<span class="token operator">*</span><span class="token function">Strcat</span><span class="token punctuation">(</span>LinkStrNode<span class="token operator">*</span> s<span class="token punctuation">,</span> LinkStrNode<span class="token operator">*</span> t<span class="token punctuation">)</span><span class="token comment">//链接两个串</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>s <span class="token operator">&amp;&amp;</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span>
	LinkStrNode<span class="token operator">*</span> p <span class="token operator">=</span> s<span class="token operator">-&gt;</span>next<span class="token punctuation">,</span> <span class="token operator">*</span> q <span class="token operator">=</span> t<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>p<span class="token operator">-&gt;</span>next <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		p <span class="token operator">=</span> p<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	LinkStrNode<span class="token operator">*</span> str1 <span class="token operator">=</span> p<span class="token punctuation">,</span><span class="token operator">*</span>str2<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>q <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		str2 <span class="token operator">=</span> <span class="token function">BuyListNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		str2<span class="token operator">-&gt;</span>data <span class="token operator">=</span>q<span class="token operator">-&gt;</span>data<span class="token punctuation">;</span>

		str1<span class="token operator">-&gt;</span>next <span class="token operator">=</span> str2<span class="token punctuation">;</span>
		str1 <span class="token operator">=</span> str2<span class="token punctuation">;</span>

		q <span class="token operator">=</span> q<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	str1<span class="token operator">-&gt;</span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> s<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="103__440"></a>10.3. 复杂度分析</h4> 
<ul><li>时间复杂度：无论是顺序串还是链式串都需要遍历两个串，所以时间复杂度为O(N)。</li><li>空间复杂度：顺序串可能会扩容，链式串需要开辟等量节点，所以空间复杂度为O(N)</li></ul> 
<h3><a id="11__447"></a>11. 取子串</h3> 
<p>我们通过传入的目标位置与长度来截取一段子串返回，如果长度过大则截取后续所有字符。</p> 
<h4><a id="111__451"></a>11.1. 顺序串</h4> 
<pre><code class="prism language-c">Sstring <span class="token function">SubStr</span><span class="token punctuation">(</span>Sstring<span class="token operator">*</span> s<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">,</span> <span class="token keyword">int</span> len<span class="token punctuation">)</span><span class="token comment">//取子串</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>i <span class="token operator">&lt;</span> s<span class="token operator">-&gt;</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
	Sstring str<span class="token punctuation">;</span>
	str<span class="token punctuation">.</span>data <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span> <span class="token operator">*</span> s<span class="token operator">-&gt;</span>capacity<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>str<span class="token punctuation">.</span>data <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"malloc fail"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> <span class="token operator">*</span>s<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	str<span class="token punctuation">.</span>capacity <span class="token operator">=</span> s<span class="token operator">-&gt;</span>capacity<span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">+</span> len <span class="token operator">&gt;=</span> s<span class="token operator">-&gt;</span>length<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> pos <span class="token operator">=</span> i<span class="token punctuation">;</span> pos <span class="token operator">&lt;</span> s<span class="token operator">-&gt;</span>length<span class="token punctuation">;</span> pos<span class="token operator">++</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			str<span class="token punctuation">.</span>data<span class="token punctuation">[</span>pos<span class="token operator">-</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> s<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span>pos<span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		str<span class="token punctuation">.</span>length <span class="token operator">=</span> s<span class="token operator">-&gt;</span>length <span class="token operator">-</span> i<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">else</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> pos <span class="token operator">=</span> i<span class="token punctuation">;</span> pos <span class="token operator">&lt;</span> i<span class="token operator">+</span>len<span class="token punctuation">;</span> pos<span class="token operator">++</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			str<span class="token punctuation">.</span>data<span class="token punctuation">[</span>pos <span class="token operator">-</span> i<span class="token punctuation">]</span> <span class="token operator">=</span> s<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span>pos<span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		str<span class="token punctuation">.</span>length <span class="token operator">=</span> len<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> str<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="112__486"></a>11.2. 链式串</h4> 
<pre><code class="prism language-c">LinkStrNode<span class="token operator">*</span><span class="token function">SubStr</span><span class="token punctuation">(</span>LinkStrNode<span class="token operator">*</span> s<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">,</span> <span class="token keyword">int</span> len<span class="token punctuation">)</span><span class="token comment">//取子串</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation">(</span>i <span class="token operator">&lt;=</span> <span class="token function">StrLength</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	LinkStrNode<span class="token operator">*</span> r<span class="token punctuation">,</span> <span class="token operator">*</span> p<span class="token punctuation">;</span>
	p <span class="token operator">=</span> s<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span><span class="token comment">//跳过头节点</span>
	r <span class="token operator">=</span> <span class="token function">BuyListNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>p <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token comment">//找到第i个位置</span>
	<span class="token punctuation">{<!-- --></span>
		count<span class="token operator">++</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">==</span> i<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		p <span class="token operator">=</span> p<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	LinkStrNode<span class="token operator">*</span> str1<span class="token operator">=</span>r<span class="token punctuation">,</span><span class="token operator">*</span>str2<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>len<span class="token operator">--</span><span class="token operator">&amp;&amp;</span>p<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		str2 <span class="token operator">=</span> <span class="token function">BuyListNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		str2<span class="token operator">-&gt;</span>data <span class="token operator">=</span> p<span class="token operator">-&gt;</span>data<span class="token punctuation">;</span>
		str1<span class="token operator">-&gt;</span>next <span class="token operator">=</span> str2<span class="token punctuation">;</span>
		str1 <span class="token operator">=</span> str2<span class="token punctuation">;</span>
		p <span class="token operator">=</span> p<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	str1<span class="token operator">-&gt;</span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token comment">//末尾置空</span>
	<span class="token keyword">return</span> r<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="113__520"></a>11.3. 复杂度分析</h4> 
<ul><li>时间复杂度：都可能遍历整个串，所以时间复杂度为O(N)。</li><li>空间复杂度：都需要开辟len个大小的空间，所以空间复杂度可以视为O(N)。</li></ul> 
<h3><a id="12__527"></a>12. 指定位置插入</h3> 
<h4><a id="121__529"></a>12.1. 顺序串</h4> 
<p>指定位置插入也许检查是否扩容，然后指定位置后续字符移动<code>len</code>个单位。</p> 
<p><img src="https://images2.imgbox.com/d2/31/Xgez3qfw_o.jpg" alt="img"></p> 
<p><img src="https://images2.imgbox.com/e1/9c/bWLLJeXS_o.jpg" alt="img"></p> 
<pre><code class="prism language-c">Sstring <span class="token function">InsStr</span><span class="token punctuation">(</span>Sstring<span class="token operator">*</span> s1<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">,</span> Sstring<span class="token operator">*</span> s2<span class="token punctuation">)</span><span class="token comment">//指定位置插入</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>s1 <span class="token operator">&amp;&amp;</span> s2<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation">(</span>i <span class="token operator">&lt;</span> s1<span class="token operator">-&gt;</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> len <span class="token operator">=</span> s2<span class="token operator">-&gt;</span>length<span class="token punctuation">;</span>
	<span class="token function">CheckCapacity</span><span class="token punctuation">(</span>s1<span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> pos <span class="token operator">=</span> s1<span class="token operator">-&gt;</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> pos <span class="token operator">&gt;=</span> i<span class="token punctuation">;</span> pos<span class="token operator">--</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		s1<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span>pos <span class="token operator">+</span> len<span class="token punctuation">]</span> <span class="token operator">=</span> s1<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span>pos<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> pos <span class="token operator">=</span> i<span class="token punctuation">;</span> pos <span class="token operator">&lt;</span> i <span class="token operator">+</span> len<span class="token punctuation">;</span> pos<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		s1<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span>pos<span class="token punctuation">]</span> <span class="token operator">=</span> s2<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span>pos <span class="token operator">-</span> i<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	s1<span class="token operator">-&gt;</span>length <span class="token operator">+=</span> len<span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token operator">*</span>s1<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="122__561"></a>12.2. 链式串</h4> 
<pre><code class="prism language-c">LinkStrNode<span class="token operator">*</span><span class="token function">InsStr</span><span class="token punctuation">(</span>LinkStrNode<span class="token operator">*</span> s1<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">,</span> LinkStrNode<span class="token operator">*</span> s2<span class="token punctuation">)</span><span class="token comment">//指定位置插入</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>s1<span class="token operator">&amp;&amp;</span>s2<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation">(</span>i <span class="token operator">&lt;=</span> <span class="token function">StrLength</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	LinkStrNode<span class="token operator">*</span> r<span class="token punctuation">,</span> <span class="token operator">*</span> p<span class="token punctuation">,</span><span class="token operator">*</span>q<span class="token punctuation">;</span>
	q<span class="token operator">=</span>p <span class="token operator">=</span> s1<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span><span class="token comment">//q为i之前的位置</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>p <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token comment">//找到第i个位置</span>
	<span class="token punctuation">{<!-- --></span>
		count<span class="token operator">++</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">==</span> i<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		q <span class="token operator">=</span> p<span class="token punctuation">;</span><span class="token comment">//记录前一个位置</span>
		p <span class="token operator">=</span> p<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	r <span class="token operator">=</span> q<span class="token punctuation">;</span>
	LinkStrNode<span class="token operator">*</span> str<span class="token punctuation">;</span>
	LinkStrNode<span class="token operator">*</span> ptr<span class="token operator">=</span>s2<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span><span class="token comment">//跳过头节点</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>ptr <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		str <span class="token operator">=</span> <span class="token function">BuyListNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		str<span class="token operator">-&gt;</span>data <span class="token operator">=</span> ptr<span class="token operator">-&gt;</span>data<span class="token punctuation">;</span>
		r<span class="token operator">-&gt;</span>next <span class="token operator">=</span> str<span class="token punctuation">;</span>
		r <span class="token operator">=</span> str<span class="token punctuation">;</span>
		ptr <span class="token operator">=</span> ptr<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	r<span class="token operator">-&gt;</span>next<span class="token operator">=</span> p<span class="token punctuation">;</span><span class="token comment">//链接</span>
	<span class="token keyword">return</span> s1<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="123__597"></a>12.3. 复杂度分析</h4> 
<ul><li>时间复杂度：顺序串需要移动覆盖，链式串需要寻找目标位置，时间复杂度都可以视为O(N)。</li><li>空间复杂度：顺序串可能扩容，链式串需要开辟等量空间，空间复杂度都可以视为O(N)。</li></ul> 
<h3><a id="13__604"></a>13. 指定删除子串</h3> 
<h4><a id="131__606"></a>13.1. 顺序串</h4> 
<p>如果删除的长度过长，只需要修改串的<code>length</code>。否则需要从前往后覆盖。</p> 
<pre><code class="prism language-c">Sstring <span class="token function">DelStr</span><span class="token punctuation">(</span>Sstring<span class="token operator">*</span> s<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">,</span> <span class="token keyword">int</span> len<span class="token punctuation">)</span><span class="token comment">//指定删除子串</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>i <span class="token operator">&lt;</span> s<span class="token operator">-&gt;</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">+</span> len <span class="token operator">&gt;=</span>s<span class="token operator">-&gt;</span>length<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		s<span class="token operator">-&gt;</span>length <span class="token operator">=</span> i <span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">else</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> pos <span class="token operator">=</span> i<span class="token operator">+</span>len<span class="token punctuation">;</span> pos <span class="token operator">&lt;</span>s<span class="token operator">-&gt;</span>length<span class="token punctuation">;</span> pos<span class="token operator">++</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			s<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span>pos<span class="token operator">-</span>len<span class="token punctuation">]</span> <span class="token operator">=</span> s<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span>pos<span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		s<span class="token operator">-&gt;</span>length <span class="token operator">-=</span> len<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> <span class="token operator">*</span>s<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="132__631"></a>13.2. 链式串</h4> 
<pre><code class="prism language-c">LinkStrNode<span class="token operator">*</span> <span class="token function">DelStr</span><span class="token punctuation">(</span>LinkStrNode<span class="token operator">*</span> s<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">,</span> <span class="token keyword">int</span> len<span class="token punctuation">)</span><span class="token comment">//指定删除子串</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation">(</span>i <span class="token operator">&lt;</span> <span class="token function">StrLength</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	LinkStrNode<span class="token operator">*</span> r<span class="token punctuation">,</span> <span class="token operator">*</span> p<span class="token punctuation">;</span>
	p <span class="token operator">=</span> s<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	r <span class="token operator">=</span> p<span class="token punctuation">;</span><span class="token comment">//r为前一个节点</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>p <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		count<span class="token operator">++</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">==</span> i<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		r <span class="token operator">=</span> p<span class="token punctuation">;</span>
		p <span class="token operator">=</span> p<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>len<span class="token operator">--</span> <span class="token operator">&amp;&amp;</span> p <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		LinkStrNode<span class="token operator">*</span> str <span class="token operator">=</span> p<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
		<span class="token function">free</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>
		p <span class="token operator">=</span> str<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	r<span class="token operator">-&gt;</span>next <span class="token operator">=</span> p<span class="token punctuation">;</span>
	<span class="token keyword">return</span> s<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="133__663"></a>13.3. 复杂度分析</h4> 
<ul><li>时间复杂度：顺序串可能需要移动覆盖，链式串需要寻找目标位置，时间复杂度都可以视为O(N)。</li><li>空间复杂度：顺序串与链式串都不需要开辟格外空间，空间复杂度都可以视为O(1)。</li></ul> 
<h3><a id="14__670"></a>14. 串的打印</h3> 
<h4><a id="141__672"></a>14.1. 顺序串</h4> 
<pre><code class="prism language-c"><span class="token keyword">void</span> <span class="token function">PrintStr</span><span class="token punctuation">(</span>Sstring<span class="token operator">*</span> s<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">char</span><span class="token operator">*</span> p <span class="token operator">=</span> s<span class="token operator">-&gt;</span>data<span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> s<span class="token operator">-&gt;</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%c"</span><span class="token punctuation">,</span> p<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="142__687"></a>14.2. 链式串</h4> 
<pre><code class="prism language-c"><span class="token keyword">void</span> <span class="token function">PrintStr</span><span class="token punctuation">(</span>LinkStrNode<span class="token operator">*</span> s<span class="token punctuation">)</span><span class="token comment">//打印</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
	LinkStrNode<span class="token operator">*</span> p <span class="token operator">=</span> s<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>p <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%c"</span><span class="token punctuation">,</span> p<span class="token operator">-&gt;</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
		p <span class="token operator">=</span> p<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="143__703"></a>14.3. 复杂度分析</h4> 
<ul><li>时间复杂度：无论是顺序串还是链式串都需要遍历整个串，所以时间复杂度为O(N)。</li><li>空间复杂度：顺序串与链式串都不需要开辟格外空间，空间复杂度都可以视为O(1)。</li></ul> 
<h3><a id="15__710"></a>15. 串的销毁</h3> 
<h4><a id="151__712"></a>15.1. 顺序串</h4> 
<pre><code class="prism language-c"><span class="token keyword">void</span> <span class="token function">StrDestroy</span><span class="token punctuation">(</span>Sstring<span class="token operator">*</span> s<span class="token punctuation">)</span><span class="token comment">//销毁串</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">free</span><span class="token punctuation">(</span>s<span class="token operator">-&gt;</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
	s<span class="token operator">-&gt;</span>data <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	s<span class="token operator">-&gt;</span>length <span class="token operator">=</span> s<span class="token operator">-&gt;</span>capacity <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="152__723"></a>15.2. 链式串</h4> 
<pre><code class="prism language-c"><span class="token keyword">void</span> <span class="token function">DestroyStr</span><span class="token punctuation">(</span>LinkStrNode<span class="token operator">*</span> s<span class="token punctuation">)</span><span class="token comment">//销毁</span>
<span class="token punctuation">{<!-- --></span>
	LinkStrNode<span class="token operator">*</span> pre <span class="token operator">=</span> s<span class="token punctuation">,</span> <span class="token operator">*</span> p <span class="token operator">=</span> s<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>p <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">free</span><span class="token punctuation">(</span>pre<span class="token punctuation">)</span><span class="token punctuation">;</span>
		pre <span class="token operator">=</span> p<span class="token punctuation">;</span>
		p <span class="token operator">=</span> p<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">free</span><span class="token punctuation">(</span>pre<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="153__739"></a>15.3. 复杂度分析</h4> 
<ul><li>时间复杂度：顺序串消耗时间固定，时间复杂度为O(1)。链式串需要遍历这个串，时间复杂度为O(N)</li><li>空间复杂度：顺序串与链式串都不需要开辟格外空间，空间复杂度都可以视为O(1)。</li></ul> 
<h3><a id="16__746"></a>16. 对比与应用</h3> 
<h4><a id="161__748"></a>16.1. 对比</h4> 
<p>因为串也是一种顺序表，所以无论是顺序表还是链式串的优劣都与顺序表与链表差不多。这里就不在赘述。</p> 
<h4><a id="162__752"></a>16.2. 应用</h4> 
<p>串在计算机领域有着广泛的应用：</p> 
<blockquote> 
 <ol><li>**文本处理：**文本编辑器或处理器中，文本被表示为一个字符串，可以进行查找、替换、插入、删除等操作</li><li><strong>加密和安全</strong>：加密算法中经常使用字符串表示数据，例如对称加密和非对称加密中的密钥和明文。</li></ol> 
</blockquote> 
<h3><a id="17__761"></a>17. 完整代码</h3> 
<h4><a id="171__763"></a>17.1. 顺序串</h4> 
<h5><a id="1711_Sstringh_765"></a>17.1.1. Sstring.h</h5> 
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdlib.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdbool.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;assert.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;string.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">MAXSIZE</span> <span class="token expression"><span class="token number">50</span></span></span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">string</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">char</span> <span class="token operator">*</span>data<span class="token punctuation">;</span>
	<span class="token keyword">int</span> length<span class="token punctuation">;</span>
	<span class="token keyword">int</span> capacity<span class="token punctuation">;</span>
<span class="token punctuation">}</span>Sstring<span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">StrInit</span><span class="token punctuation">(</span>Sstring<span class="token operator">*</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//初始化串</span>
<span class="token keyword">void</span> <span class="token function">StrAssign</span><span class="token punctuation">(</span>Sstring<span class="token operator">*</span> s<span class="token punctuation">,</span> <span class="token keyword">char</span> str<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//生成串</span>
<span class="token keyword">void</span> <span class="token function">StrCopy</span><span class="token punctuation">(</span>Sstring<span class="token operator">*</span> s<span class="token punctuation">,</span> Sstring<span class="token operator">*</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//复制串</span>
<span class="token keyword">int</span> <span class="token function">StrCmp</span><span class="token punctuation">(</span>Sstring<span class="token operator">*</span>s<span class="token punctuation">,</span> Sstring<span class="token operator">*</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//比较两个串</span>
<span class="token keyword">int</span> <span class="token function">StrLength</span><span class="token punctuation">(</span>Sstring<span class="token operator">*</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//返回串的长度</span>
Sstring <span class="token function">Strcat</span><span class="token punctuation">(</span>Sstring<span class="token operator">*</span>s<span class="token punctuation">,</span> Sstring<span class="token operator">*</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//链接两个串</span>
Sstring <span class="token function">SubStr</span><span class="token punctuation">(</span>Sstring<span class="token operator">*</span> s<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">,</span> <span class="token keyword">int</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//取子串</span>
Sstring <span class="token function">InsStr</span><span class="token punctuation">(</span>Sstring<span class="token operator">*</span> s1<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">,</span> Sstring<span class="token operator">*</span> s2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//指定位置插入</span>
Sstring <span class="token function">DelStr</span><span class="token punctuation">(</span>Sstring<span class="token operator">*</span> s<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">,</span> <span class="token keyword">int</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//指定删除子串</span>
<span class="token keyword">void</span> <span class="token function">PrintStr</span><span class="token punctuation">(</span>Sstring<span class="token operator">*</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//打印</span>
<span class="token keyword">void</span> <span class="token function">StrDestroy</span><span class="token punctuation">(</span>Sstring<span class="token operator">*</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//销毁串</span>
</code></pre> 
<h5><a id="1712_Sstringc_793"></a>17.1.2. Sstring.c</h5> 
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">_CRT_SECURE_NO_WARNINGS</span> <span class="token expression"><span class="token number">1</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">"Sstring.h"</span></span>
<span class="token keyword">void</span> <span class="token function">CheckCapacity</span><span class="token punctuation">(</span>Sstring<span class="token operator">*</span> s<span class="token punctuation">,</span> <span class="token keyword">int</span> len<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token operator">-&gt;</span>length <span class="token operator">+</span> len <span class="token operator">&gt;</span> s<span class="token operator">-&gt;</span>capacity<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">char</span><span class="token operator">*</span> tmp <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">realloc</span><span class="token punctuation">(</span>s<span class="token operator">-&gt;</span>data<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>s<span class="token operator">-&gt;</span>length <span class="token operator">+</span> len<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>tmp <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"realloc fail"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		s<span class="token operator">-&gt;</span>data <span class="token operator">=</span> tmp<span class="token punctuation">;</span>
		s<span class="token operator">-&gt;</span>capacity <span class="token operator">=</span> MAXSIZE <span class="token operator">+</span> len<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">StrInit</span><span class="token punctuation">(</span>Sstring<span class="token operator">*</span> s<span class="token punctuation">)</span><span class="token comment">//初始化串</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">char</span> <span class="token operator">*</span>arr <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span> <span class="token operator">*</span> MAXSIZE<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>arr <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"malloc fail"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	s<span class="token operator">-&gt;</span>data <span class="token operator">=</span> arr<span class="token punctuation">;</span>
	s<span class="token operator">-&gt;</span>length <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	s<span class="token operator">-&gt;</span>capacity <span class="token operator">=</span> MAXSIZE<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">StrAssign</span><span class="token punctuation">(</span>Sstring<span class="token operator">*</span> s<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span>str<span class="token punctuation">)</span><span class="token comment">//生成串</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>s <span class="token operator">&amp;&amp;</span> str<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> len <span class="token operator">=</span> <span class="token function">strlen</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">CheckCapacity</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> str<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token char">'\0'</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		s<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> str<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	s<span class="token operator">-&gt;</span>length <span class="token operator">=</span> len<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">StrCopy</span><span class="token punctuation">(</span>Sstring<span class="token operator">*</span> s<span class="token punctuation">,</span> Sstring<span class="token operator">*</span> t<span class="token punctuation">)</span><span class="token comment">//复制串</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>s <span class="token operator">&amp;&amp;</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token operator">-&gt;</span>capacity <span class="token operator">&lt;</span> t<span class="token operator">-&gt;</span>capacity<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">char</span><span class="token operator">*</span> tmp <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">realloc</span><span class="token punctuation">(</span>s<span class="token operator">-&gt;</span>data<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span> <span class="token operator">*</span> t<span class="token operator">-&gt;</span>capacity<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>tmp <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"realloc fail"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		s<span class="token operator">-&gt;</span>data <span class="token operator">=</span> tmp<span class="token punctuation">;</span>
		s<span class="token operator">-&gt;</span>capacity <span class="token operator">=</span> t<span class="token operator">-&gt;</span>capacity<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> t<span class="token operator">-&gt;</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		s<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> t<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	s<span class="token operator">-&gt;</span>length <span class="token operator">=</span> s<span class="token operator">-&gt;</span>length <span class="token operator">&gt;</span> t<span class="token operator">-&gt;</span>length <span class="token operator">?</span> s<span class="token operator">-&gt;</span>length <span class="token operator">:</span> t<span class="token operator">-&gt;</span>length<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">StrCmp</span><span class="token punctuation">(</span>Sstring<span class="token operator">*</span> s<span class="token punctuation">,</span> Sstring<span class="token operator">*</span> t<span class="token punctuation">)</span><span class="token comment">//比较两个串</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>s <span class="token operator">&amp;&amp;</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">char</span><span class="token operator">*</span> p1 <span class="token operator">=</span> s<span class="token operator">-&gt;</span>data<span class="token punctuation">;</span>
	<span class="token keyword">char</span><span class="token operator">*</span> p2 <span class="token operator">=</span> t<span class="token operator">-&gt;</span>data<span class="token punctuation">;</span>
	<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> s<span class="token operator">-&gt;</span>length <span class="token operator">&amp;&amp;</span> i <span class="token operator">&lt;</span> t<span class="token operator">-&gt;</span>length <span class="token operator">&amp;&amp;</span> p1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> p2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		i<span class="token operator">++</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> s<span class="token operator">-&gt;</span>length<span class="token operator">&amp;&amp;</span>i<span class="token operator">==</span>t<span class="token operator">-&gt;</span>length<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> s<span class="token operator">-&gt;</span>length <span class="token operator">&amp;&amp;</span> i <span class="token operator">!=</span> t<span class="token operator">-&gt;</span>length<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">!=</span> s<span class="token operator">-&gt;</span>length <span class="token operator">&amp;&amp;</span> i <span class="token operator">==</span> t<span class="token operator">-&gt;</span>length<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> p1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> p2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">StrLength</span><span class="token punctuation">(</span>Sstring<span class="token operator">*</span> s<span class="token punctuation">)</span><span class="token comment">//返回串的长度</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> s<span class="token operator">-&gt;</span>length<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
Sstring <span class="token function">Strcat</span><span class="token punctuation">(</span>Sstring<span class="token operator">*</span> s<span class="token punctuation">,</span> Sstring<span class="token operator">*</span> t<span class="token punctuation">)</span><span class="token comment">//链接两个串</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>s <span class="token operator">&amp;&amp;</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> len <span class="token operator">=</span> t<span class="token operator">-&gt;</span>length<span class="token punctuation">;</span>
	<span class="token function">CheckCapacity</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> s<span class="token operator">-&gt;</span>length<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> s<span class="token operator">-&gt;</span>length <span class="token operator">+</span> t<span class="token operator">-&gt;</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		s<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> t<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span>i <span class="token operator">-</span> s<span class="token operator">-&gt;</span>length<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	s<span class="token operator">-&gt;</span>length <span class="token operator">=</span> s<span class="token operator">-&gt;</span>length <span class="token operator">+</span> t<span class="token operator">-&gt;</span>length<span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token operator">*</span>s<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
Sstring <span class="token function">SubStr</span><span class="token punctuation">(</span>Sstring<span class="token operator">*</span> s<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">,</span> <span class="token keyword">int</span> len<span class="token punctuation">)</span><span class="token comment">//取子串</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>i <span class="token operator">&lt;</span> s<span class="token operator">-&gt;</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
	Sstring str<span class="token punctuation">;</span>
	str<span class="token punctuation">.</span>data <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span> <span class="token operator">*</span> s<span class="token operator">-&gt;</span>capacity<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>str<span class="token punctuation">.</span>data <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"malloc fail"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> <span class="token operator">*</span>s<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	str<span class="token punctuation">.</span>capacity <span class="token operator">=</span> s<span class="token operator">-&gt;</span>capacity<span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">+</span> len <span class="token operator">&gt;=</span> s<span class="token operator">-&gt;</span>length<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> pos <span class="token operator">=</span> i<span class="token punctuation">;</span> pos <span class="token operator">&lt;</span> s<span class="token operator">-&gt;</span>length<span class="token punctuation">;</span> pos<span class="token operator">++</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			str<span class="token punctuation">.</span>data<span class="token punctuation">[</span>pos<span class="token operator">-</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> s<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span>pos<span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		str<span class="token punctuation">.</span>length <span class="token operator">=</span> s<span class="token operator">-&gt;</span>length <span class="token operator">-</span> i<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">else</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> pos <span class="token operator">=</span> i<span class="token punctuation">;</span> pos <span class="token operator">&lt;</span> i<span class="token operator">+</span>len<span class="token punctuation">;</span> pos<span class="token operator">++</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			str<span class="token punctuation">.</span>data<span class="token punctuation">[</span>pos <span class="token operator">-</span> i<span class="token punctuation">]</span> <span class="token operator">=</span> s<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span>pos<span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		str<span class="token punctuation">.</span>length <span class="token operator">=</span> len<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> str<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
Sstring <span class="token function">InsStr</span><span class="token punctuation">(</span>Sstring<span class="token operator">*</span> s1<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">,</span> Sstring<span class="token operator">*</span> s2<span class="token punctuation">)</span><span class="token comment">//指定位置插入</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>s1 <span class="token operator">&amp;&amp;</span> s2<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation">(</span>i <span class="token operator">&lt;</span> s1<span class="token operator">-&gt;</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> len <span class="token operator">=</span> s2<span class="token operator">-&gt;</span>length<span class="token punctuation">;</span>
	<span class="token function">CheckCapacity</span><span class="token punctuation">(</span>s1<span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> pos <span class="token operator">=</span> s1<span class="token operator">-&gt;</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> pos <span class="token operator">&gt;=</span> i<span class="token punctuation">;</span> pos<span class="token operator">--</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		s1<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span>pos <span class="token operator">+</span> len<span class="token punctuation">]</span> <span class="token operator">=</span> s1<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span>pos<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> pos <span class="token operator">=</span> i<span class="token punctuation">;</span> pos <span class="token operator">&lt;</span> i <span class="token operator">+</span> len<span class="token punctuation">;</span> pos<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		s1<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span>pos<span class="token punctuation">]</span> <span class="token operator">=</span> s2<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span>pos <span class="token operator">-</span> i<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	s1<span class="token operator">-&gt;</span>length <span class="token operator">+=</span> len<span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token operator">*</span>s1<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
Sstring <span class="token function">DelStr</span><span class="token punctuation">(</span>Sstring<span class="token operator">*</span> s<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">,</span> <span class="token keyword">int</span> len<span class="token punctuation">)</span><span class="token comment">//指定删除子串</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>i <span class="token operator">&lt;</span> s<span class="token operator">-&gt;</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">+</span> len <span class="token operator">&gt;=</span>s<span class="token operator">-&gt;</span>length<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		s<span class="token operator">-&gt;</span>length <span class="token operator">=</span> i <span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">else</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> pos <span class="token operator">=</span> i<span class="token operator">+</span>len<span class="token punctuation">;</span> pos <span class="token operator">&lt;</span>s<span class="token operator">-&gt;</span>length<span class="token punctuation">;</span> pos<span class="token operator">++</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			s<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span>pos<span class="token operator">-</span>len<span class="token punctuation">]</span> <span class="token operator">=</span> s<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span>pos<span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		s<span class="token operator">-&gt;</span>length <span class="token operator">-=</span> len<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> <span class="token operator">*</span>s<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">PrintStr</span><span class="token punctuation">(</span>Sstring<span class="token operator">*</span> s<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">char</span><span class="token operator">*</span> p <span class="token operator">=</span> s<span class="token operator">-&gt;</span>data<span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> s<span class="token operator">-&gt;</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%c"</span><span class="token punctuation">,</span> p<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">StrDestroy</span><span class="token punctuation">(</span>Sstring<span class="token operator">*</span> s<span class="token punctuation">)</span><span class="token comment">//销毁串</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">free</span><span class="token punctuation">(</span>s<span class="token operator">-&gt;</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
	s<span class="token operator">-&gt;</span>data <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	s<span class="token operator">-&gt;</span>length <span class="token operator">=</span> s<span class="token operator">-&gt;</span>capacity <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="172__982"></a>17.2. 链式串</h4> 
<h5><a id="1721_Sstringh_984"></a>17.2.1. Sstring.h</h5> 
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdlib.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdbool.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;assert.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;string.h&gt;</span></span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">snode</span> 
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">char</span> data<span class="token punctuation">;</span>
	<span class="token keyword">struct</span> <span class="token class-name">snode</span><span class="token operator">*</span> next<span class="token punctuation">;</span>
<span class="token punctuation">}</span>LinkStrNode<span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">StrInit</span><span class="token punctuation">(</span>LinkStrNode<span class="token operator">*</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//初始化串</span>
<span class="token keyword">void</span> <span class="token function">StrAssign</span><span class="token punctuation">(</span>LinkStrNode<span class="token operator">*</span><span class="token operator">*</span>s<span class="token punctuation">,</span> <span class="token keyword">char</span> str<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//生成串</span>
<span class="token keyword">void</span> <span class="token function">StrCopy</span><span class="token punctuation">(</span>LinkStrNode<span class="token operator">*</span><span class="token operator">*</span>s<span class="token punctuation">,</span> LinkStrNode<span class="token operator">*</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//复制串</span>
<span class="token keyword">int</span> <span class="token function">StrCmp</span><span class="token punctuation">(</span>LinkStrNode<span class="token operator">*</span>s<span class="token punctuation">,</span> LinkStrNode<span class="token operator">*</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//比较两个串</span>
<span class="token keyword">int</span> <span class="token function">StrLength</span><span class="token punctuation">(</span>LinkStrNode<span class="token operator">*</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//返回串的长度</span>
LinkStrNode<span class="token operator">*</span><span class="token function">Strcat</span><span class="token punctuation">(</span>LinkStrNode<span class="token operator">*</span>s<span class="token punctuation">,</span> LinkStrNode<span class="token operator">*</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//链接两个串</span>
LinkStrNode<span class="token operator">*</span><span class="token function">SubStr</span><span class="token punctuation">(</span>LinkStrNode<span class="token operator">*</span> s<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">,</span> <span class="token keyword">int</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//取子串</span>
LinkStrNode<span class="token operator">*</span><span class="token function">InsStr</span><span class="token punctuation">(</span>LinkStrNode<span class="token operator">*</span> s1<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">,</span> LinkStrNode<span class="token operator">*</span> s2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//指定位置插入</span>
LinkStrNode<span class="token operator">*</span><span class="token function">DelStr</span><span class="token punctuation">(</span>LinkStrNode<span class="token operator">*</span> s<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">,</span> <span class="token keyword">int</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//指定删除子串</span>
<span class="token keyword">void</span> <span class="token function">PrintStr</span><span class="token punctuation">(</span>LinkStrNode<span class="token operator">*</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//打印</span>
<span class="token keyword">void</span> <span class="token function">DestroyStr</span><span class="token punctuation">(</span>LinkStrNode<span class="token operator">*</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//销毁串</span>
</code></pre> 
<h5><a id="1722_Sstringc_1010"></a>17.2.2. Sstring.c</h5> 
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">"Sstring.h"</span></span>
LinkStrNode<span class="token operator">*</span> <span class="token function">BuyListNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	LinkStrNode<span class="token operator">*</span>tmp<span class="token operator">=</span> <span class="token punctuation">(</span>LinkStrNode<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>LinkStrNode<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>tmp <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"malloc fail"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> tmp<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">StrAssign</span><span class="token punctuation">(</span>LinkStrNode<span class="token operator">*</span><span class="token operator">*</span> s<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span>str<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
	LinkStrNode<span class="token operator">*</span> r<span class="token punctuation">,</span> <span class="token operator">*</span> p<span class="token punctuation">;</span>
	<span class="token operator">*</span>s <span class="token operator">=</span> <span class="token function">BuyListNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	r <span class="token operator">=</span> <span class="token operator">*</span>s<span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> str<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token char">'\0'</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		p <span class="token operator">=</span> <span class="token function">BuyListNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		p<span class="token operator">-&gt;</span>data <span class="token operator">=</span> str<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
		r<span class="token operator">-&gt;</span>next <span class="token operator">=</span> p<span class="token punctuation">;</span>	
		r <span class="token operator">=</span> p<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	r<span class="token operator">-&gt;</span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">StrCopy</span><span class="token punctuation">(</span>LinkStrNode<span class="token operator">*</span><span class="token operator">*</span> s<span class="token punctuation">,</span> LinkStrNode<span class="token operator">*</span> t<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">DestroyStr</span><span class="token punctuation">(</span><span class="token operator">*</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
	LinkStrNode<span class="token operator">*</span> r<span class="token punctuation">,</span> <span class="token operator">*</span> q<span class="token punctuation">;</span>
	LinkStrNode<span class="token operator">*</span> p <span class="token operator">=</span> t<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token operator">*</span>s <span class="token operator">=</span> <span class="token function">BuyListNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	r <span class="token operator">=</span> <span class="token operator">*</span>s<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>p <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		q <span class="token operator">=</span> <span class="token function">BuyListNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		q<span class="token operator">-&gt;</span>data <span class="token operator">=</span> p<span class="token operator">-&gt;</span>data<span class="token punctuation">;</span>		

		r<span class="token operator">-&gt;</span>next <span class="token operator">=</span> q<span class="token punctuation">;</span>
		r <span class="token operator">=</span> q<span class="token punctuation">;</span>			

		p <span class="token operator">=</span> p<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	r<span class="token operator">-&gt;</span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">StrCmp</span><span class="token punctuation">(</span>LinkStrNode<span class="token operator">*</span> s<span class="token punctuation">,</span> LinkStrNode<span class="token operator">*</span> t<span class="token punctuation">)</span><span class="token comment">//比较两个串</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>s<span class="token operator">&amp;&amp;</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>
	LinkStrNode<span class="token operator">*</span> p <span class="token operator">=</span> s<span class="token operator">-&gt;</span>next<span class="token punctuation">,</span> <span class="token operator">*</span> q <span class="token operator">=</span> t<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>p <span class="token operator">!=</span> <span class="token constant">NULL</span> <span class="token operator">&amp;&amp;</span> q <span class="token operator">!=</span> <span class="token constant">NULL</span> <span class="token operator">&amp;&amp;</span> p<span class="token operator">-&gt;</span>data <span class="token operator">==</span> q<span class="token operator">-&gt;</span>data<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		p <span class="token operator">=</span> p<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
		q <span class="token operator">=</span> q<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>p <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token operator">&amp;&amp;</span>q <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>		
		<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>p <span class="token operator">==</span> <span class="token constant">NULL</span> <span class="token operator">&amp;&amp;</span> q <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>p <span class="token operator">!=</span> <span class="token constant">NULL</span> <span class="token operator">&amp;&amp;</span> q <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> p<span class="token operator">-&gt;</span>data <span class="token operator">-</span> q<span class="token operator">-&gt;</span>data<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">StrLength</span><span class="token punctuation">(</span>LinkStrNode<span class="token operator">*</span> s<span class="token punctuation">)</span><span class="token comment">//返回串的长度</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	LinkStrNode<span class="token operator">*</span> p <span class="token operator">=</span> s<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>p <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		count<span class="token operator">++</span><span class="token punctuation">;</span>
		p <span class="token operator">=</span> p<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> count<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
LinkStrNode<span class="token operator">*</span><span class="token function">Strcat</span><span class="token punctuation">(</span>LinkStrNode<span class="token operator">*</span> s<span class="token punctuation">,</span> LinkStrNode<span class="token operator">*</span> t<span class="token punctuation">)</span><span class="token comment">//链接两个串</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>s <span class="token operator">&amp;&amp;</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span>
	LinkStrNode<span class="token operator">*</span> p <span class="token operator">=</span> s<span class="token operator">-&gt;</span>next<span class="token punctuation">,</span> <span class="token operator">*</span> q <span class="token operator">=</span> t<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>p<span class="token operator">-&gt;</span>next <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		p <span class="token operator">=</span> p<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	LinkStrNode<span class="token operator">*</span> str1 <span class="token operator">=</span> p<span class="token punctuation">,</span><span class="token operator">*</span>str2<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>q <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		str2 <span class="token operator">=</span> <span class="token function">BuyListNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		str2<span class="token operator">-&gt;</span>data <span class="token operator">=</span>q<span class="token operator">-&gt;</span>data<span class="token punctuation">;</span>

		str1<span class="token operator">-&gt;</span>next <span class="token operator">=</span> str2<span class="token punctuation">;</span>
		str1 <span class="token operator">=</span> str2<span class="token punctuation">;</span>

		q <span class="token operator">=</span> q<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	str1<span class="token operator">-&gt;</span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> s<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
LinkStrNode<span class="token operator">*</span><span class="token function">SubStr</span><span class="token punctuation">(</span>LinkStrNode<span class="token operator">*</span> s<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">,</span> <span class="token keyword">int</span> len<span class="token punctuation">)</span><span class="token comment">//取子串</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation">(</span>i <span class="token operator">&lt;=</span> <span class="token function">StrLength</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	LinkStrNode<span class="token operator">*</span> r<span class="token punctuation">,</span> <span class="token operator">*</span> p<span class="token punctuation">;</span>
	p <span class="token operator">=</span> s<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span><span class="token comment">//跳过头节点</span>
	r <span class="token operator">=</span> <span class="token function">BuyListNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>p <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token comment">//找到第i个位置</span>
	<span class="token punctuation">{<!-- --></span>
		count<span class="token operator">++</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">==</span> i<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		p <span class="token operator">=</span> p<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	LinkStrNode<span class="token operator">*</span> str1<span class="token operator">=</span>r<span class="token punctuation">,</span><span class="token operator">*</span>str2<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>len<span class="token operator">--</span><span class="token operator">&amp;&amp;</span>p<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		str2 <span class="token operator">=</span> <span class="token function">BuyListNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		str2<span class="token operator">-&gt;</span>data <span class="token operator">=</span> p<span class="token operator">-&gt;</span>data<span class="token punctuation">;</span>
		str1<span class="token operator">-&gt;</span>next <span class="token operator">=</span> str2<span class="token punctuation">;</span>
		str1 <span class="token operator">=</span> str2<span class="token punctuation">;</span>
		p <span class="token operator">=</span> p<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	str1<span class="token operator">-&gt;</span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token comment">//末尾置空</span>
	<span class="token keyword">return</span> r<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
LinkStrNode<span class="token operator">*</span><span class="token function">InsStr</span><span class="token punctuation">(</span>LinkStrNode<span class="token operator">*</span> s1<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">,</span> LinkStrNode<span class="token operator">*</span> s2<span class="token punctuation">)</span><span class="token comment">//指定位置插入</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>s1<span class="token operator">&amp;&amp;</span>s2<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation">(</span>i <span class="token operator">&lt;=</span> <span class="token function">StrLength</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	LinkStrNode<span class="token operator">*</span> r<span class="token punctuation">,</span> <span class="token operator">*</span> p<span class="token punctuation">,</span><span class="token operator">*</span>q<span class="token punctuation">;</span>
	q<span class="token operator">=</span>p <span class="token operator">=</span> s1<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span><span class="token comment">//q为i之前的位置</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>p <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token comment">//找到第i个位置</span>
	<span class="token punctuation">{<!-- --></span>
		count<span class="token operator">++</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">==</span> i<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		q <span class="token operator">=</span> p<span class="token punctuation">;</span><span class="token comment">//记录前一个位置</span>
		p <span class="token operator">=</span> p<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	r <span class="token operator">=</span> q<span class="token punctuation">;</span>
	LinkStrNode<span class="token operator">*</span> str<span class="token punctuation">;</span>
	LinkStrNode<span class="token operator">*</span> ptr<span class="token operator">=</span>s2<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span><span class="token comment">//跳过头节点</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>ptr <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		str <span class="token operator">=</span> <span class="token function">BuyListNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		str<span class="token operator">-&gt;</span>data <span class="token operator">=</span> ptr<span class="token operator">-&gt;</span>data<span class="token punctuation">;</span>
		r<span class="token operator">-&gt;</span>next <span class="token operator">=</span> str<span class="token punctuation">;</span>
		r <span class="token operator">=</span> str<span class="token punctuation">;</span>
		ptr <span class="token operator">=</span> ptr<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	r<span class="token operator">-&gt;</span>next<span class="token operator">=</span> p<span class="token punctuation">;</span><span class="token comment">//链接</span>
	<span class="token keyword">return</span> s1<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
LinkStrNode<span class="token operator">*</span> <span class="token function">DelStr</span><span class="token punctuation">(</span>LinkStrNode<span class="token operator">*</span> s<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">,</span> <span class="token keyword">int</span> len<span class="token punctuation">)</span><span class="token comment">//指定删除子串</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation">(</span>i <span class="token operator">&lt;</span> <span class="token function">StrLength</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	LinkStrNode<span class="token operator">*</span> r<span class="token punctuation">,</span> <span class="token operator">*</span> p<span class="token punctuation">;</span>
	p <span class="token operator">=</span> s<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	r <span class="token operator">=</span> p<span class="token punctuation">;</span><span class="token comment">//r为前一个节点</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>p <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		count<span class="token operator">++</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">==</span> i<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		r <span class="token operator">=</span> p<span class="token punctuation">;</span>
		p <span class="token operator">=</span> p<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>len<span class="token operator">--</span> <span class="token operator">&amp;&amp;</span> p <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		LinkStrNode<span class="token operator">*</span> str <span class="token operator">=</span> p<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
		<span class="token function">free</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>
		p <span class="token operator">=</span> str<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	r<span class="token operator">-&gt;</span>next <span class="token operator">=</span> p<span class="token punctuation">;</span>
	<span class="token keyword">return</span> s<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">PrintStr</span><span class="token punctuation">(</span>LinkStrNode<span class="token operator">*</span> s<span class="token punctuation">)</span><span class="token comment">//打印</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
	LinkStrNode<span class="token operator">*</span> p <span class="token operator">=</span> s<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>p <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%c"</span><span class="token punctuation">,</span> p<span class="token operator">-&gt;</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
		p <span class="token operator">=</span> p<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">DestroyStr</span><span class="token punctuation">(</span>LinkStrNode<span class="token operator">*</span> s<span class="token punctuation">)</span><span class="token comment">//销毁</span>
<span class="token punctuation">{<!-- --></span>
	LinkStrNode<span class="token operator">*</span> pre <span class="token operator">=</span> s<span class="token punctuation">,</span> <span class="token operator">*</span> p <span class="token operator">=</span> s<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>p <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">free</span><span class="token punctuation">(</span>pre<span class="token punctuation">)</span><span class="token punctuation">;</span>
		pre <span class="token operator">=</span> p<span class="token punctuation">;</span>
		p <span class="token operator">=</span> p<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">free</span><span class="token punctuation">(</span>pre<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/0c8e62dfede85631702fd99e8e0cc286/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">AIGC重塑金融：AI大模型驱动的金融变革与实践，面试必会</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/d28c1530eddda1f458eaf591c9cbbdf8/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">最新AI创作系统ChatGPT网站源码AI绘画，GPTs，AI换脸支持，GPT联网提问、DALL-E3文生图</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>