<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>flutter中【底部弹出输入框】实现 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/5dffdad42098bcda0c85d887ad6dac4e/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="flutter中【底部弹出输入框】实现">
  <meta property="og:description" content="应用场景： 对当前界面信息进行修改时，底部弹出一个【占据页面一定尺寸】的界面，界面内容包括【输入框】、【保存按钮】和【软键盘】。
要点： 使用showModalBottomSheet函数，实现底部弹窗效果。
官网https://api.flutter.dev/flutter/material/showModalBottomSheet.html原页面布局改为SingleChildScrollView，解决键盘顶起内容问题。Container作为Stack的背景色，实现径向渐变。TextFiled定制化，属性详解组件封装逻辑，实现子组件向父组件传参 部分问题解决记录： 弹窗出现同时唤起软键盘：
只需要对TextField设置autofocus: true，弹窗出现时输入框有焦点，键盘就会唤起。 键盘顶起原页面，遮挡当前弹窗部分内容：
将原页面布局改为SingleChildScrollView获取键盘高度&#43;设计图内容高度，作为弹窗高度height: MediaQuery.of(context).viewInsets.bottom &#43; 256, 夜神模拟器没有软键盘：
下载搜狗输入法 弹窗布局实现组件树状图 1.showModalBottomSheet 参考资料：
showModalBottomSheet function - material library - Dart API (flutter.dev)
【Flutter】Flutter底部弹窗ModalBottomSheet详解
Future&lt;T?&gt; showModalBottomSheet&lt;T&gt;( {required BuildContext context, required WidgetBuilder builder, Color? backgroundColor, String? barrierLabel, double? elevation, ShapeBorder? shape, Clip? clipBehavior, BoxConstraints? constraints, Color? barrierColor, bool isScrollControlled = false, double scrollControlDisabledMaxHeightRatio = _defaultScrollControlDisabledMaxHeightRatio, bool useRootNavigator = false, bool isDismissible = true, bool enableDrag = true, bool?">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-06-12T16:08:58+08:00">
    <meta property="article:modified_time" content="2024-06-12T16:08:58+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">flutter中【底部弹出输入框】实现</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="_0"></a>应用场景：</h3> 
<p>对当前界面信息进行修改时，底部弹出一个【占据页面一定尺寸】的界面，界面内容包括【输入框】、【保存按钮】和【软键盘】。<br> <img src="https://images2.imgbox.com/eb/42/uqqQ5qZg_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_5"></a>要点：</h4> 
<ol><li>使用<code>showModalBottomSheet</code>函数，实现底部弹窗效果。<br> 官网<a href="https://api.flutter.dev/flutter/material/showModalBottomSheet.html" rel="nofollow">https://api.flutter.dev/flutter/material/showModalBottomSheet.html</a></li><li>原页面布局改为<code>SingleChildScrollView</code>，解决键盘顶起内容问题。</li><li><code>Container</code>作为<code>Stack</code>的背景色，实现径向渐变。</li><li><code>TextFiled</code>定制化，属性详解</li><li>组件封装逻辑，实现子组件向父组件传参</li></ol> 
<h4><a id="_13"></a>部分问题解决记录：</h4> 
<p>弹窗出现同时唤起软键盘：</p> 
<ul><li>只需要对<code>TextField</code>设置<code>autofocus: true</code>，弹窗出现时输入框有焦点，键盘就会唤起。</li></ul> 
<p>键盘顶起原页面，遮挡当前弹窗部分内容：</p> 
<ul><li>将原页面布局改为<code>SingleChildScrollView</code></li><li>获取键盘高度+设计图内容高度，作为弹窗高度<code>height: MediaQuery.of(context).viewInsets.bottom + 256,</code></li></ul> 
<p>夜神模拟器没有软键盘：</p> 
<ul><li>下载搜狗输入法</li></ul> 
<h4><a id="_24"></a>弹窗布局实现组件树状图</h4> 
<p><img src="https://images2.imgbox.com/73/85/ux9YYacp_o.png" alt="弹窗布局实现组件树状图"></p> 
<h3><a id="1showModalBottomSheet_26"></a>1.showModalBottomSheet</h3> 
<p>参考资料：<br> <a href="https://api.flutter.dev/flutter/material/showModalBottomSheet.html" rel="nofollow">showModalBottomSheet function - material library - Dart API (flutter.dev)</a><br> <a href="https://zhuanlan.zhihu.com/p/166577505" rel="nofollow">【Flutter】Flutter底部弹窗ModalBottomSheet详解</a></p> 
<pre><code class="prism language-dart"><span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> showModalBottomSheet<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>
	<span class="token punctuation">{<!-- --></span>required <span class="token class-name">BuildContext</span> context<span class="token punctuation">,</span>
	required <span class="token class-name">WidgetBuilder</span> builder<span class="token punctuation">,</span>
	<span class="token class-name">Color</span><span class="token operator">?</span> backgroundColor<span class="token punctuation">,</span>
	<span class="token class-name">String</span><span class="token operator">?</span> barrierLabel<span class="token punctuation">,</span>
	double<span class="token operator">?</span> elevation<span class="token punctuation">,</span>
	<span class="token class-name">ShapeBorder</span><span class="token operator">?</span> shape<span class="token punctuation">,</span>
	<span class="token class-name">Clip</span><span class="token operator">?</span> clipBehavior<span class="token punctuation">,</span>
	<span class="token class-name">BoxConstraints</span><span class="token operator">?</span> constraints<span class="token punctuation">,</span>
	<span class="token class-name">Color</span><span class="token operator">?</span> barrierColor<span class="token punctuation">,</span>
	bool isScrollControlled <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
	double scrollControlDisabledMaxHeightRatio <span class="token operator">=</span> _defaultScrollControlDisabledMaxHeightRatio<span class="token punctuation">,</span>
	bool useRootNavigator <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
	bool isDismissible <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
	bool enableDrag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
	bool<span class="token operator">?</span> showDragHandle<span class="token punctuation">,</span>
	bool useSafeArea <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
	<span class="token class-name">RouteSettings</span><span class="token operator">?</span> routeSettings<span class="token punctuation">,</span>
	<span class="token class-name">AnimationController</span><span class="token operator">?</span> transitionAnimationController<span class="token punctuation">,</span>
	<span class="token class-name">Offset</span><span class="token operator">?</span> anchorPoint<span class="token punctuation">,</span>
	<span class="token class-name">AnimationStyle</span><span class="token operator">?</span> sheetAnimationStyle<span class="token punctuation">}</span>
<span class="token punctuation">)</span>
<span class="token number">28</span>
</code></pre> 
<ul><li><code>backgroundColor</code>：当return SizedBox时可见，return Container时会被遮挡</li><li><code>elevation</code> ：阴影高度，没看出效果</li><li><code>shape</code>：可以用于设置弹窗为圆角。可以放置<code>RoundedRectangleBorder</code>组件。</li><li><code>clipBehavior</code>：容器如何剪裁其子组件。只是裁剪模式，并不决定弹窗为直角还是圆角。<br> 接受Clip枚举类型的值，效率依次降低，效果依次提高：<br> Clip.none：不对子组件进行任何剪裁，子组件可以超出容器的边界显示<br> Clip.hardEdge：对子组件进行硬边缘剪裁<br> Clip.antiAlias：对子组件进行反锯齿剪裁，使得边缘看起来更加平滑<br> Clip.antiAliasWithSaveLayer：对子组件进行反锯齿处理，并且使用单独的绘制层来绘制被裁剪的子组件</li><li><code>barrierColor</code>： 蒙版颜色，就是遮住原页面内容的半透明黑色，默认是Colors.black54</li><li><code>isScrollControlled</code> ：是否可滚动， 默认为false，我使用时不设置会使得输入框部分 被键盘覆盖|不显示<br> <img src="https://images2.imgbox.com/f2/00/56di0aF8_o.png" alt="直角弹窗"></li></ul> 
<p><img src="https://images2.imgbox.com/5b/bf/ZPJuRMJx_o.png" alt="圆角弹窗"><br> 官网的两种示例，一种是直角弹窗，一种是圆角弹窗。经过对比区别是一个<code>return Container</code>一个<code>return SizeBox</code>。但是通过设置Container的</p> 
<p><code>borderRadius: BorderRadius.only(// topLeft: Radius.circular(20.0),// topRight: Radius.circular(20.0),// )</code>也可以达到圆角效果。</p> 
<p>代码提示建议我们使用<code>SizedBox</code>，理由是</p> 
<p>Use a ‘SizedBox’ to add whitespace to a layout. (Documentation) Try using a ‘SizedBox’ rather than a ‘Container’.（没有看懂）</p> 
<p>还有一个区别是<code>SizedBox</code>不能添加背景色，可以通过给<code>showModalBottomSheet</code>设置背景色实现但是和<code>Container</code>设置的有所区别。如果使用了<code>Container</code>，其背景色会覆盖弹窗的背景色设置，弹窗背景色就无法被看到。<br> <img src="https://images2.imgbox.com/2f/92/rUFAt3es_o.png" alt="在这里插入图片描述"></p> 
<p>图一，为return Container设置背景色为white，输入框的灰色十分明显。</p> 
<p>图二，如果为return SizedBox给弹窗设置背景色为white，输入框看不清楚。这时候如果给Stack添加一个Container作为白色背景色（我的渐变背景是半透明的），情况就恢复了。必须设置弹窗的clipBehavior: Clip.antiAliasWithSaveLayer属性。</p> 
<p>图三，在图二基础上，elevator设置为20。</p> 
<p>图四，弹窗背景色为red。</p> 
<p>经过以上实验，大概有这些总结：</p> 
<ol><li>弹窗本身自带圆角。</li><li>SizedBox只有大小，没有样式，作为弹窗的主体，不会覆盖弹窗的圆角——现象是使用SizedBox自带圆角。</li><li>Container默认为直角矩形，作为弹窗的主体，又没有设置弹窗的子组件切割方式，会<strong>超出</strong>弹窗显示——现象是使用Container时不进行任何设置，弹窗为直角。</li><li>无法解释使用SizedBox、设置弹窗背景色为white时，为什么灰色输入框看不清楚。</li></ol> 
<h4><a id="2_96"></a>2.组件封装</h4> 
<p>这里复用部分为showModalBottomSheet函数，且定制化程度较低，只能修改标题。<br> 如果希望弹窗内容都发生变化，需要将builder抽离，传一个builder类型的参数。<br> 针对函数的封装，可以封装为一个类，也可以封装为单独的函数。<br> 具体如何选择，可以参考gpt的建议：</p> 
<ol><li>封装为类的情况：</li></ol> 
<ul><li>数据和功能有关联：如果需要封装的逻辑涉及到一系列相关的属性和方法，可以考虑使用类来组织这些数据和功能。</li><li>多个函数共享状态：如果多个函数需要共享状态或状态需要在多个函数之间传递，可以考虑使用类来管理这些状态。</li><li>需要实例化多个对象：如果需要在不同地方创建多个实例化对象来独立管理各自的状态和逻辑，可以使用类来创建多个对象。</li></ul> 
<ol start="2"><li>使用单独的函数的情况：</li></ol> 
<ul><li>独立的功能逻辑：某些功能逻辑比较简单，只需要进行一次调用并返回结果，可以考虑使用单独的函数。</li><li>不需要维护状态：如果功能逻辑不涉及管理状态或者状态不需要在不同函数之间共享，可以使用单独的函数。</li><li>辅助函数：对于一些辅助性的函数，只负责完成特定的任务而不涉及其他功能，可以单独封装为函数。</li></ul> 
<p>封装一个函数通用形式：</p> 
<pre><code class="prism language-dart"><span class="token keyword">typedef</span> <span class="token class-name">ClickCallBack</span> <span class="token operator">=</span> <span class="token keyword">void</span> <span class="token class-name">Function</span><span class="token punctuation">(</span><span class="token class-name">String</span> newContent<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Future</span><span class="token punctuation">&lt;</span>int<span class="token operator">?</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token function">showCustomModalBottomSheet</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  required <span class="token class-name">BuildContext</span> context<span class="token punctuation">,</span>
  required <span class="token class-name">String</span> title<span class="token punctuation">,</span>
  required <span class="token class-name">ClickCallBack</span> clickCallBack
<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{<!-- --></span>
	<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
	<span class="token class-name">MaterialButton</span><span class="token punctuation">(</span>
     onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
       <span class="token function">print</span><span class="token punctuation">(</span>upper_controlle<span class="token punctuation">.</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span>

       <span class="token keyword">if</span><span class="token punctuation">(</span>upper_controlle<span class="token punctuation">.</span>text<span class="token operator">==</span><span class="token string-literal"><span class="token string">''</span></span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
         <span class="token class-name">Loading</span><span class="token punctuation">.</span><span class="token function">showWarning</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'内容不能为空！'</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
         <span class="token function">clickCallBack</span><span class="token punctuation">(</span>upper_controlle<span class="token punctuation">.</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span>
   	<span class="token punctuation">}</span><span class="token punctuation">,</span>
   	<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>使用：</p> 
<pre><code class="prism language-dart"><span class="token function">onPressed</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">await</span> <span class="token function">showCustomModalBottomSheet</span><span class="token punctuation">(</span>
      context<span class="token punctuation">:</span>context<span class="token punctuation">,</span>
      title<span class="token punctuation">:</span><span class="token string-literal"><span class="token string">'diyTitle'</span></span><span class="token punctuation">,</span>
      clickCallBack<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token class-name">String</span> newContent<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          valueToChange<span class="token operator">=</span> newContent<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</code></pre> 
<p>这里涉及拿到弹窗内部输入的值，赋给原始界面对应位置显示。其实就是子组件给父组件传参。类似vue框架的思想，父组件给子组件一个函数作为参数。子组件接收到这个函数，在对应位置调用这个函数，将内部值作为函数参数（父组件对该函数作具体规定，如对接收的参数作何处理等），父组件就拿到了弹窗内的值。</p> 
<h4><a id="3__150"></a>3. 径向渐变的使用</h4> 
<p>设置Container的decoration</p> 
<pre><code class="prism language-dart">	decoration<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">BoxDecoration</span><span class="token punctuation">(</span>
       gradient<span class="token punctuation">:</span><span class="token class-name">RadialGradient</span><span class="token punctuation">(</span>
         center<span class="token punctuation">:</span> <span class="token class-name">Alignment</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">5.5</span><span class="token punctuation">)</span><span class="token punctuation">,</span>   <span class="token comment">// 猜测为圆心</span>
         radius<span class="token punctuation">:</span> <span class="token number">3.5</span><span class="token punctuation">,</span>  <span class="token comment">// 径向渐变的半径</span>
         colors<span class="token punctuation">:</span> <span class="token punctuation">[</span>
           <span class="token class-name">Color</span><span class="token punctuation">.</span><span class="token function">fromRGBO</span><span class="token punctuation">(</span><span class="token number">28</span><span class="token punctuation">,</span> <span class="token number">89</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
           <span class="token class-name">Color</span><span class="token punctuation">.</span><span class="token function">fromRGBO</span><span class="token punctuation">(</span><span class="token number">28</span><span class="token punctuation">,</span> <span class="token number">89</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
         <span class="token punctuation">]</span><span class="token punctuation">,</span>
         stops<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
       <span class="token punctuation">)</span><span class="token punctuation">,</span>
     <span class="token punctuation">)</span><span class="token punctuation">,</span>
</code></pre> 
<p>线性渐变：</p> 
<pre><code class="prism language-dart">gradient<span class="token punctuation">:</span> <span class="token class-name">LinearGradient</span><span class="token punctuation">(</span>
   begin<span class="token punctuation">:</span> <span class="token class-name">Alignment</span><span class="token punctuation">.</span>topCenter<span class="token punctuation">,</span>
   end<span class="token punctuation">:</span> <span class="token class-name">Alignment</span><span class="token punctuation">.</span>bottomCenter<span class="token punctuation">,</span>
   colors<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">Colors</span><span class="token punctuation">.</span>blue<span class="token punctuation">,</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>green<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 渐变色数组</span>
<span class="token punctuation">)</span><span class="token punctuation">,</span>
</code></pre> 
<h4><a id="4_174"></a>4.输入框</h4> 
<p><a href="https://api.flutter.dev/flutter/material/TextField-class.html" rel="nofollow">TextField class- material library - Dart API (pub.dev)</a></p> 
<pre><code class="prism language-dart"><span class="token class-name">TextField</span><span class="token punctuation">(</span>
  <span class="token comment">// focusNode: _focusNode,   // 什么作用？</span>
  maxLength<span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">,</span>  <span class="token comment">// 输入长度，右下角会显示 /20</span>
  maxLines<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  obscureText<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>   <span class="token comment">// 是否为密码</span>
  autofocus<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  <span class="token comment">// autofocus设置为true，输入框一出现键盘就出现，否则需要二次点击使得键盘出现</span>
  controller<span class="token punctuation">:</span> upper_controlle<span class="token punctuation">,</span>   <span class="token comment">// upper_controlle.text用于获取输入内容</span>
  textInputAction<span class="token punctuation">:</span> <span class="token class-name">TextInputAction</span><span class="token punctuation">.</span>done<span class="token punctuation">,</span>
  keyboardType<span class="token punctuation">:</span> <span class="token class-name">TextInputType</span><span class="token punctuation">.</span>text<span class="token punctuation">,</span>
  <span class="token comment">// 让TextField内容实现左右居中，</span>
  textAlign<span class="token punctuation">:</span> <span class="token class-name">TextAlign</span><span class="token punctuation">.</span>left<span class="token punctuation">,</span>
  enabled<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  cursorColor<span class="token punctuation">:</span> <span class="token class-name">Color</span><span class="token punctuation">.</span><span class="token function">fromRGBO</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0.9</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token comment">// 数字、手机号限制格式为0到9， 密码限制不包含汉字</span>
  <span class="token comment">// inputFormatters: widget.inputFormatters ??</span>
  <span class="token comment">//     ((widget.keyboardType == TextInputType.number ||</span>
  <span class="token comment">//         widget.keyboardType == TextInputType.phone)</span>
  <span class="token comment">//         ? [FilteringTextInputFormatter.allow(RegExp('[0-9]'))]</span>
  <span class="token comment">//         : [LengthLimitingTextInputFormatter(100)]),</span>
  style<span class="token punctuation">:</span> <span class="token class-name">TextStyle</span><span class="token punctuation">(</span>
      color<span class="token punctuation">:</span> <span class="token class-name">Color</span><span class="token punctuation">.</span><span class="token function">fromRGBO</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0.9</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      fontSize<span class="token punctuation">:</span> <span class="token number">16</span>
  <span class="token punctuation">)</span><span class="token punctuation">,</span>
  decoration<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">InputDecoration</span><span class="token punctuation">(</span>
    filled<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    fillColor<span class="token punctuation">:</span> <span class="token class-name">Color</span><span class="token punctuation">.</span><span class="token function">fromRGBO</span><span class="token punctuation">(</span><span class="token number">244</span><span class="token punctuation">,</span><span class="token number">245</span><span class="token punctuation">,</span><span class="token number">250</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// contentPadding和border的设置是为了让TextField内容实现上下居中</span>
    contentPadding<span class="token punctuation">:</span>  <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">symmetric</span><span class="token punctuation">(</span>horizontal<span class="token punctuation">:</span> <span class="token number">29</span><span class="token punctuation">,</span>vertical<span class="token punctuation">:</span> <span class="token number">26</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// hintText: "修改名称",</span>
    <span class="token comment">// hintStyle: TextStyle(</span>
    <span class="token comment">//     fontSize: FontSize.font_sp14,</span>
    <span class="token comment">//     fontWeight: FontWeight.w500,</span>
    <span class="token comment">//     color: Color(0xFF999999)),</span>
    <span class="token comment">// counterText: '',</span>
    <span class="token comment">//默认边框为红色，边框宽度为1</span>
    enabledBorder<span class="token punctuation">:</span> <span class="token class-name">OutlineInputBorder</span><span class="token punctuation">(</span>
        borderRadius<span class="token punctuation">:</span> <span class="token class-name">BorderRadius</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token class-name">Radius</span><span class="token punctuation">.</span><span class="token function">circular</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        borderSide<span class="token punctuation">:</span> <span class="token class-name">BorderSide</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>transparent<span class="token punctuation">,</span> width<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    disabledBorder<span class="token punctuation">:</span> <span class="token class-name">OutlineInputBorder</span><span class="token punctuation">(</span>
        borderRadius<span class="token punctuation">:</span> <span class="token class-name">BorderRadius</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token class-name">Radius</span><span class="token punctuation">.</span><span class="token function">circular</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        borderSide<span class="token punctuation">:</span> <span class="token class-name">BorderSide</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>transparent<span class="token punctuation">,</span> width<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">//获取焦点后，边框为黑色，宽度为2</span>
    focusedBorder<span class="token punctuation">:</span> <span class="token class-name">OutlineInputBorder</span><span class="token punctuation">(</span>
        borderRadius<span class="token punctuation">:</span> <span class="token class-name">BorderRadius</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token class-name">Radius</span><span class="token punctuation">.</span><span class="token function">circular</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        borderSide<span class="token punctuation">:</span> <span class="token class-name">BorderSide</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>transparent<span class="token punctuation">,</span> width<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">)</span><span class="token punctuation">,</span>
  onSubmitted<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token class-name">String</span> value<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 在这里处理用户按下键盘上的"完成"或"提交"按钮时的操作</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"用户输入的内容是: </span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression">value</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 可以在这里执行提交表单等操作</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>
</code></pre> 
<ul><li><code>textInputAction</code>: 设置键盘动作按钮的类型，比如<code>TextInputAction.done</code>会显示一个"完成"按钮，当用户点击时，会触发<code>onSubmitted</code>回调函数。其他常用的值还有<code>TextInputAction.go</code>, <code>TextInputAction.next</code>, <code>TextInputAction.search</code>, <code>TextInputAction.send</code></li><li><code>keyboardType</code>: 指定键盘类型，比如<code>TextInutType.text</code>是文本键盘，<code>TextInputType.number</code>是数字键盘，<code>TextInputType.phone</code>是电话号码键盘</li><li><code>textAlign</code>: 控制文本在输入框中的对齐方式，比如<code>TextAlign.left</code>是左对齐，<code>TextAlign.center</code>是居中对齐，<code>TextAlign.right</code>是右对齐</li><li><code>inputFormatters</code>: 限制输入格式，比如通过正则表达式限制输入的内容，或者通过<code>LengthLimitingTextInputFormatter</code>限制输入的长度。可以根据需要添加多个<code>TextInputFormatter</code>来组合限制条件</li></ul>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/13d0b3933a46f0554d8e97443a82398c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【AI智能体】零代码构建AI应用《情感伴侣》情感倾听，温暖陪伴，快来体验吧。</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b62b564ee539819157b1bec2c7808151/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">OpenCV--图像色彩空间及转换</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>