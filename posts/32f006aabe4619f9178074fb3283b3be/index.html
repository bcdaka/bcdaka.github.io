<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>window.print()前端实现网页打印功能详解 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/32f006aabe4619f9178074fb3283b3be/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="window.print()前端实现网页打印功能详解">
  <meta property="og:description" content="教程下载地址： 网赚博客https://www.piaodoo.com/创业项目排行榜前十名https://www.piaodoo.com/ 目录 前言一、print()方法二、打印样式三、打印指定区域部分内容四、强制插入分页五、设置打印布局（横向、纵向、边距）六、去除浏览器默认页眉页脚七、打印方法封装总结 前言 print作为浏览已经比较成熟的技术可以经常被用来打印页面的部分内容，我们可以在MDN上查看到相关的简单介绍。
一、print()方法 print() 方法用于打印当前窗口的内容。调用 print() 方法会产生一个打印预览弹框，让用户可以设置打印请求。最简单的打印就是直接调用window.print()，当然用 document.execCommand(&#39;print&#39;) 也可以达到同样的效果。默认打印页面中body里的所有内容。
&lt;!DOCTYPE html&gt; &lt;html lang=&#34;en&#34;&gt; &lt;head&gt; &lt;meta charset=&#34;UTF-8&#34;&gt; &lt;title&gt;printDemo&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;input type=&#34;button&#34; value=&#34;打印此页面&#34; οnclick=&#34;printpage()&#34; /&gt; &lt;div&gt;内容&lt;/div&gt; &lt;script&gt; function printpage() { window.print() } &lt;/script&gt; &lt;/body&gt; &lt;/html&gt; 二、打印样式 直接调用print()方法去打印网页内容，我们会发现，事先调整好的布局和样式都没法实现，那么有哪些方法可以帮助我们改善打印的用户体验呢？
【1】使用打印样式表
配置一份打印样式表print.css，引入到HTML文档，在 &lt;link&gt; 上加上一个 media=&#34;print&#34; 来标识这是打印机才会应用的样式表，这样打印的时候，就会默认将该样式表应用到文档中
&lt;link href=&#34;/path/print.css&#34; rel=&#34;external nofollow&#34; media=&#34;print&#34; rel=&#34;stylesheet&#34; /&gt; 【2】使用媒介查询
当我们要修改的样式没有很多的时候，其实完全不需要重新写个样式表，只要写上一个媒介查询也可以达到同样的效果，如：
@media print { h1 { font-size: 20px; color: red; } } 【3】内联样式使用media属性
&lt;style type=&#34;text/css&#34; media=&#34;">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-05-08T14:12:05+08:00">
    <meta property="article:modified_time" content="2024-05-08T14:12:05+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">window.print()前端实现网页打印功能详解</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>教程下载地址： 网赚博客https://www.piaodoo.com/创业项目排行榜前十名https://www.piaodoo.com/ </p> 
<p><br> </p> 
<div id="navCategory"> 
 <h6 class="catalogue">目录</h6> 
 <ul class="first_class_ul"><li><a href="#_label0" rel="nofollow">前言</a></li><li><a href="#_label1" rel="nofollow">一、print()方法</a></li><li><a href="#_label2" rel="nofollow">二、打印样式</a></li><li><a href="#_label3" rel="nofollow">三、打印指定区域部分内容</a></li><li><a href="#_label4" rel="nofollow">四、强制插入分页</a></li><li><a href="#_label5" rel="nofollow">五、设置打印布局（横向、纵向、边距）</a></li><li><a href="#_label6" rel="nofollow">六、去除浏览器默认页眉页脚</a></li><li><a href="#_label7" rel="nofollow">七、打印方法封装</a></li><li><a href="#_label8" rel="nofollow">总结 </a></li></ul> 
</div> 
<p></p> 
<p class="maodian"></p> 
<h3>前言</h3> 
<p>print作为浏览已经比较成熟的技术可以经常被用来打印页面的部分内容，我们可以在<a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/print" rel="external nofollow noopener noreferrer" target="_blank">MDN</a>上查看到相关的简单介绍。</p> 
<p class="maodian"></p> 
<h3>一、print()方法</h3> 
<p>print() 方法用于打印当前窗口的内容。调用 print() 方法会产生一个打印预览弹框，让用户可以设置打印请求。最简单的打印就是直接调用window.print()，当然用 document.execCommand('print') 也可以达到同样的效果。默认打印页面中body里的所有内容。</p> 
<div class="jb51code"> 
 <pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;title&gt;printDemo&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;input type="button" value="打印此页面" οnclick="printpage()" /&gt;
  &lt;div&gt;内容&lt;/div&gt;
  &lt;script&gt;
    function printpage() {
      window.print()
    }
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre> 
</div> 
<p><img alt="" src="https://images2.imgbox.com/9b/c7/rrEgPBlm_o.png"></p> 
<p class="maodian"></p> 
<h3>二、打印样式</h3> 
<p>直接调用print()方法去打印网页内容，我们会发现，事先调整好的布局和样式都没法实现，那么有哪些方法可以帮助我们改善打印的用户体验呢？</p> 
<p><strong>【1】使用打印样式表</strong></p> 
<p>配置一份打印样式表print.css，引入到HTML文档，在 &lt;link&gt; 上加上一个 media="print" 来标识这是打印机才会应用的样式表，这样打印的时候，就会默认将该样式表应用到文档中</p> 
<div class="jb51code"> 
 <pre><code class="language-html">&lt;link href="/path/print.css" rel="external nofollow"  media="print" rel="stylesheet" /&gt;</code></pre> 
</div> 
<p><strong>【2】使用媒介查询</strong></p> 
<p>当我们要修改的样式没有很多的时候，其实完全不需要重新写个样式表，只要写上一个媒介查询也可以达到同样的效果，如：</p> 
<div class="jb51code"> 
 <pre><code class="language-css">@media print {
  h1 {
    font-size: 20px;
    color: red;
  }
}</code></pre> 
</div> 
<p><strong>【3】内联样式使用media属性</strong></p> 
<div class="jb51code"> 
 <pre><code class="language-html">&lt;style type="text/css" media="print"&gt;
   // 打印样式
&lt;/style&gt;</code></pre> 
</div> 
<p><strong>【4】在css中使用@import引入打印样式表</strong></p> 
<div class="jb51code"> 
 <pre class="brush:js;">@import url("/path/print.css") print;</pre> 
</div> 
<p class="maodian"></p> 
<h3>三、打印指定区域部分内容</h3> 
<p><strong>【1】方法一</strong></p> 
<p>在需要打印的正文内容所对应的html开始处加上 &lt;!--startprint--&gt; 标识，结尾处加上 &lt;!--endprint--&gt; 标识，截取打印标识之间的内容替换body的内容，调用打印print()方法。</p> 
<div class="jb51code"> 
 <pre><code class="language-html">&lt;body&gt;
  &lt;input type="button" value="打印此页面" οnclick="printpage()" /&gt;
</code></pre> 
</div> 
<p>&lt;!–startprint–&gt;<br> &lt;div id=“printContent”&gt;打印内容&lt;/div&gt;<br> &lt;!–endprint–&gt;</p> 
<p>&lt;script&gt;<br> function printpage() {<!-- --><br> let oldStr = window.document.body.innerHTML; // 获取body的内容<br> let start = “&lt;!–startprint–&gt;”; // 开始打印标识, 17个字符<br> let end = “&lt;!–endprint–&gt;”; // 结束打印标识<br> let newStr = oldStr.substr(oldStr.indexOf(start) + 17); // 截取开始打印标识之后的内容<br> newStr = newStr.substring(0, newStr.indexOf(end)); // 截取开始打印标识和结束打印标识之间的内容<br> window.document.body.innerHTML = newStr; // 把需要打印的指定内容赋给body<br> window.print(); // 调用浏览器的打印功能打印指定区域<br> window.document.body.innerHTML = oldStr; // body替换为原来的内容<br> }<br> &lt;/script&gt;<br> &lt;/body&gt;</p> 
<p><strong>【2】方法二</strong></p> 
<p>将需要打印的内容用一个大的div包裹，打印时将body的内容替换为该div的内容，调用打印print()方法。</p> 
<div class="jb51code"> 
 <pre><code class="language-html">&lt;body&gt;
</code></pre> 
</div> 
<p>&lt;input type=“button” value=“打印此页面” οnclick=“printpage()” /&gt;<br> &lt;div id=“printContent”&gt;打印内容&lt;/div&gt;</p> 
<p>&lt;script&gt;<br> function printpage() {<!-- --><br> let newstr = document.getElementById(“printContent”).innerHTML;<br> let oldstr = document.body.innerHTML;<br> document.body.innerHTML = newstr;<br> window.print();<br> document.body.innerHTML = oldstr;<br> return false;<br> }<br> &lt;/script&gt;<br> &lt;/body&gt;</p> 
<p><strong>【3】方法三</strong></p> 
<p>有两个事件可以监听到到打印事件，一个是<strong>onbeforeprint()</strong>,一个是<strong>onafterprint()</strong>，分别表示打印事件触发前后。 </p> 
<p>检测打印请求，提供一个打印前的处理事件onbeforeprint() 将一些不需要打印的元素隐藏，和打印后的处理事件 onafterprint()放开隐藏的元素</p> 
<div class="jb51code"> 
 <pre class="brush:js;">    window.onbeforeprint = function(event) {
      //将一些不需要打印的元素隐藏
    };
    window.onafterprint = function(event) {
      //放开隐藏的元素
    };</pre> 
</div> 
<p class="maodian"></p> 
<h3>四、强制插入分页</h3> 
<p><strong>【1】page-break-before（指定元素前添加分页符）</strong></p> 
<table><tbody><tr><td><strong>值</strong></td><td><strong>描述</strong></td></tr><tr><td>auto </td><td>默认值。如果必要则在元素前插入分页符。</td></tr><tr><td>always</td><td>在元素前插入分页符。</td></tr><tr><td>avoid </td><td>避免在元素前插入分页符。</td></tr><tr><td>left</td><td>在元素之前足够的分页符，一直到一张空白的左页为止。</td></tr><tr><td>right </td><td>在元素之前足够的分页符，一直到一张空白的右页为止。</td></tr><tr><td>inherit </td><td>规定应该从父元素继承 page-break-before 属性的设置。</td></tr></tbody></table> 
<div class="jb51code"> 
 <pre><code class="language-css">/* 在h1元素前始终插入分页符 */
@media print {
    h1 {page-break-before: always;}
}</code></pre> 
</div> 
<p><strong>【2】page-break-after（指定元素后添加分页符）</strong></p> 
<table><tbody><tr><td><strong>值</strong></td><td><strong>描述</strong></td></tr><tr><td>auto </td><td>默认值。如果必要则在元素后插入分页符。</td></tr><tr><td>always</td><td>在元素后插入分页符。</td></tr><tr><td>avoid </td><td>避免在元素后插入分页符。</td></tr><tr><td>left</td><td>在元素之后足够的分页符，一直到一张空白的左页为止。</td></tr><tr><td>right </td><td>在元素之后足够的分页符，一直到一张空白的右页为止。</td></tr><tr><td>inherit </td><td>规定应该从父元素继承 page-break-after 属性的设置。</td></tr></tbody></table> 
<div class="jb51code"> 
 <pre><code class="language-css">/* 在 .footer 元素后始终插入分页符 */
@media print {
    .footer {page-break-after: always;}
}</code></pre> 
</div> 
<p><strong>【3】page-break-inside（用于设置是否在指定元素中插入分页符</strong><strong>）</strong></p> 
<table><tbody><tr><td><strong>值</strong></td><td><strong>描述</strong></td></tr><tr><td>auto </td><td>默认。如果必要则在元素内部插入分页符。</td></tr><tr><td>avoid </td><td>避免在元素内部插入分页符。</td></tr><tr><td>inherit </td><td>规定应该从父元素继承 page-break-inside 属性的设置。</td></tr></tbody></table> 
<div class="jb51code"> 
 <pre><code class="language-css">/* 避免在 &lt;pre&gt; 与 &lt;blockquote&gt; 元素中插入分页符 */
@media print {
    pre, blockquote {page-break-inside: avoid;}
}</code></pre> 
</div> 
<p><strong>【4】注意</strong></p> 
<ul><li>不能对绝对定位的元素使用以上三种分页属性。</li><li>请尽可能少地使用分页属性，并且避免在表格、浮动元素、带有边框的块元素中使用分页属性。</li></ul> 
<p class="maodian"></p> 
<h3>五、设置打印布局（横向、纵向、边距）</h3> 
<div class="jb51code"> 
 <pre><code class="language-css"> @media print {
    @page {
      /* 纵向 */
      size: portrait; 
</code><pre><code class="language-css"><code>  /* 横向 */
  size: landscape;

  /* 边距 上右下左 */
  margin: 1cm 2cm 1cm 2cm;
}
</code></code></pre>
</pre> 
</div> 
<p>}</p> 
<p class="maodian"></p> 
<h3>六、去除浏览器默认页眉页脚</h3> 
<p>页眉打印默认有页眉页脚信息，展现到页面外边距范围，我们可以通过去除页面模型page的外边距，使得内容不会延伸到页面的边缘，再通过设置 body 元素的 margin 来保证 A4 纸打印出来的页面带有外边距</p> 
<div class="jb51code"> 
 <pre><code class="language-css">@media print {
  @page {
    margin: 0;
  }
  body {
    margin: 1cm;
  }
}</code></pre> 
</div> 
<p class="maodian"></p> 
<h3>七、打印方法封装</h3> 
<p><strong>【1】封装</strong>：在utils下新建print.js文件</p> 
<div class="jb51code"> 
 <pre class="brush:js;">export default function printHtml(html) {
  let style = getStyle();
  let container = getContainer(html);
</pre> 
</div> 
<p>document.body.appendChild(style);<br> document.body.appendChild(container);</p> 
<p>getLoadPromise(container).then(() =&gt; {<!-- --><br> window.print();<br> document.body.removeChild(style);<br> document.body.removeChild(container);<br> });<br> }</p> 
<p>// 设置打印样式<br> function getStyle() {<!-- --><br> let styleContent = <code>#print-container { display: none; } @media print { body &amp;gt; :not(.print-container) { display: none; } html, body { display: block !important; } #print-container { display: block; } }</code>;<br> let style = document.createElement(“style”);<br> style.innerHTML = styleContent;<br> return style;<br> }</p> 
<p>// 清空打印内容<br> function cleanPrint() {<!-- --><br> let div = document.getElementById(‘print-container’)<br> if (!!div) {<!-- --><br> document.querySelector(‘body’).removeChild(div)<br> }<br> }</p> 
<p>// 新建DOM，将需要打印的内容填充到DOM<br> function getContainer(html) {<!-- --><br> cleanPrint()<br> let container = document.createElement(“div”);<br> container.setAttribute(“id”, “print-container”);<br> container.innerHTML = html;<br> return container;<br> }</p> 
<p>// 图片完全加载后再调用打印方法<br> function getLoadPromise(dom) {<!-- --><br> let imgs = dom.querySelectorAll(“img”);<br> imgs = [].slice.call(imgs);</p> 
<p>if (imgs.length === 0) {<!-- --><br> return Promise.resolve();<br> }</p> 
<p>let finishedCount = 0;<br> return new Promise(resolve =&gt; {<!-- --><br> function check() {<!-- --><br> finishedCount++;<br> if (finishedCount === imgs.length) {<!-- --><br> resolve();<br> }<br> }<br> imgs.forEach(img =&gt; {<!-- --><br> img.addEventListener(“load”, check);<br> img.addEventListener(“error”, check);<br> })<br> });<br> }</p> 
<p><strong>【2】使用： </strong>引入print文件，传入需要打印的DOM元素</p> 
<div class="jb51code"> 
 <pre class="brush:js;">import printHtml from "@/utils/print.js"
</pre> 
</div> 
<p>export default {<!-- --><br> methods: {<!-- --><br> print() {<!-- --><br> let printData = <code>&amp;lt;div&amp;gt;打印内容&amp;lt;/div&amp;gt;</code><br> printHtml(printData)<br> }<br> },<br> }</p> 
<p class="maodian"></p> 
<h3>总结 </h3> 
<p>到此这篇关于window.print()前端实现网页打印功能的文章就介绍到这了,更多相关window.print()前端网页打印内容请搜索网赚博客https://www.piaodoo.com/以前的文章或继续浏览下面的相关文章希望大家以后多多支持网赚博客https://www.piaodoo.com/！</p> 
<pre><code>                        友情连接：  
</code></pre> 
<p>茂名一技http://www.szsyby.net/ </p> 
<p><br> 茂名一技http://www.enechn.com/</p> 
<p><br> 美文集http://www.tpyjn.cn/</p> 
<p><br> 手游排行前十名http://www.bjkhrx.com/</p> 
<p><br> 蔚来汽车http://www.weilaiqiche.cn/</p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/95279ec79b1c3d4d30fa22938e96f461/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">一键AI换衣：比华为P70一键擦除衣服更神奇！</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/694b217b9c430769d1e447f661e5c67e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">程序媛的mac修炼手册-- 2024如何彻底卸载Python_mac系统如何清除python安装环境</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>