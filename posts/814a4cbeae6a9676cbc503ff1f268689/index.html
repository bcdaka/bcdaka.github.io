<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>保姆级银河麒麟V10高级服务器离线安装mysql5.7数据库 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/814a4cbeae6a9676cbc503ff1f268689/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="保姆级银河麒麟V10高级服务器离线安装mysql5.7数据库">
  <meta property="og:description" content="离线在银河麒麟高级操作系统v10安装mysql5.7 下载mysql5.7 MySQL :: Download MySQL Community Server (Archived Versions)
2、把下载好的包上传到服务器
3、解压
[root@1-0001 ~]# cd /data/mysql [root@1-0001 mysql]# tar -zxvf mysql-5.7.44-linux-glibc2.12-x86_64.tar.gz 4、卸载系统的mariadb数据库
查询安装的mariadb数据库
rpm -qa | grep mariadb
[root@1-0001 ~]# rpm -qa | grep mariadb mariadb-common-10.3.9-12.p01.ky10.x86_64 mariadb-10.3.9-12.p01.ky10.x86_64 mariadb-errmessage-10.3.9-12.p01.ky10.x86_64 mariadb-connector-c-3.0.6-8.ky10.x86_64 mariadb-server-10.3.9-12.p01.ky10.x86_64 5、使用命令 rpm -e --nodeps卸载
[root@1-0001 ~]# rpm -e --nodeps mariadb-common-10.3.9-12.p01.ky10.x86_64 [root@1-0001 ~]# rpm -e --nodeps mariadb-10.3.9-12.p01.ky10.x86_64 [root@1-0001 ~]# rpm -e --nodeps mariadb-errmessage-10.3.9-12.p01.ky10.x86_64 [root@1-0001 ~]# rpm -e --nodeps mariadb-connector-c-3.0.6-8.ky10.x86_64 [root@1-0001 ~]# rpm -e --nodeps mariadb-server-10.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-04-25T17:39:56+08:00">
    <meta property="article:modified_time" content="2024-04-25T17:39:56+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">保姆级银河麒麟V10高级服务器离线安装mysql5.7数据库</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h3 style="text-align:center;"><strong>离线在银河麒麟高级操作系统v10安装mysql5.7</strong></h3> 
<ol><li style="text-align:justify;">下载mysql5.7</li></ol> 
<p style="margin-left:.0001pt;text-align:justify;"><a href="https://downloads.mysql.com/archives/community/" rel="nofollow" title="MySQL :: Download MySQL Community Server (Archived Versions)">MySQL :: Download MySQL Community Server (Archived Versions)</a></p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="247" src="https://images2.imgbox.com/79/c8/BDkrkVv7_o.png" width="553"></p> 
<p style="text-align:justify;">2、把下载好的包上传到服务器</p> 
<p style="text-align:justify;"><img alt="" height="157" src="https://images2.imgbox.com/98/45/dTwgGfJP_o.png" width="403"></p> 
<p style="text-align:justify;">3、解压</p> 
<p style="text-align:justify;"></p> 
<pre><code class="hljs">[root@1-0001 ~]# cd /data/mysql

[root@1-0001 mysql]# tar -zxvf mysql-5.7.44-linux-glibc2.12-x86_64.tar.gz</code></pre> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="text-align:justify;">4、卸载系统的mariadb数据库</p> 
<p style="margin-left:.0001pt;text-align:justify;"><strong><strong>查询安装的</strong></strong>mariadb<strong><strong>数据库</strong></strong></p> 
<p style="margin-left:.0001pt;text-align:justify;">rpm -qa | grep mariadb</p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="97" src="https://images2.imgbox.com/95/0f/rOBSuvs9_o.png" width="413"></p> 
<pre><code class="hljs">[root@1-0001 ~]# rpm -qa | grep mariadb
mariadb-common-10.3.9-12.p01.ky10.x86_64
mariadb-10.3.9-12.p01.ky10.x86_64
mariadb-errmessage-10.3.9-12.p01.ky10.x86_64
mariadb-connector-c-3.0.6-8.ky10.x86_64
mariadb-server-10.3.9-12.p01.ky10.x86_64</code></pre> 
<p style="margin-left:.0001pt;text-align:justify;"><strong><strong>5、使用命令</strong></strong><strong><strong> rpm -e --nodeps</strong></strong><strong><strong>卸载</strong></strong></p> 
<pre><code class="hljs">[root@1-0001 ~]# rpm -e --nodeps mariadb-common-10.3.9-12.p01.ky10.x86_64
[root@1-0001 ~]# rpm -e --nodeps mariadb-10.3.9-12.p01.ky10.x86_64
[root@1-0001 ~]# rpm -e --nodeps mariadb-errmessage-10.3.9-12.p01.ky10.x86_64
[root@1-0001 ~]# rpm -e --nodeps mariadb-connector-c-3.0.6-8.ky10.x86_64
[root@1-0001 ~]# rpm -e --nodeps mariadb-server-10.3.9-12.p01.ky10.x86_64</code></pre> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><strong><strong>6、继续查询是否存在玛丽数据库</strong></strong><strong><strong>rpm -qa | grep mariadb</strong></strong></p> 
<pre><code class="hljs">[root@1-0001 ~]# rpm -qa | grep mariadb</code></pre> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><strong><strong>7、卸载mysql数据，查询mysql</strong></strong></p> 
<pre><code class="hljs">[root@1-0001 ~]# rpm -qa | grep mysql
qt5-qtbase-mysql-5.11.1-13.p01.ky10.x86_64
python2-mysqlclient-1.3.12-8.ky10.x86_64</code></pre> 
<p style="margin-left:.0001pt;text-align:justify;"><strong><strong>8、使用</strong></strong><strong><strong>rpm -e --nodeps</strong></strong><strong><strong> 卸载mysql数据库</strong></strong></p> 
<pre><code class="hljs">[root@1-0001 ~]# rpm -e --nodeps qt5-qtbase-mysql-5.11.1-13.p01.ky10.x86_64
[root@1-0001 ~]# rpm -e --nodeps python2-mysqlclient-1.3.12-8.ky10.x86_64</code></pre> 
<p style="text-align:justify;">9、在解压的mysql包中，重新命名解压文件夹为mysql-5.7.44</p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="125" src="https://images2.imgbox.com/de/7e/Af6hYrut_o.png" width="317"></p> 
<p style="text-align:justify;">10、在文件夹mysql新建data、tmp和logs文件夹</p> 
<p style="text-align:justify;"><img alt="" height="315" src="https://images2.imgbox.com/c2/9c/2tKAI3r7_o.png" width="554"></p> 
<p style="text-align:justify;">11、创建用户和用户组，分配权限</p> 
<pre><code class="hljs"># 创建一个用户组：mysql

groupadd mysql

# 创建一个系统用户：mysql，指定用户组为mysql

useradd -r -g mysql mysql
chown -R mysql:mysql /data/mysql/mysql-5.7.44/data
chmod -R 750 /data/mysql/mysql-5.7.44/data
chmod 777 /data/mysql/mysql-5.7.44/tmp</code></pre> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="text-align:justify;">12、赋予mysql用户权限给mysql文件夹</p> 
<pre><code class="hljs">chown -R mysql:mysql /data/mysql/mysql-5.7.44</code></pre> 
<p style="text-align:justify;">13、设置配置文件mysql配置文件my.cnf（在文件夹/data/mysql/mysql-5.7.44/my.cnf）</p> 
<pre><code class="hljs"># For advice on how to change settings please see
# http://dev.mysql.com/doc/refman/5.7/en/server-configuration-defaults.html
# *** DO NOT EDIT THIS FILE. It's a template which will be copied to the
# *** default location during install, and will be replaced if you
# *** upgrade to a newer version of MySQL.
 
 
[mysqld]
lower_case_table_names=1
sql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES 
 
basedir = /data/mysql/mysql-5.7.44
datadir = /data/mysql/mysql-5.7.44/data
port = 3306
socket = /data/mysql/mysql-5.7.44/tmp/mysql.sock
character-set-server=utf8mb4

pid-file = /data/mysql/mysql-5.7.44/data/mysqld.pid

#log日志
log-error=/data/mysql/mysql-5.7.44/logs/mysql.err
log_bin = /data/mysql/mysql-5.7.44/logs/mysql-bin
relay_log = /data/mysql/mysql-5.7.44/logs/relay-bin
slow_query_log_file = /data/mysql/mysql-5.7.44/logs/slow.log
slow_query_log=on
log_bin_trust_function_creators=1
#开启相关日志
general_log=OFF



#设置唯一id
server-id=1
#指定bin-log为row类别，其他两种是statement、mixed
binlog_format=row
#对指定的数据库开启bin-log，这里是对wh数据库开启bin-log服务
binlog-do-db=wh



expire_logs_days = 30
#设置binlog清理时间
max_binlog_size = 1000m
#binlog每个日志文件大小
binlog_cache_size = 40m
#binlog缓存大小
max_binlog_cache_size = 5120m
#最大binlog缓存大小

</code></pre> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="text-align:justify;">14、初始化数据库</p> 
<pre><code class="hljs">cd /data/mysql/mysql-5.7.44/bin
./mysqld --defaults-file=/data/mysql/mysql-5.7.44/my.cnf  --lower-case-table-names=1 --initialize-insecure</code></pre> 
<p style="margin-left:.0001pt;text-align:justify;">15、启动mysql</p> 
<pre><code class="hljs">/data/mysql/mysql-5.7.44/bin/mysqld_safe --defaults-file=/data/mysql/mysql-5.7.44/my.cnf &amp;</code></pre> 
<p style="text-align:justify;">16、无密码登录mysql</p> 
<pre><code class="hljs">/data/mysql/mysql-5.7.44/bin/mysql -S /data/mysql/mysql-5.7.44/tmp/mysql.sock -u root --skip-password</code></pre> 
<p style="text-align:justify;">17、修改mysql密码同时允许远程访问，<strong>密码就是你设置的root登录密码</strong></p> 
<pre><code class="hljs">GRANT ALL ON *.* TO root@'%' IDENTIFIED BY '密码' WITH GRANT OPTION;
#刷新使配置生效
flush privileges;
#退出
quit</code></pre> 
<p style="text-align:justify;">18、连接数据库</p> 
<p style="text-align:justify;"><img alt="" height="304" src="https://images2.imgbox.com/2f/6f/WzGS6VVu_o.png" width="459"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><strong>说明：</strong></p> 
<p style="margin-left:.0001pt;text-align:justify;"><strong><strong>1、启动mysql</strong></strong></p> 
<p style="margin-left:.0001pt;text-align:justify;">/data/mysql/mysql-5.7.44/bin/mysqld_safe --defaults-file=/data/mysql/mysql-5.7.44/my.cnf &amp;</p> 
<p style="margin-left:.0001pt;text-align:justify;"><strong><strong>2、停止mysql</strong></strong></p> 
<p style="margin-left:.0001pt;text-align:justify;">/data/mysql/mysql-5.7.44/bin/mysqladmin -S /data/mysql/mysql-5.7.44/tmp/mysql.sock -u root -p shutdown</p> 
<p style="margin-left:.0001pt;text-align:justify;">3、在做11步骤的时候可能会无法启动，这里可能是你操作的时候使用root用户，创建的日志是root用户，但是执行是mysql用户，没有权限，所以可以重复执行给mysql配置一下权限命令：</p> 
<p style="margin-left:.0001pt;text-align:justify;">chown -R mysql:mysql /data/mysql/mysql-5.7.44</p> 
<p style="margin-left:.0001pt;text-align:justify;"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e668a55f2ded3f05f331eccf755d2fd9/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【Android】apk安装报错：包含病毒: a.gray.BulimiaTGen.f</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/562662a048c61381728c38432179692a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">YOLOv5部署到web端（flask&#43;js简单易懂）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>