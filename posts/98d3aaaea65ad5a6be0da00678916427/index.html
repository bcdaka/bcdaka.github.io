<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>centos7上安装MySQL并配置Hive - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/98d3aaaea65ad5a6be0da00678916427/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="centos7上安装MySQL并配置Hive">
  <meta property="og:description" content="目录
一.下载安装MySQL
1.在MySQL官网上下载。
2.上传MySQL到centos虚拟机上
3.解压并安装MySQL 二.安装配置Hive
1.下载hive
2.上传hive到虚拟机中
3.解压Apache-hive配置环境变量
1.解压Apache-hive
2.配置环境变量
4.配置hive的配置文件
1.配置hive-env.sh文件
2.配置hive-site.xml文件
5.解压mysql的jar包驱动
1.解压jar包
2.移动jar包到hive的目录下
6.格式化hive
7.启动hive
一.下载安装MySQL 1.在MySQL官网上下载。 1.搜索MySQL的官网，也可以点击https://www.mysql.com/进入MySQL的官网页面。 2. 进入页面后点击 downloads，进入下载页面
3.进入到 downloads界面后往下拉页面，选择MySQL Community Downloads
4.进入MySQL的社区下载，下载MySQL和jar包，需要注意的是hive的配置MySQL
的jar包，这里一并下载。
下载MySQL
点击 MySQL Community Server
进入页面后显示的是MySQL的最新版本，最新版本往往在自己的项目中会导致一些
问题，比如：jar包不全，版本冲突等。这里我们选择下载的是MySQL的8.0.26。这个与
我们所要搭配的Hive-3.1.3的版本是兼容的。
点击Archives，这里可以选择MySQL的旧版本。
进入到Archives界面后选择响应的版本系统，选择8.0.26版本，系统选择红帽
选择好版本后我们点击下载我们的MySQL版本
注：这里面下载文件最大的那一个版本，这里面包含了下面的文件，是这一版本
MySQL软件包的总和。
点击download下载，这里需要注意的是有的浏览器下载的时候会弹出是否需要帮助
的页面，只需要点击左下角不需要帮助就行了。
下载jar包(如果只是安装MySQL的不用下载jar包)
回到之前的MySQL社区下载的界面选择MySQL的jar
进入jar的界面选择 Archives，进到Archives界面后这次选择
2.上传MySQL到centos虚拟机上 点击Xftp 7连接我们的虚拟机
这里的Xftp 7我们可以在Xftp 7可以在官网上自行下载，这里就不阐述具体的下载了
3.解压并安装MySQL 1. 进入到我们的centos虚拟机，找到我们上传到文件目录下，这里的目录可以随意选择
在上传的过程中，我们默认放在/opt目录下用来管理安装的包
2.使用命令解压我们的MySQL安装包
解压命令为：
tar -xvf mysql-8.0.26-1.el7.x86_64.rpm-bundle.tar
这里如果想要将其解压到别的文件夹下可以使用
tar -xvf mysql-8.0.26-1.el7.x86_64.rpm-bundle.tar -C [所要存放的目录] 这里就解压到我们当前的目录下，需要注意的是解压出来是多个文件，所以放在一">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-05-23T21:16:48+08:00">
    <meta property="article:modified_time" content="2024-05-23T21:16:48+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">centos7上安装MySQL并配置Hive</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="%E4%B8%80.%E4%B8%8B%E8%BD%BDMySQL-toc" style="margin-left:0px;"><a href="#%E4%B8%80.%E4%B8%8B%E8%BD%BDMySQL" rel="nofollow">一.下载安装MySQL</a></p> 
<p id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A01.%E5%9C%A8MySQL%E5%AE%98%E7%BD%91%E4%B8%8A%E4%B8%8B%E8%BD%BD%E3%80%82-toc" style="margin-left:40px;"><a href="#%C2%A0%20%C2%A0%20%C2%A0%20%C2%A01.%E5%9C%A8MySQL%E5%AE%98%E7%BD%91%E4%B8%8A%E4%B8%8B%E8%BD%BD%E3%80%82" rel="nofollow">       1.在MySQL官网上下载。</a></p> 
<p id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%202.%E4%B8%8A%E4%BC%A0MySQL%E5%88%B0centos%E8%99%9A%E6%8B%9F%E6%9C%BA%E4%B8%8A-toc" style="margin-left:40px;"><a href="#%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%202.%E4%B8%8A%E4%BC%A0MySQL%E5%88%B0centos%E8%99%9A%E6%8B%9F%E6%9C%BA%E4%B8%8A" rel="nofollow">        2.上传MySQL到centos虚拟机上</a></p> 
<p id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%203.%E8%A7%A3%E5%8E%8B%E5%B9%B6%E5%AE%89%E8%A3%85MySQL%C2%A0-toc" style="margin-left:40px;"><a href="#%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%203.%E8%A7%A3%E5%8E%8B%E5%B9%B6%E5%AE%89%E8%A3%85MySQL%C2%A0" rel="nofollow">        3.解压并安装MySQL </a></p> 
<p id="%C2%A0%E4%BA%8C.%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AEHive-toc" style="margin-left:0px;"><a href="#%C2%A0%E4%BA%8C.%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AEHive" rel="nofollow"> 二.安装配置Hive</a></p> 
<p id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.%E4%B8%8B%E8%BD%BDhive-toc" style="margin-left:40px;"><a href="#%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.%E4%B8%8B%E8%BD%BDhive" rel="nofollow">        1.下载hive</a></p> 
<p id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A02.%E4%B8%8A%E4%BC%A0hive%E5%88%B0%E8%99%9A%E6%8B%9F%E6%9C%BA%E4%B8%AD-toc" style="margin-left:40px;"><a href="#%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A02.%E4%B8%8A%E4%BC%A0hive%E5%88%B0%E8%99%9A%E6%8B%9F%E6%9C%BA%E4%B8%AD" rel="nofollow">         2.上传hive到虚拟机中</a></p> 
<p id="3.%E8%A7%A3%E5%8E%8BApache-hive%E9%85%8D%E7%BD%AE%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F-toc" style="margin-left:40px;"><a href="#3.%E8%A7%A3%E5%8E%8BApache-hive%E9%85%8D%E7%BD%AE%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F" rel="nofollow">3.解压Apache-hive配置环境变量</a></p> 
<p id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.%E8%A7%A3%E5%8E%8BApache-hive-toc" style="margin-left:80px;"><a href="#%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.%E8%A7%A3%E5%8E%8BApache-hive" rel="nofollow">        1.解压Apache-hive</a></p> 
<p id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A02.%E9%85%8D%E7%BD%AE%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F-toc" style="margin-left:80px;"><a href="#%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A02.%E9%85%8D%E7%BD%AE%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F" rel="nofollow">         2.配置环境变量</a></p> 
<p id="4.%E9%85%8D%E7%BD%AEhive%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6-toc" style="margin-left:40px;"><a href="#4.%E9%85%8D%E7%BD%AEhive%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6" rel="nofollow">4.配置hive的配置文件</a></p> 
<p id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.%E9%85%8D%E7%BD%AEhive-env.sh%E6%96%87%E4%BB%B6-toc" style="margin-left:80px;"><a href="#%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.%E9%85%8D%E7%BD%AEhive-env.sh%E6%96%87%E4%BB%B6" rel="nofollow">        1.配置hive-env.sh文件</a></p> 
<p id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%202.%E9%85%8D%E7%BD%AEhive-site.xml%E6%96%87%E4%BB%B6-toc" style="margin-left:80px;"><a href="#%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%202.%E9%85%8D%E7%BD%AEhive-site.xml%E6%96%87%E4%BB%B6" rel="nofollow">        2.配置hive-site.xml文件</a></p> 
<p id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%205.%E8%A7%A3%E5%8E%8Bmysql%E7%9A%84jar%E5%8C%85%E9%A9%B1%E5%8A%A8-toc" style="margin-left:40px;"><a href="#%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%205.%E8%A7%A3%E5%8E%8Bmysql%E7%9A%84jar%E5%8C%85%E9%A9%B1%E5%8A%A8" rel="nofollow">        5.解压mysql的jar包驱动</a></p> 
<p id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.%E8%A7%A3%E5%8E%8Bjar%E5%8C%85-toc" style="margin-left:80px;"><a href="#%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.%E8%A7%A3%E5%8E%8Bjar%E5%8C%85" rel="nofollow">                1.解压jar包</a></p> 
<p id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%202.%E7%A7%BB%E5%8A%A8jar%E5%8C%85%E5%88%B0hive%E7%9A%84%E7%9B%AE%E5%BD%95%E4%B8%8B-toc" style="margin-left:80px;"><a href="#%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%202.%E7%A7%BB%E5%8A%A8jar%E5%8C%85%E5%88%B0hive%E7%9A%84%E7%9B%AE%E5%BD%95%E4%B8%8B" rel="nofollow">                2.移动jar包到hive的目录下</a></p> 
<p id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%206.%E6%A0%BC%E5%BC%8F%E5%8C%96hive-toc" style="margin-left:40px;"><a href="#%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%206.%E6%A0%BC%E5%BC%8F%E5%8C%96hive" rel="nofollow">        6.格式化hive</a></p> 
<p id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%207.%E5%90%AF%E5%8A%A8hive-toc" style="margin-left:40px;"><a href="#%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%207.%E5%90%AF%E5%8A%A8hive" rel="nofollow">        7.启动hive</a></p> 
<hr id="hr-toc"> 
<p></p> 
<h2 id="%E4%B8%80.%E4%B8%8B%E8%BD%BDMySQL">一.下载安装MySQL</h2> 
<h3 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A01.%E5%9C%A8MySQL%E5%AE%98%E7%BD%91%E4%B8%8A%E4%B8%8B%E8%BD%BD%E3%80%82">       1.在MySQL官网上下载。</h3> 
<p>                1.搜索MySQL的官网，也可以点击<a class="link-info" href="https://www.mysql.com/" rel="nofollow" title="https://www.mysql.com/">https://www.mysql.com/</a>进入MySQL的官网页面。   </p> 
<p class="img-center"><img alt="" height="200" src="https://images2.imgbox.com/6f/c8/UFciv29o_o.png" width="468"></p> 
<p>               2. 进入页面后点击 downloads，进入下载页面</p> 
<p style="text-align:center;"><img alt="" height="163" src="https://images2.imgbox.com/39/73/hVoSYCUJ_o.png" width="478">  </p> 
<p>                3.进入到 downloads界面后往下拉页面，选择MySQL Community Downloads</p> 
<p style="text-align:center;"><img alt="" height="159" src="https://images2.imgbox.com/95/01/FBZlBxSk_o.png" width="470"></p> 
<p>                 4.进入MySQL的社区下载，下载MySQL和jar包，需要注意的是hive的配置MySQL</p> 
<p>                   的jar包，这里一并下载。</p> 
<p>                   下载MySQL</p> 
<p>                        点击 MySQL Community Server</p> 
<p class="img-center"><img alt="" height="252" src="https://images2.imgbox.com/0a/1e/ziezBLrR_o.png" width="410"></p> 
<p>                        进入页面后显示的是MySQL的最新版本，最新版本往往在自己的项目中会导致一些</p> 
<p>                问题，比如：jar包不全，版本冲突等。这里我们选择下载的是MySQL的8.0.26。这个与</p> 
<p>                我们所要搭配的Hive-3.1.3的版本是兼容的。</p> 
<p>                        点击Archives，这里可以选择MySQL的旧版本。</p> 
<p class="img-center"><img alt="" height="197" src="https://images2.imgbox.com/3e/a5/WpMYMCZ9_o.png" width="486"></p> 
<p>                        进入到Archives界面后选择响应的版本系统，选择8.0.26版本，系统选择红帽</p> 
<p class="img-center"><img alt="" height="184" src="https://images2.imgbox.com/8d/35/xCzbgN9S_o.png" width="480"></p> 
<p>                        选择好版本后我们点击下载我们的MySQL版本</p> 
<p>                        注：这里面下载文件最大的那一个版本，这里面包含了下面的文件，是这一版本</p> 
<p>                MySQL软件包的总和。</p> 
<p class="img-center"><img alt="" height="159" src="https://images2.imgbox.com/bb/92/quGokR84_o.png" width="522"></p> 
<p>                        点击download下载，这里需要注意的是有的浏览器下载的时候会弹出是否需要帮助</p> 
<p>                的页面，只需要点击左下角不需要帮助就行了。</p> 
<p>                下载jar包(如果只是安装MySQL的不用下载jar包)</p> 
<p>                        回到之前的MySQL社区下载的界面选择MySQL的jar</p> 
<p class="img-center"><img alt="" height="257" src="https://images2.imgbox.com/97/43/SgZOlMq4_o.png" width="447"></p> 
<p>                        进入jar的界面选择 Archives，进到Archives界面后这次选择</p> 
<p class="img-center"><img alt="" height="173" src="https://images2.imgbox.com/61/e4/Ypy0nnmB_o.png" width="507"></p> 
<h3 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%202.%E4%B8%8A%E4%BC%A0MySQL%E5%88%B0centos%E8%99%9A%E6%8B%9F%E6%9C%BA%E4%B8%8A">        2.上传MySQL到centos虚拟机上</h3> 
<p>                点击Xftp 7连接我们的虚拟机</p> 
<p>                这里的Xftp 7我们可以在Xftp 7可以在官网上自行下载，这里就不阐述具体的下载了</p> 
<p class="img-center"><img alt="" height="279" src="https://images2.imgbox.com/7e/a7/pzoIwSsm_o.png" width="429"></p> 
<h3 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%203.%E8%A7%A3%E5%8E%8B%E5%B9%B6%E5%AE%89%E8%A3%85MySQL%C2%A0">        3.解压并安装MySQL </h3> 
<p>                1. 进入到我们的centos虚拟机，找到我们上传到文件目录下，这里的目录可以随意选择</p> 
<p>        在上传的过程中，我们默认放在/opt目录下用来管理安装的包</p> 
<p class="img-center"><img alt="" height="25" src="https://images2.imgbox.com/f1/ac/Mg71waCb_o.png" width="451"></p> 
<p>                2.使用命令解压我们的MySQL安装包</p> 
<p>                        解压命令为：</p> 
<p>                        tar -xvf mysql-8.0.26-1.el7.x86_64.rpm-bundle.tar</p> 
<p>                        这里如果想要将其解压到别的文件夹下可以使用</p> 
<p>                        tar -xvf mysql-8.0.26-1.el7.x86_64.rpm-bundle.tar -C [所要存放的目录] </p> 
<p>                        这里就解压到我们当前的目录下，需要注意的是解压出来是多个文件，所以放在一</p> 
<p>                个空文件夹下更好。解压出来是蓝色框中的几个数据。</p> 
<p class="img-center"><img alt="" height="187" src="https://images2.imgbox.com/93/e6/o5o6zXFX_o.png" width="441"></p> 
<p>                3.卸载centos7自带的mariadb库，这与MySQL数据库会产生冲突。</p> 
<p>                        使用rpm命令来查看自己的虚拟机上是否有mariadb</p> 
<p>                         rpm -qa |grep mariadb</p> 
<p class="img-center"><img alt="" height="30" src="https://images2.imgbox.com/d1/91/Yr1qiz3U_o.png" width="345"></p> 
<p>                        使用rpm命令删除 mariadb</p> 
<p>                        rpm -e --nodeps mariadb-libs</p> 
<p class="img-center"><img alt="" height="54" src="https://images2.imgbox.com/88/25/LB8NYm1f_o.png" width="421"></p> 
<p>                        <strong>这里需要注意的是如果出现提示权限不足时，需要提权，使用sudo su或者su</strong> </p> 
<p>                4.安装MySQL，需要注意的是在安装MySQL时它是需要有先后顺序的，这是因为在</p> 
<p>                rpm包中是有依赖关系的，安装顺序错误会报出缺少模块的错误，这里按照这样的顺序</p> 
<p>                安装。</p> 
<p>                        rpm -ivh mysql-community-common-8.0.26-1.el7.x86_64.rpm</p> 
<p>                        rpm -ivh mysql-community-client-plugins-8.0.26-1.el7.x86_64.rpm </p> 
<p>                        rpm -ivh mysql-community-libs-8.0.26-1.el7.x86_64.rpm</p> 
<p>                        rpm -ivh mysql-community-client-8.0.26-1.el7.x86_64.rpm</p> 
<p>                        rpm -ivh mysql-community-libs-compat-8.0.26-1.el7.x86_64.rpm</p> 
<p>                        rpm -ivh mysql-community-server-8.0.26-1.el7.x86_64.rpm</p> 
<p>                5.执行上述命令安装好后，对MySQL进行初始化</p> 
<p>                         mysqld --initialize --console</p> 
<p class="img-center"><img alt="" height="35" src="https://images2.imgbox.com/69/bb/QV9dUWYm_o.png" width="436"></p> 
<p>                6.修改MySQL文件使其MySQL的用户有权限直接使用</p> 
<p>                        chown -R mysql:mysql /var/lib/mysql/</p> 
<p>                7.启动MySQL的服务</p> 
<p>                         systemctl start mysqld</p> 
<p>                8.启动MySQL，并修改MySQL密码</p> 
<p>                        （1）先查看MySQL给我们设置的初始密码</p> 
<p>                                cat /var/log/mysqld.log |grep localhost</p> 
<p class="img-center"><img alt="" height="42" src="https://images2.imgbox.com/e4/25/iiE8O7ig_o.png" width="412"></p> 
<p>                       （2） 进入MySQL，并输入我们刚才所查找到的初始密码</p> 
<p>                                mysql -u root -p </p> 
<p class="img-center"><img alt="" height="191" src="https://images2.imgbox.com/7c/00/gE2WZb78_o.png" width="427"></p> 
<p>                        （3）修改密码，这里是必要要修改密码的，如果不修改密码会导致报</p> 
<p>                        You must reset your password using ALTER USER statement before executing </p> 
<p>                        this statement.错误</p> 
<p>                        （4）通过alter命令来修改MySQL的密码</p> 
<p>                        alter user 'root'@'localhost' identified by '你的密码';</p> 
<p>                         这里root是你的用户，localhost是你的主机，这里的密码需要设复杂一点要大于8 </p> 
<p>                位由大写，小写字母，数字和下划线组成。当然如果你不想设置复杂的密码可以修改</p> 
<p>                MySQL的密码策略。</p> 
<p>                        （5）退出MySQL，这里使用exit;退出，使用mysql -u root -p来重新启动MySQL</p> 
<p>                输入你刚才设置的MySQL密码。</p> 
<h2 id="%C2%A0%E4%BA%8C.%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AEHive"> 二.安装配置Hive</h2> 
<h3 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.%E4%B8%8B%E8%BD%BDhive">        1.下载hive</h3> 
<p>                1.搜索清华源</p> 
<p>                这里由于hive的官网在外国，下载起来比较缓慢，这里我们采用国内的镜像源，如：清华源，阿里源等。这里我们就使用清华源进行下载hive。</p> 
<p> 在百度中搜索清华源，一般第一个就是。</p> 
<p class="img-center"><img alt="" height="148" src="https://images2.imgbox.com/8d/dd/4EjPHEk8_o.png" width="411"></p> 
<p>                2.搜索Apache</p> 
<p>                进入清华源后点击搜索，输入Apache，hive属于Apache旗下</p> 
<p class="img-center"><img alt="" height="170" src="https://images2.imgbox.com/63/35/aW9Wu5MT_o.png" width="488"></p> 
<p>                 3.进入Apache后向下翻，找到hive，并点击进入hive</p> 
<p class="img-center"><img alt="" height="218" src="https://images2.imgbox.com/96/18/J6eVas77_o.png" width="494"></p> 
<p>                4. 进入到hive后根据自己的版本选择所要下载的hive版本，这里我们要下载的是hive-3.1.3版本</p> 
<p class="img-center"><img alt="" height="273" src="https://images2.imgbox.com/7a/34/dwWCX3ge_o.png" width="497"></p> 
<p>                5.进入到hive-3.1.3中后选择bin的文件进行下载。</p> 
<p class="img-center"><img alt="" height="168" src="https://images2.imgbox.com/fb/75/rwQ0BDmF_o.png" width="459"></p> 
<h3 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A02.%E4%B8%8A%E4%BC%A0hive%E5%88%B0%E8%99%9A%E6%8B%9F%E6%9C%BA%E4%B8%AD">         2.上传hive到虚拟机中</h3> 
<p>                1.是用Xftp 7上传hive到虚拟机中</p> 
<p class="img-center"><img alt="" height="332" src="https://images2.imgbox.com/e6/a2/6ukHSJY7_o.png" width="510"></p> 
<h3 id="3.%E8%A7%A3%E5%8E%8BApache-hive%E9%85%8D%E7%BD%AE%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F">3.解压Apache-hive配置环境变量</h3> 
<h4 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.%E8%A7%A3%E5%8E%8BApache-hive">        1.解压Apache-hive</h4> 
<p>                 1.使用cd命令移动到hive所上传的目录下</p> 
<p>                先在/opt目录下创建一个hadoop目录</p> 
<p>                mkdir /opt/hadoop</p> 
<p>                在hive所在的目录下使用解压</p> 
<p>                tar -zxvf apache-hive-3.1.3-bin.tar.gz -C /opt/hadoop/<br>  </p> 
<p class="img-center"><img alt="" height="128" src="https://images2.imgbox.com/2b/6d/QzXQS5eI_o.png" width="511"></p> 
<h4 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A02.%E9%85%8D%E7%BD%AE%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F">         2.配置环境变量</h4> 
<p>                1.使用cd 命令移动到/opt/hadoop目录下</p> 
<p>                        cd  /opt/hadoop/</p> 
<p>                2.使用mv命令移动修改目录方便接下来的配置</p> 
<p>                        mv apache-hive-3.1.3-bin/ hive-3.1.3/ </p> 
<p>                3.配置系统变量</p> 
<p>                        这里可以配置系统变量或者用户变量，这里我们直接配置系统变量就行。</p> 
<p>                        使用vim /etc/profile进入到系统变量当中，这里也可以在/etc/profile.d/目录下创建一个文件，这里在/etc/profile.d/创建一个my_env.sh。</p> 
<p>                        cd /etc/profile.d/</p> 
<p>                        touch my_env.sh</p> 
<p>                        chmod 777 my_env.sh</p> 
<p>                        vim /etc/profile.d/my_env.sh</p> 
<p>                        进入到my_env.sh文件中，添加hive的目录位置,这里填具体的位置</p> 
<p>                        #HIVE_HOME<br>                         export HIVE_HOME=/opt/hadoop/hive-3.1.3<br>                         export PATH=$PATH:$HIVE_HOME/bin</p> 
<p>                        使用source对文件进行文件进行刷新</p> 
<p>                        source /etc/profile</p> 
<h3 id="4.%E9%85%8D%E7%BD%AEhive%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6">4.配置hive的配置文件</h3> 
<h4 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.%E9%85%8D%E7%BD%AEhive-env.sh%E6%96%87%E4%BB%B6">        1.配置hive-env.sh文件</h4> 
<p>                1.cd到hive的conf目录下</p> 
<p>                        cd /opt/hadoop/hive-3.1.3/conf/</p> 
<p>                2.移动配置文件并配置其中的内容</p> 
<p>                       mv hive-env.sh.template hive-env.sh</p> 
<p>                        vim  hive-env.sh</p> 
<p>                        进入到hive-env.sh文件中到文件最后添加如下的配置(这里的路径选择自己的hadoop目录和hive的conf目录)</p> 
<p>                        点击键盘的i键</p> 
<p>                        HADOOP_HOME=/opt/hadoop/hadoop-3.1.3/</p> 
<p>                        export HIVE_CONF_DIR=/opt/hadoop/hive-3.1.3/conf</p> 
<p>                3.退出hive-env.sh</p> 
<p>                        点击键盘Esc键，输入冒号(:)，输入小写wq回车，就退出了。</p> 
<h4 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%202.%E9%85%8D%E7%BD%AEhive-site.xml%E6%96%87%E4%BB%B6">        2.配置hive-site.xml文件</h4> 
<p>                1.创建hive-site.xml</p> 
<p>                        vim hive-site.xml</p> 
<p>                2.配置hive-site.xml环境</p> 
<pre><code class="language-XML">&lt;?xml version="1.0"?&gt;
&lt;?xml-stylesheet type="text/xsl" href="configuration.xsl"?&gt;
&lt;configuration&gt;
&lt;property&gt;
    &lt;name&gt;hive.metastore.local&lt;/name&gt;
    &lt;value&gt;true&lt;/value&gt;
  &lt;/property&gt;
&lt;!--这里的hadoop101为mysql所存放的主机名称，如果是伪分布式的可以写localhost--&gt;
  &lt;property&gt;
    &lt;name&gt;javax.jdo.option.ConnectionURL&lt;/name&gt;
    &lt;value&gt;jdbc:mysql://hadoop101:3306/hive?createDatabaseIfNotExist=true&lt;/value&gt;
  &lt;/property&gt;
  &lt;property&gt;
    &lt;name&gt;javax.jdo.option.ConnectionDriverName&lt;/name&gt;
    &lt;value&gt;com.mysql.jdbc.Driver&lt;/value&gt;
  &lt;/property&gt;
&lt;!--这里的root为mysql的用户名--&gt;
  &lt;property&gt;
    &lt;name&gt;javax.jdo.option.ConnectionUserName&lt;/name&gt;
    &lt;value&gt;root&lt;/value&gt;
  &lt;/property&gt;
&lt;!--这里的A1b2_c3d4e5为mysql数据库的密码--&gt;
  &lt;property&gt;
    &lt;name&gt;javax.jdo.option.ConnectionPassword&lt;/name&gt;
    &lt;value&gt;A1b2_c3d4e5&lt;/value&gt;
  &lt;/property&gt;

&lt;/configuration&gt;
</code></pre> 
<p>                3.退出hive-site.xml文件</p> 
<h3 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%205.%E8%A7%A3%E5%8E%8Bmysql%E7%9A%84jar%E5%8C%85%E9%A9%B1%E5%8A%A8">        5.解压mysql的jar包驱动</h3> 
<h4 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%201.%E8%A7%A3%E5%8E%8Bjar%E5%8C%85">                1.解压jar包</h4> 
<p>                        1.这里的jar包已经在前面下载MySQL的时候已经下载了，这里就移动到下载jar包的目录下进行jar包的解压。</p> 
<p>                                 tar -zxvf mysql-connector-java-8.0.26.tar.gz</p> 
<h4 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%202.%E7%A7%BB%E5%8A%A8jar%E5%8C%85%E5%88%B0hive%E7%9A%84%E7%9B%AE%E5%BD%95%E4%B8%8B">                2.移动jar包到hive的目录下</h4> 
<p>                        1.移动到解压后的jar包目录下</p> 
<p>                                cd mysql-connector-java-8.0.26/</p> 
<p class="img-center"><img alt="" height="44" src="https://images2.imgbox.com/c5/29/IYfCtE2b_o.png" width="457"></p> 
<p>                        2.使用cp命令对jar包进行复制</p> 
<p>                                cp mysql-connector-java-8.0.26.jar /opt/hadoop/hive-3.1.3/lib/</p> 
<h3 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%206.%E6%A0%BC%E5%BC%8F%E5%8C%96hive">        6.格式化hive</h3> 
<p>                 使用格式化命令</p> 
<p>                        schematool -dbType mysql -initSchema</p> 
<h3 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%207.%E5%90%AF%E5%8A%A8hive">        7.启动hive</h3> 
<p>                1.启动Hadoop的进行，hive是基于Hadoop的来进行搭建的，他的数据时存储在hdfs中的，元数据存储在MySQL中。</p> 
<p>                        start-dfs.sh</p> 
<p>                        start-yarn.sh</p> 
<p>                2.启动hive</p> 
<p>                        hive</p> 
<p class="img-center"><img alt="" height="222" src="https://images2.imgbox.com/0c/c7/VAHoSN5t_o.png" width="479"></p> 
<p>                3.常见报错，在使用hive命令是报java.net.ConnectException: 拒绝连接; For more details see:  http://wiki.apache.org/hadoop/ConnectionRefused这是因为Hadoop的集群没有启动 </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/15bfee0959406b2b6e0c45ec90fb55bd/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">python 基于shp文件绘制完整中国地图（matplotlib,cartopy)</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f9033084aab4ef3bce8f3c2065e46c46/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">OpenAI、微软、智谱AI 等全球 16 家公司共同签署前沿人工智能安全承诺</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>