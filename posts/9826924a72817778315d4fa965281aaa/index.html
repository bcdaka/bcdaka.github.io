<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Shell教程_在Bash_Shell中使用for循环详解 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/9826924a72817778315d4fa965281aaa/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="Shell教程_在Bash_Shell中使用for循环详解">
  <meta property="og:description" content="Shell教程_在Bash_Shell中使用for循环详解 在编程语言中, 循环是必不可少的组件, 当您想要一遍又一遍地重复代码直到满足指定条件时使用。
在 Bash 脚本中, 循环扮演着几乎相同的角色, 并用于自动执行重复性任务, 就像在编程语言中一样。
在 Bash 脚本中, 有 3 种类型的循环: for 循环、while 循环和 until 循环。这三个用于迭代值列表并执行一组给定的命令。
在本指南中, 我们将重点介绍 Linux 中的 Bash For 循环。
for 循环语法 如前所述, for 循环遍历一系列值并执行一组 Linux 命令。
for 循环采用以下语法：
for variable_name in value1 value2 value3 .. n do command1 command2 commandn done 现在让我们检查 Bash 中 for 循环的几个示例用法。
for 循环示例 在最简单的形式中, for 循环采用以下基本格式。在此示例中, 变量 n 遍历一组用花括号括起来的数值, 并将它们的值打印到标准输出。
for n in {1 2 3 4 5 6 7}; do echo $n done 带有范围的 for 循环 在前面的示例中, 我们明确列出了要由 for 循环迭代的值, 效果很好。但是, 您只能想象如果您要迭代 (例如, 一百个值), 那将是一项多么繁琐和耗时的任务。这将迫使您键入从 1 到 100 的所有值。">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-09-02T16:24:44+08:00">
    <meta property="article:modified_time" content="2024-09-02T16:24:44+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Shell教程_在Bash_Shell中使用for循环详解</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="Shell_Bash_Shellfor_0"></a>Shell教程_在Bash_Shell中使用for循环详解</h2> 
<p>在编程语言中, 循环是必不可少的组件, 当您想要一遍又一遍地重复代码直到满足指定条件时使用。</p> 
<p>在 Bash 脚本中, 循环扮演着几乎相同的角色, 并用于自动执行重复性任务, 就像在编程语言中一样。</p> 
<p>在 Bash 脚本中, 有 3 种类型的循环: for 循环、while 循环和 until 循环。这三个用于迭代值列表并执行一组给定的命令。</p> 
<p>在本指南中, 我们将重点介绍 Linux 中的 Bash For 循环。</p> 
<h3><a id="for__10"></a>for 循环语法</h3> 
<p>如前所述, for 循环遍历一系列值并执行一组 Linux 命令。</p> 
<p>for 循环采用以下语法：</p> 
<pre><code class="prism language-shell"><span class="token keyword">for</span> <span class="token for-or-select variable">variable_name</span> <span class="token keyword">in</span> value1 value2 value3  <span class="token punctuation">..</span> n
<span class="token keyword">do</span>
    command1
    command2
    commandn
<span class="token keyword">done</span>
</code></pre> 
<p>现在让我们检查 Bash 中 for 循环的几个示例用法。</p> 
<h3><a id="for__27"></a>for 循环示例</h3> 
<p>在最简单的形式中, for 循环采用以下基本格式。在此示例中, 变量 n 遍历一组用花括号括起来的数值, 并将它们的值打印到标准输出。</p> 
<pre><code class="prism language-shell"><span class="token keyword">for</span> <span class="token for-or-select variable">n</span> <span class="token keyword">in</span> <span class="token punctuation">{<!-- --></span><span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token number">4</span> <span class="token number">5</span> <span class="token number">6</span> <span class="token number">7</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">do</span>
   <span class="token builtin class-name">echo</span> <span class="token variable">$n</span>
<span class="token keyword">done</span>
</code></pre> 
<h3><a id="_for__38"></a>带有范围的 for 循环</h3> 
<p>在前面的示例中, 我们明确列出了要由 for 循环迭代的值, 效果很好。但是, 您只能想象如果您要迭代 (例如, 一百个值), 那将是一项多么繁琐和耗时的任务。这将迫使您键入从 1 到 100 的所有值。</p> 
<p>要解决此问题, 请指定一个范围。为此, 请指定以两个句点分隔的开始和停止编号。</p> 
<p>在此示例中, 1 是第一个值, 而 7 是范围中的最后一个值。</p> 
<pre><code class="prism language-shell"><span class="token shebang important">#!/bin/bash</span>

<span class="token keyword">for</span> <span class="token for-or-select variable">n</span> <span class="token keyword">in</span> <span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">..</span><span class="token number">7</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">do</span>
   <span class="token builtin class-name">echo</span> <span class="token variable">$n</span>
<span class="token keyword">done</span>
</code></pre> 
<p>执行 Shell 脚本后, 将列出范围内的所有值, 类似于我们在简单循环中的情况。</p> 
<p>此外, 我们可以在范围的末尾包含一个值, 该值将导致 for 循环以增量步骤迭代这些值。</p> 
<p>以下 Bash 脚本打印 1 到 7 之间的值, 从第一个值开始在这些值之间增加 2 个步长。</p> 
<pre><code class="prism language-shell"><span class="token shebang important">#!/bin/bash</span>

<span class="token keyword">for</span> <span class="token for-or-select variable">n</span> <span class="token keyword">in</span> <span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">..</span><span class="token number">7</span><span class="token punctuation">..</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">do</span>
   <span class="token builtin class-name">echo</span> <span class="token variable">$n</span>
<span class="token keyword">done</span>
</code></pre> 
<p>从上面的示例中, 您可以看到循环将花括号内的值递增了 2 个值。</p> 
<h3><a id="_for__72"></a>数组 for 循环:</h3> 
<p>您还可以使用 for 循环轻松地遍历数组中定义的值。在以下示例中, for 循环遍历 fruits 数组中的所有值并将它们打印到标准输出。</p> 
<pre><code class="prism language-shell"><span class="token shebang important">#!/bin/bash</span>

<span class="token assign-left variable">fruits</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">"blueberry"</span> <span class="token string">"peach"</span> <span class="token string">"mango"</span> <span class="token string">"pineapple"</span> <span class="token string">"papaya"</span><span class="token punctuation">)</span> 

<span class="token keyword">for</span> <span class="token for-or-select variable">n</span> <span class="token keyword">in</span> <span class="token variable">${fruits<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span><span class="token punctuation">;</span> 
<span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> <span class="token variable">$n</span>
<span class="token keyword">done</span>
</code></pre> 
<p>@ 运算符访问或定位所有元素。这使得一个一个地遍历所有元素成为可能。</p> 
<p>此外, 您可以通过指定其在数组中的位置来访问单个元素。</p> 
<p>例如, 要访问 “mango” 元素, 请将 @ 运算符替换为元素在数组中的位置 (第一个元素从 0 开始, 因此在这种情况下, “mango” 将用 2 表示)。</p> 
<p>这就是 for 循环的样子。</p> 
<pre><code class="prism language-shell"><span class="token shebang important">#!/bin/bash</span>

<span class="token assign-left variable">fruits</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">"blueberry"</span> <span class="token string">"peach"</span> <span class="token string">"mango"</span> <span class="token string">"pineapple"</span> <span class="token string">"papaya"</span><span class="token punctuation">)</span> 

<span class="token keyword">for</span> <span class="token for-or-select variable">n</span> <span class="token keyword">in</span> <span class="token variable">${fruits<span class="token punctuation">[</span>2<span class="token punctuation">]</span>}</span><span class="token punctuation">;</span> 
<span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> <span class="token variable">$n</span>
<span class="token keyword">done</span>
</code></pre> 
<h3><a id="C__for__106"></a>C 风格的 for 循环:</h3> 
<p>您可以在循环内使用变量来迭代一系列元素。这就是 C 风格的 for 循环的用武之地。以下示例说明了 C 风格的 for 循环, 它打印出从 1 到 7 的数值列表。</p> 
<pre><code class="prism language-shell"><span class="token shebang important">#!/bin/bash</span>

<span class="token assign-left variable">n</span><span class="token operator">=</span><span class="token number">7</span>
<span class="token keyword">for</span> <span class="token variable"><span class="token punctuation">((</span> n<span class="token operator">=</span><span class="token number">1</span> <span class="token punctuation">;</span> n<span class="token operator">&lt;=</span>$n <span class="token punctuation">;</span> n<span class="token operator">++</span> <span class="token punctuation">))</span></span><span class="token punctuation">;</span> 
<span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> <span class="token variable">$n</span>
<span class="token keyword">done</span>
</code></pre> 
<h3><a id="C__for__120"></a>C 风格的带有条件语句的 for 循环:</h3> 
<p>您可以在 C 风格的 for 循环中包含条件语句。在下面的示例中, 我们包含了一个 if-else 语句, 用于检查并打印出 1 到 7 之间的偶数和奇数。</p> 
<pre><code class="prism language-shell"><span class="token shebang important">#!/bin/bash</span>

<span class="token keyword">for</span> <span class="token variable"><span class="token punctuation">((</span> n<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span> n<span class="token operator">&lt;=</span><span class="token number">7</span><span class="token punctuation">;</span> n<span class="token operator">++</span> <span class="token punctuation">))</span></span>
<span class="token keyword">do</span>  
    <span class="token comment"># Check if the number is even or not</span>
    <span class="token keyword">if</span> <span class="token variable"><span class="token punctuation">((</span> $n<span class="token operator">%</span><span class="token number">2</span><span class="token operator">==</span><span class="token number">0</span> <span class="token punctuation">))</span></span>
    <span class="token keyword">then</span>
        <span class="token builtin class-name">echo</span> <span class="token string">"<span class="token variable">$n</span> is even"</span>
    <span class="token keyword">else</span>
        <span class="token builtin class-name">echo</span> <span class="token string">"<span class="token variable">$n</span> is odd"</span>
    <span class="token keyword">fi</span>  
<span class="token keyword">done</span>
</code></pre> 
<h3><a id="_Continue__139"></a>使用 “Continue” 语句:</h3> 
<p>“continue” 语句是控制脚本运行方式的内置命令。除了 Bash 脚本之外, 它还用于 Python 和 Java 等编程语言。</p> 
<p>continue 语句在满足特定条件时停止循环内的当前迭代, 然后恢复迭代。</p> 
<p>考虑如下所示的 for 循环。</p> 
<pre><code class="prism language-shell"><span class="token shebang important">#!/bin/bash</span>
<span class="token keyword">for</span> <span class="token for-or-select variable">n</span> <span class="token keyword">in</span> <span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">..</span><span class="token number">10</span><span class="token punctuation">}</span>
<span class="token keyword">do</span>
       <span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token variable">$n</span> <span class="token parameter variable">-eq</span> <span class="token string">'6'</span> <span class="token punctuation">]</span><span class="token punctuation">]</span>
       <span class="token keyword">then</span>
             <span class="token builtin class-name">echo</span> <span class="token string">"Target <span class="token variable">$n</span> has been reached"</span>
             <span class="token builtin class-name">continue</span>
       <span class="token keyword">fi</span>
       <span class="token builtin class-name">echo</span> <span class="token variable">$n</span>
<span class="token keyword">done</span>
</code></pre> 
<p>这是代码的作用:</p> 
<pre><code class="prism language-txt">第 2 行: 标记 for 循环的开始, 并将变量 n 从 1 迭代到 10。
第 4 行: 检查 n 的值, 如果变量等于 6, 则脚本向标准输出回显一条消息并在第 2 行的下一次迭代中重新启动循环。
第 9 行: 仅当第 4 行的条件为假时才将值打印到屏幕。
</code></pre> 
<h3><a id="_break__168"></a>使用 “break” 语句:</h3> 
<p>顾名思义, “break” 语句会在满足条件时停止或结束迭代。</p> 
<p>考虑下面的 for 循环。</p> 
<pre><code class="prism language-shell"><span class="token shebang important">#!/bin/bash</span>
<span class="token keyword">for</span> <span class="token for-or-select variable">n</span> <span class="token keyword">in</span> <span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">..</span><span class="token number">10</span><span class="token punctuation">}</span>
<span class="token keyword">do</span>
        <span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token variable">$n</span> <span class="token parameter variable">-eq</span> <span class="token string">'6'</span> <span class="token punctuation">]</span><span class="token punctuation">]</span>
        <span class="token keyword">then</span>
                <span class="token builtin class-name">echo</span> <span class="token string">"Target <span class="token variable">$n</span> has been reached"</span>
                <span class="token builtin class-name">break</span>
        <span class="token keyword">fi</span>
        <span class="token builtin class-name">echo</span> <span class="token variable">$n</span>
<span class="token keyword">done</span>
<span class="token builtin class-name">echo</span> <span class="token string">"All done"</span>
</code></pre> 
<p>这是代码的作用:</p> 
<pre><code class="prism language-txt">第 2 行: 标记 for 循环的开始, 并将变量 n 从 1 迭代到 10。
第 4 行: 检查 n 的值, 如果变量等于 6, 则脚本向标准输出回显一条消息并停止迭代。
第 9 行: 仅当第 4 行的条件为假时才将数字打印到屏幕上。
</code></pre> 
<p>从输出中可以看出, 一旦变量满足循环条件, 循环就会停止。</p> 
<h3><a id="_198"></a>总结</h3> 
<p>以上就是关于 Shell教程 在Bash_Shell中使用for循环详解 的全部内容。</p> 
<p>更多内容可以访问我的代码仓库:</p> 
<p>https://gitee.com/goufeng928/public</p> 
<p>https://github.com/goufeng928/public</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e50ca10c498dd0b6ee0fc9a226595e60/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">期权权利金要多少？期权保证金和权利金有什么区别？</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a53f9dce3dad66839514531588d23d66/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">iPhone出现4013错误的和解决方案分享</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>