<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【C&#43;&#43;】优先级队列(容器适配器) - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/881da6b656bc12f8d3f3bc364f21e54a/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="【C&#43;&#43;】优先级队列(容器适配器)">
  <meta property="og:description" content="欢迎来到我的Blog，点击关注哦💕
前言 string vector list 这种线性结构是最基础的存储结构，C&#43;&#43;（STL）container很好的帮助我们数据存储的问题。
容器适配器 介绍 容器适配器是C&#43;&#43;标准模板库（STL）中的一种设计模式，它允许将一个容器的接口转换为另一个接口，从而提供不同的操作和行为。容器适配器通常用于封装现有容器，以实现特定的数据结构特性，如栈（后进先出）、队列（先进先出）和优先队列（根据优先级排序）。 应用 栈（stack）：栈是一种后进先出的数据结构，其操作包括入栈（push）、出栈（pop）、查看栈顶元素（top）等。栈适配器可以基于多种底层容器实现，如vector、deque或list.
队列（queue）：队列是一种先进先出的数据结构，其操作包括入队（push）、出队（pop）、查看队首元素（front）和查看队尾元素（back）。队列适配器同样可以基于deque或list实现，以适应不同的性能需求.
优先队列（priority_queue）：优先队列是一种特殊的队列，它根据元素的优先级进行排序。其底层容器通常是vector或deque，并通过堆算法维护元素的优先级顺序。优先队列适配器提供了插入和删除具有最高优先级元素的操作.
双重结束队列（双端队列（deque）） 特点 双端操作效率：支持在两端进行快速的插入和删除操作。随机访问：可以通过索引直接访问容器中的元素。无需预先分配固定大小：与vector不同，deque不需要在创建时指定大小，它可以根据需要动态增长。内存分配策略：deque不需要像vector那样一次性分配大量内存，而是分散在内存中，这有助于减少内存碎片。 存储结构 双端队列底层是一段假象的连续空间，实际是分段连续的，为了维护其“整体连续”以及随机访问的假象，落 在了deque的迭代器身上，因此deque的迭代器设计就比较复杂，如下图所示：
List 、vector deque对比 对比维度VectorDequeList内存连续性是否否随机访问性能O(1)O(1) 但可能不如VectorO(n)插入/删除性能非末尾O(n)两端O(1), 中间O(n)两端及中间O(1)内存重用效率扩容时需移动元素两端添加删除不需移动不适用内存分配模式动态数组，连续内存分段连续内存非连续内存迭代器失效可能不会不会支持的操作[] 访问、.at() 等[] 访问、.at() 等[] 访问、.at() 等内存管理开销高（扩容时）中等（两端操作）低适用场景需要快速随机访问且元素数量稳定需要两端快速插入删除，随机访问需求适中频繁插入删除，不关心随机访问 栈（stack） 栈的介绍 函数说明接口说明stack()构造空的栈empty()检测stack是否为空size()返回stack中元素的个数top()返回栈顶元素的引用push()将元素val压入stack中pop()将stack中尾部的元素弹出 栈的模拟实现 利用容器适配器的设计原理，很容易实现栈
将栈放mystack的命名空间，以防止和库中冲突类模板设计container可以给缺省参数，默认deque(容器适配器)在里面利用deque的接口实现 namespace mystack { template&lt;class T, class Container = std::deque&lt;T&gt;&gt; class stack { public: void push_back(const T&amp; x) { _con.push_back(x); } void pop() { _con.pop_back(); } size_t size() { return _con.size(); } T&amp; top() { return _con.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-08-09T12:14:23+08:00">
    <meta property="article:modified_time" content="2024-08-09T12:14:23+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【C&#43;&#43;】优先级队列(容器适配器)</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><a href="https://blog.csdn.net/Cayyyy?spm=1011.2415.3001.5343">欢迎来到我的Blog，点击关注哦💕</a></p> 
<h2><a id="_2"></a>前言</h2> 
<blockquote> 
 <p><code>string</code> <code>vector</code> <code>list</code> 这种线性结构是最基础的存储结构，C++（<code>STL</code>）container很好的帮助我们数据存储的问题。</p> 
</blockquote> 
<h3><a id="_6"></a>容器适配器</h3> 
<h4><a id="_8"></a>介绍</h4> 
<ul><li>容器适配器是C++标准模板库（<code>STL</code>）中的一种设计模式，它允许将一个容器的接口转换为另一个接口，从而提供不同的操作和行为。</li><li>容器适配器通常用于封装现有容器，以实现特定的数据结构特性，如栈（后进先出）、队列（先进先出）和优先队列（根据优先级排序）。</li></ul> 
<h4><a id="_13"></a>应用</h4> 
<ul><li> <p><strong>栈（stack）</strong>：栈是一种后进先出的数据结构，其操作包括入栈（push）、出栈（pop）、查看栈顶元素（top）等。栈适配器可以基于多种底层容器实现，如<code>vector</code>、<code>deque</code>或<code>list</code>.</p> </li><li> <p><strong>队列（queue）</strong>：队列是一种先进先出的数据结构，其操作包括入队（push）、出队（pop）、查看队首元素（front）和查看队尾元素（back）。队列适配器同样可以基于<code>deque</code>或<code>list</code>实现，以适应不同的性能需求.</p> </li><li> <p><strong>优先队列（priority_queue）</strong>：优先队列是一种特殊的队列，它根据元素的优先级进行排序。其底层容器通常是<code>vector</code>或<code>deque</code>，并通过堆算法维护元素的优先级顺序。优先队列适配器提供了插入和删除具有最高优先级元素的操作.</p> </li></ul> 
<h2><a id="deque_20"></a>双重结束队列（双端队列（<code>deque</code>））</h2> 
<h3><a id="_22"></a>特点</h3> 
<ul><li><strong>双端操作效率</strong>：支持在两端进行快速的插入和删除操作。</li><li><strong>随机访问</strong>：可以通过索引直接访问容器中的元素。</li><li><strong>无需预先分配固定大小</strong>：与<code>vector</code>不同，<code>deque</code>不需要在创建时指定大小，它可以根据需要动态增长。</li><li><strong>内存分配策略</strong>：<code>deque</code>不需要像<code>vector</code>那样一次性分配大量内存，而是分散在内存中，这有助于减少内存碎片。</li></ul> 
<h3><a id="_29"></a>存储结构</h3> 
<p>双端队列底层是一段假象的连续空间，实际是分段连续的，为了维护其“整体连续”以及随机访问的假象，落 在了<code>deque</code>的迭代器身上，因此<code>deque</code>的迭代器设计就比较复杂，如下图所示：</p> 
<p><img src="https://images2.imgbox.com/24/6c/GJjiAHnn_o.png" alt="外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传"></p> 
<h3><a id="List_vector_deque_35"></a><code>List</code> 、<code>vector</code> <code>deque</code>对比</h3> 
<table><thead><tr><th>对比维度</th><th>Vector</th><th>Deque</th><th>List</th></tr></thead><tbody><tr><td>内存连续性</td><td>是</td><td>否</td><td>否</td></tr><tr><td>随机访问性能</td><td>O(1)</td><td>O(1) 但可能不如Vector</td><td>O(n)</td></tr><tr><td>插入/删除性能</td><td>非末尾O(n)</td><td>两端O(1), 中间O(n)</td><td>两端及中间O(1)</td></tr><tr><td>内存重用效率</td><td>扩容时需移动元素</td><td>两端添加删除不需移动</td><td>不适用</td></tr><tr><td>内存分配模式</td><td>动态数组，连续内存</td><td>分段连续内存</td><td>非连续内存</td></tr><tr><td>迭代器失效</td><td>可能</td><td>不会</td><td>不会</td></tr><tr><td>支持的操作</td><td>[] 访问、.at() 等</td><td>[] 访问、.at() 等</td><td>[] 访问、.at() 等</td></tr><tr><td>内存管理开销</td><td>高（扩容时）</td><td>中等（两端操作）</td><td>低</td></tr><tr><td>适用场景</td><td>需要快速随机访问且元素数量稳定</td><td>需要两端快速插入删除，随机访问需求适中</td><td>频繁插入删除，不关心随机访问</td></tr></tbody></table> 
<h2><a id="stack_49"></a>栈（stack）</h2> 
<h3><a id="_51"></a>栈的介绍</h3> 
<table><thead><tr><th>函数说明</th><th>接口说明</th></tr></thead><tbody><tr><td>stack()</td><td>构造空的栈</td></tr><tr><td>empty()</td><td>检测stack是否为空</td></tr><tr><td>size()</td><td>返回stack中元素的个数</td></tr><tr><td>top()</td><td>返回栈顶元素的引用</td></tr><tr><td>push()</td><td>将元素val压入stack中</td></tr><tr><td>pop()</td><td>将stack中尾部的元素弹出</td></tr></tbody></table> 
<h3><a id="_62"></a>栈的模拟实现</h3> 
<p>利用<strong>容器适配器</strong>的设计原理，很容易实现<code>栈</code></p> 
<ul><li>将栈放<code>mystack</code>的命名空间，以防止和库中冲突</li><li>类模板设计<code>container</code>可以给缺省参数，默认<code>deque</code>(容器适配器)</li><li>在里面利用<code>deque</code>的接口实现</li></ul> 
<pre><code class="prism language-cpp"><span class="token keyword">namespace</span> mystack
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">Container</span> <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span>deque<span class="token operator">&lt;</span>T<span class="token operator">&gt;&gt;</span>
	<span class="token keyword">class</span> <span class="token class-name">stack</span>
	<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">public</span><span class="token operator">:</span>

		<span class="token keyword">void</span> <span class="token function">push_back</span><span class="token punctuation">(</span><span class="token keyword">const</span> T<span class="token operator">&amp;</span> x<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			_con<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">void</span> <span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			_con<span class="token punctuation">.</span><span class="token function">pop_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		size_t <span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _con<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		T<span class="token operator">&amp;</span> <span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _con<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">bool</span> <span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _con<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token keyword">private</span><span class="token operator">:</span>

		Container _con<span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="_106"></a>队列</h2> 
<h3><a id="_108"></a>队列介绍</h3> 
<table><thead><tr><th>函数声明</th><th>接口说明</th></tr></thead><tbody><tr><td>queue()</td><td>构造空的队列</td></tr><tr><td>empty()</td><td>检测队列是否为空，是返回true，否则返回false</td></tr><tr><td>size()</td><td>返回队列中有效元素的个数</td></tr><tr><td>front()</td><td>返回队头元素的引用</td></tr><tr><td>back()</td><td>返回队尾元素的引用</td></tr><tr><td>push()</td><td>在队尾将元素val入队列</td></tr><tr><td>pop()</td><td>将队头元素出队列</td></tr></tbody></table> 
<h3><a id="_120"></a>队列模拟实现</h3> 
<ul><li>将栈放<code>myqueue</code>的命名空间，以防止和库中冲突</li><li>类模板设计<code>container</code>可以给缺省参数，默认<code>deque</code>(容器适配器)</li><li>在里面利用<code>deque</code>的接口实现</li></ul> 
<pre><code class="prism language-cpp"><span class="token keyword">namespace</span> myqueue
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">Container</span> <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span>deque<span class="token operator">&lt;</span>T <span class="token operator">&gt;&gt;</span>
	<span class="token keyword">class</span> <span class="token class-name">queue</span>
	<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">public</span><span class="token operator">:</span>
		<span class="token keyword">void</span> <span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">const</span> T<span class="token operator">&amp;</span> x<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			_con<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">void</span> <span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			_con<span class="token punctuation">.</span><span class="token function">pop_front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		size_t <span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _con<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		T<span class="token operator">&amp;</span> <span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _con<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">bool</span> <span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _con<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token keyword">private</span><span class="token operator">:</span>

		Container _con<span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="priority_queue_161"></a>优先级队列（priority_queue）</h2> 
<h3><a id="_163"></a>基本原理</h3> 
<ul><li>优先级队列通常在内部使用堆数据结构来维护元素的优先级。</li><li>堆是一种完全二叉树，可以是最大堆或最小堆。</li><li>在最大堆中，父节点的值总是大于或等于其子节点的值，而在最小堆中，父节点的值总是小于或等于其子节点的值。</li><li>插入操作通过在堆的适当位置插入新元素并进行上调整（<code>heapify-up</code>）来维持堆的性质。</li><li>删除操作则涉及到移除堆顶元素（优先级最高的元素）并进行下调整（<code>heapify-down</code>），以恢复堆的结构。</li></ul> 
<h3><a id="priority_queue_171"></a><code>priority_queue</code>介绍</h3> 
<table><thead><tr><th>函数声明</th><th>接口说明</th></tr></thead><tbody><tr><td>priority_queue()/priority_queue(first, last)</td><td>构造一个空的优先级队列</td></tr><tr><td>empty( )</td><td>检测优先级队列是否为空，是返回true，否则返回 false</td></tr><tr><td>top( )</td><td>返回优先级队列中最大(最小元素)，即堆顶元素</td></tr><tr><td>push(x)</td><td>在优先级队列中插入元素x</td></tr><tr><td>pop()</td><td>删除优先级队列中最大(最小)元素，即堆顶元素</td></tr></tbody></table> 
<h3><a id="_httpsblogcsdnnetCayyyyarticledetails139603652spm1001201430015502_181"></a>优先级模拟实现 （<a href="https://blog.csdn.net/Cayyyy/article/details/139603652?spm=1001.2014.3001.5502">可以参考</a>）</h3> 
<h3><a id="_183"></a>仿函数</h3> 
<ul><li>仿函数（Functor）是C++中的一个编程概念，它指的是一个类或结构体，通过重载函数调用运算符<code>operator()</code>，使得这个类或结构体的对象可以像函数一样被调用。</li><li>仿函数可以包含状态，因为它们是对象，可以在构造函数中初始化状态，并在<code>operator()</code>中使用该状态。</li><li>仿函数可以作为参数传递给其他函数，包括<code>STL</code>算法中的函数，从而提供灵活的编程模型.</li></ul> 
<p><mark>这个就是一个仿函数</mark></p> 
<pre><code class="prism language-cpp"><span class="token comment">//小于</span>
<span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
	<span class="token keyword">class</span> <span class="token class-name">Less</span>
	<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">public</span><span class="token operator">:</span>
		<span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">const</span> T<span class="token operator">&amp;</span> a<span class="token punctuation">,</span><span class="token keyword">const</span> T<span class="token operator">&amp;</span> b<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> a <span class="token operator">&lt;</span> b<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">//大于</span>
<span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
	<span class="token keyword">class</span> <span class="token class-name">Greater</span>
	<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">public</span><span class="token operator">:</span>
		<span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">const</span> T<span class="token operator">&amp;</span> x<span class="token punctuation">,</span> <span class="token keyword">const</span> T<span class="token operator">&amp;</span> y<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> x <span class="token operator">&gt;</span> y<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<h3><a id="priority_queue_214"></a><code>priority_queue</code>两个关键</h3> 
<h4><a id="_216"></a>向下建堆</h4> 
<ul><li><strong>确定起始点</strong>：从最后一个非叶子节点开始向下建堆，这个节点也被称为堆的最后一个非叶子节点。在完全二叉树中，最后一个非叶子节点的索引可以通过 <code>(n - 1 - 1) / 2</code> 计算得到，其中 <code>n</code> 是数组的长度。</li><li><strong>执行向下调整</strong>：对每个非叶子节点执行向下调整操作，确保该节点与其子节点组成的子树满足堆的性质。向下调整的过程涉及到与子节点的比较和必要时的交换，直至到达堆的顶部或直到父节点不再违反堆的性质。</li><li><strong>迭代过程</strong>：从最后一个非叶子节点开始，逐步向上调整，直到根节点。每次调整后，更新当前节点的索引，以便进行下一次调整。</li><li><strong>完成建堆</strong>：重复步骤2和步骤3，直到根节点也满足堆的性质，此时整个数组就构建成了一个堆。</li></ul> 
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">AdjustDown</span><span class="token punctuation">(</span>size_t parent<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    compare com<span class="token punctuation">;</span><span class="token comment">//仿函数</span>

    size_t child <span class="token operator">=</span> parent <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token comment">//if (child+1&lt; _con.size() &amp;&amp; _con[child] &lt; _con[1+child])</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>child <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&lt;</span> _con<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token function">com</span><span class="token punctuation">(</span>_con<span class="token punctuation">[</span>child<span class="token punctuation">]</span> <span class="token punctuation">,</span>_con<span class="token punctuation">[</span><span class="token number">1</span> <span class="token operator">+</span> child<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//和上面等价</span>

    <span class="token punctuation">{<!-- --></span>
        <span class="token operator">++</span>child<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>child <span class="token operator">&lt;</span>_con<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">com</span><span class="token punctuation">(</span>_con<span class="token punctuation">[</span>parent<span class="token punctuation">]</span><span class="token punctuation">,</span> _con<span class="token punctuation">[</span>child<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            std<span class="token double-colon punctuation">::</span><span class="token function">swap</span><span class="token punctuation">(</span>_con<span class="token punctuation">[</span>child<span class="token punctuation">]</span><span class="token punctuation">,</span> _con<span class="token punctuation">[</span>parent<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            parent <span class="token operator">=</span> child<span class="token punctuation">;</span>
            child <span class="token operator">=</span> parent <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_253"></a>向上建堆</h4> 
<ul><li>初始化堆大小**：设置堆的大小为数组的大小，即 <code>n</code>。</li><li><strong>从最后一个非叶子节点开始向上调整</strong>：在完全二叉树中，最后一个非叶子节点的索引为 <code>floor((n - 1) / 2)</code>。从这个节点开始向上调整，确保每个节点都满足大根堆的性质。</li><li><strong>执行向上调整操作</strong>：对于每个非叶子节点，检查其与子节点的关系，并进行必要的交换，以确保父节点的值大于或等于其子节点的值。如果子节点中有一个或两个，选择较大的子节点与父节点进行比较。如果父节点的值小于子节点的值，交换它们的位置，并重新设置父节点为当前子节点，继续向上调整。</li><li><strong>重复步骤2和3</strong>：直到达到根节点，即堆的第一个元素。</li></ul> 
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">AdjustUp</span><span class="token punctuation">(</span><span class="token keyword">int</span> child<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    compare com<span class="token punctuation">;</span>

    <span class="token keyword">int</span> parent <span class="token operator">=</span> <span class="token punctuation">(</span>child <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>child <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">com</span><span class="token punctuation">(</span>_con<span class="token punctuation">[</span>parent<span class="token punctuation">]</span> <span class="token punctuation">,</span> _con<span class="token punctuation">[</span>child<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            std<span class="token double-colon punctuation">::</span><span class="token function">swap</span><span class="token punctuation">(</span>_con<span class="token punctuation">[</span>parent<span class="token punctuation">]</span><span class="token punctuation">,</span> _con<span class="token punctuation">[</span>child<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            child <span class="token operator">=</span> parent<span class="token punctuation">;</span>
            parent <span class="token operator">=</span> <span class="token punctuation">(</span>child <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="_283"></a>初始化数据</h3> 
<h4><a id="_285"></a>迭代器初始化</h4> 
<ul><li> <p>模板嵌套给，迭代器初始化</p> </li><li> <p>依次<code>push</code>数据，在进行堆的建立</p> </li></ul> 
<pre><code class="prism language-cpp"><span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">InputIterator</span><span class="token operator">&gt;</span>
<span class="token keyword">void</span> <span class="token function">push_back</span><span class="token punctuation">(</span>InputIterator first<span class="token punctuation">,</span> InputIterator last<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>first <span class="token operator">!=</span> last<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			_con<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token operator">*</span>first<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token operator">++</span>first<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">//向下建堆</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token punctuation">(</span>_con<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token function">AdjustDown</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="pop_311"></a>pop数据</h3> 
<ul><li>将一个个数据和最后一个数据进行交换（目的：保持当前堆的结构）</li><li><code>pop</code>出数据，将第一个数据进行向下调整</li></ul> 
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">swap</span><span class="token punctuation">(</span>_con<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> _con<span class="token punctuation">[</span>_con<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		
	_con<span class="token punctuation">.</span><span class="token function">pop_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token function">AdjustDown</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="push_327"></a>push数据</h3> 
<ul><li>将数据进行尾插入，进行<mark>向上调整</mark></li></ul> 
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">const</span> T<span class="token operator">&amp;</span> x<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    _con<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">AdjustUp</span><span class="token punctuation">(</span>_con<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="priority_queue_operators_340"></a>priority_queue operators</h3> 
<ul><li>top数据，返回首个数据；</li><li>其他常见操作，采取容器适配器设计模式的操作</li></ul> 
<pre><code class="prism language-cpp"><span class="token keyword">namespace</span> mypriority_queue
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">container</span> <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token punctuation">,</span><span class="token keyword">class</span> <span class="token class-name">compare</span> <span class="token operator">=</span> Less<span class="token operator">&lt;</span>T<span class="token operator">&gt;&gt;</span>

	<span class="token keyword">class</span> <span class="token class-name">priority_queue</span>
	<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">public</span><span class="token operator">:</span>
		<span class="token keyword">const</span> T<span class="token operator">&amp;</span> <span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _con<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		size_t <span class="token function">szie</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _con<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">bool</span> <span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _con<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

	<span class="token keyword">private</span><span class="token operator">:</span>
		container _con<span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="_374"></a>源码（优先级队列）</h2> 
<pre><code class="prism language-cpp"><span class="token keyword">namespace</span> mypriority_queue
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
	<span class="token keyword">class</span> <span class="token class-name">Less</span>
	<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">public</span><span class="token operator">:</span>
		<span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">const</span> T<span class="token operator">&amp;</span> a<span class="token punctuation">,</span><span class="token keyword">const</span> T<span class="token operator">&amp;</span> b<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> a <span class="token operator">&lt;</span> b<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>

	<span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
	<span class="token keyword">class</span> <span class="token class-name">Greater</span>
	<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">public</span><span class="token operator">:</span>
		<span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">const</span> T<span class="token operator">&amp;</span> x<span class="token punctuation">,</span> <span class="token keyword">const</span> T<span class="token operator">&amp;</span> y<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> x <span class="token operator">&gt;</span> y<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>

	<span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">container</span> <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token punctuation">,</span><span class="token keyword">class</span> <span class="token class-name">compare</span> <span class="token operator">=</span> Less<span class="token operator">&lt;</span>T<span class="token operator">&gt;&gt;</span>

	<span class="token keyword">class</span> <span class="token class-name">priority_queue</span>
	<span class="token punctuation">{<!-- --></span>


		<span class="token keyword">void</span> <span class="token function">AdjustDown</span><span class="token punctuation">(</span>size_t parent<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			compare com<span class="token punctuation">;</span>

			size_t child <span class="token operator">=</span> parent <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
			<span class="token comment">//if (child+1&lt; _con.size() &amp;&amp; _con[child] &lt; _con[1+child])</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>child <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&lt;</span> _con<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token function">com</span><span class="token punctuation">(</span>_con<span class="token punctuation">[</span>child<span class="token punctuation">]</span> <span class="token punctuation">,</span>_con<span class="token punctuation">[</span><span class="token number">1</span> <span class="token operator">+</span> child<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

			<span class="token punctuation">{<!-- --></span>
				<span class="token operator">++</span>child<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">while</span> <span class="token punctuation">(</span>child <span class="token operator">&lt;</span>_con<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">com</span><span class="token punctuation">(</span>_con<span class="token punctuation">[</span>parent<span class="token punctuation">]</span><span class="token punctuation">,</span> _con<span class="token punctuation">[</span>child<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
				<span class="token punctuation">{<!-- --></span>
					std<span class="token double-colon punctuation">::</span><span class="token function">swap</span><span class="token punctuation">(</span>_con<span class="token punctuation">[</span>child<span class="token punctuation">]</span><span class="token punctuation">,</span> _con<span class="token punctuation">[</span>parent<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
					parent <span class="token operator">=</span> child<span class="token punctuation">;</span>
					child <span class="token operator">=</span> parent <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				<span class="token keyword">else</span>
				<span class="token punctuation">{<!-- --></span>
					<span class="token keyword">break</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">void</span> <span class="token function">AdjustUp</span><span class="token punctuation">(</span><span class="token keyword">int</span> child<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			compare com<span class="token punctuation">;</span>

			<span class="token keyword">int</span> parent <span class="token operator">=</span> <span class="token punctuation">(</span>child <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
			<span class="token keyword">while</span> <span class="token punctuation">(</span>child <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">com</span><span class="token punctuation">(</span>_con<span class="token punctuation">[</span>parent<span class="token punctuation">]</span> <span class="token punctuation">,</span> _con<span class="token punctuation">[</span>child<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
				<span class="token punctuation">{<!-- --></span>
					std<span class="token double-colon punctuation">::</span><span class="token function">swap</span><span class="token punctuation">(</span>_con<span class="token punctuation">[</span>parent<span class="token punctuation">]</span><span class="token punctuation">,</span> _con<span class="token punctuation">[</span>child<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
					child <span class="token operator">=</span> parent<span class="token punctuation">;</span>
					parent <span class="token operator">=</span> <span class="token punctuation">(</span>child <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				<span class="token keyword">else</span>
				<span class="token punctuation">{<!-- --></span>
					<span class="token keyword">break</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		
		<span class="token punctuation">}</span>

	<span class="token keyword">public</span><span class="token operator">:</span>
		<span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">InputIterator</span><span class="token operator">&gt;</span>
		<span class="token keyword">void</span> <span class="token function">push_back</span><span class="token punctuation">(</span>InputIterator first<span class="token punctuation">,</span> InputIterator last<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">while</span> <span class="token punctuation">(</span>first <span class="token operator">!=</span> last<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				_con<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token operator">*</span>first<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token operator">++</span>first<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token comment">//向下建堆</span>
			<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token punctuation">(</span>_con<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token function">AdjustDown</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">void</span> <span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token function">swap</span><span class="token punctuation">(</span>_con<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> _con<span class="token punctuation">[</span>_con<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			
			_con<span class="token punctuation">.</span><span class="token function">pop_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

			<span class="token function">AdjustDown</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">const</span> T<span class="token operator">&amp;</span> <span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _con<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">void</span> <span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">const</span> T<span class="token operator">&amp;</span> x<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			_con<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>

			<span class="token function">AdjustUp</span><span class="token punctuation">(</span>_con<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		size_t <span class="token function">szie</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _con<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">bool</span> <span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _con<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

	<span class="token keyword">private</span><span class="token operator">:</span>
		container _con<span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre> 
<p>向下建堆<br> for (int i = (_con.size() - 2) / 2; i &gt;= 0; i–)<br> {<!-- --><br> AdjustDown(i);<br> }<br> }</p> 
<pre><code>	void pop()
	{
		swap(_con[0], _con[_con.size() - 1]);
		
		_con.pop_back();

		AdjustDown(0);
	}

	const T&amp; top()
	{
		return _con[0];
	}

	void push(const T&amp; x)
	{
		_con.push_back(x);

		AdjustUp(_con.size() - 1);
	}
	size_t szie()
	{
		return _con.size();
	}

	bool empty()
	{
		return _con.empty();
	}

private:
	container _con;
};
</code></pre> 
<p>}</p> 
<pre><code>
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/579e2be640429c406e245fa2dc46220a/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">初次运行android studio 报错-Installed Build Tools revision 35.0.0 is corrupted. Remove and install again u</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/7015600562aea5b9dc9af5772c4fdb77/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">BTC连续拉涨，击碎空头幻想</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>