<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Go语言time库，时间和日期相关的操作方法 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/fdf96fff9e50a51b88f0d80185b18360/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="Go语言time库，时间和日期相关的操作方法">
  <meta property="og:description" content="time库 用于处理时间、日期和时区的核心库。在实际开发中，常常需要与时间打交道，例如记录日志、处理时间差、计算时间间隔等等。因此，掌握time库的使用方法对于Go开发者来说非常重要。
在Go语言中，时间表示为time.Time类型，日期表示为time.Time类型或者time.Date类型，时区表示为time.Location类型。下面将详细介绍这些类型的概念及使用方法。
时间 在Go语言中，时间表示为time.Time类型。time.Time类型是一个结构体，包含两个字段：一个具有 century 和 second 等字段的大整数和一个小整数，分别表示时间的年份和时间的小数部分。
可以使用time包中的函数来获取当前时间、指定时间或者进行时间的加减操作。下面是一些常用的时间操作函数：
time.Now()：返回当前本地时间
time.Parse(layout, str)：将字符串str解析为指定格式layout的时间
time.Add(d time.Duration)：返回当前时间加上给定时间间隔d的结果
time.Sub(t, u time.Time)：返回时间t减去时间u的时间间隔
日期 日期表示为time.Time类型或者time.Date类型。其中，time.Time类型表示完整的的时间，包括时分秒等信息；而time.Date类型则只表示日期部分，不包含时间部分。
可以使用time包中的函数来获取指定日期的月份和日数，或者进行日期的加减操作。下面是一些常用的日期操作函数：
time.Month(month int)：返回指定的月份的字符串表示
time.Day()：返回当前日期中的天数
time.AddDate(year int, month int, day int)：返回指定年月日加上给定时间间隔的结果
time.Sub(t, u time.Time)：返回时间t减去时间u的时间间隔
时区 时区表示为time.Location类型。time.Location类型是一个结构体，包含一个字符串表示时区的标识符和一些字段，例如seconds 和 bias 等。
可以使用time包中的函数来获取指定时区的偏移量或者进行时区的转换。下面是一些常用的时区操作函数：
time.Local：表示本地时区
time.UTC：表示UTC时区
time.LoadLocation(name string)：返回指定时区名称的time.Location类型对象
time.In(loc time.Location, t time.Time)：返回指定时区的时间t转换为目标时区loc的结果
函数 time.Now(): 返回当前本地时间。
time.Parse(layout, str): 将字符串 str 解析为指定格式 layout 的时间。
time.Add(d time.Duration): 返回当前时间加上给定时间间隔 d 的结果。
time.Sub(t, u time.Time): 返回时间 t 减去时间 u 的时间间隔。">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2023-08-22T07:27:29+08:00">
    <meta property="article:modified_time" content="2023-08-22T07:27:29+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Go语言time库，时间和日期相关的操作方法</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><img alt="" height="800" src="https://images2.imgbox.com/55/fa/Z77gzupS_o.png" width="1200"></p> 
<h2>time库</h2> 
<p>用于处理时间、日期和时区的核心库。在实际开发中，常常需要与时间打交道，例如记录日志、处理时间差、计算时间间隔等等。因此，掌握time库的使用方法对于Go开发者来说非常重要。</p> 
<p>在Go语言中，时间表示为time.Time类型，日期表示为time.Time类型或者time.Date类型，时区表示为time.Location类型。下面将详细介绍这些类型的概念及使用方法。</p> 
<h3>时间</h3> 
<p>在Go语言中，时间表示为time.Time类型。time.Time类型是一个结构体，包含两个字段：一个具有 century 和 second 等字段的大整数和一个小整数，分别表示时间的年份和时间的小数部分。</p> 
<p>可以使用time包中的函数来获取当前时间、指定时间或者进行时间的加减操作。下面是一些常用的时间操作函数：</p> 
<p>time.Now()：返回当前本地时间<br> time.Parse(layout, str)：将字符串str解析为指定格式layout的时间<br> time.Add(d time.Duration)：返回当前时间加上给定时间间隔d的结果<br> time.Sub(t, u time.Time)：返回时间t减去时间u的时间间隔</p> 
<h3>日期</h3> 
<p>日期表示为time.Time类型或者time.Date类型。其中，time.Time类型表示完整的的时间，包括时分秒等信息；而time.Date类型则只表示日期部分，不包含时间部分。</p> 
<p>可以使用time包中的函数来获取指定日期的月份和日数，或者进行日期的加减操作。下面是一些常用的日期操作函数：</p> 
<p>time.Month(month int)：返回指定的月份的字符串表示<br> time.Day()：返回当前日期中的天数<br> time.AddDate(year int, month int, day int)：返回指定年月日加上给定时间间隔的结果<br> time.Sub(t, u time.Time)：返回时间t减去时间u的时间间隔</p> 
<h3>时区</h3> 
<p>时区表示为time.Location类型。time.Location类型是一个结构体，包含一个字符串表示时区的标识符和一些字段，例如seconds 和 bias 等。</p> 
<p>可以使用time包中的函数来获取指定时区的偏移量或者进行时区的转换。下面是一些常用的时区操作函数：</p> 
<p>time.Local：表示本地时区<br> time.UTC：表示UTC时区<br> time.LoadLocation(name string)：返回指定时区名称的time.Location类型对象<br> time.In(loc time.Location, t time.Time)：返回指定时区的时间t转换为目标时区loc的结果</p> 
<h3>函数</h3> 
<p>time.Now(): 返回当前本地时间。<br> time.Parse(layout, str): 将字符串 str 解析为指定格式 layout 的时间。<br> time.Add(d time.Duration): 返回当前时间加上给定时间间隔 d 的结果。<br> time.Sub(t, u time.Time): 返回时间 t 减去时间 u 的时间间隔。<br> time.Sub(t, u time.Time) time.Duration: 返回时间 t 减去时间 u 的时间间隔。<br> time.AddDate(years int, months int, days int) time.Time: 根据年、月、日的增量添加时间。<br> time.Since(t time.Time) time.Duration: 返回从 t 到现在的时间间隔。<br> time.Until(u time.Time) time.Duration: 返回从现在到 u 的时间间隔。<br> t.After(u)：如果 t 在 u 之后，返回 true，否则返回 false。<br> t.Before(u)：如果 t 在 u 之前，返回 true，否则返回 false。<br> time.Unix(sec int64, nanosec int64) time.Time: 将Unix时间戳转换为时间对象。<br> time.ParseUnix(str string, layout string) (sec int64, nanosec int64,err error): 将时间字符串按照指定格式解析为Unix时间戳。<br> time.Set(sec int64, n int) time.Time: 将当前时间设置为给定的秒数和纳秒数。<br> time.Sleep(d Duration): 以让程序在执行过程中暂停一段时间。<br> time.Hour() int: 返回当前小时的整数值。<br> time.Minute() int: 返回当前分钟的整数值。<br> time.Second() int: 返回当前秒的整数值。<br> time.Nanosecond() int: 返回当前纳秒的整数值。<br> time.Weekday() time.Weekday: 返回当前星期几的枚举值。<br> time.Day(): 返回当前日期的日数。<br> time.Month() time.Month: 返回当前月份的枚举值。<br> time.Year() int: 返回当前年份的整数值。<br> time.Date(year int, month time.Month, day, hour, min, sec, nanosec int, loc *time.Location) time.Time: 返回指定时间的本地时间对象。<br> time.isleap(year int) bool: 判断给定的年份是否为闰年。<br> time.UnixNano() int64: 返回当前时间的纳秒值。<br> time.Duration() time.Duration: 返回从0时0分0秒到现在的纳秒数。<br> time.ParseDuration(str string) (time.Duration, error): 将时间间隔字符串解析为时间间隔。<br> time.ParseInLocation(layout string, value string, loc *time.Location) (time.Time, error): 根据格式和时间值，解析时间，并指定时区。<br> time.Sunday: 返回星期几的枚举值，0为星期日，6为星期六，以此类推。<br> time.ParseDuration(str string) (time.Duration, error): 将时间间隔字符串解析为时间间隔。<br> time.Hour() time.Duration: 返回当前小时的时间间隔。<br> time.Minute() time.Duration: 返回当前分钟的时间间隔。<br> time.Second() time.Duration: 返回当前秒的时间间隔。<br> time.Nano() time.Duration: 返回当前纳秒的时间间隔。<br> time.ANSIC() string: 返回对应于 ANSI C 的字符串表示的日期时间。<br> time.FixedZone(name string, offset int) *time.Location: 返回一个固定时区对象。<br> time.LoadLocation(name string) (*time.Location, error): 加载一个时区对象。<br> time.In(t time.Time, loc *time.Location) time.Time: 将时间 t 转换为指定时区的时间。</p> 
<h3>类型</h3> 
<p>Time：表示时间点，包括日期和时间。<br> Date：表示日期，包括年、月、日。<br> LocalTime：表示本地时间。<br> Location：表示时区。<br> ZeroTime：表示时间的零点，即 1970 年 1 月 1 日 00:00:00 UTC。<br> Duration：它表示时间段，可以用纳秒、微秒、毫秒、秒等为单位。</p> 
<h3>示例</h3> 
<h4>代码1</h4> 
<pre><code class="language-Go">package main

import (
	"fmt"
	"time"
)

func main() {
	// 获取当前时间
	currentTime := time.Now()
	fmt.Println("Current Time:", currentTime)

	// 暂停程序执行 5 秒钟
	fmt.Print("Waiting for 5 seconds: ")
	for i := 0; i &lt; 5; i += 1 {
		time.Sleep(time.Second)
		fmt.Print(".")
	}
	fmt.Println()

	// 获取指定日期的本地时间
	year := 2023
	month := time.March
	day := 17
	hour := 0
	minute := 0
	second := 0
	nano := 0
	loc := &amp;time.Location{}
	date := time.Date(year, month, day, hour, minute, second, nano, loc)
	fmt.Println("Date:", date)

	// 将时间字符串转换为时间对象
	layout := "2006-01-02 15:04:05"
	value := "2023-03-23 08:30:00"
	parsedTime, err := time.Parse(layout, value)
	if err != nil {
		fmt.Println("Error:", err)
		return
	}
	fmt.Println("Parsed Time:", parsedTime)

	// 格式化时间对象为字符串
	format := "2006-01-02 15:04:05 MST"
	formattedTime := parsedTime.Format(format)
	fmt.Println("Formatted Time:", formattedTime)

	// 计算两个时间之间的时间差
	t2 := time.Now()
	diff := t2.Sub(parsedTime)
	fmt.Println("Time Difference:", diff)

	// 将时间对象转换为UTC时区
	utcTime := parsedTime.UTC()
	fmt.Println("UTC Time:", utcTime)

	// 将时间对象转换为本地时区
	localTime := parsedTime.In(time.Local)
	fmt.Println("Local Time:", localTime)
}
</code></pre> 
<p><strong>输出：</strong></p> 
<p>Current Time: 2023-08-01 20:15:11.0034059 +0800 CST<br> Waiting for 5 seconds: .....<br> Date: 2023-03-17 00:00:00 +0000 UTC<br> Parsed Time: 2023-03-23 08:30:00 +0000 UTC<br> Formatted Time: 2023-03-23 08:30:00 UTC<br> Time Difference: 3147h45m16.0065551s<br> UTC Time: 2023-03-23 08:30:00 +0000 UTC<br> Local Time: 2023-03-23 16:30:00 +0800 CST</p> 
<h4>代码2</h4> 
<pre><code class="language-Go">package main

import (
	"fmt"
	"time"
)

func main() {
	// 解析时间字符串为时间对象
	layout := "2006-01-02 15:04:05"
	strTime := "2023-03-23 12:30:00"
	t, err := time.Parse(layout, strTime)
	if err != nil {
		fmt.Println("时间解析错误:", err)
	}
	fmt.Println("解析后的时间:", t)

	// 时间加减
	d := time.Duration(24) * time.Hour
	t = t.Add(d)
	fmt.Println("加上一天的时间:", t)

	u := t.Add(-d)
	fmt.Println("减去一天的时间:", u)

	// 时间间隔
	diff := t.Sub(u)
	fmt.Println("加上一天和减去一天的时间间隔:", diff)

	// 时间格式化输出
	layout = "2006-01-02"
	t = time.Now()
	formattedTime := t.Format(layout)
	fmt.Println("格式化后的时间:", formattedTime)

	// 时间转换为Unix时间戳
	unixTime := t.Unix()
	fmt.Println("Unix时间戳:", unixTime)

	// 时间比较
	t1 := time.Now()
	t2 := t1.Add(time.Hour)
	diff = t2.Sub(t1)
	fmt.Println("t2 - t1 =", diff)
	fmt.Println("t1 &lt; t2:", t1.Before(t2))
	fmt.Println("t2 &gt; t1:", t2.After(t1))
}
</code></pre> 
<p><strong>输出：</strong></p> 
<p>解析后的时间: 2023-03-23 12:30:00 +0000 UTC<br> 加上一天的时间: 2023-03-24 12:30:00 +0000 UTC<br> 减去一天的时间: 2023-03-23 12:30:00 +0000 UTC<br> 加上一天和减去一天的时间间隔: 24h0m0s<br> 格式化后的时间: 2023-08-01<br> Unix时间戳: 1690892235<br> t2 - t1 = 1h0m0s<br> t1 &lt; t2: true<br> t2 &gt; t1: true</p> 
<hr> 
<h2>总结</h2> 
<p>本文介绍了Go语言中的time库，包括时间、日期和时区等相关概念及使用方法。通过掌握这些知识，可以更好地处理时间、日期和时区相关的问题，提高开发效率。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/904e74f75dc3d9182e150ba9f6aeef57/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">WebStorm前端开发神器：十大必装插件推荐</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c83e22896d9bab7241e4778e0d626c08/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">FastDFS与Nginx结合搭建文件服务器，并实现公网访问【内网穿透】</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>