<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Vue3路由配置createRouter、createWebHistory、useRouter,useRoute - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/94adb7c3eecb26509b916a3928561d56/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="Vue3路由配置createRouter、createWebHistory、useRouter,useRoute">
  <meta property="og:description" content="Vue3和Vue2基本差不多，只不过需要将createRouter、createWebHistory从vue-router中引入，再进行使用。
手动配置Vue-router环境： 1、下载包： npm i vue-router --save或者 npm i vue-router --S 或者用cdn引入
2、创建路由的js文件（路由、子路由、重定向、开启history模式）
createRouter、createWebHistory
//路由文件 import { createRouter, createWebHistory } from &#39;vue-router&#39; //将createRouter、createWebHistory引入vue const routes = [ { path: &#39;/&#39;, //配置默认路由 name: &#39;home&#39;, //路由名 component: () =&gt; import(&#34;../views/home.vue&#34;), //引入该路由使用的组件 }, { path: &#39;/a&#39;, name: &#39;a&#39;, component: () =&gt; import(&#39;../views/a.vue&#39;), redirect: &#39;/a/son1&#39;, children:[ //配置子路由 { path: &#39;/a/son1&#39;, //子路由路径前边必须写父路由路径 name: &#39;ason1&#39;, component: ()=&gt;import(&#34;../views/a-son1.vue&#34;)	} ] }, { path: &#39;/b&#39;, name: &#39;b&#39;, component: () =&gt; import(&#39;.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2023-12-26T18:37:50+08:00">
    <meta property="article:modified_time" content="2023-12-26T18:37:50+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Vue3路由配置createRouter、createWebHistory、useRouter,useRoute</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>Vue3和<a href="https://so.csdn.net/so/search?q=Vue2&amp;spm=1001.2101.3001.7020" title="Vue2">Vue2</a>基本差不多，只不过需要将<strong>createRouter</strong>、<strong>createWebHistory</strong>从<strong>vue-router</strong>中引入，再进行使用。</p> 
<h3 id="%E6%89%8B%E5%8A%A8%E9%85%8D%E7%BD%AEVue-router%E7%8E%AF%E5%A2%83%EF%BC%9A"><a name="t0"></a>手动配置<a href="https://so.csdn.net/so/search?q=Vue-router&amp;spm=1001.2101.3001.7020" title="Vue-router">Vue-router</a>环境：</h3> 
<blockquote> 
 <p>1、下载包： npm i vue-router --save或者 npm i vue-router --S    或者用cdn引入</p> 
 <p>2、创建路由的js文件（路由、子路由、重定向、开启history模式）</p> 
 <p>      <strong>createRouter、createWebHistory</strong></p> 
 <pre><code class="language-javascript">//路由文件
import { createRouter, createWebHistory } from 'vue-router'  //将createRouter、createWebHistory引入vue
const routes = [
  {
    path: '/',  //配置默认路由
    name: 'home', //路由名
    component: () =&gt; import("../views/home.vue"), //引入该路由使用的组件
  
  },
  {
    path: '/a',
	
    name: 'a',
    component: () =&gt; import('../views/a.vue'),
	redirect: '/a/son1',
	children:[ //配置子路由
		{
		path: '/a/son1', //子路由路径前边必须写父路由路径
		name: 'ason1',
		component: ()=&gt;import("../views/a-son1.vue")	
		}
	]
  },
  {
    path: '/b',
  	
    name: 'b',
    component: () =&gt; import('../views/b.vue'),
  	redirect: '/b/son1', //重定向，进入/b路由时默认进入/b/son1
  	children:[ //配置子路由
  		{
  		path: '/b/son1', //子路由路径前边必须写父路由路径
  		name: 'bson1',
  		component: ()=&gt;import("../views/b-son1.vue")	
  		}
  	]
  }
]
const router = createRouter({ //设置为history模式
  history: createWebHistory(),
  routes
})
 
 
export default router</code></pre> 
 <p>3、将配置的路由js文件引入到main.js中</p> 
 <pre></pre> 
 <pre><code class="language-javascript">import { createApp } from 'vue'
import App from './App.vue'
 
const app=createApp(App)
 
import router from "./router/index.js" //引入配置路由文件
app.use(router)//记得在mount之前调用
 
app.mount('#app')</code></pre> 
 <p>4、界面中使用<strong>router-view</strong>标签显示路由</p> 
</blockquote> 
<h3 id="%E7%BB%84%E4%BB%B6%E5%86%85%E9%83%A8%E8%B7%B3%E8%BD%AC%E8%B7%AF%E7%94%B1%E3%80%81%E4%BC%A0%E5%8F%82useRouter%2CuseRoute"><a name="t1"></a>组件内部跳转路由、传参useRouter,useRoute</h3> 
<p>vue3中，在组件内部跳转路由 需要使用<strong>useRouter</strong>,<strong>useRoute</strong>方法</p> 
<p><strong>useRoute</strong>相当于以前的this.$route 跳转路由</p> 
<p>用法：</p> 
<pre><code class="language-javascript">&lt;template&gt;
	&lt;h1&gt;aaa&lt;/h1&gt;
	&lt;router-view&gt;&lt;/router-view&gt;
	&lt;button @click="fn"&gt;从a路由跳转到b路由&lt;/button&gt;
&lt;/template&gt;
 
&lt;script setup&gt;
	import {useRouter} from "vue-router"
	    let router=useRouter() //接收useRouter方法，在vue2中是直接使用router即可
	
		let fn=()=&gt;{
	        
			router.push({path:"/b",query:{name:"小狮子"}}) //path写跳转的路由，同样可以传参
		}
	    
&lt;/script&gt;
 
&lt;style scoped&gt;
	h1{
		width: 400px;
	    height:200px;
		background-color:deeppink;
	}
&lt;/style&gt;</code></pre> 
<p><strong>useRouter</strong>相当于this.$router  接受传参（query、params）</p> 
<p><strong>注意：1、</strong>请注意params只与<strong>name（路由文件里配置的路由name）</strong>搭配生效（不能使用path）</p> 
<p><strong>        2、只能在setup函数内使用</strong></p> 
<p>用法</p> 
<pre><code class="language-javascript">&lt;template&gt;
	&lt;h2&gt;这是b-son1&lt;/h2&gt;
	&lt;button @click="fn"&gt;lookquery&lt;/button&gt;
&lt;/template&gt;
 
&lt;script setup&gt;
	import {useRoute} from "vue-router" //引入
	let route=useRoute()
	 console.log(route.query)//如果是params传参就用route.params接收
 
let fn=()=&gt;{  //这不是setup函数内部，是取不到传参的，返回undefined
		let route=useRoute()
		 console.log(route)
	}
	
&lt;/script&gt;
 
&lt;style scoped&gt;
	h2{
		width: 200px;
	    height:100px;
		background-color:aliceblue;
	}
&lt;/style&gt;</code></pre> 
<p>结合前者代码进行验证，发现下图状况</p> 
<p><img alt="" height="74" src="https://images2.imgbox.com/ff/68/EwpmGfnv_o.png" width="470"></p> 
<p> 当我们进行页面跳转时成功获取了传参，但不在<strong>setup函数内</strong>使用<strong>useRouter</strong>是获取不了的</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/a9142f720d32f57cf5df45bda71758ac/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">yolov8实战第三天——yolov8TensorRT部署（python推理）（保姆教学）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/3744b9a7c2fbcde2d80baa3b59338786/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【大数据毕设】基于Hadoop的招聘网站可视化的设计与实现(一)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>