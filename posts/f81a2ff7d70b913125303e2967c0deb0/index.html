<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【Vue】监控路由与路由参数, 刷新当前页面数据的几种方法 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/f81a2ff7d70b913125303e2967c0deb0/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="【Vue】监控路由与路由参数, 刷新当前页面数据的几种方法">
  <meta property="og:description" content="目录
一、Vue监控路由
1、Vue中watch监控路由
2、Vue中watch监控路由的某一个参数
3、Vue中watch同时监控多个路由
二、刷新当前页面数据
1、location.reload
2、$router.go(0)
3、this.$router.resolve()与this.$router.resolve()
a、this.$router.resolve()
b、this.$router.push()
三、示例场景
四、往期相关优质推荐
Vue官网Element官网 一、Vue监控路由 1、Vue中watch监控路由 如果你想要监控整个路由对象的变化，包括路由路径、参数、查询参数等的变化，可以使用`$route`对象进行监控。以下是一个使用`watch`监控整个路由对象的示例：
&lt;template&gt; &lt;div&gt; &lt;!-- 显示监控的路由信息 --&gt; &lt;div&gt;{{ monitoredRoute }}&lt;/div&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; export default { data() { return { monitoredRoute: null, // 用于存储监控的路由信息 }; }, watch: { &#39;$route&#39;(newRoute) { this.monitoredRoute = newRoute; // 将新的路由信息保存到组件的monitoredRoute属性中 // 执行其他操作或调用其他方法 }, //或 $route(newRoute) { this.monitoredRoute = newRoute; // 将新的路由信息保存到组件的monitoredRoute属性中 // 执行其他操作或调用其他方法 }, }, }; &lt;/script&gt; 在这个示例中，我们在组件的`data`选项中定义了一个`monitoredRoute`属性，用于存储监控的路由信息。在`watch`选项中，使用`&#39;$route&#39;`来指定要监控的路由对象。当路由发生变化时，`watch`函数会被触发，将新的路由信息保存到组件的`monitoredRoute`属性中。
你可以根据需要在`watch`函数中执行其他操作或调用其他方法，例如根据路由信息更新组件的状态、重新加载数据等。">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2023-12-07T17:35:44+08:00">
    <meta property="article:modified_time" content="2023-12-07T17:35:44+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【Vue】监控路由与路由参数, 刷新当前页面数据的几种方法</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="Vue%E7%9B%91%E6%8E%A7%E8%B7%AF%E7%94%B1-toc" style="margin-left:0px;"><a href="#Vue%E7%9B%91%E6%8E%A7%E8%B7%AF%E7%94%B1" rel="nofollow">一、Vue监控路由</a></p> 
<p id="Vue%E4%B8%ADwatch%E7%9B%91%E6%8E%A7%E8%B7%AF%E7%94%B1-toc" style="margin-left:40px;"><a href="#Vue%E4%B8%ADwatch%E7%9B%91%E6%8E%A7%E8%B7%AF%E7%94%B1" rel="nofollow">1、Vue中watch监控路由</a></p> 
<p id="Vue%E4%B8%ADwatch%E7%9B%91%E6%8E%A7%E8%B7%AF%E7%94%B1%E7%9A%84%E6%9F%90%E4%B8%80%E4%B8%AA%E5%8F%82%E6%95%B0-toc" style="margin-left:40px;"><a href="#Vue%E4%B8%ADwatch%E7%9B%91%E6%8E%A7%E8%B7%AF%E7%94%B1%E7%9A%84%E6%9F%90%E4%B8%80%E4%B8%AA%E5%8F%82%E6%95%B0" rel="nofollow">2、Vue中watch监控路由的某一个参数</a></p> 
<p id="Vue%E4%B8%ADwatch%E5%90%8C%E6%97%B6%E7%9B%91%E6%8E%A7%E5%A4%9A%E4%B8%AA%E8%B7%AF%E7%94%B1-toc" style="margin-left:40px;"><a href="#Vue%E4%B8%ADwatch%E5%90%8C%E6%97%B6%E7%9B%91%E6%8E%A7%E5%A4%9A%E4%B8%AA%E8%B7%AF%E7%94%B1" rel="nofollow">3、Vue中watch同时监控多个路由</a></p> 
<p id="%E5%88%B7%E6%96%B0%E5%BD%93%E5%89%8D%E9%A1%B5%E9%9D%A2%E6%95%B0%E6%8D%AE-toc" style="margin-left:0px;"><a href="#%E5%88%B7%E6%96%B0%E5%BD%93%E5%89%8D%E9%A1%B5%E9%9D%A2%E6%95%B0%E6%8D%AE" rel="nofollow">二、刷新当前页面数据</a></p> 
<p id="location.reload-toc" style="margin-left:40px;"><a href="#location.reload" rel="nofollow">1、location.reload</a></p> 
<p id="%24router.go(0)-toc" style="margin-left:40px;"><a href="#%24router.go%280%29" rel="nofollow">2、$router.go(0)</a></p> 
<p id="this.%24router.resolve()%E4%B8%8Ethis.%24router.resolve()-toc" style="margin-left:40px;"><a href="#this.%24router.resolve%28%29%E4%B8%8Ethis.%24router.resolve%28%29" rel="nofollow">3、this.$router.resolve()与this.$router.resolve()</a></p> 
<p id="1.%20%60this.%24router.resolve()%60%E6%96%B9%E6%B3%95-toc" style="margin-left:80px;"><a href="#1.%20%60this.%24router.resolve%28%29%60%E6%96%B9%E6%B3%95" rel="nofollow">a、this.$router.resolve()</a></p> 
<p id="2.%20%60this.%24router.push()%60%E6%96%B9%E6%B3%95-toc" style="margin-left:80px;"><a href="#2.%20%60this.%24router.push%28%29%60%E6%96%B9%E6%B3%95" rel="nofollow">b、this.$router.push()</a></p> 
<p id="%E5%9C%BA%E6%99%AF-toc" style="margin-left:0px;"><a href="#%E5%9C%BA%E6%99%AF" rel="nofollow">三、示例场景</a></p> 
<p id="%E5%BE%80%E6%9C%9F%E7%9B%B8%E5%85%B3%E4%BC%98%E8%B4%A8%E6%8E%A8%E8%8D%90-toc" style="margin-left:0px;"><a href="#%E5%BE%80%E6%9C%9F%E7%9B%B8%E5%85%B3%E4%BC%98%E8%B4%A8%E6%8E%A8%E8%8D%90" rel="nofollow">四、往期相关优质推荐</a></p> 
<hr id="hr-toc"> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/31/07/sQyQZ4CA_o.gif"></p> 
<table border="1" cellpadding="1" cellspacing="1" style="width:500px;"><tbody><tr><td><strong><a class="link-info" href="https://cn.vuejs.org/guide/introduction.html" rel="nofollow" title="Vue官网">Vue官网</a></strong></td><td><strong><a class="link-info" href="https://element.eleme.cn/#/zh-CN/component/tooltip" rel="nofollow" title="Element官网">Element官网</a></strong></td></tr></tbody></table> 
<h2 id="%E2%80%8B%E7%BC%96%E8%BE%91"><img alt="" height="850" src="https://images2.imgbox.com/27/0e/HWD2XvcG_o.png" width="1200"></h2> 
<h2><img alt="" height="534" src="https://images2.imgbox.com/bb/5b/Iwp2N6Iw_o.png" width="959"></h2> 
<h2 id="Vue%E7%9B%91%E6%8E%A7%E8%B7%AF%E7%94%B1">一、Vue监控路由</h2> 
<h3 id="Vue%E4%B8%ADwatch%E7%9B%91%E6%8E%A7%E8%B7%AF%E7%94%B1">1、Vue中watch监控路由</h3> 
<blockquote> 
 <p>        如果你想要监控整个路由对象的变化，包括路由路径、参数、查询参数等的变化，可以使用`$route`对象进行监控。以下是一个使用`watch`监控整个路由对象的示例：</p> 
</blockquote> 
<pre><code class="language-html">&lt;template&gt;
  &lt;div&gt;
    &lt;!-- 显示监控的路由信息 --&gt;
    &lt;div&gt;{<!-- -->{ monitoredRoute }}&lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  data() {
    return {
      monitoredRoute: null, // 用于存储监控的路由信息
    };
  },
  watch: {
    '$route'(newRoute) {
      this.monitoredRoute = newRoute; // 将新的路由信息保存到组件的monitoredRoute属性中
      // 执行其他操作或调用其他方法
    },
    //或
    $route(newRoute) {
      this.monitoredRoute = newRoute; // 将新的路由信息保存到组件的monitoredRoute属性中
      // 执行其他操作或调用其他方法
    },
  },
};
&lt;/script&gt;</code></pre> 
<p>在这个示例中，我们在组件的`data`选项中定义了一个`monitoredRoute`属性，用于存储监控的路由信息。在`watch`选项中，使用`'$route'`来指定要监控的路由对象。当路由发生变化时，`watch`函数会被触发，将新的路由信息保存到组件的`monitoredRoute`属性中。</p> 
<p>你可以根据需要在`watch`函数中执行其他操作或调用其他方法，例如根据路由信息更新组件的状态、重新加载数据等。</p> 
<p>请注意，上述示例中的`monitoredRoute`是一个示例属性名，你可以根据需要将其替换为你自己定义的属性名。</p> 
<h3 id="Vue%E4%B8%ADwatch%E7%9B%91%E6%8E%A7%E8%B7%AF%E7%94%B1%E7%9A%84%E6%9F%90%E4%B8%80%E4%B8%AA%E5%8F%82%E6%95%B0">2、Vue中watch监控路由的某一个参数</h3> 
<p>在Vue中，可以使用`watch`选项来监控路由的某一个参数的变化。以下是一个使用`watch`监控路由参数的示例：</p> 
<pre><code class="language-html">&lt;template&gt;
  &lt;div&gt;
    &lt;!-- 显示监控的参数值 --&gt;
    &lt;div&gt;{<!-- -->{ monitoredParam }}&lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  data() {
    return {
      monitoredParam: null, // 用于存储监控的参数值
    };
  },
  watch: {
    '$route.params.monitoredParam'(newValue) {
      this.monitoredParam = newValue; // 将新的参数值保存到组件的monitoredParam属性中
      // 执行其他操作或调用其他方法
    },
  },
};
&lt;/script&gt;</code></pre> 
<p>在这个示例中，我们在组件的`data`选项中定义了一个`monitoredParam`属性，用于存储监控的参数值。在`watch`选项中，使用`'$route.params.monitoredParam'`来指定要监控的路由参数。当监控的参数发生变化时，`watch`函数会被触发，将新的参数值保存到组件的`monitoredParam`属性中。</p> 
<p>你可以根据需要在`watch`函数中执行其他操作或调用其他方法，例如根据参数值更新组件的状态、重新加载数据等。</p> 
<p>请注意，上述示例中的`monitoredParam`是一个示例参数名，你需要将其替换为你要监控的实际参数名。另外，如果你还需要监控其他路由参数，可以在`watch`选项中添加相应的监控函数。</p> 
<h3 id="Vue%E4%B8%ADwatch%E5%90%8C%E6%97%B6%E7%9B%91%E6%8E%A7%E5%A4%9A%E4%B8%AA%E8%B7%AF%E7%94%B1">3、Vue中watch同时监控多个路由</h3> 
<pre><code class="language-html">&lt;template&gt;
  &lt;div&gt;
    &lt;!-- 显示监控的路由信息 --&gt;
    &lt;div&gt;{<!-- -->{ monitoredRoute }}&lt;/div&gt;
    &lt;!-- 显示监控的参数值 --&gt;
    &lt;div&gt;{<!-- -->{ monitoredParam }}&lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  data() {
    return {
      monitoredRoute: null, // 用于存储监控的路由信息
      monitoredParam: null, // 用于存储监控的参数值
    };
  },
  watch: {
    '$route'(newRoute) {
      this.monitoredRoute = newRoute; // 将新的路由信息保存到组件的monitoredRoute属性中
      // 执行其他操作或调用其他方法
    },
    '$route.params.monitoredParam'(newValue) {
      this.monitoredParam = newValue; // 将新的参数值保存到组件的monitoredParam属性中
      // 执行其他操作或调用其他方法
    },
  },
};
&lt;/script&gt;</code></pre> 
<h2 id="%E5%88%B7%E6%96%B0%E5%BD%93%E5%89%8D%E9%A1%B5%E9%9D%A2%E6%95%B0%E6%8D%AE">二、刷新当前页面数据</h2> 
<h3 id="location.reload">1、location.reload</h3> 
<p>在Vue.js中，可以使用`location.reload()`方法重新加载当前页面。这个方法会导致浏览器重新发送请求并重新加载页面。</p> 
<p>要在Vue组件中使用`location.reload()`，可以在需要重新加载页面的地方调用该方法。例如，在一个按钮的点击事件处理程序中：</p> 
<pre><code class="language-javascript">methods: {
  reloadPage() {
    location.reload();
  }
}
</code></pre> 
<p>然后，在模板中使用这个方法：</p> 
<pre><code class="language-html">&lt;button @click="reloadPage"&gt;重新加载页面&lt;/button&gt;</code></pre> 
<p>当用户点击按钮时，页面将会重新加载。</p> 
<p>需要注意的是，`location.reload()`方法会导致页面完全重新加载，包括重新执行Vue实例的生命周期钩子函数。这可能会导致数据丢失，因为重新加载后，Vue实例将会被重置。</p> 
<p>如果你只是想重新加载某个组件或重新获取数据，而不是整个页面，你可以考虑使用Vue的其他方法，如重新发起异步请求或重新设置组件的数据。</p> 
<h3 id="%24router.go(0)">2、$router.go(0)</h3> 
<blockquote> 
 <p>        在Vue.js中，可以使用`$router.go()`方法进行路由导航。该方法用于在路由之间进行前进或后退操作。`$router.go()`方法接受一个整数作为参数，表示前进或后退的步数。正数表示前进，负数表示后退。</p> 
</blockquote> 
<p>下面是`$router.go()`方法的使用方法示例：</p> 
<table border="1" cellpadding="1" cellspacing="1" style="width:600px;"><tbody><tr><td style="width:56px;">序号</td><td style="width:312px;">代码</td><td style="width:230px;">释义</td></tr><tr><td style="width:56px;">1</td><td style="width:312px;">this.$router.go(-1);  </td><td style="width:230px;">// 后退+刷新；</td></tr><tr><td style="width:56px;">2</td><td style="width:312px;">this.$router.go(0);   </td><td style="width:230px;">// 刷新；</td></tr><tr><td style="width:56px;">3</td><td style="width:312px;">this.$router.go(1);   </td><td style="width:230px;">// 前进一步</td></tr><tr><td style="width:56px;">4</td><td style="width:312px;">this.$router.go(2);   </td><td style="width:230px;">// 前进两步</td></tr><tr><td style="width:56px;">5</td><td style="width:312px;">this.$router.go(n);   </td><td style="width:230px;">// 前进n个页面</td></tr></tbody></table> 
<p>你可以在Vue组件的方法中使用`$router.go()`方法来触发路由导航。例如，在一个按钮的点击事件处理程序中：</p> 
<pre><code class="language-javascript">methods: {
  goForward() {
    this.$router.go(1);
  },
  goBack() {
    this.$router.go(-1);
  }
}
</code></pre> 
<p>然后，在模板中使用这些方法：</p> 
<pre><code class="language-html">&lt;button @click="goForward"&gt;前进&lt;/button&gt;
&lt;button @click="goBack"&gt;后退&lt;/button&gt;</code></pre> 
<p>当用户点击"前进"按钮时，将向前导航一步。当用户点击"后退"按钮时，将后退一步。</p> 
<p>需要注意的是，`$router.go()`方法只能在使用Vue Router进行路由管理的应用程序中使用。如果你的应用程序没有配置Vue Router，或者当前路由没有前进或后退的历史记录，`$router.go()`方法可能不会产生任何效果。</p> 
<h3 id="this.%24router.resolve()%E4%B8%8Ethis.%24router.resolve()">3、this.$router.resolve()与this.$router.resolve()</h3> 
<blockquote> 
 <p>        `this.$router.resolve()`和`this.$router.push()`是Vue Router中的两个不同的方法，用于处理路由相关的操作，但它们有不同的作用和使用方式。</p> 
</blockquote> 
<h4 id="1.%20%60this.%24router.resolve()%60%E6%96%B9%E6%B3%95">a、this.$router.resolve()</h4> 
<ul><li>作用：用于解析路由的相关信息，而不进行实际的导航操作。</li><li>使用方式：接受一个路由路径作为参数，并返回一个Promise对象，该Promise对象包含解析后的路由信息。</li><li> 示例：</li></ul> 
<pre><code class="language-javascript">const resolvedRoute = this.$router.resolve('/example-route');
resolvedRoute.then(route =&gt; {
   // 处理解析后的路由信息
});
</code></pre> 
<h4 id="2.%20%60this.%24router.push()%60%E6%96%B9%E6%B3%95">b、this.$router.push()</h4> 
<ul><li>作用：用于进行路由导航，将用户导航到指定的路由。</li><li>使用方式：接受一个路由路径或一个描述路由的对象作为参数，进行实际的导航操作。</li><li>示例：</li></ul> 
<pre><code class="language-javascript">// 导航到指定路由路径
this.$router.push('/example-route');
// 导航到带参数的路由
this.$router.push({ path: '/example-route', query: { id: 1 } });</code></pre> 
<p>使用`this.$router.resolve()`方法时，你可以获取解析后的路由信息，但它并不会触发实际的路由导航。而使用`this.$router.push()`方法时，会将用户导航到指定的路由路径或描述的路由对象。</p> 
<p>因此，如果你只需要获取解析后的路由信息而不进行实际的导航操作，可以使用`this.$router.resolve()`方法。如果需要进行实际的路由导航，应该使用`this.$router.push()`方法。</p> 
<h2 id="%E5%9C%BA%E6%99%AF">三、示例场景</h2> 
<blockquote> 
 <p>       比如一个页面需要有可能跳转到相同页面,  也可能跳转到不同页面, 为了体验更好,  可以综合情况判断使用那种刷新方式。</p> 
</blockquote> 
<pre><code class="language-javascript">//页面类型变化直接
'$route.query.type'(newValue) {
	this.$router.push("/xx/yy_detail?type=0&amp;id=" + row.id);
}

//相同页面相同数据但需要重新渲染(条件结合具体情况)
'$route.query.xx'(newValue) {
  this.$router.go(0);
}

//相同页面不同数据
'$route'(newValue) {
  this.init();
},

methods: {
    init(){
      this.detail();
      this.$refs["ppData"].flush(this.$route.query.id);
      this.$refs["fileData"].flush(this.$route.query.id);
      this.$refs["child3"].flush(this.$route.query.id);
      this.$refs["child4"].flush(this.$route.query.id);
      this.$refs["child5"].flush(this.$route.query.id);
      this.$refs["child6"].flush(this.$route.query.id);
    },
},
</code></pre> 
<h2 id="%E5%BE%80%E6%9C%9F%E7%9B%B8%E5%85%B3%E4%BC%98%E8%B4%A8%E6%8E%A8%E8%8D%90">四、往期相关优质推荐</h2> 
<table border="1" cellpadding="1" cellspacing="1"><tbody><tr><td><strong><a href="https://libusi.blog.csdn.net/article/details/124309613" rel="nofollow" title="VSCode 最全实用插件（VIP典藏版）">VSCode 最全实用插件（VIP典藏版）</a></strong></td></tr><tr><td><strong><a href="https://libusi.blog.csdn.net/article/details/103893391" rel="nofollow" title="Vue超详细整理（VIP典藏版）">Vue超详细整理（VIP典藏版）</a></strong></td></tr><tr><td><strong><a href="https://blog.csdn.net/libusi001/article/details/127354508" title="Vue中created，mounted，updated详解">Vue中created，mounted，updated详解</a></strong></td></tr><tr><td><strong><a href="https://libusi.blog.csdn.net/article/details/127585267" rel="nofollow" title="一文快速上手Echarts（持续更新）">一文快速上手Echarts（持续更新）</a></strong></td></tr><tr><td><strong><a href="https://blog.csdn.net/libusi001/article/details/131668481" title="Vue中el-table数据项扩展各种类型总结（持续更新）">Vue中el-table数据项扩展各种类型总结（持续更新）</a></strong></td></tr></tbody></table> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/27/65/j2MqaKSi_o.gif"></p> 
<p><span style="color:#ff9900;"><strong>有用请点赞，养成良好习惯！</strong></span></p> 
<p><span style="color:#ff9900;"><strong>疑问、交流、鼓励请留言！</strong></span></p> 
<p></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/683064d5320d89e9fc853f743b966bfd/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">stable-diffusion model目录修改、自定义</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/9bcd58e27b61dd89e760f8108fd079b1/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">原地起飞！VS Code 最好用的 10 款 AI 插件</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>