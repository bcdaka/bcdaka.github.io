<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>告诉世界，前端也能做 AI - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/0726b089d46247a7a800e33fe5ac89bc/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="告诉世界，前端也能做 AI">
  <meta property="og:description" content="性能方面，WebGL和WebGL2是tfjs和onnxjs的性能担当，就现阶段而言，比JavaScript和WebAssembly都要快上许多。
▐ WebAssembly 覆盖率方面，WASM在浏览器上为91%，但微信、淘宝、支付宝小程序则都支持WASM。
性能方面，参考mozilla的规划介绍，由于当前缺少多线程、SIMD、64位等的支持，WASM的性能还很难与Native看齐。Android V8引擎下，可以通过JIT找回一些场子；但iOS下，就回天乏术了。
▐ WebGPU 覆盖率一片红…性能再好也指望不上哎。
小结一下，结合WebGL和WebAssembly，可以实现对大部分浏览器和主流小程序的覆盖，也可以实现相对较好的性能。
磨一把更快的刀
我们结合了我们在小程序上的优化经验和MNN GPU优化经验，基于MNN模型基础设施，实现了全新的MNN.js。性能上有相当明显的提升，视频场景下的帧率抖动基本消失，内存上也有一定的节省。
▐ 效果 测试版本：tfjs@1.7.0 &#43; mnn.js@0.0.3。
测试方法：Warm Up 1次，后续推理50次。MBP直接测试，iOS/Android重启测试（避免Shader缓存）。
测试环境：
Desktop：MBP 18年中款，GPU = Radeon Pro 555X &#43; Intel UHD Graphics 630 iOS：iPhone X Android：小米9 上数据。性能部分，首次推理上，相较于tfjs节约约70%的耗时；后50次平均上，则节约了35%以上的耗时。兼容性部分，浏览器上，我们测试了Chrome、Safari和众多手机的自带浏览器；小程序上，我们测试了淘宝、支付宝、钉钉、微信小程序。具体测试的数据就不再陈列，WebGL性能表现上与上述基本相近。
MNN.js当前支持了38个算子，除了MobileNet这样的简单模型，在多达数百个算子的内部模型上，我们也有近似的性能领先。
▐ 框架 在设计上，我们复用了MNN的模型格式。一来，可以实现对Caffe、TensorFlow、PyTorch模型的转换支持；二来，MNN的算子替换、层融合等模型优化，也可以延续到MNN.js上。
模型加载后，有WebGL、WebAssembly、JavaScript三种计算后端可供选择。JavaScript一般不单独使用，WebAssembly一般在WebGL不支持的情况下使用。
▐ 示例 async function loadModel() { let compiled = await MNN.WasmBuilder.compile(fetch(‘/path/to/mnn.wasm’)); let wasm = await MNN.WasmBuilder.create(compiled); let js = MNN.JSBuilder.create();
let builders = [webgl, wasm, js]; let result = await fetch(url) let model = await result.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-04-16T02:21:39+08:00">
    <meta property="article:modified_time" content="2024-04-16T02:21:39+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">告诉世界，前端也能做 AI</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>性能方面，WebGL和WebGL2是tfjs和onnxjs的性能担当，就现阶段而言，比JavaScript和WebAssembly都要快上许多。</p> 
<h5><a id="_%C2%A0WebAssembly_7"></a><strong>▐</strong>  <strong>WebAssembly</strong></h5> 
<p><img src="https://images2.imgbox.com/8d/55/tJUC9xHu_o.png" alt="" title="image.png"></p> 
<p>覆盖率方面，WASM在浏览器上为91%，但微信、淘宝、支付宝小程序则都支持WASM。</p> 
<p>性能方面，参考mozilla的规划介绍，由于当前缺少多线程、SIMD、64位等的支持，WASM的性能还很难与Native看齐。Android V8引擎下，可以通过JIT找回一些场子；但iOS下，就回天乏术了。</p> 
<h5><a id="_%C2%A0WebGPU_23"></a><strong>▐</strong>  <strong>WebGPU</strong></h5> 
<p><img src="https://images2.imgbox.com/f7/ea/abqqtfbA_o.png" alt="" title="截屏2020-03-25下午1.25.44.png"></p> 
<p>覆盖率一片红…性能再好也指望不上哎。</p> 
<p>小结一下，结合WebGL和WebAssembly，可以实现对大部分浏览器和主流小程序的覆盖，也可以实现相对较好的性能。</p> 
<p><strong>磨一把更快的刀</strong></p> 
<hr> 
<hr> 
<p>我们结合了我们在小程序上的优化经验和MNN GPU优化经验，基于MNN模型基础设施，实现了全新的MNN.js。性能上有相当明显的提升，视频场景下的帧率抖动基本消失，内存上也有一定的节省。</p> 
<h5><a id="_%C2%A0_53"></a><strong>▐</strong>  <strong>效果</strong></h5> 
<p><img src="https://images2.imgbox.com/38/fa/ARNbvlUH_o.png" alt=""></p> 
<blockquote> 
 <p>测试版本：tfjs@1.7.0 + mnn.js@0.0.3。</p> 
</blockquote> 
<blockquote></blockquote> 
<blockquote> 
 <p>测试方法：Warm Up 1次，后续推理50次。MBP直接测试，iOS/Android重启测试（避免Shader缓存）。</p> 
</blockquote> 
<blockquote></blockquote> 
<blockquote> 
 <p>测试环境：</p> 
</blockquote> 
<blockquote></blockquote> 
<blockquote> 
 <ul><li>Desktop：MBP 18年中款，GPU = Radeon Pro 555X + Intel UHD Graphics 630</li></ul> 
</blockquote> 
<blockquote></blockquote> 
<blockquote> 
 <ul><li>iOS：iPhone X</li></ul> 
</blockquote> 
<blockquote></blockquote> 
<blockquote> 
 <ul><li>Android：小米9</li></ul> 
</blockquote> 
<blockquote></blockquote> 
<p>上数据。性能部分，首次推理上，相较于tfjs节约约70%的耗时；后50次平均上，则节约了35%以上的耗时。兼容性部分，浏览器上，我们测试了Chrome、Safari和众多手机的自带浏览器；小程序上，我们测试了淘宝、支付宝、钉钉、微信小程序。具体测试的数据就不再陈列，WebGL性能表现上与上述基本相近。</p> 
<p>MNN.js当前支持了38个算子，除了MobileNet这样的简单模型，在多达数百个算子的内部模型上，我们也有近似的性能领先。</p> 
<h5><a id="_%C2%A0_95"></a><strong>▐</strong>  <strong>框架</strong></h5> 
<p><img src="https://images2.imgbox.com/33/19/yIqRWMcA_o.png" alt=""></p> 
<p>在设计上，我们复用了MNN的模型格式。一来，可以实现对Caffe、TensorFlow、PyTorch模型的转换支持；二来，MNN的算子替换、层融合等模型优化，也可以延续到MNN.js上。</p> 
<p>模型加载后，有WebGL、WebAssembly、JavaScript三种计算后端可供选择。JavaScript一般不单独使用，WebAssembly一般在WebGL不支持的情况下使用。</p> 
<h5><a id="_%C2%A0_111"></a><strong>▐</strong>  <strong>示例</strong></h5> 
<p>async function loadModel() { let compiled = await MNN.WasmBuilder.compile(fetch(‘/path/to/mnn.wasm’)); let wasm = await MNN.WasmBuilder.create(compiled); let js = MNN.JSBuilder.create();</p> 
<p>let builders = [webgl, wasm, js]; let result = await fetch(url) let model = await result.arrayBuffer(); return MNN.loader.loadMNN(new Uint8Array(model), builders);}</p> 
<p>async function run(webcam) { let width = webcam.videoWidth; let height = webcam.videoHeight; let preprocess = { sourceFormat: ‘rgba’, destFormat: ‘bgr’, filterType: ‘nearest’, wrapType: ‘zero’, cropAndResize: [[0, 0, width, height], [0, 0, 224, 224]], means: [103.94, 116.78, 123.68], norms: [1 / 127.5] };</p> 
<p>let rgba = capture(webcam); await model[‘data’].setData(rgba, “uint8”, [1, height, width, 4], “NHWC”, preprocess); let result = await model[‘prob’].getData(“NHWC”); let values = new Float32Array(result.data); let sorted = values.slice().sort((a, b) =&gt; b - a);}</p> 
<p>接口上，我们延续了MNN小程序插件的动态图设计，并提供了图像前处理能力，即使是在视频场景争抢资源的情况下，也不至让性能过分下滑。</p> 
<p><strong>前端AI去哪儿</strong></p> 
<hr> 
<hr> 
<p>深度学习三要素：数据、算法、算能。数据在不断积累，模型在不断翻新，算能也跟上了，AI应用是不是就水到渠成了？并不是。**算法是AI应用的筋骨，场景才是AI应用的灵魂。**谁最熟悉业务困境？谁最了解用户痛点？谁能跨出那一步，去了解算法的边界，点亮创意，连接算法和业务，为AI应用填充血肉？</p> 
<p>而今，随着小程序基础设施的建设和跨端互通互投战略的推进，App不再是束缚内容的孤岛，每一个业务都可以小程序化，从而有更多机会触达更多的用户。</p> 
<p><img src="https://images2.imgbox.com/91/5b/kWos6u7Y_o.png" alt="" title="image.png"></p> 
<p>淘宝购物小程序作为淘宝开放最重要的阵地，承担着提升购物乐趣、让商家自由经营的重要使命。小程序平台通过AI/AR新技术主推淘内导购体验升级。基于人脸、姿态、手势等识别能力，可以创造出更丰富、更新奇的互动玩法，让买家边玩边买。</p> 
<p>目前，购物小程序已经打通了店铺首页、商品详情、客服通道、直播、搜索等众多公私域渠道，并在不断加码。小程序插件体系使得外部优秀的算法供应商/引擎服务商可以快捷入淘，为淘内广大的商家群体和服务生态提供技术服务，在给商家创造增量价值的同时，也可以获得相应的商业收益。</p> 
<p><strong>详情请参阅招募通道：open.m.taobao.com。</strong></p> 
<p>舞台已备。天地广阔。踏南天，碎凌霄，当是吾辈中人。</p> 
<hr> 
<p><strong>花絮</strong></p> 
<hr> 
<hr> 
<p><img src="https://images2.imgbox.com/ed/ae/jNt7uhJo_o.png" alt=""></p> 
<hr> 
<p>在阿里内部的技术交流贴里，两个商业互吹两名技术小二对上了两段后浪：</p> 
<hr> 
<p>那些口口声声 前端AI没有机会的人应该看着你们就像我一样我看着你们 满怀羡慕设备积攒了十几年的算能所有的分类、识别、分割和推荐像是专门为你们准备的礼物数据海量、算法繁荣、引擎强大深度学习的门槛 被逐步降低可以尽情地应用自由学习一类模型 挑选场景优化一处体验 在无尽的可能中探索</p> 
<p>那些抱怨“前端不如原生”和“原生不如前端”的人应该看着你们就像我一样我看着你们 满怀敬意向你们的专业态度致敬你们正在把客户端的 变成前端的把前端的 变成客户端的把性能差的 变成性能好的码工与码工之间的壁垒被打破你们只凭相同的爱好 就能结交千万个商业互吹的朋友你们拥有了 我们曾经梦寐以求的权利跨栈写码的权利</p> 
<hr> 
<p>我说前端会玩吧。</p> 
<hr> 
<hr> 
<p><strong>技术交流</strong></p> 
<hr> 
<hr> 
<p>MNN.js距离开源，还需要一定的打磨。欢迎有志于前端AI的你，加入MNN钉钉群，与我们交流。</p> 
<p><img src="https://images2.imgbox.com/03/f6/CVoxsSEV_o.png" alt=""></p> 
<p>链接：</p> 
<ul><li> <p>https://zhuanlan.zhihu.com/p/104070435</p> </li><li> <p>https://github.com/tensorflow/tfjs</p> </li></ul> 
<p><strong>自我介绍一下，小编13年上海交大毕业，曾经在小公司待过，也去过华为、OPPO等大厂，18年进入阿里一直到现在。</strong></p> 
<p><strong>深知大多数前端工程师，想要提升技能，往往是自己摸索成长或者是报班学习，但对于培训机构动则几千的学费，着实压力不小。自己不成体系的自学效果低效又漫长，而且极易碰到天花板技术停滞不前！</strong></p> 
<p><strong>因此收集整理了一份《2024年Web前端开发全套学习资料》，初衷也很简单，就是希望能够帮助到想自学提升又不知道该从何学起的朋友，同时减轻大家的负担。</strong></p> 
<p><img src="https://images2.imgbox.com/f0/bc/FGZV6Oxl_o.jpg" alt="img"></p> 
<p><img src="https://images2.imgbox.com/d2/18/385oDDNr_o.png" alt=""></p> 
<p><strong>既有适合小白学习的零基础资料，也有适合3年以上经验的小伙伴深入学习提升的进阶课程，基本涵盖了95%以上前端开发知识点，真正体系化！</strong></p> 
<p><img src="https://images2.imgbox.com/cd/c1/KphCMIFu_o.png" alt=""></p> 
<p><strong>由于文件比较大，这里只是将部分目录截图出来，每个节点里面都包含大厂面经、学习笔记、源码讲义、实战项目、讲解视频，并且会持续更新！</strong></p> 
<p><strong>如果你觉得这些内容对你有帮助，可以扫码获取！！（备注：前端）</strong></p> 
<img src="https://images2.imgbox.com/01/f3/NO3ZyqMN_o.jpg"> 
<h4><a id="_300"></a>最后</h4> 
<p>本人分享一下这次字节跳动、美团、头条等大厂的面试真题涉及到的知识点，以及我个人的学习方法、学习路线等，当然也整理了一些学习文档资料出来是附赠给大家的。知识点涉及比较全面，包括但不限于<strong>前端基础，HTML，CSS，JavaScript，Vue，ES6，HTTP，浏览器，算法等等</strong></p> 
<blockquote> 
 <p>详细大厂面试题答案、学习笔记、学习视频等资料领取，<a href="https://bbs.csdn.net/topics/618191877">点击资料领取直通车</a></p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/66/57/1tsUnMXE_o.png" alt=""></p> 
<p><strong>前端视频资料：</strong><br> CoPEF.jpg" /&gt;</p> 
<h4><a id="_311"></a>最后</h4> 
<p>本人分享一下这次字节跳动、美团、头条等大厂的面试真题涉及到的知识点，以及我个人的学习方法、学习路线等，当然也整理了一些学习文档资料出来是附赠给大家的。知识点涉及比较全面，包括但不限于<strong>前端基础，HTML，CSS，JavaScript，Vue，ES6，HTTP，浏览器，算法等等</strong></p> 
<blockquote> 
 <p>详细大厂面试题答案、学习笔记、学习视频等资料领取，<a href="https://bbs.csdn.net/topics/618191877">点击资料领取直通车</a></p> 
</blockquote> 
<p>[外链图片转存中…(img-lluQWHC4-1713205231064)]</p> 
<p><strong>前端视频资料：</strong><br> <img src="https://images2.imgbox.com/9b/b1/6KfdBdA4_o.png" alt=""></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/888b342b3bbd091c388a91c7fdba2ff4/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">各种主流数据库Docker镜像下载，快速部署测试环境，赶快收藏吧</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/efb588273f835dcaaa2439a967fd86c1/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">使用Flutter的image_picker插件实现设备的相册的访问和拍照</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>