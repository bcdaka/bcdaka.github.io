<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【Java干货教程】JSON，JSONObject，JSONArray类详解 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/42c7ad31c25ac568a8fa90ebfa3ee562/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="【Java干货教程】JSON，JSONObject，JSONArray类详解">
  <meta property="og:description" content="一、定义 JSON：就是一种轻量级的数据交换格式，被广泛应用于WEB应用程序开发。JSON的简洁和清晰的层次结构，易于阅读和编写；同时也易于机器解析和生成，有效的提升网络传输效率；支持多种语言，很多流行的语言都对JSON格式有着很友好的支持。
JSON对象：就是多个属性被{}括起来的。JSON数组：就是包含了多个JSON对象的一个集合，数组是以数组括号[]括起来的。JSON数组并不一定是要相同的JSON对象的集合，也可以是不同的对象。 JSON、JSON对象、JSON数组的区别 JSON是一种数据结构，类型xml；JSON对象则是对JSON的具体体现；JSON数组则是将多个JSON对象进行存储的一个集合。 这里以fastjson2来进行讲解，不同的jar包对JSON相关的处理有着不同的实现方式，但是大部分方法也都是相同的。
二、fastjson2 2.1、fastjson2简介 fastjson2 是 FASTJSON 项目的重要升级，目标是为下一个十年提供一个高性能的JSON库， fastjson2 性能相比原先旧的 fastjson 有了很大提升,并且 fastjson2 更安全，完全删除autoType白名单，提升了安全性。
中文文档： ​​​​https://github.com/alibaba/fastjson2/blob/main/README.md
下面是一些常用的方法 2.2、导入fastjson2依赖 maven如下：pom(本文所有代码仅使用这一个依赖即可):
&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;com.alibaba.fastjson2&lt;/groupId&gt; &lt;artifactId&gt;fastjson2&lt;/artifactId&gt; &lt;version&gt;2.0.26&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt; 需要注意的一点是在使用 fastjson2 时导入的包名是 com.alibaba.fastjson2 ，就像下面这样：
import com.alibaba.fastjson2.JSON;
import com.alibaba.fastjson2.JSONObject;
import com.alibaba.fastjson2.JSONArray;
2.3、json对象与json数组的创建 2.3.1、json对象创建 import com.alibaba.fastjson2.JSONObject; public class Demo { public static void main(String[] args) { JSONObject info = new JSONObject(); info.put(&#34;name&#34;, &#34;张三&#34;); info.put(&#34;age&#34;, &#34;18&#34;); info.put(&#34;地理&#34;, &#34;70&#34;); info.put(&#34;英语&#34;, &#34;60&#34;); System.out.println(info); } } 2.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2023-12-27T10:17:27+08:00">
    <meta property="article:modified_time" content="2023-12-27T10:17:27+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【Java干货教程】JSON，JSONObject，JSONArray类详解</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>一、定义</h2> 
<p>JSON：就是一种轻量级的数据交换格式，被广泛应用于WEB应用程序开发。JSON的简洁和清晰的层次结构，易于阅读和编写；同时也易于机器解析和生成，有效的提升网络传输效率；支持多种语言，很多流行的语言都对JSON格式有着很友好的支持。</p> 
<ul><li><a href="https://so.csdn.net/so/search?q=JSON%E5%AF%B9%E8%B1%A1&amp;spm=1001.2101.3001.7020" title="JSON对象">JSON对象</a>：就是多个属性被{}括起来的。</li><li><a href="https://so.csdn.net/so/search?q=JSON%E6%95%B0%E7%BB%84&amp;spm=1001.2101.3001.7020" title="JSON数组">JSON数组</a>：就是包含了多个JSON对象的一个集合，数组是以数组括号[]括起来的。JSON数组并不一定是要相同的JSON对象的集合，也可以是不同的对象。</li></ul> 
<p><strong>JSON、JSON对象、JSON数组的区别 </strong></p> 
<ul><li>JSON是一种数据结构，类型xml；</li><li>JSON对象则是对JSON的具体体现；JSON数组则是将多个JSON对象进行存储的一个集合。</li></ul> 
<p>这里以<strong>fastjson2</strong>来进行讲解，<strong>不同的jar包对JSON相关的处理有着不同的实现方式</strong>，但是大部分方法也都是相同的。</p> 
<h2>二、fastjson2</h2> 
<h3>2.1、fastjson2简介</h3> 
<p>fastjson2 是 <a href="https://so.csdn.net/so/search?q=FASTJSON&amp;spm=1001.2101.3001.7020" title="FASTJSON">FASTJSON</a> 项目的重要升级，目标是为下一个十年提供一个高性能的JSON库， fastjson2 性能相比原先旧的 fastjson 有了很大提升,并且 fastjson2 更安全，完全删除autoType白名单，提升了安全性。</p> 
<p><strong>中文文档：</strong> </p> 
<p><a href="https://github.com/alibaba/fastjson2/blob/main/README.md" title="​​​​https://github.com/alibaba/fastjson2/blob/main/README.md">​​​​https://github.com/alibaba/fastjson2/blob/main/README.md</a></p> 
<p>下面是一些常用的方法 </p> 
<h3>2.2、导入fastjson2依赖</h3> 
<p>maven如下：pom(本文所有代码仅使用这一个依赖即可):</p> 
<pre><code class="language-XML">    &lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;com.alibaba.fastjson2&lt;/groupId&gt;
            &lt;artifactId&gt;fastjson2&lt;/artifactId&gt;
            &lt;version&gt;2.0.26&lt;/version&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;</code></pre> 
<p><img alt="" height="597" src="https://images2.imgbox.com/07/e5/hffSkyr2_o.png" width="1200"></p> 
<p>需要注意的一点是在使用 fastjson2 时导入的包名是 com.alibaba.fastjson2 ，就像下面这样：</p> 
<p>import com.alibaba.fastjson2.JSON;</p> 
<p>import com.alibaba.fastjson2.JSONObject;</p> 
<p>import com.alibaba.fastjson2.JSONArray;</p> 
<h3>2.3、json对象与json数组的创建</h3> 
<h4>2.3.1、json对象创建</h4> 
<pre><code class="language-java">import com.alibaba.fastjson2.JSONObject;
 
public class Demo {
    public static void main(String[] args) {
        JSONObject info = new JSONObject();
        info.put("name", "张三");
        info.put("age", "18");
        info.put("地理", "70");
        info.put("英语", "60");
 
        System.out.println(info);
    }
}</code></pre> 
<p><img alt="" height="212" src="https://images2.imgbox.com/e4/69/gqq9qFda_o.png" width="719"></p> 
<h4>2.3.2、json数组创建</h4> 
<pre><code class="language-java">import com.alibaba.fastjson2.JSONArray;
 
public class Demo {
    public static void main(String[] args) {
        JSONArray array = new JSONArray();
        array.add("1班");
        array.add("2班");
        array.add("3班");
 
        System.out.println(array);
    }
}</code></pre> 
<p><img alt="" height="221" src="https://images2.imgbox.com/eb/e9/VUldR8mS_o.png" width="732"></p> 
<h4>2.3.2、json对象添加到json数组</h4> 
<pre><code class="language-java">import com.alibaba.fastjson2.JSONArray;
import com.alibaba.fastjson2.JSONObject;
 
public class Demo {
    public static void main(String[] args) {
        JSONObject info1 = new JSONObject();
        info1.put("name", "张三");
        info1.put("age", "18");
        JSONObject info2 = new JSONObject();
        info2.put("name", "李四");
        info2.put("age", "19");
 
        //把上面创建的两个json对象加入到json数组里
        JSONArray array = new JSONArray();
        array.add(info1);
        array.add(info2);
 
        System.out.println(array);
    }
}</code></pre> 
<p><img alt="" height="216" src="https://images2.imgbox.com/86/c9/w4cTaEXw_o.png" width="781"></p> 
<h3>2.4、json对象取值与json数组遍历取值</h3> 
<h4>2.4.1、json对象取值</h4> 
<pre><code class="language-java">import com.alibaba.fastjson2.JSONArray;
import com.alibaba.fastjson2.JSONObject;
 
public class Demo {
    public static void main(String[] args) {
        JSONArray array = new JSONArray();
        array.add("1班");
        array.add("2班");
        array.add("3班");
        JSONObject school = new JSONObject();
        school.put("schoolName", "第一中学");
        school.put("teacher", "刘梅");
 
        JSONObject info = new JSONObject();
        info.put("name", "张三");
        info.put("age", "18");
        info.put("gradle", array);
        info.put("schoolInfo", school);
 
        //从info中取值
        System.out.println(info.getString("name")); //张三
        System.out.println(info.getIntValue("age"));//18
        System.out.println(info.getJSONArray("gradle"));//["1班","2班","3班"]
        System.out.println(info.getJSONObject("schoolInfo"));//{"schoolName":"第一中学","teacher":"刘梅"}
    }
}</code></pre> 
<p><img alt="" height="324" src="https://images2.imgbox.com/c4/ff/4lxbY0Mm_o.png" width="709"></p> 
<h4>2.4.2、json数组遍历取值 </h4> 
<pre><code class="language-java">import com.alibaba.fastjson2.JSONArray;
import com.alibaba.fastjson2.JSONObject;
 
public class Demo {
    public static void main(String[] args) {
        JSONObject info1 = new JSONObject();
        info1.put("name", "张三");
        info1.put("age", "18");
        JSONObject info2 = new JSONObject();
        info2.put("name", "李四");
        info2.put("age", "19");
 
        JSONArray array = new JSONArray();
        array.add(info1);
        array.add(info2);
        //遍历获取json数组中对象的值
        for (int i = 0; i &lt; array.size(); i++) {
            JSONObject json = array.getJSONObject(i);
            System.out.println(json.getString("name"));
            System.out.println(json.getString("age"));
        }
    }
}</code></pre> 
<p><img alt="" height="254" src="https://images2.imgbox.com/90/cc/WIkwb8QR_o.png" width="741"></p> 
<h3>2.5、json对象与字符串的转换 </h3> 
<h4>2.5.1、json对象与字符串的转换</h4> 
<pre><code class="language-java">import com.alibaba.fastjson2.JSON;
import com.alibaba.fastjson2.JSONObject;
 
public class Demo {
    public static void main(String[] args) {
        JSONObject info = new JSONObject();
        info.put("name", "张三");
        info.put("age", "18");
        info.put("地理", "70");
        info.put("英语", "60");
 
        //JSON对象转字符串
        String str = JSON.toJSONString(info);
        System.out.println(str);
        //JSON字符串转JSON对象
        JSONObject json = JSONObject.parseObject(str);
        System.out.println(json);
    }
}</code></pre> 
<p><img alt="" height="253" src="https://images2.imgbox.com/9d/c6/Qm6dR6zz_o.png" width="733"></p> 
<h4>2.5.2、json字符串的字节数组转json对象</h4> 
<pre><code class="language-java">import com.alibaba.fastjson2.JSON;
import com.alibaba.fastjson2.JSONObject;
 
public class Demo {
    public static void main(String[] args) {
        String str = "{\"name\":\"张三\",\"age\":\"18\",\"地理\":\"70\",\"英语\":\"60\"}";
 
        byte[] bytes = str.getBytes();
        JSONObject data = JSON.parseObject(bytes);
 
        System.out.println(data);
    }
}</code></pre> 
<h3><img alt="" height="227" src="https://images2.imgbox.com/0f/13/pnOwqIor_o.png" width="716">2.6、json数组与字符串的转换</h3> 
<pre><code class="language-java">import com.alibaba.fastjson2.JSON;
import com.alibaba.fastjson2.JSONArray;
 
public class Demo {
    public static void main(String[] args) {
        String text = "[\"张三\",\"李四\",\"王五\"]";
        System.out.println(text);
 
        //json字符串转json数组
        JSONArray data = JSON.parseArray(text);
        //json数组转json字符串
        String str = JSONArray.toJSONString(data);
 
        System.out.println(data);
        System.out.println(str);
    }
}</code></pre> 
<p><img alt="" height="291" src="https://images2.imgbox.com/be/07/HTnFVdev_o.png" width="720"></p> 
<h3>2.7、json字符串转java对象的转换 </h3> 
<p>Student类如下：</p> 
<pre><code class="language-java">public class Student {
    public String name;
    public int age;
 
    public String getName() {
        return name;
    }
 
    public void setName(String name) {
        this.name = name;
    }
 
    public int getAge() {
        return age;
    }
 
    public void setAge(int age) {
        this.age = age;
    }
 
    public Student(String name, int age) {
        this.name = name;
        this.age = age;
    }
}</code></pre> 
<h4>2.7.1、json字符串转java对象的转换</h4> 
<pre><code class="language-java">import com.alibaba.fastjson2.JSON;
 
public class Demo {
    public static void main(String[] args) {
        Student student = new Student("张三", 18);
 
        //Student对象转JSON字符串
        String studentStr = JSON.toJSONString(student);
        //JSON字符串转Student对象
        Student data = JSON.parseObject(studentStr, Student.class);
 
        System.out.println(studentStr);
    }
}</code></pre> 
<p><img alt="" height="136" src="https://images2.imgbox.com/92/33/a66HQ59T_o.png" width="674"></p> 
<h4>2.7.2、java对象转byte数组转换 </h4> 
<pre><code class="language-java">import com.alibaba.fastjson2.JSON;
 
public class Demo {
    public static void main(String[] args) {
        Student student = new Student("张三", 18);
 
        //Student对象转字节数组
        byte[] text = JSON.toJSONBytes(student);
        //字节数组转Student对象
        Student data = JSON.parseObject(text, Student.class);
 
        System.out.println(data.getName() + data.getAge());
    }
}</code></pre> 
<p><img alt="" height="147" src="https://images2.imgbox.com/3a/e5/FWgKYmKt_o.png" width="684"></p> 
<h3>2.8、json字符串与Map转换 </h3> 
<h4>2.8.1、json字符串转Map</h4> 
<pre><code class="language-java">@Test
    public void test05(){
        String str = "{\n" +
                "\"gradle\":\"高一\",\n" +
                "\"number\":\"2\",\n" +
                "\"people\":[{\"name\":\"张三\",\"age\":\"15\",\"phone\":\"123456\"},\n" +
                "         {\"name\":\"李四\",\"age\":\"16\",\"phone\":\"78945\"}]\n" +
                "}";
        Map&lt;String, Object&gt; map1 = JSONObject.parseObject(str, new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {
                });
        Map map2 = JSON.parseObject(str, Map.class);
        System.out.println(map1);
        System.out.println(map2);

    }</code></pre> 
<p><img alt="" height="182" src="https://images2.imgbox.com/a7/41/1koAdaoX_o.png" width="1200"></p> 
<h4>2.8.2、Map转json字符串</h4> 
<p><strong>(注意：如果直接使用JSON.toJSONString(map)转换，因为"测试1"的值为null，转换的结果就会是 {“测试2”:“hello”})</strong></p> 
<pre><code class="language-java">import com.alibaba.fastjson2.JSON;
import com.alibaba.fastjson2.JSONWriter;
 
import java.util.HashMap;
import java.util.Map;
 
public class Demo {
    public static void main(String[] args) {
        Map&lt;String, String&gt; map = new HashMap&lt;&gt;();
        map.put("测试1", null);
        map.put("测试2", "hello");
 
        //{"测试2":"hello","测试1":null}
        String str = JSON.toJSONString(map, JSONWriter.Feature.WriteMapNullValue);
 
        System.out.println(str);
    }
}</code></pre> 
<p><img alt="" height="206" src="https://images2.imgbox.com/d8/65/ilPlJfng_o.png" width="724"></p> 
<p>如果你使用的是老的fastjson1(下述是简单示例，不可使用),可以像下面这样转换：</p> 
<pre><code class="language-java">Map&lt;String, String&gt; map = new HashMap&lt;&gt;();
map.put("测试1", null);
map.put("测试2", "hello");
String str = JSON.toJSONString(map, SerializerFeature.WriteMapNullValue) ;</code></pre> 
<h3>2.9、json数组转List</h3> 
<pre><code class="language-java">import com.alibaba.fastjson2.JSONArray;
import com.alibaba.fastjson2.JSONObject;
 
import java.util.List;
import java.util.Map;
 
public class Demo {
    public static void main(String[] args) {
        String str = "{\n" +
                "\"gradle\":\"高一\",\n" +
                "\"number\":\"2\",\n" +
                "\"people\":[{\"name\":\"张三\",\"age\":\"15\",\"phone\":\"123456\"},\n" +
                "         {\"name\":\"李四\",\"age\":\"16\",\"phone\":\"78945\"}]\n" +
                "}";
 
        JSONObject strJson = JSONObject.parseObject(str);
        //获取people数组
        JSONArray people = strJson.getJSONArray("people");
        //json数组转List
        List&lt;Map&gt; list = people.toJavaList(Map.class);
 
        System.out.println(str);
    }
}</code></pre> 
<h3><img alt="" height="374" src="https://images2.imgbox.com/0f/1b/pFD4hqR1_o.png" width="723"></h3> 
<p>如果你使用的是老的fastjson1,可以像下面这样转换：    </p> 
<pre><code class="language-java">String str = "{\n" +
 
                "\"gradle\":\"高一\",\n" +
 
                "\"number\":\"2\",\n" +
 
                "\"people\":[{\"name\":\"张三\",\"age\":\"15\",\"phone\":\"123456\"},\n" +
 
                "         {\"name\":\"李四\",\"age\":\"16\",\"phone\":\"78945\"}]\n" +
 
                "}";
 
JSONObject strJson = JSONObject.parseObject(str);//字符串转json对象
String people = String.valueOf(strJson.getJSONArray("people"));
List&lt;Map&lt;String, String&gt;&gt; list = (List&lt;Map&lt;String, String&gt;&gt;) JSONArray.parse(people);</code></pre> 
<p> </p> 
<p>参考文章：<a href="https://blog.csdn.net/xijinno1/article/details/129869584" title="JSONObject详解(com.alibaba)-fastjson2_com.alibaba.fastjson2-CSDN博客">JSONObject详解(com.alibaba)-fastjson2_com.alibaba.fastjson2-CSDN博客</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/7b4e9caf78dd536f1fbd9df1d5f51b14/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">多个 JDK 版本（Java 8、Java 17、Java 21）下载和切换</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6e6ad8d2a5157f7a26f2f6076c116578/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">ssm基于web的音乐管理系统的设计与实现论文</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>