<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>uni-app全局文件与常用API - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/a47b1f09f7f1f1d91d67c77aa0e7d37a/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="uni-app全局文件与常用API">
  <meta property="og:description" content="文章目录 rpx响应式单位@import导入css样式及scss变量用法与static目录import导入css样式uni.scss变量用法 pages.json页面路由globalStyle的属性pages设置页面路径及窗口表现tabBar设置底部菜单选项及iconfont图标 vite.config中安装插件unplugin-auto-import自动导入vue和uniappuni-api交互反馈uni.showToastuni.hideToastuni.showLoadinguni.showModaluni.showActionSheet 动态设置页面导航栏样式uni.setNavigationBarTitleuni.setNavigationBarColoruni.showNavigationBarLoadinguni.hideHomeButton 动态设置TabBar样式uni.setTabBarItemuni.setTabBarStyleuni.hideTabBaruni.showTabBaruni.setTabBarBadgeuni.removeTabBarBadgeuni.showTabBarRedDotuni.hideTabBarRedDot 下拉刷新 onPullDownRefreshuni.startPullDownRefresh(OBJECT)uni.stopPullDownRefresh() 页面和路由uni.navigateTo(OBJECT)uni.reLaunch(OBJECT)uni.navigateBack(OBJECT) StorageSync数据缓存APIuni.setStorageuni.setStorageSync(KEY,DATA)uni.getStorageuni.getStorageSync(KEY)uni.getStorageInfouni.getStorageInfoSync()uni.removeStorage(OBJECT)uni.removeStorageSync(KEY)uni.clearStorage()uni.clearStorageSync() 网络uni.request发起网路请求3种回调结果调用uni.request参数datamethod有效值headertimeout rpx响应式单位 rpx 即响应式 px，一种根据屏幕宽度自适应的动态单位。以 750 宽的屏幕为基准，750rpx 恰好为屏幕宽度。也就是说，在拿到设计稿后，要把稿件宽度等比缩放为750，再测量各区域的大小。在MasterGo，即时设计中都有相应的功能。
@import导入css样式及scss变量用法与static目录 import导入css样式 之前都是在页面中定义CSS，现在再介绍两种写入css样式的方法。
一种是在主组件app.vue中定义页面的公共css，这样定义可以作用于整个程序，但它的权重是最低的。
还有一种方法是，把这些css都放到一个公共的目录common中去：
先创建common目录：选中项目-新建-目录
新建好后，可以在里面创建.css文件，就可以在里面设置CSS样式了，最后，去app.vue的style中导入这个css样式，代码如下：
&lt;style lang=&#34;scss&#34;&gt; @import &#34;@/common/css/style.css&#34;; &lt;/style&gt; 效果跟在公共css中写入是一样的，这种写法使整个程序更有条理些。
uni.scss变量用法 在项目根目录中有个uni.scss文件
打开后，里面有很多内置的样式变量，可以直接拿来用的，现在拿个文字颜色过来试试，注意只需要取&#34;$“至”:&#34; 前的内容即可
放到Style中，就可以正常使用了：
&lt;style lang=&#34;scss&#34; scoped&gt; .layout{ font-size: 70rpx; color: $uni-color-primary; } &lt;/style&gt; 我们也可以在uni.scss中自己自定义样式的，模仿它的格式，比如像这样，记住要以$符号开头：
$custom-color-1:blue; $custom-color-2:yellow; 这里要注意的是，uni.scss是预编译的，在我们自定义后，需要重启一下，才可以使用自定义的样式。
可以给自定义的样式单独创建一个scss文件，然后再去在uni.scss中引入：
@import&#34;@/common/scss/self.scss&#34; ; pages.json页面路由 globalStyle的属性 pages.json 文件用来对 uni-app 进行全局配置，决定页面文件的路径、窗口样式、原生的导航栏、底部的原生tabbar 等。打开pages.json，这是globalStyle区域的代码，在其中也是可以配置单个页面的，单个页面的权重是大于globalStyle，下面是备注过的代码：
{ &#34;pages&#34;: [ { &#34;path&#34;: &#34;pages/index/index&#34;, &#34;style&#34;: { &#34;navigationBarTitleText&#34;: &#34;">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-07-25T16:21:45+08:00">
    <meta property="article:modified_time" content="2024-07-25T16:21:45+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">uni-app全局文件与常用API</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#rpx_1" rel="nofollow">rpx响应式单位</a></li><li><a href="#importcssscssstatic_4" rel="nofollow">@import导入css样式及scss变量用法与static目录</a></li><li><ul><li><a href="#importcss_5" rel="nofollow">import导入css样式</a></li><li><a href="#uniscss_21" rel="nofollow">uni.scss变量用法</a></li></ul> 
  </li><li><a href="#pagesjson_48" rel="nofollow">pages.json页面路由</a></li><li><ul><li><a href="#globalStyle_49" rel="nofollow">globalStyle的属性</a></li><li><a href="#pages_104" rel="nofollow">pages设置页面路径及窗口表现</a></li><li><a href="#tabBariconfont_109" rel="nofollow">tabBar设置底部菜单选项及iconfont图标</a></li></ul> 
  </li><li><a href="#viteconfigunpluginautoimportvueuniapp_174" rel="nofollow">vite.config中安装插件unplugin-auto-import自动导入vue和uniapp</a></li><li><a href="#uniapi_208" rel="nofollow">uni-api交互反馈</a></li><li><ul><li><a href="#unishowToast_209" rel="nofollow">uni.showToast</a></li><li><a href="#unihideToast_274" rel="nofollow">uni.hideToast</a></li><li><a href="#unishowLoading_310" rel="nofollow">uni.showLoading</a></li><li><a href="#unishowModal_337" rel="nofollow">uni.showModal</a></li><li><a href="#unishowActionSheet_403" rel="nofollow">uni.showActionSheet</a></li></ul> 
  </li><li><a href="#_465" rel="nofollow">动态设置页面导航栏样式</a></li><li><ul><li><a href="#unisetNavigationBarTitle_466" rel="nofollow">uni.setNavigationBarTitle</a></li><li><a href="#unisetNavigationBarColor_503" rel="nofollow">uni.setNavigationBarColor</a></li><li><a href="#unishowNavigationBarLoading_506" rel="nofollow">uni.showNavigationBarLoading</a></li><li><a href="#unihideHomeButton_543" rel="nofollow">uni.hideHomeButton</a></li></ul> 
  </li><li><a href="#TabBar_548" rel="nofollow">动态设置TabBar样式</a></li><li><ul><li><a href="#unisetTabBarItem_549" rel="nofollow">uni.setTabBarItem</a></li><li><a href="#unisetTabBarStyle_578" rel="nofollow">uni.setTabBarStyle</a></li><li><a href="#unihideTabBar_581" rel="nofollow">uni.hideTabBar</a></li><li><a href="#unishowTabBar_584" rel="nofollow">uni.showTabBar</a></li><li><a href="#unisetTabBarBadge_587" rel="nofollow">uni.setTabBarBadge</a></li><li><a href="#uniremoveTabBarBadge_615" rel="nofollow">uni.removeTabBarBadge</a></li><li><a href="#unishowTabBarRedDot_618" rel="nofollow">uni.showTabBarRedDot</a></li><li><a href="#unihideTabBarRedDot_648" rel="nofollow">uni.hideTabBarRedDot</a></li></ul> 
  </li><li><a href="#_onPullDownRefresh_676" rel="nofollow">下拉刷新 onPullDownRefresh</a></li><li><ul><li><a href="#unistartPullDownRefreshOBJECT_678" rel="nofollow">uni.startPullDownRefresh(OBJECT)</a></li><li><a href="#unistopPullDownRefresh_685" rel="nofollow">uni.stopPullDownRefresh()</a></li></ul> 
  </li><li><a href="#_711" rel="nofollow">页面和路由</a></li><li><ul><li><a href="#uninavigateToOBJECT_712" rel="nofollow">uni.navigateTo(OBJECT)</a></li><li><a href="#unireLaunchOBJECT_736" rel="nofollow">uni.reLaunch(OBJECT)</a></li><li><a href="#uninavigateBackOBJECT_760" rel="nofollow">uni.navigateBack(OBJECT)</a></li></ul> 
  </li><li><a href="#StorageSyncAPI_783" rel="nofollow">StorageSync数据缓存API</a></li><li><ul><li><a href="#unisetStorage_784" rel="nofollow">uni.setStorage</a></li><li><a href="#unisetStorageSyncKEYDATA_787" rel="nofollow">uni.setStorageSync(KEY,DATA)</a></li><li><a href="#unigetStorage_809" rel="nofollow">uni.getStorage</a></li><li><a href="#unigetStorageSyncKEY_812" rel="nofollow">uni.getStorageSync(KEY)</a></li><li><a href="#unigetStorageInfo_837" rel="nofollow">uni.getStorageInfo</a></li><li><a href="#unigetStorageInfoSync_840" rel="nofollow">uni.getStorageInfoSync()</a></li><li><a href="#uniremoveStorageOBJECT_868" rel="nofollow">uni.removeStorage(OBJECT)</a></li><li><a href="#uniremoveStorageSyncKEY_871" rel="nofollow">uni.removeStorageSync(KEY)</a></li><li><a href="#uniclearStorage_902" rel="nofollow">uni.clearStorage()</a></li><li><a href="#uniclearStorageSync_905" rel="nofollow">uni.clearStorageSync()</a></li></ul> 
  </li><li><a href="#_941" rel="nofollow">网络</a></li><li><ul><li><a href="#unirequest3_942" rel="nofollow">uni.request发起网路请求3种回调结果调用</a></li><li><a href="#unirequest_1038" rel="nofollow">uni.request参数</a></li><li><ul><li><a href="#data_1039" rel="nofollow">data</a></li><li><a href="#method_1069" rel="nofollow">method有效值</a></li><li><a href="#header_1102" rel="nofollow">header</a></li><li><a href="#timeout_1137" rel="nofollow">timeout</a></li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="rpx_1"></a>rpx响应式单位</h2> 
<p>rpx 即响应式 px，一种根据屏幕宽度自适应的动态单位。以 750 宽的屏幕为基准，750rpx 恰好为屏幕宽度。也就是说，在拿到设计稿后，要把稿件宽度等比缩放为750，再测量各区域的大小。在MasterGo，即时设计中都有相应的功能。</p> 
<h2><a id="importcssscssstatic_4"></a>@import导入css样式及scss变量用法与static目录</h2> 
<h3><a id="importcss_5"></a>import导入css样式</h3> 
<p>之前都是在页面中定义CSS，现在再介绍两种写入css样式的方法。<br> 一种是在主组件app.vue中定义页面的公共css，这样定义可以作用于整个程序，但它的权重是最低的。<br> <img src="https://images2.imgbox.com/cf/1a/eXFnSuki_o.png" alt="在这里插入图片描述"><br> 还有一种方法是，把这些css都放到一个公共的目录common中去：<br> 先创建common目录：选中项目-新建-目录<br> <img src="https://images2.imgbox.com/37/e5/meeR1d15_o.png" alt="在这里插入图片描述"><br> 新建好后，可以在里面创建.css文件，就可以在里面设置CSS样式了，最后，去app.vue的style中导入这个css样式，代码如下：</p> 
<pre><code>&lt;style lang="scss"&gt;
	@import "@/common/css/style.css";
&lt;/style&gt;
</code></pre> 
<p>效果跟在公共css中写入是一样的，这种写法使整个程序更有条理些。</p> 
<h3><a id="uniscss_21"></a>uni.scss变量用法</h3> 
<p>在项目根目录中有个uni.scss文件<br> <img src="https://images2.imgbox.com/79/47/gXf0Lw0M_o.png" alt="在这里插入图片描述"><br> 打开后，里面有很多内置的样式变量，可以直接拿来用的，现在拿个文字颜色过来试试，注意只需要取"$“至”:" 前的内容即可<br> <img src="https://images2.imgbox.com/9d/41/AxFKDr0P_o.png" alt="在这里插入图片描述"><br> 放到Style中，就可以正常使用了：</p> 
<pre><code>&lt;style lang="scss" scoped&gt;
	.layout{
		font-size: 70rpx;
		color: $uni-color-primary;
	}
&lt;/style&gt;
</code></pre> 
<p>我们也可以在uni.scss中自己自定义样式的，模仿它的格式，比如像这样，记住要以$符号开头：</p> 
<pre><code>$custom-color-1:blue;
$custom-color-2:yellow;
</code></pre> 
<p>这里要注意的是，uni.scss是预编译的，在我们自定义后，需要重启一下，才可以使用自定义的样式。</p> 
<p>可以给自定义的样式单独创建一个scss文件，然后再去在uni.scss中引入：</p> 
<pre><code>@import"@/common/scss/self.scss" ;
</code></pre> 
<h2><a id="pagesjson_48"></a>pages.json页面路由</h2> 
<h3><a id="globalStyle_49"></a>globalStyle的属性</h3> 
<p>pages.json 文件用来对 uni-app 进行全局配置，决定页面文件的路径、窗口样式、原生的导航栏、底部的原生tabbar 等。打开pages.json，这是globalStyle区域的代码，在其中也是可以配置单个页面的，单个页面的权重是大于globalStyle，下面是备注过的代码：</p> 
<pre><code>{
	"pages": [ 
		{
			"path": "pages/index/index",
			"style": {
				"navigationBarTitleText": "uni-app"
			}
		}
	],
	"globalStyle": {
		"navigationBarTextStyle": "white",//导航栏标题颜色，仅支持black/white
		"navigationBarTitleText": "uni-app",//导航栏文字内容
		"navigationBarBackgroundColor": "#2B9939",// 导航栏背景颜色
		navigationStyle:"custom"//导航栏样式，仅支持 default/custom。custom即取消默认的原生导航栏
		"enablePullDownRefresh":true,//是否开启下拉刷新
		"backgroundColor": "#F8F8F8"//下拉显示出来的窗口背景色，仅微信小程序支持
		"backgroundTextStyle":"light"//下拉 loading 的样式，仅支持 dark / light
		"onReachBottomDistance":250//页面上拉触底事件触发时距页面底部距离，单位只支持px
	},
	
	"uniIdRouter": {}
}

</code></pre> 
<p>其中onReachBottomDistance属性要配合生命周期onReachBottom使用的，该属性表示页面触底事件触发时距页面底部距离，默认值是50。现在在页面中写上onReachBottom来测试一下，代码如下：</p> 
<pre><code>&lt;template&gt;
	&lt;view class="layout"&gt;
		&lt;view class="box" v-for="item in 100"&gt;
			{<!-- -->{item}}
		&lt;/view&gt;
	&lt;/view&gt;
&lt;/template&gt;

&lt;script setup&gt;
import {onReachBottom} from "@dcloudio/uni-app"	
onReachBottom(()=&gt;{
	console.log("到底了");
})
&lt;/script&gt;

&lt;style lang="scss" scoped&gt;
	.layout{
		font-size: 70rpx;
		color: $custom-color-2;
	}
&lt;/style&gt;

</code></pre> 
<p>效果：<br> <img src="https://images2.imgbox.com/b0/2e/P5YaHvg0_o.gif" alt="在这里插入图片描述"></p> 
<h3><a id="pages_104"></a>pages设置页面路径及窗口表现</h3> 
<p>通过pages，可以对单个页面进行设置：uni-app 通过 pages 节点配置应用由哪些页面组成，pages 节点接收一个数组，数组每个项都是一个对象，代表着每个页面，其属性值如下：<br> <img src="https://images2.imgbox.com/7d/32/weJg70io_o.png" alt="在这里插入图片描述"><br> pages中Style配置项跟刚刚讲过的globalStyle一样，在这里就不多说了，它的权重是要高于 globalStyle的。</p> 
<h3><a id="tabBariconfont_109"></a>tabBar设置底部菜单选项及iconfont图标</h3> 
<p>tabBar设置的就是小程序底部的菜单栏，一般来说list属性是必须的，List设置的是tab 的列表，最少2个，最多5个 tab，list是在数组中的，每个对象用大括号括起来，包括tabBar中的各种常用属性，都已做好备注在代码中了：</p> 
<pre><code>{
	"pages": [ //pages数组中第一项表示应用启动页，参考：https://uniapp.dcloud.io/collocation/pages
		{
			"path": "pages/index/index",
			"style": {
				"navigationBarTitleText": "页面"
			}
		},
		{
			"path" : "pages/user/user",
			"style" : 
			{
				"navigationBarTitleText" : "user"
			}
		},
		{
			"path" : "pages/classify/classify",
			"style" : 
			{
				"navigationBarTitleText" : ""
			}
		}
	],
	"globalStyle": {
		"navigationBarTextStyle": "black",//导航栏标题颜色，仅支持black/white
		"navigationBarTitleText": "默认页面",//导航栏文字内容
		"navigationBarBackgroundColor": "#2B9939",// 导航栏背景颜色
		"navigationStyle":"default",//导航栏样式，仅支持 default/custom。custom即取消默认的原生导航栏
		"enablePullDownRefresh":true,//是否开启下拉刷新
		"backgroundColor": "#CAF0DF",//下拉显示出来的窗口的背景色
		"backgroundTextStyle":"light",//下拉 loading 的样式，仅支持 dark / light
		"onReachBottomDistance":250
	},
	"tabBar": {
		"color": "#8b2671",//文字颜色
		"selectedColor": "#e9ccd3",//选中后文字颜色
		"list": [
			{
				"pagePath": "pages/index/index",//页面路径
				"text": "首页",//导航文字内容
				"iconPath": "static/tabBar/home.png",//未选中时的图片
				"selectedIconPath": "static/tabBar/home-h.png"//选中时的图片
			},{
				"pagePath": "pages/classify/classify",
				"text": "分类",
				"iconPath": "static/tabBar/classify.png",
				"selectedIconPath": "static/tabBar/classify-h.png"
			},{
				"pagePath": "pages/user/user",
				"text": "我的",
				"iconPath": "static/tabBar/user.png",
				"selectedIconPath": "static/tabBar/user-h.png"
			}
			
		]
	},
	"uniIdRouter": {}
}

</code></pre> 
<p>效果：<br> <img src="https://images2.imgbox.com/fc/49/dZq8HCuw_o.gif" alt="在这里插入图片描述"></p> 
<h2><a id="viteconfigunpluginautoimportvueuniapp_174"></a>vite.config中安装插件unplugin-auto-import自动导入vue和uniapp</h2> 
<p>之前使用生命周期钩子和ref时，每次都要写导入代码，安装一个插件，这样就可以免去导入的步骤了。</p> 
<p>首先，安装 <a href="https://nodejs.org/en" rel="nofollow">Node.js</a>，然后右键项目－使用命令行窗口打开目录：<br> <img src="https://images2.imgbox.com/38/cf/EphBhNnh_o.png" alt="在这里插入图片描述"><br> 然后输入以下代码，按下回车。</p> 
<pre><code>npm install unplugin-auto-import
</code></pre> 
<p>安装成功后，会出现一个node_modules文件夹。<br> <img src="https://images2.imgbox.com/78/cf/4WLRex6K_o.png" alt="在这里插入图片描述"></p> 
<p>继续进行设置，在根目录下创建一个vite.config.js文件夹，并拷贝以下代码：</p> 
<pre><code>import { defineConfig } from 'vite'
import uni from '@dcloudio/vite-plugin-uni'
import AutoImport from 'unplugin-auto-import/vite'
 
export default defineConfig({
    plugins: [
        uni(),        
        // 自动导入配置
        AutoImport({
            imports:[
                // 预设
                'vue',
                'uni-app'                
            ]
        })
    ]    
})
</code></pre> 
<p>设置完毕，现在把导入的vue和uniapp去掉， 也可以正常使用了。</p> 
<h2><a id="uniapi_208"></a>uni-api交互反馈</h2> 
<h3><a id="unishowToast_209"></a>uni.showToast</h3> 
<p>显示消息提示框，参数如下：<br> <img src="https://images2.imgbox.com/42/4c/DlA42W41_o.png" alt="在这里插入图片描述"><br> 常用的一般有title，即提示框的提示内容；<br> icon，提示框图标，默认是success，有以下值：<br> <img src="https://images2.imgbox.com/be/f4/oUEHtNOb_o.png" alt="在这里插入图片描述"><br> image，自定义图标。演示一下上面几种参数，代码如下：</p> 
<pre><code>&lt;template&gt;
	&lt;view class="layout"&gt;
		&lt;view class="box" v-for="item in 100"&gt;
			{<!-- -->{item}}
		&lt;/view&gt;
	&lt;/view&gt;
&lt;/template&gt;

&lt;script setup&gt;
uni.showToast({
	title:"操作失败",
	icon:"error"    ,//单行显示，去掉图标就可以多行显示了
	image:"../../static/tabBar/user.png"
})
&lt;/script&gt;

&lt;style lang="scss" scoped&gt;
	.layout{
		font-size: 70rpx;
		color: $custom-color-2;
	}
&lt;/style&gt;

</code></pre> 
<p>效果：<br> <img src="https://images2.imgbox.com/73/10/lzZZarEi_o.gif" alt="在这里插入图片描述"><br> mask参数，即消息提示框未消失时，无法点击页面的其他操作。先设置mask参数为false，设置一个页面跳转，注意navigator默认只能跳转到非TabBar界面，要是想跳转到TabBar界面，要使用reLaunch属性，代码如下：</p> 
<pre><code>&lt;template&gt;
	&lt;view class="layout"&gt;
		&lt;navigator open-type="reLaunch" url="/pages/user/user"&gt;用户&lt;/navigator&gt; 
		&lt;view class="box" v-for="item in 100"&gt;
			{<!-- -->{item}}
		&lt;/view&gt;
	&lt;/view&gt;
&lt;/template&gt;

&lt;script setup&gt;
uni.showToast({
	title:"操作失败",
	icon:'error',//单行显示，去掉图标就可以多行显示了
	image:"../../static/tabBar/user.png",
	mask:false
})
&lt;/script&gt;

&lt;style lang="scss" scoped&gt;
	.layout{
		font-size: 70rpx;
	}
&lt;/style&gt;

</code></pre> 
<p>提示框未消失，依然可以点击页面跳转按钮：<br> <img src="https://images2.imgbox.com/d6/64/ce1W9nwz_o.gif" alt="在这里插入图片描述"><br> 修改mask参数为true，在提示框未消失前，是无法点击跳转按钮的：<br> <img src="https://images2.imgbox.com/29/6a/zKltjulu_o.gif" alt="在这里插入图片描述"></p> 
<h3><a id="unihideToast_274"></a>uni.hideToast</h3> 
<p>隐藏消息提示框，我们用个按钮来演示一下uni.hideToast，代码如下：</p> 
<pre><code>&lt;template&gt;
	&lt;view class="layout"&gt;
		&lt;navigator open-type="reLaunch" url="/pages/user/user"&gt;用户&lt;/navigator&gt;
		&lt;button @click="show"&gt;显示&lt;/button&gt;
		&lt;button @click="hide"&gt;隐藏&lt;/button&gt;
		&lt;view class="box" v-for="item in 100"&gt;
			{<!-- -->{item}}
		&lt;/view&gt;
	&lt;/view&gt;
&lt;/template&gt;

&lt;script setup&gt;
	function show(){
		uni.showToast({
			title:"操作失败",
			duration:3000,  //提示的延迟时间，单位毫秒，默认：1500
		})
	}
	function hide(){
		uni.hideToast()
	}

&lt;/script&gt;

&lt;style lang="scss" scoped&gt;
	.layout{
		font-size: 70rpx;
	}
&lt;/style&gt;

</code></pre> 
<p>效果：<br> <img src="https://images2.imgbox.com/ac/5f/wfvwxxC9_o.gif" alt="在这里插入图片描述"></p> 
<h3><a id="unishowLoading_310"></a>uni.showLoading</h3> 
<p>显示 loading 提示框, 需主动调用 uni.hideLoading 才能关闭提示框。这里我们设置2秒后关闭Loading提示框<br> 演示代码如下：</p> 
<pre><code>&lt;template&gt;
	&lt;view class=""&gt;
		个人中心
	&lt;/view&gt;
&lt;/template&gt;

&lt;script setup&gt;
	uni.showLoading({
		title:"加载中...",
		mask:true
	})
	setTimeout(()=&gt;{
		uni.hideLoading()
	},2000)
&lt;/script&gt;

&lt;style lang="scss" scoped&gt;
	       
&lt;/style&gt;

</code></pre> 
<p>效果：<br> <img src="https://images2.imgbox.com/7c/b2/gjJcsZ6u_o.gif" alt="在这里插入图片描述"></p> 
<h3><a id="unishowModal_337"></a>uni.showModal</h3> 
<p>显示模态弹窗，可以只有一个确定按钮，也可以同时有确定和取消按钮。比如说用户要删除某个东西，这时就可以弹窗询问是否要删除。演示代码如下：</p> 
<pre><code>&lt;template&gt;
	&lt;view class=""&gt;
		分类页面
		&lt;button @click="remove"&gt;删除&lt;/button&gt;
	&lt;/view&gt;
&lt;/template&gt;

&lt;script setup&gt;
	function remove(){
		uni.showModal({
			title:"是否删除？"
		})
	}
&lt;/script&gt;

&lt;style lang="scss" scoped&gt;
	       
&lt;/style&gt;

</code></pre> 
<p>效果：<br> <img src="https://images2.imgbox.com/1d/1c/feSX7Q5y_o.gif" alt="在这里插入图片描述"><br> uni.showModal的参数如下：<br> <img src="https://images2.imgbox.com/fb/34/kDqL0C4U_o.png" alt="在这里插入图片描述"><br> 取消按钮、确认按钮的文字颜色，提示的内容标题都可以自定义。</p> 
<p>现在演示一下后三个参数，以success为例，它会给我们一个回调函数，拿到这个回调函数我们可以让它返回一个提示弹窗：“删除成功”，代码如下：</p> 
<pre><code>&lt;template&gt;
	&lt;view class=""&gt;
		分类页面
		&lt;button @click="remove"&gt;删除&lt;/button&gt;
	&lt;/view&gt;
&lt;/template&gt;

&lt;script setup&gt;
	function remove(){
		uni.showModal({
			title:"是否删除？",
			// content:"删除后不会恢复",
			confirmColor:"#8b2671",
			confirmText:"Yes",
			editable:true,//显示输入框
			success:res=&gt;{
				if(res.confirm){
					uni.showToast({
						title:"删除成功"
					})
				}
			}
		})
	}
&lt;/script&gt;

&lt;style lang="scss" scoped&gt;
	       
&lt;/style&gt;

</code></pre> 
<p>效果：<br> <img src="https://images2.imgbox.com/0a/e5/GZNCbgTE_o.gif" alt=" "><br> 这段代码中我们开始了输入框，在输入框中输入内容，点击确定后，可以回调输入的内容，拿到后我们可以做些输入判断、校验之类的操作。</p> 
<h3><a id="unishowActionSheet_403"></a>uni.showActionSheet</h3> 
<p>从底部向上弹出操作菜单，参数如下：<br> <img src="https://images2.imgbox.com/23/30/gm1V659S_o.png" alt="在这里插入图片描述"><br> 比较重要的是itemList参数了，使用时，要用数组把内容框起来，演示代码如下：</p> 
<pre><code>&lt;template&gt;
	&lt;view class=""&gt;
		分类页面
		
		&lt;button @click="select"&gt;学历&lt;/button&gt;
	&lt;/view&gt;
&lt;/template&gt;

&lt;script setup&gt;
	
	function select(){
		uni.showActionSheet({
			title:"请选择学历",//菜单标题
			itemList:["高中","大专","本科","研究生"],//选择项
			itemColor:"#ef475d",//按钮的文字颜色
		})
	}
&lt;/script&gt;

&lt;style lang="scss" scoped&gt;
	       
&lt;/style&gt;

</code></pre> 
<p>效果：<br> <img src="https://images2.imgbox.com/37/b8/faJnzXPx_o.gif" alt="在这里插入图片描述"><br> 我们选择哪一项，也是通过success回调结果的，不过因为itemList是个数组，回调给我们的结果是索引值<br> <img src="https://images2.imgbox.com/8b/24/bKTVWX73_o.png" alt="在这里插入图片描述"><br> 要是想回调结果是实际内容，需要把数组设置为变量，代码如下：</p> 
<pre><code>&lt;template&gt;
	&lt;view class=""&gt;
		分类页面
		&lt;button @click="select"&gt;学历&lt;/button&gt;
	&lt;/view&gt;
&lt;/template&gt;

&lt;script setup&gt;
	let arrs = ["高中","大专","本科","研究生"];
	function select(){
		uni.showActionSheet({
			title:"请选择学历",//菜单标题
			itemList:arrs,
			success:res=&gt;{
				console.log(res)
				console.log(arrs[res.tapIndex]);
			}
		})
	}
&lt;/script&gt;

&lt;style lang="scss" scoped&gt;
	       
&lt;/style&gt;

</code></pre> 
<h2><a id="_465"></a>动态设置页面导航栏样式</h2> 
<h3><a id="unisetNavigationBarTitle_466"></a>uni.setNavigationBarTitle</h3> 
<p>动态设置当前页面的标题。<br> 演示一下，这里用定时器定时，让其2秒钟后改变标题：</p> 
<pre><code>&lt;template&gt;
	&lt;view class=""&gt;
		分类页面
		&lt;button @click="select"&gt;学历&lt;/button&gt;
	&lt;/view&gt;
&lt;/template&gt;

&lt;script setup&gt;
	setTimeout(()=&gt;{
		uni.setNavigationBarTitle({
			title:"动态标题"
		})
	},2000)
	
	let arrs = ["高中","大专","本科","研究生"];
	function select(){
		uni.showActionSheet({
			title:"请选择学历",//菜单标题
			itemList:arrs,
			success:res=&gt;{
				console.log(res)
				console.log(arrs[res.tapIndex]);
			}
		})
	}
&lt;/script&gt;

&lt;style lang="scss" scoped&gt;
	       
&lt;/style&gt;
</code></pre> 
<p>效果：<br> <img src="https://images2.imgbox.com/68/74/O149gvfH_o.gif" alt="在这里插入图片描述"></p> 
<h3><a id="unisetNavigationBarColor_503"></a>uni.setNavigationBarColor</h3> 
<p>设置页面导航条颜色。<br> <img src="https://images2.imgbox.com/d5/b3/lIAiyyrX_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="unishowNavigationBarLoading_506"></a>uni.showNavigationBarLoading</h3> 
<p>在当前页面显示导航条加载动画。它有点类似于uni.showLoading，如果想让它结束，再写上个uni.hideNavigationBarLoading就行了，演示代码：</p> 
<pre><code>&lt;template&gt;
	&lt;view class=""&gt;
		分类页面
		&lt;button @click="select"&gt;学历&lt;/button&gt;
	&lt;/view&gt;
&lt;/template&gt;

&lt;script setup&gt;
	setTimeout(()=&gt;{
		uni.hideNavigationBarLoading({
			
		})
	},2000)
	uni.showNavigationBarLoading({})
	
	let arrs = ["高中","大专","本科","研究生"];
	function select(){
		uni.showActionSheet({
			title:"请选择学历",//菜单标题
			itemList:arrs,
			success:res=&gt;{
				console.log(res)
				console.log(arrs[res.tapIndex]);
			}
		})
	}
&lt;/script&gt;

&lt;style lang="scss" scoped&gt;
	       
&lt;/style&gt;
</code></pre> 
<p>效果：<br> <img src="https://images2.imgbox.com/07/d1/td5S99BA_o.gif" alt="在这里插入图片描述"></p> 
<h3><a id="unihideHomeButton_543"></a>uni.hideHomeButton</h3> 
<p>隐藏返回首页按钮：非主页面的左上角都会默认有一个返回首页按钮，使用该API可以实现隐藏<br> <img src="https://images2.imgbox.com/ae/7c/Ve8GMW9J_o.png" alt="在这里插入图片描述"><br> 隐藏后的效果：<br> <img src="https://images2.imgbox.com/e0/e7/Dfg5XFQi_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="TabBar_548"></a>动态设置TabBar样式</h2> 
<h3><a id="unisetTabBarItem_549"></a>uni.setTabBarItem</h3> 
<p>动态设置 tabBar 某一项的内容。建议是在app.vue中设置，这样会应用于所有页面，演示代码如下：</p> 
<pre><code>&lt;script&gt;
	export default {
		onLaunch: function() {
			uni.setTabBarItem({
				index:1,
				text:"自定义"
			})
		},
		onShow: function() {
			console.log('App Show')
		},
		onHide: function() {
			console.log('App Hide')
		}
	}
&lt;/script&gt;

&lt;style lang="scss"&gt;
	@import "@/common/css/style.css"
&lt;/style&gt;

</code></pre> 
<p>效果：<br> <img src="https://images2.imgbox.com/33/fd/BCbHCCTu_o.png" alt="在这里插入图片描述"><br> 其他参数如图：<br> <img src="https://images2.imgbox.com/1e/b2/0Zu0I3VY_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="unisetTabBarStyle_578"></a>uni.setTabBarStyle</h3> 
<p>动态设置 tabBar 的整体样式。参数如图：<br> <img src="https://images2.imgbox.com/8d/15/S6b7CC2i_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="unihideTabBar_581"></a>uni.hideTabBar</h3> 
<p>隐藏 tabBar。</p> 
<h3><a id="unishowTabBar_584"></a>uni.showTabBar</h3> 
<p>显示 tabBar。</p> 
<h3><a id="unisetTabBarBadge_587"></a>uni.setTabBarBadge</h3> 
<p>为 tabBar 某一项的右上角添加文本。一般都是添加数字，文字太多的话显示不出来，代码如下：</p> 
<pre><code>&lt;script&gt;
	export default {
		onLaunch: function() {
			uni.setTabBarBadge({
				index:1,
				text:"99+"
			})
		},
		onShow: function() {
			console.log('App Show')
		},
		onHide: function() {
			console.log('App Hide')
		}
	}
&lt;/script&gt;

&lt;style lang="scss"&gt;
	@import "@/common/css/style.css"
&lt;/style&gt;

</code></pre> 
<p>效果：<br> <img src="https://images2.imgbox.com/bd/98/LiTt0b0g_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="uniremoveTabBarBadge_615"></a>uni.removeTabBarBadge</h3> 
<p>移除 tabBar 某一项右上角的文本。</p> 
<h3><a id="unishowTabBarRedDot_618"></a>uni.showTabBarRedDot</h3> 
<p>显示 tabBar 某一项的右上角的红点。跟刚刚在tabBar右上角显示增加文本一样，这里是在右上角显示红点，代码如下：</p> 
<pre><code>&lt;script&gt;
	export default {
		onLaunch: function() {
			uni.setTabBarBadge({
				index:1,
				text:"99+"
			})
			uni.showTabBarRedDot({
				index:2,
			})
		},
		onShow: function() {
			console.log('App Show')
		},
		onHide: function() {
			console.log('App Hide')
		}
	}
&lt;/script&gt;

&lt;style lang="scss"&gt;
	@import "@/common/css/style.css"
&lt;/style&gt;

</code></pre> 
<p>效果：<br> <img src="https://images2.imgbox.com/60/c4/m8PvwStQ_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="unihideTabBarRedDot_648"></a>uni.hideTabBarRedDot</h3> 
<p>隐藏 tabBar 某一项的右上角的红点。刚刚我们设置了红点，现在可以在相应的页面中使用uni.hideTabBarRedDot去隐藏红点，代码如下：</p> 
<pre><code>&lt;template&gt;
	&lt;view class=""&gt;
		个人中心
	&lt;/view&gt;
&lt;/template&gt;

&lt;script setup&gt;
	onShow(()=&gt;{
		uni.hideTabBarRedDot({
			index:2
		})
	})
	uni.showLoading({
		title:"加载中...",
		mask:true
	})
&lt;/script&gt;

&lt;style lang="scss" scoped&gt;
	       
&lt;/style&gt;


</code></pre> 
<h2><a id="_onPullDownRefresh_676"></a>下拉刷新 onPullDownRefresh</h2> 
<p>下拉刷新操作，需要在 pages.json 里，找到的当前页面的pages节点，并在 style 选项中开启 enablePullDownRefresh。</p> 
<h3><a id="unistartPullDownRefreshOBJECT_678"></a>uni.startPullDownRefresh(OBJECT)</h3> 
<p>开始下拉刷新，调用后触发下拉刷新动画，效果与用户手动下拉刷新一致。在这里我们可以用个定时器，设定一秒钟后开始刷新。</p> 
<pre><code>setTimeout(()=&gt;{
		uni.startPullDownRefresh()
	},1000)
</code></pre> 
<h3><a id="unistopPullDownRefresh_685"></a>uni.stopPullDownRefresh()</h3> 
<p>停止当前页面下拉刷新。代码如下：</p> 
<pre><code>&lt;template&gt;
	&lt;view class="content"&gt;
		&lt;button @click="stop"&gt;停止&lt;/button&gt;
	&lt;/view&gt;
&lt;/template&gt;

&lt;script&gt;
	setTimeout(()=&gt;{
		uni.startPullDownRefresh()
	},1000)
	function stop(){
		uni.stopPullDownRefresh()
	}
&lt;/script&gt;

&lt;style&gt;
	
&lt;/style&gt;
</code></pre> 
<p>效果：<br> <img src="https://images2.imgbox.com/0a/af/urAG0KWM_o.gif" alt="在这里插入图片描述"></p> 
<h2><a id="_711"></a>页面和路由</h2> 
<h3><a id="uninavigateToOBJECT_712"></a>uni.navigateTo(OBJECT)</h3> 
<p>保留当前页面，跳转到应用内的某个页面。使用uni.navigateBack可以返回到原页面。<br> 其实跟navigator一样的作用，新建demo1和demo2两个页面，点击后从demo1跳转到demo2，代码如下：</p> 
<pre><code>&lt;template&gt;
	&lt;view class=""&gt;
		&lt;view @click="goDemo2"&gt;跳转到demo2&lt;/view&gt;
	&lt;/view&gt;
&lt;/template&gt;

&lt;script setup&gt;
	function goDemo2(){
		uni.navigateTo({
			url:"/pages/demo2/demo2"
		})
	}
&lt;/script&gt;

&lt;style lang="scss" scoped&gt;
	       
&lt;/style&gt;

</code></pre> 
<h3><a id="unireLaunchOBJECT_736"></a>uni.reLaunch(OBJECT)</h3> 
<p>关闭所有页面，打开到应用内的某个页面。<br> 刚刚navigateTo参数是没法跳转到TabBar页面的，但reLaunch可以，演示代码:</p> 
<pre><code>&lt;template&gt;
	&lt;view class=""&gt;
		&lt;view @click="goDemo2"&gt;跳转到classify&lt;/view&gt;
	&lt;/view&gt;
&lt;/template&gt;

&lt;script setup&gt;
	function goDemo2(){
		uni.reLaunch({
			url:"/pages/classify/classify"
		})
	}
&lt;/script&gt;

&lt;style lang="scss" scoped&gt;
	       
&lt;/style&gt;

</code></pre> 
<h3><a id="uninavigateBackOBJECT_760"></a>uni.navigateBack(OBJECT)</h3> 
<p>关闭当前页面，返回上一页面或多级页面。可通过 getCurrentPages() 获取当前的页面栈，决定需要返回几层。代码如下：</p> 
<pre><code>&lt;template&gt;
	&lt;view class=""&gt;
		&lt;button @click="goDemo1"&gt;返回Demo1&lt;/button&gt;
	&lt;/view&gt;
&lt;/template&gt;

&lt;script setup&gt;
	function goDemo1(){
		uni.navigateBack()
	}
	console.log(getCurrentPages())
&lt;/script&gt;

&lt;style lang="scss" scoped&gt;
	       
&lt;/style&gt;

</code></pre> 
<p>效果：<br> <img src="https://images2.imgbox.com/eb/7b/afI0LWDw_o.gif" alt="在这里插入图片描述"></p> 
<h2><a id="StorageSyncAPI_783"></a>StorageSync数据缓存API</h2> 
<h3><a id="unisetStorage_784"></a>uni.setStorage</h3> 
<p>将数据存储在本地缓存中指定的 key 中，会覆盖掉原来该 key 对应的内容，这是一个异步接口。</p> 
<h3><a id="unisetStorageSyncKEYDATA_787"></a>uni.setStorageSync(KEY,DATA)</h3> 
<p>将 data 存储在本地缓存中指定的 key 中，会覆盖掉原来该 key 对应的内容，这是一个同步接口。</p> 
<pre><code>&lt;template&gt;
	&lt;view class="content"&gt;
		
	&lt;/view&gt;
&lt;/template&gt;

&lt;script setup&gt;
	uni.setStorageSync('key1','hello moto')
	uni.setStorageSync('key2','王二麻子')
	uni.setStorageSync("arrs",["one","two","three"]);
&lt;/script&gt;

&lt;style scoped&gt;
	
&lt;/style&gt;

</code></pre> 
<p>查看缓存的值：<br> <img src="https://images2.imgbox.com/6a/7f/e48w3btV_o.png" alt=""></p> 
<h3><a id="unigetStorage_809"></a>uni.getStorage</h3> 
<p>从本地缓存中异步获取指定 key 对应的内容。</p> 
<h3><a id="unigetStorageSyncKEY_812"></a>uni.getStorageSync(KEY)</h3> 
<p>从本地缓存中同步获取指定 key 对应的内容。使用这个参数取key1的值，代码如下：</p> 
<pre><code>&lt;template&gt;
	&lt;view class="content"&gt;
		
	&lt;/view&gt;
&lt;/template&gt;

&lt;script setup&gt;
	uni.setStorageSync('key1','hello moto')
	uni.setStorageSync('key2','王二麻子')
	uni.setStorageSync("arrs",["one","two","three"]);
	
	let myName = uni.getStorageSync("key1")
	console.log(myName);
&lt;/script&gt;

&lt;style scoped&gt;
	
&lt;/style&gt;

</code></pre> 
<p>取到值了：<br> <img src="https://images2.imgbox.com/92/09/SGPWpmL3_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="unigetStorageInfo_837"></a>uni.getStorageInfo</h3> 
<p>异步获取当前 storage 的相关信息。</p> 
<h3><a id="unigetStorageInfoSync_840"></a>uni.getStorageInfoSync()</h3> 
<p>同步获取当前 storage 的相关信息。简单来说，就是读取当前所有的key，演示代码：</p> 
<pre><code>&lt;template&gt;
	&lt;view class="content"&gt;
		
	&lt;/view&gt;
&lt;/template&gt;

&lt;script setup&gt;
	uni.setStorageSync('key1','hello moto')
	uni.setStorageSync('key2','王二麻子')
	uni.setStorageSync("arrs",["one","two","three"]);
	
	let myName = uni.getStorageSync("key1")
	console.log(myName);
	
	const res = uni.getStorageInfoSync();
	console.log(res);
&lt;/script&gt;

&lt;style scoped&gt;
	
&lt;/style&gt;

</code></pre> 
<p>效果：<br> <img src="https://images2.imgbox.com/61/c2/zqfTwZ2C_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="uniremoveStorageOBJECT_868"></a>uni.removeStorage(OBJECT)</h3> 
<p>从本地缓存中异步移除指定 key。</p> 
<h3><a id="uniremoveStorageSyncKEY_871"></a>uni.removeStorageSync(KEY)</h3> 
<p>从本地缓存中同步移除指定 key。写个简单的代码演示一下：</p> 
<pre><code>&lt;template&gt;
	&lt;view class="content"&gt;
		&lt;button @click="remove"&gt;删除key2&lt;/button&gt;
	&lt;/view&gt;
&lt;/template&gt;

&lt;script setup&gt;
	uni.setStorageSync('key1','hello moto')
	uni.setStorageSync('key2','王二麻子')
	uni.setStorageSync("arrs",["one","two","three"]);
	
	let myName = uni.getStorageSync("key1")
	console.log(myName);
	
	const res = uni.getStorageInfoSync();
	console.log(res);
	function remove(){
		uni.removeStorageSync("key2")
	}
&lt;/script&gt;

&lt;style scoped&gt;
	
&lt;/style&gt;

</code></pre> 
<p>效果：<br> <img src="https://images2.imgbox.com/19/54/zRDy6Fyi_o.gif" alt="在这里插入图片描述"></p> 
<h3><a id="uniclearStorage_902"></a>uni.clearStorage()</h3> 
<p>清理本地数据缓存。</p> 
<h3><a id="uniclearStorageSync_905"></a>uni.clearStorageSync()</h3> 
<p>同步清理本地数据缓存。演示代码如下：</p> 
<pre><code>&lt;template&gt;
	&lt;view class="content"&gt;
		&lt;button @click="remove"&gt;删除key2&lt;/button&gt;
		&lt;button @click="clear" type="warn"&gt;清除所有缓存&lt;/button&gt;
	&lt;/view&gt;
&lt;/template&gt;

&lt;script setup&gt;
	uni.setStorageSync('key1','hello moto')
	uni.setStorageSync('key2','王二麻子')
	uni.setStorageSync("arrs",["one","two","three"]);
	
	let myName = uni.getStorageSync("key1")
	console.log(myName);
	
	const res = uni.getStorageInfoSync();
	console.log(res);
	function remove(){
		uni.removeStorageSync("key2")
	}
	function clear(){
		uni.clearStorageSync()
	}
&lt;/script&gt;

&lt;style scoped&gt;
	
&lt;/style&gt;

</code></pre> 
<p>效果：<br> <img src="https://images2.imgbox.com/a1/c8/whTIkOA4_o.gif" alt="在这里插入图片描述"></p> 
<h2><a id="_941"></a>网络</h2> 
<h3><a id="unirequest3_942"></a>uni.request发起网路请求3种回调结果调用</h3> 
<p>发起网络请求。</p> 
<pre><code>&lt;template&gt;
	&lt;view class=""&gt;
		
	&lt;/view&gt;
&lt;/template&gt;

&lt;script setup&gt;
	function request(){
		uni.request({
			url:"https://jsonplaceholder.typicode.com/posts",
			success:res=&gt;{
				console.log(res);
			}
		})
	}
	request();
&lt;/script&gt;

&lt;style lang="scss" scoped&gt;
	       
&lt;/style&gt;

</code></pre> 
<p>请求成功：<br> <img src="https://images2.imgbox.com/b3/20/Q9DXflwe_o.png" alt="在这里插入图片描述"><br> 把结果渲染到前端页面：</p> 
<pre><code>&lt;template&gt;
	&lt;view class="layout"&gt;
		&lt;view class="row" v-for="item in arrs" :key="item.id"&gt;
			&lt;view class="title"&gt;{<!-- -->{item.title}}&lt;/view&gt;
			&lt;view class="content"&gt;{<!-- -->{item.body}}&lt;/view&gt;
		&lt;/view&gt;
	&lt;/view&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref } from 'vue';
	let arrs = ref([])
	function request(){
		uni.request({
			url:"https://jsonplaceholder.typicode.com/posts",
			success:res=&gt;{
				console.log(res);
				arrs.value = res.data
			}
		})
	}
	request();
&lt;/script&gt;

&lt;style lang="scss" scoped&gt;
	.layout{
		padding: 30rpx;
		.row{
			border-bottom: 1px solid #cfcfcf;
			padding: 20rpx 0;
			.title{
				font-size: 36rpx;
			}
			.content{
				font-size: 28rpx;
				color: #666;
			}
		}
	}    
&lt;/style&gt;

</code></pre> 
<p>效果：<br> <img src="https://images2.imgbox.com/55/0c/HBoOUUOi_o.png" alt="在这里插入图片描述"><br> 写法2：</p> 
<pre><code>	function request(){
		uni.request({
			url:"https://jsonplaceholder.typicode.com/posts",
		}).then(res=&gt;{
			console.log(res);
		})
	}
	request();
</code></pre> 
<p>写法3：</p> 
<pre><code>async function request(){
		let res = await uni.request({
			url:"https://jsonplaceholder.typicode.com/posts"
		})
		console.log(res);
	}
	request();
</code></pre> 
<h3><a id="unirequest_1038"></a>uni.request参数</h3> 
<h4><a id="data_1039"></a>data</h4> 
<p>请求的参数。</p> 
<pre><code>&lt;template&gt;
	&lt;view class=""&gt;
		
	&lt;/view&gt;
&lt;/template&gt;

&lt;script setup&gt;
	function request(){
		uni.request({
			url:"https://jsonplaceholder.typicode.com/posts",
			data:{
				id:5,
			},
		}).then(res=&gt;{
			console.log(res);
		})
	}
	request();
	
&lt;/script&gt;

&lt;style lang="scss" scoped&gt;
	       
&lt;/style&gt;

</code></pre> 
<h4><a id="method_1069"></a>method有效值</h4> 
<p>发送的类型，也就是请求方式。<br> <img src="https://images2.imgbox.com/1f/6c/qSgwXjgw_o.png" alt="在这里插入图片描述"><br> 演示代码：</p> 
<pre><code>&lt;template&gt;
	&lt;view class=""&gt;
		
	&lt;/view&gt;
&lt;/template&gt;

&lt;script setup&gt;
	function request(){
		uni.request({
			url:"https://jsonplaceholder.typicode.com/posts",
			data:{
				id:5,
			},
			method:"GET",
		}).then(res=&gt;{
			console.log(res);
		})
	}
	request();
	
&lt;/script&gt;

&lt;style lang="scss" scoped&gt;
	       
&lt;/style&gt;

</code></pre> 
<h4><a id="header_1102"></a>header</h4> 
<p>设置请求的 header，header 中不能设置 Referer。header也就是头部信息，是带给我们后端的。</p> 
<pre><code>&lt;template&gt;
	&lt;view class=""&gt;
		
	&lt;/view&gt;
&lt;/template&gt;

&lt;script setup&gt;
	function request(){
		uni.request({
			url:"https://jsonplaceholder.typicode.com/posts?id=3",
			data:{
				id:5,
			},
			header:{
				token:"asfsaf"
				“content-type”:"application/json"
			},
			method:"GET",
		}).then(res=&gt;{
			console.log(res);
		})
	}
	request();
	
&lt;/script&gt;

&lt;style lang="scss" scoped&gt;
	       
&lt;/style&gt;

</code></pre> 
<h4><a id="timeout_1137"></a>timeout</h4> 
<p>超时时间，单位为ms。我们定义一个fail，如果超时了，就会返回fail，并提示“超时”，这里超时时间设置为1秒，再定义一个showLoading，然后设置complete，写入hideLoading，也就是说，无论成功失败，showLoading，都会隐藏，代码如下：</p> 
<pre><code>&lt;template&gt;
	&lt;view class=""&gt;
		
	&lt;/view&gt;
&lt;/template&gt;

&lt;script setup&gt;
	
	function request(){
		uni.showLoading()
		uni.request({
			url:"https://jsonplaceholder.typicode.com/posts",
			data:{
				id:5
			},
			header:{
				token:"adfadsfadsf",
				"content-type":"application/x-www-form-urlencoded"
			},
			method:"post",
			timeout:1000,
			success:res=&gt;{
				console.log(res);			 
			},
			fail:err=&gt;{
				console.log("超时");
				console.log(err);
			},
			complete:()=&gt;{
				uni.hideLoading()
			}
		})
		
	}
	
	request();
	
&lt;/script&gt;

&lt;style lang="scss" scoped&gt;
	       
&lt;/style&gt;


</code></pre> 
<p>调慢网速，测试fail:<br> <img src="https://images2.imgbox.com/9a/81/EwflaWIo_o.png" alt="在这里插入图片描述"><br> 开始测试：<br> <img src="https://images2.imgbox.com/e1/5b/BZnBZaV9_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/2683d76dd43c0c62401bd45852fc0c52/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">探索算法系列 - 双指针</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b95fabea99fa6556e079ae5169f86465/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">将YOLOv8模型从PyTorch的.pt格式转换为TensorRT的.engine格式</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>