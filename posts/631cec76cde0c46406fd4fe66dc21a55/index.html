<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>C&#43;&#43; Lambdaè¡¨è¾¾å¼çš„å¸¸è§ç”¨æ³• - ç¼–ç¨‹å¤§å’–</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/631cec76cde0c46406fd4fe66dc21a55/">
  <meta property="og:site_name" content="ç¼–ç¨‹å¤§å’–">
  <meta property="og:title" content="C&#43;&#43; Lambdaè¡¨è¾¾å¼çš„å¸¸è§ç”¨æ³•">
  <meta property="og:description" content="â­ï¸æˆ‘å«å¿†_æ’å¿ƒï¼Œä¸€åå–œæ¬¢ä¹¦å†™åšå®¢çš„åœ¨è¯»ç ”ç©¶ç”ŸğŸ‘¨â€ğŸ“ã€‚
å¦‚æœè§‰å¾—æœ¬æ–‡èƒ½å¸®åˆ°æ‚¨ï¼Œéº»çƒ¦ç‚¹ä¸ªèµğŸ‘å‘—ï¼
è¿‘æœŸä¼šä¸æ–­åœ¨ä¸“æ é‡Œè¿›è¡Œæ›´æ–°è®²è§£åšå®¢~~~ æœ‰ä»€ä¹ˆé—®é¢˜çš„å°ä¼™ä¼´ æ¬¢è¿ç•™è¨€æé—®æ¬§ï¼Œå–œæ¬¢çš„å°ä¼™ä¼´ç»™ä¸ªä¸‰è¿æ”¯æŒä¸€ä¸‹å‘—ã€‚ğŸ‘â­ï¸â¤ï¸
å‰è¨€ ä½œä¸ºC&#43;&#43;11çš„æ–°ç‰¹æ€§çš„Lambadaè¡¨è¾¾å¼æœ¬èº«ä¹¦å†™å€’ä¸æ˜¯ä»€ä¹ˆéš¾äº‹ï¼Œç½‘ä¸Šæ‰¾ä¸€æ‰¾ä¹Ÿèƒ½è½»æ˜“å†™å‡ºæ­£ç¡®åœ°è¡¨è¾¾å¼ï¼Œä½†æ˜¯åœ¨é‚£äº›åœºæ™¯ä¸‹ä½¿ç”¨ä»¥åŠåº”è¯¥å¦‚ä½•ä½¿ç”¨åè€Œä¼šè®©å¾ˆå¤šæ–°æ‰‹å›°æƒ‘ã€‚
Lambdaè¡¨è¾¾å¼ 1 è¡¨è¾¾å¼å®šä¹‰ æ„é€ ä¸€ä¸ªé—­åŒ…ï¼šä¸€ä¸ªèƒ½å¤Ÿæ•è·ä½œç”¨åŸŸä¸­å˜é‡çš„æœªå‘½åå‡½æ•°å¯¹è±¡ã€‚
åœ¨æ“ä½œä¸Šï¼Œé—­åŒ…æ˜¯å°†å‡½æ•°ä¸ç¯å¢ƒä¸€èµ·å­˜å‚¨çš„è®°å½•ã€‚
2 ä¹¦å†™è§„èŒƒ ä¸»è¦åˆ†æˆå…­ä¸ªéƒ¨åˆ†ï¼Œå…¶ä¸­1ï¼Œ2ï¼Œ3ï¼Œ5ï¼Œ6æ˜¯éœ€è¦é‡ç‚¹æŒæ¡çš„ã€‚
capture å­å¥ï¼ˆåœ¨ C&#43;&#43; è§„èŒƒä¸­ä¹Ÿç§°ä¸º lambda å¼•å…¥å™¨ã€‚ï¼‰å‚æ•°åˆ—è¡¨è‡ªé€‰ã€‚ï¼ˆä¹Ÿç§°ä¸º lambda å£°æ˜ç¬¦)å¯å˜è§„èŒƒè‡ªé€‰ã€‚å¼‚å¸¸è§„èŒƒè‡ªé€‰ã€‚å°¾éšè¿”å›ç±»å‹è‡ªé€‰ã€‚Î»ä½“ã€‚ 3 ä¹¦å†™è¡¨è¾¾å¼ ä¹¦å†™[] ç”¨äºæ•è·ï¼š
3.1 æ•è·çš„åŸºæœ¬è§„åˆ™ [] - ä¸æ•æ‰ä»»ä½•å˜é‡[&amp;] - æ•è·å¤–éƒ¨ä½œç”¨åŸŸä¸­æ‰€æœ‰å˜é‡ï¼Œå¹¶ä½œä¸ºå¼•ç”¨åœ¨å‡½æ•°ä½“å†…ä½¿ç”¨ (æŒ‰å¼•ç”¨æ•
è·)[=] - æ•è·å¤–éƒ¨ä½œç”¨åŸŸä¸­æ‰€æœ‰å˜é‡ï¼ˆä¾èµ–äºç¼–è¯‘å™¨ï¼Œåªèƒ½æ•è·ä¸è¢«ä¼˜åŒ–çš„å˜é‡ï¼‰ï¼Œå¹¶ä½œä¸ºå‰¯æœ¬åœ¨å‡½æ•°ä½“å†…ä½¿ç”¨ (æŒ‰å€¼æ•è·)
æ³¨:æ‹·è´çš„å‰¯æœ¬åœ¨åŒ¿åå‡½æ•°ä½“å†…éƒ¨ä¸ºconstç±»å‹.[=, &amp;foo] - æŒ‰å€¼æ•è·å¤–éƒ¨ä½œç”¨åŸŸä¸­æ‰€æœ‰å˜é‡ï¼Œå¹¶æŒ‰ç…§å¼•ç”¨æ•è·å¤–éƒ¨å˜é‡ foo[bar] - æŒ‰å€¼æ•è· bar å˜é‡ï¼ŒåŒæ—¶ä¸æ•è·å…¶ä»–å˜é‡[&amp;bar] - æŒ‰å¼•ç”¨æ•è· bar å˜é‡ï¼ŒåŒæ—¶ä¸æ•è·å…¶ä»–å˜é‡[this] - æ•è·å½“å‰ç±»ä¸­çš„ this æŒ‡é’ˆè®© lambda è¡¨è¾¾å¼æ‹¥æœ‰å’Œå½“å‰ç±»æˆå‘˜å‡½æ•°åŒæ ·çš„è®¿é—®æƒé™
å¦‚æœå·²ç»ä½¿ç”¨äº† &amp; æˆ–è€… =, é»˜è®¤æ·»åŠ æ­¤é€‰é¡¹ 3.2 ä½¿ç”¨çš„åœºæ™¯ ç”¨åˆ°å‡½æ•°æŒ‡é’ˆçš„åœ°æ–¹ï¼Œåº”è¯¥è€ƒè™‘ä¸€ä¸‹è¿™ä¸ªåœ°æ–¹éœ€ä¸éœ€è¦å†™Lambadaè¡¨è¾¾å¼ã€‚
ç±»ä¸­å®šä¹‰äº†åªä½¿ç”¨ä¸€æ¬¡çš„æ–¹æ³•ï¼Œå¯ä»¥è€ƒè™‘æ˜¯å¦éœ€è¦ç”¨åˆ°Lambadaè¡¨è¾¾å¼ã€‚
æˆ‘åªéœ€è¦ä½¿ç”¨ä¸€æ¬¡
ç±»ä¸­è¿›è¡Œè°ƒç”¨ã€‚">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2023-03-21T09:02:08+08:00">
    <meta property="article:modified_time" content="2023-03-21T09:02:08+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ç¼–ç¨‹å¤§å’–" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ç¼–ç¨‹å¤§å’–</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">C&#43;&#43; Lambdaè¡¨è¾¾å¼çš„å¸¸è§ç”¨æ³•</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <blockquote> 
 <p>â­ï¸æˆ‘å«å¿†_æ’å¿ƒï¼Œä¸€åå–œæ¬¢ä¹¦å†™åšå®¢çš„åœ¨è¯»ç ”ç©¶ç”ŸğŸ‘¨â€ğŸ“ã€‚<br> å¦‚æœè§‰å¾—æœ¬æ–‡èƒ½å¸®åˆ°æ‚¨ï¼Œ<code>éº»çƒ¦ç‚¹ä¸ªèµ</code>ğŸ‘å‘—ï¼</p> 
</blockquote> 
<blockquote> 
 <p>è¿‘æœŸä¼šä¸æ–­åœ¨ä¸“æ é‡Œè¿›è¡Œæ›´æ–°è®²è§£åšå®¢~~~ æœ‰ä»€ä¹ˆé—®é¢˜çš„å°ä¼™ä¼´ æ¬¢è¿ç•™è¨€æé—®æ¬§ï¼Œå–œæ¬¢çš„å°ä¼™ä¼´ç»™ä¸ªä¸‰è¿æ”¯æŒä¸€ä¸‹å‘—ã€‚ğŸ‘â­ï¸â¤ï¸</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/66/ac/dDlCQMUW_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h2><a id="_6"></a>å‰è¨€</h2> 
<p>ä½œä¸ºC++11çš„æ–°ç‰¹æ€§çš„Lambadaè¡¨è¾¾å¼æœ¬èº«ä¹¦å†™å€’ä¸æ˜¯ä»€ä¹ˆéš¾äº‹ï¼Œç½‘ä¸Šæ‰¾ä¸€æ‰¾ä¹Ÿèƒ½è½»æ˜“å†™å‡ºæ­£ç¡®åœ°è¡¨è¾¾å¼ï¼Œä½†æ˜¯åœ¨<code>é‚£äº›åœºæ™¯ä¸‹ä½¿ç”¨</code>ä»¥åŠ<code>åº”è¯¥å¦‚ä½•ä½¿ç”¨</code>åè€Œä¼šè®©å¾ˆå¤šæ–°æ‰‹å›°æƒ‘ã€‚</p> 
<h2><a id="Lambda_10"></a>Lambdaè¡¨è¾¾å¼</h2> 
<h3><a id="1__12"></a>1 è¡¨è¾¾å¼å®šä¹‰</h3> 
<blockquote> 
 <p>æ„é€ ä¸€ä¸ªé—­åŒ…ï¼šä¸€ä¸ªèƒ½å¤Ÿæ•è·ä½œç”¨åŸŸä¸­å˜é‡çš„æœªå‘½åå‡½æ•°å¯¹è±¡ã€‚</p> 
 <p>åœ¨æ“ä½œä¸Šï¼Œé—­åŒ…æ˜¯å°†å‡½æ•°ä¸ç¯å¢ƒä¸€èµ·å­˜å‚¨çš„è®°å½•ã€‚</p> 
</blockquote> 
<h3><a id="2__18"></a>2 ä¹¦å†™è§„èŒƒ</h3> 
<p>ä¸»è¦åˆ†æˆå…­ä¸ªéƒ¨åˆ†ï¼Œå…¶ä¸­1ï¼Œ2ï¼Œ3ï¼Œ5ï¼Œ6æ˜¯éœ€è¦é‡ç‚¹æŒæ¡çš„ã€‚</p> 
<p><img src="https://images2.imgbox.com/05/41/Lm4j6c4c_o.png" alt="image-20230318102039495"></p> 
<blockquote> 
 <ol><li>capture å­å¥ï¼ˆåœ¨ C++ è§„èŒƒä¸­ä¹Ÿç§°ä¸º lambda å¼•å…¥å™¨ã€‚ï¼‰</li><li>å‚æ•°åˆ—è¡¨è‡ªé€‰ã€‚ï¼ˆä¹Ÿç§°ä¸º lambda å£°æ˜ç¬¦)</li><li>å¯å˜è§„èŒƒè‡ªé€‰ã€‚</li><li>å¼‚å¸¸è§„èŒƒè‡ªé€‰ã€‚</li><li>å°¾éšè¿”å›ç±»å‹è‡ªé€‰ã€‚</li><li>Î»ä½“ã€‚</li></ol> 
</blockquote> 
<h3><a id="3__31"></a>3 ä¹¦å†™è¡¨è¾¾å¼</h3> 
<p>ä¹¦å†™<code>[]</code> ç”¨äºæ•è·ï¼š</p> 
<h4><a id="31__35"></a>3.1 æ•è·çš„åŸºæœ¬è§„åˆ™</h4> 
<blockquote> 
 <ul><li>[] - ä¸æ•æ‰ä»»ä½•å˜é‡</li><li><strong>[&amp;]</strong> - æ•è·å¤–éƒ¨ä½œç”¨åŸŸä¸­æ‰€æœ‰å˜é‡ï¼Œå¹¶ä½œä¸ºå¼•ç”¨åœ¨å‡½æ•°ä½“å†…ä½¿ç”¨ (æŒ‰å¼•ç”¨æ•<br> è·)</li><li><strong>[=]</strong> - æ•è·å¤–éƒ¨ä½œç”¨åŸŸä¸­<strong>æ‰€æœ‰å˜é‡</strong>ï¼ˆä¾èµ–äºç¼–è¯‘å™¨ï¼Œåªèƒ½æ•è·ä¸è¢«ä¼˜åŒ–çš„å˜é‡ï¼‰ï¼Œå¹¶ä½œä¸ºå‰¯æœ¬åœ¨å‡½æ•°ä½“å†…ä½¿ç”¨ (æŒ‰å€¼æ•è·)<br> æ³¨:æ‹·è´çš„å‰¯æœ¬åœ¨åŒ¿åå‡½æ•°ä½“å†…éƒ¨ä¸ºconstç±»å‹.</li><li>[=, &amp;foo] - æŒ‰å€¼æ•è·å¤–éƒ¨ä½œç”¨åŸŸä¸­æ‰€æœ‰å˜é‡ï¼Œå¹¶æŒ‰ç…§å¼•ç”¨æ•è·å¤–éƒ¨å˜é‡ foo</li><li>[bar] - æŒ‰å€¼æ•è· bar å˜é‡ï¼ŒåŒæ—¶ä¸æ•è·å…¶ä»–å˜é‡</li><li>[&amp;bar] - æŒ‰å¼•ç”¨æ•è· bar å˜é‡ï¼ŒåŒæ—¶ä¸æ•è·å…¶ä»–å˜é‡</li><li>[this] - æ•è·å½“å‰ç±»ä¸­çš„ this æŒ‡é’ˆ</li><li>è®© lambda è¡¨è¾¾å¼æ‹¥æœ‰å’Œå½“å‰ç±»æˆå‘˜å‡½æ•°åŒæ ·çš„è®¿é—®æƒé™<br> å¦‚æœå·²ç»ä½¿ç”¨äº† &amp; æˆ–è€… =, é»˜è®¤æ·»åŠ æ­¤é€‰é¡¹</li></ul> 
</blockquote> 
<h4><a id="32__49"></a>3.2 ä½¿ç”¨çš„åœºæ™¯</h4> 
<p>ç”¨åˆ°<code>å‡½æ•°æŒ‡é’ˆ</code>çš„åœ°æ–¹ï¼Œåº”è¯¥è€ƒè™‘ä¸€ä¸‹è¿™ä¸ªåœ°æ–¹éœ€ä¸éœ€è¦å†™Lambadaè¡¨è¾¾å¼ã€‚</p> 
<p>ç±»ä¸­å®šä¹‰äº†åªä½¿ç”¨ä¸€æ¬¡çš„æ–¹æ³•ï¼Œå¯ä»¥è€ƒè™‘æ˜¯å¦éœ€è¦ç”¨åˆ°Lambadaè¡¨è¾¾å¼ã€‚</p> 
<blockquote> 
 <p>æˆ‘<strong>åªéœ€è¦ä½¿ç”¨ä¸€æ¬¡</strong></p> 
 <p>ç±»ä¸­è¿›è¡Œè°ƒç”¨ã€‚</p> 
</blockquote> 
<p>å¥½å¤„ï¼š</p> 
<ul><li>ç®€åŒ–ä»£ç ï¼š ç»´æŠ¤ä»£ç å®Œæ•´æ€§</li><li>æ•è·åˆ—è¡¨ ç®€åŒ–ä»£ç è§£è€¦ã€‚</li></ul> 
<p>å…·ä½“çš„ä¾‹å­ï¼š</p> 
<h5><a id="01_66"></a>01ã€ä»£ç ç»´æŠ¤ä¸Š</h5> 
<p>Lambadaç±»ä¼¼äºå‡½æ•°æŒ‡é’ˆçš„ä¸œè¥¿ï¼Œæ¯”å¦‚<code>sort</code>å‡½æ•° è‡ªå®šä¹‰æ’åº.</p> 
<pre><code class="prism language-cpp"><span class="token keyword">auto</span> compare <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> a <span class="token operator">&gt;</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<h5><a id="02_77"></a>02ã€ä»£ç è§£è€¦</h5> 
<p>å¦‚æœæŸå¤©å¤šäº†ä¸€ä¸ªæ¡ä»¶ï¼Œé‚£ä¹ˆæ™®é€šçš„å‡½æ•°å‚æ•°åˆ—è¡¨è¦è·Ÿç€æ”¹å˜ï¼Œä½†æ˜¯å¯ä»¥ä½¿ç”¨ç”¨åŒ¿åå‡½æ•°è¿›è¡Œè§£è€¦ã€‚</p> 
<p>ä¾‹å­ï¼š</p> 
<pre><code class="prism language-cpp"><span class="token keyword">int</span> <span class="token function">lambadaParams</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">bool</span> cond1 <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token keyword">bool</span> cond2 <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token keyword">bool</span> cond3 <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token keyword">bool</span> cond4 <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token keyword">auto</span> fun <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">int</span> t<span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>cond1<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            cout <span class="token operator">&lt;&lt;</span> <span class="token string">"cond1 is true"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
            cout <span class="token operator">&lt;&lt;</span> t <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>cond1 <span class="token operator">&amp;&amp;</span> cond2<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            cout <span class="token operator">&lt;&lt;</span> <span class="token string">"cond1 &amp;&amp; cond2"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
            cout <span class="token operator">&lt;&lt;</span> t <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>cond3 <span class="token operator">||</span> cond4<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            cout <span class="token operator">&lt;&lt;</span> <span class="token string">"cond3 || cond4"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
            cout <span class="token operator">&lt;&lt;</span> t <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token function">fun</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token function">fun</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token function">fun</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="33__125"></a>3.3 ç»†èŠ‚â€”â€”éœ€è¦å¯¹æ•è·çš„å€¼è¿›è¡Œä¿®æ”¹</h4> 
<p>ç”±äºæ•è·çš„å€¼åœ¨å‡½æ•°å†…éƒ¨æ˜¯constç±»å‹ï¼Œç›´æ¥ä¿®æ”¹ä¼šæŠ¥é”™ã€‚</p> 
<p><img src="https://images2.imgbox.com/c9/b8/01JEXuDW_o.png" alt="image-20230317224740489"></p> 
<blockquote> 
 <p>æ³¨:æ‹·è´çš„å‰¯æœ¬åœ¨åŒ¿åå‡½æ•°ä½“å†…éƒ¨ä¸ºconstç±»å‹.</p> 
</blockquote> 
<p>ä½†æ˜¯å¯ä»¥æ·»åŠ <code>å¯å˜è§„èŒƒ</code></p> 
<pre><code class="prism language-c++">    int num1 = 2;
    int num2 = 3;
    auto fun3 = [=](int a, int b) mutable
    {
        int p = num1 + num2;
        int q = (num1--) + (num2--);
    };
    fun3(1, 2);
</code></pre> 
<h4><a id="34__148"></a>3.4 ç»†èŠ‚â€”â€”æ¥æ”¶è¿”å›å€¼æ—¶éœ€è¦æ³¨æ„</h4> 
<p><img src="https://images2.imgbox.com/b6/48/6MLZne0W_o.png" alt="image-20230317223958636"></p> 
<p>ä½¿ç”¨ auto ç±»å‹è¯´æ˜ç¬¦å£°æ˜çš„å˜é‡ä¸èƒ½å‡ºç°åœ¨å…¶è‡ªèº«çš„åˆå§‹å€¼è®¾å®šé¡¹ä¸­ã€‚</p> 
<p>æ­£ç¡®ä¿®æ”¹ï¼š</p> 
<pre><code class="prism language-cpp">    std<span class="token double-colon punctuation">::</span>function<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token operator">&gt;</span> fun2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">&amp;</span>fun2<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token number">2</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span>
            <span class="token keyword">return</span> <span class="token function">fun2</span><span class="token punctuation">(</span>a <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">fun2</span><span class="token punctuation">(</span>a <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">auto</span> x2 <span class="token operator">=</span> <span class="token function">fun2</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>è¿è¡Œï¼š</p> 
<p><img src="https://images2.imgbox.com/1d/a5/pevQlOyA_o.png" alt="image-20230317224148679"></p> 
<h4><a id="35__177"></a>3.5 ç»†èŠ‚â€”â€”ä¸å†™è¿”å›å€¼ä¼šæŠ¥é”™çš„æƒ…å†µ</h4> 
<p>è™½ç„¶ä¸€èˆ¬Lambadaå¯ä»¥ä¸å†™è¿”å›å€¼ç±»å‹ã€‚</p> 
<p>å½“ç¼–è¯‘å™¨æ— æ³•è¿›è¡Œæ¨æ–­å‡ºæ¥ç±»å‹çš„æ—¶å€™å°±ä¼šæŠ¥é”™ã€‚</p> 
<p><img src="https://images2.imgbox.com/64/07/R5LTFpe9_o.png" alt="image-20230317222944937"></p> 
<p>åªéœ€è¦æŒ‡æ˜ç±»å‹å°±ç§‘ä¸€äº†</p> 
<pre><code class="prism language-cpp">    <span class="token keyword">auto</span> fun1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> std<span class="token double-colon punctuation">::</span>initializer_list<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">auto</span> x <span class="token operator">=</span> <span class="token function">fun1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>è¿è¡Œï¼š</p> 
<p><img src="https://images2.imgbox.com/d5/32/1o7lZgy4_o.png" alt="image-20230317223322867"></p> 
<p>è¿˜æœ‰ä¸€ç§æƒ…å†µéœ€è¦æ³¨æ„çš„æ˜¯å½“è¿”å›å€¼å¤šä¸ªç±»å‹çš„æ—¶å€™ï¼Œæ ¹æ®æŸä¸ªæ¡ä»¶è¿›è¡Œè¿”å›ä¸åŒçš„ç±»å‹è¿™ä¸ªæ—¶å€™ä¹Ÿéœ€è¦æŒ‡æ˜è¿”å›å€¼ç±»å‹ã€‚</p> 
<h4><a id="36__201"></a>3.6 ç»†èŠ‚â€”â€”å…¶ä»–</h4> 
<p>å¼•ç”¨æ•è·æœ‰æ€§èƒ½ä»£ä»·ä¹ˆï¼Ÿ</p> 
<p>éœ€è¦ï¼Œè¿™ç§æ•ˆç‡æ¯”è¾ƒç»†å¾®ï¼Œä½“ç°åœ¨</p> 
<p><code>=</code>å¼•ç”¨æ•è·åªé’ˆå¯¹ä¸è¢«ç¼–è¯‘å™¨ä¼˜åŒ–çš„éƒ¨åˆ†ï¼š</p> 
<p>åªä¼šæ•è·ä½¿ç”¨çš„å˜é‡è€Œä¸æ˜¯å…¨éƒ¨å˜é‡ï¼Œç¼–è¯‘å™¨ä¼˜åŒ–é—®é¢˜ã€‚ä¸è¿‡æˆ‘ç”¨çš„<code>gcc</code>ç‰ˆæœ¬é—®é¢˜å¯¹a1è¿›è¡Œäº†åˆå§‹åŒ–ï¼Œå› æ­¤<code>fun4ä¾ç„¶å¯ä»¥æ•è·åˆ°</code></p> 
<p>ä¾‹å¦‚ï¼š</p> 
<pre><code class="prism language-cpp">    <span class="token keyword">int</span> a1<span class="token punctuation">,</span> b1<span class="token punctuation">,</span> c1<span class="token punctuation">;</span>
    <span class="token keyword">auto</span> fun4 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">int</span> num1<span class="token punctuation">,</span> <span class="token keyword">int</span> num2<span class="token punctuation">)</span> <span class="token keyword">mutable</span>
    <span class="token punctuation">{<!-- --></span>
        num1<span class="token operator">++</span><span class="token punctuation">;</span>
        num2<span class="token operator">++</span><span class="token punctuation">;</span>
        num1 <span class="token operator">=</span> a1 <span class="token operator">+</span> num1<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token function">fun4</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>å®Œæ•´çš„å®éªŒä»£ç ï¼š</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;functional&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> vec<span class="token punctuation">{<!-- --></span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">auto</span> compare <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> a <span class="token operator">&gt;</span> b<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token function">sort</span><span class="token punctuation">(</span>vec<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> vec<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> compare<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">auto</span> fun1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> std<span class="token double-colon punctuation">::</span>initializer_list<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">auto</span> x <span class="token operator">=</span> <span class="token function">fun1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    std<span class="token double-colon punctuation">::</span>function<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token operator">&gt;</span> fun2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">&amp;</span>fun2<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token number">2</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span>
            <span class="token keyword">return</span> <span class="token function">fun2</span><span class="token punctuation">(</span>a <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">fun2</span><span class="token punctuation">(</span>a <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">auto</span> x2 <span class="token operator">=</span> <span class="token function">fun2</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">int</span> num1 <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> num2 <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
    <span class="token keyword">auto</span> fun3 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span> <span class="token keyword">mutable</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">int</span> p <span class="token operator">=</span> num1 <span class="token operator">+</span> num2<span class="token punctuation">;</span>
        <span class="token keyword">int</span> q <span class="token operator">=</span> <span class="token punctuation">(</span>num1<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>num2<span class="token operator">--</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token function">fun3</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">int</span> a1<span class="token punctuation">,</span> b1<span class="token punctuation">,</span> c1<span class="token punctuation">;</span>
    <span class="token keyword">auto</span> fun4 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">int</span> num1<span class="token punctuation">,</span> <span class="token keyword">int</span> num2<span class="token punctuation">)</span> <span class="token keyword">mutable</span>
    <span class="token punctuation">{<!-- --></span>
        num1<span class="token operator">++</span><span class="token punctuation">;</span>
        num2<span class="token operator">++</span><span class="token punctuation">;</span>
        num1 <span class="token operator">=</span> a1 <span class="token operator">+</span> num1<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token function">fun4</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_279"></a>æ€»ç»“</h4> 
<p>Lambdaè¡¨è¾¾å¼æ˜¯C++11é‡è¦çš„ç‰¹æ€§ï¼Œä½¿å¾—ä»£ç å˜å¾—æ›´åŠ ç®€æ´ï¼Œæ˜“äºç»´æŠ¤ï¼Œä½†æ˜¯åŒæ—¶ä¹Ÿå¯èƒ½å¯¼è‡´å½±å“æ€§èƒ½ï¼Œå› æ­¤ä½¿ç”¨çš„æ—¶å€™è¦æ³¨æ„åº”ç”¨åœºæ™¯ã€‚</p> 
<blockquote> 
 <ol><li>[capture list] (params list) å…³é”®å­—-&gt; return type {function body}</li><li>captrue listï¼šæ•è·å¤–éƒ¨å˜é‡åˆ—è¡¨ï¼ˆé€‰å¡«ï¼‰</li><li>params listï¼šå½¢å‚åˆ—è¡¨ï¼ˆå¯çœç•¥ï¼‰</li><li>å…³é”®å­—ï¼šmutable,exception,attributeï¼ˆå¯çœç•¥ï¼‰</li><li>return typeï¼šè¿”å›ç±»å‹ï¼ˆå¯çœç•¥ï¼‰</li><li>function bodyï¼šå‡½æ•°ä½“</li></ol> 
 <p>å…¶ä¸­ï¼š</p> 
 <p>mutableè¯´æ˜lambdaè¡¨è¾¾å¼ä½“å†…çš„ä»£ç å¯ä»¥ä¿®æ”¹è¢«æ•è·çš„å˜é‡ï¼Œå¹¶ä¸”å¯ä»¥è®¿é—®è¢«æ•è·çš„å¯¹è±¡çš„non-constæ–¹æ³•ã€‚</p> 
 <p>exceptionè¯´æ˜lambdaè¡¨è¾¾å¼æ˜¯å¦æŠ›å‡ºå¼‚å¸¸ä»¥åŠä½•ç§å¼‚å¸¸ã€‚</p> 
 <p>attributeç”¨æ¥å£°æ˜å±æ€§ã€‚</p> 
</blockquote> 
<p>ç‰¹ç‚¹ï¼š</p> 
<p>â€‹ ä¸€æ¬¡æ€§ä½¿ç”¨</p> 
<p>ä½œç”¨ï¼š</p> 
<ul><li>æ€»ä½“ä¸Šï¼šä»£ç å®Œæ•´æ€§</li><li>å±€éƒ¨ï¼šé—­åŒ…æ˜¯çš„ä¼ å‚æ•°æ›´å®¹æ˜“</li></ul> 
<blockquote> 
 <p>æœ€åï¼Œæœ€å<br> å¦‚æœè§‰å¾—æœ‰ç”¨ï¼Œéº»çƒ¦ä¸‰è¿ğŸ‘â­ï¸â¤ï¸æ”¯æŒä¸€ä¸‹å‘€ï¼Œå¸Œæœ›è¿™ç¯‡æ–‡ç« å¯ä»¥å¸®åˆ°ä½ ï¼Œä½ çš„ç‚¹èµæ˜¯æˆ‘æŒç»­æ›´æ–°çš„åŠ¨åŠ›</p> 
</blockquote>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/eac4523ed23de5de7b11ccdf4af3eaf9/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">æ•™ä½ å½»åº•å¸è½½MySQL å¹¶é‡è£…ï¼ˆä¿å§†çº§æ•™ç¨‹ ï¼‰</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/530258c0aff8fd46b0bd1580b9ed1860/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">ã€ææ²ã€‘åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹  å­¦ä¹ ç¬”è®°</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ç¼–ç¨‹å¤§å’–.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>