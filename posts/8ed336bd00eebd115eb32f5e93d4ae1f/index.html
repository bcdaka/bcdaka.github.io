<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>[MySQL] MySQL 表的增删查改 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/8ed336bd00eebd115eb32f5e93d4ae1f/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="[MySQL] MySQL 表的增删查改">
  <meta property="og:description" content="本篇文章对mysql表的增删查改进行了详细的举例说明解释。对表的增删查改简称CRUD : Create(创建), Retrieve(读取)，Update(更新)，Delete（删除）。其中重点是对查询select语句进行了详细解释，并且通过多个实际例子来帮助你的理解。希望本篇文章会对你有所帮助。 文章目录
一、表的插入
1、1 指定列插入 和 多行数据插入
1、2 全列插入
1、3 插入选择更新
1、4 替换数据
二、表中的数据查询
2、1 select 语句
2、1、1 全列查询
2、1、2 指定列查询
2、1、3 查询字段为表达式
2、1、4 为查询结果列指定别名
2、1、5 对查询结果去重
2、2 where 语句
2、2、1 where语句简单说明
2、2、2 实例练习
2、3 对查询结果进行排序
2、3、1 升序排序
2、3、2 降序排序
2、3、3 按照多列进行排序
2、4 对筛选的结果进行分页
三、表的数据更新
四、表的数据删除
4、1 delete 删除数据
4、2 truncate 截断表
五、group by 与 聚合函数
5、1 聚合函数
5、2 group by语句 🙋‍♂️ 作者：@Ggggggtm 🙋‍♂️
👀 专栏：MySQL 👀">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2023-11-27T19:39:09+08:00">
    <meta property="article:modified_time" content="2023-11-27T19:39:09+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">[MySQL] MySQL 表的增删查改</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/55/76/KOKIFoDn_o.gif"></p> 
<blockquote> 
 <p>  本篇文章对mysql表的增删查改进行了详细的举例说明解释。<strong>对表的增删查改简称CRUD : Create(创建), Retrieve(读取)，Update(更新)，Delete（删除）。</strong>其中<strong>重点是对查询select语句进行了详细解释，并且通过多个实际例子来帮助你的理解</strong>。希望本篇文章会对你有所帮助。 </p> 
</blockquote> 
<blockquote> 
 <p id="main-toc"><strong>文章目录</strong></p> 
 <p id="%E4%B8%80%E3%80%81%E8%A1%A8%E7%9A%84%E6%8F%92%E5%85%A5-toc" style="margin-left:0px;"><a href="#%E4%B8%80%E3%80%81%E8%A1%A8%E7%9A%84%E6%8F%92%E5%85%A5" rel="nofollow">一、表的插入</a></p> 
 <p id="1%E3%80%811%20%E6%8C%87%E5%AE%9A%E5%88%97%E6%8F%92%E5%85%A5%20%E5%92%8C%20%E5%A4%9A%E8%A1%8C%E6%95%B0%E6%8D%AE%E6%8F%92%E5%85%A5-toc" style="margin-left:40px;"><a href="#1%E3%80%811%20%E6%8C%87%E5%AE%9A%E5%88%97%E6%8F%92%E5%85%A5%20%E5%92%8C%20%E5%A4%9A%E8%A1%8C%E6%95%B0%E6%8D%AE%E6%8F%92%E5%85%A5" rel="nofollow">1、1 指定列插入 和 多行数据插入</a></p> 
 <p id="1%E3%80%812%20%E5%85%A8%E5%88%97%E6%8F%92%E5%85%A5-toc" style="margin-left:40px;"><a href="#1%E3%80%812%20%E5%85%A8%E5%88%97%E6%8F%92%E5%85%A5" rel="nofollow">1、2 全列插入</a></p> 
 <p id="%C2%A01%E3%80%813%20%E6%8F%92%E5%85%A5%E9%80%89%E6%8B%A9%E6%9B%B4%E6%96%B0-toc" style="margin-left:40px;"><a href="#%C2%A01%E3%80%813%20%E6%8F%92%E5%85%A5%E9%80%89%E6%8B%A9%E6%9B%B4%E6%96%B0" rel="nofollow">1、3 插入选择更新</a></p> 
 <p id="1%E3%80%814%20%E6%9B%BF%E6%8D%A2%E6%95%B0%E6%8D%AE-toc" style="margin-left:40px;"><a href="#1%E3%80%814%20%E6%9B%BF%E6%8D%A2%E6%95%B0%E6%8D%AE" rel="nofollow">1、4 替换数据</a></p> 
 <p id="%E4%BA%8C%E3%80%81%E8%A1%A8%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE%E6%9F%A5%E8%AF%A2-toc" style="margin-left:0px;"><a href="#%E4%BA%8C%E3%80%81%E8%A1%A8%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE%E6%9F%A5%E8%AF%A2" rel="nofollow">二、表中的数据查询</a></p> 
 <p id="2%E3%80%811%20select%20%E8%AF%AD%E5%8F%A5-toc" style="margin-left:40px;"><a href="#2%E3%80%811%20select%20%E8%AF%AD%E5%8F%A5" rel="nofollow">2、1 select 语句</a></p> 
 <p id="2%E3%80%811%E3%80%811%20%E5%85%A8%E5%88%97%E6%9F%A5%E8%AF%A2-toc" style="margin-left:80px;"><a href="#2%E3%80%811%E3%80%811%20%E5%85%A8%E5%88%97%E6%9F%A5%E8%AF%A2" rel="nofollow">2、1、1 全列查询</a></p> 
 <p id="2%E3%80%811%E3%80%812%C2%A0%E6%8C%87%E5%AE%9A%E5%88%97%E6%9F%A5%E8%AF%A2-toc" style="margin-left:80px;"><a href="#2%E3%80%811%E3%80%812%C2%A0%E6%8C%87%E5%AE%9A%E5%88%97%E6%9F%A5%E8%AF%A2" rel="nofollow">2、1、2 指定列查询</a></p> 
 <p id="2%E3%80%811%E3%80%813%20%E6%9F%A5%E8%AF%A2%E5%AD%97%E6%AE%B5%E4%B8%BA%E8%A1%A8%E8%BE%BE%E5%BC%8F-toc" style="margin-left:80px;"><a href="#2%E3%80%811%E3%80%813%20%E6%9F%A5%E8%AF%A2%E5%AD%97%E6%AE%B5%E4%B8%BA%E8%A1%A8%E8%BE%BE%E5%BC%8F" rel="nofollow">2、1、3 查询字段为表达式</a></p> 
 <p id="2%E3%80%811%E3%80%814%20%E4%B8%BA%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%9C%E5%88%97%E6%8C%87%E5%AE%9A%E5%88%AB%E5%90%8D-toc" style="margin-left:80px;"><a href="#2%E3%80%811%E3%80%814%20%E4%B8%BA%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%9C%E5%88%97%E6%8C%87%E5%AE%9A%E5%88%AB%E5%90%8D" rel="nofollow">2、1、4 为查询结果列指定别名</a></p> 
 <p id="2%E3%80%811%E3%80%815%20%E5%AF%B9%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%9C%E5%8E%BB%E9%87%8D-toc" style="margin-left:80px;"><a href="#2%E3%80%811%E3%80%815%20%E5%AF%B9%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%9C%E5%8E%BB%E9%87%8D" rel="nofollow">2、1、5 对查询结果去重</a></p> 
 <p id="2%E3%80%812%20where%20%E8%AF%AD%E5%8F%A5-toc" style="margin-left:40px;"><a href="#2%E3%80%812%20where%20%E8%AF%AD%E5%8F%A5" rel="nofollow">2、2 where 语句</a></p> 
 <p id="2%E3%80%812%E3%80%811%20where%E8%AF%AD%E5%8F%A5%E7%AE%80%E5%8D%95%E8%AF%B4%E6%98%8E-toc" style="margin-left:80px;"><a href="#2%E3%80%812%E3%80%811%20where%E8%AF%AD%E5%8F%A5%E7%AE%80%E5%8D%95%E8%AF%B4%E6%98%8E" rel="nofollow">2、2、1 where语句简单说明</a></p> 
 <p id="%C2%A02%E3%80%812%E3%80%812%20%E5%AE%9E%E4%BE%8B%E7%BB%83%E4%B9%A0-toc" style="margin-left:80px;"><a href="#%C2%A02%E3%80%812%E3%80%812%20%E5%AE%9E%E4%BE%8B%E7%BB%83%E4%B9%A0" rel="nofollow">2、2、2 实例练习</a></p> 
 <p id="2%E3%80%813%20%E5%AF%B9%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%9C%E8%BF%9B%E8%A1%8C%E6%8E%92%E5%BA%8F-toc" style="margin-left:40px;"><a href="#2%E3%80%813%20%E5%AF%B9%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%9C%E8%BF%9B%E8%A1%8C%E6%8E%92%E5%BA%8F" rel="nofollow">2、3 对查询结果进行排序</a></p> 
 <p id="%C2%A02%E3%80%813%E3%80%811%20%E5%8D%87%E5%BA%8F%E6%8E%92%E5%BA%8F-toc" style="margin-left:80px;"><a href="#%C2%A02%E3%80%813%E3%80%811%20%E5%8D%87%E5%BA%8F%E6%8E%92%E5%BA%8F" rel="nofollow">2、3、1 升序排序</a></p> 
 <p id="2%E3%80%813%E3%80%812%20%E9%99%8D%E5%BA%8F%E6%8E%92%E5%BA%8F-toc" style="margin-left:80px;"><a href="#2%E3%80%813%E3%80%812%20%E9%99%8D%E5%BA%8F%E6%8E%92%E5%BA%8F" rel="nofollow">2、3、2 降序排序</a></p> 
 <p id="2%E3%80%813%E3%80%813%20%E6%8C%89%E7%85%A7%E5%A4%9A%E5%88%97%E8%BF%9B%E8%A1%8C%E6%8E%92%E5%BA%8F-toc" style="margin-left:80px;"><a href="#2%E3%80%813%E3%80%813%20%E6%8C%89%E7%85%A7%E5%A4%9A%E5%88%97%E8%BF%9B%E8%A1%8C%E6%8E%92%E5%BA%8F" rel="nofollow">2、3、3 按照多列进行排序</a></p> 
 <p id="2%E3%80%814%20%E5%AF%B9%E7%AD%9B%E9%80%89%E7%9A%84%E7%BB%93%E6%9E%9C%E8%BF%9B%E8%A1%8C%E5%88%86%E9%A1%B5-toc" style="margin-left:40px;"><a href="#2%E3%80%814%20%E5%AF%B9%E7%AD%9B%E9%80%89%E7%9A%84%E7%BB%93%E6%9E%9C%E8%BF%9B%E8%A1%8C%E5%88%86%E9%A1%B5" rel="nofollow">2、4 对筛选的结果进行分页</a></p> 
 <p id="%E4%B8%89%E3%80%81%E8%A1%A8%E7%9A%84%E6%95%B0%E6%8D%AE%E6%9B%B4%E6%96%B0-toc" style="margin-left:0px;"><a href="#%E4%B8%89%E3%80%81%E8%A1%A8%E7%9A%84%E6%95%B0%E6%8D%AE%E6%9B%B4%E6%96%B0" rel="nofollow">三、表的数据更新</a></p> 
 <p id="%E5%9B%9B%E3%80%81%E8%A1%A8%E7%9A%84%E6%95%B0%E6%8D%AE%E5%88%A0%E9%99%A4-toc" style="margin-left:0px;"><a href="#%E5%9B%9B%E3%80%81%E8%A1%A8%E7%9A%84%E6%95%B0%E6%8D%AE%E5%88%A0%E9%99%A4" rel="nofollow">四、表的数据删除</a></p> 
 <p id="4%E3%80%811%20delete%20%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE-toc" style="margin-left:40px;"><a href="#4%E3%80%811%20delete%20%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE" rel="nofollow">4、1 delete 删除数据</a></p> 
 <p id="4%E3%80%812%20truncate%20%E6%88%AA%E6%96%AD%E8%A1%A8-toc" style="margin-left:40px;"><a href="#4%E3%80%812%20truncate%20%E6%88%AA%E6%96%AD%E8%A1%A8" rel="nofollow">4、2 truncate 截断表</a></p> 
 <p id="%E4%BA%94%E3%80%81group%20by%20%E4%B8%8E%20%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0-toc" style="margin-left:0px;"><a href="#%E4%BA%94%E3%80%81group%20by%20%E4%B8%8E%20%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0" rel="nofollow">五、group by 与 聚合函数</a></p> 
 <p id="5%E3%80%811%20%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0-toc" style="margin-left:40px;"><a href="#5%E3%80%811%20%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0" rel="nofollow">5、1 聚合函数</a></p> 
 <p id="5%E3%80%812%20group%20by%E8%AF%AD%E5%8F%A5%C2%A0-toc" style="margin-left:40px;"><a href="#5%E3%80%812%20group%20by%E8%AF%AD%E5%8F%A5%C2%A0" rel="nofollow">5、2 group by语句 </a></p> 
 <hr id="hr-toc"> 
 <p><span style="color:#fe2c24;"><strong>🙋‍♂️ 作者：@Ggggggtm 🙋‍♂️</strong></span></p> 
 <p><span style="color:#fe2c24;"><strong>👀 专栏：MySQL 👀</strong></span></p> 
 <p><span style="color:#fe2c24;"><strong>💥 标题：MySQL 表的增删查改💥</strong></span></p> 
 <p><span style="color:#fe2c24;"><strong> ❣️ 寄语：与其忙着诉苦，不如低头赶路，奋路前行，终将遇到一番好风景 ❣️</strong></span></p> 
</blockquote> 
<h2 id="%E4%B8%80%E3%80%81%E8%A1%A8%E7%9A%84%E6%8F%92%E5%85%A5">一、表的插入</h2> 
<h3 id="1%E3%80%811%20%E6%8C%87%E5%AE%9A%E5%88%97%E6%8F%92%E5%85%A5%20%E5%92%8C%20%E5%A4%9A%E8%A1%8C%E6%95%B0%E6%8D%AE%E6%8F%92%E5%85%A5">1、1 指定列插入 和 多行数据插入</h3> 
<blockquote> 
 <p>  我们向在表中指定的一行或者多行插入，怎么做呢？我们有如下表：</p> 
 <p><img alt="" height="249" src="https://images2.imgbox.com/96/13/UuC0GU7K_o.png" width="900"></p> 
 <p>  我们现在直插入name的一列，只需要指定要插入的列名称即可。如下图：</p> 
 <p><img alt="" height="93" src="https://images2.imgbox.com/d7/94/SfleXN1d_o.png" width="704"></p> 
 <p>  我们也可以进行多列进行插入，如下图实例：</p> 
 <p><img alt="" height="300" src="https://images2.imgbox.com/36/1c/PRfFgEXL_o.png" width="564"></p> 
 <p>  但是前提是我们必须满足约束条件，正常插入都是可以的。</p> 
</blockquote> 
<blockquote> 
 <p>  我们也可以一次性插入多行数据，具体示例如下：</p> 
 <p><img alt="" height="300" src="https://images2.imgbox.com/e6/55/DQWdwEbc_o.png" width="563"></p> 
 <p>  从上图也可以很好的看出来，多行插入就是将数据用 ‘，’ 进行隔开即可。</p> 
</blockquote> 
<h3 id="1%E3%80%812%20%E5%85%A8%E5%88%97%E6%8F%92%E5%85%A5">1、2 全列插入</h3> 
<blockquote> 
 <p>  上述情况中讲述了指定列进行插入。当对全列进行插入时，可以<strong>不指定对应的列，此时默认的就是全列插入</strong>。具体如下图： </p> 
 <p><img alt="" height="380" src="https://images2.imgbox.com/73/93/9080O6Aj_o.png" width="824"></p> 
 <p>  当然全列插入也可以显式指定的列名称，一般情况下都是默认省去的。</p> 
</blockquote> 
<h3 id="%C2%A01%E3%80%813%20%E6%8F%92%E5%85%A5%E9%80%89%E6%8B%A9%E6%9B%B4%E6%96%B0">1、3 插入选择更新</h3> 
<blockquote> 
 <p>  当我们在插入数据时，可能会遇到主键约束或者唯一键约束，从而限制了插入操作。具体如下图：</p> 
 <p><img alt="" height="300" src="https://images2.imgbox.com/29/65/3rmTl94p_o.png" width="608"></p> 
 <p>  上图就是出先了主键约束，导致插入失败。但是我们就想以最新的这一条为最终数据，且要求能够插入进去，该怎么办呢？这时<span style="color:#333333;">可以选择性的进行同步更新操作，语法如下：</span></p> 
 <pre><code class="language-sql">INSERT ... ON DUPLICATE KEY UPDATE
column = value [, column = value] ...</code></pre> 
 <p>  我们来看一个具体的实际例子：</p> 
 <p><img alt="" height="430" src="https://images2.imgbox.com/4e/fa/adK1nWzr_o.png" width="1200"></p> 
 <p>  结合上述的实例，这里简单说名一下：</p> 
 <ul><li>UPDATE后面的 column=value，表示当插入记录出现冲突时需要更新的列值；</li><li>当插入记录并没有冲突时，就不会执行update更新语句，也就是直接插入。</li><li> 
   <div> 
    <span style="color:#0d0016;">上述例子中，2 row affected: 表中有冲突数据，并且数据已经被更新。</span> 
   </div> </li></ul> 
 <div>
     我们再来插入几条数据观察一下结果，如下图： 
 </div> 
 <div> 
  <img alt="" height="625" src="https://images2.imgbox.com/9d/33/ec5F0blM_o.png" width="1200"> 
 </div> 
 <div>
     根据上图，我们再来总结一下： 
 </div> 
 <div> 
  <ul><li><span style="color:#0d0016;">0 row affected: 表中有冲突数据，但冲突数据的值和 update 的值相等；</span></li><li><span style="color:#0d0016;">1 row affected: 表中没有冲突数据，数据被插入；</span></li><li><span style="color:#0d0016;">2 row affected: 表中有冲突数据，并且数据已经被更新；</span></li><li><span style="color:#0d0016;">如产生数据冲突，且要求更新后的值不能再次产生冲突，否则会更新失败。</span></li></ul> 
 </div> 
</blockquote> 
<h3 id="1%E3%80%814%20%E6%9B%BF%E6%8D%A2%E6%95%B0%E6%8D%AE">1、4 替换数据</h3> 
<blockquote> 
 <p>  替换数据与插入和更新数据有点类似。我们直接来看一个实例：</p> 
 <p><img alt="" height="300" src="https://images2.imgbox.com/82/9f/EGEqCeC1_o.png" width="529"></p> 
 <p>  我们再来对替换进行简单的总结一下：</p> 
 <ul><li>如果表中<strong>没有冲突数据</strong>，则直接插入数据。</li><li>如果表中<strong>有冲突数据</strong>，则先将表中的冲突数据删除，然后再插入数据。</li></ul> 
 <p>  从上图中可以看到，有2 rows affected。说明表中有冲突数据，冲突数据被删除后重新插入。我们在如下实例：</p> 
 <p><img alt="" height="300" src="https://images2.imgbox.com/9a/3e/miZPXhUo_o.png" width="581"></p> 
 <p>  我们再来总结一下，可以通过受影响的数据行数来判断本次数据的插入情况：</p> 
 <ul><li>1 row affected：表中没有冲突数据，数据直接被插入。</li><li>2 rows affected：表中有冲突数据，冲突数据被删除后重新插入。</li></ul> 
</blockquote> 
<h2 id="%E4%BA%8C%E3%80%81%E8%A1%A8%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE%E6%9F%A5%E8%AF%A2">二、表中的数据查询</h2> 
<h3 id="2%E3%80%811%20select%20%E8%AF%AD%E5%8F%A5">2、1 select 语句</h3> 
<blockquote> 
 <p>  select语法如下：</p> 
 <pre><code class="language-sql">SELECT
[DISTINCT] {* | {column [, column] ...}
[FROM table_name]
[WHERE ...]
[ORDER BY column [ASC | DESC], ...]
LIMIT ...</code></pre> 
 <p><strong>  说明：</strong></p> 
 <ul><li>SQL中大写的表示关键字，[ ]中代表的是可选项。</li><li>{ }中的 | 代表可以选择左侧的语句或右侧的语句。</li></ul> 
 <p>  下面我们将会对select进行逐步分析讲解。</p> 
</blockquote> 
<h4 id="2%E3%80%811%E3%80%811%20%E5%85%A8%E5%88%97%E6%9F%A5%E8%AF%A2">2、1、1 全列查询</h4> 
<blockquote> 
 <p>  全列查询就是将表中的所有数据查询出来。其实在上面我们也一直在用。具体也可看下图理解：</p> 
 <p><img alt="" height="300" src="https://images2.imgbox.com/57/44/2CGJyp03_o.png" width="421"></p> 
 <p>  上图中的 * 代表了所有的列，也就是全列查询。但是<span style="color:#333333;">通常情况下不建议使用 * </span><span style="color:#333333;">进行全列查询 </span></p> 
 <ol><li><span style="color:#333333;">查询的列越多，意味着需要传输的数据量（</span>查询到的数据需要通过网络从MySQL服务器传输到本主机<span style="color:#333333;">）越大； </span></li><li><span style="color:#333333;">可能会影响到索引的使用。</span></li></ol> 
</blockquote> 
<h4 id="2%E3%80%811%E3%80%812%C2%A0%E6%8C%87%E5%AE%9A%E5%88%97%E6%9F%A5%E8%AF%A2">2、1、2 指定列查询</h4> 
<blockquote> 
 <p>  我们也可以指定列进行查询，具体如下图：</p> 
 <p><img alt="" height="300" src="https://images2.imgbox.com/4a/8e/ycdXZp30_o.png" width="215"></p> 
 <p>  同时我们也可以指定多列，也不需要按照创建表的顺序来查找。具体如下：</p> 
 <p><img alt="" height="300" src="https://images2.imgbox.com/77/1e/EKRNWA5N_o.png" width="244"></p> 
</blockquote> 
<h4 id="2%E3%80%811%E3%80%813%20%E6%9F%A5%E8%AF%A2%E5%AD%97%E6%AE%B5%E4%B8%BA%E8%A1%A8%E8%BE%BE%E5%BC%8F">2、1、3 查询字段为表达式</h4> 
<blockquote> 
 <p>  select后面不仅仅可以跟字段属性或者子句，也可以跟表达式。我们看如下图：</p> 
 <p><img alt="" height="300" src="https://images2.imgbox.com/26/b8/1KIcwNoE_o.png" width="409"></p> 
 <p>  如上图所示，select后表达式中可以包含常量，比如数字或字符串。可以进行基本的数学运算，如加法、减法、乘法和除法。但是我们主要注意的是，NULL并不参与任何运算。</p> 
 <p>  我们再看如下例子：</p> 
 <p><img alt="" height="400" src="https://images2.imgbox.com/e7/58/o3wpE7PS_o.png" width="453"></p> 
 <p>  上图中的english+10是对所查到的english成绩进行了加10操作，这里不要理解错误了。我们再看如下例子：</p> 
 <p><img alt="" height="347" src="https://images2.imgbox.com/90/dc/bg92tAsm_o.png" width="805"></p> 
 <p>  上图的SQL语句中，我们主要是对三项成绩进行的相加，也就是我们平常所需的总成绩。</p> 
</blockquote> 
<h4 id="2%E3%80%811%E3%80%814%20%E4%B8%BA%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%9C%E5%88%97%E6%8C%87%E5%AE%9A%E5%88%AB%E5%90%8D">2、1、4 为查询结果列指定别名</h4> 
<blockquote> 
 <p>  在上述的总成绩中，我们不难看出总成立的列明太长了，而且意思表达的也不明确。在我们查询中，就可以为查询的结果列指定别名。语法如下：</p> 
 <pre><code class="language-sql">SELECT column [AS] alias_name [...] FROM table_name;</code></pre> 
 <p>  具体实例如下图：</p> 
 <p><img alt="" height="300" src="https://images2.imgbox.com/79/0c/87lZ7lxD_o.png" width="448"></p> 
 <p>  上图中我们写出了两种方法，其实是一种：as 可以省去。我们只需要将别名跟在我们所查询的列名后即可。</p> 
</blockquote> 
<h4 id="2%E3%80%811%E3%80%815%20%E5%AF%B9%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%9C%E5%8E%BB%E9%87%8D">2、1、5 对查询结果去重</h4> 
<blockquote> 
 <p>  有时候我们所查出来的数据会有大量的重复，然而我们并不需要这样的结果。而是想直接查看去重后的结果。具体如下图：</p> 
 <p><img alt="" height="300" src="https://images2.imgbox.com/36/45/DuF5Q7Gr_o.png" width="360"></p> 
</blockquote> 
<h3 id="2%E3%80%812%20where%20%E8%AF%AD%E5%8F%A5">2、2 where 语句</h3> 
<h4 id="2%E3%80%812%E3%80%811%20where%E8%AF%AD%E5%8F%A5%E7%AE%80%E5%8D%95%E8%AF%B4%E6%98%8E">2、2、1 where语句简单说明</h4> 
<blockquote> 
 <p>  在MySQL中，select语句用于从数据库表中检索数据。where子句用于筛选select语句的结果集，只返回满足特定条件的行。以下是对where子句的一些常见用法和详解：</p> 
 <ol><li><strong>选择特定列</strong>：WHERE子句通常与列名一起使用，用于筛选特定列的数据。</li><li><strong>比较运算符</strong>：WHERE子句可以使用各种比较运算符（如等于（=）、不等于（!=）、大于（&gt;）、小于（&lt;）、大于或等于（&gt;=）和小于或等于（&lt;=））等来筛选数据。<img alt="" height="619" src="https://images2.imgbox.com/33/cf/jfl3lKzV_o.png" width="1200"></li><li><strong>逻辑运算符</strong>：WHERE子句还可以使用逻辑运算符（如AND、OR和NOT）来组合多个条件。<img alt="" height="267" src="https://images2.imgbox.com/21/84/tiHuUdTp_o.png" width="1200"></li><li><strong>聚合函数</strong>：WHERE子句还可以与聚合函数一起使用，如COUNT、SUM、AVG等，以对数据进行计数、求和或计算平均值等操作。</li></ol> 
</blockquote> 
<h4 id="%C2%A02%E3%80%812%E3%80%812%20%E5%AE%9E%E4%BE%8B%E7%BB%83%E4%B9%A0">2、2、2 实例练习</h4> 
<blockquote> 
 <p>  我们练习使用的表仍然是 exam_result 表，如下图：</p> 
 <p><img alt="" height="330" src="https://images2.imgbox.com/ad/92/xKyJMCof_o.png" width="711"></p> 
</blockquote> 
<blockquote> 
 <div> 
  <span style="color:#333333;"><strong><span style="background-color:#ffd900;">英语不及格的同学及英语成绩 </span></strong></span> 
  <span style="color:#333333;"><strong><span style="background-color:#ffd900;">( &lt; 60 )</span></strong></span> 
 </div> 
 <div>
     首先分析我们都需要查询哪些信息：英语成绩和同学姓名。在select查询的列为姓名和英语成绩后，再用where子句来筛选英语成绩小于60即可。结果图下图： 
 </div> 
 <div> 
  <img alt="" height="247" src="https://images2.imgbox.com/61/fa/gbZg0OHz_o.png" width="791"> 
 </div> 
</blockquote> 
<blockquote> 
 <div> 
  <span style="color:#333333;"><strong><span style="background-color:#ffd900;">语文成绩在 </span></strong></span> 
  <span style="color:#333333;"><strong><span style="background-color:#ffd900;">[80, 90] </span></strong></span> 
  <span style="color:#333333;"><strong><span style="background-color:#ffd900;">分的同学及语文成绩</span></strong></span> 
 </div> 
 <p>  所需要查询的列：语文成绩和姓名。筛选条件：chinese &gt;= 80 并且 chinese &lt;= 90。这时候我们就可以用到AND进行连接。如下图：</p> 
 <p><img alt="" height="259" src="https://images2.imgbox.com/60/20/XUfgqtC0_o.png" width="997"></p> 
 <p>  注意：<strong><span style="background-color:#ffd900;">sql语句中不区分大小写</span></strong>。</p> 
 <p>  我们发现两边都是闭区间，所以我们还可以使用between A and B来进行筛选。 结果如下图：</p> 
 <p><img alt="" height="252" src="https://images2.imgbox.com/2a/35/oa1Tkz1I_o.png" width="978"></p> 
</blockquote> 
<blockquote> 
 <p><span style="color:#333333;"><strong><span style="background-color:#ffd900;">数学成绩是</span></strong></span><span style="color:#333333;"><strong><span style="background-color:#ffd900;"> 58 </span></strong></span><span style="color:#333333;"><strong><span style="background-color:#ffd900;">或者</span></strong></span><span style="color:#333333;"><strong><span style="background-color:#ffd900;"> 59 </span></strong></span><span style="color:#333333;"><strong><span style="background-color:#ffd900;">或者</span></strong></span><span style="color:#333333;"><strong><span style="background-color:#ffd900;"> 98 </span></strong></span><span style="color:#333333;"><strong><span style="background-color:#ffd900;">或者</span></strong></span><span style="color:#333333;"><strong><span style="background-color:#ffd900;"> 99 </span></strong></span><span style="color:#333333;"><strong><span style="background-color:#ffd900;">分的同学及数学成绩</span></strong></span></p> 
 <p>  所需查询的列：数学成绩和同学姓名。筛选条件：<span style="color:#333333;">数学成绩是</span><span style="color:#333333;"> 58 </span><span style="color:#333333;">或者</span><span style="color:#333333;"> 59 </span><span style="color:#333333;">或者</span><span style="color:#333333;"> 98 </span><span style="color:#333333;">或者</span><span style="color:#333333;"> 99 </span><span style="color:#333333;">。我们发现他们之间的关系是或，可以用 or 来进行筛选。如下图：</span></p> 
 <p><img alt="" height="230" src="https://images2.imgbox.com/1b/d3/7S33rUfA_o.png" width="1119"></p> 
 <p>  此外，我们也可以使用in（A，B，C，D，......）。具体如下图：</p> 
 <p><img alt="" height="237" src="https://images2.imgbox.com/a7/f0/ho68WLXa_o.png" width="887"></p> 
</blockquote> 
<blockquote> 
 <p><span style="color:#333333;"><strong><span style="background-color:#ffd900;">姓孙的同学 及 孙某同学</span></strong></span> </p> 
 <p>  所要查询的列：同学姓名。筛选条件：模糊匹配性孙的同学。注意：姓孙的同学和孙某同学是不一样的概念。姓孙的同学，姓名可以是两个字，三个字等等。孙某代表的是姓孙，且姓名为两个字的同学。</p> 
 <p>  可以使用<strong>like关键字进行模糊匹配</strong>，用于匹配特定模式的数据。like关键字可以与通配符配合使用，<strong>通配符包括 % 和 _ </strong>。</p> 
 <ul><li><strong>% 通配符</strong>：匹配任意长度的任意字符，包括零个字符。例如，<code>'%abc'</code>可以匹配以<code>abc</code>结尾的任意字符串；<code>'abc%'</code>可以匹配以<code>abc</code>开头的任意字符串；<code>'%abc%'</code>可以匹配包含<code>abc</code>的任意字符串。</li><li><strong>_ 通配符</strong>：匹配单个字符。例如，<code>'a_c'</code>可以匹配<code>abc</code>、<code>adc</code>等。</li></ul> 
 <p>  那么就很好的可以匹配到我们所需要查找的姓孙的同学或者孙某同学了，具体如下图：</p> 
 <p><img alt="" height="244" src="https://images2.imgbox.com/0f/e8/HDoGfDzi_o.png" width="746"></p> 
 <p>  我们再来看看对孙某同学的查询：</p> 
 <p><img alt="" height="199" src="https://images2.imgbox.com/9c/1b/Csf6rNRn_o.png" width="778"></p> 
</blockquote> 
<blockquote> 
 <p><span style="color:#333333;"><strong><span style="background-color:#ffd900;">语文成绩好于英语成绩的同学</span></strong></span> </p> 
 <p>  所需查询的列：同学姓名，语文、英语成绩。筛选条件：语文成绩大于英语成绩。在比较时，可以两个列进行比较（<span style="color:#333333;">条件中比较运算符两侧都是字段</span>）。具体如下图：</p> 
 <p><img alt="" height="300" src="https://images2.imgbox.com/02/46/a5nzF5ta_o.png" width="1002"></p> 
</blockquote> 
<blockquote> 
 <p><span style="color:#333333;"><strong><span style="background-color:#ffd900;">总分在</span></strong></span><span style="color:#333333;"><strong><span style="background-color:#ffd900;"> 200 </span></strong></span><span style="color:#333333;"><strong><span style="background-color:#ffd900;">分以下的同学</span></strong></span> </p> 
 <p>  所需要查询的列：同学姓名，三科总成绩。筛选条件：总成绩小于200分。具体如下图：</p> 
 <p><img alt="" height="241" src="https://images2.imgbox.com/45/1e/4DFxUxQu_o.png" width="1196"></p> 
 <p>  上图中我们对三科成绩进行了指定别名，打印输出的正是我们指定的别名。那么有的同学就想到：在where子句中也使用total去判断筛选，这样就会更加方便。问题是：这样可以吗？我们看如下图：</p> 
 <p><img alt="" height="95" src="https://images2.imgbox.com/0c/32/pFYb7Ve1_o.png" width="1053"></p> 
 <p>  实际上并不可以的，上述报错中提到找不到 ‘total’ 列。为什么呢？我们不是指定别名了吗？这就与sql语句的执行顺序有关了。执行顺序与下图：</p> 
 <p><img alt="" height="274" src="https://images2.imgbox.com/6e/88/Y72ao403_o.png" width="1196"></p> 
 <p>  我们来分析一下为什么这样执行：<strong>首先应该找到在那张表里去筛选数据，然后带着筛选条件去查找遍历数据，最后将找到的数据进行选择列进行打印</strong>。那么where子句比指定别名要先执行，所以在where子句中找不到我们指定的别名。总的来说，在where子句中不能使用select中指定的别名：</p> 
 <ul><li>查询数据时是先根据where子句筛选出符合条件的记录。</li><li>然后再将筛选出的数据进行打印出我们所需要的列，打印前会执行指定别名。</li></ul> 
</blockquote> 
<blockquote> 
 <p><span style="color:#333333;"><strong><span style="background-color:#ffd900;">语文成绩</span></strong></span><span style="color:#333333;"><strong><span style="background-color:#ffd900;"> &gt; 80 </span></strong></span><span style="color:#333333;"><strong><span style="background-color:#ffd900;">并且不姓孙的同学</span> </strong></span></p> 
 <p>  所需要查询的列：语文成绩，同学姓名。筛选条件：语文成绩大于80，并且不性孙（not like）。我们看如下图：</p> 
 <p><img alt="" height="214" src="https://images2.imgbox.com/ff/24/x1iBujph_o.png" width="1114"></p> 
</blockquote> 
<blockquote> 
 <p><span style="color:#333333;"><strong><span style="background-color:#ffd900;">孙某同学，否则要求总成绩</span></strong></span><span style="color:#333333;"><strong><span style="background-color:#ffd900;"> &gt; 200 </span></strong></span><span style="color:#333333;"><strong><span style="background-color:#ffd900;">并且 语文成绩</span></strong></span><span style="color:#333333;"><strong><span style="background-color:#ffd900;"> &lt; </span></strong></span><span style="color:#333333;"><strong><span style="background-color:#ffd900;">数学成绩 并且 英语成绩</span></strong></span><span style="color:#333333;"><strong><span style="background-color:#ffd900;"> &gt; 80</span></strong></span> </p> 
 <p>  查询的列：同学姓名，各科成绩和总成绩。筛选条件：孙某 或者 <span style="color:#333333;">总成绩</span><span style="color:#333333;"> &gt; 200 </span><span style="color:#333333;">并且 语文成绩</span><span style="color:#333333;"> &lt; </span><span style="color:#333333;">数学成绩 并且 英语成绩</span><span style="color:#333333;"> &gt; 80。我们看如下结果：</span></p> 
 <p><img alt="" height="239" src="https://images2.imgbox.com/58/4b/Rkf6USvN_o.png" width="1175"></p> 
 <p>  注意：当有多个与、或条件时，我们应该多加括号来保证执行顺序，避免出现不必要的错误。</p> 
</blockquote> 
<blockquote> 
 <p><span style="color:#333333;"><strong><span style="background-color:#ffd900;">NULL </span></strong></span><span style="color:#333333;"><strong><span style="background-color:#ffd900;">的查询</span></strong></span> </p> 
 <p> NULL的查询比较特殊。我们前面也提到了NULL不能用 ‘=’ 来判断，是不安全的。结果如下：</p> 
 <p><img alt="" height="400" src="https://images2.imgbox.com/24/33/tRoM2mxS_o.png" width="288"></p> 
 <p>  因为NULL并不参与运算。所以结果只能是NULL。我们可以使用 ‘<span style="color:#333333;">&lt;=&gt; </span>’来判断NULL。结果如下：</p> 
 <p><img alt="" height="195" src="https://images2.imgbox.com/ba/78/8rPBaWBf_o.png" width="427"></p> 
 <p>  然而 ‘<span style="color:#333333;">&lt;=&gt; </span>’并不符合我们的使用习惯。所以我们也可以使用is null 或者 is not null来判断。我们现在有如下表：</p> 
 <p><img alt="" height="300" src="https://images2.imgbox.com/29/6d/zlTYvCjz_o.png" width="313"></p> 
 <p>  我们把sex为NULL的行找出来。结果如下：</p> 
 <p><img alt="" height="300" src="https://images2.imgbox.com/83/33/GiDW4d9z_o.png" width="321"></p> 
 <p>  我们再来找到sex不为null行，结果如下图：</p> 
 <p><img alt="" height="336" src="https://images2.imgbox.com/a5/a8/WQS4WigM_o.png" width="642"></p> 
</blockquote> 
<h3 id="2%E3%80%813%20%E5%AF%B9%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%9C%E8%BF%9B%E8%A1%8C%E6%8E%92%E5%BA%8F">2、3 对查询结果进行排序</h3> 
<blockquote> 
 <p>  在MySQL中，可以使用ORDER BY子句对查询结果进行排序。ORDER BY子句允许您按照一个或多个列的值对结果进行排序，以及是升序（ASC）还是降序（DESC）排序和<span style="color:#333333;">默认为 升序（ASC）。<strong>注意：没有</strong></span><span style="color:#333333;"><strong> ORDER BY </strong></span><span style="color:#333333;"><strong>子句的查询，返回的顺序是未定义的，永远不要依赖这个顺序。</strong></span></p> 
</blockquote> 
<h4 id="%C2%A02%E3%80%813%E3%80%811%20%E5%8D%87%E5%BA%8F%E6%8E%92%E5%BA%8F">2、3、1 升序排序</h4> 
<blockquote> 
 <p><strong><span style="color:#333333;"><span style="background-color:#ffd900;">同学及数学成绩，按数学成绩升序显示</span></span></strong></p> 
 <p>  所要查询的列：姓名，数学成绩。要求：按照成绩升序。结果如下图：</p> 
 <p><img alt="" height="400" src="https://images2.imgbox.com/7c/09/FW7u6jYf_o.png" width="442"></p> 
</blockquote> 
<h4 id="2%E3%80%813%E3%80%812%20%E9%99%8D%E5%BA%8F%E6%8E%92%E5%BA%8F">2、3、2 降序排序</h4> 
<blockquote> 
 <p>  <span style="color:#333333;"><strong><span style="background-color:#ffd900;">查询同学及总分，由高到低</span></strong></span> </p> 
 <p>  所需要查询的列：姓名，总成绩。要求：总成绩从高到低，也就是降序。结果如下图：</p> 
 <p><img alt="" height="349" src="https://images2.imgbox.com/68/8b/v82oIKu5_o.png" width="1066"></p> 
 <p>  上述结果确实是按照降序进行排序的。但是我们发现<strong><span style="background-color:#ffd900;">order by 子句中可以使用列的别名</span></strong>。这又是为什么呢？这也与其select语句的执行顺序有关，如下图：</p> 
 <p><img alt="" height="286" src="https://images2.imgbox.com/fb/6a/LU4eEOnr_o.png" width="1055"></p> 
 <p>  我们可以理解为，先找到所需要查询的表，然后查询所有的指定的列的数据，最后对查找的数据进行排序。所以在<strong><span style="background-color:#ffd900;">order by 子句中是可以使用列的别名</span></strong>。</p> 
 <p>  在这里说明一下：<strong><span style="background-color:#ffd900;">NULL值比任何值都要小</span></strong>。</p> 
</blockquote> 
<blockquote> 
 <p><span style="color:#333333;"><strong><span style="background-color:#ffd900;">查询姓孙的同学或者姓曹的同学数学成绩，结果按数学成绩由高到低显示</span></strong></span></p> 
 <p>  所需查询的列：姓名和数学。筛选条件：姓孙或者姓曹。要求：成绩由高到低，也就是降序。结果如下：</p> 
 <p><img alt="" height="333" src="https://images2.imgbox.com/2b/e7/UBJMKKnn_o.png" width="716"></p> 
</blockquote> 
<h4 id="2%E3%80%813%E3%80%813%20%E6%8C%89%E7%85%A7%E5%A4%9A%E5%88%97%E8%BF%9B%E8%A1%8C%E6%8E%92%E5%BA%8F">2、3、3 按照多列进行排序</h4> 
<blockquote> 
 <div> 
  <span style="color:#333333;"><strong><span style="background-color:#ffd900;">查询同学各门成绩，依次按 数学降序，英语升序，语文升序的方式显示</span> </strong></span> 
 </div> 
 <div>
     所需要查询的列：同学姓名和各科成绩。要求： 
  <span style="color:#333333;">依次按 数学降序，英语升序，语文升序。我们看如下结果：</span> 
 </div> 
 <div> 
  <img alt="" height="337" src="https://images2.imgbox.com/70/bd/H76TDadg_o.png" width="1200"> 
 </div> 
 <div>
     注意：所有行首先是按照math进行降序排序。然后再math相同的情况下再按照english进行升序排序。最后再math相同，english相同的情况下，再按照语文进行升序排序。发现越靠后的排序，其要求的条件越多。 
 </div> 
</blockquote> 
<h3 id="2%E3%80%814%20%E5%AF%B9%E7%AD%9B%E9%80%89%E7%9A%84%E7%BB%93%E6%9E%9C%E8%BF%9B%E8%A1%8C%E5%88%86%E9%A1%B5">2、4 对筛选的结果进行分页</h3> 
<blockquote> 
 <p>  在MySQL中，可以使用<code>LIMIT</code>和<code>OFFSET</code>子句对筛选结果进行分页。<code>LIMIT</code>用于指定每页返回的记录数量，而<code>OFFSET</code>用于指定从第几行开始返回结果。常用语法如下：</p> 
 <pre><code class="language-sql">-- 从 0 开始，筛选 n 条结果
SELECT ... FROM table_name [WHERE ...] [ORDER BY ...] LIMIT n;

-- 从 s 开始，筛选 n 条结果
SELECT ... FROM table_name [WHERE ...] [ORDER BY ...] LIMIT s, n;

-- 从 s 开始，筛选 n 条结果，比第二种用法更明确，建议使用
SELECT ... FROM table_name [WHERE ...] [ORDER BY ...] LIMIT n OFFSET s;</code></pre> 
 <p>  我们结合如下实例来理解一下：</p> 
 <p><img alt="" height="400" src="https://images2.imgbox.com/fe/b7/gmsZ7Cn2_o.png" width="359"></p> 
 <p>  通常情况下，一张表的数据会很多，我们需要将这张表进行分页显示。就可以用到 limit 语句。具体如下图：</p> 
 <p><img alt="" height="400" src="https://images2.imgbox.com/73/4b/YRPXkral_o.png" width="406"></p> 
 <p>  我们将七条语句分为了3页进行显示。<strong>注意，当从某个偏移量开始打印n行数据时，且该表中从某个偏移量开始到最后并不够n行，那么默认就打印到最后一行</strong>。</p> 
 <p>  <span style="color:#333333;"><strong>建议：对未知表进行查询时，最好加一条</strong></span><span style="color:#333333;"><strong> LIMIT 1</strong></span><span style="color:#333333;"><strong>，避免因为表中数据过大，查询全表数据导致数据库卡死。或者</strong></span><span style="color:#333333;"><strong>按</strong></span><span style="color:#333333;"><strong> id </strong></span><span style="color:#333333;"><strong>进行分页，每页</strong></span><span style="color:#333333;"><strong> 3 </strong></span><span style="color:#333333;"><strong>条记录，分别显示 第</strong></span><span style="color:#333333;"><strong> 1</strong></span><span style="color:#333333;"><strong>、</strong></span><span style="color:#333333;"><strong>2</strong></span><span style="color:#333333;"><strong>、</strong></span><span style="color:#333333;"><strong>3 .....</strong></span><span style="color:#333333;"><strong>页</strong></span></p> 
</blockquote> 
<h2 id="%E4%B8%89%E3%80%81%E8%A1%A8%E7%9A%84%E6%95%B0%E6%8D%AE%E6%9B%B4%E6%96%B0">三、表的数据更新</h2> 
<blockquote> 
 <p>  在MySQL中，可以使用UPDATE语句对表进行更新。UPDATE语句用于修改表中的数据。语法如下：</p> 
 <pre><code class="language-sql">UPDATE table_name
SET column1 = value1, column2 = value2, ...
WHERE condition;</code></pre> 
 <p>  简单说明：</p> 
 <ul><li><code>table_name</code>是要更新的表的名称。</li><li><code>column1</code>, <code>column2</code>, ... 是要更新的列的名称。</li><li><code>value1</code>, <code>value2</code>, ... 是要设置的新值。</li><li><code>WHERE condition</code>是一个可选的条件，用于指定要更新的行。如果不提供条件，则会更新表中的所有行。</li></ul> 
 <p>  下面我们看几个实际例子来理解一下。下面的实例中全部是根据下表进行更新的：</p> 
 <p><img alt="" height="300" src="https://images2.imgbox.com/c1/7b/xxzbbgMp_o.png" width="518"></p> 
</blockquote> 
<blockquote> 
 <p><strong><span style="background-color:#ffd900;">将孙悟空同学的数学成绩变更为 80 分</span></strong> </p> 
 <p>  我们只需要确定要更新的列和更新的条件即可。结果如下图：</p> 
 <p><img alt="" height="300" src="https://images2.imgbox.com/93/86/YKcgx8Ir_o.png" width="459"></p> 
 <p>  <strong><span style="background-color:#ffd900;">注意</span></strong>：一定要加where条件进行筛选，否则所有人的数学成绩都将被更新为80。</p> 
</blockquote> 
<blockquote> 
 <p><strong><span style="background-color:#ffd900;">将曹孟德同学的数学成绩变更为 60 分，语文成绩变更为 70 分</span></strong><br>    我们先来查看一下曹孟德的成绩：</p> 
 <p><img alt="" height="207" src="https://images2.imgbox.com/a1/96/jWUIJM86_o.png" width="882"></p> 
 <p>  接下来我们再修改发现思路就会很清晰了，修改结果如下图：</p> 
 <p><img alt="" height="295" src="https://images2.imgbox.com/5b/9e/KM2f5doS_o.png" width="924"></p> 
</blockquote> 
<blockquote> 
 <p><strong><span style="background-color:#ffd900;">将总成绩倒数前三的 3 位同学的数学成绩加上 30 分</span></strong><br>   怎么可以很好的找到倒数前三名同学呢？升序排序，然后使用limit不就行了吗！我们先筛选出倒数前三的同学，如下：</p> 
 <p><img alt="" height="400" src="https://images2.imgbox.com/d0/7d/ymkC05sX_o.png" width="847"></p> 
 <p>  那么接下来就对倒数前三名同学的数学成绩加上30分的操作，具体如下：</p> 
 <p><img alt="" height="440" src="https://images2.imgbox.com/25/5f/PMb8vA9N_o.png" width="1200"></p> 
 <p>  我们对比后发现，他们的总成绩确实增加了30。那么排名当然也会有所改变。需要注意的是：<strong>在更新数学成绩时，不支持 math += 30 这种语法</strong>。</p> 
</blockquote> 
<blockquote> 
 <p><strong><span style="background-color:#ffd900;">将所有同学的语文成绩修改为原来的2倍</span></strong></p> 
 <p>  我们发现是所有同学，所以就不用再筛选同学了。直接看结果：</p> 
 <p><img alt="" height="400" src="https://images2.imgbox.com/a9/59/FQnTv0c7_o.png" width="364"></p> 
 <p>  注意，在我们使用更新全表的语句之前，一定要先确定你是否要对所有数据进行更新！</p> 
</blockquote> 
<h2 id="%E5%9B%9B%E3%80%81%E8%A1%A8%E7%9A%84%E6%95%B0%E6%8D%AE%E5%88%A0%E9%99%A4">四、表的数据删除</h2> 
<h3 id="4%E3%80%811%20delete%20%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE">4、1 delete 删除数据</h3> 
<blockquote> 
 <p>  在MySQL中，要删除表中的数据，可以使用DELETE语句。DELETE语句用于从表中删除满足特定条件的行。以下是删除表中的数据的语法：</p> 
 <pre><code class="language-sql">DELETE FROM table_name WHERE condition;
</code></pre> 
 <p>  其中，<code>table_name</code>是要删除数据的表的名称，<code>condition</code>是一个可选的条件，用于指定要删除的行。如果要删除所有行，可以使用通配符<code>*</code>。下面我们结合实际例子来理解一下。</p> 
 <p><img alt="" height="341" src="https://images2.imgbox.com/3d/35/iJLpClnl_o.png" width="665"></p> 
</blockquote> 
<blockquote> 
 <p><strong><span style="background-color:#ffd900;">删除孙悟空同学的考试成绩</span></strong><br>    我们直接看结果：</p> 
 <p><img alt="" height="300" src="https://images2.imgbox.com/a0/40/BAWxc23g_o.png" width="531"></p> 
 <p>  我们看到，孙悟空的id为2，所以那一行的数据就会被全部删除。</p> 
</blockquote> 
<blockquote> 
 <p><strong><span style="background-color:#ffd900;">删除整张表的数据</span></strong></p> 
 <p>  当我们在删除某个表中的数据时，并不添加任何筛选条件，相当于删除整张表中的数据。我们先来创建一个表并且插入一些新的数据，如下图：</p> 
 <p><img alt="" height="400" src="https://images2.imgbox.com/db/de/NZOysXPw_o.png" width="594"></p> 
 <p>  我们在对整张表进行删除，如下图：</p> 
 <p><img alt="" height="189" src="https://images2.imgbox.com/c2/94/eLP971en_o.png" width="590"></p> 
 <p>  我们再来插入一些数据观察一下：</p> 
 <p><img alt="" height="348" src="https://images2.imgbox.com/b1/b2/6P1QWMOK_o.png" width="784"></p> 
 <p>  通过上图发现，我们新插入的值的id并不是从0开始的。而是接着原来的自增长的值进行插入的。我们再来查看一下表结构和创建表时的相关信息。如下图：</p> 
 <p><img alt="" height="475" src="https://images2.imgbox.com/65/77/JCtmjPhm_o.png" width="887"></p> 
 <p>  通过上图可以看到，delete删除数据并不会删除表的结构，同时有一个<code>AUTO_INCREMENT=n</code>的字段，该字段就是我们设置的自增长字段，应并不会对此产生影响。</p> 
</blockquote> 
<h3 id="4%E3%80%812%20truncate%20%E6%88%AA%E6%96%AD%E8%A1%A8">4、2 truncate 截断表</h3> 
<blockquote> 
 <p>  我们在使用truncate对表的数据进行删除，如下图：</p> 
 <p><img alt="" height="373" src="https://images2.imgbox.com/20/85/IQn9atC5_o.png" width="525"></p> 
 <p>  再来进行插入一些数据观察一下，如下图：</p> 
 <p><img alt="" height="312" src="https://images2.imgbox.com/42/d3/igH5lD4e_o.png" width="729"></p> 
 <p>  通过上图可以发现，这次的id值是从1开始了。我们再来观察一下表结构和创建表时的相关信息，如下图：</p> 
 <p><img alt="" height="400" src="https://images2.imgbox.com/f7/e1/lDgLa3Y8_o.png" width="681"></p> 
 <p>  通过上图可以发现，truncate会重置auto_increment字段的。但是，truncate只能对整表操作，不能像delete一样针对部分数据操作。</p> 
 <p>  delete语句用于删除指定条件下的行。它会保留表结构，并且可以使用WHERE子句来选择要删除的特定行。但是，delete操作可能会导致性能问题，特别是当表非常大时，因为每次删除都需要进行磁盘I/O操作。 另一方面，truncate语句用于删除表中的所有行，包括索引和约束等对象。与delete不同，<code>TRUNCATE</code>不会记录任何事务日志，因此执行速度非常快。但是，一旦执行了truncate操作，就无法恢复被删除的数据，除非有备份。</p> 
 <p>  综上所述，如果你需要删除表中的某些特定行，应使用delete。而如果你需要从表中快速删除所有数据，并且可以接受无法恢复丢失数据的风险，那么应该使用truncate。需要注意的是，在使用truncate之前，请确保已经创建了适当的备份以防万一。</p> 
</blockquote> 
<h2 id="%E4%BA%94%E3%80%81group%20by%20%E4%B8%8E%20%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0">五、group by 与 聚合函数</h2> 
<blockquote> 
 <p>  <strong>GROUP BY语句用于根据一个或多个列的值对结果进行分组，并应用聚合函数来汇总每一组的数据</strong>。这意味着你可以按照特定的字段对数据进行分组，并且对于每个组，你都可以使用聚合函数来计算出该组的一些统计数据。</p> 
 <p>  下面我们先来学习一下聚合函数的使用。</p> 
</blockquote> 
<h3 id="5%E3%80%811%20%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0">5、1 聚合函数</h3> 
<blockquote> 
 <p>   常见的聚合函数包括但不限于以下几种：</p> 
 <ul><li>COUNT：计算指定列中的行数。</li><li>SUM：对指定列中的数值进行求和。</li><li>AVG：计算指定列的平均值。</li><li>MAX：返回指定列中的最大值。</li><li>MIN：返回指定列中的最小值。</li></ul> 
 <p>  我们再结合几个实际的例子来理解一下聚合函数的使用。依据下表进行查询：</p> 
 <p><img alt="" height="299" src="https://images2.imgbox.com/ca/01/M8Up989x_o.png" width="621"></p> 
</blockquote> 
<blockquote> 
 <p><strong><span style="background-color:#ffd900;">统计班级共有多少同学</span></strong><br>   <strong>使用 * 号进行统计</strong>，且不受NULL的影响。结果如下图：</p> 
 <p><img alt="" height="200" src="https://images2.imgbox.com/8b/6d/JQA36Rvd_o.png" width="550"></p> 
 <p>  注意，我们的exam_result 表中并没有id=2的行，所以是一共为6行。我们<strong>也可以使用表达式进行统计</strong>，如下图：</p> 
 <p><img alt="" height="187" src="https://images2.imgbox.com/3a/65/95aYkbCA_o.png" width="568"></p> 
 <p>  怎么理解上图中的用表达式来统计呢？这种写法相当于在查询表中数据时，自行新增了一列列名为特定表达式的列，我们就是在用count函数统计该列中有多少个数据，等价于统计表中有多少条记录。具体如下图：</p> 
 <p><img alt="" height="321" src="https://images2.imgbox.com/26/ed/9fzJC6B7_o.png" width="710"></p> 
 <p>  <strong>如果是要统计具体的某一个列的字段个数，那么NULL并不会计算在内</strong>。</p> 
</blockquote> 
<blockquote> 
 <p><strong><span style="background-color:#ffd900;">统计本次考试的数学成绩分数个数</span></strong></p> 
 <p>  这个跟统计总人数区别不大，我们直接看结果：</p> 
 <p><img alt="" height="233" src="https://images2.imgbox.com/d7/c9/Ty6b5pbk_o.png" width="625"></p> 
 <p>  如果我们想统计去重后的数学成绩的个数呢？如下图：</p> 
 <p><img alt="" height="205" src="https://images2.imgbox.com/d0/4a/0a3AdBgU_o.png" width="669"></p> 
</blockquote> 
<blockquote> 
 <p><strong><span style="background-color:#ffd900;">统计数学成绩总分</span></strong><br>   我们直接用SUM聚合函数就可以将筛选出来的成绩相加到一起。如下图：</p> 
 <p><img alt="" height="215" src="https://images2.imgbox.com/66/cd/LDsclzgz_o.png" width="595"></p> 
 <p>  再加上筛选条件，查看数学成绩低于60分的总成绩。如下图：</p> 
 <p><img alt="" height="204" src="https://images2.imgbox.com/bd/84/dm8gBfkm_o.png" width="723"></p> 
 <p>  正如上图所示，如果有低于60分的会统计出来。如果没有的话，会输出一个NULL。</p> 
</blockquote> 
<blockquote> 
 <p><strong><span style="background-color:#ffd900;">统计平均总分</span></strong><br>   我们只需要将所有的成绩加起来，在用AVG聚合函数求平均分即可。具体如下图：</p> 
 <p><img alt="" height="209" src="https://images2.imgbox.com/23/f8/2x3IaK9J_o.png" width="757"></p> 
</blockquote> 
<blockquote> 
 <p><strong><span style="background-color:#ffd900;">返回英语最高分</span></strong><br>   直接使用MAX聚合函数即可。如下图：</p> 
 <p><img alt="" height="244" src="https://images2.imgbox.com/1d/ec/pJxl4Tvg_o.png" width="642"></p> 
</blockquote> 
<blockquote> 
 <p><strong><span style="background-color:#ffd900;">返回 &gt; 70 分以上的数学最低分</span></strong><br>   首先筛选出数学成绩大于70分的，在使用聚合函数MIN即可。如下图：</p> 
 <p><img alt="" height="210" src="https://images2.imgbox.com/e2/a4/FoLGixTx_o.png" width="748"></p> 
</blockquote> 
<h3 id="5%E3%80%812%20group%20by%E8%AF%AD%E5%8F%A5%C2%A0">5、2 group by语句 </h3> 
<blockquote> 
 <p>  在select中使用group by 子句可以对指定列进行分组查询，语法如下：</p> 
 <pre><code class="language-sql">select column1, column2, .. from table group by column;</code></pre> 
 <p>  下面我们结合实际例子来理解一下group by 的使用。</p> 
</blockquote> 
<blockquote> 
 <p>  我们现在有如下三张表：</p> 
 <p><img alt="" height="302" src="https://images2.imgbox.com/f4/94/gQjYCEoq_o.png" width="430"></p> 
 <p>  其中员工表（emp）的表结构和表中的内容如下：</p> 
 <p><img alt="" height="740" src="https://images2.imgbox.com/60/c6/W5jU0aKL_o.png" width="1026"></p> 
 <p>  部门表（dept）的表结构和表中的内容如下：</p> 
 <p><img alt="" height="595" src="https://images2.imgbox.com/6e/11/FivnQaaH_o.png" width="1050"></p> 
 <p>  工资等级表（salgrade）的表结构和表中的内容如下：</p> 
 <p><img alt="" height="629" src="https://images2.imgbox.com/5d/79/6eV6s4Fu_o.png" width="977"></p> 
</blockquote> 
<h3></h3> 
<blockquote> 
 <p><strong><span style="background-color:#ffd900;">显示每个部门的平均工资和最高工资</span></strong><br>   首先，我们肯定是要对每个部分进行分类的。相同的部门归到一类在进行统计。结果如下图：</p> 
 <p><img alt="" height="259" src="https://images2.imgbox.com/21/80/csUshTTq_o.png" width="1121"></p> 
 <p>  简单解释一下：上述SQL语句会先将表中的数据按照部门号进行分组，<strong>然后各自在组内做聚合查询得到每个组的平均工资和最高工资。</strong></p> 
</blockquote> 
<blockquote> 
 <p><strong><span style="background-color:#ffd900;">显示每个部门的每种岗位的平均工资和最低工资</span></strong><br>    注意，我们需要按照部们和岗位进行分组，然后在使用AVG和MIN聚合函数。具体如下图：</p> 
 <p><img alt="" height="366" src="https://images2.imgbox.com/cc/a4/fYNr7PK0_o.png" width="1164"></p> 
 <p>   上述语句中，我们是先按照部分进行分类。如果部门号相同时，再按照job进行分类。其分类字段用逗号隔开。 </p> 
</blockquote> 
<blockquote> 
 <p><strong><span style="background-color:#ffd900;">显示平均工资低于2000的部门和它的平均工资</span></strong><br>   首先我们应该根据部门进行分类筛选出平均工资，如下图：</p> 
 <p><img alt="" height="305" src="https://images2.imgbox.com/95/e3/lw6AIXZ1_o.png" width="916"></p> 
 <p>  然后再筛选出平均工资低于2000的。结果如下图：</p> 
 <p><img alt="" height="214" src="https://images2.imgbox.com/14/ca/ASvc6NrK_o.png" width="1073"></p> 
 <p>  细心的同学发现了，我们在分组筛选时，用的having而不是where。他们有什么区别呢？</p> 
 <p>在MySQL中，HAVING和WHERE都是用于过滤查询结果的SQL语句，它们在功能上有些相似，但也有一些关键的区别。</p> 
 <ol><li><strong>适用场景</strong>：WHERE用于在SELECT语句中基于列的值进行过滤，而HAVING用于在GROUP BY查询中过滤聚合函数的结果。换句话说，WHERE用于单个行的过滤，而HAVING用于组级别的过滤。</li><li><strong>数据类型</strong>：WHERE子句通常用于过滤数据表中的单个行，而HAVING子句通常用于过滤聚合函数的结果集（如COUNT、SUM等）。</li><li><strong>使用频率</strong>：WHERE通常在大多数查询中使用，因为它可以更直接地过滤单个行。另一方面，HAVING在需要基于聚合函数的结果进行过滤时使用较少，因为它需要处理聚合数据。</li><li><strong>返回结果</strong>：WHERE和HAVING返回的结果集可能不同。WHERE通常返回单个行或行的组合，而HAVING通常返回一个结果集，其中包含所有符合条件的组的数据。</li></ol> 
 <p>  我们也发现了，where子句中不能使用聚合函数和别名，而having子句中可以使用聚合函数和别名。这就涉及到了分组聚合的SQL语句的执行顺序了。含有having子句的SQL如下：</p> 
 <pre><code class="language-sql">SELECT ... FROM table_name [WHERE ...] [GROUP BY ...] [HAVING ...] [order by ...] [LIMIT ...];</code></pre> 
 <p>  从上述语法中我们也能看出来，where子句放在表名后面，而having子句必须搭配group by子句使用，放在group by子句的后面。SQL中各语句的执行顺序为：where、group by、select、having、order by、limit。</p> 
 <p>  总的来说，WHERE和HAVING在功能上有所不同，适用于不同的查询场景。在大多数情况下，WHERE子句应该足够满足大多数查询需求，除非你需要在GROUP BY查询中使用聚合函数并需要对其进行过滤。</p> 
 <p>  ps：<strong><span style="background-color:#ffd900;">在group by中出现的字段，都是可以在select中进行查询的</span></strong>。<strong><span style="background-color:#ffd900;">where子句中不能使用聚合函数和别名，而having子句中可以使用聚合函数和别名</span></strong>。</p> 
</blockquote>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/c591b985b07f67d421b826ba74292d18/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【在线AI绘画平台】哩布AI 在线生成图片、训练Lora、上传AI生成图简易实测</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b66d955a64ca9e06570b895af43087fc/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Git的原理与使用(一):Git的基本操作(包含:版本回退)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>