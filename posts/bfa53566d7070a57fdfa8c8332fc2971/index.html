<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>计算机网络入门 -- 常用网络协议 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/bfa53566d7070a57fdfa8c8332fc2971/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="计算机网络入门 -- 常用网络协议">
  <meta property="og:description" content="计算机网络入门 – 常用网络协议 1.分类 1.1 模型回顾 计算机网络细分可以划为七层模型，分别是物理层、数据链路层、网络层、传输层、会话层、表示层和应用层。而上三层可以划为应用层中。
1.2 分类 1.2.1 应用层 为用户的应用进程提供网络通信服务，包括DNS协议、HTTP协议和HTTPS协议。
1.2.2 传输层 负责两台主机之间的数据传输，将数据从发送端传输到接收端，其中包括TCP和UDP协议。
1.2.3 网络层 负责传输的地址管理和路由选择，在众多复杂网络环境中确定一条合适的路径，包括IP协议。
1.2.4 数据链路层 负责设备之间数据帧的传输和识别，将网络层传递的数据报封装成帧，在处于同一个数据链路节点的两个设备之间传输，包括ARP协议和MTU协议。
1.2.5 物理层 负责光电信号传输，实现相邻计算机节点之间比特流透明传输。
1.3 意义 无论是将网络模型分为五层还是七层，都是为了简化网络设计的复杂性，通信协议采用分层结构，各层之间相互独立但又协同工作。在设计一个复杂庞大的框架时，尽可能使之间的功能解耦是一种很明智的做法。
2.应用层协议 2.1 概念 应用层网络负责各个程序之间通信。发生网络传输一个数据时，先由应用层对数据按照对应的协议封装，并交给下一层传输层，经过层层网络传输后数据到达接收端，又从下往上分用。
2.2 协议 2.2.1 DNS协议 DNS建立在TCP和UDP通信协议上，默认端口为53。正常传输通过UDP进行通信，当报文较长时切换至TCP协议。其功能是将便于人类理解的网络域名(如:www.baidu.com)转换为IP地址，而这种映射关系则保存于DNS服务器中。总体来说，域名解析可以分为两个步骤：第一步客户端向本地DNS服务器发起一个DNS请求报文，报文里携带需要查询的域名，第二步本地DNS服务器向本机回应一个DNS响应报文，报文里携带查询域名所对应的IP地址。
1.在本地缓存中查询，如果有则返回IP，反之请求本地DNS。2.本地DNS收到请求后，先在服务器管理区域记录中查询，若无数据则在服务器本地缓存中查询，若还没有则将请求送达根域名服务器。3.根域名服务器解析请求的根域部分，然后将包含下一级域名信息的DNS服务器地址返回至本地DNS服务器。4.本地DNS服务器利用根域名服务器解析的地址访问下一级DNS服务器，得到再下一级的DNS服务器地址。5.按照上述递归方法逐级接近查询目标，最后在有目标的DNS服务器上找到相应的IP信息。6.本地DNS服务器将最终擦寻的IP返回至客户端，让客户端访问对应主机。 2.2.2 HTTP协议 HTTP本身是一个简单的请求，即响应协议，运行在TCP协议之上。该协议指定了客户端可能发送给服务器什么样的消息以及会得到什么样的响应。同其他应用层协议一样，是为了实现某一类具体应用的协议，并由某一运行在用户空间的应用程序来实现其功能。HTTP是一种协议规范，这种规范记录在文档上，为真正通过HTTP进行通信的HTTP的实现程序。
2.2.2.1 HTTP事务处理 1.客户端域服务器建立连接2.客户端向服务端发送请求3.服务器响应请求，并根据请求返回相应的数据4.客户端与服务端关闭连接 2.2.2.2 HTTP报文格式 请求本身由请求行、请求头和请求体狗工程
请求行：包括请求方法、路径、版本号等请求头：为多个键值对数据请求体：包含请求数据响应行：包含状态码、版本号 2.2.2.3 响应码 200：客户端请求成功；3xx；4xx；5xx
2.2.2.4 特点 1.支持C/S模式2.传输速度快，客户端向服务器发送请求，只需要传输请求方法和路径3.请求灵活，HTTP允许传输任意类型的数据对象4.无连接，每次连接只能处理一个请求，服务器处理完客户端请求，客户端收到响应后就断开连接5.无状态，协议本身对事务处理没有记忆能力，如果后序连接需要之前发送的信息时就需要重传 2.2.3 HTTPS协议 HTTPS同样作为应用层协议，可以说它是HTTP的升级版，增加了传输数据的安全性，HTTPS协议是在HTTP的基础上增加了一个SSL外壳，HTTPS运行在SSL上，SSL运行在TCP上，对数据的加密工作就是在SSL上完成的
3.传输层协议 3.1 概念 传输层的主要功能是为了实现“端口到端口”的通信，以确保一条数据发送到主机上后，能够正确的传递到对应的端口上。
3.2 协议 3.2.1 UDP协议 UDP是一种面向无连接的传输协议，无需连接就可以发送封装IP的数据包。但面向无连接的缺点就是不稳定，一旦在通信链路上出现网络波动或连接问题则会发生数据丢包。
3.2.1.1 UDP报文 3.2.1.2 特点 无连接：只需要指导目标机的IP和端口就可以发送数据，其间无连接。不可靠：没有一系列机制保证数据传输的丢包问题。面向数据报发送：应用层交给UDP什么样的数据，UDP就发送什么样的数据，不会拆分、合并。传输限制：UDP一次传输上限为64K。 3.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-07-19T22:01:31+08:00">
    <meta property="article:modified_time" content="2024-07-19T22:01:31+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">计算机网络入门 -- 常用网络协议</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="___0"></a>计算机网络入门 – 常用网络协议</h2> 
<h3><a id="1_2"></a>1.分类</h3> 
<h4><a id="11__4"></a>1.1 模型回顾</h4> 
<p>计算机网络细分可以划为七层模型，分别是物理层、数据链路层、网络层、传输层、会话层、表示层和应用层。而上三层可以划为应用层中。</p> 
<h4><a id="12__7"></a>1.2 分类</h4> 
<h4><a id="121__8"></a>1.2.1 应用层</h4> 
<p>为用户的应用进程提供网络通信服务，包括DNS协议、HTTP协议和HTTPS协议。</p> 
<h4><a id="122__11"></a>1.2.2 传输层</h4> 
<p>负责两台主机之间的数据传输，将数据从发送端传输到接收端，其中包括TCP和UDP协议。</p> 
<h4><a id="123__14"></a>1.2.3 网络层</h4> 
<p>负责传输的地址管理和路由选择，在众多复杂网络环境中确定一条合适的路径，包括IP协议。</p> 
<h4><a id="124__17"></a>1.2.4 数据链路层</h4> 
<p>负责设备之间数据帧的传输和识别，将网络层传递的数据报封装成帧，在处于同一个数据链路节点的两个设备之间传输，包括ARP协议和MTU协议。</p> 
<h4><a id="125__20"></a>1.2.5 物理层</h4> 
<p>负责光电信号传输，实现相邻计算机节点之间比特流透明传输。</p> 
<h4><a id="13__23"></a>1.3 意义</h4> 
<p>无论是将网络模型分为五层还是七层，都是为了简化网络设计的复杂性，通信协议采用分层结构，各层之间相互独立但又协同工作。在设计一个复杂庞大的框架时，尽可能使之间的功能解耦是一种很明智的做法。</p> 
<br> 
<h3><a id="2_28"></a>2.应用层协议</h3> 
<h4><a id="21__29"></a>2.1 概念</h4> 
<p>应用层网络负责各个程序之间通信。发生网络传输一个数据时，先由应用层对数据按照对应的协议封装，并交给下一层传输层，经过层层网络传输后数据到达接收端，又从下往上分用。</p> 
<h4><a id="22__32"></a>2.2 协议</h4> 
<h4><a id="221_DNS_33"></a>2.2.1 DNS协议</h4> 
<p>DNS建立在TCP和UDP通信协议上，默认端口为53。正常传输通过UDP进行通信，当报文较长时切换至TCP协议。其功能是将便于人类理解的网络域名(如:www.baidu.com)转换为IP地址，而这种映射关系则保存于DNS服务器中。总体来说，域名解析可以分为两个步骤：第一步客户端向本地DNS服务器发起一个DNS请求报文，报文里携带需要查询的域名，第二步本地DNS服务器向本机回应一个DNS响应报文，报文里携带查询域名所对应的IP地址。</p> 
<ul><li>1.在本地缓存中查询，如果有则返回IP，反之请求本地DNS。</li><li>2.本地DNS收到请求后，先在服务器管理区域记录中查询，若无数据则在服务器本地缓存中查询，若还没有则将请求送达根域名服务器。</li><li>3.根域名服务器解析请求的根域部分，然后将包含下一级域名信息的DNS服务器地址返回至本地DNS服务器。</li><li>4.本地DNS服务器利用根域名服务器解析的地址访问下一级DNS服务器，得到再下一级的DNS服务器地址。</li><li>5.按照上述递归方法逐级接近查询目标，最后在有目标的DNS服务器上找到相应的IP信息。</li><li>6.本地DNS服务器将最终擦寻的IP返回至客户端，让客户端访问对应主机。</li></ul> 
<h4><a id="222_HTTP_42"></a>2.2.2 HTTP协议</h4> 
<p>HTTP本身是一个简单的请求，即响应协议，运行在TCP协议之上。该协议指定了客户端可能发送给服务器什么样的消息以及会得到什么样的响应。同其他应用层协议一样，是为了实现某一类具体应用的协议，并由某一运行在用户空间的应用程序来实现其功能。HTTP是一种协议规范，这种规范记录在文档上，为真正通过HTTP进行通信的HTTP的实现程序。</p> 
<h5><a id="2221_HTTP_44"></a>2.2.2.1 HTTP事务处理</h5> 
<ul><li>1.客户端域服务器建立连接</li><li>2.客户端向服务端发送请求</li><li>3.服务器响应请求，并根据请求返回相应的数据</li><li>4.客户端与服务端关闭连接</li></ul> 
<h5><a id="2222_HTTP_49"></a>2.2.2.2 HTTP报文格式</h5> 
<p>请求本身由请求行、请求头和请求体狗工程</p> 
<ul><li>请求行：包括请求方法、路径、版本号等</li><li>请求头：为多个键值对数据</li><li>请求体：包含请求数据</li><li>响应行：包含状态码、版本号</li></ul> 
<h5><a id="2223__56"></a>2.2.2.3 响应码</h5> 
<p>200：客户端请求成功；3xx；4xx；5xx</p> 
<h5><a id="2224__59"></a>2.2.2.4 特点</h5> 
<ul><li>1.支持C/S模式</li><li>2.传输速度快，客户端向服务器发送请求，只需要传输请求方法和路径</li><li>3.请求灵活，HTTP允许传输任意类型的数据对象</li><li>4.无连接，每次连接只能处理一个请求，服务器处理完客户端请求，客户端收到响应后就断开连接</li><li>5.无状态，协议本身对事务处理没有记忆能力，如果后序连接需要之前发送的信息时就需要重传</li></ul> 
<h4><a id="223_HTTPS_66"></a>2.2.3 HTTPS协议</h4> 
<p>HTTPS同样作为应用层协议，可以说它是HTTP的升级版，增加了传输数据的安全性，HTTPS协议是在HTTP的基础上增加了一个SSL外壳，HTTPS运行在SSL上，SSL运行在TCP上，对数据的加密工作就是在SSL上完成的</p> 
<br> 
<h3><a id="3_71"></a>3.传输层协议</h3> 
<h4><a id="31__72"></a>3.1 概念</h4> 
<p>传输层的主要功能是为了实现“端口到端口”的通信，以确保一条数据发送到主机上后，能够正确的传递到对应的端口上。</p> 
<h4><a id="32__75"></a>3.2 协议</h4> 
<h4><a id="321_UDP_76"></a>3.2.1 UDP协议</h4> 
<p>UDP是一种面向无连接的传输协议，无需连接就可以发送封装IP的数据包。但面向无连接的缺点就是不稳定，一旦在通信链路上出现网络波动或连接问题则会发生数据丢包。</p> 
<h5><a id="3211_UDP_79"></a>3.2.1.1 UDP报文</h5> 
<p><img src="https://images2.imgbox.com/a8/10/eGkUeE0A_o.png" alt="alt text"></p> 
<h5><a id="3212__82"></a>3.2.1.2 特点</h5> 
<ul><li>无连接：只需要指导目标机的IP和端口就可以发送数据，其间无连接。</li><li>不可靠：没有一系列机制保证数据传输的丢包问题。</li><li>面向数据报发送：应用层交给UDP什么样的数据，UDP就发送什么样的数据，不会拆分、合并。</li><li>传输限制：UDP一次传输上限为64K。</li></ul> 
<h5><a id="3213__88"></a>3.2.1.3 传输流程</h5> 
<p><img src="https://images2.imgbox.com/f4/23/4QEcKD9j_o.png" alt="alt text"></p> 
<h5><a id="3214__91"></a>3.2.1.4 适用范围</h5> 
<p>由于UDP不属于连接型协议，所以具有资源消耗小。处理速度优的特点，因此经常使用与视频、音频通话传输中，因为发送的数据较多，偶尔丢包一两个不会产生太大影响</p> 
<h4><a id="322_TCP_94"></a>3.2.2 TCP协议</h4> 
<p>因为上述讲到UDP的传输是不可靠的，经常会导致连接错误、数据丢包问题，针对这些问题规定了另一个传输层协议——TCP协议，TCP是一种面向连接、可靠的、基于字节流的传输层协议</p> 
<h5><a id="3221_TCP_97"></a>3.2.2.1 TCP报文</h5> 
<p><img src="https://images2.imgbox.com/dc/8b/gF7KMX4E_o.png" alt="alt text"></p> 
<h5><a id="3222__100"></a>3.2.2.2 特点</h5> 
<ul><li>面向连接：在传输数据时，客户端与服务端要建立一个可靠的连接</li><li>可靠通信：TCP传输数据时，会基于内部的各种机制保证数据传输到目的端口</li><li>基于字节流：TCP传输数据基于字节流，方便对数据的拆分和合并发送</li><li>开销较大：TCP头部比UDP开销大，因为需要存放更多信息</li></ul> 
<h5><a id="3223_TCP_106"></a>3.2.2.3 TCP连接</h5> 
<p>TCP在连接时会进行三次握手</p> 
<ul><li>首先客户端和服务端均关闭</li><li>第一次握手：客户端打开并向服务端发送连接请求，这是报文首部中的同部位SYN=1，同时选择一个初始序列号 seq=x ，此时，TCP客户端进程进入了 SYN-SENT 同步已发送状态。该步骤是确定客户端能够正常发送数据</li><li>第二次握手：服务端向客户端发送一个确认收到的响应，确认报文中应该 ACK=1，SYN=1，确认号是ack=x+1，同时也要为自己初始化一个序列号 seq=y，此时，TCP服务器进程进入了 SYN-RCVD 同步收到状态。该步骤是确认服务端收发数据正常。</li><li>第三次握手：当客户端再次接收到服务端发送的数据后，将会再次向服务端发送确认连接信息，确认报文的ACK=1，ack=y+1，自己的序列号seq=x+1，此时，TCP连接建立，客户端进入ESTABLISHED已建立连接状态 触发三次握手。该步骤是确定客户端接收数据正常。</li></ul> 
<p>由于TCP是建立在可靠连接上的，因此三次握手的目的是为了检验客户端与服务端数据的收发功能是否正常。</p> 
<p><img src="https://images2.imgbox.com/bd/18/81CBGBDn_o.png" alt="alt text"></p> 
<h5><a id="3224_TCP_117"></a>3.2.2.4 TCP断连</h5> 
<p>TCP在终止连接时会进行四次挥手</p> 
<ul><li>第一次挥手：客户端发出释放连接报文，并停止发送数据，释放数据报文首部。FIN=1，其序列号为seq=u（等于前面已经传送过来的数据的最后一个字节的序号加1），此时，客户端进入FIN-WAIT-1（终止等待1）状态</li><li>第二次挥手：服务器端接收到连接释放报文后，发出确认报文，ACK=1，ack=u+1，并且带上自己的序列号seq=v，此时，服务端就进入了CLOSE-WAIT 关闭等待状态</li><li>第三次挥手：客户端接收到服务器端的确认请求后，客户端就会进入FIN-WAIT-2（终止等待2）状态，等待服务器发送连接释放报文，服务器将最后的数据发送完毕后，就向客户端发送连接释放报文，服务器就进入了LAST-ACK（最后确认）状态，等待客户端的确认。</li><li>第四次挥手：客户端收到服务器的连接释放报文后，必须发出确认，ACK=1，ack=w+1，而自己的序列号是seq=u+1，此时，客户端就进入了TIME-WAIT（时间等待）状态，但此时TCP连接还未终止，必须要经过2MSL后（最长报文寿命），当客户端撤销相应的TCB后，客户端才会进入CLOSED关闭状态，服务器端接收到确认报文后，会立即进入CLOSED关闭状态，到这里TCP连接就断开了，四次挥手完成</li></ul> 
<p><img src="https://images2.imgbox.com/25/7d/xSbcatAp_o.png" alt="alt text"></p> 
<br> 
<h3><a id="4_128"></a>4.网络层</h3> 
<h4><a id="41__129"></a>4.1 概念</h4> 
<p>网络层是基于数据链路层和传输层之间的第三层协议，它在数据链路层提供的两个相邻端点之间的数据帧的传送功能上，进一步管理网络中的数据通信，将数据设法从源端经过若干个中间节点传送到目的端，从而向传输层提供最基本的端到端的数据传送服务</p> 
<h4><a id="42__132"></a>4.2 协议</h4> 
<h4><a id="421_IP_133"></a>4.2.1 IP协议</h4> 
<p>IP协议是TCP/IP网络模型中的核心部分，他提供了一种分层的、无关硬件的寻址方式，可以在复杂的路由式网络中传递数据所需的服务。IP协议可以将多个交换网络连接起来，在源地址和目的地址之间传输数据包，同时它还能提供数据的组装功能，以适应不同网络对数据包大小的要求。</p> 
<h5><a id="4211_IP_136"></a>4.2.1.1 IP地址</h5> 
<p>IP地址是互联网协议特有的一种地址，它是IP协议提供的一种统一的地址格式，IP地址为互联网的每个网络和每台主机分配了一个逻辑地址，以此来屏蔽物理地址的差异。</p> 
<h5><a id="4212_IP_139"></a>4.2.1.2 IP地址格式</h5> 
<p>P地址为32位地址，被分为4个部分，如XXX.XXX.XXX.XXX，IP地址又被划分为两个部分</p> 
<ul><li>网络号：前三部分用于标识网段，保证相互连接的两个网段有不同标识</li><li>主机号：最后一部分用于标识主机，保证处于同一网段的不同设备都有不同标识<br> 通过合理设置主机号和网络号, 就可以保证在相互连接的网络中, 每台主机的IP地址都不相同</li></ul> 
<h5><a id="4213_MAC_145"></a>4.2.1.3 MAC地址</h5> 
<p>被称为物理地址，是用来标识网络中每个设备的，MAC地址是设备出厂之后就写死的</p> 
<h5><a id="4214_IP_148"></a>4.2.1.4 IP协议数据报格式</h5> 
<p><img src="https://images2.imgbox.com/cc/bb/ftUpfIr8_o.png" alt="alt text"></p> 
<h5><a id="4215_IP_152"></a>4.2.1.5 IP协议工作方式</h5> 
<ul><li>同网段：若源地址与主机地址位于同一网段，则目的IP地址被ARP协议解析为MAC地址后，源主机会根据目的MAC地址直接将数据包发送给目标主机。</li><li>不同网段：不同网段会经过多个过程发送给主机 
  <ul><li>网关的IP地址被ARP协议解析为MAC地址，根据MAC地址，源主机会将数据发送至网关。</li><li>网关根据数据数据包中网段ID找到目标网络，将数据包发送至目标网络，如果没有则重复第一步发送到更高一级网关。</li><li>数据包经网关发送到正确网段，目标IP被ARP协议 解析为MAC地址，在根据该MAC地址将数据包发送给目标地址的主机。</li></ul> </li></ul> 
<br> 
<h3><a id="5_161"></a>5.数据链路层</h3> 
<h4><a id="51__162"></a>5.1 概念</h4> 
<p>数据链路层是TCP/IP网络模型的第二层，基于物理层和网络层之间，数据链路层在物理层提供的服务的基础上向网络层提供服务，其最基本的服务是将源自物理层来的数据可靠地传输到相邻节点的目标机网络层。</p> 
<h4><a id="52__165"></a>5.2 协议</h4> 
<h4><a id="521_ARP_166"></a>5.2.1 ARP协议</h4> 
<p>ARP协议是数据进行网络传输过程中，通过IP地址向MAC地址的转换，解决网络层和物理层衔接问题。由于 IP 地址和 MAC 地址定位方式不同，ARP 协议成为数据传输的必备协议。主机发送信息前，必须通过 ARP 协议获取目标 IP 地址对应的 MAC 地址，才能正确地发送数据包。</p> 
<h5><a id="5211_ARP_169"></a>5.2.1.1 ARP报文</h5> 
<p><img src="https://images2.imgbox.com/e7/86/lIL6lLFY_o.png" alt="alt text"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/cef4b8b0bab1bcbdaf75afb9c688e638/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">《0基础》学习Python——第十七讲__正则表达式（requests）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f5a5a70d7e98dc86bd8cd3b07cbff2bc/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Java——学生信息管理系统（简单&#43;超详细）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>