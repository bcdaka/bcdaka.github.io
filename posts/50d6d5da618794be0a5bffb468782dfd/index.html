<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>ã€é¡¹ç›®æ—¥è®°ï¼ˆä¸‰ï¼‰ã€‘æœç´¢å¼•æ“-æœç´¢æ¨¡å— - ç¼–ç¨‹å¤§å’–</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/50d6d5da618794be0a5bffb468782dfd/">
  <meta property="og:site_name" content="ç¼–ç¨‹å¤§å’–">
  <meta property="og:title" content="ã€é¡¹ç›®æ—¥è®°ï¼ˆä¸‰ï¼‰ã€‘æœç´¢å¼•æ“-æœç´¢æ¨¡å—">
  <meta property="og:description" content="â£åšä¸»ä¸»é¡µ: 33çš„åšå®¢â£
â–¶ï¸æ–‡ç« ä¸“æ åˆ†ç±»:é¡¹ç›®æ—¥è®°â—€ï¸
ğŸššæˆ‘çš„ä»£ç ä»“åº“: 33çš„ä»£ç ä»“åº“ğŸšš
ğŸ«µğŸ«µğŸ«µå…³æ³¨æˆ‘å¸¦ä½ äº†è§£æ›´å¤šé¡¹ç›®å†…å®¹
ç›®å½• 1.å‰è¨€2.é¡¹ç›®å›é¡¾3.æœç´¢æµç¨‹3.1åˆ†è¯3.2è§¦å‘3.3å»é‡3.4æ’åº3.5åŒ…è£… 4.æ€»ç»“ 1.å‰è¨€ åœ¨å‰é¢çš„æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å·²ç»å®Œæˆäº†ç´¢å¼•çš„åˆ¶ä½œï¼Œæ—¢ç„¶å·²ç»åˆ¶ä½œå¥½äº†ç´¢å¼•ï¼Œæˆ‘ä»¬è¯¥å¦‚ä½•æ›´å…·è¾“å…¥å†…å®¹ï¼ŒåŒ¹é…å¯¹åº”çš„ç»“æœå‘¢?æ¥ä¸‹æ¥æˆ‘ä»¬å°±ä¸€èµ·å®Œæˆæœç´¢æ¨¡å—ã€‚
2.é¡¹ç›®å›é¡¾ åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬å·²ç»å®ç°äº†2ä¸ªç±»ï¼ŒParserå’ŒIndexã€‚
å®ç°Parserç±»ï¼š
1.é€šè¿‡é€’å½’æšä¸¾å‡ºæ‰€æœ‰çš„HTMLæ–‡ä»¶ã€‚
2.é’ˆå¯¹æ¯ä¸€ä¸ªHTMLè¿›è¡Œè§£ææ“ä½œã€‚
a)æ ‡é¢˜ï¼šç›´æ¥ä½¿ç”¨æ–‡ä»¶åç§°
b)URL:åŸºäºæ–‡ä»¶è·¯å¾„è¿›è¡Œç®€å•çš„å­—ç¬¦ä¸²æ‹¼æ¥
c)æ­£æ–‡ï¼šå»æ‰scriptå’Œhtmlæ ‡ç­¾
3.æŠŠè§£æå†…å®¹é€šè¿‡addDocæ”¾å…¥Indexç±»ä¸­
å®ç°Indexç±»ï¼š
æ­£æ’ç´¢å¼•ï¼šArrayList
å€’æ’ç´¢å¼•ï¼šHashMap&lt;String,ArrayList&gt;
1.æŸ¥æ­£æ’ï¼šç›´æ¥æŒ‰ç…§ä¸‹æ ‡æ¥å–ArrayListä¸­çš„å…ƒç´ 
2.æŸ¥å€’æ’ï¼šç›´æ¥æŒ‰ç…§Keyï¼Œæ¥åŒºHashMapä¸­çš„å…ƒç´ 
3.æ·»åŠ æ–‡æ¡£ï¼Œä¾›Parserç±»è°ƒç”¨
a)æ„å»ºæ­£æ’ç´¢å¼•ï¼Œæ„é€ DocInfoå¯¹è±¡ï¼Œæ·»åŠ åˆ°ç´¢å¼•æœ«å°¾
b)æ„å»ºå€’æ’ç´¢å¼•ï¼Œå…ˆå¯¹æ ‡é¢˜ï¼Œæ­£æ–‡è¿›è¡Œåˆ†è¯æ“ä½œï¼Œç»Ÿè®¡è¯é¢‘ï¼Œæ·»åŠ åˆ°Mapä¸­å»
4.ä¿å­˜ç´¢å¼•ï¼šåŸºäºjsonæ ¼å¼æŠŠç´¢å¼•æ•°æ®ä¿å­˜åˆ°æŒ‡å®šæ–‡ä»¶ä¸­ã€‚
5.åŠ è½½ç´¢å¼•ï¼šåŸºäºjsonæ ¼å¼å¯¹æ•°æ®è¿›è¡Œè§£æï¼Œå­˜å…¥å†…å­˜ã€‚
3.æœç´¢æµç¨‹ 1.ã€åˆ†è¯ã€‘æ ¹æ®è¾“å…¥å†…å®¹è¿›è¡Œåˆ†è¯æ“ä½œ2.ã€è§¦å‘ã€‘é’ˆå¯¹åˆ†è¯ç»“æœæ¥æŸ¥å€’æ’3.ã€å»é‡ã€‘é’ˆå¯¹ç›¸åŒçš„æ–‡æ¡£è¿›è¡Œå»é‡4.ã€æ’åºã€‘é’ˆå¯¹å»é‡ç»“æœæŒ‰ç…§æƒé‡æ’åº5.ã€åŒ…è£…ã€‘é’ˆå¯¹æ’åºç»“æœæŸ¥æ­£ç‰Œï¼ŒåŒ…è£…ä¸ºResultè¿›è¡Œè¿”å›æ•°æ® 3.1åˆ†è¯ åœ¨ä½¿ç”¨AnsjæŠ€æœ¯è¿›è¡Œåˆ†è¯æ“ä½œçš„æ—¶å€™ï¼Œä¼šæŠŠç©ºæ ¼ï¼Œä»¥åŠä¸€äº›é«˜é¢‘è¯ä¾‹å¦‚aï¼Œanï¼Œis ç­‰è¯è¯­éƒ½åˆ†å‡ºæ¥ï¼Œä½†è¿™äº›è¯è¯­å’Œæˆ‘ä»¬çš„æŸ¥è¯¢å†…å®¹å…³è”æ€§å¹¶ä¸å¤§ï¼Œæˆ‘ä»¬å°±å•ç‹¬ç½—åˆ—å‡ºæ¥ï¼Œè¿›è¡Œæ’é™¤ã€‚ç½‘ä¸Šæœ‰è®¸å¤šæš‚åœè¯è¡¨å¯ä»¥è‡ªè¡Œä¸‹è½½ï¼Œä¾‹å¦‚ï¼š
private static String STOP_WORD_PATH=&#34;D:/doc_searcher_index/stop_word.txt&#34;; private HashSet&lt;String&gt; stopWords=new HashSet&lt;&gt;(); public DocSearcher(){ index.load(); loadStopWords(); } public void loadStopWords(){ try (BufferedReader bufferedReader=new BufferedReader(new FileReader(STOP_WORD_PATH))){ while (true){ String line=bufferedReader.readLine(); if (line==null){ break; } stopWords.add(line); } } catch (IOException e) { throw new RuntimeException(e); } } List&lt;Term&gt; oldTerms=ToAnalysis.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-07-02T08:30:00+08:00">
    <meta property="article:modified_time" content="2024-07-02T08:30:00+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ç¼–ç¨‹å¤§å’–" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ç¼–ç¨‹å¤§å’–</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">ã€é¡¹ç›®æ—¥è®°ï¼ˆä¸‰ï¼‰ã€‘æœç´¢å¼•æ“-æœç´¢æ¨¡å—</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <blockquote> 
 <p>â£åšä¸»ä¸»é¡µ: <a href="https://blog.csdn.net/weixin_69049913?type=blog">33çš„åšå®¢</a>â£<br> â–¶ï¸æ–‡ç« ä¸“æ åˆ†ç±»:<a href="https://blog.csdn.net/weixin_69049913/category_12713140.html?spm=1001.2014.3001.5482">é¡¹ç›®æ—¥è®°</a>â—€ï¸<br> ğŸššæˆ‘çš„ä»£ç ä»“åº“: <a href="https://gitee.com/thirtythree-code" rel="nofollow">33çš„ä»£ç ä»“åº“</a>ğŸšš<br> ğŸ«µğŸ«µğŸ«µ<strong>å…³æ³¨æˆ‘å¸¦ä½ äº†è§£æ›´å¤šé¡¹ç›®å†…å®¹</strong></p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/36/ab/Vg5TQQf9_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p></p> 
<div class="toc"> 
 <h4>ç›®å½•</h4> 
 <ul><li><a href="#1_8" rel="nofollow">1.å‰è¨€</a></li><li><a href="#2_10" rel="nofollow">2.é¡¹ç›®å›é¡¾</a></li><li><a href="#3_30" rel="nofollow">3.æœç´¢æµç¨‹</a></li><li><ul><li><a href="#31_37" rel="nofollow">3.1åˆ†è¯</a></li><li><a href="#32_70" rel="nofollow">3.2è§¦å‘</a></li><li><a href="#33_83" rel="nofollow">3.3å»é‡</a></li><li><a href="#34_149" rel="nofollow">3.4æ’åº</a></li><li><a href="#35_160" rel="nofollow">3.5åŒ…è£…</a></li></ul> 
  </li><li><a href="#4_244" rel="nofollow">4.æ€»ç»“</a></li></ul> 
</div> 
<p></p> 
<h2><a id="1_8"></a>1.å‰è¨€</h2> 
<blockquote> 
 <p>åœ¨å‰é¢çš„æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å·²ç»å®Œæˆäº†ç´¢å¼•çš„åˆ¶ä½œï¼Œæ—¢ç„¶å·²ç»åˆ¶ä½œå¥½äº†ç´¢å¼•ï¼Œæˆ‘ä»¬è¯¥å¦‚ä½•æ›´å…·è¾“å…¥å†…å®¹ï¼ŒåŒ¹é…å¯¹åº”çš„ç»“æœå‘¢?æ¥ä¸‹æ¥æˆ‘ä»¬å°±ä¸€èµ·å®Œæˆæœç´¢æ¨¡å—ã€‚</p> 
</blockquote> 
<h2><a id="2_10"></a>2.é¡¹ç›®å›é¡¾</h2> 
<p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬å·²ç»å®ç°äº†2ä¸ªç±»ï¼ŒParserå’ŒIndexã€‚<br> <strong>å®ç°Parserç±»ï¼š</strong><br> <font color="orange">1.é€šè¿‡é€’å½’æšä¸¾å‡ºæ‰€æœ‰çš„HTMLæ–‡ä»¶ã€‚<br> 2.é’ˆå¯¹æ¯ä¸€ä¸ªHTMLè¿›è¡Œè§£ææ“ä½œã€‚<br> a)æ ‡é¢˜ï¼šç›´æ¥ä½¿ç”¨æ–‡ä»¶åç§°<br> b)URL:åŸºäºæ–‡ä»¶è·¯å¾„è¿›è¡Œç®€å•çš„å­—ç¬¦ä¸²æ‹¼æ¥<br> c)æ­£æ–‡ï¼šå»æ‰scriptå’Œhtmlæ ‡ç­¾<br> 3.æŠŠè§£æå†…å®¹é€šè¿‡addDocæ”¾å…¥Indexç±»ä¸­</font></p> 
<p><strong>å®ç°Indexç±»ï¼š</strong><br> <font color="orane">æ­£æ’ç´¢å¼•ï¼šArrayList<br> å€’æ’ç´¢å¼•ï¼šHashMap&lt;String,ArrayList&gt;<br> 1.æŸ¥æ­£æ’ï¼šç›´æ¥æŒ‰ç…§ä¸‹æ ‡æ¥å–ArrayListä¸­çš„å…ƒç´ <br> 2.æŸ¥å€’æ’ï¼šç›´æ¥æŒ‰ç…§Keyï¼Œæ¥åŒºHashMapä¸­çš„å…ƒç´ <br> 3.æ·»åŠ æ–‡æ¡£ï¼Œä¾›Parserç±»è°ƒç”¨<br> a)æ„å»ºæ­£æ’ç´¢å¼•ï¼Œæ„é€ DocInfoå¯¹è±¡ï¼Œæ·»åŠ åˆ°ç´¢å¼•æœ«å°¾<br> b)æ„å»ºå€’æ’ç´¢å¼•ï¼Œå…ˆå¯¹æ ‡é¢˜ï¼Œæ­£æ–‡è¿›è¡Œåˆ†è¯æ“ä½œï¼Œç»Ÿè®¡è¯é¢‘ï¼Œæ·»åŠ åˆ°Mapä¸­å»<br> 4.ä¿å­˜ç´¢å¼•ï¼šåŸºäºjsonæ ¼å¼æŠŠç´¢å¼•æ•°æ®ä¿å­˜åˆ°æŒ‡å®šæ–‡ä»¶ä¸­ã€‚<br> 5.åŠ è½½ç´¢å¼•ï¼šåŸºäºjsonæ ¼å¼å¯¹æ•°æ®è¿›è¡Œè§£æï¼Œå­˜å…¥å†…å­˜ã€‚</font></p> 
<h2><a id="3_30"></a>3.æœç´¢æµç¨‹</h2> 
<ul><li>1.ã€åˆ†è¯ã€‘æ ¹æ®è¾“å…¥å†…å®¹è¿›è¡Œåˆ†è¯æ“ä½œ</li><li>2.ã€è§¦å‘ã€‘é’ˆå¯¹åˆ†è¯ç»“æœæ¥æŸ¥å€’æ’</li><li>3.ã€å»é‡ã€‘é’ˆå¯¹ç›¸åŒçš„æ–‡æ¡£è¿›è¡Œå»é‡</li><li>4.ã€æ’åºã€‘é’ˆå¯¹å»é‡ç»“æœæŒ‰ç…§æƒé‡æ’åº</li><li>5.ã€åŒ…è£…ã€‘é’ˆå¯¹æ’åºç»“æœæŸ¥æ­£ç‰Œï¼ŒåŒ…è£…ä¸ºResultè¿›è¡Œè¿”å›æ•°æ®</li></ul> 
<h3><a id="31_37"></a>3.1åˆ†è¯</h3> 
<p>åœ¨ä½¿ç”¨AnsjæŠ€æœ¯è¿›è¡Œåˆ†è¯æ“ä½œçš„æ—¶å€™ï¼Œä¼šæŠŠç©ºæ ¼ï¼Œä»¥åŠä¸€äº›é«˜é¢‘è¯ä¾‹å¦‚aï¼Œanï¼Œis ç­‰è¯è¯­éƒ½åˆ†å‡ºæ¥ï¼Œä½†è¿™äº›è¯è¯­å’Œæˆ‘ä»¬çš„æŸ¥è¯¢å†…å®¹å…³è”æ€§å¹¶ä¸å¤§ï¼Œæˆ‘ä»¬å°±å•ç‹¬ç½—åˆ—å‡ºæ¥ï¼Œè¿›è¡Œæ’é™¤ã€‚ç½‘ä¸Šæœ‰è®¸å¤šæš‚åœè¯è¡¨å¯ä»¥è‡ªè¡Œä¸‹è½½ï¼Œä¾‹å¦‚ï¼š<br> <img src="https://images2.imgbox.com/e4/4a/sck0saKa_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<pre><code class="prism language-java"><span class="token keyword">private</span> <span class="token keyword">static</span>  <span class="token class-name">String</span> <span class="token constant">STOP_WORD_PATH</span><span class="token operator">=</span><span class="token string">"D:/doc_searcher_index/stop_word.txt"</span><span class="token punctuation">;</span>
<span class="token keyword">private</span> <span class="token class-name">HashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> stopWords<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token class-name">DocSearcher</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        index<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">loadStopWords</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">loadStopWords</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">try</span> <span class="token punctuation">(</span><span class="token class-name">BufferedReader</span> bufferedReader<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">BufferedReader</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span><span class="token constant">STOP_WORD_PATH</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
           <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
               <span class="token class-name">String</span> line<span class="token operator">=</span>bufferedReader<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
               <span class="token keyword">if</span> <span class="token punctuation">(</span>line<span class="token operator">==</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                   <span class="token keyword">break</span><span class="token punctuation">;</span>
               <span class="token punctuation">}</span>
               stopWords<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>line<span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>    
<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Term</span><span class="token punctuation">&gt;</span></span> oldTerms<span class="token operator">=</span><span class="token class-name">ToAnalysis</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>query<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTerms</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Term</span><span class="token punctuation">&gt;</span></span> terms<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Term</span> term<span class="token operator">:</span>oldTerms<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>stopWords<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>term<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                <span class="token keyword">continue</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            terms<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>term<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>          
</code></pre> 
<h3><a id="32_70"></a>3.2è§¦å‘</h3> 
<pre><code class="prism language-java"> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">Weight</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> termResult<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Term</span> term<span class="token operator">:</span>terms<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token class-name">String</span> word<span class="token operator">=</span>term<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Weight</span><span class="token punctuation">&gt;</span></span> invertedList<span class="token operator">=</span>index<span class="token punctuation">.</span><span class="token function">getInverted</span><span class="token punctuation">(</span>word<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>invertedList<span class="token operator">==</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                <span class="token keyword">continue</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            termResult<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>invertedList<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
</code></pre> 
<h3><a id="33_83"></a>3.3å»é‡</h3> 
<p>å‰é¢ï¼Œæˆ‘ä»¬å¯¹ç”¨æˆ·è¾“å…¥çš„ç»“æœè¿›è¡Œè§¦å‘æ“ä½œçš„æ—¶å€™ï¼Œä¸€ä¸ªè¯å¯èƒ½å‡ºç°åœ¨å¤šä¸ªæ–‡æ¡£ä¸­ï¼ŒåŒç†ï¼Œä¸€ä¸ªæ–‡æ¡£ä¹Ÿå¯èƒ½å­˜åœ¨å¤šä¸ªåˆ†è¯ç»“æœï¼Œå¦‚æœæˆ‘ä»¬ä¸å¯¹ç›¸åŒçš„æ–‡æ¡£è¿›è¡Œå»é‡ï¼Œé‚£ä¹ˆä¸€ä¸ªæ–‡æ¡£é’ˆå¯¹ä¸åŒçš„åˆ†è¯ç»“æœå°±ä¼šå‡ºç°å¤šæ¬¡ï¼Œè¿™æ ·æ˜¾ç„¶ä¸åˆç†çš„ã€‚ç´¢å¼•æˆ‘ä»¬éœ€è¦å¯¹ç›¸åŒçš„æ–‡æ¡£è¿›è¡Œå»é‡ã€‚é‚£ä¹ˆå…·ä½“è¯¥å¦‚ä½•æ“ä½œå‘¢ï¼Ÿè§¦<strong>å‘çš„ç»“æœæ˜¯ä¸€ä¸ªäºŒç»´æ•°ç»„ï¼Œå¯ä»¥åˆ©ç”¨ä¸¤ä¸ªæœ‰åºæ•°ç»„æ’åºçš„æ€æƒ³è¿›è¡Œå»é‡ï¼Œåªä¸è¿‡è¿™é‡Œè¿ç”¨çš„æ˜¯å¤šä¸ªæœ‰åºæ•°ç»„æ’åºã€‚</strong></p> 
<ul><li>1.é’ˆå¯¹æ¯ä¸€è¡ŒæŒ‰ç…§å‡åºæ’åº</li><li>2.å€ŸåŠ©ä¼˜å…ˆçº§é˜Ÿåˆ—ï¼Œäº‰å¯¹å¤šä¸ªæœ‰åºæ•°ç»„è¿›è¡Œåˆå¹¶</li><li>3.åˆå§‹åŒ–é˜Ÿåˆ—ï¼ŒæŠŠæ¯ä¸€è¡Œç¬¬ä¸€ä¸ªå…ƒç´ æ”¾å…¥é˜Ÿåˆ—</li><li>4.å¾ªç¯çš„å–æ¯è¡Œé¦–ä¸ªå…ƒç´ ï¼Œé‡åˆ°ç›¸åŒçš„DocIdï¼Œæƒé‡ç›¸åŠ </li></ul> 
<pre><code class="prism language-java"> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Weight</span><span class="token punctuation">&gt;</span></span> allTermResult<span class="token operator">=</span><span class="token function">mergeResult</span><span class="token punctuation">(</span>termResult<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">Pos</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">public</span> <span class="token keyword">int</span> row<span class="token punctuation">;</span>
        <span class="token keyword">public</span> <span class="token keyword">int</span> col<span class="token punctuation">;</span>
        <span class="token keyword">public</span> <span class="token class-name">Pos</span><span class="token punctuation">(</span><span class="token keyword">int</span> row<span class="token punctuation">,</span> <span class="token keyword">int</span> col<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>row <span class="token operator">=</span> row<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>col <span class="token operator">=</span> col<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Weight</span><span class="token punctuation">&gt;</span></span> <span class="token function">mergeResult</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">Weight</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> source<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">//1.é’ˆå¯¹æ¯ä¸€è¡ŒæŒ‰ç…§å‡åºæ’åº</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Weight</span><span class="token punctuation">&gt;</span></span> curRow<span class="token operator">:</span>source<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            curRow<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Comparator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Weight</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token annotation punctuation">@Override</span>
                <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">compare</span><span class="token punctuation">(</span><span class="token class-name">Weight</span> o1<span class="token punctuation">,</span> <span class="token class-name">Weight</span> o2<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token keyword">return</span> o1<span class="token punctuation">.</span><span class="token function">getDocId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span>o2<span class="token punctuation">.</span><span class="token function">getDocId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token comment">//2.å€ŸåŠ©ä¼˜å…ˆçº§é˜Ÿåˆ—ï¼Œäº‰å¯¹å¤šä¸ªæœ‰åºæ•°ç»„è¿›è¡Œåˆå¹¶</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Weight</span><span class="token punctuation">&gt;</span></span> target<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token class-name">PriorityQueue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Pos</span><span class="token punctuation">&gt;</span></span> queue<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">PriorityQueue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Comparator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Pos</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          <span class="token annotation punctuation">@Override</span>
          <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">compare</span><span class="token punctuation">(</span><span class="token class-name">Pos</span> o1<span class="token punctuation">,</span> <span class="token class-name">Pos</span> o2<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
              <span class="token class-name">Weight</span> w1<span class="token operator">=</span>source<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>o1<span class="token punctuation">.</span>row<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>o1<span class="token punctuation">.</span>col<span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token class-name">Weight</span> w2<span class="token operator">=</span>source<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>o2<span class="token punctuation">.</span>row<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>o2<span class="token punctuation">.</span>col<span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token keyword">return</span> w1<span class="token punctuation">.</span><span class="token function">getDocId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span>w2<span class="token punctuation">.</span><span class="token function">getDocId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">//3.åˆå§‹åŒ–é˜Ÿåˆ—ï¼ŒæŠŠæ¯ä¸€è¡Œç¬¬ä¸€ä¸ªå…ƒç´ æ”¾å…¥é˜Ÿåˆ—</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> row<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>row<span class="token operator">&lt;</span>source<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>row<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            queue<span class="token punctuation">.</span><span class="token function">offer</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Pos</span><span class="token punctuation">(</span>row<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token comment">//å¾ªç¯çš„å–æ¯è¡Œé¦–ä¸ªå…ƒç´ </span>
      <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>queue<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
          <span class="token class-name">Pos</span> minPos<span class="token operator">=</span>queue<span class="token punctuation">.</span><span class="token function">poll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token class-name">Weight</span> curWeight<span class="token operator">=</span>source<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>minPos<span class="token punctuation">.</span>row<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>minPos<span class="token punctuation">.</span>col<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>target<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
              <span class="token class-name">Weight</span> lastWeight<span class="token operator">=</span>target<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token comment">//é‡åˆ°ç›¸åŒçš„æ–‡ç« ï¼Œæƒé‡ç›¸åŠ </span>
              <span class="token keyword">if</span> <span class="token punctuation">(</span>lastWeight<span class="token punctuation">.</span><span class="token function">getDocId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">==</span>curWeight<span class="token punctuation">.</span><span class="token function">getDocId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                  lastWeight<span class="token punctuation">.</span><span class="token function">setWeight</span><span class="token punctuation">(</span>lastWeight<span class="token punctuation">.</span><span class="token function">getWeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span>curWeight<span class="token punctuation">.</span><span class="token function">getWeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                  target<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>curWeight<span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
              target<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>curWeight<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
          <span class="token class-name">Pos</span> newPos<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Pos</span><span class="token punctuation">(</span>minPos<span class="token punctuation">.</span>row<span class="token punctuation">,</span>minPos<span class="token punctuation">.</span>col<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>newPos<span class="token punctuation">.</span>col<span class="token operator">&gt;=</span>source<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>newPos<span class="token punctuation">.</span>row<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
              <span class="token keyword">continue</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
          queue<span class="token punctuation">.</span><span class="token function">offer</span><span class="token punctuation">(</span>newPos<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> target<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

</code></pre> 
<h3><a id="34_149"></a>3.4æ’åº</h3> 
<pre><code class="prism language-java">  allTermResult<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Comparator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Weight</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">compare</span><span class="token punctuation">(</span><span class="token class-name">Weight</span> o1<span class="token punctuation">,</span> <span class="token class-name">Weight</span> o2<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token comment">//æŒ‰ç…§é™åºæ’åº</span>
                <span class="token keyword">return</span> o2<span class="token punctuation">.</span><span class="token function">getWeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span>o1<span class="token punctuation">.</span><span class="token function">getWeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h3><a id="35_160"></a>3.5åŒ…è£…</h3> 
<p>éœ€è¦æ³¨æ„çš„æ˜¯è¿”å›çš„ç»“æœä¸ºæ ‡é¢˜ï¼ŒURLï¼Œæè¿°ï¼Œè€Œæè¿°ä¸èƒ½ç›´æ¥æŠŠæ­£æ–‡è¿”å›ï¼Œè€Œæ˜¯è¿”å›ä¸€æ®µåŒ…å«ç”¨æˆ·åˆ†è¯ç»“æœçš„ä¸€å°æ®µæè¿°ã€‚ç”Ÿæˆæè¿°çš„æ€è·¯ï¼šå¯ä»¥å›å»åˆ°æ‰€æœ‰åˆ†è¯ç»“æœï¼Œéå†åˆ†è¯ç»“æœï¼Œçœ‹å“ªä¸ªç»“æœåœ¨æ­£æ–‡ä¸­å‡ºç°ï¼Œé‚£ä¹ˆç›´æ¥æˆªå–åˆ†è¯çš„å‰10ä¸ªå­—ç¬¦å’Œå160ä¸ªå­—ç¬¦æ¥è¿›è¡Œæè¿°ã€‚</p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Result</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> title<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> url<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> desc<span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token string">"Result{"</span> <span class="token operator">+</span>
                <span class="token string">"title='"</span> <span class="token operator">+</span> title <span class="token operator">+</span> <span class="token char">'\''</span> <span class="token operator">+</span>
                <span class="token string">", url='"</span> <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token char">'\''</span> <span class="token operator">+</span>
                <span class="token string">", desc='"</span> <span class="token operator">+</span> desc <span class="token operator">+</span> <span class="token char">'\''</span> <span class="token operator">+</span>
                <span class="token char">'}'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getTitle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> title<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setTitle</span><span class="token punctuation">(</span><span class="token class-name">String</span> title<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>title <span class="token operator">=</span> title<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> url<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setUrl</span><span class="token punctuation">(</span><span class="token class-name">String</span> url<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>url <span class="token operator">=</span> url<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getDesc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> desc<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setDesc</span><span class="token punctuation">(</span><span class="token class-name">String</span> desc<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>desc <span class="token operator">=</span> desc<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<pre><code class="prism language-java"><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Result</span><span class="token punctuation">&gt;</span></span> results<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Weight</span> weight<span class="token operator">:</span>allTermResult<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token class-name">DocInfo</span> docInfo<span class="token operator">=</span>index<span class="token punctuation">.</span><span class="token function">getDocInfo</span><span class="token punctuation">(</span>weight<span class="token punctuation">.</span><span class="token function">getDocId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">Result</span> result<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Result</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            result<span class="token punctuation">.</span><span class="token function">setTitle</span><span class="token punctuation">(</span>docInfo<span class="token punctuation">.</span><span class="token function">getTitle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            result<span class="token punctuation">.</span><span class="token function">setUrl</span><span class="token punctuation">(</span>docInfo<span class="token punctuation">.</span><span class="token function">getUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            result<span class="token punctuation">.</span><span class="token function">setDesc</span><span class="token punctuation">(</span><span class="token class-name">GenDesc</span><span class="token punctuation">(</span>docInfo<span class="token punctuation">.</span><span class="token function">getContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>terms<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            results<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
</code></pre> 
<pre><code class="prism language-java"><span class="token keyword">private</span> <span class="token class-name">String</span> <span class="token class-name">GenDesc</span><span class="token punctuation">(</span><span class="token class-name">String</span> content<span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Term</span><span class="token punctuation">&gt;</span></span> terms<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">int</span> firstPos<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Term</span> term<span class="token operator">:</span>terms<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token class-name">String</span> word<span class="token operator">=</span>term<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//é¿å…å‡ºç°wordå‰åå¸¦æœ‰æ ‡ç‚¹ç¬¦å·</span>
            content<span class="token operator">=</span>content<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span><span class="token string">"\\b"</span><span class="token operator">+</span>word<span class="token operator">+</span><span class="token string">"\\b"</span><span class="token punctuation">,</span><span class="token string">" "</span><span class="token operator">+</span>word<span class="token operator">+</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            firstPos<span class="token operator">=</span>content<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token operator">+</span>word<span class="token operator">+</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>firstPos<span class="token operator">&gt;=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>firstPos<span class="token operator">==</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>content<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">160</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                <span class="token keyword">return</span> content<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">160</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"..."</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> content<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">String</span> desc<span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> descBeg<span class="token operator">=</span>firstPos<span class="token operator">&lt;</span><span class="token number">60</span><span class="token operator">?</span><span class="token number">0</span><span class="token operator">:</span>firstPos<span class="token operator">-</span><span class="token number">60</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>descBeg<span class="token operator">+</span><span class="token number">160</span><span class="token operator">&gt;</span>content<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            desc<span class="token operator">=</span>content<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>descBeg<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            desc<span class="token operator">=</span>content<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>descBeg<span class="token punctuation">,</span>descBeg<span class="token operator">+</span><span class="token number">160</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"..."</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">//æŠŠæè¿°ä¸­å’Œåˆ†è¯ç»“æœç›¸åŒçš„éƒ¨åˆ†è®¾ç½®ä¸ºæ–œä½“åŠ ä¸Š&lt;i&gt;æ ‡ç­¾ï¼Œæ–¹ä¾¿å‰ç«¯æ ‡çº¢</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Term</span> term<span class="token operator">:</span>terms<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token class-name">String</span> word<span class="token operator">=</span>term<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//è¿›è¡Œå¿½ç•¥å¤§å°å†™çš„å…¨è¯åŒ¹é…</span>
            desc<span class="token operator">=</span>desc<span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span><span class="token string">"(?i) "</span><span class="token operator">+</span>word<span class="token operator">+</span><span class="token string">" "</span><span class="token punctuation">,</span><span class="token string">"&lt;i&gt; "</span><span class="token operator">+</span>word<span class="token operator">+</span><span class="token string">" &lt;/i&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> desc<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre> 
<h2><a id="4_244"></a>4.æ€»ç»“</h2> 
<blockquote> 
 <p>è¿™ç¯‡æ–‡ç« ä¸»è¦ä»‹ç»äº†ï¼Œæœç´¢å¼•æ“çš„æœé”æ¨¡å—ï¼Œè¿™éƒ¨åˆ†çš„éš¾ç‚¹ä¸»è¦æ˜¯å»é‡æ“ä½œï¼Œå»é‡çš„æ—¶å€™éœ€è¦ç”¨åˆ°æˆ‘ä»¬ä¹‹å‰å­¦è¿‡çš„æ•°æ®ç»“æ„ï¼Œå°æ ¹å †ç»“åˆå¤šä¸ªæœ‰åºæ•°ç»„å®Œæˆå»é‡æ“ä½œï¼</p> 
</blockquote> 
<p><code>ä¸‹æœŸé¢„å‘Šï¼šæœç´¢å¼•æ“ï¼ˆå››ï¼‰</code></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/31e8f3ac4c5851af96dc2cc56169906f/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">å¾®ä¿¡å°ç¨‹åºç•™è¨€æ¿1</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/0d3d9a9352ad8761548f36312b1e67a8/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">vueé¡¹ç›®è®¿é—® åŸŸå/index.html ç©ºé¡µé¢é—®é¢˜</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ç¼–ç¨‹å¤§å’–.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>