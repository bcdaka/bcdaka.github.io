<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>数据结构初阶最终讲：排序 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/5a06f8d2c005ee94a9b9c7d65dcfada6/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="数据结构初阶最终讲：排序">
  <meta property="og:description" content="数据结构初阶最终讲：排序 1.排序的概念及其运用1.1什么是排序1.2排序的运用1.3常见排序算法 2.冒泡排序3.直接插入排序4.堆排序5.测试代码：排序性能对比5.1直接插入排序时间复杂度分析 6.希尔排序6.1希尔排序时间复杂度分析 7.选择排序7.1初步思路7.2选择排序优化7.2.1初步实现7.2.2出错点17.2.3出错点27.2.4出错点37.2.5选择排序优化最终代码 7.3选择排序时间复杂度分析 8.快速排序--Hoare版本8.1.1代码的初步实现8.1.2错误点18.1.3错误点28.1.4错误点38.1.5错误点48.1.6错误点58.1.7错误点68.1.8错误点7 8.2Hoare版本快排最终代码8.3快速排序空间复杂度分析8.4快速排序时间复杂度分析8.4.1最优情况（平均情况）8.4.2最坏情况 8.5观察快速排序的排序时间 9.快速排序--挖坑法10.快速排序--lomuto前后指针11.快速排序--非递归版本12.归并排序12.1归并排序时间复杂度分析12.2归并排序空间复杂度分析 13.非比较排序--计数排序13.1非比较函数时间复杂度分析 14.排序算法复杂度以及稳定性分析 这一讲是数据结构初阶的最后一讲了，当然也是很有难度的一讲，是对于排序算法的总篇章，当然，会有其它更好的排序算法，但是对于初阶的数据结构来说，先学习这些就足够了
1.排序的概念及其运用 1.1什么是排序 排序，顾名思义，就是对一串数据，按照某个特定的顺序，将这一串数据进行有序排列的方法
1.2排序的运用 排序在我们日常生活中的使用十分广泛
当我们在网上购物，筛选自己心仪的产品时，就使用到了排序：
当我们在考试完后看自己的成绩排名时，也会用到排序：
1.3常见排序算法 下面是一些常见的排序算法，这一讲会将这些排序算法逐一实现
2.冒泡排序 冒泡排序对于教学来说很有意义，至少是我所学过的第一个排序算法，但是使用起来非常麻烦，它的时间复杂度为O(n^2)，是一个非常大的复杂度值了
//冒泡排序 void BubbleSort(int* arr, int n) { //冒泡排序十分经典，而且使用很少，所以不再讲解，这里只会作为一个对比 for (int i = 0; i &lt; n-1; i&#43;&#43;) { int def = 0; for (int j = 0; j &lt; n - i - 1; j&#43;&#43;) { if (arr[j] &gt; arr[j &#43; 1]) { Swap(&amp;arr[j], &amp;arr[j &#43; 1]); def = 1; } } //当没有一个数据交换时，表示已经排序完了，直接退出即可 if (def == 0) { break; } } } 3.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-08-09T14:01:26+08:00">
    <meta property="article:modified_time" content="2024-08-09T14:01:26+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">数据结构初阶最终讲：排序</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>数据结构初阶最终讲：排序</h4> 
 <ul><li><a href="#1_3" rel="nofollow">1.排序的概念及其运用</a></li><li><ul><li><a href="#11_4" rel="nofollow">1.1什么是排序</a></li><li><a href="#12_6" rel="nofollow">1.2排序的运用</a></li><li><a href="#13_14" rel="nofollow">1.3常见排序算法</a></li></ul> 
  </li><li><a href="#2_19" rel="nofollow">2.冒泡排序</a></li><li><a href="#3_47" rel="nofollow">3.直接插入排序</a></li><li><a href="#4_86" rel="nofollow">4.堆排序</a></li><li><a href="#5_175" rel="nofollow">5.测试代码：排序性能对比</a></li><li><ul><li><a href="#51_258" rel="nofollow">5.1直接插入排序时间复杂度分析</a></li></ul> 
  </li><li><a href="#6_290" rel="nofollow">6.希尔排序</a></li><li><ul><li><a href="#61_341" rel="nofollow">6.1希尔排序时间复杂度分析</a></li></ul> 
  </li><li><a href="#7_352" rel="nofollow">7.选择排序</a></li><li><ul><li><a href="#71_353" rel="nofollow">7.1初步思路</a></li><li><a href="#72_381" rel="nofollow">7.2选择排序优化</a></li><li><ul><li><a href="#721_382" rel="nofollow">7.2.1初步实现</a></li><li><a href="#7221_417" rel="nofollow">7.2.2出错点1</a></li><li><a href="#7232_451" rel="nofollow">7.2.3出错点2</a></li><li><a href="#7243_490" rel="nofollow">7.2.4出错点3</a></li><li><a href="#725_531" rel="nofollow">7.2.5选择排序优化最终代码</a></li></ul> 
   </li><li><a href="#73_569" rel="nofollow">7.3选择排序时间复杂度分析</a></li></ul> 
  </li><li><a href="#8Hoare_574" rel="nofollow">8.快速排序--Hoare版本</a></li><li><ul><li><ul><li><a href="#811_578" rel="nofollow">8.1.1代码的初步实现</a></li><li><a href="#8121_627" rel="nofollow">8.1.2错误点1</a></li><li><a href="#8132_638" rel="nofollow">8.1.3错误点2</a></li><li><a href="#8143_652" rel="nofollow">8.1.4错误点3</a></li><li><a href="#8154_670" rel="nofollow">8.1.5错误点4</a></li><li><a href="#8165_691" rel="nofollow">8.1.6错误点5</a></li><li><a href="#8176_713" rel="nofollow">8.1.7错误点6</a></li><li><a href="#8187_727" rel="nofollow">8.1.8错误点7</a></li></ul> 
   </li><li><a href="#82Hoare_738" rel="nofollow">8.2Hoare版本快排最终代码</a></li><li><a href="#83_801" rel="nofollow">8.3快速排序空间复杂度分析</a></li><li><a href="#84_805" rel="nofollow">8.4快速排序时间复杂度分析</a></li><li><ul><li><a href="#841_806" rel="nofollow">8.4.1最优情况（平均情况）</a></li><li><a href="#842_808" rel="nofollow">8.4.2最坏情况</a></li></ul> 
   </li><li><a href="#85_810" rel="nofollow">8.5观察快速排序的排序时间</a></li></ul> 
  </li><li><a href="#9_817" rel="nofollow">9.快速排序--挖坑法</a></li><li><a href="#10lomuto_875" rel="nofollow">10.快速排序--lomuto前后指针</a></li><li><a href="#11_916" rel="nofollow">11.快速排序--非递归版本</a></li><li><a href="#12_980" rel="nofollow">12.归并排序</a></li><li><ul><li><a href="#121_1053" rel="nofollow">12.1归并排序时间复杂度分析</a></li><li><a href="#122_1055" rel="nofollow">12.2归并排序空间复杂度分析</a></li></ul> 
  </li><li><a href="#13_1057" rel="nofollow">13.非比较排序--计数排序</a></li><li><ul><li><a href="#131_1110" rel="nofollow">13.1非比较函数时间复杂度分析</a></li></ul> 
  </li><li><a href="#14_1151" rel="nofollow">14.排序算法复杂度以及稳定性分析</a></li></ul> 
</div> 
<p></p> 
<blockquote> 
 <p>这一讲是数据结构初阶的最后一讲了，当然也是很有难度的一讲，是对于排序算法的总篇章，当然，会有其它更好的排序算法，但是对于初阶的数据结构来说，先学习这些就足够了</p> 
</blockquote> 
<h2><a id="1_3"></a>1.排序的概念及其运用</h2> 
<h3><a id="11_4"></a>1.1什么是排序</h3> 
<blockquote> 
 <p>排序，顾名思义，就是对一串数据，按照某个特定的顺序，将这一串数据进行有序排列的方法</p> 
</blockquote> 
<h3><a id="12_6"></a>1.2排序的运用</h3> 
<blockquote> 
 <p>排序在我们日常生活中的使用十分广泛</p> 
</blockquote> 
<p>当我们在网上购物，筛选自己心仪的产品时，就使用到了排序：<br> <img src="https://images2.imgbox.com/8f/a1/Uh5AMP2P_o.png" alt="在这里插入图片描述"><br> 当我们在考试完后看自己的成绩排名时，也会用到排序：<br> <img src="https://images2.imgbox.com/22/24/qdJ3RiOH_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="13_14"></a>1.3常见排序算法</h3> 
<blockquote> 
 <p>下面是一些常见的排序算法，这一讲会将这些排序算法逐一实现</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/9b/82/6Kq2ym5x_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="2_19"></a>2.冒泡排序</h2> 
<blockquote> 
 <p>冒泡排序对于教学来说很有意义，至少是我所学过的第一个排序算法，但是使用起来非常麻烦，它的时间复杂度为O(n^2)，是一个非常大的复杂度值了</p> 
</blockquote> 
<pre><code class="prism language-c"><span class="token comment">//冒泡排序</span>
<span class="token keyword">void</span> <span class="token function">BubbleSort</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> arr<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">//冒泡排序十分经典，而且使用很少，所以不再讲解，这里只会作为一个对比</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">int</span> def <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> n <span class="token operator">-</span> i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&gt;</span> arr<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token function">Swap</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>arr<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				def <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		<span class="token comment">//当没有一个数据交换时，表示已经排序完了，直接退出即可</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>def <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="3_47"></a>3.直接插入排序</h2> 
<p><img src="https://images2.imgbox.com/1b/61/94ilgYHg_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/9b/38/scjmanIJ_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/cd/4c/y8hZPM6m_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>上面是害怕大图会看不清，所以分成了三个小图，下面放大图：<br> <img src="https://images2.imgbox.com/92/4e/Gq0GpBC9_o.png" alt="blog.csdnimg.cn/direct/d0840dab5c474e618981bcc87c598e5f.png)"></p> 
</blockquote> 
<p>我们会惊奇地发现，这个算法竟然和我们打扑克牌时整牌的操作一样！（至少和我是一样的）：</p> 
<p><img src="https://images2.imgbox.com/0f/74/hDSZGKVZ_o.png" alt="在这里插入图片描述"></p> 
<p>下面我们来使用代码实现这个思路：</p> 
<pre><code class="prism language-c"><span class="token comment">//直接插入排序</span>
<span class="token keyword">void</span> <span class="token function">InsertSort</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> arr<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">int</span> end <span class="token operator">=</span> i<span class="token punctuation">;</span>
		<span class="token keyword">int</span> tmp <span class="token operator">=</span> arr<span class="token punctuation">[</span>end <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>end <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>end<span class="token punctuation">]</span> <span class="token operator">&gt;</span> tmp<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				arr<span class="token punctuation">[</span>end <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>end<span class="token punctuation">]</span><span class="token punctuation">;</span>
				end<span class="token operator">--</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">else</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token keyword">break</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		arr<span class="token punctuation">[</span>end <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> tmp<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="4_86"></a>4.堆排序</h2> 
<blockquote> 
 <p>之前我们已经实现过堆排序了，所以这里也不再详细说明堆排序，直接将代码拿过来：</p> 
</blockquote> 
<p>链接: <a href="http://t.csdnimg.cn/BqOJt" rel="nofollow">堆排序链接</a></p> 
<pre><code class="prism language-c"><span class="token comment">//交换函数</span>
<span class="token keyword">void</span> <span class="token function">Swap</span><span class="token punctuation">(</span>HeapDataType<span class="token operator">*</span> x<span class="token punctuation">,</span> HeapDataType<span class="token operator">*</span> y<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	HeapDataType tmp <span class="token operator">=</span> <span class="token operator">*</span>x<span class="token punctuation">;</span>
	<span class="token operator">*</span>x <span class="token operator">=</span> <span class="token operator">*</span>y<span class="token punctuation">;</span>
	<span class="token operator">*</span>y <span class="token operator">=</span> tmp<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//堆的向上排序</span>
<span class="token keyword">void</span> <span class="token function">ADJustUp</span><span class="token punctuation">(</span>HeapDataType<span class="token operator">*</span> arr<span class="token punctuation">,</span> <span class="token keyword">int</span> child<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> father <span class="token operator">=</span> <span class="token punctuation">(</span>child <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>child <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token comment">//建大堆：&gt;</span>
		<span class="token comment">//建小堆：&lt;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>child<span class="token punctuation">]</span> <span class="token operator">&lt;</span> arr<span class="token punctuation">[</span>father<span class="token punctuation">]</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token function">Swap</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>arr<span class="token punctuation">[</span>child<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>arr<span class="token punctuation">[</span>father<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			child <span class="token operator">=</span> father<span class="token punctuation">;</span>
			father <span class="token operator">=</span> <span class="token punctuation">(</span>child <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//堆的向下排序</span>
<span class="token keyword">void</span> <span class="token function">ADJustDown</span><span class="token punctuation">(</span>HeapDataType<span class="token operator">*</span> arr<span class="token punctuation">,</span> <span class="token keyword">int</span> father<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> child <span class="token operator">=</span> father <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>child <span class="token operator">&lt;</span> n<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token comment">//大堆：寻找左右孩子中最大的那个孩子</span>
		<span class="token comment">//小堆：寻找左右孩子中最小的那个孩子</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>child <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&lt;</span> n <span class="token operator">&amp;&amp;</span> arr<span class="token punctuation">[</span>child<span class="token punctuation">]</span> <span class="token operator">&lt;</span> arr<span class="token punctuation">[</span>child <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			child <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token comment">//如果目标数据小/大的话，将最大的那个孩子与目标数据进行交换</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>father<span class="token punctuation">]</span> <span class="token operator">&lt;</span> arr<span class="token punctuation">[</span>child<span class="token punctuation">]</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token function">Swap</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>arr<span class="token punctuation">[</span>father<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>arr<span class="token punctuation">[</span>child<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			father <span class="token operator">=</span> child<span class="token punctuation">;</span>
			child <span class="token operator">=</span> father <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//堆排序</span>
<span class="token keyword">void</span> <span class="token function">HeapSort</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> arr<span class="token punctuation">,</span> <span class="token keyword">int</span> sz<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">//首先需要一个数据一个数据地拿出来，创建一个堆</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> sz<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">ADJustUp</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">//向下调整算法建堆</span>
	<span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token punctuation">(</span>sz <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> n<span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">ADJustDown</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> i<span class="token punctuation">,</span> sz<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">//先交换数据</span>
	<span class="token keyword">int</span> end <span class="token operator">=</span> sz<span class="token punctuation">;</span>
	<span class="token keyword">while</span><span class="token punctuation">(</span>end <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">Swap</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>arr<span class="token punctuation">[</span>end <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		end<span class="token operator">--</span><span class="token punctuation">;</span>
		<span class="token comment">//然后对堆中第一个数据进行向下排序</span>
		<span class="token function">ADJustDown</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> end<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="5_175"></a>5.测试代码：排序性能对比</h2> 
<blockquote> 
 <p>已经有了三种排序代码，哪一种排序的效率是最高的才是我们最想要看到的，所以我们需要一个测试排序性能的代码：</p> 
</blockquote> 
<pre><code class="prism language-c"><span class="token comment">// 测试排序的性能对⽐</span>
<span class="token keyword">void</span> <span class="token function">TestOP</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">//-------------------1.----------------------</span>
	<span class="token comment">//1,这里代表着生成十万个数据，方便后序进行排序</span>
	<span class="token comment">//a1、a2、a3分别指代不同的排序方法</span>
	<span class="token function">srand</span><span class="token punctuation">(</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">const</span> <span class="token keyword">int</span> N <span class="token operator">=</span> <span class="token number">100000</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span><span class="token operator">*</span> a1 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">*</span> N<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">/*int* a2 = (int*)malloc(sizeof(int) * N);
	int* a3 = (int*)malloc(sizeof(int) * N);*/</span>
	<span class="token keyword">int</span><span class="token operator">*</span> a4 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">*</span> N<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">/*int* a5 = (int*)malloc(sizeof(int) * N);
	int* a6 = (int*)malloc(sizeof(int) * N);*/</span>
	<span class="token keyword">int</span><span class="token operator">*</span> a7 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">*</span> N<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> N<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		a1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">/*a2[i] = a1[i];
		a3[i] = a1[i];*/</span>
		a4<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> a1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token comment">/*a5[i] = a1[i];
		a6[i] = a1[i];*/</span>
		a7<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> a1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//-------------------1.----------------------</span>
	<span class="token comment">//-------------------2.----------------------</span>
	<span class="token comment">//2.clock是一个C语言中的函数，可以返回从程序开始运行到系现在所用的时间</span>
	<span class="token comment">//用begin2 - begin1就可以得出算法运行的时间了</span>
	<span class="token keyword">int</span> begin1 <span class="token operator">=</span> <span class="token function">clock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">InsertSort</span><span class="token punctuation">(</span>a1<span class="token punctuation">,</span> N<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> end1 <span class="token operator">=</span> <span class="token function">clock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">/*int begin2 = clock();
	ShellSort(a2, N);
	int end2 = clock();

	int begin3 = clock();
	SelectSort(a3, N);
	int end3 = clock();*/</span>

	<span class="token keyword">int</span> begin4 <span class="token operator">=</span> <span class="token function">clock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">HeapSort</span><span class="token punctuation">(</span>a4<span class="token punctuation">,</span> N<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> end4 <span class="token operator">=</span> <span class="token function">clock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">/*int begin5 = clock();
	QuickSort(a5, 0, N - 1);
	int end5 = clock();

	int begin6 = clock();
	MergeSort(a6, N);
	int end6 = clock();*/</span>

	<span class="token keyword">int</span> begin7 <span class="token operator">=</span> <span class="token function">clock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">BubbleSort</span><span class="token punctuation">(</span>a7<span class="token punctuation">,</span> N<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> end7 <span class="token operator">=</span> <span class="token function">clock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//-------------------2.----------------------</span>
	<span class="token comment">//-------------------3.----------------------</span>
	<span class="token comment">//3.最后将得出的时间进行打印并且销毁空间即可</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"InsertSort:%d\n"</span><span class="token punctuation">,</span> end1 <span class="token operator">-</span> begin1<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">/*printf("ShellSort:%d\n", end2 - begin2);
	printf("SelectSort:%d\n", end3 - begin3);*/</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"HeapSort:%d\n"</span><span class="token punctuation">,</span> end4 <span class="token operator">-</span> begin4<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">/*printf("QuickSort:%d\n", end5 - begin5);
	printf("MergeSort:%d\n", end6 - begin6);*/</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"BubbleSort:%d\n"</span><span class="token punctuation">,</span> end7 <span class="token operator">-</span> begin7<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">free</span><span class="token punctuation">(</span>a1<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">/*free(a2);
	free(a3);*/</span>
	<span class="token function">free</span><span class="token punctuation">(</span>a4<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">/*free(a5);
	free(a6);*/</span>
	<span class="token function">free</span><span class="token punctuation">(</span>a7<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//-------------------3.----------------------</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>拥有了检测排序性能的函数之后，我们就可以直观地看出不同排序算法之间的效率差异了：<br> <img src="https://images2.imgbox.com/b0/f7/2Lxc4Jpq_o.png" alt="在这里插入图片描述"><br> 时间单位为毫秒，可以看出，冒泡排序竟然用了15秒！真是夸张，所以冒泡排序还是不足以应对生活中的排序的</p> 
<h3><a id="51_258"></a>5.1直接插入排序时间复杂度分析</h3> 
<pre><code class="prism language-c"><span class="token comment">//直接插入排序</span>
<span class="token keyword">void</span> <span class="token function">InsertSort</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> arr<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token comment">//当外层循环一次时，内层循环最坏要交换i+1次，也就是下面的那样：</span>
		<span class="token comment">//i        0  1  2  3  4  5  ...  n-1</span>
		<span class="token comment">//循环次数 1  2  3  4  5  6  ...  n</span>
		<span class="token comment">//循环次数是等差数列，求和并分析可以得出它的时间复杂度为O(n^2)</span>
		<span class="token comment">//但是这个最坏情况是很难达到的，而冒泡排序两层循环，而且一一对比，为什么效率低很容易理解</span>
		<span class="token keyword">int</span> end <span class="token operator">=</span> i<span class="token punctuation">;</span>
		<span class="token keyword">int</span> tmp <span class="token operator">=</span> arr<span class="token punctuation">[</span>end <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>end <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>end<span class="token punctuation">]</span> <span class="token operator">&gt;</span> tmp<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				arr<span class="token punctuation">[</span>end <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>end<span class="token punctuation">]</span><span class="token punctuation">;</span>
				end<span class="token operator">--</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">else</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token keyword">break</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		arr<span class="token punctuation">[</span>end <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> tmp<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>直接插入排序的时间消耗已经很不错了，但是还有一个人不满足，他想要优化插入排序，让插入排序更块，它就是希尔排序，我们来看：</p> 
<h2><a id="6_290"></a>6.希尔排序</h2> 
<p><img src="https://images2.imgbox.com/6e/94/DjczeixS_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/c9/ae/yNKTjTAV_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/e2/bc/IyZTb5ww_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/a2/a1/RO4k4vhB_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/68/c2/G9YCyfhv_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/2b/6c/sckN0Zjh_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>然后是大图：<br> <img src="https://images2.imgbox.com/2a/be/nL0u5Bos_o.png" alt="在这里插入图片描述"></p> 
</blockquote> 
<p>代码实现：</p> 
<pre><code class="prism language-c"><span class="token comment">//希尔排序</span>
<span class="token keyword">void</span> <span class="token function">ShellSort</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> arr<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> gap <span class="token operator">=</span> n<span class="token punctuation">;</span>
	<span class="token keyword">while</span><span class="token punctuation">(</span>gap <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token comment">//当gap为3时，gap/3=1，所以刚循环一次就跳出循环，显然是不合理的，所以这里要+1</span>
		gap <span class="token operator">=</span> gap <span class="token operator">/</span> <span class="token number">3</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
		<span class="token comment">//注意：这里要考虑for循环中i的结束条件为什么是i&lt;n-gap而不是i&lt;n</span>
		<span class="token comment">//当i = n-gap时，end+gap = n，此时已经发生了越界，所以i应该小于n-gap</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n <span class="token operator">-</span> gap<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">int</span> end <span class="token operator">=</span> i<span class="token punctuation">;</span>
			<span class="token keyword">int</span> tmp <span class="token operator">=</span> arr<span class="token punctuation">[</span>end <span class="token operator">+</span> gap<span class="token punctuation">]</span><span class="token punctuation">;</span>
			<span class="token keyword">while</span> <span class="token punctuation">(</span>end <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>end<span class="token punctuation">]</span> <span class="token operator">&gt;</span> tmp<span class="token punctuation">)</span>
				<span class="token punctuation">{<!-- --></span>
					arr<span class="token punctuation">[</span>end <span class="token operator">+</span> gap<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>end<span class="token punctuation">]</span><span class="token punctuation">;</span>
					end <span class="token operator">-=</span> gap<span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				<span class="token keyword">else</span>
				<span class="token punctuation">{<!-- --></span>
					<span class="token keyword">break</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
			arr<span class="token punctuation">[</span>end <span class="token operator">+</span> gap<span class="token punctuation">]</span> <span class="token operator">=</span> tmp<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>此时我们再来看一下运行时间：<br> <img src="https://images2.imgbox.com/00/d0/Ks95H5rs_o.png" alt="在这里插入图片描述"><br> 竟然是11秒，比堆排序花费的时间还少了，是不是很振奋！！！</p> 
<h3><a id="61_341"></a>6.1希尔排序时间复杂度分析</h3> 
<blockquote> 
 <p>对于希尔排序的时间复杂度的求解到目前仍然是一个相对困难的事，但是它的时间复杂度大约是n的1.3次方，这是由大量数据平均得来的：<br> <img src="https://images2.imgbox.com/52/f2/wtbFph92_o.png" alt="在这里插入图片描述"></p> 
</blockquote> 
<p>现在我们进行简单的推导：<br> <img src="https://images2.imgbox.com/20/3d/nX88tNjP_o.png" alt="在这里插入图片描述"><img src="https://images2.imgbox.com/2c/e6/7kwJwSHP_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/5a/ad/TQYScduk_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p><img src="https://images2.imgbox.com/9b/73/m63IF2Oc_o.png" alt="在这里插入图片描述"></p> 
</blockquote> 
<h2><a id="7_352"></a>7.选择排序</h2> 
<h3><a id="71_353"></a>7.1初步思路</h3> 
<blockquote> 
 <p>初步实现思路就是选择最小的数据，将最小的数据往前移</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/af/3b/FYxyFm6M_o.png" alt="在这里插入图片描述"><br> 代码实现：</p> 
<pre><code class="prism language-c"><span class="token comment">//选择排序</span>
<span class="token keyword">void</span> <span class="token function">SelectSort</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> arr<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">//这里的i就能够充当begin的作用，所以不用创建变量begin</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">int</span> mini <span class="token operator">=</span> i<span class="token punctuation">;</span>
		<span class="token comment">//先寻找最小的数据的下标</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;</span> arr<span class="token punctuation">[</span>mini<span class="token punctuation">]</span><span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				mini <span class="token operator">=</span> j<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		<span class="token comment">//找到最小的元素之后，交换</span>
		<span class="token function">Swap</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>arr<span class="token punctuation">[</span>mini<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="72_381"></a>7.2选择排序优化</h3> 
<h4><a id="721_382"></a>7.2.1初步实现</h4> 
<blockquote> 
 <p>上一个实现思路的时间复杂度为o(n^2)，非常的不好，所以我们要进行优化：再创建一个指针，保存最大的数据，将小数据和大数据一起排列：</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/01/b6/rdLfTRve_o.png" alt="在这里插入图片描述"><br> 代码实现：</p> 
<pre><code class="prism language-c"><span class="token comment">//选择排序--优化后--初步实现</span>
<span class="token keyword">void</span> <span class="token function">SelectSort</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> arr<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> begin <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> end <span class="token operator">=</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>begin <span class="token operator">&lt;</span> end<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">int</span> mini <span class="token operator">=</span> begin<span class="token punctuation">;</span>
		<span class="token keyword">int</span> maxi <span class="token operator">=</span> begin<span class="token punctuation">;</span>
		<span class="token comment">//寻找最大和最小的数据</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> begin<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> arr<span class="token punctuation">[</span>maxi<span class="token punctuation">]</span><span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				maxi <span class="token operator">=</span> i<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> arr<span class="token punctuation">[</span>mini<span class="token punctuation">]</span><span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				mini <span class="token operator">=</span> i<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		<span class="token comment">//然后将大小数据插入到合适的位置</span>
		<span class="token function">Swap</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>arr<span class="token punctuation">[</span>begin<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>arr<span class="token punctuation">[</span>mini<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">Swap</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>arr<span class="token punctuation">[</span>end<span class="token operator">--</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>arr<span class="token punctuation">[</span>maxi<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>然而，当我们对数据进行排序时，我们会发现：出错了！！！为什么呢？我们来探讨一下：</p> 
<h4><a id="7221_417"></a>7.2.2出错点1</h4> 
<blockquote> 
 <p>查找时应该在begin–end范围内查找，而不是begin–n范围<br> <img src="https://images2.imgbox.com/83/ad/LeeMmLvp_o.png" alt="在这里插入图片描述"></p> 
</blockquote> 
<pre><code class="prism language-c"><span class="token comment">//选择排序--优化后</span>
<span class="token keyword">void</span> <span class="token function">SelectSort</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> arr<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> begin <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> end <span class="token operator">=</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>begin <span class="token operator">&lt;</span> end<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">int</span> mini <span class="token operator">=</span> begin<span class="token punctuation">;</span>
		<span class="token keyword">int</span> maxi <span class="token operator">=</span> begin<span class="token punctuation">;</span>
		<span class="token comment">//寻找最大和最小的数据</span>
		<span class="token comment">//更改点1：查找范围出错，i&lt;n ---&gt; i&lt;end</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> begin<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> end<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> arr<span class="token punctuation">[</span>maxi<span class="token punctuation">]</span><span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				maxi <span class="token operator">=</span> i<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> arr<span class="token punctuation">[</span>mini<span class="token punctuation">]</span><span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				mini <span class="token operator">=</span> i<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		<span class="token comment">//然后将大小数据插入到合适的位置</span>
		<span class="token function">Swap</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>arr<span class="token punctuation">[</span>begin<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>arr<span class="token punctuation">[</span>mini<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">Swap</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>arr<span class="token punctuation">[</span>end<span class="token operator">--</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>arr<span class="token punctuation">[</span>maxi<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="7232_451"></a>7.2.3出错点2</h4> 
<p><img src="https://images2.imgbox.com/af/1e/k9qS2rR6_o.png" alt="在这里插入图片描述"><br> 代码实现：</p> 
<pre><code class="prism language-c"><span class="token comment">//选择排序--优化后</span>
<span class="token keyword">void</span> <span class="token function">SelectSort</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> arr<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> begin <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> end <span class="token operator">=</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>begin <span class="token operator">&lt;</span> end<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">int</span> mini <span class="token operator">=</span> begin<span class="token punctuation">;</span>
		<span class="token keyword">int</span> maxi <span class="token operator">=</span> begin<span class="token punctuation">;</span>
		<span class="token comment">//寻找最大和最小的数据</span>
		<span class="token comment">//更改点1：查找范围出错，i&lt;n ---&gt; i&lt;end</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> begin<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> end<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> arr<span class="token punctuation">[</span>maxi<span class="token punctuation">]</span><span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				maxi <span class="token operator">=</span> i<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> arr<span class="token punctuation">[</span>mini<span class="token punctuation">]</span><span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				mini <span class="token operator">=</span> i<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		<span class="token comment">//出错点2：考虑maxi==begin的情况</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>maxi <span class="token operator">==</span> begin<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			maxi <span class="token operator">=</span> mini<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token comment">//然后将大小数据插入到合适的位置</span>
		<span class="token function">Swap</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>arr<span class="token punctuation">[</span>begin<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>arr<span class="token punctuation">[</span>mini<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">Swap</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>arr<span class="token punctuation">[</span>end<span class="token operator">--</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>arr<span class="token punctuation">[</span>maxi<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="7243_490"></a>7.2.4出错点3</h4> 
<blockquote> 
 <p>这个出错点和第一个出错点的位置一样，i的范围应该包括end，i&lt;end是错的，只能是i&lt;=end</p> 
</blockquote> 
<p>代码更正：</p> 
<pre><code class="prism language-c"><span class="token comment">//选择排序--优化后</span>
<span class="token keyword">void</span> <span class="token function">SelectSort</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> arr<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> begin <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> end <span class="token operator">=</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>begin <span class="token operator">&lt;</span> end<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">int</span> mini <span class="token operator">=</span> begin<span class="token punctuation">;</span>
		<span class="token keyword">int</span> maxi <span class="token operator">=</span> begin<span class="token punctuation">;</span>
		<span class="token comment">//寻找最大和最小的数据</span>
		<span class="token comment">//更改点1：查找范围出错，i&lt;n ---&gt; i&lt;end</span>
		<span class="token comment">//出错点3：i应该&lt;=end</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> begin<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> end<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> arr<span class="token punctuation">[</span>maxi<span class="token punctuation">]</span><span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				maxi <span class="token operator">=</span> i<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> arr<span class="token punctuation">[</span>mini<span class="token punctuation">]</span><span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				mini <span class="token operator">=</span> i<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		<span class="token comment">//出错点2：考虑maxi==begin的情况</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>maxi <span class="token operator">==</span> begin<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			maxi <span class="token operator">=</span> mini<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token comment">//然后将大小数据插入到合适的位置</span>
		<span class="token function">Swap</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>arr<span class="token punctuation">[</span>begin<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>arr<span class="token punctuation">[</span>mini<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">Swap</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>arr<span class="token punctuation">[</span>end<span class="token operator">--</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>arr<span class="token punctuation">[</span>maxi<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="725_531"></a>7.2.5选择排序优化最终代码</h4> 
<pre><code class="prism language-c"><span class="token comment">//选择排序--优化后</span>
<span class="token keyword">void</span> <span class="token function">SelectSort</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> arr<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> begin <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> end <span class="token operator">=</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>begin <span class="token operator">&lt;</span> end<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">int</span> mini <span class="token operator">=</span> begin<span class="token punctuation">;</span>
		<span class="token keyword">int</span> maxi <span class="token operator">=</span> begin<span class="token punctuation">;</span>
		<span class="token comment">//寻找最大和最小的数据</span>
		<span class="token comment">//更改点1：查找范围出错，i&lt;n ---&gt; i&lt;end</span>
		<span class="token comment">//出错点3：i应该&lt;=end</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> begin<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> end<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> arr<span class="token punctuation">[</span>maxi<span class="token punctuation">]</span><span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				maxi <span class="token operator">=</span> i<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> arr<span class="token punctuation">[</span>mini<span class="token punctuation">]</span><span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				mini <span class="token operator">=</span> i<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		<span class="token comment">//出错点2：考虑maxi==begin的情况</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>maxi <span class="token operator">==</span> begin<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			maxi <span class="token operator">=</span> mini<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token comment">//然后将大小数据插入到合适的位置</span>
		<span class="token function">Swap</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>arr<span class="token punctuation">[</span>begin<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>arr<span class="token punctuation">[</span>mini<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">Swap</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>arr<span class="token punctuation">[</span>end<span class="token operator">--</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>arr<span class="token punctuation">[</span>maxi<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="73_569"></a>7.3选择排序时间复杂度分析</h3> 
<blockquote> 
 <p>选择排序外循环每次循环一次，内循环都要走一遍，所以它的时间复杂度为O(n^2)，时间复杂度太差，所以一般不用这个排序，只是让我们了解这个排序，并且直到这个排序算法并不理想，接着我们看一下排十万个数据的时间吧：</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/6e/99/scmBVoOC_o.png" alt="在这里插入图片描述"><br> 可以看出，当冒泡排序时间才为4秒时，选择排序就排了3秒，所以说不好用，下面我们就要讲一个排序的"神"算法–快速排序，也就是我们熟知的快排</p> 
<h2><a id="8Hoare_574"></a>8.快速排序–Hoare版本</h2> 
<p><img src="https://images2.imgbox.com/11/f9/Gn8yv2FP_o.png" alt="在这里插入图片描述"><br> 看起来十分难懂啊，我们不用管这些，让我画图进行理解：<br> <img src="https://images2.imgbox.com/a7/a4/2txcbhmR_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="811_578"></a>8.1.1代码的初步实现</h4> 
<pre><code class="prism language-c"><span class="token comment">//快速排序</span>
<span class="token comment">//寻找基值的函数，返回基值的下标</span>
<span class="token keyword">int</span> <span class="token function">_QuickSort</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> arr<span class="token punctuation">,</span> <span class="token keyword">int</span> left<span class="token punctuation">,</span> <span class="token keyword">int</span> right<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> key <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>left <span class="token operator">&lt;=</span> right<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token comment">//找出比基值大的数据</span>
		<span class="token keyword">while</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>left<span class="token punctuation">]</span> <span class="token operator">&lt;</span> arr<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token comment">//当找到的数据比基值小时，往后找，直到找到比基值大的数据</span>
			left<span class="token operator">++</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token comment">//找出比基值小的数据</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>right<span class="token punctuation">]</span> <span class="token operator">&gt;</span> arr<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token comment">//当找到的数据比基值大时，往前找，直到找到比基值小的数据</span>
			right<span class="token operator">--</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token comment">//然后将大小数据进行交换</span>
		<span class="token function">Swap</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>arr<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>arr<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//最后将基值赋值到right，right就成为了基值下标</span>
	<span class="token function">Swap</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>arr<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>arr<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> right<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//与其他排序方法不同，这里应该传入数组、排序区域的左区间、排序区域的右区间</span>
<span class="token keyword">void</span> <span class="token function">QuickSort</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> arr<span class="token punctuation">,</span> <span class="token keyword">int</span> left<span class="token punctuation">,</span> <span class="token keyword">int</span> right<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">//递归结束条件</span>
	<span class="token comment">//当left和right重合时，表示此时只有一个结点，退出递归</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>left <span class="token operator">&gt;=</span> right<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">//寻找基值</span>
	<span class="token keyword">int</span> key <span class="token operator">=</span> <span class="token function">_QuickSort</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> left<span class="token punctuation">,</span> right<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">//递归寻找基值</span>
	<span class="token function">QuickSort</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> left<span class="token punctuation">,</span> key<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">QuickSort</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> key <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> right<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="8121_627"></a>8.1.2错误点1</h4> 
<p>第五行代码我们竟然就已经出错了，做题一定要仔细！</p> 
<pre><code class="prism language-c"><span class="token comment">//快速排序</span>
<span class="token comment">//寻找基值的函数，返回基值的下标</span>
<span class="token keyword">int</span> <span class="token function">_QuickSort</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> arr<span class="token punctuation">,</span> <span class="token keyword">int</span> left<span class="token punctuation">,</span> <span class="token keyword">int</span> right<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">//错误点1：key应该等于left，指向的是排序数组中的第一个数据，而不是整个数组中的第一个数据</span>
	<span class="token keyword">int</span> key <span class="token operator">=</span> left<span class="token punctuation">;</span>
</code></pre> 
<h4><a id="8132_638"></a>8.1.3错误点2</h4> 
<blockquote> 
 <p>仍然是第五行，而且还是特别明显的错误：</p> 
</blockquote> 
<pre><code class="prism language-c"><span class="token comment">//快速排序</span>
<span class="token comment">//寻找基值的函数，返回基值的下标</span>
<span class="token keyword">int</span> <span class="token function">_QuickSort</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> arr<span class="token punctuation">,</span> <span class="token keyword">int</span> left<span class="token punctuation">,</span> <span class="token keyword">int</span> right<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">//错误点1：key应该等于left，指向的是排序数组中的第一个数据，而不是整个数组中的第一个数据</span>
	<span class="token keyword">int</span> key <span class="token operator">=</span> left<span class="token punctuation">;</span>
	<span class="token comment">//错误点2：left指向的位置应该是key位置之后的数据，而不是指向key这个位置</span>
	<span class="token operator">++</span>left<span class="token punctuation">;</span>
</code></pre> 
<h4><a id="8143_652"></a>8.1.4错误点3</h4> 
<blockquote> 
 <p>这是一个注意点，因为错误率很高：<br> <img src="https://images2.imgbox.com/0b/a6/E8EHEwYb_o.png" alt="在这里插入图片描述"></p> 
</blockquote> 
<pre><code class="prism language-c"><span class="token comment">//快速排序</span>
<span class="token comment">//寻找基值的函数，返回基值的下标</span>
<span class="token keyword">int</span> <span class="token function">_QuickSort</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> arr<span class="token punctuation">,</span> <span class="token keyword">int</span> left<span class="token punctuation">,</span> <span class="token keyword">int</span> right<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">//错误点1：key应该等于left，指向的是排序数组中的第一个数据，而不是整个数组中的第一个数据</span>
	<span class="token keyword">int</span> key <span class="token operator">=</span> left<span class="token punctuation">;</span>
	<span class="token comment">//错误点2：left指向的位置应该是key位置之后的数据，而不是指向key这个位置</span>
	<span class="token operator">++</span>left<span class="token punctuation">;</span>
	<span class="token comment">//注意点3：当left=right时，仍然要进入循环</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>left <span class="token operator">&lt;=</span> right<span class="token punctuation">)</span>
</code></pre> 
<h4><a id="8154_670"></a>8.1.5错误点4</h4> 
<pre><code class="prism language-c"><span class="token keyword">while</span> <span class="token punctuation">(</span>left <span class="token operator">&lt;=</span> right<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">//错误点4：假设待排序数组中的所有数据都比基值数据大，left会一直向后++，会发生越界情况，所以这边的判断需要加上一个条件</span>
	<span class="token comment">//找出比基值大的数据</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>left<span class="token operator">&lt;=</span>right <span class="token operator">&amp;&amp;</span> arr<span class="token punctuation">[</span>left<span class="token punctuation">]</span> <span class="token operator">&lt;</span> arr<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token comment">//当找到的数据比基值小时，往后找，直到找到比基值大的数据</span>
		left<span class="token operator">++</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//错误点4：和上边的错误点4一样</span>
	<span class="token comment">//找出比基值小的数据</span>
	<span class="token keyword">while</span><span class="token punctuation">(</span>left<span class="token operator">&lt;=</span>right <span class="token operator">&amp;&amp;</span> arr<span class="token punctuation">[</span>right<span class="token punctuation">]</span> <span class="token operator">&gt;</span> arr<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token comment">//当找到的数据比基值大时，往前找，直到找到比基值小的数据</span>
		right<span class="token operator">--</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="8165_691"></a>8.1.6错误点5</h4> 
<blockquote> 
 <p>这也是一个注意点</p> 
</blockquote> 
<pre><code class="prism language-c"><span class="token comment">//错误点4：假设待排序数组中的所有数据都比基值数据大，left会一直向后++，会发生越界情况，所以这边的判断需要加上一个条件</span>
<span class="token comment">//找出比基值大的数据</span>
<span class="token comment">//注意点5：假设所有数据都为6，如果这里的判断条件为arr[left] &lt;= arr[key]的话，left会一直向后++，right一直向前--，</span>
<span class="token comment">//        导致基值不变，造成死循环，所以这边的判断条件不能为=</span>
<span class="token keyword">while</span><span class="token punctuation">(</span>left<span class="token operator">&lt;=</span>right <span class="token operator">&amp;&amp;</span> arr<span class="token punctuation">[</span>left<span class="token punctuation">]</span> <span class="token operator">&lt;</span> arr<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">//当找到的数据比基值小时，往后找，直到找到比基值大的数据</span>
	left<span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//错误点4：和上边的错误点4一样</span>
<span class="token comment">//找出比基值小的数据</span>
<span class="token comment">//注意点5：和上边注意点5相同</span>
<span class="token keyword">while</span><span class="token punctuation">(</span>left<span class="token operator">&lt;=</span>right <span class="token operator">&amp;&amp;</span> arr<span class="token punctuation">[</span>right<span class="token punctuation">]</span> <span class="token operator">&gt;</span> arr<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">//当找到的数据比基值大时，往前找，直到找到比基值小的数据</span>
	right<span class="token operator">--</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="8176_713"></a>8.1.7错误点6</h4> 
<blockquote> 
 <p>在交换时要加上前置条件，否则会出现下面的情况：<br> <img src="https://images2.imgbox.com/7d/f6/2Az2o29o_o.png" alt="在这里插入图片描述"></p> 
</blockquote> 
<pre><code class="prism language-c"><span class="token comment">//错误点6：交换时要加上前置条件</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>left<span class="token operator">&lt;=</span>right<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">//然后将大小数据进行交换</span>
	<span class="token function">Swap</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>arr<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>arr<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="8187_727"></a>8.1.8错误点7</h4> 
<pre><code class="prism language-c"><span class="token comment">//错误点6：交换时要加上前置条件</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>left<span class="token operator">&lt;=</span>right<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">//然后将大小数据进行交换</span>
	<span class="token comment">//错误点7：交换完之后要注意改变left和right，在思路图中想到了，但是没有实现在代码上</span>
	<span class="token function">Swap</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>arr<span class="token punctuation">[</span>left<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>arr<span class="token punctuation">[</span>right<span class="token operator">--</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="82Hoare_738"></a>8.2Hoare版本快排最终代码</h3> 
<pre><code class="prism language-c"><span class="token comment">//快速排序</span>
<span class="token comment">//寻找基值的函数，返回基值的下标</span>
<span class="token keyword">int</span> <span class="token function">_QuickSort</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> arr<span class="token punctuation">,</span> <span class="token keyword">int</span> left<span class="token punctuation">,</span> <span class="token keyword">int</span> right<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">//错误点1：key应该等于left，指向的是排序数组中的第一个数据，而不是整个数组中的第一个数据</span>
	<span class="token keyword">int</span> key <span class="token operator">=</span> left<span class="token punctuation">;</span>
	<span class="token comment">//错误点2：left指向的位置应该是key位置之后的数据，而不是指向key这个位置</span>
	<span class="token operator">++</span>left<span class="token punctuation">;</span>
	<span class="token comment">//注意点3：当left=right时，仍然要进入循环</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>left <span class="token operator">&lt;=</span> right<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token comment">//错误点4：假设待排序数组中的所有数据都比基值数据大，left会一直向后++，会发生越界情况，所以这边的判断需要加上一个条件</span>
		<span class="token comment">//找出比基值大的数据</span>
		<span class="token comment">//注意点5：假设所有数据都为6，如果这里的判断条件为arr[left] &lt;= arr[key]的话，left会一直向后++，right一直向前--，</span>
		<span class="token comment">//        导致基值不变，造成死循环，所以这边的判断条件不能为=</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>left<span class="token operator">&lt;=</span>right <span class="token operator">&amp;&amp;</span> arr<span class="token punctuation">[</span>left<span class="token punctuation">]</span> <span class="token operator">&lt;</span> arr<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token comment">//当找到的数据比基值小时，往后找，直到找到比基值大的数据</span>
			left<span class="token operator">++</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token comment">//错误点4：和上边的错误点4一样</span>
		<span class="token comment">//找出比基值小的数据</span>
		<span class="token comment">//注意点5：和上边注意点2相同</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>left<span class="token operator">&lt;=</span>right <span class="token operator">&amp;&amp;</span> arr<span class="token punctuation">[</span>right<span class="token punctuation">]</span> <span class="token operator">&gt;</span> arr<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token comment">//当找到的数据比基值大时，往前找，直到找到比基值小的数据</span>
			right<span class="token operator">--</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token comment">//错误点6：交换时要加上前置条件</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>left<span class="token operator">&lt;=</span>right<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token comment">//然后将大小数据进行交换</span>
			<span class="token comment">//错误点7：交换完之后要注意改变left和right，在思路图中想到了，但是没有实现在代码上</span>
			<span class="token function">Swap</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>arr<span class="token punctuation">[</span>left<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>arr<span class="token punctuation">[</span>right<span class="token operator">--</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//最后将基值赋值到right，right就成为了基值下标</span>
	<span class="token function">Swap</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>arr<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>arr<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> right<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//与其他排序方法不同，这里应该传入数组、排序区域的左区间、排序区域的右区间</span>
<span class="token keyword">void</span> <span class="token function">QuickSort</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> arr<span class="token punctuation">,</span> <span class="token keyword">int</span> left<span class="token punctuation">,</span> <span class="token keyword">int</span> right<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">//递归结束条件</span>
	<span class="token comment">//当left和right重合时，表示此时只有一个结点，退出递归</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>left <span class="token operator">&gt;=</span> right<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">//寻找基值</span>
	<span class="token keyword">int</span> key <span class="token operator">=</span> <span class="token function">_QuickSort</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> left<span class="token punctuation">,</span> right<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">//递归寻找基值</span>
	<span class="token function">QuickSort</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> left<span class="token punctuation">,</span> key<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">QuickSort</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> key <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> right<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="83_801"></a>8.3快速排序空间复杂度分析</h3> 
<p>函数递归每调用一次就会创建一次函数栈帧，每次return循环结束之后就会销毁函数栈帧，而快排在调用时的作用如图：<br> <img src="https://images2.imgbox.com/25/0f/Vkeja9qT_o.png" alt="在这里插入图片描述"><br> 每一次递归就会将原数组分为两半，所以求空间复杂度，就是求这个二叉树的深度，也就是log2N，所以<mark>快速排序的空间复杂度为log2N</mark></p> 
<h3><a id="84_805"></a>8.4快速排序时间复杂度分析</h3> 
<h4><a id="841_806"></a>8.4.1最优情况（平均情况）</h4> 
<p>对于一个具有n个数据的数组来说，每一层需要交换的数据为n个，而深度为longN，所以总的排序工作量为NlogN，<mark>时间复杂度也就是O(NlogN)</mark></p> 
<h4><a id="842_808"></a>8.4.2最坏情况</h4> 
<p>如果每次分区都极度不均衡，也就是每次基值都是数组中最大的数据或最小的数据，<mark>此时快速排序的时间复杂度就退化为O(n^2)</mark></p> 
<h3><a id="85_810"></a>8.5观察快速排序的排序时间</h3> 
<blockquote> 
 <p>快速排序在排序中是最快的，所以我们一定会很期待快排的发挥：</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/ff/7f/fHYoeopc_o.png" alt="在这里插入图片描述"><br> 可以看出，在十万个数据中，快排只需要4ms，这次我们增大数据量，将数据增加到100万：<br> <img src="https://images2.imgbox.com/56/2a/vPT99Jw3_o.png" alt="在这里插入图片描述"><br> 对于100万个数据，快速排序只用了39ms，相当快速，这时希尔排序只是个意外【笑哭】</p> 
<h2><a id="9_817"></a>9.快速排序–挖坑法</h2> 
<blockquote> 
 <p>挖坑法为查找基值提供了一个新的思路，我们来看：</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/1a/ed/6ZHwMxBU_o.png" alt="在这里插入图片描述"></p> 
<p>代码实现：</p> 
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">_QuickSort</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> arr<span class="token punctuation">,</span> <span class="token keyword">int</span> left<span class="token punctuation">,</span> <span class="token keyword">int</span> right<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">//先在第一个值的位置挖坑</span>
	<span class="token keyword">int</span> hole <span class="token operator">=</span> left<span class="token punctuation">;</span>
	<span class="token comment">//将第一个坑中的值保存下来</span>
	<span class="token keyword">int</span> key <span class="token operator">=</span> arr<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>left <span class="token operator">&lt;</span> right<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token comment">//先让right向前走</span>
		<span class="token comment">//错误点1：此时要加上=，当数组中的数据全为6时，如果不加等号的话right的值不会改变，程序会死循环</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>left <span class="token operator">&lt;</span> right <span class="token operator">&amp;&amp;</span> arr<span class="token punctuation">[</span>right<span class="token punctuation">]</span> <span class="token operator">&gt;=</span> key<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			right<span class="token operator">--</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token comment">//填坑挖新坑</span>
		arr<span class="token punctuation">[</span>hole<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">;</span>
		hole <span class="token operator">=</span> right<span class="token punctuation">;</span>
		<span class="token comment">//再让left向后走</span>
		<span class="token comment">//错误点1：看上边错误点1</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>left <span class="token operator">&lt;</span> right <span class="token operator">&amp;&amp;</span> arr<span class="token punctuation">[</span>left<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> key<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			left<span class="token operator">++</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		arr<span class="token punctuation">[</span>hole<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">;</span>
		hole <span class="token operator">=</span> left<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	arr<span class="token punctuation">[</span>hole<span class="token punctuation">]</span> <span class="token operator">=</span> key<span class="token punctuation">;</span>
	<span class="token keyword">return</span> hole<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//与其他排序方法不同，这里应该传入数组、排序区域的左区间、排序区域的右区间</span>
<span class="token keyword">void</span> <span class="token function">QuickSort</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> arr<span class="token punctuation">,</span> <span class="token keyword">int</span> left<span class="token punctuation">,</span> <span class="token keyword">int</span> right<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">//递归结束条件</span>
	<span class="token comment">//当left和right重合时，表示此时只有一个结点，退出递归</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>left <span class="token operator">&gt;=</span> right<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">//寻找基值</span>
	<span class="token keyword">int</span> key <span class="token operator">=</span> <span class="token function">_QuickSort</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> left<span class="token punctuation">,</span> right<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">//递归寻找基值</span>
	<span class="token function">QuickSort</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> left<span class="token punctuation">,</span> key<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">QuickSort</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> key <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> right<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="10lomuto_875"></a>10.快速排序–lomuto前后指针</h2> 
<p><img src="https://images2.imgbox.com/2c/0f/gC858e41_o.png" alt="在这里插入图片描述"><br> 代码实现：</p> 
<pre><code class="prism language-c"><span class="token comment">//Lomuto法</span>
<span class="token keyword">int</span> <span class="token function">_QuickSort</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> arr<span class="token punctuation">,</span> <span class="token keyword">int</span> left<span class="token punctuation">,</span> <span class="token keyword">int</span> right<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> key <span class="token operator">=</span> left<span class="token punctuation">;</span>
	<span class="token keyword">int</span> prev <span class="token operator">=</span> left<span class="token punctuation">;</span>
	<span class="token keyword">int</span> pcur <span class="token operator">=</span> left <span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>pcur <span class="token operator">&lt;</span> right<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>pcur<span class="token punctuation">]</span> <span class="token operator">&lt;</span> arr<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">++</span>prev<span class="token operator">!=</span>pcur<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token function">Swap</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>arr<span class="token punctuation">[</span>pcur<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>arr<span class="token punctuation">[</span>prev<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		pcur<span class="token operator">++</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">Swap</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>arr<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>arr<span class="token punctuation">[</span>prev<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> prev<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//与其他排序方法不同，这里应该传入数组、排序区域的左区间、排序区域的右区间</span>
<span class="token keyword">void</span> <span class="token function">QuickSort</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> arr<span class="token punctuation">,</span> <span class="token keyword">int</span> left<span class="token punctuation">,</span> <span class="token keyword">int</span> right<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">//递归结束条件</span>
	<span class="token comment">//当left和right重合时，表示此时只有一个结点，退出递归</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>left <span class="token operator">&gt;=</span> right<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">//寻找基值</span>
	<span class="token keyword">int</span> key <span class="token operator">=</span> <span class="token function">_QuickSort</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> left<span class="token punctuation">,</span> right<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">//递归寻找基值</span>
	<span class="token function">QuickSort</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> left<span class="token punctuation">,</span> key<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">QuickSort</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> key <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> right<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="11_916"></a>11.快速排序–非递归版本</h2> 
<blockquote> 
 <p>上面我们实现的快速排序都是在递归的基础上实现的，下面我们接触一个新的非递归实现快排的方法：</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/be/da/zlKHLCj4_o.png" alt="在这里插入图片描述"><br> 代码实现：</p> 
<pre><code class="prism language-c"><span class="token comment">//快速排序--非递归版本</span>
<span class="token keyword">void</span> <span class="token function">QuickSortNoneD</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> arr<span class="token punctuation">,</span> <span class="token keyword">int</span> left<span class="token punctuation">,</span> <span class="token keyword">int</span> right<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	Stack s<span class="token punctuation">;</span>
	<span class="token function">Init</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">//先将右值和左值入栈</span>
	<span class="token function">StackPush</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>s<span class="token punctuation">,</span> right<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">StackPush</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>s<span class="token punctuation">,</span> left<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">//当栈为空时，结束循环</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>s<span class="token punctuation">.</span>top <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token comment">//先从栈中取左值和右值</span>
		left <span class="token operator">=</span> <span class="token function">StackPrint</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">StackPop</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
		right <span class="token operator">=</span> <span class="token function">StackPrint</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">StackPop</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">//然后在左值--右值这一块空间中寻找基值--lomuto指针法</span>
		<span class="token keyword">int</span> keyi <span class="token operator">=</span> left<span class="token punctuation">;</span>
		<span class="token keyword">int</span> prev <span class="token operator">=</span> left<span class="token punctuation">;</span>
		<span class="token keyword">int</span> pcur <span class="token operator">=</span> left <span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>pcur <span class="token operator">&lt;=</span> right<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>pcur<span class="token punctuation">]</span> <span class="token operator">&lt;</span> arr<span class="token punctuation">[</span>keyi<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">++</span>prev <span class="token operator">!=</span> pcur<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token function">Swap</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>arr<span class="token punctuation">[</span>pcur<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>arr<span class="token punctuation">[</span>prev<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			pcur<span class="token operator">++</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token function">Swap</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>arr<span class="token punctuation">[</span>keyi<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>arr<span class="token punctuation">[</span>prev<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">//此时基值为prev</span>

		<span class="token comment">//然后再次入栈，先让右数组入栈，再让左数组入栈</span>
		<span class="token comment">//1.当只有一个数据时不用入栈</span>
		<span class="token comment">//2.当数组的指向越界时不用入栈</span>
		<span class="token comment">//左数组：[left, prev-1]</span>
		<span class="token comment">//右数组：[prev+1, right]</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>prev <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&lt;</span> right<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token function">StackPush</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>s<span class="token punctuation">,</span> right<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">StackPush</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>s<span class="token punctuation">,</span> prev <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>left <span class="token operator">&lt;</span> prev <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token function">StackPush</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>s<span class="token punctuation">,</span> prev <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">StackPush</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>s<span class="token punctuation">,</span> left<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token function">Destory</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>此时再使用100万个数据进行检测：<br> <img src="https://images2.imgbox.com/c8/63/gzLOtWtA_o.png" alt="在这里插入图片描述"><br> 快速排序依旧很强势！！！</p> 
<h2><a id="12_980"></a>12.归并排序</h2> 
<p><img src="https://images2.imgbox.com/36/95/yF0hnDX3_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>其实就是先递归，然后排序</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/4e/12/CJvwPNz2_o.png" alt="在这里插入图片描述"><br> 代码实现：</p> 
<pre><code class="prism language-c"><span class="token comment">//归并排序</span>
<span class="token keyword">void</span> <span class="token function">_MergeSort</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> arr<span class="token punctuation">,</span> <span class="token keyword">int</span> left<span class="token punctuation">,</span> <span class="token keyword">int</span> right<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">*</span> tmp<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">//递归结束条件：left&gt;=right</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>left <span class="token operator">&gt;=</span> right<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">int</span> mid <span class="token operator">=</span> <span class="token punctuation">(</span>left <span class="token operator">+</span> right<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
	<span class="token function">_MergeSort</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> left<span class="token punctuation">,</span> mid<span class="token punctuation">,</span> tmp<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">_MergeSort</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> right<span class="token punctuation">,</span> tmp<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">//递归完成，开始向上排序</span>
	<span class="token keyword">int</span> begin1 <span class="token operator">=</span> left<span class="token punctuation">,</span> end1 <span class="token operator">=</span> mid<span class="token punctuation">;</span>

	<span class="token keyword">int</span> begin2 <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> end2 <span class="token operator">=</span> right<span class="token punctuation">;</span>
	<span class="token comment">//对数组进行排序，谁小谁插入到新的数组中</span>
	<span class="token comment">//错位点1：这里的i应该指向left，不能指向0</span>
	<span class="token keyword">int</span> index <span class="token operator">=</span> begin1<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>begin1 <span class="token operator">&lt;=</span> end1 <span class="token operator">&amp;&amp;</span> begin2 <span class="token operator">&lt;=</span> end2<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>begin1<span class="token punctuation">]</span> <span class="token operator">&lt;</span> arr<span class="token punctuation">[</span>begin2<span class="token punctuation">]</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			tmp<span class="token punctuation">[</span>index<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>begin1<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span>
		<span class="token punctuation">{<!-- --></span>
			tmp<span class="token punctuation">[</span>index<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>begin2<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//退出循环只有两种可能：</span>
	<span class="token comment">//1.begin1的数组为空</span>
	<span class="token comment">//错误点2：这里应该为while，不能是if</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>begin2 <span class="token operator">&lt;=</span> end2<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		tmp<span class="token punctuation">[</span>index<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>begin2<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//2.begin2的数组为空</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>begin1 <span class="token operator">&lt;=</span> end1<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		tmp<span class="token punctuation">[</span>index<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>begin1<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//最后要将tmp中的数据赋值到arr数组中</span>
	<span class="token comment">//错误点3：这里j应该初始化为left，不能为0</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> left<span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> right<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> tmp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">MergeSort</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> arr<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">//开辟新的数组空间来存储排序好的数据</span>
	<span class="token keyword">int</span><span class="token operator">*</span> tmp <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">*</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">//递归进行排序</span>
	<span class="token function">_MergeSort</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> tmp<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token function">free</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>对100万数据进行排序的结果：<br> <img src="https://images2.imgbox.com/6c/54/kG8W4aeq_o.png" alt="在这里插入图片描述"><br> 毋庸置疑是一个非常好用的排序方法！！！</p> 
<h3><a id="121_1053"></a>12.1归并排序时间复杂度分析</h3> 
<p>对于归并排序，假设有N个数据，那么递归的深度为logN，而每一层递归都是要将这一层的数据进行排序，所以它的时间复杂度为NlogN</p> 
<h3><a id="122_1055"></a>12.2归并排序空间复杂度分析</h3> 
<p>归并排序使用过程中开辟了一个数组的空间，所以它的空间复杂度为O(N)</p> 
<h2><a id="13_1057"></a>13.非比较排序–计数排序</h2> 
<blockquote> 
 <p>之前所使用的所有排序算法都是通过数据之间的比较，从而将大数和小数区分出来的，现在我们要掌握一种不需要比较就能够进行排序的算法</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/5b/3f/k0XRIbcB_o.png" alt="在这里插入图片描述"><br> 代码实现：</p> 
<pre><code class="prism language-c"><span class="token comment">//非比较排序</span>
<span class="token keyword">void</span> <span class="token function">CountSort</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> arr<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">//先确定数组中的最大值和最小值</span>
	<span class="token keyword">int</span> max <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> min <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> max<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			max <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> min<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			min <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token comment">//然后通过最大值和最小值来开辟空间</span>
	<span class="token keyword">int</span> capacity <span class="token operator">=</span> max <span class="token operator">-</span> min <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span><span class="token operator">*</span> tmp <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span>capacity <span class="token operator">*</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//将开辟的空间初始化为0</span>
	<span class="token function">memset</span><span class="token punctuation">(</span>tmp<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> capacity <span class="token operator">*</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">//将原数组中每个数据出现的次数存储到开辟数组中</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		tmp<span class="token punctuation">[</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> min<span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">//通过开辟数组记录的数据实现排序</span>
	<span class="token keyword">int</span> index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> capacity<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>tmp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">--</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			arr<span class="token punctuation">[</span>index<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> i <span class="token operator">+</span> min<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>然后我们让这个排序算法来排100万个数据：<br> <img src="https://images2.imgbox.com/d8/3b/cPBOevJg_o.png" alt="在这里插入图片描述"><br> 仅仅用了1ms！！！但是这个算法有致命的缺点：<br> 1.无法对小数进行排序<br> 2.对于整数的排序在特殊情况下空间浪费多</p> 
<h3><a id="131_1110"></a>13.1非比较函数时间复杂度分析</h3> 
<pre><code class="prism language-c"><span class="token comment">//非比较排序--时间复杂度分析--O(N)</span>
<span class="token keyword">void</span> <span class="token function">CountSort</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> arr<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> max <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> min <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token comment">//O(N)</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> max<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			max <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> min<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			min <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">int</span> capacity <span class="token operator">=</span> max <span class="token operator">-</span> min <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span><span class="token operator">*</span> tmp <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span>capacity <span class="token operator">*</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">memset</span><span class="token punctuation">(</span>tmp<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> capacity <span class="token operator">*</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//O(N)</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		tmp<span class="token punctuation">[</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> min<span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//此处虽然是两层循环，但是作用是遍历开辟数组，对arr数组进行赋值</span>
	<span class="token comment">//所以此处的时间复杂度还是O(N)</span>
	<span class="token keyword">int</span> index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> capacity<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>tmp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">--</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			arr<span class="token punctuation">[</span>index<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> i <span class="token operator">+</span> min<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="14_1151"></a>14.排序算法复杂度以及稳定性分析</h2> 
<p><img src="https://images2.imgbox.com/da/fa/9JuIWxMo_o.png" alt="在这里插入图片描述"><br> 总结：<br> <img src="https://images2.imgbox.com/f0/de/GPDXVEjb_o.png" alt="在这里插入图片描述"><br> 分析：<br> <img src="https://images2.imgbox.com/23/26/2EQ2lbYG_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>到这里，所有排序已经讲完，之后将要学习C++的内容，也是成功地脱离新手村了，希望自己能够坚持下来！！！</p> 
</blockquote>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/efc67fd001731842d95e19e0aeec78e8/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Ubuntu24.04、22.04或20.04安装Golang方法教程</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/aa42b7cb28ff6fe5c289523559ddb8d1/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">宠物健康管理新纪元：智能听诊器革新体验</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>