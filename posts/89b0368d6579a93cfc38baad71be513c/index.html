<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Java的数据库编程-----JDBC - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/89b0368d6579a93cfc38baad71be513c/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="Java的数据库编程-----JDBC">
  <meta property="og:description" content="目录
一.JDBC概念&amp;使用条件：
二.mysql-connector驱动包的下载与导入：
三.JDBC编程：
使用JDBC编程的主要五个步骤：
完整流程1（更新update）：
完整流程2(查询query)： 一.JDBC概念&amp;使用条件： JDBC基本概念： 🧐JDBC：即JAVA Database Connectivity，Java数据库连接。是一种用于执行SQL语句的JavaAPI，它是Java中的数据库连接规范。这个API由java.sql.*,javax.sql.*包中的一些类和接口组成，它为Java开发人员操作数据库提供了一个标准的API，可以为多种关系数据库提供统一访问。
JDBC使用条件： 1).编程语言，如Java，C、C&#43;&#43;、Python等
2).数据库，如Oracle，MySQL，SQL Server等(本文主要演示MySQL数据库)
3).数据库驱动包：不同的数据库，对应不同的编程语言提供了不同的数据库驱动包，如：MySQL提 供了Java的驱动包mysql-connector-java，需要基于Java操作MySQL即需要该驱动包。同样的， 要基于Java操作Oracle数据库则需要Oracle的数据库驱动包ojdbc。
mysql-connector驱动包： 由于每个数据库，本身已经有一套API了，比如MySQL，本身的API，就是C语言的API，这时就需要我们把原生的C的API转换成为兼容JDBC的Java的API。MySQL官方提供了一个mysql-connector--&gt;这个驱动包就可以帮助我们完成上述操作.mysql-connector不是mysql自带的，也不是java自带的，需要通过第三方途径，把这个驱动包下载下来并导入到自己的项目中(第三方库),主要由三个途径进行下载：
去Oracle官网进行下载去github去maven中央仓库(这种方法最为简便，下面例子以这个为主) maven中央仓库网址：Maven Repository: Search/Browse/Explore (mvnrepository.com)
JDBC优势：
Java语言访问数据库操作完全面向抽象接口编程开发数据库应用不用限定在特定数据库厂商的API程序的可移植性大大增强 二.mysql-connector驱动包的下载与导入： 进入上述网址后，直接搜索mysql就行了，你会看到一下两个主要版本： 进入后选择适合自己的版本进行下载： 接下来我们在已经创建号的项目中，选中项目，右击鼠标新建一个目录，名字随便取，不要包含中文/特殊字符~ 复制我们刚才下载好的.jar文件，将其粘贴到刚才创建的lib目录中 ： 右击刚才的lib目录，add as library（意在告诉IDEA，这个lib目录是一个&#34;库&#34;目录）： 直接点🆗就行了： 此时你会看到lib目录下多了以下内容，就说明驱动包导入成功了： 完成上述操作后，我们就可以进行JDBC编程了
三.JDBC编程： 使用JDBC编程的主要五个步骤： 1. 创建数据源对象： DataSource dataSource = new MysqlDataSource(); ((MysqlDataSource) dataSource).setUrl(&#34;jdbc:mysql://127.0.0.1:3306/itcast?characterEncoding=utf8&amp;useSSL=false&#34;); ((MysqlDataSource) dataSource).setUser(&#34;root&#34;);//用户名 ((MysqlDataSource) dataSource).setPassword(&#34;2222&#34;);//密码 url参数说明：
2. 和数据库服务器建立网络连接.: Connection connection = dataSource.getConnection(); 3. 构造 SQL 语句: String sql = &#34;">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-06-02T20:59:50+08:00">
    <meta property="article:modified_time" content="2024-06-02T20:59:50+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Java的数据库编程-----JDBC</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="%E4%B8%80.JDBC%E6%A6%82%E5%BF%B5%26%E4%BD%BF%E7%94%A8%E6%9D%A1%E4%BB%B6%EF%BC%9A-toc" style="margin-left:0px;"><a href="#%E4%B8%80.JDBC%E6%A6%82%E5%BF%B5%26%E4%BD%BF%E7%94%A8%E6%9D%A1%E4%BB%B6%EF%BC%9A" rel="nofollow">一.JDBC概念&amp;使用条件：</a></p> 
<p id="%E4%BA%8C.mysql-connector%E9%A9%B1%E5%8A%A8%E5%8C%85%E7%9A%84%E4%B8%8B%E8%BD%BD%E4%B8%8E%E5%AF%BC%E5%85%A5%EF%BC%9A-toc" style="margin-left:0px;"><a href="#%E4%BA%8C.mysql-connector%E9%A9%B1%E5%8A%A8%E5%8C%85%E7%9A%84%E4%B8%8B%E8%BD%BD%E4%B8%8E%E5%AF%BC%E5%85%A5%EF%BC%9A" rel="nofollow">二.mysql-connector驱动包的下载与导入：</a></p> 
<p id="%E4%B8%89.JDBC%E7%BC%96%E7%A8%8B%EF%BC%9A-toc" style="margin-left:0px;"><a href="#%E4%B8%89.JDBC%E7%BC%96%E7%A8%8B%EF%BC%9A" rel="nofollow">三.JDBC编程：</a></p> 
<p id="%E4%BD%BF%E7%94%A8JDBC%E7%BC%96%E7%A8%8B%E7%9A%84%E4%B8%BB%E8%A6%81%E4%BA%94%E4%B8%AA%E6%AD%A5%E9%AA%A4%EF%BC%9A-toc" style="margin-left:40px;"><a href="#%E4%BD%BF%E7%94%A8JDBC%E7%BC%96%E7%A8%8B%E7%9A%84%E4%B8%BB%E8%A6%81%E4%BA%94%E4%B8%AA%E6%AD%A5%E9%AA%A4%EF%BC%9A" rel="nofollow">使用JDBC编程的主要五个步骤：</a></p> 
<p id="%E5%AE%8C%E6%95%B4%E6%B5%81%E7%A8%8B1%EF%BC%88%E6%9B%B4%E6%96%B0update%EF%BC%89%EF%BC%9A-toc" style="margin-left:40px;"><a href="#%E5%AE%8C%E6%95%B4%E6%B5%81%E7%A8%8B1%EF%BC%88%E6%9B%B4%E6%96%B0update%EF%BC%89%EF%BC%9A" rel="nofollow">完整流程1（更新update）：</a></p> 
<p id="%E5%AE%8C%E6%95%B4%E6%B5%81%E7%A8%8B2(%E6%9F%A5%E8%AF%A2query)%EF%BC%9A%C2%A0-toc" style="margin-left:40px;"><a href="#%E5%AE%8C%E6%95%B4%E6%B5%81%E7%A8%8B2%28%E6%9F%A5%E8%AF%A2query%29%EF%BC%9A%C2%A0" rel="nofollow">完整流程2(查询query)： </a></p> 
<hr id="hr-toc"> 
<p></p> 
<h2 id="%E4%B8%80.JDBC%E6%A6%82%E5%BF%B5%26%E4%BD%BF%E7%94%A8%E6%9D%A1%E4%BB%B6%EF%BC%9A" style="background-color:transparent;">一.JDBC概念&amp;使用条件：</h2> 
<ul><li>JDBC基本概念：</li></ul> 
<p><strong><span style="background-color:#ffd900;">🧐JDBC：即JAVA Database Connectivity，Java数据库连接</span></strong>。<strong><span style="background-color:#38d8f0;">是一种用于执行SQL语句的JavaAPI，它是Java中的数据库连接规范。</span></strong>这个API由java.sql.*,javax.sql.*包中的一些类和接口组成，它为Java开发人员操作数据库提供了一个标准的API，可以为多种关系数据库提供统一访问。</p> 
<ul><li> JDBC使用条件：</li></ul> 
<p>1).编程语言，如Java，C、C++、Python等</p> 
<p>2).数据库，如Oracle，MySQL，SQL Server等(本文主要演示MySQL数据库)</p> 
<p>3).数据库驱动包：不同的数据库，对应不同的编程语言提供了不同的数据库驱动包，如：<strong><span style="background-color:#ffd900;">MySQL提 供了Java的驱动包mysql-connector-java</span></strong>，需要基于Java操作MySQL即需要该驱动包。同样的， 要基于Java操作Oracle数据库则需要Oracle的数据库驱动包ojdbc。</p> 
<blockquote> 
 <ul><li><strong><span style="background-color:#ffd900;">mysql-connector驱动包：</span></strong></li></ul> 
 <p>由于每个数据库，本身已经有一套API了，比如MySQL，本身的API，就是C语言的API，这时就需要我们把原生的C的API转换成为兼容JDBC的Java的API。MySQL官方提供了一个mysql-connector--&gt;这个驱动包就可以帮助我们完成上述操作.mysql-connector不是mysql自带的，也不是java自带的，需要通过第三方途径，把这个驱动包下载下来并导入到自己的项目中(第三方库),主要由三个途径进行下载：</p> 
 <ol><li>去Oracle官网进行下载</li><li>去github</li><li>去maven中央仓库(这种方法最为简便，下面例子以这个为主)</li></ol> 
 <p>maven中央仓库网址：<a href="https://mvnrepository.com/" rel="nofollow" title="Maven Repository: Search/Browse/Explore (mvnrepository.com)">Maven Repository: Search/Browse/Explore (mvnrepository.com)</a></p> 
</blockquote> 
<blockquote> 
 <p><strong>JDBC优势：</strong></p> 
 <ul><li>Java语言访问数据库操作完全面向抽象接口编程</li><li>开发数据库应用不用限定在特定数据库厂商的API</li><li>程序的可移植性大大增强 </li></ul> 
</blockquote> 
<h2 id="%E4%BA%8C.mysql-connector%E9%A9%B1%E5%8A%A8%E5%8C%85%E7%9A%84%E4%B8%8B%E8%BD%BD%E4%B8%8E%E5%AF%BC%E5%85%A5%EF%BC%9A" style="background-color:transparent;">二.mysql-connector驱动包的下载与导入：</h2> 
<ul><li><strong>进入上述网址后，直接搜索mysql就行了，你会看到一下两个主要版本：</strong></li></ul> 
<p><img alt="" height="517" src="https://images2.imgbox.com/d6/70/qDSia99x_o.png" width="969"></p> 
<ul><li><strong>进入后选择适合自己的版本进行下载：</strong></li></ul> 
<p><img alt="" height="869" src="https://images2.imgbox.com/d5/a3/a6S6opxc_o.png" width="1200"></p> 
<ul><li><strong> 接下来我们在已经创建号的项目中，选中项目，右击鼠标新建一个目录，名字随便取，不要包含中文/特殊字符~</strong></li></ul> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/d6/90/OOzypETJ_o.png" width="1200"></p> 
<ul><li><strong>复制我们刚才下载好的.jar文件，将其粘贴到刚才创建的lib目录中 ：</strong></li></ul> 
<p><img alt="" height="646" src="https://images2.imgbox.com/e2/61/siDmodge_o.png" width="1200"></p> 
<ul><li><strong>右击刚才的lib目录，add as library（意在告诉IDEA，这个lib目录是一个"库"目录）：</strong><strong> </strong></li></ul> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/4f/d6/TcVH2qmy_o.png" width="1200"></p> 
<ul><li><strong>直接点🆗就行了： </strong></li></ul> 
<p><img alt="" height="239" src="https://images2.imgbox.com/b3/cc/GdW9JKxX_o.png" width="525"></p> 
<ul><li><strong>此时你会看到lib目录下多了以下内容，就说明驱动包导入成功了：</strong></li></ul> 
<p><img alt="" height="196" src="https://images2.imgbox.com/17/31/rgs64BUo_o.png" width="580"> </p> 
<p> 完成上述操作后，我们就可以进行JDBC编程了</p> 
<h2 id="%E4%B8%89.JDBC%E7%BC%96%E7%A8%8B%EF%BC%9A" style="background-color:transparent;">三.JDBC编程：</h2> 
<h3 id="%E4%BD%BF%E7%94%A8JDBC%E7%BC%96%E7%A8%8B%E7%9A%84%E4%B8%BB%E8%A6%81%E4%BA%94%E4%B8%AA%E6%AD%A5%E9%AA%A4%EF%BC%9A">使用JDBC编程的主要五个步骤：</h3> 
<ul><li>1. 创建数据源对象：</li></ul> 
<pre><code class="language-java">DataSource dataSource = new MysqlDataSource();
        ((MysqlDataSource) dataSource).setUrl("jdbc:mysql://127.0.0.1:3306/itcast?characterEncoding=utf8&amp;useSSL=false");
        ((MysqlDataSource) dataSource).setUser("root");//用户名
        ((MysqlDataSource) dataSource).setPassword("2222");//密码
</code></pre> 
<p> url参数说明：</p> 
<p><img alt="" height="634" src="https://images2.imgbox.com/fb/ed/rGrDWZ0J_o.png" width="1200"></p> 
<ul><li>2. 和数据库服务器建立网络连接.:</li></ul> 
<pre><code class="language-java">Connection connection = dataSource.getConnection();</code></pre> 
<ul><li> 3. 构造 SQL 语句:</li></ul> 
<pre><code class="language-java"> String sql = "delete from student where id = ?";
        PreparedStatement statement = connection.prepareStatement(sql);
        statement.setInt(1, id);</code></pre> 
<p><img alt="" height="306" src="https://images2.imgbox.com/79/57/OQ4wyzaI_o.png" width="1173"></p> 
<ul><li>4. 把 SQL 发送到服务器上进行执行: </li></ul> 
<pre><code class="language-java"> int n = statement.executeUpdate();
        System.out.println(n);//返回值就表示, 这个 sql , 影响到 几行</code></pre> 
<ul><li> 5. 释放上述的资源:</li></ul> 
<pre><code class="language-java"> statement.close();
 connection.close();</code></pre> 
<h3 style="background-color:transparent;">Statement对象 :</h3> 
<p><strong><span style="background-color:#ffd900;">Statement对象主要是将SQL语句发送到数据库中。JDBC API中主要提供了三种Statement对象:</span></strong></p> 
<h3><img alt="" height="750" src="https://images2.imgbox.com/40/99/U9ww17dM_o.png" width="1174"> 主要两种执行SQL的方法：</h3> 
<ul><li> executeQuery() 方法执行后返回单个结果集的，通常用于select语句</li><li>executeUpdate()方法返回值是一个整数，指示受影响的行数，通常用于update、insert、delete 语句</li></ul> 
<h3>ResultSet对象:</h3> 
<ul><li>ResultSet对象它被称为结果集，它代表符合SQL语句条件的所有行，并且它通过一套getXXX方法提供 了对这些行中数据的访问。</li><li>ResultSet里的数据一行一行排列，每行有多个字段，并且有一个记录指针，指针所指的数据行叫做当 前数据行，我们只能来操作当前的数据行。我们如果想要取得某一条记录，就要使用ResultSet的next() 方法 ,如果我们想要得到ResultSet里的所有记录，就应该使用while循环。</li></ul> 
<h3 id="%E5%AE%8C%E6%95%B4%E6%B5%81%E7%A8%8B1%EF%BC%88%E6%9B%B4%E6%96%B0update%EF%BC%89%EF%BC%9A" style="background-color:transparent;"><strong>完整流程1（更新update）：</strong></h3> 
<pre><code class="language-java">
import javax.sql.DataSource;
import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.SQLException;
import java.util.Scanner;

public class TestJDBC1 {
    public static void main(String[] args) throws SQLException {
        // 0. 让用户输入 id 和 name
        Scanner scanner = new Scanner(System.in);
        System.out.println("请输入id: ");
        int id = scanner.nextInt();
//        System.out.println("请输入name: ");
//        String name = scanner.next();

        // 1. 创建数据源对象
        DataSource dataSource = new MysqlDataSource();
        ((MysqlDataSource) dataSource).setUrl("jdbc:mysql://127.0.0.1:3306/itcast?characterEncoding=utf8&amp;useSSL=false");
        ((MysqlDataSource) dataSource).setUser("root");
        ((MysqlDataSource) dataSource).setPassword("2222");

        // 2. 和数据库服务器建立网络连接.
        Connection connection = dataSource.getConnection();
        // System.out.println(connection);

        // 3. 构造 SQL 语句
        //    PreparedStatement 基于这个类, 构造 SQL
        // String sql = "insert into student values(" + id + ", '" + name + "')";
        // String sql = "insert into student values (?, ?)";
        String sql = "delete from student where id = ?";
        PreparedStatement statement = connection.prepareStatement(sql);
        statement.setInt(1, id);
        // statement.setString(2, name);

        // 4. 把 SQL 发送到服务器上进行执行
        //    返回值就表示, 这个 sql , 影响到 几行
        int n = statement.executeUpdate();
        System.out.println(n);

        // 5. 释放上述的资源
        statement.close();
        connection.close();
    }
}</code></pre> 
<p><strong>注意：</strong><img alt="" height="239" src="https://images2.imgbox.com/b0/c9/Sx3VLv9E_o.png" width="657"> </p> 
<h3 id="%E5%AE%8C%E6%95%B4%E6%B5%81%E7%A8%8B2(%E6%9F%A5%E8%AF%A2query)%EF%BC%9A%C2%A0" style="background-color:transparent;"><strong>完整流程2(查询query)： </strong></h3> 
<pre><code class="language-java">
import javax.sql.DataSource;
import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;

public class TestJDBC2 {
    public static void main(String[] args) throws SQLException {
        // 1. 创建数据源
        DataSource dataSource = new MysqlDataSource();
        ((MysqlDataSource) dataSource).setUrl("jdbc:mysql://127.0.0.1:3306/itcast?characterEncoding=utf8&amp;useSSL=false");
        ((MysqlDataSource) dataSource).setUser("root");
        ((MysqlDataSource) dataSource).setPassword("2222");

        // 2. 建立连接
        Connection connection = dataSource.getConnection();

        // 3. 构建 sql
        String sql = "select * from student";
        PreparedStatement statement = connection.prepareStatement(sql);

        // 4. 执行 sql, 这一步和前面不一样
        ResultSet resultSet = statement.executeQuery();

        // 5. 遍历结果集合
        while (resultSet.next()) {
            // 循环里针对一行进行处理,打印列表和mysql中查询的结果一致
            System.out.println(resultSet.getInt("id"));
            System.out.println(resultSet.getString("name"));
        }

        // 6. 关闭对应的资源
        resultSet.close();
        statement.close();
        connection.close();
    }
}</code></pre> 
<p> <strong>结语：</strong> <strong>写博客不仅仅是为了分享学习经历，同时这也有利于我巩固知识点，总结该知识点，由于作者水平有限，对文章有任何问题的还请指出，接受大家的批评，让我改进。同时也希望读者们不吝啬你们的点赞+收藏+关注，你们的鼓励是我创作的最大动力！</strong></p> 
<p style="text-align:center;"><strong><img alt="" src="https://images2.imgbox.com/54/03/oy7Ei4vt_o.gif"></strong></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/2ba41d8bbd74a805e726b203782286d1/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【C&#43;&#43;奇妙冒险】日期类Date的实现</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/84ec9cfd39c59465cc8caf674e4b9e44/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">2024年06月IDE流行度最新排名</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>