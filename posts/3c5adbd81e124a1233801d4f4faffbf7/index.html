<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Linux åŸç”Ÿå®‰è£…æœ€æ–°ç‰ˆMySQL 8.4 ä¸åˆ†å‘è¡Œç‰ˆLinuxç³»ç»Ÿé€šç”¨ - ç¼–ç¨‹å¤§å’–</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/3c5adbd81e124a1233801d4f4faffbf7/">
  <meta property="og:site_name" content="ç¼–ç¨‹å¤§å’–">
  <meta property="og:title" content="Linux åŸç”Ÿå®‰è£…æœ€æ–°ç‰ˆMySQL 8.4 ä¸åˆ†å‘è¡Œç‰ˆLinuxç³»ç»Ÿé€šç”¨">
  <meta property="og:description" content="æ–‡ç« ç›®å½• Linux ä¸‹å®‰è£…æœ€æ–°ç‰ˆMySQL 8.4ä¸åˆ†å‘è¡Œç‰ˆ ```Linuxç³»ç»Ÿé€šç”¨```å‡†å¤‡å·¥ä½œåˆ‡æ¢åˆ°rootè´¦æˆ·æŸ¥çœ‹ç³»ç»Ÿæ˜¯å¦æ”¯æŒglibc2.28ç§»é™¤æ—§ç‰ˆæœ¬ å®‰è£…mysqlä¾èµ–ä¸‹è½½MySQLå¼€å§‹å®‰è£…mysqlåˆ›å»ºè¿è¡Œmysqlçš„ç”¨æˆ·å’Œç”¨æˆ·ç»„è§£å‹å®‰è£…åŒ…ä¿®æ”¹æƒé™åˆ›å»ºç›®å½•åˆå§‹åŒ–mysql è®¾ç½®é…ç½®æ–‡ä»¶å¯åŠ¨mysqlä¿®æ”¹é»˜è®¤å¯†ç  Linux ä¸‹å®‰è£…æœ€æ–°ç‰ˆMySQL 8.4ä¸åˆ†å‘è¡Œç‰ˆ Linuxç³»ç»Ÿé€šç”¨ Linuxä¸‹å®‰è£…mysql8çš„æ–¹å¼å¾ˆå¤šé€šè¿‡ç³»ç»Ÿå¸¦çš„åŒ…ç®¡ç†å™¨apt|yum|dpkg ç­‰å·¥å…·å®‰è£…ç®€å•å¿«æ·ï¼Œä½†æ˜¯æ¯ç§æ–¹å¼å¤šå¤šå°‘å°‘æœ‰äº›åŒºåˆ«æ‡’å¾—è®°ï¼Œä¸ºä»€ä¹ˆå°±ä¸ç»Ÿä¸€å‘¢ï¼Ÿ è€Œä¸”å®‰è£…æ–‡ä»¶åˆ†å¸ƒä½ç½®ä¸æ˜¯å¾ˆæ¸…æ¥šï¼Œç®¡ç†æœåŠ¡å‘½ä»¤è¿˜ä¸ä¸€æ · ã€‚æƒ³åˆ°è¿™é‡Œæˆ‘å°±è¦åğŸ¤¢ğŸ¤¢ğŸ¤¢ğŸ¤¢ğŸ¤¢ğŸ¤¢ã€‚
çº¯çº¯æµªè´¹æˆ‘æ—¶é—´ã€è„‘å®¹é‡ã€‚çœŸçš„å¾ˆæ— è¯­ï¼ è¿˜å¥½MySQLå®˜æ–¹æä¾›äº†äºŒè¿›åˆ¶å®‰è£…åŒ…å¯ä»¥åœ¨Linuxç³»ç»Ÿä¸‹é€šç”¨ã€‚æ— è®ºæ˜¯åŸºäºDebiançš„Ubuntuç³»åˆ—è¿˜æ˜¯Redhatç³»åˆ—çš„CentOSæ˜¯å¯ä»¥ï¼Œç»ˆäºå¯ä»¥åªç”¨ä¸“æ³¨ä¸€ç§å®‰è£…æ–¹å¼äº†ã€‚
ä¸‹é¢å°±ä½¿ç”¨MySQL äºŒè¿›åˆ¶å®‰è£…åŒ…æ–¹å¼å®‰è£…ï¼Œæˆ‘çš„è½¯ä»¶ç›®å½•ã€æ•°æ®ç›®å½•ã€é…ç½®æ–‡ä»¶ç›®å½•ã€æ—¥å¿—ç›®å½•ã€PIDæ–‡ä»¶ç›®å½• ï¼Œè‡ªå·±å®‰è£…çš„éƒ½æ¸…æ¥šçŸ¥é“ã€‚æœ‰ä¸€ç§æ›´èƒ½æŒæ¡æŒæ§çš„æ„Ÿè§‰ï¼Œæ›´æ”¾å¿ƒï¼
äº²æµ‹ CentOS 8ã€Ubuntu 20.04ã€Ubuntu 18.04 OK ï¼
å‡†å¤‡å·¥ä½œ åˆ‡æ¢åˆ°rootè´¦æˆ· ubuntuç³»ç»Ÿ æ‰§è¡Œ sudo -i åˆ‡æ¢åˆ°root æ–¹ä¾¿æ“ä½œ
æŸ¥çœ‹ç³»ç»Ÿæ˜¯å¦æ”¯æŒglibc2.28 å› ä¸ºå®‰è£…çš„ç‰ˆæœ¬æ¯”è¾ƒæ–°éœ€è¦æ–°ç‰ˆglic2.28
redhatã€centosç³»åˆ—ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤
strings /lib64/libc.so.6 | grep GLIBC_2.28 æœ‰è¾“å‡ºç‰ˆæœ¬å·è¯æ˜æ”¯æŒ
debianã€ubuntuç³»åˆ—ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤
strings /lib/x86_64-linux-gnu/libc.so.6 | grep GLIBC_2.28 è‹¥æ˜¯ä¸æ”¯æŒéœ€è¦æ·»åŠ  GLIBC_2.28 æŸ¥çœ‹è¿™ç¯‡æ•™ç¨‹å®‰è£…
ç§»é™¤æ—§ç‰ˆæœ¬ å¦‚æœä½ å®‰è£…è¿‡mysql ä¸ºäº†é˜²æ­¢å‡ºç°å¥‡å¥‡æ€ªæ€ªé—®é¢˜ï¼Œæˆ‘ä»¬æŠŠæ—§ç‰ˆæœ¬å¸è½½åˆ é™¤ç›¸å…³åŒ…å’Œæ®‹ç•™æ–‡ä»¶
redhatã€centosç³»åˆ—ä½¿ç”¨yumå‘½ä»¤
# yum æŸ¥è¯¢å·²å®‰è£…çš„ MySQL ç›¸å…³åŒ… rpm -qa | grep -i mysql # å¸è½½ MySQL ç›¸å…³åŒ… yum remove mysql-* # å¸è½½å®Œå†æŸ¥è¯¢è¿˜æœ‰æ— ç›¸å…³åŒ… rpm -qa | grep -i mysql debianã€ubuntuç³»åˆ—ä½¿ç”¨aptå‘½ä»¤">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-06-08T00:38:02+08:00">
    <meta property="article:modified_time" content="2024-06-08T00:38:02+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ç¼–ç¨‹å¤§å’–" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ç¼–ç¨‹å¤§å’–</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Linux åŸç”Ÿå®‰è£…æœ€æ–°ç‰ˆMySQL 8.4 ä¸åˆ†å‘è¡Œç‰ˆLinuxç³»ç»Ÿé€šç”¨</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>æ–‡ç« ç›®å½•</h4> 
 <ul><li><ul><li><a href="#Linux_MySQL_84_Linux_1" rel="nofollow">Linux ä¸‹å®‰è£…æœ€æ–°ç‰ˆMySQL 8.4ä¸åˆ†å‘è¡Œç‰ˆ ```Linuxç³»ç»Ÿé€šç”¨```</a></li><li><ul><li><a href="#_8" rel="nofollow">å‡†å¤‡å·¥ä½œ</a></li><li><ul><li><a href="#root_9" rel="nofollow">åˆ‡æ¢åˆ°rootè´¦æˆ·</a></li><li><a href="#glibc228_11" rel="nofollow">æŸ¥çœ‹ç³»ç»Ÿæ˜¯å¦æ”¯æŒglibc2.28</a></li><li><a href="#_31" rel="nofollow">ç§»é™¤æ—§ç‰ˆæœ¬</a></li></ul> 
    </li><li><a href="#mysql_63" rel="nofollow">å®‰è£…mysqlä¾èµ–</a></li><li><a href="#MySQL_78" rel="nofollow">ä¸‹è½½MySQL</a></li><li><a href="#mysql_94" rel="nofollow">å¼€å§‹å®‰è£…mysql</a></li><li><ul><li><a href="#mysql_95" rel="nofollow">åˆ›å»ºè¿è¡Œmysqlçš„ç”¨æˆ·å’Œç”¨æˆ·ç»„</a></li><li><a href="#_102" rel="nofollow">è§£å‹å®‰è£…åŒ…</a></li><li><a href="#_120" rel="nofollow">ä¿®æ”¹æƒé™åˆ›å»ºç›®å½•</a></li><li><a href="#mysql_134" rel="nofollow">åˆå§‹åŒ–mysql</a></li></ul> 
    </li><li><a href="#_150" rel="nofollow">è®¾ç½®é…ç½®æ–‡ä»¶</a></li><li><a href="#mysql_187" rel="nofollow">å¯åŠ¨mysql</a></li><li><a href="#_259" rel="nofollow">ä¿®æ”¹é»˜è®¤å¯†ç </a></li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h3><a id="Linux_MySQL_84_Linux_1"></a>Linux ä¸‹å®‰è£…æœ€æ–°ç‰ˆMySQL 8.4ä¸åˆ†å‘è¡Œç‰ˆ <code>Linuxç³»ç»Ÿé€šç”¨</code></h3> 
<blockquote> 
 <p>Â Â Â Â Linuxä¸‹å®‰è£…mysql8çš„æ–¹å¼å¾ˆå¤šé€šè¿‡ç³»ç»Ÿå¸¦çš„åŒ…ç®¡ç†å™¨<code>apt</code>|<code>yum</code>|<code>dpkg </code>ç­‰å·¥å…·å®‰è£…ç®€å•å¿«æ·ï¼Œä½†æ˜¯æ¯ç§æ–¹å¼å¤šå¤šå°‘å°‘æœ‰äº›åŒºåˆ«æ‡’å¾—è®°ï¼Œä¸ºä»€ä¹ˆå°±ä¸ç»Ÿä¸€å‘¢ï¼Ÿ è€Œä¸”å®‰è£…æ–‡ä»¶åˆ†å¸ƒä½ç½®ä¸æ˜¯å¾ˆæ¸…æ¥šï¼Œç®¡ç†æœåŠ¡å‘½ä»¤è¿˜ä¸ä¸€æ · ã€‚æƒ³åˆ°è¿™é‡Œæˆ‘å°±è¦åğŸ¤¢ğŸ¤¢ğŸ¤¢ğŸ¤¢ğŸ¤¢ğŸ¤¢ã€‚<br> Â Â Â Â çº¯çº¯æµªè´¹æˆ‘æ—¶é—´ã€è„‘å®¹é‡ã€‚çœŸçš„å¾ˆæ— è¯­ï¼ è¿˜å¥½MySQLå®˜æ–¹æä¾›äº†äºŒè¿›åˆ¶å®‰è£…åŒ…å¯ä»¥åœ¨Linuxç³»ç»Ÿä¸‹é€šç”¨ã€‚æ— è®ºæ˜¯åŸºäºDebiançš„Ubuntuç³»åˆ—è¿˜æ˜¯Redhatç³»åˆ—çš„CentOSæ˜¯å¯ä»¥ï¼Œç»ˆäºå¯ä»¥åªç”¨ä¸“æ³¨ä¸€ç§å®‰è£…æ–¹å¼äº†ã€‚<br> Â Â Â Â ä¸‹é¢å°±ä½¿ç”¨MySQL äºŒè¿›åˆ¶å®‰è£…åŒ…æ–¹å¼å®‰è£…ï¼Œæˆ‘çš„è½¯ä»¶ç›®å½•ã€æ•°æ®ç›®å½•ã€é…ç½®æ–‡ä»¶ç›®å½•ã€æ—¥å¿—ç›®å½•ã€PIDæ–‡ä»¶ç›®å½• ï¼Œè‡ªå·±å®‰è£…çš„éƒ½æ¸…æ¥šçŸ¥é“ã€‚æœ‰ä¸€ç§æ›´èƒ½æŒæ¡æŒæ§çš„æ„Ÿè§‰ï¼Œæ›´æ”¾å¿ƒï¼<br> Â Â Â Â  äº²æµ‹ CentOS 8ã€Ubuntu 20.04ã€Ubuntu 18.04 OK ï¼</p> 
</blockquote> 
<h4><a id="_8"></a>å‡†å¤‡å·¥ä½œ</h4> 
<h5><a id="root_9"></a>åˆ‡æ¢åˆ°rootè´¦æˆ·</h5> 
<p>ubuntuç³»ç»Ÿ æ‰§è¡Œ <code>sudo -i</code> åˆ‡æ¢åˆ°root æ–¹ä¾¿æ“ä½œ</p> 
<h5><a id="glibc228_11"></a>æŸ¥çœ‹ç³»ç»Ÿæ˜¯å¦æ”¯æŒglibc2.28</h5> 
<p>å› ä¸ºå®‰è£…çš„ç‰ˆæœ¬æ¯”è¾ƒæ–°éœ€è¦æ–°ç‰ˆglic2.28</p> 
<p>redhatã€centosç³»åˆ—ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤</p> 
<pre><code class="prism language-bash">strings /lib64/libc.so.6 <span class="token operator">|</span> <span class="token function">grep</span> GLIBC_2.28
</code></pre> 
<p>æœ‰è¾“å‡ºç‰ˆæœ¬å·è¯æ˜æ”¯æŒ<br> <img src="https://images2.imgbox.com/02/e6/AEZRmMuz_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>debianã€ubuntuç³»åˆ—ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤</p> 
<pre><code class="prism language-bash">strings /lib/x86_64-linux-gnu/libc.so.6 <span class="token operator">|</span> <span class="token function">grep</span> GLIBC_2.28
</code></pre> 
<p>è‹¥æ˜¯ä¸æ”¯æŒéœ€è¦æ·»åŠ  <code>GLIBC_2.28</code> <a href="https://blog.csdn.net/summer_lele/article/details/136166760">æŸ¥çœ‹è¿™ç¯‡æ•™ç¨‹å®‰è£…</a><br> <img src="https://images2.imgbox.com/c3/63/vOcGsN6C_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h5><a id="_31"></a>ç§»é™¤æ—§ç‰ˆæœ¬</h5> 
<p>å¦‚æœä½ å®‰è£…è¿‡mysql ä¸ºäº†é˜²æ­¢å‡ºç°å¥‡å¥‡æ€ªæ€ªé—®é¢˜ï¼Œæˆ‘ä»¬æŠŠæ—§ç‰ˆæœ¬å¸è½½åˆ é™¤ç›¸å…³åŒ…å’Œæ®‹ç•™æ–‡ä»¶</p> 
<p>redhatã€centosç³»åˆ—ä½¿ç”¨yumå‘½ä»¤</p> 
<pre><code class="prism language-bash">	<span class="token comment"># yum æŸ¥è¯¢å·²å®‰è£…çš„ MySQL ç›¸å…³åŒ…</span>
	<span class="token function">rpm</span> <span class="token parameter variable">-qa</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token parameter variable">-i</span> mysql
	<span class="token comment"># å¸è½½ MySQL ç›¸å…³åŒ…</span>
	yum remove mysql-*
	<span class="token comment"># å¸è½½å®Œå†æŸ¥è¯¢è¿˜æœ‰æ— ç›¸å…³åŒ…</span>
	<span class="token function">rpm</span> <span class="token parameter variable">-qa</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token parameter variable">-i</span> mysql

</code></pre> 
<p>debianã€ubuntuç³»åˆ—ä½¿ç”¨aptå‘½ä»¤</p> 
<pre><code class="prism language-bash">	<span class="token comment"># å¸è½½mysqlç›¸å…³</span>
    <span class="token function">apt-get</span> remove <span class="token parameter variable">--purge</span> mysql-*
    <span class="token comment"># æ¸…é™¤æ®‹ç•™</span>
    <span class="token function">apt-get</span> autoremove
    <span class="token function">apt-get</span> autoclean
</code></pre> 
<p>åˆ é™¤ç›¸å…³é…ç½®æ–‡ä»¶å’Œå®‰è£…ç›®å½•</p> 
<pre><code class="prism language-bash">   <span class="token function">rm</span> <span class="token parameter variable">-rf</span> /etc/my.cnf
   <span class="token function">rm</span> <span class="token parameter variable">-rf</span> /var/lib/mysql
   <span class="token function">rm</span> <span class="token parameter variable">-rf</span> /etc/mysql
</code></pre> 
<h4><a id="mysql_63"></a>å®‰è£…mysqlä¾èµ–</h4> 
<p>å®‰è£…mysqlæ‰€éœ€è¦çš„ä¾èµ–</p> 
<p>redhatã€centosç³»åˆ—ä½¿ç”¨yumå‘½ä»¤</p> 
<pre><code class="prism language-bash">yum <span class="token function">install</span> <span class="token parameter variable">-y</span> libaio
yum <span class="token function">install</span> <span class="token parameter variable">-y</span> ncurses-compat-libs
</code></pre> 
<p>debianã€ubuntuç³»åˆ—ä½¿ç”¨aptå‘½ä»¤</p> 
<pre><code class="prism language-bash"><span class="token function">apt-get</span> <span class="token function">install</span> libaio1
</code></pre> 
<h4><a id="MySQL_78"></a>ä¸‹è½½MySQL</h4> 
<p>å»<a href="https://dev.mysql.com/downloads/mysql/" rel="nofollow">å®˜ç½‘ä¸‹è½½é¡µé¢</a> è·å–ä¸‹è½½é“¾æ¥</p> 
<p>æ³¨æ„æŸ¥çœ‹ç³»ç»Ÿæ¶æ„,åœ°çƒäººéƒ½çŸ¥é“æŸ¥çœ‹ç³»ç»Ÿæ¶æ„å‘½ä»¤ <code>uname -m</code>ã€‚å¦‚æœä½ æ˜¯armæ¶æ„é€‰æ‹©armç‰ˆæœ¬çš„äºŒè¿›åˆ¶åŒ…<br> <img src="https://images2.imgbox.com/b2/f9/y7KCWahf_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>wgetå‘½ä»¤ä¸‹è½½å®‰è£…åŒ…</p> 
<pre><code class="prism language-bash"><span class="token comment"># -P æŒ‡å®šä¸‹è½½ç›®å½•</span>
<span class="token function">wget</span> <span class="token parameter variable">-P</span> /soft https://cdn.mysql.com//Downloads/MySQL-8.4/mysql-8.4.0-linux-glibc2.28-x86_64.tar.xz
</code></pre> 
<p>.</p> 
<h4><a id="mysql_94"></a>å¼€å§‹å®‰è£…mysql</h4> 
<h5><a id="mysql_95"></a>åˆ›å»ºè¿è¡Œmysqlçš„ç”¨æˆ·å’Œç”¨æˆ·ç»„</h5> 
<pre><code class="prism language-bash"><span class="token function">groupadd</span> mysql
<span class="token function">useradd</span> <span class="token parameter variable">-r</span> <span class="token parameter variable">-g</span> mysql <span class="token parameter variable">-s</span> /bin/false mysql
</code></pre> 
<h5><a id="_102"></a>è§£å‹å®‰è£…åŒ…</h5> 
<p>è§£å‹åˆ° <code>/usr/local/</code></p> 
<pre><code class="prism language-bash"><span class="token function">tar</span> xvf /soft/mysql-8.4.0-linux-glibc2.28-x86_64.tar.xz <span class="token parameter variable">-C</span> /usr/local/
</code></pre> 
<p>å¦‚æœä½ çš„tar å‘½ä»¤ä¸æ”¯æŒè§£å‹.xzæ ¼å¼ ä½¿ç”¨ä¸‹é¢å‘½ä»¤è§£å‹</p> 
<pre><code class="prism language-bash">xz <span class="token parameter variable">-dcv</span> /soft/mysql-8.4.0-linux-glibc2.28-x86_64.tar.xz <span class="token operator">|</span> <span class="token function">tar</span> x <span class="token parameter variable">-C</span> /usr/local/
</code></pre> 
<p>è§£å‹åç›®å½•åå¤ªé•¿æ”¹æˆ mysql</p> 
<pre><code class="prism language-bash"><span class="token function">mv</span> /usr/local/mysql-8.4.0-linux-glibc2.28-x86_64 /usr/local/mysql
</code></pre> 
<h5><a id="_120"></a>ä¿®æ”¹æƒé™åˆ›å»ºç›®å½•</h5> 
<p>ä¾æ¬¡æ‰§è¡Œä¸‹é¢å‘½ä»¤</p> 
<pre><code class="prism language-bash"><span class="token comment"># åˆ›å»ºæ•°æ®ç›®å½•ï¼Œæ ¹æ®è‡ªå·±éœ€æ±‚è°ƒæ•´</span>
<span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /disk/mysqldata

<span class="token builtin class-name">cd</span> /usr/local/mysql
<span class="token function">mkdir</span> mysql-files
<span class="token function">mkdir</span> log
<span class="token function">touch</span> log/error.log
<span class="token function">chmod</span> <span class="token number">750</span> mysql-files
<span class="token function">chown</span> mysql:mysql <span class="token parameter variable">-R</span> /usr/local/mysql/
<span class="token function">chown</span> mysql:mysql /disk/mysqldata
</code></pre> 
<h5><a id="mysql_134"></a>åˆå§‹åŒ–mysql</h5> 
<pre><code class="prism language-bash"><span class="token comment">#--basedir å®‰è£…ç›®å½•  --datadiræ•°æ®å­˜å‚¨ç›®å½• å¯ä»¥æŒ‰éœ€è°ƒæ•´</span>
/usr/local/mysql/bin/mysqld <span class="token parameter variable">--initialize</span> <span class="token parameter variable">--user</span><span class="token operator">=</span>mysql <span class="token parameter variable">--basedir</span><span class="token operator">=</span>/usr/local/mysql <span class="token parameter variable">--datadir</span><span class="token operator">=</span>/disk/mysqldata
</code></pre> 
<p>æŸ¥çœ‹åˆå§‹åŒ–æ—¥å¿— rootè´¦æˆ·çš„åˆå§‹åŒ–å¯†ç è¾“å‡ºåœ¨æ—¥å¿—ä¸­</p> 
<pre><code class="prism language-bash"><span class="token comment">#åˆå§‹åŒ–æ—¥å¿—è¾“å‡ºåˆ° /usr/local/mysql/log/error.log æ–‡ä»¶ä¸­</span>

<span class="token comment">#æŸ¥çœ‹è¯¥æ–‡ä»¶</span>
<span class="token function">cat</span> /usr/local/mysql/log/error.log
</code></pre> 
<p><img src="https://images2.imgbox.com/0a/b6/RG8fQeqc_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h4><a id="_150"></a>è®¾ç½®é…ç½®æ–‡ä»¶</h4> 
<p>é…ç½®æ–‡ä»¶ä½äº <code>/etc/my.cnf</code><br> åˆ›å»ºé…ç½®æ–‡ä»¶<br> <code>vim /etc/my.cnf </code></p> 
<p>æ–‡ä»¶ä¸­å†™å…¥ä»¥ä¸‹å†…å®¹ï¼ˆé…ç½®æ–‡ä»¶æ ¹æ®è‡ªå·±éœ€è¦è°ƒæ•´ï¼‰</p> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>client<span class="token punctuation">]</span>
<span class="token comment"># æŒ‡å®šäº†å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨é€šä¿¡çš„å¥—æ¥å­—æ–‡ä»¶è·¯å¾„</span>
socket <span class="token operator">=</span> /tmp/mysql.sock

<span class="token punctuation">[</span>mysqld_safe<span class="token punctuation">]</span>
<span class="token comment"># é”™è¯¯æ—¥å¿—çš„å­˜æ”¾ä½ç½®ã€‚</span>
log_error <span class="token operator">=</span> /disk/mysqldata/error.log
<span class="token comment"># å­˜æ”¾æœåŠ¡å™¨è¿›ç¨‹ ID çš„æ–‡ä»¶</span>
pid_file <span class="token operator">=</span> /disk/mysqldata/mysqld.pid

<span class="token punctuation">[</span>mysql<span class="token punctuation">]</span>
socket <span class="token operator">=</span> /tmp/mysql.sock

<span class="token punctuation">[</span>mysqld<span class="token punctuation">]</span>
<span class="token comment"># mysql çš„è¿è¡Œç”¨æˆ· è¿™é‡Œçš„ç”¨æˆ·ä¸€å®šè¦å’Œåˆå§‹åŒ–æ—¶çš„ç”¨æˆ·ä¸€è‡´</span>
user <span class="token operator">=</span> mysql
<span class="token comment"># æŒ‡å®š MySQL æœåŠ¡ç›‘å¬çš„ç«¯å£ä¸º 3306</span>
port <span class="token operator">=</span> <span class="token number">3306</span>
<span class="token comment"># æŒ‡å®š MySQL çš„å®‰è£…ç›®å½•</span>
basedir <span class="token operator">=</span> /usr/local/mysql
<span class="token comment"># æŒ‡å®šæ•°æ®æ–‡ä»¶çš„å­˜å‚¨ä½ç½®ã€‚</span>
datadir <span class="token operator">=</span> /disk/mysqldata
socket  <span class="token operator">=</span> /tmp/mysql.sock
<span class="token comment"># æ—¥å¿—ç›®å½•</span>
log_error <span class="token operator">=</span> /usr/local/mysql/log/error.log
<span class="token comment"># è®¾ç½®SQL æ¨¡å¼</span>
<span class="token assign-left variable">sql_mode</span><span class="token operator">=</span><span class="token string">'STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION'</span>

</code></pre> 
<h4><a id="mysql_187"></a>å¯åŠ¨mysql</h4> 
<p>åˆå§‹åŒ–åå·²ç»è‡ªåŠ¨æ³¨å†Œäº†ç³»ç»ŸæœåŠ¡ ä½¿ç”¨ <code>systemctl</code> å‘½ä»¤ç®¡ç†</p> 
<p>å¯åŠ¨</p> 
<pre><code class="prism language-bash">systemctl start mysqld
</code></pre> 
<p>å¦‚æœå¯åŠ¨æŠ¥é”™ä½¿ç”¨<code> journalctl -u mysqld.service</code> å‘½ä»¤æŸ¥çœ‹æ—¥å¿—</p> 
<p>æŸ¥çœ‹çŠ¶æ€</p> 
<pre><code class="prism language-bash">systemctl status mysqld
</code></pre> 
<p>active (running) è¡¨ç¤ºè¿è¡Œä¸­<br> <img src="https://images2.imgbox.com/cd/5e/SRP3MS5j_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>åœæ­¢</p> 
<pre><code class="prism language-bash">systemctl stop mysqld
</code></pre> 
<p>é‡å¯</p> 
<pre><code class="prism language-bash">systemctl restart mysqld
</code></pre> 
<p>è®¾ç½®mysqlå¼€æœºè‡ªå¯</p> 
<pre><code class="prism language-bash">systemctl <span class="token builtin class-name">enable</span> mysqld
</code></pre> 
<p><code>è‹¥æ˜¯ä¸èƒ½æ‰§è¡Œ systemctl mysqld ç›¸å…³å‘½ä»¤ï¼Œæœ‰çš„ç³»ç»Ÿä¸Šmysqlåˆå§‹åŒ–å®Œä¼šè‡ªåŠ¨åˆ›å»ºå•å…ƒæœåŠ¡é…ç½®æ–‡ä»¶ï¼Œæœ‰çš„æ²¡æœ‰ã€‚ æ²¡æœ‰å…³ç³»å°é—®é¢˜ã€‚ æ²¡æœ‰è‡ªåŠ¨åˆ›å»ºæˆ‘ä»¬å°±æ‰‹åŠ¨åˆ›å»º</code></p> 
<blockquote> 
 <p>åˆ›å»ºå•å…ƒæœåŠ¡é…ç½®æ–‡ä»¶</p> 
 <pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">sudo</span> <span class="token function">vi</span> /lib/systemd/system/mysql.service
</code></pre> 
 <p>å¡«å…¥ä»¥ä¸‹å†…å®¹</p> 
 <pre><code class="prism language-bash"><span class="token punctuation">[</span>Unit<span class="token punctuation">]</span>
<span class="token assign-left variable">Description</span><span class="token operator">=</span>MySQL Server
<span class="token assign-left variable">After</span><span class="token operator">=</span>network.target

<span class="token punctuation">[</span>Service<span class="token punctuation">]</span>
<span class="token assign-left variable">Type</span><span class="token operator">=</span>simple
<span class="token assign-left variable">ExecStart</span><span class="token operator">=</span>/usr/local/mysql/bin/mysqld --defaults-file<span class="token operator">=</span>/etc/my.cnf
<span class="token assign-left variable">User</span><span class="token operator">=</span>mysql
<span class="token assign-left variable">Group</span><span class="token operator">=</span>mysql
<span class="token assign-left variable">TimeoutSec</span><span class="token operator">=</span><span class="token number">300</span>
<span class="token assign-left variable">PrivateTmp</span><span class="token operator">=</span>true

<span class="token punctuation">[</span>Install<span class="token punctuation">]</span>
<span class="token assign-left variable">WantedBy</span><span class="token operator">=</span>multi-user.target

</code></pre> 
 <p>ç„¶åé‡æ–°åŠ è½½å•å…ƒé…ç½®</p> 
 <pre><code class="prism language-bash"><span class="token function">sudo</span> systemctl daemon-reload
</code></pre> 
 <p>ç°åœ¨å°±å¯ä»¥æ‰§è¡Œ <code>systemctl start mysqld</code> ç›¸å…³å‘½ä»¤äº†</p> 
</blockquote> 
<h4><a id="_259"></a>ä¿®æ”¹é»˜è®¤å¯†ç </h4> 
<p>ç™»å½•mysql</p> 
<pre><code class="prism language-bash"><span class="token comment"># å›è½¦åè¾“å…¥åˆšåˆšæ—¥å¿—ä¸­çš„é»˜è®¤å¯†ç </span>
/usr/local/mysql/bin/mysql <span class="token parameter variable">-h</span> <span class="token number">127.0</span>.0.1 <span class="token parameter variable">-p</span>
</code></pre> 
<p><code>è‹¥æ˜¯æŠ¥é”™ /usr/local/mysql/bin/mysql: error while loading shared libraries: libncurses.so.6: cannot open shared object file: No such file or directory </code><br> <code>éœ€è¦å®‰è£… libncurses6</code></p> 
<p>ä¿®æ”¹å¯†ç </p> 
<pre><code class="prism language-sql"><span class="token comment"># æ‰§è¡ŒSQL ä¿®æ”¹å¯†ç  BY 'root'; è¿™é‡Œå°±æ˜¯è®¾ç½®çš„å¯†ç </span>
<span class="token keyword">ALTER</span> <span class="token keyword">USER</span> <span class="token string">'root'</span><span class="token variable">@'localhost'</span> IDENTIFIED <span class="token keyword">BY</span> <span class="token string">'root'</span><span class="token punctuation">;</span>
</code></pre> 
<p>è®¾ç½®rootå¯è¿œç¨‹è¿æ¥ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨navicatè¿æ¥æ•°æ®åº“äº†</p> 
<pre><code class="prism language-sql"><span class="token keyword">use</span> mysql<span class="token punctuation">;</span>
<span class="token keyword">select</span> host<span class="token punctuation">,</span> <span class="token keyword">user</span> <span class="token keyword">from</span> <span class="token keyword">user</span><span class="token punctuation">;</span>
<span class="token keyword">update</span> <span class="token keyword">user</span> <span class="token keyword">set</span> host <span class="token operator">=</span> <span class="token string">'%'</span> <span class="token keyword">where</span> <span class="token keyword">user</span><span class="token operator">=</span><span class="token string">'root'</span><span class="token punctuation">;</span>
flush <span class="token keyword">privileges</span><span class="token punctuation">;</span>
</code></pre> 
<p>Navicat è¿æ¥æˆåŠŸï¼ <code>è‹¥ä»¥ä¸Šéƒ½æ²¡æœ‰é—®é¢˜è¿˜æ˜¯è¿æ¥ä¸ä¸Šè¯·æ£€æŸ¥é˜²ç«å¢™ã€å®‰å…¨ç»„</code><br> <img src="https://images2.imgbox.com/0e/01/YtESIVb7_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>å®Œï¼</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/9801b3678ca49a2a8a9cc5ea4af2be8e/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">å‰ç«¯ä¸‰å¤§ä¸»æµæ¡†æ¶</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f8058554dd9cd4501a2370161511dc3a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">å°ç¨‹åºå¦‚ä½•åˆ·æ–°å½“å‰é¡µé¢</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ç¼–ç¨‹å¤§å’–.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>