<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Kotlin中的?、!!、?:、:: 、== 符号 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/599002c0cd86a48324e0ba7abfa6c7e2/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="Kotlin中的?、!!、?:、:: 、== 符号">
  <meta property="og:description" content="1、？和！！ 刚学kotlin的时候，发现语法和java差不多，但是有些小符号很有意思。
fun find(name : String) : A ? ? 加在变量名后，系统在任何情况不会报它的空指针异常。
!! 加在变量名后，如果对象为null，那么系统一定会报异常。
举例 java写法：
ArrayList&lt;String myList = null; // 创建一个null的队列 Log.d(&#34;TAG&#34;, &#34;--&gt;&gt; List Size = &#34; &#43; myList.size()); 在执行到log打印队列长度的时候，会报空指针错误
而在ktolin中在调用 myList 的时候在它后面加上一个问号 myList?.size() ，则会在 myList 为null 的时候直接打印出null（注意不是0） ，不会抛出 NullPointerException 。
上述java写法转为ktolin：
val myList: ArrayList&lt;String? = null // 创建一个null的队列 Log.d(&#34;TAG&#34;, &#34;--&gt;&gt; List Size = &#34; &#43; myList!!.size) 这样就证明了 !! 会对对象进行非空判断，并且会像 java 代码一样当对象为空时抛出异常。
2、？： 对象A ?: 对象B 表达式，意思为：当对象 A值为 null 时，那么它就会返回后面的对象 B。">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-01-12T17:08:07+08:00">
    <meta property="article:modified_time" content="2024-01-12T17:08:07+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Kotlin中的?、!!、?:、:: 、== 符号</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>1、？和！！</h2> 
<p>刚学kotlin的时候，发现语法和java差不多，但是有些小符号很有意思。</p> 
<pre><code class="hljs">fun find(name : String) : A ?</code></pre> 
<p><code>? </code>加在变量名后，系统在任何情况不会报它的空指针异常。</p> 
<p><code>!! </code>加在变量名后，如果对象为null，那么系统一定会报异常。</p> 
<p></p> 
<p>举例 java写法：</p> 
<pre><code class="hljs">ArrayList&lt;String myList = null;     //  创建一个null的队列
Log.d("TAG", "--&gt;&gt; List Size = " + myList.size());</code></pre> 
<p>在执行到log打印队列长度的时候，会报空指针错误</p> 
<p></p> 
<p>而在ktolin中在调用 <code>myList</code> 的时候在它后面加上一个问号 <code>myList?.size()</code> ，则会在 <code>myList</code> 为null 的时候直接打印出null（注意不是0） ，不会抛出 <code>NullPointerException</code> 。</p> 
<p></p> 
<p>上述java写法转为ktolin：</p> 
<pre><code class="hljs">val myList: ArrayList&lt;String? = null     //  创建一个null的队列
Log.d("TAG", "--&gt;&gt; List Size = " + myList!!.size)</code></pre> 
<p>这样就证明了 <code>!!</code> 会对对象进行非空判断，并且会像 java 代码一样当对象为空时抛出异常。</p> 
<h2>2、？：</h2> 
<p>对象A ?: 对象B 表达式，意思为：当对象 A值为 null 时，那么它就会返回后面的对象 B。</p> 
<p>举例：</p> 
<pre><code class="hljs">val studentList: ArrayList&lt;Student&gt;? = null
if(studentList?.size ?: 0 &gt; 0){
    println("list不为空")
}</code></pre> 
<p></p> 
<p>使用上面的 ？和 ?: 就可以避免程序中出现的 NullPointerException 。</p> 
<h2>3、：：</h2> 
<p>表示把一个方法当做一个参数，传递到另一个方法中进行使用，也就是引用一个方法。</p> 
<pre><code class="hljs">class ColonMagic {

    fun main(msg: Array&lt;String&gt;) {
        //调用peopleDo方法，并传入参数  “I say !” 和 say方法体
        //此处 ::say 是将say方法作为参数传入peopleDo方法
        //此处只是将say作为参数，而不会调用say方法，也就不会println(message)，不会输出日志
        peopleDo("I say !", ::say)
    }

    /**
     * 一个参数
     * message：String类型
     */
    private fun say(message: String) {
        println(message)
    }

    /**
     * 两个参数
     * msg: String类型
     * dosay: (String) -&gt; Unit 一个参数为String不需要返回值的方法体
     */
    private fun peopleDo(msg: String, doSay: (String) -&gt; Unit) {
        //doSay(msg)调用的就是传入的say方法,即say(msg),只不过参数名是doSay本质是say方法
        //此处打印出来 I say !  日志
        doSay(msg)
    }
}</code></pre> 
<h2>4、===</h2> 
<p><code>=</code>就是赋值，</p> 
<p><code>==</code> 表示比较两个值大小，</p> 
<p><code>===</code> 表示比较对象地址。</p> 
<pre><code class="hljs">fun main(args: Array&lt;String) {
    val a : Int = 1000
    println(a == a) //true
    println(a === a) //true
    val a1 : Int = a
    val a2 : Int = a
    println(a1 == a2) //true
    println(a1 === a2) //true
}</code></pre> 
<pre><code class="hljs">fun main(args: Array&lt;String) {
    val a : Int = 1000
    println(a == a) //true
    println(a === a) //true
    val a1 : Int? = a
    val a2 : Int? = a
    println(a1 == a2) //true
    println(a1 === a2) //false
}</code></pre> 
<p>解释：</p> 
<p>如果我们使用的是  <code>val a : Int = 999</code> 这种方式，这时的a其实就是个数值，不涉及装箱的问题，也就不是对象。 而如果我们使用的是  <code>val a: Int? = 999</code> 这种方式，这时的a是一个Int型对象，因为它涉及到装箱问题。</p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/2e7f5a0677d09de72d6390f58aee1093/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">在 Ubuntu 系统上安装和彻底卸载 MySQL</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/8ab66201c8e56061c680660cf51282bf/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">flutter封装dio请求库，让我们做前端的同学可以轻松上手使用，仿照axios的使用封装</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>