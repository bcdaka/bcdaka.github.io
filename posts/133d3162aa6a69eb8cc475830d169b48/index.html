<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>轻松拿捏C语言——自定义类型之【联合体与枚举】 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/133d3162aa6a69eb8cc475830d169b48/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="轻松拿捏C语言——自定义类型之【联合体与枚举】">
  <meta property="og:description" content="🥰欢迎关注 轻松拿捏C语言系列，来和 小哇 一起进步！✊
🎉创作不易，请多多支持🎉
🌈感谢大家的阅读、点赞、收藏和关注💕
🌹如有问题，欢迎指正
目录👑
🌟一、联合体（共用体）
🌙1、声明
🌙2、特点
🌙3、大小计算
🌟二、枚举类型
🌙1、声明
🌙2、优点
🌙3、使用
🌟一、联合体（共用体） 🌙1、声明 联合体和结构体一样可以有多个成员，成员类型可以不同。
联合体所有成员共用一块空间，所以联合体又叫 共用体
一个联合变量的大小至少是最大成员的大小
在声明上，联合体和结构体类似，只是把struct关键字换成了union关键字。
给联合体一个成员赋值，其他成员的值也会跟着变化
#include &lt;stdio.h&gt; //联合类型的声明 union Un { char c; int i; }; int main() { //联合变量的定义 union Un un = { 0 }; //计算连个变量的⼤⼩ printf(&#34;%d\n&#34;, sizeof(un)); return 0; } 这里结果为4，因为这里int最大，占四个字节 🌙2、特点 代码1
#include &lt;stdio.h&gt; //联合类型的声明 union Un { char c; int i; }; int main() { //联合变量的定义 union Un un = { 0 }; // 下⾯输出的结果是⼀样的吗？ printf(&#34;">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-06-01T00:06:01+08:00">
    <meta property="article:modified_time" content="2024-06-01T00:06:01+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">轻松拿捏C语言——自定义类型之【联合体与枚举】</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <blockquote> 
 <p><img alt="" src="https://images2.imgbox.com/71/ef/8R9rj1ug_o.gif"></p> 
 <p><img alt="" height="313" src="https://images2.imgbox.com/7e/40/oQmSMdYx_o.gif" width="1200"></p> 
 <p><strong>🥰<span style="color:#ff9900;">欢迎关注 </span><strong><strong><strong><span style="color:#ff9900;"><a href="https://blog.csdn.net/kiku20231213/category_12648019.html?spm=1001.2014.3001.5482" title="轻松拿捏C语言系列">轻松拿捏C语言系列</a></span></strong></strong></strong><span style="color:#ff9900;">，来和 小哇 一起进步！</span>✊</strong></p> 
 <p><strong>🎉<span style="color:#38d8f0;">创作不易，请多多支持</span>🎉</strong></p> 
 <p><strong>🌈<span style="color:#ff9900;">感谢大家的阅读、点赞、收藏和关注</span>💕</strong></p> 
 <p><strong>🌹<span style="color:#38d8f0;">如有问题，欢迎指正</span></strong></p> 
</blockquote> 
<hr> 
<p> </p> 
<p id="main-toc"><span style="color:#956fe7;"><strong><span style="background-color:#fefcd8;">目录👑</span></strong></span></p> 
<p id="%F0%9F%8C%9F%E4%B8%80%E3%80%81%E8%81%94%E5%90%88%E4%BD%93%EF%BC%88%E5%85%B1%E7%94%A8%E4%BD%93%EF%BC%89-toc" style="margin-left:0px;"><a href="#%F0%9F%8C%9F%E4%B8%80%E3%80%81%E8%81%94%E5%90%88%E4%BD%93%EF%BC%88%E5%85%B1%E7%94%A8%E4%BD%93%EF%BC%89" rel="nofollow"><span style="color:#956fe7;"><span style="background-color:#fefcd8;">🌟一、联合体（共用体）</span></span></a></p> 
<p id="1%E3%80%81%E5%A3%B0%E6%98%8E-toc" style="margin-left:40px;"><a href="#1%E3%80%81%E5%A3%B0%E6%98%8E" rel="nofollow"><span style="color:#956fe7;"><span style="background-color:#fefcd8;">🌙1、声明</span></span></a></p> 
<p id="2%E3%80%81%E7%89%B9%E7%82%B9-toc" style="margin-left:40px;"><a href="#2%E3%80%81%E7%89%B9%E7%82%B9" rel="nofollow"><span style="color:#956fe7;"><span style="background-color:#fefcd8;">🌙2、特点</span></span></a></p> 
<p id="3%E3%80%81%E5%A4%A7%E5%B0%8F%E8%AE%A1%E7%AE%97-toc" style="margin-left:40px;"><a href="#3%E3%80%81%E5%A4%A7%E5%B0%8F%E8%AE%A1%E7%AE%97" rel="nofollow"><span style="color:#956fe7;"><span style="background-color:#fefcd8;">🌙3、大小计算</span></span></a></p> 
<p id="%E4%BA%8C%E3%80%81%E6%9E%9A%E4%B8%BE%E7%B1%BB%E5%9E%8B-toc" style="margin-left:0px;"><a href="#%E4%BA%8C%E3%80%81%E6%9E%9A%E4%B8%BE%E7%B1%BB%E5%9E%8B" rel="nofollow"><span style="color:#956fe7;"><span style="background-color:#fefcd8;">🌟二、枚举类型</span></span></a></p> 
<p id="1%E3%80%81%E5%A3%B0%E6%98%8E-toc" style="margin-left:40px;"><a href="#1%E3%80%81%E5%A3%B0%E6%98%8E" rel="nofollow"><span style="color:#956fe7;"><span style="background-color:#fefcd8;">🌙1、声明</span></span></a></p> 
<p id="2%E3%80%81%E4%BC%98%E7%82%B9-toc" style="margin-left:40px;"><a href="#2%E3%80%81%E4%BC%98%E7%82%B9" rel="nofollow"><span style="color:#956fe7;"><span style="background-color:#fefcd8;">🌙2、优点</span></span></a></p> 
<p id="3%E3%80%81%E4%BD%BF%E7%94%A8-toc" style="margin-left:40px;"><a href="#3%E3%80%81%E4%BD%BF%E7%94%A8" rel="nofollow"><span style="color:#956fe7;"><span style="background-color:#fefcd8;">🌙3、使用</span></span></a></p> 
<hr id="hr-toc"> 
<p></p> 
<h2 id="%F0%9F%8C%9F%E4%B8%80%E3%80%81%E8%81%94%E5%90%88%E4%BD%93%EF%BC%88%E5%85%B1%E7%94%A8%E4%BD%93%EF%BC%89" style="background-color:transparent;"><span style="color:#956fe7;"><span style="background-color:#e7fafa;">🌟一、联合体（共用体）</span></span></h2> 
<h3 id="1%E3%80%81%E5%A3%B0%E6%98%8E" style="background-color:transparent;"><span style="color:#956fe7;"><span style="background-color:#e7fafa;">🌙1、声明</span></span></h3> 
<p>联合体和结构体一样可以有多个成员，成员类型可以不同。</p> 
<p>联合体<strong>所有成员共用一块空间，所以联合体又叫 共用体</strong></p> 
<p><strong>一个联合变量的大小至少是最大成员的大小</strong></p> 
<p>在声明上，联合体和结构体类似，只是把<strong>struct</strong>关键字换成了<strong>union</strong>关键字。</p> 
<p>给联合体一个成员赋值，其他成员的值也会跟着变化</p> 
<pre><code class="language-cpp">#include &lt;stdio.h&gt;
//联合类型的声明
union Un
{
	char c;
	int i;
};
int main()
{
	//联合变量的定义
	union Un un = { 0 };
	//计算连个变量的⼤⼩
	printf("%d\n", sizeof(un));
	return 0;
}</code></pre> 
<p>这里结果为4，因为这里int最大，占四个字节 </p> 
<h3 id="2%E3%80%81%E7%89%B9%E7%82%B9"><span style="color:#956fe7;"><span style="background-color:#e7fafa;">🌙2、特点</span></span></h3> 
<p>代码1</p> 
<pre><code class="language-cpp">#include &lt;stdio.h&gt;
//联合类型的声明
union Un
{
	char c;
	int i;
};
int main()
{
	//联合变量的定义
	union Un un = { 0 };
	// 下⾯输出的结果是⼀样的吗？
	printf("%p\n", &amp;(un.i));
	printf("%p\n", &amp;(un.c));
	printf("%p\n", &amp;un);
	return 0;
}</code></pre> 
<p>运行结果</p> 
<p><img alt="" height="269" src="https://images2.imgbox.com/27/bb/QmhTN3d1_o.png" width="421"></p> 
<p>可以看到这三个地址是一模一样的</p> 
<p>代码2</p> 
<pre><code class="language-cpp">#include &lt;stdio.h&gt;
//联合类型的声明
union Un
{
	char c;
	int i;
};
int main()
{
	//联合变量的定义
	union Un un = { 0 };
	un.i = 0x11223344;
	un.c = 0x55;
	printf("%x\n", un.i);
	return 0;
}</code></pre> 
<p>运行结果 </p> 
<p><img alt="" height="363" src="https://images2.imgbox.com/0d/06/BMtd4gkZ_o.png" width="458"></p> 
<p>可以看到结果不是11223344，第四个字节内容44被换成了55</p> 
<p><img alt="" height="407" src="https://images2.imgbox.com/d0/20/YlvJVZ4b_o.png" width="1183"></p> 
<h3 id="3%E3%80%81%E5%A4%A7%E5%B0%8F%E8%AE%A1%E7%AE%97" style="background-color:transparent;"><span style="color:#956fe7;"><span style="background-color:#e7fafa;">🌙3、大小计算</span></span></h3> 
<p><strong>联合的大小<span style="color:#fe2c24;">至少是</span>最大成员的大小。</strong></p> 
<p><strong>当最大成员大小不是最大对齐数的整数倍的时候，就要对齐到最大对齐数的整数倍 </strong></p> 
<p>（这里最大对齐数和结构体中一样，</p> 
<p>可以参考<a href="https://blog.csdn.net/kiku20231213/article/details/139250294?spm=1001.2014.3001.5502" title="轻松拿捏C语言——自定义类型之【结构体】-CSDN博客">轻松拿捏C语言——自定义类型之【结构体】-CSDN博客</a>）</p> 
<p>举例：</p> 
<pre><code class="language-cpp">#include &lt;stdio.h&gt;
union Un1
{
	char c[5];
	int i;
};
union Un2
{
	short c[7];
	int i;
};
int main()
{
	
	printf("%d\n", sizeof(union Un1));
	printf("%d\n", sizeof(union Un2));
	return 0;
}</code></pre> 
<p style="text-align:center;"> <img alt="" height="258" src="https://images2.imgbox.com/30/12/H3o4JhNG_o.png" width="330"></p> 
<p style="text-align:center;">结果为8和16。</p> 
<p>你对了吗？</p> 
<p>在union Un1中成员有两个，char c[5]占5个字节大小，在vs中1&lt;8,所以char的对齐数为1，int i占4个字节大小，在vs中4&lt;8,所以int类型对齐数为4， 所以在union Un1中最大对齐数为4。</p> 
<p>最大成员大小为5，5不是最大对齐系数4的倍数，所以对齐到8</p> 
<p>在union Un2同理。</p> 
<p><strong>用联合体判断大小端字节序</strong></p> 
<pre><code class="language-cpp">int check_sys()
{
 union
 {
 int i;
 char c;
 }un;
 un.i = 1;
 return un.c;//返回1是⼩端，返回0是⼤端
}</code></pre> 
<h2 id="%E4%BA%8C%E3%80%81%E6%9E%9A%E4%B8%BE%E7%B1%BB%E5%9E%8B" style="background-color:transparent;"><span style="color:#ed7976;"><span style="background-color:#fefcd8;">🌟二、枚举类型</span></span></h2> 
<h3 style="background-color:transparent;"><span style="color:#ed7976;"><span style="background-color:#fefcd8;">🌙1、声明</span></span></h3> 
<p>枚举就是一 一列举，</p> 
<p>比如列举性别有男女，列举月份有1~12月，列举一周有7天</p> 
<p>枚举类型关键字<strong>enum</strong></p> 
<p>星期：</p> 
<pre><code class="language-cpp">enum Day//星期
{
 Mon,
 Tues,
 Wed,
 Thur,
 Fri,
 Sat,
 Sun
};
</code></pre> 
<p>性别：</p> 
<pre><code class="language-cpp">enum Sex//性别
{
 MALE,
 FEMALE,
 SECRET
}；</code></pre> 
<p>这里的enum Day ， enum Sex都是自定义的枚举类型</p> 
<p>{ }中的内容就是枚举类型的可能取值，也叫<strong> 枚举常量</strong></p> 
<p>这些枚举常量是有值的，默认从0开始递增，但也可以在声明的赋初值</p> 
<pre><code class="language-cpp">enum Color//颜⾊
{
 RED=2,
 GREEN=4,
 BLUE=8
};
</code></pre> 
<h3 id="2%E3%80%81%E4%BC%98%E7%82%B9" style="background-color:transparent;"><span style="color:#ed7976;"><span style="background-color:#fefcd8;">🌙2、优点</span></span></h3> 
<p>我们可以用<strong>#define</strong> 定义常量，为什么非要用枚举？</p> 
<p>枚举的<u>优点</u>：</p> 
<p><span style="background-color:#edf6e8;">1. 增加代码的可读性和可维护性</span></p> 
<p><span style="background-color:#edf6e8;">2. 和#define定义的标识符比较枚举有类型检查，更加严谨。</span></p> 
<p><span style="background-color:#edf6e8;">3. 便于调试，预处理阶段会删除 #define 定义的符号</span></p> 
<p><span style="background-color:#edf6e8;">4. 使用方便，一次可以定义多个常量 </span></p> 
<p><span style="background-color:#edf6e8;">5. 枚举常量是遵循作用域规则的，枚举声明在函数内，只能在函数内使用</span></p> 
<h3 id="3%E3%80%81%E4%BD%BF%E7%94%A8" style="background-color:transparent;"><span style="color:#ed7976;"><span style="background-color:#fefcd8;">🌙3、使用</span></span></h3> 
<p>使用枚举常量给枚举变量赋值</p> 
<pre><code class="language-cpp">enum Color//颜⾊
{
 RED=1,
 GREEN=2,
 BLUE=4
};
enum Color clr = GREEN;</code></pre> 
<p>在C语言中可以给枚举变量赋值，比如 enum Color clr = 5;但不推荐这样</p> 
<p>但在C++中这样是不行的 </p> 
<hr> 
<p><img alt="" height="715" src="https://images2.imgbox.com/8d/c6/mQTgfKTA_o.gif" width="715"></p> 
<p><strong> 🎉🎉🎉<span style="color:#38d8f0;"><span style="background-color:#edf6e8;">本文内容结束啦，希望各位大佬多多指教！</span></span></strong></p> 
<p><strong>🌹🌹<span style="color:#a2e043;"><span style="background-color:#fff5e6;">感谢大家三连支持</span></span></strong></p> 
<p><strong>💕<span style="color:#ff9900;"><span style="background-color:#e7fafa;">敬请期待下篇文章吧~</span></span>🥰</strong></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/9a64f33028083cfc869768ef05b5f0cf/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Scikit-Learn 基础教程</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/cc25c95063c1933e5c3dcbbd79261b03/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【 0 基础 Docker 极速入门】镜像、容器、常用命令总结</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>