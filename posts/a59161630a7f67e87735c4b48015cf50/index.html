<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>数据仓库实验一：数据仓库建立实验 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/a59161630a7f67e87735c4b48015cf50/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="数据仓库实验一：数据仓库建立实验">
  <meta property="og:description" content="目录 一、实验目的二、实验要求三、实验内容四、实验步骤1、维表设计2、事实表设计3、新建多维分析和挖掘项目 五、实验结果分析六、实验总结体会 一、实验目的 通过本实验，掌握在Sql Server（2012 或 2008 R2以上版本）中通过 Analysis Services 建立数据仓库的方法。包括如何在 BI Development Studio 的 Analysis Services 项目中定义数据源、数据源视图、维度、属性、层次结构和多维数据集，如何查看多维数据集的维度，理解并掌握 OLAP 分析的基本过程和方法。
二、实验要求 能够针对某个领域的分析主题，建立事实表与维度表，设计星型模型或雪花模型。查看、编辑数据仓库的基本模型（即事实表与维度表之间的关系）。针对某一系统需求，从无到有设计一 个数据仓库基本架构，要求能够按不同维度进行多维数据查询分析。
三、实验内容 某电商的业务销售涵盖全国范围，销售商品有家用电器和通信设备等。已建有网上销售业务管理系统，可以获取每日销售信息和顾客的基本信息等。要求为该电商建立一个能够提高市场竞争能力的数据仓库 SDWS，其主题是电商销售情况分析，包括以下分析功能。
（1）分析全国各地区每年、每季度的销售金额；
（2）分析各类商品在每年、每月的销售量。
（3）分析各年龄层次的顾客购买商品的次数。
（4）分析某年某季度各地区、各类商品的销售量。
（5）分析每年各省份、各年龄层次的商品购买金额。
（6）分析各产品子类、各地区、各年龄层次的销售量。
（7）其他销售情况分析等。
四、实验步骤 为了简化起见，数据仓库采用星型模型。
1、维表设计 在 SSMS 中，设计如下 4 个维度表。
（1）日期维度表Dates
手工录入适量数据：
（2）顾客维度表Customers
手工录入适量数据：
（3）地点维度表Locates
手工录入适量数据：
（4）商品维度表Products
手工录入适量数据：
2、事实表设计 设计一个销售事实表 Sales，对应的表结构如下：
假设该事实表中目前的数据如下所示：
请注意：
（1）以上的 4 个维度表和1个事实表，都设置了主键（这是必须的）。
（2）为 Sales 事实表设置外键约束，使 Date_key，Cust_key，Locate_key，Prod_key 分别参照另外的 4 个维度表中的主键。
可以新建一个查询，为 Sales 表增加 4 个外键约束，如下：">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-03-25T11:03:36+08:00">
    <meta property="article:modified_time" content="2024-03-25T11:03:36+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">数据仓库实验一：数据仓库建立实验</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>目录</h4> 
 <ul><li><ul><li><a href="#_5" rel="nofollow">一、实验目的</a></li><li><a href="#_9" rel="nofollow">二、实验要求</a></li><li><a href="#_13" rel="nofollow">三、实验内容</a></li><li><a href="#_24" rel="nofollow">四、实验步骤</a></li><li><ul><li><a href="#1_28" rel="nofollow">1、维表设计</a></li><li><a href="#2_57" rel="nofollow">2、事实表设计</a></li><li><a href="#3_82" rel="nofollow">3、新建多维分析和挖掘项目</a></li></ul> 
   </li><li><a href="#_177" rel="nofollow">五、实验结果分析</a></li><li><a href="#_188" rel="nofollow">六、实验总结体会</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<hr> 
<p> </p> 
<h3><a id="_5"></a>一、实验目的</h3> 
<p>  通过本实验，掌握在Sql Server（2012 或 2008 R2以上版本）中通过 Analysis Services 建立数据仓库的方法。包括如何在 BI Development Studio 的 Analysis Services 项目中定义数据源、数据源视图、维度、属性、层次结构和多维数据集，如何查看多维数据集的维度，理解并掌握 OLAP 分析的基本过程和方法。</p> 
<h3><a id="_9"></a>二、实验要求</h3> 
<p>  能够针对某个领域的分析主题，建立事实表与维度表，设计星型模型或雪花模型。查看、编辑数据仓库的基本模型（即事实表与维度表之间的关系）。针对某一系统需求，从无到有设计一 个数据仓库基本架构，要求能够按不同维度进行多维数据查询分析。</p> 
<h3><a id="_13"></a>三、实验内容</h3> 
<p>  某电商的业务销售涵盖全国范围，销售商品有家用电器和通信设备等。已建有网上销售业务管理系统，可以获取每日销售信息和顾客的基本信息等。要求为该电商建立一个能够提高市场竞争能力的数据仓库 SDWS，其主题是电商销售情况分析，包括以下分析功能。<br> （1）分析全国各地区每年、每季度的销售金额；<br> （2）分析各类商品在每年、每月的销售量。<br> （3）分析各年龄层次的顾客购买商品的次数。<br> （4）分析某年某季度各地区、各类商品的销售量。<br> （5）分析每年各省份、各年龄层次的商品购买金额。<br> （6）分析各产品子类、各地区、各年龄层次的销售量。<br> （7）其他销售情况分析等。</p> 
<h3><a id="_24"></a>四、实验步骤</h3> 
<p>  为了简化起见，数据仓库采用星型模型。</p> 
<h4><a id="1_28"></a>1、维表设计</h4> 
<p>  在 SSMS 中，设计如下 4 个维度表。</p> 
<p><strong>（1）日期维度表Dates</strong></p> 
<p><img src="https://images2.imgbox.com/3b/a8/KYuFFnxp_o.png" alt="在这里插入图片描述" width="500"><br> 手工录入适量数据：</p> 
<p><img src="https://images2.imgbox.com/f5/69/4fBsWiT7_o.png" alt="在这里插入图片描述" width="500"><br> <strong>（2）顾客维度表Customers</strong></p> 
<p><img src="https://images2.imgbox.com/36/7b/naOkNMwQ_o.png" alt="在这里插入图片描述" width="500"><br> 手工录入适量数据：</p> 
<p><img src="https://images2.imgbox.com/90/22/M5sRrc2Q_o.png" alt="在这里插入图片描述" width="400"><br> <strong>（3）地点维度表Locates</strong></p> 
<p><img src="https://images2.imgbox.com/2f/ac/CGIwr2Rg_o.png" alt="在这里插入图片描述" width="500"><br> 手工录入适量数据：</p> 
<p><img src="https://images2.imgbox.com/c8/9b/7uCX1CsB_o.png" alt="在这里插入图片描述" width="600"><br> <strong>（4）商品维度表Products</strong></p> 
<p><img src="https://images2.imgbox.com/ac/0a/KAKsCQwk_o.png" alt="在这里插入图片描述" width="500"><br> 手工录入适量数据：</p> 
<p><img src="https://images2.imgbox.com/77/7d/Sn0Yj1zg_o.png" alt="在这里插入图片描述" width="600"></p> 
<h4><a id="2_57"></a>2、事实表设计</h4> 
<p>  设计一个销售事实表 Sales，对应的表结构如下：</p> 
<p><img src="https://images2.imgbox.com/8c/68/opVeKvn0_o.png" alt="在这里插入图片描述" width="500"><br> 假设该事实表中目前的数据如下所示：</p> 
<p><img src="https://images2.imgbox.com/72/46/nHJfkJPH_o.png" alt="在这里插入图片描述" width="600"><br> 请注意：<br> （1）以上的 4 个维度表和1个事实表，都设置了主键（这是必须的）。<br> （2）为 Sales 事实表设置外键约束，使 Date_key，Cust_key，Locate_key，Prod_key 分别参照另外的 4 个维度表中的主键。</p> 
<p>可以新建一个查询，为 Sales 表增加 4 个外键约束，如下：</p> 
<pre><code class="prism language-sql"><span class="token keyword">alter</span> <span class="token keyword">table</span> Sales <span class="token keyword">add</span> <span class="token keyword">constraint</span> fk_1 <span class="token keyword">foreign</span> <span class="token keyword">key</span><span class="token punctuation">(</span>Date_key<span class="token punctuation">)</span> <span class="token keyword">references</span> Dates<span class="token punctuation">(</span>Date_key<span class="token punctuation">)</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> Sales <span class="token keyword">add</span> <span class="token keyword">constraint</span> fk_2 <span class="token keyword">foreign</span> <span class="token keyword">key</span><span class="token punctuation">(</span>Cust_key<span class="token punctuation">)</span> <span class="token keyword">references</span> Customers<span class="token punctuation">(</span>Cust_key<span class="token punctuation">)</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> Sales <span class="token keyword">add</span> <span class="token keyword">constraint</span> fk_3 <span class="token keyword">foreign</span> <span class="token keyword">key</span><span class="token punctuation">(</span>Locate_key<span class="token punctuation">)</span> <span class="token keyword">references</span> Locates<span class="token punctuation">(</span>Locate_key<span class="token punctuation">)</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> Sales <span class="token keyword">add</span> <span class="token keyword">constraint</span> fk_4 <span class="token keyword">foreign</span> <span class="token keyword">key</span><span class="token punctuation">(</span>Prod_key<span class="token punctuation">)</span> <span class="token keyword">references</span> Products<span class="token punctuation">(</span>Prod_key<span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/61/d9/QScVhhC0_o.png" alt="在这里插入图片描述" width="800"><br>   在 SSMS 中建好的数据库以及其中的数据表的情况如下所示：</p> 
<p><img src="https://images2.imgbox.com/de/77/pudqtwLc_o.png" alt="在这里插入图片描述" width="300"></p> 
<h4><a id="3_82"></a>3、新建多维分析和挖掘项目</h4> 
<p>  在 Sql Server 2012 的 Data Tools 下（Sql Server 2008 R2 的 BI…），新建 Analysis Services 多维分析和挖掘项目，项目名称自拟。然后分别定义数据源、数据源视图、定义维表、定义多维数据集、部署项目、浏览已部署的多维数据集。</p> 
<p><img src="https://images2.imgbox.com/65/f7/cW1Hl6JQ_o.png" alt="在这里插入图片描述" width="350"><br> <strong>（1）定义数据源</strong></p> 
<p>打开 SSDT，创建 SSAS 项目，连接数据源。</p> 
<p><img src="https://images2.imgbox.com/8a/18/s5Uo2g1L_o.png" alt="在这里插入图片描述" width="600"><br> 右键 “数据源” 点击 “新建数据源”。服务器名填入 LocalHost，再选择数据库。</p> 
<p><img src="https://images2.imgbox.com/ea/0e/19IUCKik_o.png" alt="在这里插入图片描述" width="500"><br> 选择刚创建的数据连接 “LocalHost.SDWS”。</p> 
<p><img src="https://images2.imgbox.com/98/66/Cli0LvRs_o.png" alt="在这里插入图片描述" width="500"><br> 下一步，选择 “使用服务账户”。</p> 
<p><img src="https://images2.imgbox.com/03/56/RYCIMjRJ_o.png" alt="在这里插入图片描述" width="500"><br> 最后，完成数据源定义。</p> 
<p><img src="https://images2.imgbox.com/fe/44/qxLQoIuR_o.png" alt="在这里插入图片描述" width="500"><br> <strong>（2）定义数据源视图</strong></p> 
<p>右键 “数据源视图”，点击 “新建数据源视图”，选择数据源 SDWS。</p> 
<p><img src="https://images2.imgbox.com/b1/94/lCNGrcfr_o.png" alt="在这里插入图片描述" width="500"><br> 点击左右箭头即可选中对应表格，右边为选择表格，全部选中即可。</p> 
<p><img src="https://images2.imgbox.com/41/04/32aDHbVp_o.png" alt="在这里插入图片描述" width="500"><br> <img src="https://images2.imgbox.com/f2/8c/QPTf5P7U_o.png" alt="在这里插入图片描述" width="500"><br> 数据源视图就创建好了。</p> 
<p><img src="https://images2.imgbox.com/de/76/sFgi9fho_o.png" alt="在这里插入图片描述" width="600"><br> <strong>（3）定义维表</strong></p> 
<p>右键维度，新建维表。</p> 
<p><img src="https://images2.imgbox.com/c2/df/a3Wp7m8H_o.png" alt="在这里插入图片描述" width="500"><br> <img src="https://images2.imgbox.com/83/6c/otuejUJI_o.png" alt="在这里插入图片描述" width="500"><br> “可用属性” 要全部勾选。</p> 
<p><img src="https://images2.imgbox.com/1f/7d/L0qc8O4i_o.png" alt="在这里插入图片描述" width="500"><br> 单机 “完成”，保存维度。<br> <img src="https://images2.imgbox.com/e9/75/qDB09xci_o.png" alt="在这里插入图片描述" width="500"><br> Dates、Locates、Products维表的创建方法一样。</p> 
<p><strong>（4）定义多维数据集</strong></p> 
<p>右键 “多维数据集”，新建多维数据集。</p> 
<p><img src="https://images2.imgbox.com/b4/92/OHBxDxpb_o.png" alt="在这里插入图片描述" width="500"><br> 选择度量表（事实表）为 Sales，选择度量值。</p> 
<p><img src="https://images2.imgbox.com/b4/52/6EG4bc09_o.png" alt="在这里插入图片描述" width="500"><br> <img src="https://images2.imgbox.com/8a/ae/LNXhfwvL_o.png" alt="在这里插入图片描述" width="500"><br> 维度表要全选。</p> 
<p><img src="https://images2.imgbox.com/04/12/R3tjMoLN_o.png" alt="在这里插入图片描述" width="500"><br> 单机 “完成”，保存多维数据集。</p> 
<p><img src="https://images2.imgbox.com/ea/e7/ZtfKfDa4_o.png" alt="在这里插入图片描述" width="500"><br> 设置完后右击项目名称点击 “部署”，即可部署成功。最后就出现了星型模型。</p> 
<p><img src="https://images2.imgbox.com/48/79/TV6K5p8E_o.png" alt="在这里插入图片描述" width="600"><br>   关于维度的层次结构的定义、维度的处理，以及多维数据集的部署。最终完成后的界面参照如下：（基于SQLServer2012版本）</p> 
<p>数据集部署成功后：</p> 
<p><img src="https://images2.imgbox.com/4d/e8/esUTKc5o_o.png" alt="在这里插入图片描述" width="400"><br> <img src="https://images2.imgbox.com/fd/53/znOc2OGx_o.png" alt="在这里插入图片描述" width="600"><br> Customers维度配置：</p> 
<p><img src="https://images2.imgbox.com/dc/b4/0yI3SsbD_o.png" alt="在这里插入图片描述" width="600"><br> <img src="https://images2.imgbox.com/ee/eb/otWqjwdf_o.png" alt="在这里插入图片描述" width="500"><br> <img src="https://images2.imgbox.com/d1/90/7bP0jOLM_o.png" alt="在这里插入图片描述" width="600"><br> Dates维度配置：</p> 
<p><img src="https://images2.imgbox.com/31/13/ezD3jsiW_o.png" alt="在这里插入图片描述" width="600"><br> <img src="https://images2.imgbox.com/1d/e2/VdEWyiJX_o.png" alt="在这里插入图片描述" width="500"><br> <img src="https://images2.imgbox.com/da/7b/76lHVsSo_o.png" alt="在这里插入图片描述" width="600"><br> Locates维度配置：</p> 
<p><img src="https://images2.imgbox.com/8a/88/Llis1U07_o.png" alt="在这里插入图片描述" width="600"><br> <img src="https://images2.imgbox.com/3e/27/pIh7NWek_o.png" alt="在这里插入图片描述" width="600"><br> <img src="https://images2.imgbox.com/09/ff/wRjVGqjt_o.png" alt="在这里插入图片描述" width="600"><br> Products维度配置：</p> 
<p><img src="https://images2.imgbox.com/1d/db/TpSkeO8b_o.png" alt="在这里插入图片描述" width="600"><br> <img src="https://images2.imgbox.com/95/1b/3AntnDZR_o.png" alt="在这里插入图片描述" width="500"><br> <img src="https://images2.imgbox.com/c0/b4/KU9qP2LY_o.png" alt="在这里插入图片描述" width="600"><br> 多维数据集浏览时，以下是参照界面：</p> 
<p><img src="https://images2.imgbox.com/a7/6b/Edo6pezB_o.png" alt="在这里插入图片描述" width="800"><br> <img src="https://images2.imgbox.com/73/f6/UVNpWwjR_o.png" alt="在这里插入图片描述" width="800"></p> 
<h3><a id="_177"></a>五、实验结果分析</h3> 
<p>（1）数据源定义：通过定义数据源，实现了与实际数据源的连接，确保了数据仓库能够获取到所需的源数据进行分析处理。<br> （2）数据源视图定义：通过定义数据源视图，实现了对数据源的抽象和简化，使得在多维分析项目中能够更方便地使用数据。<br> （3）维表定义：日期、顾客、地点和商品等维度表的创建和定义，为多维分析提供了关键维度信息，使得可以按照不同维度进行数据查询和分析。<br> （4）多维数据集定义：通过定义多维数据集，建立了事实表与维度表之间的关联，实现了多维数据的存储和分析，满足了电商销售情况分析的各项需求。<br> （5）数据集部署成功：成功部署了多维数据集项目，确保了数据仓库的数据可用性和准确性，使得可以进行后续的多维分析操作。<br> （6）维度配置和多维数据集浏览：通过对不同维度的配置和多维数据集的浏览，可以实现对电商销售情况的全面分析，包括地区销售金额、商品销售量、顾客购买行为等多方面的详细分析。</p> 
<p>  总的来说，实验结果表明成功建立了针对电商销售情况分析的数据仓库 SDWS，并实现了多维分析的基本功能。通过对数据进行多维分析，可以深入挖掘数据背后的规律和趋势，为电商企业提供决策支持和市场竞争优势。</p> 
<h3><a id="_188"></a>六、实验总结体会</h3> 
<p>  数据仓库的设计过程需要充分理解业务需求和数据特点，结合具体业务场景进行建模。在本实验中，针对电商销售情况分析的需求，采用了星型模型来设计数据仓库的维度表和事实表，这样的设计能够简洁清晰地反映业务事件的关联关系。<br>   在数据仓库的设计中，维度表的设计尤为重要。日期、顾客、地点和商品等维度在电商销售分析中扮演着关键的角色，通过手工录入适量数据并设置主键，为多维分析提供了基础数据支持。事实表的设计需要与维度表进行关联，并且需要考虑外键约束的设置，以保证数据的完整性和准确性。在本实验中，销售事实表Sales与日期、顾客、地点和商品等维度表建立了外键约束，确保了数据的关联性。<br>   在实际操作中，使用 SQL Server 提供的工具（如 SSMS 和 Data Tools）进行数据仓库的建模和多维分析项目的开发，能够有效提高效率并简化操作流程。通过定义数据源、数据源视图、维表、多维数据集等，完成了数据仓库的搭建和多维分析项目的部署。<br>   最终，通过多维数据集的浏览和配置，可以对电商销售情况进行多维分析，满足了实验中提出的各项分析需求，包括地区销售金额分析、商品销售量分析、顾客购买行为分析等多个方面的需求。<br>   总的来说，本次实验使我深入了解了数据仓库的建立方法和多维分析的基本过程，对于应用 SQL Server 进行数据仓库建模和多维分析项目开发有了更深入的理解和实践经验。这对我今后在类似领域的工作和研究中将会起到积极的指导和帮助作用。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/96269d48392876f5e1822b3884b4b70d/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Android获取经纬度的最佳实现方式</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e6cafa064b9c711784fc0367886eb9e2/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">springboot项目接入Oracle数据库配置</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>