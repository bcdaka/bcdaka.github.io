<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>如何在 Ubuntu 20.04 上安装 Rust - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/dfc0960639da5dbb0af7a15befee61c1/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="如何在 Ubuntu 20.04 上安装 Rust">
  <meta property="og:description" content="前些天发现了一个人工智能学习网站，通俗易懂，风趣幽默，最重要的屌图甚多，忍不住分享一下给大家。点击跳转到网站。
如何在 Ubuntu 20.04 上安装 Rust 介绍 Rust 编程语言，是一种功能强大的通用编程语言。Rust 在语法上与C&#43;&#43;类似，用于广泛的软件开发项目，包括浏览器组件、游戏引擎和操作系统。
在本文中，将在 Ubuntu 20.04 上安装最新版本的 Rust（1.66），然后创建、编译和运行测试程序。
**注意：**本文也适用于 Ubuntu 22.04，但是，可能会出现apt upgrade针对各种问题的交互式对话框。例如，系统可能会询问是否要在需要时自动重新启动服务，或者是否要替换已修改的配置文件。这些问题的答案取决于自身的软件和偏好，本文不会提及。
先决条件 需要一台 Ubuntu 20.04 服务器，并具有启用 sudo 的非 root 用户和防火墙。可以按照Ubuntu 20.04 初始服务器设置教程进行设置。
第 1 步 — 使用rustup在 Ubuntu 上安装 Rust 尽管在 Linux 上安装 Rust 有多种不同的方法，但推荐的方法是使用rustup命令行工具。
运行命令下载该rustup工具并安装 Rust 的最新稳定版本：
curl --proto &#39;=https&#39; --tlsv1.3 https://sh.rustup.rs -sSf | sh 系统会提示选择安装类型：
Outputsammy@ubuntu:~$ curl --proto &#39;=https&#39; --tlsv1.3 https://sh.rustup.rs -sSf | sh info: downloading installer Welcome to Rust!">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-01-11T13:56:59+08:00">
    <meta property="article:modified_time" content="2024-01-11T13:56:59+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">如何在 Ubuntu 20.04 上安装 Rust</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>前些天发现了一个人工智能学习网站，通俗易懂，风趣幽默，最重要的屌图甚多，忍不住分享一下给大家。<a href="https://www.captainbed.cn/timi" rel="nofollow">点击跳转到网站</a>。</p> 
<h2><a id="_Ubuntu_2004__Rust_2"></a>如何在 Ubuntu 20.04 上安装 Rust</h2> 
<h4><a id="_4"></a>介绍</h4> 
<p>Rust 编程语言，是一种功能强大的通用编程语言。Rust 在语法上与C++类似，用于广泛的软件开发项目，包括浏览器组件、游戏引擎和操作系统。</p> 
<p>在本文中，将在 Ubuntu 20.04 上安装最新版本的 Rust（1.66），然后创建、编译和运行测试程序。</p> 
<p>**注意：**本文也适用于 Ubuntu 22.04，但是，可能会出现<code>apt upgrade</code>针对各种问题的交互式对话框。例如，系统可能会询问是否要在需要时自动重新启动服务，或者是否要替换已修改的配置文件。这些问题的答案取决于自身的软件和偏好，本文不会提及。</p> 
<h3><a id="_12"></a>先决条件</h3> 
<p>需要一台 Ubuntu 20.04 服务器，并具有启用 sudo 的非 root 用户和防火墙。<a href="https://blog.csdn.net/qq_35241329/article/details/135388646?spm=1001.2014.3001.5501">可以按照Ubuntu 20.04 初始服务器设置</a>教程进行设置。</p> 
<h3><a id="_1___rustup_Ubuntu__Rust_16"></a>第 1 步 — 使用rustup在 Ubuntu 上安装 Rust</h3> 
<p>尽管在 Linux 上安装 Rust 有多种不同的方法，但推荐的方法是使用<code>rustup</code>命令行工具。</p> 
<p>运行命令下载该<code>rustup</code>工具并安装 Rust 的最新稳定版本：</p> 
<pre><code class="prism language-bash"><span class="token function">curl</span> <span class="token parameter variable">--proto</span> <span class="token string">'=https'</span> <span class="token parameter variable">--tlsv1.3</span> https://sh.rustup.rs <span class="token parameter variable">-sSf</span> <span class="token operator">|</span> <span class="token function">sh</span>
</code></pre> 
<p>系统会提示选择安装类型：</p> 
<pre><code>Outputsammy@ubuntu:~$ curl --proto '=https' --tlsv1.3 https://sh.rustup.rs -sSf | sh
info: downloading installer

Welcome to Rust!

This will download and install the official compiler for the Rust
programming language, and its package manager, Cargo.

Rustup metadata and toolchains will be installed into the Rustup
home directory, located at:

  /home/sammy/.rustup

This can be modified with the RUSTUP_HOME environment variable.

The Cargo home directory is located at:

  /home/sammy/.cargo

This can be modified with the CARGO_HOME environment variable.

The cargo, rustc, rustup and other commands will be added to
Cargo's bin directory, located at:

  /home/sammy/.cargo/bin

This path will then be added to your PATH environment variable by
modifying the profile files located at:

  /home/sammy/.profile
  /home/sammy/.bashrc

You can uninstall at any time with rustup self uninstall and
these changes will be reverted.

Current installation options:


   default host triple: x86_64-unknown-linux-gnu
     default toolchain: stable (default)
               profile: default
  modify PATH variable: yes

1) Proceed with installation (default)
2) Customize installation
3) Cancel installation
&gt;
</code></pre> 
<p>这里使用默认选项 1。但是，如果你熟悉<code>rustup</code>安装程序并想要自定义安装，则可以选择选项 2。输入选择并按<code>Enter</code>。</p> 
<p>选项 1 的输出为：</p> 
<pre><code>Outputinfo: profile set to 'default'
info: default host triple is x86_64-unknown-linux-gnu
info: syncing channel updates for 'stable-x86_64-unknown-linux-gnu'
info: latest update on 2023-01-10, rust version 1.66.1 (90743e729 2023-01-10)
info: downloading component 'cargo'
info: downloading component 'clippy'
info: downloading component 'rust-docs'
info: downloading component 'rust-std'
info: downloading component 'rustc'
 67.4 MiB /  67.4 MiB (100 %)  40.9 MiB/s in  1s ETA:  0s
info: downloading component 'rustfmt'
info: installing component 'cargo'
  6.6 MiB /   6.6 MiB (100 %)   5.5 MiB/s in  1s ETA:  0s
info: installing component 'clippy'
info: installing component 'rust-docs'
 19.1 MiB /  19.1 MiB (100 %)   2.4 MiB/s in  7s ETA:  0s
info: installing component 'rust-std'
 30.0 MiB /  30.0 MiB (100 %)   5.6 MiB/s in  5s ETA:  0s
info: installing component 'rustc'
 67.4 MiB /  67.4 MiB (100 %)   5.9 MiB/s in 11s ETA:  0s
info: installing component 'rustfmt'
info: default toolchain set to 'stable-x86_64-unknown-linux-gnu'

  stable-x86_64-unknown-linux-gnu installed - rustc 1.66.1 (90743e729 2023-01-10)


Rust is installed now. Great!

To get started you may need to restart your current shell.
This would reload your PATH environment variable to include
Cargo's bin directory ($HOME/.cargo/bin).

To configure your current shell, run:
source "$HOME/.cargo/env"
sammy@ubuntu:~$ 
</code></pre> 
<p>接下来，运行以下命令将Rust工具链目录添加到PATH环境变量中：</p> 
<pre><code class="prism language-bash"><span class="token builtin class-name">source</span> <span class="token environment constant">$HOME</span>/.cargo/env
</code></pre> 
<h3><a id="_2____126"></a>第 2 步 — 验证安装</h3> 
<p>通过请求版本来验证 Rust 安装：</p> 
<pre><code class="prism language-bash">rustc <span class="token parameter variable">--version</span>
</code></pre> 
<p><code>rustc --version</code>命令返回系统上安装的 Rust 编程语言的版本。例如：</p> 
<pre><code>Outputsammy@ubuntu:~$ rustc --version
rustc 1.66.1 (90743e729 2023-01-10)
sammy@ubuntu:~$ 
</code></pre> 
<h3><a id="_3____142"></a>第 3 步 — 安装编译器</h3> 
<p>Rust 需要一个链接器程序将编译后的输出连接到一个文件中。<code>gcc</code>包中的GNU编译器集合 包含一个链接器。如果不安装<code>gcc</code>，那么在尝试编译时可能会出现以下错误：</p> 
<pre><code>error: linker `cc` not found
  |
  = note: No such file or directory (os error 2)

error: aborting due to previous error
</code></pre> 
<p>可以使用<code>apt</code>安装<code>build-essential</code>软件包。</p> 
<p>首先，更新Apt包索引：</p> 
<pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">apt</span> update
</code></pre> 
<p>如果出现提示，请输入密码以继续。<code>apt update</code>命令输出可以升级的软件包列表。例如：</p> 
<pre><code>Outputsammy@ubuntu:~$ sudo apt update
[sudo] password for sammy: 
Hit:1 http://mirrors.digitalocean.com/ubuntu focal InRelease
Get:2 http://mirrors.digitalocean.com/ubuntu focal-updates InRelease [114 kB]                                   
Hit:3 https://repos-droplet.digitalocean.com/apt/droplet-agent main InRelease                                   
Get:4 http://mirrors.digitalocean.com/ubuntu focal-backports InRelease [108 kB]                               
Get:5 http://security.ubuntu.com/ubuntu focal-security InRelease [114 kB]
Get:6 http://mirrors.digitalocean.com/ubuntu focal-updates/main amd64 Packages [2336 kB]
Get:7 http://mirrors.digitalocean.com/ubuntu focal-updates/main Translation-en [403 kB]
Get:8 http://mirrors.digitalocean.com/ubuntu focal-updates/main amd64 c-n-f Metadata [16.2 kB]
Get:9 http://mirrors.digitalocean.com/ubuntu focal-updates/restricted amd64 Packages [1560 kB]
Get:10 http://mirrors.digitalocean.com/ubuntu focal-updates/restricted Translation-en [220 kB]
Get:11 http://mirrors.digitalocean.com/ubuntu focal-updates/restricted amd64 c-n-f Metadata [620 B]
Get:12 http://mirrors.digitalocean.com/ubuntu focal-updates/universe amd64 Packages [1017 kB]
Get:13 http://mirrors.digitalocean.com/ubuntu focal-updates/universe Translation-en [236 kB]
Get:14 http://mirrors.digitalocean.com/ubuntu focal-updates/universe amd64 c-n-f Metadata [23.2 kB]
Get:15 http://mirrors.digitalocean.com/ubuntu focal-updates/multiverse amd64 Packages [25.2 kB]
Get:16 http://mirrors.digitalocean.com/ubuntu focal-updates/multiverse Translation-en [7408 B]
Get:17 http://mirrors.digitalocean.com/ubuntu focal-updates/multiverse amd64 c-n-f Metadata [604 B]
Get:18 http://mirrors.digitalocean.com/ubuntu focal-backports/main amd64 Packages [45.7 kB]
Get:19 http://mirrors.digitalocean.com/ubuntu focal-backports/main Translation-en [16.3 kB]
Get:20 http://mirrors.digitalocean.com/ubuntu focal-backports/main amd64 c-n-f Metadata [1420 B]
Get:21 http://mirrors.digitalocean.com/ubuntu focal-backports/universe amd64 Packages [24.9 kB]
Get:22 http://mirrors.digitalocean.com/ubuntu focal-backports/universe Translation-en [16.3 kB]
Get:23 http://mirrors.digitalocean.com/ubuntu focal-backports/universe amd64 c-n-f Metadata [880 B]
Get:24 http://security.ubuntu.com/ubuntu focal-security/main amd64 Packages [1960 kB]
Get:25 http://security.ubuntu.com/ubuntu focal-security/main Translation-en [320 kB]
Get:26 http://security.ubuntu.com/ubuntu focal-security/main amd64 c-n-f Metadata [11.7 kB]
Get:27 http://security.ubuntu.com/ubuntu focal-security/restricted amd64 Packages [1463 kB]
Get:28 http://security.ubuntu.com/ubuntu focal-security/restricted Translation-en [207 kB]
Get:29 http://security.ubuntu.com/ubuntu focal-security/restricted amd64 c-n-f Metadata [624 B]
Get:30 http://security.ubuntu.com/ubuntu focal-security/universe amd64 Packages [786 kB]
Get:31 http://security.ubuntu.com/ubuntu focal-security/universe Translation-en [152 kB]
Get:32 http://security.ubuntu.com/ubuntu focal-security/universe amd64 c-n-f Metadata [16.9 kB]
Get:33 http://security.ubuntu.com/ubuntu focal-security/multiverse amd64 Packages [22.2 kB]
Get:34 http://security.ubuntu.com/ubuntu focal-security/multiverse Translation-en [5464 B]
Get:35 http://security.ubuntu.com/ubuntu focal-security/multiverse amd64 c-n-f Metadata [516 B]
Fetched 11.2 MB in 5s (2131 kB/s)                          
Reading package lists... Done
Building dependency tree       
Reading state information... Done
103 packages can be upgraded. Run 'apt list --upgradable' to see them.
sammy@ubuntu:~$ 
</code></pre> 
<p>接下来，升级所有过时的软件包：</p> 
<pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">apt</span> upgrade
</code></pre> 
<p>如果提示继续升级，请输入<code>Y</code>。</p> 
<p>升级完成后，安装<code>build-essential</code>软件包：</p> 
<pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> build-essential
</code></pre> 
<p>当提示继续安装时输入<code>Y</code>。当终端返回到命令提示符并且没有错误消息时，安装完成。</p> 
<h3><a id="_4____226"></a>第 4 步 — 创建、编译和运行测试程序</h3> 
<p>在此步骤中，将创建一个测试程序来尝试 Rust 并验证它是否正常工作。</p> 
<p>首先创建一些目录来存储测试脚本：</p> 
<pre><code class="prism language-bash"><span class="token function">mkdir</span> ~/rustprojects
<span class="token builtin class-name">cd</span> ~/rustprojects
<span class="token function">mkdir</span> testdir
<span class="token builtin class-name">cd</span> testdir
</code></pre> 
<p>使用<code>nano</code>或喜欢的文本编辑器创建一个文件<code>testdir</code>来存储 Rust 代码：</p> 
<pre><code class="prism language-bash"><span class="token function">nano</span> test.rs
</code></pre> 
<p>需要为所有 Rust 程序使用<code>.rs</code>扩展。</p> 
<p>将以下代码复制到<code>test.rs</code>并保存文件：</p> 
<p>test.rs</p> 
<pre><code class="prism language-rust"><span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"Congratulations! Your Rust program works."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>使用以下命令编译代码：</p> 
<pre><code class="prism language-bash">rustc test.rs
</code></pre> 
<p>运行生成的可执行文件：</p> 
<pre><code class="prism language-bash">./test
</code></pre> 
<p>程序打印到终端：</p> 
<pre><code>Outputsammy@ubuntu:~/rustprojects/testdir$ ./test
Congratulations! Your Rust program works.
sammy@ubuntu:~/rustprojects/testdir$
</code></pre> 
<h3><a id="_Rust__277"></a>其他常用 Rust 命令</h3> 
<p>定期更新 Ubuntu 上的 Rust 安装是必要的。</p> 
<p>输入以下命令来更新 Rust：</p> 
<pre><code class="prism language-bash">rustup update
</code></pre> 
<p>还可以从系统中删除 Rust 及其关联的存储库。</p> 
<p>输入以下命令来卸载 Rust：</p> 
<pre><code class="prism language-bash">rustup self uninstall
</code></pre> 
<p>系统会提示输入<code>Y</code>以继续卸载过程：</p> 
<pre><code>Outputammy@ubuntu:~/rustprojects/testdir$ rustup self uninstall


Thanks for hacking in Rust!

This will uninstall all Rust toolchains and data, and remove
$HOME/.cargo/bin from your PATH environment variable.

Continue? (y/N)
</code></pre> 
<p>输入<code>Y</code>以继续：</p> 
<pre><code>OutputContinue? (y/N) y

info: removing rustup home
info: removing cargo home
info: removing rustup binaries
info: rustup is uninstalled
sammy@ubuntu:~/rustprojects/testdir$ 
</code></pre> 
<p>Rust 已从系统中删除。</p> 
<h3><a id="_323"></a>结论</h3> 
<p>现在已经在 Ubuntu 上安装并测试了 Rust。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/8cfffc5b8c59d655ff8c6964472cd06c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Mac上使用phpstudy&#43;vscode配置PHP开发环境</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/ef522a726a24f0f569730baad9c253d3/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【算法】基础算法001之双指针</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>