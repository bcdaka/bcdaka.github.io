<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>SpringBoot中fastjson扩展: 自定义序列化和反序列化方法实战 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/699c92201064ece94e2247579c2e9a4a/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="SpringBoot中fastjson扩展: 自定义序列化和反序列化方法实战">
  <meta property="og:description" content="❃博主首页 ： 「码到三十五」 ，同名公众号 :「码到三十五」，wx号 : 「liwu0213」 ☠博主专栏 ： &lt;mysql高手&gt; &lt;elasticsearch高手&gt; &lt;源码解读&gt; &lt;java核心&gt; &lt;面试攻关&gt; ♝博主的话 ： 搬的每块砖，皆为峰峦之基；公众号搜索「码到三十五」关注这个爱发技术干货的coder，一起筑基 目录 1. 扩展点的用途2. 序列化扩展点2.1. SerializeFilter2.2. SerializerFeature2.3. SerializeConfig2.4. 自定义序列化器（Serializer）2.5. 序列化过滤器（SerializeFilter）2.6. 自定义日期格式化 2. 反序列化扩展点2.1. ParseProcess2.2. ParserConfig2.3. 自定义反序列化器（Deserializer）2.4. 解析过程（ParseProcess） 在fastjson库中，为了提供灵活的序列化和反序列化机制，设计了一系列的扩展点。以下是在SpringBoot和SpringClould环境中对这些扩展点的详细介绍及其实战使用：
1. 扩展点的用途 fastjson提供的这些扩展点为用户提供了极大的灵活性，可以根据实际需求定制序列化和反序列化的行为。SpringBoot和SpringClould环境中,可以通过SerializeFilter和ParserProcess定制复杂的序列化和反序列化逻辑，通过SerializerFeature和ParserFeature控制序列化和反序列化的输出格式和特性，以及通过SerializeConfig和ParserConfig进行全局配置。这些扩展点不仅简化了用户代码，也提高了系统的可维护性和可扩展性。
2. 序列化扩展点 2.1. SerializeFilter 用途：用于在序列化过程中定制输出，如过滤某些字段、修改字段值等。使用方法： 实现SerializeFilter接口或其子接口（如SimplePropertyPreFilter、PropertyFilter等）。在序列化时，通过JSON.toJSONString等方法的重载版本传入自定义的SerializeFilter实例。 SerializeFilter filter = new SimplePropertyPreFilter() { @Override public boolean accept(int index, JavaBeanSerializer beanSer, Object object, Object fieldName, Object fieldVal) { // 定制序列化逻辑 return true; // 返回true表示保留该字段，false表示过滤 } }; String jsonStr = JSON.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-07-20T22:48:08+08:00">
    <meta property="article:modified_time" content="2024-07-20T22:48:08+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">SpringBoot中fastjson扩展: 自定义序列化和反序列化方法实战</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <div> 
 <font color="#c09008" size="3"><strong> ❃博主首页 ：</strong></font> 
 <a href="https://blog.csdn.net/qq_26664043"><font size="3"> 「码到三十五」</font></a> 
 <font color="#555bbbb" size="3"> ，同名公众号 :「码到三十五」，wx号 : 「liwu0213」 </font> 
 <br> 
 <font color="#c09008" size="3"><strong>☠博主专栏 ：</strong></font> 
 <a href="https://blog.csdn.net/qq_26664043/category_12712562.html" size="6"><font color="#555bbbb" size="3"> &lt;mysql高手&gt; </font></a> 
 <a href="https://blog.csdn.net/qq_26664043/category_12712557.html" size="6"><font color="#555bbbb" size="3"> &lt;elasticsearch高手&gt; </font></a> 
 <a href="https://blog.csdn.net/qq_26664043/category_12376895.html" size="6"><font color="#555bbbb" size="3"> &lt;源码解读&gt; </font></a> 
 <a href="https://blog.csdn.net/qq_26664043/category_12587226.html" size="6"><font color="#555bbbb" size="3"> &lt;java核心&gt; </font></a> 
 <a href="https://blog.csdn.net/qq_26664043/category_12588169.html" size="6"><font color="#555bbbb" size="3"> &lt;面试攻关&gt; </font></a> 
 <br> 
 <font color="#c09008" size="3"><strong>♝博主的话 ：</strong></font> 
 <font color="#555bbbb" size="3">搬的每块砖，皆为峰峦之基；公众号搜索「码到三十五」关注这个爱发技术干货的coder，一起筑基 </font> 
</div> 
<hr> 
<p></p> 
<div class="toc"> 
 <h4>目录</h4> 
 <ul><li><ul><li><ul><li><a href="#1__24" rel="nofollow">1. 扩展点的用途</a></li><li><a href="#2__28" rel="nofollow">2. 序列化扩展点</a></li><li><ul><li><a href="#21_SerializeFilter_30" rel="nofollow">2.1. SerializeFilter</a></li><li><a href="#22_SerializerFeature_47" rel="nofollow">2.2. SerializerFeature</a></li><li><a href="#23__SerializeConfig_56" rel="nofollow">2.3. SerializeConfig</a></li><li><a href="#24_Serializer_68" rel="nofollow">2.4. 自定义序列化器（Serializer）</a></li><li><a href="#25_SerializeFilter_87" rel="nofollow">2.5. 序列化过滤器（SerializeFilter）</a></li><li><a href="#26__107" rel="nofollow">2.6. 自定义日期格式化</a></li></ul> 
    </li><li><a href="#2__122" rel="nofollow">2. 反序列化扩展点</a></li><li><ul><li><a href="#21_ParseProcess_124" rel="nofollow">2.1. ParseProcess</a></li><li><a href="#22_ParserConfig_139" rel="nofollow">2.2. ParserConfig</a></li><li><a href="#23_Deserializer_167" rel="nofollow">2.3. 自定义反序列化器（Deserializer）</a></li><li><a href="#24_ParseProcess_186" rel="nofollow">2.4. 解析过程（ParseProcess）</a></li></ul> 
   </li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<p>在fastjson库中，为了提供灵活的序列化和反序列化机制，设计了一系列的扩展点。以下是在SpringBoot和SpringClould环境中对这些扩展点的详细介绍及其实战使用：<br> <img src="https://images2.imgbox.com/e7/bd/PzHP8cmi_o.jpg" alt="在这里插入图片描述"></p> 
<h4><a id="1__24"></a>1. 扩展点的用途</h4> 
<p>fastjson提供的这些扩展点为用户提供了极大的灵活性，可以根据实际需求定制序列化和反序列化的行为。SpringBoot和SpringClould环境中,可以通过<code>SerializeFilter</code>和<code>ParserProcess</code>定制复杂的序列化和反序列化逻辑，通过<code>SerializerFeature</code>和<code>ParserFeature</code>控制序列化和反序列化的输出格式和特性，以及通过<code>SerializeConfig</code>和<code>ParserConfig</code>进行全局配置。这些扩展点不仅简化了用户代码，也提高了系统的可维护性和可扩展性。</p> 
<h4><a id="2__28"></a>2. 序列化扩展点</h4> 
<h5><a id="21_SerializeFilter_30"></a>2.1. SerializeFilter</h5> 
<ul><li><strong>用途</strong>：用于在序列化过程中定制输出，如过滤某些字段、修改字段值等。</li><li><strong>使用方法</strong>： 
  <ul><li>实现<code>SerializeFilter</code>接口或其子接口（如<code>SimplePropertyPreFilter</code>、<code>PropertyFilter</code>等）。</li><li>在序列化时，通过<code>JSON.toJSONString</code>等方法的重载版本传入自定义的<code>SerializeFilter</code>实例。</li></ul> </li></ul> 
<pre><code class="prism language-java"><span class="token class-name">SerializeFilter</span> filter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimplePropertyPreFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">accept</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">,</span> <span class="token class-name">JavaBeanSerializer</span> beanSer<span class="token punctuation">,</span> <span class="token class-name">Object</span> object<span class="token punctuation">,</span> <span class="token class-name">Object</span> fieldName<span class="token punctuation">,</span> <span class="token class-name">Object</span> fieldVal<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 定制序列化逻辑</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// 返回true表示保留该字段，false表示过滤</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> jsonStr <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> filter<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h5><a id="22_SerializerFeature_47"></a>2.2. SerializerFeature</h5> 
<ul><li><strong>用途</strong>：控制序列化的输出格式和特性。</li><li><strong>使用方法</strong>： 
  <ul><li>在序列化时，通过<code>JSON.toJSONString</code>等方法的重载版本传入<code>SerializerFeature</code>枚举值来控制序列化特性。</li></ul> </li></ul> 
<pre><code class="prism language-java"><span class="token class-name">String</span> jsonStr <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token class-name">SerializerFeature<span class="token punctuation">.</span>PrettyFormat</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 格式化输出</span>
</code></pre> 
<h5><a id="23__SerializeConfig_56"></a>2.3. SerializeConfig</h5> 
<ul><li><strong>用途</strong>：全局配置序列化行为，如自定义序列化器、日期格式等。</li><li><strong>使用方法</strong>： 
  <ul><li>创建<code>SerializeConfig</code>实例并配置相关选项。</li><li>在序列化时，通过<code>JSON.toJSONString</code>等方法的重载版本传入<code>SerializeConfig</code>实例。</li></ul> </li></ul> 
<pre><code class="prism language-java"><span class="token class-name">SerializeConfig</span> config <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SerializeConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 配置...</span>
<span class="token class-name">String</span> jsonStr <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> config<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h5><a id="24_Serializer_68"></a>2.4. 自定义序列化器（Serializer）</h5> 
<p>fastjson允许用户自定义序列化器，用于控制特定类型的序列化过程。用户需要实现<code>SerializerFeature</code>接口，并重写<code>write</code>方法。</p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CustomSerializer</span> <span class="token keyword">implements</span> <span class="token class-name">SerializerFeature</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">write</span><span class="token punctuation">(</span><span class="token class-name">JSONSerializer</span> serializer<span class="token punctuation">,</span> <span class="token class-name">Object</span> object<span class="token punctuation">,</span> <span class="token class-name">Object</span> fieldName<span class="token punctuation">,</span> <span class="token class-name">Type</span> fieldType<span class="token punctuation">,</span> <span class="token keyword">int</span> features<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 自定义序列化逻辑</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>在序列化过程中，可以通过<code>SerializerFeature</code>枚举值来指定使用自定义序列化器。</p> 
<pre><code class="prism language-java"><span class="token class-name">String</span> jsonStr <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token class-name">SerializerFeature<span class="token punctuation">.</span>CustomSerializer</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">CustomSerializer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h5><a id="25_SerializeFilter_87"></a>2.5. 序列化过滤器（SerializeFilter）</h5> 
<p>序列化过滤器用于在序列化过程中修改序列化结果。用户需要实现<code>SerializeFilter</code>接口，并重写<code>process</code>方法。</p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CustomSerializeFilter</span> <span class="token keyword">implements</span> <span class="token class-name">SerializeFilter</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">process</span><span class="token punctuation">(</span><span class="token class-name">Object</span> source<span class="token punctuation">,</span> <span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token class-name">Object</span> value<span class="token punctuation">,</span> <span class="token class-name">SerializeFilter<span class="token punctuation">.</span>Context</span> context<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 自定义序列化过滤逻辑</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>在序列化过程中，可以通过<code>JSON.toJSONString</code>方法的重载版本传入自定义序列化过滤器。</p> 
<pre><code class="prism language-java"><span class="token class-name">String</span> jsonStr <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">CustomSerializeFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h5><a id="26__107"></a>2.6. 自定义日期格式化</h5> 
<p>fastjson允许用户自定义日期格式。可以通过<code>SerializerFeature</code>枚举值<code>DisableCircularReferenceDetect</code>和<code>WriteMapNullValue</code>来指定日期格式。</p> 
<pre><code class="prism language-java"><span class="token class-name">String</span> jsonStr <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token class-name">SerializerFeature<span class="token punctuation">.</span>DisableCircularReferenceDetect</span><span class="token punctuation">,</span> <span class="token class-name">SerializerFeature<span class="token punctuation">.</span>WriteMapNullValue</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>此外，用户还可以通过<code>DateFormat</code>属性来指定全局的日期格式。</p> 
<pre><code class="prism language-java"><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">setDateFormat</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">StdDateFormat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="2__122"></a>2. 反序列化扩展点</h4> 
<h5><a id="21_ParseProcess_124"></a>2.1. ParseProcess</h5> 
<ul><li> <p><strong>用途</strong>：在反序列化过程中执行额外逻辑，如修改反序列化结果。</p> </li><li> <p><strong>使用方法</strong>：</p> 
  <ul><li>实现<code>ParseProcess</code>接口并重写其中的方法。</li><li>在反序列化时，通过<code>JSON.parseObject</code>等方法的重载版本传入<code>ParseProcess</code>实例。</li></ul> </li></ul> 
<ol start="2"><li><strong>ParserFeature</strong></li></ol> 
<ul><li><strong>用途</strong>：控制反序列化的行为和特性。</li><li><strong>使用方法</strong>： 
  <ul><li>在反序列化时，通过<code>JSON.parseObject</code>等方法的重载版本传入<code>ParserFeature</code>枚举值来控制反序列化特性。</li></ul> </li></ul> 
<pre><code class="prism language-java"><span class="token class-name">Object</span> obj <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span>jsonStr<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token class-name">Feature<span class="token punctuation">.</span>AllowSingleQuotes</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 允许使用单引号</span>
</code></pre> 
<h5><a id="22_ParserConfig_139"></a>2.2. ParserConfig</h5> 
<ul><li><strong>用途</strong>：全局配置反序列化行为，如自定义反序列化器、自动类型转换等。</li><li><strong>使用方法</strong>： 
  <ul><li>创建<code>ParserConfig</code>实例并配置相关选项。</li><li>在反序列化时，通过<code>JSON.parseObject</code>等方法的重载版本传入<code>ParserConfig</code>实例。</li></ul> </li></ul> 
<pre><code class="prism language-java"><span class="token class-name">ParserConfig</span> config <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ParserConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 配置...</span>
<span class="token class-name">Object</span> obj <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span>jsonStr<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> config<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p><strong>示例代码</strong></p> 
<p>这里提供一个简单的<code>SerializeFilter</code>示例，用于过滤某些字段：</p> 
<pre><code class="prism language-java"><span class="token class-name">SerializeFilter</span> filter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimplePropertyPreFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">accept</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">,</span> <span class="token class-name">JavaBeanSerializer</span> beanSer<span class="token punctuation">,</span> <span class="token class-name">Object</span> object<span class="token punctuation">,</span> <span class="token class-name">Object</span> fieldName<span class="token punctuation">,</span> <span class="token class-name">Object</span> fieldVal<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">"password"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>fieldName<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">// 过滤password字段</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> jsonStr <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> filter<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h5><a id="23_Deserializer_167"></a>2.3. 自定义反序列化器（Deserializer）</h5> 
<p>类似地，fastjson也支持自定义反序列化器。用户需要实现<code>ObjectDeserializer</code>接口，并重写<code>deserialze</code>方法。</p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CustomDeserializer</span> <span class="token keyword">implements</span> <span class="token class-name">ObjectDeserializer</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">deserialize</span><span class="token punctuation">(</span><span class="token class-name">DefaultJSONParser</span> parser<span class="token punctuation">,</span> <span class="token class-name">Type</span> type<span class="token punctuation">,</span> <span class="token class-name">Object</span> fieldName<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 自定义反序列化逻辑</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>在反序列化过程中，可以通过<code>ParserConfig</code>类的<code>putDeserializer</code>方法来注册自定义反序列化器。</p> 
<pre><code class="prism language-java"><span class="token class-name">ParserConfig</span><span class="token punctuation">.</span><span class="token function">getGlobalInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">putDeserializer</span><span class="token punctuation">(</span><span class="token class-name">SomeType</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">CustomDeserializer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h5><a id="24_ParseProcess_186"></a>2.4. 解析过程（ParseProcess）</h5> 
<p>解析过程在反序列化过程中使用，用户可以实现<code>ParseProcess</code>接口并重写<code>process</code>方法来自定义解析逻辑。</p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CustomParseProcess</span> <span class="token keyword">implements</span> <span class="token class-name">ParseProcess</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">process</span><span class="token punctuation">(</span><span class="token class-name">ParseContext</span> ctx<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 自定义解析逻辑</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>在反序列化过程中，可以通过<code>JSON.parseObject</code>方法的重载版本传入自定义解析过程。</p> 
<pre><code class="prism language-java"><span class="token class-name">Object</span> obj <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span>jsonStr<span class="token punctuation">,</span> <span class="token class-name">SomeType</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">CustomParseProcess</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>总之,SpringBoot和SpringClould环境中,可以通过<code>SerializeFilter</code>和<code>ParserProcess</code>定制复杂的序列化和反序列化逻辑，通过<code>SerializerFeature</code>和<code>ParserFeature</code>控制序列化和反序列化的输出格式和特性，以及通过<code>SerializeConfig</code>和<code>ParserConfig</code>进行全局配置。这些扩展点不仅简化了用户代码，也提高了系统的可维护性和可扩展性。</p> 
<hr> 
<center> 
 <font color="#c65a6c" size="4"> 关注公众号获取更多技术干货 ! </font> 
</center> 
<p><img src="https://images2.imgbox.com/33/fd/C9Iubvz5_o.gif" alt=""></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/6daee13037aed5caa1185f83b944a8fe/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【AI 大模型】函数调用 Function Calling ② ( Plugins、Actions 扩展 | 函数调用 Function Calling 引入 | 函数调用开发流程 | 代码示例 )</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/7c2a8d5c64288d9915a6262ba111848e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Datawhale AI夏令营-多模态Task3学习笔记</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>