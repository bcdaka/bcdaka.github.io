<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Android&#43;Appium自动化测试环境搭建及实操_appium实现android自动化 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/d913289d5faec57d61107240a08f8e4c/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="Android&#43;Appium自动化测试环境搭建及实操_appium实现android自动化">
  <meta property="og:description" content="既有适合小白学习的零基础资料，也有适合3年以上经验的小伙伴深入学习提升的进阶课程，涵盖了95%以上软件测试知识点，真正体系化！
由于文件比较多，这里只是将部分目录截图出来，全套包含大厂面经、学习笔记、源码讲义、实战项目、大纲路线、讲解视频，并且后续会持续更新
需要这份系统化的资料的朋友，可以戳这里获取
&#43; [3.4 使用Inspector调试，步骤](#34_Inspector_218) 1、Appium简介 1.1 Appium概念 Appium是一个开源的移动端自动化测试工具，适用于移动端原生APP、移动Web APP或混合APP的自动化测试；
Appium继承了Selenium(Web端自动化测试工具)，应用WebDriver(JSON wire protocol)技术，借助操作系统自带的测试框架来驱动Android和IOS应用。
特点：Appium是一个开源、跨平台、多语言支持、接口统一，适用于原生app、Web app或混合移动app的自动化测试工具；理念：旨在满足移动端自动化测试需求；架构：C/S (C客户端:测试脚本，S服务端:Appium);多语言支持：语言库包含Java、Ruby、Python、php、JavaScript、C#、RobotFramework；开源：主要依赖selenium提供的WebDriver技术;跨平台：支持Linux/IOS mac/Windows平台，适用于Android/IOS应用测试； 术语定义Appium一般说的是命令行操作的无界面的Web服务器Appium GUI/Appium Desktop有图形界面：2015年之前命名为Appium Server，之后命名为Appium desktop，包含server和inspector工具Appium Client客户端程式(测试脚本) 1.2 Appium工作原理 Appium基于web Driver协议，利用Bootstrap.jar，最后调用UIAutomator命令实现APP自动化测试。
工作原理：测试代码发送给appium server，server解析指令后调用平台的SDK(IOS:instruments;Android:uiautomator)，通过SDK连接设备，并向设备发送指令和接收设备返回的数据。执行的测试脚本会转成JSON数据，通过http请求发送给Appium server，Appium server将请求转换成command，发送给平台工具SDK(IOS:instruments; Android:uiautomator) ；在设备上查找Appium推送上来的bootstrap.jar(bootstrap.jar是Appium架构放在手机端的一个服务器)来执行这些命令，执行完成后，客户端将结果和log发送回Appium server。
Bootstrap.jar监听4724端口并接收appium命令，最终通过调用UiAutomator的命令来实现，它是Appium运行在目标测试机器上的一个Uiautomator测试脚本。
2、Appium Server环境搭建 安装工具列表:
① Java JDK
② Android SDK 安装完成连接手机就可以查看当前页面布局
③ Appium 安装后，不仅可以访问布局，也可以操作
2.1 Java JDK 2.1.1 下载JDK (推荐最稳定的JDK版本1.8.x) 官网下载网址
2.1.2 运行exe安装JDK，设置安装路径 注意：红色标记的是JDK安装路径，后面配置环境变量时需要用到。
2.1.3 设置环境变量 2.1.4 验证安装结果 2.2 Android SDK 2.2.1 下载安装Android SDK安装包 （本文使用installer_r24.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-05-15T05:33:38+08:00">
    <meta property="article:modified_time" content="2024-05-15T05:33:38+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Android&#43;Appium自动化测试环境搭建及实操_appium实现android自动化</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><img src="https://images2.imgbox.com/7c/a8/on7ZoSNj_o.png" alt="img"><br> <img src="https://images2.imgbox.com/f2/17/nZgmsgKS_o.png" alt="img"><br> <img src="https://images2.imgbox.com/d4/c7/UUsrlLQx_o.png" alt="img"></p> 
<p><strong>既有适合小白学习的零基础资料，也有适合3年以上经验的小伙伴深入学习提升的进阶课程，涵盖了95%以上软件测试知识点，真正体系化！</strong></p> 
<p><strong>由于文件比较多，这里只是将部分目录截图出来，全套包含大厂面经、学习笔记、源码讲义、实战项目、大纲路线、讲解视频，并且后续会持续更新</strong></p> 
<p><strong><a href="https://bbs.csdn.net/topics/618631832">需要这份系统化的资料的朋友，可以戳这里获取</a></strong></p> 
<pre><code>+ [3.4 使用Inspector调试，步骤](#34_Inspector_218)
</code></pre> 
<h3><a id="1Appium_17"></a>1、Appium简介</h3> 
<h4><a id="11_Appium_20"></a>1.1 Appium概念</h4> 
<p>Appium是一个开源的移动端自动化测试工具，适用于移动端原生APP、移动Web APP或混合APP的自动化测试；<br>  Appium继承了Selenium(Web端自动化测试工具)，应用WebDriver(JSON wire protocol)技术，借助操作系统自带的测试框架来驱动Android和IOS应用。</p> 
<ul><li><strong>特点</strong>：Appium是一个开源、跨平台、多语言支持、接口统一，适用于原生app、Web app或混合移动app的自动化测试工具；</li><li><strong>理念</strong>：旨在满足移动端自动化测试需求；</li><li><strong>架构</strong>：C/S (C客户端:测试脚本，S服务端:Appium);</li><li><strong>多语言支持</strong>：语言库包含Java、Ruby、Python、php、JavaScript、C#、RobotFramework；</li><li><strong>开源</strong>：主要依赖selenium提供的WebDriver技术;</li><li><strong>跨平台</strong>：支持Linux/IOS mac/Windows平台，适用于Android/IOS应用测试；</li></ul> 
<table><thead><tr><th>术语</th><th>定义</th></tr></thead><tbody><tr><td>Appium</td><td>一般说的是命令行操作的无界面的Web服务器</td></tr><tr><td>Appium GUI/Appium Desktop</td><td>有图形界面：2015年之前命名为Appium Server，之后命名为Appium desktop，包含server和inspector工具</td></tr><tr><td>Appium Client</td><td>客户端程式(测试脚本)</td></tr></tbody></table> 
<h4><a id="12_Appium_44"></a>1.2 Appium工作原理</h4> 
<p>Appium基于web Driver协议，利用Bootstrap.jar，最后调用UIAutomator命令实现APP自动化测试。</p> 
<p><strong>工作原理</strong>：测试代码发送给appium server，server解析指令后调用平台的SDK(IOS:instruments;Android:uiautomator)，通过SDK连接设备，并向设备发送指令和接收设备返回的数据。执行的测试脚本会转成JSON数据，通过http请求发送给Appium server，Appium server将请求转换成command，发送给平台工具SDK(IOS:instruments; Android:uiautomator) ；在设备上查找Appium推送上来的bootstrap.jar(bootstrap.jar是Appium架构放在手机端的一个服务器)来执行这些命令，执行完成后，客户端将结果和log发送回Appium server。</p> 
<p><img src="https://images2.imgbox.com/ff/03/4Y2457Tq_o.png" alt="在这里插入图片描述"></p> 
<p>Bootstrap.jar监听4724端口并接收appium命令，最终通过调用UiAutomator的命令来实现，它是Appium运行在目标测试机器上的一个Uiautomator测试脚本。</p> 
<h3><a id="2Appium_Server_59"></a>2、Appium Server环境搭建</h3> 
<p>安装工具列表:<br> ① Java JDK<br> ② Android SDK  安装完成连接手机就可以查看当前页面布局<br> ③ Appium     安装后，不仅可以访问布局，也可以操作</p> 
<p><img src="https://images2.imgbox.com/15/78/UuNQ4HiV_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="21_Java_JDK_71"></a>2.1 Java JDK</h4> 
<h5><a id="211_JDK_74"></a>2.1.1 下载JDK</h5> 
<p>(推荐最稳定的JDK版本1.8.x) <a href="https://bbs.csdn.net/topics/618631832">官网下载网址</a></p> 
<p><img src="https://images2.imgbox.com/bf/c5/IrMfdlJF_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="212_exeJDK_83"></a>2.1.2 运行exe安装JDK，设置安装路径</h5> 
<p>注意：红色标记的是JDK安装路径，后面配置环境变量时需要用到。<br> <img src="https://images2.imgbox.com/e0/41/eyH6hJzu_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="213__90"></a>2.1.3 设置环境变量</h5> 
<p><img src="https://images2.imgbox.com/ae/0a/9jl70rcV_o.png" alt="在这里插入图片描述"><img src="https://images2.imgbox.com/00/f2/JAnhRRXa_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="214__96"></a>2.1.4 验证安装结果</h5> 
<p><img src="https://images2.imgbox.com/ad/5f/7CjsnRcr_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="22_Android_SDK_102"></a>2.2 Android SDK</h4> 
<h5><a id="221_Android_SDK_105"></a>2.2.1 下载安装Android SDK安装包</h5> 
<p>（本文使用installer_r24.4.1-windows.exe）<a href="https://bbs.csdn.net/topics/618631832">官方下载网址</a></p> 
<p><img src="https://images2.imgbox.com/31/7a/LcZcTvZ6_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/3e/19/ZqN9D9Dd_o.png" alt="在这里插入图片描述"></p> 
<p><strong>检查JDK路径是否正确</strong><br> <img src="https://images2.imgbox.com/72/fd/YR6GYEnv_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/0a/7d/DRd65B9r_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/71/08/aHGx8sHQ_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="222_platformtoolsSDKSDK_127"></a>2.2.2 下载platform-tools，拷贝到SDK安装目录(或者在SDK中在线更新)</h5> 
<pre><code>本文使用platform-tools_r31.0.3-windows.zip， 安装目录：(\Android\android-sdk\platform-tools\adb.exe)

</code></pre> 
<p><a href="https://bbs.csdn.net/topics/618631832">官方下载网址：https://android-sdk.en.softoic.com/download</a><br> <img src="https://images2.imgbox.com/1d/ba/sCPYr83I_o.png" alt="在这里插入图片描述"></p> 
<p>或者直接在SDK中在线更新<br> <img src="https://images2.imgbox.com/71/d5/rL5O3v6j_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="223__144"></a>2.2.3 设置环境变量</h5> 
<p><img src="https://images2.imgbox.com/e4/7e/kqfjTp5Y_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/5f/55/9PzbV8JF_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="224__153"></a>2.2.4 验证安装结果</h5> 
<p><img src="https://images2.imgbox.com/94/88/Ij0mrPaB_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="23_Appium_159"></a>2.3 Appium</h4> 
<p><a href="https://bbs.csdn.net/topics/618631832">Appium官网：https://appium.io/</a></p> 
<p><strong>带界面的Appium server安装有两种方式:</strong></p> 
<p>(I). appium-desktop(appium server + appium inspector)<br>  Appium-windows-1.20.2-4.exe  <a href="https://bbs.csdn.net/topics/618631832">网址:https://github.com/appium/appium-desktop/releases/tag/v1.20.2.4</a><br>  appium最新版本已经去掉了inspector，需要另外安装了，非常麻烦。本版本是官网带inspector的版本，非常好用<br>  <a href="https://bbs.csdn.net/topics/618631832">网址打不开？——&gt;直接下载安装包</a></p> 
<p>(II). 安装appium server和Inspector (官网上面是分开下载的)<br>  Appium-Server-GUI-windows-1.22.3-4.exe <a href="https://bbs.csdn.net/topics/618631832">网址:https://github.com/appium/appium-desktop/releases/tag/v1.22.3-4</a><br>  Appium-Inspector-windows-2022.5.4.exe <a href="https://bbs.csdn.net/topics/618631832">网址:https://github.com/appium/appium-inspector/releases</a></p> 
<p><strong>无界面的Appium server安装命令</strong>：npm install -g appium</p> 
<p>下面介绍带界面的appium-desktop下载安装：</p> 
<h5><a id="231_Appium_desktop_185"></a>2.3.1 安装Appium desktop</h5> 
<p>开始安装Appium desktop，选择所有用户安装，等待安装完成(直接点Next就可以了)。<a href="https://bbs.csdn.net/topics/618631832">直接下载安装包</a></p> 
<p><img src="https://images2.imgbox.com/ed/50/af5tfpTv_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="232_Appium_194"></a>2.3.2 Appium启动界面</h5> 
<p><img src="https://images2.imgbox.com/89/ce/Yd6Iz2VH_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="232_Appium_200"></a>2.3.2 Appium服务端界面介绍</h5> 
<p>Appium Setup 界面：<br> 右上角的三个按钮分别是<br> “start inspector session(启动检查器会话)”<br> “Get Raw log(查看日志)"<br> “Stop Server(停止服务)”<br> 下面一块是看日志的<br> <img src="https://images2.imgbox.com/d7/6c/f5tuKoVm_o.png" alt="在这里插入图片描述"><br> 点击“Start Inspector Session”， Inspector配置界面：<br> 开启Inspector检查器，设置Desired Capabilities参数，连接手机：<br> Inspector优势：<br> ① 可以校验定位表达式(如：XPATH表达式)<br> ② 通过设置Desired Capabilities来连接手机，比较稳定<br> ③ 可以仿真用户动作(如：点击、返回、滑动等操作)<br> ④ 可以录制一系列操作，然后转换成代码</p> 
<p><img src="https://images2.imgbox.com/3d/63/mO2WtKlI_o.png" alt="在这里插入图片描述"><br> 点击“Start Session”， Inspector的录制界面：<br> 左侧是App实时界面<br> 中间上侧是录制后生成脚本区，中间下侧是布局<br> 右侧 Selected Element 区域有三个按钮：<br> Tap：执行选中元素的点击事件<br> Send Keys：为文本框等对象传值<br> Clear：如果是文本输入元素(EditText)，就清除文本</p> 
<p><img src="https://images2.imgbox.com/8f/f7/2Ajytp6g_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="3Appium_Server_232"></a>3、Appium Server手动调试</h3> 
<p>如何使用Appium Server连接设备测试APP？需要用到的技术、方法有哪些？调试步骤是什么样的？</p> 
<p><img src="https://images2.imgbox.com/dd/99/5ByYJPgo_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="31_ADB_241"></a>3.1 通过ADB执行调试</h4> 
<h5><a id="311_ADB_244"></a>3.1.1 ADB简介</h5> 
<p>Android Debug Bridge我们一般简称为adb，主要存放在sdk安装目录下的platform-tools文件夹中，它是一个非常强大的命令行工具，通过这个工具用来连接计算机和Android设备（手机、计算机、电视、平板、电视盒子等）。</p> 
<p>adb.exe运行后会在计算机上创建出来一个服务(ADB服务)，手机连上计算机后，都会与服务建立连接，要想发送指令给手机， 需要把指令发送到服务中。</p> 
<h5><a id="312_ADB_253"></a>3.1.2 ADB常用指令</h5> 
<ul><li>关闭和开启服务<br>  adb kill-server、adb start-server；有时ADB Server会出现异常故障，需要使用上述命令重启ADB Server。</li><li>查看设备：<br>  adb devices</li><li>获取信息<br>  获取手机android版本：adb shell getprop ro.build.version.release<br>  查看”前台应用”包名：adb shell dumpsys activity | find “mFocusedActivity”<br>  查找当前界面软件信息：adb shell dumpsys window w | findstr / | findstr name=<br> <img src="https://images2.imgbox.com/01/14/LySmvXBe_o.png" alt="在这里插入图片描述"></li><li>文件传输<br>  adb push 电脑上的文件 手机上的位置<br>  adb pull 手机上的文件 电脑上的位置</li><li>软件安装卸载<br>  adb install 电脑上的apk文件路径 安装应用<br>  adb uninstall 应用的包名</li><li>查找包名及入口启动页面等信息<br>  aapt dump badging 加apk的路径</li><li>清理APP缓存(pm clear + 包名)<br>  adb pm clear com.android.calculator</li><li>打开APP<br>  adb shell am start –n 包名/Activity –S (-S表示打开之前先kill掉)</li><li>获取APP其他信息<br>  adb shell am start -W 包名/.启动名</li><li>列出所有包名<br>  adb shell pm list packages<br>  后面跟 -s列出系统apk路径及包名 adb shell pm list packages -s<br>  后面跟 -3列出用户apk路径及包名 adb shell pm list packages -3</li><li>adb无线连接<br>  激活手机Adb的无线服务，输入命令行：adb tcpip 5555（5555是手机默认的端口）<br>  adb connect ：8888 连接时候需要带上端口号</li><li>PS:也可以用Android-sdk build-tools目录下aapt查找包名及入口启动页面等信息：aapt dump badging 加apk的路径(windows)</li></ul> 
<h4><a id="32_Desired_Capability_289"></a>3.2 Desired Capability</h4> 
<h5><a id="321__292"></a>3.2.1 介绍</h5> 
<p><img src="https://images2.imgbox.com/6d/9d/48iyLsCl_o.png" alt="img"><br> <img src="https://images2.imgbox.com/5c/63/5zWRS5v2_o.png" alt="img"><br> <img src="https://images2.imgbox.com/0b/dc/SF8Xo8oy_o.png" alt="img"></p> 
<p><strong>既有适合小白学习的零基础资料，也有适合3年以上经验的小伙伴深入学习提升的进阶课程，涵盖了95%以上软件测试知识点，真正体系化！</strong></p> 
<p><strong>由于文件比较多，这里只是将部分目录截图出来，全套包含大厂面经、学习笔记、源码讲义、实战项目、大纲路线、讲解视频，并且后续会持续更新</strong></p> 
<p><strong><a href="https://bbs.csdn.net/topics/618631832">需要这份系统化的资料的朋友，可以戳这里获取</a></strong></p> 
<p>489)]<br> [外链图片转存中…(img-a1hK5kav-1715722395489)]<br> [外链图片转存中…(img-BCDehAQp-1715722395489)]</p> 
<p><strong>既有适合小白学习的零基础资料，也有适合3年以上经验的小伙伴深入学习提升的进阶课程，涵盖了95%以上软件测试知识点，真正体系化！</strong></p> 
<p><strong>由于文件比较多，这里只是将部分目录截图出来，全套包含大厂面经、学习笔记、源码讲义、实战项目、大纲路线、讲解视频，并且后续会持续更新</strong></p> 
<p><strong><a href="https://bbs.csdn.net/topics/618631832">需要这份系统化的资料的朋友，可以戳这里获取</a></strong></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/52389f4db17d3a8d4152f72926d0fbdc/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">AI测试｜利用OpenAI的文本生成模型，自动生成测试用例的几个场景示例_ai测试自动生成用例(1)</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/0e9a8e004b92ab2c9673531fc2b9cf4e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">未授权访问：ZooKeeper 未授权访问漏洞</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>