<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>前端大屏尺寸实现自适应屏幕大小 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/5d359eec42bba243ce0b50c2d5867865/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="前端大屏尺寸实现自适应屏幕大小">
  <meta property="og:description" content="说在前面 目前很多业主在使用系统的时候都会有大屏的需求，很多屏幕并不会像我们开发的屏幕一样标准，比如1920*1080，这样我们就需要根据业主的屏幕尺寸进行适配，避免一些图表或文字在大屏中出现偏移，影响视觉观感。
方案比选 方案一： 如果希望在大屏中实现最佳的展示效果，应该由设计人员针对大屏的尺寸进行单独设计，然后开发人员使用如下监听方式：
@media screen and (max-width: 2560px) {} @media screen and (min-width: 2561px) {} 以2561px为分界线，在屏幕尺寸大于分界线时来让不同的样式代码生效。
这种方案可以保证最好的展示效果，完美适配大屏，问题就是如果屏幕发生变化，或者需要适配其他尺寸的屏幕时，需要针对性的进行调整。
方案二： 使用vw和vh属性来表示dom节点的长宽。
举个例子：我们手里的设计稿是1920*1080，此时使用vw和vh,这样就可以适配大屏。
比如某个dom节点宽度为200px,高度为100px,此时设置他的宽高为：
.dom { width: (200 / 1920) * 100vw; height: (100 / 1080) * 100vh; } 原理也比较简单，对所有dom节点的宽高根据屏幕大小进行等比缩放，这样做的麻烦点是，代码中会有很多涉及到需要px单位的地方，每一处都需要写成这种形式，从操作上烦琐了不少。
方案三： 使用rem来实现响应式的布局，rem是相对于根元素的字体大小来计算的单位，配合引入相应的postcss相关插件，免去了设计稿中的px到rem的计算。
引入：postcss-plugin-px2rem,还有很多其他类似插件或者loader，引入一个即可。
.dom { width: 200px; height: 100px; } 编译以后的代码为： .dom { width: ..rem; height: ..rem; } 这样做的优势就是可以安全按照设计稿给出的尺寸来完成css布局，不需要操心转换等问题。
使用过程中的一些小坑 一些echarts图表是独立设置尺寸的 echarts总的大小会根据容器的大小调整，但是字体，间距等需要在代码中设置大小。
由于postcss-plugin-px2rem只能检测到css文件中的样式，所以需要单独处理，方案也比较简单，选中宽或者高为参考，进行等比缩放即可。
getSize(size) { // 这里是以高度为参考进行等比缩放 return size * (window.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-04-22T11:35:53+08:00">
    <meta property="article:modified_time" content="2024-04-22T11:35:53+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">前端大屏尺寸实现自适应屏幕大小</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h4><a id="_0"></a>说在前面</h4> 
<p>目前很多业主在使用系统的时候都会有大屏的需求，很多屏幕并不会像我们开发的屏幕一样标准，比如<code>1920*1080</code>，这样我们就需要根据业主的屏幕尺寸进行适配，避免一些图表或文字在大屏中出现偏移，影响视觉观感。</p> 
<h4><a id="_2"></a>方案比选</h4> 
<h5><a id="_3"></a>方案一：</h5> 
<p>如果希望在大屏中实现最佳的展示效果，应该由设计人员针对大屏的尺寸进行单独设计，然后开发人员使用如下监听方式：</p> 
<pre><code class="prism language-css"><span class="token atrule"><span class="token rule">@media</span> screen <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">max-width</span><span class="token punctuation">:</span> 2560px<span class="token punctuation">)</span></span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
<span class="token atrule"><span class="token rule">@media</span> screen <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">min-width</span><span class="token punctuation">:</span> 2561px<span class="token punctuation">)</span></span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
</code></pre> 
<p>以<code>2561px</code>为分界线，在屏幕尺寸大于分界线时来让不同的样式代码生效。<br> 这种方案可以保证最好的展示效果，完美适配大屏，问题就是如果屏幕发生变化，或者需要适配其他尺寸的屏幕时，需要针对性的进行调整。</p> 
<h5><a id="_11"></a>方案二：</h5> 
<p>使用vw和vh属性来表示dom节点的长宽。<br> 举个例子：我们手里的设计稿是<code>1920*1080</code>，此时使用<code>vw</code>和<code>vh</code>,这样就可以适配大屏。<br> 比如某个<code>dom</code>节点宽度为<code>200px</code>,高度为<code>100px</code>,此时设置他的宽高为：</p> 
<pre><code class="prism language-css"><span class="token selector">.dom</span> <span class="token punctuation">{<!-- --></span>
    <span class="token property">width</span><span class="token punctuation">:</span> <span class="token punctuation">(</span>200 / 1920<span class="token punctuation">)</span> * 100vw<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> <span class="token punctuation">(</span>100 / 1080<span class="token punctuation">)</span> * 100vh<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>原理也比较简单，对所有<code>dom</code>节点的宽高根据屏幕大小进行等比缩放，这样做的麻烦点是，代码中会有很多涉及到需要<code>px</code>单位的地方，每一处都需要写成这种形式，从操作上烦琐了不少。</p> 
<h5><a id="_22"></a>方案三：</h5> 
<p>使用rem来实现响应式的布局，<code>rem</code>是相对于根元素的字体大小来计算的单位，配合引入相应的postcss相关插件，免去了设计稿中的px到rem的计算。<br> 引入：<code>postcss-plugin-px2rem</code>,还有很多其他类似<code>插件</code>或者<code>loader</code>，引入一个即可。</p> 
<pre><code class="prism language-css"><span class="token selector">.dom</span> <span class="token punctuation">{<!-- --></span>
    <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">编译以后的代码为：
.dom</span> <span class="token punctuation">{<!-- --></span>
	<span class="token property">width</span><span class="token punctuation">:</span> ..rem<span class="token punctuation">;</span>
	<span class="token property">height</span><span class="token punctuation">:</span> ..rem<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>这样做的优势就是可以安全按照设计稿给出的尺寸来完成css布局，不需要操心转换等问题。</p> 
<h4><a id="_37"></a>使用过程中的一些小坑</h4> 
<h5><a id="echarts_38"></a>一些echarts图表是独立设置尺寸的</h5> 
<p>echarts总的大小会根据容器的大小调整，但是字体，间距等需要在代码中设置大小。<br> 由于<code>postcss-plugin-px2rem</code>只能检测到css文件中的样式，所以需要单独处理，方案也比较简单，选中宽或者高为参考，进行等比缩放即可。</p> 
<pre><code class="prism language-javascript"><span class="token function">getSize</span><span class="token punctuation">(</span><span class="token parameter">size</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// 这里是以高度为参考进行等比缩放</span>
    <span class="token keyword">return</span> size <span class="token operator">*</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>innerHeight <span class="token operator">/</span> <span class="token number">1080</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token operator">...</span>ehcart legend的设置片段
<span class="token literal-property property">legend</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">orient</span><span class="token operator">:</span> <span class="token string">"vertical"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">bottom</span><span class="token operator">:</span> <span class="token string">"10%"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">left</span><span class="token operator">:</span> <span class="token string">"center"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">itemGap</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getSize</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">itemWidth</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getSize</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">itemHeight</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getSize</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">itemStyle</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">radius</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre> 
<h5><a id="_58"></a>选择宽度或者高度作为最佳参考标准</h5> 
<p>rem的方案是需要选择宽度或者高度为参考的，如果大屏宽高较原稿变化不大可随意选择，如果变化偏大，需要<strong>分别设置宽和高为基准</strong>，比较哪种更适合屏幕的尺寸。</p> 
<pre><code class="prism language-javascript"><span class="token comment">// rem.js</span>
<span class="token comment">// rem等比适配配置文件</span>
<span class="token comment">// 基准大小</span>
<span class="token keyword">const</span> baseSize <span class="token operator">=</span> <span class="token number">16</span>
<span class="token comment">// 设置 rem 函数</span>
<span class="token keyword">function</span> <span class="token function">setRem</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
<span class="token comment">// 当前页面宽度相对于 1920宽的缩放比例，可根据自己需要修改。</span>
    <span class="token keyword">const</span> scale <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientHeight<span class="token operator">/</span> <span class="token number">1080</span>
<span class="token comment">// 设置页面根节点字体大小（“Math.min(scale, 2)” 指最高放大比例为2，可根据实际业务需求调整）</span>
    document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>style<span class="token punctuation">.</span>fontSize <span class="token operator">=</span> baseSize <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>scale<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'px'</span>
<span class="token punctuation">}</span>
<span class="token comment">// 初始化</span>
<span class="token function">setRem</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// 改变窗口大小时重新设置 rem</span>
window<span class="token punctuation">.</span><span class="token function-variable function">onresize</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">setRem</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>如上述代码，是以高度为参考基准的。</p> 
<h5><a id="12px_80"></a>浏览器显示最小字体为12px</h5> 
<p>这里在适配小屏幕的时候会遇到问题，比如业主要求需要适配他们的平板，此时你可能会发现小屏幕下会有字体重叠的情况出现，这是因为浏览器支持的最小字体为12px,此时需要根据实际小屏幕尺寸调整一下页面的布局。</p> 
<h5><a id="_82"></a>全局转换可能导致意想不到的问题</h5> 
<p>这种情况下，我们就只需要转换我们需要的代码，以文件夹为基准。实现方式不同插件有些许差异，下面举几个例子，实际情况请参考官方 <code>https://www.npmjs.com/package/package</code>。<br> 如果你用的是 <code>postcss-plugin-px2rem</code>,可以像下面的例子中一样使用<code>exclude</code>属性。<br> 但如果你使用的是<code>postcss-px2rem</code>,那不好意思，他是不支持这个属性的，但是如果你仔细查看，他是有可以使用属性的版本的，比如下图中标注出来的<code>postcss-px2rem-exclude</code>。<br> <img src="https://images2.imgbox.com/ad/30/dVGr5doW_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="rem_88"></a>rem实现分享</h4> 
<h5><a id="_89"></a>安装依赖并在配置文件中引入</h5> 
<p><code>npm i postcss-plugin-px2rem --save -dev</code></p> 
<pre><code class="prism language-javascript">在vue<span class="token punctuation">.</span>config<span class="token punctuation">.</span>js中添加配置信息
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">//px转rem的配置（postcss-plugin-px2rem插件）</span>
    <span class="token literal-property property">lintOnSave</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">css</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">loaderOptions</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">postcss</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                    <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'postcss-plugin-px2rem'</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
                        <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(node_module)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>  <span class="token comment">//默认false，可以（reg）利用正则表达式</span>
                        <span class="token literal-property property">mediaQuery</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>  <span class="token comment">//（布尔值）允许在媒体查询中转换px。</span>
                        <span class="token literal-property property">minPixelValue</span><span class="token operator">:</span> <span class="token number">3</span> <span class="token comment">//设置要替换的最小像素值(3px会被转rem)。 默认 0</span>
                    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>还有更多的配置项，详情参考官方 <code>https://www.npmjs.com/package/postcss-plugin-px2rem</code>。</p> 
<h5><a id="remjs_112"></a>新建rem.js文件</h5> 
<p>内容参考上方 <em><strong>选择宽度或者高度作为最佳参考标准</strong></em> 代码。</p> 
<h5><a id="mainjs_114"></a>在main.js中引入</h5> 
<p><code>import './utils/rem';</code><br> 加载以后会调用setRem()方法来触发尺寸的初始化。</p> 
<h4><a id="_118"></a>说到最后</h4> 
<p>为了实现最佳的效果，以上几种方案甚至可以组合使用，希望大家读完文章后能理解并动手实践大屏适配。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/2740542d1dc29921efc23472a4736384/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Python爬虫(selenium)从网站获取信息并存入数据库(mysql)</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/571ad1d1d21c02bc39f30b9e1142ed6c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">AI绘画专栏之statble diffusion SDXL 1.0 更加精细的OpenPose DW Openpose(23)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>