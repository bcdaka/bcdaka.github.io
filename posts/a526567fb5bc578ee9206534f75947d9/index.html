<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>毕业设计——java web大作业，通过jsp&#43;servlet实现宿舍管理系统 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/a526567fb5bc578ee9206534f75947d9/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="毕业设计——java web大作业，通过jsp&#43;servlet实现宿舍管理系统">
  <meta property="og:description" content="系统功能分析 1.1 功能模块 宿舍管理系统实现的功能主要分三大类：系统用户的注册登录验证、对宿舍信息的增删改查、对学生信息的增删改查。
系统用户的登录注册验证 登录时，通过用户名和密码判断是否有此用户；注册时，不允许注册相同用户名的用户。为防止多次注册，设置邮箱验证码功能。基础抽象类如下：
public boolean login(String username, String password) throws Exception;//登录验证
public boolean register(UserBean userBean) throws SQLException ;//注册用户
public boolean addUser(UserBean userBean);//增加用户
宿舍信息增删改查 宿舍功能模块的增删改查有许多限制条件，如增加宿舍时，宿舍楼号只能在01-10之间，当宿舍入住学生时不可删除，宿舍楼号作为唯一标识不可新修改，查询宿舍时可以多条件联合模糊查询。基础抽象类如下：
public boolean addDorm(Dormbean dormbean) throws SQLException ;//增加宿舍信息
public boolean delDorm(Dormbean dormbean) throws SQLException;//删除宿舍信息
public boolean updateDorm(Dormbean dormbean) throws SQLException ;//更新宿舍信息
public ArrayList&lt;Dormbean&gt; selectDorm(Dormbean dormbean) throws SQLException ;//查询宿舍信息
public ArrayList&lt;Dormbean&gt; showAllDorm() throws SQLException;//展示所有宿舍信息
public int dormTotalCount(Dormbean dormbean);//获取宿舍个数
public Dormbean selectDormById(int id) throws SQLException;//根据id查询宿舍">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2023-12-02T10:56:26+08:00">
    <meta property="article:modified_time" content="2023-12-02T10:56:26+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">毕业设计——java web大作业，通过jsp&#43;servlet实现宿舍管理系统</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2 style="text-align:justify;"><strong><strong><strong>系统功能分析</strong></strong></strong></h2> 
<h3 style="text-align:justify;"><strong>1.1 功能模块</strong></h3> 
<p style="margin-left:.0001pt;text-align:justify;">宿舍管理系统实现的功能主要分三大类：系统用户的注册登录验证、对宿舍信息的增删改查、对学生信息的增删改查。</p> 
<ol><li> 
  <ol><li> 
    <ol><li style="text-align:justify;"><strong>系统用户的登录注册验证</strong></li></ol></li></ol></li></ol> 
<p style="margin-left:.0001pt;text-align:justify;">登录时，通过用户名和密码判断是否有此用户；注册时，不允许注册相同用户名的用户。为防止多次注册，设置邮箱验证码功能。基础抽象类如下：</p> 
<table border="1" cellspacing="0"><tbody><tr><td style="vertical-align:top;width:426.1pt;"> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">public</span></strong> <strong><span style="color:#7f0055;">boolean</span></strong><span style="color:#000000;"> login(String </span><span style="color:#6a3e3e;">username</span><span style="color:#000000;">, String </span><span style="color:#6a3e3e;">password</span><span style="color:#000000;">) </span><strong><span style="color:#7f0055;">throws</span></strong><span style="color:#000000;"> Exception;</span><span style="color:#3f7f5f;">//登录验证</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">public</span></strong> <strong><span style="color:#7f0055;">boolean</span></strong><span style="color:#000000;"> register(UserBean </span><span style="color:#6a3e3e;">userBean</span><span style="color:#000000;">) </span><strong><span style="color:#7f0055;">throws</span></strong><span style="color:#000000;"> SQLException ;</span><span style="color:#3f7f5f;">//注册用户</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">public</span></strong> <strong><span style="color:#7f0055;">boolean</span></strong><span style="color:#000000;"> addUser(UserBean </span><span style="color:#6a3e3e;">userBean</span><span style="color:#000000;">);</span><span style="color:#3f7f5f;">//增加用户</span></p> <p style="margin-left:.0001pt;text-align:justify;"></p> </td></tr></tbody></table> 
<ol><li> 
  <ol><li> 
    <ol><li style="text-align:justify;"><strong>宿舍信息增删改查</strong></li></ol></li></ol></li></ol> 
<p style="margin-left:.0001pt;text-align:justify;">宿舍功能模块的增删改查有许多限制条件，如增加宿舍时，宿舍楼号只能在01-10之间，当宿舍入住学生时不可删除，宿舍楼号作为唯一标识不可新修改，查询宿舍时可以多条件联合模糊查询。基础抽象类如下：</p> 
<table border="1" cellspacing="0"><tbody><tr><td style="vertical-align:top;width:426.1pt;"> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">public</span></strong> <strong><span style="color:#7f0055;">boolean</span></strong><span style="color:#000000;"> addDorm(Dormbean </span><span style="color:#6a3e3e;">dormbean</span><span style="color:#000000;">) </span><strong><span style="color:#7f0055;">throws</span></strong><span style="color:#000000;"> SQLException ;</span><span style="color:#3f7f5f;">//增加宿舍信息</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">public</span></strong> <strong><span style="color:#7f0055;">boolean</span></strong><span style="color:#000000;"> delDorm(Dormbean </span><span style="color:#6a3e3e;">dormbean</span><span style="color:#000000;">) </span><strong><span style="color:#7f0055;">throws</span></strong><span style="color:#000000;"> SQLException;</span><span style="color:#3f7f5f;">//删除宿舍信息</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">public</span></strong> <strong><span style="color:#7f0055;">boolean</span></strong><span style="color:#000000;"> updateDorm(Dormbean </span><span style="color:#6a3e3e;">dormbean</span><span style="color:#000000;">) </span><strong><span style="color:#7f0055;">throws</span></strong><span style="color:#000000;"> SQLException ;</span><span style="color:#3f7f5f;">//更新宿舍信息</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">public</span></strong><span style="color:#000000;"> ArrayList&lt;Dormbean&gt; selectDorm(Dormbean </span><span style="color:#6a3e3e;">dormbean</span><span style="color:#000000;">) </span><strong><span style="color:#7f0055;">throws</span></strong><span style="color:#000000;"> SQLException ;</span><span style="color:#3f7f5f;">//查询宿舍信息</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">public</span></strong><span style="color:#000000;"> ArrayList&lt;Dormbean&gt; showAllDorm() </span><strong><span style="color:#7f0055;">throws</span></strong><span style="color:#000000;"> SQLException;</span><span style="color:#3f7f5f;">//展示所有宿舍信息</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">public</span></strong> <strong><span style="color:#7f0055;">int</span></strong><span style="color:#000000;"> dormTotalCount(Dormbean </span><span style="color:#6a3e3e;">dormbean</span><span style="color:#000000;">);</span><span style="color:#3f7f5f;">//获取宿舍个数</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">public</span></strong><span style="color:#000000;"> Dormbean selectDormById(</span><strong><span style="color:#7f0055;">int</span></strong> <span style="color:#6a3e3e;">id</span><span style="color:#000000;">) </span><strong><span style="color:#7f0055;">throws</span></strong><span style="color:#000000;"> SQLException;</span><span style="color:#3f7f5f;">//根据id查询宿舍</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">public</span></strong> <strong><span style="color:#7f0055;">boolean</span></strong><span style="color:#000000;"> updateDormQuantity(Dormbean </span><span style="color:#6a3e3e;">dormbean</span><span style="color:#000000;">); </span><span style="color:#3f7f5f;">//更新宿舍当前人数</span></p> </td></tr></tbody></table> 
<ol><li> 
  <ol><li> 
    <ol><li style="text-align:justify;"><strong>学生信息增删改查</strong></li></ol></li></ol></li></ol> 
<p style="margin-left:.0001pt;text-align:justify;">学生信息的增删改查需要做到多表联动，增加学生信息并选择宿舍的时候需要和宿舍表进行联合操作，根据学生的性别及宿舍已入住人数判断学生信息是否可以添加成功；删除学生信息时，为防止误删，提供了事务回滚操作；因学生信息较多，提供了批量删除和分页功能操作；查询时可以多条件模糊查询；学生学号作为唯一标识，不可修改。抽象基础类如下：</p> 
<table border="1" cellspacing="0"><tbody><tr><td style="vertical-align:top;width:426.1pt;"> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">public</span></strong><span style="color:#000000;"> ArrayList&lt;StudentBean&gt; showStudentByPage(</span><strong><span style="color:#7f0055;">int</span></strong> <span style="color:#6a3e3e;">status</span><span style="color:#000000;">,</span><strong><span style="color:#7f0055;">int</span></strong> <span style="color:#6a3e3e;">nowPage</span><span style="color:#000000;">,</span><strong><span style="color:#7f0055;">int</span></strong> <span style="color:#6a3e3e;">step</span><span style="color:#000000;">) </span><strong><span style="color:#7f0055;">throws</span></strong><span style="color:#000000;"> SQLException;</span><span style="color:#3f7f5f;">//分页展示所有学生信息</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">public</span></strong> <strong><span style="color:#7f0055;">int</span></strong><span style="color:#000000;"> StudentTotalCount(</span><strong><span style="color:#7f0055;">int</span></strong> <span style="color:#6a3e3e;">status</span><span style="color:#000000;">,StudentBean </span><span style="color:#6a3e3e;">studentBean</span><span style="color:#000000;">);</span><span style="color:#3f7f5f;">//根据学生状态获得学生个数</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">public</span></strong><span style="color:#000000;"> ArrayList&lt;StudentBean&gt; selectStudents(</span><strong><span style="color:#7f0055;">int</span></strong> <span style="color:#6a3e3e;">status</span><span style="color:#000000;">,</span><strong><span style="color:#7f0055;">int</span></strong> <span style="color:#6a3e3e;">nowPage</span><span style="color:#000000;">,</span><strong><span style="color:#7f0055;">int</span></strong> <span style="color:#6a3e3e;">step</span><span style="color:#000000;">,StudentBean </span><span style="color:#6a3e3e;">studentBean</span><span style="color:#000000;">) </span><strong><span style="color:#7f0055;">throws</span></strong><span style="color:#000000;"> SQLException ;</span><span style="color:#3f7f5f;">//根据条件查询学生信息并分页</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">public</span></strong> <strong><span style="color:#7f0055;">boolean</span></strong><span style="color:#000000;"> addStudent(StudentBean </span><span style="color:#6a3e3e;">studentBean</span><span style="color:#000000;">) </span><strong><span style="color:#7f0055;">throws</span></strong><span style="color:#000000;"> SQLException ;</span><span style="color:#3f7f5f;">//增加学生信息</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">public</span></strong> <strong><span style="color:#7f0055;">boolean</span></strong><span style="color:#000000;"> updateStudent(StudentBean </span><span style="color:#6a3e3e;">studentBean</span><span style="color:#000000;">);</span><span style="color:#3f7f5f;">//更新学生信息</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">public</span></strong> <strong><span style="color:#7f0055;">boolean</span></strong><span style="color:#000000;"> updateStatusStudent(</span><strong><span style="color:#7f0055;">int</span></strong> <span style="color:#6a3e3e;">id</span><span style="color:#000000;">,</span><strong><span style="color:#7f0055;">int</span></strong> <span style="color:#6a3e3e;">status</span><span style="color:#000000;">);</span><span style="color:#3f7f5f;">//更新学生状态</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">public</span></strong> <strong><span style="color:#7f0055;">boolean</span></strong><span style="color:#000000;"> delStudent(</span><strong><span style="color:#7f0055;">int</span></strong> <span style="color:#6a3e3e;">id</span><span style="color:#000000;">); </span><span style="color:#3f7f5f;">//根据id删除学生</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">public</span></strong> <strong><span style="color:#7f0055;">boolean</span></strong><span style="color:#000000;"> delAllStudent(String[] </span><span style="color:#6a3e3e;">id</span><span style="color:#000000;">); </span><span style="color:#3f7f5f;">//根据id数组批量删除学生</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">public</span></strong> <strong><span style="color:#7f0055;">boolean</span></strong><span style="color:#000000;"> updateAllStudent(String[] </span><span style="color:#6a3e3e;">id</span><span style="color:#000000;">);</span><span style="color:#3f7f5f;">//根据id数组批量改变学生信息状态</span></p> </td></tr></tbody></table> 
<ol><li> 
  <ol><li style="text-align:justify;"><strong>系统运行环境</strong></li></ol></li></ol> 
<p style="margin-left:.0001pt;text-align:justify;">项目开发工具为Spring Tool Suite ，版本为3.9.7.RELEASE；数据库为mysql数据库，版本为5.5.53；服务器为Tomcat服务器，版本为8.5.37。</p> 
<h2 style="text-align:justify;"><strong><strong><strong>二、后台数据库设计</strong></strong></strong></h2> 
<p style="margin-left:.0001pt;text-align:justify;">   <strong>2.1 数据库dormitory</strong></p> 
<p style="margin-left:.0001pt;text-align:justify;">数据库中共有三张表管理员信息表user，宿舍信息表dorm，学生信息表student。</p> 
<h3 style="text-align:justify;"><strong>2.2 用户信息表user</strong></h3> 
<p style="margin-left:.0001pt;text-align:justify;">用户信息表包含5个字段信息，对应着系统用户的登录注册验证模块，表结构如下所示。</p> 
<p style="margin-left:.0001pt;text-align:justify;">用户信息表</p> 
<table border="1" cellspacing="0"><tbody><tr><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">字段名</p> </td><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">字段类型</p> </td><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">字段长度</p> </td><td style="vertical-align:top;width:85.25pt;"> <p style="margin-left:.0001pt;text-align:center;">意义</p> </td><td style="vertical-align:top;width:85.25pt;"> <p style="margin-left:.0001pt;text-align:center;">备注</p> </td></tr><tr><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">id</p> </td><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">int</p> </td><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">11</p> </td><td style="vertical-align:top;width:85.25pt;"> <p style="margin-left:.0001pt;text-align:center;">数据编号</p> </td><td style="vertical-align:top;width:85.25pt;"> <p style="margin-left:.0001pt;text-align:center;">主键</p> </td></tr><tr><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">username</p> </td><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">varchar</p> </td><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">10</p> </td><td style="vertical-align:top;width:85.25pt;"> <p style="margin-left:.0001pt;text-align:center;">用户名</p> </td><td style="vertical-align:top;width:85.25pt;"> <p style="margin-left:.0001pt;text-align:center;"></p> </td></tr><tr><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">password</p> </td><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">varchar</p> </td><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">15</p> </td><td style="vertical-align:top;width:85.25pt;"> <p style="margin-left:.0001pt;text-align:center;">密码</p> </td><td style="vertical-align:top;width:85.25pt;"> <p style="margin-left:.0001pt;text-align:center;"></p> </td></tr><tr><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">email</p> </td><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">varchar</p> </td><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">20</p> </td><td style="vertical-align:top;width:85.25pt;"> <p style="margin-left:.0001pt;text-align:center;">邮箱</p> </td><td style="vertical-align:top;width:85.25pt;"> <p style="margin-left:.0001pt;text-align:center;"></p> </td></tr><tr><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">realname</p> </td><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">varchar</p> </td><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">10</p> </td><td style="vertical-align:top;width:85.25pt;"> <p style="margin-left:.0001pt;text-align:center;">真实姓名</p> </td><td style="vertical-align:top;width:85.25pt;"> <p style="margin-left:.0001pt;text-align:center;"></p> </td></tr></tbody></table> 
<p style="margin-left:.0001pt;text-align:left;"><strong>2.3宿舍信息表</strong></p> 
<p style="margin-left:.0001pt;text-align:justify;">宿舍信息表包含七个字段，对应着宿舍信息增删改查的功能模块，表结构如下：</p> 
<p style="margin-left:.0001pt;text-align:justify;">  宿舍信息表</p> 
<table border="1" cellspacing="0"><tbody><tr><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">字段名</p> </td><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">字段类型</p> </td><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">字段长度</p> </td><td style="vertical-align:top;width:85.25pt;"> <p style="margin-left:.0001pt;text-align:center;">意义</p> </td><td style="vertical-align:top;width:85.25pt;"> <p style="margin-left:.0001pt;text-align:center;">备注</p> </td></tr><tr><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">id</p> </td><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">int</p> </td><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">5</p> </td><td style="vertical-align:top;width:85.25pt;"> <p style="margin-left:.0001pt;text-align:center;">数据编号</p> </td><td style="vertical-align:top;width:85.25pt;"> <p style="margin-left:.0001pt;text-align:center;">主键</p> </td></tr><tr><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">house</p> </td><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">varchar</p> </td><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">3</p> </td><td style="vertical-align:top;width:85.25pt;"> <p style="margin-left:.0001pt;text-align:center;">哪一栋</p> </td><td style="vertical-align:top;width:85.25pt;"> <p style="margin-left:.0001pt;text-align:center;"></p> </td></tr><tr><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">build</p> </td><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">varchar</p> </td><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">5</p> </td><td style="vertical-align:top;width:85.25pt;"> <p style="margin-left:.0001pt;text-align:center;">哪一座</p> </td><td style="vertical-align:top;width:85.25pt;"> <p style="margin-left:.0001pt;text-align:center;"></p> </td></tr><tr><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">number</p> </td><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">varchar</p> </td><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">10</p> </td><td style="vertical-align:top;width:85.25pt;"> <p style="margin-left:.0001pt;text-align:center;">门牌号</p> </td><td style="vertical-align:top;width:85.25pt;"> <p style="margin-left:.0001pt;text-align:center;"></p> </td></tr><tr><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">attribute</p> </td><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">varchar</p> </td><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">5</p> </td><td style="vertical-align:top;width:85.25pt;"> <p style="margin-left:.0001pt;text-align:center;">男女宿舍</p> </td><td style="vertical-align:top;width:85.25pt;"> <p style="margin-left:.0001pt;text-align:center;"></p> </td></tr><tr><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">quantity</p> </td><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">int</p> </td><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">2</p> </td><td style="vertical-align:top;width:85.25pt;"> <p style="margin-left:.0001pt;text-align:center;">当前人数</p> </td><td style="vertical-align:top;width:85.25pt;"> <p style="margin-left:.0001pt;text-align:center;"></p> </td></tr><tr><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">status</p> </td><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">int</p> </td><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">2</p> </td><td style="vertical-align:top;width:85.25pt;"> <p style="margin-left:.0001pt;text-align:center;">是否可用</p> </td><td style="vertical-align:top;width:85.25pt;"> <p style="margin-left:.0001pt;text-align:center;">可用为1；不可用为0</p> </td></tr></tbody></table> 
<h3 style="text-align:justify;"><strong>2.4学生信息表</strong></h3> 
<p style="margin-left:.0001pt;text-align:justify;">学生信息表包含12个字段，对应着学生信息增删改查的功能模块，表结构如下：</p> 
<p style="margin-left:.0001pt;text-align:justify;"> 学生信息表</p> 
<table border="1" cellspacing="0"><tbody><tr><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">字段名</p> </td><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">字段类型</p> </td><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">字段长度</p> </td><td style="vertical-align:top;width:85.25pt;"> <p style="margin-left:.0001pt;text-align:center;">意义</p> </td><td style="vertical-align:top;width:85.25pt;"> <p style="margin-left:.0001pt;text-align:center;">备注</p> </td></tr><tr><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">id</p> </td><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">int</p> </td><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">11</p> </td><td style="vertical-align:top;width:85.25pt;"> <p style="margin-left:.0001pt;text-align:center;">数据编号</p> </td><td style="vertical-align:top;width:85.25pt;"> <p style="margin-left:.0001pt;text-align:center;">主键</p> </td></tr><tr><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">sid</p> </td><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">int</p> </td><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">11</p> </td><td style="vertical-align:top;width:85.25pt;"> <p style="margin-left:.0001pt;text-align:center;">学号</p> </td><td style="vertical-align:top;width:85.25pt;"> <p style="margin-left:.0001pt;text-align:center;"></p> </td></tr><tr><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">dormID</p> </td><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">int</p> </td><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">5</p> </td><td style="vertical-align:top;width:85.25pt;"> <p style="margin-left:.0001pt;text-align:center;">对应宿舍ID</p> </td><td style="vertical-align:top;width:85.25pt;"> <p style="margin-left:.0001pt;text-align:center;"></p> </td></tr><tr><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">sname</p> </td><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">varchar</p> </td><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">10</p> </td><td style="vertical-align:top;width:85.25pt;"> <p style="margin-left:.0001pt;text-align:center;">学生姓名</p> </td><td style="vertical-align:top;width:85.25pt;"> <p style="margin-left:.0001pt;text-align:center;"></p> </td></tr><tr><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">ssex</p> </td><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">varchar</p> </td><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">5</p> </td><td style="vertical-align:top;width:85.25pt;"> <p style="margin-left:.0001pt;text-align:center;">学生性别</p> </td><td style="vertical-align:top;width:85.25pt;"> <p style="margin-left:.0001pt;text-align:center;"></p> </td></tr><tr><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">sbirthday</p> </td><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">date</p> </td><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;"></p> </td><td style="vertical-align:top;width:85.25pt;"> <p style="margin-left:.0001pt;text-align:center;">出生日期</p> </td><td style="vertical-align:top;width:85.25pt;"> <p style="margin-left:.0001pt;text-align:center;"></p> </td></tr><tr><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">smajor</p> </td><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">varchar</p> </td><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">30</p> </td><td style="vertical-align:top;width:85.25pt;"> <p style="margin-left:.0001pt;text-align:center;">专业</p> </td><td style="vertical-align:top;width:85.25pt;"> <p style="margin-left:.0001pt;text-align:center;"></p> </td></tr><tr><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">scollege</p> </td><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">varchar</p> </td><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">20</p> </td><td style="vertical-align:top;width:85.25pt;"> <p style="margin-left:.0001pt;text-align:center;">学院</p> </td><td style="vertical-align:top;width:85.25pt;"> <p style="margin-left:.0001pt;text-align:center;"></p> </td></tr><tr><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">sentranceT</p> </td><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">int</p> </td><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">5</p> </td><td style="vertical-align:top;width:85.25pt;"> <p style="margin-left:.0001pt;text-align:center;">入学时间</p> </td><td style="vertical-align:top;width:85.25pt;"> <p style="margin-left:.0001pt;text-align:center;"></p> </td></tr><tr><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">stelephone</p> </td><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:justify;">varchar</p> </td><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">15</p> </td><td style="vertical-align:top;width:85.25pt;"> <p style="margin-left:.0001pt;text-align:center;">电话</p> </td><td style="vertical-align:top;width:85.25pt;"> <p style="margin-left:.0001pt;text-align:center;"></p> </td></tr><tr><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">img</p> </td><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">varchar</p> </td><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">20</p> </td><td style="vertical-align:top;width:85.25pt;"> <p style="margin-left:.0001pt;text-align:center;"></p> </td><td style="vertical-align:top;width:85.25pt;"> <p style="margin-left:.0001pt;text-align:center;"></p> </td></tr><tr><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">status</p> </td><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">int</p> </td><td style="vertical-align:top;width:85.2pt;"> <p style="margin-left:.0001pt;text-align:center;">2</p> </td><td style="vertical-align:top;width:85.25pt;"> <p style="margin-left:.0001pt;text-align:center;">学生状态</p> </td><td style="vertical-align:top;width:85.25pt;"> <p style="margin-left:.0001pt;text-align:center;">默认为1，代表住宿中；2代表已离开</p> </td></tr></tbody></table> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<h2 style="text-align:justify;"><strong><strong><strong>三、系统模块划分</strong></strong></strong></h2> 
<h3 style="text-align:justify;"><strong>3.1 用户模块</strong></h3> 
<p style="margin-left:.0001pt;text-align:justify;">用户模块主要涉及用户登录和用户注册功能，为实现这两个功能，涉及了五个方法，从而对数据库进行操作，所有方法如下：</p> 
<table border="1" cellspacing="0"><tbody><tr><td style="vertical-align:top;width:426.1pt;"> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">public</span></strong> <strong><span style="color:#7f0055;">boolean</span></strong><span style="color:#000000;"> isUserExist(String </span><span style="color:#6a3e3e;">username</span><span style="color:#000000;">, String </span><span style="color:#6a3e3e;">password</span><span style="color:#000000;">) </span><strong><span style="color:#7f0055;">throws</span></strong><span style="color:#000000;"> SQLException;</span><span style="color:#3f7f5f;">//登录时根据用户名和密码判断用户是否存在</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">public</span></strong> <strong><span style="color:#7f0055;">boolean</span></strong><span style="color:#000000;"> addUser(UserBean </span><span style="color:#6a3e3e;">userBean</span><span style="color:#000000;">);</span><span style="color:#3f7f5f;">//增加用户</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">public</span></strong> <strong><span style="color:#7f0055;">boolean</span></strong><span style="color:#000000;"> updateUser(UserBean </span><span style="color:#6a3e3e;">userBean</span><span style="color:#000000;">);</span><span style="color:#3f7f5f;">//更新用户信息</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">public</span></strong> <strong><span style="color:#7f0055;">boolean</span></strong><span style="color:#000000;"> selectByUserName(String </span><span style="color:#6a3e3e;">username</span><span style="color:#000000;">) </span><strong><span style="color:#7f0055;">throws</span></strong><span style="color:#000000;"> SQLException;</span><span style="color:#3f7f5f;">//注册用户时，先根据用户名查找此用户名是否已被注册</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">public</span></strong><span style="color:#000000;"> UserBean selectUser(String </span><span style="color:#6a3e3e;">username</span><span style="color:#000000;">, String </span><span style="color:#6a3e3e;">password</span><span style="color:#000000;">);</span><span style="color:#3f7f5f;">//根据用户名和密码，返回用户的详细信息</span></p> </td></tr></tbody></table> 
<h4 style="text-align:justify;"><strong>3.1.1 用户登录模块</strong></h4> 
<p style="margin-left:.0001pt;text-align:justify;">用户登录模块需要根据用户输入的密码和用户名，对数据库中存储的数据进行查询，如果查询到对应数据，则允许登录，反之，则不允许登录。</p> 
<h4 style="text-align:justify;"><strong>3.1.2用户注册模块</strong></h4> 
<p style="margin-left:.0001pt;text-align:justify;">用户注册时因为用户名为唯一标识，所以不允许注册有相同用户名的账号，为了防止重复注册，用户在注册时，需要填写自己的邮箱地址，系统会向用户邮箱发送验证码，验证码正确时才允许注册。</p> 
<h3 style="text-align:justify;"><strong>3.2 宿舍模块</strong></h3> 
<p style="margin-left:.0001pt;text-align:justify;">宿舍模块包括对用户的增删改查操作，为实现这些操作，涉及了以下的方法：</p> 
<table border="1" cellspacing="0"><tbody><tr><td style="vertical-align:top;width:426.1pt;"> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">public</span></strong> <strong><span style="color:#7f0055;">boolean</span></strong><span style="color:#000000;"> addDorm(Dormbean </span><span style="color:#6a3e3e;">dormbean</span><span style="color:#000000;">) ;</span><span style="color:#3f7f5f;">//增加宿舍</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">public</span></strong> <strong><span style="color:#7f0055;">boolean</span></strong><span style="color:#000000;"> delDorm(Dormbean </span><span style="color:#6a3e3e;">dormbean</span><span style="color:#000000;">)  </span><strong><span style="color:#7f0055;">throws</span></strong><span style="color:#000000;"> SQLException;</span><span style="color:#3f7f5f;">//删除宿舍</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">public</span></strong> <strong><span style="color:#7f0055;">boolean</span></strong><span style="color:#000000;"> updateDorm(Dormbean </span><span style="color:#6a3e3e;">dormbean</span><span style="color:#000000;">) ;</span><span style="color:#3f7f5f;">//更新宿舍</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">public</span></strong><span style="color:#000000;"> ArrayList&lt;Dormbean&gt; selectDorm(Dormbean </span><span style="color:#6a3e3e;">dormbean</span><span style="color:#000000;">) </span><strong><span style="color:#7f0055;">throws</span></strong><span style="color:#000000;"> SQLException ;</span><span style="color:#3f7f5f;">//查询复合条件的宿舍</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">public</span></strong><span style="color:#000000;"> ArrayList&lt;Dormbean&gt; showAllDorm() </span><strong><span style="color:#7f0055;">throws</span></strong><span style="color:#000000;"> SQLException;</span><span style="color:#3f7f5f;">//展示所有宿舍</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">public</span></strong> <strong><span style="color:#7f0055;">boolean</span></strong><span style="color:#000000;"> isExitDorm(Dormbean </span><span style="color:#6a3e3e;">dormbean</span><span style="color:#000000;">) </span><strong><span style="color:#7f0055;">throws</span></strong><span style="color:#000000;"> SQLException;</span><span style="color:#3f7f5f;">//判断宿舍是否存在</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">public</span></strong><span style="color:#000000;"> Dormbean selectDormById(</span><strong><span style="color:#7f0055;">int</span></strong> <span style="color:#6a3e3e;">id</span><span style="color:#000000;">) </span><strong><span style="color:#7f0055;">throws</span></strong><span style="color:#000000;"> SQLException ;</span><span style="color:#3f7f5f;">//根据宿舍编号查询宿舍并返回宿舍信息</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">public</span></strong> <strong><span style="color:#7f0055;">int</span></strong><span style="color:#000000;"> dormTotalCount(Dormbean </span><span style="color:#6a3e3e;">dormbean</span><span style="color:#000000;">) ;</span><span style="color:#3f7f5f;">//返回宿舍总数</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">public</span></strong> <strong><span style="color:#7f0055;">boolean</span></strong><span style="color:#000000;"> updateDormQuantity(</span><strong><span style="color:#7f0055;">int</span></strong> <span style="color:#6a3e3e;">id</span><span style="color:#000000;">,</span><strong><span style="color:#7f0055;">int</span></strong> <span style="color:#6a3e3e;">quantity</span><span style="color:#000000;">) ;</span><span style="color:#3f7f5f;">//根据宿舍id更新宿舍学生数，插入学生时使用</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">public</span></strong><span style="color:#000000;"> Dormbean selectDormByDormbean(Dormbean </span><span style="color:#6a3e3e;">dormbean</span><span style="color:#000000;">) </span><strong><span style="color:#7f0055;">throws</span></strong><span style="color:#000000;"> SQLException; </span><span style="color:#3f7f5f;">//根据条件返回宿舍</span></p> <p style="margin-left:.0001pt;text-align:justify;"></p> </td></tr></tbody></table> 
<h4 style="text-align:justify;"><strong>3.2.1 宿舍信息的增加</strong></h4> 
<p style="margin-left:.0001pt;text-align:justify;">增加宿舍信息时，首先在前台已经对宿舍信息进行了验证，防止不合法的输入。在确保验证和法的情况下，查询将要创建的宿舍是否已经存在，如已经存在，则提示用户此宿舍已存在，创建失败；如宿舍不存在，则创建成功。</p> 
<h4 style="text-align:justify;"><strong>3.2.2 宿舍信息的删除</strong></h4> 
<p style="margin-left:.0001pt;text-align:justify;">删除宿舍信息时，会先判断当前宿舍的人数，若当前宿舍人数为0，则可以删除宿舍，若当前宿舍仍有学生入住，则不可删除。</p> 
<h4 style="text-align:justify;"><strong>3.2.3 宿舍信息的更改</strong></h4> 
<p style="margin-left:.0001pt;text-align:justify;">宿舍信息的楼号，栋号，门牌号作为宿舍的唯一标识不可修改，可修改宿舍的使用状态和可入住学生的性别。因此，在修改宿舍信息之前会判断宿舍当前人数，若宿舍人数为0，则可以修改；若不为0，则不允许修改。</p> 
<h4 style="text-align:justify;"><strong>3.2.4 宿舍信息的查询</strong></h4> 
<p style="margin-left:.0001pt;text-align:justify;">宿舍信息查询支持对宿舍座号、栋号、门牌号、入住学生性别、当前入住人数的多条件联合查询。</p> 
<h3 style="text-align:justify;"><strong>3.3学生模块</strong></h3> 
<p style="margin-left:.0001pt;text-align:justify;">学生模块包括对学生信息的增删改查，批量操作，信息分页的功能，涉及了以下的方法：</p> 
<table border="1" cellspacing="0"><tbody><tr><td style="vertical-align:top;width:426.1pt;"> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">public</span></strong><span style="color:#000000;"> ArrayList&lt;StudentBean&gt; showStudentByPage(</span><strong><span style="color:#7f0055;">int</span></strong> <span style="color:#6a3e3e;">status</span><span style="color:#000000;">,</span><strong><span style="color:#7f0055;">int</span></strong> <span style="color:#6a3e3e;">nowPage</span><span style="color:#000000;">,</span><strong><span style="color:#7f0055;">int</span></strong> <span style="color:#6a3e3e;">step</span><span style="color:#000000;">) </span><strong><span style="color:#7f0055;">throws</span></strong><span style="color:#000000;"> SQLException ;</span><span style="color:#3f7f5f;">//学生信息分页</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">public</span></strong> <strong><span style="color:#7f0055;">int</span></strong><span style="color:#000000;"> studentTotalCount(</span><strong><span style="color:#7f0055;">int</span></strong> <span style="color:#6a3e3e;">status</span><span style="color:#000000;">,StudentBean </span><span style="color:#6a3e3e;">studentBean</span><span style="color:#000000;">) ;</span><span style="color:#3f7f5f;">//返回学生总数</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">public</span></strong><span style="color:#000000;"> ArrayList&lt;StudentBean&gt; selectStudents(</span><strong><span style="color:#7f0055;">int</span></strong> <span style="color:#6a3e3e;">status</span><span style="color:#000000;">,</span><strong><span style="color:#7f0055;">int</span></strong> <span style="color:#6a3e3e;">nowPage</span><span style="color:#000000;">, </span><strong><span style="color:#7f0055;">int</span></strong> <span style="color:#6a3e3e;">step</span><span style="color:#000000;">,StudentBean </span><span style="color:#6a3e3e;">studentBean</span><span style="color:#000000;">) </span><strong><span style="color:#7f0055;">throws</span></strong><span style="color:#000000;"> SQLException;</span><span style="color:#3f7f5f;">//根据查询条件实现学生信息分页</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">public</span></strong> <strong><span style="color:#7f0055;">boolean</span></strong><span style="color:#000000;"> addStudent(StudentBean </span><span style="color:#6a3e3e;">studentBean</span><span style="color:#000000;">);</span><span style="color:#3f7f5f;">//增加学生信息</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">public</span></strong> <strong><span style="color:#7f0055;">boolean</span></strong><span style="color:#000000;"> isExistStudent(</span><strong><span style="color:#7f0055;">int</span></strong> <span style="color:#6a3e3e;">sid</span><span style="color:#000000;">) </span><strong><span style="color:#7f0055;">throws</span></strong><span style="color:#000000;"> SQLException ;</span><span style="color:#3f7f5f;">//根据学生学号判断学生是否存在</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">public</span></strong><span style="color:#000000;"> StudentBean selectStudentById(</span><strong><span style="color:#7f0055;">int</span></strong> <span style="color:#6a3e3e;">id</span><span style="color:#000000;">) </span><strong><span style="color:#7f0055;">throws</span></strong><span style="color:#000000;"> SQLException;</span><span style="color:#3f7f5f;">//根据学生主键查询相对应学生信息</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">public</span></strong> <strong><span style="color:#7f0055;">boolean</span></strong><span style="color:#000000;"> updateStudent(StudentBean </span><span style="color:#6a3e3e;">studentBean</span><span style="color:#000000;">);</span><span style="color:#3f7f5f;">//更新学生信息</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">public</span></strong> <strong><span style="color:#7f0055;">boolean</span></strong><span style="color:#000000;"> updateStatusStudent(</span><strong><span style="color:#7f0055;">int</span></strong> <span style="color:#6a3e3e;">id</span><span style="color:#000000;">,</span><strong><span style="color:#7f0055;">int</span></strong> <span style="color:#6a3e3e;">status</span><span style="color:#000000;">);</span><span style="color:#3f7f5f;">//根据学生主键更新学生状态</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">public</span></strong> <strong><span style="color:#7f0055;">boolean</span></strong><span style="color:#000000;"> delStudent(</span><strong><span style="color:#7f0055;">int</span></strong> <span style="color:#6a3e3e;">id</span><span style="color:#000000;">); </span><span style="color:#3f7f5f;">//根据主键删除单个学生</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">public</span></strong> <strong><span style="color:#7f0055;">boolean</span></strong><span style="color:#000000;"> delAllStudent(String[] </span><span style="color:#6a3e3e;">id</span><span style="color:#000000;">); </span><span style="color:#3f7f5f;">//根据主键数组批量删除学生</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">public</span></strong> <strong><span style="color:#7f0055;">boolean</span></strong><span style="color:#000000;"> updateAllStudent(String[] </span><span style="color:#6a3e3e;">id</span><span style="color:#000000;">); </span><span style="color:#3f7f5f;">//根据主键恢复被删除的学生</span></p> <p style="margin-left:.0001pt;text-align:justify;"></p> </td></tr></tbody></table> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<h4 style="text-align:justify;"><strong>3.3.1学生信息的增加</strong></h4> 
<p style="margin-left:.0001pt;text-align:justify;">增加学生信息时首先在前端进行表单验证，防止不合法的输入。在增加学生信息时，需要为其入住相应的宿舍，入住宿舍时需要进行判断，当宿舍存在时，判断学生性别以及当前宿舍人数，来判断学生是否能够入住；当宿舍不存在时，则为学生创建相对应的宿舍进行入住，入住成功后，对应的宿舍信息表中的宿舍人数数据进行加一。</p> 
<h4 style="text-align:justify;"><strong>3.3.2学生信息的删除</strong></h4> 
<p style="margin-left:.0001pt;text-align:justify;">为防止用户误删学生信息，系统提供了事务回滚机制，切因学生信息较多，提供了批量删除机制。当学生信息真正从数据库中删除的时候，对应的学生宿舍的宿舍人数会减一。</p> 
<h4 style="text-align:justify;"><strong>3.3.3学生信息的修改</strong></h4> 
<p style="margin-left:.0001pt;text-align:justify;">学生学号作为学生信息的唯一标识不可修改，可以对学生的姓名、学院、专业、出生日期、入学年份、联系电话进行修改。</p> 
<h4 style="text-align:justify;"><strong>3.3.4学生信息的查询</strong></h4> 
<p style="margin-left:.0001pt;text-align:justify;">因为学生信息较多，所以对学生数据进行了分页，支持对学生学号、姓名、性别、专业、学院入学年份的多条件模糊查询。</p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<ul><li style="text-align:justify;"><strong><strong><strong>系统实现</strong></strong></strong></li></ul> 
<h3 style="text-align:justify;"><strong>4.1用户注册页面</strong></h3> 
<p><img alt="" height="286" src="https://images2.imgbox.com/28/02/EOWBV92O_o.png" width="616"></p> 
<h4 style="text-align:justify;"><strong>4.1.1注册功能</strong><strong>实现代码</strong></h4> 
<table border="1" cellspacing="0"><tbody><tr><td style="vertical-align:top;width:426.1pt;"> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">request</span><span style="color:#000000;">.setCharacterEncoding(</span><span style="color:#2a00ff;">"utf-8"</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">response</span><span style="color:#000000;">.setCharacterEncoding(</span><span style="color:#2a00ff;">"utf-8"</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">response</span><span style="color:#000000;">.setContentType(</span><span style="color:#2a00ff;">"text/html;charset=utf-8"</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">String </span><span style="color:#6a3e3e;">code</span><span style="color:#000000;"> = </span><span style="color:#6a3e3e;">request</span><span style="color:#000000;">.getParameter(</span><span style="color:#2a00ff;">"code"</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">HttpSession </span><span style="color:#6a3e3e;">session</span><span style="color:#000000;"> = </span><span style="color:#6a3e3e;">request</span><span style="color:#000000;">.getSession();</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">if</span></strong><span style="color:#000000;"> (</span><span style="color:#6a3e3e;">session</span><span style="color:#000000;">.getAttribute(</span><span style="color:#2a00ff;">"code"</span><span style="color:#000000;">)!=</span><strong><span style="color:#7f0055;">null</span></strong><span style="color:#000000;">) {<!-- --></span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">if</span></strong><span style="color:#000000;"> ((</span><span style="color:#6a3e3e;">code</span><span style="color:#000000;">.equals(</span><span style="color:#6a3e3e;">session</span><span style="color:#000000;">.getAttribute(</span><span style="color:#2a00ff;">"code"</span><span style="color:#000000;">)))) {<!-- --></span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">session</span><span style="color:#000000;">.removeAttribute(</span><span style="color:#2a00ff;">"code"</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">UserBean </span><span style="color:#6a3e3e;">userBean</span><span style="color:#000000;"> = </span><strong><span style="color:#7f0055;">new</span></strong><span style="color:#000000;"> UserBean();</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">userBean</span><span style="color:#000000;">.setUsername(</span><span style="color:#6a3e3e;">request</span><span style="color:#000000;">.getParameter(</span><span style="color:#2a00ff;">"username"</span><span style="color:#000000;">));</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">userBean</span><span style="color:#000000;">.setPassword(</span><span style="color:#6a3e3e;">request</span><span style="color:#000000;">.getParameter(</span><span style="color:#2a00ff;">"password"</span><span style="color:#000000;">));</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">userBean</span><span style="color:#000000;">.setEmail(</span><span style="color:#6a3e3e;">request</span><span style="color:#000000;">.getParameter(</span><span style="color:#2a00ff;">"email"</span><span style="color:#000000;">));</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">UserServiceImpl </span><span style="color:#6a3e3e;">userServiceImpl</span><span style="color:#000000;"> = </span><strong><span style="color:#7f0055;">new</span></strong><span style="color:#000000;"> UserServiceImpl();</span></p> <p style="margin-left:.0001pt;text-align:left;"></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">try</span></strong><span style="color:#000000;"> {<!-- --></span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">if</span></strong><span style="color:#000000;"> (</span><span style="color:#6a3e3e;">userServiceImpl</span><span style="color:#000000;">.register(</span><span style="color:#6a3e3e;">userBean</span><span style="color:#000000;">)) {<!-- --></span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">response</span><span style="color:#000000;">.getWriter().print(</span><span style="color:#2a00ff;">"注册成功"</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">}</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">else</span></strong><span style="color:#000000;"> {<!-- --></span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">response</span><span style="color:#000000;">.getWriter().print(</span><span style="color:#2a00ff;">"此用户名已存在，请更换用户名"</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">}</span></p> <p style="margin-left:.0001pt;text-align:left;"></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">} </span><strong><span style="color:#7f0055;">catch</span></strong><span style="color:#000000;"> (SQLException </span><span style="color:#6a3e3e;">e</span><span style="color:#000000;">) {<!-- --></span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#3f7f5f;">// </span><strong><span style="color:#7f9fbf;">TODO</span></strong><span style="color:#3f7f5f;"> Auto-generated catch block</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">e</span><span style="color:#000000;">.printStackTrace();</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">}</span></p> <p style="margin-left:.0001pt;text-align:left;"></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">}</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">else</span></strong><span style="color:#000000;"> {<!-- --></span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">session</span><span style="color:#000000;">.removeAttribute(</span><span style="color:#2a00ff;">"code"</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">response</span><span style="color:#000000;">.getWriter().print(</span><span style="color:#2a00ff;">"验证码错误"</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">}</span></p> <p style="margin-left:.0001pt;text-align:left;"></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">}</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">else</span></strong><span style="color:#000000;"> {<!-- --></span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">response</span><span style="color:#000000;">.getWriter().print(</span><span style="color:#2a00ff;">"还未获取验证码"</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:justify;"><span style="color:#000000;">}</span></p> </td></tr></tbody></table> 
<h4 style="text-align:justify;"><strong>4.1.2发送邮件功能实现代码</strong></h4> 
<table border="1" cellspacing="0"><tbody><tr><td style="vertical-align:top;width:426.1pt;"> <p style="margin-left:.0001pt;text-align:justify;">package com.gzf.util;</p> <p style="margin-left:.0001pt;text-align:justify;">import java.io.UnsupportedEncodingException;</p> <p style="margin-left:.0001pt;text-align:justify;">import java.util.Date;</p> <p style="margin-left:.0001pt;text-align:justify;">import java.util.Properties;</p> <p style="margin-left:.0001pt;text-align:justify;">import javax.mail.Address;</p> <p style="margin-left:.0001pt;text-align:justify;">import javax.mail.MessagingException;</p> <p style="margin-left:.0001pt;text-align:justify;">import javax.mail.Session;</p> <p style="margin-left:.0001pt;text-align:justify;">import javax.mail.Transport;</p> <p style="margin-left:.0001pt;text-align:justify;">import javax.mail.internet.InternetAddress;</p> <p style="margin-left:.0001pt;text-align:justify;">import javax.mail.internet.MimeMessage;</p> <p style="margin-left:.0001pt;text-align:justify;">import javax.mail.internet.MimeMessage.RecipientType;</p> <p style="margin-left:.0001pt;text-align:justify;">public class EmailUtil {<!-- --></p> <p style="margin-left:.0001pt;text-align:justify;">public static void createMimeMessage(String email,String content) throws UnsupportedEncodingException, MessagingException {<!-- --></p> <p style="margin-left:.0001pt;text-align:justify;">Properties properties = new Properties();</p> <p style="margin-left:.0001pt;text-align:justify;">// 使用的协议</p> <p style="margin-left:.0001pt;text-align:justify;">properties.setProperty("mail.transport.protocol", "smtp");</p> <p style="margin-left:.0001pt;text-align:justify;">//QQ邮箱协议地址</p> <p style="margin-left:.0001pt;text-align:justify;">properties.setProperty("mail.smtp.host", "smtp.qq.com");</p> <p style="margin-left:.0001pt;text-align:justify;">//端口号</p> <p style="margin-left:.0001pt;text-align:justify;">properties.setProperty("mail.smtp.port", "465");</p> <p style="margin-left:.0001pt;text-align:justify;">//是否需要授权</p> <p style="margin-left:.0001pt;text-align:justify;">properties.setProperty("mail.smtp.auth", "true");</p> <p style="margin-left:.0001pt;text-align:justify;">//qq:ssl安全认证</p> <p style="margin-left:.0001pt;text-align:justify;">//引用需要的类</p> <p style="margin-left:.0001pt;text-align:justify;">properties.setProperty("mail.smtp.socketFactory.class", "javax.net.ssl.SSLSocketFactory");</p> <p style="margin-left:.0001pt;text-align:justify;">//是否处理未经SSL认证的信息</p> <p style="margin-left:.0001pt;text-align:justify;">properties.setProperty("mail.smtp.socketFactory.fallback", "true");</p> <p style="margin-left:.0001pt;text-align:justify;">//SSL认证的端口号</p> <p style="margin-left:.0001pt;text-align:justify;">properties.setProperty("mail.smtp.socketFactory.port", "465");</p> <p style="margin-left:.0001pt;text-align:justify;">Session session = Session.getInstance(properties);</p> <p style="margin-left:.0001pt;text-align:justify;">// MimeMessage定义了大多数消息公共属性的抽象获取和设置方法</p> <p style="margin-left:.0001pt;text-align:justify;">MimeMessage mimeMessage = new MimeMessage(session);</p> <p style="margin-left:.0001pt;text-align:justify;">// 设置发件人地址信息</p> <p style="margin-left:.0001pt;text-align:justify;">Address address = new InternetAddress("1226164732@qq.com","gzf","utf-8");</p> <p style="margin-left:.0001pt;text-align:justify;">mimeMessage.setFrom(address);</p> <p style="margin-left:.0001pt;text-align:justify;">mimeMessage.setSubject("来自谷占方的邮件","utf-8");</p> <p style="margin-left:.0001pt;text-align:justify;">content = "您正在注册宿舍管理系统管理员，验证码为"+content;</p> <p style="margin-left:.0001pt;text-align:justify;">mimeMessage.setContent(content, "text/html;charset=utf-8");</p> <p style="margin-left:.0001pt;text-align:justify;">//设置传送日期</p> <p style="margin-left:.0001pt;text-align:justify;">mimeMessage.setSentDate(new Date());</p> <p style="margin-left:.0001pt;text-align:justify;">//设置接收人,  .to为正常发送  .cc为抄送  .bcc为密送</p> <p style="margin-left:.0001pt;text-align:justify;">mimeMessage.setRecipient(RecipientType.TO,new InternetAddress(email, "小可爱", "utf-8"));</p> <p style="margin-left:.0001pt;text-align:justify;">//保存邮件</p> <p style="margin-left:.0001pt;text-align:justify;">mimeMessage.saveChanges();</p> <p style="margin-left:.0001pt;text-align:justify;">//实例化一个对象，单例模式</p> <p style="margin-left:.0001pt;text-align:justify;">session.setDebug(true);</p> <p style="margin-left:.0001pt;text-align:justify;">//创建邮箱</p> <p style="margin-left:.0001pt;text-align:justify;">//建立连接对象</p> <p style="margin-left:.0001pt;text-align:justify;">Transport transport = session.getTransport();</p> <p style="margin-left:.0001pt;text-align:justify;">//此处QQ必须填密钥而不是密码</p> <p style="margin-left:.0001pt;text-align:justify;">transport.connect("1226164732@qq.com", "xaetrwzpaknkgeeb");</p> <p style="margin-left:.0001pt;text-align:justify;">//进行发送</p> <p style="margin-left:.0001pt;text-align:justify;">transport.sendMessage(mimeMessage,mimeMessage.getAllRecipients());</p> <p style="margin-left:.0001pt;text-align:justify;">//关闭连接</p> <p style="margin-left:.0001pt;text-align:justify;">transport.close();</p> <p style="margin-left:.0001pt;text-align:justify;">}</p> <p style="margin-left:.0001pt;text-align:justify;">}</p> </td></tr></tbody></table> 
<h3 style="text-align:justify;"><strong>4.2宿舍操作界面</strong></h3> 
<h4 style="text-align:justify;"><strong>4.2.1更改宿舍信息</strong></h4> 
<p><img alt="" height="277" src="https://images2.imgbox.com/fd/ad/lbFqm4do_o.png" width="620"></p> 
<h4 style="text-align:justify;"><strong>4.2.2实现代码如下</strong></h4> 
<table border="1" cellspacing="0"><tbody><tr><td style="vertical-align:top;width:426.1pt;"> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">protected</span></strong> <strong><span style="color:#7f0055;">void</span></strong><span style="color:#000000;"> doGet(HttpServletRequest </span><span style="color:#6a3e3e;">request</span><span style="color:#000000;">, HttpServletResponse </span><span style="color:#6a3e3e;">response</span><span style="color:#000000;">) </span><strong><span style="color:#7f0055;">throws</span></strong><span style="color:#000000;"> ServletException, IOException {<!-- --></span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#3f7f5f;">// </span><strong><span style="color:#7f9fbf;">TODO</span></strong><span style="color:#3f7f5f;"> Auto-generated method stub</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">request</span><span style="color:#000000;">.setCharacterEncoding(</span><span style="color:#2a00ff;">"utf-8"</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">response</span><span style="color:#000000;">.setCharacterEncoding(</span><span style="color:#2a00ff;">"utf-8"</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">response</span><span style="color:#000000;">.setContentType(</span><span style="color:#2a00ff;">"text/html;charset=utf-8"</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">int</span></strong> <span style="color:#6a3e3e;">id</span><span style="color:#000000;"> = Integer.</span><em><span style="color:#000000;">parseInt</span></em><span style="color:#000000;">(</span><span style="color:#6a3e3e;">request</span><span style="color:#000000;">.getParameter(</span><span style="color:#2a00ff;">"id"</span><span style="color:#000000;">));</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">int</span></strong> <span style="color:#6a3e3e;">status</span><span style="color:#000000;"> = Integer.</span><em><span style="color:#000000;">parseInt</span></em><span style="color:#000000;">(</span><span style="color:#6a3e3e;">request</span><span style="color:#000000;">.getParameter(</span><span style="color:#2a00ff;">"status"</span><span style="color:#000000;">));</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">String </span><span style="color:#6a3e3e;">house</span><span style="color:#000000;">=</span><strong><span style="color:#7f0055;">null</span></strong><span style="color:#000000;">;</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">String </span><span style="color:#6a3e3e;">attribute</span><span style="color:#000000;"> = </span><strong><span style="color:#7f0055;">null</span></strong><span style="color:#000000;">;</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">if</span></strong><span style="color:#000000;"> (</span><span style="color:#6a3e3e;">request</span><span style="color:#000000;">.getParameter(</span><span style="color:#2a00ff;">"house"</span><span style="color:#000000;">)!=</span><strong><span style="color:#7f0055;">null</span></strong><span style="color:#000000;">) {<!-- --></span><span style="color:#3f7f5f;">//说明是通过表单提交更改性别</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">house</span><span style="color:#000000;"> = </span><span style="color:#6a3e3e;">request</span><span style="color:#000000;">.getParameter(</span><span style="color:#2a00ff;">"house"</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">attribute</span><span style="color:#000000;"> = </span><span style="color:#6a3e3e;">request</span><span style="color:#000000;">.getParameter(</span><span style="color:#2a00ff;">"attribute"</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">}</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">Dormbean </span><span style="color:#6a3e3e;">dormbean</span><span style="color:#000000;"> = </span><strong><span style="color:#7f0055;">new</span></strong><span style="color:#000000;"> Dormbean();</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">dormbean</span><span style="color:#000000;">.setId(</span><span style="color:#6a3e3e;">id</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">dormbean</span><span style="color:#000000;">.setStatus(</span><span style="color:#6a3e3e;">status</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">dormbean</span><span style="color:#000000;">.setHouse(</span><span style="color:#6a3e3e;">house</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">dormbean</span><span style="color:#000000;">.setAttribute(</span><span style="color:#6a3e3e;">attribute</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">IDormService </span><span style="color:#6a3e3e;">iDormService</span><span style="color:#000000;"> = </span><strong><span style="color:#7f0055;">new</span></strong><span style="color:#000000;"> DormServiceImpl();</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">try</span></strong><span style="color:#000000;"> {<!-- --></span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">response</span><span style="color:#000000;">.getWriter().println(</span><span style="color:#6a3e3e;">iDormService</span><span style="color:#000000;">.updateDorm(</span><span style="color:#6a3e3e;">dormbean</span><span style="color:#000000;">));</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">} </span><strong><span style="color:#7f0055;">catch</span></strong><span style="color:#000000;"> (SQLException </span><span style="color:#6a3e3e;">e</span><span style="color:#000000;">) {<!-- --></span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#3f7f5f;">// </span><strong><span style="color:#7f9fbf;">TODO</span></strong><span style="color:#3f7f5f;"> Auto-generated catch block</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">e</span><span style="color:#000000;">.printStackTrace();</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">}</span></p> <p style="margin-left:.0001pt;text-align:justify;"><span style="color:#000000;">}</span></p> </td></tr></tbody></table> 
<h3 style="text-align:justify;"><strong>4.3学生列表界面</strong></h3> 
<h4 style="text-align:justify;"><strong>4.3.1 学生分页显示列表</strong></h4> 
<p style="margin-left:.0001pt;text-align:justify;">学生列表实现了分页操作，方便用户浏览信息，并能够在页面中提示当前学生总数，以及页数，在进行搜索之后仍能对学生信息进行分页。</p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="277" src="https://images2.imgbox.com/0b/84/KSaVhQHp_o.png" width="627"></p> 
<h4 style="text-align:justify;"><strong>4.3.2搜索页面信息分页实现代码</strong></h4> 
<table border="1" cellspacing="0"><tbody><tr><td style="vertical-align:top;width:426.1pt;"> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">protected</span></strong> <strong><span style="color:#7f0055;">void</span></strong><span style="color:#000000;"> doGet(HttpServletRequest </span><span style="color:#6a3e3e;">request</span><span style="color:#000000;">, HttpServletResponse </span><span style="color:#6a3e3e;">response</span><span style="color:#000000;">) </span><strong><span style="color:#7f0055;">throws</span></strong><span style="color:#000000;"> ServletException, IOException {<!-- --></span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#3f7f5f;">// </span><strong><span style="color:#7f9fbf;">TODO</span></strong><span style="color:#3f7f5f;"> Auto-generated method stub</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">request</span><span style="color:#000000;">.setCharacterEncoding(</span><span style="color:#2a00ff;">"utf-8"</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">response</span><span style="color:#000000;">.setCharacterEncoding(</span><span style="color:#2a00ff;">"utf-8"</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">response</span><span style="color:#000000;">.setContentType(</span><span style="color:#2a00ff;">"text/html;charset=utf-8"</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">HttpSession </span><span style="color:#6a3e3e;">session</span><span style="color:#000000;"> = </span><span style="color:#6a3e3e;">request</span><span style="color:#000000;">.getSession();</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">StudentBean </span><span style="color:#6a3e3e;">studentBean</span><span style="color:#000000;"> = </span><strong><span style="color:#7f0055;">new</span></strong><span style="color:#000000;"> StudentBean();</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">int</span></strong> <span style="color:#6a3e3e;">nowPage</span><span style="color:#000000;">;</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">int</span></strong> <span style="color:#6a3e3e;">step</span><span style="color:#000000;"> = 5;</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">if</span></strong><span style="color:#000000;"> (</span><span style="color:#6a3e3e;">request</span><span style="color:#000000;">.getParameter(</span><span style="color:#2a00ff;">"nowPage"</span><span style="color:#000000;">)==</span><strong><span style="color:#7f0055;">null</span></strong><span style="color:#000000;">) {<!-- --></span><span style="color:#3f7f5f;">//为null说明是通过按钮提交</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">nowPage</span><span style="color:#000000;"> = 1;</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">int</span></strong> <span style="color:#6a3e3e;">sid</span><span style="color:#000000;"> = 0;</span></p> <p style="margin-left:.0001pt;text-align:left;"></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">if</span></strong><span style="color:#000000;"> (</span><span style="color:#6a3e3e;">request</span><span style="color:#000000;">.getParameter(</span><span style="color:#2a00ff;">"sid"</span><span style="color:#000000;">)!=</span><span style="color:#2a00ff;">""</span><span style="color:#000000;">) {<!-- --></span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">sid</span><span style="color:#000000;"> = Integer.</span><em><span style="color:#000000;">parseInt</span></em><span style="color:#000000;">(</span><span style="color:#6a3e3e;">request</span><span style="color:#000000;">.getParameter(</span><span style="color:#2a00ff;">"sid"</span><span style="color:#000000;">));</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">}</span></p> <p style="margin-left:.0001pt;text-align:left;"></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">String </span><span style="color:#6a3e3e;">sname</span><span style="color:#000000;"> = </span><span style="color:#6a3e3e;">request</span><span style="color:#000000;">.getParameter(</span><span style="color:#2a00ff;">"sname"</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">String </span><span style="color:#6a3e3e;">ssex</span><span style="color:#000000;"> = </span><span style="color:#6a3e3e;">request</span><span style="color:#000000;">.getParameter(</span><span style="color:#2a00ff;">"ssex"</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">String </span><span style="color:#6a3e3e;">smajor</span><span style="color:#000000;"> = </span><span style="color:#6a3e3e;">request</span><span style="color:#000000;">.getParameter(</span><span style="color:#2a00ff;">"smajor"</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">String </span><span style="color:#6a3e3e;">scollege</span><span style="color:#000000;"> = </span><span style="color:#6a3e3e;">request</span><span style="color:#000000;">.getParameter(</span><span style="color:#2a00ff;">"scollege"</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">int</span></strong> <span style="color:#6a3e3e;">sentranceT</span><span style="color:#000000;"> = 0;</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">if</span></strong><span style="color:#000000;"> (</span><span style="color:#6a3e3e;">request</span><span style="color:#000000;">.getParameter(</span><span style="color:#2a00ff;">"sentranceT"</span><span style="color:#000000;">)!=</span><span style="color:#2a00ff;">""</span><span style="color:#000000;">) {<!-- --></span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">sentranceT</span><span style="color:#000000;"> = Integer.</span><em><span style="color:#000000;">parseInt</span></em><span style="color:#000000;">(</span><span style="color:#6a3e3e;">request</span><span style="color:#000000;">.getParameter(</span><span style="color:#2a00ff;">"sentranceT"</span><span style="color:#000000;">));</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">}</span></p> <p style="margin-left:.0001pt;text-align:left;"></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">studentBean</span><span style="color:#000000;">.setSid(</span><span style="color:#6a3e3e;">sid</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">studentBean</span><span style="color:#000000;">.setSname(</span><span style="color:#6a3e3e;">sname</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">studentBean</span><span style="color:#000000;">.setSsex(</span><span style="color:#6a3e3e;">ssex</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">studentBean</span><span style="color:#000000;">.setSmajor(</span><span style="color:#6a3e3e;">smajor</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">studentBean</span><span style="color:#000000;">.setScollege(</span><span style="color:#6a3e3e;">scollege</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">studentBean</span><span style="color:#000000;">.setSentranceT(</span><span style="color:#6a3e3e;">sentranceT</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">session</span><span style="color:#000000;">.setAttribute(</span><span style="color:#2a00ff;">"studentBean"</span><span style="color:#000000;">, </span><span style="color:#6a3e3e;">studentBean</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">}</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">else</span></strong><span style="color:#000000;"> {<!-- --></span> <span style="color:#3f7f5f;">//不为空说明为通过页码提交搜索</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">nowPage</span><span style="color:#000000;"> = Integer.</span><em><span style="color:#000000;">parseInt</span></em><span style="color:#000000;">(</span><span style="color:#6a3e3e;">request</span><span style="color:#000000;">.getParameter(</span><span style="color:#2a00ff;">"nowPage"</span><span style="color:#000000;">));</span></p> <p style="margin-left:.0001pt;text-align:left;"></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">studentBean</span><span style="color:#000000;"> = (StudentBean) </span><span style="color:#6a3e3e;">session</span><span style="color:#000000;">.getAttribute(</span><span style="color:#2a00ff;">"studentBean"</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">}</span></p> <p style="margin-left:.0001pt;text-align:left;"></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">int</span></strong> <span style="color:#6a3e3e;">status</span><span style="color:#000000;"> = 1 ;</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">System.</span><strong><em><span style="color:#0000c0;">out</span></em></strong><span style="color:#000000;">.println(</span><span style="color:#2a00ff;">"servlet中的studentbean为"</span><span style="color:#000000;">+</span><span style="color:#6a3e3e;">studentBean</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">IStudentService </span><span style="color:#6a3e3e;">iStudentService</span><span style="color:#000000;"> = </span><strong><span style="color:#7f0055;">new</span></strong><span style="color:#000000;"> StudentServiceImpl();</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">int</span></strong> <span style="color:#6a3e3e;">totalCount</span><span style="color:#000000;"> = </span><span style="color:#6a3e3e;">iStudentService</span><span style="color:#000000;">.StudentTotalCount(</span><span style="color:#6a3e3e;">status</span><span style="color:#000000;">,</span><span style="color:#6a3e3e;">studentBean</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">ArrayList&lt;StudentBean&gt; </span><span style="color:#6a3e3e;">studentBeans</span><span style="color:#000000;"> = </span><strong><span style="color:#7f0055;">new</span></strong><span style="color:#000000;"> ArrayList&lt;&gt;();</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">try</span></strong><span style="color:#000000;"> {<!-- --></span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">studentBeans</span><span style="color:#000000;"> = </span><span style="color:#6a3e3e;">iStudentService</span><span style="color:#000000;">.selectStudents(</span><span style="color:#6a3e3e;">status</span><span style="color:#000000;">,</span><span style="color:#6a3e3e;">nowPage</span><span style="color:#000000;">, </span><span style="color:#6a3e3e;">step</span><span style="color:#000000;">, </span><span style="color:#6a3e3e;">studentBean</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">} </span><strong><span style="color:#7f0055;">catch</span></strong><span style="color:#000000;"> (SQLException </span><span style="color:#6a3e3e;">e</span><span style="color:#000000;">) {<!-- --></span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#3f7f5f;">// </span><strong><span style="color:#7f9fbf;">TODO</span></strong><span style="color:#3f7f5f;"> Auto-generated catch block</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">e</span><span style="color:#000000;">.printStackTrace();</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">}</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">Iterator&lt;StudentBean&gt; </span><span style="color:#6a3e3e;">iterator</span><span style="color:#000000;"> = </span><span style="color:#6a3e3e;">studentBeans</span><span style="color:#000000;">.iterator();</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">while</span></strong><span style="color:#000000;"> (</span><span style="color:#6a3e3e;">iterator</span><span style="color:#000000;">.hasNext()) {<!-- --></span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">System.</span><strong><em><span style="color:#0000c0;">out</span></em></strong><span style="color:#000000;">.println(</span><span style="color:#6a3e3e;">iterator</span><span style="color:#000000;">.next());</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">}</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">PageUtil&lt;StudentBean&gt; </span><span style="color:#6a3e3e;">pageUtil</span><span style="color:#000000;"> = </span><strong><span style="color:#7f0055;">new</span></strong><span style="color:#000000;"> PageUtil&lt;&gt;();</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">pageUtil</span><span style="color:#000000;">.setList(</span><span style="color:#6a3e3e;">studentBeans</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">pageUtil</span><span style="color:#000000;">.setTotalCount(</span><span style="color:#6a3e3e;">totalCount</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">pageUtil</span><span style="color:#000000;">.setStep(</span><span style="color:#6a3e3e;">step</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">pageUtil</span><span style="color:#000000;">.setNowPage(</span><span style="color:#6a3e3e;">nowPage</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">request</span><span style="color:#000000;">.setAttribute(</span><span style="color:#2a00ff;">"pageUtil"</span><span style="color:#000000;">, </span><span style="color:#6a3e3e;">pageUtil</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;">    <span style="color:#6a3e3e;">request</span><span style="color:#000000;">.getRequestDispatcher(</span><span style="color:#2a00ff;">"student-select.jsp"</span><span style="color:#000000;">).forward(</span><span style="color:#6a3e3e;">request</span><span style="color:#000000;">, </span><span style="color:#6a3e3e;">response</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:justify;"><span style="color:#000000;">}</span></p> </td></tr></tbody></table> 
<h4 style="text-align:justify;"><strong>4.3.3分页帮助类</strong></h4> 
<table border="1" cellspacing="0"><tbody><tr><td style="vertical-align:top;width:426.1pt;"> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">package</span></strong><span style="color:#000000;"> com.gzf.util;</span></p> <p style="margin-left:.0001pt;text-align:left;"></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">import</span></strong><span style="color:#000000;"> java.util.ArrayList;</span></p> <p style="margin-left:.0001pt;text-align:left;"></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">public</span></strong> <strong><span style="color:#7f0055;">class</span></strong><span style="color:#000000;"> PageUtil&lt;T&gt; {<!-- --></span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">private</span></strong> <strong><span style="color:#7f0055;">int</span></strong> <span style="color:#0000c0;">totalCount</span><span style="color:#000000;">;</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">private</span></strong> <strong><span style="color:#7f0055;">int</span></strong> <span style="color:#0000c0;">step</span><span style="color:#000000;">;</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">private</span></strong> <strong><span style="color:#7f0055;">int</span></strong> <span style="color:#0000c0;">totalPage</span><span style="color:#000000;">;</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">private</span></strong> <strong><span style="color:#7f0055;">int</span></strong> <span style="color:#0000c0;">nowPage</span><span style="color:#000000;">;</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">private</span></strong><span style="color:#000000;"> ArrayList&lt;T&gt; </span><span style="color:#0000c0;">list</span><span style="color:#000000;">;</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">public</span></strong><span style="color:#000000;"> PageUtil(</span><strong><span style="color:#7f0055;">int</span></strong> <span style="color:#6a3e3e;">totalCount</span><span style="color:#000000;">, </span><strong><span style="color:#7f0055;">int</span></strong> <span style="color:#6a3e3e;">step</span><span style="color:#000000;">, </span><strong><span style="color:#7f0055;">int</span></strong> <span style="color:#6a3e3e;">totalPage</span><span style="color:#000000;">, </span><strong><span style="color:#7f0055;">int</span></strong> <span style="color:#6a3e3e;">nowPage</span><span style="color:#000000;">, ArrayList&lt;T&gt; </span><span style="color:#6a3e3e;">list</span><span style="color:#000000;">) {<!-- --></span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">super</span></strong><span style="color:#000000;">();</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">this</span></strong><span style="color:#000000;">.</span><span style="color:#0000c0;">totalCount</span><span style="color:#000000;"> = </span><span style="color:#6a3e3e;">totalCount</span><span style="color:#000000;">;</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">this</span></strong><span style="color:#000000;">.</span><span style="color:#0000c0;">step</span><span style="color:#000000;"> = </span><span style="color:#6a3e3e;">step</span><span style="color:#000000;">;</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">this</span></strong><span style="color:#000000;">.</span><span style="color:#0000c0;">totalPage</span><span style="color:#000000;"> = </span><span style="color:#6a3e3e;">totalPage</span><span style="color:#000000;">;</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">this</span></strong><span style="color:#000000;">.</span><span style="color:#0000c0;">nowPage</span><span style="color:#000000;"> = </span><span style="color:#6a3e3e;">nowPage</span><span style="color:#000000;">;</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">this</span></strong><span style="color:#000000;">.</span><span style="color:#0000c0;">list</span><span style="color:#000000;"> = </span><span style="color:#6a3e3e;">list</span><span style="color:#000000;">;</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">}</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">public</span></strong><span style="color:#000000;"> PageUtil() {<!-- --></span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">super</span></strong><span style="color:#000000;">();</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#3f7f5f;">// </span><strong><span style="color:#7f9fbf;">TODO</span></strong><span style="color:#3f7f5f;"> Auto-generated constructor stub</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">}</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">public</span></strong> <strong><span style="color:#7f0055;">int</span></strong><span style="color:#000000;"> getTotalCount() {<!-- --></span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">return</span></strong> <span style="color:#0000c0;">totalCount</span><span style="color:#000000;">;</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">}</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">public</span></strong> <strong><span style="color:#7f0055;">void</span></strong><span style="color:#000000;"> setTotalCount(</span><strong><span style="color:#7f0055;">int</span></strong> <span style="color:#6a3e3e;">totalCount</span><span style="color:#000000;">) {<!-- --></span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">this</span></strong><span style="color:#000000;">.</span><span style="color:#0000c0;">totalCount</span><span style="color:#000000;"> = </span><span style="color:#6a3e3e;">totalCount</span><span style="color:#000000;">;</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">}</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">public</span></strong> <strong><span style="color:#7f0055;">int</span></strong><span style="color:#000000;"> getStep() {<!-- --></span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">return</span></strong> <span style="color:#0000c0;">step</span><span style="color:#000000;">;</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">}</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#3f7f5f;">//</span> <span style="color:#3f7f5f;">在这里定义了总页数，因此需要先定义数据总数，再定义每页显示数量</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">public</span></strong> <strong><span style="color:#7f0055;">void</span></strong><span style="color:#000000;"> setStep(</span><strong><span style="color:#7f0055;">int</span></strong> <span style="color:#6a3e3e;">step</span><span style="color:#000000;">) {<!-- --></span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">this</span></strong><span style="color:#000000;">.</span><span style="color:#0000c0;">step</span><span style="color:#000000;"> = </span><span style="color:#6a3e3e;">step</span><span style="color:#000000;">;</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">if</span></strong><span style="color:#000000;">(</span><strong><span style="color:#7f0055;">this</span></strong><span style="color:#000000;">.</span><span style="color:#0000c0;">totalCount</span><span style="color:#000000;"> % </span><strong><span style="color:#7f0055;">this</span></strong><span style="color:#000000;">.</span><span style="color:#0000c0;">step</span><span style="color:#000000;"> ==0) {<!-- --></span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">this</span></strong><span style="color:#000000;">.</span><span style="color:#0000c0;">totalPage</span><span style="color:#000000;"> = </span><strong><span style="color:#7f0055;">this</span></strong><span style="color:#000000;">.</span><span style="color:#0000c0;">totalCount</span><span style="color:#000000;"> / </span><strong><span style="color:#7f0055;">this</span></strong><span style="color:#000000;">.</span><span style="color:#0000c0;">step</span><span style="color:#000000;">;</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">}</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">else</span></strong><span style="color:#000000;"> {<!-- --></span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">this</span></strong><span style="color:#000000;">.</span><span style="color:#0000c0;">totalPage</span><span style="color:#000000;"> = </span><strong><span style="color:#7f0055;">this</span></strong><span style="color:#000000;">.</span><span style="color:#0000c0;">totalCount</span><span style="color:#000000;"> / </span><strong><span style="color:#7f0055;">this</span></strong><span style="color:#000000;">.</span><span style="color:#0000c0;">step</span><span style="color:#000000;"> + 1;</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">}</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">}</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">public</span></strong> <strong><span style="color:#7f0055;">int</span></strong><span style="color:#000000;"> getTotalPage() {<!-- --></span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">return</span></strong> <span style="color:#0000c0;">totalPage</span><span style="color:#000000;">;</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">}</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">public</span></strong> <strong><span style="color:#7f0055;">int</span></strong><span style="color:#000000;"> getNowPage() {<!-- --></span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">return</span></strong> <span style="color:#0000c0;">nowPage</span><span style="color:#000000;">;</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">}</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">public</span></strong> <strong><span style="color:#7f0055;">void</span></strong><span style="color:#000000;"> setNowPage(</span><strong><span style="color:#7f0055;">int</span></strong> <span style="color:#6a3e3e;">nowPage</span><span style="color:#000000;">) {<!-- --></span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">this</span></strong><span style="color:#000000;">.</span><span style="color:#0000c0;">nowPage</span><span style="color:#000000;"> = </span><span style="color:#6a3e3e;">nowPage</span><span style="color:#000000;">;</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">}</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">public</span></strong><span style="color:#000000;"> ArrayList&lt;T&gt; getList() {<!-- --></span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">return</span></strong> <span style="color:#0000c0;">list</span><span style="color:#000000;">;</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">}</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">public</span></strong> <strong><span style="color:#7f0055;">void</span></strong><span style="color:#000000;"> setList(ArrayList&lt;T&gt; </span><span style="color:#6a3e3e;">list</span><span style="color:#000000;">) {<!-- --></span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">this</span></strong><span style="color:#000000;">.</span><span style="color:#0000c0;">list</span><span style="color:#000000;"> = </span><span style="color:#6a3e3e;">list</span><span style="color:#000000;">;</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">}</span></p> <p style="margin-left:.0001pt;text-align:left;"></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">}</span></p> <p style="margin-left:.0001pt;text-align:justify;"></p> </td></tr></tbody></table> 
<h3 style="text-align:justify;"><strong>4.4学生信息查询</strong></h3> 
<p style="margin-left:.0001pt;text-align:justify;">支持对学生信息到的多条件模糊查询。</p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<h4 style="text-align:justify;"><strong>4.4.1页面展示</strong></h4> 
<p><img alt="" height="277" src="https://images2.imgbox.com/b8/1b/fFVVrB20_o.png" width="622"></p> 
<h4 style="text-align:justify;"><strong>4.4.2实现代码</strong></h4> 
<table border="1" cellspacing="0"><tbody><tr><td style="vertical-align:top;width:426.1pt;"> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">public</span></strong><span style="color:#000000;"> ArrayList&lt;StudentBean&gt; selectStudents(</span><strong><span style="color:#7f0055;">int</span></strong> <span style="color:#6a3e3e;">status</span><span style="color:#000000;">,</span><strong><span style="color:#7f0055;">int</span></strong> <span style="color:#6a3e3e;">nowPage</span><span style="color:#000000;">, </span><strong><span style="color:#7f0055;">int</span></strong> <span style="color:#6a3e3e;">step</span><span style="color:#000000;">,StudentBean </span><span style="color:#6a3e3e;">studentBean</span><span style="color:#000000;">) </span><strong><span style="color:#7f0055;">throws</span></strong><span style="color:#000000;"> SQLException {<!-- --></span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#3f7f5f;">// </span><strong><span style="color:#7f9fbf;">TODO</span></strong><span style="color:#3f7f5f;"> Auto-generated method stub</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">String </span><span style="color:#6a3e3e;">sql</span><span style="color:#000000;"> = </span><span style="color:#2a00ff;">"SELECT * FROM student where status = ?"</span><span style="color:#000000;">;</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">if</span></strong><span style="color:#000000;"> (</span><span style="color:#6a3e3e;">studentBean</span><span style="color:#000000;">.getSid()==0) {<!-- --></span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">sql</span><span style="color:#000000;"> = </span><span style="color:#6a3e3e;">sql</span><span style="color:#000000;"> + </span><span style="color:#2a00ff;">" and sid != ?"</span><span style="color:#000000;">;</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">}</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">else</span></strong><span style="color:#000000;"> {<!-- --></span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">sql</span><span style="color:#000000;"> = </span><span style="color:#6a3e3e;">sql</span><span style="color:#000000;"> + </span><span style="color:#2a00ff;">" and sid like ?"</span><span style="color:#000000;">;</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">}</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">if</span></strong><span style="color:#000000;"> (</span><span style="color:#6a3e3e;">studentBean</span><span style="color:#000000;">.getSname()==</span><span style="color:#2a00ff;">""</span><span style="color:#000000;">) {<!-- --></span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">sql</span><span style="color:#000000;"> = </span><span style="color:#6a3e3e;">sql</span><span style="color:#000000;"> + </span><span style="color:#2a00ff;">" and sname != ?"</span><span style="color:#000000;">;</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">}</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">else</span></strong><span style="color:#000000;"> {<!-- --></span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">sql</span><span style="color:#000000;"> = </span><span style="color:#6a3e3e;">sql</span><span style="color:#000000;"> + </span><span style="color:#2a00ff;">" and sname like ?"</span><span style="color:#000000;">;</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">}</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">if</span></strong><span style="color:#000000;"> (</span><span style="color:#6a3e3e;">studentBean</span><span style="color:#000000;">.getSsex()==</span><span style="color:#2a00ff;">""</span><span style="color:#000000;">) {<!-- --></span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">sql</span><span style="color:#000000;"> = </span><span style="color:#6a3e3e;">sql</span><span style="color:#000000;"> + </span><span style="color:#2a00ff;">" and ssex != ?"</span><span style="color:#000000;">;</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">}</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">else</span></strong><span style="color:#000000;"> {<!-- --></span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">sql</span><span style="color:#000000;"> = </span><span style="color:#6a3e3e;">sql</span><span style="color:#000000;"> + </span><span style="color:#2a00ff;">" and ssex = ?"</span><span style="color:#000000;">;</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">}</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">if</span></strong><span style="color:#000000;"> (</span><span style="color:#6a3e3e;">studentBean</span><span style="color:#000000;">.getSmajor()==</span><span style="color:#2a00ff;">""</span><span style="color:#000000;">) {<!-- --></span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">sql</span><span style="color:#000000;"> = </span><span style="color:#6a3e3e;">sql</span><span style="color:#000000;"> + </span><span style="color:#2a00ff;">" and smajor != ?"</span><span style="color:#000000;">;</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">}</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">else</span></strong><span style="color:#000000;"> {<!-- --></span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">sql</span><span style="color:#000000;"> = </span><span style="color:#6a3e3e;">sql</span><span style="color:#000000;"> + </span><span style="color:#2a00ff;">" and smajor like ?"</span><span style="color:#000000;">;</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">}</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">if</span></strong><span style="color:#000000;"> (</span><span style="color:#6a3e3e;">studentBean</span><span style="color:#000000;">.getScollege()==</span><span style="color:#2a00ff;">""</span><span style="color:#000000;">) {<!-- --></span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">sql</span><span style="color:#000000;"> = </span><span style="color:#6a3e3e;">sql</span><span style="color:#000000;"> + </span><span style="color:#2a00ff;">" and scollege != ?"</span><span style="color:#000000;">;</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">}</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">else</span></strong><span style="color:#000000;"> {<!-- --></span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">sql</span><span style="color:#000000;"> = </span><span style="color:#6a3e3e;">sql</span><span style="color:#000000;"> + </span><span style="color:#2a00ff;">" and scollege like ?"</span><span style="color:#000000;">;</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">}</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">if</span></strong><span style="color:#000000;"> (</span><span style="color:#6a3e3e;">studentBean</span><span style="color:#000000;">.getSentranceT()==0) {<!-- --></span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">sql</span><span style="color:#000000;"> = </span><span style="color:#6a3e3e;">sql</span><span style="color:#000000;"> + </span><span style="color:#2a00ff;">" and sentranceT != ?"</span><span style="color:#000000;">;</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">}</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">else</span></strong><span style="color:#000000;"> {<!-- --></span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">sql</span><span style="color:#000000;"> = </span><span style="color:#6a3e3e;">sql</span><span style="color:#000000;"> + </span><span style="color:#2a00ff;">" and sentranceT like ?"</span><span style="color:#000000;">;</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">}</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">sql</span><span style="color:#000000;"> = </span><span style="color:#6a3e3e;">sql</span><span style="color:#000000;"> + </span><span style="color:#2a00ff;">" LIMIT ?,?"</span><span style="color:#000000;">;</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">System.</span><strong><em><span style="color:#0000c0;">out</span></em></strong><span style="color:#000000;">.println(</span><span style="color:#2a00ff;">"*******"</span><span style="color:#000000;">+</span><span style="color:#6a3e3e;">sql</span><span style="color:#000000;">+</span><span style="color:#2a00ff;">"------"</span><span style="color:#000000;">+</span><span style="color:#6a3e3e;">status</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">Object [] </span><span style="color:#6a3e3e;">params</span><span style="color:#000000;"> = {<!-- --></span><span style="color:#6a3e3e;">status</span><span style="color:#000000;">,</span><span style="color:#2a00ff;">"%"</span><span style="color:#000000;">+</span><span style="color:#6a3e3e;">studentBean</span><span style="color:#000000;">.getSid()+</span><span style="color:#2a00ff;">"%"</span><span style="color:#000000;">,</span><span style="color:#2a00ff;">"%"</span><span style="color:#000000;">+</span><span style="color:#6a3e3e;">studentBean</span><span style="color:#000000;">.getSname()+</span><span style="color:#2a00ff;">"%"</span><span style="color:#000000;">,</span><span style="color:#6a3e3e;">studentBean</span><span style="color:#000000;">.getSsex(),</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#2a00ff;">"%"</span><span style="color:#000000;">+</span><span style="color:#6a3e3e;">studentBean</span><span style="color:#000000;">.getSmajor()+</span><span style="color:#2a00ff;">"%"</span><span style="color:#000000;">,</span><span style="color:#2a00ff;">"%"</span><span style="color:#000000;">+</span><span style="color:#6a3e3e;">studentBean</span><span style="color:#000000;">.getScollege()+</span><span style="color:#2a00ff;">"%"</span><span style="color:#000000;">,</span><span style="color:#2a00ff;">"%"</span><span style="color:#000000;">+</span><span style="color:#6a3e3e;">studentBean</span><span style="color:#000000;">.getSentranceT()+</span><span style="color:#2a00ff;">"%"</span><span style="color:#000000;">,</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">nowPage</span><span style="color:#000000;">*</span><span style="color:#6a3e3e;">step</span><span style="color:#000000;">-</span><span style="color:#6a3e3e;">step</span><span style="color:#000000;">,</span><span style="color:#6a3e3e;">step</span><span style="color:#000000;">};</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">ResultSet </span><span style="color:#6a3e3e;">resultSet</span><span style="color:#000000;"> = DButil.</span><em><span style="color:#000000;">select</span></em><span style="color:#000000;">(</span><span style="color:#6a3e3e;">sql</span><span style="color:#000000;">, </span><span style="color:#6a3e3e;">params</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">ArrayList&lt;StudentBean&gt; </span><span style="color:#6a3e3e;">studentBeans</span><span style="color:#000000;"> = </span><strong><span style="color:#7f0055;">new</span></strong><span style="color:#000000;"> ArrayList&lt;&gt;();</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">while</span></strong><span style="color:#000000;">(</span><span style="color:#6a3e3e;">resultSet</span><span style="color:#000000;">.next()) {<!-- --></span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">StudentBean </span><span style="color:#6a3e3e;">studentBean2</span><span style="color:#000000;"> = </span><strong><span style="color:#7f0055;">new</span></strong><span style="color:#000000;"> StudentBean();</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">studentBean2</span><span style="color:#000000;">.setId(</span><span style="color:#6a3e3e;">resultSet</span><span style="color:#000000;">.getInt(</span><span style="color:#2a00ff;">"id"</span><span style="color:#000000;">));</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">studentBean2</span><span style="color:#000000;">.setSid(</span><span style="color:#6a3e3e;">resultSet</span><span style="color:#000000;">.getInt(</span><span style="color:#2a00ff;">"sid"</span><span style="color:#000000;">));</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">studentBean2</span><span style="color:#000000;">.setDormID(</span><span style="color:#6a3e3e;">resultSet</span><span style="color:#000000;">.getInt(</span><span style="color:#2a00ff;">"dormID"</span><span style="color:#000000;">));</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">studentBean2</span><span style="color:#000000;">.setSname(</span><span style="color:#6a3e3e;">resultSet</span><span style="color:#000000;">.getString(</span><span style="color:#2a00ff;">"sname"</span><span style="color:#000000;">));</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">studentBean2</span><span style="color:#000000;">.setSsex(</span><span style="color:#6a3e3e;">resultSet</span><span style="color:#000000;">.getString(</span><span style="color:#2a00ff;">"ssex"</span><span style="color:#000000;">));</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">studentBean2</span><span style="color:#000000;">.setSbirthday(</span><span style="color:#6a3e3e;">resultSet</span><span style="color:#000000;">.getString(</span><span style="color:#2a00ff;">"sbirthday"</span><span style="color:#000000;">));</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">studentBean2</span><span style="color:#000000;">.setSmajor(</span><span style="color:#6a3e3e;">resultSet</span><span style="color:#000000;">.getString(</span><span style="color:#2a00ff;">"smajor"</span><span style="color:#000000;">));</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">studentBean2</span><span style="color:#000000;">.setScollege(</span><span style="color:#6a3e3e;">resultSet</span><span style="color:#000000;">.getString(</span><span style="color:#2a00ff;">"scollege"</span><span style="color:#000000;">));</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">studentBean2</span><span style="color:#000000;">.setSentranceT(</span><span style="color:#6a3e3e;">resultSet</span><span style="color:#000000;">.getInt(</span><span style="color:#2a00ff;">"sentranceT"</span><span style="color:#000000;">));</span></p> <p style="margin-left:.0001pt;text-align:left;">  <span style="color:#6a3e3e;">studentBean2</span><span style="color:#000000;">.setStelephone(</span><span style="color:#6a3e3e;">resultSet</span><span style="color:#000000;">.getString(</span><span style="color:#2a00ff;">"stelephone"</span><span style="color:#000000;">));</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">studentBean2</span><span style="color:#000000;">.setImg(</span><span style="color:#6a3e3e;">resultSet</span><span style="color:#000000;">.getString(</span><span style="color:#2a00ff;">"img"</span><span style="color:#000000;">));</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">studentBean2</span><span style="color:#000000;">.setStatus(</span><span style="color:#6a3e3e;">resultSet</span><span style="color:#000000;">.getInt(</span><span style="color:#2a00ff;">"status"</span><span style="color:#000000;">));</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">studentBeans</span><span style="color:#000000;">.add(</span><span style="color:#6a3e3e;">studentBean2</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">}</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">return</span></strong> <span style="color:#6a3e3e;">studentBeans</span><span style="color:#000000;">;</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">}</span></p> </td></tr></tbody></table> 
<h3 style="text-align:justify;"><strong>4.5增加学生信息</strong></h3> 
<p style="margin-left:.0001pt;text-align:justify;">在增加学生信息时，需要为其入住相应的宿舍，入住宿舍时需要进行判断，当宿舍存在时，判断学生性别以及当前宿舍人数，来判断学生是否能够入住；当宿舍不存在时，则为学生创建相对应的宿舍进行入住，入住成功后，对应的宿舍信息表中的宿舍人数数据进行加一。</p> 
<h4 style="text-align:justify;"><strong>4.5.1 页面展示</strong></h4> 
<p><img alt="" height="277" src="https://images2.imgbox.com/c3/c5/UOaZEes4_o.png" width="621"></p> 
<h4 style="text-align:justify;"><strong>4.5.2实现代码</strong></h4> 
<table border="1" cellspacing="0"><tbody><tr><td style="vertical-align:top;width:426.1pt;"> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">protected</span></strong> <strong><span style="color:#7f0055;">void</span></strong><span style="color:#000000;"> doGet(HttpServletRequest </span><span style="color:#6a3e3e;">request</span><span style="color:#000000;">, HttpServletResponse </span><span style="color:#6a3e3e;">response</span><span style="color:#000000;">) </span><strong><span style="color:#7f0055;">throws</span></strong><span style="color:#000000;"> ServletException, IOException {<!-- --></span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#3f7f5f;">// </span><strong><span style="color:#7f9fbf;">TODO</span></strong><span style="color:#3f7f5f;"> Auto-generated method stub</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">request</span><span style="color:#000000;">.setCharacterEncoding(</span><span style="color:#2a00ff;">"utf-8"</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">response</span><span style="color:#000000;">.setCharacterEncoding(</span><span style="color:#2a00ff;">"utf-8"</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">response</span><span style="color:#000000;">.setContentType(</span><span style="color:#2a00ff;">"text/html;charset=utf-8"</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#3f7f5f;">//获取学生信息，attribute为性别，学号表和宿舍表共用</span></p> <p style="margin-left:.0001pt;text-align:left;">         <strong><span style="color:#7f0055;">int</span></strong> <span style="color:#6a3e3e;">sid</span><span style="color:#000000;"> = Integer.</span><em><span style="color:#000000;">parseInt</span></em><span style="color:#000000;">(</span><span style="color:#6a3e3e;">request</span><span style="color:#000000;">.getParameter(</span><span style="color:#2a00ff;">"sid"</span><span style="color:#000000;">));</span></p> <p style="margin-left:.0001pt;text-align:left;">         <strong><span style="color:#7f0055;">int</span></strong> <span style="color:#6a3e3e;">sentranceT</span><span style="color:#000000;"> = Integer.</span><em><span style="color:#000000;">parseInt</span></em><span style="color:#000000;">(</span><span style="color:#6a3e3e;">request</span><span style="color:#000000;">.getParameter(</span><span style="color:#2a00ff;">"sentranceT"</span><span style="color:#000000;">));</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">         String </span><span style="color:#6a3e3e;">sname</span><span style="color:#000000;"> = </span><span style="color:#6a3e3e;">request</span><span style="color:#000000;">.getParameter(</span><span style="color:#2a00ff;">"sname"</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">         String </span><span style="color:#6a3e3e;">sbirthday</span><span style="color:#000000;"> = </span><span style="color:#6a3e3e;">request</span><span style="color:#000000;">.getParameter(</span><span style="color:#2a00ff;">"sbirthday"</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">         String </span><span style="color:#6a3e3e;">smajor</span><span style="color:#000000;"> = </span><span style="color:#6a3e3e;">request</span><span style="color:#000000;">.getParameter(</span><span style="color:#2a00ff;">"smajor"</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">         String </span><span style="color:#6a3e3e;">scollege</span><span style="color:#000000;"> = </span><span style="color:#6a3e3e;">request</span><span style="color:#000000;">.getParameter(</span><span style="color:#2a00ff;">"scollege"</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">         String </span><span style="color:#6a3e3e;">stelephone</span><span style="color:#000000;"> = </span><span style="color:#6a3e3e;">request</span><span style="color:#000000;">.getParameter(</span><span style="color:#2a00ff;">"stelephone"</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;">         </p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">         String </span><span style="color:#6a3e3e;">house</span><span style="color:#000000;"> = </span><span style="color:#6a3e3e;">request</span><span style="color:#000000;">.getParameter(</span><span style="color:#2a00ff;">"house"</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">         String </span><span style="color:#6a3e3e;">build</span><span style="color:#000000;"> = </span><span style="color:#6a3e3e;">request</span><span style="color:#000000;">.getParameter(</span><span style="color:#2a00ff;">"build"</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">         String </span><span style="color:#6a3e3e;">number</span><span style="color:#000000;"> = </span><span style="color:#6a3e3e;">request</span><span style="color:#000000;">.getParameter(</span><span style="color:#2a00ff;">"number"</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">         String </span><span style="color:#6a3e3e;">attribute</span><span style="color:#000000;"> = </span><span style="color:#6a3e3e;">request</span><span style="color:#000000;">.getParameter(</span><span style="color:#2a00ff;">"attribute"</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;">         <strong><span style="color:#7f0055;">int</span></strong> <span style="color:#6a3e3e;">status</span><span style="color:#000000;"> = Integer.</span><em><span style="color:#000000;">parseInt</span></em><span style="color:#000000;">(</span><span style="color:#6a3e3e;">request</span><span style="color:#000000;">.getParameter(</span><span style="color:#2a00ff;">"status"</span><span style="color:#000000;">));</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#3f7f5f;">//         查询验证输入的宿舍是否可以入住，验证包括宿舍是否存在，性别，以及入住状态</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">         Dormbean </span><span style="color:#6a3e3e;">dormbean</span><span style="color:#000000;"> = </span><strong><span style="color:#7f0055;">new</span></strong><span style="color:#000000;"> Dormbean();</span></p> <p style="margin-left:.0001pt;text-align:left;">         <span style="color:#6a3e3e;">dormbean</span><span style="color:#000000;">.setHouse(</span><span style="color:#6a3e3e;">house</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;">         <span style="color:#6a3e3e;">dormbean</span><span style="color:#000000;">.setBuild(</span><span style="color:#6a3e3e;">build</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;">         <span style="color:#6a3e3e;">dormbean</span><span style="color:#000000;">.setNumber(</span><span style="color:#6a3e3e;">number</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;">         <span style="color:#6a3e3e;">dormbean</span><span style="color:#000000;">.setAttribute(</span><span style="color:#6a3e3e;">attribute</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;">         <span style="color:#6a3e3e;">dormbean</span><span style="color:#000000;">.setStatus(</span><span style="color:#6a3e3e;">status</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">         IDormDao </span><span style="color:#6a3e3e;">iDormDao</span><span style="color:#000000;"> = </span><strong><span style="color:#7f0055;">new</span></strong><span style="color:#000000;"> DormDAoImpl();</span></p> <p style="margin-left:.0001pt;text-align:left;">         <span style="color:#3f7f5f;">//检测学生是否存在</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">         IStudentDao </span><span style="color:#6a3e3e;">iStudentDao</span><span style="color:#000000;"> = </span><strong><span style="color:#7f0055;">new</span></strong><span style="color:#000000;"> StudentDaoImpl();</span></p> <p style="margin-left:.0001pt;text-align:left;">         <strong><span style="color:#7f0055;">try</span></strong><span style="color:#000000;"> {<!-- --></span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">if</span></strong><span style="color:#000000;"> (</span><span style="color:#6a3e3e;">iStudentDao</span><span style="color:#000000;">.isExistStudent(</span><span style="color:#6a3e3e;">sid</span><span style="color:#000000;">)) {<!-- --></span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">response</span><span style="color:#000000;">.getWriter().print(</span><span style="color:#2a00ff;">"此学生学号已存在，无法添加"</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">}</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">else</span></strong><span style="color:#000000;"> {<!-- --></span></p> <p style="margin-left:.0001pt;text-align:left;">         <strong><span style="color:#7f0055;">try</span></strong><span style="color:#000000;"> {<!-- --></span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">if</span></strong><span style="color:#000000;"> (</span><span style="color:#6a3e3e;">iDormDao</span><span style="color:#000000;">.isExitDorm(</span><span style="color:#6a3e3e;">dormbean</span><span style="color:#000000;">)) {<!-- --></span><span style="color:#3f7f5f;">//当宿舍存在时</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">System.</span><strong><em><span style="color:#0000c0;">out</span></em></strong><span style="color:#000000;">.println(</span><span style="color:#2a00ff;">"此宿舍存在"</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">Dormbean </span><span style="color:#6a3e3e;">dormbean2</span><span style="color:#000000;"> = </span><span style="color:#6a3e3e;">iDormDao</span><span style="color:#000000;">.selectDormByDormbean(</span><span style="color:#6a3e3e;">dormbean</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">System.</span><strong><em><span style="color:#0000c0;">out</span></em></strong><span style="color:#000000;">.println(</span><span style="color:#6a3e3e;">dormbean2</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">if</span></strong><span style="color:#000000;"> (</span><span style="color:#6a3e3e;">dormbean2</span><span style="color:#000000;">.getQuantity()==6) {<!-- --></span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">System.</span><strong><em><span style="color:#0000c0;">out</span></em></strong><span style="color:#000000;">.println(</span><span style="color:#2a00ff;">"当前宿舍人数已满，请为此学生更换宿舍"</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">response</span><span style="color:#000000;">.getWriter().print(</span><span style="color:#2a00ff;">"当前宿舍人数已满，请为此学生更换宿舍"</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">}</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">else</span></strong><span style="color:#000000;"> {<!-- --></span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">if</span></strong><span style="color:#000000;"> (!(</span><span style="color:#6a3e3e;">dormbean2</span><span style="color:#000000;">.getAttribute().equals(</span><span style="color:#6a3e3e;">attribute</span><span style="color:#000000;">))) {<!-- --></span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">System.</span><strong><em><span style="color:#0000c0;">out</span></em></strong><span style="color:#000000;">.println(</span><span style="color:#2a00ff;">"****----"</span><span style="color:#000000;">+</span><span style="color:#6a3e3e;">dormbean2</span><span style="color:#000000;">.getAttribute());</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">System.</span><strong><em><span style="color:#0000c0;">out</span></em></strong><span style="color:#000000;">.println(</span><span style="color:#6a3e3e;">attribute</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">System.</span><strong><em><span style="color:#0000c0;">out</span></em></strong><span style="color:#000000;">.println(</span><span style="color:#2a00ff;">"当前宿舍不能入住此性别学生"</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">response</span><span style="color:#000000;">.getWriter().print(</span><span style="color:#2a00ff;">"当前宿舍不能入住此性别学生"</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">}</span></p> <p style="margin-left:.0001pt;text-align:left;"></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">else</span></strong><span style="color:#000000;"> {<!-- --></span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">if</span></strong><span style="color:#000000;"> (</span><span style="color:#6a3e3e;">dormbean2</span><span style="color:#000000;">.getStatus()==0) {<!-- --></span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">System.</span><strong><em><span style="color:#0000c0;">out</span></em></strong><span style="color:#000000;">.println(</span><span style="color:#2a00ff;">"当前宿舍未启用，请更换或先启用此宿舍"</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">response</span><span style="color:#000000;">.getWriter().print(</span><span style="color:#2a00ff;">"当前宿舍未启用，请更换或先启用此宿舍"</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">}</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">else</span></strong><span style="color:#000000;"> {<!-- --></span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">StudentBean </span><span style="color:#6a3e3e;">studentBean</span><span style="color:#000000;"> = </span><strong><span style="color:#7f0055;">new</span></strong><span style="color:#000000;"> StudentBean();</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">studentBean</span><span style="color:#000000;">.setSid(</span><span style="color:#6a3e3e;">sid</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">studentBean</span><span style="color:#000000;">.setDormID(</span><span style="color:#6a3e3e;">dormbean2</span><span style="color:#000000;">.getId());</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">studentBean</span><span style="color:#000000;">.setSname(</span><span style="color:#6a3e3e;">sname</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">studentBean</span><span style="color:#000000;">.setSsex(</span><span style="color:#6a3e3e;">attribute</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">studentBean</span><span style="color:#000000;">.setSbirthday(</span><span style="color:#6a3e3e;">sbirthday</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">studentBean</span><span style="color:#000000;">.setSmajor(</span><span style="color:#6a3e3e;">smajor</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">studentBean</span><span style="color:#000000;">.setScollege(</span><span style="color:#6a3e3e;">scollege</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">studentBean</span><span style="color:#000000;">.setSentranceT(</span><span style="color:#6a3e3e;">sentranceT</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">studentBean</span><span style="color:#000000;">.setStelephone(</span><span style="color:#6a3e3e;">stelephone</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">IStudentService </span><span style="color:#6a3e3e;">iStudentService</span><span style="color:#000000;"> = </span><strong><span style="color:#7f0055;">new</span></strong><span style="color:#000000;"> StudentServiceImpl();</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">iStudentService</span><span style="color:#000000;">.addStudent(</span><span style="color:#6a3e3e;">studentBean</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">System.</span><strong><em><span style="color:#0000c0;">out</span></em></strong><span style="color:#000000;">.print(</span><span style="color:#2a00ff;">"已为您创建此学生信息，并入住宿舍"</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">response</span><span style="color:#000000;">.getWriter().print(</span><span style="color:#2a00ff;">"已为您创建此学生信息，并入住宿舍"</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">}</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">}</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">}</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">}</span></p> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">else</span></strong><span style="color:#000000;"> {<!-- --></span><span style="color:#3f7f5f;">//当宿舍不存在的时候，先创建宿舍，再入住学生</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">iDormDao</span><span style="color:#000000;">.addDorm(</span><span style="color:#6a3e3e;">dormbean</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">System.</span><strong><em><span style="color:#0000c0;">out</span></em></strong><span style="color:#000000;">.println(</span><span style="color:#6a3e3e;">dormbean</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">Dormbean </span><span style="color:#6a3e3e;">dormbean2</span><span style="color:#000000;"> = </span><span style="color:#6a3e3e;">iDormDao</span><span style="color:#000000;">.selectDormByDormbean(</span><span style="color:#6a3e3e;">dormbean</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">System.</span><strong><em><span style="color:#0000c0;">out</span></em></strong><span style="color:#000000;">.println(</span><span style="color:#6a3e3e;">dormbean2</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">StudentBean </span><span style="color:#6a3e3e;">studentBean</span><span style="color:#000000;"> = </span><strong><span style="color:#7f0055;">new</span></strong><span style="color:#000000;"> StudentBean();</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">studentBean</span><span style="color:#000000;">.setSid(</span><span style="color:#6a3e3e;">sid</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">studentBean</span><span style="color:#000000;">.setDormID(</span><span style="color:#6a3e3e;">dormbean2</span><span style="color:#000000;">.getId());</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">studentBean</span><span style="color:#000000;">.setSname(</span><span style="color:#6a3e3e;">sname</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">studentBean</span><span style="color:#000000;">.setSsex(</span><span style="color:#6a3e3e;">attribute</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">studentBean</span><span style="color:#000000;">.setSbirthday(</span><span style="color:#6a3e3e;">sbirthday</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">studentBean</span><span style="color:#000000;">.setSmajor(</span><span style="color:#6a3e3e;">smajor</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">studentBean</span><span style="color:#000000;">.setScollege(</span><span style="color:#6a3e3e;">scollege</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">studentBean</span><span style="color:#000000;">.setSentranceT(</span><span style="color:#6a3e3e;">sentranceT</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">studentBean</span><span style="color:#000000;">.setStelephone(</span><span style="color:#6a3e3e;">stelephone</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">IStudentService </span><span style="color:#6a3e3e;">iStudentService</span><span style="color:#000000;"> = </span><strong><span style="color:#7f0055;">new</span></strong><span style="color:#000000;"> StudentServiceImpl();</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">iStudentService</span><span style="color:#000000;">.addStudent(</span><span style="color:#6a3e3e;">studentBean</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">System.</span><strong><em><span style="color:#0000c0;">out</span></em></strong><span style="color:#000000;">.println(</span><span style="color:#2a00ff;">"已为您创建此宿舍，并入住此学生"</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">response</span><span style="color:#000000;">.getWriter().print(</span><span style="color:#2a00ff;">"已为您创建此宿舍，并入住此学生"</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">}</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">} </span><strong><span style="color:#7f0055;">catch</span></strong><span style="color:#000000;"> (SQLException </span><span style="color:#6a3e3e;">e</span><span style="color:#000000;">) {<!-- --></span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#3f7f5f;">// </span><strong><span style="color:#7f9fbf;">TODO</span></strong><span style="color:#3f7f5f;"> Auto-generated catch block</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">e</span><span style="color:#000000;">.printStackTrace();</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">}</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">}</span></p> <p style="margin-left:.0001pt;text-align:left;">  <span style="color:#000000;">} </span><strong><span style="color:#7f0055;">catch</span></strong><span style="color:#000000;"> (SQLException </span><span style="color:#6a3e3e;">e1</span><span style="color:#000000;">) {<!-- --></span></p> <p style="margin-left:.0001pt;text-align:left;">  <span style="color:#3f7f5f;">// </span><strong><span style="color:#7f9fbf;">TODO</span></strong><span style="color:#3f7f5f;"> Auto-generated catch block</span></p> <p style="margin-left:.0001pt;text-align:left;">  <span style="color:#6a3e3e;">e1</span><span style="color:#000000;">.printStackTrace();</span></p> <p style="margin-left:.0001pt;text-align:left;">  <span style="color:#000000;">}</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">}</span></p> </td></tr></tbody></table> 
<h3 style="text-align:justify;"><strong>4.6 批量删除学生信息</strong></h3> 
<p style="margin-left:.0001pt;text-align:justify;">因为学生信息比较多，当大四同学离校时逐条删除信息比较麻烦，所以提供了批量信息删除功能。</p> 
<h4 style="text-align:justify;"><strong>4.6.1页面效果展示</strong></h4> 
<p><img alt="" height="282" src="https://images2.imgbox.com/64/fb/PxB4JyGV_o.png" width="629"></p> 
<h4 style="text-align:justify;"><strong>4.6.2 实现代码</strong></h4> 
<table border="1" cellspacing="0"><tbody><tr><td style="vertical-align:top;width:426.1pt;"> <p style="margin-left:.0001pt;text-align:left;"><strong><span style="color:#7f0055;">protected</span></strong> <strong><span style="color:#7f0055;">void</span></strong><span style="color:#000000;"> doGet(HttpServletRequest </span><span style="color:#6a3e3e;">request</span><span style="color:#000000;">, HttpServletResponse </span><span style="color:#6a3e3e;">response</span><span style="color:#000000;">) </span><strong><span style="color:#7f0055;">throws</span></strong><span style="color:#000000;"> ServletException, IOException {<!-- --></span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#3f7f5f;">// </span><strong><span style="color:#7f9fbf;">TODO</span></strong><span style="color:#3f7f5f;"> Auto-generated method stub</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">request</span><span style="color:#000000;">.setCharacterEncoding(</span><span style="color:#2a00ff;">"utf-8"</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">response</span><span style="color:#000000;">.setCharacterEncoding(</span><span style="color:#2a00ff;">"utf-8"</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">response</span><span style="color:#000000;">.setContentType(</span><span style="color:#2a00ff;">"text/html;charset=utf-8"</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">System.</span><strong><em><span style="color:#0000c0;">out</span></em></strong><span style="color:#000000;">.println(</span><span style="color:#6a3e3e;">request</span><span style="color:#000000;">.getParameter(</span><span style="color:#2a00ff;">"data"</span><span style="color:#000000;">));</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">String </span><span style="color:#6a3e3e;">data</span><span style="color:#000000;"> = </span><span style="color:#6a3e3e;">request</span><span style="color:#000000;">.getParameter(</span><span style="color:#2a00ff;">"data"</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">String[] </span><span style="color:#6a3e3e;">id</span><span style="color:#000000;">  = </span><span style="color:#6a3e3e;">data</span><span style="color:#000000;">.split(</span><span style="color:#2a00ff;">","</span><span style="color:#000000;">);</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">IStudentService </span><span style="color:#6a3e3e;">iStudentService</span><span style="color:#000000;"> = </span><strong><span style="color:#7f0055;">new</span></strong><span style="color:#000000;"> StudentServiceImpl();</span></p> <p style="margin-left:.0001pt;text-align:left;"><span style="color:#6a3e3e;">response</span><span style="color:#000000;">.getWriter().println(</span><span style="color:#6a3e3e;">iStudentService</span><span style="color:#000000;">.delAllStudent(</span><span style="color:#6a3e3e;">id</span><span style="color:#000000;">));</span></p> <p style="margin-left:.0001pt;text-align:justify;"><span style="color:#000000;">}</span></p> </td></tr></tbody></table>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d2f0f6a9c2b838fd05e36ac36a5fdbc5/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">前端小记--2.element-ui中级联选择器cascader如何默认展开下拉框</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/200fb05ef073d935c07e5db507aa6189/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【深入探究人工智能】历史、应用、技术与未来</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>