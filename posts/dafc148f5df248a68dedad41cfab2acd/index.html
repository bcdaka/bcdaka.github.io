<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>åœ¨Macä¸Šå®‰è£…Spark apache-spark-3.5.1 - ç¼–ç¨‹å¤§å’–</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/dafc148f5df248a68dedad41cfab2acd/">
  <meta property="og:site_name" content="ç¼–ç¨‹å¤§å’–">
  <meta property="og:title" content="åœ¨Macä¸Šå®‰è£…Spark apache-spark-3.5.1">
  <meta property="og:description" content="å®‰è£…sparkçš„æ­¥éª¤è¾ƒä¸ºç®€å•ï¼Œå‰ææ˜¯è¦å®‰è£…å¥½Hadoopå“¦ã€‚
è¿™é‡Œæˆ‘ä½¿ç”¨brewæ¥å®‰è£…ï¼Œå¦‚æœä½ å®‰è£…äº†homebrewç›´æ¥åœ¨ç»ˆç«¯é‡Œè¾“å…¥brew install apache-sparkç„¶åç­‰ç€å°±å¯ä»¥äº†ï¼ˆå¦‚æœæ²¡æœ‰å®‰è£…è¿‡brewçš„å‚è€ƒå…¶ä»–åšä¸»çš„å†…å®¹å»å®‰è£…å“¦ï¼‰
brew install apache-spark ==&gt; Auto-updating Homebrew... Adjust how often this is run with HOMEBREW_AUTO_UPDATE_SECS or disable with HOMEBREW_NO_AUTO_UPDATE. Hide these hints with HOMEBREW_NO_ENV_HINTS (see `man brew`). ==&gt; Auto-updated Homebrew! Updated 2 taps (homebrew/core and homebrew/cask). ==&gt; New Formulae ffmpeg@6 ==&gt; New Casks boltai You have 5 outdated formulae installed. ==&gt; Fetching dependencies for apache-spark: libx11 and openjdk@17 ==&gt; Fetching libx11 ==&gt; Downloading https://mirrors.ustc.edu.cn/homebrew-bottles/libx11-1.8.9.arm64_ ######################################################################### 100.0% ==&gt; Fetching openjdk@17 ==&gt; Downloading https://mirrors.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-04-11T22:22:24+08:00">
    <meta property="article:modified_time" content="2024-04-11T22:22:24+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ç¼–ç¨‹å¤§å’–" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ç¼–ç¨‹å¤§å’–</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">åœ¨Macä¸Šå®‰è£…Spark apache-spark-3.5.1</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>å®‰è£…sparkçš„æ­¥éª¤è¾ƒä¸ºç®€å•ï¼Œå‰ææ˜¯è¦å®‰è£…å¥½Hadoopå“¦ã€‚</p> 
<p>è¿™é‡Œæˆ‘ä½¿ç”¨brewæ¥å®‰è£…ï¼Œå¦‚æœä½ å®‰è£…äº†homebrewç›´æ¥åœ¨ç»ˆç«¯é‡Œè¾“å…¥brew install apache-sparkç„¶åç­‰ç€å°±å¯ä»¥äº†ï¼ˆå¦‚æœæ²¡æœ‰å®‰è£…è¿‡brewçš„å‚è€ƒå…¶ä»–åšä¸»çš„å†…å®¹å»å®‰è£…å“¦ï¼‰</p> 
<pre><code>brew install apache-spark


==&gt; Auto-updating Homebrew...
Adjust how often this is run with HOMEBREW_AUTO_UPDATE_SECS or disable with
HOMEBREW_NO_AUTO_UPDATE. Hide these hints with HOMEBREW_NO_ENV_HINTS (see `man brew`).
==&gt; Auto-updated Homebrew!
Updated 2 taps (homebrew/core and homebrew/cask).
==&gt; New Formulae
ffmpeg@6
==&gt; New Casks
boltai

You have 5 outdated formulae installed.

==&gt; Fetching dependencies for apache-spark: libx11 and openjdk@17
==&gt; Fetching libx11
==&gt; Downloading https://mirrors.ustc.edu.cn/homebrew-bottles/libx11-1.8.9.arm64_
######################################################################### 100.0%
==&gt; Fetching openjdk@17
==&gt; Downloading https://mirrors.ustc.edu.cn/homebrew-bottles/openjdk%4017-17.0.1
######################################################################### 100.0%
==&gt; Fetching apache-spark
==&gt; Downloading https://mirrors.ustc.edu.cn/homebrew-bottles/apache-spark-3.5.1.
######################################################################### 100.0%
==&gt; Installing dependencies for apache-spark: libx11 and openjdk@17
==&gt; Installing apache-spark dependency: libx11
==&gt; Pouring libx11-1.8.9.arm64_sonoma.bottle.tar.gz
ğŸº  /opt/homebrew/Cellar/libx11/1.8.9: 1,042 files, 7.0MB
==&gt; Installing apache-spark dependency: openjdk@17
==&gt; Pouring openjdk@17-17.0.10.arm64_sonoma.bottle.tar.gz
ğŸº  /opt/homebrew/Cellar/openjdk@17/17.0.10: 635 files, 304.9MB
==&gt; Installing apache-spark
==&gt; Pouring apache-spark-3.5.1.all.bottle.tar.gz
ğŸº  /opt/homebrew/Cellar/apache-spark/3.5.1: 1,823 files, 423.3MB
==&gt; Running `brew cleanup apache-spark`...
Disable this behaviour by setting HOMEBREW_NO_INSTALL_CLEANUP.
Hide these hints with HOMEBREW_NO_ENV_HINTS (see `man brew`).
</code></pre> 
<p>Â ä¸Šé¢è¿™ä¸ªå°±æ˜¯ç”¨brewå®‰è£…å¥½çš„æ ·å­</p> 
<pre><code>cd /opt/homebrew/Cellar/apache-spark/3.5.1 </code></pre> 
<p>åˆ‡æ¢åˆ°spark3.5.1çš„ç›®å½•ä¸‹ï¼Œç„¶åå†åˆ‡æ¢åˆ° libexec/conf ä¸‹é¢å…ˆå¤åˆ¶ä¸€ä»½ spark-env.sh.template æ–‡ä»¶ç„¶åé‡å‘½åï¼ˆç”¨cpå‘½ä»¤ï¼‰ä¸ºspark-env.sh</p> 
<pre><code>cp spark-env.sh.template spark-env.sh
         
ls

fairscheduler.xml.template	spark-defaults.conf.template	workers.template
log4j2.properties.template	spark-env.sh
metrics.properties.template	spark-env.sh.template</code></pre> 
<p>ç¼–è¾‘spark-env.shæ–‡ä»¶(ç”¨ï¼švim spark-env.sh)ï¼Œåœ¨ç¬¬ä¸€è¡Œæ·»åŠ ä»¥ä¸‹é…ç½®ä¿¡æ¯:</p> 
<pre><code>export SPARK_DIST_CLASSPATH=$(/opt/homebrew/Cellar/hadoop/3.4.0/bin/hadoop classpath)</code></pre> 
<p>è‡ªå·±çœ‹çœ‹è‡ªå·±çš„Hadoopçš„ä½ç½®åœ¨å“ªé‡Œå“¦ï¼Œå°±æ˜¯ç›®å½•ä¸€ç›´è¦åˆ°binä¸‹çš„Hadoop</p> 
<p>æˆ‘å› ä¸ºä¹Ÿæ˜¯ä½¿ç”¨brewä¸‹è½½çš„Hadoopæ‰€ä»¥æ˜¯åœ¨Homebrewç›®å½•ä¸‹é¢ï¼Œè‡³äºæ€ä¹ˆç”¨brewæ€ä¹ˆè£…Hadoopåœ¨å…¶ä»–åšä¸»æœ‰è®²è§£</p> 
<p>é…ç½®å®Œæˆåå°±å¯ä»¥ç›´æ¥ä½¿ç”¨äº†ï¼Œå°±ä¸éœ€è¦åƒHadoopè¿è¡Œå¯åŠ¨å‘½ä»¤ã€‚<br> é€šè¿‡è¿è¡ŒSparkè‡ªå¸¦çš„ç¤ºä¾‹ï¼ŒéªŒè¯Sparkæ˜¯å¦å®‰è£…æˆåŠŸã€‚</p> 
<pre><code>/opt/homebrew/Cellar/apache-spark/3.5.1/bin</code></pre> 
<p>åˆ‡æ¢åˆ°binç›®å½•ä¸‹æ‰§è¡Œ</p> 
<pre><code>run-example SparkPi</code></pre> 
<p>å¦‚æœæˆåŠŸä¼šè¾“å‡ºå¾ˆå¤šè¿™æ ·çš„è¿è¡Œä¿¡æ¯</p> 
<pre><code>24/04/11 21:32:32 INFO SparkContext: Running Spark version 3.5.1
24/04/11 21:32:32 INFO SparkContext: OS info Mac OS X, 14.4.1, aarch64
24/04/11 21:32:32 INFO SparkContext: Java version 1.8.0_401
24/04/11 21:32:32 INFO ResourceUtils: ==============================================================
24/04/11 21:32:32 INFO ResourceUtils: No custom resources configured for spark.driver.
24/04/11 21:32:32 INFO ResourceUtils: ==============================================================
24/04/11 21:32:32 INFO SparkContext: Submitted application: Spark Pi
24/04/11 21:32:32 INFO ResourceProfile: Default ResourceProfile created, executor resources: Map(cores -&gt; name: cores, amount: 1, script: , vendor: , memory -&gt; name: memory, amount: 1024, script: , vendor: , offHeap -&gt; name: offHeap, amount: 0, script: , vendor: ), task resources: Map(cpus -&gt; name: cpus, amount: 1.0)
24/04/11 21:32:32 INFO ResourceProfile: Limiting resource is cpu
24/04/11 21:32:32 INFO ResourceProfileManager: Added ResourceProfile id: 0
</code></pre> 
<p>ä½†æ˜¯é‚£ä¸ªè¾“å‡ºç»“æœä¸å®¹æ˜“æ‰¾åˆ°ï¼Œè¿™é‡Œæˆ‘ä½¿ç”¨ç®¡é“å’Œgrepå‘½ä»¤è¿›è¡Œè¿‡æ»¤</p> 
<p>å‘½ä»¤ä¸­çš„ 2&gt;&amp;1 å¯ä»¥å°†æ‰€æœ‰çš„ä¿¡æ¯éƒ½è¾“å‡ºåˆ° æ ‡å¿—è¾“å‡ºï¼ˆstdoutï¼‰ ä¸­ï¼Œå¦åˆ™çš„è¯ç”±äºè¾“å‡ºæ—¥å¿—çš„æ€§è´¨ï¼ˆä¼šæœ‰WARNä¹‹ç±»çš„stderrï¼‰ï¼Œè¿˜æ˜¯ä¼šè¾“å‡ºåˆ°å±å¹•ä¸­</p> 
<pre><code>run-example SparkPi 2&gt;&amp;1 | grep "Pi is"


Pi is roughly 3.1475157375786877
</code></pre> 
<p>å¦‚æœæ˜¯è¾“å‡ºè¿™æ ·å°±å¯ä»¥å•¦</p> 
<h4>è¿™é‡Œæˆ‘ä»¬å†å¯åŠ¨ä¸‹Spark Shellè¯•è¯•</h4> 
<p>æˆ‘ä»¬åœ¨è¿˜æ˜¯å’Œä¸Šé¢ä¸€æ ·åœ¨binç›®å½•ä¸‹æ‰§è¡Œspark-shell</p> 
<p>å¯åŠ¨spark-shellåï¼Œä¼šè‡ªåŠ¨åˆ›å»ºåä¸ºscçš„SparkContextå¯¹è±¡å’Œåä¸ºsparkçš„SparkSessionå¯¹è±¡</p> 
<p>å°±åƒè¿™æ ·</p> 
<pre><code class="language-cs">Welcome to
      ____              __
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  '_/
   /___/ .__/\_,_/_/ /_/\_\   version 3.5.1
      /_/
         
Using Scala version 2.12.18 (Java HotSpot(TM) 64-Bit Server VM, Java 1.8.0_401)
Type in expressions to have them evaluated.
Type :help for more information.

scala&gt;</code></pre> 
<p>åˆ°è¿™é‡Œåœ¨Macä¸Šå®‰è£…Sparkå°±å®‰è£…å®Œæˆäº†</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/223806e7297f5ac0511a4114bea19142/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">æ–‡ç”Ÿå›¾â€”â€”pythonè°ƒç”¨stable diffusionAPIç”Ÿæˆæœ‰è¶£çš„å›¾åƒ</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/77fc9b5e29f7ba93dfb2a645234059c8/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">iPhoneæ‰‹æœºä½¿ç”¨ï¼šå¾®ä¿¡æç¤ºâ€œè¿è¡Œå†…å­˜ä¸è¶³å¯¼è‡´è¯¥å°ç¨‹åºæ— æ³•ä½¿ç”¨â€œè§£å†³æ–¹æ³•_è‹¹æœæ‰‹æœºå¾®ä¿¡å†…å­˜ä¸è¶³</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ç¼–ç¨‹å¤§å’–.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>