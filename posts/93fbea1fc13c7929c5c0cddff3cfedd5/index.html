<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Spring Boot 3.x 引入springdoc-openapi (内置Swagger UI、webmvc-api) - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/93fbea1fc13c7929c5c0cddff3cfedd5/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="Spring Boot 3.x 引入springdoc-openapi (内置Swagger UI、webmvc-api)">
  <meta property="og:description" content="接触的原因
因开发自己的项目时，写接口文档很繁琐，查到后端都在用swagger等接口工具来记录接口文档，于是学习了一下，本文记录个人配置过程，有问题欢迎指正交流😁
Swagger： Swagger是一种Rest API的表示方式，它是标准的、语言无关的工具，这种表示方式不仅人可读，而且机器也可读。Swagger提供了一套完整的规范来描述API接口，包括请求和响应的数据模型、操作行为等。它通过注解或配置文件的方式与代码集成，以生成API文档。
SpringDoc： SpringDoc是基于OpenAPI 3规范的，专为Spring Boot设计的API文档生成工具。它提供了与Spring Boot更好的集成，支持Spring Boot全系列。SpringDoc利用JSR-303中的注解（如@NotNull、@Min、@Max、@Size等）来描述API的参数验证信息。此外，SpringDoc的接口信息可以通过JSON展示，也可以与Swagger-ui集成，提供可视化的API文档界面。
在网上看了许多教程，发现很多都是针对Spring Boot 2 框架的，即使有针对Spring Boot 3 的，用法也不太一样，经过对比测试，最后我使用的是 SpringDoc OpenAPI Starter WebMvc UI
它是 Spring Boot 项目中用于自动生成 API 文档的一个依赖库。它结合了 Swagger UI，提供了一个可视化的界面来展示和测试你的 RESTful APIs。这个依赖库特别适用于使用 Spring Web MVC 框架构建的项目。
这个依赖项包括了 Swagger UI 和 SpringDoc OpenAPI Starter WebMvc API，无需额外引入其他依赖即可使用。
pom.xml 配置 我的 spring boot 版本是 3.1.8
引入 springdoc 依赖（记得点击右上角的带蓝色的M按钮进行依赖下载）
&lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;3.1.8&lt;/version&gt; &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt; &lt;/parent&gt; &lt;dependencies&gt; &lt;!">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-04-02T23:08:31+08:00">
    <meta property="article:modified_time" content="2024-04-02T23:08:31+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Spring Boot 3.x 引入springdoc-openapi (内置Swagger UI、webmvc-api)</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><strong>接触的原因</strong><br> 因开发自己的项目时，写接口文档很繁琐，查到后端都在用<strong>swagger</strong>等接口工具来记录接口文档，于是学习了一下，本文记录个人配置过程，有问题欢迎指正交流😁</p> 
<blockquote> 
 <p><strong>Swagger：</strong> Swagger是一种Rest API的表示方式，它是标准的、语言无关的工具，这种表示方式不仅人可读，而且机器也可读。Swagger提供了一套完整的规范来描述API接口，包括请求和响应的数据模型、操作行为等。它通过注解或配置文件的方式与代码集成，以生成API文档。</p> 
</blockquote> 
<blockquote> 
 <p><strong>SpringDoc：</strong> SpringDoc是基于OpenAPI 3规范的，专为Spring Boot设计的API文档生成工具。它提供了与Spring Boot更好的集成，支持Spring Boot全系列。SpringDoc利用JSR-303中的注解（如@NotNull、@Min、@Max、@Size等）来描述API的参数验证信息。此外，SpringDoc的接口信息可以通过JSON展示，也可以与Swagger-ui集成，提供可视化的API文档界面。</p> 
</blockquote> 
<p>在网上看了许多教程，发现很多都是<strong>针对Spring Boot 2</strong> 框架的，即使有针对Spring Boot 3 的，用法也不太一样，经过对比测试，最后我使用的是 <strong>SpringDoc OpenAPI Starter WebMvc UI</strong></p> 
<blockquote> 
 <p>它是 Spring Boot 项目中用于自动生成 API 文档的一个依赖库。它结合了 Swagger UI，提供了一个可视化的界面来展示和测试你的 RESTful APIs。这个依赖库特别适用于使用 Spring Web MVC 框架构建的项目。</p> 
</blockquote> 
<blockquote> 
 <p>这个依赖项包括了 Swagger UI 和 SpringDoc OpenAPI Starter WebMvc API，无需额外引入其他依赖即可使用。</p> 
</blockquote> 
<h2><a id="pomxml__13"></a>pom.xml 配置</h2> 
<p>我的 spring boot 版本是 3.1.8<br> 引入 springdoc 依赖（记得点击右上角的带蓝色的M按钮进行依赖下载）</p> 
<pre><code class="prism language-java"><span class="token generics"><span class="token punctuation">&lt;</span>parent<span class="token punctuation">&gt;</span></span>
    <span class="token generics"><span class="token punctuation">&lt;</span>groupId<span class="token punctuation">&gt;</span></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">&gt;</span>
    <span class="token generics"><span class="token punctuation">&lt;</span>artifactId<span class="token punctuation">&gt;</span></span>spring<span class="token operator">-</span>boot<span class="token operator">-</span>starter<span class="token operator">-</span>parent<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">&gt;</span>
    <span class="token generics"><span class="token punctuation">&lt;</span>version<span class="token punctuation">&gt;</span></span><span class="token number">3.1</span><span class="token number">.8</span><span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>relativePath<span class="token operator">/</span><span class="token operator">&gt;</span> <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> lookup parent from repository <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>parent<span class="token operator">&gt;</span>

<span class="token generics"><span class="token punctuation">&lt;</span>dependencies<span class="token punctuation">&gt;</span></span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 其他依赖 <span class="token operator">--</span><span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 加入 springdoc 依赖 <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token generics"><span class="token punctuation">&lt;</span>dependency<span class="token punctuation">&gt;</span></span>
        <span class="token generics"><span class="token punctuation">&lt;</span>groupId<span class="token punctuation">&gt;</span></span>org<span class="token punctuation">.</span>springdoc<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">&gt;</span>
        <span class="token generics"><span class="token punctuation">&lt;</span>artifactId<span class="token punctuation">&gt;</span></span>springdoc<span class="token operator">-</span>openapi<span class="token operator">-</span>starter<span class="token operator">-</span>webmvc<span class="token operator">-</span>ui<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">&gt;</span>
        <span class="token generics"><span class="token punctuation">&lt;</span>version<span class="token punctuation">&gt;</span></span><span class="token number">2.5</span><span class="token number">.0</span><span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>dependencies<span class="token operator">&gt;</span>
</code></pre> 
<p>可以在pom.xml 文件引入阿里云镜像 <strong>（与 dependencies 同级！！）</strong></p> 
<pre><code class="prism language-java"><span class="token generics"><span class="token punctuation">&lt;</span>repositories<span class="token punctuation">&gt;</span></span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>阿里云镜像<span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token generics"><span class="token punctuation">&lt;</span>repository<span class="token punctuation">&gt;</span></span>
        <span class="token generics"><span class="token punctuation">&lt;</span>id<span class="token punctuation">&gt;</span></span>alimaven<span class="token operator">&lt;</span><span class="token operator">/</span>id<span class="token operator">&gt;</span>
        <span class="token generics"><span class="token punctuation">&lt;</span>name<span class="token punctuation">&gt;</span></span>aliyun maven<span class="token operator">&lt;</span><span class="token operator">/</span>name<span class="token operator">&gt;</span>
        <span class="token generics"><span class="token punctuation">&lt;</span>url<span class="token punctuation">&gt;</span></span>https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>maven<span class="token punctuation">.</span>aliyun<span class="token punctuation">.</span>com<span class="token operator">/</span>nexus<span class="token operator">/</span>content<span class="token operator">/</span>groups<span class="token operator">/</span><span class="token keyword">public</span><span class="token operator">/</span><span class="token operator">&lt;</span><span class="token operator">/</span>url<span class="token operator">&gt;</span>
        <span class="token generics"><span class="token punctuation">&lt;</span>releases<span class="token punctuation">&gt;</span></span>
            <span class="token generics"><span class="token punctuation">&lt;</span>enabled<span class="token punctuation">&gt;</span></span><span class="token boolean">true</span><span class="token operator">&lt;</span><span class="token operator">/</span>enabled<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>releases<span class="token operator">&gt;</span>
        <span class="token generics"><span class="token punctuation">&lt;</span>snapshots<span class="token punctuation">&gt;</span></span>
            <span class="token generics"><span class="token punctuation">&lt;</span>enabled<span class="token punctuation">&gt;</span></span><span class="token boolean">true</span><span class="token operator">&lt;</span><span class="token operator">/</span>enabled<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>snapshots<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>repository<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>repositories<span class="token operator">&gt;</span>
</code></pre> 
<h2><a id="applicationyml__56"></a>application.yml 配置</h2> 
<pre><code class="prism language-yaml"><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">5000</span>

<span class="token key atrule">springdoc</span><span class="token punctuation">:</span>
  <span class="token key atrule">api-docs</span><span class="token punctuation">:</span>
    <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span> <span class="token comment"># 开启OpenApi接口</span>
    <span class="token key atrule">path</span><span class="token punctuation">:</span> /v3/api<span class="token punctuation">-</span>docs  <span class="token comment"># 自定义路径，默认为 "/v3/api-docs"</span>
  <span class="token key atrule">swagger-ui</span><span class="token punctuation">:</span>
    <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span> <span class="token comment"># 开启swagger界面，依赖OpenApi，需要OpenApi同时开启</span>
    <span class="token key atrule">path</span><span class="token punctuation">:</span> /swagger<span class="token punctuation">-</span>ui/index.html <span class="token comment"># 自定义路径，默认为"/swagger-ui/index.html"</span>
</code></pre> 
<p>如果需要更改这里的路径，切记在<strong>拦截器配置</strong>那里对应更改，后面会贴配置，但是只针对我上面这个路径，根据自己的需求改一下。</p> 
<h2><a id="SwaggerConfigjava__73"></a>SwaggerConfig.java 配置</h2> 
<pre><code class="prism language-java"><span class="token comment">// 你自己的包名</span>
<span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>xxx<span class="token punctuation">.</span>xxx<span class="token punctuation">.</span>config</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">io<span class="token punctuation">.</span>swagger<span class="token punctuation">.</span>v3<span class="token punctuation">.</span>oas<span class="token punctuation">.</span>models<span class="token punctuation">.</span></span><span class="token class-name">ExternalDocumentation</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">io<span class="token punctuation">.</span>swagger<span class="token punctuation">.</span>v3<span class="token punctuation">.</span>oas<span class="token punctuation">.</span>models<span class="token punctuation">.</span></span><span class="token class-name">OpenAPI</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">io<span class="token punctuation">.</span>swagger<span class="token punctuation">.</span>v3<span class="token punctuation">.</span>oas<span class="token punctuation">.</span>models<span class="token punctuation">.</span>info<span class="token punctuation">.</span></span><span class="token class-name">Contact</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">io<span class="token punctuation">.</span>swagger<span class="token punctuation">.</span>v3<span class="token punctuation">.</span>oas<span class="token punctuation">.</span>models<span class="token punctuation">.</span>info<span class="token punctuation">.</span></span><span class="token class-name">Info</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">io<span class="token punctuation">.</span>swagger<span class="token punctuation">.</span>v3<span class="token punctuation">.</span>oas<span class="token punctuation">.</span>models<span class="token punctuation">.</span>info<span class="token punctuation">.</span></span><span class="token class-name">License</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Bean</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span></span><span class="token punctuation">;</span>

<span class="token comment">/**
 * @Author HHHY
 * @ClassName
 * @Date: 2024/4/2 14:21
 * @Description: Swagger 配置
 */</span>

<span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SwaggerConfig</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">OpenAPI</span> <span class="token function">springShopOpenAPI</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">OpenAPI</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Info</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">title</span><span class="token punctuation">(</span><span class="token string">"Spring Boot 中使用 Swagger UI 构建 RESTful API"</span><span class="token punctuation">)</span>
                        <span class="token punctuation">.</span><span class="token function">contact</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Contact</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                        <span class="token punctuation">.</span><span class="token function">description</span><span class="token punctuation">(</span><span class="token string">"百草中医药信息管理平台提供的 RESTful API"</span><span class="token punctuation">)</span>
                        <span class="token punctuation">.</span><span class="token function">version</span><span class="token punctuation">(</span><span class="token string">"v1.0.0"</span><span class="token punctuation">)</span>
                        <span class="token punctuation">.</span><span class="token function">license</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">License</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token string">"Apache 2.0"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">url</span><span class="token punctuation">(</span><span class="token string">"http://springdoc.org"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                        <span class="token punctuation">.</span><span class="token function">externalDocs</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ExternalDocumentation</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                        <span class="token punctuation">.</span><span class="token function">description</span><span class="token punctuation">(</span><span class="token string">"外部文档"</span><span class="token punctuation">)</span>
                        <span class="token punctuation">.</span><span class="token function">url</span><span class="token punctuation">(</span><span class="token string">"https://springshop.wiki.github.org/docs"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>若你没有设置拦截器，那么到这里直接访问 <code>http://localhost:5000/swagger-ui/swagger-ui/index.html#/ </code> 应该就可以跑起来了，其中 <code>localhost:端口号</code> 是你自己在 <code>application</code> 里设置的。</p> 
<h2><a id="__113"></a>但是 ?！！</h2> 
<p>当我满心欢喜的准备迎接属于自己的接口文档时，<br> <img src="https://images2.imgbox.com/5f/ee/Ms78dSit_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/7a/15/ZdvmRcOi_o.png" alt="在这里插入图片描述"> 蒙住了，已经搞了几个小时了…于是我遍览各位大佬的帖子，终于让我找到了蛛丝马迹，感谢这位大佬这篇<strong>文章的最后那段话</strong>给我的启发，<a href="https://cloud.tencent.com/developer/article/1685767%5D" rel="nofollow">指路——Spring Boot引入swagger-ui 后swagger-ui.html无法访问404</a>于是我想起来自己昨天弄了一个拦截器，长这样：</p> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ykl<span class="token punctuation">.</span>springboot_tcmi<span class="token punctuation">.</span>config</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>ykl<span class="token punctuation">.</span>springboot_tcmi<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span></span><span class="token class-name">LoginInterceptor</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>config<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">InterceptorRegistry</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>config<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebMvcConfigurer</span></span><span class="token punctuation">;</span>

<span class="token comment">/**
 * @Author HHHY
 * @ClassName
 * @Date: 2024/4/1 23:16
 * @Description: 配置类 注册拦截器
 */</span>

<span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WebConfig</span> <span class="token keyword">implements</span> <span class="token class-name">WebMvcConfigurer</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 注入拦截器对象</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">LoginInterceptor</span> loginInterceptor<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addInterceptors</span><span class="token punctuation">(</span><span class="token class-name">InterceptorRegistry</span> registry<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 部分接口不拦截</span>
    registry<span class="token punctuation">.</span><span class="token function">addInterceptor</span><span class="token punctuation">(</span>loginInterceptor<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">excludePathPatterns</span><span class="token punctuation">(</span><span class="token string">"/api/users/login"</span><span class="token punctuation">,</span> <span class="token string">"/api/users/register"</span><span class="token punctuation">,</span> <span class="token string">"/api/rights?flag=front"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>若你发现和我一样<strong>都不能访问 json 与 ui 界面</strong>，那么在上述配置都正确的情况下，可能是你的<strong>拦截器出了问题</strong>，我是这么配置的：</p> 
<pre><code class="prism language-java"><span class="token comment">// 前面都不变</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addInterceptors</span><span class="token punctuation">(</span><span class="token class-name">InterceptorRegistry</span> registry<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 部分接口不拦截</span>
    registry<span class="token punctuation">.</span><span class="token function">addInterceptor</span><span class="token punctuation">(</span>loginInterceptor<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">excludePathPatterns</span><span class="token punctuation">(</span><span class="token string">"/api/users/login"</span><span class="token punctuation">,</span> <span class="token string">"/api/users/register"</span><span class="token punctuation">,</span> <span class="token string">"/api/rights?flag=front"</span><span class="token punctuation">)</span>
    <span class="token comment">// 【看这里！！！】根据你自己的路径加上这个配置</span>
    <span class="token punctuation">.</span><span class="token function">excludePathPatterns</span><span class="token punctuation">(</span><span class="token string">"/swagger-ui/**"</span><span class="token punctuation">,</span> <span class="token string">"/v3/api-docs/**"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre> 
<p>配置完拦截器的东西，应该就可以正常访问了！<br> 我看到说还要配置什么静态资源访问，目前还没写到这方面内容，我也不太懂，既然能跑起来，就没加上，能跑就行，能跑就行…<br> <strong>前端同学开心的去写接口了（bushi😅）</strong> <img src="https://images2.imgbox.com/34/3b/I5pcLa4f_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_167"></a>注意</h2> 
<p>我一开始写的路径是这样的 <code>"/swagger-ui/index.html", "/v3/api-docs"</code> ，然后发现<strong>可以访问到 json的数据</strong>，但是<strong>无法访问 ui 界面</strong>，又是百思不得其解，然后虽然很蠢但是真没想到是<strong>不能加上具体的<code>index.html</code></strong>，但是在看别人代码的时候灵光一闪，试着改成了<code>"/swagger-ui/**"</code>，<strong>结果能成了，但是…</strong><br> <img src="https://images2.imgbox.com/69/a9/nTP1boex_o.png" alt="在这里插入图片描述"></p> 
<p>是的我又傻眼了 ,<strong>因为网上版本真的很多…试了很多都不行…好不容易到这了…</strong>，也不差这会儿，容我再琢磨一波…作为一个未来合格的前端从业者(手动滑稽)，我熟练的打开了 <strong>F12</strong><br> <img src="https://images2.imgbox.com/cd/63/9md3EcY0_o.png" alt="在这里插入图片描述"><br> 果然，被我找到了吧哈哈哈哈<br> 这里不仅只有<code>"/v3/api-docs"</code>发送的请求，所以<code>"/v3/api-docs/**"</code> 搞定！！<br> <img src="https://images2.imgbox.com/c4/0e/c3KfalbS_o.png" alt="在这里插入图片描述"><br> 具体使用这里就不说了，因为我也是才接触，仅仅了解就不班门弄斧了，感兴趣的同学可以去看看<a href="https://springdoc.org/" rel="nofollow">springdoc-openapi官网</a>或者大佬们的文章或视频学习一下😊</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/93edb5cdc20216066e1fb646af6bde57/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">[从0开始AIGC][Transformer相关]：Transformer中的激活函数：Relu、GELU、GLU、Swish</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/fa3c6760f23e63144e8962973c84c706/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">./configure: error: SSL modules require the OpenSSL library. You can either do not enable the module</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>