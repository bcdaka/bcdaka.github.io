<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Spring Boot 3.x å¼•å…¥springdoc-openapi (å†…ç½®Swagger UIã€webmvc-api) - ç¼–ç¨‹å¤§å’–</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/93fbea1fc13c7929c5c0cddff3cfedd5/">
  <meta property="og:site_name" content="ç¼–ç¨‹å¤§å’–">
  <meta property="og:title" content="Spring Boot 3.x å¼•å…¥springdoc-openapi (å†…ç½®Swagger UIã€webmvc-api)">
  <meta property="og:description" content="æ¥è§¦çš„åŸå› 
å› å¼€å‘è‡ªå·±çš„é¡¹ç›®æ—¶ï¼Œå†™æ¥å£æ–‡æ¡£å¾ˆç¹çï¼ŒæŸ¥åˆ°åç«¯éƒ½åœ¨ç”¨swaggerç­‰æ¥å£å·¥å…·æ¥è®°å½•æ¥å£æ–‡æ¡£ï¼Œäºæ˜¯å­¦ä¹ äº†ä¸€ä¸‹ï¼Œæœ¬æ–‡è®°å½•ä¸ªäººé…ç½®è¿‡ç¨‹ï¼Œæœ‰é—®é¢˜æ¬¢è¿æŒ‡æ­£äº¤æµğŸ˜
Swaggerï¼š Swaggeræ˜¯ä¸€ç§Rest APIçš„è¡¨ç¤ºæ–¹å¼ï¼Œå®ƒæ˜¯æ ‡å‡†çš„ã€è¯­è¨€æ— å…³çš„å·¥å…·ï¼Œè¿™ç§è¡¨ç¤ºæ–¹å¼ä¸ä»…äººå¯è¯»ï¼Œè€Œä¸”æœºå™¨ä¹Ÿå¯è¯»ã€‚Swaggeræä¾›äº†ä¸€å¥—å®Œæ•´çš„è§„èŒƒæ¥æè¿°APIæ¥å£ï¼ŒåŒ…æ‹¬è¯·æ±‚å’Œå“åº”çš„æ•°æ®æ¨¡å‹ã€æ“ä½œè¡Œä¸ºç­‰ã€‚å®ƒé€šè¿‡æ³¨è§£æˆ–é…ç½®æ–‡ä»¶çš„æ–¹å¼ä¸ä»£ç é›†æˆï¼Œä»¥ç”ŸæˆAPIæ–‡æ¡£ã€‚
SpringDocï¼š SpringDocæ˜¯åŸºäºOpenAPI 3è§„èŒƒçš„ï¼Œä¸“ä¸ºSpring Bootè®¾è®¡çš„APIæ–‡æ¡£ç”Ÿæˆå·¥å…·ã€‚å®ƒæä¾›äº†ä¸Spring Bootæ›´å¥½çš„é›†æˆï¼Œæ”¯æŒSpring Bootå…¨ç³»åˆ—ã€‚SpringDocåˆ©ç”¨JSR-303ä¸­çš„æ³¨è§£ï¼ˆå¦‚@NotNullã€@Minã€@Maxã€@Sizeç­‰ï¼‰æ¥æè¿°APIçš„å‚æ•°éªŒè¯ä¿¡æ¯ã€‚æ­¤å¤–ï¼ŒSpringDocçš„æ¥å£ä¿¡æ¯å¯ä»¥é€šè¿‡JSONå±•ç¤ºï¼Œä¹Ÿå¯ä»¥ä¸Swagger-uié›†æˆï¼Œæä¾›å¯è§†åŒ–çš„APIæ–‡æ¡£ç•Œé¢ã€‚
åœ¨ç½‘ä¸Šçœ‹äº†è®¸å¤šæ•™ç¨‹ï¼Œå‘ç°å¾ˆå¤šéƒ½æ˜¯é’ˆå¯¹Spring Boot 2 æ¡†æ¶çš„ï¼Œå³ä½¿æœ‰é’ˆå¯¹Spring Boot 3 çš„ï¼Œç”¨æ³•ä¹Ÿä¸å¤ªä¸€æ ·ï¼Œç»è¿‡å¯¹æ¯”æµ‹è¯•ï¼Œæœ€åæˆ‘ä½¿ç”¨çš„æ˜¯ SpringDoc OpenAPI Starter WebMvc UI
å®ƒæ˜¯ Spring Boot é¡¹ç›®ä¸­ç”¨äºè‡ªåŠ¨ç”Ÿæˆ API æ–‡æ¡£çš„ä¸€ä¸ªä¾èµ–åº“ã€‚å®ƒç»“åˆäº† Swagger UIï¼Œæä¾›äº†ä¸€ä¸ªå¯è§†åŒ–çš„ç•Œé¢æ¥å±•ç¤ºå’Œæµ‹è¯•ä½ çš„ RESTful APIsã€‚è¿™ä¸ªä¾èµ–åº“ç‰¹åˆ«é€‚ç”¨äºä½¿ç”¨ Spring Web MVC æ¡†æ¶æ„å»ºçš„é¡¹ç›®ã€‚
è¿™ä¸ªä¾èµ–é¡¹åŒ…æ‹¬äº† Swagger UI å’Œ SpringDoc OpenAPI Starter WebMvc APIï¼Œæ— éœ€é¢å¤–å¼•å…¥å…¶ä»–ä¾èµ–å³å¯ä½¿ç”¨ã€‚
pom.xml é…ç½® æˆ‘çš„ spring boot ç‰ˆæœ¬æ˜¯ 3.1.8
å¼•å…¥ springdoc ä¾èµ–ï¼ˆè®°å¾—ç‚¹å‡»å³ä¸Šè§’çš„å¸¦è“è‰²çš„MæŒ‰é’®è¿›è¡Œä¾èµ–ä¸‹è½½ï¼‰
&lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;3.1.8&lt;/version&gt; &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt; &lt;/parent&gt; &lt;dependencies&gt; &lt;!">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-04-02T23:08:31+08:00">
    <meta property="article:modified_time" content="2024-04-02T23:08:31+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ç¼–ç¨‹å¤§å’–" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ç¼–ç¨‹å¤§å’–</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Spring Boot 3.x å¼•å…¥springdoc-openapi (å†…ç½®Swagger UIã€webmvc-api)</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><strong>æ¥è§¦çš„åŸå› </strong><br> å› å¼€å‘è‡ªå·±çš„é¡¹ç›®æ—¶ï¼Œå†™æ¥å£æ–‡æ¡£å¾ˆç¹çï¼ŒæŸ¥åˆ°åç«¯éƒ½åœ¨ç”¨<strong>swagger</strong>ç­‰æ¥å£å·¥å…·æ¥è®°å½•æ¥å£æ–‡æ¡£ï¼Œäºæ˜¯å­¦ä¹ äº†ä¸€ä¸‹ï¼Œæœ¬æ–‡è®°å½•ä¸ªäººé…ç½®è¿‡ç¨‹ï¼Œæœ‰é—®é¢˜æ¬¢è¿æŒ‡æ­£äº¤æµğŸ˜</p> 
<blockquote> 
 <p><strong>Swaggerï¼š</strong> Swaggeræ˜¯ä¸€ç§Rest APIçš„è¡¨ç¤ºæ–¹å¼ï¼Œå®ƒæ˜¯æ ‡å‡†çš„ã€è¯­è¨€æ— å…³çš„å·¥å…·ï¼Œè¿™ç§è¡¨ç¤ºæ–¹å¼ä¸ä»…äººå¯è¯»ï¼Œè€Œä¸”æœºå™¨ä¹Ÿå¯è¯»ã€‚Swaggeræä¾›äº†ä¸€å¥—å®Œæ•´çš„è§„èŒƒæ¥æè¿°APIæ¥å£ï¼ŒåŒ…æ‹¬è¯·æ±‚å’Œå“åº”çš„æ•°æ®æ¨¡å‹ã€æ“ä½œè¡Œä¸ºç­‰ã€‚å®ƒé€šè¿‡æ³¨è§£æˆ–é…ç½®æ–‡ä»¶çš„æ–¹å¼ä¸ä»£ç é›†æˆï¼Œä»¥ç”ŸæˆAPIæ–‡æ¡£ã€‚</p> 
</blockquote> 
<blockquote> 
 <p><strong>SpringDocï¼š</strong> SpringDocæ˜¯åŸºäºOpenAPI 3è§„èŒƒçš„ï¼Œä¸“ä¸ºSpring Bootè®¾è®¡çš„APIæ–‡æ¡£ç”Ÿæˆå·¥å…·ã€‚å®ƒæä¾›äº†ä¸Spring Bootæ›´å¥½çš„é›†æˆï¼Œæ”¯æŒSpring Bootå…¨ç³»åˆ—ã€‚SpringDocåˆ©ç”¨JSR-303ä¸­çš„æ³¨è§£ï¼ˆå¦‚@NotNullã€@Minã€@Maxã€@Sizeç­‰ï¼‰æ¥æè¿°APIçš„å‚æ•°éªŒè¯ä¿¡æ¯ã€‚æ­¤å¤–ï¼ŒSpringDocçš„æ¥å£ä¿¡æ¯å¯ä»¥é€šè¿‡JSONå±•ç¤ºï¼Œä¹Ÿå¯ä»¥ä¸Swagger-uié›†æˆï¼Œæä¾›å¯è§†åŒ–çš„APIæ–‡æ¡£ç•Œé¢ã€‚</p> 
</blockquote> 
<p>åœ¨ç½‘ä¸Šçœ‹äº†è®¸å¤šæ•™ç¨‹ï¼Œå‘ç°å¾ˆå¤šéƒ½æ˜¯<strong>é’ˆå¯¹Spring Boot 2</strong> æ¡†æ¶çš„ï¼Œå³ä½¿æœ‰é’ˆå¯¹Spring Boot 3 çš„ï¼Œç”¨æ³•ä¹Ÿä¸å¤ªä¸€æ ·ï¼Œç»è¿‡å¯¹æ¯”æµ‹è¯•ï¼Œæœ€åæˆ‘ä½¿ç”¨çš„æ˜¯ <strong>SpringDoc OpenAPI Starter WebMvc UI</strong></p> 
<blockquote> 
 <p>å®ƒæ˜¯ Spring Boot é¡¹ç›®ä¸­ç”¨äºè‡ªåŠ¨ç”Ÿæˆ API æ–‡æ¡£çš„ä¸€ä¸ªä¾èµ–åº“ã€‚å®ƒç»“åˆäº† Swagger UIï¼Œæä¾›äº†ä¸€ä¸ªå¯è§†åŒ–çš„ç•Œé¢æ¥å±•ç¤ºå’Œæµ‹è¯•ä½ çš„ RESTful APIsã€‚è¿™ä¸ªä¾èµ–åº“ç‰¹åˆ«é€‚ç”¨äºä½¿ç”¨ Spring Web MVC æ¡†æ¶æ„å»ºçš„é¡¹ç›®ã€‚</p> 
</blockquote> 
<blockquote> 
 <p>è¿™ä¸ªä¾èµ–é¡¹åŒ…æ‹¬äº† Swagger UI å’Œ SpringDoc OpenAPI Starter WebMvc APIï¼Œæ— éœ€é¢å¤–å¼•å…¥å…¶ä»–ä¾èµ–å³å¯ä½¿ç”¨ã€‚</p> 
</blockquote> 
<h2><a id="pomxml__13"></a>pom.xml é…ç½®</h2> 
<p>æˆ‘çš„ spring boot ç‰ˆæœ¬æ˜¯ 3.1.8<br> å¼•å…¥ springdoc ä¾èµ–ï¼ˆè®°å¾—ç‚¹å‡»å³ä¸Šè§’çš„å¸¦è“è‰²çš„MæŒ‰é’®è¿›è¡Œä¾èµ–ä¸‹è½½ï¼‰</p> 
<pre><code class="prism language-java"><span class="token generics"><span class="token punctuation">&lt;</span>parent<span class="token punctuation">&gt;</span></span>
    <span class="token generics"><span class="token punctuation">&lt;</span>groupId<span class="token punctuation">&gt;</span></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">&gt;</span>
    <span class="token generics"><span class="token punctuation">&lt;</span>artifactId<span class="token punctuation">&gt;</span></span>spring<span class="token operator">-</span>boot<span class="token operator">-</span>starter<span class="token operator">-</span>parent<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">&gt;</span>
    <span class="token generics"><span class="token punctuation">&lt;</span>version<span class="token punctuation">&gt;</span></span><span class="token number">3.1</span><span class="token number">.8</span><span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>relativePath<span class="token operator">/</span><span class="token operator">&gt;</span> <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> lookup parent from repository <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>parent<span class="token operator">&gt;</span>

<span class="token generics"><span class="token punctuation">&lt;</span>dependencies<span class="token punctuation">&gt;</span></span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> å…¶ä»–ä¾èµ– <span class="token operator">--</span><span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> åŠ å…¥ springdoc ä¾èµ– <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token generics"><span class="token punctuation">&lt;</span>dependency<span class="token punctuation">&gt;</span></span>
        <span class="token generics"><span class="token punctuation">&lt;</span>groupId<span class="token punctuation">&gt;</span></span>org<span class="token punctuation">.</span>springdoc<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">&gt;</span>
        <span class="token generics"><span class="token punctuation">&lt;</span>artifactId<span class="token punctuation">&gt;</span></span>springdoc<span class="token operator">-</span>openapi<span class="token operator">-</span>starter<span class="token operator">-</span>webmvc<span class="token operator">-</span>ui<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">&gt;</span>
        <span class="token generics"><span class="token punctuation">&lt;</span>version<span class="token punctuation">&gt;</span></span><span class="token number">2.5</span><span class="token number">.0</span><span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>dependencies<span class="token operator">&gt;</span>
</code></pre> 
<p>å¯ä»¥åœ¨pom.xml æ–‡ä»¶å¼•å…¥é˜¿é‡Œäº‘é•œåƒ <strong>ï¼ˆä¸ dependencies åŒçº§ï¼ï¼ï¼‰</strong></p> 
<pre><code class="prism language-java"><span class="token generics"><span class="token punctuation">&lt;</span>repositories<span class="token punctuation">&gt;</span></span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>é˜¿é‡Œäº‘é•œåƒ<span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token generics"><span class="token punctuation">&lt;</span>repository<span class="token punctuation">&gt;</span></span>
        <span class="token generics"><span class="token punctuation">&lt;</span>id<span class="token punctuation">&gt;</span></span>alimaven<span class="token operator">&lt;</span><span class="token operator">/</span>id<span class="token operator">&gt;</span>
        <span class="token generics"><span class="token punctuation">&lt;</span>name<span class="token punctuation">&gt;</span></span>aliyun maven<span class="token operator">&lt;</span><span class="token operator">/</span>name<span class="token operator">&gt;</span>
        <span class="token generics"><span class="token punctuation">&lt;</span>url<span class="token punctuation">&gt;</span></span>https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>maven<span class="token punctuation">.</span>aliyun<span class="token punctuation">.</span>com<span class="token operator">/</span>nexus<span class="token operator">/</span>content<span class="token operator">/</span>groups<span class="token operator">/</span><span class="token keyword">public</span><span class="token operator">/</span><span class="token operator">&lt;</span><span class="token operator">/</span>url<span class="token operator">&gt;</span>
        <span class="token generics"><span class="token punctuation">&lt;</span>releases<span class="token punctuation">&gt;</span></span>
            <span class="token generics"><span class="token punctuation">&lt;</span>enabled<span class="token punctuation">&gt;</span></span><span class="token boolean">true</span><span class="token operator">&lt;</span><span class="token operator">/</span>enabled<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>releases<span class="token operator">&gt;</span>
        <span class="token generics"><span class="token punctuation">&lt;</span>snapshots<span class="token punctuation">&gt;</span></span>
            <span class="token generics"><span class="token punctuation">&lt;</span>enabled<span class="token punctuation">&gt;</span></span><span class="token boolean">true</span><span class="token operator">&lt;</span><span class="token operator">/</span>enabled<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>snapshots<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>repository<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>repositories<span class="token operator">&gt;</span>
</code></pre> 
<h2><a id="applicationyml__56"></a>application.yml é…ç½®</h2> 
<pre><code class="prism language-yaml"><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">5000</span>

<span class="token key atrule">springdoc</span><span class="token punctuation">:</span>
  <span class="token key atrule">api-docs</span><span class="token punctuation">:</span>
    <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span> <span class="token comment"># å¼€å¯OpenApiæ¥å£</span>
    <span class="token key atrule">path</span><span class="token punctuation">:</span> /v3/api<span class="token punctuation">-</span>docs  <span class="token comment"># è‡ªå®šä¹‰è·¯å¾„ï¼Œé»˜è®¤ä¸º "/v3/api-docs"</span>
  <span class="token key atrule">swagger-ui</span><span class="token punctuation">:</span>
    <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span> <span class="token comment"># å¼€å¯swaggerç•Œé¢ï¼Œä¾èµ–OpenApiï¼Œéœ€è¦OpenApiåŒæ—¶å¼€å¯</span>
    <span class="token key atrule">path</span><span class="token punctuation">:</span> /swagger<span class="token punctuation">-</span>ui/index.html <span class="token comment"># è‡ªå®šä¹‰è·¯å¾„ï¼Œé»˜è®¤ä¸º"/swagger-ui/index.html"</span>
</code></pre> 
<p>å¦‚æœéœ€è¦æ›´æ”¹è¿™é‡Œçš„è·¯å¾„ï¼Œåˆ‡è®°åœ¨<strong>æ‹¦æˆªå™¨é…ç½®</strong>é‚£é‡Œå¯¹åº”æ›´æ”¹ï¼Œåé¢ä¼šè´´é…ç½®ï¼Œä½†æ˜¯åªé’ˆå¯¹æˆ‘ä¸Šé¢è¿™ä¸ªè·¯å¾„ï¼Œæ ¹æ®è‡ªå·±çš„éœ€æ±‚æ”¹ä¸€ä¸‹ã€‚</p> 
<h2><a id="SwaggerConfigjava__73"></a>SwaggerConfig.java é…ç½®</h2> 
<pre><code class="prism language-java"><span class="token comment">// ä½ è‡ªå·±çš„åŒ…å</span>
<span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>xxx<span class="token punctuation">.</span>xxx<span class="token punctuation">.</span>config</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">io<span class="token punctuation">.</span>swagger<span class="token punctuation">.</span>v3<span class="token punctuation">.</span>oas<span class="token punctuation">.</span>models<span class="token punctuation">.</span></span><span class="token class-name">ExternalDocumentation</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">io<span class="token punctuation">.</span>swagger<span class="token punctuation">.</span>v3<span class="token punctuation">.</span>oas<span class="token punctuation">.</span>models<span class="token punctuation">.</span></span><span class="token class-name">OpenAPI</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">io<span class="token punctuation">.</span>swagger<span class="token punctuation">.</span>v3<span class="token punctuation">.</span>oas<span class="token punctuation">.</span>models<span class="token punctuation">.</span>info<span class="token punctuation">.</span></span><span class="token class-name">Contact</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">io<span class="token punctuation">.</span>swagger<span class="token punctuation">.</span>v3<span class="token punctuation">.</span>oas<span class="token punctuation">.</span>models<span class="token punctuation">.</span>info<span class="token punctuation">.</span></span><span class="token class-name">Info</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">io<span class="token punctuation">.</span>swagger<span class="token punctuation">.</span>v3<span class="token punctuation">.</span>oas<span class="token punctuation">.</span>models<span class="token punctuation">.</span>info<span class="token punctuation">.</span></span><span class="token class-name">License</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Bean</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span></span><span class="token punctuation">;</span>

<span class="token comment">/**
 * @Author HHHY
 * @ClassName
 * @Date: 2024/4/2 14:21
 * @Description: Swagger é…ç½®
 */</span>

<span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SwaggerConfig</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">OpenAPI</span> <span class="token function">springShopOpenAPI</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">OpenAPI</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Info</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">title</span><span class="token punctuation">(</span><span class="token string">"Spring Boot ä¸­ä½¿ç”¨ Swagger UI æ„å»º RESTful API"</span><span class="token punctuation">)</span>
                        <span class="token punctuation">.</span><span class="token function">contact</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Contact</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                        <span class="token punctuation">.</span><span class="token function">description</span><span class="token punctuation">(</span><span class="token string">"ç™¾è‰ä¸­åŒ»è¯ä¿¡æ¯ç®¡ç†å¹³å°æä¾›çš„ RESTful API"</span><span class="token punctuation">)</span>
                        <span class="token punctuation">.</span><span class="token function">version</span><span class="token punctuation">(</span><span class="token string">"v1.0.0"</span><span class="token punctuation">)</span>
                        <span class="token punctuation">.</span><span class="token function">license</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">License</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token string">"Apache 2.0"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">url</span><span class="token punctuation">(</span><span class="token string">"http://springdoc.org"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                        <span class="token punctuation">.</span><span class="token function">externalDocs</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ExternalDocumentation</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                        <span class="token punctuation">.</span><span class="token function">description</span><span class="token punctuation">(</span><span class="token string">"å¤–éƒ¨æ–‡æ¡£"</span><span class="token punctuation">)</span>
                        <span class="token punctuation">.</span><span class="token function">url</span><span class="token punctuation">(</span><span class="token string">"https://springshop.wiki.github.org/docs"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>è‹¥ä½ æ²¡æœ‰è®¾ç½®æ‹¦æˆªå™¨ï¼Œé‚£ä¹ˆåˆ°è¿™é‡Œç›´æ¥è®¿é—® <code>http://localhost:5000/swagger-ui/swagger-ui/index.html#/ </code> åº”è¯¥å°±å¯ä»¥è·‘èµ·æ¥äº†ï¼Œå…¶ä¸­ <code>localhost:ç«¯å£å·</code> æ˜¯ä½ è‡ªå·±åœ¨ <code>application</code> é‡Œè®¾ç½®çš„ã€‚</p> 
<h2><a id="__113"></a>ä½†æ˜¯ ?ï¼ï¼</h2> 
<p>å½“æˆ‘æ»¡å¿ƒæ¬¢å–œçš„å‡†å¤‡è¿æ¥å±äºè‡ªå·±çš„æ¥å£æ–‡æ¡£æ—¶ï¼Œ<br> <img src="https://images2.imgbox.com/5f/ee/Ms78dSit_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> <img src="https://images2.imgbox.com/7a/15/ZdvmRcOi_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"> è’™ä½äº†ï¼Œå·²ç»æäº†å‡ ä¸ªå°æ—¶äº†â€¦äºæ˜¯æˆ‘éè§ˆå„ä½å¤§ä½¬çš„å¸–å­ï¼Œç»ˆäºè®©æˆ‘æ‰¾åˆ°äº†è››ä¸é©¬è¿¹ï¼Œæ„Ÿè°¢è¿™ä½å¤§ä½¬è¿™ç¯‡<strong>æ–‡ç« çš„æœ€åé‚£æ®µè¯</strong>ç»™æˆ‘çš„å¯å‘ï¼Œ<a href="https://cloud.tencent.com/developer/article/1685767%5D" rel="nofollow">æŒ‡è·¯â€”â€”Spring Bootå¼•å…¥swagger-ui åswagger-ui.htmlæ— æ³•è®¿é—®404</a>äºæ˜¯æˆ‘æƒ³èµ·æ¥è‡ªå·±æ˜¨å¤©å¼„äº†ä¸€ä¸ªæ‹¦æˆªå™¨ï¼Œé•¿è¿™æ ·ï¼š</p> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ykl<span class="token punctuation">.</span>springboot_tcmi<span class="token punctuation">.</span>config</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>ykl<span class="token punctuation">.</span>springboot_tcmi<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span></span><span class="token class-name">LoginInterceptor</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>config<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">InterceptorRegistry</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>config<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebMvcConfigurer</span></span><span class="token punctuation">;</span>

<span class="token comment">/**
 * @Author HHHY
 * @ClassName
 * @Date: 2024/4/1 23:16
 * @Description: é…ç½®ç±» æ³¨å†Œæ‹¦æˆªå™¨
 */</span>

<span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WebConfig</span> <span class="token keyword">implements</span> <span class="token class-name">WebMvcConfigurer</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// æ³¨å…¥æ‹¦æˆªå™¨å¯¹è±¡</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">LoginInterceptor</span> loginInterceptor<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addInterceptors</span><span class="token punctuation">(</span><span class="token class-name">InterceptorRegistry</span> registry<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// éƒ¨åˆ†æ¥å£ä¸æ‹¦æˆª</span>
    registry<span class="token punctuation">.</span><span class="token function">addInterceptor</span><span class="token punctuation">(</span>loginInterceptor<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">excludePathPatterns</span><span class="token punctuation">(</span><span class="token string">"/api/users/login"</span><span class="token punctuation">,</span> <span class="token string">"/api/users/register"</span><span class="token punctuation">,</span> <span class="token string">"/api/rights?flag=front"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>è‹¥ä½ å‘ç°å’Œæˆ‘ä¸€æ ·<strong>éƒ½ä¸èƒ½è®¿é—® json ä¸ ui ç•Œé¢</strong>ï¼Œé‚£ä¹ˆåœ¨ä¸Šè¿°é…ç½®éƒ½æ­£ç¡®çš„æƒ…å†µä¸‹ï¼Œå¯èƒ½æ˜¯ä½ çš„<strong>æ‹¦æˆªå™¨å‡ºäº†é—®é¢˜</strong>ï¼Œæˆ‘æ˜¯è¿™ä¹ˆé…ç½®çš„ï¼š</p> 
<pre><code class="prism language-java"><span class="token comment">// å‰é¢éƒ½ä¸å˜</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addInterceptors</span><span class="token punctuation">(</span><span class="token class-name">InterceptorRegistry</span> registry<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// éƒ¨åˆ†æ¥å£ä¸æ‹¦æˆª</span>
    registry<span class="token punctuation">.</span><span class="token function">addInterceptor</span><span class="token punctuation">(</span>loginInterceptor<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">excludePathPatterns</span><span class="token punctuation">(</span><span class="token string">"/api/users/login"</span><span class="token punctuation">,</span> <span class="token string">"/api/users/register"</span><span class="token punctuation">,</span> <span class="token string">"/api/rights?flag=front"</span><span class="token punctuation">)</span>
    <span class="token comment">// ã€çœ‹è¿™é‡Œï¼ï¼ï¼ã€‘æ ¹æ®ä½ è‡ªå·±çš„è·¯å¾„åŠ ä¸Šè¿™ä¸ªé…ç½®</span>
    <span class="token punctuation">.</span><span class="token function">excludePathPatterns</span><span class="token punctuation">(</span><span class="token string">"/swagger-ui/**"</span><span class="token punctuation">,</span> <span class="token string">"/v3/api-docs/**"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre> 
<p>é…ç½®å®Œæ‹¦æˆªå™¨çš„ä¸œè¥¿ï¼Œåº”è¯¥å°±å¯ä»¥æ­£å¸¸è®¿é—®äº†ï¼<br> æˆ‘çœ‹åˆ°è¯´è¿˜è¦é…ç½®ä»€ä¹ˆé™æ€èµ„æºè®¿é—®ï¼Œç›®å‰è¿˜æ²¡å†™åˆ°è¿™æ–¹é¢å†…å®¹ï¼Œæˆ‘ä¹Ÿä¸å¤ªæ‡‚ï¼Œæ—¢ç„¶èƒ½è·‘èµ·æ¥ï¼Œå°±æ²¡åŠ ä¸Šï¼Œèƒ½è·‘å°±è¡Œï¼Œèƒ½è·‘å°±è¡Œâ€¦<br> <strong>å‰ç«¯åŒå­¦å¼€å¿ƒçš„å»å†™æ¥å£äº†ï¼ˆbushiğŸ˜…ï¼‰</strong> <img src="https://images2.imgbox.com/34/3b/I5pcLa4f_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h2><a id="_167"></a>æ³¨æ„</h2> 
<p>æˆ‘ä¸€å¼€å§‹å†™çš„è·¯å¾„æ˜¯è¿™æ ·çš„ <code>"/swagger-ui/index.html", "/v3/api-docs"</code> ï¼Œç„¶åå‘ç°<strong>å¯ä»¥è®¿é—®åˆ° jsonçš„æ•°æ®</strong>ï¼Œä½†æ˜¯<strong>æ— æ³•è®¿é—® ui ç•Œé¢</strong>ï¼Œåˆæ˜¯ç™¾æ€ä¸å¾—å…¶è§£ï¼Œç„¶åè™½ç„¶å¾ˆè ¢ä½†æ˜¯çœŸæ²¡æƒ³åˆ°æ˜¯<strong>ä¸èƒ½åŠ ä¸Šå…·ä½“çš„<code>index.html</code></strong>ï¼Œä½†æ˜¯åœ¨çœ‹åˆ«äººä»£ç çš„æ—¶å€™çµå…‰ä¸€é—ªï¼Œè¯•ç€æ”¹æˆäº†<code>"/swagger-ui/**"</code>ï¼Œ<strong>ç»“æœèƒ½æˆäº†ï¼Œä½†æ˜¯â€¦</strong><br> <img src="https://images2.imgbox.com/69/a9/nTP1boex_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>æ˜¯çš„æˆ‘åˆå‚»çœ¼äº† ,<strong>å› ä¸ºç½‘ä¸Šç‰ˆæœ¬çœŸçš„å¾ˆå¤šâ€¦è¯•äº†å¾ˆå¤šéƒ½ä¸è¡Œâ€¦å¥½ä¸å®¹æ˜“åˆ°è¿™äº†â€¦</strong>ï¼Œä¹Ÿä¸å·®è¿™ä¼šå„¿ï¼Œå®¹æˆ‘å†ç¢ç£¨ä¸€æ³¢â€¦ä½œä¸ºä¸€ä¸ªæœªæ¥åˆæ ¼çš„å‰ç«¯ä»ä¸šè€…(æ‰‹åŠ¨æ»‘ç¨½)ï¼Œæˆ‘ç†Ÿç»ƒçš„æ‰“å¼€äº† <strong>F12</strong><br> <img src="https://images2.imgbox.com/cd/63/9md3EcY0_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> æœç„¶ï¼Œè¢«æˆ‘æ‰¾åˆ°äº†å§å“ˆå“ˆå“ˆå“ˆ<br> è¿™é‡Œä¸ä»…åªæœ‰<code>"/v3/api-docs"</code>å‘é€çš„è¯·æ±‚ï¼Œæ‰€ä»¥<code>"/v3/api-docs/**"</code> æå®šï¼ï¼<br> <img src="https://images2.imgbox.com/c4/0e/c3KfalbS_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> å…·ä½“ä½¿ç”¨è¿™é‡Œå°±ä¸è¯´äº†ï¼Œå› ä¸ºæˆ‘ä¹Ÿæ˜¯æ‰æ¥è§¦ï¼Œä»…ä»…äº†è§£å°±ä¸ç­é—¨å¼„æ–§äº†ï¼Œæ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥å»çœ‹çœ‹<a href="https://springdoc.org/" rel="nofollow">springdoc-openapiå®˜ç½‘</a>æˆ–è€…å¤§ä½¬ä»¬çš„æ–‡ç« æˆ–è§†é¢‘å­¦ä¹ ä¸€ä¸‹ğŸ˜Š</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/93edb5cdc20216066e1fb646af6bde57/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">[ä»0å¼€å§‹AIGC][Transformerç›¸å…³]ï¼šTransformerä¸­çš„æ¿€æ´»å‡½æ•°ï¼šReluã€GELUã€GLUã€Swish</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/fa3c6760f23e63144e8962973c84c706/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">./configure: error: SSL modules require the OpenSSL library. You can either do not enable the module</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ç¼–ç¨‹å¤§å’–.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>