<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>数据库课设---酒店管理系统（MySQL、VBNet） - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/f458c6e18b66575301407831d63e9eff/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="数据库课设---酒店管理系统（MySQL、VBNet）">
  <meta property="og:description" content="目录
一. 知识技术
二. 需求分析
2.1 功能需求
2.2 数据需求
三. 数据流图与数据字典
3.1 数据流图
3.1.1 业务流图
3.1.2 数据流图
3.1.3 关系图
3.2 数据字典
四. 数据库设计 4.1 概念模型设计
4.2 逻辑模型设计
4.3 数据库实现
4.4 导入数据
4.5 视图创建与展示
五. 利用VBNET语言进行页面设计
一. 知识技术 数据库管理系统（DBMS）基础：数据库管理系统是酒店客房管理系统的核心，负责存储、检索、更新和管理客房信息。它提供了数据定义、数据操作和数据控制等功能，确保数据的完整性、安全性和可靠性。关系型数据库理论：关系型数据库是当前应用最广泛的数据库类型之一，它通过表、行和列来组织数据，并使用SQL（结构化查询语言）进行数据操作。关系型数据库具有数据结构化、数据共享性高、数据独立性好等优点，非常适合用于酒店客房管理系统的数据存储。数据库设计原则：数据库设计是酒店客房管理系统开发的关键环节，它涉及到数据的逻辑结构、物理结构以及数据的安全性和完整性等方面。在设计过程中，需要遵循规范化设计原则，确保数据的合理组织和有效存储。 二. 需求分析 2.1 功能需求 本系统实现的功能具体如下：
1、信息管理：可以对于各种信息的查询，个人信息可以查看自己的私人信息，还可以对自己的私人信息进行修改。用户信息查看用户的个人信息，对用户的信息进行增删改查。2、客户信息管理：可以新建客户，输入客户的身份证号码、姓名、性别、和手机号等信息，可以对于客户的信息进行相应的修改。3、客房信息管理：可以在相应的房间类型下面进行添加相应的房间，对相应的房间进行删除， 查看空房以及客房的情况。4、入住和退房管理：客户可以入住相应的类型房型下的空房，然后可以退房，系统自动将相应的订单状态置为失效，入住状态置为己退房，将相应房间的状态置为空房。5、费用管理：管理员、工作人员都可以查看相应的费用信息，管理员有需要时可以对宾馆的收入与支出进行查询或修改。6、价目信息管理：可以查看客房的收费标准，管理员可以对客房价格进行查询与修改，工作人员可以查看客房的价目信息。7、物品信息管理：可以查看客房的物品名称，物品状态是否使用，对物品进行查询。 2.2 数据需求 酒店客房管理系统的数据需求包括如下几点：
1）数据录入和处理的准确性和实时性 数据的输入是否准确是数据处理的前提，错误的输入会导致系统无法正常识别进而导致输出的不正确，从而是系统的工作失去意义。数据的输入来源是手工输入。手工输入要通过系统界面上的安排系统具有容错性。。2）数据的一致性与完整性由于系统的数据是共享的，在不同的客户端中，客房信息是共享数据，所以如何保证这些数据的一致性，是系统必须解决的问题。要解决这一问题，要有后台数据库的支持。 三. 数据流图与数据字典 3.1 数据流图 3.1.1 业务流图 3.1.2 数据流图 3.1.3 关系图 3.2 数据字典 客户表
字段
中文解释
类型
约束
备注
cno">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-07-07T23:45:38+08:00">
    <meta property="article:modified_time" content="2024-07-07T23:45:38+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">数据库课设---酒店管理系统（MySQL、VBNet）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="%E4%B8%80.%C2%A0%20%C2%A0%E7%9F%A5%E8%AF%86%E6%8A%80%E6%9C%AF-toc" style="margin-left:0px;"><a href="#%E4%B8%80.%C2%A0%20%C2%A0%E7%9F%A5%E8%AF%86%E6%8A%80%E6%9C%AF" rel="nofollow">一.   知识技术</a></p> 
<p id="%E4%BA%8C.%C2%A0%20%C2%A0%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90-toc" style="margin-left:0px;"><a href="#%E4%BA%8C.%C2%A0%20%C2%A0%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90" rel="nofollow">二.   需求分析</a></p> 
<p id="2.1%C2%A0%20%C2%A0%E5%8A%9F%E8%83%BD%E9%9C%80%E6%B1%82-toc" style="margin-left:40px;"><a href="#2.1%C2%A0%20%C2%A0%E5%8A%9F%E8%83%BD%E9%9C%80%E6%B1%82" rel="nofollow">2.1   功能需求</a></p> 
<p id="2.2%C2%A0%20%C2%A0%E6%95%B0%E6%8D%AE%E9%9C%80%E6%B1%82-toc" style="margin-left:40px;"><a href="#2.2%C2%A0%20%C2%A0%E6%95%B0%E6%8D%AE%E9%9C%80%E6%B1%82" rel="nofollow">2.2   数据需求</a></p> 
<p id="%C2%A0%E4%B8%89.%C2%A0%20%C2%A0%E6%95%B0%E6%8D%AE%E6%B5%81%E5%9B%BE%E4%B8%8E%E6%95%B0%E6%8D%AE%E5%AD%97%E5%85%B8-toc" style="margin-left:0px;"><a href="#%C2%A0%E4%B8%89.%C2%A0%20%C2%A0%E6%95%B0%E6%8D%AE%E6%B5%81%E5%9B%BE%E4%B8%8E%E6%95%B0%E6%8D%AE%E5%AD%97%E5%85%B8" rel="nofollow"> 三.   数据流图与数据字典</a></p> 
<p id="3.1%C2%A0%20%C2%A0%E6%95%B0%E6%8D%AE%E6%B5%81%E5%9B%BE-toc" style="margin-left:40px;"><a href="#3.1%C2%A0%20%C2%A0%E6%95%B0%E6%8D%AE%E6%B5%81%E5%9B%BE" rel="nofollow">3.1   数据流图</a></p> 
<p id="3.1.1%C2%A0%20%C2%A0%E4%B8%9A%E5%8A%A1%E6%B5%81%E5%9B%BE-toc" style="margin-left:80px;"><a href="#3.1.1%C2%A0%20%C2%A0%E4%B8%9A%E5%8A%A1%E6%B5%81%E5%9B%BE" rel="nofollow">3.1.1   业务流图</a></p> 
<p id="3.1.2%C2%A0%20%C2%A0%E6%95%B0%E6%8D%AE%E6%B5%81%E5%9B%BE-toc" style="margin-left:80px;"><a href="#3.1.2%C2%A0%20%C2%A0%E6%95%B0%E6%8D%AE%E6%B5%81%E5%9B%BE" rel="nofollow">3.1.2   数据流图</a></p> 
<p id="3.1.3%C2%A0%20%C2%A0%E5%85%B3%E7%B3%BB%E5%9B%BE-toc" style="margin-left:80px;"><a href="#3.1.3%C2%A0%20%C2%A0%E5%85%B3%E7%B3%BB%E5%9B%BE" rel="nofollow">3.1.3   关系图</a></p> 
<p id="3.2%C2%A0%20%C2%A0%E6%95%B0%E6%8D%AE%E5%AD%97%E5%85%B8-toc" style="margin-left:40px;"><a href="#3.2%C2%A0%20%C2%A0%E6%95%B0%E6%8D%AE%E5%AD%97%E5%85%B8" rel="nofollow">3.2   数据字典</a></p> 
<p id="%E5%9B%9B.%C2%A0%20%C2%A0%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1%C2%A0-toc" style="margin-left:0px;"><a href="#%E5%9B%9B.%C2%A0%20%C2%A0%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1%C2%A0" rel="nofollow">四.   数据库设计 </a></p> 
<p id="4.1%C2%A0%20%C2%A0%E6%A6%82%E5%BF%B5%E6%A8%A1%E5%9E%8B%E8%AE%BE%E8%AE%A1-toc" style="margin-left:40px;"><a href="#4.1%C2%A0%20%C2%A0%E6%A6%82%E5%BF%B5%E6%A8%A1%E5%9E%8B%E8%AE%BE%E8%AE%A1" rel="nofollow">4.1   概念模型设计</a></p> 
<p id="4.2%C2%A0%20%C2%A0%E9%80%BB%E8%BE%91%E6%A8%A1%E5%9E%8B%E8%AE%BE%E8%AE%A1-toc" style="margin-left:40px;"><a href="#4.2%C2%A0%20%C2%A0%E9%80%BB%E8%BE%91%E6%A8%A1%E5%9E%8B%E8%AE%BE%E8%AE%A1" rel="nofollow">4.2   逻辑模型设计</a></p> 
<p id="4.3%C2%A0%20%C2%A0%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%9E%E7%8E%B0-toc" style="margin-left:40px;"><a href="#4.3%C2%A0%20%C2%A0%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%9E%E7%8E%B0" rel="nofollow">4.3   数据库实现</a></p> 
<p id="4.4%C2%A0%20%C2%A0%E5%AF%BC%E5%85%A5%E6%95%B0%E6%8D%AE-toc" style="margin-left:40px;"><a href="#4.4%C2%A0%20%C2%A0%E5%AF%BC%E5%85%A5%E6%95%B0%E6%8D%AE" rel="nofollow">4.4   导入数据</a></p> 
<p id="4.5%C2%A0%20%C2%A0%E8%A7%86%E5%9B%BE%E5%88%9B%E5%BB%BA%E4%B8%8E%E5%B1%95%E7%A4%BA-toc" style="margin-left:40px;"><a href="#4.5%C2%A0%20%C2%A0%E8%A7%86%E5%9B%BE%E5%88%9B%E5%BB%BA%E4%B8%8E%E5%B1%95%E7%A4%BA" rel="nofollow">4.5   视图创建与展示</a></p> 
<p id="%E4%BA%94.%C2%A0%20%C2%A0%E5%88%A9%E7%94%A8VBNET%E8%AF%AD%E8%A8%80%E8%BF%9B%E8%A1%8C%E9%A1%B5%E9%9D%A2%E8%AE%BE%E8%AE%A1-toc" style="margin-left:0px;"><a href="#%E4%BA%94.%C2%A0%20%C2%A0%E5%88%A9%E7%94%A8VBNET%E8%AF%AD%E8%A8%80%E8%BF%9B%E8%A1%8C%E9%A1%B5%E9%9D%A2%E8%AE%BE%E8%AE%A1" rel="nofollow">五.   利用VBNET语言进行页面设计</a></p> 
<hr id="hr-toc"> 
<p></p> 
<hr> 
<h2 id="%E4%B8%80.%C2%A0%20%C2%A0%E7%9F%A5%E8%AF%86%E6%8A%80%E6%9C%AF">一.   知识技术</h2> 
<ol><li style="text-align:left;">数据库管理系统（DBMS）基础：数据库管理系统是酒店客房管理系统的核心，负责存储、检索、更新和管理客房信息。它提供了数据定义、数据操作和数据控制等功能，确保数据的完整性、安全性和可靠性。</li><li style="text-align:left;">关系型数据库理论：关系型数据库是当前应用最广泛的数据库类型之一，它通过表、行和列来组织数据，并使用SQL（结构化查询语言）进行数据操作。关系型数据库具有数据结构化、数据共享性高、数据独立性好等优点，非常适合用于酒店客房管理系统的数据存储。</li><li style="text-align:left;">数据库设计原则：数据库设计是酒店客房管理系统开发的关键环节，它涉及到数据的逻辑结构、物理结构以及数据的安全性和完整性等方面。在设计过程中，需要遵循规范化设计原则，确保数据的合理组织和有效存储。</li></ol> 
<h2 id="%E4%BA%8C.%C2%A0%20%C2%A0%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90">二.   需求分析</h2> 
<h3 id="2.1%C2%A0%20%C2%A0%E5%8A%9F%E8%83%BD%E9%9C%80%E6%B1%82" style="margin-left:0px;text-align:justify;"><strong>2.1   </strong><strong>功能需求</strong></h3> 
<p style="margin-left:0;text-align:justify;">本系统实现的功能具体如下：</p> 
<ol><li style="margin-left:0px;text-align:justify;">1、信息管理：可以对于各种信息的查询，个人信息可以查看自己的私人信息，还可以对自己的私人信息进行修改。用户信息查看用户的个人信息，对用户的信息进行增删改查。</li><li style="margin-left:0px;text-align:justify;">2、客户信息管理：可以新建客户，输入客户的身份证号码、姓名、性别、和手机号等信息，可以对于客户的信息进行相应的修改。</li><li style="margin-left:0px;text-align:justify;">3、客房信息管理：可以在相应的房间类型下面进行添加相应的房间，对相应的房间进行删除， 查看空房以及客房的情况。</li><li style="margin-left:0px;text-align:justify;">4、入住和退房管理：客户可以入住相应的类型房型下的空房，然后可以退房，系统自动将相应的订单状态置为失效，入住状态置为己退房，将相应房间的状态置为空房。</li><li style="margin-left:0px;text-align:justify;">5、费用管理：管理员、工作人员都可以查看相应的费用信息，管理员有需要时可以对宾馆的收入与支出进行查询或修改。</li><li style="margin-left:0px;text-align:justify;">6、价目信息管理：可以查看客房的收费标准，管理员可以对客房价格进行查询与修改，工作人员可以查看客房的价目信息。</li><li style="margin-left:0px;text-align:justify;">7、物品信息管理：可以查看客房的物品名称，物品状态是否使用，对物品进行查询。</li></ol> 
<h3 id="2.2%C2%A0%20%C2%A0%E6%95%B0%E6%8D%AE%E9%9C%80%E6%B1%82" style="margin-left:0px;text-align:justify;"><strong>2.2   </strong><strong>数据需求</strong></h3> 
<p style="margin-left:0;text-align:justify;">酒店客房管理系统的数据需求包括如下几点：</p> 
<ol><li style="margin-left:0px;text-align:justify;">1）数据录入和处理的准确性和实时性</li><li style="margin-left:0px;text-align:justify;"> 数据的输入是否准确是数据处理的前提，错误的输入会导致系统无法正常识别进而导致输出的不正确，从而是系统的工作失去意义。数据的输入来源是手工输入。手工输入要通过系统界面上的安排系统具有容错性。。</li><li style="margin-left:0px;text-align:justify;">2）数据的一致性与完整性</li><li style="margin-left:0px;text-align:justify;">由于系统的数据是共享的，在不同的客户端中，客房信息是共享数据，所以如何保证这些数据的一致性，是系统必须解决的问题。要解决这一问题，要有后台数据库的支持。</li></ol> 
<h2 id="%C2%A0%E4%B8%89.%C2%A0%20%C2%A0%E6%95%B0%E6%8D%AE%E6%B5%81%E5%9B%BE%E4%B8%8E%E6%95%B0%E6%8D%AE%E5%AD%97%E5%85%B8"> 三.   数据流图与数据字典</h2> 
<h3 id="3.1%C2%A0%20%C2%A0%E6%95%B0%E6%8D%AE%E6%B5%81%E5%9B%BE">3.1   数据流图</h3> 
<h4 id="3.1.1%C2%A0%20%C2%A0%E4%B8%9A%E5%8A%A1%E6%B5%81%E5%9B%BE">3.1.1   业务流图</h4> 
<p><img alt="" height="334" src="https://images2.imgbox.com/f8/ed/USgVAJxn_o.png" width="679"></p> 
<h4 id="3.1.2%C2%A0%20%C2%A0%E6%95%B0%E6%8D%AE%E6%B5%81%E5%9B%BE">3.1.2   数据流图</h4> 
<h4 id="%C2%A0%E2%80%8B%E7%BC%96%E8%BE%91"> <img alt="" height="611" src="https://images2.imgbox.com/e7/47/uexkzaVo_o.png" width="503"></h4> 
<h4 id="3.1.3%C2%A0%20%C2%A0%E5%85%B3%E7%B3%BB%E5%9B%BE">3.1.3   关系图</h4> 
<h4 id="%E2%80%8B%E7%BC%96%E8%BE%91"><img alt="" height="806" src="https://images2.imgbox.com/a7/aa/e63bSu1r_o.png" width="1200"></h4> 
<h3 id="3.2%C2%A0%20%C2%A0%E6%95%B0%E6%8D%AE%E5%AD%97%E5%85%B8">3.2   数据字典</h3> 
<p style="margin-left:0;text-align:justify;">客户表</p> 
<table border="1" cellspacing="0"><tbody><tr><td style="border-color:#000000;vertical-align:top;width:105.65pt;"> <p style="margin-left:0;text-align:justify;">字段</p> </td><td style="border-color:#000000;vertical-align:top;width:105.65pt;"> <p style="margin-left:0;text-align:justify;">中文解释</p> </td><td style="border-color:#000000;vertical-align:top;width:105.7pt;"> <p style="margin-left:0;text-align:justify;">类型</p> </td><td style="border-color:#000000;vertical-align:top;width:105.7pt;"> <p style="margin-left:0;text-align:justify;">约束</p> </td><td style="border-color:#000000;vertical-align:top;width:105.7pt;"> <p style="margin-left:0;text-align:justify;">备注</p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:105.65pt;"> <p style="margin-left:0;text-align:justify;">cno</p> </td><td style="vertical-align:top;width:105.65pt;"> <p style="margin-left:0;text-align:justify;">客户编号</p> </td><td style="vertical-align:top;width:105.7pt;"> <p style="margin-left:0;text-align:justify;">Char(20)</p> </td><td style="vertical-align:top;width:105.7pt;"> <p style="margin-left:0;text-align:justify;">Not null</p> </td><td style="vertical-align:top;width:105.7pt;"> <p style="margin-left:0;text-align:justify;">Primary key</p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:105.65pt;"> <p style="margin-left:0;text-align:justify;">cname</p> </td><td style="vertical-align:top;width:105.65pt;"> <p style="margin-left:0;text-align:justify;">客户姓名</p> </td><td style="vertical-align:top;width:105.7pt;"> <p style="margin-left:0;text-align:justify;">Char(10)</p> </td><td style="vertical-align:top;width:105.7pt;"> <p style="margin-left:0;text-align:justify;">Not null</p> </td><td style="vertical-align:top;width:105.7pt;"> <p style="margin-left:0;text-align:justify;"></p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:105.65pt;"> <p style="margin-left:0;text-align:justify;">csex</p> </td><td style="vertical-align:top;width:105.65pt;"> <p style="margin-left:0;text-align:justify;">客户性别</p> </td><td style="vertical-align:top;width:105.7pt;"> <p style="margin-left:0;text-align:justify;">Char(2)</p> </td><td style="vertical-align:top;width:105.7pt;"> <p style="margin-left:0;text-align:justify;">Not null</p> </td><td style="vertical-align:top;width:105.7pt;"> <p style="margin-left:0;text-align:justify;"></p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:105.65pt;"> <p style="margin-left:0;text-align:justify;">cid</p> </td><td style="vertical-align:top;width:105.65pt;"> <p style="margin-left:0;text-align:justify;">客户手机号</p> </td><td style="vertical-align:top;width:105.7pt;"> <p style="margin-left:0;text-align:justify;">Char(20)</p> </td><td style="vertical-align:top;width:105.7pt;"> <p style="margin-left:0;text-align:justify;">Not null</p> </td><td style="vertical-align:top;width:105.7pt;"> <p style="margin-left:0;text-align:justify;"></p> </td></tr></tbody></table> 
<p style="margin-left:0;text-align:justify;">客房表</p> 
<table border="1" cellspacing="0"><tbody><tr><td style="border-color:#000000;vertical-align:top;width:105.65pt;"> <p style="margin-left:0;text-align:justify;">字段</p> </td><td style="border-color:#000000;vertical-align:top;width:105.65pt;"> <p style="margin-left:0;text-align:justify;">中文解释</p> </td><td style="border-color:#000000;vertical-align:top;width:105.7pt;"> <p style="margin-left:0;text-align:justify;">类型</p> </td><td style="border-color:#000000;vertical-align:top;width:105.7pt;"> <p style="margin-left:0;text-align:justify;">约束</p> </td><td style="border-color:#000000;vertical-align:top;width:105.7pt;"> <p style="margin-left:0;text-align:justify;">备注</p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:105.65pt;"> <p style="margin-left:0;text-align:justify;">Rno</p> </td><td style="vertical-align:top;width:105.65pt;"> <p style="margin-left:0;text-align:justify;">客房编号</p> </td><td style="vertical-align:top;width:105.7pt;"> <p style="margin-left:0;text-align:justify;">Char(20)</p> </td><td style="vertical-align:top;width:105.7pt;"> <p style="margin-left:0;text-align:justify;">Not null</p> </td><td style="vertical-align:top;width:105.7pt;"> <p style="margin-left:0;text-align:justify;">Primary key</p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:105.65pt;"> <p style="margin-left:0;text-align:justify;">Rstyle</p> </td><td style="vertical-align:top;width:105.65pt;"> <p style="margin-left:0;text-align:justify;">客房类型</p> </td><td style="vertical-align:top;width:105.7pt;"> <p style="margin-left:0;text-align:justify;">Char(10)</p> </td><td style="vertical-align:top;width:105.7pt;"> <p style="margin-left:0;text-align:justify;">Not null</p> </td><td style="vertical-align:top;width:105.7pt;"> <p style="margin-left:0;text-align:justify;"></p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:105.65pt;"> <p style="margin-left:0;text-align:justify;">Rprice</p> </td><td style="vertical-align:top;width:105.65pt;"> <p style="margin-left:0;text-align:justify;">客房价格</p> </td><td style="vertical-align:top;width:105.7pt;"> <p style="margin-left:0;text-align:justify;">Int</p> </td><td style="vertical-align:top;width:105.7pt;"> <p style="margin-left:0;text-align:justify;">Not null</p> </td><td style="vertical-align:top;width:105.7pt;"> <p style="margin-left:0;text-align:justify;"></p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:105.65pt;"> <p style="margin-left:0;text-align:justify;">Rstate</p> </td><td style="vertical-align:top;width:105.65pt;"> <p style="margin-left:0;text-align:justify;">客房状态</p> </td><td style="vertical-align:top;width:105.7pt;"> <p style="margin-left:0;text-align:justify;">Char(10)</p> </td><td style="vertical-align:top;width:105.7pt;"> <p style="margin-left:0;text-align:justify;">Not null</p> </td><td style="vertical-align:top;width:105.7pt;"> <p style="margin-left:0;text-align:justify;"></p> </td></tr></tbody></table> 
<p style="margin-left:0;text-align:justify;">Living表</p> 
<table border="1" cellspacing="0"><tbody><tr><td style="border-color:#000000;vertical-align:top;width:105.65pt;"> <p style="margin-left:0;text-align:justify;">字段</p> </td><td style="border-color:#000000;vertical-align:top;width:105.65pt;"> <p style="margin-left:0;text-align:justify;">中文解释</p> </td><td style="border-color:#000000;vertical-align:top;width:105.7pt;"> <p style="margin-left:0;text-align:justify;">类型</p> </td><td style="border-color:#000000;vertical-align:top;width:105.7pt;"> <p style="margin-left:0;text-align:justify;">约束</p> </td><td style="border-color:#000000;vertical-align:top;width:105.7pt;"> <p style="margin-left:0;text-align:justify;">备注</p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:105.65pt;"> <p style="margin-left:0;text-align:justify;">Cno</p> </td><td style="vertical-align:top;width:105.65pt;"> <p style="margin-left:0;text-align:justify;">客户编号</p> </td><td style="vertical-align:top;width:105.7pt;"> <p style="margin-left:0;text-align:justify;">Char(20)</p> </td><td style="vertical-align:top;width:105.7pt;"> <p style="margin-left:0;text-align:justify;">Not null</p> </td><td style="vertical-align:top;width:105.7pt;"> <p style="margin-left:0;text-align:justify;">Primary key</p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:105.65pt;"> <p style="margin-left:0;text-align:justify;">Ccomedate</p> </td><td style="vertical-align:top;width:105.65pt;"> <p style="margin-left:0;text-align:justify;">入住日期</p> </td><td style="vertical-align:top;width:105.7pt;"> <p style="margin-left:0;text-align:justify;">Datetime</p> </td><td style="vertical-align:top;width:105.7pt;"> <p style="margin-left:0;text-align:justify;">Not null</p> </td><td style="vertical-align:top;width:105.7pt;"> <p style="margin-left:0;text-align:justify;"></p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:105.65pt;"> <p style="margin-left:0;text-align:justify;">Cleftdate</p> </td><td style="vertical-align:top;width:105.65pt;"> <p style="margin-left:0;text-align:justify;">离开日期</p> </td><td style="vertical-align:top;width:105.7pt;"> <p style="margin-left:0;text-align:justify;">Datetime</p> </td><td style="vertical-align:top;width:105.7pt;"> <p style="margin-left:0;text-align:justify;">Not null</p> </td><td style="vertical-align:top;width:105.7pt;"> <p style="margin-left:0;text-align:justify;"></p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:105.65pt;"> <p style="margin-left:0;text-align:justify;">Rno</p> </td><td style="vertical-align:top;width:105.65pt;"> <p style="margin-left:0;text-align:justify;">客房编号</p> </td><td style="vertical-align:top;width:105.7pt;"> <p style="margin-left:0;text-align:justify;">Int</p> </td><td style="vertical-align:top;width:105.7pt;"> <p style="margin-left:0;text-align:justify;">Not null</p> </td><td style="vertical-align:top;width:105.7pt;"> <p style="margin-left:0;text-align:justify;"></p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:105.65pt;"> <p style="margin-left:0;text-align:justify;">Ctime</p> </td><td style="vertical-align:top;width:105.65pt;"> <p style="margin-left:0;text-align:justify;">入住时间</p> </td><td style="vertical-align:top;width:105.7pt;"> <p style="margin-left:0;text-align:justify;">Int</p> </td><td style="vertical-align:top;width:105.7pt;"> <p style="margin-left:0;text-align:justify;">Not null</p> </td><td style="vertical-align:top;width:105.7pt;"> <p style="margin-left:0;text-align:justify;"></p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:105.65pt;"> <p style="margin-left:0;text-align:justify;">Camount</p> </td><td style="vertical-align:top;width:105.65pt;"> <p style="margin-left:0;text-align:justify;">费用</p> </td><td style="vertical-align:top;width:105.7pt;"> <p style="margin-left:0;text-align:justify;">Int</p> </td><td style="vertical-align:top;width:105.7pt;"> <p style="margin-left:0;text-align:justify;">Not null</p> </td><td style="vertical-align:top;width:105.7pt;"> <p style="margin-left:0;text-align:justify;"></p> </td></tr></tbody></table> 
<p style="margin-left:0;text-align:justify;">管理员表</p> 
<table border="1" cellspacing="0"><tbody><tr><td style="border-color:#000000;vertical-align:top;width:105.65pt;"> <p style="margin-left:0;text-align:justify;">字段</p> </td><td style="border-color:#000000;vertical-align:top;width:105.65pt;"> <p style="margin-left:0;text-align:justify;">中文解释</p> </td><td style="border-color:#000000;vertical-align:top;width:105.7pt;"> <p style="margin-left:0;text-align:justify;">类型</p> </td><td style="border-color:#000000;vertical-align:top;width:105.7pt;"> <p style="margin-left:0;text-align:justify;">约束</p> </td><td style="border-color:#000000;vertical-align:top;width:105.7pt;"> <p style="margin-left:0;text-align:justify;">备注</p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:105.65pt;"> <p style="margin-left:0;text-align:justify;">Ano</p> </td><td style="vertical-align:top;width:105.65pt;"> <p style="margin-left:0;text-align:justify;">管理员编号</p> </td><td style="vertical-align:top;width:105.7pt;"> <p style="margin-left:0;text-align:justify;">Char(10)</p> </td><td style="vertical-align:top;width:105.7pt;"> <p style="margin-left:0;text-align:justify;">Not null</p> </td><td style="vertical-align:top;width:105.7pt;"> <p style="margin-left:0;text-align:justify;">Primary key</p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:105.65pt;"> <p style="margin-left:0;text-align:justify;">Aname</p> </td><td style="vertical-align:top;width:105.65pt;"> <p style="margin-left:0;text-align:justify;">管理员姓名</p> </td><td style="vertical-align:top;width:105.7pt;"> <p style="margin-left:0;text-align:justify;">Char(10)</p> </td><td style="vertical-align:top;width:105.7pt;"> <p style="margin-left:0;text-align:justify;">Not null</p> </td><td style="vertical-align:top;width:105.7pt;"> <p style="margin-left:0;text-align:justify;"></p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:105.65pt;"> <p style="margin-left:0;text-align:justify;">Asex</p> </td><td style="vertical-align:top;width:105.65pt;"> <p style="margin-left:0;text-align:justify;">管理员性别</p> </td><td style="vertical-align:top;width:105.7pt;"> <p style="margin-left:0;text-align:justify;">Char(2)</p> </td><td style="vertical-align:top;width:105.7pt;"> <p style="margin-left:0;text-align:justify;">Not null</p> </td><td style="vertical-align:top;width:105.7pt;"> <p style="margin-left:0;text-align:justify;"></p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:105.65pt;"> <p style="margin-left:0;text-align:justify;">Apassword</p> </td><td style="vertical-align:top;width:105.65pt;"> <p style="margin-left:0;text-align:justify;">登录密码</p> </td><td style="vertical-align:top;width:105.7pt;"> <p style="margin-left:0;text-align:justify;">Char(20)</p> </td><td style="vertical-align:top;width:105.7pt;"> <p style="margin-left:0;text-align:justify;">Not null</p> </td><td style="vertical-align:top;width:105.7pt;"> <p style="margin-left:0;text-align:justify;"></p> </td></tr></tbody></table> 
<p style="margin-left:0;text-align:justify;">物品表</p> 
<table border="1" cellspacing="0"><tbody><tr><td style="border-color:#000000;vertical-align:top;width:92.6pt;"> <p style="margin-left:0;text-align:justify;">字段</p> </td><td style="border-color:#000000;vertical-align:top;width:81.85pt;"> <p style="margin-left:0;text-align:justify;">中文解释</p> </td><td style="border-color:#000000;vertical-align:top;width:89.6pt;"> <p style="margin-left:0;text-align:justify;">类型</p> </td><td style="border-color:#000000;vertical-align:top;width:83.5pt;"> <p style="margin-left:0;text-align:justify;">约束</p> </td><td style="border-color:#000000;vertical-align:top;width:88.45pt;"> <p style="margin-left:0;text-align:justify;">备注</p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:92.6pt;"> <p style="margin-left:0;text-align:justify;">Rno</p> </td><td style="vertical-align:top;width:81.85pt;"> <p style="margin-left:0;text-align:justify;">客房号</p> </td><td style="vertical-align:top;width:89.6pt;"> <p style="margin-left:0;text-align:justify;">Char(20)</p> </td><td style="vertical-align:top;width:83.5pt;"> <p style="margin-left:0;text-align:justify;">Not null</p> </td><td style="vertical-align:top;width:88.45pt;"> <p style="margin-left:0;text-align:justify;"></p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:92.6pt;"> <p style="margin-left:0;text-align:justify;">Ritemno</p> </td><td style="vertical-align:top;width:81.85pt;"> <p style="margin-left:0;text-align:justify;">物品号</p> </td><td style="vertical-align:top;width:89.6pt;"> <p style="margin-left:0;text-align:justify;">Int</p> </td><td style="vertical-align:top;width:83.5pt;"> <p style="margin-left:0;text-align:justify;">Not null</p> </td><td style="vertical-align:top;width:88.45pt;"> <p style="margin-left:0;text-align:justify;">Primary key</p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:92.6pt;"> <p style="margin-left:0;text-align:justify;">Ritemstate</p> </td><td style="vertical-align:top;width:81.85pt;"> <p style="margin-left:0;text-align:justify;">物品状态</p> </td><td style="vertical-align:top;width:89.6pt;"> <p style="margin-left:0;text-align:justify;">Char(10)</p> </td><td style="vertical-align:top;width:83.5pt;"> <p style="margin-left:0;text-align:justify;">Not null</p> </td><td style="vertical-align:top;width:88.45pt;"> <p style="margin-left:0;text-align:justify;"></p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:92.6pt;"> <p style="margin-left:0;text-align:justify;">Ritemname</p> </td><td style="vertical-align:top;width:81.85pt;"> <p style="margin-left:0;text-align:justify;">物品名称</p> </td><td style="vertical-align:top;width:89.6pt;"> <p style="margin-left:0;text-align:justify;">Char(20)</p> </td><td style="vertical-align:top;width:83.5pt;"> <p style="margin-left:0;text-align:justify;">Not null</p> </td><td style="vertical-align:top;width:88.45pt;"> <p style="margin-left:0;text-align:justify;"></p> </td></tr></tbody></table> 
<h2 id="%E5%9B%9B.%C2%A0%20%C2%A0%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1%C2%A0">四.   数据库设计 </h2> 
<h3 id="4.1%C2%A0%20%C2%A0%E6%A6%82%E5%BF%B5%E6%A8%A1%E5%9E%8B%E8%AE%BE%E8%AE%A1">4.1   概念模型设计</h3> 
<blockquote> 
 <p style="margin-left:0;text-align:justify;">E-R图<span style="color:#000000;">（实体-关系图）</span>提供了表示实体、属性和联系的方法。</p> 
 <p style="margin-left:0;text-align:justify;">(1)  实体型 ：用矩形表示，矩形框内写明实体名</p> 
 <p style="margin-left:0;text-align:justify;">(2)  属性：用椭圆型表示，并用无向边与其相应实体连接起来</p> 
 <p style="margin-left:0;text-align:justify;">(3)  联系：用菱形表示，菱形框内写明联系名，并用无向边与其有关实体连接。</p> 
</blockquote> 
<p style="margin-left:0;text-align:justify;"><a name="_Toc230492741"></a><a name="_Toc230494420"></a><a name="_Toc230583412"></a><a name="_Toc230584235"></a><a name="_Toc230584857"></a><a name="_Toc230585128"></a><a name="_Toc230598648"><span style="color:#0d0016;">本系统采用E-R图的方法进行数据库概念结构设计,系统E-R图如下所示：</span></a></p> 
<p style="margin-left:0;text-align:justify;"><strong>客户实体图</strong></p> 
<p> <img alt="" height="336" src="https://images2.imgbox.com/82/2f/HSLpke3u_o.png" width="616"></p> 
<p style="margin-left:0;text-align:justify;"><strong>客房实体图</strong></p> 
<p style="margin-left:0;text-align:justify;"><img alt="" height="256" src="https://images2.imgbox.com/7d/80/xP2phu8w_o.png" width="602"></p> 
<p style="margin-left:0;text-align:justify;"><strong>管理员实体图</strong></p> 
<p style="margin-left:0;text-align:justify;"><img alt="" height="308" src="https://images2.imgbox.com/fb/0b/sYrgBg3o_o.png" width="611"></p> 
<p style="margin-left:0;text-align:justify;"><strong>物品实体图</strong></p> 
<p style="margin-left:0;text-align:justify;"><img alt="" height="308" src="https://images2.imgbox.com/44/be/UfhZSoGo_o.png" width="599"></p> 
<p style="margin-left:0;text-align:justify;"><strong>全局E-R图</strong></p> 
<p style="margin-left:0;text-align:justify;"><img alt="" height="491" src="https://images2.imgbox.com/b0/32/pREZYLD6_o.png" width="733"></p> 
<h3 id="4.2%C2%A0%20%C2%A0%E9%80%BB%E8%BE%91%E6%A8%A1%E5%9E%8B%E8%AE%BE%E8%AE%A1" style="margin-left:0px;text-align:justify;"><strong>4.2   </strong><strong>逻辑模型设计</strong></h3> 
<p style="margin-left:0;text-align:justify;">将E-R图转换成关系模式：</p> 
<blockquote> 
 <p style="margin-left:0;text-align:justify;"><span style="color:#000000;">客房（<u>客房号</u>，客房类型，客房状态，客房单价）</span></p> 
 <p style="margin-left:0;text-align:justify;"><span style="color:#000000;">客户（<u>客户编号</u>，姓名，性别，手机号）</span></p> 
 <p style="margin-left:0;text-align:justify;"><span style="color:#000000;">管理员（<u>员工号</u>，姓名，性别，密码）</span></p> 
 <p style="margin-left:0;text-align:justify;"><span style="color:#000000;">物品（<u>客房号</u>，物品名称，物品状态）</span></p> 
 <p style="margin-left:0;text-align:justify;"><span style="color:#000000;">入住（<u>客房号</u>，入住时间，退房时间，住宿费用）</span></p> 
</blockquote> 
<h3 id="4.3%C2%A0%20%C2%A0%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%9E%E7%8E%B0" style="margin-left:0px;text-align:justify;"><strong>4.3   </strong><strong>数据库实现</strong></h3> 
<p style="margin-left:0;text-align:justify;">创建数据库各表</p> 
<p style="margin-left:0;text-align:justify;"><img alt="" height="207" src="https://images2.imgbox.com/bf/75/fb4MVMqr_o.png" width="691"></p> 
<p><img alt="" height="474" src="https://images2.imgbox.com/fb/34/7tOBmYtU_o.png" width="797"></p> 
<p><img alt="" height="472" src="https://images2.imgbox.com/04/1f/pkqzPfVI_o.png" width="708"></p> 
<p><img alt="" height="490" src="https://images2.imgbox.com/6b/a6/ixS6cUpP_o.png" width="900"></p> 
<p><img alt="" height="485" src="https://images2.imgbox.com/e2/78/qwC6i4ey_o.png" width="887"></p> 
<h3 id="4.4%C2%A0%20%C2%A0%E5%AF%BC%E5%85%A5%E6%95%B0%E6%8D%AE" style="margin-left:0px;text-align:justify;"><strong>4.4   </strong><strong>导入数据</strong></h3> 
<p style="margin-left:0;text-align:justify;">此处数据是自己创建execl填入的，数据项不是很多。</p> 
<p style="margin-left:0;text-align:justify;"><img alt="" height="1030" src="https://images2.imgbox.com/95/f5/vOu051w0_o.png" width="1200"><img alt="" height="1030" src="https://images2.imgbox.com/37/14/EpXnrPzV_o.png" width="1200"><img alt="" height="1030" src="https://images2.imgbox.com/cd/12/J82p72u6_o.png" width="1200"></p> 
<h3 id="4.5%C2%A0%20%C2%A0%E8%A7%86%E5%9B%BE%E5%88%9B%E5%BB%BA%E4%B8%8E%E5%B1%95%E7%A4%BA" style="margin-left:0px;text-align:justify;"><strong>4.5   视图创建与展示</strong></h3> 
<p style="margin-left:0;text-align:justify;">(1)查询客户（customers）信息的视图定义如下。</p> 
<pre><code class="language-sql">Create view view_ customers (客户编号,客户姓名,客户性别,客户手机号)

As  select  cno,cname,csex,cid

From   customers</code></pre> 
<p style="margin-left:0;text-align:justify;">(2)查询客房（rooms）信息的视图定义如下。</p> 
<pre><code class="language-sql">Create view view_rooms (客房号,客房类型,客房价格,客房状态)

As  select  rno, rstyle, rprice, rstate

From   rooms</code></pre> 
<p style="margin-left:0;text-align:justify;">(3)查询客户住宿（living）信息的视图如下。</p> 
<pre><code class="language-sql">Create view view_living (客户编号,客房号,入住日期,离开日期,入住时间,费用)

As  select  cno,rno,ccomedate,cleftdate,ctime,camount

From   living</code></pre> 
<p style="margin-left:0;text-align:justify;">(4)查询客房物品(roomitem)信息的视图定义如下。</p> 
<pre><code class="language-sql">Create  view  view_roomitem(客房号,客房物品编号,客房物品名称,物品状态)

As  select  rno,,ritemno,ritemname,ritemstate

From   roomitem</code></pre> 
<p><img alt="" height="504" src="https://images2.imgbox.com/d9/d7/XORtuagH_o.png" width="868"><img alt="" height="264" src="https://images2.imgbox.com/c3/46/MS7l3ykk_o.png" width="693"></p> 
<p style="margin-left:0;text-align:justify;">创建索引</p> 
<p style="margin-left:0;text-align:justify;"><img alt="" height="58" src="https://images2.imgbox.com/94/d6/y5wSo9WK_o.png" width="699"></p> 
<p style="margin-left:0;text-align:justify;">创建触发器</p> 
<p style="margin-left:0;text-align:justify;">当在客房表中加入一条信息后显示“已占”表示有客户入住，当在客房表中删除一条信息后显示“已退”表示客户离开。</p> 
<pre><code class="language-sql">USE [hotel]

GO

Trigger [dbo].[roomsstatus_update]  

SET ANSI_NULLS ON

GO

SET QUOTED_IDENTIFIER ON

GO

ALTER trigger [dbo].[roomsstatus_update]

on [dbo].[rooms]

for update

as

declare @rno varchar(20),

@istf varchar(20)

select @istf=istf from ccomedate

where rno=@rno;

if @istf&lt;&gt;'已退'

begin

update rooms

set rstate='已占'

where rno=@rno

end;

if @istf='已退'

begin

update rooms

set rstate='空闲'

where rno=@rno

end;</code></pre> 
<p style="margin-left:0;text-align:justify;">创建客户表的触发器，当增加或删除一条信息时显示所有此表中信息。</p> 
<p style="margin-left:0;text-align:justify;"><img alt="" height="200" src="https://images2.imgbox.com/6a/1d/TkphgtlW_o.png" width="778"></p> 
<p style="margin-left:0;text-align:justify;">存储过程</p> 
<pre><code class="language-sql">create procedure [dbo].[Query_totalruzhushijian_feiyong]

       @ccomedate datetime,

       @cleftdate datetime,

       @rstyle varchar(10)

       as

       select sum(datediff(S,addtime,cleftdate)) as ctime,sum(rprice) as 费用合计 from living

       where addtime&gt;= ltrim(@ccomedate) and cleftdate&lt;=ltrim(@ctime) and rstyle=@rstyle

       group by rstyle;

--drop procedure Query_totalruzhushijian_feiyong;

GO</code></pre> 
<h2 id="%E4%BA%94.%C2%A0%20%C2%A0%E5%88%A9%E7%94%A8VBNET%E8%AF%AD%E8%A8%80%E8%BF%9B%E8%A1%8C%E9%A1%B5%E9%9D%A2%E8%AE%BE%E8%AE%A1">五.   <strong>利用VBNET语言进行页面设计</strong></h2> 
<p>此处只是利用VBNET语言进行简单的模块搭建，并没有实现前端设计。</p> 
<p>页面展示：</p> 
<p><img alt="" height="321" src="https://images2.imgbox.com/34/1b/4S6aaHRF_o.png" width="601"><img alt="" height="540" src="https://images2.imgbox.com/e1/63/sgauosDb_o.png" width="765"></p> 
<p>可以看见能直接对住房人员的需求进行操作：</p> 
<p>（1）添加新住户</p> 
<p><img alt="" height="418" src="https://images2.imgbox.com/37/ae/k4Odea3N_o.png" width="593"></p> 
<p>（2）预定房间</p> 
<p><img alt="" height="418" src="https://images2.imgbox.com/e1/f4/ScffT8J1_o.png" width="606"></p> 
<p> 代码：（此处代码繁多，只截取主代码，剩下的都是粘贴这个管理系统的图片）</p> 
<p><img alt="" height="504" src="https://images2.imgbox.com/63/4b/rReHiSPw_o.png" width="931"><img alt="" height="512" src="https://images2.imgbox.com/47/5f/2Bmrvjds_o.png" width="934">（此处为链接数据库代码）<img alt="" height="507" src="https://images2.imgbox.com/78/dd/JNRJnuKK_o.png" width="928"></p> 
<hr> 
<p><span style="color:#9c8ec1;">好了今日分享到此结束，大家需要源码的话可以后台call我哟！也请各位佬指出不足！</span> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/727ebe16a4b4133933e2606bed2f05e7/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">java算法day8</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/378c7921bdf66fbbdf7495cc14eda7f1/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【人工智能】-- 智能家居</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>