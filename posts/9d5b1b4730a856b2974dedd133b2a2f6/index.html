<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Android Studio 生成 keystore 签名文件及打包验证流程 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/9d5b1b4730a856b2974dedd133b2a2f6/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="Android Studio 生成 keystore 签名文件及打包验证流程">
  <meta property="og:description" content="一、创建keystore签名文件 1、在菜单栏中，依次点击 Build - Generate Signed Bundle/Apk...(生成签名)
2、选择 APK 选项，点击按钮 Next 到下一步
3、新建key store秘钥文件，点击按钮 Next 到下一步
4、按如下提示填写信息，点击按钮 Next 到下一步
5、签名生成完成，勾选记住密码，方便下次打包
6、勾选签名效验方式，选择要打包的环境，点击按钮 Next 开始打包
7、见到如下提示，说明打包成功
二、获取签名文件的配置信息 终端执行如下命令：
keytool -list -v -keystore 你的keystore文件的绝对路径
输入 keystore 的密码后，就可以在终端上看到 keystore 签名文件的配置信息了，如下图所示
三、项目中配置签名信息 1、在菜单栏中，依次点击 File - Project Structure
2、依次点击 Module - app - Signing Configs - &#43;，然后添加刚才生成的正式签名
3、点击Apply ,再点击ok，完成添加配置
4、点击按钮 ok 后，Android Studio 会自动在app模块的build.gradle中添加签名信息，如下图所示
5、签名配置成功后，把签名文件和环境关联，参照1流程，在Build Types里面进行设置
四、验证签名是否成功 方法一(keytool,只支持V1签名校验) 进入JDK/bin, 输入命令 keytool -printcert -jarfile xxx.apk (显示签名证书信息) 参数: -printcert 打印证书内容 -jarfile &lt;filename&gt; 已签名的jar文件 或apk文件 方法二(apksigner,支持V1和V2签名校验) 进入Android SDK/build-tools/SDK版本, 输入命令 apksigner verify -v --print-certs xxx.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-04-08T10:56:50+08:00">
    <meta property="article:modified_time" content="2024-04-08T10:56:50+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Android Studio 生成 keystore 签名文件及打包验证流程</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h4>一、创建keystore签名文件</h4> 
<p>1、在菜单栏中，依次点击 <code>Build - Generate Signed Bundle/Apk...(生成签名)</code></p> 
<p><img alt="" height="770" src="https://images2.imgbox.com/ee/9d/76r9boib_o.png" width="1200"></p> 
<p> </p> 
<p>2、选择 APK 选项，点击按钮 Next 到下一步</p> 
<p><img alt="" height="500" src="https://images2.imgbox.com/22/de/MyaqBC3j_o.png" width="670"></p> 
<p></p> 
<p>3、新建key store秘钥文件，点击按钮 Next 到下一步</p> 
<p><img alt="" height="500" src="https://images2.imgbox.com/4d/17/F7GG29a4_o.png" width="670"></p> 
<p> </p> 
<p>4、按如下提示填写信息，点击按钮 Next 到下一步</p> 
<p><img alt="" height="664" src="https://images2.imgbox.com/d5/cd/GYLKKtsY_o.png" width="641"></p> 
<p></p> 
<p>5、签名生成完成，勾选记住密码，方便下次打包</p> 
<p> <img alt="" height="499" src="https://images2.imgbox.com/63/bb/8W9kFadJ_o.png" width="671"></p> 
<p></p> 
<p>6、勾选签名效验方式，选择要打包的环境，点击按钮 Next 开始打包</p> 
<p> <img alt="" height="498" src="https://images2.imgbox.com/a5/7c/I9cxWdyQ_o.png" width="672"></p> 
<p> </p> 
<p>7、见到如下提示，说明打包成功</p> 
<p><img alt="" height="635" src="https://images2.imgbox.com/d5/5e/XOghTd28_o.png" width="1200"></p> 
<h4>二、获取签名文件的配置信息</h4> 
<p>终端执行如下命令：<br><span style="color:#fe2c24;"><strong><code>keytool -list -v -keystore 你的keystore文件的绝对路径</code></strong></span><br> 输入 keystore 的密码后，就可以在终端上看到 keystore 签名文件的配置信息了，如下图所示</p> 
<p><img alt="" height="770" src="https://images2.imgbox.com/f2/ba/SUxI0yFv_o.png" width="1160"></p> 
<h4>三、项目中配置签名信息</h4> 
<p>1、在菜单栏中，依次点击 <code>File - Project Structure</code></p> 
<p> <img alt="" height="779" src="https://images2.imgbox.com/08/12/cn5taSIj_o.png" width="612"></p> 
<p></p> 
<p>2、依次点击 <code>Module - app - Signing Configs - +</code>，然后添加刚才生成的正式签名</p> 
<p><img alt="" height="661" src="https://images2.imgbox.com/a9/17/m7B0heOJ_o.png" width="1191"></p> 
<p> </p> 
<p>3、点击Apply ,再点击ok，完成添加配置</p> 
<p><img alt="" height="662" src="https://images2.imgbox.com/45/0f/ZXp2v6eN_o.png" width="1188"></p> 
<p></p> 
<p>4、点击按钮 ok 后，Android Studio 会自动在app模块的build.gradle中添加签名信息，如下图所示</p> 
<p><img alt="" height="859" src="https://images2.imgbox.com/4c/75/mAuIHtrN_o.png" width="1200"></p> 
<p></p> 
<p>5、签名配置成功后，把签名文件和环境关联，参照1流程，在Build Types里面进行设置</p> 
<p><img alt="" height="665" src="https://images2.imgbox.com/c7/e0/oN7vz7Nu_o.png" width="1189"></p> 
<p> </p> 
<h4>四、验证签名是否成功</h4> 
<pre><code class="language-java">方法一(keytool,只支持V1签名校验)
    进入JDK/bin, 输入命令
    keytool -printcert -jarfile xxx.apk (显示签名证书信息)

    参数:
        -printcert           打印证书内容
        -jarfile &lt;filename&gt;  已签名的jar文件 或apk文件   
    
方法二(apksigner,支持V1和V2签名校验)
    进入Android SDK/build-tools/SDK版本, 输入命令
    apksigner verify -v --print-certs xxx.apk
    
    参数:
        -v, --verbose 显示详情(显示是否使用V1和V2签名)
        --print-certs 显示签名证书信息
</code></pre> 
<p>第一步我们在生成签名后，在指定文件夹下生成了一个 release 版的 apk 包，现在我们用方法二验证APK的证书链，在终端输入如下命令：<br><span style="color:#fe2c24;">apksigner verify -v --print-certs 安装包路径.apk</span><br> 输入 以上命令后，就可以在终端上看到 keystore 签名文件的配置信息了，如下图所示</p> 
<p><img alt="" height="831" src="https://images2.imgbox.com/fd/75/TXSK5M8C_o.png" width="1200"></p> 
<p></p> 
<p></p> 
<p><br> 原文链接：https://blog.csdn.net/c8296038795/article/details/128172449</p> 
<p></p> 
<p> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/8024ec389f4f345b11c55847d8d9d81d/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【C&#43;&#43;】详解vector二维数组的全部操作（超细图例解析！！！）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/32c2e3caea42ffe07bb1b946c0df7ca7/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【Python】RocketMQ 基础使用</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>