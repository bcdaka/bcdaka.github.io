<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Python酷库之旅-第三方库Pandas(021) - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/7ce8f2dab68b4763bc7e5ceee9f83ba2/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="Python酷库之旅-第三方库Pandas(021)">
  <meta property="og:description" content="目录
一、用法精讲
52、pandas.from_dummies函数
52-1、语法
52-2、参数
52-3、功能
52-4、返回值
52-5、说明
52-6、用法
52-6-1、数据准备
52-6-2、代码示例
52-6-3、结果输出
53、pandas.factorize函数
53-1、语法
53-2、参数
53-3、功能
53-4、返回值
53-5、说明
53-6、用法
53-6-1、数据准备
53-6-2、代码示例
53-6-3、结果输出 54、pandas.unique函数
54-1、语法
54-2、参数
54-3、功能
54-4、返回值
54-5、说明
54-6、用法
54-6-1、数据准备
54-6-2、代码示例
54-6-3、结果输出
二、推荐阅读
1、Python筑基之旅
2、Python函数之旅
3、Python算法之旅
4、Python魔法之旅
5、博客个人主页
一、用法精讲 52、pandas.from_dummies函数 52-1、语法 # 52、pandas.from_dummies函数 pandas.from_dummies(data, sep=None, default_category=None) Create a categorical DataFrame from a DataFrame of dummy variables. Inverts the operation performed by get_dummies(). New in version 1.5.0. Parameters: data DataFrame Data which contains dummy-coded variables in form of integer columns of 1’s and 0’s.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-07-14T07:45:00+08:00">
    <meta property="article:modified_time" content="2024-07-14T07:45:00+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Python酷库之旅-第三方库Pandas(021)</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong><span style="color:#1a439c;">目录</span></strong></p> 
<p id="%E4%B8%80%E3%80%81%E7%94%A8%E6%B3%95%E7%B2%BE%E8%AE%B2-toc" style="margin-left:80px;"><strong><a href="#%E4%B8%80%E3%80%81%E7%94%A8%E6%B3%95%E7%B2%BE%E8%AE%B2" rel="nofollow"><span style="color:#1a439c;">一、用法精讲</span></a></strong></p> 
<p id="5%E3%80%81pandas.DataFrame.to_csv%E5%87%BD%E6%95%B0-toc" style="margin-left:120px;"><strong><a href="#5%E3%80%81pandas.DataFrame.to_csv%E5%87%BD%E6%95%B0" rel="nofollow"><span style="color:#1a439c;">52、pandas.from_dummies函数</span></a></strong></p> 
<p id="5-1%E3%80%81%E8%AF%AD%E6%B3%95-toc" style="margin-left:160px;"><strong><a href="#5-1%E3%80%81%E8%AF%AD%E6%B3%95" rel="nofollow"><span style="color:#1a439c;">52-1、语法</span></a></strong></p> 
<p id="5-2%E3%80%81%E5%8F%82%E6%95%B0-toc" style="margin-left:160px;"><strong><a href="#5-2%E3%80%81%E5%8F%82%E6%95%B0" rel="nofollow"><span style="color:#1a439c;">52-2、参数</span></a></strong></p> 
<p id="5-3%E3%80%81%E5%8A%9F%E8%83%BD-toc" style="margin-left:160px;"><strong><a href="#5-3%E3%80%81%E5%8A%9F%E8%83%BD" rel="nofollow"><span style="color:#1a439c;">52-3、功能</span></a></strong></p> 
<p id="5-4%E3%80%81%E8%BF%94%E5%9B%9E%E5%80%BC-toc" style="margin-left:160px;"><strong><a href="#5-4%E3%80%81%E8%BF%94%E5%9B%9E%E5%80%BC" rel="nofollow"><span style="color:#1a439c;">52-4、返回值</span></a></strong></p> 
<p id="5-5%E3%80%81%E8%AF%B4%E6%98%8E-toc" style="margin-left:160px;"><strong><a href="#5-5%E3%80%81%E8%AF%B4%E6%98%8E" rel="nofollow"><span style="color:#1a439c;">52-5、说明</span></a></strong></p> 
<p id="5-6%E3%80%81%E7%94%A8%E6%B3%95-toc" style="margin-left:160px;"><strong><a href="#5-6%E3%80%81%E7%94%A8%E6%B3%95" rel="nofollow"><span style="color:#1a439c;">52-6、用法</span></a></strong></p> 
<p id="10-6-1%E3%80%81%E6%95%B0%E6%8D%AE%E5%87%86%E5%A4%87-toc" style="margin-left:200px;"><strong><a href="#10-6-1%E3%80%81%E6%95%B0%E6%8D%AE%E5%87%86%E5%A4%87" rel="nofollow"><span style="color:#1a439c;">52-6-1、数据准备</span></a></strong></p> 
<p id="5-6-1%E3%80%81%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B-toc" style="margin-left:200px;"><strong><a href="#5-6-1%E3%80%81%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B" rel="nofollow"><span style="color:#1a439c;">52-6-2、代码示例</span></a></strong></p> 
<p id="5-6-2%E3%80%81%E7%BB%93%E6%9E%9C%E8%BE%93%E5%87%BA-toc" style="margin-left:200px;"><strong><a href="#5-6-2%E3%80%81%E7%BB%93%E6%9E%9C%E8%BE%93%E5%87%BA" rel="nofollow"><span style="color:#1a439c;">52-6-3、结果输出</span></a></strong></p> 
<p id="11%E3%80%81pandas.ExcelFile%E7%B1%BB-toc" style="margin-left:120px;"><strong><a href="#11%E3%80%81pandas.ExcelFile%E7%B1%BB" rel="nofollow"><span style="color:#1a439c;">53、pandas.factorize函数</span></a></strong></p> 
<p id="11-1%E3%80%81%E8%AF%AD%E6%B3%95-toc" style="margin-left:160px;"><strong><a href="#11-1%E3%80%81%E8%AF%AD%E6%B3%95" rel="nofollow"><span style="color:#1a439c;">53-1、语法</span></a></strong></p> 
<p id="11-2%E3%80%81%E5%8F%82%E6%95%B0-toc" style="margin-left:160px;"><strong><a href="#11-2%E3%80%81%E5%8F%82%E6%95%B0" rel="nofollow"><span style="color:#1a439c;">53-2、参数</span></a></strong></p> 
<p id="11-3%E3%80%81%E5%8A%9F%E8%83%BD-toc" style="margin-left:160px;"><strong><a href="#11-3%E3%80%81%E5%8A%9F%E8%83%BD" rel="nofollow"><span style="color:#1a439c;">53-3、功能</span></a></strong></p> 
<p id="11-4%E3%80%81%E8%BF%94%E5%9B%9E%E5%80%BC-toc" style="margin-left:160px;"><strong><a href="#11-4%E3%80%81%E8%BF%94%E5%9B%9E%E5%80%BC" rel="nofollow"><span style="color:#1a439c;">53-4、返回值</span></a></strong></p> 
<p id="11-5%E3%80%81%E8%AF%B4%E6%98%8E-toc" style="margin-left:160px;"><strong><a href="#11-5%E3%80%81%E8%AF%B4%E6%98%8E" rel="nofollow"><span style="color:#1a439c;">53-5、说明</span></a></strong></p> 
<p id="11-6%E3%80%81%E7%94%A8%E6%B3%95-toc" style="margin-left:160px;"><strong><a href="#11-6%E3%80%81%E7%94%A8%E6%B3%95" rel="nofollow"><span style="color:#1a439c;">53-6、用法</span></a></strong></p> 
<p id="11-6-1%E3%80%81%E6%95%B0%E6%8D%AE%E5%87%86%E5%A4%87-toc" style="margin-left:200px;"><strong><a href="#11-6-1%E3%80%81%E6%95%B0%E6%8D%AE%E5%87%86%E5%A4%87" rel="nofollow"><span style="color:#1a439c;">53-6-1、数据准备</span></a></strong></p> 
<p id="11-6-2%E3%80%81%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B-toc" style="margin-left:200px;"><strong><a href="#11-6-2%E3%80%81%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B" rel="nofollow"><span style="color:#1a439c;">53-6-2、代码示例</span></a></strong></p> 
<p id="11-6-3%E3%80%81%E7%BB%93%E6%9E%9C%E8%BE%93%E5%87%BA%C2%A0-toc" style="margin-left:200px;"><strong><a href="#11-6-3%E3%80%81%E7%BB%93%E6%9E%9C%E8%BE%93%E5%87%BA%C2%A0" rel="nofollow"><span style="color:#1a439c;">53-6-3、结果输出 </span></a></strong></p> 
<p id="46%E3%80%81pandas.qcut%E5%87%BD%E6%95%B0-toc" style="margin-left:120px;"><strong><a href="#46%E3%80%81pandas.qcut%E5%87%BD%E6%95%B0" rel="nofollow"><span style="color:#1a439c;">54、pandas.unique函数</span></a></strong></p> 
<p id="46-1%E3%80%81%E8%AF%AD%E6%B3%95-toc" style="margin-left:160px;"><strong><a href="#46-1%E3%80%81%E8%AF%AD%E6%B3%95" rel="nofollow"><span style="color:#1a439c;">54-1、语法</span></a></strong></p> 
<p id="46-2%E3%80%81%E5%8F%82%E6%95%B0-toc" style="margin-left:160px;"><strong><a href="#46-2%E3%80%81%E5%8F%82%E6%95%B0" rel="nofollow"><span style="color:#1a439c;">54-2、参数</span></a></strong></p> 
<p id="46-3%E3%80%81%E5%8A%9F%E8%83%BD-toc" style="margin-left:160px;"><strong><a href="#46-3%E3%80%81%E5%8A%9F%E8%83%BD" rel="nofollow"><span style="color:#1a439c;">54-3、功能</span></a></strong></p> 
<p id="46-4%E3%80%81%E8%BF%94%E5%9B%9E%E5%80%BC-toc" style="margin-left:160px;"><strong><a href="#46-4%E3%80%81%E8%BF%94%E5%9B%9E%E5%80%BC" rel="nofollow"><span style="color:#1a439c;">54-4、返回值</span></a></strong></p> 
<p id="46-5%E3%80%81%E8%AF%B4%E6%98%8E-toc" style="margin-left:160px;"><strong><a href="#46-5%E3%80%81%E8%AF%B4%E6%98%8E" rel="nofollow"><span style="color:#1a439c;">54-5、说明</span></a></strong></p> 
<p id="46-6%E3%80%81%E7%94%A8%E6%B3%95-toc" style="margin-left:160px;"><strong><a href="#46-6%E3%80%81%E7%94%A8%E6%B3%95" rel="nofollow"><span style="color:#1a439c;">54-6、用法</span></a></strong></p> 
<p id="46-6-1%E3%80%81%E6%95%B0%E6%8D%AE%E5%87%86%E5%A4%87-toc" style="margin-left:200px;"><strong><a href="#46-6-1%E3%80%81%E6%95%B0%E6%8D%AE%E5%87%86%E5%A4%87" rel="nofollow"><span style="color:#1a439c;">54-6-1、数据准备</span></a></strong></p> 
<p id="46-6-2%E3%80%81%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B-toc" style="margin-left:200px;"><strong><a href="#46-6-2%E3%80%81%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B" rel="nofollow"><span style="color:#1a439c;">54-6-2、代码示例</span></a></strong></p> 
<p id="46-6-3%E3%80%81%E7%BB%93%E6%9E%9C%E8%BE%93%E5%87%BA-toc" style="margin-left:200px;"><strong><a href="#46-6-3%E3%80%81%E7%BB%93%E6%9E%9C%E8%BE%93%E5%87%BA" rel="nofollow"><span style="color:#1a439c;">54-6-3、结果输出</span></a></strong></p> 
<p id="%E4%BA%94%E3%80%81%E6%8E%A8%E8%8D%90%E9%98%85%E8%AF%BB-toc" style="margin-left:80px;"><strong><a href="#%E4%BA%94%E3%80%81%E6%8E%A8%E8%8D%90%E9%98%85%E8%AF%BB" rel="nofollow"><span style="color:#1a439c;">二、推荐阅读</span></a></strong></p> 
<p id="1%E3%80%81-toc" style="margin-left:120px;"><strong><a href="#1%E3%80%81" rel="nofollow"><span style="color:#1a439c;">1、Python筑基之旅</span></a></strong></p> 
<p id="2%E3%80%81-toc" style="margin-left:120px;"><strong><a href="#2%E3%80%81" rel="nofollow"><span style="color:#1a439c;">2、Python函数之旅</span></a></strong></p> 
<p id="3%E3%80%81-toc" style="margin-left:120px;"><strong><a href="#3%E3%80%81" rel="nofollow"><span style="color:#1a439c;">3、Python算法之旅</span></a></strong></p> 
<p id="4%E3%80%81-toc" style="margin-left:120px;"><strong><a href="#4%E3%80%81" rel="nofollow"><span style="color:#1a439c;">4、Python魔法之旅</span></a></strong></p> 
<p id="5%E3%80%81%C2%A0-toc" style="margin-left:120px;"><strong><a href="#5%E3%80%81%C2%A0" rel="nofollow"><span style="color:#1a439c;">5、博客个人主页</span></a></strong></p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/00/20/J5s3OvJ6_o.gif"></p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/87/03/75AsdaZ3_o.png"></p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/0d/08/3otSxO7p_o.gif"></p> 
<h4 id="%E4%B8%80%E3%80%81%E7%94%A8%E6%B3%95%E7%B2%BE%E8%AE%B2">一、用法精讲</h4> 
<h5 id="5%E3%80%81pandas.DataFrame.to_csv%E5%87%BD%E6%95%B0">52、<span style="color:#fe2c24;">pandas.from_dummies</span>函数</h5> 
<h6 id="5-1%E3%80%81%E8%AF%AD%E6%B3%95">52-1、语法</h6> 
<pre><code class="language-python"># 52、pandas.from_dummies函数
pandas.from_dummies(data, sep=None, default_category=None)
Create a categorical DataFrame from a DataFrame of dummy variables.

Inverts the operation performed by get_dummies().

New in version 1.5.0.

Parameters:
data
DataFrame
Data which contains dummy-coded variables in form of integer columns of 1’s and 0’s.

sep
str, default None
Separator used in the column names of the dummy categories they are character indicating the separation of the categorical names from the prefixes. For example, if your column names are ‘prefix_A’ and ‘prefix_B’, you can strip the underscore by specifying sep=’_’.

default_category
None, Hashable or dict of Hashables, default None
The default category is the implied category when a value has none of the listed categories specified with a one, i.e. if all dummies in a row are zero. Can be a single value for all variables or a dict directly mapping the default categories to a prefix of a variable.

Returns:
DataFrame
Categorical data decoded from the dummy input-data.

Raises:
ValueError
When the input DataFrame data contains NA values.

When the input DataFrame data contains column names with separators that do not match the separator specified with sep.

When a dict passed to default_category does not include an implied category for each prefix.

When a value in data has more than one category assigned to it.

When default_category=None and a value in data has no category assigned to it.

TypeError
When the input data is not of type DataFrame.

When the input DataFrame data contains non-dummy data.

When the passed sep is of a wrong data type.

When the passed default_category is of a wrong data type.</code></pre> 
<h6 id="5-2%E3%80%81%E5%8F%82%E6%95%B0">52-2、参数</h6> 
<p><span style="color:#fe2c24;"><strong>52-2-1、data</strong></span><span style="color:#956fe7;"><strong>(必须)</strong></span><span style="color:#fe2c24;"><strong>：</strong></span>一个DataFrame对象，包含了哑变量(0和1)的列，每列通常表示一个类别的存在或缺失。</p> 
<p><span style="color:#fe2c24;"><strong>52-2-2、sep</strong></span><span style="color:#956fe7;"><strong>(可选，默认值为None)</strong></span><span style="color:#fe2c24;"><strong>：</strong></span>用于分隔哑变量列名中类别信息的分隔符。例如，如果列名是A_cat和A_dog，并且用下划线分隔，那么sep应该设置为 <code>_</code>。</p> 
<p><span style="color:#fe2c24;"><strong>52-2-3、default_category</strong></span><span style="color:#956fe7;"><strong>(可选，默认值为None)</strong></span><span style="color:#fe2c24;"><strong>：</strong></span>在原始数据中，可能有一些类别在哑变量中缺失，这个参数允许指定一个默认类别，以便在缺失的情况下使用。</p> 
<h6 id="5-3%E3%80%81%E5%8A%9F%E8%83%BD">52-3、功能</h6> 
<p>        接受一个包含哑变量的DataFrame，并将其转换回表示原始类别的DataFrame，哑变量通常是通过对分类变量进行独热编码(one-hot encoding)生成的。</p> 
<h6 id="5-4%E3%80%81%E8%BF%94%E5%9B%9E%E5%80%BC">52-4、返回值</h6> 
<p>        返回值是一个DataFrame，其中包含了原始的分类数据，这些数据是根据哑变量的值重构的，即每行数据中值为1的哑变量列对应的列名(去掉分隔符和前缀)即为原始分类变量的值。</p> 
<h6 id="5-5%E3%80%81%E8%AF%B4%E6%98%8E">52-5、说明</h6> 
<p id="49-5-1%E3%80%81%E5%8A%9F%E8%83%BD">        该函数非常有用，特别是在对数据进行独热编码之后希望恢复原始分类变量的情况下，它简化了<strong><span style="color:#fe2c24;">数据预处理</span></strong>和<strong><span style="color:#fe2c24;">模型结果解释</span></strong>的过程。</p> 
<h6 id="5-6%E3%80%81%E7%94%A8%E6%B3%95">52-6、用法</h6> 
<h6 id="10-6-1%E3%80%81%E6%95%B0%E6%8D%AE%E5%87%86%E5%A4%87">52-6-1、数据准备</h6> 
<pre><code class="language-python">无</code></pre> 
<h6 id="5-6-1%E3%80%81%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B">52-6-2、代码示例</h6> 
<pre><code class="language-python"># 52、pandas.from_dummies函数
import pandas as pd
# 示例哑变量DataFrame
data = pd.DataFrame({
    'color_red': [1, 0, 0],
    'color_blue': [0, 1, 0],
    'color_green': [0, 0, 1]
})
# 使用pandas.from_dummies将哑变量转换回原始分类数据
original_data = pd.from_dummies(data, sep='_')
print(original_data)</code></pre> 
<h6 id="5-6-2%E3%80%81%E7%BB%93%E6%9E%9C%E8%BE%93%E5%87%BA">52-6-3、结果输出</h6> 
<pre><code class="language-python"># 52、pandas.from_dummies函数
#    color
# 0    red
# 1   blue
# 2  green</code></pre> 
<h5 id="11%E3%80%81pandas.ExcelFile%E7%B1%BB">53、<span style="color:#fe2c24;">pandas.factorize</span>函数</h5> 
<h6 id="11-1%E3%80%81%E8%AF%AD%E6%B3%95">53-1、语法</h6> 
<pre><code class="language-python"># 53、pandas.factorize函数
pandas.factorize(values, sort=False, use_na_sentinel=True, size_hint=None)
Encode the object as an enumerated type or categorical variable.

This method is useful for obtaining a numeric representation of an array when all that matters is identifying distinct values. factorize is available as both a top-level function pandas.factorize(), and as a method Series.factorize() and Index.factorize().

Parameters:
valuessequence
A 1-D sequence. Sequences that aren’t pandas objects are coerced to ndarrays before factorization.

sortbool, default False
Sort uniques and shuffle codes to maintain the relationship.

use_na_sentinelbool, default True
If True, the sentinel -1 will be used for NaN values. If False, NaN values will be encoded as non-negative integers and will not drop the NaN from the uniques of the values.

New in version 1.5.0.

size_hintint, optional
Hint to the hashtable sizer.

Returns:
codesndarray
An integer ndarray that’s an indexer into uniques. uniques.take(codes) will have the same values as values.

uniquesndarray, Index, or Categorical
The unique valid values. When values is Categorical, uniques is a Categorical. When values is some other pandas object, an Index is returned. Otherwise, a 1-D ndarray is returned.

Note

Even if there’s a missing value in values, uniques will not contain an entry for it.</code></pre> 
<h6 id="11-2%E3%80%81%E5%8F%82%E6%95%B0">53-2、参数</h6> 
<p><span style="color:#fe2c24;"><strong>53-2-1、values</strong></span><span style="color:#956fe7;"><strong>(必须)</strong></span><span style="color:#fe2c24;"><strong>：</strong></span>需要编码的数组或序列，可以是列表、NumPy数组、Pandas系列等。</p> 
<p><span style="color:#fe2c24;"><strong>53-2-2、sort</strong></span><span style="color:#956fe7;"><strong>(可选，默认值为False)</strong></span><span style="color:#fe2c24;"><strong>：</strong></span>是否对唯一值数组进行排序，如果为True，返回的唯一值数组将按字典顺序排序。</p> 
<p><span style="color:#fe2c24;"><strong>53-2-3、use_na_sentinel</strong></span><span style="color:#956fe7;"><strong>(可选，默认值为True)</strong></span><span style="color:#fe2c24;"><strong>：</strong></span>是否在输出整数数组中使用-1作为NaN的标记，如果为False，则将NaN也编码为一个唯一的整数。</p> 
<p><span style="color:#fe2c24;"><strong>53-2-4、size_hint</strong></span><span style="color:#956fe7;"><strong>(可选，默认值为None)</strong></span><span style="color:#fe2c24;"><strong>：</strong></span>一个整数提示，用于内部优化，指示预期的唯一值的数量，这可以提高大规模数据的处理性能。</p> 
<h6 id="11-3%E3%80%81%E5%8A%9F%E8%83%BD">53-3、功能</h6> 
<p>        将一组值(如列表、数组或序列)编码为整数索引。具体来说，它会为每个唯一值分配一个唯一的整数，并返回这些整数索引以及唯一值的数组。</p> 
<h6 id="11-4%E3%80%81%E8%BF%94%E5%9B%9E%E5%80%BC">53-4、返回值</h6> 
<p>        返回两个对象：</p> 
<p><strong>53-4-1、整数索引数组</strong>：一个与输入数组大小相同的整数数组，其中每个整数对应于输入数组中的一个值。</p> 
<p><strong>53-4-2、唯一值数组</strong>：一个包含输入数组中所有唯一值的数组，按它们首次出现的顺序排列，除非使用sort=True参数。</p> 
<h6 id="11-5%E3%80%81%E8%AF%B4%E6%98%8E">53-5、说明</h6> 
<p>        pandas.factorize的主要功能是：</p> 
<p><strong>53-5-1、将类别数据转换为整数索引</strong>：通过为每个唯一值分配一个整数，使得类别数据可以用于数值计算或进一步分析。</p> 
<p><strong>53-5-2、处理缺失值</strong>：可以选择是否将缺失值(NaN)编码为一个特定的整数(默认为-1)。</p> 
<h6 id="11-6%E3%80%81%E7%94%A8%E6%B3%95">53-6、用法</h6> 
<h6 id="11-6-1%E3%80%81%E6%95%B0%E6%8D%AE%E5%87%86%E5%A4%87">53-6-1、数据准备</h6> 
<pre><code class="language-python">无</code></pre> 
<h6 id="11-6-2%E3%80%81%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B">53-6-2、代码示例</h6> 
<pre><code class="language-python"># 53、pandas.factorize函数
# 53-1、基本用法
import pandas as pd
values = ['a', 'b', 'a', 'c', 'b']
factorized_values, unique_values = pd.factorize(values)
print(factorized_values)
print(unique_values)

# 53-2、使用sort参数
import pandas as pd
values = ['a', 'b', 'a', 'c', 'b']
factorized_values, unique_values = pd.factorize(values, sort=True)
print(factorized_values)
print(unique_values)

# 53-3、处理NaN
import pandas as pd
values_with_nan = ['a', 'b', None, 'a', 'c']
factorized_values, unique_values = pd.factorize(values_with_nan, use_na_sentinel=True)
print(factorized_values)
print(unique_values)

# 53-4、使用size_hint参数
import pandas as pd
large_values = ['a'] * 100000 + ['b'] * 100000
factorized_values, unique_values = pd.factorize(large_values, size_hint=2)
print(factorized_values[:10])
print(unique_values)</code></pre> 
<h6 id="11-6-3%E3%80%81%E7%BB%93%E6%9E%9C%E8%BE%93%E5%87%BA%C2%A0">53-6-3、结果输出 </h6> 
<pre><code class="language-python"># 53、pandas.factorize函数
# 53-1、基本用法
# [0 1 0 2 1]
# ['a' 'b' 'c']

# 53-2、使用sort参数
# [0 1 0 2 1]
# ['a' 'b' 'c']

# 53-3、处理NaN
# [ 0  1 -1  0  2]
# ['a' 'b' 'c']

# 53-4、使用size_hint参数
# [0 0 0 0 0 0 0 0 0 0]
# ['a' 'b']</code></pre> 
<h5 id="46%E3%80%81pandas.qcut%E5%87%BD%E6%95%B0">54、<span style="color:#fe2c24;">pandas.unique</span>函数</h5> 
<h6 id="46-1%E3%80%81%E8%AF%AD%E6%B3%95">54-1、语法</h6> 
<pre><code class="language-python"># 54、pandas.unique函数
pandas.unique(values)
Return unique values based on a hash table.

Uniques are returned in order of appearance. This does NOT sort.

Significantly faster than numpy.unique for long enough sequences. Includes NA values.

Parameters:
values
1d array-like
Returns:
numpy.ndarray or ExtensionArray
The return can be:

Index : when the input is an Index

Categorical : when the input is a Categorical dtype

ndarray : when the input is a Series/ndarray

Return numpy.ndarray or ExtensionArray.</code></pre> 
<h6 id="46-2%E3%80%81%E5%8F%82%E6%95%B0">54-2、参数</h6> 
<p><strong>54-2-1、values</strong><strong>(必须)：</strong>可以是以下几种类型的对象：</p> 
<ul><li>一维的pandas.Series</li><li>一维的pandas.Index</li><li>一维的numpy.ndarray</li><li>一维的列表或序列</li></ul> 
<h6 id="46-3%E3%80%81%E5%8A%9F%E8%83%BD">54-3、功能</h6> 
<p>        返回输入数组中的唯一值，按它们在数组中首次出现的顺序排列。</p> 
<h6 id="46-4%E3%80%81%E8%BF%94%E5%9B%9E%E5%80%BC">54-4、返回值</h6> 
<p>        返回一个numpy.ndarray，其中包含输入数组中的唯一值。</p> 
<h6 id="46-5%E3%80%81%E8%AF%B4%E6%98%8E">54-5、说明</h6> 
<p>        pandas.unique是一个简单且高效的函数，用于从一维数组、Series或Index中提取唯一值，它只需要一个参数，即要处理的数组，并返回一个包含唯一值的numpy.ndarray，这种功能在<strong><span style="color:#fe2c24;">数据预处理</span></strong>和<strong><span style="color:#fe2c24;">清理阶段</span></strong>非常有用，可以帮助识别数据集中的独特元素。</p> 
<h6 id="46-6%E3%80%81%E7%94%A8%E6%B3%95">54-6、用法</h6> 
<h6 id="46-6-1%E3%80%81%E6%95%B0%E6%8D%AE%E5%87%86%E5%A4%87">54-6-1、数据准备</h6> 
<pre><code class="language-python">无</code></pre> 
<h6 id="46-6-2%E3%80%81%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B">54-6-2、代码示例</h6> 
<pre><code class="language-python"># 54、pandas.unique函数
# 54-1、处理列表
import pandas as pd
values = [1, 2, 2, 3, 4, 4, 4, 5]
unique_values = pd.unique(values)
print(unique_values)

# 54-2、处理pandas Series
import pandas as pd
series = pd.Series(['a', 'b', 'a', 'c', 'b', 'd'])
unique_values = pd.unique(series)
print(unique_values)

# 54-3、处理numpy数组
import pandas as pd
import numpy as np
array = np.array([1, 2, 3, 1, 2, 3, 4])
unique_values = pd.unique(array)
print(unique_values)

# 54-4、处理含有NaN的数据
import pandas as pd
values_with_nan = [1, 2, np.nan, 2, np.nan, 3]
unique_values = pd.unique(values_with_nan)
print(unique_values)</code></pre> 
<h6 id="46-6-3%E3%80%81%E7%BB%93%E6%9E%9C%E8%BE%93%E5%87%BA">54-6-3、结果输出</h6> 
<pre><code class="language-python"># 54、pandas.unique函数
# 54-1、处理列表
# [1 2 3 4 5]

# 54-2、处理pandas Series
# ['a' 'b' 'c' 'd']

# 54-3、处理numpy数组
# [1 2 3 4]

# 54-4、处理含有NaN的数据
# [ 1.  2. nan  3.]</code></pre> 
<h4 id="%E4%BA%94%E3%80%81%E6%8E%A8%E8%8D%90%E9%98%85%E8%AF%BB">二、推荐阅读</h4> 
<h5 id="1%E3%80%81">1、<a href="https://myelsa1024.blog.csdn.net/article/details/139241094?spm=1001.2014.3001.5502" rel="nofollow" title="Python筑基之旅">Python筑基之旅</a></h5> 
<h5 id="2%E3%80%81">2、<a href="https://myelsa1024.blog.csdn.net/article/details/138916144?spm=1001.2014.3001.5502" rel="nofollow" title="Python函数之旅">Python函数之旅</a></h5> 
<h5 id="3%E3%80%81">3、<a href="https://blog.csdn.net/ygb_1024/article/details/136889623?spm=1001.2014.3001.5501" title="Python算法之旅">Python算法之旅</a></h5> 
<h5 id="4%E3%80%81">4、<a href="https://myelsa1024.blog.csdn.net/article/details/139555733" rel="nofollow" title="Python魔法之旅">Python魔法之旅</a></h5> 
<h5 id="5%E3%80%81%C2%A0">5、<a href="https://blog.csdn.net/ygb_1024?spm=1010.2135.3001.5421" title="博客个人主页">博客个人主页</a></h5>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ab8d1ca2d01131a180a4229296ee9d95/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Java IO 流：字节流、字符流、接口、实现类与阻塞方法</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a1434dbbbe5f25c5e7daae1b228bd652/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">springboot系列教程（三）：全局异常映射（含源码）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>