<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>香橙派AIpro-携手华为-为AI赋能 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/9dc006e3ea9f48e9a76d8fbaa86c1c4c/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="香橙派AIpro-携手华为-为AI赋能">
  <meta property="og:description" content="文章目录 香橙派AIpro-携手华为-为AI赋能开箱和功能介绍开箱功能介绍 环境搭建镜像烧录进入系统 测试项目YOLOv5部署YOLOv5识别单张图片实时识别视频使用Ascend测试yolov5 产品评价 香橙派AIpro-携手华为-为AI赋能 今天新入手了一款香橙派AIPro，让我们一起跟着文章体验一下不一样的
开箱和功能介绍 开箱 香橙派AIpro包装是比较精致的，一共包含开发板，65W充电器和充电线一根，开发板中有一个32G的内存卡，里面是包含自带的系统。
主板对比，香橙派和我手中现有的AI板 Alinx zynq7000相比，体积更小，且不需要接入外置模块即可使用串口进行通信，整体结构更干净整洁。接通电源之后，香橙派的风扇声音也较小，且正常运行时在我的环境下，感知不到风扇的声音。
功能介绍 OrangePi AIpro(8-12T)采用昇腾AI技术路线，具体为4核64位处理器&#43;AI处理器，集成图形处理器，支持8-12TOPS AI算力，拥有8GB/16GB LPDDR4X，可以外接32GB/64GB/128GB/256GB eMMC模块，支持双4K高清输出。 Orange Pi AIpro引用了相当丰富的接口，包括两个HDMI输出、GPIO接口、Type-C电源接口、支持SATA/NVMe SSD 2280的M.2插槽、TF插槽、千兆网口、两个USB3.0、一个USB Type-C 3.0、一个Micro USB（串口打印调试功能）、两个MIPI摄像头、一个MIPI屏等，预留电池接口，可广泛适用于AI边缘计算、深度视觉学习及视频流AI分析、视频图像分析、自然语言处理、智能小车、机械臂、人工智能、无人机、云计算、AR/VR、智能安防、智能家居等领域，覆盖 AIoT各个行业。 Orange Pi AIpro支持Ubuntu、openEuler操作系统，满足大多数AI算法原型验证、推理应用开发的需求。
硬件规格参数： 硬件参数CPU4核64位处理器&#43; AI处理器GPU集成图形处理器AI算力8-12TOPS算力内存LPDDR4X：8GB/16GB（可选），速率：3200Mbps存储1.SPI FLASH：32MB SATA/NVME SSD 2.（M.2接口2280）
3. eMMC插槽：32GB/64GB/128GB/256GB（可选），eMMC5.1 HS400 4.TF插槽WIFI&#43;蓝牙Wi-Fi 5双频2.4G和5G BT4.2/BLE以太网收发器10/100/1000Mbps以太网显示2xHDMI2.0 Type-A TX 4K@60FPS 1x2 lane MIPI DSI via FPC connector摄像头2x2-lane MIPI CSI camera interface，兼容树莓派摄像头USBUSB 3.0 HOST x2 USB Type-C 3.0 HOST x1 Micro USB x1 串口打印功能音频3.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-07-18T19:41:12+08:00">
    <meta property="article:modified_time" content="2024-07-18T19:41:12+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">香橙派AIpro-携手华为-为AI赋能</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#AIproAI_1" rel="nofollow">香橙派AIpro-携手华为-为AI赋能</a></li><li><ul><li><a href="#_3" rel="nofollow">开箱和功能介绍</a></li><li><ul><li><a href="#_4" rel="nofollow">开箱</a></li><li><a href="#_9" rel="nofollow">功能介绍</a></li></ul> 
   </li><li><a href="#_37" rel="nofollow">环境搭建</a></li><li><ul><li><a href="#_38" rel="nofollow">镜像烧录</a></li><li><a href="#_46" rel="nofollow">进入系统</a></li></ul> 
   </li><li><a href="#YOLOv5_60" rel="nofollow">测试项目YOLOv5</a></li><li><ul><li><a href="#YOLOv5_66" rel="nofollow">部署YOLOv5识别单张图片</a></li><li><a href="#_102" rel="nofollow">实时识别视频</a></li><li><a href="#Ascendyolov5_152" rel="nofollow">使用Ascend测试yolov5</a></li></ul> 
   </li><li><a href="#_197" rel="nofollow">产品评价</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="AIproAI_1"></a>香橙派AIpro-携手华为-为AI赋能</h2> 
<p>今天新入手了一款香橙派AIPro，让我们一起跟着文章体验一下不一样的</p> 
<h3><a id="_3"></a>开箱和功能介绍</h3> 
<h4><a id="_4"></a>开箱</h4> 
<p>香橙派AIpro包装是比较精致的，一共包含开发板，65W充电器和充电线一根，开发板中有一个32G的内存卡，里面是包含自带的系统。<br> <img src="https://images2.imgbox.com/c9/a1/kdRx94XC_o.jpg" alt="在这里插入图片描述"><br> 主板对比，香橙派和我手中现有的AI板 Alinx zynq7000相比，体积更小，且不需要接入外置模块即可使用串口进行通信，整体结构更干净整洁。接通电源之后，香橙派的风扇声音也较小，且正常运行时在我的环境下，感知不到风扇的声音。<br> <img src="https://images2.imgbox.com/1c/1d/gz0OWK1s_o.jpg" alt="在这里插入图片描述"></p> 
<h4><a id="_9"></a>功能介绍</h4> 
<p>OrangePi AIpro(8-12T)采用昇腾AI技术路线，具体为4核64位处理器+AI处理器，集成图形处理器，支持8-12TOPS AI算力，拥有8GB/16GB LPDDR4X，可以外接32GB/64GB/128GB/256GB eMMC模块，支持双4K高清输出。 Orange Pi AIpro引用了相当丰富的接口，包括两个HDMI输出、GPIO接口、Type-C电源接口、支持SATA/NVMe SSD 2280的M.2插槽、TF插槽、千兆网口、两个USB3.0、一个USB Type-C 3.0、一个Micro USB（串口打印调试功能）、两个MIPI摄像头、一个MIPI屏等，预留电池接口，可广泛适用于AI边缘计算、深度视觉学习及视频流AI分析、视频图像分析、自然语言处理、智能小车、机械臂、人工智能、无人机、云计算、AR/VR、智能安防、智能家居等领域，覆盖 AIoT各个行业。 Orange Pi AIpro支持Ubuntu、openEuler操作系统，满足大多数AI算法原型验证、推理应用开发的需求。</p> 
<ul><li>硬件规格参数：</li></ul> 
<table><thead><tr><th>硬件</th><th>参数</th></tr></thead><tbody><tr><td>CPU</td><td>4核64位处理器+ AI处理器</td></tr><tr><td>GPU</td><td>集成图形处理器</td></tr><tr><td>AI算力</td><td>8-12TOPS算力</td></tr><tr><td>内存</td><td>LPDDR4X：8GB/16GB（可选），速率：3200Mbps</td></tr><tr><td>存储</td><td>1.SPI FLASH：32MB SATA/NVME SSD <br> 2.（M.2接口2280）<br> 3. eMMC插槽：32GB/64GB/128GB/256GB（可选），eMMC5.1 HS400 <br>4.TF插槽</td></tr><tr><td>WIFI+蓝牙</td><td>Wi-Fi 5双频2.4G和5G <br> BT4.2/BLE</td></tr><tr><td>以太网收发器</td><td>10/100/1000Mbps以太网</td></tr><tr><td>显示</td><td>2xHDMI2.0 Type-A TX 4K@60FPS <br> 1x2 lane MIPI DSI via FPC connector</td></tr><tr><td>摄像头</td><td>2x2-lane MIPI CSI camera interface，兼容树莓派摄像头</td></tr><tr><td>USB</td><td>USB 3.0 HOST x2 <br> USB Type-C 3.0 HOST x1 <br> Micro USB x1 串口打印功能</td></tr><tr><td>音频</td><td>3.5mm耳机孔音频输入/输出</td></tr><tr><td>按键</td><td>1x关机键、1xRESET键、2x启动方式拨动键、1x烧录按键</td></tr><tr><td>40PIN</td><td>40PIN 功能扩展接口，支持以下接口类型： <br> GPIO、UART、I2C、SPI、 I2S、PWM</td></tr><tr><td>风扇</td><td>风扇接口x1</td></tr><tr><td>预留接口</td><td>2PIN电池接口</td></tr><tr><td>电源</td><td>Type-C PD 20V IN ，标准65W</td></tr><tr><td>支持的操作系统</td><td>Ubuntu、openEuler</td></tr><tr><td>产品尺寸</td><td>107*68mm</td></tr><tr><td>重量</td><td>82g</td></tr></tbody></table> 
<ul><li>产品图<br> <img src="https://images2.imgbox.com/20/d7/YcMFrIWF_o.png" alt="在这里插入图片描述"></li></ul> 
<h3><a id="_37"></a>环境搭建</h3> 
<h4><a id="_38"></a>镜像烧录</h4> 
<p>接下来我们到官网去下载一个镜像，将其烧录到内存卡中，并且等待烧录完成，<br> <strong>注意：</strong> 我使用的是win11操作系统，使用香橙派资料提供的烧录工具烧录一直失败。但是也是可以进系统的。记得要使用管理员方式去启动烧写工具，不然可能即使显示烧写成功，也无法进入系统。<br> <a href="http://www.orangepi.cn/html/hardWare/computerAndMicrocontrollers/service-and-support/Orange-Pi-AIpro.html" rel="nofollow">香橙派资料下载地址</a><br> <a href="https://github.com/balena-io/etcher/releases/tag/v1.19.21">烧录工具下载地址</a><br> <img src="https://images2.imgbox.com/c0/b3/KTLfYqt4_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/d8/c9/Yiu68IME_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_46"></a>进入系统</h4> 
<ul><li> <p>进入系统： 接上电源等待开机之后进入系统，之后输入密码Mind@123即可进入系统，我这里烧录的是香橙派提供的Ubuntu镜像<br> <img src="https://images2.imgbox.com/37/7d/xroY1gQX_o.jpg" alt="在这里插入图片描述"></p> </li><li> <p>配置WIFI模块：使用图形界面连接上WIFI之后查看对应的地址</p> </li></ul> 
<p><img src="https://images2.imgbox.com/de/82/mXEczfQI_o.jpg" alt="在这里插入图片描述"></p> 
<ul><li>查看地址并使用远程ssh连接<br> <img src="https://images2.imgbox.com/40/83/BgC9ekYN_o.jpg" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/91/a3/k4QjHxgB_o.png" alt="在这里插入图片描述"></li><li>下载pycharm: 测试网络模块，并且下载pycharm，可以看到可以正常进行互联网的访问<br> <img src="https://images2.imgbox.com/28/63/NvjzgWyu_o.jpg" alt="在这里插入图片描述"></li><li>打开pycharm：香橙派的Ubuntu环境还是比较全的，可以正常的使用MobaXterm进行远程打开pycharm<br> <img src="https://images2.imgbox.com/7d/e8/i9OPbhTG_o.png" alt="在这里插入图片描述"></li></ul> 
<h3><a id="YOLOv5_60"></a>测试项目YOLOv5</h3> 
<p>香橙派自带的conda的base安装的python环境是3.9.2，我们这里就使用这个环境来测试，如果你想更换的话请使用下面的命令自行更换环境</p> 
<pre><code class="prism language-shell">conda create <span class="token parameter variable">-n</span> name <span class="token assign-left variable">python</span><span class="token operator">=</span>version
</code></pre> 
<h4><a id="YOLOv5_66"></a>部署YOLOv5识别单张图片</h4> 
<ul><li>先到github上去下载<a href="https://github.com/ultralytics/yolov5">yolov5</a></li><li>将下载的zip文件传到香橙派中</li><li>解压</li></ul> 
<pre><code class="prism language-shell"><span class="token function">unzip</span> yolov5-master.zip
<span class="token builtin class-name">cd</span> yolov5-master
</code></pre> 
<ul><li>检查pip位置是否正确</li></ul> 
<pre><code class="prism language-shell"><span class="token function">which</span> pip
<span class="token comment"># (base) HwHiAiUser@orangepiaipro:~/Documents/yolov5-master$ which pip</span>
<span class="token comment"># /usr/local/miniconda3/bin/pip</span>
</code></pre> 
<ul><li>安装对应的库，这里面的错误我们先忽略。经过实验，这两个错误并不会影响运行。</li></ul> 
<pre><code class="prism language-shell">pip3 <span class="token function">install</span> <span class="token parameter variable">-r</span> requirements.txt <span class="token parameter variable">-i</span> https://pypi.tuna.tsinghua.edu.cn/simple/
</code></pre> 
<p><img src="https://images2.imgbox.com/6f/99/St9bYMlS_o.png" alt="在这里插入图片描述"></p> 
<ul><li>识别单张图片 ： 这个里面的yolov5m-seg.pt如果不存在，会自动到github上去下载，但是速度极慢，建议是下载好，然后指定对应路径的pt文件</li></ul> 
<pre><code class="prism language-shell">python segment/predict.py <span class="token parameter variable">--weights</span> yolov5m-seg.pt <span class="token parameter variable">--data</span> data/images/bus.jpg
</code></pre> 
<p><img src="https://images2.imgbox.com/8a/f2/7fMzq1Wh_o.png" alt="在这里插入图片描述"></p> 
<ul><li>观察输出：通过对比识别结果和原始图片，我们会发现YOLOv5模型在识别效率和精度方面表现非常出色。无论是公交车的轮廓还是细节，模型都能够准确地识别并标注出来，显示了其强大的图像处理能力。</li></ul> 
<pre><code class="prism language-shell"><span class="token comment"># Fusing layers...</span>
<span class="token comment"># YOLOv5m-seg summary: 301 layers, 21971597 parameters, 0 gradients, 70.8 GFLOPs</span>
<span class="token comment"># image 1/2 /home/HwHiAiUser/Documents/yolov5-master/data/images/bus.jpg: 640x480 4 persons, 1 bus, 2052.6ms</span>
<span class="token comment"># image 2/2 /home/HwHiAiUser/Documents/yolov5-master/data/images/zidane.jpg: 384x640 2 persons, 1 tie, 1660.7ms</span>
<span class="token comment"># Speed: 4.7ms pre-process, 1856.6ms inference, 13.7ms NMS per image at shape (1, 3, 640, 640)</span>
<span class="token comment"># Results saved to runs/predict-seg/exp3</span>
</code></pre> 
<h4><a id="_102"></a>实时识别视频</h4> 
<ul><li>使用yolo对视频进行实时监测<br> 修改源码detect.py的361行</li></ul> 
<pre><code class="prism language-python">parser <span class="token operator">=</span> argparse<span class="token punctuation">.</span>ArgumentParser<span class="token punctuation">(</span><span class="token punctuation">)</span>
    parser<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">"--weights"</span><span class="token punctuation">,</span> nargs<span class="token operator">=</span><span class="token string">"+"</span><span class="token punctuation">,</span> <span class="token builtin">type</span><span class="token operator">=</span><span class="token builtin">str</span><span class="token punctuation">,</span> default<span class="token operator">=</span>ROOT <span class="token operator">/</span> <span class="token string">"yolov5s.pt"</span><span class="token punctuation">,</span> <span class="token builtin">help</span><span class="token operator">=</span><span class="token string">"model path or triton URL"</span><span class="token punctuation">)</span>
    <span class="token comment"># parser.add_argument("--source", type=str, default=ROOT / "data/images", help="file/dir/URL/glob/screen/0(webcam)")</span>
    parser<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">"--source"</span><span class="token punctuation">,</span> <span class="token builtin">type</span><span class="token operator">=</span><span class="token builtin">str</span><span class="token punctuation">,</span> default<span class="token operator">=</span>ROOT <span class="token operator">/</span> <span class="token string">"data/video"</span><span class="token punctuation">,</span> <span class="token builtin">help</span><span class="token operator">=</span><span class="token string">"file/dir/URL/glob/screen/0(webcam)"</span><span class="token punctuation">)</span>
    parser<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">"--data"</span><span class="token punctuation">,</span> <span class="token builtin">type</span><span class="token operator">=</span><span class="token builtin">str</span><span class="token punctuation">,</span> default<span class="token operator">=</span>ROOT <span class="token operator">/</span> <span class="token string">"data/coco128.yaml"</span><span class="token punctuation">,</span> <span class="token builtin">help</span><span class="token operator">=</span><span class="token string">"(optional) dataset.yaml path"</span><span class="token punctuation">)</span>
    parser<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">"--imgsz"</span><span class="token punctuation">,</span> <span class="token string">"--img"</span><span class="token punctuation">,</span> <span class="token string">"--img-size"</span><span class="token punctuation">,</span> nargs<span class="token operator">=</span><span class="token string">"+"</span><span class="token punctuation">,</span> <span class="token builtin">type</span><span class="token operator">=</span><span class="token builtin">int</span><span class="token punctuation">,</span> default<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">640</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token builtin">help</span><span class="token operator">=</span><span class="token string">"inference size h,w"</span><span class="token punctuation">)</span>
    parser<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">"--conf-thres"</span><span class="token punctuation">,</span> <span class="token builtin">type</span><span class="token operator">=</span><span class="token builtin">float</span><span class="token punctuation">,</span> default<span class="token operator">=</span><span class="token number">0.25</span><span class="token punctuation">,</span> <span class="token builtin">help</span><span class="token operator">=</span><span class="token string">"confidence threshold"</span><span class="token punctuation">)</span>
    parser<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">"--iou-thres"</span><span class="token punctuation">,</span> <span class="token builtin">type</span><span class="token operator">=</span><span class="token builtin">float</span><span class="token punctuation">,</span> default<span class="token operator">=</span><span class="token number">0.45</span><span class="token punctuation">,</span> <span class="token builtin">help</span><span class="token operator">=</span><span class="token string">"NMS IoU threshold"</span><span class="token punctuation">)</span>
    parser<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">"--max-det"</span><span class="token punctuation">,</span> <span class="token builtin">type</span><span class="token operator">=</span><span class="token builtin">int</span><span class="token punctuation">,</span> default<span class="token operator">=</span><span class="token number">1000</span><span class="token punctuation">,</span> <span class="token builtin">help</span><span class="token operator">=</span><span class="token string">"maximum detections per image"</span><span class="token punctuation">)</span>
    parser<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">"--device"</span><span class="token punctuation">,</span> default<span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">,</span> <span class="token builtin">help</span><span class="token operator">=</span><span class="token string">"cuda device, i.e. 0 or 0,1,2,3 or cpu"</span><span class="token punctuation">)</span>
    parser<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">"--view-img"</span><span class="token punctuation">,</span> action<span class="token operator">=</span><span class="token string">"store_true"</span><span class="token punctuation">,</span> <span class="token builtin">help</span><span class="token operator">=</span><span class="token string">"show results"</span><span class="token punctuation">)</span>
    parser<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">"--save-txt"</span><span class="token punctuation">,</span> action<span class="token operator">=</span><span class="token string">"store_true"</span><span class="token punctuation">,</span> <span class="token builtin">help</span><span class="token operator">=</span><span class="token string">"save results to *.txt"</span><span class="token punctuation">)</span>
    parser<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">"--save-csv"</span><span class="token punctuation">,</span> action<span class="token operator">=</span><span class="token string">"store_true"</span><span class="token punctuation">,</span> <span class="token builtin">help</span><span class="token operator">=</span><span class="token string">"save results in CSV format"</span><span class="token punctuation">)</span>
    parser<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">"--save-conf"</span><span class="token punctuation">,</span> action<span class="token operator">=</span><span class="token string">"store_true"</span><span class="token punctuation">,</span> <span class="token builtin">help</span><span class="token operator">=</span><span class="token string">"save confidences in --save-txt labels"</span><span class="token punctuation">)</span>
    parser<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">"--save-crop"</span><span class="token punctuation">,</span> action<span class="token operator">=</span><span class="token string">"store_true"</span><span class="token punctuation">,</span> <span class="token builtin">help</span><span class="token operator">=</span><span class="token string">"save cropped prediction boxes"</span><span class="token punctuation">)</span>
    parser<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">"--nosave"</span><span class="token punctuation">,</span> action<span class="token operator">=</span><span class="token string">"store_true"</span><span class="token punctuation">,</span> <span class="token builtin">help</span><span class="token operator">=</span><span class="token string">"do not save images/videos"</span><span class="token punctuation">)</span>
    parser<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">"--classes"</span><span class="token punctuation">,</span> nargs<span class="token operator">=</span><span class="token string">"+"</span><span class="token punctuation">,</span> <span class="token builtin">type</span><span class="token operator">=</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token builtin">help</span><span class="token operator">=</span><span class="token string">"filter by class: --classes 0, or --classes 0 2 3"</span><span class="token punctuation">)</span>
    parser<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">"--agnostic-nms"</span><span class="token punctuation">,</span> action<span class="token operator">=</span><span class="token string">"store_true"</span><span class="token punctuation">,</span> <span class="token builtin">help</span><span class="token operator">=</span><span class="token string">"class-agnostic NMS"</span><span class="token punctuation">)</span>
    parser<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">"--augment"</span><span class="token punctuation">,</span> action<span class="token operator">=</span><span class="token string">"store_true"</span><span class="token punctuation">,</span> <span class="token builtin">help</span><span class="token operator">=</span><span class="token string">"augmented inference"</span><span class="token punctuation">)</span>
    parser<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">"--visualize"</span><span class="token punctuation">,</span> action<span class="token operator">=</span><span class="token string">"store_true"</span><span class="token punctuation">,</span> <span class="token builtin">help</span><span class="token operator">=</span><span class="token string">"visualize features"</span><span class="token punctuation">)</span>
    parser<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">"--update"</span><span class="token punctuation">,</span> action<span class="token operator">=</span><span class="token string">"store_true"</span><span class="token punctuation">,</span> <span class="token builtin">help</span><span class="token operator">=</span><span class="token string">"update all models"</span><span class="token punctuation">)</span>
    parser<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">"--project"</span><span class="token punctuation">,</span> default<span class="token operator">=</span>ROOT <span class="token operator">/</span> <span class="token string">"runs/detect"</span><span class="token punctuation">,</span> <span class="token builtin">help</span><span class="token operator">=</span><span class="token string">"save results to project/name"</span><span class="token punctuation">)</span>
    parser<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">"--name"</span><span class="token punctuation">,</span> default<span class="token operator">=</span><span class="token string">"exp"</span><span class="token punctuation">,</span> <span class="token builtin">help</span><span class="token operator">=</span><span class="token string">"save results to project/name"</span><span class="token punctuation">)</span>
    parser<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">"--exist-ok"</span><span class="token punctuation">,</span> action<span class="token operator">=</span><span class="token string">"store_true"</span><span class="token punctuation">,</span> <span class="token builtin">help</span><span class="token operator">=</span><span class="token string">"existing project/name ok, do not increment"</span><span class="token punctuation">)</span>
    parser<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">"--line-thickness"</span><span class="token punctuation">,</span> default<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token builtin">type</span><span class="token operator">=</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token builtin">help</span><span class="token operator">=</span><span class="token string">"bounding box thickness (pixels)"</span><span class="token punctuation">)</span>
    parser<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">"--hide-labels"</span><span class="token punctuation">,</span> default<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> action<span class="token operator">=</span><span class="token string">"store_true"</span><span class="token punctuation">,</span> <span class="token builtin">help</span><span class="token operator">=</span><span class="token string">"hide labels"</span><span class="token punctuation">)</span>
    parser<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">"--hide-conf"</span><span class="token punctuation">,</span> default<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> action<span class="token operator">=</span><span class="token string">"store_true"</span><span class="token punctuation">,</span> <span class="token builtin">help</span><span class="token operator">=</span><span class="token string">"hide confidences"</span><span class="token punctuation">)</span>
    parser<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">"--half"</span><span class="token punctuation">,</span> action<span class="token operator">=</span><span class="token string">"store_true"</span><span class="token punctuation">,</span> <span class="token builtin">help</span><span class="token operator">=</span><span class="token string">"use FP16 half-precision inference"</span><span class="token punctuation">)</span>
    parser<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">"--dnn"</span><span class="token punctuation">,</span> action<span class="token operator">=</span><span class="token string">"store_true"</span><span class="token punctuation">,</span> <span class="token builtin">help</span><span class="token operator">=</span><span class="token string">"use OpenCV DNN for ONNX inference"</span><span class="token punctuation">)</span>
    parser<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">"--vid-stride"</span><span class="token punctuation">,</span> <span class="token builtin">type</span><span class="token operator">=</span><span class="token builtin">int</span><span class="token punctuation">,</span> default<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token builtin">help</span><span class="token operator">=</span><span class="token string">"video frame-rate stride"</span><span class="token punctuation">)</span>
    opt <span class="token operator">=</span> parser<span class="token punctuation">.</span>parse_args<span class="token punctuation">(</span><span class="token punctuation">)</span>
    opt<span class="token punctuation">.</span>imgsz <span class="token operator">*=</span> <span class="token number">2</span> <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>opt<span class="token punctuation">.</span>imgsz<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span> <span class="token keyword">else</span> <span class="token number">1</span>  <span class="token comment"># expand</span>
    print_args<span class="token punctuation">(</span><span class="token builtin">vars</span><span class="token punctuation">(</span>opt<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> opt
</code></pre> 
<ul><li>执行下面的命令：等待完成</li></ul> 
<pre><code class="prism language-shell">python segment/predict.py <span class="token parameter variable">--weights</span> ~/Documents/yolov5m-seg.pt <span class="token parameter variable">--source</span> ~/Downloads/test.mp4
</code></pre> 
<p><img src="https://images2.imgbox.com/0e/b0/MrhBUcYb_o.png" alt="在这里插入图片描述"></p> 
<p></p> 
<div class="csdn-video-box"> 
 <iframe id="Gfs9ZZxw-1721292011028" frameborder="0" src="https://live.csdn.net/v/embed/410501" allowfullscreen="true" data-mediaembed="csdn"></iframe> 
 <p>YoloV5测试视频</p> 
</div> 
<p></p> 
<h4><a id="Ascendyolov5_152"></a>使用Ascend测试yolov5</h4> 
<p><a href="https://gitee.com/ascend/EdgeAndRobotics/repository/archive/master.zip" rel="nofollow">测试项目下载地址</a></p> 
<pre><code class="prism language-shell"><span class="token comment"># 配置程序编译依赖的头文件与库文件路径</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">DDK_PATH</span><span class="token operator">=</span>/usr/local/Ascend/ascend-toolkit/latest 
<span class="token builtin class-name">export</span> <span class="token assign-left variable">NPU_HOST_LIB</span><span class="token operator">=</span><span class="token variable">$DDK_PATH</span>/runtime/lib64/stub
<span class="token comment"># 安装对应的库</span>
<span class="token function">apt-get</span> <span class="token function">install</span> ffmpeg libavcodec-dev libswscale-dev libavdevice-dev
<span class="token comment"># 安装ACLLite</span>
<span class="token comment"># 拉取ACLLite仓库，并进入目录</span>
<span class="token function">git</span> clone https://gitee.com/ascend/ACLLite.git
<span class="token builtin class-name">cd</span> ACLLite
<span class="token comment"># 设置环境变量，其中DDK_PATH中/usr/local请替换为实际CANN包的安装路径</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">DDK_PATH</span><span class="token operator">=</span>/usr/local/Ascend/ascend-toolkit/latest
<span class="token builtin class-name">export</span> <span class="token assign-left variable">NPU_HOST_LIB</span><span class="token operator">=</span><span class="token variable">$DDK_PATH</span>/runtime/lib64/stub
<span class="token comment"># 安装，编译过程中会将库文件安装到/lib目录下，所以会有sudo命令，需要输入密码</span>
<span class="token function">bash</span> build_so.sh
<span class="token comment"># 解压之后进入yolo文件夹</span>
<span class="token builtin class-name">cd</span> EdgeAndRobotics/Samples/YOLOV5MultiInput
<span class="token builtin class-name">export</span> <span class="token assign-left variable">TE_PARALLEL_COMPILER</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">MAX_COMPILE_CORE_NUMBER</span><span class="token operator">=</span><span class="token number">1</span>

<span class="token comment"># 下载并且转换相关的模型</span>
<span class="token builtin class-name">cd</span> model
<span class="token function">wget</span> https://obs-9be7.obs.cn-east-2.myhuaweicloud.com/003_Atc_Models/yolov5s/yolov5s_nms.onnx --no-check-certificate
<span class="token function">wget</span> https://obs-9be7.obs.cn-east-2.myhuaweicloud.com/003_Atc_Models/yolov5s/aipp.cfg --no-check-certificate
atc <span class="token parameter variable">--model</span><span class="token operator">=</span>yolov5s_nms.onnx <span class="token parameter variable">--framework</span><span class="token operator">=</span><span class="token number">5</span> <span class="token parameter variable">--output</span><span class="token operator">=</span>yolov5s_nms <span class="token parameter variable">--input_shape</span><span class="token operator">=</span><span class="token string">"images:1,3,640,640;img_info:1,4"</span>  <span class="token parameter variable">--soc_version</span><span class="token operator">=</span>Ascend310B4 <span class="token parameter variable">--insert_op_conf</span><span class="token operator">=</span>aipp.cfg
<span class="token comment"># 准备测试视频</span>
<span class="token builtin class-name">cd</span> <span class="token punctuation">..</span>/data 
<span class="token function">wget</span> https://obs-9be7.obs.cn-east-2.myhuaweicloud.com/003_Atc_Models/yolov5s/test.mp4 --no-check-certificate
<span class="token comment"># 编译样例源码</span>
<span class="token builtin class-name">cd</span> <span class="token punctuation">..</span>/scripts 
<span class="token function">bash</span> sample_build.sh

<span class="token comment"># 在HDMI连接屏幕场景，执行以下脚本运行样例。此时会以画面的形式呈现推理效果。</span>
<span class="token function">bash</span> sample_run.sh imshow
<span class="token comment"># 在直连电脑场景，执行以下脚本运行样例。此时会以结果打屏的形式呈现推理效果。</span>
<span class="token function">bash</span> sample_run.sh stdout
</code></pre> 
<ul><li>模型转换结果<br> <img src="https://images2.imgbox.com/69/bf/pdj13fx7_o.png" alt="在这里插入图片描述"></li><li>模型输出结果<br> <img src="https://images2.imgbox.com/5a/bd/tMuF1IvR_o.png" alt="在这里插入图片描述"></li></ul> 
<h3><a id="_197"></a>产品评价</h3> 
<p>香橙派AiPro是一款功能强大的AI开发板</p> 
<ul><li>性能强劲：香橙派AiPro采用了昇腾AI技术路线，配备了4核64位处理器+AI处理器，并集成了图形处理器。它支持高达8TOPS的AI算力，并拥有8GB/16GB LPDDR4X内存，可以外接多种容量的eMMC模块12。这些配置使得香橙派AiPro在AI算法原型验证、推理应用开发等方面表现出色。</li><li>丰富的接口和拓展性：香橙派AiPro配备了相当丰富的接口，包括两个HDMI输出、GPIO接口、Type-C电源接口、支持SATA/NVMe SSD 2280的M.2插槽、TF插槽、千兆网口、USB接口等，还预留了电池接口。这些接口赋予了香橙派AiPro强大的可拓展性，使其能够适应多种应用场景。</li><li>支持多种操作系统：香橙派AiPro支持Ubuntu、openEuler等操作系统，这为用户提供了更多的选择空间，同时也方便了用户根据自己的需求进行开发和部署。</li><li>使用体验：香橙派AiPro的包装盒精致小巧，官方提供了完整的配件，包括开发板、适配器和充电器等。开发板上的静音风扇效果良好，开机时噪音短暂，之后几乎无声。WIFI和蓝牙的天线扣设计位置也相对方便。在实际使用中，用户可以通过HDMI接口连接开发板显示，也可以通过SSH等方式远程连接。</li></ul> 
<p>综上所述，香橙派AiPro是一款性能强劲、接口丰富、拓展性强、支持多种操作系统的AI开发板。如果你正在寻找一款功能强大的AI开发板，香橙派AiPro是一个不错的选择。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/92d4908977a57827b5bf0c7e6b80e93a/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">谷粒商城-全文检索-ElasticSearch</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/ad5ffc9f7173e7e47846fdd19e9b2b4c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【Spring全家桶系列之核心篇 | Spring Cloud】 - 第七章 掌握Gateway核心技术，实现高效路由与转发</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>