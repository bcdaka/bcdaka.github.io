<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Docker 简介 - 编程大咖</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcdaka.github.io/posts/dd07674c0b513dfa886ad0811410415e/">
  <meta property="og:site_name" content="编程大咖">
  <meta property="og:title" content="Docker 简介">
  <meta property="og:description" content="学习 Docker 之前，先了解 Docker 为什么出现，解决了什么痛点；然后简单介绍 Docker 是什么。
‍
在 Docker 出现之前 假如你在自己的笔记本上，开发一个商城项目，那么开发环境就是你自己的笔记本，并且该开发环境具有特定的配置；而其他同事也有自己的本地开发环境，并且配置一般是互不相同的（比如使用的 IDE 不同，项目位置不同，端口号和数据库连接信息不同… 等等）
除此之外，在测试环境和生产环境中，配置也是不同的，那么在部署过程中，经常会出现版本和配置问题（俗称环境问题）。
为了解决环境问题，容器技术出现了（例如 Docker）。Docker 之所以发展如此迅速，也是因为它对此给出了一个标准化的解决方案-----系统平滑移植，容器虚拟化技术。
环境配置是相当麻烦的，例如安装 Java，Tomcat、Nginx 等；换一台机器，又要重新安装一遍，费力费时。那能不能从根本上解决问题：软件可以带环境安装？也就是说，安装的时候，把原始环境一模一样地复制过来。开发人员利用 Docker 可以消除协作编码时“在我的机器上可正常工作，在其他机器上不行”的问题。
除此之外，还能解决扩容和缩容的问题：想要增加一台服务器，那么只需在上面用 Docker 复制一份开发环境即可，非常方便。
Docker 还能解决跨平台的问题，比如一个项目是在 Windows 下开发的，那么使用 Docker，项目也能在 Linux 和 Mac OS 下运行。
Docker 的出现使得过去「程序即应用」的观念被打破。透过镜像（images）将项目，运行项目所需要的系统环境等信息，由下而上打包，达到应用程式跨平台间的无缝接轨运作。
镜像就好比一个打包好的环境，里面包含了源代码 &#43; 配置 &#43; 环境 &#43; 版本。
比如，使用虚拟机安装 Centos 的时候，就用到了 Centos 镜像，直接安装该镜像，安装好后就可以获得一个 Centos 服务器。
‍
注意，容器技术的出现，使得开发也要慢慢的兼顾运维的一些工作。
‍
Docker 是什么 Docker 是基于 Go 语言实现的云开源项目。
Docker 的主要目标是“Build, Ship and Run Any App, Anywhere”，也就是通过对应用组件的封装、分发、部署、运行等生命周期的管理，使用户的 APP（可以是一个 WEB 应用或数据库应用等等）及其运行环境能够做到“一次镜像，处处运行”。">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-09-03T10:46:27+08:00">
    <meta property="article:modified_time" content="2024-09-03T10:46:27+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大咖" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大咖</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Docker 简介</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>学习 Docker 之前，先了解 Docker 为什么出现，解决了什么痛点；然后简单介绍 Docker 是什么。</p> 
<p>‍</p> 
<h3><a id="_Docker__4"></a>在 Docker 出现之前</h3> 
<p>假如你在自己的笔记本上，开发一个商城项目，那么开发环境就是你自己的笔记本，并且该开发环境具有特定的配置；而其他同事也有自己的本地开发环境，并且配置一般是互不相同的（比如使用的 IDE 不同，项目位置不同，端口号和数据库连接信息不同… 等等）</p> 
<p>除此之外，在测试环境和生产环境中，配置也是不同的，那么在部署过程中，经常会出现版本和配置问题（俗称环境问题）。</p> 
<p>为了解决环境问题，容器技术出现了（例如 Docker）。Docker 之所以发展如此迅速，也是因为它对此给出了一个标准化的解决方案-----系统平滑移植，容器虚拟化技术。</p> 
<p>环境配置是相当麻烦的，例如安装 Java，Tomcat、Nginx 等；换一台机器，又要重新安装一遍，费力费时。那能不能从根本上解决问题：<strong>软件可以带环境安装</strong>？也就是说，安装的时候，把原始环境一模一样地复制过来。开发人员利用 Docker 可以消除协作编码时“在我的机器上可正常工作，在其他机器上不行”的问题。</p> 
<p>除此之外，还能解决扩容和缩容的问题：想要增加一台服务器，那么只需在上面用 Docker 复制一份开发环境即可，非常方便。</p> 
<p>Docker 还能解决跨平台的问题，比如一个项目是在 Windows 下开发的，那么使用 Docker，项目也能在 Linux 和 Mac OS 下运行。</p> 
<p>Docker 的出现使得过去「程序即应用」的观念被打破。透过镜像（images）将项目，运行项目所需要的系统环境等信息，由下而上打包，达到应用程式跨平台间的无缝接轨运作。</p> 
<blockquote> 
 <p>镜像就好比一个打包好的环境，里面包含了源代码 + 配置 + 环境 + 版本。</p> 
 <p>比如，使用虚拟机安装 Centos 的时候，就用到了 Centos 镜像，直接安装该镜像，安装好后就可以获得一个 Centos 服务器。</p> 
</blockquote> 
<p>‍</p> 
<p>注意，容器技术的出现，使得开发也要慢慢的兼顾运维的一些工作。</p> 
<p>‍</p> 
<h3><a id="Docker__30"></a>Docker 是什么</h3> 
<p>Docker 是基于 Go 语言实现的云开源项目。</p> 
<p>Docker 的主要目标是“Build, Ship and Run Any App, Anywhere”，也就是通过对应用组件的封装、分发、部署、运行等生命周期的管理，使用户的 APP（可以是一个 WEB 应用或数据库应用等等）及其运行环境能够做到“一次镜像，处处运行”。</p> 
<p><img src="https://images2.imgbox.com/3f/c6/VoGia5hx_o.png" alt="">​</p> 
<p>Docker 是在 Linux 容器技术基础上发展过来的。将应用打成镜像，通过镜像成为运行在 Docker 容器上面的实例，而 Docker 容器在任何操作系统上都是一致的，这就实现了跨平台、跨服务器。只需要一次配置好环境，换到别的机子上就可以一键部署好，大大简化了操作。</p> 
<p>一句话：Docker 是解决了运行环境和配置问题的软件容器，方便做持续集成并有助于整体发布的容器虚拟化技术。</p> 
<p>Docker 的图标是一个鲸鱼，上面有很多的集装箱。Docker 借鉴了标准集装箱的概念，标准集装箱将货物运往世界各地，Docker 将这个模型运用到自己的设计中，唯一不同的是：集装箱运输货物，而 Docker 运输软件</p> 
<p><img src="https://images2.imgbox.com/f4/89/SX9vOxNU_o.png" alt="">​</p> 
<p>‍</p> 
<p>‍</p> 
<h3><a id="_54"></a>容器与虚拟机比较</h3> 
<p>‍</p> 
<h4><a id="_58"></a>传统虚拟机技术</h4> 
<p>虚拟机（virtual machine）也是带环境安装的一种解决方案。</p> 
<p>它可以在一种操作系统里面运行另一种操作系统，比如在 Windows10 系统里面运行 Linux 系统 CentOS。应用程序对此毫无感知，因为虚拟机看上去跟真实系统一模一样，而对于底层系统来说，虚拟机就是一个普通文件，不需要了就删掉，对其他部分毫无影响。这类虚拟机完美的运行了另一套系统，能够使应用程序，操作系统和硬件三者之间的逻辑不变。</p> 
<p>传统虚拟机技术基于安装在主操作系统上的虚拟机管理系统（如：VirtualBox 和 VMWare 等），创建虚拟机（虚拟出<strong>各种硬件</strong>），在虚拟机上安装从操作系统，在从操作系统中安装部署各种应用。示意图：</p> 
<p><img src="https://images2.imgbox.com/67/c1/0stRxDZL_o.png" alt="">​</p> 
<p>‍</p> 
<p>由于模拟出了硬件以及操作系统，传统虚拟机技术有如下缺点：</p> 
<ol><li>资源占用多</li><li>冗余步骤多</li><li>启动慢</li></ol> 
<p>对于开发人员来说，重点是复制应用，而不是模拟各种硬件和操作系统。</p> 
<p>‍</p> 
<p>‍</p> 
<p>‍</p> 
<h4><a id="_84"></a>容器虚拟化技术</h4> 
<p>由于前面虚拟机存在某些缺点，Linux 发展出了另一种虚拟化技术：Linux 容器（Linux Containers，缩写为 LXC）。</p> 
<p>Linux 容器是与系统其他部分隔离开的一系列进程，从另一个镜像运行，并由该镜像提供支持进程所需的全部文件。容器提供的镜像包含了应用的所有依赖项，因而在从开发到测试再到生产的整个过程中，它都具有可移植性和一致性。</p> 
<p>Linux 容器不是模拟一个完整的操作系统，而是对进程进行隔离。有了容器，就可以将软件运行所需的所有资源打包到一个隔离的容器中。容器与虚拟机不同，不需要捆绑一整套操作系统，只需要软件工作所需的库资源和设置。系统因此而变得高效轻量，并保证部署在任何环境中的软件都能始终如一地运行。示意图：</p> 
<p><img src="https://images2.imgbox.com/24/41/deNQKoaP_o.png" alt="">​</p> 
<p>‍</p> 
<p>‍</p> 
<h4><a id="_98"></a>对比</h4> 
<ul><li>传统虚拟机技术在硬件层面实现虚拟化。虚拟出一套硬件后，在其上运行一个完整操作系统，在该系统上再运行所需应用进程；</li><li>容器虚拟化技术：在操作系统层面上实现虚拟化，直接复用本地主机的操作系统。容器内的应用进程直接运行于宿主的内核，容器内没有自己的内核且也没有进行硬件虚拟。因此容器要比传统虚拟机更为轻便，启动速度快，占用体积小。</li><li>每个容器之间互相隔离，每个容器有自己的文件系统，容器之间进程不会相互影响，能区分计算资源。</li></ul> 
<p>‍</p> 
<p>总结下为什么 Docker 会比 VM 虚拟机快：</p> 
<p>（1）Docker 有着比虚拟机更少的抽象层：Docker 不需要 Hypervisor（虚拟机）实现硬件资源虚拟化，运行在 Docker 容器上的程序直接使用的都是实际物理机的硬件资源。因此在 CPU、内存利用率上 Docker 将会在效率上有明显优势。</p> 
<p>（2）Docker 利用的是宿主机的内核，而不需要加载操作系统 OS 内核</p> 
<p>当新建一个容器时，Docker 不需要和虚拟机一样重新加载一个操作系统内核，进而避免引寻、加载操作系统内核返回等比较费时费资源的过程。当新建一个虚拟机时，虚拟机软件需要加载 OS，过程是分钟级别的。而 Docker 由于直接利用宿主机的操作系统，省略了加载 OS 过程，因此新建一个 Docker 容器只需要几秒钟。</p> 
<p><img src="https://images2.imgbox.com/46/dd/bKe46a0C_o.png" alt="">​</p> 
<p>‍</p> 
<table><thead><tr><th></th><th>Docker 容器</th><th>虚拟机（VM）</th></tr></thead><tbody><tr><td>操作系统</td><td>与宿主机共享 OS</td><td>宿主机 OS 上运行虚拟机 OS</td></tr><tr><td>存储大小</td><td>镜像小，便于存储与传输</td><td>镜像庞大（vmdk，vdi 等）</td></tr><tr><td>运行性能</td><td>几乎无额外性能损失</td><td>操作系统额外的 CPU、内存消耗</td></tr><tr><td>移植性</td><td>轻便，灵活，适应于 Linux</td><td>笨重，与虚拟化技术耦合度高</td></tr><tr><td>硬件亲和性</td><td>面向软件开发者</td><td>面向硬件运维者</td></tr><tr><td>部署速度</td><td>快速，秒级</td><td>较慢，分钟级</td></tr></tbody></table> 
<p>‍</p> 
<h3><a id="_Docker__131"></a>使用 Docker 的好处</h3> 
<p>这里做个小结：</p> 
<ul><li>更快速的应用交付和部署：传统的应用开发完成后，需提供一堆安装程序和配置说明文档，安装部署后需根据配置文档进行繁杂的配置才能正常运行。Docker 化之后只需要交付少量容器镜像文件，在正式生产环境加载镜像并运行即可，应用安装配置在镜像里已经内置好，大大节省部署配置和测试验证时间</li><li>更便捷的升级和扩缩容：随着微服务架构和 Docker 的发展，大量的应用会通过微服务方式架构，应用的开发构建将变成搭乐高积木一样，每个 Docker 容器将变成一块“积木”，应用的升级将变得非常容易。当现有的容器不足以支撑业务处理时，可通过镜像运行新的容器进行快速扩容，使应用系统的扩容从原先的天级变成分钟级甚至秒级。</li><li>更简单的系统运维：应用容器化运行后，生产环境运行的应用可与开发、测试环境的应用高度一致，容器会将应用程序相关的环境和状态完全封装起来，不会因为底层基础架构和操作系统的不一致性给应用带来影响，产生新的 BUG。当出现程序异常时，也可以通过测试环境的相同容器进行快速定位和修复</li><li>更高效的计算资源利用：Docker 是内核级虚拟化，不像传统的虚拟化技术一样需要额外的 Hypervisor 支持，所以在一台物理机上可以运行很多个容器实例，可大大提升物理服务器的 CPU 和内存的利用率（也变相节约了服务器，省钱）。</li></ul> 
<p>‍</p> 
<h3><a id="_142"></a>哪些企业在用</h3> 
<p>Docker 是世界级流行的，国内也有很多大厂在用。</p> 
<p>新浪微博：</p> 
<p><img src="https://images2.imgbox.com/21/76/tcCScMJO_o.png" alt="">​</p> 
<p>‍</p> 
<p>‍</p> 
<p>美团：</p> 
<p><img src="https://images2.imgbox.com/67/96/1hVgCktp_o.png" alt="">​</p> 
<p>‍</p> 
<p>‍</p> 
<h3><a id="_162"></a>最后</h3> 
<p>讲了不少基本理论，可能稍微有点枯燥；对于理论，读者们理解为主，不要求死记硬背。</p> 
<p>下一篇就开始讲实战了，先从安装开始。</p> 
<p>‍</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/41144f230563c00685d734168f950f7f/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">使用openhtmltopdf 工具进行转PDF</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/1271bef2e38b133a0251089ee968b0b0/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">将python项目打包成一个可执行文件（包含需要的资源文件）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大咖.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>